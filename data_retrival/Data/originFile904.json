{"items":[{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1551263770,"post_id":54903326,"comment_id":96573988,"body_markdown":"What exactly do you mean with &quot;efficiency&quot;? Any method, whether you explicitly use a loop yourself or not, is likely to implement this using a loop. There&#39;s no magic way to initialize an array without some sort of loop. It&#39;s better to write clear and easy to understand code than to use tricks that you *think* are more efficient, without having *proof* that it somehow improves your program.","body":"What exactly do you mean with &quot;efficiency&quot;? Any method, whether you explicitly use a loop yourself or not, is likely to implement this using a loop. There&#39;s no magic way to initialize an array without some sort of loop. It&#39;s better to write clear and easy to understand code than to use tricks that you <i>think</i> are more efficient, without having <i>proof</i> that it somehow improves your program."},{"owner":{"account_id":12948872,"reputation":212,"user_id":9860054,"display_name":"scd"},"score":0,"creation_date":1551264030,"post_id":54903326,"comment_id":96574152,"body_markdown":"I agree but It may be possible not to generate the array elements until they are needed, although internally the program is aware of the elements it contains.","body":"I agree but It may be possible not to generate the array elements until they are needed, although internally the program is aware of the elements it contains."}],"answers":[{"tags":[],"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1551263670,"creation_date":1551263670,"answer_id":54903429,"question_id":54903326,"body_markdown":"The `ArrayList` is backed by an array. If you want to fill it with ascending values, you won&#39;t get any quicker than just iterating over those values and adding them to the list.\r\n\r\nThe only thing I&#39;d change in your example is initialize the array with the already known size, so that it wouldn&#39;t spend time and memory on expansion of the underlying array:\r\n\r\n```java\r\nArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;(x);\r\nfor(int i = 0; i &lt; x; i++){\r\n    numbers.add(i);\r\n}\r\n```","title":"Initialize ArrayList with a range of integer values avoiding loops","body":"<p>The <code>ArrayList</code> is backed by an array. If you want to fill it with ascending values, you won't get any quicker than just iterating over those values and adding them to the list.</p>\n\n<p>The only thing I'd change in your example is initialize the array with the already known size, so that it wouldn't spend time and memory on expansion of the underlying array:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;(x);\nfor(int i = 0; i &lt; x; i++){\n    numbers.add(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551264412,"creation_date":1551264412,"answer_id":54903678,"question_id":54903326,"body_markdown":"If you want to have an object that looks like a `List&lt;Integer&gt;` that contains numbers from 0 up to N without actually storing those numbers, then you can implement your own list, for example like this:\r\n\r\n    import java.util.AbstractList;\r\n\r\n    public class RangeList extends AbstractList&lt;Integer&gt; {\r\n        private final int size;\r\n    \r\n        public RangeList(int size) {\r\n            this.size = size;\r\n        }\r\n    \r\n        @Override\r\n        public Integer get(int index) {\r\n            return index;\r\n        }\r\n    \r\n        @Override\r\n        public int size() {\r\n            return size;\r\n        }\r\n    }\r\n\r\nYou can create an instance of it like this:\r\n\r\n    List&lt;Integer&gt; numbers = new RangeList(10);\r\n\r\nIt behaves just like a standard `ArrayList&lt;Integer&gt;` containing the values 0 to 9, but you cannot modify the list (adding, removing, modifying entries will lead to an `UnsupportedOperationException`).","title":"Initialize ArrayList with a range of integer values avoiding loops","body":"<p>If you want to have an object that looks like a <code>List&lt;Integer&gt;</code> that contains numbers from 0 up to N without actually storing those numbers, then you can implement your own list, for example like this:</p>\n\n<pre><code>import java.util.AbstractList;\n\npublic class RangeList extends AbstractList&lt;Integer&gt; {\n    private final int size;\n\n    public RangeList(int size) {\n        this.size = size;\n    }\n\n    @Override\n    public Integer get(int index) {\n        return index;\n    }\n\n    @Override\n    public int size() {\n        return size;\n    }\n}\n</code></pre>\n\n<p>You can create an instance of it like this:</p>\n\n<pre><code>List&lt;Integer&gt; numbers = new RangeList(10);\n</code></pre>\n\n<p>It behaves just like a standard <code>ArrayList&lt;Integer&gt;</code> containing the values 0 to 9, but you cannot modify the list (adding, removing, modifying entries will lead to an <code>UnsupportedOperationException</code>).</p>\n"},{"tags":[],"owner":{"account_id":10164332,"reputation":399,"user_id":11119684,"display_name":"Bas van der Linden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551265496,"creation_date":1551265496,"answer_id":54904021,"question_id":54903326,"body_markdown":"No matter how you decide to fill the ArrayList you will have to loop over or use each value that is stored into the ArrayList one by one. There is no faster way then iterating over each value and adding it to the ArrayList, only ways that make it look cleaner.\r\n\r\nCreating a function that does so, or a an extension of the ArrayList object are two ways of doing so.\r\n\r\n    private ArrayList&lt;Integer&gt; fillRange(int min, int max){\r\n        ArrayList&lt;Integer&gt; a_lst = new ArrayList&lt;&gt;();\r\n        for(int i = min; i &lt; max; i++){\r\n            a_lst.add(i);\r\n        }\r\n        return a_lst;\r\n    }","title":"Initialize ArrayList with a range of integer values avoiding loops","body":"<p>No matter how you decide to fill the ArrayList you will have to loop over or use each value that is stored into the ArrayList one by one. There is no faster way then iterating over each value and adding it to the ArrayList, only ways that make it look cleaner.</p>\n\n<p>Creating a function that does so, or a an extension of the ArrayList object are two ways of doing so.</p>\n\n<pre><code>private ArrayList&lt;Integer&gt; fillRange(int min, int max){\n    ArrayList&lt;Integer&gt; a_lst = new ArrayList&lt;&gt;();\n    for(int i = min; i &lt; max; i++){\n        a_lst.add(i);\n    }\n    return a_lst;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26809528,"reputation":31,"user_id":20400349,"display_name":"ALEJANDRO HINCAPIE PULGARIN"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667765090,"creation_date":1667411039,"answer_id":74293568,"question_id":54903326,"body_markdown":"```\r\nList&lt;Integer&gt; range100 = IntStream.range(0,100).boxed().collect(Collectors.toList());\r\n```","title":"Initialize ArrayList with a range of integer values avoiding loops","body":"<pre><code>List&lt;Integer&gt; range100 = IntStream.range(0,100).boxed().collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":12948872,"reputation":212,"user_id":9860054,"display_name":"scd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8180,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1667765090,"creation_date":1551263367,"question_id":54903326,"body_markdown":"I would like to initialize an ArrayList with a range of integer values. \r\nThis is what I want to avoid: \r\n\r\n    ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n    for(int i = 0; i &lt; x; i++){\r\n        numbers.add(i);\r\n    }\r\n\r\nI found rangeClosed function for IntStream: \r\n\r\n    IntStream.rangeClosed(0, instance.getNumVertices()-1);\r\n\r\nBut I think that the conversiont to ArrayList won&#39;t be worth it. \r\n\r\nI&#39;m looking for efficiency... ","title":"Initialize ArrayList with a range of integer values avoiding loops","body":"<p>I would like to initialize an ArrayList with a range of integer values. \nThis is what I want to avoid: </p>\n\n<pre><code>ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; x; i++){\n    numbers.add(i);\n}\n</code></pre>\n\n<p>I found rangeClosed function for IntStream: </p>\n\n<pre><code>IntStream.rangeClosed(0, instance.getNumVertices()-1);\n</code></pre>\n\n<p>But I think that the conversiont to ArrayList won't be worth it. </p>\n\n<p>I'm looking for efficiency... </p>\n"},{"tags":["java","groovy","micronaut","micronaut-client","micronaut-rest"],"comments":[{"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"score":0,"creation_date":1667764408,"post_id":74305270,"comment_id":131239629,"body_markdown":"I think it&#39;s relevant to note that I&#39;m using the Netty server, as after running the tests in a debugger, the only place where my `isExceptionOnErrorStatus()` is called during the exwecution, is when checking if the body type should be converted. So my COnfiguration class is properly used and the property is properly reported, but the code just does not do what the propery is promising...","body":"I think it&#39;s relevant to note that I&#39;m using the Netty server, as after running the tests in a debugger, the only place where my <code>isExceptionOnErrorStatus()</code> is called during the exwecution, is when checking if the body type should be converted. So my COnfiguration class is properly used and the property is properly reported, but the code just does not do what the propery is promising..."}],"answers":[{"tags":[],"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667765046,"creation_date":1667765046,"answer_id":74339331,"question_id":74305270,"body_markdown":"It looks like the Configuration class is used, the method `isExceptionOnErrorStatus()` is called, but it is not interpreted as I thought it would.\r\n\r\nConclusion, when you are using a Declarative client and want to test the response when the status&gt;400, make your interface return a `HttpResponse&lt;X&gt;`.\r\n\r\n```groovy\r\n    @Get(&quot;/author/{id}&quot;)\r\n    HttpResponse&lt;AuthorResource&gt; getAuthor(Long id, @Header(name = &quot;Authorization&quot;) String authorization)\r\n```\r\n\r\nThe behaviour is different from the low-level client, which throws an exception.\r\n\r\nModify your Test:\r\n\r\n```groovy\r\n        def response = api.getAuthor(badId, bearerAuth(token))\r\n        response.status == NOT_FOUND\r\n        response.getBody(ErrorResponse).map {\r\n            assert it.message == &quot;Author with id ${badId} not found.&quot;\r\n            it\r\n        }.isPresent()\r\n```","title":"exceptionOnErrorStatus in ClientConfiguration of Declarative Client not being applied in Micronaut version 3.7.3","body":"<p>It looks like the Configuration class is used, the method <code>isExceptionOnErrorStatus()</code> is called, but it is not interpreted as I thought it would.</p>\n<p>Conclusion, when you are using a Declarative client and want to test the response when the status&gt;400, make your interface return a <code>HttpResponse&lt;X&gt;</code>.</p>\n<pre><code>    @Get(&quot;/author/{id}&quot;)\n    HttpResponse&lt;AuthorResource&gt; getAuthor(Long id, @Header(name = &quot;Authorization&quot;) String authorization)\n</code></pre>\n<p>The behaviour is different from the low-level client, which throws an exception.</p>\n<p>Modify your Test:</p>\n<pre><code>        def response = api.getAuthor(badId, bearerAuth(token))\n        response.status == NOT_FOUND\n        response.getBody(ErrorResponse).map {\n            assert it.message == &quot;Author with id ${badId} not found.&quot;\n            it\n        }.isPresent()\n</code></pre>\n"}],"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74339331,"answer_count":1,"score":1,"last_activity_date":1667765046,"creation_date":1667487987,"question_id":74305270,"body_markdown":"I have provided a configuration class to my Declarative `HttpClient`, to force throwing an exception on error (status&gt;400), or maybe I misunderstood the `exceptionOnErrorStatus` configuration option.\r\n\r\n```groovy\r\n@Client(value = &quot;/&quot;, configuration = ApiClientConfiguration)\r\ninterface Api {\r\n    @Get(&quot;/author/{id}&quot;)\r\n    AuthorResource getAuthor(Long id, @Header(name=&quot;Authorization&quot;) String authorization)\r\n}\r\n```\r\n\r\nHere&#39;s the configuration class\r\n\r\n```groovy\r\n@ConfigurationProperties(&quot;httpclient.api&quot;)\r\nclass ApiClientConfiguration extends DefaultHttpClientConfiguration {\r\n    @Override\r\n    boolean isExceptionOnErrorStatus() {\r\n        return true\r\n    }\r\n}\r\n```\r\n\r\nMy `@MicronautTest` is expected to throw an exception, but it doesn&#39;t:\r\n\r\n```groovy\r\n    def &quot;It fails to get an non-existing Author&quot;() {\r\n        given:\r\n        def token = viewer()\r\n\r\n        when:\r\n        //This commented code throws an exception as expected\r\n/*\r\n        def author = client.toBlocking().exchange(HttpRequest.create(\r\n                HttpMethod.GET,\r\n                &quot;/author/${badId}&quot;\r\n        ).bearerAuth(token))\r\n*/\r\n        //This does not despite the provided HttpClientConfiguration\r\n        def author = api.getAuthor(badId, bearerAuth(token))\r\n\r\n        then:\r\n        def ex = thrown(HttpClientResponseException)\r\n        ex.status == NOT_FOUND\r\n        ex.getResponse().getBody(ErrorResource).map {\r\n            assert it.message == &quot;Author with id ${badId} not found.&quot;\r\n            it\r\n        }.isPresent()\r\n\r\n        where:\r\n        badId = anyInt()\r\n    }\r\n\r\n```\r\n\r\nAny help appreciated. I am not used to configuration classes, so there may be a mistake in how I use it, the other possibility is that `exceptionOnErrorStatus` does not mean what I think it means. I have checked the documentation and I think it does, though.","title":"exceptionOnErrorStatus in ClientConfiguration of Declarative Client not being applied in Micronaut version 3.7.3","body":"<p>I have provided a configuration class to my Declarative <code>HttpClient</code>, to force throwing an exception on error (status&gt;400), or maybe I misunderstood the <code>exceptionOnErrorStatus</code> configuration option.</p>\n<pre><code>@Client(value = &quot;/&quot;, configuration = ApiClientConfiguration)\ninterface Api {\n    @Get(&quot;/author/{id}&quot;)\n    AuthorResource getAuthor(Long id, @Header(name=&quot;Authorization&quot;) String authorization)\n}\n</code></pre>\n<p>Here's the configuration class</p>\n<pre><code>@ConfigurationProperties(&quot;httpclient.api&quot;)\nclass ApiClientConfiguration extends DefaultHttpClientConfiguration {\n    @Override\n    boolean isExceptionOnErrorStatus() {\n        return true\n    }\n}\n</code></pre>\n<p>My <code>@MicronautTest</code> is expected to throw an exception, but it doesn't:</p>\n<pre><code>    def &quot;It fails to get an non-existing Author&quot;() {\n        given:\n        def token = viewer()\n\n        when:\n        //This commented code throws an exception as expected\n/*\n        def author = client.toBlocking().exchange(HttpRequest.create(\n                HttpMethod.GET,\n                &quot;/author/${badId}&quot;\n        ).bearerAuth(token))\n*/\n        //This does not despite the provided HttpClientConfiguration\n        def author = api.getAuthor(badId, bearerAuth(token))\n\n        then:\n        def ex = thrown(HttpClientResponseException)\n        ex.status == NOT_FOUND\n        ex.getResponse().getBody(ErrorResource).map {\n            assert it.message == &quot;Author with id ${badId} not found.&quot;\n            it\n        }.isPresent()\n\n        where:\n        badId = anyInt()\n    }\n\n</code></pre>\n<p>Any help appreciated. I am not used to configuration classes, so there may be a mistake in how I use it, the other possibility is that <code>exceptionOnErrorStatus</code> does not mean what I think it means. I have checked the documentation and I think it does, though.</p>\n"},{"tags":["java","algorithm","permutation"],"comments":[{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1667764797,"post_id":1900197,"comment_id":131239710,"body_markdown":"You may want to read about [why &#39;Can somebody help me?&#39; is not an actual question](https://meta.stackoverflow.com/a/284237/11107541).","body":"You may want to read about <a href=\"https://meta.stackoverflow.com/a/284237/11107541\">why &#39;Can somebody help me?&#39; is not an actual question</a>."}],"answers":[{"tags":[],"owner":{"account_id":81384,"reputation":10481,"user_id":229535,"accept_rate":86,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1260788669,"creation_date":1260788669,"answer_id":1900246,"question_id":1900197,"body_markdown":"The keyword to look for is *permutation*. There is an abundance of source code freely available that performs them.\r\n\r\nAs for keeping it repetition free I suggest a simple recursive approach: for each digit you have a choice of taking it into your variation or not, so your recursion counts through the digits and forks into two recursive calls, one in which the digit is included, one in which it is excluded. Then, after you reached the last digit each recursion essentially gives you a (unique, sorted) list of repetition-free digits. You can then create all possible permutations of this list and combine all of those permutations to achieve your final result.\r\n\r\n(Same as duffymo said: I won&#39;t supply code for that)\r\n\r\nAdvanced note: the recursion is based on 0/1 (exclusion, inclusion) which can directly be translated to bits, hence, integer numbers. Therefore, in order to get all possible digit combinations without actually performing the recursion itself you could simply use all 10-bit integer numbers and iterate through them. Then interpret the numbers such that a set bit corresponds to including the digit in the list that needs to be permuted.","title":"generating Variations without repetitions / Permutations in java","body":"<p>The keyword to look for is <em>permutation</em>. There is an abundance of source code freely available that performs them.</p>\n\n<p>As for keeping it repetition free I suggest a simple recursive approach: for each digit you have a choice of taking it into your variation or not, so your recursion counts through the digits and forks into two recursive calls, one in which the digit is included, one in which it is excluded. Then, after you reached the last digit each recursion essentially gives you a (unique, sorted) list of repetition-free digits. You can then create all possible permutations of this list and combine all of those permutations to achieve your final result.</p>\n\n<p>(Same as duffymo said: I won't supply code for that)</p>\n\n<p>Advanced note: the recursion is based on 0/1 (exclusion, inclusion) which can directly be translated to bits, hence, integer numbers. Therefore, in order to get all possible digit combinations without actually performing the recursion itself you could simply use all 10-bit integer numbers and iterate through them. Then interpret the numbers such that a set bit corresponds to including the digit in the list that needs to be permuted.</p>\n"},{"tags":[],"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1260797370,"creation_date":1260797370,"answer_id":1900933,"question_id":1900197,"body_markdown":"Imagine you had a magical function - given an array of digits, it will return you the correct permutations. \r\n\r\nHow can you use that function to produce a new list of permutations with just one extra digit?\r\n\r\ne.g., \r\n\r\nif i gave you a function called `permute_three(char[3] digits)`, and i tell you that it only works for digits `0`, `1`, `2`, how can you write a function that can permute `0`, `1`, `2`, `3`, using the given `permute_three` function?\r\n\r\n\r\n...\r\n\r\nonce you solved that, what do you notice? can you generalize it? ","title":"generating Variations without repetitions / Permutations in java","body":"<p>Imagine you had a magical function - given an array of digits, it will return you the correct permutations. </p>\n\n<p>How can you use that function to produce a new list of permutations with just one extra digit?</p>\n\n<p>e.g., </p>\n\n<p>if i gave you a function called <code>permute_three(char[3] digits)</code>, and i tell you that it only works for digits <code>0</code>, <code>1</code>, <code>2</code>, how can you write a function that can permute <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, using the given <code>permute_three</code> function?</p>\n\n<p>...</p>\n\n<p>once you solved that, what do you notice? can you generalize it? </p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1265042796,"creation_date":1265042796,"answer_id":2178384,"question_id":1900197,"body_markdown":"using [Dollar][1] it is simple:\r\n\r\n    @Test\r\n    public void generatePermutations() {\r\n        // digits is the string &quot;0123456789&quot;\r\n        String digits = $(&#39;0&#39;, &#39;9&#39;).join();\r\n\r\n        // then generate 10 permutations\r\n        for (int i : $(10)) {\r\n            // shuffle, the cut (0, 4) in order to get a 4-char permutation\r\n            System.out.println($(digits).shuffle().slice(4));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://bitbucket.org/dfa/dollar","title":"generating Variations without repetitions / Permutations in java","body":"<p>using <a href=\"http://bitbucket.org/dfa/dollar\" rel=\"nofollow noreferrer\">Dollar</a> it is simple:</p>\n\n<pre><code>@Test\npublic void generatePermutations() {\n    // digits is the string \"0123456789\"\n    String digits = $('0', '9').join();\n\n    // then generate 10 permutations\n    for (int i : $(10)) {\n        // shuffle, the cut (0, 4) in order to get a 4-char permutation\n        System.out.println($(digits).shuffle().slice(4));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202639,"reputation":278,"user_id":1172968,"accept_rate":70,"display_name":"abhi120"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333970397,"creation_date":1330792736,"answer_id":9547761,"question_id":1900197,"body_markdown":"The code for this is similar to the one without duplicates, with the addition of an if-else statement.Check this [code][1]\r\n\r\nIn the above code,Edit the for loop as follows\r\n\r\n    for (j = i; j &lt;= n; j++)\r\n    {\r\n        \r\n    if(a[i]!=a[j] &amp;&amp; !is_duplicate(a,i,j))              \r\n        {\r\n            swap((a+i), (a+j));\r\n            permute(a, i+1, n);\r\n            swap((a+i), (a+j)); \r\n        }\r\n        else if(i!=j)  {}  // if no duplicate is present , do nothing           \r\n        else permute(a,i+1,n);  // skip the ith character\r\n    }\r\n\r\n    bool is_duplicate(int *a,int i,int j) \r\n    {\r\n         if a[i] is present between a[j]...a[i] \r\n            return 1;\r\n        otherwise\r\n            return 0;\r\n    \r\n    }\r\n\r\nworked for me\r\n  [1]: http://www.geeksforgeeks.org/archives/767\r\n\r\n\r\n","title":"generating Variations without repetitions / Permutations in java","body":"<p>The code for this is similar to the one without duplicates, with the addition of an if-else statement.Check this <a href=\"http://www.geeksforgeeks.org/archives/767\" rel=\"nofollow\">code</a></p>\n\n<p>In the above code,Edit the for loop as follows</p>\n\n<pre><code>for (j = i; j &lt;= n; j++)\n{\n\nif(a[i]!=a[j] &amp;&amp; !is_duplicate(a,i,j))              \n    {\n        swap((a+i), (a+j));\n        permute(a, i+1, n);\n        swap((a+i), (a+j)); \n    }\n    else if(i!=j)  {}  // if no duplicate is present , do nothing           \n    else permute(a,i+1,n);  // skip the ith character\n}\n\nbool is_duplicate(int *a,int i,int j) \n{\n     if a[i] is present between a[j]...a[i] \n        return 1;\n    otherwise\n        return 0;\n\n}\n</code></pre>\n\n<p>worked for me</p>\n"},{"tags":[],"owner":{"account_id":1227430,"reputation":29840,"user_id":1192728,"accept_rate":100,"display_name":"hqt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434640692,"creation_date":1434640692,"answer_id":30919416,"question_id":1900197,"body_markdown":"Here is my Java code. Feel free to ask if you don&#39;t understand. The main point here is:\r\n\r\n&gt; 1. sort again character array. for example: a1 a2 a3 b1 b2 b3 .... (a1 = a2 = a3)\r\n&gt; 2. generate permutation and always keep condition: index of a1 &lt; index of a2 &lt; index of a3 ...\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class PermutationDup {\r\n    \r\n    \tpublic void permutation(String s) {\r\n    \t\tchar[] original = s.toCharArray();\r\n    \t\tArrays.sort(original);\r\n    \t\tchar[] clone = new char[s.length()];\r\n    \t\tboolean[] mark = new boolean[s.length()];\r\n    \t\tArrays.fill(mark, false);\r\n    \t\tpermute(original, clone, mark, 0, s.length());\r\n    \t}\r\n    \t\r\n    \tprivate void permute(char[] original, char[] clone, boolean[] mark, int length, int n) {\r\n    \t\tif (length == n) {\r\n    \t\t\tSystem.out.println(clone);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; n; i++) {\r\n    \t\t\tif (mark[i] == true) continue;\r\n    \t\t\t// dont use this state. to keep order of duplicate character\r\n    \t\t\tif (i &gt; 0 &amp;&amp; original[i] == original[i-1] &amp;&amp; mark[i-1] == false) continue;\r\n    \t\t\tmark[i] = true;\r\n    \t\t\tclone[length] = original[i];\r\n    \t\t\tpermute(original, clone, mark, length+1, n);\r\n    \t\t\tmark[i] = false;\r\n    \t\t}\r\n    \t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tPermutationDup p = new PermutationDup();\r\n    \t\tp.permutation(&quot;abcab&quot;);\r\n    \t}\r\n    }","title":"generating Variations without repetitions / Permutations in java","body":"<p>Here is my Java code. Feel free to ask if you don't understand. The main point here is:</p>\n\n<blockquote>\n  <ol>\n  <li>sort again character array. for example: a1 a2 a3 b1 b2 b3 .... (a1 = a2 = a3)</li>\n  <li>generate permutation and always keep condition: index of a1 &lt; index of a2 &lt; index of a3 ...</li>\n  </ol>\n</blockquote>\n\n<pre><code>import java.util.Arrays;\n\npublic class PermutationDup {\n\n    public void permutation(String s) {\n        char[] original = s.toCharArray();\n        Arrays.sort(original);\n        char[] clone = new char[s.length()];\n        boolean[] mark = new boolean[s.length()];\n        Arrays.fill(mark, false);\n        permute(original, clone, mark, 0, s.length());\n    }\n\n    private void permute(char[] original, char[] clone, boolean[] mark, int length, int n) {\n        if (length == n) {\n            System.out.println(clone);\n            return;\n        }\n\n        for (int i = 0; i &lt; n; i++) {\n            if (mark[i] == true) continue;\n            // dont use this state. to keep order of duplicate character\n            if (i &gt; 0 &amp;&amp; original[i] == original[i-1] &amp;&amp; mark[i-1] == false) continue;\n            mark[i] = true;\n            clone[length] = original[i];\n            permute(original, clone, mark, length+1, n);\n            mark[i] = false;\n        }\n\n    }\n\n    public static void main(String[] args) {\n        PermutationDup p = new PermutationDup();\n        p.permutation(\"abcab\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442916786,"creation_date":1442314452,"answer_id":32584200,"question_id":1900197,"body_markdown":"Permutation without repetition is based on theorem, that amount of results is factorial of count of elements (in this case numbers). In your case 10! is 10*9*8*7*6*5*4*3*2*1 = 3628800. The proof why it is exactly right is right solution for generation also.\r\nWell so how. On first position i.e. from left you can have 10 numbers, on the second position you can have only 9 numbers, because one number is on the position on the left and we cannot repeat the same number etc. (the proof is done by mathematical induction).\r\nSo how to generate first ten results? According my knowledges, he simplest way is to use cyclic shift. It means the order of number shift to the left on one position (or right if you want) and the number which overflow to put on the empty place.\r\nIt means for first ten results:\r\n\r\n&gt; 10 9 8 7 6 5 4 3 2 1&lt;br/&gt;\r\n&gt; 9 8 7 6 5 4 3 2 1 10&lt;br/&gt;\r\n&gt; 8 7 6 5 4 3 2 1 10 9&lt;br/&gt;\r\n&gt; 7 6 5 4 3 2 1 10 9 8&lt;br/&gt;\r\n&gt; 6 5 4 3 2 1 10 9 8 7&lt;br/&gt;\r\n&gt; 5 4 3 2 1 10 9 8 7 6&lt;br/&gt;\r\n&gt; ...\r\n\r\nThe first line is basic sample, so it is the good idea to put it into set before generation. Advantage is, that in the next step you will have to solve the same problem to avoid undesirable duplicities.\r\n\r\nIn next step recursively rotate only 10-1 numbers 10-1 times etc.\r\nIt means for first 9 results in step two:\r\n\r\n&gt; 10 9 8 7 6 5 4 3 2 1&lt;br/&gt;\r\n&gt; 10 8 7 6 5 4 3 2 1 9&lt;br/&gt;\r\n&gt; 10 7 6 5 4 3 2 1 9 8&lt;br/&gt;\r\n&gt; 10 6 5 4 3 2 1 9 8 7&lt;br/&gt;\r\n&gt; 10 5 4 3 2 1 9 8 7 6&lt;br/&gt;\r\n...\r\n\r\netc, notice, that first line is present from previous step, so it must not be added to generated set again.\r\n\r\nAlgorithm recursively doing exactly that, what is explained above. It is possible to generate all the 3628800 combinations for 10!, because number of nesting is the same as number of elements in array (it means in your case for 10 numbers it lingers about 5min. on my computer) and you need have enough memory if you want to keep all combinations in array.\r\n\r\nThere is solution.\r\n\r\n    package permutation;\r\n\r\n    /** Class for generation amount of combinations (factorial)\r\n     * !!! this is generate proper permutations without repeating and proper amount (počet) of rows !!!\r\n     *\r\n     * @author hariprasad\r\n     */\r\n    public class TestForPermutationII {\r\n      private static final String BUMPER = &quot;*&quot;;\r\n      private static int counter = 0;\r\n      private static int sumsum = 0;\r\n      // definitoin of array for generation\r\n      //int[] testsimple = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n      int[] testsimple = {1, 2, 3, 4, 5};\r\n      private int ELEMNUM = testsimple.length;\r\n      int[][] shuff;\r\n    \r\n      private String gaps(int len) {\r\n        String addGap = &quot;&quot;;\r\n        for(int i=0; i &lt;len; i++)\r\n          addGap += &quot;  &quot;;\r\n        return addGap;\r\n      }\r\n    \r\n      /** Factorial computing */\r\n      private int fact(int num) {\r\n        if (num &gt; 1) {\r\n          return num * fact(num - 1);\r\n        } else {\r\n          return 1;\r\n        }\r\n      }\r\n      \r\n      /** Cyclic shift position to the left */  \r\n      private int[] lShiftPos(int[] arr, int pos) {\r\n        int[] work = new int[ELEMNUM];\r\n        int offset = -1;\r\n        for (int jj = 0; jj &lt; arr.length; jj++) {\r\n          if (jj &lt; pos) {\r\n            work[jj] = arr[jj];\r\n          } else if (jj &lt;= arr.length - 1) {\r\n            if (jj == pos) {\r\n              offset = arr[pos]; // last element\r\n            }\r\n            if (jj != (arr.length - 1)) {\r\n              work[jj] = arr[jj + 1];\r\n            } else {\r\n              work[jj] = offset;\r\n            }\r\n          }\r\n        }\r\n        return work;\r\n      }\r\n      \r\n      private String printBuff(int[] buffer) {\r\n        String res = &quot;&quot;;\r\n        for (int i= 0; i &lt; buffer.length; i++) {\r\n          if (i == 0) \r\n            res += buffer[i];\r\n          else\r\n            res += &quot;, &quot; + buffer[i];\r\n        }\r\n        return res;\r\n      };\r\n      \r\n      /** Recursive generator for arbitrary length of array */\r\n      private String permutationGenerator(int pos, int level) {\r\n        String ret = BUMPER;\r\n        int templen = counter;\r\n        int[] work = new int[ELEMNUM];\r\n        int locsumread = 0;\r\n        int locsumnew = 0;\r\n        //System.out.println(&quot;\\nCalled level: &quot; + level);\r\n        \r\n        for (int i = 0; i &lt;= templen; i++) {\r\n          work = shuff[i];\r\n          sumsum++;\r\n          locsumread++;\r\n          for (int ii = 0; ii &lt; pos; ii++) {\r\n            counter++;\r\n            sumsum++;\r\n            locsumnew++;\r\n            work = lShiftPos(work, level); // deep copy\r\n            shuff[counter] = work;\r\n          }\r\n        }\r\n        \r\n        System.out.println(&quot;locsumread, locsumnew: &quot; + locsumread + &quot;, &quot; + locsumnew);\r\n        // if level == ELEMNUM-2, it means no another shift\r\n        if (level &lt; ELEMNUM-2) {\r\n          ret = permutationGenerator(pos-1, level+1);\r\n          ret = &quot;Level &quot; + level + &quot; end.&quot;;\r\n          //System.out.println(ret);\r\n        }\r\n        return ret;\r\n      }\r\n    \r\n      public static void main(String[] argv) {\r\n        TestForPermutationII test = new TestForPermutationII();\r\n        counter = 0;\r\n        int len = test.testsimple.length;\r\n        int[] work = new int[len];\r\n    \r\n        test.shuff = new int[test.fact(len)][];\r\n        \r\n        //initial\r\n        test.shuff[counter] = test.testsimple;\r\n        work = test.testsimple; // shalow copy\r\n     \r\n        test.shuff = new int[test.fact(len)][];\r\n        counter = 0;\r\n        test.shuff[counter] = test.testsimple;\r\n        test.permutationGenerator(len-1, 0);\r\n        \r\n        for (int i = 0; i &lt;= counter; i++) {\r\n          System.out.println(test.printBuff(test.shuff[i]));\r\n        }\r\n    \r\n        System.out.println(&quot;Counter, cycles: &quot; + counter + &quot;, &quot; + sumsum);\r\n      }\r\n    }\r\n\r\n\r\nIntensity (number of cycles) of algorithm is sum of incomplete factorials of number of members. So there is overhang when partial set is again read to generate next subset, so intensity is:\r\n&gt; n! + n!/2! + n!/3! + ... + n!/(n-2)! + n!(n-1)!\r\n\r\n","title":"generating Variations without repetitions / Permutations in java","body":"<p>Permutation without repetition is based on theorem, that amount of results is factorial of count of elements (in this case numbers). In your case 10! is 10*9*8*7*6*5*4*3*2*1 = 3628800. The proof why it is exactly right is right solution for generation also.\nWell so how. On first position i.e. from left you can have 10 numbers, on the second position you can have only 9 numbers, because one number is on the position on the left and we cannot repeat the same number etc. (the proof is done by mathematical induction).\nSo how to generate first ten results? According my knowledges, he simplest way is to use cyclic shift. It means the order of number shift to the left on one position (or right if you want) and the number which overflow to put on the empty place.\nIt means for first ten results:</p>\n\n<blockquote>\n  <p>10 9 8 7 6 5 4 3 2 1<br/>\n  9 8 7 6 5 4 3 2 1 10<br/>\n  8 7 6 5 4 3 2 1 10 9<br/>\n  7 6 5 4 3 2 1 10 9 8<br/>\n  6 5 4 3 2 1 10 9 8 7<br/>\n  5 4 3 2 1 10 9 8 7 6<br/>\n  ...</p>\n</blockquote>\n\n<p>The first line is basic sample, so it is the good idea to put it into set before generation. Advantage is, that in the next step you will have to solve the same problem to avoid undesirable duplicities.</p>\n\n<p>In next step recursively rotate only 10-1 numbers 10-1 times etc.\nIt means for first 9 results in step two:</p>\n\n<blockquote>\n  <p>10 9 8 7 6 5 4 3 2 1<br/>\n  10 8 7 6 5 4 3 2 1 9<br/>\n  10 7 6 5 4 3 2 1 9 8<br/>\n  10 6 5 4 3 2 1 9 8 7<br/>\n  10 5 4 3 2 1 9 8 7 6<br/>\n  ...</p>\n</blockquote>\n\n<p>etc, notice, that first line is present from previous step, so it must not be added to generated set again.</p>\n\n<p>Algorithm recursively doing exactly that, what is explained above. It is possible to generate all the 3628800 combinations for 10!, because number of nesting is the same as number of elements in array (it means in your case for 10 numbers it lingers about 5min. on my computer) and you need have enough memory if you want to keep all combinations in array.</p>\n\n<p>There is solution.</p>\n\n<pre><code>package permutation;\n\n/** Class for generation amount of combinations (factorial)\n * !!! this is generate proper permutations without repeating and proper amount (počet) of rows !!!\n *\n * @author hariprasad\n */\npublic class TestForPermutationII {\n  private static final String BUMPER = \"*\";\n  private static int counter = 0;\n  private static int sumsum = 0;\n  // definitoin of array for generation\n  //int[] testsimple = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n  int[] testsimple = {1, 2, 3, 4, 5};\n  private int ELEMNUM = testsimple.length;\n  int[][] shuff;\n\n  private String gaps(int len) {\n    String addGap = \"\";\n    for(int i=0; i &lt;len; i++)\n      addGap += \"  \";\n    return addGap;\n  }\n\n  /** Factorial computing */\n  private int fact(int num) {\n    if (num &gt; 1) {\n      return num * fact(num - 1);\n    } else {\n      return 1;\n    }\n  }\n\n  /** Cyclic shift position to the left */  \n  private int[] lShiftPos(int[] arr, int pos) {\n    int[] work = new int[ELEMNUM];\n    int offset = -1;\n    for (int jj = 0; jj &lt; arr.length; jj++) {\n      if (jj &lt; pos) {\n        work[jj] = arr[jj];\n      } else if (jj &lt;= arr.length - 1) {\n        if (jj == pos) {\n          offset = arr[pos]; // last element\n        }\n        if (jj != (arr.length - 1)) {\n          work[jj] = arr[jj + 1];\n        } else {\n          work[jj] = offset;\n        }\n      }\n    }\n    return work;\n  }\n\n  private String printBuff(int[] buffer) {\n    String res = \"\";\n    for (int i= 0; i &lt; buffer.length; i++) {\n      if (i == 0) \n        res += buffer[i];\n      else\n        res += \", \" + buffer[i];\n    }\n    return res;\n  };\n\n  /** Recursive generator for arbitrary length of array */\n  private String permutationGenerator(int pos, int level) {\n    String ret = BUMPER;\n    int templen = counter;\n    int[] work = new int[ELEMNUM];\n    int locsumread = 0;\n    int locsumnew = 0;\n    //System.out.println(\"\\nCalled level: \" + level);\n\n    for (int i = 0; i &lt;= templen; i++) {\n      work = shuff[i];\n      sumsum++;\n      locsumread++;\n      for (int ii = 0; ii &lt; pos; ii++) {\n        counter++;\n        sumsum++;\n        locsumnew++;\n        work = lShiftPos(work, level); // deep copy\n        shuff[counter] = work;\n      }\n    }\n\n    System.out.println(\"locsumread, locsumnew: \" + locsumread + \", \" + locsumnew);\n    // if level == ELEMNUM-2, it means no another shift\n    if (level &lt; ELEMNUM-2) {\n      ret = permutationGenerator(pos-1, level+1);\n      ret = \"Level \" + level + \" end.\";\n      //System.out.println(ret);\n    }\n    return ret;\n  }\n\n  public static void main(String[] argv) {\n    TestForPermutationII test = new TestForPermutationII();\n    counter = 0;\n    int len = test.testsimple.length;\n    int[] work = new int[len];\n\n    test.shuff = new int[test.fact(len)][];\n\n    //initial\n    test.shuff[counter] = test.testsimple;\n    work = test.testsimple; // shalow copy\n\n    test.shuff = new int[test.fact(len)][];\n    counter = 0;\n    test.shuff[counter] = test.testsimple;\n    test.permutationGenerator(len-1, 0);\n\n    for (int i = 0; i &lt;= counter; i++) {\n      System.out.println(test.printBuff(test.shuff[i]));\n    }\n\n    System.out.println(\"Counter, cycles: \" + counter + \", \" + sumsum);\n  }\n}\n</code></pre>\n\n<p>Intensity (number of cycles) of algorithm is sum of incomplete factorials of number of members. So there is overhang when partial set is again read to generate next subset, so intensity is:</p>\n\n<blockquote>\n  <p>n! + n!/2! + n!/3! + ... + n!/(n-2)! + n!(n-1)!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445113359,"creation_date":1445113359,"answer_id":33191218,"question_id":1900197,"body_markdown":"There is one solution which is not from mine, but it is very nice and sophisticated.\r\n\r\n        package permutations;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    /**\r\n     * @author Vladimir Hajek\r\n     *\r\n     */\r\n    public class PermutationSimple {\r\n    \tprivate static final int MAX_NUMBER = 3;\r\n    \r\n    \tSet&lt;String&gt; results = new HashSet&lt;&gt;(0);\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tpublic PermutationSimple() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param availableNumbers\r\n    \t * @return\r\n    \t */\r\n    \tpublic static List&lt;String&gt; generatePermutations(Set&lt;Integer&gt; availableNumbers) {\r\n    \t\tList&lt;String&gt; permutations = new LinkedList&lt;&gt;();\r\n    \r\n    \t\tfor (Integer number : availableNumbers) {\r\n    \t\t\tSet&lt;Integer&gt; numbers = new HashSet&lt;&gt;(availableNumbers);\r\n    \t\t\tnumbers.remove(number);\r\n    \r\n    \t\t\tif (!numbers.isEmpty()) {\r\n    \t\t\t\tList&lt;String&gt; childPermutations = generatePermutations(numbers);\r\n    \t\t\t\tfor (String childPermutation : childPermutations) {\r\n    \t\t\t\t\tString permutation = number + childPermutation;\r\n    \t\t\t\t\tpermutations.add(permutation);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tpermutations.add(number.toString());\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn permutations;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSet&lt;Integer&gt; availableNumbers = new HashSet&lt;&gt;(0);\r\n    \r\n    \t\tfor (int i = 1; i &lt;= MAX_NUMBER; i++) {\r\n    \t\t\tavailableNumbers.add(i);\r\n    \t\t}\r\n    \t\t\r\n    \t\tList&lt;String&gt; permutations = generatePermutations(availableNumbers);\r\n    \t\tfor (String permutation : permutations) {\r\n    \t\t\tSystem.out.println(permutation);\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nI think, this is the excellent solution.","title":"generating Variations without repetitions / Permutations in java","body":"<p>There is one solution which is not from mine, but it is very nice and sophisticated.</p>\n\n<pre><code>    package permutations;\n\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Set;\n\n/**\n * @author Vladimir Hajek\n *\n */\npublic class PermutationSimple {\n    private static final int MAX_NUMBER = 3;\n\n    Set&lt;String&gt; results = new HashSet&lt;&gt;(0);\n\n    /**\n     * \n     */\n    public PermutationSimple() {\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @param availableNumbers\n     * @return\n     */\n    public static List&lt;String&gt; generatePermutations(Set&lt;Integer&gt; availableNumbers) {\n        List&lt;String&gt; permutations = new LinkedList&lt;&gt;();\n\n        for (Integer number : availableNumbers) {\n            Set&lt;Integer&gt; numbers = new HashSet&lt;&gt;(availableNumbers);\n            numbers.remove(number);\n\n            if (!numbers.isEmpty()) {\n                List&lt;String&gt; childPermutations = generatePermutations(numbers);\n                for (String childPermutation : childPermutations) {\n                    String permutation = number + childPermutation;\n                    permutations.add(permutation);\n                }\n            } else {\n                permutations.add(number.toString());\n            }\n        }\n\n        return permutations;\n    }\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        Set&lt;Integer&gt; availableNumbers = new HashSet&lt;&gt;(0);\n\n        for (int i = 1; i &lt;= MAX_NUMBER; i++) {\n            availableNumbers.add(i);\n        }\n\n        List&lt;String&gt; permutations = generatePermutations(availableNumbers);\n        for (String permutation : permutations) {\n            System.out.println(permutation);\n        }\n\n    }\n}\n</code></pre>\n\n<p>I think, this is the excellent solution.</p>\n"},{"tags":[],"owner":{"account_id":1810491,"reputation":2458,"user_id":1646671,"accept_rate":53,"display_name":"uldall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464265250,"creation_date":1464259135,"answer_id":37458424,"question_id":1900197,"body_markdown":"I have created the following code for generating permutations where ordering is important and with no repetition. It makes use of generics for permuting any type of object:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    public class Permutations {\r\n    \r\n        public static &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; generatePermutationsNoRepetition(Set&lt;T&gt; availableNumbers) {\r\n        \tCollection&lt;List&lt;T&gt;&gt; permutations = new HashSet&lt;&gt;();\r\n    \r\n            for (T number : availableNumbers) {\r\n                Set&lt;T&gt; numbers = new HashSet&lt;&gt;(availableNumbers);\r\n                numbers.remove(number);\r\n    \r\n                if (!numbers.isEmpty()) {\r\n                \tCollection&lt;List&lt;T&gt;&gt; childPermutations = generatePermutationsNoRepetition(numbers);\r\n                    for (List&lt;T&gt; childPermutation : childPermutations) {\r\n                    \tList&lt;T&gt; permutation = new ArrayList&lt;&gt;();\r\n                    \tpermutation.add(number);\r\n                    \tpermutation.addAll(childPermutation);\r\n                        permutations.add(permutation);\r\n                    }\r\n                } else {\r\n                \tList&lt;T&gt; permutation = new ArrayList&lt;&gt;();\r\n                \tpermutation.add(number);\r\n                    permutations.add(permutation);\r\n                }\r\n            }\r\n    \r\n            return permutations;\r\n        }\r\n    }","title":"generating Variations without repetitions / Permutations in java","body":"<p>I have created the following code for generating permutations where ordering is important and with no repetition. It makes use of generics for permuting any type of object:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\npublic class Permutations {\n\n    public static &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; generatePermutationsNoRepetition(Set&lt;T&gt; availableNumbers) {\n        Collection&lt;List&lt;T&gt;&gt; permutations = new HashSet&lt;&gt;();\n\n        for (T number : availableNumbers) {\n            Set&lt;T&gt; numbers = new HashSet&lt;&gt;(availableNumbers);\n            numbers.remove(number);\n\n            if (!numbers.isEmpty()) {\n                Collection&lt;List&lt;T&gt;&gt; childPermutations = generatePermutationsNoRepetition(numbers);\n                for (List&lt;T&gt; childPermutation : childPermutations) {\n                    List&lt;T&gt; permutation = new ArrayList&lt;&gt;();\n                    permutation.add(number);\n                    permutation.addAll(childPermutation);\n                    permutations.add(permutation);\n                }\n            } else {\n                List&lt;T&gt; permutation = new ArrayList&lt;&gt;();\n                permutation.add(number);\n                permutations.add(permutation);\n            }\n        }\n\n        return permutations;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9011546,"reputation":1,"user_id":6715920,"display_name":"Craig Cantrell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471214468,"creation_date":1471214468,"answer_id":38947248,"question_id":1900197,"body_markdown":"Brief helpful permutation indexing Knowledge\r\n\r\nCreate a method that generates the correct permutation, given an index value between {0 and N! -1} for &quot;zero indexed&quot; or {1 and N!} for &quot;one indexed&quot;. \r\n\r\nCreate a second method containing a &quot;for loop&quot; where the lower bound is 1 and the upper bound is N!. eg.. &quot;for (i; i &lt;= N!; i++)&quot; for every instance of the loop call the first method, passing i as the argument.","title":"generating Variations without repetitions / Permutations in java","body":"<p>Brief helpful permutation indexing Knowledge</p>\n\n<p>Create a method that generates the correct permutation, given an index value between {0 and N! -1} for \"zero indexed\" or {1 and N!} for \"one indexed\". </p>\n\n<p>Create a second method containing a \"for loop\" where the lower bound is 1 and the upper bound is N!. eg.. \"for (i; i &lt;= N!; i++)\" for every instance of the loop call the first method, passing i as the argument.</p>\n"},{"tags":[],"owner":{"account_id":142143,"reputation":181,"user_id":349658,"accept_rate":100,"display_name":"Ant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593313600,"creation_date":1593313600,"answer_id":62617769,"question_id":1900197,"body_markdown":"```\r\ndef find(alphabet, alpha_current, str, str_current, max_length, acc):\r\n  \r\n  if (str_current == max_length):\r\n    acc.append(&#39;&#39;.join(str))\r\n    return\r\n  \r\n  for i in range(alpha_current, len(alphabet)):\r\n    str[str_current] = alphabet[i]\r\n    \r\n    alphabet[i], alphabet[alpha_current] = alphabet[alpha_current], alphabet[i]\r\n    \r\n    find(alphabet, alpha_current+1, str, str_current+1, max_length, acc)\r\n    \r\n    alphabet[i], alphabet[alpha_current] = alphabet[alpha_current], alphabet[i]\r\n  \r\n  return\r\n\r\nmax_length = 4\r\nstr = [&#39; &#39; for i in range(max_length)]\r\nacc = list()\r\nfind(list(&#39;absdef&#39;), 0, str, 0, max_length, acc)\r\n\r\nfor i in range(len(acc)):\r\n  print(acc[i])\r\n\r\nprint(len(acc))\r\n```","title":"generating Variations without repetitions / Permutations in java","body":"<pre><code>def find(alphabet, alpha_current, str, str_current, max_length, acc):\n  \n  if (str_current == max_length):\n    acc.append(''.join(str))\n    return\n  \n  for i in range(alpha_current, len(alphabet)):\n    str[str_current] = alphabet[i]\n    \n    alphabet[i], alphabet[alpha_current] = alphabet[alpha_current], alphabet[i]\n    \n    find(alphabet, alpha_current+1, str, str_current+1, max_length, acc)\n    \n    alphabet[i], alphabet[alpha_current] = alphabet[alpha_current], alphabet[i]\n  \n  return\n\nmax_length = 4\nstr = [' ' for i in range(max_length)]\nacc = list()\nfind(list('absdef'), 0, str, 0, max_length, acc)\n\nfor i in range(len(acc)):\n  print(acc[i])\n\nprint(len(acc))\n</code></pre>\n"}],"owner":{"account_id":56009,"reputation":335,"user_id":167803,"accept_rate":40,"display_name":"howdyhoward"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22083,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":1900246,"answer_count":10,"score":10,"last_activity_date":1667764767,"creation_date":1260788035,"question_id":1900197,"body_markdown":"I have to generate all variations without repetitions made of digits 0 - 9.\r\n\r\nLength of them could be from 1 to 10. I really don&#39;t know how to solve it, especially how to avoid repetitions.\r\n\r\nExample:\r\n   length of variations: 4\r\n   random variations: 9856, 8753, 1243, 1234 etc. (but not 9985 - contains repetition)\r\n\r\nCan you please help me? Or can you give me the code?","title":"generating Variations without repetitions / Permutations in java","body":"<p>I have to generate all variations without repetitions made of digits 0 - 9.</p>\n<p>Length of them could be from 1 to 10. I really don't know how to solve it, especially how to avoid repetitions.</p>\n<p>Example:\nlength of variations: 4\nrandom variations: 9856, 8753, 1243, 1234 etc. (but not 9985 - contains repetition)</p>\n<p>Can you please help me? Or can you give me the code?</p>\n"},{"tags":["java","exception","logback","amazon-cloudwatch"],"comments":[{"owner":{"account_id":24050525,"reputation":486,"user_id":18029062,"display_name":"KafKafOwn"},"score":0,"creation_date":1643968877,"post_id":70984173,"comment_id":125485253,"body_markdown":"Are you using any orchestration service? EKS/ ECS?","body":"Are you using any orchestration service? EKS/ ECS?"},{"owner":{"account_id":6586288,"reputation":91,"user_id":5088963,"display_name":"Sathiya prakash"},"score":0,"creation_date":1643977161,"post_id":70984173,"comment_id":125488275,"body_markdown":"I am using EKS.","body":"I am using EKS."}],"answers":[{"tags":[],"owner":{"account_id":7200349,"reputation":139,"user_id":5497780,"display_name":"karthikmunna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643974552,"creation_date":1643974552,"answer_id":70985711,"question_id":70984173,"body_markdown":"When there is an exception use throwable to wrap in single line with a seperator\r\n\r\n    &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L %m %throwable{separator(|)} %n&quot;/&gt;","title":"Multiline exception to single line using java code","body":"<p>When there is an exception use throwable to wrap in single line with a seperator</p>\n<pre><code>&lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L %m %throwable{separator(|)} %n&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667763688,"creation_date":1667763688,"answer_id":74339168,"question_id":70984173,"body_markdown":"logs can be sent as json to [cloudwatch which has good support for filtering and matching json logs][1]\r\n\r\n\r\ntry add [logstash-logback-encoder][2] to your dependencies and configure logback.xml to use LogstashEncoder\r\n\r\nexamples:\r\n\r\nhttps://stackoverflow.com/a/68832699/1211547\r\nhttps://www.innoq.com/en/blog/structured-logging/\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html#metric-filters-extract-json\r\n  [2]: https://mvnrepository.com/artifact/net.logstash.logback/logstash-logback-encoder","title":"Multiline exception to single line using java code","body":"<p>logs can be sent as json to <a href=\"https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html#metric-filters-extract-json\" rel=\"nofollow noreferrer\">cloudwatch which has good support for filtering and matching json logs</a></p>\n<p>try add <a href=\"https://mvnrepository.com/artifact/net.logstash.logback/logstash-logback-encoder\" rel=\"nofollow noreferrer\">logstash-logback-encoder</a> to your dependencies and configure logback.xml to use LogstashEncoder</p>\n<p>examples:</p>\n<p><a href=\"https://stackoverflow.com/a/68832699/1211547\">https://stackoverflow.com/a/68832699/1211547</a>\n<a href=\"https://www.innoq.com/en/blog/structured-logging/\" rel=\"nofollow noreferrer\">https://www.innoq.com/en/blog/structured-logging/</a></p>\n"}],"owner":{"account_id":6586288,"reputation":91,"user_id":5088963,"display_name":"Sathiya prakash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1763,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667763688,"creation_date":1643967529,"question_id":70984173,"body_markdown":"The logs for my Spring Boot Java application are stored in CloudWatch.\r\nThe problem is when exception occur the stacktrace is not properly coming, since it gets scattered across the CloudWatch.\r\nI tried all the logback.xml configs, but it is not working.\r\n\r\nIs there any custom encoder java class to append all the stack trace of an exception into a single line so that it will be easy to track back","title":"Multiline exception to single line using java code","body":"<p>The logs for my Spring Boot Java application are stored in CloudWatch.\nThe problem is when exception occur the stacktrace is not properly coming, since it gets scattered across the CloudWatch.\nI tried all the logback.xml configs, but it is not working.</p>\n<p>Is there any custom encoder java class to append all the stack trace of an exception into a single line so that it will be easy to track back</p>\n"},{"tags":["java","spring","exception","spring-test"],"comments":[{"owner":{"account_id":1783732,"reputation":11618,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"score":0,"creation_date":1446360994,"post_id":33459740,"comment_id":54705974,"body_markdown":"do you invoke the junit from eclipse?","body":"do you invoke the junit from eclipse?"},{"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"score":0,"creation_date":1667890800,"post_id":33459740,"comment_id":131269137,"body_markdown":"In my case I had the same problem with tiles configuration. In jar packaging src/main/webapp folder won&#39;t be included. I added :\n\n&lt;packaging&gt;war&lt;/packaging&gt;\nand running like before :\n\njava -jar myproject.war","body":"In my case I had the same problem with tiles configuration. In jar packaging src/main/webapp folder won&#39;t be included. I added :  &lt;packaging&gt;war&lt;/packaging&gt; and running like before :  java -jar myproject.war"}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1446397788,"creation_date":1446397788,"answer_id":33464810,"question_id":33459740,"body_markdown":"When the Spring TestContext Framework loads an `ApplicationContext` for a test annotated with `@WebAppConfiguration`, it actually loads a `WebApplicationContext` which requires a `ServletContext`. In integration tests, Spring creates a `MockServletContext` for you with the `resourceBasePath` set to the value of the `value` attribute in the `@WebAppConfiguration` annotation.\r\n\r\nIf you had read the Javadoc for `@WebAppConfiguration`, you would have noticed that the default path is `src/main/webapp`.\r\n\r\nThus, the answer is that you don&#39;t follow Maven conventions for a WAR project. In other words, `src/main/webapp` is not the root of your web content. Rather, in your project it&#39;s `WebContent`.\r\n\r\nChanging your declaration of `@WebAppConfiguration` as follows should fix your issue.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @WebAppConfiguration(&quot;WebContent&quot;)\r\n\r\n\r\nRegards,\r\n\r\nSam (_author of the Spring TestContext Framework_)","title":"Error: No URL for ServletContext resource when running Spring integrated test","body":"<p>When the Spring TestContext Framework loads an <code>ApplicationContext</code> for a test annotated with <code>@WebAppConfiguration</code>, it actually loads a <code>WebApplicationContext</code> which requires a <code>ServletContext</code>. In integration tests, Spring creates a <code>MockServletContext</code> for you with the <code>resourceBasePath</code> set to the value of the <code>value</code> attribute in the <code>@WebAppConfiguration</code> annotation.</p>\n\n<p>If you had read the Javadoc for <code>@WebAppConfiguration</code>, you would have noticed that the default path is <code>src/main/webapp</code>.</p>\n\n<p>Thus, the answer is that you don't follow Maven conventions for a WAR project. In other words, <code>src/main/webapp</code> is not the root of your web content. Rather, in your project it's <code>WebContent</code>.</p>\n\n<p>Changing your declaration of <code>@WebAppConfiguration</code> as follows should fix your issue.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@WebAppConfiguration(\"WebContent\")\n</code></pre>\n\n<p>Regards,</p>\n\n<p>Sam (<em>author of the Spring TestContext Framework</em>)</p>\n"},{"tags":[],"owner":{"account_id":7285873,"reputation":687,"user_id":5553959,"accept_rate":0,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447319446,"creation_date":1447319446,"answer_id":33667819,"question_id":33459740,"body_markdown":"I tried the solution provided by Sam. It doesn&#39;t work for me.\r\n\r\nSo I try to put the tiles.xml to resources folder since I know it just need to be able to find in context.\r\n\r\nI know this is not a proper way to fix it. But it works for me.\r\n\r\n    @Bean\r\n    public TilesConfigurer tilesConfigurer() {\r\n        final TilesConfigurer configurer = new TilesConfigurer();\r\n        configurer.setDefinitions(&quot;classpath:tiles.xml&quot;);\r\n        configurer.setCheckRefresh(true);\r\n        return configurer;\r\n    }","title":"Error: No URL for ServletContext resource when running Spring integrated test","body":"<p>I tried the solution provided by Sam. It doesn't work for me.</p>\n\n<p>So I try to put the tiles.xml to resources folder since I know it just need to be able to find in context.</p>\n\n<p>I know this is not a proper way to fix it. But it works for me.</p>\n\n<pre><code>@Bean\npublic TilesConfigurer tilesConfigurer() {\n    final TilesConfigurer configurer = new TilesConfigurer();\n    configurer.setDefinitions(\"classpath:tiles.xml\");\n    configurer.setCheckRefresh(true);\n    return configurer;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12963265,"reputation":89,"user_id":9371817,"display_name":"ukrobo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1540236994,"creation_date":1540236994,"answer_id":52936614,"question_id":33459740,"body_markdown":"This happens when you have not got the working directory set for a desired Run Configuration. \r\n\r\nIf you are using IntelliJ, you can specify `$MODULE_WORKING_DIR$` as the &quot;Working directory:&quot; and that should resolve your problem.","title":"Error: No URL for ServletContext resource when running Spring integrated test","body":"<p>This happens when you have not got the working directory set for a desired Run Configuration. </p>\n\n<p>If you are using IntelliJ, you can specify <code>$MODULE_WORKING_DIR$</code> as the \"Working directory:\" and that should resolve your problem.</p>\n"}],"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11602,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33464810,"answer_count":3,"score":4,"last_activity_date":1667763431,"creation_date":1446358321,"question_id":33459740,"body_markdown":"I am running an integrated test for my Spring controller. Test includes a configuration file(`view-configuration.xml`) that has `tilesConfigurer` bean for which I am getting the error `No URL for ServletContext resource`. Below is Error Trace, Configuration, Test &amp; Project Structure:\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.CacheAwareContextLoaderDelegate.loadContext(CacheAwareContextLoaderDelegate.java:99)\r\n\tat org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:101)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:161)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:101)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:331)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:213)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:290)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:292)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:233)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:87)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:176)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;tilesConfigurer&#39; defined in class path resource [com/zerosolutions/configuration/view-configuration.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No URL for ServletContext resource [/WEB-INF/layout/default.xml]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:834)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n\tat org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:132)\r\n\tat org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:59)\r\n\tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:100)\r\n\tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:250)\r\n\tat org.springframework.test.context.CacheAwareContextLoaderDelegate.loadContextInternal(CacheAwareContextLoaderDelegate.java:64)\r\n\tat org.springframework.test.context.CacheAwareContextLoaderDelegate.loadContext(CacheAwareContextLoaderDelegate.java:91)\r\n\t... 25 more\r\n    Caused by: java.lang.IllegalArgumentException: No URL for ServletContext resource [/WEB-INF/layout/default.xml]\r\n\tat org.springframework.web.servlet.view.tiles3.SpringWildcardServletTilesApplicationContext.getResources(SpringWildcardServletTilesApplicationContext.java:96)\r\n\tat org.springframework.web.servlet.view.tiles3.TilesConfigurer$SpringTilesContainerFactory.getSources(TilesConfigurer.java:306)\r\n\tat org.apache.tiles.factory.BasicTilesContainerFactory.createLocaleDefinitionDao(BasicTilesContainerFactory.java:182)\r\n\tat org.apache.tiles.factory.BasicTilesContainerFactory.createDefinitionsFactory(BasicTilesContainerFactory.java:137)\r\n\tat org.springframework.web.servlet.view.tiles3.TilesConfigurer$SpringTilesContainerFactory.createDefinitionsFactory(TilesConfigurer.java:354)\r\n\tat org.apache.tiles.factory.BasicTilesContainerFactory.createContainer(BasicTilesContainerFactory.java:86)\r\n\tat org.springframework.web.servlet.view.tiles3.TilesConfigurer$SpringTilesContainerFactory.createContainer(TilesConfigurer.java:297)\r\n\tat org.apache.tiles.startup.AbstractTilesInitializer.createContainer(AbstractTilesInitializer.java:114)\r\n\tat org.apache.tiles.startup.AbstractTilesInitializer.initialize(AbstractTilesInitializer.java:64)\r\n\tat org.springframework.web.servlet.view.tiles3.TilesConfigurer.afterPropertiesSet(TilesConfigurer.java:271)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\r\n\t... 40 more\r\n     Caused by: java.io.FileNotFoundException: ServletContext resource [/WEB-INF/layout/default.xml] cannot be resolved to URL because it does not exist\r\n\tat org.springframework.web.context.support.ServletContextResource.getURL(ServletContextResource.java:156)\r\n\tat org.springframework.web.servlet.view.tiles3.SpringWildcardServletTilesApplicationContext.getResources(SpringWildcardServletTilesApplicationContext.java:91)\r\n\t... 51 more\r\n\r\nview-configuration.xml:\r\n\r\n    &lt;mvc:resources location=&quot;/resource/&quot; mapping=&quot;/static/**&quot;&gt;&lt;/mvc:resources&gt;\r\n\r\n\t&lt;bean id=&quot;tilesViewResolver&quot;\r\n\t\tclass=&quot;org.springframework.web.servlet.view.tiles3.TilesViewResolver&quot;&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;tilesConfigurer&quot;\r\n\t\tclass=&quot;org.springframework.web.servlet.view.tiles3.TilesConfigurer&quot;&gt;\r\n\t\t&lt;property name=&quot;definitions&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;/WEB-INF/layout/default.xml&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nTest\r\n\r\n    @RunWith(value=SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @ContextConfiguration(locations = { &quot;file:WebContent/WEB-INF/dispatcher-servlet.xml&quot;,\r\n\t\t&quot;classpath:com/zerosolutions/configuration/service-configuration.xml&quot;,\r\n\t\t&quot;classpath:com/zerosolutions/configuration/security-configuration.xml&quot;,\r\n\t\t&quot;classpath:com/zerosolutions/test/datasource_test.xml&quot;,\r\n\t\t&quot;classpath:com/zerosolutions/configuration/view-configuration.xml&quot;})\r\n    public class TestingFrontController {\r\n\t\r\n\t@Autowired\r\n\tprivate WebApplicationContext wac;\r\n\t\r\n\tprivate MockMvc mockMvc;\r\n\t\r\n\t@Before\r\n\tpublic void setUp(){\r\n\t\tthis.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void getLoginSignupPage() throws Exception{\r\n\t\tmockMvc.perform(get(&quot;/login&quot;))\r\n        .andExpect(status().isOk())\r\n        .andExpect(forwardedUrl(&quot;login&quot;));\r\n\t}\r\n\r\n    }\r\n\r\nProject Structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhy it is not able to find the resource?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qSHd5.png","title":"Error: No URL for ServletContext resource when running Spring integrated test","body":"<p>I am running an integrated test for my Spring controller. Test includes a configuration file(<code>view-configuration.xml</code>) that has <code>tilesConfigurer</code> bean for which I am getting the error <code>No URL for ServletContext resource</code>. Below is Error Trace, Configuration, Test &amp; Project Structure:</p>\n\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\nat org.springframework.test.context.CacheAwareContextLoaderDelegate.loadContext(CacheAwareContextLoaderDelegate.java:99)\nat org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:101)\nat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:161)\nat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:101)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:331)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:213)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:290)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:292)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:233)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:87)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:176)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tilesConfigurer' defined in class path resource [com/zerosolutions/configuration/view-configuration.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No URL for ServletContext resource [/WEB-INF/layout/default.xml]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:834)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\nat org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:132)\nat org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:59)\nat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:100)\nat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:250)\nat org.springframework.test.context.CacheAwareContextLoaderDelegate.loadContextInternal(CacheAwareContextLoaderDelegate.java:64)\nat org.springframework.test.context.CacheAwareContextLoaderDelegate.loadContext(CacheAwareContextLoaderDelegate.java:91)\n... 25 more\nCaused by: java.lang.IllegalArgumentException: No URL for ServletContext resource [/WEB-INF/layout/default.xml]\nat org.springframework.web.servlet.view.tiles3.SpringWildcardServletTilesApplicationContext.getResources(SpringWildcardServletTilesApplicationContext.java:96)\nat org.springframework.web.servlet.view.tiles3.TilesConfigurer$SpringTilesContainerFactory.getSources(TilesConfigurer.java:306)\nat org.apache.tiles.factory.BasicTilesContainerFactory.createLocaleDefinitionDao(BasicTilesContainerFactory.java:182)\nat org.apache.tiles.factory.BasicTilesContainerFactory.createDefinitionsFactory(BasicTilesContainerFactory.java:137)\nat org.springframework.web.servlet.view.tiles3.TilesConfigurer$SpringTilesContainerFactory.createDefinitionsFactory(TilesConfigurer.java:354)\nat org.apache.tiles.factory.BasicTilesContainerFactory.createContainer(BasicTilesContainerFactory.java:86)\nat org.springframework.web.servlet.view.tiles3.TilesConfigurer$SpringTilesContainerFactory.createContainer(TilesConfigurer.java:297)\nat org.apache.tiles.startup.AbstractTilesInitializer.createContainer(AbstractTilesInitializer.java:114)\nat org.apache.tiles.startup.AbstractTilesInitializer.initialize(AbstractTilesInitializer.java:64)\nat org.springframework.web.servlet.view.tiles3.TilesConfigurer.afterPropertiesSet(TilesConfigurer.java:271)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\n... 40 more\n Caused by: java.io.FileNotFoundException: ServletContext resource [/WEB-INF/layout/default.xml] cannot be resolved to URL because it does not exist\nat org.springframework.web.context.support.ServletContextResource.getURL(ServletContextResource.java:156)\nat org.springframework.web.servlet.view.tiles3.SpringWildcardServletTilesApplicationContext.getResources(SpringWildcardServletTilesApplicationContext.java:91)\n... 51 more\n</code></pre>\n\n<p>view-configuration.xml:</p>\n\n<pre><code>&lt;mvc:resources location=\"/resource/\" mapping=\"/static/**\"&gt;&lt;/mvc:resources&gt;\n\n&lt;bean id=\"tilesViewResolver\"\n    class=\"org.springframework.web.servlet.view.tiles3.TilesViewResolver\"&gt;\n&lt;/bean&gt;\n&lt;bean id=\"tilesConfigurer\"\n    class=\"org.springframework.web.servlet.view.tiles3.TilesConfigurer\"&gt;\n    &lt;property name=\"definitions\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;/WEB-INF/layout/default.xml&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Test</p>\n\n<pre><code>@RunWith(value=SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(locations = { \"file:WebContent/WEB-INF/dispatcher-servlet.xml\",\n    \"classpath:com/zerosolutions/configuration/service-configuration.xml\",\n    \"classpath:com/zerosolutions/configuration/security-configuration.xml\",\n    \"classpath:com/zerosolutions/test/datasource_test.xml\",\n    \"classpath:com/zerosolutions/configuration/view-configuration.xml\"})\npublic class TestingFrontController {\n\n@Autowired\nprivate WebApplicationContext wac;\n\nprivate MockMvc mockMvc;\n\n@Before\npublic void setUp(){\n    this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\n}\n\n@Test\npublic void getLoginSignupPage() throws Exception{\n    mockMvc.perform(get(\"/login\"))\n    .andExpect(status().isOk())\n    .andExpect(forwardedUrl(\"login\"));\n}\n\n}\n</code></pre>\n\n<p>Project Structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qSHd5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qSHd5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why it is not able to find the resource?</p>\n"},{"tags":["java","spring","spring-boot","configuration","yaml"],"comments":[{"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"score":0,"creation_date":1667758336,"post_id":74338302,"comment_id":131238293,"body_markdown":"Could you provide link to full example project, so we can try it? It seems to work when copied to my project.","body":"Could you provide link to full example project, so we can try it? It seems to work when copied to my project."},{"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"score":0,"creation_date":1667758548,"post_id":74338302,"comment_id":131238351,"body_markdown":"Oh, now i realized what you&#39;re trying to do... And I think it cannot work that way.","body":"Oh, now i realized what you&#39;re trying to do... And I think it cannot work that way."},{"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"score":0,"creation_date":1667758889,"post_id":74338302,"comment_id":131238435,"body_markdown":"I think you&#39;re misusing the configuration. In MainConfig class, you want to fill the fields by application properties. At the same time, you annotated the Component classes as @Configuration, which is weird, since I would expect them to be POJO classes. Or if they are configurations and their existence should be conditional, why having the MainConfig there? I guess I dont really understand, what you want to achieve.","body":"I think you&#39;re misusing the configuration. In MainConfig class, you want to fill the fields by application properties. At the same time, you annotated the Component classes as @Configuration, which is weird, since I would expect them to be POJO classes. Or if they are configurations and their existence should be conditional, why having the MainConfig there? I guess I dont really understand, what you want to achieve."}],"answers":[{"tags":[],"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667763267,"creation_date":1667760119,"answer_id":74338725,"question_id":74338302,"body_markdown":"I guess, I would do that like this. (Edited based on later comment)\r\n\r\nThe config part class:\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\npublic class ComponentConfigPart {\r\n    private String ex1;\r\n    private String ex2;\r\n    private String ex3;\r\n}\r\n```\r\n\r\nThe base class for the bean\r\n```java\r\n@Data\r\npublic abstract class ComponentConfig {\r\n    private List&lt;ComponentConfigPart&gt; parts = new ArrayList&lt;&gt;();\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        System.out.println(&quot;Created instance of &quot; + this.getClass().getSimpleName());\r\n        System.out.println(&quot;Created &quot; + this);\r\n    }\r\n}\r\n```\r\n\r\nThe ComponentA class\r\n```java\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;application.components.a&quot;)\r\n@ConditionalOnProperty(prefix = &quot;application&quot;, name = &quot;use&quot;, havingValue = &quot;componentA&quot;)\r\n@ToString(callSuper = true)\r\npublic class ComponentAConfig extends ComponentConfig {\r\n    \r\n}\r\n```\r\n\r\nThe ComponentB class:\r\n```java\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;application.components.b&quot;)\r\n@ConditionalOnProperty(prefix = &quot;application&quot;, name = &quot;use&quot;, havingValue = &quot;componentB&quot;)\r\n@ToString(callSuper = true)\r\npublic class ComponentBConfig extends ComponentConfig {\r\n\r\n}\r\n```\r\n\r\nand the MainConfig, which wants to get the &quot;selected&quot; component:\r\n```java\r\n@Configuration\r\npublic class MainConfig {\r\n\r\n    @Autowired\r\n    private ComponentConfig config;\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        System.out.println(&quot;MainConfig has autowired class of &quot; + config.getClass().getSimpleName());\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow, the properties are like this:\r\n```yaml\r\napplication:\r\n  components:\r\n    a:\r\n      parts:\r\n        - ex1: a\r\n          ex2: aa\r\n          ex3: aaa\r\n        - ex1: a2\r\n          ex2: aa2\r\n          ex3: aaa2\r\n    b:\r\n      parts:\r\n        - ex1: b\r\n          ex2: bb\r\n          ex3: bbb\r\n        - ex1: b2\r\n          ex2: bb2\r\n          ex3: bbb2\r\n  use: componentA\r\n```\r\n\r\nAnd results in console logs:\r\n```\r\nCreated instance of ComponentAConfig\r\nCreated ComponentAConfig(super=ComponentConfig(parts=[ComponentConfigPart(ex1=a, ex2=aa, ex3=aaa), ComponentConfigPart(ex1=a2, ex2=aa2, ex3=aaa2)]))\r\nMainConfig has autowired class of ComponentAConfig\r\n```\r\n\r\nSimilarly, if the properties are like:\r\n```yaml\r\napplication:\r\n  components:\r\n    a:\r\n      parts:\r\n        - ex1: a\r\n          ex2: aa\r\n          ex3: aaa\r\n        - ex1: a2\r\n          ex2: aa2\r\n          ex3: aaa2\r\n    b:\r\n      parts:\r\n        - ex1: b\r\n          ex2: bb\r\n          ex3: bbb\r\n        - ex1: b2\r\n          ex2: bb2\r\n          ex3: bbb2\r\n  use: componentB\r\n```\r\nThe result is:\r\n```\r\nCreated instance of ComponentBConfig\r\nCreated ComponentBConfig(super=ComponentConfig(parts=[ComponentConfigPart(ex1=b, ex2=bb, ex3=bbb), ComponentConfigPart(ex1=b2, ex2=bb2, ex3=bbb2)]))\r\nMainConfig has autowired class of ComponentBConfig\r\n```","title":"Spring Boot conditional loading bean","body":"<p>I guess, I would do that like this. (Edited based on later comment)</p>\n<p>The config part class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\npublic class ComponentConfigPart {\n    private String ex1;\n    private String ex2;\n    private String ex3;\n}\n</code></pre>\n<p>The base class for the bean</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic abstract class ComponentConfig {\n    private List&lt;ComponentConfigPart&gt; parts = new ArrayList&lt;&gt;();\n\n    @PostConstruct\n    public void init() {\n        System.out.println(&quot;Created instance of &quot; + this.getClass().getSimpleName());\n        System.out.println(&quot;Created &quot; + this);\n    }\n}\n</code></pre>\n<p>The ComponentA class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties(prefix = &quot;application.components.a&quot;)\n@ConditionalOnProperty(prefix = &quot;application&quot;, name = &quot;use&quot;, havingValue = &quot;componentA&quot;)\n@ToString(callSuper = true)\npublic class ComponentAConfig extends ComponentConfig {\n    \n}\n</code></pre>\n<p>The ComponentB class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties(prefix = &quot;application.components.b&quot;)\n@ConditionalOnProperty(prefix = &quot;application&quot;, name = &quot;use&quot;, havingValue = &quot;componentB&quot;)\n@ToString(callSuper = true)\npublic class ComponentBConfig extends ComponentConfig {\n\n}\n</code></pre>\n<p>and the MainConfig, which wants to get the &quot;selected&quot; component:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MainConfig {\n\n    @Autowired\n    private ComponentConfig config;\n\n    @PostConstruct\n    public void init() {\n        System.out.println(&quot;MainConfig has autowired class of &quot; + config.getClass().getSimpleName());\n    }\n}\n\n</code></pre>\n<p>Now, the properties are like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>application:\n  components:\n    a:\n      parts:\n        - ex1: a\n          ex2: aa\n          ex3: aaa\n        - ex1: a2\n          ex2: aa2\n          ex3: aaa2\n    b:\n      parts:\n        - ex1: b\n          ex2: bb\n          ex3: bbb\n        - ex1: b2\n          ex2: bb2\n          ex3: bbb2\n  use: componentA\n</code></pre>\n<p>And results in console logs:</p>\n<pre><code>Created instance of ComponentAConfig\nCreated ComponentAConfig(super=ComponentConfig(parts=[ComponentConfigPart(ex1=a, ex2=aa, ex3=aaa), ComponentConfigPart(ex1=a2, ex2=aa2, ex3=aaa2)]))\nMainConfig has autowired class of ComponentAConfig\n</code></pre>\n<p>Similarly, if the properties are like:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>application:\n  components:\n    a:\n      parts:\n        - ex1: a\n          ex2: aa\n          ex3: aaa\n        - ex1: a2\n          ex2: aa2\n          ex3: aaa2\n    b:\n      parts:\n        - ex1: b\n          ex2: bb\n          ex3: bbb\n        - ex1: b2\n          ex2: bb2\n          ex3: bbb2\n  use: componentB\n</code></pre>\n<p>The result is:</p>\n<pre><code>Created instance of ComponentBConfig\nCreated ComponentBConfig(super=ComponentConfig(parts=[ComponentConfigPart(ex1=b, ex2=bb, ex3=bbb), ComponentConfigPart(ex1=b2, ex2=bb2, ex3=bbb2)]))\nMainConfig has autowired class of ComponentBConfig\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17930665,"reputation":107,"user_id":13028173,"display_name":"acG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667762509,"creation_date":1667760649,"answer_id":74338790,"question_id":74338302,"body_markdown":"That is the behavior that Im looking for, but each component is meant to be a list like this :\r\n\r\n    application:\r\n      components:\r\n        componentA:\r\n            - ex1\r\n              ex2\r\n              ex3\r\n            - ex1\r\n              ex2\r\n              ex3\r\n        componentB:\r\n            - ex1\r\n              ex2\r\n              ex3\r\n            - ex1\r\n              ex2\r\n              ex3\r\n        componentC:\r\n            - ex1\r\n              ex2\r\n              ex3\r\n            - ex1\r\n              ex2\r\n              ex3\r\n    use: componentA\r\n\r\nThats why I had the MainConfig class with each list. ","title":"Spring Boot conditional loading bean","body":"<p>That is the behavior that Im looking for, but each component is meant to be a list like this :</p>\n<pre><code>application:\n  components:\n    componentA:\n        - ex1\n          ex2\n          ex3\n        - ex1\n          ex2\n          ex3\n    componentB:\n        - ex1\n          ex2\n          ex3\n        - ex1\n          ex2\n          ex3\n    componentC:\n        - ex1\n          ex2\n          ex3\n        - ex1\n          ex2\n          ex3\nuse: componentA\n</code></pre>\n<p>Thats why I had the MainConfig class with each list.</p>\n"}],"owner":{"account_id":17930665,"reputation":107,"user_id":13028173,"display_name":"acG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74338725,"answer_count":2,"score":0,"last_activity_date":1667763267,"creation_date":1667756819,"question_id":74338302,"body_markdown":"im running a spring boot project and I&#39;m trying to load some beans conditionaly. I have the following configuration file:\r\n\r\n```\r\napplication:\r\n\tcomponents:\r\n\t\tcomponentA:\r\n\t\t\t- ex1\r\n\t\t\t  ex2\r\n\t\t\t  ex3\r\n\t\tcomponentB:\r\n\t\t\t- ex1\r\n\t\t\t  ex2\r\n\t\t\t  ex3\r\n\t\tcomponentC:\r\n\t\t\t- ex1\r\n\t\t\t  ex2\r\n\t\t\t  ex3\r\n\tuse: componentA\r\n```\r\n\r\nand the following configuration classes\r\n\r\n```\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;application.components&quot;)\r\n@Primary\r\n@Getter\r\n@Setter\r\n@NoArgsConstrutor\r\npublic class MainConfig\r\n{\r\n\tprivate List&lt;ComponentAConfig&gt; componentA = new ArrayList&lt;ComponentAConfig&gt;();\r\n\tprivate List&lt;ComponentBConfig&gt; componentB = new ArrayList&lt;ComponentBConfig&gt;();\r\n\tprivate List&lt;ComponentCConfig&gt; componentC = new ArrayList&lt;ComponentCConfig&gt;();\r\n\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstrutor\r\npublic abstract class ComponentConfig\r\n{\r\n\tprivate String ex1;\r\n\tprivate String ex2;\r\n\tprivate String ex3;\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@ConditionalOnProperty(prefix = &quot;application&quot;, name = &quot;use&quot;, havingValue = &quot;componentA&quot;)\r\npublic class ComponentAConfig extends ComponentConfig\r\n{\r\n\t\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@ConditionalOnProperty(prefix = &quot;application&quot;, name = &quot;use&quot;, havingValue = &quot;componentB&quot;)\r\npublic class ComponentBConfig extends ComponentConfig\r\n{\r\n\t\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@ConditionalOnProperty(prefix = &quot;application&quot;, name = &quot;use&quot;, havingValue = &quot;componentC&quot;)\r\npublic class ComponentCConfig extends ComponentConfig\r\n{\r\n\t\r\n}\r\n```\r\n\r\nEven though I have the **@ConditionalOnProperty** defined on each configuration class its still loads all of them. How can I load only componentA&#39;s list and ignore the other 2?\r\nThank you\r\n","title":"Spring Boot conditional loading bean","body":"<p>im running a spring boot project and I'm trying to load some beans conditionaly. I have the following configuration file:</p>\n<pre><code>application:\n    components:\n        componentA:\n            - ex1\n              ex2\n              ex3\n        componentB:\n            - ex1\n              ex2\n              ex3\n        componentC:\n            - ex1\n              ex2\n              ex3\n    use: componentA\n</code></pre>\n<p>and the following configuration classes</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;application.components&quot;)\n@Primary\n@Getter\n@Setter\n@NoArgsConstrutor\npublic class MainConfig\n{\n    private List&lt;ComponentAConfig&gt; componentA = new ArrayList&lt;ComponentAConfig&gt;();\n    private List&lt;ComponentBConfig&gt; componentB = new ArrayList&lt;ComponentBConfig&gt;();\n    private List&lt;ComponentCConfig&gt; componentC = new ArrayList&lt;ComponentCConfig&gt;();\n\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstrutor\npublic abstract class ComponentConfig\n{\n    private String ex1;\n    private String ex2;\n    private String ex3;\n}\n</code></pre>\n<pre><code>@Configuration\n@ConditionalOnProperty(prefix = &quot;application&quot;, name = &quot;use&quot;, havingValue = &quot;componentA&quot;)\npublic class ComponentAConfig extends ComponentConfig\n{\n    \n}\n</code></pre>\n<pre><code>@Configuration\n@ConditionalOnProperty(prefix = &quot;application&quot;, name = &quot;use&quot;, havingValue = &quot;componentB&quot;)\npublic class ComponentBConfig extends ComponentConfig\n{\n    \n}\n</code></pre>\n<pre><code>@Configuration\n@ConditionalOnProperty(prefix = &quot;application&quot;, name = &quot;use&quot;, havingValue = &quot;componentC&quot;)\npublic class ComponentCConfig extends ComponentConfig\n{\n    \n}\n</code></pre>\n<p>Even though I have the <strong>@ConditionalOnProperty</strong> defined on each configuration class its still loads all of them. How can I load only componentA's list and ignore the other 2?\nThank you</p>\n"},{"tags":["java","android","kotlin","plural"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667762147,"post_id":74338947,"comment_id":131239114,"body_markdown":"&quot;I have problems with that&quot; -- you do not have any code that references your plurals resource. What have you tried, and what specific problems did you encounter? You can call `getQuantityString()` on a `Resources`, and you get a `Resources` by calling `getResources()` on your `Activity` or other `Context`. See [this](https://stackoverflow.com/q/41950952/115145) for more.","body":"&quot;I have problems with that&quot; -- you do not have any code that references your plurals resource. What have you tried, and what specific problems did you encounter? You can call <code>getQuantityString()</code> on a <code>Resources</code>, and you get a <code>Resources</code> by calling <code>getResources()</code> on your <code>Activity</code> or other <code>Context</code>. See <a href=\"https://stackoverflow.com/q/41950952/115145\">this</a> for more."},{"owner":{"account_id":12027415,"reputation":97,"user_id":10560969,"display_name":"Alex20280"},"score":0,"creation_date":1667762901,"post_id":74338947,"comment_id":131239299,"body_markdown":"I have updated the question. Please check it.","body":"I have updated the question. Please check it."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667762353,"creation_date":1667762353,"answer_id":74338994,"question_id":74338947,"body_markdown":"You shouldn&#39;t be using a string resource like that in it, for two reasons.  First off, it just confuses things.  Secondly, by telling the translator that these are plurals of each other they have more context to translate.  It should be \r\n\r\n    &lt;plurals name=&quot;amountOfMinutes&quot;&gt;\r\n            &lt;item quantity=&quot;one&quot;&gt;%d minute&lt;/item&gt;\r\n            &lt;item quantity=&quot;other&quot;&gt;%d minutes&lt;/item&gt;\r\n    &lt;/plurals&gt;\r\n\r\nNotice we also put the quantity in the string, to get with getQuantityString.  This is because putting it first like that isn&#39;t always right.  Some languages say &quot;minute one&quot; instead of one minute.  Some use characters other than spaces to separate them.  Let the translators do as much of that as possible, you&#39;re assuming too much about how English works.","title":"What is the right way to use Android Plurals?","body":"<p>You shouldn't be using a string resource like that in it, for two reasons.  First off, it just confuses things.  Secondly, by telling the translator that these are plurals of each other they have more context to translate.  It should be</p>\n<pre><code>&lt;plurals name=&quot;amountOfMinutes&quot;&gt;\n        &lt;item quantity=&quot;one&quot;&gt;%d minute&lt;/item&gt;\n        &lt;item quantity=&quot;other&quot;&gt;%d minutes&lt;/item&gt;\n&lt;/plurals&gt;\n</code></pre>\n<p>Notice we also put the quantity in the string, to get with getQuantityString.  This is because putting it first like that isn't always right.  Some languages say &quot;minute one&quot; instead of one minute.  Some use characters other than spaces to separate them.  Let the translators do as much of that as possible, you're assuming too much about how English works.</p>\n"}],"owner":{"account_id":12027415,"reputation":97,"user_id":10560969,"display_name":"Alex20280"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667762859,"creation_date":1667761853,"question_id":74338947,"body_markdown":"I have method that gets a list (listOf(1, 5, 10, 15, 30)) and TimeType (MINUTES or HOURS) as parameters. \r\nAnd I have to use plurals for MINUTES so that if I choose 1 I get &quot;minute&quot; and if I choose 5 or 10 I get &quot;minutes&quot;. But I have problems with that. Could you please help me?\r\n\r\n```\r\nval title = when(type){\r\n            TimeType.MINUTES -&gt; R.string.time_minutes\r\n            TimeType.HOURS -&gt; R.string.time_hours\r\n        }\r\n\r\ntitle = String.format(getString(title), interval)\r\n```\r\n```\r\n    &lt;plurals name=&quot;amountOfMinutes&quot;&gt;\r\n        &lt;item quantity=&quot;one&quot;&gt;@string/minute&lt;/item&gt;\r\n        &lt;item quantity=&quot;other&quot;&gt;@string/minutes&lt;/item&gt;\r\n    &lt;/plurals&gt;\r\n```\r\n\r\nUpd.\r\n\r\nI tried to use it like that but the problem is that val title should be int but in my case it becomes Any and getString in format dosn&#39;t accept it. \r\n```\r\nval title = when(type){\r\n            TimeType.MINUTES -&gt; for (i in intervals){\r\n                resources.getQuantityString(R.plurals.amountOfMinutes, i, i)\r\n            }\r\n            TimeType.HOURS -&gt; R.string.options_for_reminder_time_hours\r\n        }\r\n```","title":"What is the right way to use Android Plurals?","body":"<p>I have method that gets a list (listOf(1, 5, 10, 15, 30)) and TimeType (MINUTES or HOURS) as parameters.\nAnd I have to use plurals for MINUTES so that if I choose 1 I get &quot;minute&quot; and if I choose 5 or 10 I get &quot;minutes&quot;. But I have problems with that. Could you please help me?</p>\n<pre><code>val title = when(type){\n            TimeType.MINUTES -&gt; R.string.time_minutes\n            TimeType.HOURS -&gt; R.string.time_hours\n        }\n\ntitle = String.format(getString(title), interval)\n</code></pre>\n<pre><code>    &lt;plurals name=&quot;amountOfMinutes&quot;&gt;\n        &lt;item quantity=&quot;one&quot;&gt;@string/minute&lt;/item&gt;\n        &lt;item quantity=&quot;other&quot;&gt;@string/minutes&lt;/item&gt;\n    &lt;/plurals&gt;\n</code></pre>\n<p>Upd.</p>\n<p>I tried to use it like that but the problem is that val title should be int but in my case it becomes Any and getString in format dosn't accept it.</p>\n<pre><code>val title = when(type){\n            TimeType.MINUTES -&gt; for (i in intervals){\n                resources.getQuantityString(R.plurals.amountOfMinutes, i, i)\n            }\n            TimeType.HOURS -&gt; R.string.options_for_reminder_time_hours\n        }\n</code></pre>\n"},{"tags":["java","string","split","substring"],"comments":[{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667739298,"post_id":74335986,"comment_id":131233827,"body_markdown":"for each(String word:splitString){\nSystem.out.println(word);\n}","body":"for each(String word:splitString){ System.out.println(word); }"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667739286,"creation_date":1667739286,"answer_id":74336018,"question_id":74335986,"body_markdown":"Your code only prints two words. To print a third word you would need yet another println, like so:\r\n\r\n    String[] splitString = sentence.split(&quot; &quot;);\r\n    System.out.println(splitString[0]);\r\n    System.out.println(splitString[1]);\r\n    System.out.println(splitString[2]);\r\n\r\nTo be able to print any length of sentence, you would not hardcode two or three but have a loop repeating for the amount of words found:\r\n\r\n    String[] splitString = sentence.split(&quot; &quot;);\r\n    for (int i=0; i&lt;splitString.length; i++) {\r\n        System.out.println(splitString[i]);\r\n    }\r\n","title":"Split a user-written String separated by spaces. (splitString) Java","body":"<p>Your code only prints two words. To print a third word you would need yet another println, like so:</p>\n<pre><code>String[] splitString = sentence.split(&quot; &quot;);\nSystem.out.println(splitString[0]);\nSystem.out.println(splitString[1]);\nSystem.out.println(splitString[2]);\n</code></pre>\n<p>To be able to print any length of sentence, you would not hardcode two or three but have a loop repeating for the amount of words found:</p>\n<pre><code>String[] splitString = sentence.split(&quot; &quot;);\nfor (int i=0; i&lt;splitString.length; i++) {\n    System.out.println(splitString[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667762838,"creation_date":1667746163,"answer_id":74336918,"question_id":74335986,"body_markdown":"```java\r\nSystem.out.println(\r\n  String.join(&quot;\\n&quot;,\r\n    sentence.split(&quot;\\\\s&quot;)\r\n  )\r\n);\r\n```","title":"Split a user-written String separated by spaces. (splitString) Java","body":"<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n  String.join(&quot;\\n&quot;,\n    sentence.split(&quot;\\\\s&quot;)\n  )\n);\n</code></pre>\n"}],"owner":{"account_id":26846296,"reputation":11,"user_id":20431997,"display_name":"Eric Quevedo Carles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1667762838,"creation_date":1667739035,"question_id":74335986,"body_markdown":"So far I&#39;ve got this program which asks me to write a sentence, then it splits it one word at a time separated by spaces.\r\nThe problem is that if I write a 3 word sentence it just prints the first two words. What I&#39;m trying to do is split the sentence with no word limit. I just talked to my teacher and he said I must use the subString method instead of the splitString one. Any ideas?\r\n\r\n\r\nThe code:\r\n\r\n```\r\npackage NF2;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Exercici13 {\r\n    public static void main(String[] args) {\r\n        //Declaring variables\r\n        Scanner ent = new Scanner(System.in);\r\n        String sentence;\r\n\r\n\r\n        //LLegim frase\r\n        System.out.println(&quot;Enter a non-empty text: &quot;);\r\n        sentence = ent.nextLine();\r\n        if(sentence.length() == 0){\r\n            System.out.println(&quot;You haven&#39;t written anything, exiting the program...&quot;);\r\n            System.exit(0);\r\n\r\n        }\r\n\r\n        //Separate by spaces\r\n        String[] splitString = sentence.split(&quot; &quot;);\r\n        System.out.println(splitString[0]);\r\n        System.out.println(splitString[1]);\r\n\r\n    }\r\n}\r\n```\r\nFor example, if I write a 3 word sentence now it only returns me the first two words. Plus I can only use the subString, so I should re-do it all over again and I&#39;m not sure where to start. Keep in mind I&#39;m a total begginner, so it&#39;s not okay to use advanced methods.\r\n","title":"Split a user-written String separated by spaces. (splitString) Java","body":"<p>So far I've got this program which asks me to write a sentence, then it splits it one word at a time separated by spaces.\nThe problem is that if I write a 3 word sentence it just prints the first two words. What I'm trying to do is split the sentence with no word limit. I just talked to my teacher and he said I must use the subString method instead of the splitString one. Any ideas?</p>\n<p>The code:</p>\n<pre><code>package NF2;\n\nimport java.util.Scanner;\n\npublic class Exercici13 {\n    public static void main(String[] args) {\n        //Declaring variables\n        Scanner ent = new Scanner(System.in);\n        String sentence;\n\n\n        //LLegim frase\n        System.out.println(&quot;Enter a non-empty text: &quot;);\n        sentence = ent.nextLine();\n        if(sentence.length() == 0){\n            System.out.println(&quot;You haven't written anything, exiting the program...&quot;);\n            System.exit(0);\n\n        }\n\n        //Separate by spaces\n        String[] splitString = sentence.split(&quot; &quot;);\n        System.out.println(splitString[0]);\n        System.out.println(splitString[1]);\n\n    }\n}\n</code></pre>\n<p>For example, if I write a 3 word sentence now it only returns me the first two words. Plus I can only use the subString, so I should re-do it all over again and I'm not sure where to start. Keep in mind I'm a total begginner, so it's not okay to use advanced methods.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1663068630,"post_id":73702162,"comment_id":130147407,"body_markdown":"I tested in my side,and your code works","body":"I tested in my side,and your code works"},{"owner":{"account_id":9080284,"reputation":440,"user_id":6760346,"display_name":"damianr13"},"score":0,"creation_date":1663068970,"post_id":73702162,"comment_id":130147538,"body_markdown":"Is it possible that the character in the string you receive has another encoding than the one you input with your keyboard? You can check that by encoding the 2 strings here: https://www.browserling.com/tools/utf8-encode \n\nBy the way I already checked for this string you included in the question but I assume your actual string is different.","body":"Is it possible that the character in the string you receive has another encoding than the one you input with your keyboard? You can check that by encoding the 2 strings here: <a href=\"https://www.browserling.com/tools/utf8-encode\" rel=\"nofollow noreferrer\">browserling.com/tools/utf8-encode</a>   By the way I already checked for this string you included in the question but I assume your actual string is different."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1663075027,"post_id":73702162,"comment_id":130150010,"body_markdown":"There are some [similar Unicode characters for `#`](https://en.wikipedia.org/wiki/Number_sign). Seeing the following code the beginner&#39;s error you probably did not make: `s.replace(u, v); System.out.println(s);` (missing assignment).","body":"There are some <a href=\"https://en.wikipedia.org/wiki/Number_sign\" rel=\"nofollow noreferrer\">similar Unicode characters for <code>#</code></a>. Seeing the following code the beginner&#39;s error you probably did not make: <code>s.replace(u, v); System.out.println(s);</code> (missing assignment)."},{"owner":{"account_id":21706289,"reputation":473,"user_id":16018684,"display_name":"Amos Machora"},"score":0,"creation_date":1663075609,"post_id":73702162,"comment_id":130150266,"body_markdown":"@JoopEggen Please rephrase if you don&#39;t mind i have still not understood.","body":"@JoopEggen Please rephrase if you don&#39;t mind i have still not understood."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1663076133,"post_id":73702162,"comment_id":130150503,"body_markdown":"`replace` doesn&#39;t modify the (immutable) input string, but rather returns the updated string.","body":"<code>replace</code> doesn&#39;t modify the (immutable) input string, but rather returns the updated string."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1663076316,"post_id":73702162,"comment_id":130150591,"body_markdown":"Sorry my fault. That `indexOf(`#&quot;)` would give -1  is baffling, a second error I thought. You might try `indexOf(&#39;#&#39;)` - a char. That would prevent some invisible char being copied. I was thinking maybe some Unicode twin was copied. There are very similar characters see Wikipedia link. Furthermore you could have forgotten to assign the result of the replace call.","body":"Sorry my fault. That <code>indexOf(</code>#&quot;)` would give -1  is baffling, a second error I thought. You might try <code>indexOf(&#39;#&#39;)</code> - a char. That would prevent some invisible char being copied. I was thinking maybe some Unicode twin was copied. There are very similar characters see Wikipedia link. Furthermore you could have forgotten to assign the result of the replace call."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1663078918,"post_id":73702162,"comment_id":130151777,"body_markdown":"I think Joop is suggesting that your input string might *look like* it contains `# and bananas`, but in fact it contains a different character which *resembles* `#`.  It might be `＃ and bananas` or `﹟ and bananas` or `♯ and bananas`.","body":"I think Joop is suggesting that your input string might <i>look like</i> it contains <code># and bananas</code>, but in fact it contains a different character which <i>resembles</i> <code>#</code>.  It might be <code>＃ and bananas</code> or <code>﹟ and bananas</code> or <code>♯ and bananas</code>."}],"owner":{"account_id":21706289,"reputation":473,"user_id":16018684,"display_name":"Amos Machora"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667762789,"creation_date":1663068352,"question_id":73702162,"body_markdown":"I have a string\r\n\r\n    &quot;apples, pears # and bananas\\\\ngrapes\\\\nbananas !apples&quot;\r\n\r\nI want to remove the string substring `# and bananas`.\r\n\r\n    private static String cleaned(String main, String substring) {\r\n        return main.replace(substring, &quot;&quot;);\r\n    }\r\n but `replace` method doesn&#39;t work somehow. I feel it has something to do with the  `#` because if I try getting the index of `#` using `main.indexOf(&quot;#&quot;)` i get `-1`.\r\n\r\nWhen I call the method directly like this\r\n\r\n    System.out.println(cleaned(&quot;apples, pears # and bananas\\\\ngrapes\\\\nbananas !apples&quot;, &quot;# and bananas&quot;));\r\n\r\nit surprisingly works I get the correct answer\r\n `**apples, pears \\ngrapes\\nbananas !apples**`. However when I call the method programmatically from another method like this \r\n\r\n    public static String stripComments(String text, String[] commentSymbols) \r\n        //some code\r\n        return cleaned(stringBuilder.toString(), textAfterComment.toString());\r\n    }\r\n\r\nit does not produce the correct answer. I get `**apples, pears  and bananas\\ngrapes\\nbananas**`\r\n\r\n**Why do I get -1 meaning that `#` is not found yet it is clearly in the string? And how can I remove the substring with or without the replace method ?**\r\n\r\n\r\n","title":"How to remove section of a String containing a special character Java","body":"<p>I have a string</p>\n<pre><code>&quot;apples, pears # and bananas\\\\ngrapes\\\\nbananas !apples&quot;\n</code></pre>\n<p>I want to remove the string substring <code># and bananas</code>.</p>\n<pre><code>private static String cleaned(String main, String substring) {\n    return main.replace(substring, &quot;&quot;);\n}\n</code></pre>\n<p>but <code>replace</code> method doesn't work somehow. I feel it has something to do with the  <code>#</code> because if I try getting the index of <code>#</code> using <code>main.indexOf(&quot;#&quot;)</code> i get <code>-1</code>.</p>\n<p>When I call the method directly like this</p>\n<pre><code>System.out.println(cleaned(&quot;apples, pears # and bananas\\\\ngrapes\\\\nbananas !apples&quot;, &quot;# and bananas&quot;));\n</code></pre>\n<p>it surprisingly works I get the correct answer\n<code>**apples, pears \\ngrapes\\nbananas !apples**</code>. However when I call the method programmatically from another method like this</p>\n<pre><code>public static String stripComments(String text, String[] commentSymbols) \n    //some code\n    return cleaned(stringBuilder.toString(), textAfterComment.toString());\n}\n</code></pre>\n<p>it does not produce the correct answer. I get <code>**apples, pears  and bananas\\ngrapes\\nbananas**</code></p>\n<p><strong>Why do I get -1 meaning that <code>#</code> is not found yet it is clearly in the string? And how can I remove the substring with or without the replace method ?</strong></p>\n"},{"tags":["java","algorithm","random","prng"],"comments":[{"owner":{"account_id":2811410,"reputation":4474,"user_id":2417578,"accept_rate":50,"display_name":"sh1"},"score":1,"creation_date":1374537460,"post_id":17746768,"comment_id":25968623,"body_markdown":"Exploring this problem further, I just noticed that the last-resort SecureRandom generator is SHA1.  It&#39;s possible they&#39;re doing something other than the obvious; otherwise SHA1 has an internal state of 160 bits, which is not sufficient to shuffle a single deck of cards.  It would mean that no matter what you did to your RNG or your shuffle algorithm, it would still be limited to producing only a subset of possible permutations.  Strictly this does not appear as one of your requirements; so maybe that&#39;s OK.","body":"Exploring this problem further, I just noticed that the last-resort SecureRandom generator is SHA1.  It&#39;s possible they&#39;re doing something other than the obvious; otherwise SHA1 has an internal state of 160 bits, which is not sufficient to shuffle a single deck of cards.  It would mean that no matter what you did to your RNG or your shuffle algorithm, it would still be limited to producing only a subset of possible permutations.  Strictly this does not appear as one of your requirements; so maybe that&#39;s OK."}],"answers":[{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374240441,"creation_date":1374239461,"answer_id":17746948,"question_id":17746768,"body_markdown":"You can use `java.security.SecureRandom` as you can use `java.util.Random` for such things.\r\n\r\nOnly be aware that `java.security.SecureRandom` can depend on some entropy from the computer running the program. If you get to many random values from it then it may block until enough entropy is generated by the computer (e.g. on linux `java.security.SecureRandom` is using `/dev/urandom`).\r\n\r\nSo if you want to generate many random values and can life with a PRNG use `java.util.Random`.","title":"Is java.secure.random a sufficient choice for gambling industry?","body":"<p>You can use <code>java.security.SecureRandom</code> as you can use <code>java.util.Random</code> for such things.</p>\n\n<p>Only be aware that <code>java.security.SecureRandom</code> can depend on some entropy from the computer running the program. If you get to many random values from it then it may block until enough entropy is generated by the computer (e.g. on linux <code>java.security.SecureRandom</code> is using <code>/dev/urandom</code>).</p>\n\n<p>So if you want to generate many random values and can life with a PRNG use <code>java.util.Random</code>.</p>\n"},{"tags":[],"owner":{"account_id":2485637,"reputation":17240,"user_id":2164109,"display_name":"morgano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374239471,"creation_date":1374239471,"answer_id":17746954,"question_id":17746768,"body_markdown":"[Documentation about SecureRandom](http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html) says it may block waiting for the system to generate more entropy (for instance, in Linux it takes random numbers from /dev/random), so if you are going to use it, maybe you will need some help from hardware: install random number generator card (a hardware device that generates real random numbers, not pseudo-random ones) this way your system will generate random numbers with enough speed so your program doesn&#39;t get blocked.","title":"Is java.secure.random a sufficient choice for gambling industry?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html\" rel=\"nofollow\">Documentation about SecureRandom</a> says it may block waiting for the system to generate more entropy (for instance, in Linux it takes random numbers from /dev/random), so if you are going to use it, maybe you will need some help from hardware: install random number generator card (a hardware device that generates real random numbers, not pseudo-random ones) this way your system will generate random numbers with enough speed so your program doesn't get blocked.</p>\n"},{"tags":[],"owner":{"account_id":2811410,"reputation":4474,"user_id":2417578,"accept_rate":50,"display_name":"sh1"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667762502,"creation_date":1374247240,"answer_id":17749722,"question_id":17746768,"body_markdown":"As others say, the secure RNG can have limited throughput.  To mitigate this\r\nyou can either stretch that secure randomness by seeding a CPRNG, or you can\r\ntry to optimise your usage of the bitstream.\r\n\r\nTo shuffle a pack of cards, for example, you need only 226 bits, but a naive\r\nalgorithm (calling `nextInt(n)` for each card) will likely use 1600 or 3200\r\nbits, wasting 85% of your entropy and making you seven times more susceptible\r\nto delays.\r\n\r\nFor this situation I think the [Doctor Jacques\r\nmethod][1] would be appropriate.\r\n\r\nTo go with that, here&#39;s some performance analysis against progressively more\r\ncostly entropy sources (also contains code):\r\n\r\n[Bit recycling for scaling random number generators][2]\r\n\r\nI would lean towards efficient usage rather than stretching, because I think it\r\nwould be a lot easier to prove the fairness of an efficient consumer of a\r\ntrustworthy entropy stream, than to prove the fairness of any drawing method\r\nwith a well-seeded PRNG.\r\n\r\n---\r\n**EDIT&lt;sup&gt;2&lt;/sup&gt;:**\r\nI don&#39;t really know Java, but I put this together:\r\n\r\n    public class MySecureRandom extends java.security.SecureRandom {\r\n        private long m = 1;\r\n        private long r = 0;\r\n\r\n        @Override\r\n        public final int nextInt(int n) {\r\n            while (true) {\r\n                if (m &lt; 0x80000000L) {\r\n                    m &lt;&lt;= 32;\r\n                    r &lt;&lt;= 32;\r\n                    r += (long)next(32) - Integer.MIN_VALUE;\r\n                }\r\n                long q = m / n;\r\n                if (r &lt; n * q) {\r\n                    int x = (int)(r % n);\r\n                    m = q;\r\n                    r /= n;\r\n                    return x;\r\n                }\r\n                m -= n * q;\r\n                r -= n * q;\r\n            }\r\n        }\r\n    }\r\n\r\nThis does away with the greedy default uniform [0,n-1] generator and replaces it with a modified Doctor Jacques version.  Timing a card-shuffle range of values shows almost a 6x speed-up over the `SecureRandom.nextInt(n)`.\r\n\r\nMy previous version of this code (only 2x speed-up) assumed that `SecureRandom.next(b)` was efficient, but it turns out that call was discarding entropy and dragging the whole loop down.  This version manages its own chunking.\n\n [1]: https://web.archive.org/web/20171012154111/http://mathforum.org/library/drmath/view/65653.html\n [2]: https://arxiv.org/pdf/1012.4290.pdf","title":"Is java.secure.random a sufficient choice for gambling industry?","body":"<p>As others say, the secure RNG can have limited throughput.  To mitigate this\nyou can either stretch that secure randomness by seeding a CPRNG, or you can\ntry to optimise your usage of the bitstream.</p>\n<p>To shuffle a pack of cards, for example, you need only 226 bits, but a naive\nalgorithm (calling <code>nextInt(n)</code> for each card) will likely use 1600 or 3200\nbits, wasting 85% of your entropy and making you seven times more susceptible\nto delays.</p>\n<p>For this situation I think the <a href=\"https://web.archive.org/web/20171012154111/http://mathforum.org/library/drmath/view/65653.html\" rel=\"nofollow noreferrer\">Doctor Jacques\nmethod</a> would be appropriate.</p>\n<p>To go with that, here's some performance analysis against progressively more\ncostly entropy sources (also contains code):</p>\n<p><a href=\"https://arxiv.org/pdf/1012.4290.pdf\" rel=\"nofollow noreferrer\">Bit recycling for scaling random number generators</a></p>\n<p>I would lean towards efficient usage rather than stretching, because I think it\nwould be a lot easier to prove the fairness of an efficient consumer of a\ntrustworthy entropy stream, than to prove the fairness of any drawing method\nwith a well-seeded PRNG.</p>\n<hr />\n<p><strong>EDIT<sup>2</sup>:</strong>\nI don't really know Java, but I put this together:</p>\n<pre><code>public class MySecureRandom extends java.security.SecureRandom {\n    private long m = 1;\n    private long r = 0;\n\n    @Override\n    public final int nextInt(int n) {\n        while (true) {\n            if (m &lt; 0x80000000L) {\n                m &lt;&lt;= 32;\n                r &lt;&lt;= 32;\n                r += (long)next(32) - Integer.MIN_VALUE;\n            }\n            long q = m / n;\n            if (r &lt; n * q) {\n                int x = (int)(r % n);\n                m = q;\n                r /= n;\n                return x;\n            }\n            m -= n * q;\n            r -= n * q;\n        }\n    }\n}\n</code></pre>\n<p>This does away with the greedy default uniform [0,n-1] generator and replaces it with a modified Doctor Jacques version.  Timing a card-shuffle range of values shows almost a 6x speed-up over the <code>SecureRandom.nextInt(n)</code>.</p>\n<p>My previous version of this code (only 2x speed-up) assumed that <code>SecureRandom.next(b)</code> was efficient, but it turns out that call was discarding entropy and dragging the whole loop down.  This version manages its own chunking.</p>\n"}],"owner":{"account_id":1313453,"reputation":2132,"user_id":1260931,"accept_rate":76,"display_name":"pichsenmeister"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1458,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17749722,"answer_count":3,"score":6,"last_activity_date":1667762502,"creation_date":1374238954,"question_id":17746768,"body_markdown":"Java provides an cryptographically secure random number generator in the package java.secure.random. \r\n\r\nIs it possible to use this number generator if I consider things like seeding and cyclic re-instantiation of the RNG? Or can I use the number generator &#39;as it is&#39;?\r\n\r\nHas anyone experience with this generator?\r\n\r\n\r\n**EDIT**: the requirements are:\r\n\r\na) Be statistically independent\r\n\r\nb) Be fairly distributed (within statistically expected bounds) over their range\r\n\r\nc) Pass various recognized statistical tests\r\n\r\nd) Be cryptographically strong.","title":"Is java.secure.random a sufficient choice for gambling industry?","body":"<p>Java provides an cryptographically secure random number generator in the package java.secure.random. </p>\n\n<p>Is it possible to use this number generator if I consider things like seeding and cyclic re-instantiation of the RNG? Or can I use the number generator 'as it is'?</p>\n\n<p>Has anyone experience with this generator?</p>\n\n<p><strong>EDIT</strong>: the requirements are:</p>\n\n<p>a) Be statistically independent</p>\n\n<p>b) Be fairly distributed (within statistically expected bounds) over their range</p>\n\n<p>c) Pass various recognized statistical tests</p>\n\n<p>d) Be cryptographically strong.</p>\n"},{"tags":["java","java-3d"],"comments":[{"owner":{"account_id":90696,"reputation":33605,"user_id":249543,"accept_rate":98,"display_name":"jefflunt"},"score":0,"creation_date":1304516160,"post_id":5883979,"comment_id":8791173,"body_markdown":"Possibly a duplicate of:\nhttp://stackoverflow.com/questions/724219/how-to-convert-a-3d-point-into-2d-perspective-projection, since once you figure that part out, drawing the label is very easy.","body":"Possibly a duplicate of: <a href=\"http://stackoverflow.com/questions/724219/how-to-convert-a-3d-point-into-2d-perspective-projection\" title=\"how to convert a 3d point into 2d perspective projection\">stackoverflow.com/questions/724219/&hellip;</a>, since once you figure that part out, drawing the label is very easy."}],"answers":[{"tags":[],"owner":{"account_id":750467,"reputation":327,"user_id":932122,"accept_rate":0,"display_name":"Dakshina Ilangovan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1315102831,"creation_date":1305714200,"answer_id":6043161,"question_id":5883979,"body_markdown":"I found the solution.\r\nThis is the function to display Text3D at image 2D coordinates\r\n\r\n    public void drawLabel(GraphicsContext3D gc, double x, double y, int zOffset, String s) {\r\n    boolean frontBufferRenderingState = gc.getFrontBufferRendering();\r\n    gc.setBufferOverride(true);\r\n    gc.setFrontBufferRendering(true);\r\n    Point3d eye = getEye();\r\n    double labelZ = zOffset * LABEL_Z_OFFSET_SCALE\r\n    + LABEL_Z_SCALE * eye.z + LABEL_Z_OFFSET;\r\n    \r\n    double xOffset = LABEL_X_OFFSET * m_pixelToMeterScale;\r\n    double yOffset = LABEL_Y_OFFSET * m_pixelToMeterScale;\r\n    Point3d p = new Point3d(x + xOffset, y + yOffset, 0.0);\r\n    {\r\n\r\n    // Project given (x, y) coordinates to the plane z=labelZ.\r\n    \r\n    // Convert from image-plate to eye coordinates.\r\n    p.x -= eye.x;\r\n    p.y -= eye.y;\r\n    \r\n    double inversePerspectiveScale = 1.0 - labelZ / eye.z;\r\n    p.x *= inversePerspectiveScale;\r\n    p.y *= inversePerspectiveScale;\r\n    \r\n    // Convert from eye to image-plate coordinates.\r\n    p.x += eye.x;\r\n    p.y += eye.y;\r\n    \r\n    }\r\n    \r\n    Transform3D scale = new Transform3D();\r\n    scale.set(LABEL_SCALE);\r\n    \r\n    Vector3d t = new Vector3d(p.x, p.y, labelZ);\r\n    Transform3D translation = new Transform3D();\r\n    translation.set(t);\r\n    translation.mul(scale);\r\n    \r\n    Transform3D transform = new Transform3D(m_imageToVworld);\r\n    transform.mul(translation);\r\n    \r\n    gc.setModelTransform(transform);\r\n    \r\n    //-----------------\r\n    int fontSize=(int)(10*m_magnification);\r\n    \r\n    if(fontSize&gt;20)\r\n    fontSize=20;\r\n    //---------------\r\n    \r\n    // XXX: Courier may not be available on all systems.\r\n    Text2D text = new Text2D(s, new Color3f(1.0f, 1.0f, 1.0f),\r\n    &quot;Courier&quot;, fontSize, Font.BOLD);\r\n    \r\n    gc.draw(text);\r\n    \r\n    gc.flush(true);\r\n    \r\n    // NOTE: Resetting the model transform here is very important.\r\n    // For some reason, not doing this causes the immediate\r\n    // following frame to render incorrectly (but subsequent\r\n    // frames will render correctly). In some ways, this\r\n    // makes sense, because most rendering code assumes that\r\n    // GraphicsContext3D has been set to some reasonable\r\n    // transform.\r\n    gc.setModelTransform(m_objectTransform);\r\n    gc.setFrontBufferRendering(frontBufferRenderingState);\r\n    }\r\n\r\nThis is the function to take 3D coordinates and convert them to image 2D coordinates and render using above function\r\n\r\n    private boolean displayOnScreenLabel(int node, String label) {\r\n    boolean success = false;\r\n    try {\r\n    Transform3D transform = m_parameters.getObjectToEyeTransform();\r\n    Point3d nodeC = new Point3d();\r\n    \r\n    m_graph.getNodeCoordinates(node, nodeC);\r\n    transform.transform(nodeC);\r\n    \r\n    Point3d eye = m_parameters.getEye();\r\n    \r\n    double perspectiveScale = 1.0 / (1.0 - nodeC.z / eye.z);\r\n    \r\n    double centerX = eye.x + nodeC.x * perspectiveScale;\r\n    double centerY = eye.y + nodeC.y * perspectiveScale;\r\n    \r\n    GraphicsContext3D gc = m_canvas.getGraphicsContext3D();\r\n    \r\n    m_parameters.drawLabel(gc, centerX, centerY, m_labelZOffsetCounter++, label);\r\n    \r\n    success = true;\r\n    } catch (final java.lang.OutOfMemoryError error) {\r\n    JOptionPane.showMessageDialog(m_frame, &quot;The 3D Graphics is unable to find enough memory on your system. Kill the application!&quot;, &quot;Out Of Memory!&quot;, JOptionPane.ERROR_MESSAGE);\r\n    } catch (Exception e) {\r\n    success = false;\r\n    }\r\n    return success;\r\n    }\r\n\r\n","title":"Translate Java 3D coordinates to 2D screen coordinates","body":"<p>I found the solution.\nThis is the function to display Text3D at image 2D coordinates</p>\n\n<pre><code>public void drawLabel(GraphicsContext3D gc, double x, double y, int zOffset, String s) {\nboolean frontBufferRenderingState = gc.getFrontBufferRendering();\ngc.setBufferOverride(true);\ngc.setFrontBufferRendering(true);\nPoint3d eye = getEye();\ndouble labelZ = zOffset * LABEL_Z_OFFSET_SCALE\n+ LABEL_Z_SCALE * eye.z + LABEL_Z_OFFSET;\n\ndouble xOffset = LABEL_X_OFFSET * m_pixelToMeterScale;\ndouble yOffset = LABEL_Y_OFFSET * m_pixelToMeterScale;\nPoint3d p = new Point3d(x + xOffset, y + yOffset, 0.0);\n{\n\n// Project given (x, y) coordinates to the plane z=labelZ.\n\n// Convert from image-plate to eye coordinates.\np.x -= eye.x;\np.y -= eye.y;\n\ndouble inversePerspectiveScale = 1.0 - labelZ / eye.z;\np.x *= inversePerspectiveScale;\np.y *= inversePerspectiveScale;\n\n// Convert from eye to image-plate coordinates.\np.x += eye.x;\np.y += eye.y;\n\n}\n\nTransform3D scale = new Transform3D();\nscale.set(LABEL_SCALE);\n\nVector3d t = new Vector3d(p.x, p.y, labelZ);\nTransform3D translation = new Transform3D();\ntranslation.set(t);\ntranslation.mul(scale);\n\nTransform3D transform = new Transform3D(m_imageToVworld);\ntransform.mul(translation);\n\ngc.setModelTransform(transform);\n\n//-----------------\nint fontSize=(int)(10*m_magnification);\n\nif(fontSize&gt;20)\nfontSize=20;\n//---------------\n\n// XXX: Courier may not be available on all systems.\nText2D text = new Text2D(s, new Color3f(1.0f, 1.0f, 1.0f),\n\"Courier\", fontSize, Font.BOLD);\n\ngc.draw(text);\n\ngc.flush(true);\n\n// NOTE: Resetting the model transform here is very important.\n// For some reason, not doing this causes the immediate\n// following frame to render incorrectly (but subsequent\n// frames will render correctly). In some ways, this\n// makes sense, because most rendering code assumes that\n// GraphicsContext3D has been set to some reasonable\n// transform.\ngc.setModelTransform(m_objectTransform);\ngc.setFrontBufferRendering(frontBufferRenderingState);\n}\n</code></pre>\n\n<p>This is the function to take 3D coordinates and convert them to image 2D coordinates and render using above function</p>\n\n<pre><code>private boolean displayOnScreenLabel(int node, String label) {\nboolean success = false;\ntry {\nTransform3D transform = m_parameters.getObjectToEyeTransform();\nPoint3d nodeC = new Point3d();\n\nm_graph.getNodeCoordinates(node, nodeC);\ntransform.transform(nodeC);\n\nPoint3d eye = m_parameters.getEye();\n\ndouble perspectiveScale = 1.0 / (1.0 - nodeC.z / eye.z);\n\ndouble centerX = eye.x + nodeC.x * perspectiveScale;\ndouble centerY = eye.y + nodeC.y * perspectiveScale;\n\nGraphicsContext3D gc = m_canvas.getGraphicsContext3D();\n\nm_parameters.drawLabel(gc, centerX, centerY, m_labelZOffsetCounter++, label);\n\nsuccess = true;\n} catch (final java.lang.OutOfMemoryError error) {\nJOptionPane.showMessageDialog(m_frame, \"The 3D Graphics is unable to find enough memory on your system. Kill the application!\", \"Out Of Memory!\", JOptionPane.ERROR_MESSAGE);\n} catch (Exception e) {\nsuccess = false;\n}\nreturn success;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2737472,"reputation":712,"user_id":2359830,"display_name":"ThaBomb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667762485,"creation_date":1367956959,"answer_id":16427551,"question_id":5883979,"body_markdown":"Here&#39;s what i used to convert my 3D coordinates into perspective 2D, x2 and y2 being the 2dimensional coordinates, xyz being the 3D coordinates.\r\n\r\nuse these formulas:\r\n\r\nx2 = cos(30)*x - cos(30)*y\r\n\r\ny2 = sin(30)*x + sin(30)*y + z\r\n\r\nI picked the angle 30 as it is easy for perspective purposes, also used in Isometric grids for drawing 3D on 2D papers. As the z axe will be the vertical one, x and y are the ones at 60 degrees from it right and left. [Isometric Grid Picture.][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20160328125659/http://mathforum.org/workshops/sum98/participants/sanders/isomgrid.gif\r\n\r\nI&#39;m still working on rotation, but without altering the axes, just coordinate rotation in 3D.\r\nEnjoy.","title":"Translate Java 3D coordinates to 2D screen coordinates","body":"<p>Here's what i used to convert my 3D coordinates into perspective 2D, x2 and y2 being the 2dimensional coordinates, xyz being the 3D coordinates.</p>\n<p>use these formulas:</p>\n<p>x2 = cos(30)*x - cos(30)*y</p>\n<p>y2 = sin(30)*x + sin(30)*y + z</p>\n<p>I picked the angle 30 as it is easy for perspective purposes, also used in Isometric grids for drawing 3D on 2D papers. As the z axe will be the vertical one, x and y are the ones at 60 degrees from it right and left. <a href=\"https://web.archive.org/web/20160328125659/http://mathforum.org/workshops/sum98/participants/sanders/isomgrid.gif\" rel=\"nofollow noreferrer\">Isometric Grid Picture.</a></p>\n<p>I'm still working on rotation, but without altering the axes, just coordinate rotation in 3D.\nEnjoy.</p>\n"},{"tags":[],"owner":{"account_id":10839766,"reputation":5282,"user_id":8200485,"accept_rate":82,"display_name":"hyper-neutrino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440385091,"creation_date":1440385091,"answer_id":32173889,"question_id":5883979,"body_markdown":"I have an algorithm/method for converting `[x,y,z]` into `[x,y]` with the `depth` parameter:\r\n\r\nThe `x` value is : `(int) (x - (z / depth * x))`\r\n\r\nThe `y` value is : `(int) (y - (z / depth * y))`\r\n\r\nEssentially, the depth is the focal point. The vanishing point will be at `[0,0,depth]`.","title":"Translate Java 3D coordinates to 2D screen coordinates","body":"<p>I have an algorithm/method for converting <code>[x,y,z]</code> into <code>[x,y]</code> with the <code>depth</code> parameter:</p>\n\n<p>The <code>x</code> value is : <code>(int) (x - (z / depth * x))</code></p>\n\n<p>The <code>y</code> value is : <code>(int) (y - (z / depth * y))</code></p>\n\n<p>Essentially, the depth is the focal point. The vanishing point will be at <code>[0,0,depth]</code>.</p>\n"}],"owner":{"account_id":750467,"reputation":327,"user_id":932122,"accept_rate":0,"display_name":"Dakshina Ilangovan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3578,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1667762485,"creation_date":1304514807,"question_id":5883979,"body_markdown":"I&#39;m working with a Java 3D application called &quot;Walrus&quot; that is used to display directed graphs. The code already has a feature to highlight a node and draw label adjacent in graph given its screen coordinates. \r\n\r\n \r\n\r\nUpon rotating the screen, the node is no more highlighted. \r\n\r\n \r\n\r\nWhat I have is the node coordinates in 3D. I need to draw label to it. \r\n\r\n \r\n\r\nCode for highlight using 3D coordinates\r\n\r\n    Point3d p = new Point3d();\r\n    m_graph.getNodeCoordinates(node, p);\r\n\r\n    PointArray array = new PointArray(1, PointArray.COORDINATES);\r\n    array.setCoordinate(0, p);\r\n    m_parameters.putModelTransform(gc);\r\n    gc.setAppearance(m_parameters.getPickAppearance());\r\n\r\n \r\n\r\n1. How can I draw Label with 3D coordinates( Raster graphics throws error Renderer: Error creating immediate mode Canvas3D graphics context )\r\n\r\n \r\n\r\n \r\n\r\n2. How can I convert 3D coordinates to 2D screen and use existing code to draw label at 2D screen point\r\n\r\n \r\n\r\nThanks,\r\n\r\nDakshina\r\n","title":"Translate Java 3D coordinates to 2D screen coordinates","body":"<p>I'm working with a Java 3D application called \"Walrus\" that is used to display directed graphs. The code already has a feature to highlight a node and draw label adjacent in graph given its screen coordinates. </p>\n\n<p>Upon rotating the screen, the node is no more highlighted. </p>\n\n<p>What I have is the node coordinates in 3D. I need to draw label to it. </p>\n\n<p>Code for highlight using 3D coordinates</p>\n\n<pre><code>Point3d p = new Point3d();\nm_graph.getNodeCoordinates(node, p);\n\nPointArray array = new PointArray(1, PointArray.COORDINATES);\narray.setCoordinate(0, p);\nm_parameters.putModelTransform(gc);\ngc.setAppearance(m_parameters.getPickAppearance());\n</code></pre>\n\n<ol>\n<li><p>How can I draw Label with 3D coordinates( Raster graphics throws error Renderer: Error creating immediate mode Canvas3D graphics context )</p></li>\n<li><p>How can I convert 3D coordinates to 2D screen and use existing code to draw label at 2D screen point</p></li>\n</ol>\n\n<p>Thanks,</p>\n\n<p>Dakshina</p>\n"},{"tags":["java","numbers","fibonacci"],"comments":[{"owner":{"account_id":395849,"reputation":46365,"user_id":759019,"accept_rate":98,"display_name":"Anirudh Ramanathan"},"score":2,"creation_date":1365478419,"post_id":15892801,"comment_id":22630285,"body_markdown":"x3 doesn&#39;t exist outside the for loop","body":"x3 doesn&#39;t exist outside the for loop"},{"owner":{"account_id":2087861,"reputation":115,"user_id":1858350,"accept_rate":88,"display_name":"user1858350"},"score":0,"creation_date":1365478578,"post_id":15892801,"comment_id":22630318,"body_markdown":"So instead of declaring x3 within the loop I would declare it outside?","body":"So instead of declaring x3 within the loop I would declare it outside?"},{"owner":{"account_id":2087861,"reputation":115,"user_id":1858350,"accept_rate":88,"display_name":"user1858350"},"score":0,"creation_date":1365478754,"post_id":15892801,"comment_id":22630361,"body_markdown":"Yeah declaring it outside fixed that error.","body":"Yeah declaring it outside fixed that error."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1365510235,"creation_date":1365478745,"answer_id":15892861,"question_id":15892801,"body_markdown":"The `fibcalc()` method has a single `int` parameter, but you are calling it with *two* parameters. \r\n\r\nChange the call from\r\n\r\n    fibcalc(num, x3)\r\n\r\nto\r\n\r\n    fibcalc(num)\r\n\r\nie change that line to:\r\n\r\n    System.out.printf(&quot;Fibonacci #%d is %f&quot;, num, fibcalc(num));\r\n\r\n---\r\n\r\nAlso, if you want accurate numbers for your results, change from using `double` to using [`BigInteger`][1], which can handle arbitrarily large numbers accurately.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html","title":"Fibonacci calculation","body":"<p>The <code>fibcalc()</code> method has a single <code>int</code> parameter, but you are calling it with <em>two</em> parameters. </p>\n\n<p>Change the call from</p>\n\n<pre><code>fibcalc(num, x3)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>fibcalc(num)\n</code></pre>\n\n<p>ie change that line to:</p>\n\n<pre><code>System.out.printf(\"Fibonacci #%d is %f\", num, fibcalc(num));\n</code></pre>\n\n<hr>\n\n<p>Also, if you want accurate numbers for your results, change from using <code>double</code> to using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html\" rel=\"nofollow\"><code>BigInteger</code></a>, which can handle arbitrarily large numbers accurately.</p>\n"},{"tags":[],"owner":{"account_id":1923119,"reputation":112117,"user_id":1734130,"display_name":"mvp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667762470,"creation_date":1365480153,"answer_id":15893077,"question_id":15892801,"body_markdown":"If you want to compute Fibonacci numbers, you can use direct (non-recursive, non-iterative) [formula for Fibonacci numbers][1]:\r\n\r\n    Fib(n) = (pow((1+sqrt(5))/2, n) + pow((1-sqrt(5))/2, n)) / sqrt(5)\r\n\r\nIt turns out that for all `n &gt;= 0`, you can simplify this formula to:\r\n\r\n    Fib(n) = round(pow((1+sqrt(5))/2, n) / sqrt(5))\r\n\r\nKnowing this, you can use following simple implementation for `fibcalc`:\r\n\r\n    public static double fibcalc(int num) {\r\n        return Math.floor(Math.pow((1+Math.sqrt(5))/2, num) / Math.sqrt(5) + 0.5);\r\n    }\r\n\r\n  [1]: https://web.archive.org/web/20170829141954/http://mathforum.org/library/drmath/view/52686.html","title":"Fibonacci calculation","body":"<p>If you want to compute Fibonacci numbers, you can use direct (non-recursive, non-iterative) <a href=\"https://web.archive.org/web/20170829141954/http://mathforum.org/library/drmath/view/52686.html\" rel=\"nofollow noreferrer\">formula for Fibonacci numbers</a>:</p>\n<pre><code>Fib(n) = (pow((1+sqrt(5))/2, n) + pow((1-sqrt(5))/2, n)) / sqrt(5)\n</code></pre>\n<p>It turns out that for all <code>n &gt;= 0</code>, you can simplify this formula to:</p>\n<pre><code>Fib(n) = round(pow((1+sqrt(5))/2, n) / sqrt(5))\n</code></pre>\n<p>Knowing this, you can use following simple implementation for <code>fibcalc</code>:</p>\n<pre><code>public static double fibcalc(int num) {\n    return Math.floor(Math.pow((1+Math.sqrt(5))/2, num) / Math.sqrt(5) + 0.5);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9232115,"reputation":27,"user_id":6857875,"display_name":"Chad Davis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489704048,"creation_date":1489704048,"answer_id":42846087,"question_id":15892801,"body_markdown":"You can also use the following calculator to calculate the Fibonacci sequence (using Javascript): [enter link description here][1]\r\n\r\n\r\n  [1]: http://www.convertforfree.com/fibonacci-sequence-calculator/","title":"Fibonacci calculation","body":"<p>You can also use the following calculator to calculate the Fibonacci sequence (using Javascript): <a href=\"http://www.convertforfree.com/fibonacci-sequence-calculator/\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}],"owner":{"account_id":2087861,"reputation":115,"user_id":1858350,"accept_rate":88,"display_name":"user1858350"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15892861,"answer_count":3,"score":0,"last_activity_date":1667762470,"creation_date":1365478293,"question_id":15892801,"body_markdown":"This program is supposed to get a Fibonacci number from the user and the program will calculate what it is while making sure that the user entered a positive number and a number no less than the Fibonacci number 70. So, if the user entered 7, it should print 13. The method fibcalc() is supposed to do the calculations. \r\nWhen I try and compile the program, I get the errors &quot;method fibcalc in class Fibonacci cannot be applied to given types: `System.out.printf(&quot;Fibonacci #%d is %f&quot;, num, fibcalc(num, x3));` and &quot;cannot find symbol&quot; `return x3;`Here&#39;s my code: \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Fibonacci\r\n    {\r\n\t    public static void main ( String args[] ) \r\n\t    {\r\n\t\tScanner input = new Scanner ( System.in );\r\n\t\t\r\n\t\t    int num; \r\n\t\t    double x3 = 0;\r\n\t\t\r\n\t\r\n\t           System.out.print(&quot;Which Fibonacci number would you like? &quot;);\r\n\t\t   num = input.nextInt(); \r\n\t           do\r\n\t\t   {\r\n\t\t\tSystem.out.print(&quot;Which Fibonacci number would you like? &quot;);\r\n\t\t\tnum = input.nextInt(); \r\n\t\t}while(num &gt;= 0 &amp;&amp; num &lt;= 70);\r\n\t\t\r\n\t\tSystem.out.printf(&quot;Fibonacci #%d is %f&quot;, num, fibcalc(num, x3));\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic static double fibcalc(int num) \r\n\t{\r\n\t\tint x1 = 0;\r\n\t\tint x2 = 1;\r\n\r\n\t\t\tif (num == 0)\r\n\t\t\t\r\n\t\t\t\treturn 0;\r\n\t\t\t\r\n\t\t\telse if (num == 1)\r\n\t\t\t\r\n\t\t\t\treturn 1;\r\n\t\t\t\r\n\t\t\telse\r\n\t\t\t\t\r\n\t\t\t\tfor (int x3 = 0; x3 &lt; num; x3++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tx3 = x1 + x2;\r\n\t\t\t\t\t\tx1 = x2;\r\n\t\t\t\t\t\tx2 = x3;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn x3;\r\n\t\t\r\n  \t}\r\n      }\r\n\r\nThere are probably other problems I&#39;ve missed. I&#39;m pretty new to java. Thanks in advance.","title":"Fibonacci calculation","body":"<p>This program is supposed to get a Fibonacci number from the user and the program will calculate what it is while making sure that the user entered a positive number and a number no less than the Fibonacci number 70. So, if the user entered 7, it should print 13. The method fibcalc() is supposed to do the calculations. \nWhen I try and compile the program, I get the errors \"method fibcalc in class Fibonacci cannot be applied to given types: <code>System.out.printf(\"Fibonacci #%d is %f\", num, fibcalc(num, x3));</code> and \"cannot find symbol\" <code>return x3;</code>Here's my code: </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Fibonacci\n{\n    public static void main ( String args[] ) \n    {\n    Scanner input = new Scanner ( System.in );\n\n        int num; \n        double x3 = 0;\n\n\n           System.out.print(\"Which Fibonacci number would you like? \");\n       num = input.nextInt(); \n           do\n       {\n        System.out.print(\"Which Fibonacci number would you like? \");\n        num = input.nextInt(); \n    }while(num &gt;= 0 &amp;&amp; num &lt;= 70);\n\n    System.out.printf(\"Fibonacci #%d is %f\", num, fibcalc(num, x3));\n\n}\n\n\npublic static double fibcalc(int num) \n{\n    int x1 = 0;\n    int x2 = 1;\n\n        if (num == 0)\n\n            return 0;\n\n        else if (num == 1)\n\n            return 1;\n\n        else\n\n            for (int x3 = 0; x3 &lt; num; x3++)\n                {\n                    x3 = x1 + x2;\n                    x1 = x2;\n                    x2 = x3;\n                }\n                return x3;\n\n}\n  }\n</code></pre>\n\n<p>There are probably other problems I've missed. I'm pretty new to java. Thanks in advance.</p>\n"},{"tags":["java","eclipse","keyboard-shortcuts","program-entry-point"],"answers":[{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1318969276,"creation_date":1318969276,"answer_id":7813198,"question_id":7813153,"body_markdown":"In Eclipse, select preferences.\r\n\r\nIn preferences, look for Java/Editor/Templates.\r\n\r\nHere you will see a list of all of them. And you can even add your own.\r\n","title":"What is the Eclipse shortcut for &quot;public static void main(String args[])&quot;?","body":"<p>In Eclipse, select preferences.</p>\n\n<p>In preferences, look for Java/Editor/Templates.</p>\n\n<p>Here you will see a list of all of them. And you can even add your own.</p>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":228,"is_accepted":true,"score":228,"last_activity_date":1318969524,"creation_date":1318969359,"answer_id":7813216,"question_id":7813153,"body_markdown":"This is just `main` and &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Space&lt;/kbd&gt;.","title":"What is the Eclipse shortcut for &quot;public static void main(String args[])&quot;?","body":"<p>This is just <code>main</code> and <kbd>Ctrl</kbd>-<kbd>Space</kbd>.</p>\n"},{"tags":[],"owner":{"account_id":2324337,"reputation":191,"user_id":2039195,"display_name":"Vishwa"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1359973070,"creation_date":1359971667,"answer_id":14684208,"question_id":7813153,"body_markdown":"Just type `ma` and press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Space&lt;/kbd&gt;, you will get an option for it.","title":"What is the Eclipse shortcut for &quot;public static void main(String args[])&quot;?","body":"<p>Just type <code>ma</code> and press <kbd>Ctrl</kbd> + <kbd>Space</kbd>, you will get an option for it.</p>\n"},{"tags":[],"owner":{"account_id":6889645,"reputation":119,"user_id":5293625,"display_name":"Caleb Woodman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442855527,"creation_date":1442855527,"answer_id":32700971,"question_id":7813153,"body_markdown":"Alternately, you can start a program containing the line with **one click.**\r\n\r\n*Just select the method stub for it when creating the new Java class, where the code says,*\r\n\r\nWhich method stubs would you like to create?\r\n\r\n*[check-box]* public static void main(String[]args)  **&lt;---- Select this one.**\r\n\r\n*[check-box]* Constructors from superclass\r\n\r\n*[check-box]* Inherited abstract methods","title":"What is the Eclipse shortcut for &quot;public static void main(String args[])&quot;?","body":"<p>Alternately, you can start a program containing the line with <strong>one click.</strong></p>\n\n<p><em>Just select the method stub for it when creating the new Java class, where the code says,</em></p>\n\n<p>Which method stubs would you like to create?</p>\n\n<p><em>[check-box]</em> public static void main(String[]args)  <strong>&lt;---- Select this one.</strong></p>\n\n<p><em>[check-box]</em> Constructors from superclass</p>\n\n<p><em>[check-box]</em> Inherited abstract methods</p>\n"},{"tags":[],"owner":{"account_id":2511374,"reputation":401,"user_id":2183788,"accept_rate":62,"display_name":"raja777m"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1477667089,"creation_date":1477667089,"answer_id":40307952,"question_id":7813153,"body_markdown":"As bmargulies mentioned:\r\n\r\n**Preferences&gt;Java&gt;Editor&gt;Templates&gt;New...**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNow, type psvm then `Ctrl + Space` on Mac or Windows.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ensuT.jpg\r\n  [2]: https://i.stack.imgur.com/6BuBY.jpg","title":"What is the Eclipse shortcut for &quot;public static void main(String args[])&quot;?","body":"<p>As bmargulies mentioned:</p>\n\n<p><strong>Preferences>Java>Editor>Templates>New...</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ensuT.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ensuT.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/6BuBY.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6BuBY.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Now, type psvm then <code>Ctrl + Space</code> on Mac or Windows.</p>\n"},{"tags":[],"owner":{"account_id":10693842,"reputation":27,"user_id":7871764,"display_name":"ABOLFAZL_GH_IN_LOVE_WITH_JAVA"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1565880079,"creation_date":1492270467,"answer_id":43427918,"question_id":7813153,"body_markdown":"Type `main` and press and hold &lt;kbd&gt;Ctrl&lt;/kbd&gt; and next press &lt;kbd&gt;Space&lt;/kbd&gt; &lt;kbd&gt;Space&lt;/kbd&gt; (double space) and select, it or press&lt;kbd&gt;enter&lt;/kbd&gt; to focus on main option.\r\n\r\nThis is fastest way.","title":"What is the Eclipse shortcut for &quot;public static void main(String args[])&quot;?","body":"<p>Type <code>main</code> and press and hold <kbd>Ctrl</kbd> and next press <kbd>Space</kbd> <kbd>Space</kbd> (double space) and select, it or press<kbd>enter</kbd> to focus on main option.</p>\n\n<p>This is fastest way.</p>\n"},{"tags":[],"owner":{"account_id":2370095,"reputation":552,"user_id":2074888,"display_name":"AzarEJ"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1595657441,"creation_date":1595657441,"answer_id":63084992,"question_id":7813153,"body_markdown":"&gt; To get public static void main(String[] args) line in eclipse without\r\n&gt; typing the whole line type &quot;main&quot; and press Ctrl + space then, you\r\n&gt; will get the option for the main method select it.\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zGaGA.jpg","title":"What is the Eclipse shortcut for &quot;public static void main(String args[])&quot;?","body":"<blockquote>\n<p>To get public static void main(String[] args) line in eclipse without\ntyping the whole line type &quot;main&quot; and press Ctrl + space then, you\nwill get the option for the main method select it.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/zGaGA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zGaGA.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13386183,"reputation":1,"user_id":9659996,"display_name":"Kazi Rana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667762035,"creation_date":1667762035,"answer_id":74338966,"question_id":7813153,"body_markdown":"Just type main and press Ctrl + Space, and you will get an option for it.","title":"What is the Eclipse shortcut for &quot;public static void main(String args[])&quot;?","body":"<p>Just type main and press Ctrl + Space, and you will get an option for it.</p>\n"}],"owner":{"display_name":"user244333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126115,"favorite_count":0,"down_vote_count":1,"up_vote_count":95,"accepted_answer_id":7813216,"answer_count":8,"score":94,"last_activity_date":1667762035,"creation_date":1318969095,"question_id":7813153,"body_markdown":"I know a cool shortcut for `System.out.println()`: sysout &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Space&lt;/kbd&gt;.\r\n\r\nIs there something similar for `public static void main(String args[])`?","title":"What is the Eclipse shortcut for &quot;public static void main(String args[])&quot;?","body":"<p>I know a cool shortcut for <code>System.out.println()</code>: sysout <kbd>Ctrl</kbd> + <kbd>Space</kbd>.</p>\n\n<p>Is there something similar for <code>public static void main(String args[])</code>?</p>\n"},{"tags":["java","spring","jsp","servlets","spring-boot"],"comments":[{"owner":{"account_id":1065970,"reputation":2493,"user_id":1066530,"accept_rate":94,"display_name":"Sas"},"score":0,"creation_date":1417792600,"post_id":27318367,"comment_id":43097345,"body_markdown":"When WEB-INF under webapp dir, did you check if the &#39;main-servlet.xml&#39; exist under WEB-INF in your tomcat/server?","body":"When WEB-INF under webapp dir, did you check if the &#39;main-servlet.xml&#39; exist under WEB-INF in your tomcat/server?"}],"answers":[{"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1417793131,"creation_date":1417793131,"answer_id":27319214,"question_id":27318367,"body_markdown":"Unless you are running your application as WAR, the `src/main/webapp` folder won&#39;t be included in the output as stated in the documentation:\r\n\r\n&gt; Do not use the `src/main/webapp` folder if your application will be packaged as a jar. Although this folder is a common standard, it will only work with war packaging and it will be silently ignored by most build tools if you generate a jar.\r\n\r\nSo that may be your problem.\r\n\r\nTo fix it try to set config location explicitly for the main servlet:\r\n\r\n    servlet.addInitParameter(&quot;contextConfigLocation&quot;, &quot;classpath:main-servlet.xml&quot;);\r\n\r\nand place the `main-servlet.xml` file in `src/main/resources`.\r\n\r\nHope this helps.","title":"spring boot FileNotFoundException: Could not open ServletContext resource [/WEB-INF/main-servlet.xml]","body":"<p>Unless you are running your application as WAR, the <code>src/main/webapp</code> folder won't be included in the output as stated in the documentation:</p>\n\n<blockquote>\n  <p>Do not use the <code>src/main/webapp</code> folder if your application will be packaged as a jar. Although this folder is a common standard, it will only work with war packaging and it will be silently ignored by most build tools if you generate a jar.</p>\n</blockquote>\n\n<p>So that may be your problem.</p>\n\n<p>To fix it try to set config location explicitly for the main servlet:</p>\n\n<pre><code>servlet.addInitParameter(\"contextConfigLocation\", \"classpath:main-servlet.xml\");\n</code></pre>\n\n<p>and place the <code>main-servlet.xml</code> file in <code>src/main/resources</code>.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":10906981,"reputation":31,"user_id":8017431,"display_name":"Pratidnya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593148631,"creation_date":1593148631,"answer_id":62588439,"question_id":27318367,"body_markdown":"I was facing same issue with .properties file not found in Testing flow.\r\nAdding &quot;classpath:file.extension&quot; worked for me.\r\n\r\n\r\n","title":"spring boot FileNotFoundException: Could not open ServletContext resource [/WEB-INF/main-servlet.xml]","body":"<p>I was facing same issue with .properties file not found in Testing flow.\nAdding &quot;classpath:file.extension&quot; worked for me.</p>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667761716,"creation_date":1667761716,"answer_id":74338931,"question_id":27318367,"body_markdown":"In my case I had problem with tiles configuration. &lt;b&gt;In jar packaging src/main/webapp folder won&#39;t be included&lt;/b&gt;. I added : \r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\nand running like before : \r\n\r\n    java -jar myproject.war","title":"spring boot FileNotFoundException: Could not open ServletContext resource [/WEB-INF/main-servlet.xml]","body":"<p>In my case I had problem with tiles configuration. <b>In jar packaging src/main/webapp folder won't be included</b>. I added :</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n<p>and running like before :</p>\n<pre><code>java -jar myproject.war\n</code></pre>\n"}],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21103,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27319214,"answer_count":3,"score":4,"last_activity_date":1667761716,"creation_date":1417790644,"question_id":27318367,"body_markdown":"I am running a spring boot application with the following application class:\r\n\r\n    @EnableAutoConfiguration\r\n    @Configuration\r\n    public class FakeAppBooter extends SpringBootServletInitializer{\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tSpringApplication.run(FakeAppBooter.class, args);\r\n    \t\tSystem.out.println(&quot;Test&quot;);\r\n    \t}\r\n    \t@Bean\r\n    \tpublic EmbeddedServletContainerFactory servletContainer() {\r\n    \t    TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory();\r\n    \t    factory.setTomcatContextCustomizers(Arrays.asList(new CustomCustomizer()));\r\n    \t    factory.addErrorPages(\r\n    \t    \t\tnew ErrorPage(HttpStatus.UNAUTHORIZED,&quot;/WEB-INF/views/unprot/common/errors/containerError.jsp&quot;),\r\n    \t    \t\tnew ErrorPage(HttpStatus.NOT_FOUND,&quot;/WEB-INF/views/unprot/common/errors/containerError.jsp&quot;),\r\n    \t    \t\tnew ErrorPage(HttpStatus.INTERNAL_SERVER_ERROR,&quot;/WEB-INF/views/unprot/common/errors/containerError.jsp&quot;));\r\n    \t    MimeMappings mappings = new MimeMappings(MimeMappings.DEFAULT);\r\n    \t    mappings.add(&quot;xsd&quot;, &quot;text/xml&quot;);\r\n    \t    mappings.add(&quot;wsdl&quot;, &quot;text/xml&quot;);\r\n    \t    factory.setMimeMappings(mappings);\r\n    \t    return factory;\r\n    \t}\r\n    \t\r\n    \tstatic class CustomCustomizer implements TomcatContextCustomizer {\r\n    \t    @Override\r\n    \t    public void customize(Context context) {\r\n    \t        context.setUseHttpOnly(true);\r\n    \t        context.addWelcomeFile(&quot;home.html&quot;);\r\n    \t    }\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic ServletContextInitializer initializer() {\r\n    \t    return new ServletContextInitializer() {\r\n    \t        @Override\r\n    \t        public void onStartup(ServletContext servletContext) throws ServletException {\r\n    \t            servletContext.setInitParameter(&quot;parentContextKey&quot;, &quot;globalContext&quot;);\r\n    \t            servletContext.setInitParameter(&quot;contextConfigLocation&quot;, &quot;classpath*:com/my/**/fakeContext.xml&quot;);\r\n    \t        }\r\n    \t    };\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic ServletRegistrationBean mainServlet(){\r\n    \t\tServletRegistrationBean servlet = new ServletRegistrationBean();\r\n    \t\tservlet.setName(&quot;main&quot;);\r\n    \t\tservlet.setServlet(new DispatcherServlet());\r\n    \t\tservlet.addUrlMappings(&quot;*.html&quot;,&quot;*.htmlf&quot;,&quot;*.json&quot;,\r\n    \t\t\t\t&quot;/my/issue&quot;,&quot;/my/query&quot;,&quot;/my/adjust&quot;,&quot;/my/echo&quot;);\r\n    \t\treturn servlet;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic ServletRegistrationBean cxfServlet(){\r\n    \t\tServletRegistrationBean servlet = new ServletRegistrationBean();\r\n    \t\tservlet.setName(&quot;CXFServlet&quot;);\r\n    \t\tservlet.setServlet(new CXFServlet());\r\n    \t\tservlet.setLoadOnStartup(1);\r\n    \t\tservlet.addUrlMappings(&quot;/services/*&quot;);\r\n    \t\treturn servlet;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic ServletRegistrationBean axisServlet(){\r\n    \t\tServletRegistrationBean servlet = new ServletRegistrationBean();\r\n    \t\tservlet.setName(&quot;AxisServlet&quot;);\r\n    \t\tservlet.setServlet(new AxisServlet());\r\n    \t\tservlet.addInitParameter(&quot;axis.servicesPath&quot;, &quot;/axis/&quot;);\r\n    \t\tservlet.addUrlMappings(&quot;/axis/*&quot;,&quot;*.jws&quot;);\r\n    \t\treturn servlet;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic FilterRegistrationBean httpMethodFilter(){\r\n    \t\tFilterRegistrationBean filter = new FilterRegistrationBean();\r\n    \t\tfilter.setName(&quot;httpMethod&quot;);\r\n    \t\tfilter.setFilter(new HiddenHttpMethodFilter());\r\n    \t\tfilter.addUrlPatterns(&quot;*.html&quot;,&quot;*.htmlf&quot;,&quot;*.json&quot;);\r\n    \t\treturn filter;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic FilterRegistrationBean sitemeshFilter(){\r\n    \t\tFilterRegistrationBean filter = new FilterRegistrationBean();\r\n    \t\tfilter.setName(&quot;sitemesh&quot;);\r\n    \t\tfilter.setFilter(new SiteMeshFilter());\r\n    \t\tfilter.addUrlPatterns(&quot;*.html&quot;);\r\n    \t\treturn filter;\r\n    \t}\r\n    }\r\n\r\nMy layout is as follows\r\n\r\n - src/main/java\r\n   - boot/FakeAppBooter.java\r\n - src/main/webapp\r\n   - WEB-INF\r\n     - main-servlet.xml\r\n - src/main/resources\r\n\r\nI have tried using above layout, as well as moving the WEB-INF folder to the resources folder\r\n\r\nIf I package the project as war file with WEB-INF under weabpp, I get the WEB-INF folder in the root of the war file, however on startup I get:\r\n\r\n    java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:601)\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:53)\r\n            at java.lang.Thread.run(Thread.java:722)\r\n    Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [WEB-INF/main-servlet.xml]; nested exception is java.io.FileNotFoun\r\n    dException: class path resource [WEB-INF/main-servlet.xml] cannot be opened because it does not exist\r\n            at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:343)\r\n            at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303)\r\n            at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\r\n            at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:216)\r\n            at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\r\n            at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromImportedResources(ConfigurationClassBeanDefinitionReader.java:313)\r\n            at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:138)\r\n            at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:116)\r\n            at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:330)\r\n            at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243)\r\n            at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:254)\r\n            at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:94)\r\n            at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:611)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:109)\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:320)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:952)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\r\n            at boot.FakeAppBooter.main(FakeAppBooter.java:73)\r\n            ... 6 more\r\n    Caused by: java.io.FileNotFoundException: class path resource [WEB-INF/main-servlet.xml] cannot be opened because it does not exist\r\n            at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:172)\r\n            at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:329)\r\n            ... 25 more\r\n\r\nIf I move the WEB-INF folder to the resources folder and package as a jar file, I get no error on startup, however I still get the FileNotFoundException when I try to load a webpage, as follows:\r\n\r\n    java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/main-servlet.xml]\r\n            at org.springframework.web.context.support.ServletContextResource.getInputStream(ServletContextResource.java:141)\r\n            at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:329)\r\n            at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303)\r\n            at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\r\n            at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:216)\r\n            at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\r\n            at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\r\n            at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\r\n            at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\r\n            at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:542)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:454)\r\n            at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\r\n            at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\r\n            at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\r\n            at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\r\n            at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\r\n            at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n            at javax.servlet.GenericServlet.init(GenericServlet.java:244)\r\n            at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1284)\r\n            at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:884)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:134)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\r\n            at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)\r\n            at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1695)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.lang.Thread.run(Thread.java:722)\r\n\r\n ","title":"spring boot FileNotFoundException: Could not open ServletContext resource [/WEB-INF/main-servlet.xml]","body":"<p>I am running a spring boot application with the following application class:</p>\n\n<pre><code>@EnableAutoConfiguration\n@Configuration\npublic class FakeAppBooter extends SpringBootServletInitializer{\n\n    public static void main(String args[]) {\n        SpringApplication.run(FakeAppBooter.class, args);\n        System.out.println(\"Test\");\n    }\n    @Bean\n    public EmbeddedServletContainerFactory servletContainer() {\n        TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory();\n        factory.setTomcatContextCustomizers(Arrays.asList(new CustomCustomizer()));\n        factory.addErrorPages(\n                new ErrorPage(HttpStatus.UNAUTHORIZED,\"/WEB-INF/views/unprot/common/errors/containerError.jsp\"),\n                new ErrorPage(HttpStatus.NOT_FOUND,\"/WEB-INF/views/unprot/common/errors/containerError.jsp\"),\n                new ErrorPage(HttpStatus.INTERNAL_SERVER_ERROR,\"/WEB-INF/views/unprot/common/errors/containerError.jsp\"));\n        MimeMappings mappings = new MimeMappings(MimeMappings.DEFAULT);\n        mappings.add(\"xsd\", \"text/xml\");\n        mappings.add(\"wsdl\", \"text/xml\");\n        factory.setMimeMappings(mappings);\n        return factory;\n    }\n\n    static class CustomCustomizer implements TomcatContextCustomizer {\n        @Override\n        public void customize(Context context) {\n            context.setUseHttpOnly(true);\n            context.addWelcomeFile(\"home.html\");\n        }\n    }\n\n    @Bean\n    public ServletContextInitializer initializer() {\n        return new ServletContextInitializer() {\n            @Override\n            public void onStartup(ServletContext servletContext) throws ServletException {\n                servletContext.setInitParameter(\"parentContextKey\", \"globalContext\");\n                servletContext.setInitParameter(\"contextConfigLocation\", \"classpath*:com/my/**/fakeContext.xml\");\n            }\n        };\n    }\n\n    @Bean\n    public ServletRegistrationBean mainServlet(){\n        ServletRegistrationBean servlet = new ServletRegistrationBean();\n        servlet.setName(\"main\");\n        servlet.setServlet(new DispatcherServlet());\n        servlet.addUrlMappings(\"*.html\",\"*.htmlf\",\"*.json\",\n                \"/my/issue\",\"/my/query\",\"/my/adjust\",\"/my/echo\");\n        return servlet;\n    }\n    @Bean\n    public ServletRegistrationBean cxfServlet(){\n        ServletRegistrationBean servlet = new ServletRegistrationBean();\n        servlet.setName(\"CXFServlet\");\n        servlet.setServlet(new CXFServlet());\n        servlet.setLoadOnStartup(1);\n        servlet.addUrlMappings(\"/services/*\");\n        return servlet;\n    }\n    @Bean\n    public ServletRegistrationBean axisServlet(){\n        ServletRegistrationBean servlet = new ServletRegistrationBean();\n        servlet.setName(\"AxisServlet\");\n        servlet.setServlet(new AxisServlet());\n        servlet.addInitParameter(\"axis.servicesPath\", \"/axis/\");\n        servlet.addUrlMappings(\"/axis/*\",\"*.jws\");\n        return servlet;\n    }\n\n    @Bean\n    public FilterRegistrationBean httpMethodFilter(){\n        FilterRegistrationBean filter = new FilterRegistrationBean();\n        filter.setName(\"httpMethod\");\n        filter.setFilter(new HiddenHttpMethodFilter());\n        filter.addUrlPatterns(\"*.html\",\"*.htmlf\",\"*.json\");\n        return filter;\n    }\n\n    @Bean\n    public FilterRegistrationBean sitemeshFilter(){\n        FilterRegistrationBean filter = new FilterRegistrationBean();\n        filter.setName(\"sitemesh\");\n        filter.setFilter(new SiteMeshFilter());\n        filter.addUrlPatterns(\"*.html\");\n        return filter;\n    }\n}\n</code></pre>\n\n<p>My layout is as follows</p>\n\n<ul>\n<li>src/main/java\n<ul>\n<li>boot/FakeAppBooter.java</li>\n</ul></li>\n<li>src/main/webapp\n<ul>\n<li>WEB-INF\n<ul>\n<li>main-servlet.xml</li>\n</ul></li>\n</ul></li>\n<li>src/main/resources</li>\n</ul>\n\n<p>I have tried using above layout, as well as moving the WEB-INF folder to the resources folder</p>\n\n<p>If I package the project as war file with WEB-INF under weabpp, I get the WEB-INF folder in the root of the war file, however on startup I get:</p>\n\n<pre><code>java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:53)\n        at java.lang.Thread.run(Thread.java:722)\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [WEB-INF/main-servlet.xml]; nested exception is java.io.FileNotFoun\ndException: class path resource [WEB-INF/main-servlet.xml] cannot be opened because it does not exist\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:343)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:216)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromImportedResources(ConfigurationClassBeanDefinitionReader.java:313)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:138)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:116)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:330)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:254)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:94)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:611)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:109)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:320)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:952)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\n        at boot.FakeAppBooter.main(FakeAppBooter.java:73)\n        ... 6 more\nCaused by: java.io.FileNotFoundException: class path resource [WEB-INF/main-servlet.xml] cannot be opened because it does not exist\n        at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:172)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:329)\n        ... 25 more\n</code></pre>\n\n<p>If I move the WEB-INF folder to the resources folder and package as a jar file, I get no error on startup, however I still get the FileNotFoundException when I try to load a webpage, as follows:</p>\n\n<pre><code>java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/main-servlet.xml]\n        at org.springframework.web.context.support.ServletContextResource.getInputStream(ServletContextResource.java:141)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:329)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:216)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\n        at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\n        at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\n        at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\n        at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:542)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:454)\n        at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\n        at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\n        at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\n        at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:244)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1284)\n        at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:884)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:134)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1695)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:722)\n</code></pre>\n"},{"tags":["java","string","split","hashmap","substring"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667697895,"post_id":74332688,"comment_id":131228356,"body_markdown":"*&quot;One solution I&#39;m trying right now is iterating through the string&quot;* - It&#39;s way better to **show the code**, instead of only talking about the code.","body":"<i>&quot;One solution I&#39;m trying right now is iterating through the string&quot;</i> - It&#39;s way better to <b>show the code</b>, instead of only talking about the code."},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":2,"creation_date":1667698134,"post_id":74332688,"comment_id":131228379,"body_markdown":"I don&#39;t understand the paragraph about libraries and compilers.","body":"I don&#39;t understand the paragraph about libraries and compilers."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667698152,"post_id":74332688,"comment_id":131228381,"body_markdown":"BTW, the string you&#39;ve provided looks like JSON, but without curly braces `{ }`.","body":"BTW, the string you&#39;ve provided looks like JSON, but without curly braces <code>{ }</code>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667703908,"post_id":74332688,"comment_id":131228920,"body_markdown":"&quot;My phone runs android and I don&#39;t think java compilers in the google play store are powerful enough to work with 3rd party libraries.&quot; This is not remotely true.  The most realistic solution is to use a third-party library, and pretty much every Android app in the Google Play Store uses third-party libraries.  Regex won&#39;t do this job, it&#39;ll be harder than that.  Just use a library.","body":"&quot;My phone runs android and I don&#39;t think java compilers in the google play store are powerful enough to work with 3rd party libraries.&quot; This is not remotely true.  The most realistic solution is to use a third-party library, and pretty much every Android app in the Google Play Store uses third-party libraries.  Regex won&#39;t do this job, it&#39;ll be harder than that.  Just use a library."}],"answers":[{"tags":[],"owner":{"account_id":9038628,"reputation":300,"user_id":8316946,"accept_rate":100,"display_name":"Brian Schack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667759983,"creation_date":1667759983,"answer_id":74338698,"question_id":74332688,"body_markdown":"As you suggested, you can parse the String into a Map with `String::split` on `&quot;,&quot;` and `&quot;:&quot;`. I tested this on both of the examples that you gave.\r\n\r\n**Code**\r\n\r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n    \r\n    class Scratch {\r\n    \tstatic Map&lt;String, String&gt; toMap(String mapAsString) {\r\n    \t\treturn Arrays.stream(mapAsString.substring(1, mapAsString.length() - 1).split(&quot;\\&quot;,\\&quot;&quot;)).map(entryAsString -&gt; entryAsString.split(&quot;\\&quot;:\\&quot;&quot;)).collect(Collectors.toMap(entryAsArray -&gt; entryAsArray[0], entryAsArray -&gt; entryAsArray[1]));\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tvar string0 = &quot;\\&quot;Id\\&quot;:\\&quot;1\\&quot;,\\&quot;Name\\&quot;:\\&quot;Bob\\&quot;,\\&quot;Notes\\&quot;:\\&quot;Likes watching movies\\&quot;&quot;;\r\n    \t\tvar string1 = &quot;\\&quot;Id\\&quot;:\\&quot;1\\&quot;,\\&quot;Name\\&quot;:\\&quot;Bob\\&quot;,\\&quot;Notes\\&quot;:\\&quot;Likes watching movies, playing video games\\&quot;&quot;;\r\n    \t\tSystem.out.println(toMap(string0));\r\n    \t\tSystem.out.println(toMap(string1));\r\n    \t}\r\n    }\r\n\r\n**Output**\r\n\r\n    {Id=1, Notes=Likes watching movies, Name=Bob}\r\n    {Id=1, Notes=Likes watching movies, playing video games, Name=Bob}","title":"How do I convert a String to Map&lt;String, String&gt; when entry values have a comma in them?","body":"<p>As you suggested, you can parse the String into a Map with <code>String::split</code> on <code>&quot;,&quot;</code> and <code>&quot;:&quot;</code>. I tested this on both of the examples that you gave.</p>\n<p><strong>Code</strong></p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\nclass Scratch {\n    static Map&lt;String, String&gt; toMap(String mapAsString) {\n        return Arrays.stream(mapAsString.substring(1, mapAsString.length() - 1).split(&quot;\\&quot;,\\&quot;&quot;)).map(entryAsString -&gt; entryAsString.split(&quot;\\&quot;:\\&quot;&quot;)).collect(Collectors.toMap(entryAsArray -&gt; entryAsArray[0], entryAsArray -&gt; entryAsArray[1]));\n    }\n    \n    public static void main(String[] args) {\n        var string0 = &quot;\\&quot;Id\\&quot;:\\&quot;1\\&quot;,\\&quot;Name\\&quot;:\\&quot;Bob\\&quot;,\\&quot;Notes\\&quot;:\\&quot;Likes watching movies\\&quot;&quot;;\n        var string1 = &quot;\\&quot;Id\\&quot;:\\&quot;1\\&quot;,\\&quot;Name\\&quot;:\\&quot;Bob\\&quot;,\\&quot;Notes\\&quot;:\\&quot;Likes watching movies, playing video games\\&quot;&quot;;\n        System.out.println(toMap(string0));\n        System.out.println(toMap(string1));\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{Id=1, Notes=Likes watching movies, Name=Bob}\n{Id=1, Notes=Likes watching movies, playing video games, Name=Bob}\n</code></pre>\n"}],"owner":{"account_id":26843102,"reputation":1,"user_id":20429287,"display_name":"jh1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667759983,"creation_date":1667697648,"question_id":74332688,"body_markdown":"So to add more context, suppose I have a string (with the double-quotes included): \r\n\r\n`\r\n&quot;Id&quot;:&quot;1&quot;,&quot;Name&quot;:&quot;Bob&quot;,&quot;Notes&quot;:&quot;Likes watching movies&quot;`\r\n\r\nAnd I want to convert it to a map:\r\n\r\n    {Id: 1, Name: Bob, Notes: Likes watching movies}\r\n\r\nI&#39;ve explored various solutions to achieve this, one of them being using the split() method to split the string by comma, and the using split() again to split each entry by colon. Although this solution works, it&#39;s not ideal. In scenarios where an entry value can have a comma, this solution can break. For instance, if my string looked like this (with the double-quotes included):\r\n\r\n`\r\n&quot;Id&quot;:&quot;1&quot;,&quot;Name&quot;:&quot;Bob&quot;,&quot;Notes&quot;:&quot;Likes watching movies, playing video games&quot;`\r\n\r\nOne solution I&#39;m trying right now is iterating through the string to find the indices of the commas that are specifically preceeded by &quot; and succeeded by &quot;. And then incorporating the indices into the substring() method to pull out each entry. It&#39;s a work in progress, but I was wondering if there are easier solutions for this.\r\n\r\nI also don&#39;t want to use 3rd party libraries because I want a solution that also works when run from a mobile device. My phone runs android and I don&#39;t think java compilers in the google play store are powerful enough to work with 3rd party libraries.\r\n\r\nWould using split() with regex be a viable solution? I have some basic knowledge of regex but I can&#39;t think of how I can use it to match only the commas that separate each entry.\r\n","title":"How do I convert a String to Map&lt;String, String&gt; when entry values have a comma in them?","body":"<p>So to add more context, suppose I have a string (with the double-quotes included):</p>\n<p><code> &quot;Id&quot;:&quot;1&quot;,&quot;Name&quot;:&quot;Bob&quot;,&quot;Notes&quot;:&quot;Likes watching movies&quot;</code></p>\n<p>And I want to convert it to a map:</p>\n<pre><code>{Id: 1, Name: Bob, Notes: Likes watching movies}\n</code></pre>\n<p>I've explored various solutions to achieve this, one of them being using the split() method to split the string by comma, and the using split() again to split each entry by colon. Although this solution works, it's not ideal. In scenarios where an entry value can have a comma, this solution can break. For instance, if my string looked like this (with the double-quotes included):</p>\n<p><code> &quot;Id&quot;:&quot;1&quot;,&quot;Name&quot;:&quot;Bob&quot;,&quot;Notes&quot;:&quot;Likes watching movies, playing video games&quot;</code></p>\n<p>One solution I'm trying right now is iterating through the string to find the indices of the commas that are specifically preceeded by &quot; and succeeded by &quot;. And then incorporating the indices into the substring() method to pull out each entry. It's a work in progress, but I was wondering if there are easier solutions for this.</p>\n<p>I also don't want to use 3rd party libraries because I want a solution that also works when run from a mobile device. My phone runs android and I don't think java compilers in the google play store are powerful enough to work with 3rd party libraries.</p>\n<p>Would using split() with regex be a viable solution? I have some basic knowledge of regex but I can't think of how I can use it to match only the commas that separate each entry.</p>\n"},{"tags":["java","udp"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1519412461,"post_id":48954416,"comment_id":84915765,"body_markdown":"Yes, UDP has no such guarantee.","body":"Yes, UDP has no such guarantee."},{"owner":{"account_id":9593777,"reputation":3971,"user_id":7123660,"display_name":"Benjamin Loison"},"score":0,"creation_date":1519412560,"post_id":48954416,"comment_id":84915805,"body_markdown":"@JohannesKuhn Does TCP have ?","body":"@JohannesKuhn Does TCP have ?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1519412721,"post_id":48954416,"comment_id":84915882,"body_markdown":"Well, TCP requires a handshake, which provides some security.","body":"Well, TCP requires a handshake, which provides some security."},{"owner":{"account_id":9593777,"reputation":3971,"user_id":7123660,"display_name":"Benjamin Loison"},"score":0,"creation_date":1519412743,"post_id":48954416,"comment_id":84915895,"body_markdown":"Ok fine, thank you very much ! :D","body":"Ok fine, thank you very much ! :D"},{"owner":{"account_id":2250944,"reputation":2333,"user_id":1983204,"accept_rate":75,"display_name":"mikes"},"score":0,"creation_date":1519425859,"post_id":48954416,"comment_id":84921482,"body_markdown":"I disagree in terms of TCP. You will get the IP Address of the proxy but not the IP Address of the user. Think of thor nodes for example.","body":"I disagree in terms of TCP. You will get the IP Address of the proxy but not the IP Address of the user. Think of thor nodes for example."}],"answers":[{"tags":[],"owner":{"account_id":13018396,"reputation":36,"user_id":9408726,"display_name":"guest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1519559651,"creation_date":1519559651,"answer_id":48973114,"question_id":48954416,"body_markdown":"In an established TCP connection, you can assume that the remote IP address is valid because otherwise you could not send anything back to the host (and the TCP handshake would not succeed -- see [SYN flood](https://en.wikipedia.org/wiki/SYN_flood)).\r\n\r\nHowever, you have no guarantee that the remote IP address actually belongs to your user, so it&#39;s a really bad way to perform authentication.\r\n\r\nOne of the commenters gave the example of a proxy. It doesn&#39;t have to be TOR: if you use the common practice of an NGINX or Apache server in front of your application, then you&#39;ll always get the IP address of that server (ie, _your own_ server).\r\n\r\nAlso, we live in a world where most users are behind a NAT. Which means that you may have dozens or hundreds of distinct users that all appear to come from the same IP address.\r\n\r\nAnd the IP address will potentially change. This is particularly common with connections made from cellphones","title":"Does getAddress() with DatagramPacket return a trustworthy IP address?","body":"<p>In an established TCP connection, you can assume that the remote IP address is valid because otherwise you could not send anything back to the host (and the TCP handshake would not succeed -- see <a href=\"https://en.wikipedia.org/wiki/SYN_flood\" rel=\"nofollow noreferrer\">SYN flood</a>).</p>\n\n<p>However, you have no guarantee that the remote IP address actually belongs to your user, so it's a really bad way to perform authentication.</p>\n\n<p>One of the commenters gave the example of a proxy. It doesn't have to be TOR: if you use the common practice of an NGINX or Apache server in front of your application, then you'll always get the IP address of that server (ie, <em>your own</em> server).</p>\n\n<p>Also, we live in a world where most users are behind a NAT. Which means that you may have dozens or hundreds of distinct users that all appear to come from the same IP address.</p>\n\n<p>And the IP address will potentially change. This is particularly common with connections made from cellphones</p>\n"}],"owner":{"account_id":9593777,"reputation":3971,"user_id":7123660,"display_name":"Benjamin Loison"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48973114,"answer_count":1,"score":0,"last_activity_date":1667759431,"creation_date":1519411742,"question_id":48954416,"body_markdown":"I have programming a little Authentification System and I use this code to get the IP of the user:\r\n\r\n    DatagramSocket socket = new DatagramSocket(port);\r\n    DatagramPacket packet = new DatagramPacket(buffer, buffer.length);\r\n    socket.receive(packet);\r\n    InetAddress address = packet.getAddress();\r\n    String ip = address.toString().replace(&quot;/&quot;, &quot;&quot;);\r\n\r\nMy question is: Can we trust the value given with the string `ip`? Can somebody put a fake IP in a header of the packet?\r\n\r\nIt is very confusing, does a UDP header contain the IP of the sender of the UDP packet, if so can we change this header to modify with another IP?","title":"Does getAddress() with DatagramPacket return a trustworthy IP address?","body":"<p>I have programming a little Authentification System and I use this code to get the IP of the user:</p>\n<pre><code>DatagramSocket socket = new DatagramSocket(port);\nDatagramPacket packet = new DatagramPacket(buffer, buffer.length);\nsocket.receive(packet);\nInetAddress address = packet.getAddress();\nString ip = address.toString().replace(&quot;/&quot;, &quot;&quot;);\n</code></pre>\n<p>My question is: Can we trust the value given with the string <code>ip</code>? Can somebody put a fake IP in a header of the packet?</p>\n<p>It is very confusing, does a UDP header contain the IP of the sender of the UDP packet, if so can we change this header to modify with another IP?</p>\n"},{"tags":["java","swing","titlebar"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":2,"creation_date":1634540222,"post_id":69611864,"comment_id":123042222,"body_markdown":"See if this helps : https://stackoverflow.com/questions/9662393/how-to-center-align-the-title-in-a-jframe","body":"See if this helps : <a href=\"https://stackoverflow.com/questions/9662393/how-to-center-align-the-title-in-a-jframe\" title=\"how to center align the title in a jframe\">stackoverflow.com/questions/9662393/&hellip;</a>"},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1634540320,"post_id":69611864,"comment_id":123042255,"body_markdown":"Yes I tried that but didn&#39;t work. It still aligns to the left.","body":"Yes I tried that but didn&#39;t work. It still aligns to the left."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":3,"creation_date":1634540442,"post_id":69611864,"comment_id":123042294,"body_markdown":"&quot;_Yes I tried that but didn&#39;t work_&quot; - Please show your attempt by [edit]ing your question and adding the relevant code.","body":"&quot;<i>Yes I tried that but didn&#39;t work</i>&quot; - Please show your attempt by <a href=\"https://stackoverflow.com/posts/69611864/edit\">edit</a>ing your question and adding the relevant code."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1634540948,"post_id":69611864,"comment_id":123042460,"body_markdown":"You can try to modify the [look-and-feel](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html) or maybe your operating system&#39;s window manager has a setting for centering window titles.","body":"You can try to modify the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html\" rel=\"nofollow noreferrer\">look-and-feel</a> or maybe your operating system&#39;s window manager has a setting for centering window titles."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1634552730,"post_id":69611864,"comment_id":123046811,"body_markdown":"Create an undecorated JFrame and create your own JPanel that looks like a title bar.","body":"Create an undecorated JFrame and create your own JPanel that looks like a title bar."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1634565471,"post_id":69611864,"comment_id":123052287,"body_markdown":"*Yes I tried that but didn&#39;t work* - Works fine for me using JDK11 on Windows 10. If it doesn&#39;t work then either 1) you have a version/platform issue or 2) You implemented the suggestion incorrectly. Post your [mre] demonstrating the problem and include your OS and version so people using the same environment can test.","body":"<i>Yes I tried that but didn&#39;t work</i> - Works fine for me using JDK11 on Windows 10. If it doesn&#39;t work then either 1) you have a version/platform issue or 2) You implemented the suggestion incorrectly. Post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem and include your OS and version so people using the same environment can test."}],"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667759399,"creation_date":1634540072,"question_id":69611864,"body_markdown":"I see many applications which show the title of the application at the center of the title bar. Even Intellij and Visual studio code has set the title at the center of the title bar.\r\n\r\nIs there anyway that I can achieve that using `javax.swing`\r\n\r\nI tried by checking the window width and adding that many spaces at the beginning of the title (removing helf of the text size also). But in the result I don&#39;t see the spaces I added at the beginning.\r\n\r\nIs there any other way that I can do that?","title":"How to set the title of the app in the center of the title bar?","body":"<p>I see many applications which show the title of the application at the center of the title bar. Even Intellij and Visual studio code has set the title at the center of the title bar.</p>\n<p>Is there anyway that I can achieve that using <code>javax.swing</code></p>\n<p>I tried by checking the window width and adding that many spaces at the beginning of the title (removing helf of the text size also). But in the result I don't see the spaces I added at the beginning.</p>\n<p>Is there any other way that I can do that?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1667759090,"post_id":74338508,"comment_id":131238467,"body_markdown":"Generic types don&#39;t exist at runtime, they are erased. There is no actual cast at that point in `getObject`. If you want that, you should use `clazz.cast(in.readObject())` instead.","body":"Generic types don&#39;t exist at runtime, they are erased. There is no actual cast at that point in <code>getObject</code>. If you want that, you should use <code>clazz.cast(in.readObject())</code> instead."},{"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"score":0,"creation_date":1667759777,"post_id":74338508,"comment_id":131238589,"body_markdown":"@MarkRotteveel, sure. this is mine issue. i missed this case, concentrating my attention on different moments. Please add this comment to answers.","body":"@MarkRotteveel, sure. this is mine issue. i missed this case, concentrating my attention on different moments. Please add this comment to answers."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667811309,"post_id":74338508,"comment_id":131247839,"body_markdown":"Instead I closed to a duplicate that addresses this issue as well.","body":"Instead I closed to a duplicate that addresses this issue as well."}],"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667811277,"answer_count":0,"score":0,"last_activity_date":1667758448,"creation_date":1667758448,"question_id":74338508,"body_markdown":"\r\nThe my java code example.\r\n```\r\n    public &lt;T&gt; T decode(String toDecode, Class&lt;T&gt; clazz) {\r\n        return getObject(Base64.getDecoder().decode(toDecode), clazz);\r\n    }\r\n\r\n    private &lt;T&gt; T getObject(byte[] toObject, Class&lt;T&gt; clazz) {\r\n        try (ByteArrayInputStream bis = new ByteArrayInputStream(toObject);\r\n             ObjectInput in = new ObjectInputStream(bis)) {\r\n            return (T) in.readObject();\r\n        } catch (Exception e) {\r\n            throw new ObjectEncoderException(e);\r\n        }\r\n    }\r\n```\r\n\r\nOne works correctly for the most cases. But sometimes, when there `clazz` is incorrect type it throws `java.lang.ClassCastException` if original object persistent to decoded string is different to parametrised class type. The issue is that `ClassCastException` thrown not in the row:\r\n```\r\n            return (T) in.readObject();\r\n```\r\n\r\nIt&#39;s thrown in this row:\r\n```\r\n        return getObject(Base64.getDecoder().decode(toDecode), clazz);\r\n```\r\nAs result my custom exception `ObjectEncoderException` is never used.\r\nSure I can move my exception `catch \\ throw` to different block, but let me know what I did incorrectly in this part, why it works in different way. Currently I sure this is a java issue, but possible it&#39;d mine.\r\n\r\nP.S.\r\n-\r\nI&#39;ve used java 17 for my experiments.\r\n","title":"Java optimisation corrupts my code because of generics","body":"<p>The my java code example.</p>\n<pre><code>    public &lt;T&gt; T decode(String toDecode, Class&lt;T&gt; clazz) {\n        return getObject(Base64.getDecoder().decode(toDecode), clazz);\n    }\n\n    private &lt;T&gt; T getObject(byte[] toObject, Class&lt;T&gt; clazz) {\n        try (ByteArrayInputStream bis = new ByteArrayInputStream(toObject);\n             ObjectInput in = new ObjectInputStream(bis)) {\n            return (T) in.readObject();\n        } catch (Exception e) {\n            throw new ObjectEncoderException(e);\n        }\n    }\n</code></pre>\n<p>One works correctly for the most cases. But sometimes, when there <code>clazz</code> is incorrect type it throws <code>java.lang.ClassCastException</code> if original object persistent to decoded string is different to parametrised class type. The issue is that <code>ClassCastException</code> thrown not in the row:</p>\n<pre><code>            return (T) in.readObject();\n</code></pre>\n<p>It's thrown in this row:</p>\n<pre><code>        return getObject(Base64.getDecoder().decode(toDecode), clazz);\n</code></pre>\n<p>As result my custom exception <code>ObjectEncoderException</code> is never used.\nSure I can move my exception <code>catch \\ throw</code> to different block, but let me know what I did incorrectly in this part, why it works in different way. Currently I sure this is a java issue, but possible it'd mine.</p>\n<h2>P.S.</h2>\n<p>I've used java 17 for my experiments.</p>\n"},{"tags":["java","nio","hashcode","treemap","socketchannel"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1680603092,"post_id":74338457,"comment_id":133922379,"body_markdown":"Use a `HashMap`. `SocketChannel` doesn&#39;t have any inherent ordering, so there is no reason to expect a `TreeMap` to work, or to want it.","body":"Use a <code>HashMap</code>. <code>SocketChannel</code> doesn&#39;t have any inherent ordering, so there is no reason to expect a <code>TreeMap</code> to work, or to want it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683851519,"post_id":74338457,"comment_id":134433808,"body_markdown":"And this is what key attachments are for.","body":"And this is what key attachments are for."}],"owner":{"account_id":1270404,"reputation":3896,"user_id":1226843,"accept_rate":58,"display_name":"Matthew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667757983,"creation_date":1667757983,"question_id":74338457,"body_markdown":"I am using Java NIO and selectors to get instances of `SocketChannel`s. I need to attach each instance of a SocketChannel that I get from the `selector` to an encryption key that is unique to each `SocketChannel` instance.\r\n\r\nSo I would like to keep a `TreeMap` where the key is the `SocketChannel` instance and then the value is the associated object to help with secure communications.\r\n\r\nThe problem is that the `SocketChannel` object is not `Comparable` (or whatever interface it needs to be to be a key) So I was using the SocketChannels `hashCode()` method to get a hash for that socket channel.\r\n\r\nI&#39;ve heard that the SocketChannel&#39;s hash is not necessarily unique, and in a system with many many connections, I fear that a hash collision can happen, and that the wrong client could be exchanging data with the server. My small fix was managing all these containers that contained a `SocketChannel` and a pointer to the next container, and to always check to see where the SocketChannel actually is the same object, but this leads to messy and ugly code.\r\n\r\nIs there a better way to manage this situation?","title":"Maintaining a list of SocketChannels that are unique","body":"<p>I am using Java NIO and selectors to get instances of <code>SocketChannel</code>s. I need to attach each instance of a SocketChannel that I get from the <code>selector</code> to an encryption key that is unique to each <code>SocketChannel</code> instance.</p>\n<p>So I would like to keep a <code>TreeMap</code> where the key is the <code>SocketChannel</code> instance and then the value is the associated object to help with secure communications.</p>\n<p>The problem is that the <code>SocketChannel</code> object is not <code>Comparable</code> (or whatever interface it needs to be to be a key) So I was using the SocketChannels <code>hashCode()</code> method to get a hash for that socket channel.</p>\n<p>I've heard that the SocketChannel's hash is not necessarily unique, and in a system with many many connections, I fear that a hash collision can happen, and that the wrong client could be exchanging data with the server. My small fix was managing all these containers that contained a <code>SocketChannel</code> and a pointer to the next container, and to always check to see where the SocketChannel actually is the same object, but this leads to messy and ugly code.</p>\n<p>Is there a better way to manage this situation?</p>\n"},{"tags":["java","javafx","jar","jvm","noclassdeffounderror"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1667759617,"post_id":74338374,"comment_id":131238550,"body_markdown":"What happens if you install the SDK on the other computer?","body":"What happens if you install the SDK on the other computer?"},{"owner":{"account_id":7099472,"reputation":361,"user_id":5431673,"accept_rate":40,"display_name":"God Usopp"},"score":0,"creation_date":1667761821,"post_id":74338374,"comment_id":131239059,"body_markdown":"I get the same error message after installing the jdk. Both java19 jdk and liberica. I&#39;ve checked my environment variables + restart and still nothing. Since the libraries were not found in the jar file, what would cause this file to run as intended on the pc I developed it on but not another pc? With the way the project has been configured, should these not be included in the jar file? Only one library is included when viewing the jar file: jaiimageio. Why would the rest be left out when they were similarly included?","body":"I get the same error message after installing the jdk. Both java19 jdk and liberica. I&#39;ve checked my environment variables + restart and still nothing. Since the libraries were not found in the jar file, what would cause this file to run as intended on the pc I developed it on but not another pc? With the way the project has been configured, should these not be included in the jar file? Only one library is included when viewing the jar file: jaiimageio. Why would the rest be left out when they were similarly included?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667763357,"post_id":74338374,"comment_id":131239420,"body_markdown":"My advice is not to make a jar, but instead make a zip of a jlink image or use jpackage to create an installer.","body":"My advice is not to make a jar, but instead make a zip of a jlink image or use jpackage to create an installer."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1667765754,"post_id":74338374,"comment_id":131239919,"body_markdown":"@jewelsea&#39;s advice is sound. In the interim: What happens if you specify the `module-path` and `add-modules` options (shown in your VM Args) in your `java` command on the other computer?","body":"@jewelsea&#39;s advice is sound. In the interim: What happens if you specify the <code>module-path</code> and <code>add-modules</code> options (shown in your VM Args) in your <code>java</code> command on the other computer?"},{"owner":{"account_id":7099472,"reputation":361,"user_id":5431673,"accept_rate":40,"display_name":"God Usopp"},"score":0,"creation_date":1667766618,"post_id":74338374,"comment_id":131240093,"body_markdown":"Wow. Jpackage solved my problem. It was super easy to create the installer. Thank you, jewels! Tbh I didn&#39;t think about using a tool other than IntelliJ to deploy my application. I did try adding the modules to the jar file using cmd before posting here. I can&#39;t remember exactly what message was in the output but it was an error with --module-path. Thank you both for the support!","body":"Wow. Jpackage solved my problem. It was super easy to create the installer. Thank you, jewels! Tbh I didn&#39;t think about using a tool other than IntelliJ to deploy my application. I did try adding the modules to the jar file using cmd before posting here. I can&#39;t remember exactly what message was in the output but it was an error with --module-path. Thank you both for the support!"}],"owner":{"account_id":7099472,"reputation":361,"user_id":5431673,"accept_rate":40,"display_name":"God Usopp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667757455,"creation_date":1667757455,"question_id":74338374,"body_markdown":"When I run my application in the IntelliJ IDE, it runs my program and there are no issues. My problem occurs when building the jar artifact and running that jar file on another computer. The jar file runs as expected on the same pc that I have been developing the project on. Did I configure anything incorrectly?\r\n\r\nModules\r\n[![enter image description here][1]][1]\r\n\r\nArtifacts\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nVM Args\r\n[![enter image description here][4]][4]\r\n\r\n    --module-path &quot;D:/openjfx-18.0.1_windows-x64_bin-sdk/javafx-sdk-18.0.1/lib&quot; --add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web\r\n\r\nI&#39;ve tried including the projects with maven and including downloaded jar files from maven. I&#39;ve tried different SDK versions as well as using liberica sdk. I&#39;ve added vm options. I&#39;ve re-made the project and copied my class files+resources. This is becoming a frustrating problem. I&#39;ve looked at other answers for this problem but nothing seems to solve it. \r\n\r\nIf I open the jar file and look at its contents, the javafx files are not present.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l5yxZ.png\r\n  [2]: https://i.stack.imgur.com/6yy4b.png\r\n  [3]: https://i.stack.imgur.com/It8d5.png\r\n  [4]: https://i.stack.imgur.com/TtZr4.png\r\n  [5]: https://i.stack.imgur.com/oVir7.png","title":"java.lang.NoClassDefFoundError: javafx/application/Application Running jar file on other computer","body":"<p>When I run my application in the IntelliJ IDE, it runs my program and there are no issues. My problem occurs when building the jar artifact and running that jar file on another computer. The jar file runs as expected on the same pc that I have been developing the project on. Did I configure anything incorrectly?</p>\n<p>Modules\n<a href=\"https://i.stack.imgur.com/l5yxZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l5yxZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Artifacts\n<a href=\"https://i.stack.imgur.com/6yy4b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6yy4b.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/It8d5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/It8d5.png\" alt=\"enter image description here\" /></a></p>\n<p>VM Args\n<a href=\"https://i.stack.imgur.com/TtZr4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TtZr4.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>--module-path &quot;D:/openjfx-18.0.1_windows-x64_bin-sdk/javafx-sdk-18.0.1/lib&quot; --add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web\n</code></pre>\n<p>I've tried including the projects with maven and including downloaded jar files from maven. I've tried different SDK versions as well as using liberica sdk. I've added vm options. I've re-made the project and copied my class files+resources. This is becoming a frustrating problem. I've looked at other answers for this problem but nothing seems to solve it.</p>\n<p>If I open the jar file and look at its contents, the javafx files are not present.</p>\n<p><a href=\"https://i.stack.imgur.com/oVir7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oVir7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gzip"],"comments":[{"owner":{"account_id":8445737,"reputation":43319,"user_id":6336479,"accept_rate":43,"display_name":"David דודו Markovitz"},"score":0,"creation_date":1667733293,"post_id":74334542,"comment_id":131232585,"body_markdown":"Ankur, is this question really related to ADX or even to EH? It seems more like a Java related question...","body":"Ankur, is this question really related to ADX or even to EH? It seems more like a Java related question..."},{"owner":{"account_id":26732095,"reputation":13,"user_id":20334272,"display_name":"Ankur Aggarwal"},"score":0,"creation_date":1667753098,"post_id":74334542,"comment_id":131236997,"body_markdown":"Our use case is to increase the throughput to ADX eventually, looking for end to end solution. Included event hub and ADX if they had an end-to-end solution with bottle neck being compression","body":"Our use case is to increase the throughput to ADX eventually, looking for end to end solution. Included event hub and ADX if they had an end-to-end solution with bottle neck being compression"},{"owner":{"account_id":8445737,"reputation":43319,"user_id":6336479,"accept_rate":43,"display_name":"David דודו Markovitz"},"score":0,"creation_date":1667754260,"post_id":74334542,"comment_id":131237305,"body_markdown":"I suggest leaving this post for the compressing challenge and post a new question for the more broad question. Please make sure to supply some relevant information such as your current &amp; target throughput, your implementation constraints, previous attempts result etc.","body":"I suggest leaving this post for the compressing challenge and post a new question for the more broad question. Please make sure to supply some relevant information such as your current &amp; target throughput, your implementation constraints, previous attempts result etc."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1667758088,"post_id":74334542,"comment_id":131238230,"body_markdown":"Compression takes processing power, what do you expect exactly? While you can improve responsiveness via allowing other threads to run (like having multiple virtual cores, as gzip/deflate doesn&#39;t scale to multiple threads), overall throughput won&#39;t change without making the system more beefy.","body":"Compression takes processing power, what do you expect exactly? While you can improve responsiveness via allowing other threads to run (like having multiple virtual cores, as gzip/deflate doesn&#39;t scale to multiple threads), overall throughput won&#39;t change without making the system more beefy."},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":1,"creation_date":1667763818,"post_id":74334542,"comment_id":131239514,"body_markdown":"I&#39;m missing how you have not answered your own question. Don&#39;t compress.","body":"I&#39;m missing how you have not answered your own question. Don&#39;t compress."},{"owner":{"account_id":26732095,"reputation":13,"user_id":20334272,"display_name":"Ankur Aggarwal"},"score":0,"creation_date":1667803804,"post_id":74334542,"comment_id":131245746,"body_markdown":"I am just trying to make sure that i am not doing anything wrong with my code. May be some other library or can structure my multithreading application such that i can cap compression thread not interfering with other threads.","body":"I am just trying to make sure that i am not doing anything wrong with my code. May be some other library or can structure my multithreading application such that i can cap compression thread not interfering with other threads."}],"owner":{"account_id":26732095,"reputation":13,"user_id":20334272,"display_name":"Ankur Aggarwal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667756891,"creation_date":1667725989,"question_id":74334542,"body_markdown":"Context: I wrote multithreaded application with 1 of the thread is used to send compressed data to eventhub every x seconds.\r\n\r\nPayload size ~ 4 MB\r\n\r\nVM CPU utilization without compression = 55%\r\nVM CPU utilization with compression &gt; 100%\r\n\r\nNote: I keep getting spikes in CPU utilization whenever data is getting compressed (I get to this conclusion by running same tests on compressed and uncompressed code)\r\n\r\nCode snippet:\r\n```\r\nprivate void writeAndSendMetrics(StringBuilder resultJSON) throws URISyntaxException, IOException {\r\n        String postBody = resultJSON.toString();\r\n        if (!isJSONValid(postBody)) {\r\n            logger.info(&quot;postBody is not a valid JSON {} &quot;, postBody);\r\n            return;\r\n        }\r\n\r\n        logger.debug(&quot;Request received for writeAndSendMetrics&quot;);\r\n        HttpPost httpPost = new HttpPost();\r\n        httpPost.setURI(new URI(eventHubUrl));\r\n        logger.debug(&quot;Result JSON: {}&quot;, resultJSON);\r\n\r\n        long startTime = System.currentTimeMillis();\r\n\r\n        StringEntity uncompressed = new StringEntity(postBody);\r\n        logger.info(&quot;Uncompressed-size = &quot; + uncompressed.getContentLength() );\r\n        httpPost.setEntity(new GzipCompressingEntity(uncompressed));\r\n        //httpPost.setEntity(uncompressed);\r\n        long endTime = System.currentTimeMillis();\r\n\r\n        logger.info(&quot;Compression-Time = &quot; + (endTime - startTime) + &quot; ms&quot; );\r\n        httpPost.setHeader(&quot;Authorization&quot;, &quot;xyz&quot;);\r\n        org.apache.http.HttpResponse response = httpclient.execute(httpPost);\r\n        EntityUtils.consumeQuietly(response.getEntity());\r\n        logger.info(&quot;Response Status Code : {}&quot;, response.getStatusLine().getStatusCode());\r\n    }\r\n\r\n```\r\n\r\nUsing GzipCompressingEntity class to compress my payload. This compression is causing spikes in CPU utilization hence impacting overall throughput for other tasks or processes.\r\n\r\n\r\n\r\n\r\n\r\n\r\nHow can I optimize or decrease the CPU utilization?","title":"Need to optimize CPU utilization for compressing payload to Event Hub","body":"<p>Context: I wrote multithreaded application with 1 of the thread is used to send compressed data to eventhub every x seconds.</p>\n<p>Payload size ~ 4 MB</p>\n<p>VM CPU utilization without compression = 55%\nVM CPU utilization with compression &gt; 100%</p>\n<p>Note: I keep getting spikes in CPU utilization whenever data is getting compressed (I get to this conclusion by running same tests on compressed and uncompressed code)</p>\n<p>Code snippet:</p>\n<pre><code>private void writeAndSendMetrics(StringBuilder resultJSON) throws URISyntaxException, IOException {\n        String postBody = resultJSON.toString();\n        if (!isJSONValid(postBody)) {\n            logger.info(&quot;postBody is not a valid JSON {} &quot;, postBody);\n            return;\n        }\n\n        logger.debug(&quot;Request received for writeAndSendMetrics&quot;);\n        HttpPost httpPost = new HttpPost();\n        httpPost.setURI(new URI(eventHubUrl));\n        logger.debug(&quot;Result JSON: {}&quot;, resultJSON);\n\n        long startTime = System.currentTimeMillis();\n\n        StringEntity uncompressed = new StringEntity(postBody);\n        logger.info(&quot;Uncompressed-size = &quot; + uncompressed.getContentLength() );\n        httpPost.setEntity(new GzipCompressingEntity(uncompressed));\n        //httpPost.setEntity(uncompressed);\n        long endTime = System.currentTimeMillis();\n\n        logger.info(&quot;Compression-Time = &quot; + (endTime - startTime) + &quot; ms&quot; );\n        httpPost.setHeader(&quot;Authorization&quot;, &quot;xyz&quot;);\n        org.apache.http.HttpResponse response = httpclient.execute(httpPost);\n        EntityUtils.consumeQuietly(response.getEntity());\n        logger.info(&quot;Response Status Code : {}&quot;, response.getStatusLine().getStatusCode());\n    }\n\n</code></pre>\n<p>Using GzipCompressingEntity class to compress my payload. This compression is causing spikes in CPU utilization hence impacting overall throughput for other tasks or processes.</p>\n<p>How can I optimize or decrease the CPU utilization?</p>\n"},{"tags":["java","math","javafx","coordinates","gis"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667754952,"post_id":74337666,"comment_id":131237473,"body_markdown":"I think you are actually trying to convert coordinates to a canvas and not a graph.  An example for a graph is the transforms in the [`mapX` and `mapY` functions in this example](https://stackoverflow.com/questions/24005247/draw-cartesian-plane-graph-with-canvas-in-javafx/24008426#24008426).  Your calculation won&#39;t be identical but will be similar.  You calculate a translate factor and a scale factor based on the extents of each co-ordinate system (the canvas and the model), then apply them to each model coordinate to get a canvas coordinate.","body":"I think you are actually trying to convert coordinates to a canvas and not a graph.  An example for a graph is the transforms in the <a href=\"https://stackoverflow.com/questions/24005247/draw-cartesian-plane-graph-with-canvas-in-javafx/24008426#24008426\"><code>mapX</code> and <code>mapY</code> functions in this example</a>.  Your calculation won&#39;t be identical but will be similar.  You calculate a translate factor and a scale factor based on the extents of each co-ordinate system (the canvas and the model), then apply them to each model coordinate to get a canvas coordinate."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667755749,"post_id":74337666,"comment_id":131237665,"body_markdown":"Also see the [window to viewport mapping section of this lecture](http://web.cs.wpi.edu/~emmanuel/courses/cs543/slides/lecture02_p1.pdf) for the general formulas involved.","body":"Also see the <a href=\"http://web.cs.wpi.edu/~emmanuel/courses/cs543/slides/lecture02_p1.pdf\" rel=\"nofollow noreferrer\">window to viewport mapping section of this lecture</a> for the general formulas involved."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1667759760,"post_id":74337666,"comment_id":131238586,"body_markdown":"The approach is also outlined [here](https://stackoverflow.com/a/42771430/230513) and [here](https://stackoverflow.com/a/32171751/230513).","body":"The approach is also outlined <a href=\"https://stackoverflow.com/a/42771430/230513\">here</a> and <a href=\"https://stackoverflow.com/a/32171751/230513\">here</a>."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1667815788,"post_id":74337666,"comment_id":131249422,"body_markdown":"And don&#39;t use &quot;Double&quot; when you are actually just dealing with values. Use &quot;double&quot; instead.","body":"And don&#39;t use &quot;Double&quot; when you are actually just dealing with values. Use &quot;double&quot; instead."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1667816207,"post_id":74337666,"comment_id":131249587,"body_markdown":"Also, if this is a serious project you should use some kind of map projection. Have a look here for example: https://github.com/geographiclib/geographiclib-java","body":"Also, if this is a serious project you should use some kind of map projection. Have a look here for example: <a href=\"https://github.com/geographiclib/geographiclib-java\" rel=\"nofollow noreferrer\">github.com/geographiclib/geographiclib-java</a>"},{"owner":{"account_id":19966140,"reputation":3,"user_id":14632693,"display_name":"S1ft"},"score":0,"creation_date":1667817358,"post_id":74337666,"comment_id":131249934,"body_markdown":"Thank you for all the suggestions! Mostly the visualisation of it isn&#39;t relevant to the project - it&#39;s just for me to sanity check I&#39;ve build it properly in terms of the roads connecting properly / to help me visualise it to look for issues with the algorithm","body":"Thank you for all the suggestions! Mostly the visualisation of it isn&#39;t relevant to the project - it&#39;s just for me to sanity check I&#39;ve build it properly in terms of the roads connecting properly / to help me visualise it to look for issues with the algorithm"}],"owner":{"account_id":19966140,"reputation":3,"user_id":14632693,"display_name":"S1ft"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667756581,"creation_date":1667751978,"question_id":74337666,"body_markdown":"I&#39;m working on a road network program, and want to display the road network as a quick visual to verify it&#39;s set up properly.\r\n\r\nI have the coordinates of each junction, and want to convert them to one&#39;s I can use in JavaFX, eg: Canvas.\r\n\r\nHowever, the coordinates for longitude are in the negatives, and I&#39;m stuck on converting them to, say, a window of 750 x 750\r\n\r\nI have the min &amp; max latitude and longitude values\r\n\r\nlowest longitude value: -122.5142235\r\nhighest longitude value: -122.3637617\r\n\r\nlowest latitude value: 37.7082614\r\nhighest latitude value: 37.8174339\r\n\r\nso I need to figure out how to scale the distance between each junction while maintining position and distance between the junctions, and transform it to make it able to appear on the canvas, as currently it starts at -122\r\n\r\nThanks in advance for any help.\r\n\r\nI&#39;ve tried using different methods such as this:\r\n\r\n\r\n```java\r\nGraphicsContext gc = canvas.getGraphicsContext2D();\r\n\r\nDouble maxX = -122.3637617;\r\nDouble minX = -122.5142235;\r\n\r\nDouble maxY = 37.8174339;\r\nDouble minY = 37.7082614;\r\n\r\nint width = 750;\r\nint height = 750;\r\n\r\ndouble xrange = maxX - minX;\r\ndouble yrange = maxY - minY;\r\n\r\ndouble xratio = xrange / width;\r\ndouble yratio = yrange / height;\r\n\r\n// width and height are in units of pixels\r\n// gc is the GraphicsContext object from javafx\r\nAffine t = new Affine();\r\n\r\nt.appendTranslation( minX, minY );\r\nt.appendScale( (xratio*150),(yratio*150) );\r\ntry\r\n{\r\n    t.invert();\r\n}\r\ncatch(NonInvertibleTransformException e )\r\n{\r\n    throw new RuntimeException( e.getMessage(), e );\r\n}\r\ngc.setTransform( t );\r\n\r\ngc.setFill(Color.BLACK);\r\ngc.setLineWidth(1);\r\ngc.strokeLine(-122.40351, 37.80489, -122.40345, 37.80504);\r\n```\r\n\r\nbut it doesn&#39;t seem to work properly.\r\n\r\nI&#39;ve also tried this code:\r\n\r\n\r\n```java\r\nDouble x1 = xConversion(maxX, minX, -122.40351, width);\r\nDouble x2 = xConversion(maxX, minX, -122.40345, width);\r\n\r\nDouble y1 = yConversion(maxY, minY, 37.80489, height);\r\nDouble y2 = yConversion(maxY, minY, 37.80504, height);\r\n\r\nScale scale = new Scale();\r\nscale.setX(xrange*width);\r\nscale.setY(yrange*height);\r\n\r\nLine line = new Line(x1, y1, x2, y2);\r\n\r\nline.getTransforms().add(scale);\r\n\r\n\r\npublic Double xConversion(Double maxX, Double minX, Double x, int width)\r\n{\r\n    //return (minX)+Math.abs((maxX)-(minX))*(x+0.5)/width;\r\n    return x-minX;\r\n}\r\n\r\npublic Double yConversion(Double maxY, Double minY, Double y, int height)\r\n{\r\n    return y-maxY;\r\n    //return (minY)+Math.abs((maxY)-(minY))*(y+0.5)/height;\r\n}\r\n```\r\n\r\nbut the best result I&#39;ve got has been a square appearing, instead of a line, which is a bit wrong XD.\r\n","title":"How to convert coordinates to JavaFX graph?","body":"<p>I'm working on a road network program, and want to display the road network as a quick visual to verify it's set up properly.</p>\n<p>I have the coordinates of each junction, and want to convert them to one's I can use in JavaFX, eg: Canvas.</p>\n<p>However, the coordinates for longitude are in the negatives, and I'm stuck on converting them to, say, a window of 750 x 750</p>\n<p>I have the min &amp; max latitude and longitude values</p>\n<p>lowest longitude value: -122.5142235\nhighest longitude value: -122.3637617</p>\n<p>lowest latitude value: 37.7082614\nhighest latitude value: 37.8174339</p>\n<p>so I need to figure out how to scale the distance between each junction while maintining position and distance between the junctions, and transform it to make it able to appear on the canvas, as currently it starts at -122</p>\n<p>Thanks in advance for any help.</p>\n<p>I've tried using different methods such as this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GraphicsContext gc = canvas.getGraphicsContext2D();\n\nDouble maxX = -122.3637617;\nDouble minX = -122.5142235;\n\nDouble maxY = 37.8174339;\nDouble minY = 37.7082614;\n\nint width = 750;\nint height = 750;\n\ndouble xrange = maxX - minX;\ndouble yrange = maxY - minY;\n\ndouble xratio = xrange / width;\ndouble yratio = yrange / height;\n\n// width and height are in units of pixels\n// gc is the GraphicsContext object from javafx\nAffine t = new Affine();\n\nt.appendTranslation( minX, minY );\nt.appendScale( (xratio*150),(yratio*150) );\ntry\n{\n    t.invert();\n}\ncatch(NonInvertibleTransformException e )\n{\n    throw new RuntimeException( e.getMessage(), e );\n}\ngc.setTransform( t );\n\ngc.setFill(Color.BLACK);\ngc.setLineWidth(1);\ngc.strokeLine(-122.40351, 37.80489, -122.40345, 37.80504);\n</code></pre>\n<p>but it doesn't seem to work properly.</p>\n<p>I've also tried this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Double x1 = xConversion(maxX, minX, -122.40351, width);\nDouble x2 = xConversion(maxX, minX, -122.40345, width);\n\nDouble y1 = yConversion(maxY, minY, 37.80489, height);\nDouble y2 = yConversion(maxY, minY, 37.80504, height);\n\nScale scale = new Scale();\nscale.setX(xrange*width);\nscale.setY(yrange*height);\n\nLine line = new Line(x1, y1, x2, y2);\n\nline.getTransforms().add(scale);\n\n\npublic Double xConversion(Double maxX, Double minX, Double x, int width)\n{\n    //return (minX)+Math.abs((maxX)-(minX))*(x+0.5)/width;\n    return x-minX;\n}\n\npublic Double yConversion(Double maxY, Double minY, Double y, int height)\n{\n    return y-maxY;\n    //return (minY)+Math.abs((maxY)-(minY))*(y+0.5)/height;\n}\n</code></pre>\n<p>but the best result I've got has been a square appearing, instead of a line, which is a bit wrong XD.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667756321,"creation_date":1667756321,"answer_id":74338241,"question_id":74338159,"body_markdown":"```java\r\nresultmoney.setText((int) fotvet);\r\n```\r\n\r\n`setText(int)` expects the `int` to be the identifier of a string resource, such as `R.string.app_name`. If you want to display a number, convert it to a `String` yourself (with whatever formatting you want), then pass the `String` to `setText(String)`. One possible implementation would be something like:\r\n\r\n```java\r\nresultmoney.setText(NumberFormat.getInstance().format(fotvet));\r\n```","title":"android.content.res.Resources$NotFoundException: String resource ID #0x1 ///","body":"<pre class=\"lang-java prettyprint-override\"><code>resultmoney.setText((int) fotvet);\n</code></pre>\n<p><code>setText(int)</code> expects the <code>int</code> to be the identifier of a string resource, such as <code>R.string.app_name</code>. If you want to display a number, convert it to a <code>String</code> yourself (with whatever formatting you want), then pass the <code>String</code> to <code>setText(String)</code>. One possible implementation would be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>resultmoney.setText(NumberFormat.getInstance().format(fotvet));\n</code></pre>\n"}],"owner":{"account_id":26848369,"reputation":1,"user_id":20433755,"display_name":"TuRb0Z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667756321,"creation_date":1667755635,"question_id":74338159,"body_markdown":"I am writing an application and it starts without errors, but when I try to enter something into the line, it crashes and moves to the main screen (3 screens in total)\r\n\r\n```\r\nE/.example.carap: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.carapp, PID: 11557\r\n    android.content.res.Resources$NotFoundException: String resource ID #0x1\r\n        at android.content.res.Resources.getText(Resources.java:430)\r\n        at android.content.res.HwResources.getText(HwResources.java:463)\r\n        at android.widget.TextView.setText(TextView.java:6036)\r\n        at com.example.carapp.carapp$1.recalc(carapp.java:51)\r\n        at com.example.carapp.carapp$1.onTextChanged(carapp.java:34)\r\n        at android.widget.TextView.sendOnTextChanged(TextView.java:10069)\r\n        at android.widget.TextView.handleTextChanged(TextView.java:10166)\r\n        at android.widget.TextView$ChangeWatcher.onTextChanged(TextView.java:12963)\r\n        at android.text.SpannableStringBuilder.sendTextChanged(SpannableStringBuilder.java:1267)\r\n        at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:579)\r\n        at androidx.emoji2.text.SpannableBuilder.replace(SpannableBuilder.java:315)\r\n        at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:506)\r\n        at androidx.emoji2.text.SpannableBuilder.replace(SpannableBuilder.java:305)\r\n        at androidx.emoji2.text.SpannableBuilder.replace(SpannableBuilder.java:49)\r\n        at android.text.method.NumberKeyListener.onKeyDown(NumberKeyListener.java:131)\r\n        at android.widget.TextView.doKeyDown(TextView.java:7914)\r\n        at android.widget.TextView.onKeyDown(TextView.java:7691)\r\n        at android.view.KeyEvent.dispatch(KeyEvent.java:2748)\r\n        at android.view.View.dispatchKeyEvent(View.java:12559)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\r\n        at com.android.internal.policy.DecorView.superDispatchKeyEvent(DecorView.java:553)\r\n        at com.android.internal.policy.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1919)\r\n        at android.app.Activity.dispatchKeyEvent(Activity.java:3548)\r\n        at androidx.core.app.ComponentActivity.superDispatchKeyEvent(ComponentActivity.java:124)\r\n        at androidx.core.view.KeyEventDispatcher.dispatchKeyEvent(KeyEventDispatcher.java:86)\r\n        at androidx.core.app.ComponentActivity.dispatchKeyEvent(ComponentActivity.java:142)\r\n        at androidx.appcompat.app.AppCompatActivity.dispatchKeyEvent(AppCompatActivity.java:601)\r\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent(WindowCallbackWrapper.java:60)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl$AppCompatWindowCallback.dispatchKeyEvent(AppCompatDelegateImpl.java:3106)\r\n        at com.android.internal.policy.DecorView.dispatchKeyEvent(DecorView.java:427)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent(ViewRootImpl.java:5663)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:5531)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4983)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5036)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5002)\r\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5157)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5010)\r\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5214)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4983)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5036)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5002)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5010)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4983)\r\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:7803)\r\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:7768)\r\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:7726)\r\n        at android.view.ViewRootImpl$ViewRootHandler.handleMessage(ViewRootImpl.java:4551)\r\nE/AndroidRuntime:     at android.os.Handler.dispatchMessage(Handler.java:112)\r\n        at android.os.Looper.loop(Looper.java:216)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\r\n```\r\nAnd at the end I will give the code for each of the windows used.\r\nMainActivity:\r\n\r\n```\r\npackage com.example.carapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n    public void startactivityone(View v) {\r\n        Intent intent = new Intent(this, carapp.class);\r\n        startActivity(intent);\r\n    }\r\n    public void startactivitytwo(View v) {\r\n        Intent intentt = new Intent(this, car_insructional1.class);\r\n        startActivity(intentt);\r\n    }\r\n}\r\n```\r\ncarapp activity:\r\n\r\n```\r\npackage com.example.carapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.EditText;\r\nimport android.widget.Spinner;\r\n\r\npublic class carapp extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.carapp);\r\n        Spinner typeofroad = (Spinner) findViewById(R.id.typeofroad);\r\n        ArrayAdapter&lt;CharSequence&gt; typeofroadAdapter = ArrayAdapter\r\n                .createFromResource(this,R.array.typesofroad, android.R.layout.simple_spinner_item);\r\n        typeofroadAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        typeofroad.setAdapter(typeofroadAdapter);\r\n        //Привязка списка к списку(выбор дороги)\r\n\r\n        final EditText probegavto = (EditText) findViewById(R.id.probeg);\r\n        final EditText resultmoney = (EditText) findViewById(R.id.resultnumber);\r\n        probegavto.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                recalc();\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n            }\r\n\r\n\r\n            public void recalc(){\r\n                float fresult;\r\n                try {\r\n                    fresult = Float.parseFloat(probegavto.getText().toString());\r\n                } catch (NumberFormatException e) {\r\n                    fresult=0;\r\n                }\r\n                int position = typeofroad.getSelectedItemPosition();\r\n                float fotvet = Calculate.calculateresult(position,fresult);\r\n                resultmoney.setText((int) fotvet);\r\n            }\r\n            });\r\n        }\r\n\r\n```\r\nand class Calsulate:\r\n\r\n```\r\npackage com.example.carapp;\r\n\r\npublic class Calculate {\r\n    static float[] factor = {1F, 0.5F,0.8F};\r\n    static float[] money = {1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F};\r\n    public static float calculateresult(int position,float fresult) {\r\n        if (fresult &lt; 10000) {\r\n            return (money[0]);\r\n        } else if ((fresult * factor[position]) &gt; 200000){\r\n            return (money[19]);\r\n        } else{\r\n            float v = (fresult * factor[position]) / 10000;\r\n            return money[(int) v];\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n***** array money wiil be  different\r\n\r\nI tried to rewrite the code, but it did not lead to anything successful. If you can, please tell me what is wrong and how to fix it.","title":"android.content.res.Resources$NotFoundException: String resource ID #0x1 ///","body":"<p>I am writing an application and it starts without errors, but when I try to enter something into the line, it crashes and moves to the main screen (3 screens in total)</p>\n<pre><code>E/.example.carap: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.carapp, PID: 11557\n    android.content.res.Resources$NotFoundException: String resource ID #0x1\n        at android.content.res.Resources.getText(Resources.java:430)\n        at android.content.res.HwResources.getText(HwResources.java:463)\n        at android.widget.TextView.setText(TextView.java:6036)\n        at com.example.carapp.carapp$1.recalc(carapp.java:51)\n        at com.example.carapp.carapp$1.onTextChanged(carapp.java:34)\n        at android.widget.TextView.sendOnTextChanged(TextView.java:10069)\n        at android.widget.TextView.handleTextChanged(TextView.java:10166)\n        at android.widget.TextView$ChangeWatcher.onTextChanged(TextView.java:12963)\n        at android.text.SpannableStringBuilder.sendTextChanged(SpannableStringBuilder.java:1267)\n        at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:579)\n        at androidx.emoji2.text.SpannableBuilder.replace(SpannableBuilder.java:315)\n        at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:506)\n        at androidx.emoji2.text.SpannableBuilder.replace(SpannableBuilder.java:305)\n        at androidx.emoji2.text.SpannableBuilder.replace(SpannableBuilder.java:49)\n        at android.text.method.NumberKeyListener.onKeyDown(NumberKeyListener.java:131)\n        at android.widget.TextView.doKeyDown(TextView.java:7914)\n        at android.widget.TextView.onKeyDown(TextView.java:7691)\n        at android.view.KeyEvent.dispatch(KeyEvent.java:2748)\n        at android.view.View.dispatchKeyEvent(View.java:12559)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1905)\n        at com.android.internal.policy.DecorView.superDispatchKeyEvent(DecorView.java:553)\n        at com.android.internal.policy.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1919)\n        at android.app.Activity.dispatchKeyEvent(Activity.java:3548)\n        at androidx.core.app.ComponentActivity.superDispatchKeyEvent(ComponentActivity.java:124)\n        at androidx.core.view.KeyEventDispatcher.dispatchKeyEvent(KeyEventDispatcher.java:86)\n        at androidx.core.app.ComponentActivity.dispatchKeyEvent(ComponentActivity.java:142)\n        at androidx.appcompat.app.AppCompatActivity.dispatchKeyEvent(AppCompatActivity.java:601)\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent(WindowCallbackWrapper.java:60)\n        at androidx.appcompat.app.AppCompatDelegateImpl$AppCompatWindowCallback.dispatchKeyEvent(AppCompatDelegateImpl.java:3106)\n        at com.android.internal.policy.DecorView.dispatchKeyEvent(DecorView.java:427)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent(ViewRootImpl.java:5663)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:5531)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4983)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5036)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5002)\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5157)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5010)\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5214)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4983)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5036)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5002)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5010)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4983)\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:7803)\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:7768)\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:7726)\n        at android.view.ViewRootImpl$ViewRootHandler.handleMessage(ViewRootImpl.java:4551)\nE/AndroidRuntime:     at android.os.Handler.dispatchMessage(Handler.java:112)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\n</code></pre>\n<p>And at the end I will give the code for each of the windows used.\nMainActivity:</p>\n<pre><code>package com.example.carapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n    public void startactivityone(View v) {\n        Intent intent = new Intent(this, carapp.class);\n        startActivity(intent);\n    }\n    public void startactivitytwo(View v) {\n        Intent intentt = new Intent(this, car_insructional1.class);\n        startActivity(intentt);\n    }\n}\n</code></pre>\n<p>carapp activity:</p>\n<pre><code>package com.example.carapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.widget.ArrayAdapter;\nimport android.widget.EditText;\nimport android.widget.Spinner;\n\npublic class carapp extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.carapp);\n        Spinner typeofroad = (Spinner) findViewById(R.id.typeofroad);\n        ArrayAdapter&lt;CharSequence&gt; typeofroadAdapter = ArrayAdapter\n                .createFromResource(this,R.array.typesofroad, android.R.layout.simple_spinner_item);\n        typeofroadAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        typeofroad.setAdapter(typeofroadAdapter);\n        //Привязка списка к списку(выбор дороги)\n\n        final EditText probegavto = (EditText) findViewById(R.id.probeg);\n        final EditText resultmoney = (EditText) findViewById(R.id.resultnumber);\n        probegavto.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                recalc();\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n            }\n\n\n            public void recalc(){\n                float fresult;\n                try {\n                    fresult = Float.parseFloat(probegavto.getText().toString());\n                } catch (NumberFormatException e) {\n                    fresult=0;\n                }\n                int position = typeofroad.getSelectedItemPosition();\n                float fotvet = Calculate.calculateresult(position,fresult);\n                resultmoney.setText((int) fotvet);\n            }\n            });\n        }\n\n</code></pre>\n<p>and class Calsulate:</p>\n<pre><code>package com.example.carapp;\n\npublic class Calculate {\n    static float[] factor = {1F, 0.5F,0.8F};\n    static float[] money = {1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F,1F};\n    public static float calculateresult(int position,float fresult) {\n        if (fresult &lt; 10000) {\n            return (money[0]);\n        } else if ((fresult * factor[position]) &gt; 200000){\n            return (money[19]);\n        } else{\n            float v = (fresult * factor[position]) / 10000;\n            return money[(int) v];\n        }\n    }\n}\n\n</code></pre>\n<p>***** array money wiil be  different</p>\n<p>I tried to rewrite the code, but it did not lead to anything successful. If you can, please tell me what is wrong and how to fix it.</p>\n"},{"tags":["java","mongodb","nosql","studio3t"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1667747735,"post_id":74337059,"comment_id":131235717,"body_markdown":"`{&quot;sections.sectionObj&quot;: &quot;smartFlowId1&quot;}`?","body":"<code>{&quot;sections.sectionObj&quot;: &quot;smartFlowId1&quot;}</code>?"}],"answers":[{"tags":[],"owner":{"account_id":24576560,"reputation":14741,"user_id":18482310,"display_name":"nimrod serok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667748464,"creation_date":1667748464,"answer_id":74337208,"question_id":74337059,"body_markdown":"One option is to iterate twice, per each nested level and count the items in last nested level. `$match` documents with count greater than 0:\r\n````\r\ndb.collection.aggregate([\r\n  {$match: {$expr: \r\n      {$gt: [\r\n          {$sum: {$map: {\r\n                input: &quot;$sections&quot;,\r\n                as: &quot;external&quot;,\r\n                in: {$sum: [\r\n                    {$reduce: {\r\n                        input: &quot;$$external.sectionObj&quot;,\r\n                        initialValue: 0,\r\n                        in: {$sum: [&quot;$$value&quot;, {$size: &quot;$$this.smartFlowIdList&quot;}]}\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n          }}},\r\n          0\r\n      ]}\r\n  }}\r\n])\r\n````\r\nSee how it works on the [playground example](https://mongoplayground.net/p/MEeIRcE26HV)\r\n","title":"mongoDB query document with multiple layer of nested array","body":"<p>One option is to iterate twice, per each nested level and count the items in last nested level. <code>$match</code> documents with count greater than 0:</p>\n<pre><code>db.collection.aggregate([\n  {$match: {$expr: \n      {$gt: [\n          {$sum: {$map: {\n                input: &quot;$sections&quot;,\n                as: &quot;external&quot;,\n                in: {$sum: [\n                    {$reduce: {\n                        input: &quot;$$external.sectionObj&quot;,\n                        initialValue: 0,\n                        in: {$sum: [&quot;$$value&quot;, {$size: &quot;$$this.smartFlowIdList&quot;}]}\n                      }\n                    }\n                  ]\n                }\n          }}},\n          0\n      ]}\n  }}\n])\n</code></pre>\n<p>See how it works on the <a href=\"https://mongoplayground.net/p/MEeIRcE26HV\" rel=\"nofollow noreferrer\">playground example</a></p>\n"}],"owner":{"account_id":6026862,"reputation":41,"user_id":13106846,"display_name":"user13106846"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667756309,"creation_date":1667747449,"question_id":74337059,"body_markdown":"\r\n```json\r\n{\r\n    &quot;sections&quot;: [\r\n        {\r\n            &quot;desc&quot;: &quot;no flow ID&quot;,\r\n            &quot;sectionObj&quot;: [\r\n                {\r\n                    &quot;smartFlowIdList&quot;: []\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;desc&quot;: &quot;has flow ID&quot;,\r\n            &quot;sectionObj&quot;: [\r\n                {\r\n                    &quot;smartFlowIdList&quot;: [\r\n                        &quot;smartFlowId1&quot;,\r\n                        &quot;smartFlowId2&quot;\r\n                    ]\r\n                }\r\n            ]\r\n        \r\n    ]\r\n}\r\n\r\n// Query document to see if any of the sections[].sectionObj[].smartFlowIdList has at least a flowId1  \r\n// in this case: it is True since [   &quot;smartFlowId1&quot;, &quot;smartFlowId2&quot; ] exits\r\n```\r\n\r\nI need to query this document with MongoDB shell commands. \r\n\r\nI have tried looking at $[], $all and digging up on mongo documentation but can seem to get anywhere. Any idea is appreciated, thanks!","title":"mongoDB query document with multiple layer of nested array","body":"<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;sections&quot;: [\n        {\n            &quot;desc&quot;: &quot;no flow ID&quot;,\n            &quot;sectionObj&quot;: [\n                {\n                    &quot;smartFlowIdList&quot;: []\n                }\n            ]\n        },\n        {\n            &quot;desc&quot;: &quot;has flow ID&quot;,\n            &quot;sectionObj&quot;: [\n                {\n                    &quot;smartFlowIdList&quot;: [\n                        &quot;smartFlowId1&quot;,\n                        &quot;smartFlowId2&quot;\n                    ]\n                }\n            ]\n        \n    ]\n}\n\n// Query document to see if any of the sections[].sectionObj[].smartFlowIdList has at least a flowId1  \n// in this case: it is True since [   &quot;smartFlowId1&quot;, &quot;smartFlowId2&quot; ] exits\n</code></pre>\n<p>I need to query this document with MongoDB shell commands.</p>\n<p>I have tried looking at $[], $all and digging up on mongo documentation but can seem to get anywhere. Any idea is appreciated, thanks!</p>\n"},{"tags":["java","generics","reflection","dao"],"comments":[{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1667755353,"post_id":74338093,"comment_id":131237575,"body_markdown":"Post what you tried, and what error you got","body":"Post what you tried, and what error you got"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1667755725,"post_id":74338093,"comment_id":131237658,"body_markdown":"You certainly cannot do generics like that.  You will probably need to use a raw type, or use generics more carefully, e.g. having your `gerindo` object have an appropriate generic method doing the job for you.  You haven&#39;t given us enough information that we can tell you how that would work","body":"You certainly cannot do generics like that.  You will probably need to use a raw type, or use generics more carefully, e.g. having your <code>gerindo</code> object have an appropriate generic method doing the job for you.  You haven&#39;t given us enough information that we can tell you how that would work"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1667755780,"post_id":74338093,"comment_id":131237667,"body_markdown":"You can&#39;t do this, and it would irrelevant, because the type parameter is not available at runtime due to erasure of generic types, so it would be the same as the raw-type `new DAO()` (not to mention you assign it to a variable with a raw type. If the class provided any useful information here, you would also need to pass the Class instance to the constructor.","body":"You can&#39;t do this, and it would irrelevant, because the type parameter is not available at runtime due to erasure of generic types, so it would be the same as the raw-type <code>new DAO()</code> (not to mention you assign it to a variable with a raw type. If the class provided any useful information here, you would also need to pass the Class instance to the constructor."}],"answers":[{"tags":[],"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667755984,"creation_date":1667755984,"answer_id":74338202,"question_id":74338093,"body_markdown":"basically, you can&#39;t do that. Even if you could, your dao object would be generic (no type as parameter) and not very helpful. For instance, you would have to cast the return value of a `findById` method since the type is not known at compile time.","title":"How do I instantiate a generic DAO class using reflection?","body":"<p>basically, you can't do that. Even if you could, your dao object would be generic (no type as parameter) and not very helpful. For instance, you would have to cast the return value of a <code>findById</code> method since the type is not known at compile time.</p>\n"}],"owner":{"account_id":26847764,"reputation":1,"user_id":20433260,"display_name":"Natasha Mota"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667755984,"creation_date":1667755148,"question_id":74338093,"body_markdown":"I have been trying to instantiate a generic DAO class. The problem is that I have a `Class&lt;?&gt;` class. It can be Client or Worker, so I can&#39;t specify which class is it. I tried instantiating the DAO class with `Class&lt;?&gt;`, but the DAO wont work right since I am using reflection on DAO to find out the fields the class used in generics have. \r\n\r\nI need to do something like this. \r\n```java\r\nDAO dao = new DAO&lt;this.gerindo.getClass()&gt;();\r\n```\r\n","title":"How do I instantiate a generic DAO class using reflection?","body":"<p>I have been trying to instantiate a generic DAO class. The problem is that I have a <code>Class&lt;?&gt;</code> class. It can be Client or Worker, so I can't specify which class is it. I tried instantiating the DAO class with <code>Class&lt;?&gt;</code>, but the DAO wont work right since I am using reflection on DAO to find out the fields the class used in generics have.</p>\n<p>I need to do something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DAO dao = new DAO&lt;this.gerindo.getClass()&gt;();\n</code></pre>\n"},{"tags":["java","android","exoplayer","exoplayer2.x"],"answers":[{"tags":[],"owner":{"account_id":8320124,"reputation":2078,"user_id":6252134,"accept_rate":82,"display_name":"Paul Lemarchand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1557329445,"creation_date":1557329445,"answer_id":56044228,"question_id":56044140,"body_markdown":"As of now, after reading the [documentation][1], I noted that the only difference I could see is that `SimpleExoPlayerView` is deprecated:\r\n\r\n&gt; Deprecated. Use PlayerView.\r\n\r\nTherefore, and although it could have made a difference in the past, use `PlayerView`.\r\n\r\n\r\n  [1]: https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/ui/SimpleExoPlayerView.html","title":"Dumb Question: What&#39;s the difference between PlayerView and SimpleExoPlayerView?","body":"<p>As of now, after reading the <a href=\"https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/ui/SimpleExoPlayerView.html\" rel=\"noreferrer\">documentation</a>, I noted that the only difference I could see is that <code>SimpleExoPlayerView</code> is deprecated:</p>\n\n<blockquote>\n  <p>Deprecated. Use PlayerView.</p>\n</blockquote>\n\n<p>Therefore, and although it could have made a difference in the past, use <code>PlayerView</code>.</p>\n"},{"tags":[],"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667581548,"creation_date":1667581548,"answer_id":74320637,"question_id":56044140,"body_markdown":"`PlayerView` is deprecated too, use `StyledPlayerView` instead. Google, please stop it.","title":"Dumb Question: What&#39;s the difference between PlayerView and SimpleExoPlayerView?","body":"<p><code>PlayerView</code> is deprecated too, use <code>StyledPlayerView</code> instead. Google, please stop it.</p>\n"},{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667754189,"creation_date":1667754189,"answer_id":74337970,"question_id":56044140,"body_markdown":"`&#39;com.google.android.exoplayer:exoplayer:2.18.1&#39;` with version you should use `StyledPlayerView` because `PlayerView` deprecated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yQjRc.png","title":"Dumb Question: What&#39;s the difference between PlayerView and SimpleExoPlayerView?","body":"<p><code>'com.google.android.exoplayer:exoplayer:2.18.1'</code> with version you should use <code>StyledPlayerView</code> because <code>PlayerView</code> deprecated.</p>\n<p><a href=\"https://i.stack.imgur.com/yQjRc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yQjRc.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":194559,"reputation":16003,"user_id":436976,"accept_rate":96,"display_name":"stevendesu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3151,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56044228,"answer_count":3,"score":5,"last_activity_date":1667754189,"creation_date":1557329135,"question_id":56044140,"body_markdown":"I&#39;m writing a library around ExoPlayer (creating a simple View that can be dragged and dropped into an app and will play videos and advertisements per our company&#39;s business logic). As I&#39;m looking to tweak the display of this player, I Googled the obvious (&quot;how to change appearance of exoplayer&quot;) and I keep seeing references to `SimpleExoPlayerView`. But from my understanding I should be placing a `PlayerView` onto my layout, not a `SimpleExoPlayerView`\r\n\r\nWhat is the difference between these two classes?","title":"Dumb Question: What&#39;s the difference between PlayerView and SimpleExoPlayerView?","body":"<p>I'm writing a library around ExoPlayer (creating a simple View that can be dragged and dropped into an app and will play videos and advertisements per our company's business logic). As I'm looking to tweak the display of this player, I Googled the obvious (\"how to change appearance of exoplayer\") and I keep seeing references to <code>SimpleExoPlayerView</code>. But from my understanding I should be placing a <code>PlayerView</code> onto my layout, not a <code>SimpleExoPlayerView</code></p>\n\n<p>What is the difference between these two classes?</p>\n"},{"tags":["java","spring","postgresql"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1667749182,"post_id":74337275,"comment_id":131236016,"body_markdown":"Can you show the declarazion of department and organization?","body":"Can you show the declarazion of department and organization?"},{"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"score":0,"creation_date":1667749701,"post_id":74337275,"comment_id":131236143,"body_markdown":"@Jens here you are","body":"@Jens here you are"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667753997,"creation_date":1667749801,"answer_id":74337404,"question_id":74337275,"body_markdown":"As join column you should reference the attribute in the other class:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = SEQENCE)\r\n    @SequenceGenerator(name = SEQENCE, sequenceName = SEQENCE, allocationSize = 1)\r\n    private Long userId;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;departmentId&quot;)\r\n    private Department department;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;organizazionId&quot;)\r\n    private Organization organization;","title":"Spring creating own columns with wrong reference in table","body":"<p>As join column you should reference the attribute in the other class:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = SEQENCE)\n@SequenceGenerator(name = SEQENCE, sequenceName = SEQENCE, allocationSize = 1)\nprivate Long userId;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;departmentId&quot;)\nprivate Department department;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;organizazionId&quot;)\nprivate Organization organization;\n</code></pre>\n"}],"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74337404,"answer_count":1,"score":-1,"last_activity_date":1667753997,"creation_date":1667748848,"question_id":74337275,"body_markdown":"I have problem with &quot;communication&quot; between `Spring` and `PostgreSQL`.\r\n\r\nMy class `User.java`:\r\n\r\n    public static final String TABLE_NAME = &quot;USERS&quot;;\r\n    public static final String SEQENCE = &quot;USERS_SEQ&quot;;\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = SEQENCE)\r\n    @SequenceGenerator(name = SEQENCE, sequenceName = SEQENCE, allocationSize = 1)\r\n    private Long userId;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;department_id&quot;)\r\n    private Department department;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;organizazion_id&quot;)\r\n    private Organization organization;\r\n\r\nCreate table script for `USERS`:\r\n\r\n    CREATE TABLE IF NOT EXISTS USERS (\r\n        USER_ID BIGINT NOT NULL, \r\n    \tDEPARTMENT_ID BIGINT,\r\n    \tORGANIZATION_ID BIGINT,\r\n    \tPRIMARY KEY (USER_ID),\r\n    \tFOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENT(DEPARTMENT_ID),\r\n    \tFOREIGN KEY (ORGANIZATION_ID) REFERENCES ORGANIZATION(ORGANIZATION_ID)\r\n    );\r\n\r\nClass `Department.java`\r\n\r\n    public static final String TABLE_NAME = &quot;DEPARTMENT&quot;;\r\n    public static final String SEQENCE = &quot;DEPARTMENT_SEQ&quot;;\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = SEQENCE)\r\n    @SequenceGenerator(name = SEQENCE, sequenceName = SEQENCE, allocationSize = 1)\r\n    private Long departmentId;\r\n    private String departmentName;\r\n    .\r\n    .\r\n    . //Some other columns of primitive types about department..\r\n\r\nCreate table script for `DEPARTMENT`:\r\n\r\n    CREATE TABLE IF NOT EXISTS DEPARTMENT (\r\n        DEPARTMENT_ID BIGINT NOT NULL, \r\n    \tDEPARTMENT_NAME VARCHAR(50),\r\n    \tPRIMARY KEY (DEPARTMENT_ID)\r\n    );\r\n\r\nClass Organization.java\r\n\r\n    public static final String TABLE_NAME = &quot;ORGANIZATION&quot;;\r\n    public static final String SEQENCE = &quot;ORGANIZATION_SEQ&quot;;\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = SEQENCE)\r\n    @SequenceGenerator(name = SEQENCE, sequenceName = SEQENCE, allocationSize = 1)\r\n    private Long organizationId;\r\n    private String organizationName;\r\n    private String street;\r\n    private String postalCode;\r\n    private String state;\r\n    private String city;\r\n\r\nCreate table script for `ORGANIZATION`:\r\n\r\n    CREATE TABLE IF NOT EXISTS ORGANIZATION (\r\n        ORGANIZATION_ID BIGINT NOT NULL, \r\n    \tORGANIZATION_NAME VARCHAR(50),\r\n        STREET VARCHAR(255),\r\n    \tPOSTAL_CODE VARCHAR(50),\r\n    \tSTATE VARCHAR(255),\r\n    \tCITY VARCHAR(255),\r\n    \tPRIMARY KEY (ORGANIZATION_ID)\r\n    );\r\n\r\nWhen I run the program, the `Spring` create &quot;own&quot; columns in `PostgreSQL`, and it&#39;s look like:\r\n\r\n    USER_ID, DEPARTMENT_ID, ORGANIZATION_ID, DEPARTMENT_DEPARTMENT_ID, ORGANIZATION_ORGANIZATION_ID\r\n\r\nHow can I fix it ? It should be without columns\r\n\r\n    DEPARTMENT_DEPARTMENT_ID, ORGANIZATION_ORGANIZATION_ID\r\n\r\nThe annotation `@Column(name = &quot;column_name&quot;)` can&#39;t be used here.","title":"Spring creating own columns with wrong reference in table","body":"<p>I have problem with &quot;communication&quot; between <code>Spring</code> and <code>PostgreSQL</code>.</p>\n<p>My class <code>User.java</code>:</p>\n<pre><code>public static final String TABLE_NAME = &quot;USERS&quot;;\npublic static final String SEQENCE = &quot;USERS_SEQ&quot;;\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = SEQENCE)\n@SequenceGenerator(name = SEQENCE, sequenceName = SEQENCE, allocationSize = 1)\nprivate Long userId;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;department_id&quot;)\nprivate Department department;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;organizazion_id&quot;)\nprivate Organization organization;\n</code></pre>\n<p>Create table script for <code>USERS</code>:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS USERS (\n    USER_ID BIGINT NOT NULL, \n    DEPARTMENT_ID BIGINT,\n    ORGANIZATION_ID BIGINT,\n    PRIMARY KEY (USER_ID),\n    FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENT(DEPARTMENT_ID),\n    FOREIGN KEY (ORGANIZATION_ID) REFERENCES ORGANIZATION(ORGANIZATION_ID)\n);\n</code></pre>\n<p>Class <code>Department.java</code></p>\n<pre><code>public static final String TABLE_NAME = &quot;DEPARTMENT&quot;;\npublic static final String SEQENCE = &quot;DEPARTMENT_SEQ&quot;;\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = SEQENCE)\n@SequenceGenerator(name = SEQENCE, sequenceName = SEQENCE, allocationSize = 1)\nprivate Long departmentId;\nprivate String departmentName;\n.\n.\n. //Some other columns of primitive types about department..\n</code></pre>\n<p>Create table script for <code>DEPARTMENT</code>:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS DEPARTMENT (\n    DEPARTMENT_ID BIGINT NOT NULL, \n    DEPARTMENT_NAME VARCHAR(50),\n    PRIMARY KEY (DEPARTMENT_ID)\n);\n</code></pre>\n<p>Class Organization.java</p>\n<pre><code>public static final String TABLE_NAME = &quot;ORGANIZATION&quot;;\npublic static final String SEQENCE = &quot;ORGANIZATION_SEQ&quot;;\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = SEQENCE)\n@SequenceGenerator(name = SEQENCE, sequenceName = SEQENCE, allocationSize = 1)\nprivate Long organizationId;\nprivate String organizationName;\nprivate String street;\nprivate String postalCode;\nprivate String state;\nprivate String city;\n</code></pre>\n<p>Create table script for <code>ORGANIZATION</code>:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS ORGANIZATION (\n    ORGANIZATION_ID BIGINT NOT NULL, \n    ORGANIZATION_NAME VARCHAR(50),\n    STREET VARCHAR(255),\n    POSTAL_CODE VARCHAR(50),\n    STATE VARCHAR(255),\n    CITY VARCHAR(255),\n    PRIMARY KEY (ORGANIZATION_ID)\n);\n</code></pre>\n<p>When I run the program, the <code>Spring</code> create &quot;own&quot; columns in <code>PostgreSQL</code>, and it's look like:</p>\n<pre><code>USER_ID, DEPARTMENT_ID, ORGANIZATION_ID, DEPARTMENT_DEPARTMENT_ID, ORGANIZATION_ORGANIZATION_ID\n</code></pre>\n<p>How can I fix it ? It should be without columns</p>\n<pre><code>DEPARTMENT_DEPARTMENT_ID, ORGANIZATION_ORGANIZATION_ID\n</code></pre>\n<p>The annotation <code>@Column(name = &quot;column_name&quot;)</code> can't be used here.</p>\n"},{"tags":["java","reactive-programming","project-reactor","reactive-streams"],"comments":[{"owner":{"account_id":11471404,"reputation":180,"user_id":8408114,"display_name":"Khepu"},"score":0,"creation_date":1667749493,"post_id":74330172,"comment_id":131236098,"body_markdown":"Ideally, you would simulate delays with `Mono.delay`.","body":"Ideally, you would simulate delays with <code>Mono.delay</code>."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667672205,"creation_date":1667671843,"answer_id":74330283,"question_id":74330172,"body_markdown":"`Thread.sleep()` will pause the JVM thread running the request. You can&#39;t call this method with a Spring WebFlux application. By design WebFlux uses very few threads to handle the requests to avoid [context switching][1] but if your code intentionally blocks them you break the whole design.\r\n\r\nIn practice Spring WebFlux can be faster than a regular Spring MVC if the application workload is I/O bound e.g. a micro-service that calls multiple external APIs and doesn&#39;t perform significant calculations.\r\n\r\nI&#39;d suggest that you try simulating the I/O operations by making a network call to an actual server using a reactive library like [Reactor Netty][2]. Otherwise you would have to dig into the code and figure out how to create a meaningful mock for a network I/O operation, which might be tricky.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Context_switch\r\n  [2]: https://github.com/reactor/reactor-netty","title":"How can I turn blocking code into a responsive style?","body":"<p><code>Thread.sleep()</code> will pause the JVM thread running the request. You can't call this method with a Spring WebFlux application. By design WebFlux uses very few threads to handle the requests to avoid <a href=\"https://en.wikipedia.org/wiki/Context_switch\" rel=\"nofollow noreferrer\">context switching</a> but if your code intentionally blocks them you break the whole design.</p>\n<p>In practice Spring WebFlux can be faster than a regular Spring MVC if the application workload is I/O bound e.g. a micro-service that calls multiple external APIs and doesn't perform significant calculations.</p>\n<p>I'd suggest that you try simulating the I/O operations by making a network call to an actual server using a reactive library like <a href=\"https://github.com/reactor/reactor-netty\" rel=\"nofollow noreferrer\">Reactor Netty</a>. Otherwise you would have to dig into the code and figure out how to create a meaningful mock for a network I/O operation, which might be tricky.</p>\n"},{"tags":[],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667672620,"creation_date":1667672620,"answer_id":74330388,"question_id":74330172,"body_markdown":"Reactive programming is good for juggling work across threads when &quot;someone else other than this JVM&quot; is busy.\r\n\r\nSo, handover to OS for file write, or to DB for record update or to another remote server over API call. Let them call you back when they have the result. Eventually, you should be juggling, but work goes on somewhere else and results flow in. This is where reactivity shines. \r\n\r\nSo, it&#39;s difficult to simulate with Thread.sleep or for loop running 10_000 times.\r\n\r\nAlso, it means the whole flow has to be reactive - your disk IO library should be reactive, your DB library should be reactive, your Rest client for calling other networked services should be reactive. Reactor should be helping with solutions for each of these.\r\n\r\nAlso, its not all-or-nothing. Even if your disk IO is blocking, you will still gain benefits if atleast the Rest client is non-blocking.","title":"How can I turn blocking code into a responsive style?","body":"<p>Reactive programming is good for juggling work across threads when &quot;someone else other than this JVM&quot; is busy.</p>\n<p>So, handover to OS for file write, or to DB for record update or to another remote server over API call. Let them call you back when they have the result. Eventually, you should be juggling, but work goes on somewhere else and results flow in. This is where reactivity shines.</p>\n<p>So, it's difficult to simulate with Thread.sleep or for loop running 10_000 times.</p>\n<p>Also, it means the whole flow has to be reactive - your disk IO library should be reactive, your DB library should be reactive, your Rest client for calling other networked services should be reactive. Reactor should be helping with solutions for each of these.</p>\n<p>Also, its not all-or-nothing. Even if your disk IO is blocking, you will still gain benefits if atleast the Rest client is non-blocking.</p>\n"}],"owner":{"account_id":8847129,"reputation":168,"user_id":6607559,"accept_rate":75,"display_name":"Terrence"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667753842,"creation_date":1667670902,"question_id":74330172,"body_markdown":"I have always been used to blocking programming and working in the Spring MVC framework. Recently, I considered learning reactive programming. I was full of doubts about how to convert the previous logic into a new style.\r\n\r\nSee the following processing(Pseudocode):\r\n\r\n```java\r\npublic Mono&lt;List&lt;String&gt;&gt; a() {\r\n    // 1...\r\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; 100; i++) {\r\n        strings.add(&quot;hello &quot; + i);\r\n    }\r\n    Mono&lt;List&lt;String&gt;&gt; mono = Mono.just(strings);\r\n    // 2...\r\n    mono.subscribe(e -&gt; {\r\n        b();\r\n    });\r\n    // 3...\r\n    mono.subscribe(e -&gt; {\r\n        c();\r\n    });\r\n    mono.subscribeOn(Schedulers.boundedElastic());\r\n    return mono;\r\n}\r\n\r\n// Simulate a time-consuming process.\r\npublic void b() {\r\n    try {\r\n        Thread.sleep(100);\r\n    } catch (InterruptedException err) {\r\n        throw new RuntimeException(err);\r\n    }\r\n}\r\n\r\n// Simulate the process of requesting an external HTTP interface once.\r\npublic int c() {\r\n    try {\r\n        Thread.sleep(300);\r\n    } catch (InterruptedException err) {\r\n        throw new RuntimeException(err);\r\n    }\r\n    return 1;\r\n}\r\n```\r\n\r\n\r\nI tried to convert it into code that conforms to the responsive programming style, but found that the time-consuming code logic has blocked the current thread, which is inconsistent with my expectation.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/0lYXZ.png)](https://i.stack.imgur.com/0lYXZ.png)\r\n\r\nI tested Webflux and Tomcat respectively, and the results show that the performance of the former is very poor. I suspect that the IO thread is blocked, which can be seen from the thread sleep time.","title":"How can I turn blocking code into a responsive style?","body":"<p>I have always been used to blocking programming and working in the Spring MVC framework. Recently, I considered learning reactive programming. I was full of doubts about how to convert the previous logic into a new style.</p>\n<p>See the following processing(Pseudocode):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;List&lt;String&gt;&gt; a() {\n    // 1...\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; 100; i++) {\n        strings.add(&quot;hello &quot; + i);\n    }\n    Mono&lt;List&lt;String&gt;&gt; mono = Mono.just(strings);\n    // 2...\n    mono.subscribe(e -&gt; {\n        b();\n    });\n    // 3...\n    mono.subscribe(e -&gt; {\n        c();\n    });\n    mono.subscribeOn(Schedulers.boundedElastic());\n    return mono;\n}\n\n// Simulate a time-consuming process.\npublic void b() {\n    try {\n        Thread.sleep(100);\n    } catch (InterruptedException err) {\n        throw new RuntimeException(err);\n    }\n}\n\n// Simulate the process of requesting an external HTTP interface once.\npublic int c() {\n    try {\n        Thread.sleep(300);\n    } catch (InterruptedException err) {\n        throw new RuntimeException(err);\n    }\n    return 1;\n}\n</code></pre>\n<p>I tried to convert it into code that conforms to the responsive programming style, but found that the time-consuming code logic has blocked the current thread, which is inconsistent with my expectation.</p>\n<p><a href=\"https://i.stack.imgur.com/0lYXZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0lYXZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I tested Webflux and Tomcat respectively, and the results show that the performance of the former is very poor. I suspect that the IO thread is blocked, which can be seen from the thread sleep time.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667707640,"creation_date":1667707640,"answer_id":74333244,"question_id":74333186,"body_markdown":"Where is this password going? If it is just to unlock a local database (your app does not communicate with a server at all) then there is no point to a password; their device is already highly personal. If you want to add an additional layer, the android API has tools to ask the user to re-unlock their device, and you can check if they have a lock in the first place.\r\n\r\nAndroid devices have face recognition, fingerprint unlock, and more. Use them. By asking the device to re-unlock.\r\n\r\nIf this is heading to a server, the check needs to be done on the server and not in your app. You have to assume the owner of the device hacks your app if they want, you don&#39;t actually control their hardware; you _do_ control your server.\r\n\r\nTo do safe passwords on a server, oof, there is a ton of ground to cover:\r\n\r\n* As per NIST standards, require 8 characters minimum and require nothing else. If you require &#39;a capital letter&#39;, they will capitalize the first letter. If you require &#39;a digit&#39;, they will add a 1 to the end, add their birthyear, the current year (to the end as well), or replace an o with a 0 or an a with a 4. These kinds of additions are easy for a computer to guess and hard for a human to remember, i.e. as for as password policies go, idiotic (yes, a _lot_ of companies and standards mandate them. Turns out a lot of standards are written by dunces, I guess. It&#39;s objectively bad security to do this). Ask for a symbol, and it&#39;ll be a !, and it&#39;ll be at the end, for about 90% of the folks you force into doing this.\r\n* When storing the password on your server, use a salt+pw-hash setup. If the user enters password &#39;iloveyou&#39; (which about 5% of your users will, it is the most common password onb the internet), then you generate some random text, say, 129dajg0an. Then, you hash &#39;129dajg0aniloveyou&#39; with a hashing algorithm explicitly designed for password hashing, so do _not_ use SHA256, _do_ use BCrypt or similar. Store in the database 129dajg0an and the hash result. Now you can check a password again (do the same procedure again, check if the hashes are identical). Use proper security to do so - primarily, don&#39;t use the normal comparison operations which stop the moment a mismatch is found, because the time taken could be used to derive some info. Use a secure hash comparator algorithm (keep going and compare every character even if it&#39;s already clear it is not going to match). This means that I can&#39;t identify the 5% with iloveyou (without the salt factor, it&#39;d be the 5% of the accounts that all have an identical hash, those are the idiots with a common password) - I can&#39;t use my bitcoin rig to crack your database if ever I get my hands on it, and then use those passwords on other sites (because users will reuse passwords).\r\n\r\nThis is all very complicated and you&#39;re going to do it wrong when you&#39;re a wintered expert who has been doing this for years. Imagine how bad it&#39;ll be if you&#39;re new to programming. Fortunately, all this salt and bcrypt and cryptographically secure hash compare stuff is baked into [easy to use libraries](https://www.baeldung.com/java-password-hashing). \r\n\r\n## I really want to protect the user from picking dumb passwords\r\n\r\nThe only non-idiotic (idiotic defined as: Gets in the way of users doing it right, e.g. with password vaults, or with long sentences of nonsense words which is vastly more secure than short sequences of symbols and numbers and caps and lowercase!) way to stop bad passwords is to use crackerbots: During downtime or just at a low but continuous pace, some code is continuously running on your server that tries to crack all passwords in your entire database. There are various tools out there that do this. They are smart and use common passwords (princess, dragon, iloveyou, abc123, that sort of thing), prefer using likely birthdates (19xx and 20xx are waaay more common number sequences than anything else), and so on. When they crack one, update your db tables so that you can tell the user: Hey, your password was really weak, pick a new one and do a better job this time.\r\n\r\nThis is all quite a bit of effort which is why most sites do not appear to do this. But all the simple solutions backfire (in the sense that they actually make the security of the operation worse and not better and are thus getting in the way of the user&#39;s convenience _and_ make it worse - a lose lose &#39;solution&#39; that is therefore best not implemented at all).\r\n\r\nAn additional trick you can do is to use the [hibp API](https://haveibeenpwned.com) to check if the password the user chose is known (has shown up in plaintext db leaks before). If it has, force the user to pick another password.\r\n","title":"How can I improve the creation of a password in Android","body":"<p>Where is this password going? If it is just to unlock a local database (your app does not communicate with a server at all) then there is no point to a password; their device is already highly personal. If you want to add an additional layer, the android API has tools to ask the user to re-unlock their device, and you can check if they have a lock in the first place.</p>\n<p>Android devices have face recognition, fingerprint unlock, and more. Use them. By asking the device to re-unlock.</p>\n<p>If this is heading to a server, the check needs to be done on the server and not in your app. You have to assume the owner of the device hacks your app if they want, you don't actually control their hardware; you <em>do</em> control your server.</p>\n<p>To do safe passwords on a server, oof, there is a ton of ground to cover:</p>\n<ul>\n<li>As per NIST standards, require 8 characters minimum and require nothing else. If you require 'a capital letter', they will capitalize the first letter. If you require 'a digit', they will add a 1 to the end, add their birthyear, the current year (to the end as well), or replace an o with a 0 or an a with a 4. These kinds of additions are easy for a computer to guess and hard for a human to remember, i.e. as for as password policies go, idiotic (yes, a <em>lot</em> of companies and standards mandate them. Turns out a lot of standards are written by dunces, I guess. It's objectively bad security to do this). Ask for a symbol, and it'll be a !, and it'll be at the end, for about 90% of the folks you force into doing this.</li>\n<li>When storing the password on your server, use a salt+pw-hash setup. If the user enters password 'iloveyou' (which about 5% of your users will, it is the most common password onb the internet), then you generate some random text, say, 129dajg0an. Then, you hash '129dajg0aniloveyou' with a hashing algorithm explicitly designed for password hashing, so do <em>not</em> use SHA256, <em>do</em> use BCrypt or similar. Store in the database 129dajg0an and the hash result. Now you can check a password again (do the same procedure again, check if the hashes are identical). Use proper security to do so - primarily, don't use the normal comparison operations which stop the moment a mismatch is found, because the time taken could be used to derive some info. Use a secure hash comparator algorithm (keep going and compare every character even if it's already clear it is not going to match). This means that I can't identify the 5% with iloveyou (without the salt factor, it'd be the 5% of the accounts that all have an identical hash, those are the idiots with a common password) - I can't use my bitcoin rig to crack your database if ever I get my hands on it, and then use those passwords on other sites (because users will reuse passwords).</li>\n</ul>\n<p>This is all very complicated and you're going to do it wrong when you're a wintered expert who has been doing this for years. Imagine how bad it'll be if you're new to programming. Fortunately, all this salt and bcrypt and cryptographically secure hash compare stuff is baked into <a href=\"https://www.baeldung.com/java-password-hashing\" rel=\"nofollow noreferrer\">easy to use libraries</a>.</p>\n<h2>I really want to protect the user from picking dumb passwords</h2>\n<p>The only non-idiotic (idiotic defined as: Gets in the way of users doing it right, e.g. with password vaults, or with long sentences of nonsense words which is vastly more secure than short sequences of symbols and numbers and caps and lowercase!) way to stop bad passwords is to use crackerbots: During downtime or just at a low but continuous pace, some code is continuously running on your server that tries to crack all passwords in your entire database. There are various tools out there that do this. They are smart and use common passwords (princess, dragon, iloveyou, abc123, that sort of thing), prefer using likely birthdates (19xx and 20xx are waaay more common number sequences than anything else), and so on. When they crack one, update your db tables so that you can tell the user: Hey, your password was really weak, pick a new one and do a better job this time.</p>\n<p>This is all quite a bit of effort which is why most sites do not appear to do this. But all the simple solutions backfire (in the sense that they actually make the security of the operation worse and not better and are thus getting in the way of the user's convenience <em>and</em> make it worse - a lose lose 'solution' that is therefore best not implemented at all).</p>\n<p>An additional trick you can do is to use the <a href=\"https://haveibeenpwned.com\" rel=\"nofollow noreferrer\">hibp API</a> to check if the password the user chose is known (has shown up in plaintext db leaks before). If it has, force the user to pick another password.</p>\n"}],"owner":{"account_id":26693863,"reputation":11,"user_id":20302079,"display_name":"Juan "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667753786,"creation_date":1667706457,"question_id":74333186,"body_markdown":"I am developing an app in Android Studio in Java. The problem is that my app has a login, therefore also a registry, but I would like the user not to put passwords of pure numbers, and I am looking how to put in password restrictions.\r\n\r\n```java\r\nif (correo.equals(&quot;&quot;) || contrase&#241;a.equals(&quot;&quot;) || nombres.equals(&quot;&quot;) ||\r\n        apellidos.equals(&quot;&quot;) || edad.equals(&quot;&quot;)) {\r\n    Toast.makeText(getActivity(), &quot;Favor de llenar los datos completos&quot;,\r\n            Toast.LENGTH_SHORT).show();\r\n} else {\r\n    if (!Patterns.EMAIL_ADDRESS.matcher(correo).matches()) {\r\n        Correo.setError(&quot;Correo Invalido&quot;);\r\n        Correo.setFocusable(true);\r\n    } else if (contrase&#241;a.length() &lt; 8) {\r\n        Contrase&#241;a.setError(&quot;Contrase&#241;a debe ser mayor o igual a 6 digitos&quot;);\r\n        Contrase&#241;a.setFocusable(true);\r\n    } else {\r\n        RegistroAdministradores(correo, contrase&#241;a);\r\n    }\r\n}\r\n```\r\n\r\nI only have that security &quot;Parameter&quot; which is the one that is less than 6. I have tried looking for some libraries or the same if condition to see what can be done, but I can&#39;t get it.","title":"How can I improve the creation of a password in Android","body":"<p>I am developing an app in Android Studio in Java. The problem is that my app has a login, therefore also a registry, but I would like the user not to put passwords of pure numbers, and I am looking how to put in password restrictions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (correo.equals(&quot;&quot;) || contraseña.equals(&quot;&quot;) || nombres.equals(&quot;&quot;) ||\n        apellidos.equals(&quot;&quot;) || edad.equals(&quot;&quot;)) {\n    Toast.makeText(getActivity(), &quot;Favor de llenar los datos completos&quot;,\n            Toast.LENGTH_SHORT).show();\n} else {\n    if (!Patterns.EMAIL_ADDRESS.matcher(correo).matches()) {\n        Correo.setError(&quot;Correo Invalido&quot;);\n        Correo.setFocusable(true);\n    } else if (contraseña.length() &lt; 8) {\n        Contraseña.setError(&quot;Contraseña debe ser mayor o igual a 6 digitos&quot;);\n        Contraseña.setFocusable(true);\n    } else {\n        RegistroAdministradores(correo, contraseña);\n    }\n}\n</code></pre>\n<p>I only have that security &quot;Parameter&quot; which is the one that is less than 6. I have tried looking for some libraries or the same if condition to see what can be done, but I can't get it.</p>\n"},{"tags":["java","nio2"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667738223,"post_id":74335847,"comment_id":131233622,"body_markdown":"According to docs, target file is not overwritten, unless you specify CopyOption ATOMIC_MOVE (or REPLACE_EXISTING). \n\nHave you tried `Files.move(source,target)`?","body":"According to docs, target file is not overwritten, unless you specify CopyOption ATOMIC_MOVE (or REPLACE_EXISTING).   Have you tried <code>Files.move(source,target)</code>?"},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":1,"creation_date":1667749108,"post_id":74335847,"comment_id":131236002,"body_markdown":"@ChristophDahlen: But the question is about atomic move, so either I _have_ to specify option `ATOMIC_MOVE` or leave it out and hope that atomic will apply nonetheless. The latter case is not documented, i.e. if the JDK will in such case still do the move operation atomically, if it can. This is what I mean by &quot;opportunistic&quot;.","body":"@ChristophDahlen: But the question is about atomic move, so either I <i>have</i> to specify option <code>ATOMIC_MOVE</code> or leave it out and hope that atomic will apply nonetheless. The latter case is not documented, i.e. if the JDK will in such case still do the move operation atomically, if it can. This is what I mean by &quot;opportunistic&quot;."}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667753517,"creation_date":1667737615,"question_id":74335847,"body_markdown":"How can I get the JDK to perform an atomic move operation, but throw `FileAlreadyExistsException` if the target already exist ?\r\n\r\nMy source and target are of type `Path`. I&#39;m guaranteed that they both reside in the same folder (have same parent) thus they are always on the same filesystem. In effect, what I&#39;m looking for is a *rename* operation and I want to make certain (as certain as can be) that the OS does not start a copy operation. My files a fairly big (1-2 GB) and copying would really be stupid because they are in the same folder. And it would block for long time.\r\n\r\n\r\nExample I&#39;ve tried:\r\n\r\n```java\r\nFiles.move(source, target, StandardCopyOption.ATOMIC_MOVE);\r\n```\r\n\r\nbut this will overwrite any existing file. (which is indeed also what the Javadoc says)\r\n\r\nMy scenario is a rather busy one, meaning quite a few processes going at the filesystem at the same time. Therefore, checking first if the file exist is not really the best solution as I risk getting an existing file - from another thread/process - overwritten.\r\nI can also do with a solution with opportunistic &quot;ATOMIC_MOVE&quot; but the Javadoc is vague on if this is possible. (in my case it would be good enough because opportunistic would mean always in my case)\r\n\r\n(no, not the same question as [this one](https://stackoverflow.com/questions/25238284/how-to-guarantee-atomic-move-or-exception-of-a-file-in-java))\r\n\r\n","title":"Perform atomic move operation, but throw if target exist","body":"<p>How can I get the JDK to perform an atomic move operation, but throw <code>FileAlreadyExistsException</code> if the target already exist ?</p>\n<p>My source and target are of type <code>Path</code>. I'm guaranteed that they both reside in the same folder (have same parent) thus they are always on the same filesystem. In effect, what I'm looking for is a <em>rename</em> operation and I want to make certain (as certain as can be) that the OS does not start a copy operation. My files a fairly big (1-2 GB) and copying would really be stupid because they are in the same folder. And it would block for long time.</p>\n<p>Example I've tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Files.move(source, target, StandardCopyOption.ATOMIC_MOVE);\n</code></pre>\n<p>but this will overwrite any existing file. (which is indeed also what the Javadoc says)</p>\n<p>My scenario is a rather busy one, meaning quite a few processes going at the filesystem at the same time. Therefore, checking first if the file exist is not really the best solution as I risk getting an existing file - from another thread/process - overwritten.\nI can also do with a solution with opportunistic &quot;ATOMIC_MOVE&quot; but the Javadoc is vague on if this is possible. (in my case it would be good enough because opportunistic would mean always in my case)</p>\n<p>(no, not the same question as <a href=\"https://stackoverflow.com/questions/25238284/how-to-guarantee-atomic-move-or-exception-of-a-file-in-java\">this one</a>)</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1667733453,"post_id":74334022,"comment_id":131232622,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":23118939,"reputation":67,"user_id":17225742,"display_name":"Rifaldi"},"score":0,"creation_date":1667809585,"post_id":74334022,"comment_id":131247334,"body_markdown":"I think that happen because use finish() inside onclick event","body":"I think that happen because use finish() inside onclick event"}],"owner":{"account_id":20035122,"reputation":23,"user_id":14687024,"display_name":"Rohit Kadu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667753391,"creation_date":1667719719,"question_id":74334022,"body_markdown":"I am creating a sign up page and in previous activity I ask user to select if they are an existing or new user. I have written code for new user (i.e. registration), but when I click on new user activity (intent), a white screen pops up and it again gets back to select type of user.\r\n\r\nHere&#39;s the code for new user registration:\r\n\r\n```\r\npackage com.example.houserentappproject;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class activity_registration_user extends AppCompatActivity {\r\n\r\n    EditText userFullName , userEmail , userPassword , userContact ;\r\n    Button btn_register ;\r\n\r\n    FirebaseDatabase firebaseDatabase ;\r\n    DatabaseReference databaseReference ;\r\n    userInfo userInfo ;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_registration_user);\r\n\r\n\r\n\r\n        userFullName = findViewById(R.id.id_fullname_newuser);\r\n        userEmail = findViewById(R.id.id_email_newuser);\r\n        userPassword = findViewById(R.id.id_password_newuser);\r\n        userContact = findViewById(R.id.id_mobileno_newuser);\r\n        btn_register = findViewById(R.id.btn_regitser);\r\n\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        databaseReference = firebaseDatabase.getReference(&quot;userInfo&quot;);\r\n\r\n        userInfo = new userInfo();\r\n\r\n        btn_register.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                String name = userFullName.getText().toString();\r\n                String email = userEmail.getText().toString();\r\n                String password = userPassword.getText().toString();\r\n                String mobileNo = userContact.getText().toString();\r\n\r\n                if(TextUtils.isEmpty(name) &amp;&amp; TextUtils.isEmpty(email) &amp;&amp; TextUtils.isEmpty(password) &amp;&amp; TextUtils.isEmpty(mobileNo)) {\r\n                    Toast.makeText(activity_registration_user.this, &quot;Please Add some data&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    addUserInfoToFirebase(name, email , password , mobileNo);\r\n                }\r\n\r\n                Intent intent = new Intent(getApplicationContext() , activity_successful_google_signin.class);\r\n                startActivity(intent);\r\n                finish();\r\n\r\n            }\r\n\r\n            private void addUserInfoToFirebase(String name, String email, String password, String mobileNo) {\r\n\r\n                userInfo.setUserFullName(name);\r\n                userInfo.setUserEmail(email);\r\n                userInfo.setUserPassword(password);\r\n                userInfo.setUserContact(mobileNo);\r\n\r\n                databaseReference.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                        databaseReference.setValue(userInfo);\r\n                        Toast.makeText(activity_registration_user.this, &quot;Successfully Registered&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                        Toast.makeText(activity_registration_user.this, &quot;Registration Failed&quot; + databaseError, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"White Screen pops and and then it gets back to previous activity","body":"<p>I am creating a sign up page and in previous activity I ask user to select if they are an existing or new user. I have written code for new user (i.e. registration), but when I click on new user activity (intent), a white screen pops up and it again gets back to select type of user.</p>\n<p>Here's the code for new user registration:</p>\n<pre><code>package com.example.houserentappproject;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class activity_registration_user extends AppCompatActivity {\n\n    EditText userFullName , userEmail , userPassword , userContact ;\n    Button btn_register ;\n\n    FirebaseDatabase firebaseDatabase ;\n    DatabaseReference databaseReference ;\n    userInfo userInfo ;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_registration_user);\n\n\n\n        userFullName = findViewById(R.id.id_fullname_newuser);\n        userEmail = findViewById(R.id.id_email_newuser);\n        userPassword = findViewById(R.id.id_password_newuser);\n        userContact = findViewById(R.id.id_mobileno_newuser);\n        btn_register = findViewById(R.id.btn_regitser);\n\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        databaseReference = firebaseDatabase.getReference(&quot;userInfo&quot;);\n\n        userInfo = new userInfo();\n\n        btn_register.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                String name = userFullName.getText().toString();\n                String email = userEmail.getText().toString();\n                String password = userPassword.getText().toString();\n                String mobileNo = userContact.getText().toString();\n\n                if(TextUtils.isEmpty(name) &amp;&amp; TextUtils.isEmpty(email) &amp;&amp; TextUtils.isEmpty(password) &amp;&amp; TextUtils.isEmpty(mobileNo)) {\n                    Toast.makeText(activity_registration_user.this, &quot;Please Add some data&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    addUserInfoToFirebase(name, email , password , mobileNo);\n                }\n\n                Intent intent = new Intent(getApplicationContext() , activity_successful_google_signin.class);\n                startActivity(intent);\n                finish();\n\n            }\n\n            private void addUserInfoToFirebase(String name, String email, String password, String mobileNo) {\n\n                userInfo.setUserFullName(name);\n                userInfo.setUserEmail(email);\n                userInfo.setUserPassword(password);\n                userInfo.setUserContact(mobileNo);\n\n                databaseReference.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                        databaseReference.setValue(userInfo);\n                        Toast.makeText(activity_registration_user.this, &quot;Successfully Registered&quot;, Toast.LENGTH_SHORT).show();\n\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError databaseError) {\n                        Toast.makeText(activity_registration_user.this, &quot;Registration Failed&quot; + databaseError, Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n            }\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","datetime","java.util.scanner","current-time"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1667708407,"post_id":74333275,"comment_id":131229355,"body_markdown":"What do you think the significance of the parameter you pass to `format` is?","body":"What do you think the significance of the parameter you pass to <code>format</code> is?"},{"owner":{"account_id":26843690,"reputation":11,"user_id":20429783,"display_name":"dwextit"},"score":0,"creation_date":1667708884,"post_id":74333275,"comment_id":131229408,"body_markdown":"isn&#39;t that to format the date and time?","body":"isn&#39;t that to format the date and time?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1667710040,"post_id":74333275,"comment_id":131229518,"body_markdown":"My question is why you think that calling `dtformat.format(dNow)` twice with exactly the same `dNow` ought to give you different values?   Please read the javadoc for the `Date()` constructor carefully.   *&quot;Allocates a `Date` object and initializes it so that it represents **the time at which it was allocated**, measured to the nearest millisecond.&quot;*","body":"My question is why you think that calling <code>dtformat.format(dNow)</code> twice with exactly the same <code>dNow</code> ought to give you different values?   Please read the javadoc for the <code>Date()</code> constructor carefully.   <i>&quot;Allocates a <code>Date</code> object and initializes it so that it represents <b>the time at which it was allocated</b>, measured to the nearest millisecond.&quot;</i>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667722123,"post_id":74333275,"comment_id":131230788,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `ZonedDateTime` or `LocalDateTime` and also `DateTimeFormatter`; all are from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>ZonedDateTime</code> or <code>LocalDateTime</code> and also <code>DateTimeFormatter</code>; all are from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667723604,"post_id":74333275,"comment_id":131230983,"body_markdown":"Declare `private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd hh:mm:ss a&quot;, Locale.UK);`. Substitute your desired locale or `Locale.getDefault()`. After reading each line do `System.out.println(obj + &#39; &#39; + ZonedDateTime.now(ZoneId.systemDefault()).format(FORMATTER));` to get output like `hi 2022.11.06 11:31:23 am` where the time will be current and different each time.","body":"Declare <code>private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd hh:mm:ss a&quot;, Locale.UK);</code>. Substitute your desired locale or <code>Locale.getDefault()</code>. After reading each line do <code>System.out.println(obj + &#39; &#39; + ZonedDateTime.now(ZoneId.systemDefault()).format(FORMATTER))&zwnj;&#8203;;</code> to get output like <code>hi 2022.11.06 11:31:23 am</code> where the time will be current and different each time."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667752985,"creation_date":1667710038,"answer_id":74333373,"question_id":74333275,"body_markdown":"Java is, like most programming languages, imperative.\r\n\r\n```\r\nint x = 5;\r\nint y = x;\r\n```\r\n\r\ndoes __not__ mean that &#39;y&#39; is an alias for &#39;x&#39;. It simply means: Resolve the expression `x`, and take whatever that __currently__ resolves to, then update the value of `y` to be that value. Resolving expression `x` simply means: What is the _current_ value of this variable.\r\n\r\nin other words:\r\n\r\n```java\r\nint x = 5;\r\nint y = x;\r\nx = 4;\r\nSystem.out.println(y);\r\n```\r\n\r\nThis prints __5__. It does not print 4.\r\n\r\nIn your code, you resolve the expression `new Date()` exactly once, at the very start, and never again. `dNow` is set in stone once you ran it, and doesn&#39;t update. Simply rerun `dNow = new Date();` to update.\r\n\r\nNB: This is obsolete, broken API; you should be using the `java.time` package types, such as `LocalDateTime`, and the `java.time` formatters (`DateTimeFormatter`). The old stuff conflates human reckoning with computer reckoning, and thus fails when timezone definitions change. Which they do, every day.","title":"Java print date and time of every input","body":"<p>Java is, like most programming languages, imperative.</p>\n<pre><code>int x = 5;\nint y = x;\n</code></pre>\n<p>does <strong>not</strong> mean that 'y' is an alias for 'x'. It simply means: Resolve the expression <code>x</code>, and take whatever that <strong>currently</strong> resolves to, then update the value of <code>y</code> to be that value. Resolving expression <code>x</code> simply means: What is the <em>current</em> value of this variable.</p>\n<p>in other words:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = 5;\nint y = x;\nx = 4;\nSystem.out.println(y);\n</code></pre>\n<p>This prints <strong>5</strong>. It does not print 4.</p>\n<p>In your code, you resolve the expression <code>new Date()</code> exactly once, at the very start, and never again. <code>dNow</code> is set in stone once you ran it, and doesn't update. Simply rerun <code>dNow = new Date();</code> to update.</p>\n<p>NB: This is obsolete, broken API; you should be using the <code>java.time</code> package types, such as <code>LocalDateTime</code>, and the <code>java.time</code> formatters (<code>DateTimeFormatter</code>). The old stuff conflates human reckoning with computer reckoning, and thus fails when timezone definitions change. Which they do, every day.</p>\n"}],"owner":{"account_id":26843690,"reputation":11,"user_id":20429783,"display_name":"dwextit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1667722269,"answer_count":1,"score":-2,"last_activity_date":1667752985,"creation_date":1667708185,"question_id":74333275,"body_markdown":"I want an output of something like this\r\n\r\n```none\r\nhi 2022.11.06 12:08:50 pm\r\nhello 2022.11.06 12:09:40 pm\r\n```\r\nbut I keep getting\r\n\r\n```none\r\nhi 2022.11.06 12:08:50 pm\r\nhello 2022.11.06 12:08:50 pm\r\n```\r\neven though I do the next input after a time interval.\r\n\r\n\r\n```java\r\nScanner reader = new Scanner(System.in);\r\n\r\nDate dNow = new Date();\r\nSimpleDateFormat dtformat = new SimpleDateFormat (&quot;yyyy.MM.dd hh:mm:ss a&quot;);\r\n\r\nfor (int x = 0; x &lt;= 5; x++){ \r\n\tString obj = reader.nextLine();\r\n\tSystem.out.println(obj + dtformat.format(dNow));\r\n}\r\n```\r\n\r\nI want an output of something like this\r\n\r\n```none\r\nhi 2022.11.06 12:08:50 pm\r\nhello 2022.11.06 12:09:40 pm\r\n```\r\n","title":"Java print date and time of every input","body":"<p>I want an output of something like this</p>\n<pre class=\"lang-none prettyprint-override\"><code>hi 2022.11.06 12:08:50 pm\nhello 2022.11.06 12:09:40 pm\n</code></pre>\n<p>but I keep getting</p>\n<pre class=\"lang-none prettyprint-override\"><code>hi 2022.11.06 12:08:50 pm\nhello 2022.11.06 12:08:50 pm\n</code></pre>\n<p>even though I do the next input after a time interval.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner reader = new Scanner(System.in);\n\nDate dNow = new Date();\nSimpleDateFormat dtformat = new SimpleDateFormat (&quot;yyyy.MM.dd hh:mm:ss a&quot;);\n\nfor (int x = 0; x &lt;= 5; x++){ \n    String obj = reader.nextLine();\n    System.out.println(obj + dtformat.format(dNow));\n}\n</code></pre>\n<p>I want an output of something like this</p>\n<pre class=\"lang-none prettyprint-override\"><code>hi 2022.11.06 12:08:50 pm\nhello 2022.11.06 12:09:40 pm\n</code></pre>\n"},{"tags":["java","android","broadcastreceiver","android-service","boot"],"owner":{"account_id":19377839,"reputation":31,"user_id":14169767,"display_name":"Androider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1667752430,"creation_date":1598523802,"question_id":63613967,"body_markdown":"I try to start a **ForegroundService** by an **BroadcastReceiver** on Boot. I have tried this on a device with Android 8 and on an emulated Android 10 device. Both work fine. The problem is, that this code does not work on my Android 10 Galaxy S9. I have debugged everything, my **BroadcastReceiver** and the **OnStartCommand** method but also if the **BroadcastReceiver** runs the code fine, the **OnStartCommand** method does not start running.\r\nI have a mainActivity in which the user has to apply this Process so the app gets opened once before the **BroadcastReceiver** should work.\r\nI tried almost every solution i found here but nothing worked for me.\r\nI don&#39;t understand why this is working on some devices but not on each. I hope someone can help me!\r\n\r\nMy min API is 26. \r\n\r\n**BroadcastReceiver**\r\n```\r\npublic class Restarter extends BroadcastReceiver {\r\n   \r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n\r\n            Intent intentt = new Intent (context, MyService.class);\r\n            intentt.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            context.startForegroundService(intentt);                \r\n\r\n        } else {\r\n            Intent intentt = new Intent (context, MyService.class);\r\n            intentt.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            context.startService(intentt);\r\n        }\r\n    }\r\n}\r\n```\r\n**Service**\r\n```\r\npublic class MyService extends Service {\r\n\r\n    public static final String CHANNEL_ID = &quot;exampleServiceChannel&quot;;\r\n    \r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        Log.d(&quot;WhereAreWe&quot;, &quot;create&quot;);\r\n        createNotificationChannel();\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel serviceChannel = new NotificationChannel(\r\n                    CHANNEL_ID,\r\n                    &quot;Foreground Service Channel&quot;,\r\n                    NotificationManager.IMPORTANCE_DEFAULT\r\n\r\n\r\n            );\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(serviceChannel);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        super.onStartCommand(intent, flags, startId);\r\n        Log.d(&quot;WhereAreWe&quot;, &quot;StartCommand&quot;);\r\n        SharedPreferences check = getSharedPreferences(&quot;Checked&quot;, Context.MODE_PRIVATE);\r\n\r\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O){\r\n\r\n            Intent intents = new Intent(this, MainActivity.class);\r\n            intents.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intents, 0);\r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;newid&quot;)\r\n                .setSmallIcon(R.drawable.ic_android)\r\n                .setContentTitle(&quot;Foreground Service&quot;)\r\n                .setContentText(&quot;Example text&quot;)\r\n                .setOngoing(true)\r\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                .setContentIntent(pendingIntent);\r\n\r\n            startForeground(1, builder.build());\r\n        }else{\r\n                startForeground(1, new Notification());\r\n        }\r\n    }\r\n    \r\n}\r\n```\r\n**Manifest**\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.MyApplication&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;application\r\n        .\r\n        .\r\n        .\r\n        &lt;receiver\r\n            android:name=&quot;.Restarter&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;restartservice&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.MyService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:stopWithTask=&quot;false&quot; /&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Start ForegroundService on Boot api 29","body":"<p>I try to start a <strong>ForegroundService</strong> by an <strong>BroadcastReceiver</strong> on Boot. I have tried this on a device with Android 8 and on an emulated Android 10 device. Both work fine. The problem is, that this code does not work on my Android 10 Galaxy S9. I have debugged everything, my <strong>BroadcastReceiver</strong> and the <strong>OnStartCommand</strong> method but also if the <strong>BroadcastReceiver</strong> runs the code fine, the <strong>OnStartCommand</strong> method does not start running.\nI have a mainActivity in which the user has to apply this Process so the app gets opened once before the <strong>BroadcastReceiver</strong> should work.\nI tried almost every solution i found here but nothing worked for me.\nI don't understand why this is working on some devices but not on each. I hope someone can help me!</p>\n<p>My min API is 26.</p>\n<p><strong>BroadcastReceiver</strong></p>\n<pre><code>public class Restarter extends BroadcastReceiver {\n   \n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n            Intent intentt = new Intent (context, MyService.class);\n            intentt.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            context.startForegroundService(intentt);                \n\n        } else {\n            Intent intentt = new Intent (context, MyService.class);\n            intentt.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            context.startService(intentt);\n        }\n    }\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>public class MyService extends Service {\n\n    public static final String CHANNEL_ID = &quot;exampleServiceChannel&quot;;\n    \n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        Log.d(&quot;WhereAreWe&quot;, &quot;create&quot;);\n        createNotificationChannel();\n    }\n\n    private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel serviceChannel = new NotificationChannel(\n                    CHANNEL_ID,\n                    &quot;Foreground Service Channel&quot;,\n                    NotificationManager.IMPORTANCE_DEFAULT\n\n\n            );\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(serviceChannel);\n        }\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        super.onStartCommand(intent, flags, startId);\n        Log.d(&quot;WhereAreWe&quot;, &quot;StartCommand&quot;);\n        SharedPreferences check = getSharedPreferences(&quot;Checked&quot;, Context.MODE_PRIVATE);\n\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O){\n\n            Intent intents = new Intent(this, MainActivity.class);\n            intents.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intents, 0);\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;newid&quot;)\n                .setSmallIcon(R.drawable.ic_android)\n                .setContentTitle(&quot;Foreground Service&quot;)\n                .setContentText(&quot;Example text&quot;)\n                .setOngoing(true)\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n                .setContentIntent(pendingIntent);\n\n            startForeground(1, builder.build());\n        }else{\n                startForeground(1, new Notification());\n        }\n    }\n    \n}\n</code></pre>\n<p><strong>Manifest</strong></p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.MyApplication&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;application\n        .\n        .\n        .\n        &lt;receiver\n            android:name=&quot;.Restarter&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;restartservice&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n        &lt;service\n            android:name=&quot;.MyService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;\n            android:stopWithTask=&quot;false&quot; /&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","selenium","maven","testing","testng"],"comments":[{"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"score":1,"creation_date":1667793914,"post_id":74337660,"comment_id":131244183,"body_markdown":"Please share your full code. Only parameter and error trace is not understandable for answer the question","body":"Please share your full code. Only parameter and error trace is not understandable for answer the question"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1667796577,"post_id":74337660,"comment_id":131244482,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":14165412,"reputation":1,"user_id":10233517,"display_name":"Abd Elwahab Mohamed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667751944,"creation_date":1667751944,"question_id":74337660,"body_markdown":"i try to run my basic code with the ``` @Parameters({&quot;browser&quot;}) ``` to take the Parameter name from my Testng.xml file , Gives Error that cant find the parameter \r\n\r\n\r\norg.testng.TestNGException: \r\nParameter &#39;browser&#39; is required by BeforeClass on method openBrowser but has not been marked @Optional or defined\r\nin C:\\Users\\User\\AppData\\Local\\JetBrains\\IdeaIC2022.2\\temp-testng-customsuite.xml\r\n\r\nExpected to read from my Testng.xml file and run Successfully ","title":"Parameter Annotation does not read from my Testng.xml file","body":"<p>i try to run my basic code with the <code>@Parameters({&quot;browser&quot;})</code> to take the Parameter name from my Testng.xml file , Gives Error that cant find the parameter</p>\n<p>org.testng.TestNGException:\nParameter 'browser' is required by BeforeClass on method openBrowser but has not been marked @Optional or defined\nin C:\\Users\\User\\AppData\\Local\\JetBrains\\IdeaIC2022.2\\temp-testng-customsuite.xml</p>\n<p>Expected to read from my Testng.xml file and run Successfully</p>\n"},{"tags":["java","junit","import","assertj"],"comments":[{"owner":{"account_id":4392493,"reputation":675,"user_id":3580458,"accept_rate":100,"display_name":"LisaMM"},"score":0,"creation_date":1440501277,"post_id":32202494,"comment_id":52289138,"body_markdown":"Did you include the dependencies in your pom file or added the jars to the class path?","body":"Did you include the dependencies in your pom file or added the jars to the class path?"},{"owner":{"account_id":6126848,"reputation":115,"user_id":4778488,"accept_rate":29,"display_name":"Joaco Terniro"},"score":0,"creation_date":1440501439,"post_id":32202494,"comment_id":52289226,"body_markdown":"I really don&#39;t know how to do that, it&#39;s my first time using this libraries. Could you explain me how to do it?","body":"I really don&#39;t know how to do that, it&#39;s my first time using this libraries. Could you explain me how to do it?"},{"owner":{"account_id":6511866,"reputation":3007,"user_id":5038825,"display_name":"kswaughs"},"score":0,"creation_date":1440501628,"post_id":32202494,"comment_id":52289350,"body_markdown":"are you using any IDE like eclipse ?","body":"are you using any IDE like eclipse ?"},{"owner":{"account_id":4392493,"reputation":675,"user_id":3580458,"accept_rate":100,"display_name":"LisaMM"},"score":0,"creation_date":1440501684,"post_id":32202494,"comment_id":52289386,"body_markdown":"Just google it: &quot;How to add jar to class path in &quot; + your IDE (fe Eclipse).","body":"Just google it: &quot;How to add jar to class path in &quot; + your IDE (fe Eclipse)."},{"owner":{"account_id":6126848,"reputation":115,"user_id":4778488,"accept_rate":29,"display_name":"Joaco Terniro"},"score":0,"creation_date":1440502048,"post_id":32202494,"comment_id":52289603,"body_markdown":"kswaughs --&gt; I&#39;m using Intellij IDEA IDE.","body":"kswaughs --&gt; I&#39;m using Intellij IDEA IDE."},{"owner":{"account_id":6511866,"reputation":3007,"user_id":5038825,"display_name":"kswaughs"},"score":1,"creation_date":1440503070,"post_id":32202494,"comment_id":52290286,"body_markdown":"for you reference [http://stackoverflow.com/questions/4757800/configuring-intellij-idea-for-unit-testing-with-junit](http://stackoverflow.com/questions/4757800/configuring-intellij-idea-for-unit-testing-with-junit)","body":"for you reference <a href=\"http://stackoverflow.com/questions/4757800/configuring-intellij-idea-for-unit-testing-with-junit\">http://stackoverflow.com/questions/4757800/configuring-intel&zwnj;&#8203;lij-idea-for-unit-te&zwnj;&#8203;sting-with-junit</a>"}],"answers":[{"tags":[],"owner":{"account_id":26369,"reputation":3754,"user_id":68556,"accept_rate":100,"display_name":"Edd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440531185,"creation_date":1440531185,"answer_id":32212518,"question_id":32202494,"body_markdown":"You&#39;ll need to get both the junit and assertj jar files added to your class path. You can either do this within your IDE manually (Intellij includes the junit library, but you&#39;ll have to download assertj seperately and add them as dependencies as outlined [here][1]), or by using a build system that downloads dependencies from a central repository, like [maven][2]. You can then [get intellij to use your `pom.xml`][3] (maven build configuration), so everything can still be run from within your IDE.\r\n\r\nA trivial pom might be something like the following:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n      &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n      &lt;artifactId&gt;my-project&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.12&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n          &lt;!-- use 3.1.0 for Java 8 projects --&gt;\r\n          &lt;version&gt;2.1.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/help/configuring-testing-libraries.html\r\n  [2]: http://maven.apache.org\r\n  [3]: https://www.jetbrains.com/idea/help/maven.html","title":"Problems when importing AssertJ and JUnit","body":"<p>You'll need to get both the junit and assertj jar files added to your class path. You can either do this within your IDE manually (Intellij includes the junit library, but you'll have to download assertj seperately and add them as dependencies as outlined <a href=\"https://www.jetbrains.com/idea/help/configuring-testing-libraries.html\" rel=\"nofollow\">here</a>), or by using a build system that downloads dependencies from a central repository, like <a href=\"http://maven.apache.org\" rel=\"nofollow\">maven</a>. You can then <a href=\"https://www.jetbrains.com/idea/help/maven.html\" rel=\"nofollow\">get intellij to use your <code>pom.xml</code></a> (maven build configuration), so everything can still be run from within your IDE.</p>\n\n<p>A trivial pom might be something like the following:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n  &lt;artifactId&gt;my-project&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n      &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n      &lt;!-- use 3.1.0 for Java 8 projects --&gt;\n      &lt;version&gt;2.1.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25802921,"reputation":11,"user_id":19545006,"display_name":"ZackSalom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667751821,"creation_date":1657746088,"answer_id":72972602,"question_id":32202494,"body_markdown":"I don&#39;t know why but sometimes not including scope will make it work.\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n    &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.22.0&lt;/version&gt;\r\n    &lt;!--&lt;scope&gt;test&lt;/scope&gt; --&gt; &lt;!-- I have commented this line out and it worked --&gt;\r\n&lt;/dependency&gt; \r\n```","title":"Problems when importing AssertJ and JUnit","body":"<p>I don't know why but sometimes not including scope will make it work.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n    &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n    &lt;version&gt;3.22.0&lt;/version&gt;\n    &lt;!--&lt;scope&gt;test&lt;/scope&gt; --&gt; &lt;!-- I have commented this line out and it worked --&gt;\n&lt;/dependency&gt; \n</code></pre>\n"}],"owner":{"account_id":6126848,"reputation":115,"user_id":4778488,"accept_rate":29,"display_name":"Joaco Terniro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1678,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1667659704,"answer_count":2,"score":-2,"last_activity_date":1667751821,"creation_date":1440501115,"question_id":32202494,"body_markdown":"I&#39;m at university and I have to submit a project. I&#39;m having problems with Assertj and JUnit when importing. I&#39;ll leave below some images of my problem.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/XbL3K.png\r\n\r\n\r\nI&#39;ll really appreciate if someone could help me! Thank you!","title":"Problems when importing AssertJ and JUnit","body":"<p>I'm at university and I have to submit a project. I'm having problems with Assertj and JUnit when importing. I'll leave below some images of my problem.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XbL3K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XbL3K.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'll really appreciate if someone could help me! Thank you!</p>\n"},{"tags":["java","spring","spring-boot","logging"],"answers":[{"tags":[],"owner":{"account_id":14395149,"reputation":21,"user_id":10398683,"display_name":"SixtyNice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667751795,"creation_date":1667747208,"answer_id":74337024,"question_id":74335740,"body_markdown":"try something like this may be?\r\n\r\n     public void beforeAdvice(final JoinPoint joinPoint) {\r\n    final String className = joinPoint.getTarget().getClass().getSimpleName();\r\n    final String methodName = joinPoint.getSignature().getName();\r\n    final List&lt;Object&gt; args = new ArrayList&lt;&gt;();\r\n\r\n     Arrays.asList(joinPoint.getArgs()).forEach(a -&gt; {\r\n      if (a.getClass().equals(CreateBlogRequest.class)) {\r\n        ((CreateBlogRequest) a).getSections().stream().forEach(s -&gt; {\r\n          if(s.getSectionType().equals(&quot;image&quot;)) {\r\n            return;\r\n          }\r\n          args.add(a);\r\n        });\r\n      }\r\n      args.add(a);\r\n    });\r\n    log.info(&quot;Invoking: &quot; + className + &quot;.&quot; + methodName + &quot;with args:&quot; + args);\r\n  }","title":"Hide value of a field being logged with Logging Aspect","body":"<p>try something like this may be?</p>\n<pre><code> public void beforeAdvice(final JoinPoint joinPoint) {\nfinal String className = joinPoint.getTarget().getClass().getSimpleName();\nfinal String methodName = joinPoint.getSignature().getName();\nfinal List&lt;Object&gt; args = new ArrayList&lt;&gt;();\n\n Arrays.asList(joinPoint.getArgs()).forEach(a -&gt; {\n  if (a.getClass().equals(CreateBlogRequest.class)) {\n    ((CreateBlogRequest) a).getSections().stream().forEach(s -&gt; {\n      if(s.getSectionType().equals(&quot;image&quot;)) {\n        return;\n      }\n      args.add(a);\n    });\n  }\n  args.add(a);\n});\nlog.info(&quot;Invoking: &quot; + className + &quot;.&quot; + methodName + &quot;with args:&quot; + args);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":16000883,"reputation":740,"user_id":11547578,"display_name":"Clancinio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667751795,"creation_date":1667736493,"question_id":74335740,"body_markdown":"I want to hide the value of a field in my logs if it contains a certain value. For example, if &quot;sectionType&quot; = &quot;image&quot;, then I don&#39;t want to show this value as it makes the logs hard to read. \r\n\r\nI have made an attempt at the logic:\r\n\r\n    public void beforeAdvice(final JoinPoint joinPoint) {\r\n        final String className = joinPoint.getTarget().getClass().getSimpleName();\r\n        final String methodName = joinPoint.getSignature().getName();\r\n        final List&lt;Object&gt; args = Arrays.asList(joinPoint.getArgs());\r\n        args.stream().forEach(a -&gt;\r\n        {\r\n            if (a.getClass().equals(CreateBlogRequest.class)) {\r\n                ((CreateBlogRequest) a).getSections().stream().forEach(s -&gt; {\r\n                  if(s.getSectionType().equals(&quot;image&quot;)) {\r\n                     // Now what?\r\n                  }\r\n                });\r\n            }\r\n        });\r\n        log.info(&quot;Invoking: &quot; + className + &quot;.&quot; + methodName + &quot;with args:&quot; + args);\r\n    }\r\n\r\nThanks","title":"Hide value of a field being logged with Logging Aspect","body":"<p>I want to hide the value of a field in my logs if it contains a certain value. For example, if &quot;sectionType&quot; = &quot;image&quot;, then I don't want to show this value as it makes the logs hard to read.</p>\n<p>I have made an attempt at the logic:</p>\n<pre><code>public void beforeAdvice(final JoinPoint joinPoint) {\n    final String className = joinPoint.getTarget().getClass().getSimpleName();\n    final String methodName = joinPoint.getSignature().getName();\n    final List&lt;Object&gt; args = Arrays.asList(joinPoint.getArgs());\n    args.stream().forEach(a -&gt;\n    {\n        if (a.getClass().equals(CreateBlogRequest.class)) {\n            ((CreateBlogRequest) a).getSections().stream().forEach(s -&gt; {\n              if(s.getSectionType().equals(&quot;image&quot;)) {\n                 // Now what?\n              }\n            });\n        }\n    });\n    log.info(&quot;Invoking: &quot; + className + &quot;.&quot; + methodName + &quot;with args:&quot; + args);\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","exception","spring-security"],"answers":[{"tags":[],"owner":{"account_id":13214732,"reputation":443,"user_id":9543676,"display_name":"Duc Vo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667751497,"creation_date":1667751497,"answer_id":74337609,"question_id":74337289,"body_markdown":"So try to add annotation ` @ExceptionHandler(AuthenticationException.class)`:\r\n\r\n    @ControllerAdvice\r\n    public class ControllerExceptionHandler {\r\n\r\n    @ExceptionHandler(AuthenticationException.class)\r\n      ...\r\n      public ErrorMessage resourceNotFoundException(AuthenticationException exception) {\r\n        ...\r\n      }\r\n    }\r\n\r\nSee more at: https://www.baeldung.com/exception-handling-for-rest-with-spring\r\nDeep in dive Spring MVC Handling Exception:\r\n \r\n - https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-exceptionhandlers\r\n - https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-rest-exceptions","title":"ControllerAdvice catch AuthenticationException before Spring Security","body":"<p>So try to add annotation <code> @ExceptionHandler(AuthenticationException.class)</code>:</p>\n<pre><code>@ControllerAdvice\npublic class ControllerExceptionHandler {\n\n@ExceptionHandler(AuthenticationException.class)\n  ...\n  public ErrorMessage resourceNotFoundException(AuthenticationException exception) {\n    ...\n  }\n}\n</code></pre>\n<p>See more at: <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/exception-handling-for-rest-with-spring</a>\nDeep in dive Spring MVC Handling Exception:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-exceptionhandlers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-exceptionhandlers</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-rest-exceptions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-rest-exceptions</a></li>\n</ul>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74337609,"answer_count":1,"score":1,"last_activity_date":1667751497,"creation_date":1667748963,"question_id":74337289,"body_markdown":"I am using `ControllerAdvice` for handling exceptions in my app and it is working properly. However, I started to use Spring Security and normally I should catch the AuthenticationExceptions in the following method.\r\n\r\n```\r\n@Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, \r\n        AuthenticationException authException)\r\n            throws IOException, ServletException {\r\n        logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\r\n\r\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n\r\n        final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n        body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\r\n        body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\r\n        body.put(&quot;message&quot;, authException.getMessage());\r\n        body.put(&quot;path&quot;, request.getServletPath());\r\n\r\n        final ObjectMapper mapper = new ObjectMapper();\r\n        mapper.writeValue(response.getOutputStream(), body);\r\n    }\r\n```\r\n\r\nWhen I remove my exception handling classses, I can catch AuthenticationException in this method. **BUT**, when I use my exception handling mechanishm, it catche the AuthenticationExceptions before this `commence` method. \r\n\r\nI tried to use `@Order(value = Ordered.LOWEST_PRECEDENCE)`, but it does not make any sens. So, how can I catch AuthenticationException in this `commence` method by preventing ControllerAdvice catched them? ","title":"ControllerAdvice catch AuthenticationException before Spring Security","body":"<p>I am using <code>ControllerAdvice</code> for handling exceptions in my app and it is working properly. However, I started to use Spring Security and normally I should catch the AuthenticationExceptions in the following method.</p>\n<pre><code>@Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, \n        AuthenticationException authException)\n            throws IOException, ServletException {\n        logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\n\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n\n        final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n        body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\n        body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\n        body.put(&quot;message&quot;, authException.getMessage());\n        body.put(&quot;path&quot;, request.getServletPath());\n\n        final ObjectMapper mapper = new ObjectMapper();\n        mapper.writeValue(response.getOutputStream(), body);\n    }\n</code></pre>\n<p>When I remove my exception handling classses, I can catch AuthenticationException in this method. <strong>BUT</strong>, when I use my exception handling mechanishm, it catche the AuthenticationExceptions before this <code>commence</code> method.</p>\n<p>I tried to use <code>@Order(value = Ordered.LOWEST_PRECEDENCE)</code>, but it does not make any sens. So, how can I catch AuthenticationException in this <code>commence</code> method by preventing ControllerAdvice catched them?</p>\n"},{"tags":["java","arraylist","lambda"],"answers":[{"tags":[],"owner":{"account_id":4711512,"reputation":1278,"user_id":3811895,"display_name":"vinsce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667660661,"creation_date":1667660221,"answer_id":74328789,"question_id":74328577,"body_markdown":"There is a misuse of the `forEach` in your code:\r\n\r\n```java\r\nfreeFrame.forEach(b -&gt; freeFrame.set(b, 0));\r\n```\r\n\r\n`b` here represents the value in the list, but you are using it as if it were the index (`List.set` wants the index as the first argument).\r\n\r\nSuppose you start with a list `l` containing `[1, 1, 1, 1]`, this is what happens running your `forEach`:\r\n\r\n1. Iteration 1:\r\n    - `b=1` (first element in the list, not first index!), you execute `l.set(1,0)`\r\n    - Resulting list `[1, 0, 1, 1]`\r\n2. Iteration 2:\r\n    - `b=0` (second element in the list, changed at Iteration 1), you execute `l.set(0,0)`\r\n    - Resulting list `[0, 0, 1, 1]`\r\n3. Iteration 3:\r\n    - `b=1` (third element in the list), you execute `l.set(1,0)`\r\n    - Resulting list `[0, 0, 1, 1]` (nothing changes, it was already 0 from Iteration 1)\r\n4. Iteration 4:\r\n    - `b=1` (fourth element in the list), you execute `l.set(1,0)`\r\n    - Resulting list `[0, 0, 1, 1]` (nothing changes, it was already 0 from Iteration 1)\r\n\r\n----\r\n\r\nYou can easily replace all the elements in the list with a `for`:\r\n```java\r\nfor (int i = 0; i &lt; freeFrame.size(); i++)\r\n    freeFrame.set(i, 0);\r\n```\r\n\r\nor using streams, as you already did:\r\n```java\r\nfreeFrame = freeFrame.stream().map(x -&gt; 0).collect(Collectors.toList());\r\n```\r\nbut note that this solution will create a new List instead of modifying the existing list.","title":"arrayList only updates 2 elements when using forEach","body":"<p>There is a misuse of the <code>forEach</code> in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>freeFrame.forEach(b -&gt; freeFrame.set(b, 0));\n</code></pre>\n<p><code>b</code> here represents the value in the list, but you are using it as if it were the index (<code>List.set</code> wants the index as the first argument).</p>\n<p>Suppose you start with a list <code>l</code> containing <code>[1, 1, 1, 1]</code>, this is what happens running your <code>forEach</code>:</p>\n<ol>\n<li>Iteration 1:\n<ul>\n<li><code>b=1</code> (first element in the list, not first index!), you execute <code>l.set(1,0)</code></li>\n<li>Resulting list <code>[1, 0, 1, 1]</code></li>\n</ul>\n</li>\n<li>Iteration 2:\n<ul>\n<li><code>b=0</code> (second element in the list, changed at Iteration 1), you execute <code>l.set(0,0)</code></li>\n<li>Resulting list <code>[0, 0, 1, 1]</code></li>\n</ul>\n</li>\n<li>Iteration 3:\n<ul>\n<li><code>b=1</code> (third element in the list), you execute <code>l.set(1,0)</code></li>\n<li>Resulting list <code>[0, 0, 1, 1]</code> (nothing changes, it was already 0 from Iteration 1)</li>\n</ul>\n</li>\n<li>Iteration 4:\n<ul>\n<li><code>b=1</code> (fourth element in the list), you execute <code>l.set(1,0)</code></li>\n<li>Resulting list <code>[0, 0, 1, 1]</code> (nothing changes, it was already 0 from Iteration 1)</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p>You can easily replace all the elements in the list with a <code>for</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; freeFrame.size(); i++)\n    freeFrame.set(i, 0);\n</code></pre>\n<p>or using streams, as you already did:</p>\n<pre class=\"lang-java prettyprint-override\"><code>freeFrame = freeFrame.stream().map(x -&gt; 0).collect(Collectors.toList());\n</code></pre>\n<p>but note that this solution will create a new List instead of modifying the existing list.</p>\n"},{"tags":[],"owner":{"account_id":26832053,"reputation":1,"user_id":20419870,"display_name":"Chad Lanoway"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667660356,"creation_date":1667660356,"answer_id":74328816,"question_id":74328577,"body_markdown":"freeFrame = freeFrame.stream().map(x -&gt; 0).collect(Collectors.toList());\r\n\r\nworked. I referenced https://stackoverflow.com/a/56399619/20419870 before posting but got confused by a previous reply","title":"arrayList only updates 2 elements when using forEach","body":"<p>freeFrame = freeFrame.stream().map(x -&gt; 0).collect(Collectors.toList());</p>\n<p>worked. I referenced <a href=\"https://stackoverflow.com/a/56399619/20419870\">https://stackoverflow.com/a/56399619/20419870</a> before posting but got confused by a previous reply</p>\n"},{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667660382,"creation_date":1667660382,"answer_id":74328820,"question_id":74328577,"body_markdown":"    if(!freeFrame.contains(0)) freeFrame.forEach((b) -&gt; freeFrame.set(b, 0));\r\n\r\nThe logic behind this line is wrong.\r\n&quot;b&quot; is the element from freeFrame, java.util.List#set first parameter should be the index second parameter is the value.\r\n\r\nYou need to pass the index not the previous value.","title":"arrayList only updates 2 elements when using forEach","body":"<pre><code>if(!freeFrame.contains(0)) freeFrame.forEach((b) -&gt; freeFrame.set(b, 0));\n</code></pre>\n<p>The logic behind this line is wrong.\n&quot;b&quot; is the element from freeFrame, java.util.List#set first parameter should be the index second parameter is the value.</p>\n<p>You need to pass the index not the previous value.</p>\n"}],"owner":{"account_id":26832053,"reputation":1,"user_id":20419870,"display_name":"Chad Lanoway"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1667665540,"accepted_answer_id":74328789,"answer_count":3,"score":-2,"last_activity_date":1667751084,"creation_date":1667658582,"question_id":74328577,"body_markdown":"I create an arrayList and set all it&#39;s elements to 0\r\n\r\nWhen all elements are set to 1, I try to turn them all back to 0 with a lambda and only the first 2 indices are changed.\r\n\r\n```java\r\n// create a list freeFrames, size 5, all elements set to 0:\r\nList&lt;Integer&gt; freeFrame = new ArrayList&lt;Integer&gt;(Collections.nCopies(5, 0));\r\n\r\n// freeFrame= [0, 0, 0, 0, 0]\r\n\r\n// code executes and eventually freeFrame =[1, 1, 1, 1, 1]\r\n\r\n// try to change all values to 0 if none are present\r\nif(!freeFrame.contains(0))\r\n    freeFrame.forEach((b) -&gt; freeFrame.set(b, 0));\r\n\r\n// freeFrame= [0, 0, 1, 1, 1]\r\n```\r\n\r\nI ended up using a standard loop. Why are only the first 2 indexes getting changed with the above?\r\nThis post seemed close https://stackoverflow.com/a/20040292/20419870 but I don&#39;t think I&#39;m changing the size of the list, just changing the values. This one https://stackoverflow.com/a/56399619/20419870 suggests to use stream and map to safely modify the list while iterating. I had thought only removing and adding to list while iterating was unsafe, does modifying the contents cause an exception I&#39;m not seeing?","title":"arrayList only updates 2 elements when using forEach","body":"<p>I create an arrayList and set all it's elements to 0</p>\n<p>When all elements are set to 1, I try to turn them all back to 0 with a lambda and only the first 2 indices are changed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// create a list freeFrames, size 5, all elements set to 0:\nList&lt;Integer&gt; freeFrame = new ArrayList&lt;Integer&gt;(Collections.nCopies(5, 0));\n\n// freeFrame= [0, 0, 0, 0, 0]\n\n// code executes and eventually freeFrame =[1, 1, 1, 1, 1]\n\n// try to change all values to 0 if none are present\nif(!freeFrame.contains(0))\n    freeFrame.forEach((b) -&gt; freeFrame.set(b, 0));\n\n// freeFrame= [0, 0, 1, 1, 1]\n</code></pre>\n<p>I ended up using a standard loop. Why are only the first 2 indexes getting changed with the above?\nThis post seemed close <a href=\"https://stackoverflow.com/a/20040292/20419870\">https://stackoverflow.com/a/20040292/20419870</a> but I don't think I'm changing the size of the list, just changing the values. This one <a href=\"https://stackoverflow.com/a/56399619/20419870\">https://stackoverflow.com/a/56399619/20419870</a> suggests to use stream and map to safely modify the list while iterating. I had thought only removing and adding to list while iterating was unsafe, does modifying the contents cause an exception I'm not seeing?</p>\n"},{"tags":["java","circular-list"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1443620682,"post_id":32867682,"comment_id":53567418,"body_markdown":"Can you provide the `Node` class as well? Assuming you have links in both directions removing the last node would just require you to go backwards from the head. Shouldn&#39;t be too big of a headache. - If you have only links in one direction then loop until you hit a node whose `next` points to the head. That&#39;s your last node then.","body":"Can you provide the <code>Node</code> class as well? Assuming you have links in both directions removing the last node would just require you to go backwards from the head. Shouldn&#39;t be too big of a headache. - If you have only links in one direction then loop until you hit a node whose <code>next</code> points to the head. That&#39;s your last node then."},{"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":0,"creation_date":1443620689,"post_id":32867682,"comment_id":53567421,"body_markdown":"Can you explain what you mean by &#39;circularly linked list&quot;?","body":"Can you explain what you mean by &#39;circularly linked list&quot;?"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1443620789,"post_id":32867682,"comment_id":53567504,"body_markdown":"This isn&#39;t a *circular* linked list, just a doubly linked list - which could be made into a circular linked list. A circular linked list never has null in any of the nodes&#39; next and previous fields.","body":"This isn&#39;t a <i>circular</i> linked list, just a doubly linked list - which could be made into a circular linked list. A circular linked list never has null in any of the nodes&#39; next and previous fields."},{"owner":{"account_id":7040794,"reputation":43,"user_id":5393341,"display_name":"pablokunta128"},"score":0,"creation_date":1443620841,"post_id":32867682,"comment_id":53567536,"body_markdown":"@Thomas -- I am a beginner &amp; trying to absorb like a sponge. I know there are mistakes/missing statements &amp; am just looking a push in the right direction. Thank you. What &quot;node class&quot; are you referring to?","body":"@Thomas -- I am a beginner &amp; trying to absorb like a sponge. I know there are mistakes/missing statements &amp; am just looking a push in the right direction. Thank you. What &quot;node class&quot; are you referring to?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1443620885,"post_id":32867682,"comment_id":53567574,"body_markdown":"@pablokunta128 I&#39;ll add an answer for formatting reasons.","body":"@pablokunta128 I&#39;ll add an answer for formatting reasons."},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1443620920,"post_id":32867682,"comment_id":53567605,"body_markdown":"The constructor LinkedList refers to current and previous - where are their declarations?","body":"The constructor LinkedList refers to current and previous - where are their declarations?"},{"owner":{"account_id":7040794,"reputation":43,"user_id":5393341,"display_name":"pablokunta128"},"score":0,"creation_date":1443620999,"post_id":32867682,"comment_id":53567669,"body_markdown":"@laune How would you go about making a doubly linked list into a circular one? Thank you","body":"@laune How would you go about making a doubly linked list into a circular one? Thank you"},{"owner":{"account_id":7040794,"reputation":43,"user_id":5393341,"display_name":"pablokunta128"},"score":0,"creation_date":1443621155,"post_id":32867682,"comment_id":53567790,"body_markdown":"@laune where should the declarations be? Oh i see, I declared them in the LinkedList method, and not the class. Is that it?","body":"@laune where should the declarations be? Oh i see, I declared them in the LinkedList method, and not the class. Is that it?"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1443621319,"post_id":32867682,"comment_id":53567919,"body_markdown":"You didn&#39;t declare them anywhere in this class, but I think they are redundant anyway.","body":"You didn&#39;t declare them anywhere in this class, but I think they are redundant anyway."},{"owner":{"account_id":7040794,"reputation":43,"user_id":5393341,"display_name":"pablokunta128"},"score":0,"creation_date":1443621425,"post_id":32867682,"comment_id":53568013,"body_markdown":"@laune How would one go about adding/removing from the middle without a current then?","body":"@laune How would one go about adding/removing from the middle without a current then?"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1443621442,"post_id":32867682,"comment_id":53568024,"body_markdown":"addToFront doesn&#39;t increment size. Both remove methods increment size.","body":"addToFront doesn&#39;t increment size. Both remove methods increment size."},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1443622143,"post_id":32867682,"comment_id":53568510,"body_markdown":"You still haven&#39;t added the code for Node, so I don&#39;t know what to make of previous and current in method removeMiddle. Also, I wonder about the purpose of `E x` in the remove methods.","body":"You still haven&#39;t added the code for Node, so I don&#39;t know what to make of previous and current in method removeMiddle. Also, I wonder about the purpose of <code>E x</code> in the remove methods."},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1443622247,"post_id":32867682,"comment_id":53568578,"body_markdown":"Stop editing the question - this discussion won&#39;t make any sense if you remove the reasons for comments.","body":"Stop editing the question - this discussion won&#39;t make any sense if you remove the reasons for comments."},{"owner":{"account_id":1925798,"reputation":1207,"user_id":1736287,"display_name":"cpurdy"},"score":0,"creation_date":1443623084,"post_id":32867682,"comment_id":53569139,"body_markdown":"With all due respect, &quot;x.next() = head;&quot; is not even legal Java code, and it will not compile. Perhaps you should learn the basic rules of Java first. (I assume this is a homework assignment, but having people on this site write your homework for you is not going to help you in the long run.)","body":"With all due respect, &quot;x.next() = head;&quot; is not even legal Java code, and it will not compile. Perhaps you should learn the basic rules of Java first. (I assume this is a homework assignment, but having people on this site write your homework for you is not going to help you in the long run.)"},{"owner":{"account_id":7040794,"reputation":43,"user_id":5393341,"display_name":"pablokunta128"},"score":0,"creation_date":1443623974,"post_id":32867682,"comment_id":53569763,"body_markdown":"@cpurdy you&#39;re correct. I&#39;m a beginner and I have been struggling with the coding aspect. I posted in order to get some advice on implementation, not to have someone write my work. I do plan on having a CS career, so I&#39;m aware it would counterproductive to have others do it for me. Thank you for the advice","body":"@cpurdy you&#39;re correct. I&#39;m a beginner and I have been struggling with the coding aspect. I posted in order to get some advice on implementation, not to have someone write my work. I do plan on having a CS career, so I&#39;m aware it would counterproductive to have others do it for me. Thank you for the advice"},{"owner":{"account_id":1925798,"reputation":1207,"user_id":1736287,"display_name":"cpurdy"},"score":0,"creation_date":1443628224,"post_id":32867682,"comment_id":53572668,"body_markdown":"In that case, start with a CircularLinkedList&lt;T&gt; implementation that has only one field: Node head; .. and a Node that has only two fields: T value; and Node next; .. that should be enough constraint on design to force you to implement a proper circular linked list. And best wishes!","body":"In that case, start with a CircularLinkedList&lt;T&gt; implementation that has only one field: Node head; .. and a Node that has only two fields: T value; and Node next; .. that should be enough constraint on design to force you to implement a proper circular linked list. And best wishes!"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443621029,"creation_date":1443621029,"answer_id":32867865,"question_id":32867682,"body_markdown":"In a circular linked list the last node&#39;s `next` points to the head, so you loop through your nodes until `node.next.equals( head )`. Note that `next` must never be null and if you have only one node then you have `head.next = head`.\r\n\r\nIn a circular doubly linked list you also have a `previous` node, i.e. you can iterate backwards. In that case your last node is just `head.previous`.\r\n\r\nA small ascii picture:\r\n\r\n    head -next---&gt; node -next---&gt; node -next---&gt; last\r\n     | ^  &lt;---prev-      &lt;---prev-      &lt;---prev- | ^\r\n     | |                                          | |\r\n     | |_____________________________________next_| |\r\n     |_prev_________________________________________|      ","title":"Implementing Circular Linked List in java","body":"<p>In a circular linked list the last node's <code>next</code> points to the head, so you loop through your nodes until <code>node.next.equals( head )</code>. Note that <code>next</code> must never be null and if you have only one node then you have <code>head.next = head</code>.</p>\n\n<p>In a circular doubly linked list you also have a <code>previous</code> node, i.e. you can iterate backwards. In that case your last node is just <code>head.previous</code>.</p>\n\n<p>A small ascii picture:</p>\n\n<pre><code>head -next---&gt; node -next---&gt; node -next---&gt; last\n | ^  &lt;---prev-      &lt;---prev-      &lt;---prev- | ^\n | |                                          | |\n | |_____________________________________next_| |\n |_prev_________________________________________|      \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3952954,"reputation":332,"user_id":3642853,"display_name":"RonaldFindling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443623008,"creation_date":1443623008,"answer_id":32868627,"question_id":32867682,"body_markdown":"I know this is not directly an answer to your question but I feel like [Thomas](https://stackoverflow.com/users/637853/thomas) has given the needed explanation here.\r\n\r\nSince you have a lot of syntax or incompleteness errors in the example\r\nI would recommend to comment out all functions so it has no more errors. Then comment them in again one by one correcting every error.\r\n\r\nSome advices:\r\n\r\nYou use class members which are not defined e.g. `current`, `previous`.\r\n\r\nDecide if `next` should be a member or function.\r\n\r\nYou need to define a class for `Node` (containing its members and functions), like you did for `LinkedList`.","title":"Implementing Circular Linked List in java","body":"<p>I know this is not directly an answer to your question but I feel like <a href=\"https://stackoverflow.com/users/637853/thomas\">Thomas</a> has given the needed explanation here.</p>\n\n<p>Since you have a lot of syntax or incompleteness errors in the example\nI would recommend to comment out all functions so it has no more errors. Then comment them in again one by one correcting every error.</p>\n\n<p>Some advices:</p>\n\n<p>You use class members which are not defined e.g. <code>current</code>, <code>previous</code>.</p>\n\n<p>Decide if <code>next</code> should be a member or function.</p>\n\n<p>You need to define a class for <code>Node</code> (containing its members and functions), like you did for <code>LinkedList</code>.</p>\n"}],"owner":{"account_id":7040794,"reputation":43,"user_id":5393341,"display_name":"pablokunta128"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1667750792,"creation_date":1443620536,"question_id":32867682,"body_markdown":"I&#39;m having a bit of an issue with implementing my circularly linked list. I&#39;m working on a problem that requires you to implement any ADT yourself. I seem to be okay with adding nodes to the list, however I&#39;m in unfamiliar territory when it comes to removing. I included the first two remove methods to give you an idea of where my head is at, how would I go about removing the last node in the list?\r\n\r\n\r\n\r\n\r\n    public class LinkedList {\r\n    \tprivate Node head;\r\n    \tprivate Node tail;\r\n    \tprivate int size = 0;\r\n    \tLinkedList() {\r\n    \t\thead = null;\r\n            current = null;\r\n            previous = null;\r\n    \t\ttail = null;\r\n    \t\tsize = 0;\r\n    \t}\r\n    \t\r\n    \t//checks if list is empty\r\n        public boolean isEmpty() {\r\n    \t\treturn head == null;\r\n    \t}\r\n        //add new node to front of circularly linked list\r\n    \tpublic void addToFront(E x) {\r\n    \t\tif (head == null) {\r\n    \t\t\thead = new Node(x);\r\n    \t\t} else {\r\n    \t\t\tNode n = new Node(x);\r\n    \t\t\tx.next() = head;\r\n    \t\t\thead = x;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void addtoMiddle(E x) {\r\n    \t\tx.next = current.next();\r\n    \t\tcurrent.next = x;\r\n    \t\tsize = size + 1;\r\n    \t}\r\n    \r\n    \tpublic void addToEnd(E x) {\r\n    \t\tx.next = null;\r\n    \t\ttail.next() = x;\r\n    \t\ttail = x;\r\n    \t\tsize = size + 1;\r\n    \t}\r\n    \r\n    \tpublic void removeFirst(E x) {\r\n    \t\tif (head = null) {\r\n    \t\t\tSystem.out.println(&quot;Error! List is empty!&quot;);\r\n    \t\t} else {\r\n    \t\t\thead = current.next();\r\n    \t\t\tsize = size + 1;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void removeMiddle(E x) {\r\n    \t\tprevious.next() = current.next();\r\n    \t\tcurrent.next() = null;\r\n    \t\tsize = size + 1;\r\n    \t}\r\n\r\n","title":"Implementing Circular Linked List in java","body":"<p>I'm having a bit of an issue with implementing my circularly linked list. I'm working on a problem that requires you to implement any ADT yourself. I seem to be okay with adding nodes to the list, however I'm in unfamiliar territory when it comes to removing. I included the first two remove methods to give you an idea of where my head is at, how would I go about removing the last node in the list?</p>\n\n<pre><code>public class LinkedList {\n    private Node head;\n    private Node tail;\n    private int size = 0;\n    LinkedList() {\n        head = null;\n        current = null;\n        previous = null;\n        tail = null;\n        size = 0;\n    }\n\n    //checks if list is empty\n    public boolean isEmpty() {\n        return head == null;\n    }\n    //add new node to front of circularly linked list\n    public void addToFront(E x) {\n        if (head == null) {\n            head = new Node(x);\n        } else {\n            Node n = new Node(x);\n            x.next() = head;\n            head = x;\n        }\n    }\n\n    public void addtoMiddle(E x) {\n        x.next = current.next();\n        current.next = x;\n        size = size + 1;\n    }\n\n    public void addToEnd(E x) {\n        x.next = null;\n        tail.next() = x;\n        tail = x;\n        size = size + 1;\n    }\n\n    public void removeFirst(E x) {\n        if (head = null) {\n            System.out.println(\"Error! List is empty!\");\n        } else {\n            head = current.next();\n            size = size + 1;\n        }\n    }\n\n    public void removeMiddle(E x) {\n        previous.next() = current.next();\n        current.next() = null;\n        size = size + 1;\n    }\n</code></pre>\n"},{"tags":["java","eclipse","maven","javafx","executable-jar"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1658308732,"post_id":73048522,"comment_id":129017108,"body_markdown":"Executable jars for containing JavaFX framework code are not recommended.  See the [packaging section of the JavaFX tag](https://stackoverflow.com/tags/javafx/info) for alternatives.","body":"Executable jars for containing JavaFX framework code are not recommended.  See the <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging section of the JavaFX tag</a> for alternatives."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1658312160,"post_id":73048522,"comment_id":129018475,"body_markdown":"Each module must be in a separate JAR so you cannot create a single JAR containing your code and the dependencies as it was possible in Java 8 and lower or without using the [Java Platform Module System](https://en.wikipedia.org/wiki/Java_Platform_Module_System).","body":"Each module must be in a separate JAR so you cannot create a single JAR containing your code and the dependencies as it was possible in Java 8 and lower or without using the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">Java Platform Module System</a>."},{"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"score":0,"creation_date":1673798463,"post_id":73048522,"comment_id":132573371,"body_markdown":"@Tavernkeeper Could you solve this issue? I have a similar issue (https://stackoverflow.com/questions/75126162/creating-executable-jar-in-intellij-java-18-javafx-18-maven-project-warning).","body":"@Tavernkeeper Could you solve this issue? I have a similar issue (<a href=\"https://stackoverflow.com/questions/75126162/creating-executable-jar-in-intellij-java-18-javafx-18-maven-project-warning\" title=\"creating executable jar in intellij java 18 javafx 18 maven project warning\">stackoverflow.com/questions/75126162/&hellip;</a>)."}],"owner":{"account_id":24038648,"reputation":1,"user_id":18018614,"display_name":"Tavernkeeper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667750483,"creation_date":1658306820,"question_id":73048522,"body_markdown":"I created a simple JavaFX project using Maven. When I run it in Eclipse it runs smoothly. But once I create an executable jar file, it won&#39;t run.\r\n\r\n**The Errors:**\r\n\r\nIf I do &quot;Export&quot; -&gt; &quot;Runnable JAR File Export&quot; -&gt; by &quot;Library handling:&quot; I selected &quot;Extract required libraries into generated JAR&quot;:\r\n\r\n- Once I click &quot;Finish&quot;, multiple warnings appear stating (multiple times)\r\n```\r\n    duplicate entry: module-info.class\r\n```\r\nIn addition, when I try to run &quot;java -jar exe.jar&quot; in my terminal this error is printed:\r\n```\r\n    Error: JavaFX runtime components are missing, and are required to run this application\r\n```\r\nIf by &quot;Library handling:&quot; I select &quot;Package required libraries into generated JAR&quot;:\r\n\r\n- I can export it without any issue, but when running it with &quot;java -jar exe.jar&quot; in my terminal again this error is printed:\r\n\r\n```\r\n    WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @2cebc0b2&#39;\r\n    null\r\n    Exception in Application start method\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.IllegalStateException: Location is not set.\r\n    \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)\r\n    \tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n    \tat main.Main.loadScene(Main.java:25)\r\n    \tat main.Main.start(Main.java:17)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n    \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n```\r\nI consulted many Stack Overflow pages but couldn&#39;t get it to run. Can anyone help me?\r\n\r\nThese are my classes and the pom.xlm file:\r\n\r\nThe Main class:\r\n```\r\n    public class Main extends Application {\r\n    \r\n    \tApplicationController controller = new ApplicationController();\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage stage) throws Exception {\r\n    \t\tScene root = loadScene(&quot;Application.fxml&quot;, controller);\r\n    \t\tinitAndShowStage(stage, root, &quot;Laboratory&quot;);\r\n    \t}\r\n    \r\n    \tprivate static Scene loadScene(String fxmlPath, Object controller) throws IOException {\r\n    \t\tSystem.out.println(Main.class.getClassLoader().getResource(fxmlPath));\r\n    \t\tFXMLLoader loader = new FXMLLoader(Main.class.getClassLoader().getResource(fxmlPath));\r\n    \t\tloader.setController(controller);\r\n    \t\tParent parent = loader.load();\r\n    \t\tScene scene = new Scene(parent);\r\n    \t\treturn scene;\r\n    \t}\r\n    \r\n    \tprivate static Stage initAndShowStage(Stage stage, Scene root, String title) {\r\n    \t\tstage.setScene(root);\r\n    \t\tstage.setTitle(title);\r\n    \t\tstage.setFullScreen(false);\r\n    \t\tstage.show();\r\n    \t\treturn stage;\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) throws IOException {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \r\n    }\r\n```\r\nThe ApplicationController class:\r\n```\r\n    public class ApplicationController {\r\n    \t@FXML\r\n    \tprivate Label something;\r\n    \t@FXML\r\n    \tprivate Button somethingButton;\r\n    \r\n    \tprivate boolean step = false;\r\n    \r\n    \t// Event Listener on Button[#somethingButton].onAction\r\n    \t@FXML\r\n    \tpublic void setLabel(ActionEvent event) {\r\n    \t\tif (this.step == false) {\r\n    \t\t\tthis.something.setText(&quot;Hello there!&quot;);\r\n    \t\t\tthis.step = true;\r\n    \t\t} else {\r\n    \t\t\tthis.something.setText(&quot;Begin!&quot;);\r\n    \t\t\tthis.step = false;\r\n    \t\t}\r\n    \t}\r\n    }\r\n```\r\nThe pom.xml file:\r\n```\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;TestNEW&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;TestNEW&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.0.8&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;mainClass&gt;Main&lt;/mainClass&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;19-ea+9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-fxml --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;19-ea+9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n```\r\n","title":"Executable jar file from a Maven JavaFX project shows multiple errors","body":"<p>I created a simple JavaFX project using Maven. When I run it in Eclipse it runs smoothly. But once I create an executable jar file, it won't run.</p>\n<p><strong>The Errors:</strong></p>\n<p>If I do &quot;Export&quot; -&gt; &quot;Runnable JAR File Export&quot; -&gt; by &quot;Library handling:&quot; I selected &quot;Extract required libraries into generated JAR&quot;:</p>\n<ul>\n<li>Once I click &quot;Finish&quot;, multiple warnings appear stating (multiple times)</li>\n</ul>\n<pre><code>    duplicate entry: module-info.class\n</code></pre>\n<p>In addition, when I try to run &quot;java -jar exe.jar&quot; in my terminal this error is printed:</p>\n<pre><code>    Error: JavaFX runtime components are missing, and are required to run this application\n</code></pre>\n<p>If by &quot;Library handling:&quot; I select &quot;Package required libraries into generated JAR&quot;:</p>\n<ul>\n<li>I can export it without any issue, but when running it with &quot;java -jar exe.jar&quot; in my terminal again this error is printed:</li>\n</ul>\n<pre><code>    WARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @2cebc0b2'\n    null\n    Exception in Application start method\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61)\n    Caused by: java.lang.RuntimeException: Exception in Application start method\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n    Caused by: java.lang.IllegalStateException: Location is not set.\n        at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)\n        at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\n        at main.Main.loadScene(Main.java:25)\n        at main.Main.start(Main.java:17)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n        at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n        at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n</code></pre>\n<p>I consulted many Stack Overflow pages but couldn't get it to run. Can anyone help me?</p>\n<p>These are my classes and the pom.xlm file:</p>\n<p>The Main class:</p>\n<pre><code>    public class Main extends Application {\n    \n        ApplicationController controller = new ApplicationController();\n    \n        @Override\n        public void start(Stage stage) throws Exception {\n            Scene root = loadScene(&quot;Application.fxml&quot;, controller);\n            initAndShowStage(stage, root, &quot;Laboratory&quot;);\n        }\n    \n        private static Scene loadScene(String fxmlPath, Object controller) throws IOException {\n            System.out.println(Main.class.getClassLoader().getResource(fxmlPath));\n            FXMLLoader loader = new FXMLLoader(Main.class.getClassLoader().getResource(fxmlPath));\n            loader.setController(controller);\n            Parent parent = loader.load();\n            Scene scene = new Scene(parent);\n            return scene;\n        }\n    \n        private static Stage initAndShowStage(Stage stage, Scene root, String title) {\n            stage.setScene(root);\n            stage.setTitle(title);\n            stage.setFullScreen(false);\n            stage.show();\n            return stage;\n        }\n    \n        public static void main(String args[]) throws IOException {\n            launch(args);\n        }\n    \n    }\n</code></pre>\n<p>The ApplicationController class:</p>\n<pre><code>    public class ApplicationController {\n        @FXML\n        private Label something;\n        @FXML\n        private Button somethingButton;\n    \n        private boolean step = false;\n    \n        // Event Listener on Button[#somethingButton].onAction\n        @FXML\n        public void setLabel(ActionEvent event) {\n            if (this.step == false) {\n                this.something.setText(&quot;Hello there!&quot;);\n                this.step = true;\n            } else {\n                this.something.setText(&quot;Begin!&quot;);\n                this.step = false;\n            }\n        }\n    }\n</code></pre>\n<p>The pom.xml file:</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;groupId&gt;TestNEW&lt;/groupId&gt;\n        &lt;artifactId&gt;TestNEW&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n        &lt;properties&gt;\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;/properties&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n    \n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;0.0.8&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;Main&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n    \n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    \n        &lt;dependencies&gt;\n    \n            &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n                &lt;version&gt;19-ea+9&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-fxml --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n                &lt;version&gt;19-ea+9&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n        &lt;/dependencies&gt;\n    &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","counting"],"answers":[{"tags":[],"owner":{"account_id":4764506,"reputation":502,"user_id":3851006,"display_name":"Sean Kuhlman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1424276017,"creation_date":1424202705,"answer_id":28569952,"question_id":28569490,"body_markdown":"The tokenizer will split each line into tokens. You can evaluate each token (a whole word) to see if it matches a string you expect. Here is an example to count a, and, the.\r\n\r\n\tint a = 0, and = 0, the = 0, forCount = 0;\r\n\r\n\twhile (sfile.hasNextLine()) {\r\n\t\tlines++;\r\n\t\tString line = sfile.nextLine();\r\n\t\tchars += line.length();\r\n\t\tStringTokenizer tokenizer = new StringTokenizer(line, &quot; ,&quot;);\r\n\t\twords += tokenizer.countTokens();\r\n\r\n\t\twhile (tokenizer.hasMoreTokens()) {\r\n\t\t\tString element = (String) tokenizer.nextElement();\r\n\r\n\t\t\tif (&quot;a&quot;.equals(element)) {\r\n\t\t\t\ta++;\r\n\t\t\t} else if (&quot;and&quot;.equals(element)) {\r\n\t\t\t\tand++;\r\n\t\t\t} else if (&quot;for&quot;.equals(element)) {\r\n\t\t\t\tforCount++;\r\n\t\t\t} else if (&quot;the&quot;.equals(element)) {\r\n\t\t\t\tthe++;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Counting number of time the articles &quot;a&quot;,&quot;an&quot; are being used in a text file","body":"<p>The tokenizer will split each line into tokens. You can evaluate each token (a whole word) to see if it matches a string you expect. Here is an example to count a, and, the.</p>\n\n<pre><code>int a = 0, and = 0, the = 0, forCount = 0;\n\nwhile (sfile.hasNextLine()) {\n    lines++;\n    String line = sfile.nextLine();\n    chars += line.length();\n    StringTokenizer tokenizer = new StringTokenizer(line, \" ,\");\n    words += tokenizer.countTokens();\n\n    while (tokenizer.hasMoreTokens()) {\n        String element = (String) tokenizer.nextElement();\n\n        if (\"a\".equals(element)) {\n            a++;\n        } else if (\"and\".equals(element)) {\n            and++;\n        } else if (\"for\".equals(element)) {\n            forCount++;\n        } else if (\"the\".equals(element)) {\n            the++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5597302,"reputation":1890,"user_id":4434651,"accept_rate":79,"display_name":"Dmytro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424222776,"creation_date":1424204984,"answer_id":28570554,"question_id":28569490,"body_markdown":"&gt; How can a program make the difference between &#39;a&#39; and &#39;and&#39;.\r\n\r\nYou can use regex for this:\r\n\r\n            String input = &quot;A and Andy then the are a&quot;;\r\n            Matcher m = Pattern.compile(&quot;(?i)\\\\b((a)|(an)|(and)|(the))\\\\b&quot;).matcher(input);\r\n            int count = 0;\r\n            while(m.find()){\r\n                count++;\r\n            }\r\n            //count == 4\r\n\r\n&#39;\\b&#39; is a _word boundary_, &#39;|&#39; is _OR_, &#39;(?i)&#39; — _ignore case_ flag. All list of patterns you can find [here](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html) and probably you should learn about regex.","title":"Counting number of time the articles &quot;a&quot;,&quot;an&quot; are being used in a text file","body":"<blockquote>\n  <p>How can a program make the difference between 'a' and 'and'.</p>\n</blockquote>\n\n<p>You can use regex for this:</p>\n\n<pre><code>        String input = \"A and Andy then the are a\";\n        Matcher m = Pattern.compile(\"(?i)\\\\b((a)|(an)|(and)|(the))\\\\b\").matcher(input);\n        int count = 0;\n        while(m.find()){\n            count++;\n        }\n        //count == 4\n</code></pre>\n\n<p>'\\b' is a <em>word boundary</em>, '|' is <em>OR</em>, '(?i)' — <em>ignore case</em> flag. All list of patterns you can find <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">here</a> and probably you should learn about regex.</p>\n"}],"owner":{"account_id":3911201,"reputation":3926,"user_id":3236484,"accept_rate":40,"display_name":"yacine benzmane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5558,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":28569952,"answer_count":2,"score":1,"last_activity_date":1667750268,"creation_date":1424201067,"question_id":28569490,"body_markdown":"I&#39;m trying to make a program that count the number of words, lines, sentences, and also the number of articles &#39;a&#39;, &#39;and&#39;,&#39;the&#39;.\r\nSo far I got the words, lines, sentences. But I have no idea who I am going to count the articles. How can a program make the difference between &#39;a&#39; and &#39;and&#39;.\r\n\r\nThis my code so far.\r\n\r\n   \r\n\r\n     public static void main(String[]args) throws FileNotFoundException, IOException        \r\n        {       \r\n    FileInputStream file= new FileInputStream(&quot;C:\\\\Users\\\\nlstudent\\\\Downloads\\\\text.txt&quot;);\r\n    Scanner sfile = new Scanner(new File(&quot;C:\\\\Users\\\\nlstudent\\\\Downloads\\\\text.txt&quot;));\r\n    \r\n      int ch,sentence=0,words = 0,chars = 0,lines = 0; \r\n      \r\n      while((ch=file.read())!=-1)\r\n      {\r\n       if(ch==&#39;?&#39;||ch==&#39;!&#39;|| ch==&#39;.&#39;)\r\n        sentence++;\r\n      }\r\n    \r\n        while(sfile.hasNextLine())  {\r\n            lines++;\r\n        String line = sfile.nextLine();\r\n            chars += line.length();\r\n            words += new StringTokenizer(line, &quot; ,&quot;).countTokens();\r\n        }\r\n    \r\n    \r\n    System.out.println(&quot;Number of words: &quot; + words);\r\n    System.out.println(&quot;Number of sentence: &quot; + sentence);\r\n    System.out.println(&quot;Number of lines: &quot; + lines);\r\n    System.out.println(&quot;Number of characters: &quot; + chars);\r\n    }\r\n    }\r\n","title":"Counting number of time the articles &quot;a&quot;,&quot;an&quot; are being used in a text file","body":"<p>I'm trying to make a program that count the number of words, lines, sentences, and also the number of articles 'a', 'and','the'.\nSo far I got the words, lines, sentences. But I have no idea who I am going to count the articles. How can a program make the difference between 'a' and 'and'.</p>\n\n<p>This my code so far.</p>\n\n<pre><code> public static void main(String[]args) throws FileNotFoundException, IOException        \n    {       \nFileInputStream file= new FileInputStream(\"C:\\\\Users\\\\nlstudent\\\\Downloads\\\\text.txt\");\nScanner sfile = new Scanner(new File(\"C:\\\\Users\\\\nlstudent\\\\Downloads\\\\text.txt\"));\n\n  int ch,sentence=0,words = 0,chars = 0,lines = 0; \n\n  while((ch=file.read())!=-1)\n  {\n   if(ch=='?'||ch=='!'|| ch=='.')\n    sentence++;\n  }\n\n    while(sfile.hasNextLine())  {\n        lines++;\n    String line = sfile.nextLine();\n        chars += line.length();\n        words += new StringTokenizer(line, \" ,\").countTokens();\n    }\n\n\nSystem.out.println(\"Number of words: \" + words);\nSystem.out.println(\"Number of sentence: \" + sentence);\nSystem.out.println(\"Number of lines: \" + lines);\nSystem.out.println(\"Number of characters: \" + chars);\n}\n}\n</code></pre>\n"},{"tags":["java","swagger","openapi","codegen"],"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667750249,"creation_date":1667750249,"question_id":74337467,"body_markdown":"In my previous post\r\n\r\nhttps://stackoverflow.com/questions/74328987/how-to-accept-multiple-query-parameters-with-different-parameter-name-in-one-cla\r\n\r\nI learned about passing the query parameters, and I also achieved it \r\nBut now the problem is I am in a swagger setup where I use codegen for generating API default code which provides me an interface using which I implement it into my controller layer and overrides those methods and add my logic\r\n\r\n\r\nThe problem is I have an internal api-doc file that generates a custom code, in that file how should I mention that I am using my own custom class for passing it to be used as a query parameter object? Currently, my api doc file looks like below. Problem with below file is I have to define each and every query parameter and as I learned in my previous stack article that we can wrap it into an class object. But my question here is how should I mention path to my custom class into this file.\r\n\r\n```\r\n  /tasks:\r\n    get:\r\n      parameters:\r\n        - $ref: &#39;api-params.yaml#/name&#39;\r\n        - $ref: &#39;api-params.yaml#/age&#39;\r\n        - $ref: &#39;api-params.yaml#/credentials&#39;\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: OK\r\n          content:\r\n            application/json:\r\n              schema:\r\n                  $ref: &#39;api-resp.yaml#/someResponse&#39;\r\n        &quot;401&quot;:\r\n          description: &quot;Unauthorized&quot;\r\n          content: { }\r\n        &quot;403&quot;:\r\n          description: &quot;Forbidden&quot;\r\n          content: { }\r\n\r\n```\r\nAnd also can we directly define a model using swagger? If yes how can we do that? \r\nI mean I am using custom models for referring them to be used as request body and I usually mention them like below, but my question is can we use similar behaviour for queryParams also \r\n\r\n```\r\n            schema:\r\n              $ref: &#39;#/components/schemas/RquestBodyPayload&#39;\r\n\r\n```\r\nbut is the similar this is also allowed for query parameters ?\r\n\r\n","title":"How to use custom class in the swagger API","body":"<p>In my previous post</p>\n<p><a href=\"https://stackoverflow.com/questions/74328987/how-to-accept-multiple-query-parameters-with-different-parameter-name-in-one-cla\">How to accept multiple query parameters with different parameter name in one class</a></p>\n<p>I learned about passing the query parameters, and I also achieved it\nBut now the problem is I am in a swagger setup where I use codegen for generating API default code which provides me an interface using which I implement it into my controller layer and overrides those methods and add my logic</p>\n<p>The problem is I have an internal api-doc file that generates a custom code, in that file how should I mention that I am using my own custom class for passing it to be used as a query parameter object? Currently, my api doc file looks like below. Problem with below file is I have to define each and every query parameter and as I learned in my previous stack article that we can wrap it into an class object. But my question here is how should I mention path to my custom class into this file.</p>\n<pre><code>  /tasks:\n    get:\n      parameters:\n        - $ref: 'api-params.yaml#/name'\n        - $ref: 'api-params.yaml#/age'\n        - $ref: 'api-params.yaml#/credentials'\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                  $ref: 'api-resp.yaml#/someResponse'\n        &quot;401&quot;:\n          description: &quot;Unauthorized&quot;\n          content: { }\n        &quot;403&quot;:\n          description: &quot;Forbidden&quot;\n          content: { }\n\n</code></pre>\n<p>And also can we directly define a model using swagger? If yes how can we do that?\nI mean I am using custom models for referring them to be used as request body and I usually mention them like below, but my question is can we use similar behaviour for queryParams also</p>\n<pre><code>            schema:\n              $ref: '#/components/schemas/RquestBodyPayload'\n\n</code></pre>\n<p>but is the similar this is also allowed for query parameters ?</p>\n"},{"tags":["java","maven","user-interface","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1667746159,"post_id":74336851,"comment_id":131235341,"body_markdown":"Which is the line throwing the exception? If it is `Book currentBook = books.get(…)` then the stack trace is telling you that `selectedBookId` is -1, which obviously is not a valid list index.","body":"Which is the line throwing the exception? If it is <code>Book currentBook = books.get(…)</code> then the stack trace is telling you that <code>selectedBookId</code> is -1, which obviously is not a valid list index."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667746517,"post_id":74336851,"comment_id":131235422,"body_markdown":"Also, don’t try to implement things you don’t understand. There is no need for `Platform.runLater(…)`. You are already on the FX Application Thread.","body":"Also, don’t try to implement things you don’t understand. There is no need for <code>Platform.runLater(…)</code>. You are already on the FX Application Thread."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667746727,"post_id":74336851,"comment_id":131235469,"body_markdown":"Finally, I’m not sure what the purpose of the `populateView()` method is. If you just set the list view’s items directly to the `FilteredList`, the list view will automatically update when the predicate changes.","body":"Finally, I’m not sure what the purpose of the <code>populateView()</code> method is. If you just set the list view’s items directly to the <code>FilteredList</code>, the list view will automatically update when the predicate changes."},{"owner":{"account_id":6570100,"reputation":455,"user_id":5078456,"accept_rate":73,"display_name":"K3nzie"},"score":0,"creation_date":1667746931,"post_id":74336851,"comment_id":131235505,"body_markdown":"Alright so let&#39;s see, I think you&#39;re right @James_D , if I use the search BEFORE triggering `populateDetails`, which is where `selectedBookId` is, the error doesn&#39;t show, but technically when I select 1 item and then dont select anything else but use the search, the function shouldnt be re-triggered until I reselect something, but it does for some reason. Moreover, i didnt quite understand your last comment, let me clarify in another comment -&gt;","body":"Alright so let&#39;s see, I think you&#39;re right @James_D , if I use the search BEFORE triggering <code>populateDetails</code>, which is where <code>selectedBookId</code> is, the error doesn&#39;t show, but technically when I select 1 item and then dont select anything else but use the search, the function shouldnt be re-triggered until I reselect something, but it does for some reason. Moreover, i didnt quite understand your last comment, let me clarify in another comment -&gt;"},{"owner":{"account_id":6570100,"reputation":455,"user_id":5078456,"accept_rate":73,"display_name":"K3nzie"},"score":0,"creation_date":1667747068,"post_id":74336851,"comment_id":131235541,"body_markdown":"@James_D The variable FilteredList does update, but if I dont fire `populateView` it&#39;s just not gonna show in the view. Or at least that&#39;s what happened. Well the first call at execution is obligatory cause otherwise it&#39;d be blank at start, but yea I also thought that it should update automatically, but it&#39;s not without calling it again in the Listener.","body":"@James_D The variable FilteredList does update, but if I dont fire <code>populateView</code> it&#39;s just not gonna show in the view. Or at least that&#39;s what happened. Well the first call at execution is obligatory cause otherwise it&#39;d be blank at start, but yea I also thought that it should update automatically, but it&#39;s not without calling it again in the Listener."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667747541,"post_id":74336851,"comment_id":131235661,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":6570100,"reputation":455,"user_id":5078456,"accept_rate":73,"display_name":"K3nzie"},"score":0,"creation_date":1667747651,"post_id":74336851,"comment_id":131235695,"body_markdown":"Tbh I should probably check @James_D comment as the correct answer, cause pointing out the selected id made me solve the error","body":"Tbh I should probably check @James_D comment as the correct answer, cause pointing out the selected id made me solve the error"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667747729,"post_id":74336851,"comment_id":131235714,"body_markdown":"Just do `listView.setItems(filteredBooks)` in the `initialize()` method, and you can get rid of the `populateView()` method. All your listener on `searchField.textProperty()` would need to do is update the predicate. You can register a separate listener with the `selectedIndex()` (or, better, `selectedItem()`) to update the details pane.","body":"Just do <code>listView.setItems(filteredBooks)</code> in the <code>initialize()</code> method, and you can get rid of the <code>populateView()</code> method. All your listener on <code>searchField.textProperty()</code> would need to do is update the predicate. You can register a separate listener with the <code>selectedIndex()</code> (or, better, <code>selectedItem()</code>) to update the details pane."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667747846,"post_id":74336851,"comment_id":131235742,"body_markdown":"something to keep in mind: in a listener to a property, __never-ever__ query the value of a sibling property (as you do in listener to selectedItem by accessing the value of selectedIndex) - the sibling&#39;s state is unspecified","body":"something to keep in mind: in a listener to a property, <b>never-ever</b> query the value of a sibling property (as you do in listener to selectedItem by accessing the value of selectedIndex) - the sibling&#39;s state is unspecified"},{"owner":{"account_id":6570100,"reputation":455,"user_id":5078456,"accept_rate":73,"display_name":"K3nzie"},"score":0,"creation_date":1667747986,"post_id":74336851,"comment_id":131235770,"body_markdown":"@James_D I shoudl&#39;ve clarified, `filteredBooks` contains an array of `Objects`, `listView` expects an array of strings, since I wanna show only titles retrieved from the object, I do that operation in the function, but I do understand what you mean, and what the proper result would be with that set in the initialize, thank you. I&#39;d assume then that for this case `FilteredList` might not be the best choice","body":"@James_D I shoudl&#39;ve clarified, <code>filteredBooks</code> contains an array of <code>Objects</code>, <code>listView</code> expects an array of strings, since I wanna show only titles retrieved from the object, I do that operation in the function, but I do understand what you mean, and what the proper result would be with that set in the initialize, thank you. I&#39;d assume then that for this case <code>FilteredList</code> might not be the best choice"},{"owner":{"account_id":6570100,"reputation":455,"user_id":5078456,"accept_rate":73,"display_name":"K3nzie"},"score":0,"creation_date":1667748043,"post_id":74336851,"comment_id":131235783,"body_markdown":"@kleopatra if you dont mind me asking,how would you do it then? Also thank you guys for taking the time to asnwer, I&#39;m very new to the Java environment.","body":"@kleopatra if you dont mind me asking,how would you do it then? Also thank you guys for taking the time to asnwer, I&#39;m very new to the Java environment."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667748100,"post_id":74336851,"comment_id":131235795,"body_markdown":"if you want the index, listen to the change of index ..","body":"if you want the index, listen to the change of index .."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667749376,"post_id":74336851,"comment_id":131236069,"body_markdown":"*&quot;`filteredBooks` contains an array of Objects&quot;*. This is not true. `filteredBooks` is a `FilteredList&lt;Book&gt;`, which is a kind of list. Is it a list of `Book` instances.  *&quot;`listView` expects an array of strings, since I wanna show only titles retrieved from the object&quot;*. Don&#39;t do this. You are displaying a list of books, so make `listView` a `ListView&lt;Book&gt;`. If you need to control how the book is displayed, use a `cellFactory` on the `ListView`.","body":"<i>&quot;<code>filteredBooks</code> contains an array of Objects&quot;</i>. This is not true. <code>filteredBooks</code> is a <code>FilteredList&lt;Book&gt;</code>, which is a kind of list. Is it a list of <code>Book</code> instances.  <i>&quot;<code>listView</code> expects an array of strings, since I wanna show only titles retrieved from the object&quot;</i>. Don&#39;t do this. You are displaying a list of books, so make <code>listView</code> a <code>ListView&lt;Book&gt;</code>. If you need to control how the book is displayed, use a <code>cellFactory</code> on the <code>ListView</code>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667749184,"creation_date":1667749184,"answer_id":74337323,"question_id":74336851,"body_markdown":"The stack trace tells you exactly what the problem is. The `ArrayIndexOutOfBoundsException` occurs when you call `get(..)` on a `FilteredList` with the value `-1`, which you do on line 200 of `MainViewController.java`, in the `populateDetails(...)` method. Looking at your code, this line must be the line\r\n\r\n        Book currentBook = books.get(selectedBookID);\r\n\r\nso `selectedBookID` must be the culprit, having the value `-1`.\r\n\r\n`selectedBookID` is a parameter passed to the method, and you call the method from line 127 of `MainController.java`, in a lambda expression in the `initialize()` method. (Again, this information is in the stack trace.) The value you pass is \r\n\r\n    listView.getSelectionModel().selectedIndexProperty().getValue()\r\n\r\nThe [documentation](https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/SelectionModel.html#selectedIndexProperty) tells you explicitly when this happens:\r\n\r\n&gt; The selected index is either -1, to represent that there is no selection, or an integer value that is within the range of the underlying data model size.\r\n\r\nSo your populate details needs to handle the case where nothing is selected (probably by clearing the text fields). I think it&#39;s cleaner to listen to the `selectedItemProperty()` instead of the `selectedIndexProperty()`, as it directly gives you the selected `Book` (or `null` if nothing is selected), and you don&#39;t have to retrieve the `Book` from the list:\r\n\r\n    public void populateDetails(Book currentBook) {\r\n\r\n        if (currentBook == null) {\r\n            titleValue.setText(&quot;&quot;);\r\n            authorValue.setText(&quot;&quot;);\r\n            languageValue.setText(&quot;&quot;);\r\n            genreValue.setText(&quot;&quot;);\r\n            pagesValue.setText(&quot;&quot;);\r\n            yearValue.setText(&quot;&quot;);\r\n            availableRadio.setSelected(false);\r\n            unavailableRadio.setSelected(false);\r\n        } else {\r\n            titleValue.setText(currentBook.getTitle());\r\n            authorValue.setText(currentBook.getAuthor());\r\n            languageValue.setText(currentBook.getLanguage());\r\n            genreValue.setText(currentBook.getGenre());\r\n            pagesValue.setText(currentBook.getPages().toString());\r\n            yearValue.setText(currentBook.getRelease().toString());\r\n\r\n            if (currentBook.getAvailable()) {\r\n                availableRadio.setSelected(true);\r\n            } else {\r\n                unavailableRadio.setSelected(true);\r\n            }\r\n        }\r\n    }\r\n\r\nYour code is overkill; there is basically no need for the `populateView()` method. The filtered list will update its contents when you change the predicate, and notify observers that its content has changed. So you should just set the list view&#39;s items list to the filtered list directly. Then your listener for the search field only has to update the predicate, and the list view will automatically update.\r\n\r\nDelete the `populateView()` method and update the `initialize()` method as:\r\n\r\n    public void initialize(URL arg0, ResourceBundle arg1) {\r\n        // Populate the variable we use throughout the program with the data from the JSON file\r\n        filteredBooks = new FilteredList&lt;Book&gt;(handleJSON.getBooks());\r\n        listView.setItems(filteredBooks);\r\n    \r\n        // ...\r\n        // ...\r\n        // section of code responsible to check for search changes, when found, fires populateView once more, this time with the variable updated.\r\n\r\n        searchField.textProperty().addListener((obs, oldText, newText) -&gt; {\r\n        \r\n            filteredBooks.setPredicate(book -&gt; {\r\n                if(newText == null || newText.isEmpty() || newText.isBlank()) {\r\n                    return true;\r\n                }\r\n                String lowerCaseCompare = newText.toLowerCase();\r\n                return book.getTitle().toLowerCase().contains(lowerCaseCompare)\r\n            });\r\n        \r\n        \r\n        }); // Listener\r\n        // ...\r\n    \r\n        // This one handles the selection of an item in the list, when selected, the fields on the other side of the windows will get populated with the respective data from the book based on the id from the list, since they essentialy share the same FilteredList\r\n    \r\n        listView.getSelectionModel().selectedItemProperty().addListener(\r\n            (obs, oldSel, newSel) -&gt; populateDetails(newSel)\r\n        );\r\n\r\n    }\r\n\r\n","title":"JavaFX Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ArrayIndexOutOfBoundsException when updating search field","body":"<p>The stack trace tells you exactly what the problem is. The <code>ArrayIndexOutOfBoundsException</code> occurs when you call <code>get(..)</code> on a <code>FilteredList</code> with the value <code>-1</code>, which you do on line 200 of <code>MainViewController.java</code>, in the <code>populateDetails(...)</code> method. Looking at your code, this line must be the line</p>\n<pre><code>    Book currentBook = books.get(selectedBookID);\n</code></pre>\n<p>so <code>selectedBookID</code> must be the culprit, having the value <code>-1</code>.</p>\n<p><code>selectedBookID</code> is a parameter passed to the method, and you call the method from line 127 of <code>MainController.java</code>, in a lambda expression in the <code>initialize()</code> method. (Again, this information is in the stack trace.) The value you pass is</p>\n<pre><code>listView.getSelectionModel().selectedIndexProperty().getValue()\n</code></pre>\n<p>The <a href=\"https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/SelectionModel.html#selectedIndexProperty\" rel=\"nofollow noreferrer\">documentation</a> tells you explicitly when this happens:</p>\n<blockquote>\n<p>The selected index is either -1, to represent that there is no selection, or an integer value that is within the range of the underlying data model size.</p>\n</blockquote>\n<p>So your populate details needs to handle the case where nothing is selected (probably by clearing the text fields). I think it's cleaner to listen to the <code>selectedItemProperty()</code> instead of the <code>selectedIndexProperty()</code>, as it directly gives you the selected <code>Book</code> (or <code>null</code> if nothing is selected), and you don't have to retrieve the <code>Book</code> from the list:</p>\n<pre><code>public void populateDetails(Book currentBook) {\n\n    if (currentBook == null) {\n        titleValue.setText(&quot;&quot;);\n        authorValue.setText(&quot;&quot;);\n        languageValue.setText(&quot;&quot;);\n        genreValue.setText(&quot;&quot;);\n        pagesValue.setText(&quot;&quot;);\n        yearValue.setText(&quot;&quot;);\n        availableRadio.setSelected(false);\n        unavailableRadio.setSelected(false);\n    } else {\n        titleValue.setText(currentBook.getTitle());\n        authorValue.setText(currentBook.getAuthor());\n        languageValue.setText(currentBook.getLanguage());\n        genreValue.setText(currentBook.getGenre());\n        pagesValue.setText(currentBook.getPages().toString());\n        yearValue.setText(currentBook.getRelease().toString());\n\n        if (currentBook.getAvailable()) {\n            availableRadio.setSelected(true);\n        } else {\n            unavailableRadio.setSelected(true);\n        }\n    }\n}\n</code></pre>\n<p>Your code is overkill; there is basically no need for the <code>populateView()</code> method. The filtered list will update its contents when you change the predicate, and notify observers that its content has changed. So you should just set the list view's items list to the filtered list directly. Then your listener for the search field only has to update the predicate, and the list view will automatically update.</p>\n<p>Delete the <code>populateView()</code> method and update the <code>initialize()</code> method as:</p>\n<pre><code>public void initialize(URL arg0, ResourceBundle arg1) {\n    // Populate the variable we use throughout the program with the data from the JSON file\n    filteredBooks = new FilteredList&lt;Book&gt;(handleJSON.getBooks());\n    listView.setItems(filteredBooks);\n\n    // ...\n    // ...\n    // section of code responsible to check for search changes, when found, fires populateView once more, this time with the variable updated.\n\n    searchField.textProperty().addListener((obs, oldText, newText) -&gt; {\n    \n        filteredBooks.setPredicate(book -&gt; {\n            if(newText == null || newText.isEmpty() || newText.isBlank()) {\n                return true;\n            }\n            String lowerCaseCompare = newText.toLowerCase();\n            return book.getTitle().toLowerCase().contains(lowerCaseCompare)\n        });\n    \n    \n    }); // Listener\n    // ...\n\n    // This one handles the selection of an item in the list, when selected, the fields on the other side of the windows will get populated with the respective data from the book based on the id from the list, since they essentialy share the same FilteredList\n\n    listView.getSelectionModel().selectedItemProperty().addListener(\n        (obs, oldSel, newSel) -&gt; populateDetails(newSel)\n    );\n\n}\n</code></pre>\n"}],"owner":{"account_id":6570100,"reputation":455,"user_id":5078456,"accept_rate":73,"display_name":"K3nzie"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74337323,"answer_count":1,"score":0,"last_activity_date":1667749184,"creation_date":1667745646,"question_id":74336851,"body_markdown":"I&#39;m writing a small program for a project for Uni and it&#39;s basically a library program to manage books anr read/write to JSON file instead of using a database cause it&#39;d be simpler since it&#39;s my first proper Java application.\r\n\r\nI&#39;m utilizing a TextField to filter a ListView with all the books&#39; titles, and it works, it shows the correct book in the list and updates the corresponding informations on screen when that book is selected, the issue is that even if the program works as intended, it throws an error everytime I update the search field I get an `ArrayIndexOutOfBoundsException`. The full stack is as follows:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 7\r\n    \tat javafx.base@19-ea/javafx.collections.transformation.FilteredList.get(FilteredList.java:172)\r\n    \tat com.libraryproject.javalibrary/com.libraryproject.javalibrary.MainViewController.populateDetails(MainViewController.java:200)\r\n    \tat com.libraryproject.javalibrary/com.libraryproject.javalibrary.MainViewController.lambda$initialize$3(MainViewController.java:127)\r\n    \tat javafx.graphics@19-ea/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics@19-ea/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n    \tat javafx.graphics@19-ea/com.sun.glass.ui.InvokeLaterDispatcher$Future.run$$$capture(InvokeLaterDispatcher.java:96)\r\n    \tat javafx.graphics@19-ea/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java)\r\n    \tat javafx.graphics@19-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@19-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\r\nAfter some googling, some people suggested that when updating the GUI from user input, one should do it in the Application Thread, which to be honest I&#39;m not absolutely sure what that means, but anyway I followed the advice and wrapped the functions that would then update the UI variables in a `Platform.runLater(() -&gt; {}` , but the issue still remains, and it&#39;s the stack above, at this point I have absolutely no idea what the problem could be, so, following the stack posted, let&#39;s see the code of the parts that are shown:\r\n\r\nI&#39;m using a FilteredList to, well, filter the listrView using the search, here&#39;s the code managing that and most of the initialize method:\r\n\r\n    private FilteredList&lt;Book&gt; filteredBooks;\r\n    \r\n    ...\r\n    ...\r\n    \r\n     // inside the initialize method \r\n    @Override\r\n        public void initialize(URL arg0, ResourceBundle arg1) {\r\n        // Populate the variable we use throughout the program with the data from the JSON file\r\n        filteredBooks = new FilteredList&lt;Book&gt;(handleJSON.getBooks());\r\n        // Then update the list view for the first time\r\n        populateView(filteredBooks);\r\n    \r\n    ...\r\n    ...\r\n    // section of code responsible to check for search changes, when found, fires populateView once more, this time with the variable updated.\r\n    searchField.textProperty().addListener((obs, oldText, newText) -&gt; {\r\n    \r\n                filteredBooks.setPredicate(book -&gt; {\r\n                    if(newText == null || newText.isEmpty() || newText.isBlank()) {\r\n                        return true;\r\n                    }\r\n                    String lowerCaseCompare = newText.toLowerCase();\r\n                    if(book.getTitle().toLowerCase().contains(lowerCaseCompare)) {\r\n                        return true;\r\n                    }\r\n    \r\n                    return false;\r\n                });\r\n    \r\n                Platform.runLater(() -&gt; populateView(filteredBooks));\r\n    \r\n            }); // Listener\r\n    ...\r\n    ...\r\n    ...\r\n    \r\n    // This one handles the selection of an item in the list, when selected, the fields on the other side of the windows will get populated with the respective data from the book based on the id from the list, since they essentialy share the same FilteredList\r\n    \r\n    listView.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; {\r\n                Platform.runLater(() -&gt; {\r\n                    populateDetails(listView.getSelectionModel().selectedIndexProperty().getValue(), filteredBooks);\r\n                    editButton.setDisable(false);\r\n                });\r\n\r\nAs you can see I wrapped all of the function that will update the ListView and fields in the window with `Platform.runLater`, but it doesn&#39;t seem to help.\r\n\r\nNow for the populateView function that fires the first time the program is opened and everytime there&#39;s a change in the searchfiield:\r\n\r\n    public void populateView(FilteredList&lt;Book&gt; booksList) {\r\n               // clears the listview to avoid old elements stacking in the list.\r\n                listView.getSelectionModel().clearSelection();\r\n                listView.getItems().clear();\r\n    \r\n            ObservableList&lt;String&gt; rawTitles = FXCollections.observableArrayList();\r\n            for(Book book: booksList) {\r\n                rawTitles.add(book.getTitle());\r\n            }\r\n    \r\n            listView.setItems(rawTitles);\r\n    \r\n        } // populateView()\r\n\r\nAnd last but not least the populateDetails function that fills the fields about a book based on the list selection:\r\n\r\n    public void populateDetails(Integer selectedBookID, FilteredList&lt;Book&gt; books) {\r\n    \r\n            Book currentBook = books.get(selectedBookID);\r\n    \r\n    \r\n            titleValue.setText(currentBook.getTitle());\r\n            authorValue.setText(currentBook.getAuthor());\r\n            languageValue.setText(currentBook.getLanguage());\r\n            genreValue.setText(currentBook.getGenre());\r\n            pagesValue.setText(currentBook.getPages().toString());\r\n            yearValue.setText(currentBook.getRelease().toString());\r\n    \r\n            if (currentBook.getAvailable()) {\r\n                availableRadio.setSelected(true);\r\n            } else {\r\n                unavailableRadio.setSelected(true);\r\n            }\r\n        } // populateDetails\r\n\r\nThats basically I tried to use the runLater in different places just to be sure, I still get the same stack, any idea what could cause this?\r\n\r\n","title":"JavaFX Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ArrayIndexOutOfBoundsException when updating search field","body":"<p>I'm writing a small program for a project for Uni and it's basically a library program to manage books anr read/write to JSON file instead of using a database cause it'd be simpler since it's my first proper Java application.</p>\n<p>I'm utilizing a TextField to filter a ListView with all the books' titles, and it works, it shows the correct book in the list and updates the corresponding informations on screen when that book is selected, the issue is that even if the program works as intended, it throws an error everytime I update the search field I get an <code>ArrayIndexOutOfBoundsException</code>. The full stack is as follows:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 7\n    at javafx.base@19-ea/javafx.collections.transformation.FilteredList.get(FilteredList.java:172)\n    at com.libraryproject.javalibrary/com.libraryproject.javalibrary.MainViewController.populateDetails(MainViewController.java:200)\n    at com.libraryproject.javalibrary/com.libraryproject.javalibrary.MainViewController.lambda$initialize$3(MainViewController.java:127)\n    at javafx.graphics@19-ea/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19-ea/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19-ea/com.sun.glass.ui.InvokeLaterDispatcher$Future.run$$$capture(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19-ea/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java)\n    at javafx.graphics@19-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n</code></pre>\n<p>After some googling, some people suggested that when updating the GUI from user input, one should do it in the Application Thread, which to be honest I'm not absolutely sure what that means, but anyway I followed the advice and wrapped the functions that would then update the UI variables in a <code>Platform.runLater(() -&gt; {}</code> , but the issue still remains, and it's the stack above, at this point I have absolutely no idea what the problem could be, so, following the stack posted, let's see the code of the parts that are shown:</p>\n<p>I'm using a FilteredList to, well, filter the listrView using the search, here's the code managing that and most of the initialize method:</p>\n<pre><code>private FilteredList&lt;Book&gt; filteredBooks;\n\n...\n...\n\n // inside the initialize method \n@Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n    // Populate the variable we use throughout the program with the data from the JSON file\n    filteredBooks = new FilteredList&lt;Book&gt;(handleJSON.getBooks());\n    // Then update the list view for the first time\n    populateView(filteredBooks);\n\n...\n...\n// section of code responsible to check for search changes, when found, fires populateView once more, this time with the variable updated.\nsearchField.textProperty().addListener((obs, oldText, newText) -&gt; {\n\n            filteredBooks.setPredicate(book -&gt; {\n                if(newText == null || newText.isEmpty() || newText.isBlank()) {\n                    return true;\n                }\n                String lowerCaseCompare = newText.toLowerCase();\n                if(book.getTitle().toLowerCase().contains(lowerCaseCompare)) {\n                    return true;\n                }\n\n                return false;\n            });\n\n            Platform.runLater(() -&gt; populateView(filteredBooks));\n\n        }); // Listener\n...\n...\n...\n\n// This one handles the selection of an item in the list, when selected, the fields on the other side of the windows will get populated with the respective data from the book based on the id from the list, since they essentialy share the same FilteredList\n\nlistView.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; {\n            Platform.runLater(() -&gt; {\n                populateDetails(listView.getSelectionModel().selectedIndexProperty().getValue(), filteredBooks);\n                editButton.setDisable(false);\n            });\n</code></pre>\n<p>As you can see I wrapped all of the function that will update the ListView and fields in the window with <code>Platform.runLater</code>, but it doesn't seem to help.</p>\n<p>Now for the populateView function that fires the first time the program is opened and everytime there's a change in the searchfiield:</p>\n<pre><code>public void populateView(FilteredList&lt;Book&gt; booksList) {\n           // clears the listview to avoid old elements stacking in the list.\n            listView.getSelectionModel().clearSelection();\n            listView.getItems().clear();\n\n        ObservableList&lt;String&gt; rawTitles = FXCollections.observableArrayList();\n        for(Book book: booksList) {\n            rawTitles.add(book.getTitle());\n        }\n\n        listView.setItems(rawTitles);\n\n    } // populateView()\n</code></pre>\n<p>And last but not least the populateDetails function that fills the fields about a book based on the list selection:</p>\n<pre><code>public void populateDetails(Integer selectedBookID, FilteredList&lt;Book&gt; books) {\n\n        Book currentBook = books.get(selectedBookID);\n\n\n        titleValue.setText(currentBook.getTitle());\n        authorValue.setText(currentBook.getAuthor());\n        languageValue.setText(currentBook.getLanguage());\n        genreValue.setText(currentBook.getGenre());\n        pagesValue.setText(currentBook.getPages().toString());\n        yearValue.setText(currentBook.getRelease().toString());\n\n        if (currentBook.getAvailable()) {\n            availableRadio.setSelected(true);\n        } else {\n            unavailableRadio.setSelected(true);\n        }\n    } // populateDetails\n</code></pre>\n<p>Thats basically I tried to use the runLater in different places just to be sure, I still get the same stack, any idea what could cause this?</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":26764465,"reputation":1324,"user_id":20361860,"display_name":"Asraf"},"score":0,"creation_date":1667688162,"post_id":74331930,"comment_id":131226990,"body_markdown":"How about just using `String[] worlds =  s.split(&quot; &quot;)` and just checking the lengths?","body":"How about just using <code>String[] worlds =  s.split(&quot; &quot;)</code> and just checking the lengths?"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667748394,"creation_date":1667688435,"answer_id":74332004,"question_id":74331930,"body_markdown":"Yor code is to complicate. use:\r\n\r\n\tpublic static long howManyWord(String s, int n) {\r\n\t\t\r\n\t\tString[] words = s.split(&quot; &quot;); // split at blank to get all words\r\n\t\treturn Arrays.stream(words).filter(s1 -&gt; s1.length() == n).count(); // filter all words woth the length of n and count them\r\n\t}","title":"Assign words into an array from an input string","body":"<p>Yor code is to complicate. use:</p>\n<pre><code>public static long howManyWord(String s, int n) {\n    \n    String[] words = s.split(&quot; &quot;); // split at blank to get all words\n    return Arrays.stream(words).filter(s1 -&gt; s1.length() == n).count(); // filter all words woth the length of n and count them\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667689222,"creation_date":1667688878,"answer_id":74332047,"question_id":74331930,"body_markdown":"Use `split()` to gets words from the sentence, stream them filtering for the length, then return the filtered words as an array:\r\n\r\n```java\r\npublic String[] findWords(String s, int wordLength) {\r\n    return Arrays.stream(s.split(&quot; &quot;))\r\n      .filter(word -&gt; word.length() == wordLength)\r\n      .toArray(String[]::new);\r\n}\r\n```\r\n\r\nAlso note the renaming of your method to `findWords` and the renaming of the parameter `n` to `wordLength` to be more descriptive; you&#39;re not returning *how many* (with return type `int`) but finding words with a certain length.\r\n\r\n","title":"Assign words into an array from an input string","body":"<p>Use <code>split()</code> to gets words from the sentence, stream them filtering for the length, then return the filtered words as an array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String[] findWords(String s, int wordLength) {\n    return Arrays.stream(s.split(&quot; &quot;))\n      .filter(word -&gt; word.length() == wordLength)\n      .toArray(String[]::new);\n}\n</code></pre>\n<p>Also note the renaming of your method to <code>findWords</code> and the renaming of the parameter <code>n</code> to <code>wordLength</code> to be more descriptive; you're not returning <em>how many</em> (with return type <code>int</code>) but finding words with a certain length.</p>\n"}],"owner":{"account_id":26507972,"reputation":53,"user_id":20143802,"display_name":"Stablinz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74332047,"answer_count":2,"score":0,"last_activity_date":1667748394,"creation_date":1667687541,"question_id":74331930,"body_markdown":"I have a task in where I am instructed to create a method that returns words from a string based on a given length. The specific instructions are as follows:\r\n\r\n**This method will input a sentence with multiple words separated by spaces. The input number represents the size of the word we are looking for. Return a string array with all words found with the input size** \r\n\r\n*Example:*\r\n\r\n    String s = “Monday is a new day”;\r\n    int n = 3; //3 letter words\r\n    howManyWord(s, n) returns {“new”, “day”}\r\n    howManyWord(s, 2) returns {“is”}.\r\n\r\nSo far, this is my take at the solution. The main issue I am having is in the second for loop in terms of assigning words to the array itself\r\n\r\n    public String[] howManyWord(String s, int n) {\r\n            //count the amount of words in the String\r\n            int counter1 = 0;\r\n            for(int a1 = 1; a1 &lt; s.length(); a1++) {\r\n              char c1 = s.charAt(a1-1);\r\n              char c2 = s.charAt(a1);\r\n              if(c1 != &#39; &#39; &amp;&amp; c2 == &#39; &#39;){\r\n                  counter1++;\r\n              }\r\n            }\r\n\r\n            counter1 += 1;\r\n            //Get the words of a string into an array + the loop in question\r\n            String[] words = new String[counter1];\r\n            String[] output = new String[counter1];\r\n            for(int a2 = 1; a2 &lt; s.length(); a2++) {\r\n                char c1 = s.charAt(a2-1);\r\n              char c2 = s.charAt(a2);\r\n              int counter2 = 0;\r\n              if(c1 != &#39; &#39; &amp;&amp; c2 == &#39; &#39;){\r\n                  int index1 = s.indexOf(c1);\r\n                  int index2 = s.indexOf(c2);\r\n                  words[counter2] = s.substring(index1, index2);\r\n                      counter2++;\r\n              }\r\n            }\r\n\r\n            //assign words of a specific length into output array\r\n            for(int a3 = 0; a3 &lt; output.length; a3++) {\r\n               if(words[a3].length() == n){\r\n                   output[a3] = words[a3];\r\n               }\r\n            }\r\n            return output;\r\n            }\r\n\r\n\r\nHow would I go about this issue? Thanks!","title":"Assign words into an array from an input string","body":"<p>I have a task in where I am instructed to create a method that returns words from a string based on a given length. The specific instructions are as follows:</p>\n<p><strong>This method will input a sentence with multiple words separated by spaces. The input number represents the size of the word we are looking for. Return a string array with all words found with the input size</strong></p>\n<p><em>Example:</em></p>\n<pre><code>String s = “Monday is a new day”;\nint n = 3; //3 letter words\nhowManyWord(s, n) returns {“new”, “day”}\nhowManyWord(s, 2) returns {“is”}.\n</code></pre>\n<p>So far, this is my take at the solution. The main issue I am having is in the second for loop in terms of assigning words to the array itself</p>\n<pre><code>public String[] howManyWord(String s, int n) {\n        //count the amount of words in the String\n        int counter1 = 0;\n        for(int a1 = 1; a1 &lt; s.length(); a1++) {\n          char c1 = s.charAt(a1-1);\n          char c2 = s.charAt(a1);\n          if(c1 != ' ' &amp;&amp; c2 == ' '){\n              counter1++;\n          }\n        }\n\n        counter1 += 1;\n        //Get the words of a string into an array + the loop in question\n        String[] words = new String[counter1];\n        String[] output = new String[counter1];\n        for(int a2 = 1; a2 &lt; s.length(); a2++) {\n            char c1 = s.charAt(a2-1);\n          char c2 = s.charAt(a2);\n          int counter2 = 0;\n          if(c1 != ' ' &amp;&amp; c2 == ' '){\n              int index1 = s.indexOf(c1);\n              int index2 = s.indexOf(c2);\n              words[counter2] = s.substring(index1, index2);\n                  counter2++;\n          }\n        }\n\n        //assign words of a specific length into output array\n        for(int a3 = 0; a3 &lt; output.length; a3++) {\n           if(words[a3].length() == n){\n               output[a3] = words[a3];\n           }\n        }\n        return output;\n        }\n</code></pre>\n<p>How would I go about this issue? Thanks!</p>\n"},{"tags":["java","spring","model-view-controller","spring-security"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1667742324,"post_id":74336174,"comment_id":131234495,"body_markdown":"one database per user doesn&#39;t make any sense. What are you trying to do?","body":"one database per user doesn&#39;t make any sense. What are you trying to do?"},{"owner":{"account_id":26846540,"reputation":13,"user_id":20432214,"display_name":"shvetsovitaliy"},"score":0,"creation_date":1667743410,"post_id":74336174,"comment_id":131234749,"body_markdown":"I programming crm system. Its web project. For one company there will be one base, for another another.","body":"I programming crm system. Its web project. For one company there will be one base, for another another."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1667743559,"post_id":74336174,"comment_id":131234780,"body_markdown":"Could you provide any code, please, or links for github related to your project?","body":"Could you provide any code, please, or links for github related to your project?"},{"owner":{"account_id":26846540,"reputation":13,"user_id":20432214,"display_name":"shvetsovitaliy"},"score":0,"creation_date":1667747364,"post_id":74336174,"comment_id":131235612,"body_markdown":"i left code in descripion","body":"i left code in descripion"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1667766661,"post_id":74336174,"comment_id":131240104,"body_markdown":"@shvetsovitaliy, so what&#39;s the problem with your code?","body":"@shvetsovitaliy, so what&#39;s the problem with your code?"},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1667769525,"post_id":74336174,"comment_id":131240678,"body_markdown":"@shvetsovitaliy, could you clarify, please, what do you want to get as result? two databases in the same project or what? If two databases, does this project work for you now or not?","body":"@shvetsovitaliy, could you clarify, please, what do you want to get as result? two databases in the same project or what? If two databases, does this project work for you now or not?"},{"owner":{"account_id":26846540,"reputation":13,"user_id":20432214,"display_name":"shvetsovitaliy"},"score":0,"creation_date":1667798903,"post_id":74336174,"comment_id":131244797,"body_markdown":"Thanks to everyone who wants to help me. My code works fine. The goal is not to create subdomains, but to have one application and many databases. Each company (with a certain count of employees) could go into their databases. This is exactly what I can&#39;t realised.\n\nIn application.properties I have one database now and many users can connect to it. And what I need: 1 group of people can see one database, another group of people can see another one.","body":"Thanks to everyone who wants to help me. My code works fine. The goal is not to create subdomains, but to have one application and many databases. Each company (with a certain count of employees) could go into their databases. This is exactly what I can&#39;t realised.  In application.properties I have one database now and many users can connect to it. And what I need: 1 group of people can see one database, another group of people can see another one."},{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1667837672,"post_id":74336174,"comment_id":131257434,"body_markdown":"If I understand you right, you&#39;re assuming, that each company already have theire own database with company specific users and your application, more specific Spring Security, has to access all of them to authenticate them with your application?! If so, that&#39;s a very strange solution. If anything, you should address the identity providers of the companies and not their database directly. For example, use their LDAP, OAuth2 or SAML interface for authentication and, if necessary, synchronize the user data in your own database.","body":"If I understand you right, you&#39;re assuming, that each company already have theire own database with company specific users and your application, more specific Spring Security, has to access all of them to authenticate them with your application?! If so, that&#39;s a very strange solution. If anything, you should address the identity providers of the companies and not their database directly. For example, use their LDAP, OAuth2 or SAML interface for authentication and, if necessary, synchronize the user data in your own database."}],"owner":{"account_id":26846540,"reputation":13,"user_id":20432214,"display_name":"shvetsovitaliy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667748224,"creation_date":1667740503,"question_id":74336174,"body_markdown":"Now I&#39;m programming my Java application on Spring (MVC). Need some help with code. this is crm system. Web project. For one company there will be one base, for another another. I used spring boot and spring security for my project.\r\n\r\nThanks for help!\r\n\r\nFor now I have only one database with some count of users. I want to find some solution of my problem.\r\n\r\n\r\napplication.properties:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/crm?useSSL=false\r\n    spring.datasource.username=bestuser\r\n    spring.datasource.password=bestuser\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nWebSecurityConfiguration.java:\r\n\r\n  \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.shvetsovitaliy.crm;\r\n\r\n    import com.shvetsovitaliy.crm.service.MyUserDetailsService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.WebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n        @Autowired\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n        @Autowired\r\n        private MyUserDetailsService userDetailsService;\r\n\r\n        @Bean\r\n        public BCryptPasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n\r\n\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth\r\n                    .userDetailsService(userDetailsService)\r\n                    .passwordEncoder(bCryptPasswordEncoder);\r\n\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n\r\n            http.\r\n                    authorizeRequests()\r\n\r\n                    .antMatchers(&quot;/login&quot;).permitAll()\r\n                    .antMatchers(&quot;/registration&quot;).permitAll()\r\n                    .antMatchers(&quot;/receipts&quot;, &quot;/salaries&quot;, &quot;/mutualpayments&quot;, &quot;/figures&quot;, &quot;/legalEntities&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;MANAGER&quot;).anyRequest()\r\n                    .authenticated().and().csrf().disable().formLogin()\r\n                    .loginPage(&quot;/login&quot;).failureUrl(&quot;/login?error=true&quot;)\r\n                    .defaultSuccessUrl(&quot;/&quot;)\r\n                    .usernameParameter(&quot;username&quot;)\r\n                    .passwordParameter(&quot;password&quot;)\r\n                    .and().logout()\r\n                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                    .logoutSuccessUrl(&quot;/login&quot;).and().exceptionHandling()\r\n                    .accessDeniedPage(&quot;/access-denied&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring().antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;);\r\n            web.ignoring().antMatchers(&quot;/favicon.ico&quot;, &quot;/error&quot;);\r\n        }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n\r\npom.xml:\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.shvetsovitaliy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;crm&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;crm&lt;/name&gt;\r\n        &lt;description&gt;CRM system. Accounting for sales, merchandise, payroll&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.8.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;6.2.4.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Users must log in to different databases in a Java application (MVC, Spring)","body":"<p>Now I'm programming my Java application on Spring (MVC). Need some help with code. this is crm system. Web project. For one company there will be one base, for another another. I used spring boot and spring security for my project.</p>\n<p>Thanks for help!</p>\n<p>For now I have only one database with some count of users. I want to find some solution of my problem.</p>\n<p>application.properties:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>spring.datasource.url=jdbc:mysql://localhost:3306/crm?useSSL=false\nspring.datasource.username=bestuser\nspring.datasource.password=bestuser</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>WebSecurityConfiguration.java:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.shvetsovitaliy.crm;\n\nimport com.shvetsovitaliy.crm.service.MyUserDetailsService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    private MyUserDetailsService userDetailsService;\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .userDetailsService(userDetailsService)\n                .passwordEncoder(bCryptPasswordEncoder);\n\n\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.\n                authorizeRequests()\n\n                .antMatchers(\"/login\").permitAll()\n                .antMatchers(\"/registration\").permitAll()\n                .antMatchers(\"/receipts\", \"/salaries\", \"/mutualpayments\", \"/figures\", \"/legalEntities\").hasAnyAuthority(\"ADMIN\", \"MANAGER\").anyRequest()\n                .authenticated().and().csrf().disable().formLogin()\n                .loginPage(\"/login\").failureUrl(\"/login?error=true\")\n                .defaultSuccessUrl(\"/\")\n                .usernameParameter(\"username\")\n                .passwordParameter(\"password\")\n                .and().logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(\"/logout\"))\n                .logoutSuccessUrl(\"/login\").and().exceptionHandling()\n                .accessDeniedPage(\"/access-denied\");\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(\"/resources/**\", \"/static/**\", \"/css/**\", \"/js/**\");\n        web.ignoring().antMatchers(\"/favicon.ico\", \"/error\");\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>pom.xml:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.shvetsovitaliy&lt;/groupId&gt;\n    &lt;artifactId&gt;crm&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;crm&lt;/name&gt;\n    &lt;description&gt;CRM system. Accounting for sales, merchandise, payroll&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;taglibs&lt;/groupId&gt;\n            &lt;artifactId&gt;standard&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;4.5.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring","autowired","boot"],"comments":[{"owner":{"account_id":19780517,"reputation":141,"user_id":14485623,"display_name":"kuriboh"},"score":1,"creation_date":1667720853,"post_id":74333949,"comment_id":131230622,"body_markdown":"It seems that ```Foo``` hasn&#39;t been managed as Bean by Spring. Have you configure it in the Config class or xml file? Or you can try to add ```@Service``` annotation in ```Foo``` definition.","body":"It seems that <code>Foo</code> hasn&#39;t been managed as Bean by Spring. Have you configure it in the Config class or xml file? Or you can try to add <code>@Service</code> annotation in <code>Foo</code> definition."},{"owner":{"account_id":26811951,"reputation":1,"user_id":20402438,"display_name":"Rosk Kruni"},"score":0,"creation_date":1667743435,"post_id":74333949,"comment_id":131234756,"body_markdown":"I tried doing `@Service` in `Foo` and I&#39;m still getting the same issue. I even put a print statement in the `Bar` constructor and it shows up when Spring is initializing, so it looks like the bean is being created and loaded. No idea why `@Autowired` isn&#39;t using that bean...","body":"I tried doing <code>@Service</code> in <code>Foo</code> and I&#39;m still getting the same issue. I even put a print statement in the <code>Bar</code> constructor and it shows up when Spring is initializing, so it looks like the bean is being created and loaded. No idea why <code>@Autowired</code> isn&#39;t using that bean..."}],"answers":[{"tags":[],"owner":{"account_id":12897114,"reputation":41,"user_id":9327125,"display_name":"RyannnnnnR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667720917,"creation_date":1667720917,"answer_id":74334102,"question_id":74333949,"body_markdown":"Autowired only works when you inject the component. You will have to make Foo a component (or define a bean) too and Autowire that into your main class for this to work. Alternatively, you can use an instance of the ApplicationContext. \r\n\r\nYou also don&#39;t need that `@ComponentScan` annotation since the `@SpringBootApplication` already has it. \r\n\r\nSee: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html","title":"Spring Boot Autowired is throwing NullPointerException in Main() when using field","body":"<p>Autowired only works when you inject the component. You will have to make Foo a component (or define a bean) too and Autowire that into your main class for this to work. Alternatively, you can use an instance of the ApplicationContext.</p>\n<p>You also don't need that <code>@ComponentScan</code> annotation since the <code>@SpringBootApplication</code> already has it.</p>\n<p>See: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html</a></p>\n"}],"owner":{"account_id":26811951,"reputation":1,"user_id":20402438,"display_name":"Rosk Kruni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1667744583,"answer_count":1,"score":-1,"last_activity_date":1667748223,"creation_date":1667718888,"question_id":74333949,"body_markdown":"## Note: I&#39;m updating this since I&#39;ve found a solution.\r\n\r\nThis question is similar to https://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null, but I&#39;m using the `main()` method here. The solution is to mark `Foo` with `@Component` and autowire it into `Main` through a `@PostConstruct` method. I learned about this through https://stackoverflow.com/questions/46617044/how-to-use-autowired-autowired-references-from-mainstring-args-method\r\n\r\n### On PostContruct: https://stackoverflow.com/questions/3406555/why-use-postconstruct\r\n\r\n`@PostConstruct` makes sure all beans are fully initialized before executing (including the bean class you&#39;re actively editing).\r\n\r\nBut the bigger issue was me doing `Foo foo = new Foo()`. `foo` is outside the scope of Spring&#39;s context and 100% of it&#39;s lifecycle is managed by me. Put everything back in Spring&#39;s hands by autowiring everything:\r\n\r\n## New Main.java\r\n```\r\npackage org.example;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport javax.annotation.PostConstruct;\r\n\r\n@SpringBootApplication\r\npublic class Main {\r\n    @Autowired\r\n    Foo foo;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Main.class, args);\r\n    }\r\n\r\n    @PostConstruct\r\n    public void test() {\r\n        foo.message();\r\n    }\r\n}\r\n```\r\n\r\n## New Foo.java\r\n```\r\npackage org.example;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Configurable;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Component\r\n@Slf4j\r\npublic class Foo {\r\n\r\n    @Autowired\r\n    Bar bar;\r\n\r\n    public Foo() {\r\n        log.info(&quot;Foo bean created&quot;);\r\n    }\r\n\r\n    public void message() {\r\n        log.info(bar.getWord());\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n---\r\nThe original question is below:\r\n---\r\n\r\nI&#39;ve followed so many Spring tutorials that do it this way, and it never works on my end. No clue what I&#39;m doing wrong, but I seriously need help figuring this out.\r\n\r\n\r\n## Main.java\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Main.class, args);\r\n\r\n        Foo foo = new Foo();\r\n        foo.message();\r\n    }\r\n}\r\n```\r\n## Foo.java\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\npublic class Foo {\r\n\r\n    @Autowired\r\n    Bar bar;\r\n\r\n    public void message() {\r\n        System.out.println(bar.getWord());\r\n    }\r\n\r\n}\r\n\r\n```\r\n## Bar.java\r\n\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Bar {\r\n    String word = &quot;word&quot;;\r\n\r\n    public String getWord() {return word;}\r\n}\r\n\r\n```\r\n\r\n## pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;untitled&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen running from Main(), I get:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.example.Bar.getWord()&quot; because &quot;this.bar&quot; is null\r\n\tat org.example.Foo.message(Foo.java:11)\r\n\tat org.example.Main.main(Main.java:14)\r\n```\r\n\r\nThese are all in the same directory/package. I&#39;ve been at this for two hours and have no clue why this isn&#39;t working. Any help on this would be greatly appreciated.\r\n\r\n\r\n\r\n\r\nWhat I tried:\r\n- Using @Autowired to create a bean that I can use in another class.\r\n\r\nWhat I expected to happen:\r\n- The String `word` to be printed to the console.\r\n- My understanding is that a class that has @Component is up for grabs by Spring to be a bean if you&#39;re using @Autowired to inject it. I have met that criteria and I am not getting my expected result.\r\n\r\nWhat actually resulted:\r\n- A NullPointerException","title":"Spring Boot Autowired is throwing NullPointerException in Main() when using field","body":"<h2>Note: I'm updating this since I've found a solution.</h2>\n<p>This question is similar to <a href=\"https://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null\">Why is my Spring @Autowired field null?</a>, but I'm using the <code>main()</code> method here. The solution is to mark <code>Foo</code> with <code>@Component</code> and autowire it into <code>Main</code> through a <code>@PostConstruct</code> method. I learned about this through <a href=\"https://stackoverflow.com/questions/46617044/how-to-use-autowired-autowired-references-from-mainstring-args-method\">How to use autowired (@Autowired) references from main(String[] args) method?</a></p>\n<h3>On PostContruct: <a href=\"https://stackoverflow.com/questions/3406555/why-use-postconstruct\">Why use @PostConstruct?</a></h3>\n<p><code>@PostConstruct</code> makes sure all beans are fully initialized before executing (including the bean class you're actively editing).</p>\n<p>But the bigger issue was me doing <code>Foo foo = new Foo()</code>. <code>foo</code> is outside the scope of Spring's context and 100% of it's lifecycle is managed by me. Put everything back in Spring's hands by autowiring everything:</p>\n<h2>New Main.java</h2>\n<pre><code>package org.example;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport javax.annotation.PostConstruct;\n\n@SpringBootApplication\npublic class Main {\n    @Autowired\n    Foo foo;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    }\n\n    @PostConstruct\n    public void test() {\n        foo.message();\n    }\n}\n</code></pre>\n<h2>New Foo.java</h2>\n<pre><code>package org.example;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Configurable;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\n@Component\n@Slf4j\npublic class Foo {\n\n    @Autowired\n    Bar bar;\n\n    public Foo() {\n        log.info(&quot;Foo bean created&quot;);\n    }\n\n    public void message() {\n        log.info(bar.getWord());\n    }\n\n}\n</code></pre>\n<hr />\n<h2>The original question is below:</h2>\n<p>I've followed so many Spring tutorials that do it this way, and it never works on my end. No clue what I'm doing wrong, but I seriously need help figuring this out.</p>\n<h2>Main.java</h2>\n<pre><code>package org.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan\npublic class Main {\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n\n        Foo foo = new Foo();\n        foo.message();\n    }\n}\n</code></pre>\n<h2>Foo.java</h2>\n<pre><code>package org.example;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class Foo {\n\n    @Autowired\n    Bar bar;\n\n    public void message() {\n        System.out.println(bar.getWord());\n    }\n\n}\n\n</code></pre>\n<h2>Bar.java</h2>\n<pre><code>package org.example;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Bar {\n    String word = &quot;word&quot;;\n\n    public String getWord() {return word;}\n}\n\n</code></pre>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;untitled&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When running from Main(), I get:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.example.Bar.getWord()&quot; because &quot;this.bar&quot; is null\n    at org.example.Foo.message(Foo.java:11)\n    at org.example.Main.main(Main.java:14)\n</code></pre>\n<p>These are all in the same directory/package. I've been at this for two hours and have no clue why this isn't working. Any help on this would be greatly appreciated.</p>\n<p>What I tried:</p>\n<ul>\n<li>Using @Autowired to create a bean that I can use in another class.</li>\n</ul>\n<p>What I expected to happen:</p>\n<ul>\n<li>The String <code>word</code> to be printed to the console.</li>\n<li>My understanding is that a class that has @Component is up for grabs by Spring to be a bean if you're using @Autowired to inject it. I have met that criteria and I am not getting my expected result.</li>\n</ul>\n<p>What actually resulted:</p>\n<ul>\n<li>A NullPointerException</li>\n</ul>\n"},{"tags":["java","class","methods"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1667734795,"post_id":74335501,"comment_id":131232914,"body_markdown":"Because `publisher` is null. You never call its constructor.","body":"Because <code>publisher</code> is null. You never call its constructor."},{"owner":{"account_id":26845905,"reputation":37,"user_id":20431658,"display_name":"brah79"},"score":0,"creation_date":1667735015,"post_id":74335501,"comment_id":131232973,"body_markdown":"call it&#39;s constructor where? inside setPublisher()??","body":"call it&#39;s constructor where? inside setPublisher()??"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1667735369,"post_id":74335501,"comment_id":131233042,"body_markdown":"That&#39;s an option, yes. However, that would always make a new publisher, and only you know if that&#39;s what you want. A better design would be for the setter to take a single parameter of `Publisher` type. In which case you might want to initialise `publisher`in the constructor of the `Cd` class. Or not at all if you are going to set it with the setter anyway.","body":"That&#39;s an option, yes. However, that would always make a new publisher, and only you know if that&#39;s what you want. A better design would be for the setter to take a single parameter of <code>Publisher</code> type. In which case you might want to initialise <code>publisher</code>in the constructor of the <code>Cd</code> class. Or not at all if you are going to set it with the setter anyway."}],"answers":[{"tags":[],"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667736681,"creation_date":1667735575,"answer_id":74335640,"question_id":74335501,"body_markdown":"How about this way?\r\n\r\n    public void setPublisher(String name, String phoneNumber) {\r\n        this.publisher = new Publisher();\r\n        this.publisher.setName(name);\r\n        this.publisher.setPhoneNumber(phoneNumber);\r\n    }\r\n\r\nAnother way this could be modeled would be as follows\r\n\r\n    class CD {\r\n       private String title;\r\n       private String artist;\r\n       private Publisher publisher;\r\n\r\n       public void setPublisher(Publisher publisher) {\r\n          this.publisher = publisher;\r\n       }\r\n\r\n       public static void main(String args[]) {\r\n          Publisher publisher = new Publisher();\r\n          publisher.setName(&quot;something&quot;);\r\n          publisher.setPhoneNumber(&quot;something&quot;);\r\n          CD cd = new CD();\r\n          cd.setPublisher(publisher);\r\n       }\r\n    }\r\n\r\nNote: I only created the main method in the class for the demonstration. Basically if you want single reference to Publisher for multiple CD(s); than the publisher must be created outside CD and passed in as an argument.","title":"how to create a method with parameters in one class to initialize another class members","body":"<p>How about this way?</p>\n<pre><code>public void setPublisher(String name, String phoneNumber) {\n    this.publisher = new Publisher();\n    this.publisher.setName(name);\n    this.publisher.setPhoneNumber(phoneNumber);\n}\n</code></pre>\n<p>Another way this could be modeled would be as follows</p>\n<pre><code>class CD {\n   private String title;\n   private String artist;\n   private Publisher publisher;\n\n   public void setPublisher(Publisher publisher) {\n      this.publisher = publisher;\n   }\n\n   public static void main(String args[]) {\n      Publisher publisher = new Publisher();\n      publisher.setName(&quot;something&quot;);\n      publisher.setPhoneNumber(&quot;something&quot;);\n      CD cd = new CD();\n      cd.setPublisher(publisher);\n   }\n}\n</code></pre>\n<p>Note: I only created the main method in the class for the demonstration. Basically if you want single reference to Publisher for multiple CD(s); than the publisher must be created outside CD and passed in as an argument.</p>\n"}],"owner":{"account_id":26845905,"reputation":37,"user_id":20431658,"display_name":"brah79"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1667747551,"answer_count":1,"score":-1,"last_activity_date":1667747544,"creation_date":1667734582,"question_id":74335501,"body_markdown":"I have a Java coding problem that I have been trying to figure out for days without any success, so I hope someone can help. I created a class called Publisher with two member variables in it. One is called name and the other is phone number. Then I created a new class called cd with other variables like titel and artist but also a Publisher variable called publisher. Now, this is where I encountered the problem. \r\n\r\nI tried to create a parameterized  method called setPublisher inside the cd class. The method takes a string name and a string phone number. It&#39;s supposed to initialize the Publisher class members, but it doesn&#39;t. So, when I call setPublisher from main(), it throws an error. \r\n\r\nThis is my code: \r\n\r\nThis is the Publisher class\r\n```java\r\npublic class Publisher {\r\n\r\n\tprivate String name;\r\n\tprivate String phoneNumber;\r\n}\r\n```\r\nThis is the cd class with the setPublisher method\r\n```java\r\npublic class Cd {\r\n\t\r\n\tprivate String titel;\r\n\tprivate String artist;\r\n\tprivate int length;\r\n\tPublisher publisher;\r\n\r\n    public void setPublisher(String name, String phoneNumber) {\r\n\t\tpublisher.setName(name);\r\n\t\tpublisher.setPhoneNumber(phoneNumber);\r\n\t}\r\n}\r\n```\r\nI get this error\r\n\r\n&gt; java.lang.NullPointerException\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"how to create a method with parameters in one class to initialize another class members","body":"<p>I have a Java coding problem that I have been trying to figure out for days without any success, so I hope someone can help. I created a class called Publisher with two member variables in it. One is called name and the other is phone number. Then I created a new class called cd with other variables like titel and artist but also a Publisher variable called publisher. Now, this is where I encountered the problem.</p>\n<p>I tried to create a parameterized  method called setPublisher inside the cd class. The method takes a string name and a string phone number. It's supposed to initialize the Publisher class members, but it doesn't. So, when I call setPublisher from main(), it throws an error.</p>\n<p>This is my code:</p>\n<p>This is the Publisher class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Publisher {\n\n    private String name;\n    private String phoneNumber;\n}\n</code></pre>\n<p>This is the cd class with the setPublisher method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cd {\n    \n    private String titel;\n    private String artist;\n    private int length;\n    Publisher publisher;\n\n    public void setPublisher(String name, String phoneNumber) {\n        publisher.setName(name);\n        publisher.setPhoneNumber(phoneNumber);\n    }\n}\n</code></pre>\n<p>I get this error</p>\n<blockquote>\n<p>java.lang.NullPointerException</p>\n</blockquote>\n"},{"tags":["java","parsing","left-recursion"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1667748930,"post_id":74335833,"comment_id":131235967,"body_markdown":"I suspect that a parser is more technology than your project needs.  If I understand your example correctly, `({w1 w2 w3} &amp; !w4) | (w5 &amp; &quot;mark likes food&quot;)` translates to; get five words from some list.  The document must either contain w1, w2, and w3 in any order and not w4 or w5 and the exact phrase `&quot;mark likes food&quot;`.  If my understanding is correct, you just parse the `String` and put the words from some list into a `java.util.List` and taking one word or phrase at a time, search the document for the presence or absence of that word or phrase.","body":"I suspect that a parser is more technology than your project needs.  If I understand your example correctly, <code>({w1 w2 w3} &amp; !w4) | (w5 &amp; &quot;mark likes food&quot;)</code> translates to; get five words from some list.  The document must either contain w1, w2, and w3 in any order and not w4 or w5 and the exact phrase <code>&quot;mark likes food&quot;</code>.  If my understanding is correct, you just parse the <code>String</code> and put the words from some list into a <code>java.util.List</code> and taking one word or phrase at a time, search the document for the presence or absence of that word or phrase."},{"owner":{"account_id":12978637,"reputation":3,"user_id":9381861,"display_name":"Jafeth"},"score":0,"creation_date":1667751775,"post_id":74335833,"comment_id":131236625,"body_markdown":"Thanks for the response. I have thought about this, but I don&#39;t see any other way. How would I be able to correctly evaluate very complex expressions in the correct order, following the right logic, nested parentheses, etc., if not with a parser?","body":"Thanks for the response. I have thought about this, but I don&#39;t see any other way. How would I be able to correctly evaluate very complex expressions in the correct order, following the right logic, nested parentheses, etc., if not with a parser?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1667781202,"post_id":74335833,"comment_id":131242418,"body_markdown":"You may not have covered this in class, but one way to handle complex expressions is with [Reverse Polish notation](https://en.wikipedia.org/wiki/Reverse_Polish_notation) or postfix notation.","body":"You may not have covered this in class, but one way to handle complex expressions is with <a href=\"https://en.wikipedia.org/wiki/Reverse_Polish_notation\" rel=\"nofollow noreferrer\">Reverse Polish notation</a> or postfix notation."},{"owner":{"account_id":12978637,"reputation":3,"user_id":9381861,"display_name":"Jafeth"},"score":0,"creation_date":1667925270,"post_id":74335833,"comment_id":131282033,"body_markdown":"Managed to implement it with a shunting yard, didn&#39;t know it existed before. You saved my ass buddy!","body":"Managed to implement it with a shunting yard, didn&#39;t know it existed before. You saved my ass buddy!"}],"owner":{"account_id":12978637,"reputation":3,"user_id":9381861,"display_name":"Jafeth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667747278,"creation_date":1667737413,"question_id":74335833,"body_markdown":"I&#39;m trying to create a logical boolean expression parser that evaluates if the words in the expression correlate to the content of the document.\r\n\r\nAfter many many hours of research (I had no idea about parsers and all their theory before this), I find myself unable to successfully create a valid grammar that does not suffer from left hand recursion, or just straight up something that works correctly, and I&#39;m getting quite frustrated as none of this theory was explained to us in class.\r\n\r\nBasically, I need to parse expressions of the likes of: ({w1 w2 w3} &amp; !w4) | (w5 &amp; &quot;mark likes food&quot;), where {} represents a set of words that must be in the document, and &quot;&quot; a string literal that must be in the document.\r\n\r\nI came up with the tokens \\[AND, OR, NOT, LPAREN, RPAREN, LSET, RSET, LSEQ, RSEQ, WRD\\]. So that the expression (w1 &amp; {w2 w2}) would become \\[LPAREN WRD AND LSET WRD WRD RSET RPAREN\\].\r\n\r\nBut I&#39;m having trouble with the grammar that makes it possible to be parsed. On my very first try I came up with:\r\n\r\nS -&gt; E\r\n\r\nE -&gt; T AND T | T OR T | T\r\n\r\nT -&gt; LSET W RSET | LSEQ W RSEQ | LPAREN E RPAREN |NOT E |WRD\r\n\r\nW -&gt; WRD* *\\[don&#39;t really know how to write this formally, but this only accepts an array of WRD tokens until RPAREN or RSEQ depending on which one it started with.\\]*\r\n\r\nThis obviously doesn&#39;t work at all because the expression isn&#39;t evaluated entirely (it stops after first return), the parenthesis are not correctly taken care of, among other problems.\r\nIt has been a couple of days I can&#39;t seem to come up with something useful, pls help.\r\n\r\nFor the code I took inspiration in [this](https://stackoverflow.com/questions/69292555/parse-boolean-expression-in-java) but I think it doesn&#39;t really fit my problem.\r\n\r\ncode (I&#39;ve tested the tokenizer and it works correctly):\r\n\r\n```\r\npublic class BoolExprParser {\r\n\r\n    private final String expression;\r\n    private final BoolExprTokenizer tokenizer;\r\n    private BoolExprTokenizer.Token currentToken;\r\n\r\n    private void advance() {\r\n        currentToken = tokenizer.getNext();\r\n    }\r\n\r\n    private boolean currentEquals(BoolExprTokenizer.Token t) {\r\n        return currentToken == t;\r\n    }\r\n\r\n    private boolean parse(Document doc) {\r\n        advance();\r\n        boolean val = expr(doc);\r\n        if (!currentEquals(BoolExprTokenizer.Token.END)) {\r\n            // error\r\n        }\r\n\r\n        return val;\r\n    }\r\n\r\n    private boolean expr(Document doc) {\r\n        boolean leftExpr = subExpr(doc);\r\n        switch (currentToken) {\r\n            case AND:\r\n                advance();\r\n                boolean rightExpr = subExpr(doc);\r\n                return leftExpr &amp;&amp; rightExpr;\r\n            case OR:\r\n                advance();\r\n                rightExpr = subExpr(doc);\r\n                return leftExpr || rightExpr;\r\n            case END:\r\n                return leftExpr;\r\n            default:\r\n                //error\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private boolean subExpr(Document doc) {\r\n        switch (currentToken) {\r\n            case NOT:\r\n                advance();\r\n                boolean result = expr(doc);\r\n                return !result;\r\n            case WRD:\r\n                advance();\r\n                return doc.isWord(tokenizer.getWord());\r\n            case LSet:\r\n                advance();\r\n                boolean wordsInsideSet = wordsSet(doc);\r\n                if (!currentEquals(BoolExprTokenizer.Token.RSet)) {\r\n                    // error\r\n                } else {\r\n                    advance();\r\n                }\r\n                return wordsInsideSet;\r\n            case LP:\r\n                advance();\r\n                boolean exprInside = expr(doc);\r\n                if (!currentEquals(BoolExprTokenizer.Token.RP)) {\r\n                    // error\r\n                } else {\r\n                    advance();\r\n                }\r\n                return exprInside;\r\n            default:\r\n                // error\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private boolean wordsSet(Document doc) {\r\n        boolean validToken = currentEquals(BoolExprTokenizer.Token.WRD);\r\n        boolean isInDoc = true;\r\n\r\n        while (validToken) {\r\n            if (isInDoc) isInDoc = doc.isWord(tokenizer.getWord());\r\n            advance();\r\n            validToken = currentEquals(BoolExprTokenizer.Token.WRD);\r\n        }\r\n\r\n        if (!currentEquals(BoolExprTokenizer.Token.RSet)) {\r\n            // error\r\n        }\r\n\r\n        return isInDoc;\r\n    }\r\n}\r\n```\r\n\r\n\\`","title":"Parsing a custom boolean logical expression in java","body":"<p>I'm trying to create a logical boolean expression parser that evaluates if the words in the expression correlate to the content of the document.</p>\n<p>After many many hours of research (I had no idea about parsers and all their theory before this), I find myself unable to successfully create a valid grammar that does not suffer from left hand recursion, or just straight up something that works correctly, and I'm getting quite frustrated as none of this theory was explained to us in class.</p>\n<p>Basically, I need to parse expressions of the likes of: ({w1 w2 w3} &amp; !w4) | (w5 &amp; &quot;mark likes food&quot;), where {} represents a set of words that must be in the document, and &quot;&quot; a string literal that must be in the document.</p>\n<p>I came up with the tokens [AND, OR, NOT, LPAREN, RPAREN, LSET, RSET, LSEQ, RSEQ, WRD]. So that the expression (w1 &amp; {w2 w2}) would become [LPAREN WRD AND LSET WRD WRD RSET RPAREN].</p>\n<p>But I'm having trouble with the grammar that makes it possible to be parsed. On my very first try I came up with:</p>\n<p>S -&gt; E</p>\n<p>E -&gt; T AND T | T OR T | T</p>\n<p>T -&gt; LSET W RSET | LSEQ W RSEQ | LPAREN E RPAREN |NOT E |WRD</p>\n<p>W -&gt; WRD* <em>[don't really know how to write this formally, but this only accepts an array of WRD tokens until RPAREN or RSEQ depending on which one it started with.]</em></p>\n<p>This obviously doesn't work at all because the expression isn't evaluated entirely (it stops after first return), the parenthesis are not correctly taken care of, among other problems.\nIt has been a couple of days I can't seem to come up with something useful, pls help.</p>\n<p>For the code I took inspiration in <a href=\"https://stackoverflow.com/questions/69292555/parse-boolean-expression-in-java\">this</a> but I think it doesn't really fit my problem.</p>\n<p>code (I've tested the tokenizer and it works correctly):</p>\n<pre><code>public class BoolExprParser {\n\n    private final String expression;\n    private final BoolExprTokenizer tokenizer;\n    private BoolExprTokenizer.Token currentToken;\n\n    private void advance() {\n        currentToken = tokenizer.getNext();\n    }\n\n    private boolean currentEquals(BoolExprTokenizer.Token t) {\n        return currentToken == t;\n    }\n\n    private boolean parse(Document doc) {\n        advance();\n        boolean val = expr(doc);\n        if (!currentEquals(BoolExprTokenizer.Token.END)) {\n            // error\n        }\n\n        return val;\n    }\n\n    private boolean expr(Document doc) {\n        boolean leftExpr = subExpr(doc);\n        switch (currentToken) {\n            case AND:\n                advance();\n                boolean rightExpr = subExpr(doc);\n                return leftExpr &amp;&amp; rightExpr;\n            case OR:\n                advance();\n                rightExpr = subExpr(doc);\n                return leftExpr || rightExpr;\n            case END:\n                return leftExpr;\n            default:\n                //error\n        }\n\n        return false;\n    }\n\n    private boolean subExpr(Document doc) {\n        switch (currentToken) {\n            case NOT:\n                advance();\n                boolean result = expr(doc);\n                return !result;\n            case WRD:\n                advance();\n                return doc.isWord(tokenizer.getWord());\n            case LSet:\n                advance();\n                boolean wordsInsideSet = wordsSet(doc);\n                if (!currentEquals(BoolExprTokenizer.Token.RSet)) {\n                    // error\n                } else {\n                    advance();\n                }\n                return wordsInsideSet;\n            case LP:\n                advance();\n                boolean exprInside = expr(doc);\n                if (!currentEquals(BoolExprTokenizer.Token.RP)) {\n                    // error\n                } else {\n                    advance();\n                }\n                return exprInside;\n            default:\n                // error\n        }\n\n        return false;\n    }\n\n    private boolean wordsSet(Document doc) {\n        boolean validToken = currentEquals(BoolExprTokenizer.Token.WRD);\n        boolean isInDoc = true;\n\n        while (validToken) {\n            if (isInDoc) isInDoc = doc.isWord(tokenizer.getWord());\n            advance();\n            validToken = currentEquals(BoolExprTokenizer.Token.WRD);\n        }\n\n        if (!currentEquals(BoolExprTokenizer.Token.RSet)) {\n            // error\n        }\n\n        return isInDoc;\n    }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":5,"creation_date":1667740310,"post_id":74336067,"comment_id":131234022,"body_markdown":"It&#39;s a bit hard to understand why wouldn&#39;t you want to wrap the SQLException directly and instead wan&#39;t to wrap its cause? Of course you could do that, but what are you trying to achieve with this technique?","body":"It&#39;s a bit hard to understand why wouldn&#39;t you want to wrap the SQLException directly and instead wan&#39;t to wrap its cause? Of course you could do that, but what are you trying to achieve with this technique?"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1667745858,"post_id":74336067,"comment_id":131235275,"body_markdown":"@Tarmo I guess what i was thinking was, i dont my exception classes to know about the SQLException. Only the DAO layer would know. And there was a typo above","body":"@Tarmo I guess what i was thinking was, i dont my exception classes to know about the SQLException. Only the DAO layer would know. And there was a typo above"}],"answers":[{"tags":[],"owner":{"account_id":14467547,"reputation":41,"user_id":10450476,"display_name":"Tyr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667740315,"creation_date":1667740003,"answer_id":74336111,"question_id":74336067,"body_markdown":"You can inherit your exception from Exception like \r\n\r\n    MyException extends Exception {\r\n\r\n    }\r\n\r\nand then use try catch like :\r\n\r\n   \r\n\r\n    try {\r\n        dao.readPerson();\r\n    } catch (MyException ex) {\r\n        // handle Exception\r\n    }\r\n\r\nby doing this you can do whatever you want in your class and i think its cleaner than other ways.\r\nIt will trigger automatically so you dont need to raise an exception.\r\n\r\nIf you want to catch SQL Exceptions only you can ***inherit MyException from SqlException*** so it will only trigger when SqlException happens  ","title":"Wrapping exceptions in java, best way","body":"<p>You can inherit your exception from Exception like</p>\n<pre><code>MyException extends Exception {\n\n}\n</code></pre>\n<p>and then use try catch like :</p>\n<pre><code>try {\n    dao.readPerson();\n} catch (MyException ex) {\n    // handle Exception\n}\n</code></pre>\n<p>by doing this you can do whatever you want in your class and i think its cleaner than other ways.\nIt will trigger automatically so you dont need to raise an exception.</p>\n<p>If you want to catch SQL Exceptions only you can <em><strong>inherit MyException from SqlException</strong></em> so it will only trigger when SqlException happens</p>\n"},{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667747219,"creation_date":1667747219,"answer_id":74337026,"question_id":74336067,"body_markdown":"I understand that you worry about the catching part of your code knowing about the wrapped exception. In &quot;not knowing&quot; there are different layers. \r\n\r\nLevel 1: Nothing obligates the catching class to get the cause and therefor explicitly knowing about the `SQLException`. They just catch the `MyException` and don&#39;t care what&#39;s wrapped in it. Usually that&#39;s enough. \r\n\r\nLevel 2. Another level of not knowing is restricting the catching class to even have access to the wrapped exception. In that case why wrap it at all? Just catch the `SQLException` in your DAO layer and throw `MyException` without wrapping the original exception in it.\r\n\r\nAbout wrapping the causing Exception instead of the original one. You could do that but you might lose valuable information so 99% of the time it&#39;s not recommended. There are some corner cases where I&#39;ve done it though. Let&#39;s say you throwing code runs asynchronously through `ExecutorService`. Then if an exception is thrown it&#39;s wrapped to `ExecutionException`, but as a caller I might not be interested that the code ran asynchronously so I catch the `ExecutionException`, get it&#39;s cause (the actual exception that happened) and wrap that to my custom exception.","title":"Wrapping exceptions in java, best way","body":"<p>I understand that you worry about the catching part of your code knowing about the wrapped exception. In &quot;not knowing&quot; there are different layers.</p>\n<p>Level 1: Nothing obligates the catching class to get the cause and therefor explicitly knowing about the <code>SQLException</code>. They just catch the <code>MyException</code> and don't care what's wrapped in it. Usually that's enough.</p>\n<p>Level 2. Another level of not knowing is restricting the catching class to even have access to the wrapped exception. In that case why wrap it at all? Just catch the <code>SQLException</code> in your DAO layer and throw <code>MyException</code> without wrapping the original exception in it.</p>\n<p>About wrapping the causing Exception instead of the original one. You could do that but you might lose valuable information so 99% of the time it's not recommended. There are some corner cases where I've done it though. Let's say you throwing code runs asynchronously through <code>ExecutorService</code>. Then if an exception is thrown it's wrapped to <code>ExecutionException</code>, but as a caller I might not be interested that the code ran asynchronously so I catch the <code>ExecutionException</code>, get it's cause (the actual exception that happened) and wrap that to my custom exception.</p>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1667747219,"creation_date":1667739698,"question_id":74336067,"body_markdown":"So im reading the below and i understand why you would do it..\r\nhttps://jenkov.com/tutorials/java-exception-handling/exception-wrapping.html\r\n\r\nexample :\r\n\r\n       try{\r\n            dao.readPerson();\r\n        } catch (SQLException sqlException) {\r\n            throw new MyException(&quot;error text&quot;, sqlException);\r\n        }\r\n\r\nSo what if i want to isolate all external exceptions inside the dao layer only, and only use my exceptions. so in the above example i dont want to send SQLEXception inside the constructor, would doing the below be enough. Would it contain enough information :\r\n\r\n            throw new MyException(&quot;error text&quot;, sqlException);\r\n\r\n\r\nor maybe my constructor should be the following instead\r\n\r\n    public MyException(String text,Exception ex)","title":"Wrapping exceptions in java, best way","body":"<p>So im reading the below and i understand why you would do it..\n<a href=\"https://jenkov.com/tutorials/java-exception-handling/exception-wrapping.html\" rel=\"nofollow noreferrer\">https://jenkov.com/tutorials/java-exception-handling/exception-wrapping.html</a></p>\n<p>example :</p>\n<pre><code>   try{\n        dao.readPerson();\n    } catch (SQLException sqlException) {\n        throw new MyException(&quot;error text&quot;, sqlException);\n    }\n</code></pre>\n<p>So what if i want to isolate all external exceptions inside the dao layer only, and only use my exceptions. so in the above example i dont want to send SQLEXception inside the constructor, would doing the below be enough. Would it contain enough information :</p>\n<pre><code>        throw new MyException(&quot;error text&quot;, sqlException);\n</code></pre>\n<p>or maybe my constructor should be the following instead</p>\n<pre><code>public MyException(String text,Exception ex)\n</code></pre>\n"},{"tags":["java","slf4j"],"answers":[{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1427896343,"creation_date":1427896343,"answer_id":29392637,"question_id":29392311,"body_markdown":"For a library, you should only include `slf4j-api.jar`. This means that in your code, you should only use classes within SLF4J&#39;s API, i.e. `LoggerFactory` and `Logger`.\r\n\r\nYour library should not define anything else regarding logging. It&#39;s the responsibility of the application that uses your library to define the underlying logging implementation (logback, log4j, jcl, etc) and include the necessary *bindings*, as well as the underlying logging platform&#39;s configuration, such as a `logback.xml` file.\r\n\r\nPlease refer to the [SLF4J manual][1] for further reference.\r\n\r\n\r\n  [1]: http://www.slf4j.org/manual.html","title":"Config SLF4J in jar file","body":"<p>For a library, you should only include <code>slf4j-api.jar</code>. This means that in your code, you should only use classes within SLF4J's API, i.e. <code>LoggerFactory</code> and <code>Logger</code>.</p>\n\n<p>Your library should not define anything else regarding logging. It's the responsibility of the application that uses your library to define the underlying logging implementation (logback, log4j, jcl, etc) and include the necessary <em>bindings</em>, as well as the underlying logging platform's configuration, such as a <code>logback.xml</code> file.</p>\n\n<p>Please refer to the <a href=\"http://www.slf4j.org/manual.html\" rel=\"nofollow\">SLF4J manual</a> for further reference.</p>\n"},{"tags":[],"owner":{"account_id":3348783,"reputation":4096,"user_id":2813306,"accept_rate":70,"display_name":"Davis Broda"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1667746439,"creation_date":1427896356,"answer_id":29392642,"question_id":29392311,"body_markdown":"To log something using slf4j, you must include the slf4j-api jar in your application. This is the bare minimum that is nessesary for slf4j logging. If using maven, it can be included in the pom as shown below\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.7.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHowever the default logging behavior in slf4j is very simple. In nearly all circumstances you will want to send slf4j logs to a logging framework, which can perform more complex logging. There are several jars that can be included to accomplish this. I use log4j, so the examples below are for that framework. In order to log over log4j, slf4j-log4j12 jar is needed. \r\n\r\nPom dependancy\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.7.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nFrom there all slf4j logs will be redirected to log4j, which will work normally. Configure it through a log4j.properties file. The below example log4j.properties will log things both to the console, and to the `/tmp/logfile.log` file. remove the console appender to only log to the file.\r\n\r\n```properties\r\n# Root logger option\r\nlog4j.rootLogger=INFO, stdout, file\r\n \r\n# Redirect log messages to console\r\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.stdout.Target=System.out\r\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\r\n\r\n# Redirect log messages to a log file, support file rolling.\r\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.file.File=/tmp/logfile.log\r\nlog4j.appender.file.MaxFileSize=5MB\r\nlog4j.appender.file.MaxBackupIndex=10\r\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n```\r\nIf you want to log with a different framework, include the appropriate jar, and configure the underlying framework as you otherwise would.\r\n\r\n","title":"Config SLF4J in jar file","body":"<p>To log something using slf4j, you must include the slf4j-api jar in your application. This is the bare minimum that is nessesary for slf4j logging. If using maven, it can be included in the pom as shown below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However the default logging behavior in slf4j is very simple. In nearly all circumstances you will want to send slf4j logs to a logging framework, which can perform more complex logging. There are several jars that can be included to accomplish this. I use log4j, so the examples below are for that framework. In order to log over log4j, slf4j-log4j12 jar is needed.</p>\n<p>Pom dependancy</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;1.7.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>From there all slf4j logs will be redirected to log4j, which will work normally. Configure it through a log4j.properties file. The below example log4j.properties will log things both to the console, and to the <code>/tmp/logfile.log</code> file. remove the console appender to only log to the file.</p>\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, stdout, file\n \n# Redirect log messages to console\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\n\n# Redirect log messages to a log file, support file rolling.\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=/tmp/logfile.log\nlog4j.appender.file.MaxFileSize=5MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n<p>If you want to log with a different framework, include the appropriate jar, and configure the underlying framework as you otherwise would.</p>\n"},{"tags":[],"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1427897681,"creation_date":1427897681,"answer_id":29393142,"question_id":29392311,"body_markdown":"SLF4J is not a logger, therefore you cannot configure anything. Use Logback.","title":"Config SLF4J in jar file","body":"<p>SLF4J is not a logger, therefore you cannot configure anything. Use Logback.</p>\n"}],"owner":{"account_id":484421,"reputation":5836,"user_id":900081,"accept_rate":58,"display_name":"D&#233;bora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2369,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1667746439,"creation_date":1427895530,"question_id":29392311,"body_markdown":"I have my own jar file which is used as a library for my main application. I need to set SLF4J as my logger and configure it in my jar.  \r\n\r\n - Write logs into a file\r\n - Set other configurations in a property file  \r\n\r\nWhen it is googled, there are samples for web apps. Any one let me know how to do above functionalities or mention any useful resource.\r\n\r\n  ","title":"Config SLF4J in jar file","body":"<p>I have my own jar file which is used as a library for my main application. I need to set SLF4J as my logger and configure it in my jar.  </p>\n\n<ul>\n<li>Write logs into a file</li>\n<li>Set other configurations in a property file  </li>\n</ul>\n\n<p>When it is googled, there are samples for web apps. Any one let me know how to do above functionalities or mention any useful resource.</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":14202984,"reputation":1214,"user_id":10260396,"display_name":"Qingfei Yuan"},"score":0,"creation_date":1560439544,"post_id":56583423,"comment_id":99745732,"body_markdown":"seems duplicate https://stackoverflow.com/questions/38572566/warning-equals-hashcode-on-data-annotation-lombok-with-inheritance","body":"seems duplicate <a href=\"https://stackoverflow.com/questions/38572566/warning-equals-hashcode-on-data-annotation-lombok-with-inheritance\" title=\"warning equals hashcode on data annotation lombok with inheritance\">stackoverflow.com/questions/38572566/&hellip;</a>"},{"owner":{"account_id":8646314,"reputation":2159,"user_id":6473398,"display_name":"sfiss"},"score":1,"creation_date":1560439609,"post_id":56583423,"comment_id":99745769,"body_markdown":"I disagree (it is not a duplicate), this question also has the problem of using @Builder with inheritance. It is poorly named and apparantly the problem was not correctly identified by the OP.","body":"I disagree (it is not a duplicate), this question also has the problem of using @Builder with inheritance. It is poorly named and apparantly the problem was not correctly identified by the OP."}],"answers":[{"tags":[],"owner":{"account_id":8646314,"reputation":2159,"user_id":6473398,"display_name":"sfiss"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1560447064,"creation_date":1560439530,"answer_id":56583852,"question_id":56583423,"body_markdown":"There are multiple problems here, all of them relating to using lombok with inheritance:\r\n\r\n1. \r\n&gt; Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object. If this is \r\n     intentional, add &#39;@EqualsAndHashCode(callSuper=false)&#39; to your type.\r\n\r\nThe warning is given by `@Data` because that usually generates equals/hashcode without the call to super. Fix it by adding `@EqualsAndHashCode(callSuper = true)`.\r\n\r\n2. The `@Builder` gives you a compile warning because it will generate two static methods with the same name in both the super- and the subclass. Fix it by defining `@Builder(builderMethodName = &quot;studentBuilder&quot;)` on `Student`.\r\n\r\n3. You won&#39;t be able to set superclass properties on you studentBuilder because your superclass and subclass have a default constructor. Fix it by creating a constructor and moving the `@Builder` annotation to it (i.e. _annotate the constructor with `@Builder`, not the class_):\r\n\r\nCode:\r\n\r\n\t@Builder(builderMethodName = &quot;studentBuilder&quot;)\r\n\tpublic Student(\r\n\t\tfinal String firstName,\r\n\t\tfinal String lastName,\r\n\t\tfinal String id,\r\n\t\tfinal String version) {\r\n\t\tsuper(id, version);\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\nCall your builder with the correct method (`IModel.builder()` vs `Student.studentBuilder()`):\r\n\r\n    Student.studentBuilder().firstName(&quot;Name&quot;).build();\r\n\r\n----\r\n\r\nI also want to add some improvements to the above solution. While I like lombok as a tool (I really don&#39;t need to _read_ that much boilerplate), the first solution to preventing boilerplate is to think whether you need all those getters and setters and ask yourself these questions:\r\n\r\n- Do you want bags of data? It is fine for some use cases, in others you want objects more in the sense of OOP, i.e. don&#39;t expose your state but behavior.\r\n\r\n- Do you really need mutability? If not, prefer `@Value`.\r\n\r\n- Do you really need both constructor types (especially the no-args-constructor)? They are part of the problem here. Sometimes you need them for frameworks (proxies, reflection, ...) to work properly.\r\n\r\n- More specific to your code: You prefixed the superclass with &quot;I&quot; but it is not an interface. If it is meant as an abstract class, declare it `abstract` and don&#39;t give it a `@Builder`.","title":"Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object","body":"<p>There are multiple problems here, all of them relating to using lombok with inheritance:</p>\n\n<ol>\n<li><blockquote>\n  <p>Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object. If this is \n   intentional, add '@EqualsAndHashCode(callSuper=false)' to your type.</p>\n</blockquote></li>\n</ol>\n\n<p>The warning is given by <code>@Data</code> because that usually generates equals/hashcode without the call to super. Fix it by adding <code>@EqualsAndHashCode(callSuper = true)</code>.</p>\n\n<ol start=\"2\">\n<li><p>The <code>@Builder</code> gives you a compile warning because it will generate two static methods with the same name in both the super- and the subclass. Fix it by defining <code>@Builder(builderMethodName = \"studentBuilder\")</code> on <code>Student</code>.</p></li>\n<li><p>You won't be able to set superclass properties on you studentBuilder because your superclass and subclass have a default constructor. Fix it by creating a constructor and moving the <code>@Builder</code> annotation to it (i.e. <em>annotate the constructor with <code>@Builder</code>, not the class</em>):</p></li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>@Builder(builderMethodName = \"studentBuilder\")\npublic Student(\n    final String firstName,\n    final String lastName,\n    final String id,\n    final String version) {\n    super(id, version);\n    this.firstName = firstName;\n    this.lastName = lastName;\n}\n</code></pre>\n\n<p>Call your builder with the correct method (<code>IModel.builder()</code> vs <code>Student.studentBuilder()</code>):</p>\n\n<pre><code>Student.studentBuilder().firstName(\"Name\").build();\n</code></pre>\n\n<hr>\n\n<p>I also want to add some improvements to the above solution. While I like lombok as a tool (I really don't need to <em>read</em> that much boilerplate), the first solution to preventing boilerplate is to think whether you need all those getters and setters and ask yourself these questions:</p>\n\n<ul>\n<li><p>Do you want bags of data? It is fine for some use cases, in others you want objects more in the sense of OOP, i.e. don't expose your state but behavior.</p></li>\n<li><p>Do you really need mutability? If not, prefer <code>@Value</code>.</p></li>\n<li><p>Do you really need both constructor types (especially the no-args-constructor)? They are part of the problem here. Sometimes you need them for frameworks (proxies, reflection, ...) to work properly.</p></li>\n<li><p>More specific to your code: You prefixed the superclass with \"I\" but it is not an interface. If it is meant as an abstract class, declare it <code>abstract</code> and don't give it a <code>@Builder</code>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10775305,"reputation":668,"user_id":7927573,"display_name":"Oguzhan Cevik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1628241552,"creation_date":1628241552,"answer_id":68679168,"question_id":56583423,"body_markdown":"You can use [@sfiss][1] solution \r\n\r\nor \r\n\r\nYou can use `@Getter` and `@Setter` annotations instead of `@Data` annotation. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56583852/7927573","title":"Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object","body":"<p>You can use <a href=\"https://stackoverflow.com/a/56583852/7927573\">@sfiss</a> solution</p>\n<p>or</p>\n<p>You can use <code>@Getter</code> and <code>@Setter</code> annotations instead of <code>@Data</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":21071281,"reputation":86,"user_id":15487484,"display_name":"Albert Bici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654101978,"creation_date":1654101978,"answer_id":72465436,"question_id":56583423,"body_markdown":"I had the same problem and i resolved it **in this way** hope it helps you.\r\nThat **help** you **also** with **abstract classes**\r\n\r\n**Student.java**\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class Student extends IModel {\r\n    @NotEmpty(message = &quot;{email.notempty}&quot;)\r\n    @Email\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    @Builder\r\n    public Student(final String firstName, final String lastName, final String id, final String version) {\r\n        super(id, version);\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n}\r\n```\r\n**IModel.java**\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class IModel {\r\n    private String id;\r\n    private String version;\r\n}\r\n```","title":"Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object","body":"<p>I had the same problem and i resolved it <strong>in this way</strong> hope it helps you.\nThat <strong>help</strong> you <strong>also</strong> with <strong>abstract classes</strong></p>\n<p><strong>Student.java</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(callSuper = true)\npublic class Student extends IModel {\n    @NotEmpty(message = &quot;{email.notempty}&quot;)\n    @Email\n    private String firstName;\n    private String lastName;\n\n    @Builder\n    public Student(final String firstName, final String lastName, final String id, final String version) {\n        super(id, version);\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<p><strong>IModel.java</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class IModel {\n    private String id;\n    private String version;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13857114,"reputation":91,"user_id":10003625,"display_name":"William Yu"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1663089534,"creation_date":1660556873,"answer_id":73359323,"question_id":56583423,"body_markdown":"## The warning from building a Spring Boot project\r\n\r\nWhen I built my Spring boot project, I got 20 warnings about a same thing. The warning shows: `Generating equals/hashCode implementation but without a call to superclass`\r\n\r\n## Description of the warning\r\n\r\nThis warning is from lombook, it happens when we inherit a child class from parent class by using @Data @ToString @EqualsAndHashCode, IDE will trigger the warning: `Generating equals/hashCode implementation but without a call to superclass` .\r\n\r\n## Solution\r\n\r\nThere are two solutions:\r\n\r\n1. add annotation `@EqualsAndHashCode(callSuper = true)` on the class\r\n2. create lombook config file in the project root path: `src/main/java`. Note: this solution requires the version of lombook &gt; 1.14.\r\n\r\nI recommend the solution 2, since you will not need to add the annotation to all the required classes. \r\n\r\nTo impletement the solution, you need to create `lombok.config` in the path of `src/main/java`. If you have more than one packages, you may need to create multiple config files. \r\n\r\nThe content of the config file includes:\r\n\r\n```` \r\nconfig.stopBubbling=true\r\nlombok.equalsAndHashCode.callSuper=call\r\n````\r\n\r\nWhen we rebuild our project, you will not get these warnings anymore. \r\n\r\nCheers!","title":"Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object","body":"<h2>The warning from building a Spring Boot project</h2>\n<p>When I built my Spring boot project, I got 20 warnings about a same thing. The warning shows: <code>Generating equals/hashCode implementation but without a call to superclass</code></p>\n<h2>Description of the warning</h2>\n<p>This warning is from lombook, it happens when we inherit a child class from parent class by using @Data @ToString @EqualsAndHashCode, IDE will trigger the warning: <code>Generating equals/hashCode implementation but without a call to superclass</code> .</p>\n<h2>Solution</h2>\n<p>There are two solutions:</p>\n<ol>\n<li>add annotation <code>@EqualsAndHashCode(callSuper = true)</code> on the class</li>\n<li>create lombook config file in the project root path: <code>src/main/java</code>. Note: this solution requires the version of lombook &gt; 1.14.</li>\n</ol>\n<p>I recommend the solution 2, since you will not need to add the annotation to all the required classes.</p>\n<p>To impletement the solution, you need to create <code>lombok.config</code> in the path of <code>src/main/java</code>. If you have more than one packages, you may need to create multiple config files.</p>\n<p>The content of the config file includes:</p>\n<pre><code>config.stopBubbling=true\nlombok.equalsAndHashCode.callSuper=call\n</code></pre>\n<p>When we rebuild our project, you will not get these warnings anymore.</p>\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":22938461,"reputation":538,"user_id":17071589,"display_name":"abdella"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1667745892,"creation_date":1667745892,"answer_id":74336883,"question_id":56583423,"body_markdown":"The error says  **If this is \r\n     intentional, add &#39;@EqualsAndHashCode(callSuper=false)&#39; to your type.** \r\n\r\nSo, add ``@EqualsAndHashCode(callSuper = false)`` to solve the problem.","title":"Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object","body":"<p>The error says  <strong>If this is\nintentional, add '@EqualsAndHashCode(callSuper=false)' to your type.</strong></p>\n<p>So, add <code>@EqualsAndHashCode(callSuper = false)</code> to solve the problem.</p>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51514,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":56583852,"answer_count":5,"score":51,"last_activity_date":1667745892,"creation_date":1560438173,"question_id":56583423,"body_markdown":"I am getting below error while using `lombok` and even it doesn&#39;t allow me to set id and version while creating `student` instance.\r\n\r\n    Multiple markers at this line\r\n    \t- overrides com.example.demo.IModel.canEqual\r\n    \t- Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object. If this is \r\n    \t intentional, add &#39;@EqualsAndHashCode(callSuper=false)&#39; to your type.\r\n    \t- overrides com.example.demo.IModel.hashCode\r\n    \t- overrides com.example.demo.IModel.toString\r\n    \t- overrides com.example.demo.IModel.equals\r\n\r\n\r\nIModel\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class IModel {\r\n    \tprivate String id;\r\n    \tprivate String version;\r\n    }\r\n\r\nStudent\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Student extends IModel{\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the main method, it doesn&#39;t allow me to set the value of Id and version field\r\n\r\n    Student s = Student.builder().firstName(&quot;Adam&quot;).lastName(&quot;Kerr&quot;).build();\r\n\r\n  [1]: https://i.stack.imgur.com/f61Ih.png\r\n\r\n---------------------\r\n\r\n**Edit-1**\r\n@sfiss - As suggested, now I changed like below, but now I am not able to set firstName and lastName, only cab set id and version\r\n\r\n**Student.java**\r\n\r\n    @Data\r\n    @Builder(builderMethodName = &quot;studentBuilder&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @EqualsAndHashCode(callSuper = true)\r\n    public class Student extends IModel {\r\n    \t@NotEmpty(message = &quot;{email.notempty}&quot;)\r\n    \t@Email\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \r\n    \tpublic Student(final String firstName, final String lastName, final String id, final String version) {\r\n    \t\tsuper(id, version);\r\n    \t\tthis.firstName = firstName;\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    }\r\n\r\nIModel.java\r\n\r\n    @Builder\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class IModel {\r\n    \tprivate String id;\r\n    \tprivate String version;\r\n    }","title":"Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object","body":"<p>I am getting below error while using <code>lombok</code> and even it doesn't allow me to set id and version while creating <code>student</code> instance.</p>\n\n<pre><code>Multiple markers at this line\n    - overrides com.example.demo.IModel.canEqual\n    - Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object. If this is \n     intentional, add '@EqualsAndHashCode(callSuper=false)' to your type.\n    - overrides com.example.demo.IModel.hashCode\n    - overrides com.example.demo.IModel.toString\n    - overrides com.example.demo.IModel.equals\n</code></pre>\n\n<p>IModel</p>\n\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class IModel {\n    private String id;\n    private String version;\n}\n</code></pre>\n\n<p>Student</p>\n\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Student extends IModel{\n    private String firstName;\n    private String lastName;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/f61Ih.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f61Ih.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the main method, it doesn't allow me to set the value of Id and version field</p>\n\n<pre><code>Student s = Student.builder().firstName(\"Adam\").lastName(\"Kerr\").build();\n</code></pre>\n\n<hr>\n\n<p><strong>Edit-1</strong>\n@sfiss - As suggested, now I changed like below, but now I am not able to set firstName and lastName, only cab set id and version</p>\n\n<p><strong>Student.java</strong></p>\n\n<pre><code>@Data\n@Builder(builderMethodName = \"studentBuilder\")\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(callSuper = true)\npublic class Student extends IModel {\n    @NotEmpty(message = \"{email.notempty}\")\n    @Email\n    private String firstName;\n    private String lastName;\n\n    public Student(final String firstName, final String lastName, final String id, final String version) {\n        super(id, version);\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n\n<p>IModel.java</p>\n\n<pre><code>@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class IModel {\n    private String id;\n    private String version;\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1667735329,"post_id":74335547,"comment_id":131233032,"body_markdown":"Have you looked it up? A quick search gives you tons of examples and some also mention Guava&#39;s [`Lists.partition`](https://guava.dev/releases/31.1-jre/api/docs/com/google/common/collect/Lists.html#partition(java.util.List,int))","body":"Have you looked it up? A quick search gives you tons of examples and some also mention Guava&#39;s <a href=\"https://guava.dev/releases/31.1-jre/api/docs/com/google/common/collect/Lists.html#partition(java.util.List,int)\" rel=\"nofollow noreferrer\"><code>Lists.partition</code></a>"},{"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"score":0,"creation_date":1667735410,"post_id":74335547,"comment_id":131233051,"body_markdown":"Perhaps this helps you https://stackoverflow.com/questions/27857011/how-to-split-a-string-array-into-small-chunk-arrays-in-java","body":"Perhaps this helps you <a href=\"https://stackoverflow.com/questions/27857011/how-to-split-a-string-array-into-small-chunk-arrays-in-java\" title=\"how to split a string array into small chunk arrays in java\">stackoverflow.com/questions/27857011/&hellip;</a>"},{"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"score":0,"creation_date":1667735545,"post_id":74335547,"comment_id":131233079,"body_markdown":"@QBrute Of course, and I&#39;m surprised `Lists.partitions` hasn&#39;t shown up so far.","body":"@QBrute Of course, and I&#39;m surprised <code>Lists.partitions</code> hasn&#39;t shown up so far."},{"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"score":0,"creation_date":1667735597,"post_id":74335547,"comment_id":131233088,"body_markdown":"@office.aizaz The problem with this approach is, that it needs me to know the chunksize before hand.","body":"@office.aizaz The problem with this approach is, that it needs me to know the chunksize before hand."},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1667735971,"post_id":74335547,"comment_id":131233161,"body_markdown":"@TMOTTM you know, if you have number of chunks you can calculate chunk size from list size","body":"@TMOTTM you know, if you have number of chunks you can calculate chunk size from list size"},{"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"score":0,"creation_date":1667736147,"post_id":74335547,"comment_id":131233192,"body_markdown":"@SharonBenAsher Sure, but it just feels as if there should be a library function accepting the list and number of chunks. Now I&#39;m doing `Math.ceil(x.size() / (double) nChunks)`, which I find awfully low-level.","body":"@SharonBenAsher Sure, but it just feels as if there should be a library function accepting the list and number of chunks. Now I&#39;m doing <code>Math.ceil(x.size() &#47; (double) nChunks)</code>, which I find awfully low-level."},{"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"score":0,"creation_date":1667736387,"post_id":74335547,"comment_id":131233239,"body_markdown":"Split an array into multiple sub-arrays.\n\n\nFrom the numpy documentation: &quot;...For an array of length l that should be split into n sections, it returns l % n sub-arrays of size l//n + 1 and the rest of size l//n.&quot; I might try it like that","body":"Split an array into multiple sub-arrays.   From the numpy documentation: &quot;...For an array of length l that should be split into n sections, it returns l % n sub-arrays of size l//n + 1 and the rest of size l//n.&quot; I might try it like that"}],"answers":[{"tags":[],"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667737218,"creation_date":1667737218,"answer_id":74335810,"question_id":74335547,"body_markdown":"If it helps anyone.\r\n\r\n    @Test\r\n    public void testListPartition() {\r\n        // Given\r\n        Integer[] is = new Integer[] {7, 3, 9, 10, 5, 6, 8, 13};\r\n        List&lt;Integer&gt; isList = new ArrayList&lt;Integer&gt;();\r\n        Collections.addAll(isList, is);\r\n\r\n        int nThreads = 3;\r\n        int sizeSublist = (int) Math.ceil(isList.size()/(double)nThreads);\r\n\r\n        List&lt;Integer&gt; truthOne = new ArrayList&lt;Integer&gt;();\r\n        Collections.addAll(truthOne, new Integer[] {7, 3, 9});\r\n\r\n        List&lt;Integer&gt; truthTwo = new ArrayList&lt;Integer&gt;();\r\n        Collections.addAll(truthTwo, new Integer[] {10, 5, 6});\r\n\r\n        List&lt;Integer&gt; truthThree = new ArrayList&lt;Integer&gt;();\r\n        Collections.addAll(truthThree, new Integer[] {8, 13});\r\n\r\n        // When\r\n        List&lt;List&lt;Integer&gt;&gt; partitions = Lists.partition(isList, sizeSublist);\r\n\r\n        // Then\r\n        assertEquals(truthOne, partitions.get(0));\r\n        assertEquals(truthTwo, partitions.get(1));\r\n        assertEquals(truthThree, partitions.get(2));\r\n    }","title":"What is the Java equivalent of Numpy&#39;s array_split?","body":"<p>If it helps anyone.</p>\n<pre><code>@Test\npublic void testListPartition() {\n    // Given\n    Integer[] is = new Integer[] {7, 3, 9, 10, 5, 6, 8, 13};\n    List&lt;Integer&gt; isList = new ArrayList&lt;Integer&gt;();\n    Collections.addAll(isList, is);\n\n    int nThreads = 3;\n    int sizeSublist = (int) Math.ceil(isList.size()/(double)nThreads);\n\n    List&lt;Integer&gt; truthOne = new ArrayList&lt;Integer&gt;();\n    Collections.addAll(truthOne, new Integer[] {7, 3, 9});\n\n    List&lt;Integer&gt; truthTwo = new ArrayList&lt;Integer&gt;();\n    Collections.addAll(truthTwo, new Integer[] {10, 5, 6});\n\n    List&lt;Integer&gt; truthThree = new ArrayList&lt;Integer&gt;();\n    Collections.addAll(truthThree, new Integer[] {8, 13});\n\n    // When\n    List&lt;List&lt;Integer&gt;&gt; partitions = Lists.partition(isList, sizeSublist);\n\n    // Then\n    assertEquals(truthOne, partitions.get(0));\n    assertEquals(truthTwo, partitions.get(1));\n    assertEquals(truthThree, partitions.get(2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667740233,"creation_date":1667740233,"answer_id":74336144,"question_id":74335547,"body_markdown":"You can split the list using `Stream`.\r\n\r\n    static &lt;T&gt; List&lt;List&lt;T&gt;&gt; splitList(List&lt;T&gt; list, int n) {\r\n        int size = list.size();\r\n        return IntStream.range(0, (size + n - 1) / n)\r\n            .map(i -&gt; n * i)\r\n            .mapToObj(i -&gt; list.subList(i, Math.min(i + n, size)))\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\nNote that since this uses `subList()`, each split list shares the original list.\r\n\r\nYou can split the array as well.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    static &lt;T&gt; T[][] splitArray(T[] array, int n) {\r\n        int size = array.length;\r\n        return IntStream.range(0, (size + n - 1) / n)\r\n            .map(i -&gt; n * i)\r\n            .mapToObj(i -&gt; Arrays.copyOfRange(array, i, Math.min(i + n, size)))\r\n            .toArray(i -&gt; (T[][])Array.newInstance(array.getClass(), n));\r\n    }\r\n\r\nHowever, this cannot be applied to arrays of primitive types.\r\n\r\nSeparate implementations are required for primitive types.\r\n\r\nFor example, for int array:\r\n\r\n    static  int[][] splitArray(int[] array, int n) {\r\n        int size = array.length;\r\n        return IntStream.range(0, (size + n - 1) / n)\r\n            .map(i -&gt; n * i)\r\n            .mapToObj(i -&gt; Arrays.copyOfRange(array, i, Math.min(i + n, size)))\r\n            .toArray(int[][]::new);\r\n    }\r\n\r\ntest:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = List.of(7, 3, 9, 10, 5, 6, 8, 13);\r\n        System.out.println(splitList(list, 3));\r\n        Integer[] array = {7, 3, 9, 10, 5, 6, 8, 13};\r\n        System.out.println(Arrays.deepToString(splitArray(array, 3)));\r\n        int[] ints = {7, 3, 9, 10, 5, 6, 8, 13};\r\n        System.out.println(Arrays.deepToString(splitArray(ints, 3)));\r\n    }\r\n\r\noutput:\r\n\r\n    [[7, 3, 9], [10, 5, 6], [8, 13]]\r\n    [[7, 3, 9], [10, 5, 6], [8, 13]]\r\n    [[7, 3, 9], [10, 5, 6], [8, 13]]\r\n\r\n","title":"What is the Java equivalent of Numpy&#39;s array_split?","body":"<p>You can split the list using <code>Stream</code>.</p>\n<pre><code>static &lt;T&gt; List&lt;List&lt;T&gt;&gt; splitList(List&lt;T&gt; list, int n) {\n    int size = list.size();\n    return IntStream.range(0, (size + n - 1) / n)\n        .map(i -&gt; n * i)\n        .mapToObj(i -&gt; list.subList(i, Math.min(i + n, size)))\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>Note that since this uses <code>subList()</code>, each split list shares the original list.</p>\n<p>You can split the array as well.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nstatic &lt;T&gt; T[][] splitArray(T[] array, int n) {\n    int size = array.length;\n    return IntStream.range(0, (size + n - 1) / n)\n        .map(i -&gt; n * i)\n        .mapToObj(i -&gt; Arrays.copyOfRange(array, i, Math.min(i + n, size)))\n        .toArray(i -&gt; (T[][])Array.newInstance(array.getClass(), n));\n}\n</code></pre>\n<p>However, this cannot be applied to arrays of primitive types.</p>\n<p>Separate implementations are required for primitive types.</p>\n<p>For example, for int array:</p>\n<pre><code>static  int[][] splitArray(int[] array, int n) {\n    int size = array.length;\n    return IntStream.range(0, (size + n - 1) / n)\n        .map(i -&gt; n * i)\n        .mapToObj(i -&gt; Arrays.copyOfRange(array, i, Math.min(i + n, size)))\n        .toArray(int[][]::new);\n}\n</code></pre>\n<p>test:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list = List.of(7, 3, 9, 10, 5, 6, 8, 13);\n    System.out.println(splitList(list, 3));\n    Integer[] array = {7, 3, 9, 10, 5, 6, 8, 13};\n    System.out.println(Arrays.deepToString(splitArray(array, 3)));\n    int[] ints = {7, 3, 9, 10, 5, 6, 8, 13};\n    System.out.println(Arrays.deepToString(splitArray(ints, 3)));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[[7, 3, 9], [10, 5, 6], [8, 13]]\n[[7, 3, 9], [10, 5, 6], [8, 13]]\n[[7, 3, 9], [10, 5, 6], [8, 13]]\n</code></pre>\n"}],"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1667745794,"answer_count":2,"score":-1,"last_activity_date":1667745825,"creation_date":1667734932,"question_id":74335547,"body_markdown":"I&#39;d like to split an array into `n` roughly equal sized chunks, without knowing how large these chunks will be beforehand.\r\n\r\nUsing Numpy, this can be done with `array_split`:\r\n\r\n    &gt;&gt;&gt; import numpy\r\n    &gt;&gt;&gt; x = [7, 3, 9, 10, 5, 6, 8, 13]\r\n    &gt;&gt;&gt; x\r\n    [7, 3, 9, 10, 5, 6, 8, 13]\r\n    &gt;&gt;&gt; numpy.array_split(x, 3)\r\n    [array([7, 3, 9]), array([10,  5,  6]), array([ 8, 13])]\r\n\r\nWhat&#39;s the Java equivalent of doing this? I&#39;m happy to use a library function if available.","title":"What is the Java equivalent of Numpy&#39;s array_split?","body":"<p>I'd like to split an array into <code>n</code> roughly equal sized chunks, without knowing how large these chunks will be beforehand.</p>\n<p>Using Numpy, this can be done with <code>array_split</code>:</p>\n<pre><code>&gt;&gt;&gt; import numpy\n&gt;&gt;&gt; x = [7, 3, 9, 10, 5, 6, 8, 13]\n&gt;&gt;&gt; x\n[7, 3, 9, 10, 5, 6, 8, 13]\n&gt;&gt;&gt; numpy.array_split(x, 3)\n[array([7, 3, 9]), array([10,  5,  6]), array([ 8, 13])]\n</code></pre>\n<p>What's the Java equivalent of doing this? I'm happy to use a library function if available.</p>\n"},{"tags":["java","blockingqueue"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":2,"creation_date":1597611203,"post_id":63441787,"comment_id":112182665,"body_markdown":"Have you checked out the source code of `ArrayBlockingQueue`?","body":"Have you checked out the source code of <code>ArrayBlockingQueue</code>?"},{"owner":{"account_id":19100152,"reputation":475,"user_id":13948608,"display_name":"Ana Maria"},"score":0,"creation_date":1597612257,"post_id":63441787,"comment_id":112182902,"body_markdown":"I did of course. It says it would await if list is full. My Producer never actually calls await(), which is why Consumer doesn&#39;t get a chance to do anything. I am confused.. Or, from different perspective my Producer never leaves a lock!","body":"I did of course. It says it would await if list is full. My Producer never actually calls await(), which is why Consumer doesn&#39;t get a chance to do anything. I am confused.. Or, from different perspective my Producer never leaves a lock!"},{"owner":{"account_id":2149557,"reputation":7697,"user_id":1906362,"accept_rate":50,"display_name":"Woody"},"score":0,"creation_date":1597613324,"post_id":63441787,"comment_id":112183160,"body_markdown":"This is a good question - i&#39;d be interested to know the answer as well, not sure why someone voted to close it.","body":"This is a good question - i&#39;d be interested to know the answer as well, not sure why someone voted to close it."}],"answers":[{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597611296,"creation_date":1597611296,"answer_id":63441841,"question_id":63441787,"body_markdown":"Here&#39;s the current implementation of `ArrayBlockingQueue#put`:\r\n\r\n    /**\r\n     * Inserts the specified element at the tail of this queue, waiting\r\n     * for space to become available if the queue is full.\r\n     *\r\n     * @throws InterruptedException {@inheritDoc}\r\n     * @throws NullPointerException {@inheritDoc}\r\n     */\r\n    public void put(E e) throws InterruptedException {\r\n        Objects.requireNonNull(e);\r\n        final ReentrantLock lock = this.lock;\r\n        lock.lockInterruptibly();\r\n        try {\r\n            while (count == items.length)\r\n                notFull.await();\r\n            enqueue(e);\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\nYou&#39;ll see that, instead of using `wait()` and `notify()`, it invokes `notFull.await();` where `notFull` is a [`Condition`](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/locks/Condition.html).\r\n\r\nThe documentation of `Condition` states the following:\r\n\r\n&gt; Condition factors out the Object monitor methods ([wait](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Object.html#wait()), [notify](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Object.html#notify()) and [notifyAll](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Object.html#notifyAll())) into distinct objects to give the effect of having multiple wait-sets per object, by combining them with the use of arbitrary [Lock](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/locks/Lock.html) implementations. Where a Lock replaces the use of synchronized methods and statements, a Condition replaces the use of the Object monitor methods.","title":"What is the point of BlockingQueue not being able to work in synchronized Producer/Consumer methods?","body":"<p>Here's the current implementation of <code>ArrayBlockingQueue#put</code>:</p>\n<pre><code>/**\n * Inserts the specified element at the tail of this queue, waiting\n * for space to become available if the queue is full.\n *\n * @throws InterruptedException {@inheritDoc}\n * @throws NullPointerException {@inheritDoc}\n */\npublic void put(E e) throws InterruptedException {\n    Objects.requireNonNull(e);\n    final ReentrantLock lock = this.lock;\n    lock.lockInterruptibly();\n    try {\n        while (count == items.length)\n            notFull.await();\n        enqueue(e);\n    } finally {\n        lock.unlock();\n    }\n}\n</code></pre>\n<p>You'll see that, instead of using <code>wait()</code> and <code>notify()</code>, it invokes <code>notFull.await();</code> where <code>notFull</code> is a <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/locks/Condition.html\" rel=\"nofollow noreferrer\"><code>Condition</code></a>.</p>\n<p>The documentation of <code>Condition</code> states the following:</p>\n<blockquote>\n<p>Condition factors out the Object monitor methods (<a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Object.html#wait()\" rel=\"nofollow noreferrer\">wait</a>, <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Object.html#notify()\" rel=\"nofollow noreferrer\">notify</a> and <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Object.html#notifyAll()\" rel=\"nofollow noreferrer\">notifyAll</a>) into distinct objects to give the effect of having multiple wait-sets per object, by combining them with the use of arbitrary <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\">Lock</a> implementations. Where a Lock replaces the use of synchronized methods and statements, a Condition replaces the use of the Object monitor methods.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597611590,"creation_date":1597611590,"answer_id":63441897,"question_id":63441787,"body_markdown":"If you go through below code, you will get an idea that how producer/consumer problem will get resolve using BlokingQueue interface.\r\n\r\nHere you are able to see that same queue has been shared by Producer and Consumer.\r\n\r\nAnd from main class you are starting both thread Producer and Consumer.\r\n\r\n    class Producer implements Runnable {\r\n        protected BlockingQueue blockingQueue = null;\r\n    \r\n        public Producer(BlockingQueue blockingQueue) {\r\n            this.blockingQueue = blockingQueue;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            for (int i = 0; i &lt; 6; i++) {\r\n                try {\r\n                    blockingQueue.put(i);\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(&quot;Added &quot; + i);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class Consumer implements Runnable {\r\n    \r\n        protected BlockingQueue blockingQueue = null;\r\n    \r\n        public Consumer(BlockingQueue blockingQueue) {\r\n            this.blockingQueue = blockingQueue;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            for (int i = 0; i &lt; 6; i++) {\r\n                try {\r\n                    System.out.println(&quot;Took: &quot; + blockingQueue.take());\r\n                    Thread.sleep(3000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    class Test1 {\r\n        public static void main(String[] args) throws InterruptedException {\r\n    \r\n            BlockingQueue queue = new ArrayBlockingQueue(3);\r\n    \r\n            Producer producer = new Producer(queue);\r\n            Consumer consumer = new Consumer(queue);\r\n    \r\n            new Thread(producer).start();\r\n            new Thread(consumer).start();\r\n    \r\n            Thread.sleep(4000);\r\n        }\r\n    }\r\n\r\nThis code will print output like\r\n\r\n    Took: 0\r\n    Added 0\r\n    Added 1\r\n    Added 2\r\n    Took: 1\r\n    Added 3\r\n    Added 4\r\n    Took: 2\r\n    Added 5\r\n    Took: 3\r\n    Took: 4\r\n    Took: 5","title":"What is the point of BlockingQueue not being able to work in synchronized Producer/Consumer methods?","body":"<p>If you go through below code, you will get an idea that how producer/consumer problem will get resolve using BlokingQueue interface.</p>\n<p>Here you are able to see that same queue has been shared by Producer and Consumer.</p>\n<p>And from main class you are starting both thread Producer and Consumer.</p>\n<pre><code>class Producer implements Runnable {\n    protected BlockingQueue blockingQueue = null;\n\n    public Producer(BlockingQueue blockingQueue) {\n        this.blockingQueue = blockingQueue;\n    }\n\n    @Override\n    public void run() {\n        for (int i = 0; i &lt; 6; i++) {\n            try {\n                blockingQueue.put(i);\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(&quot;Added &quot; + i);\n        }\n    }\n}\n\nclass Consumer implements Runnable {\n\n    protected BlockingQueue blockingQueue = null;\n\n    public Consumer(BlockingQueue blockingQueue) {\n        this.blockingQueue = blockingQueue;\n    }\n\n    @Override\n    public void run() {\n        for (int i = 0; i &lt; 6; i++) {\n            try {\n                System.out.println(&quot;Took: &quot; + blockingQueue.take());\n                Thread.sleep(3000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\nclass Test1 {\n    public static void main(String[] args) throws InterruptedException {\n\n        BlockingQueue queue = new ArrayBlockingQueue(3);\n\n        Producer producer = new Producer(queue);\n        Consumer consumer = new Consumer(queue);\n\n        new Thread(producer).start();\n        new Thread(consumer).start();\n\n        Thread.sleep(4000);\n    }\n}\n</code></pre>\n<p>This code will print output like</p>\n<pre><code>Took: 0\nAdded 0\nAdded 1\nAdded 2\nTook: 1\nAdded 3\nAdded 4\nTook: 2\nAdded 5\nTook: 3\nTook: 4\nTook: 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24438758,"reputation":41,"user_id":18362708,"display_name":"coder joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667745435,"creation_date":1667745435,"answer_id":74336818,"question_id":63441787,"body_markdown":"***(I&#39;m sure some or all parts of my answer could be something that you have already understood, in that case, please just consider it as a clarification :)).***\r\n\r\n\r\n**1. Why did your code example using BlockingQueue get to ‘program hangs’?**\r\n\r\n**1.1 Conceptually**  \r\nFirst of all, if we can leave out the implementation level detail such as ‘wait()’, ‘notify()’, etc for a second, **conceptually**, all implementation in JAVA of BlockingQueue do work to the specification, i.e. like you said: \r\n\r\n&gt; ‘Producer blocks any more put() calls in a queue if it has no more\r\n&gt; space. And the opposite, it blocks method take(), if there are no\r\n&gt; items to take.’\r\n\r\nSo, **conceptually**, the reason that your code example hangs is because \r\n\r\n1.1.1.  \r\nthe thread calling the (synchronized) write() runs first and alone, and not until ‘testing.write()’ returns in this thread, the 2nd thread calling the (synchronized) read() will ever have a chance to run — this is the essence of ‘synchronized’ methods in the same object.\r\n\r\n1.1.2.  \r\nNow, in your example, conceptually, ‘testing.write()’ will never return, in that for loop, it will ‘put’ the first 3 elements onto the queue and then kinda ‘spin wait’ for the 2nd thread to consume/’take’ some of these elements so it can ‘put’ more, but that will never happen due to aforementioned reason in 1.1.1\r\n\r\n**1.2 Programmatically**\r\n\r\n1.2.1.  \r\n(For producer) In ArrayBlockingQueue#put, the ‘spin wait’ I mentioned in 1.1.2 took form of \r\n\r\n    while (count == items.length) notFull.await();\r\n\r\n1.2.2.  \r\n(For consumer) In ArrayBlockingQueue#take, it calls `dequeue()`, which in turn calls `notFull.signal()`, which will end the ‘spin wait’ in 1.2.1\r\n\r\n\r\n\r\n**2.Now, back to your original post’s title ‘What is the point of BlockingQueue not being able to work in synchronized Producer/Consumer methods?’.** \r\n\r\n2.1.  \r\nIf I take the literal meaning of this question, then an answer could be *‘there are reasons for a convenient BlockingQueue facility to exist in JAVA other than using them in synchronized methods/blocks’*, i.e. they can certainly live outside of any ‘synchronized’ structure and facilitate a vanilla producer/consumer implementation.\r\n\r\n2.2.  \r\n**However**, if you meant to inquire one step further - ***Why can’t JAVA BlockQueue implementations work easily/nicely/smoothly in synchronized methods/blocks?*** \r\n\r\nThat will be a different question, a valid and interesting one that I am also incidentally puzzling about.\r\n \r\nSpecifically, see [this post][1] for further information (note that in this post, the consumer thread ‘hangs’ because of EMPTY queue and its possession of the exclusive lock, as opposed to your case where the producer thread ‘hangs’ because of FULL queue and its possession of the exclusive lock; but the core of the problems should be the same)\r\n \r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/74335073/18362708","title":"What is the point of BlockingQueue not being able to work in synchronized Producer/Consumer methods?","body":"<p><em><strong>(I'm sure some or all parts of my answer could be something that you have already understood, in that case, please just consider it as a clarification :)).</strong></em></p>\n<p><strong>1. Why did your code example using BlockingQueue get to ‘program hangs’?</strong></p>\n<p><strong>1.1 Conceptually</strong><br />\nFirst of all, if we can leave out the implementation level detail such as ‘wait()’, ‘notify()’, etc for a second, <strong>conceptually</strong>, all implementation in JAVA of BlockingQueue do work to the specification, i.e. like you said:</p>\n<blockquote>\n<p>‘Producer blocks any more put() calls in a queue if it has no more\nspace. And the opposite, it blocks method take(), if there are no\nitems to take.’</p>\n</blockquote>\n<p>So, <strong>conceptually</strong>, the reason that your code example hangs is because</p>\n<p>1.1.1.<br />\nthe thread calling the (synchronized) write() runs first and alone, and not until ‘testing.write()’ returns in this thread, the 2nd thread calling the (synchronized) read() will ever have a chance to run — this is the essence of ‘synchronized’ methods in the same object.</p>\n<p>1.1.2.<br />\nNow, in your example, conceptually, ‘testing.write()’ will never return, in that for loop, it will ‘put’ the first 3 elements onto the queue and then kinda ‘spin wait’ for the 2nd thread to consume/’take’ some of these elements so it can ‘put’ more, but that will never happen due to aforementioned reason in 1.1.1</p>\n<p><strong>1.2 Programmatically</strong></p>\n<p>1.2.1.<br />\n(For producer) In ArrayBlockingQueue#put, the ‘spin wait’ I mentioned in 1.1.2 took form of</p>\n<pre><code>while (count == items.length) notFull.await();\n</code></pre>\n<p>1.2.2.<br />\n(For consumer) In ArrayBlockingQueue#take, it calls <code>dequeue()</code>, which in turn calls <code>notFull.signal()</code>, which will end the ‘spin wait’ in 1.2.1</p>\n<p><strong>2.Now, back to your original post’s title ‘What is the point of BlockingQueue not being able to work in synchronized Producer/Consumer methods?’.</strong></p>\n<p>2.1.<br />\nIf I take the literal meaning of this question, then an answer could be <em>‘there are reasons for a convenient BlockingQueue facility to exist in JAVA other than using them in synchronized methods/blocks’</em>, i.e. they can certainly live outside of any ‘synchronized’ structure and facilitate a vanilla producer/consumer implementation.</p>\n<p>2.2.<br />\n<strong>However</strong>, if you meant to inquire one step further - <em><strong>Why can’t JAVA BlockQueue implementations work easily/nicely/smoothly in synchronized methods/blocks?</strong></em></p>\n<p>That will be a different question, a valid and interesting one that I am also incidentally puzzling about.</p>\n<p>Specifically, see <a href=\"https://stackoverflow.com/q/74335073/18362708\">this post</a> for further information (note that in this post, the consumer thread ‘hangs’ because of EMPTY queue and its possession of the exclusive lock, as opposed to your case where the producer thread ‘hangs’ because of FULL queue and its possession of the exclusive lock; but the core of the problems should be the same)</p>\n"}],"owner":{"account_id":19100152,"reputation":475,"user_id":13948608,"display_name":"Ana Maria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1667745435,"creation_date":1597610865,"question_id":63441787,"body_markdown":"When I first read about interface BlockingQueue I read that: Producer blocks any more **put()** calls in a queue if it has no more space. And the opposite, it blocks method **take()**, if there are no items to take. I thought that it internally works same as wait() and notify(). For example, when there are no more elements to read internally wait() is called until Producer adds one more and calls notify()..or that&#39;s what we would do in &#39;old producer/consumer pattern. BUT IT DOESN&#39;T WORK LIKE THAT IN BLOCKING QUEUE. How? What is the point? I am honestly surprised! \r\n \r\nI will demonstrate:\r\n\r\n    public class Testing {\r\n        BlockingQueue&lt;Integer&gt; blockingQueue = new ArrayBlockingQueue&lt;&gt;(3);\r\n    \r\n         synchronized void write() throws InterruptedException {\r\n            for (int i = 0; i &lt; 6; i++) {\r\n                blockingQueue.put(i);\r\n                System.out.println(&quot;Added &quot; + i);\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n    \r\n        synchronized void read() throws InterruptedException {\r\n            for (int i = 0; i &lt; 6; i++) {\r\n                System.out.println(&quot;Took: &quot; + blockingQueue.take());\r\n                Thread.sleep(3000);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class Test1 {\r\n        public static void main(String[] args) {\r\n            Testing testing = new Testing();\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        testing.write();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }).start();\r\n    \r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        testing.read();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\nOUTPUT:\r\n\r\n    Added 0\r\n    Added 1\r\n    Added 2\r\n&#39;program hangs&#39;.\r\n\r\nMy questions is how does take() and put() BLOCK if they don&#39;t use wait() or notify() internally? Do they have some while loops that burns CPU circles fast? I am frankly confused.","title":"What is the point of BlockingQueue not being able to work in synchronized Producer/Consumer methods?","body":"<p>When I first read about interface BlockingQueue I read that: Producer blocks any more <strong>put()</strong> calls in a queue if it has no more space. And the opposite, it blocks method <strong>take()</strong>, if there are no items to take. I thought that it internally works same as wait() and notify(). For example, when there are no more elements to read internally wait() is called until Producer adds one more and calls notify()..or that's what we would do in 'old producer/consumer pattern. BUT IT DOESN'T WORK LIKE THAT IN BLOCKING QUEUE. How? What is the point? I am honestly surprised!</p>\n<p>I will demonstrate:</p>\n<pre><code>public class Testing {\n    BlockingQueue&lt;Integer&gt; blockingQueue = new ArrayBlockingQueue&lt;&gt;(3);\n\n     synchronized void write() throws InterruptedException {\n        for (int i = 0; i &lt; 6; i++) {\n            blockingQueue.put(i);\n            System.out.println(&quot;Added &quot; + i);\n            Thread.sleep(1000);\n        }\n    }\n\n    synchronized void read() throws InterruptedException {\n        for (int i = 0; i &lt; 6; i++) {\n            System.out.println(&quot;Took: &quot; + blockingQueue.take());\n            Thread.sleep(3000);\n        }\n    }\n}\n\nclass Test1 {\n    public static void main(String[] args) {\n        Testing testing = new Testing();\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    testing.write();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }).start();\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    testing.read();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>Added 0\nAdded 1\nAdded 2\n</code></pre>\n<p>'program hangs'.</p>\n<p>My questions is how does take() and put() BLOCK if they don't use wait() or notify() internally? Do they have some while loops that burns CPU circles fast? I am frankly confused.</p>\n"},{"tags":["java","sql","jdbc","procedure","hsqldb"],"answers":[{"tags":[],"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667745135,"creation_date":1667745135,"answer_id":74336777,"question_id":74334605,"body_markdown":"It seems you have some syntax error and your IN and OUT parameters are not correct.\r\n\r\n     sql = &quot;CREATE PROCEDURE count_Teacher_By_Department_Procedure(OUT idcount int, IN nombre Varchar(20))&quot;\r\n                + &quot;READS sql DATA &quot;\r\n                + &quot;BEGIN ATOMIC &quot;\r\n                + &quot;SET idcount = SELECT COUNT( id ) FROM teachers WHERE dept_num IN (SELECT dept_num FROM departments WHERE name = nombre); &quot; // pasar al set el parametro out\r\n                + &quot;END&quot;;","title":"Problem with HSQLDB create procedure in Java","body":"<p>It seems you have some syntax error and your IN and OUT parameters are not correct.</p>\n<pre><code> sql = &quot;CREATE PROCEDURE count_Teacher_By_Department_Procedure(OUT idcount int, IN nombre Varchar(20))&quot;\n            + &quot;READS sql DATA &quot;\n            + &quot;BEGIN ATOMIC &quot;\n            + &quot;SET idcount = SELECT COUNT( id ) FROM teachers WHERE dept_num IN (SELECT dept_num FROM departments WHERE name = nombre); &quot; // pasar al set el parametro out\n            + &quot;END&quot;;\n</code></pre>\n"}],"owner":{"account_id":12091451,"reputation":3,"user_id":8837441,"display_name":"Enrique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74336777,"answer_count":1,"score":0,"last_activity_date":1667745135,"creation_date":1667726744,"question_id":74334605,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/ifG5c.jpg)](https://i.stack.imgur.com/ifG5c.jpg)\r\n\r\ncount_teachers(dept_name VARCHAR): return as an OUT parameter the total number of teachers belonging to the department named exactly as dept_name.\r\n\r\nI can&#39;t do this last part of the exercise, I need to do this procedure in Java.  I don&#39;t know how to do this subquery because it is inside a procedure with in and out parameters\r\n\r\n```java\r\npublic static void count_Teacher_By_Department_Procedure() {\r\n    try {\r\n        Connection con = conexion(&quot;jdbc:hsqldb:.\\\\database\\\\db&quot;);\r\n        Statement stt;\r\n        stt = con.createStatement();\r\n        String sql = &quot;DROP PROCEDURE count_Teacher_By_Department_Procedure IF EXISTS;&quot;;\r\n        stt.executeUpdate(sql);\r\n\r\n        sql = &quot;CREATE PROCEDURE count_Teacher_By_Department_Procedure(IN id int, OUT nombre Varchar(20))&quot;\r\n                + &quot;READS sql DATA &quot;\r\n                + &quot;BEGIN ATOMIC &quot;\r\n                + &quot;SET id = SELECT COUNT id FROM teachers WHERE dept_num IN (SELECT dept_num FROM departments WHERE name = nombre); &quot; // pasar al set el parametro out\r\n                + &quot;END&quot;;\r\n        stt.executeUpdate(sql);\r\n        con.close();\r\n    } // \r\n    catch (SQLException ex) {\r\n        Logger.getLogger(Act3_4.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n}\r\n```\r\n","title":"Problem with HSQLDB create procedure in Java","body":"<p><a href=\"https://i.stack.imgur.com/ifG5c.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ifG5c.jpg\" alt=\"enter image description here\" /></a></p>\n<p>count_teachers(dept_name VARCHAR): return as an OUT parameter the total number of teachers belonging to the department named exactly as dept_name.</p>\n<p>I can't do this last part of the exercise, I need to do this procedure in Java.  I don't know how to do this subquery because it is inside a procedure with in and out parameters</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void count_Teacher_By_Department_Procedure() {\n    try {\n        Connection con = conexion(&quot;jdbc:hsqldb:.\\\\database\\\\db&quot;);\n        Statement stt;\n        stt = con.createStatement();\n        String sql = &quot;DROP PROCEDURE count_Teacher_By_Department_Procedure IF EXISTS;&quot;;\n        stt.executeUpdate(sql);\n\n        sql = &quot;CREATE PROCEDURE count_Teacher_By_Department_Procedure(IN id int, OUT nombre Varchar(20))&quot;\n                + &quot;READS sql DATA &quot;\n                + &quot;BEGIN ATOMIC &quot;\n                + &quot;SET id = SELECT COUNT id FROM teachers WHERE dept_num IN (SELECT dept_num FROM departments WHERE name = nombre); &quot; // pasar al set el parametro out\n                + &quot;END&quot;;\n        stt.executeUpdate(sql);\n        con.close();\n    } // \n    catch (SQLException ex) {\n        Logger.getLogger(Act3_4.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":6911836,"reputation":111,"user_id":5307374,"display_name":"Chunhui Deng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667744642,"creation_date":1667744642,"answer_id":74336705,"question_id":74333348,"body_markdown":"Add following style and change your Activity to use it as theme.\r\n\r\n```\r\n    &lt;style name=&quot;NoActionBar&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;windowActionModeOverlay&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```","title":"Can&#39;t get ToolBar to behave correctly","body":"<p>Add following style and change your Activity to use it as theme.</p>\n<pre><code>    &lt;style name=&quot;NoActionBar&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n        &lt;item name=&quot;windowActionModeOverlay&quot;&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":3226255,"reputation":2071,"user_id":2722568,"accept_rate":35,"display_name":"driftwood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667744642,"creation_date":1667709657,"question_id":74333348,"body_markdown":"I&#39;m implementing an app with a tool bar using api 31. I have a layout with a green button such that when I long click on the button it is supposed change the search icon to delete and edit icons. Instead it is displaying a white empty toolbar above the original purple toolbar that is in my layout.\r\n\r\nHere is the what it looks like before I click the green button:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand here it is after clicking green button:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q4GjUl.png\r\n  [2]: https://i.stack.imgur.com/U1IH0l.png\r\n\r\nThe purple toolbar doesn&#39;t change but there is a white bar above with nothing in it.\r\n\r\nHere is the code:\r\n\r\nMainActivity.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private ActionMode mActionMode;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Toolbar toolbar = (Toolbar) findViewById(R.id.mainMenuToolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        Button myButton = findViewById(R.id.mybutton);\r\n        myButton.setText(&quot;  main menu  &quot;);\r\n        myButton.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View v) {\r\n                if (mActionMode != null) {\r\n                    return false;\r\n                }\r\n                myButton.setText(&quot; context menu  &quot;);\r\n                mActionMode = startSupportActionMode(mActionModeCallback);\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        return true;\r\n    }\r\n\r\n    private ActionMode.Callback mActionModeCallback = new ActionMode.Callback() {\r\n        @Override\r\n        public boolean onCreateActionMode(ActionMode mode, Menu menu) {\r\n            mode.getMenuInflater().inflate(R.menu.context_action_menu, menu);\r\n            return true;\r\n        }\r\n        @Override\r\n        public boolean onPrepareActionMode(ActionMode mode, Menu menu) {\r\n            return false;\r\n        }\r\n        @Override\r\n        public boolean onActionItemClicked(ActionMode mode, MenuItem item) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void onDestroyActionMode(ActionMode mode) {\r\n            mActionMode = null;\r\n        }\r\n    };\r\n\r\n}\r\n```\r\n\r\nactivity_main.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        &gt;\r\n\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/mainMenuToolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;@color/colorPrimary&quot;\r\n            app:title=&quot;@string/app_name&quot;\r\n            app:titleTextColor=&quot;@color/colorWhite&quot;\r\n            app:popupTheme=&quot;@style/Theme.Notes.PopupOverlay&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n    &lt;TextView\r\n        android:id=&quot;@+id/bstext&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hello World!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/mybutton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot;\r\n        android:background=&quot;@color/colorLightGreen&quot;\r\n        tools:layout_editor_absoluteX=&quot;158dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;494dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@id/bstext&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nmenu_main.xml\r\n\r\n```\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    tools:context=&quot;com.example.notes.MainActivity&quot;&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/search_stuff&quot;\r\n        android:orderInCategory=&quot;100&quot;\r\n        android:icon=&quot;@drawable/ic_search_24dp&quot;\r\n        android:title=&quot;Search&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        /&gt;\r\n&lt;/menu&gt;\r\n```\r\n\r\ncontext_action_menu.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/delete&quot;\r\n        android:orderInCategory=&quot;100&quot;\r\n        android:title=&quot;Option 1&quot;\r\n        android:icon=&quot;@drawable/ic_delete&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/edit&quot;\r\n        android:orderInCategory=&quot;100&quot;\r\n        android:title=&quot;Option 2&quot;\r\n        android:icon=&quot;@drawable/ic_edit&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        /&gt;\r\n\r\n&lt;/menu&gt;\r\n```\r\n\r\nAndroidManifest.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.testtoolbarapp&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyToolBar&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\n            &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```","title":"Can&#39;t get ToolBar to behave correctly","body":"<p>I'm implementing an app with a tool bar using api 31. I have a layout with a green button such that when I long click on the button it is supposed change the search icon to delete and edit icons. Instead it is displaying a white empty toolbar above the original purple toolbar that is in my layout.</p>\n<p>Here is the what it looks like before I click the green button:</p>\n<p><a href=\"https://i.stack.imgur.com/q4GjUl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q4GjUl.png\" alt=\"enter image description here\" /></a></p>\n<p>and here it is after clicking green button:</p>\n<p><a href=\"https://i.stack.imgur.com/U1IH0l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U1IH0l.png\" alt=\"enter image description here\" /></a></p>\n<p>The purple toolbar doesn't change but there is a white bar above with nothing in it.</p>\n<p>Here is the code:</p>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private ActionMode mActionMode;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Toolbar toolbar = (Toolbar) findViewById(R.id.mainMenuToolbar);\n        setSupportActionBar(toolbar);\n\n        Button myButton = findViewById(R.id.mybutton);\n        myButton.setText(&quot;  main menu  &quot;);\n        myButton.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View v) {\n                if (mActionMode != null) {\n                    return false;\n                }\n                myButton.setText(&quot; context menu  &quot;);\n                mActionMode = startSupportActionMode(mActionModeCallback);\n                return true;\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    private ActionMode.Callback mActionModeCallback = new ActionMode.Callback() {\n        @Override\n        public boolean onCreateActionMode(ActionMode mode, Menu menu) {\n            mode.getMenuInflater().inflate(R.menu.context_action_menu, menu);\n            return true;\n        }\n        @Override\n        public boolean onPrepareActionMode(ActionMode mode, Menu menu) {\n            return false;\n        }\n        @Override\n        public boolean onActionItemClicked(ActionMode mode, MenuItem item) {\n            return false;\n        }\n\n        @Override\n        public void onDestroyActionMode(ActionMode mode) {\n            mActionMode = null;\n        }\n    };\n\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        &gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/mainMenuToolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;@color/colorPrimary&quot;\n            app:title=&quot;@string/app_name&quot;\n            app:titleTextColor=&quot;@color/colorWhite&quot;\n            app:popupTheme=&quot;@style/Theme.Notes.PopupOverlay&quot; /&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n    \n    &lt;TextView\n        android:id=&quot;@+id/bstext&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/mybutton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button&quot;\n        android:background=&quot;@color/colorLightGreen&quot;\n        tools:layout_editor_absoluteX=&quot;158dp&quot;\n        tools:layout_editor_absoluteY=&quot;494dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/bstext&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>menu_main.xml</p>\n<pre><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:context=&quot;com.example.notes.MainActivity&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/search_stuff&quot;\n        android:orderInCategory=&quot;100&quot;\n        android:icon=&quot;@drawable/ic_search_24dp&quot;\n        android:title=&quot;Search&quot;\n        app:showAsAction=&quot;always&quot;\n        /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>context_action_menu.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/delete&quot;\n        android:orderInCategory=&quot;100&quot;\n        android:title=&quot;Option 1&quot;\n        android:icon=&quot;@drawable/ic_delete&quot;\n        app:showAsAction=&quot;always&quot;\n        /&gt;\n    &lt;item\n        android:id=&quot;@+id/edit&quot;\n        android:orderInCategory=&quot;100&quot;\n        android:title=&quot;Option 2&quot;\n        android:icon=&quot;@drawable/ic_edit&quot;\n        app:showAsAction=&quot;always&quot;\n        /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.testtoolbarapp&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyToolBar&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\n            &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26749788,"reputation":611,"user_id":20349343,"display_name":"radof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667742455,"creation_date":1667742455,"answer_id":74336429,"question_id":74335789,"body_markdown":"Given an object `studentRepository` implementing `StudentRepository` you can get the student by id `Student  student = studentRepository.findById(studentId)` (assuming there is an id in your `BaseEntity` which I think there is).\r\n\r\nThen you can test if `student.courseList.size()&lt;=MAX_NUMBER_OF_COURSES`, for example, before saving  `studentRepository.save(student)` or something else.\r\n\r\nThe same logic can be applied to courses. Not sure if there is anything more idiomatic to JPA and/or in Spring Boot.","title":"Finding the number of related tables in a ManyToMany relationship in JPA-Spring Boot","body":"<p>Given an object <code>studentRepository</code> implementing <code>StudentRepository</code> you can get the student by id <code>Student  student = studentRepository.findById(studentId)</code> (assuming there is an id in your <code>BaseEntity</code> which I think there is).</p>\n<p>Then you can test if <code>student.courseList.size()&lt;=MAX_NUMBER_OF_COURSES</code>, for example, before saving  <code>studentRepository.save(student)</code> or something else.</p>\n<p>The same logic can be applied to courses. Not sure if there is anything more idiomatic to JPA and/or in Spring Boot.</p>\n"},{"tags":[],"owner":{"account_id":25218706,"reputation":13,"user_id":19055500,"display_name":"Ekin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667744239,"creation_date":1667744239,"answer_id":74336653,"question_id":74335789,"body_markdown":"Thanks for your reply.I did something like this and it works for Student.\r\n\r\n    /*\r\n     * This Dto class is used to assign courses to a student\r\n     *\r\n     * */\r\n     @Getter\r\n     @Setter\r\n     public class StudentCourseDto {\r\n     private Long student_id;\r\n     private List&lt;Long&gt; course_id_List;\r\n     }\r\n\r\nI wrote this code in StudentServiceImp;\r\n\r\n\r\n    @Transactional(rollbackFor = Exception.class)\r\n    @Override\r\n    public void addCourse(StudentCourseDto studentCourseDto) {\r\n\r\n        Student student = mapper.map(\r\n                this.studentRepository.findById(studentCourseDto.getStudent_id()).get(), Student.class);\r\n\r\n        for (Long id : studentCourseDto.getCourse_id_List()) {\r\n\r\n            //A student cannot be registered in more than 5 courses.\r\n            if (studentCourseDto.getCourse_id_List().size() &lt; 5) {\r\n                Course course = this.courseRepository.findById(id).orElse(null);\r\n                student.getCourseList().add(course);\r\n            }\r\n        }\r\n    }\r\n\r\nBut I can&#39;t do it for course class. Because I can add data from one side in ManyToMany relation. Do you have a solution for this?","title":"Finding the number of related tables in a ManyToMany relationship in JPA-Spring Boot","body":"<p>Thanks for your reply.I did something like this and it works for Student.</p>\n<pre><code>/*\n * This Dto class is used to assign courses to a student\n *\n * */\n @Getter\n @Setter\n public class StudentCourseDto {\n private Long student_id;\n private List&lt;Long&gt; course_id_List;\n }\n</code></pre>\n<p>I wrote this code in StudentServiceImp;</p>\n<pre><code>@Transactional(rollbackFor = Exception.class)\n@Override\npublic void addCourse(StudentCourseDto studentCourseDto) {\n\n    Student student = mapper.map(\n            this.studentRepository.findById(studentCourseDto.getStudent_id()).get(), Student.class);\n\n    for (Long id : studentCourseDto.getCourse_id_List()) {\n\n        //A student cannot be registered in more than 5 courses.\n        if (studentCourseDto.getCourse_id_List().size() &lt; 5) {\n            Course course = this.courseRepository.findById(id).orElse(null);\n            student.getCourseList().add(course);\n        }\n    }\n}\n</code></pre>\n<p>But I can't do it for course class. Because I can add data from one side in ManyToMany relation. Do you have a solution for this?</p>\n"}],"owner":{"account_id":25218706,"reputation":13,"user_id":19055500,"display_name":"Ekin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667744239,"creation_date":1667737082,"question_id":74335789,"body_markdown":"I have @ManyToMany related entity structures named Student and Course.I would like a student to be able to register for a maximum of 3 courses.At the same time, a course must have a maximum of 10 student. How can i do that? (Also I am using mySql database and hibernate)\r\n\r\nHere is my Student class;\r\n\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Student extends BaseEntity {\r\n    private String name;\r\n    private String surname;\r\n    @Column(name = &quot;student_number&quot;,unique = true)\r\n    private String number; //student number\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;students_courses&quot;, joinColumns = @JoinColumn(name = &quot;student_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;))\r\n    private List&lt;Course&gt; courseList = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\n\r\nCourse Class;\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Course extends BaseEntity{\r\n\r\n    @Column(name = &quot;course_name&quot;,unique = true)\r\n    private String courseName;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(mappedBy = &quot;courseList&quot;,cascade = CascadeType.ALL ,fetch = FetchType.EAGER)\r\n    private List&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nRepositories;\r\n\r\n```\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student,Long&gt; {\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Repository\r\npublic interface CourseRepository extends JpaRepository&lt;Course,Long&gt; {\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Finding the number of related tables in a ManyToMany relationship in JPA-Spring Boot","body":"<p>I have @ManyToMany related entity structures named Student and Course.I would like a student to be able to register for a maximum of 3 courses.At the same time, a course must have a maximum of 10 student. How can i do that? (Also I am using mySql database and hibernate)</p>\n<p>Here is my Student class;</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Student extends BaseEntity {\n    private String name;\n    private String surname;\n    @Column(name = &quot;student_number&quot;,unique = true)\n    private String number; //student number\n\n    @JsonIgnore\n    @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;students_courses&quot;, joinColumns = @JoinColumn(name = &quot;student_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;))\n    private List&lt;Course&gt; courseList = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>Course Class;</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Course extends BaseEntity{\n\n    @Column(name = &quot;course_name&quot;,unique = true)\n    private String courseName;\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;courseList&quot;,cascade = CascadeType.ALL ,fetch = FetchType.EAGER)\n    private List&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>Repositories;</p>\n<pre><code>@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student,Long&gt; {\n\n}\n</code></pre>\n<pre><code>@Repository\npublic interface CourseRepository extends JpaRepository&lt;Course,Long&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","filesystems","case-sensitive","system-properties"],"comments":[{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":1,"creation_date":1276813056,"post_id":1288102,"comment_id":3140443,"body_markdown":"Note that &quot;case insensitive filesystem&quot; is not equivalent to &quot;OS is Windows&quot;, anyway.  All of Windows, Linux and Mac OS can use either case-sensitive or case-insensitive filesystems; don&#39;t confuse the concepts.  The &quot;hack&quot; would be to assert that a lowercase filename doesn&#39;t exist; create a (temporary) file with that name in uppercase, then check if the lowercase-named file exists.","body":"Note that &quot;case insensitive filesystem&quot; is not equivalent to &quot;OS is Windows&quot;, anyway.  All of Windows, Linux and Mac OS can use either case-sensitive or case-insensitive filesystems; don&#39;t confuse the concepts.  The &quot;hack&quot; would be to assert that a lowercase filename doesn&#39;t exist; create a (temporary) file with that name in uppercase, then check if the lowercase-named file exists."}],"answers":[{"tags":[],"owner":{"account_id":5298,"reputation":89618,"user_id":8446,"accept_rate":67,"display_name":"Roger Lipscombe"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1250517675,"creation_date":1250517675,"answer_id":1288116,"question_id":1288102,"body_markdown":"Write a file named &quot;HelloWorld&quot;; attempt to read a file named &quot;hELLOwORLD&quot;?\r\n","title":"How do I detect whether the file system is case-sensitive?","body":"<p>Write a file named \"HelloWorld\"; attempt to read a file named \"hELLOwORLD\"?</p>\n"},{"tags":[],"owner":{"account_id":35708,"reputation":8316,"user_id":101225,"display_name":"Steve M"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1250518528,"creation_date":1250518528,"answer_id":1288178,"question_id":1288102,"body_markdown":"Don&#39;t use Strings to represent your files; use java.io.File:\r\n\r\n&lt;http://java.sun.com/javase/6/docs/api/java/io/File.html#equals(java.lang.Object)&gt;\r\n","title":"How do I detect whether the file system is case-sensitive?","body":"<p>Don't use Strings to represent your files; use java.io.File:</p>\n\n<p><a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#equals(java.lang.Object)\" rel=\"noreferrer\">http://java.sun.com/javase/6/docs/api/java/io/File.html#equals(java.lang.Object)</a></p>\n"},{"tags":[],"owner":{"account_id":623998,"reputation":51,"user_id":369827,"display_name":"Alexander"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1318257338,"creation_date":1276812122,"answer_id":3065986,"question_id":1288102,"body_markdown":"    boolean isFileSystemCaseSensitive = !new File( &quot;a&quot; ).equals( new File( &quot;A&quot; ) );","title":"How do I detect whether the file system is case-sensitive?","body":"<pre><code>boolean isFileSystemCaseSensitive = !new File( \"a\" ).equals( new File( \"A\" ) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":176908,"reputation":936,"user_id":407903,"display_name":"Antoine Toulme"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474900552,"creation_date":1291261186,"answer_id":4331435,"question_id":1288102,"body_markdown":"It looks like you can use the [`IOCase`](https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/IOCase.html).","title":"How do I detect whether the file system is case-sensitive?","body":"<p>It looks like you can use the <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/IOCase.html\" rel=\"nofollow\"><code>IOCase</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":35471,"reputation":268,"user_id":100465,"accept_rate":100,"display_name":"Zach Alberico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570836768,"creation_date":1570836465,"answer_id":58349517,"question_id":1288102,"body_markdown":"I don&#39;t think any of the existing examples actually handle this properly, you need to write the file to disk.\r\n\r\n        private boolean caseSensitivityCheck() {\r\n        try {\r\n            File currentWorkingDir = new File(System.getProperty(&quot;user.dir&quot;));\r\n            File case1 = new File(currentWorkingDir, &quot;case1&quot;);\r\n            File case2 = new File(currentWorkingDir, &quot;Case1&quot;);\r\n            case1.createNewFile();\r\n            if (case2.createNewFile()) {\r\n                System.out.println(&quot;caseSensitivityCheck: FileSystem of working directory is case sensitive&quot;);\r\n                case1.delete();\r\n                case2.delete();\r\n                return true;\r\n            } else {\r\n                System.out.println(&quot;caseSensitivityCheck: FileSystem of working directory is NOT case sensitive&quot;);\r\n                case1.delete();\r\n                return false;\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }","title":"How do I detect whether the file system is case-sensitive?","body":"<p>I don't think any of the existing examples actually handle this properly, you need to write the file to disk.</p>\n\n<pre><code>    private boolean caseSensitivityCheck() {\n    try {\n        File currentWorkingDir = new File(System.getProperty(\"user.dir\"));\n        File case1 = new File(currentWorkingDir, \"case1\");\n        File case2 = new File(currentWorkingDir, \"Case1\");\n        case1.createNewFile();\n        if (case2.createNewFile()) {\n            System.out.println(\"caseSensitivityCheck: FileSystem of working directory is case sensitive\");\n            case1.delete();\n            case2.delete();\n            return true;\n        } else {\n            System.out.println(\"caseSensitivityCheck: FileSystem of working directory is NOT case sensitive\");\n            case1.delete();\n            return false;\n        }\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667743489,"creation_date":1667743489,"answer_id":74336556,"question_id":1288102,"body_markdown":"You can use the following static method:\r\n\r\n    /**\r\n     * &lt;p&gt;\r\n     * Checks, whether the provided path points to a case-sensitive file system or not.\r\n     * &lt;/p&gt;\r\n     * &lt;p&gt;\r\n     * It does so by creating two temp-files in the provided  path and comparing them. Note that you need to have write\r\n     * access to the provided path.\r\n     *\r\n     * @param pathToFileSystem path to the file system to test\r\n     * @param tmpFileName      name of the temp file that is created\r\n     * @return {@code true}, if the provided path points to a case-sensitive file system; {@code false} otherwise\r\n     * @throws IOException if IO operation fails\r\n     */\r\n    public static boolean fileSystemIsCaseSensitive(Path pathToFileSystem, String tmpFileName) throws IOException {\r\n\r\n        Path a = Files.createFile(pathToFileSystem.resolve(Paths.get(tmpFileName.toLowerCase())));\r\n        Path b = null;\r\n        try {\r\n            b = Files.createFile(pathToFileSystem.resolve(Paths.get(tmpFileName.toUpperCase())));\r\n        } catch (FileAlreadyExistsException e) {\r\n            return false;\r\n        } finally {\r\n            Files.deleteIfExists(a);\r\n            if (b != null) Files.deleteIfExists(b);\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\nUse it as follows:\r\n\r\n    @Test\r\n    void fileSystemIsCaseSensitive01() throws IOException {\r\n        assertTrue(Util.fileSystemIsCaseSensitive(Paths.get(&quot;/Volumes/Case-sensitive-Volume/Data&quot;), &quot;a&quot;));\r\n    }\r\n\r\n    @Test\r\n    void fileSystemIsCaseSensitive02() throws IOException {\r\n        assertFalse(Util.fileSystemIsCaseSensitive(Paths.get(&quot;/Volumes/Case-insensitive-Volume/Data&quot;), &quot;a&quot;));\r\n    }\r\n\r\nNote the different volumes provided (Case-sensitive-Volume vs. Case-**in**sensitve-Volume).","title":"How do I detect whether the file system is case-sensitive?","body":"<p>You can use the following static method:</p>\n<pre><code>/**\n * &lt;p&gt;\n * Checks, whether the provided path points to a case-sensitive file system or not.\n * &lt;/p&gt;\n * &lt;p&gt;\n * It does so by creating two temp-files in the provided  path and comparing them. Note that you need to have write\n * access to the provided path.\n *\n * @param pathToFileSystem path to the file system to test\n * @param tmpFileName      name of the temp file that is created\n * @return {@code true}, if the provided path points to a case-sensitive file system; {@code false} otherwise\n * @throws IOException if IO operation fails\n */\npublic static boolean fileSystemIsCaseSensitive(Path pathToFileSystem, String tmpFileName) throws IOException {\n\n    Path a = Files.createFile(pathToFileSystem.resolve(Paths.get(tmpFileName.toLowerCase())));\n    Path b = null;\n    try {\n        b = Files.createFile(pathToFileSystem.resolve(Paths.get(tmpFileName.toUpperCase())));\n    } catch (FileAlreadyExistsException e) {\n        return false;\n    } finally {\n        Files.deleteIfExists(a);\n        if (b != null) Files.deleteIfExists(b);\n    }\n    return true;\n}\n</code></pre>\n<p>Use it as follows:</p>\n<pre><code>@Test\nvoid fileSystemIsCaseSensitive01() throws IOException {\n    assertTrue(Util.fileSystemIsCaseSensitive(Paths.get(&quot;/Volumes/Case-sensitive-Volume/Data&quot;), &quot;a&quot;));\n}\n\n@Test\nvoid fileSystemIsCaseSensitive02() throws IOException {\n    assertFalse(Util.fileSystemIsCaseSensitive(Paths.get(&quot;/Volumes/Case-insensitive-Volume/Data&quot;), &quot;a&quot;));\n}\n</code></pre>\n<p>Note the different volumes provided (Case-sensitive-Volume vs. Case-<strong>in</strong>sensitve-Volume).</p>\n"}],"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6179,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":1288178,"answer_count":6,"score":17,"last_activity_date":1667743489,"creation_date":1250517534,"question_id":1288102,"body_markdown":"I have a `List&lt;String&gt;` of file names from a folder and a certain file name as `String`. I want to detect whether the file name is in the list, but need to respect the underlying file system&#39;s property of whether it is case-sensitive.\r\n\r\nIs there any easy way to do this (other than the &quot;hack&quot; of checking `System.getProperty(&quot;os.name&quot;, &quot;&quot;).toLowerCase().indexOf(&quot;windows&quot;)!=-1`)? ;-)","title":"How do I detect whether the file system is case-sensitive?","body":"<p>I have a <code>List&lt;String&gt;</code> of file names from a folder and a certain file name as <code>String</code>. I want to detect whether the file name is in the list, but need to respect the underlying file system's property of whether it is case-sensitive.</p>\n\n<p>Is there any easy way to do this (other than the \"hack\" of checking <code>System.getProperty(\"os.name\", \"\").toLowerCase().indexOf(\"windows\")!=-1</code>)? ;-)</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19825154,"reputation":771,"user_id":14520847,"display_name":"banzhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667743426,"creation_date":1667743426,"answer_id":74336546,"question_id":74336480,"body_markdown":"Modify the displayCurrentVehicleEntry() method, add a parameter to `displayCurrentVehicleEntry()` like this `displayCurrentVehicleEntry(int index)`, and change `AutoInv vehicle = listOfVehicles.get(listOfVehicles.size() - 1);` to `AutoInv vehicle = listOfVehicles.get(index);`\r\n\r\nin addVehicle, you can use `displayCurrentVehicleEntry(listOfVehicles.size() - 1);` and in updateVehicle you can use `displayCurrentVehicleEntry(i);` to select the vehicle you want to print\r\n","title":"How do I display the updated element information when there is more than one element in the arrayList?","body":"<p>Modify the displayCurrentVehicleEntry() method, add a parameter to <code>displayCurrentVehicleEntry()</code> like this <code>displayCurrentVehicleEntry(int index)</code>, and change <code>AutoInv vehicle = listOfVehicles.get(listOfVehicles.size() - 1);</code> to <code>AutoInv vehicle = listOfVehicles.get(index);</code></p>\n<p>in addVehicle, you can use <code>displayCurrentVehicleEntry(listOfVehicles.size() - 1);</code> and in updateVehicle you can use <code>displayCurrentVehicleEntry(i);</code> to select the vehicle you want to print</p>\n"}],"owner":{"account_id":26835110,"reputation":15,"user_id":20422475,"display_name":"cleatus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74336546,"answer_count":1,"score":0,"last_activity_date":1667743426,"creation_date":1667742824,"question_id":74336480,"body_markdown":"I have a program to update vehicle inventory. I call the updateVehicle()...it should loop through the arrayList of vehicles to look for a match based on what the user input. In the if statement, if a match is found, update the vehicle in the arrayList with what the user input, call the displayCurrentVehicleEntry() and display the updated details to console. The code works and will update the vehicle. \r\nHowever, if there is more than one vehicle in the arrayList, it will update it correctly, but not display the details of the updated vehicle (it displays the info for the last element in the arrayList). \r\nIn the displayCurrentVehicleEntry() it will grab the last element and display the details, which works correctly for the addVehicle().\r\nI&#39;m not sure how to get that to work for the updateVehicle().\r\n\r\n```\r\npublic void updateVehicle(String makeCurrent, String modelCurrent, String colorCurrent, int yearCurrent, int mileageCurrent,\r\n\t\t\tString makeUpdated, String modelUpdated, String colorUpdated, int yearUpdated, int mileageUpdated) {\r\n\t\ttry {\r\n\t\t\tboolean found = false;\r\n\t\t\tfor (int i = 0; i &lt; listOfVehicles.size(); i++) {\r\n\t\t\t\tAutoInv vehicle = listOfVehicles.get(i);\r\n\t\t\t\tif (vehicle.getMake().equalsIgnoreCase(makeCurrent) \r\n\t\t\t\t\t\t&amp;&amp; vehicle.getModel().equalsIgnoreCase(modelCurrent)\r\n\t\t\t\t\t\t&amp;&amp; vehicle.getColor().equalsIgnoreCase(colorCurrent) \r\n\t\t\t\t\t\t&amp;&amp; vehicle.getYear() == yearCurrent\r\n\t\t\t\t\t\t&amp;&amp; vehicle.getMileage() == mileageCurrent) {\r\n\t\t\t\t\tvehicle.setMake(makeUpdated);\r\n\t\t\t\t\tvehicle.setModel(modelUpdated);\r\n\t\t\t\t\tvehicle.setColor(colorUpdated);\r\n\t\t\t\t\tvehicle.setYear(yearUpdated);\r\n\t\t\t\t\tvehicle.setMileage(mileageUpdated);\r\n\t\t\t\t\tSystem.out.println(&quot;\\nVehicle updated successfully!\\n&quot;);\r\n\t\t\t\t\tdisplayCurrentVehicleEntry(); //FIXME not working rethink\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\tif (!found) {\r\n\t\t\t\t\tSystem.out.println(&quot;\\nVehicle not found in inventory!&quot;);\r\n\t\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tSystem.out.println(&quot;Failure&quot;);\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t}\r\n```\r\n\r\n```\r\npublic void displayCurrentVehicleEntry() {\r\n\t\ttry {\r\n\t\t\tAutoInv vehicle = listOfVehicles.get(listOfVehicles.size() - 1);\r\n\t\t\tSystem.out.println(&quot;Make: &quot; + vehicle.getMake().toUpperCase());\r\n\t\t\tSystem.out.println(&quot;Model: &quot; + vehicle.getModel().toUpperCase());\r\n\t\t\tSystem.out.println(&quot;Color: &quot; + vehicle.getColor().toUpperCase());\r\n\t\t\tSystem.out.println(&quot;Year: &quot; + vehicle.getYear());\r\n\t\t\tSystem.out.println(&quot;Mileage: &quot; + vehicle.getMileage());\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tSystem.out.println(&quot;Failure&quot;);\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t}\r\n```\r\n\r\n```\r\npublic void addVehicle(AutoInv vehicle) throws Exception{\r\n\t\ttry {\r\n\t\t\tif (listOfVehicles.add(vehicle)) {\r\n\t\t\t\tSystem.out.println(&quot;\\nFollowing vehicle added successfully:\\n&quot;);\r\n\t\t\t\tdisplayCurrentVehicleEntry();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow new Exception(&quot;\\nFailed to add vehicle.&quot;);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t//\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\n","title":"How do I display the updated element information when there is more than one element in the arrayList?","body":"<p>I have a program to update vehicle inventory. I call the updateVehicle()...it should loop through the arrayList of vehicles to look for a match based on what the user input. In the if statement, if a match is found, update the vehicle in the arrayList with what the user input, call the displayCurrentVehicleEntry() and display the updated details to console. The code works and will update the vehicle.\nHowever, if there is more than one vehicle in the arrayList, it will update it correctly, but not display the details of the updated vehicle (it displays the info for the last element in the arrayList).\nIn the displayCurrentVehicleEntry() it will grab the last element and display the details, which works correctly for the addVehicle().\nI'm not sure how to get that to work for the updateVehicle().</p>\n<pre><code>public void updateVehicle(String makeCurrent, String modelCurrent, String colorCurrent, int yearCurrent, int mileageCurrent,\n            String makeUpdated, String modelUpdated, String colorUpdated, int yearUpdated, int mileageUpdated) {\n        try {\n            boolean found = false;\n            for (int i = 0; i &lt; listOfVehicles.size(); i++) {\n                AutoInv vehicle = listOfVehicles.get(i);\n                if (vehicle.getMake().equalsIgnoreCase(makeCurrent) \n                        &amp;&amp; vehicle.getModel().equalsIgnoreCase(modelCurrent)\n                        &amp;&amp; vehicle.getColor().equalsIgnoreCase(colorCurrent) \n                        &amp;&amp; vehicle.getYear() == yearCurrent\n                        &amp;&amp; vehicle.getMileage() == mileageCurrent) {\n                    vehicle.setMake(makeUpdated);\n                    vehicle.setModel(modelUpdated);\n                    vehicle.setColor(colorUpdated);\n                    vehicle.setYear(yearUpdated);\n                    vehicle.setMileage(mileageUpdated);\n                    System.out.println(&quot;\\nVehicle updated successfully!\\n&quot;);\n                    displayCurrentVehicleEntry(); //FIXME not working rethink\n                    found = true;\n                }\n            }\n                if (!found) {\n                    System.out.println(&quot;\\nVehicle not found in inventory!&quot;);\n                }\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            System.out.println(&quot;Failure&quot;);\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n        }\n        }\n</code></pre>\n<pre><code>public void displayCurrentVehicleEntry() {\n        try {\n            AutoInv vehicle = listOfVehicles.get(listOfVehicles.size() - 1);\n            System.out.println(&quot;Make: &quot; + vehicle.getMake().toUpperCase());\n            System.out.println(&quot;Model: &quot; + vehicle.getModel().toUpperCase());\n            System.out.println(&quot;Color: &quot; + vehicle.getColor().toUpperCase());\n            System.out.println(&quot;Year: &quot; + vehicle.getYear());\n            System.out.println(&quot;Mileage: &quot; + vehicle.getMileage());\n            System.out.println(&quot;&quot;);\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            System.out.println(&quot;Failure&quot;);\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n        }   \n    }\n</code></pre>\n<pre><code>public void addVehicle(AutoInv vehicle) throws Exception{\n        try {\n            if (listOfVehicles.add(vehicle)) {\n                System.out.println(&quot;\\nFollowing vehicle added successfully:\\n&quot;);\n                displayCurrentVehicleEntry();\n            }\n            else {\n                throw new Exception(&quot;\\nFailed to add vehicle.&quot;);\n            }\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n            //          e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1420638818,"post_id":27818891,"comment_id":44047578,"body_markdown":"If you are concerned about the readability of the first block of code then you should extract the answer in a static factory method, then the code would look like : `when(source.iterator()).then(returnIteratorFrom(documents))` and you will have a function `public static Answer&lt;Iterator&lt;String&gt;&gt; returnIteratorFrom(final Iterable&lt;String&gt;) { return new Answer...; }`.","body":"If you are concerned about the readability of the first block of code then you should extract the answer in a static factory method, then the code would look like : <code>when(source.iterator()).then(returnIteratorFrom(documents))</code> and you will have a function <code>public static Answer&lt;Iterator&lt;String&gt;&gt; returnIteratorFrom(final Iterable&lt;String&gt;) { return new Answer...; }</code>."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1526019637,"creation_date":1420632170,"answer_id":27819106,"question_id":27818891,"body_markdown":"Inlining code can sometimes be confusing. Let&#39;s unwrap the second block of code:\r\n\r\n    A source = mock(A.class);\r\n    final List&lt;String&gt; documents = getList();\r\n    final Iterator&lt;String&gt; iter = getList().iterator()\r\n    when(source.iterator()).thenReturn(iter);\r\n\r\nNow, it&#39;s easier to understand. The same `iter` object is always returned, and hence it retains it&#39;s state. The fact that before the change above mockito had a function call in the brackets is inconsequential - mockito has an object passed to it, which it stores internally, and returns when required. It cannot &quot;remember&quot; that this object was produced by calling a function unless it has the actual code to execute it - for example, like you did in the first snippet.\r\n","title":"return iterator from thenReturn mockito","body":"<p>Inlining code can sometimes be confusing. Let's unwrap the second block of code:</p>\n\n<pre><code>A source = mock(A.class);\nfinal List&lt;String&gt; documents = getList();\nfinal Iterator&lt;String&gt; iter = getList().iterator()\nwhen(source.iterator()).thenReturn(iter);\n</code></pre>\n\n<p>Now, it's easier to understand. The same <code>iter</code> object is always returned, and hence it retains it's state. The fact that before the change above mockito had a function call in the brackets is inconsequential - mockito has an object passed to it, which it stores internally, and returns when required. It cannot \"remember\" that this object was produced by calling a function unless it has the actual code to execute it - for example, like you did in the first snippet.</p>\n"},{"tags":[],"owner":{"account_id":2324608,"reputation":304,"user_id":2039413,"display_name":"bench"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481106913,"creation_date":1481106913,"answer_id":41015154,"question_id":27818891,"body_markdown":"In complement to what Mureinik stated, this behaviour is actually the normal behaviour of the **when** Mockito method. From [Mockito doc](http://mockito.github.io/mockito/docs/current/org/mockito/Mockito.html#39):\r\n\r\n&gt; Once stubbed, the method will always return stubbed value regardless\r\n&gt; of how many times it is called.\r\n\r\n","title":"return iterator from thenReturn mockito","body":"<p>In complement to what Mureinik stated, this behaviour is actually the normal behaviour of the <strong>when</strong> Mockito method. From <a href=\"http://mockito.github.io/mockito/docs/current/org/mockito/Mockito.html#39\" rel=\"nofollow noreferrer\">Mockito doc</a>:</p>\n\n<blockquote>\n  <p>Once stubbed, the method will always return stubbed value regardless\n  of how many times it is called.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3933255,"reputation":1150,"user_id":3250822,"display_name":"Carlo Bellettini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667743418,"creation_date":1667743418,"answer_id":74336545,"question_id":27818891,"body_markdown":"A very old question, but here are my 2cents\r\n\r\nto stub a generic Iterable, I defined this generic function\r\n inside an utility class:\r\n\r\n```java\r\npublic class MockUtils {\r\n  public static &lt;T&gt; void whenIterated(Iterable&lt;T&gt; p, T... elem) {\r\n    when(p.iterator()).thenAnswer(a -&gt; List.of(elem).iterator());\r\n   }\r\n}\r\n```\r\n\r\nand then if I have to stub A iterating on a list (like `documents`) I use it n this way:\r\n\r\n```java\r\nA source = mock(A.class);\r\nMockUtils.whenIterated(source, documents);\r\n```","title":"return iterator from thenReturn mockito","body":"<p>A very old question, but here are my 2cents</p>\n<p>to stub a generic Iterable, I defined this generic function\ninside an utility class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MockUtils {\n  public static &lt;T&gt; void whenIterated(Iterable&lt;T&gt; p, T... elem) {\n    when(p.iterator()).thenAnswer(a -&gt; List.of(elem).iterator());\n   }\n}\n</code></pre>\n<p>and then if I have to stub A iterating on a list (like <code>documents</code>) I use it n this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>A source = mock(A.class);\nMockUtils.whenIterated(source, documents);\n</code></pre>\n"}],"owner":{"account_id":1158364,"reputation":606,"user_id":1138388,"accept_rate":20,"display_name":"learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21369,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":27819106,"answer_count":3,"score":8,"last_activity_date":1667743418,"creation_date":1420631457,"question_id":27818891,"body_markdown":"Hi I have a class `A` implementing `Iterable`.\r\nI have this code to stub an object of this class:\r\n\r\nFirst way:\r\n\r\n    A source = mock(A.class);\r\n    final List&lt;String&gt; documents = getList();\r\n    when(source.iterator()).thenAnswer(new Answer&lt;Iterator&lt;String&gt;&gt;() {\r\n        @Override\r\n        public Iterator&lt;String&gt; answer(final InvocationOnMock invocation) throws Throwable {\r\n            return documents.iterator();\r\n        }\r\n    });\r\n\r\n\r\nSecond way:\r\n\r\n    A source = mock(A.class);\r\n    final List&lt;String&gt; documents = getList();\r\n    when(source.iterator()).thenReturn(getList().iterator());\r\n\r\nThe first way returns a new `Iterator` on every call to `source.iterator()` but the second one returns the same `Iterator` object. So if I use second way to stub the source object, I get an empty iterator in subsequent calls to `source.iterator()`.\r\n\r\nWhy is this happening? Shouldn&#39;t Mock return a new `Iterator` on every call to `source.iterator() `?\r\n","title":"return iterator from thenReturn mockito","body":"<p>Hi I have a class <code>A</code> implementing <code>Iterable</code>.\nI have this code to stub an object of this class:</p>\n\n<p>First way:</p>\n\n<pre><code>A source = mock(A.class);\nfinal List&lt;String&gt; documents = getList();\nwhen(source.iterator()).thenAnswer(new Answer&lt;Iterator&lt;String&gt;&gt;() {\n    @Override\n    public Iterator&lt;String&gt; answer(final InvocationOnMock invocation) throws Throwable {\n        return documents.iterator();\n    }\n});\n</code></pre>\n\n<p>Second way:</p>\n\n<pre><code>A source = mock(A.class);\nfinal List&lt;String&gt; documents = getList();\nwhen(source.iterator()).thenReturn(getList().iterator());\n</code></pre>\n\n<p>The first way returns a new <code>Iterator</code> on every call to <code>source.iterator()</code> but the second one returns the same <code>Iterator</code> object. So if I use second way to stub the source object, I get an empty iterator in subsequent calls to <code>source.iterator()</code>.</p>\n\n<p>Why is this happening? Shouldn't Mock return a new <code>Iterator</code> on every call to <code>source.iterator()</code>?</p>\n"},{"tags":["java","lag","timedelta","game-loop"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1667742971,"post_id":74336452,"comment_id":131234651,"body_markdown":"Does this answer your question? [Why does my custom Swing component repaint faster when I move the mouse? (Java)](https://stackoverflow.com/questions/57948299/why-does-my-custom-swing-component-repaint-faster-when-i-move-the-mouse-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57948299/why-does-my-custom-swing-component-repaint-faster-when-i-move-the-mouse-java\">Why does my custom Swing component repaint faster when I move the mouse? (Java)</a>"},{"owner":{"account_id":25708079,"reputation":5,"user_id":19467065,"display_name":"AnsG"},"score":0,"creation_date":1667754359,"post_id":74336452,"comment_id":131237332,"body_markdown":"@Progman. It maybe does. But I cannot seem to apply it to my code. Can you help me there? I can see that the problem seems to be similar but I can&#39;t apply that to my code.","body":"@Progman. It maybe does. But I cannot seem to apply it to my code. Can you help me there? I can see that the problem seems to be similar but I can&#39;t apply that to my code."}],"owner":{"account_id":25708079,"reputation":5,"user_id":19467065,"display_name":"AnsG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667742623,"creation_date":1667742604,"question_id":74336452,"body_markdown":"I&#39;m creating a flappy bird kind of game. The fist step was to setup a Frame, panel in the main class and a Player class that extends JLabel. In this class, I&#39;ve created a fall() method that sets the players y location to + 7. Then I created a gameLoop which works with delta. If delta &gt;= 1 I call ufo.fall() and set delta --;. \r\n\r\nNow, when I run my game, It lags immensely. it becomes more over time. Do you have an idea why this is? \r\n\r\nThis is my code: \r\nMain class: \r\n```Java\r\nimport java.awt.Color;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Main implements KeyListener{\r\n\r\n\tstatic Player ufo = new Player(100, 100, 40, 50, Color.BLUE);\r\n\tprivate static long fps = 30;\r\n\tpublic static boolean jumpbool;  \r\n\t\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setSize(4000, 2000);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setResizable(true);\r\n\t\tframe.setLayout(null);\r\n\t\t\r\n\t\tJPanel panel = new JPanel();\r\n\t\tpanel.setSize(4000, 2000);\r\n\t\tpanel.setLayout(null);\r\n\t\tpanel.setBackground(Color.darkGray);\r\n\t\t\r\n\t\tpanel.add(ufo);\r\n\t\t\r\n\t\tframe.add(panel);\r\n\t\t\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\t\r\n\t\t\r\n\t\tframe.addKeyListener(new Main());\r\n\t\t\r\n\t\trunLoop();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void runLoop() {\r\n\t\r\n\t\tdouble drawInterval = 1000000000/fps;\r\n\t\tdouble delta = 0; \r\n\t\tlong lastTime = System.nanoTime();\r\n\t\tlong currentTime;\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\t\r\n\t\t\tcurrentTime = System.nanoTime();\r\n\t\t\t\r\n\t\t\tdelta += (currentTime - lastTime) / drawInterval; \r\n\t\t\t\r\n\t\t\tlastTime = currentTime;\r\n\t\t\t\r\n\t\t\tif(delta &gt;= 1) {\r\n\t\t\t\tufo.fall();\r\n\t\t\t\tdelta --;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nPlayer class:\r\n\r\n```Java\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JLabel;\r\n\r\npublic class Player extends JLabel{\r\n\r\n\tint x,y,width,height;\r\n\tColor color; \r\n\t\r\n\tPlayer(int x, int y, int width, int height, Color color){\r\n\t\t\r\n\t\tthis.setBounds(x, y, width, height);\r\n\t\tthis.setBackground(color);\r\n\t\tthis.setOpaque(true);\r\n\t}\r\n\t\r\n\tpublic void fall() {\r\n\t\r\n\t\tthis.setLocation(this.getX(), this.getY() + 7);\r\n\t\t\r\n\t}\r\n}\r\n```","title":"how can I make my delta gameloop stop lagging in Java?","body":"<p>I'm creating a flappy bird kind of game. The fist step was to setup a Frame, panel in the main class and a Player class that extends JLabel. In this class, I've created a fall() method that sets the players y location to + 7. Then I created a gameLoop which works with delta. If delta &gt;= 1 I call ufo.fall() and set delta --;.</p>\n<p>Now, when I run my game, It lags immensely. it becomes more over time. Do you have an idea why this is?</p>\n<p>This is my code:\nMain class:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main implements KeyListener{\n\n    static Player ufo = new Player(100, 100, 40, 50, Color.BLUE);\n    private static long fps = 30;\n    public static boolean jumpbool;  \n    \n    public static void main(String[] args) throws InterruptedException {\n        \n        JFrame frame = new JFrame();\n        frame.setSize(4000, 2000);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(true);\n        frame.setLayout(null);\n        \n        JPanel panel = new JPanel();\n        panel.setSize(4000, 2000);\n        panel.setLayout(null);\n        panel.setBackground(Color.darkGray);\n        \n        panel.add(ufo);\n        \n        frame.add(panel);\n        \n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true); \n        \n        frame.addKeyListener(new Main());\n        \n        runLoop();\n        \n    }\n    \n    public static void runLoop() {\n    \n        double drawInterval = 1000000000/fps;\n        double delta = 0; \n        long lastTime = System.nanoTime();\n        long currentTime;\n        \n        while(true) {\n            \n            currentTime = System.nanoTime();\n            \n            delta += (currentTime - lastTime) / drawInterval; \n            \n            lastTime = currentTime;\n            \n            if(delta &gt;= 1) {\n                ufo.fall();\n                delta --;\n            }\n        }\n    }\n</code></pre>\n<p>Player class:</p>\n<pre><code>import java.awt.Color;\n\nimport javax.swing.JLabel;\n\npublic class Player extends JLabel{\n\n    int x,y,width,height;\n    Color color; \n    \n    Player(int x, int y, int width, int height, Color color){\n        \n        this.setBounds(x, y, width, height);\n        this.setBackground(color);\n        this.setOpaque(true);\n    }\n    \n    public void fall() {\n    \n        this.setLocation(this.getX(), this.getY() + 7);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","azure-functions","azure-sdk-.net","azure-sdk","azure-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":14422052,"reputation":6211,"user_id":10417839,"display_name":"PramodValavala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667742375,"creation_date":1667742375,"answer_id":74336422,"question_id":73791177,"body_markdown":"If you are looking for more control, instead of using the bindings, you can use the Azure Storage SDK directly. Check out the [quickstart][1] doc for getting \r\nsetup.\r\n\r\n[This sample code][2] has full end-to-end code that you could build upon. Here is the code that you are looking for in it for reference\r\n\r\n```java\r\nString data = &quot;Hello world!&quot;;\r\nInputStream dataStream = new ByteArrayInputStream(data.getBytes(StandardCharsets.UTF_8));\r\n\r\n/*\r\n * Create the blob with string (plain text) content.\r\n */\r\nblobClient.upload(dataStream, data.length());\r\n\r\ndataStream.close();\r\n\r\n/*\r\n * Download the blob&#39;s content to output stream.\r\n */\r\nint dataSize = (int) blobClient.getProperties().getBlobSize();\r\nByteArrayOutputStream outputStream = new ByteArrayOutputStream(dataSize);\r\nblobClient.downloadStream(outputStream);\r\noutputStream.close();\r\n```\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli\r\n  [2]: https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/storage/azure-storage-blob/src/samples/java/com/azure/storage/blob/BasicExample.java","title":"How to fetch Azure Blob Content Using Java from Azure Functions","body":"<p>If you are looking for more control, instead of using the bindings, you can use the Azure Storage SDK directly. Check out the <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli\" rel=\"nofollow noreferrer\">quickstart</a> doc for getting\nsetup.</p>\n<p><a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/storage/azure-storage-blob/src/samples/java/com/azure/storage/blob/BasicExample.java\" rel=\"nofollow noreferrer\">This sample code</a> has full end-to-end code that you could build upon. Here is the code that you are looking for in it for reference</p>\n<pre class=\"lang-java prettyprint-override\"><code>String data = &quot;Hello world!&quot;;\nInputStream dataStream = new ByteArrayInputStream(data.getBytes(StandardCharsets.UTF_8));\n\n/*\n * Create the blob with string (plain text) content.\n */\nblobClient.upload(dataStream, data.length());\n\ndataStream.close();\n\n/*\n * Download the blob's content to output stream.\n */\nint dataSize = (int) blobClient.getProperties().getBlobSize();\nByteArrayOutputStream outputStream = new ByteArrayOutputStream(dataSize);\nblobClient.downloadStream(outputStream);\noutputStream.close();\n</code></pre>\n"}],"owner":{"account_id":25813452,"reputation":9,"user_id":19553779,"display_name":"Venkatesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74336422,"answer_count":1,"score":0,"last_activity_date":1667742375,"creation_date":1663698555,"question_id":73791177,"body_markdown":"I am creating Azure function using Java, My requirement I need to copy blob from one container to another container with encryption \r\n\r\nso, for encrypting blob I am adding 4bites before and after the blob while uploading to sink container\r\n\r\nnow, I need to fetch blob content, for this I found one class in azure i.e,\r\n\r\n    @BlobInput(\r\n     name = &quot;InputFileName&quot;, \r\n     dataType = &quot;binary&quot;, \r\n     path = sourceContainerName+&quot;/{InputFileName}&quot;) \r\n     byte[] content,\r\n\r\nHere `byte[] content,` fetching content of blob\r\n\r\n but I am facing some errors like, if I pass any file name as `InputFileName` parameter it is giving 200ok means returning successful. also it is difficult to mefor exception handling\r\n\r\nso I am looking for other ways for fetching blob content.... please answer me if any methods or classes we have","title":"How to fetch Azure Blob Content Using Java from Azure Functions","body":"<p>I am creating Azure function using Java, My requirement I need to copy blob from one container to another container with encryption</p>\n<p>so, for encrypting blob I am adding 4bites before and after the blob while uploading to sink container</p>\n<p>now, I need to fetch blob content, for this I found one class in azure i.e,</p>\n<pre><code>@BlobInput(\n name = &quot;InputFileName&quot;, \n dataType = &quot;binary&quot;, \n path = sourceContainerName+&quot;/{InputFileName}&quot;) \n byte[] content,\n</code></pre>\n<p>Here <code>byte[] content,</code> fetching content of blob</p>\n<p>but I am facing some errors like, if I pass any file name as <code>InputFileName</code> parameter it is giving 200ok means returning successful. also it is difficult to mefor exception handling</p>\n<p>so I am looking for other ways for fetching blob content.... please answer me if any methods or classes we have</p>\n"},{"tags":["java","angular","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":17887575,"reputation":1010,"user_id":12994886,"display_name":"Anoop Rajasekhara Warrier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657264444,"creation_date":1657264444,"answer_id":72907934,"question_id":72906876,"body_markdown":"Here instead of using `*ngFor=&quot;let temp in books&quot;`, we should have `*ngFor=&quot;let temp of books&quot;`. Please use the below snippet:\r\n\r\n    &lt;p *ngFor=&quot;let temp of books&quot;&gt;\r\n        {{temp.name}} -- {{temp.author}}\r\n    &lt;/p&gt;\r\n\r\nThis could resolve your issue if we are getting the data correctly in `this.books` property. Hope this helps.","title":"Why the ngFor in angular not printing the statements or data on browser that i am getting from my Spring Boot application","body":"<p>Here instead of using <code>*ngFor=&quot;let temp in books&quot;</code>, we should have <code>*ngFor=&quot;let temp of books&quot;</code>. Please use the below snippet:</p>\n<pre><code>&lt;p *ngFor=&quot;let temp of books&quot;&gt;\n    {{temp.name}} -- {{temp.author}}\n&lt;/p&gt;\n</code></pre>\n<p>This could resolve your issue if we are getting the data correctly in <code>this.books</code> property. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":17051985,"reputation":11,"user_id":12337422,"display_name":"Prabath Udayanga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667741853,"creation_date":1667741853,"answer_id":74336354,"question_id":72906876,"body_markdown":" - Use the Observable error block to see if you are getting any errors from\r\n   the API or check the response format.\r\n - Your API returns a String value to the front end either you need to remove the API to return List&lt;&gt; or use JSON.parse(this.books) to convert the response to Array.\r\n - Use &quot;of&quot; instead &quot;in&quot; inside *ngFor. \r\n - Check the availability of &quot;CommonModule&quot; in the module that your component declared.\r\n\r\n        \r\n       @GetMapping(&quot;/getBooks&quot;)\r\n       public List&lt;Books&gt; getAll() {\r\n       \r\n           return bookservice.getAll();\r\n       }\r\n\r\n       constructor(private service:BookService) {}\r\n\r\n        ngOnInit():void{\r\n          this.loadData();\r\n        }\r\n\r\n        loadData():void {\r\n          this.service.getAll().subscribe(response =&gt; {\r\n            this.books = response;\r\n            console.log(this.books);\r\n          },error=&gt;{\r\n            console.log(error)\r\n          })\r\n        }\r\n\r\n       #appComponent.html -\r\n\r\n\r\n       &lt;p *ngFor=&quot;let temp of books&quot;&gt;\r\n           {{temp.name}} -- {{temp.author}}\r\n       &lt;/p&gt;","title":"Why the ngFor in angular not printing the statements or data on browser that i am getting from my Spring Boot application","body":"<ul>\n<li><p>Use the Observable error block to see if you are getting any errors from\nthe API or check the response format.</p>\n</li>\n<li><p>Your API returns a String value to the front end either you need to remove the API to return List&lt;&gt; or use JSON.parse(this.books) to convert the response to Array.</p>\n</li>\n<li><p>Use &quot;of&quot; instead &quot;in&quot; inside *ngFor.</p>\n</li>\n<li><p>Check the availability of &quot;CommonModule&quot; in the module that your component declared.</p>\n<pre><code>@GetMapping(&quot;/getBooks&quot;)\npublic List&lt;Books&gt; getAll() {\n\n    return bookservice.getAll();\n}\n\nconstructor(private service:BookService) {}\n\n ngOnInit():void{\n   this.loadData();\n }\n\n loadData():void {\n   this.service.getAll().subscribe(response =&gt; {\n     this.books = response;\n     console.log(this.books);\n   },error=&gt;{\n     console.log(error)\n   })\n }\n\n#appComponent.html -\n\n\n&lt;p *ngFor=&quot;let temp of books&quot;&gt;\n    {{temp.name}} -- {{temp.author}}\n&lt;/p&gt;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":17842773,"reputation":11,"user_id":12960335,"display_name":"Mayank Parihar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667741853,"creation_date":1657256810,"question_id":72906876,"body_markdown":"When working on SpringBoot and angular connectivity I was passing data like getbooks by getmapping through JSON and it is getting printed on the server of Spring but after passing these values to angular using service angular is not printing the data on the server.\r\n\r\n        \r\n    \r\n\r\n#SpringBoot Controller File -\r\n   \r\n\r\n     @RestController\r\n        public class BookController {\r\n        \t\r\n        @Autowired\r\n        BookService bookservice;\r\n            \r\n            \t@GetMapping(&quot;/&quot;)\r\n            \tpublic String homePage() {\r\n            \t\treturn &quot;This is home Page&quot;;\r\n            \t}\r\n            \r\n            \t@GetMapping(&quot;/addBook&quot;)\r\n            \tpublic String addBook(int id, String name, String author) {\r\n            \t\tbookservice.addBook(Book.builder().id(id).name(name).author(author).build());\r\n            \t\treturn &quot;Book Added&quot;;\r\n            \r\n            \t}\r\n            \r\n            \t@GetMapping(&quot;/deleteBook&quot;)\r\n            \tpublic String deleteBook(int id) {\r\n            \t\tbookservice.deleteBook(id);\r\n            \t\treturn &quot;Book deleted&quot;;\r\n            \t}\r\n            \r\n            \t@GetMapping(&quot;/getBooks&quot;)\r\n            \tpublic String getAll() {\r\n            \r\n            \t\tGson gson = new Gson();\r\n            \t\tString json = gson.toJson(bookservice.getAll());\r\n            \t\treturn json;\r\n            \t}\r\n            \r\n            }\r\n        \r\n        \r\n        #SpringBoot service file -\r\n        \r\n    \r\n\r\n   \r\n\r\n     @Service\r\n            public class BookService {\r\n            \t\r\n            \t@Autowired\r\n            \tBookRepo repo;\r\n            \r\n            \tpublic void addBook(Book book) {\r\n            \t\trepo.save(book);\r\n            \t\trepo.flush();\r\n            \t}\r\n            \tpublic List&lt;Book&gt; getAll(){\r\n            \t\treturn repo.findAll();\r\n            \t}\r\n            \tpublic void deleteBook(int id) {\r\n            \t\t\r\n            \t\trepo.delete(Book.builder().id(id).build());\r\n            \t}\r\n            \t\r\n            \t\r\n            }\r\n        \r\n        #Angular service.ts-\r\n        \r\n   \r\n\r\n \r\n\r\n    import { Injectable } from &#39;@angular/core&#39;;\r\n        import { HttpClient } from &#39;@angular/common/http&#39;;\r\n        \r\n        @Injectable({\r\n          providedIn: &#39;root&#39;\r\n        })\r\n        export class BookService {\r\n        \r\n          constructor(private http : HttpClient) { }\r\n        \r\n        getAll(){\r\n          return this.http.get&lt;any&gt;(&quot;http://localhost:8080/getBooks&quot;);\r\n        }\r\n        addBook(user:any){\r\n          return this.http.get(&quot;http://localhost:8080/addBook?id=&quot;+ user.id + &quot;&amp;name=&quot; +user.name + &quot;&amp;author=&quot;+user.author);\r\n        }\r\n        deleteBook(id:any){\r\n          return this.http.get(&quot;http://localhost:8080/deleteBook?id=&quot;+id);\r\n        }\r\n        }\r\n        \r\n        #appComponent.ts -\r\n        \r\n    \r\n\r\n \r\n\r\nbooks:any;\r\n    \r\n      constructor(private service:BookService) {}\r\n    \r\n      ngOnInit():void{\r\n        this.loadData();\r\n      }\r\n    \r\n      loadData():void {\r\n        this.service.getAll().subscribe(response =&gt; {\r\n          this.books = response;\r\n          console.log(this.books);\r\n        })\r\n      }\r\n    \r\n    #appComponent.html -\r\n    \r\n    \r\n    \r\n    &lt;p *ngFor=&quot;let temp in books&quot;&gt;\r\n        {{temp.name}} -- {{temp.author}}\r\n    &lt;/p&gt;\r\n\r\n\r\n\r\n\r\n","title":"Why the ngFor in angular not printing the statements or data on browser that i am getting from my Spring Boot application","body":"<p>When working on SpringBoot and angular connectivity I was passing data like getbooks by getmapping through JSON and it is getting printed on the server of Spring but after passing these values to angular using service angular is not printing the data on the server.</p>\n<p>#SpringBoot Controller File -</p>\n<pre><code> @RestController\n    public class BookController {\n        \n    @Autowired\n    BookService bookservice;\n        \n            @GetMapping(&quot;/&quot;)\n            public String homePage() {\n                return &quot;This is home Page&quot;;\n            }\n        \n            @GetMapping(&quot;/addBook&quot;)\n            public String addBook(int id, String name, String author) {\n                bookservice.addBook(Book.builder().id(id).name(name).author(author).build());\n                return &quot;Book Added&quot;;\n        \n            }\n        \n            @GetMapping(&quot;/deleteBook&quot;)\n            public String deleteBook(int id) {\n                bookservice.deleteBook(id);\n                return &quot;Book deleted&quot;;\n            }\n        \n            @GetMapping(&quot;/getBooks&quot;)\n            public String getAll() {\n        \n                Gson gson = new Gson();\n                String json = gson.toJson(bookservice.getAll());\n                return json;\n            }\n        \n        }\n    \n    \n    #SpringBoot service file -\n    \n\n\n\n\n @Service\n        public class BookService {\n            \n            @Autowired\n            BookRepo repo;\n        \n            public void addBook(Book book) {\n                repo.save(book);\n                repo.flush();\n            }\n            public List&lt;Book&gt; getAll(){\n                return repo.findAll();\n            }\n            public void deleteBook(int id) {\n                \n                repo.delete(Book.builder().id(id).build());\n            }\n            \n            \n        }\n    \n    #Angular service.ts-\n    \n\n\n\n\nimport { Injectable } from '@angular/core';\n    import { HttpClient } from '@angular/common/http';\n    \n    @Injectable({\n      providedIn: 'root'\n    })\n    export class BookService {\n    \n      constructor(private http : HttpClient) { }\n    \n    getAll(){\n      return this.http.get&lt;any&gt;(&quot;http://localhost:8080/getBooks&quot;);\n    }\n    addBook(user:any){\n      return this.http.get(&quot;http://localhost:8080/addBook?id=&quot;+ user.id + &quot;&amp;name=&quot; +user.name + &quot;&amp;author=&quot;+user.author);\n    }\n    deleteBook(id:any){\n      return this.http.get(&quot;http://localhost:8080/deleteBook?id=&quot;+id);\n    }\n    }\n    \n    #appComponent.ts -\n    \n</code></pre>\n<p>books:any;</p>\n<pre><code>  constructor(private service:BookService) {}\n\n  ngOnInit():void{\n    this.loadData();\n  }\n\n  loadData():void {\n    this.service.getAll().subscribe(response =&gt; {\n      this.books = response;\n      console.log(this.books);\n    })\n  }\n\n#appComponent.html -\n\n\n\n&lt;p *ngFor=&quot;let temp in books&quot;&gt;\n    {{temp.name}} -- {{temp.author}}\n&lt;/p&gt;\n</code></pre>\n"},{"tags":["java","logging"],"answers":[{"tags":[],"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1332845086,"creation_date":1332845086,"answer_id":9888050,"question_id":9887972,"body_markdown":"I usually use number two, although I NEVER break one line of log into 2 lines (\\n), although when printing the stack trace, it won&#39;t matter much (in all other cases, it creates too much visual entropy when your logs become really huge).\r\n\r\nWhy do I use number 2? \r\n\r\nI want to see the message right away, on the first line, since it&#39;s the first thing that tells me what happened. Some might be expected and I can safely skip them, and some might not be.\r\n\r\nIn case I need to examine exactly what happened, I take a better look at the stack trace.\r\n\r\nI reckon number 3 is also fine, since you&#39;ll get the information you need anyway.\r\nNEVER use option 1.\r\n\r\nBy the way, and just a particular opinion, saying that something bad happened on a ERROR line is a bit redundant ;)","title":"Logging good practice","body":"<p>I usually use number two, although I NEVER break one line of log into 2 lines (\\n), although when printing the stack trace, it won't matter much (in all other cases, it creates too much visual entropy when your logs become really huge).</p>\n\n<p>Why do I use number 2? </p>\n\n<p>I want to see the message right away, on the first line, since it's the first thing that tells me what happened. Some might be expected and I can safely skip them, and some might not be.</p>\n\n<p>In case I need to examine exactly what happened, I take a better look at the stack trace.</p>\n\n<p>I reckon number 3 is also fine, since you'll get the information you need anyway.\nNEVER use option 1.</p>\n\n<p>By the way, and just a particular opinion, saying that something bad happened on a ERROR line is a bit redundant ;)</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332845302,"creation_date":1332845302,"answer_id":9888109,"question_id":9887972,"body_markdown":"If you look at the source code of Throwable (http://www.docjar.com/html/api/java/lang/Throwable.java.html) you&#39;ll find that a Throwable when asked to print its stacktrace starts by priting itself, which prints its message.\r\n\r\nI find it unlikely that anybody would change this behaviour, so your arguments are all correct and the 3. option is fine","title":"Logging good practice","body":"<p>If you look at the source code of Throwable (http://www.docjar.com/html/api/java/lang/Throwable.java.html) you'll find that a Throwable when asked to print its stacktrace starts by priting itself, which prints its message.</p>\n\n<p>I find it unlikely that anybody would change this behaviour, so your arguments are all correct and the 3. option is fine</p>\n"},{"tags":[],"owner":{"account_id":940870,"reputation":20212,"user_id":968969,"display_name":"Tony Hopkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332845486,"creation_date":1332845486,"answer_id":9888156,"question_id":9887972,"body_markdown":"You definitely want the stack trace.\r\nMessage is handy in circumstances where you&#39;ve done something like &quot;Error : Unable to find customer with ID : {0}&quot;, which may not be in the stacktrace. Trivial example but you get what I mean.\r\n\r\nAnother one for message is if you do the log as say a csv so you can analyse it. You can standarise message, and make filtering easier.\r\n\r\nLast but not least redundant info in an error log, is way way way less of a problem, then the info you need not being in it. Err on the side of extreme verbosity is my guiding principle.\r\n\r\nOh this is for contrrolled access to a log file ,never say put stack trace as a response in asp for instance. Hackers wet dream that.\r\n","title":"Logging good practice","body":"<p>You definitely want the stack trace.\nMessage is handy in circumstances where you've done something like \"Error : Unable to find customer with ID : {0}\", which may not be in the stacktrace. Trivial example but you get what I mean.</p>\n\n<p>Another one for message is if you do the log as say a csv so you can analyse it. You can standarise message, and make filtering easier.</p>\n\n<p>Last but not least redundant info in an error log, is way way way less of a problem, then the info you need not being in it. Err on the side of extreme verbosity is my guiding principle.</p>\n\n<p>Oh this is for contrrolled access to a log file ,never say put stack trace as a response in asp for instance. Hackers wet dream that.</p>\n"}],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9888050,"answer_count":3,"score":3,"last_activity_date":1667741759,"creation_date":1332844842,"question_id":9887972,"body_markdown":"I use sl4j / logback as a logging framework. I am unsure about the right way to log errors. Namely, assuming e is an Exception I want to log, I always hesitate between:\n\n  1. `logger.error(&quot;Something bad happened: {}\\nError: {}&quot;, someInfo, e.getMessage()); `\n\n      I understand this is not good practice because the stack trace is lost - not great to understand what happened.\n\n  2. `logger.error(&quot;Something bad happened: {}\\nError: {}&quot;, someInfo, e.getMessage(), e);`\n\n      Using both `e.getMessage()` and `e` seems redundant, although I don&#39;t know if it is possible that `e.getMessage()` might contain extra information that would not be seen if I used:\n\n  3. `logger.error(&quot;Something bad happened: {}&quot;, someInfo, e);`\n\n      which is the syntax I generally use  - but I want to make sure I am not missing anything.","title":"Logging good practice","body":"<p>I use sl4j / logback as a logging framework. I am unsure about the right way to log errors. Namely, assuming e is an Exception I want to log, I always hesitate between:</p>\n<ol>\n<li><p><code>logger.error(&quot;Something bad happened: {}\\nError: {}&quot;, someInfo, e.getMessage()); </code></p>\n<p>I understand this is not good practice because the stack trace is lost - not great to understand what happened.</p>\n</li>\n<li><p><code>logger.error(&quot;Something bad happened: {}\\nError: {}&quot;, someInfo, e.getMessage(), e);</code></p>\n<p>Using both <code>e.getMessage()</code> and <code>e</code> seems redundant, although I don't know if it is possible that <code>e.getMessage()</code> might contain extra information that would not be seen if I used:</p>\n</li>\n<li><p><code>logger.error(&quot;Something bad happened: {}&quot;, someInfo, e);</code></p>\n<p>which is the syntax I generally use  - but I want to make sure I am not missing anything.</p>\n</li>\n</ol>\n"},{"tags":["java","sql-server","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"score":0,"creation_date":1667338274,"post_id":74281935,"comment_id":131143277,"body_markdown":"are you sure that the return type of the method is int?","body":"are you sure that the return type of the method is int?"},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1667423996,"post_id":74281935,"comment_id":131166984,"body_markdown":"I am executing this from the application database but sys.geo_replication_links is in master database.  I tried this code but it didnt work ... @Query(nativeQuery = true, value = &quot;SELECT partner_server FROM [master].sys.geo_replication_links&quot;)\n   public String getServerName();","body":"I am executing this from the application database but sys.geo_replication_links is in master database.  I tried this code but it didnt work ... @Query(nativeQuery = true, value = &quot;SELECT partner_server FROM [master].sys.geo_replication_links&quot;)    public String getServerName();"},{"owner":{"account_id":21704500,"reputation":75,"user_id":16017180,"display_name":"Joan"},"score":0,"creation_date":1667491045,"post_id":74281935,"comment_id":131184098,"body_markdown":"Have you tried executing the native SQL in Sql Server ? If yes, does it work ?","body":"Have you tried executing the native SQL in Sql Server ? If yes, does it work ?"},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1667574401,"post_id":74281935,"comment_id":131205668,"body_markdown":"yes, It works !!! The only difference is, sys.geo_replication_links is available in master database and in my application is configured to use application database.","body":"yes, It works !!! The only difference is, sys.geo_replication_links is available in master database and in my application is configured to use application database."},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":1,"creation_date":1667576587,"post_id":74281935,"comment_id":131206456,"body_markdown":"@SajitGangadharan, you must use the master database context to execute the query, not the application database. Specify `master` in the connection string for this query.","body":"@SajitGangadharan, you must use the master database context to execute the query, not the application database. Specify <code>master</code> in the connection string for this query."},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1667577058,"post_id":74281935,"comment_id":131206628,"body_markdown":"yes, you are right. Do I need to create a new connection for master altogether or Is it possible to do something like this ?  @Query(nativeQuery = true, value = &quot;SELECT role FROM [master].sys.geo_replication_links&quot;)  but it didnt work","body":"yes, you are right. Do I need to create a new connection for master altogether or Is it possible to do something like this ?  @Query(nativeQuery = true, value = &quot;SELECT role FROM [master].sys.geo_replication_links&quot;)  but it didnt work"},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":0,"creation_date":1667578006,"post_id":74281935,"comment_id":131206999,"body_markdown":"@SajitGangadharan, I elaborated with an answer.","body":"@SajitGangadharan, I elaborated with an answer."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1667583987,"post_id":74281935,"comment_id":131209132,"body_markdown":"Depending on how you create the connection you might need to either edit it (to connect to master and then specify each time you want to use a table from your custom schema) or leave the connection with the custom schema in place, and create a second one with master.","body":"Depending on how you create the connection you might need to either edit it (to connect to master and then specify each time you want to use a table from your custom schema) or leave the connection with the custom schema in place, and create a second one with master."}],"answers":[{"tags":[],"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667741723,"creation_date":1667577985,"answer_id":74319882,"question_id":74281935,"body_markdown":"`sys.geo_replication_links` is only available in the Azure SQL Database master database context. Specify the master database in the connection string (include `databaseName=master` in JDBC connection string) and use a 2-part name (`sys.geo_replication_links`) in your query to reference this system table. Use a separate connection string for your normal application database access (`databaseName=YourDatabase`);\r\n\r\nNote that 3-part names in Azure SQL Database may only reference the current database or `tempdb`. Your query ***cannot use a 3-part name*** because the table exists only in master.\r\n\r\n\r\n\r\n","title":"InvalidDataAccessResourceUsageException while trying to execute sql statement in springboot","body":"<p><code>sys.geo_replication_links</code> is only available in the Azure SQL Database master database context. Specify the master database in the connection string (include <code>databaseName=master</code> in JDBC connection string) and use a 2-part name (<code>sys.geo_replication_links</code>) in your query to reference this system table. Use a separate connection string for your normal application database access (<code>databaseName=YourDatabase</code>);</p>\n<p>Note that 3-part names in Azure SQL Database may only reference the current database or <code>tempdb</code>. Your query <em><strong>cannot use a 3-part name</strong></em> because the table exists only in master.</p>\n"}],"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74319882,"answer_count":1,"score":0,"last_activity_date":1667741723,"creation_date":1667337742,"question_id":74281935,"body_markdown":"I am trying to execute below query to fetch server name in springboot.\r\n```\r\n    @Query(nativeQuery = true, value = &quot;SELECT role FROM sys.geo_replication_links&quot;)\r\n    public int getServerName();\r\n```\r\nI get below exception:\r\n```\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)\r\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)\r\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\r\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:154)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:149)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\nat datadog.trace.instrumentation.springdata.RepositoryInterceptor.invoke(RepositoryInterceptor.java:41)\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\nat com.sun.proxy.$Proxy266.getServerName(Unknown Source)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\r\nat com.sun.proxy.$Proxy237.getServerName(Unknown Source)\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name &#39;sys.geo_replication_links&#39;.\r\nat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:262)\r\nat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1632)\r\nat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:602)\r\nat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:524)\r\nat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7418)\r\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3274)\r\nat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:247)\r\nat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:222)\r\nat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:446)\r\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\nat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n```\r\n\r\nI am not sure why I am getting Invalid object name for `sys.geo_replication_links`. I executed the query in SQL browser and it works fine. I am not sure if it is because of the entity which I am passing. I added this method in one of the existing \r\n\r\n```\r\npublic interface ReadRepository extends CrudRepository&lt;&lt;ReadEntity, String&gt; \r\n{\r\n    ReadEntity save(ReadEntity var1);\r\n    @Query(nativeQuery = true, value = &quot;SELECT role FROM sys.geo_replication_links&quot;)\r\n    public int getServerName();\r\n}\r\n````\r\n\r\nIs it because of wrong usage of entity? \r\n\r\n","title":"InvalidDataAccessResourceUsageException while trying to execute sql statement in springboot","body":"<p>I am trying to execute below query to fetch server name in springboot.</p>\n<pre><code>    @Query(nativeQuery = true, value = &quot;SELECT role FROM sys.geo_replication_links&quot;)\n    public int getServerName();\n</code></pre>\n<p>I get below exception:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:154)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:149)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat datadog.trace.instrumentation.springdata.RepositoryInterceptor.invoke(RepositoryInterceptor.java:41)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\nat com.sun.proxy.$Proxy266.getServerName(Unknown Source)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\nat com.sun.proxy.$Proxy237.getServerName(Unknown Source)\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'sys.geo_replication_links'.\nat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:262)\nat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1632)\nat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:602)\nat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:524)\nat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7418)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3274)\nat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:247)\nat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:222)\nat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:446)\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\nat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n</code></pre>\n<p>I am not sure why I am getting Invalid object name for <code>sys.geo_replication_links</code>. I executed the query in SQL browser and it works fine. I am not sure if it is because of the entity which I am passing. I added this method in one of the existing</p>\n<pre><code>public interface ReadRepository extends CrudRepository&lt;&lt;ReadEntity, String&gt; \n{\n    ReadEntity save(ReadEntity var1);\n    @Query(nativeQuery = true, value = &quot;SELECT role FROM sys.geo_replication_links&quot;)\n    public int getServerName();\n}\n</code></pre>\n<p>Is it because of wrong usage of entity?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1667723611,"creation_date":1667723611,"answer_id":74334324,"question_id":74333618,"body_markdown":"    public interface GenericRepository&lt;T extends BaseEntity&gt; extends JpaRepository&lt;T,Long&gt;\r\n\r\nwhat is the purpose of creating a generic repository?\r\n**BaseEntity** is only a model which is extended by the real entities like Region. See that it has no @Entity annotation.\r\n\r\nSo, if you are storing region in database define the repository for Region.\r\n\r\n    public interface RegionRepository extends JpaRepository&lt;Region, Long&gt;\r\n\r\n","title":"&quot;Not an entity: class com.example.serverside.models.baseEntity.BaseEntity; nested exception is java","body":"<pre><code>public interface GenericRepository&lt;T extends BaseEntity&gt; extends JpaRepository&lt;T,Long&gt;\n</code></pre>\n<p>what is the purpose of creating a generic repository?\n<strong>BaseEntity</strong> is only a model which is extended by the real entities like Region. See that it has no @Entity annotation.</p>\n<p>So, if you are storing region in database define the repository for Region.</p>\n<pre><code>public interface RegionRepository extends JpaRepository&lt;Region, Long&gt;\n</code></pre>\n"}],"owner":{"account_id":20970855,"reputation":13,"user_id":15408062,"display_name":"Randika Hasanudin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74334324,"answer_count":1,"score":0,"last_activity_date":1667741526,"creation_date":1667714798,"question_id":74333618,"body_markdown":"I&#39;m learning java spring boot which is generic pattern.\r\nnow i found an error i&#39;ve been looking for but couldn&#39;t find a crux of the problem.\r\n\r\nwhen I do a GET in postman , it shows error 500 :\r\n\r\n&quot;Not an entity: class com.example.serverside.models.baseEntity.BaseEntity; nested exception is java.lang.IllegalArgumentException: Not an entity: class com.example.serverside.models.baseEntity.BaseEntity&quot;,\r\n\r\nI&#39;ve checked it a few times and have looked at similar questions but can&#39;t find an answer.\r\n\r\nHere&#39;s my code on BaseEntity, GenericRepository, RegionService and RegionController.\r\n\r\n\r\nModel BaseEntity\r\n`\r\n```\r\npackage com.example.serverside.models.baseEntity;\r\n\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.MappedSuperclass;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@MappedSuperclass\r\npublic class BaseEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\nModel Region\r\n\r\n`\r\n```\r\npackage com.example.serverside.models;\r\n\r\nimport java.util.List;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport com.example.serverside.models.baseEntity.BaseEntity;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n\r\n\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name=&quot;region&quot;)\r\npublic class Region extends BaseEntity {\r\n\r\n    \r\n    @Column( nullable = false)\r\n    private String name;\r\n\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    @OneToMany(mappedBy = &quot;region&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;Country&gt; countries;\r\n\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\nGenericRepository\r\n\r\n`\r\n```\r\npackage com.example.serverside.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.example.serverside.models.baseEntity.BaseEntity;\r\n\r\n@Repository\r\npublic interface GenericRepository&lt;T extends BaseEntity&gt; extends JpaRepository&lt;T,Long&gt; {\r\n    \r\n}\r\n\r\n```\r\n`\r\n\r\n\r\nRegionService\r\n\r\n`\r\n```\r\npackage com.example.serverside.services;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.example.serverside.models.Region;\r\nimport com.example.serverside.repository.GenericRepository;\r\n\r\n\r\n\r\n\r\n@Service\r\npublic class RegionService {\r\n\r\n\r\n    private GenericRepository&lt;Region&gt; regionRepository;\r\n\r\n    @Autowired\r\n    public RegionService(GenericRepository&lt;Region&gt; regionRepository) {\r\n        this.regionRepository = regionRepository;\r\n    }\r\n    \r\n    // findAll\r\n    public List&lt;Region&gt; findAll(){\r\n        return regionRepository.findAll();\r\n    }\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\nRegionController\r\n\r\n`\r\n```\r\npackage com.example.serverside.controllers;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.example.serverside.models.Region;\r\nimport com.example.serverside.services.RegionService;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/region&quot;)\r\npublic class RegionController{\r\n\r\n\r\n    private RegionService regionService;\r\n\r\n    @Autowired\r\n    public RegionController(RegionService regionService) {\r\n        this.regionService = regionService;\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Region&gt;&gt; findAll() {\r\n\t\treturn new ResponseEntity(regionService.findAll(), HttpStatus.OK);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\nI hope to find the crux of my problem, and how to solve it","title":"&quot;Not an entity: class com.example.serverside.models.baseEntity.BaseEntity; nested exception is java","body":"<p>I'm learning java spring boot which is generic pattern.\nnow i found an error i've been looking for but couldn't find a crux of the problem.</p>\n<p>when I do a GET in postman , it shows error 500 :</p>\n<p>&quot;Not an entity: class com.example.serverside.models.baseEntity.BaseEntity; nested exception is java.lang.IllegalArgumentException: Not an entity: class com.example.serverside.models.baseEntity.BaseEntity&quot;,</p>\n<p>I've checked it a few times and have looked at similar questions but can't find an answer.</p>\n<p>Here's my code on BaseEntity, GenericRepository, RegionService and RegionController.</p>\n<p>Model BaseEntity\n`</p>\n<pre><code>package com.example.serverside.models.baseEntity;\n\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.MappedSuperclass;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@MappedSuperclass\npublic class BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n}\n\n</code></pre>\n<p>`</p>\n<p>Model Region</p>\n<p>`</p>\n<pre><code>package com.example.serverside.models;\n\nimport java.util.List;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport com.example.serverside.models.baseEntity.BaseEntity;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n\n\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name=&quot;region&quot;)\npublic class Region extends BaseEntity {\n\n    \n    @Column( nullable = false)\n    private String name;\n\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    @OneToMany(mappedBy = &quot;region&quot;, cascade = CascadeType.ALL)\n    private List&lt;Country&gt; countries;\n\n\n}\n\n</code></pre>\n<p>`</p>\n<p>GenericRepository</p>\n<p>`</p>\n<pre><code>package com.example.serverside.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.example.serverside.models.baseEntity.BaseEntity;\n\n@Repository\npublic interface GenericRepository&lt;T extends BaseEntity&gt; extends JpaRepository&lt;T,Long&gt; {\n    \n}\n\n</code></pre>\n<p>`</p>\n<p>RegionService</p>\n<p>`</p>\n<pre><code>package com.example.serverside.services;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.example.serverside.models.Region;\nimport com.example.serverside.repository.GenericRepository;\n\n\n\n\n@Service\npublic class RegionService {\n\n\n    private GenericRepository&lt;Region&gt; regionRepository;\n\n    @Autowired\n    public RegionService(GenericRepository&lt;Region&gt; regionRepository) {\n        this.regionRepository = regionRepository;\n    }\n    \n    // findAll\n    public List&lt;Region&gt; findAll(){\n        return regionRepository.findAll();\n    }\n\n}\n\n</code></pre>\n<p>`</p>\n<p>RegionController</p>\n<p>`</p>\n<pre><code>package com.example.serverside.controllers;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.serverside.models.Region;\nimport com.example.serverside.services.RegionService;\n\nimport lombok.AllArgsConstructor;\n\n\n@RestController\n@RequestMapping(&quot;/api/v1/region&quot;)\npublic class RegionController{\n\n\n    private RegionService regionService;\n\n    @Autowired\n    public RegionController(RegionService regionService) {\n        this.regionService = regionService;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Region&gt;&gt; findAll() {\n        return new ResponseEntity(regionService.findAll(), HttpStatus.OK);\n    }\n\n}\n\n</code></pre>\n<p>`</p>\n<p>I hope to find the crux of my problem, and how to solve it</p>\n"},{"tags":["java","android","pdf","nullpointerexception","key"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667741440,"creation_date":1667741440,"answer_id":74336303,"question_id":74336213,"body_markdown":"`file.getAbsoluteFile()` returns a `File` object, not a `String` object. Either switch to `file.getAbsolutePath()` or use `getSerializableExtra()` instead of `getStringExtra()`.","title":"can&#39;t load pdfurl to another activity","body":"<p><code>file.getAbsoluteFile()</code> returns a <code>File</code> object, not a <code>String</code> object. Either switch to <code>file.getAbsolutePath()</code> or use <code>getSerializableExtra()</code> instead of <code>getStringExtra()</code>.</p>\n"}],"owner":{"account_id":26507559,"reputation":69,"user_id":20143472,"display_name":"jackie Maik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667741440,"creation_date":1667740721,"question_id":74336213,"body_markdown":"I am making an application which load pdf file from storage from internal storage to main activity in my app in list view and try to open pdf file to another activity. \r\n\r\nIn main activity.java I creating code to load pdf url to PDFWatch activity:\r\n`\r\n```\r\npublic ArrayList&lt;File&gt; findPdf (File file){\r\n    ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\r\n    File[] files = file.listFiles();\r\n\r\n    for (File singleFile: files){\r\n        if (singleFile.isDirectory() &amp;&amp; !singleFile.isHidden()){\r\n            arrayList.addAll(findPdf(singleFile));\r\n        }\r\n        else {\r\n            if (singleFile.getName().endsWith(&quot;.pdf&quot;)){\r\n                arrayList.add(singleFile);\r\n            }\r\n        }\r\n    }\r\n    return arrayList;\r\n\r\n\r\n\r\n\r\n}\r\n\r\npublic void displayPdf(){\r\n    recyclerView = findViewById(R.id.rv);\r\n    recyclerView.setHasFixedSize(true);\r\n    recyclerView.setLayoutManager(new GridLayoutManager(this,3));\r\n    pdfList = new ArrayList&lt;&gt;();\r\n    pdfList.addAll(findPdf(Environment.getExternalStorageDirectory()));\r\n    adapter = new MainAdapter(this,pdfList,this);\r\n    recyclerView.setAdapter(adapter);\r\n\r\n}\r\n\r\n@Override\r\npublic void onPdfSelected(File file) {\r\n    \r\n\r\n    Intent intent = new Intent(MainActivity.this,PDFwatch.class);\r\n\r\n    intent.putExtra(&quot;path&quot;,file.getAbsoluteFile());\r\n\r\n    startActivity(intent);\r\n\r\n}\r\n```\r\n\r\nin PDFWatch activity.java I wrote below code:\r\n\r\n`\r\n```\r\nread = findViewById(R.id.read);\r\n\r\nfilePath = getIntent().getStringExtra(&quot;path&quot;);\r\n\r\nFile file = new File(filePath);\r\nUri path  = Uri.fromFile(file);\r\nread.fromUri(path).load();\r\n\r\n```\r\n\r\nWhen I click pdf listview to load data. Then Crash display as below:\r\n\r\n\r\n```\r\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;char[] java.lang.String.toCharArray()&#39; on a null object reference\r\n        at java.io.File.fixSlashes(File.java:183)\r\n        at java.io.File.&lt;init&gt;(File.java:130)\r\n        at com.tonyapps.pdfview.PDFwatch.onCreate(PDFwatch.java:27)\r\n```\r\n\r\nI thought error happen in PDFWatch.java at line 27.\r\n\r\n\r\nline 27 in PDFWatch.java is:\r\n\r\n`File file = new File(filePath);\r\n\r\nI try to solve this issue many days but I don&#39;t know how to do. Please Help me solve this problem. Thanks a lot`\r\n\r\n\r\nI tried to load PDF file from main activity to another activity by using  url. but my app crash and I don&#39;t know how to fix","title":"can&#39;t load pdfurl to another activity","body":"<p>I am making an application which load pdf file from storage from internal storage to main activity in my app in list view and try to open pdf file to another activity.</p>\n<p>In main activity.java I creating code to load pdf url to PDFWatch activity:\n`</p>\n<pre><code>public ArrayList&lt;File&gt; findPdf (File file){\n    ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\n    File[] files = file.listFiles();\n\n    for (File singleFile: files){\n        if (singleFile.isDirectory() &amp;&amp; !singleFile.isHidden()){\n            arrayList.addAll(findPdf(singleFile));\n        }\n        else {\n            if (singleFile.getName().endsWith(&quot;.pdf&quot;)){\n                arrayList.add(singleFile);\n            }\n        }\n    }\n    return arrayList;\n\n\n\n\n}\n\npublic void displayPdf(){\n    recyclerView = findViewById(R.id.rv);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new GridLayoutManager(this,3));\n    pdfList = new ArrayList&lt;&gt;();\n    pdfList.addAll(findPdf(Environment.getExternalStorageDirectory()));\n    adapter = new MainAdapter(this,pdfList,this);\n    recyclerView.setAdapter(adapter);\n\n}\n\n@Override\npublic void onPdfSelected(File file) {\n    \n\n    Intent intent = new Intent(MainActivity.this,PDFwatch.class);\n\n    intent.putExtra(&quot;path&quot;,file.getAbsoluteFile());\n\n    startActivity(intent);\n\n}\n</code></pre>\n<p>in PDFWatch activity.java I wrote below code:</p>\n<p>`</p>\n<pre><code>read = findViewById(R.id.read);\n\nfilePath = getIntent().getStringExtra(&quot;path&quot;);\n\nFile file = new File(filePath);\nUri path  = Uri.fromFile(file);\nread.fromUri(path).load();\n\n</code></pre>\n<p>When I click pdf listview to load data. Then Crash display as below:</p>\n<pre><code> Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'char[] java.lang.String.toCharArray()' on a null object reference\n        at java.io.File.fixSlashes(File.java:183)\n        at java.io.File.&lt;init&gt;(File.java:130)\n        at com.tonyapps.pdfview.PDFwatch.onCreate(PDFwatch.java:27)\n</code></pre>\n<p>I thought error happen in PDFWatch.java at line 27.</p>\n<p>line 27 in PDFWatch.java is:</p>\n<p>`File file = new File(filePath);</p>\n<p>I try to solve this issue many days but I don't know how to do. Please Help me solve this problem. Thanks a lot`</p>\n<p>I tried to load PDF file from main activity to another activity by using  url. but my app crash and I don't know how to fix</p>\n"},{"tags":["java","constructor","hierarchy","lombok","builder"],"answers":[{"tags":[],"owner":{"account_id":14154173,"reputation":69,"user_id":10225397,"display_name":"AndrewM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667741246,"creation_date":1667741246,"answer_id":74336279,"question_id":74319985,"body_markdown":"I found a solution to my question:\r\n\r\nThe answer is to use the **Delombok** option and then remove all methods from the generated (`@SuperBuilder`) parents&#39; builders.","title":"Lombok @SuperBuilder hide parent fields","body":"<p>I found a solution to my question:</p>\n<p>The answer is to use the <strong>Delombok</strong> option and then remove all methods from the generated (<code>@SuperBuilder</code>) parents' builders.</p>\n"}],"owner":{"account_id":14154173,"reputation":69,"user_id":10225397,"display_name":"AndrewM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74336279,"answer_count":1,"score":0,"last_activity_date":1667741246,"creation_date":1667578468,"question_id":74319985,"body_markdown":"I have the following classes\r\n\r\nThe first level of hierarchy:\r\n\r\n    abstract class Parent2 {\r\n    \r\n        private P2_Param1 p2_param1;\r\n        private P2_Param2 p2_param2;\r\n    \r\n        protected Parent2(P1_Param1 p1_param1) {\r\n            p2_param1 = p1_param1.something()\r\n            p2_param2 = p1_param1.somethingElse()\r\n        }\r\n    }\r\n\r\nSecond level:\r\n\r\n    abstract class Parent1 extends Parent2 {\r\n    \r\n        private P1_Param1 p1_param1;\r\n    \r\n        protected Parent1(P1_Param1 p1_param1) {\r\n            super(p1_param1);\r\n            this.p1_param1 = p1_param1;\r\n        }\r\n    }\r\n\r\nAnd hundreds of classes that look like this:\r\n\r\n    class Child extends Parent1 {\r\n    \r\n        private C_Param1 c_param1;\r\n        private C_Param2 c_param2;\r\n        private C_Param3 c_param3;\r\n        private C_Param4 c_param4;\r\n        // ... many more parameters here\r\n    \r\n        public Child(P1_Param1 p1_param1) {\r\n            super(p1_param1);\r\n        }\r\n    }\r\n\r\nThese classes were used like this for a long time - child fields were used only to represent schema.\r\n\r\nNow things changed and Child fields need to hold values. \r\nI&#39;d like to create as few changes in ChildX classes as possible and avoid implementing constructors that take all child parameters + `p1_param1`.\r\nIdeally, it&#39;d be great to use Lombok annotations or add some code in the parent classes.\r\n\r\nI was thinking about instantiating the child class as it was before and using `toBuilder = true` to copy and fill values:\r\n\r\n    var child = new Child(p1_param1)\r\n            .toBuilder()\r\n            .c_param1(c_param1)\r\n            .build();\r\n\r\n\r\nI tried to use the `@SuperBuilder(toBuilder = true)` annotation, but now I have an access to fill fields from parent classes (e.g. p2_param2) and I would like to avoid that. \r\n\r\nIs my approach valid? Can I somehow make the parent fields not accessible via public child builder methods?\r\n\r\n","title":"Lombok @SuperBuilder hide parent fields","body":"<p>I have the following classes</p>\n<p>The first level of hierarchy:</p>\n<pre><code>abstract class Parent2 {\n\n    private P2_Param1 p2_param1;\n    private P2_Param2 p2_param2;\n\n    protected Parent2(P1_Param1 p1_param1) {\n        p2_param1 = p1_param1.something()\n        p2_param2 = p1_param1.somethingElse()\n    }\n}\n</code></pre>\n<p>Second level:</p>\n<pre><code>abstract class Parent1 extends Parent2 {\n\n    private P1_Param1 p1_param1;\n\n    protected Parent1(P1_Param1 p1_param1) {\n        super(p1_param1);\n        this.p1_param1 = p1_param1;\n    }\n}\n</code></pre>\n<p>And hundreds of classes that look like this:</p>\n<pre><code>class Child extends Parent1 {\n\n    private C_Param1 c_param1;\n    private C_Param2 c_param2;\n    private C_Param3 c_param3;\n    private C_Param4 c_param4;\n    // ... many more parameters here\n\n    public Child(P1_Param1 p1_param1) {\n        super(p1_param1);\n    }\n}\n</code></pre>\n<p>These classes were used like this for a long time - child fields were used only to represent schema.</p>\n<p>Now things changed and Child fields need to hold values.\nI'd like to create as few changes in ChildX classes as possible and avoid implementing constructors that take all child parameters + <code>p1_param1</code>.\nIdeally, it'd be great to use Lombok annotations or add some code in the parent classes.</p>\n<p>I was thinking about instantiating the child class as it was before and using <code>toBuilder = true</code> to copy and fill values:</p>\n<pre><code>var child = new Child(p1_param1)\n        .toBuilder()\n        .c_param1(c_param1)\n        .build();\n</code></pre>\n<p>I tried to use the <code>@SuperBuilder(toBuilder = true)</code> annotation, but now I have an access to fill fields from parent classes (e.g. p2_param2) and I would like to avoid that.</p>\n<p>Is my approach valid? Can I somehow make the parent fields not accessible via public child builder methods?</p>\n"},{"tags":["java","android","json","jsonschema2pojo"],"answers":[{"tags":[],"owner":{"account_id":16588222,"reputation":1,"user_id":11987001,"display_name":"kervin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667741157,"creation_date":1667741157,"answer_id":74336267,"question_id":74336192,"body_markdown":"You can use fastjson api ,FastJson provides easily APIs to convert Java objects to / from JSON","title":"Unable to create jsonschema for retrofit in android. How to generate jsonschema Java?","body":"<p>You can use fastjson api ,FastJson provides easily APIs to convert Java objects to / from JSON</p>\n"}],"owner":{"account_id":2773463,"reputation":3896,"user_id":2387564,"accept_rate":74,"display_name":"Attaullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667741157,"creation_date":1667740601,"question_id":74336192,"body_markdown":"I want to create JSONschema for Java through [**jsonschema2pojo**][1] but return an empty screen below is a valid JSON string, how to create model classes in java for such JSON string while using retrofit2?\r\n\r\n    [\r\n       [\r\n          &quot;S#&quot;,\r\n          &quot;Name of Minister&quot;,\r\n          &quot;Portfolio&quot;,\r\n          &quot;Contact #&quot;,\r\n          &quot;PRO Name&quot;,\r\n          &quot;PRO Contact&quot;,\r\n          &quot;PRO Contact #&quot;\r\n       ],\r\n       [\r\n          &quot;1&quot;,\r\n          &quot;Mr. Mohammad Ali Saif&quot;,\r\n          &quot;Information and PRs&quot;,\r\n          &quot;9212894&quot;,\r\n          &quot;Mr. Rizwan Malik&quot;,\r\n          &quot;0345-&quot;,\r\n          &quot;&quot;\r\n       ],\r\n       [\r\n          &quot;2&quot;,\r\n          &quot;Mr. Abdul Karim&quot;,\r\n          &quot;Industries&quot;,\r\n          &quot;9213859&quot;,\r\n          &quot;Mr. Khan Sarwar&quot;,\r\n          &quot;0333-&quot;,\r\n          &quot;abdulkarim.png&quot;\r\n       ]\r\n    ]\r\n\r\n  [1]: https://www.jsonschema2pojo.org/\r\n\r\n","title":"Unable to create jsonschema for retrofit in android. How to generate jsonschema Java?","body":"<p>I want to create JSONschema for Java through <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\"><strong>jsonschema2pojo</strong></a> but return an empty screen below is a valid JSON string, how to create model classes in java for such JSON string while using retrofit2?</p>\n<pre><code>[\n   [\n      &quot;S#&quot;,\n      &quot;Name of Minister&quot;,\n      &quot;Portfolio&quot;,\n      &quot;Contact #&quot;,\n      &quot;PRO Name&quot;,\n      &quot;PRO Contact&quot;,\n      &quot;PRO Contact #&quot;\n   ],\n   [\n      &quot;1&quot;,\n      &quot;Mr. Mohammad Ali Saif&quot;,\n      &quot;Information and PRs&quot;,\n      &quot;9212894&quot;,\n      &quot;Mr. Rizwan Malik&quot;,\n      &quot;0345-&quot;,\n      &quot;&quot;\n   ],\n   [\n      &quot;2&quot;,\n      &quot;Mr. Abdul Karim&quot;,\n      &quot;Industries&quot;,\n      &quot;9213859&quot;,\n      &quot;Mr. Khan Sarwar&quot;,\n      &quot;0333-&quot;,\n      &quot;abdulkarim.png&quot;\n   ]\n]\n</code></pre>\n"},{"tags":["java","unit-testing","object","junit","bluej"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667740244,"post_id":74336117,"comment_id":131234009,"body_markdown":"Are you aware of `assertNull()` and `assetNotNull()`?","body":"Are you aware of <code>assertNull()</code> and <code>assetNotNull()</code>?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1667741403,"post_id":74336117,"comment_id":131234255,"body_markdown":"What do you mean by “a specific Feedback”? The exact same instance, or  the “same” using its equality criteria (e.g., a unique ID or a combination of attributes)?","body":"What do you mean by “a specific Feedback”? The exact same instance, or  the “same” using its equality criteria (e.g., a unique ID or a combination of attributes)?"}],"answers":[{"tags":[],"owner":{"account_id":26660494,"reputation":1,"user_id":20273388,"display_name":"prtrichor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667740984,"creation_date":1667740984,"answer_id":74336244,"question_id":74336117,"body_markdown":"assertNull() Can help you determine whether it is null， and instanceof Can help you determine whether a object belongs to a certain class","title":"How to test for a returned Object in Unit testing in Java, BlueJ?","body":"<p>assertNull() Can help you determine whether it is null， and instanceof Can help you determine whether a object belongs to a certain class</p>\n"}],"owner":{"account_id":23358173,"reputation":11,"user_id":17430837,"display_name":"Coder2002"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667740984,"creation_date":1667740061,"question_id":74336117,"body_markdown":"So let&#39;s assume I have a class in Java called ItemClass and I&#39;m calling one of the methods in the class which returns an object of type Feedback where Feedback is another class. \r\n\r\nNow, how can I test if the returned object from the ItemClass is a specific Feedback which I have created previously.\r\n\r\nHow can I also test if the returned Object is null if there is no Feedback?\r\n\r\nI am using BlueJ JUnit testing.","title":"How to test for a returned Object in Unit testing in Java, BlueJ?","body":"<p>So let's assume I have a class in Java called ItemClass and I'm calling one of the methods in the class which returns an object of type Feedback where Feedback is another class.</p>\n<p>Now, how can I test if the returned object from the ItemClass is a specific Feedback which I have created previously.</p>\n<p>How can I also test if the returned Object is null if there is no Feedback?</p>\n<p>I am using BlueJ JUnit testing.</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":12566179,"reputation":52,"user_id":12791811,"display_name":"Georglider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667559137,"creation_date":1667559137,"answer_id":74315876,"question_id":74315605,"body_markdown":"You may use orElse function and set it to Entry with empty list\r\n```java\r\n.orElse(new AbstractMap.SimpleEntry&lt;&gt;(0, Collections.emptyList())).getValue()\r\n```\r\nSo the full function in Java 8 will look like this\r\n```java\r\nList&lt;Person&gt; result = suspectedList.stream()\r\n                .filter((Person p) -&gt; targetNames.contains(p.getName()))\r\n                .collect(Collectors.groupingBy(Person::getAge))\r\n                .entrySet().stream().max(Map.Entry.comparingByKey()).orElse(new AbstractMap.SimpleEntry&lt;&gt;(0, Collections.emptyList())).getValue();\r\n```\r\nThe value of result will be EmptyList","title":"How to use isPresent() with get.getValue()","body":"<p>You may use orElse function and set it to Entry with empty list</p>\n<pre class=\"lang-java prettyprint-override\"><code>.orElse(new AbstractMap.SimpleEntry&lt;&gt;(0, Collections.emptyList())).getValue()\n</code></pre>\n<p>So the full function in Java 8 will look like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; result = suspectedList.stream()\n                .filter((Person p) -&gt; targetNames.contains(p.getName()))\n                .collect(Collectors.groupingBy(Person::getAge))\n                .entrySet().stream().max(Map.Entry.comparingByKey()).orElse(new AbstractMap.SimpleEntry&lt;&gt;(0, Collections.emptyList())).getValue();\n</code></pre>\n<p>The value of result will be EmptyList</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667722281,"creation_date":1667559175,"answer_id":74315884,"question_id":74315605,"body_markdown":"You have many options.\r\n\r\n 1. Save `Optional` to variable and then check if present.\r\n```\r\nOptional&lt;Map.Entry&gt; optional = suspectedList.stream()\r\n                .filter((Person p) -&gt; targetNames.contains(p.getName()))\r\n                .collect(Collectors.groupingBy(Person::getAge))\r\n                .entrySet().stream().max(Map.Entry.comparingByKey());\r\nif (optional.isPresent()) {\r\n  List&lt;Person&gt; result = optional.get().getValue();\r\n}\r\n```\r\n 2. Use [Optional.orElse()][1] to supply default value, if empty. \r\n 3. Use [Optional.orElseGet()][2] to calculate default value, if empty. \r\n```\r\nList&lt;Person&gt; result = suspectedList.stream()\r\n                .filter((Person p) -&gt; targetNames.contains(p.getName()))\r\n                .collect(Collectors.groupingBy(Person::getAge))\r\n                .entrySet().stream().max(Map.Entry.comparingByKey())\r\n                .orElseGet(() -&gt; generate default value)\r\n                .getValue();\r\n```\r\n 4. Or [Optional.orElseThrow()][3] to throw custom exception, if your use case requires it, if empty.\r\n 5. Use [Optional.map()][4], the function will be applied only if there is value in the optional.\r\n```\r\nList&lt;Person&gt; result = suspectedList.stream()\r\n                .filter((Person p) -&gt; targetNames.contains(p.getName()))\r\n                .collect(Collectors.groupingBy(Person::getAge))\r\n                .entrySet().stream().max(Map.Entry.comparingByKey())\r\n                .map(entry -&gt; entry.getValue())\r\n                .orElseGet(ArrayList::new);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseThrow-java.util.function.Supplier-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-","title":"How to use isPresent() with get.getValue()","body":"<p>You have many options.</p>\n<ol>\n<li>Save <code>Optional</code> to variable and then check if present.</li>\n</ol>\n<pre><code>Optional&lt;Map.Entry&gt; optional = suspectedList.stream()\n                .filter((Person p) -&gt; targetNames.contains(p.getName()))\n                .collect(Collectors.groupingBy(Person::getAge))\n                .entrySet().stream().max(Map.Entry.comparingByKey());\nif (optional.isPresent()) {\n  List&lt;Person&gt; result = optional.get().getValue();\n}\n</code></pre>\n<ol start=\"2\">\n<li>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\" rel=\"nofollow noreferrer\">Optional.orElse()</a> to supply default value, if empty.</li>\n<li>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">Optional.orElseGet()</a> to calculate default value, if empty.</li>\n</ol>\n<pre><code>List&lt;Person&gt; result = suspectedList.stream()\n                .filter((Person p) -&gt; targetNames.contains(p.getName()))\n                .collect(Collectors.groupingBy(Person::getAge))\n                .entrySet().stream().max(Map.Entry.comparingByKey())\n                .orElseGet(() -&gt; generate default value)\n                .getValue();\n</code></pre>\n<ol start=\"4\">\n<li>Or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseThrow-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">Optional.orElseThrow()</a> to throw custom exception, if your use case requires it, if empty.</li>\n<li>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">Optional.map()</a>, the function will be applied only if there is value in the optional.</li>\n</ol>\n<pre><code>List&lt;Person&gt; result = suspectedList.stream()\n                .filter((Person p) -&gt; targetNames.contains(p.getName()))\n                .collect(Collectors.groupingBy(Person::getAge))\n                .entrySet().stream().max(Map.Entry.comparingByKey())\n                .map(entry -&gt; entry.getValue())\n                .orElseGet(ArrayList::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667559262,"creation_date":1667559262,"answer_id":74315900,"question_id":74315605,"body_markdown":"You can use `map` to transform the entry to the list and `orElseGet` to return an empty list if the max entry does not exist.\r\n```java\r\nList&lt;Person&gt; result = suspectedList.stream()\r\n    .filter(p -&gt; targetNames.contains(p.getName()))\r\n    .collect(Collectors.groupingBy(Person::getAge))\r\n    .entrySet()\r\n    .stream()\r\n    .max(Map.Entry.comparingByKey())\r\n    .map(Map.Entry::getValue)\r\n    .orElseGet(ArrayList::new);\r\n```","title":"How to use isPresent() with get.getValue()","body":"<p>You can use <code>map</code> to transform the entry to the list and <code>orElseGet</code> to return an empty list if the max entry does not exist.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; result = suspectedList.stream()\n    .filter(p -&gt; targetNames.contains(p.getName()))\n    .collect(Collectors.groupingBy(Person::getAge))\n    .entrySet()\n    .stream()\n    .max(Map.Entry.comparingByKey())\n    .map(Map.Entry::getValue)\n    .orElseGet(ArrayList::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667739249,"creation_date":1667739249,"answer_id":74336011,"question_id":74315605,"body_markdown":"I think It would be better for you to first sort your collection based on field that You are looking for, then you can easily get result from the sorted collection!!\r\n\r\n    List&lt;Person&gt; sortedList = personList.stream()\r\n      .sorted(Comparator.comparing(Person::getAge).reversed())\r\n      .collect(Collectors.toList());\r\n    \r\n    Person maxAgePerson = sortedList.get(0);","title":"How to use isPresent() with get.getValue()","body":"<p>I think It would be better for you to first sort your collection based on field that You are looking for, then you can easily get result from the sorted collection!!</p>\n<pre><code>List&lt;Person&gt; sortedList = personList.stream()\n  .sorted(Comparator.comparing(Person::getAge).reversed())\n  .collect(Collectors.toList());\n\nPerson maxAgePerson = sortedList.get(0);\n</code></pre>\n"}],"owner":{"account_id":15273121,"reputation":23,"user_id":11019702,"display_name":"Michael Mo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74315900,"answer_count":4,"score":0,"last_activity_date":1667739249,"creation_date":1667557999,"question_id":74315605,"body_markdown":"I&#39;m applying `filter` and `max` on a `List&lt;Person&gt;`, trying to find out oldest person(people) among the suspected list if he&#39;s on the target list\r\n\r\n    List&lt;String&gt; targetNames= new ArrayList&lt;&gt;();\r\n    targetPersonName.add(&quot;Jason&quot;);\r\n    targetPersonName.add(&quot;Mike&quot;);\r\n    \r\n    List&lt;Person&gt; suspectedList = getSuspectedPeople();\r\n    List&lt;Person&gt; result = suspectedList.stream()\r\n                    .filter((Person p) -&gt; targetNames.contains(p.getName()))\r\n                    .collect(Collectors.groupingBy(Person::getAge))\r\n                    .entrySet().stream().max(Map.Entry.comparingByKey()).get().getValue();\r\n\r\nThe above code works fine when `result` is not `null` or not `empty`; however, it raise the `NoSuchElementException(&quot;No value present&quot;)` when `result` is empty. Looking for a way to use `ifPresent()` then `get().getValue()`.","title":"How to use isPresent() with get.getValue()","body":"<p>I'm applying <code>filter</code> and <code>max</code> on a <code>List&lt;Person&gt;</code>, trying to find out oldest person(people) among the suspected list if he's on the target list</p>\n<pre><code>List&lt;String&gt; targetNames= new ArrayList&lt;&gt;();\ntargetPersonName.add(&quot;Jason&quot;);\ntargetPersonName.add(&quot;Mike&quot;);\n\nList&lt;Person&gt; suspectedList = getSuspectedPeople();\nList&lt;Person&gt; result = suspectedList.stream()\n                .filter((Person p) -&gt; targetNames.contains(p.getName()))\n                .collect(Collectors.groupingBy(Person::getAge))\n                .entrySet().stream().max(Map.Entry.comparingByKey()).get().getValue();\n</code></pre>\n<p>The above code works fine when <code>result</code> is not <code>null</code> or not <code>empty</code>; however, it raise the <code>NoSuchElementException(&quot;No value present&quot;)</code> when <code>result</code> is empty. Looking for a way to use <code>ifPresent()</code> then <code>get().getValue()</code>.</p>\n"},{"tags":["java","string","contains","startswith","ends-with"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1667733461,"post_id":74335325,"comment_id":131232623,"body_markdown":"use `else if` instead of `if` and test first for prefix, then post, then infix. Replace the last `else if` with a simple `else`","body":"use <code>else if</code> instead of <code>if</code> and test first for prefix, then post, then infix. Replace the last <code>else if</code> with a simple <code>else</code>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1667733469,"post_id":74335325,"comment_id":131232627,"body_markdown":"You&#39;re modifying `answer`, which means that when you check the suffix, it no longer ends on that value (it now ends on `- prefix` or `- infix`). Don&#39;t modify `answer`, use a separate variable for the modified value.","body":"You&#39;re modifying <code>answer</code>, which means that when you check the suffix, it no longer ends on that value (it now ends on <code>- prefix</code> or <code>- infix</code>). Don&#39;t modify <code>answer</code>, use a separate variable for the modified value."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667734036,"post_id":74335325,"comment_id":131232743,"body_markdown":"@knittl Using `else if` doesn&#39;t make much sense given the OP wants to check all three.","body":"@knittl Using <code>else if</code> doesn&#39;t make much sense given the OP wants to check all three."},{"owner":{"account_id":25194361,"reputation":7,"user_id":19034123,"display_name":"Gauzl"},"score":0,"creation_date":1667734780,"post_id":74335325,"comment_id":131232910,"body_markdown":"startsWith is a prefix argument and endsWith is a suffix argument, so what is a infix argument?","body":"startsWith is a prefix argument and endsWith is a suffix argument, so what is a infix argument?"},{"owner":{"account_id":25194361,"reputation":7,"user_id":19034123,"display_name":"Gauzl"},"score":0,"creation_date":1667734862,"post_id":74335325,"comment_id":131232935,"body_markdown":"@knittl I tried using else if and putting infix last but I&#39;m still getting the same result. Contains must be the wrong argument to use.","body":"@knittl I tried using else if and putting infix last but I&#39;m still getting the same result. Contains must be the wrong argument to use."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667740308,"post_id":74335325,"comment_id":131234021,"body_markdown":"@MarkRotteveel true, I skimmed the question too fast. I thought the 3 categories were exclusive. If all 3 can match (e.g. &quot;word&quot; in &quot;word&quot; is prefix, postfix, _and_ infix), then `answer` must not be reassigned, which you pointed out correctly.","body":"@MarkRotteveel true, I skimmed the question too fast. I thought the 3 categories were exclusive. If all 3 can match (e.g. &quot;word&quot; in &quot;word&quot; is prefix, postfix, <i>and</i> infix), then <code>answer</code> must not be reassigned, which you pointed out correctly."}],"answers":[{"tags":[],"owner":{"account_id":26844832,"reputation":26,"user_id":20430742,"display_name":"Divyansh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667738699,"creation_date":1667738699,"answer_id":74335948,"question_id":74335325,"body_markdown":"Your code works correctly to check whether the substring is a prefix or suffix of a string but it fails when you try to check if a string contains a substring and the substring is neither a prefix nor a suffix.\r\n\r\nThe following if statement that you have used is wrong.\r\n```\r\nif (answer.contains(response)) {\r\n     answer = answer + &quot; - infix&quot;;\r\n}\r\n```\r\n`answer.contains(response)` will be always true if the string contains the response. Even if the response is a prefix or a suffix.\r\n\r\nThe correct way to check if a substring is an infix of a string is the following:\r\n```\r\nif(str.contains(substring){ // First check if the string contains the substring\r\n   if (!str.startsWith(subStr) &amp;&amp; !str.endsWith(subStr)) { // Verify that the substring is neither a prefix nor a suffix\r\n        answer = &quot;-infix&quot;;\r\n   }\r\n}\r\n```\r\n\r\nAnother mistake is that you are changing the original input string i.e `inDictionary.nextLine()` (stored in the variable `answer`) and appending the output string (i.e. whether the string is a prefix, suffix, or infix) to the same variable (that you have named as `answer`). \r\n\r\n**The correct way to check whether a substring is a prefix, suffix, or infix of a string is:**\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in); // Taking input from console \r\n    System.out.print(&quot;Enter a string: &quot;);\r\n    String str = scanner.nextLine();\r\n    System.out.print(&quot;Enter a substring to find: &quot;);\r\n    String subStr = scanner.nextLine();\r\n    System.out.println(findWord(str, subStr));\r\n    scanner.close();   \r\n}\r\n//check for prefix, suffix or infix.\r\npublic static String findWord(String str, String subStr) {\r\n   String answer = &quot;&quot;;\r\n   if (str.contains(subStr)) { //First check if the strings contains the substring\r\n       if (str.startsWith(subStr)) {\r\n           answer += &quot; -prefix&quot;;\r\n       }\r\n       if (str.endsWith(subStr)) {\r\n          answer += &quot; -suffix&quot;;\r\n       }\r\n       if (!str.startsWith(subStr) &amp;&amp; !str.endsWith(subStr)) {\r\n          answer = &quot;-infix&quot;;\r\n       }\r\n   } else\r\n       answer = &quot;not found&quot;;\r\n   return answer;\r\n}\r\n```\r\n\r\n`findWord()` method checks whether the string contains the substring. \r\n","title":"Using startsWith and endsWith works, but how to get middle characters?","body":"<p>Your code works correctly to check whether the substring is a prefix or suffix of a string but it fails when you try to check if a string contains a substring and the substring is neither a prefix nor a suffix.</p>\n<p>The following if statement that you have used is wrong.</p>\n<pre><code>if (answer.contains(response)) {\n     answer = answer + &quot; - infix&quot;;\n}\n</code></pre>\n<p><code>answer.contains(response)</code> will be always true if the string contains the response. Even if the response is a prefix or a suffix.</p>\n<p>The correct way to check if a substring is an infix of a string is the following:</p>\n<pre><code>if(str.contains(substring){ // First check if the string contains the substring\n   if (!str.startsWith(subStr) &amp;&amp; !str.endsWith(subStr)) { // Verify that the substring is neither a prefix nor a suffix\n        answer = &quot;-infix&quot;;\n   }\n}\n</code></pre>\n<p>Another mistake is that you are changing the original input string i.e <code>inDictionary.nextLine()</code> (stored in the variable <code>answer</code>) and appending the output string (i.e. whether the string is a prefix, suffix, or infix) to the same variable (that you have named as <code>answer</code>).</p>\n<p><strong>The correct way to check whether a substring is a prefix, suffix, or infix of a string is:</strong></p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in); // Taking input from console \n    System.out.print(&quot;Enter a string: &quot;);\n    String str = scanner.nextLine();\n    System.out.print(&quot;Enter a substring to find: &quot;);\n    String subStr = scanner.nextLine();\n    System.out.println(findWord(str, subStr));\n    scanner.close();   \n}\n//check for prefix, suffix or infix.\npublic static String findWord(String str, String subStr) {\n   String answer = &quot;&quot;;\n   if (str.contains(subStr)) { //First check if the strings contains the substring\n       if (str.startsWith(subStr)) {\n           answer += &quot; -prefix&quot;;\n       }\n       if (str.endsWith(subStr)) {\n          answer += &quot; -suffix&quot;;\n       }\n       if (!str.startsWith(subStr) &amp;&amp; !str.endsWith(subStr)) {\n          answer = &quot;-infix&quot;;\n       }\n   } else\n       answer = &quot;not found&quot;;\n   return answer;\n}\n</code></pre>\n<p><code>findWord()</code> method checks whether the string contains the substring.</p>\n"}],"owner":{"account_id":25194361,"reputation":7,"user_id":19034123,"display_name":"Gauzl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74335948,"answer_count":1,"score":0,"last_activity_date":1667738699,"creation_date":1667733185,"question_id":74335325,"body_markdown":"My program take user input and compares it to words in a txt file. If it contains the user input such as &quot;pre&quot; in preload, it will print &quot;prefix&quot;. If if contains &quot;ful&quot; like in helpful it will print &quot;suffix&quot;. But there is also a result for infix, a letter within the word but not the start of end. I cannot get all 3 to work at the same time.\r\n\r\n```\r\npublic static void substringProblem() throws FileNotFoundException {\r\n    String response;\r\n    String answer;\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;Enter a substring: &quot;);\r\n    response = input.next();\r\n    Scanner inDictionary = new Scanner(DICTIONARY);    \r\n    for (int line = 1; line &lt;= 23; line++) {\r\n        answer = inDictionary.nextLine();\r\n        if (answer.startsWith(response)) {\r\n            answer = answer + &quot; - prefix&quot;;\r\n        }\r\n        if (answer.contains(response)) {\r\n            answer = answer + &quot; - infix&quot;;\r\n        }\r\n        if (answer.endsWith(response)) {\r\n            answer = answer + &quot; - suffix&quot;;\r\n        }\r\n        else if (!answer.contains(response)) {\r\n            answer = answer + &quot; - not found&quot;;\r\n        }\r\n        System.out.println(answer); \r\n    }\r\n```\r\nExample output of &quot;t&quot;\r\n```none\r\ntattarrattat - prefix - infix\r\nabsobloominglutely - infix\r\n```\r\n\r\nExample output of &quot;na&quot;\r\n```none\r\nnana  - prefix - infix\r\nbanana - infix\r\n```\r\n","title":"Using startsWith and endsWith works, but how to get middle characters?","body":"<p>My program take user input and compares it to words in a txt file. If it contains the user input such as &quot;pre&quot; in preload, it will print &quot;prefix&quot;. If if contains &quot;ful&quot; like in helpful it will print &quot;suffix&quot;. But there is also a result for infix, a letter within the word but not the start of end. I cannot get all 3 to work at the same time.</p>\n<pre><code>public static void substringProblem() throws FileNotFoundException {\n    String response;\n    String answer;\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Enter a substring: &quot;);\n    response = input.next();\n    Scanner inDictionary = new Scanner(DICTIONARY);    \n    for (int line = 1; line &lt;= 23; line++) {\n        answer = inDictionary.nextLine();\n        if (answer.startsWith(response)) {\n            answer = answer + &quot; - prefix&quot;;\n        }\n        if (answer.contains(response)) {\n            answer = answer + &quot; - infix&quot;;\n        }\n        if (answer.endsWith(response)) {\n            answer = answer + &quot; - suffix&quot;;\n        }\n        else if (!answer.contains(response)) {\n            answer = answer + &quot; - not found&quot;;\n        }\n        System.out.println(answer); \n    }\n</code></pre>\n<p>Example output of &quot;t&quot;</p>\n<pre class=\"lang-none prettyprint-override\"><code>tattarrattat - prefix - infix\nabsobloominglutely - infix\n</code></pre>\n<p>Example output of &quot;na&quot;</p>\n<pre class=\"lang-none prettyprint-override\"><code>nana  - prefix - infix\nbanana - infix\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667723929,"creation_date":1667723929,"answer_id":74334346,"question_id":74334137,"body_markdown":"The class `java.util.Scanner` is used to &quot;parse primitive types and strings&quot;. The documentation also states that &quot;A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace.&quot;\r\n\r\n(see https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html)\r\n\r\nThat means that `Scanner` does not simply read in characters, but also parses the input by using whitespace to find the *next* item to parse.\r\n\r\nYou would have to use `Scanner.nextLine()` to fetch the whole next line of input instead of just the next token.\r\n\r\n\r\n","title":"Why does my scanner.next().charat(0) read more than one char when the user inputs something with a space in between?","body":"<p>The class <code>java.util.Scanner</code> is used to &quot;parse primitive types and strings&quot;. The documentation also states that &quot;A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace.&quot;</p>\n<p>(see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html</a>)</p>\n<p>That means that <code>Scanner</code> does not simply read in characters, but also parses the input by using whitespace to find the <em>next</em> item to parse.</p>\n<p>You would have to use <code>Scanner.nextLine()</code> to fetch the whole next line of input instead of just the next token.</p>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667737686,"creation_date":1667737686,"answer_id":74335853,"question_id":74334137,"body_markdown":"I think that it would be better to read `userInput` using `Scanner` with `nextLine()` method, then you could easily get its first character.\r\n\r\nHere is the code that is in my mind:\r\n\r\n    public static void main(String[] args) {\r\n        static Scanner scn = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Would you like to change anything? (Y/N)&quot;);\r\n        String input = scn.nextLine();\r\n        Character character = input.charAt(0);\r\n        answer();\r\n        \r\n    }\r\n\r\nAnd just another thing that made me confused was you `While()` loop condition!!\r\nI think that you need to use `||(OR)` instead of `&amp;&amp;(AND)`:\r\n\r\n    while (!character.toString().equalsIgnoreCase(&quot;y&quot;) ||\r\n    !character.toString().equalsIgnoreCase(&quot;n&quot;)) {\r\n    //some logic...\r\n    }\r\n\r\nhope these help you to solve your problem!\r\n\r\n","title":"Why does my scanner.next().charat(0) read more than one char when the user inputs something with a space in between?","body":"<p>I think that it would be better to read <code>userInput</code> using <code>Scanner</code> with <code>nextLine()</code> method, then you could easily get its first character.</p>\n<p>Here is the code that is in my mind:</p>\n<pre><code>public static void main(String[] args) {\n    static Scanner scn = new Scanner(System.in);\n    \n    System.out.println(&quot;Would you like to change anything? (Y/N)&quot;);\n    String input = scn.nextLine();\n    Character character = input.charAt(0);\n    answer();\n    \n}\n</code></pre>\n<p>And just another thing that made me confused was you <code>While()</code> loop condition!!\nI think that you need to use <code>||(OR)</code> instead of <code>&amp;&amp;(AND)</code>:</p>\n<pre><code>while (!character.toString().equalsIgnoreCase(&quot;y&quot;) ||\n!character.toString().equalsIgnoreCase(&quot;n&quot;)) {\n//some logic...\n}\n</code></pre>\n<p>hope these help you to solve your problem!</p>\n"}],"owner":{"account_id":24533138,"reputation":1,"user_id":18444616,"display_name":"Ziadyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667737686,"creation_date":1667721233,"question_id":74334137,"body_markdown":"I want my code to read only the first letter of what the user inputs, but for some reason it reads more than that when there is a space in between words. If there is no space it&#39;ll work fine by storing only the first char, but if there are 2 words it&#39;ll store the first variable, go to the next line of code, then jump back quickly and override that variable with the first char of the second word and so on so forth with multiple words. It doesn&#39;t make any sense for it to do that because I thought that space was a char, so I don&#39;t understand why it restarts the char count. \r\n\r\nHere is the code:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class test1 {\r\n\r\n    static Scanner scn = new Scanner(System.in);\r\n    static char yn;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;Would you like to change anything? (Y/N)&quot;);\r\n        yn = scn.next().charAt(0);\r\n        yn = Character.toUpperCase(yn);\r\n\r\n        answer();\r\n    }\r\n\r\n    static void answer(){\r\n        // Loop until their answer is one of the options\r\n        while (yn != &#39;Y&#39; &amp;&amp; yn != &#39;N&#39;) {\r\n            System.out.println(&quot;Please input Y for yes or N for no&quot;);\r\n            System.out.println(&quot;Would you like to change anything? (Y/N)&quot;);\r\n            yn = scn.next().charAt(0);\r\n            yn = Character.toUpperCase(yn);\r\n        }\r\n    }\r\n```\r\n\r\nI tried to create a string variable, then after the user inputs their answer, the string variable would only store the first word then store the first char in the char variable, but that didn&#39;t seem to work. \r\n\r\nHere is the code that I tried:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class test1 {\r\n\r\n    static Scanner scn = new Scanner(System.in);\r\n    static char yn;\r\n    static String yesno;\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Would you like to change anything? (Y/N)&quot;);\r\n        yesno = scn.next();\r\n        yn = yesno.charAt(0);\r\n        yn = Character.toUpperCase(yn);\r\n\r\n        answer();\r\n    }\r\n\r\n    static void answer(){\r\n        // Loop until their answer is one of the options\r\n        while (yn != &#39;Y&#39; &amp;&amp; yn != &#39;N&#39;) {\r\n            System.out.println(&quot;Please input Y for yes or N for no&quot;);\r\n            System.out.println(&quot;Would you like to change anything? (Y/N)&quot;);\r\n            yesno = scn.next();\r\n            yn = yesno.charAt(0);\r\n            yn = Character.toUpperCase(yn);\r\n        }\r\n    }\r\n}\r\n```","title":"Why does my scanner.next().charat(0) read more than one char when the user inputs something with a space in between?","body":"<p>I want my code to read only the first letter of what the user inputs, but for some reason it reads more than that when there is a space in between words. If there is no space it'll work fine by storing only the first char, but if there are 2 words it'll store the first variable, go to the next line of code, then jump back quickly and override that variable with the first char of the second word and so on so forth with multiple words. It doesn't make any sense for it to do that because I thought that space was a char, so I don't understand why it restarts the char count.</p>\n<p>Here is the code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class test1 {\n\n    static Scanner scn = new Scanner(System.in);\n    static char yn;\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Would you like to change anything? (Y/N)&quot;);\n        yn = scn.next().charAt(0);\n        yn = Character.toUpperCase(yn);\n\n        answer();\n    }\n\n    static void answer(){\n        // Loop until their answer is one of the options\n        while (yn != 'Y' &amp;&amp; yn != 'N') {\n            System.out.println(&quot;Please input Y for yes or N for no&quot;);\n            System.out.println(&quot;Would you like to change anything? (Y/N)&quot;);\n            yn = scn.next().charAt(0);\n            yn = Character.toUpperCase(yn);\n        }\n    }\n</code></pre>\n<p>I tried to create a string variable, then after the user inputs their answer, the string variable would only store the first word then store the first char in the char variable, but that didn't seem to work.</p>\n<p>Here is the code that I tried:</p>\n<pre><code>import java.util.Scanner;\n\npublic class test1 {\n\n    static Scanner scn = new Scanner(System.in);\n    static char yn;\n    static String yesno;\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Would you like to change anything? (Y/N)&quot;);\n        yesno = scn.next();\n        yn = yesno.charAt(0);\n        yn = Character.toUpperCase(yn);\n\n        answer();\n    }\n\n    static void answer(){\n        // Loop until their answer is one of the options\n        while (yn != 'Y' &amp;&amp; yn != 'N') {\n            System.out.println(&quot;Please input Y for yes or N for no&quot;);\n            System.out.println(&quot;Would you like to change anything? (Y/N)&quot;);\n            yesno = scn.next();\n            yn = yesno.charAt(0);\n            yn = Character.toUpperCase(yn);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swagger","openapi","codegen"],"comments":[{"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"score":0,"creation_date":1667661547,"post_id":74328987,"comment_id":131221824,"body_markdown":"For use case -1 \nIs there even someway I can create a custom class myself and in my controller layer I leverage it to be accepted as a query parameter? Basic aim is to convert all these params into one model","body":"For use case -1  Is there even someway I can create a custom class myself and in my controller layer I leverage it to be accepted as a query parameter? Basic aim is to convert all these params into one model"}],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667736569,"creation_date":1667664917,"answer_id":74329409,"question_id":74328987,"body_markdown":"To have these parameters as query parameters is just fine according to REST. Your controller method to handle the request will be good accepting 3 values as int or Strings. For logging in, a better choice would be to use POST method, depending on what you wish to achieve.\r\n\r\nFrom your example, you really should check state-of-the-art authentication. You could consider JWT, it can wrap all these values securely and is actually designed for doing this. After you log-in a user with credentials, the JWT will be created and can then be used by the client for succeeding interactions as long as it is valid.\r\n\r\n*Edit:*\r\n\r\nThe Swagger notation also supports a *deepObject* notation as suggested in https://swagger.io/docs/specification/describing-parameters/, which indeed is not exactly what you are looking for. Still, it would allow to send query accordingly: `/api/v1?query[credentials]=&quot;test&quot;&amp;query[age]=20&amp;query[gender]=male\r\n` \r\n\r\nIn Swagger codegen, you could still consider your own code-generator that extends the basic capabilities.","title":"How to accept multiple query parameters with different parameter name in one class","body":"<p>To have these parameters as query parameters is just fine according to REST. Your controller method to handle the request will be good accepting 3 values as int or Strings. For logging in, a better choice would be to use POST method, depending on what you wish to achieve.</p>\n<p>From your example, you really should check state-of-the-art authentication. You could consider JWT, it can wrap all these values securely and is actually designed for doing this. After you log-in a user with credentials, the JWT will be created and can then be used by the client for succeeding interactions as long as it is valid.</p>\n<p><em>Edit:</em></p>\n<p>The Swagger notation also supports a <em>deepObject</em> notation as suggested in <a href=\"https://swagger.io/docs/specification/describing-parameters/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/describing-parameters/</a>, which indeed is not exactly what you are looking for. Still, it would allow to send query accordingly: <code>/api/v1?query[credentials]=&quot;test&quot;&amp;query[age]=20&amp;query[gender]=male </code></p>\n<p>In Swagger codegen, you could still consider your own code-generator that extends the basic capabilities.</p>\n"}],"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74329409,"answer_count":1,"score":1,"last_activity_date":1667736569,"creation_date":1667661476,"question_id":74328987,"body_markdown":"Consider a use case where I have a URL like\r\n```\r\n/api/v1?credentials=&quot;test&quot;&amp;age=20&amp;gender=male\r\n```\r\nNow how can I have 2 different type of cases \r\n\r\n**USE CASE-1**\r\n\r\n\r\nHow can I accept the above query parameters in the form a class from swagger, I know we can define this in swagger as different individual parameters something like this\r\n```\r\n     parameters:\r\n        - in: query\r\n          name: credentials\r\n          schema:\r\n            type: string\r\n        - in: query\r\n          name: age\r\n          schema:\r\n            type: integer\r\n        - in: query\r\n          name: gender\r\n          schema:\r\n            type: string\r\n```\r\nbut with this swagger creates a rest method with string or integer parameters, and having so many multiple parameters might not be a good idea so what I strongly expect is that it creates a class something like shown below, and my rest methods are generated with this class object. \r\nAnd how can I leverage this class into my controller layer?\r\n```\r\nclass Query{\r\n  String name;\r\n  Integer age;\r\n  String gender;\r\n}\r\n```\r\n\r\n\r\n**USE CASE-2**\r\n\r\nIs there some way I can accept all these query params into the form of a hashMap or multiValueMap\r\nI know there is another integer in the above url query params, but for now, lets consider I will accept all these params into the form of a string and will later typecast them as per my requirement. \r\n\r\n\r\nNOTE - that I don&#39;t want the same name parameter with multiple values, I am expecting all the query parameters with or without the same names to be mapped into one string-to-string key-value pair. \r\nSo let&#39;s say when I had to access them I will directly use something like `map.get(&quot;age&quot;)`\r\n\r\n\r\n\r\n\r\n","title":"How to accept multiple query parameters with different parameter name in one class","body":"<p>Consider a use case where I have a URL like</p>\n<pre><code>/api/v1?credentials=&quot;test&quot;&amp;age=20&amp;gender=male\n</code></pre>\n<p>Now how can I have 2 different type of cases</p>\n<p><strong>USE CASE-1</strong></p>\n<p>How can I accept the above query parameters in the form a class from swagger, I know we can define this in swagger as different individual parameters something like this</p>\n<pre><code>     parameters:\n        - in: query\n          name: credentials\n          schema:\n            type: string\n        - in: query\n          name: age\n          schema:\n            type: integer\n        - in: query\n          name: gender\n          schema:\n            type: string\n</code></pre>\n<p>but with this swagger creates a rest method with string or integer parameters, and having so many multiple parameters might not be a good idea so what I strongly expect is that it creates a class something like shown below, and my rest methods are generated with this class object.\nAnd how can I leverage this class into my controller layer?</p>\n<pre><code>class Query{\n  String name;\n  Integer age;\n  String gender;\n}\n</code></pre>\n<p><strong>USE CASE-2</strong></p>\n<p>Is there some way I can accept all these query params into the form of a hashMap or multiValueMap\nI know there is another integer in the above url query params, but for now, lets consider I will accept all these params into the form of a string and will later typecast them as per my requirement.</p>\n<p>NOTE - that I don't want the same name parameter with multiple values, I am expecting all the query parameters with or without the same names to be mapped into one string-to-string key-value pair.\nSo let's say when I had to access them I will directly use something like <code>map.get(&quot;age&quot;)</code></p>\n"},{"tags":["java","android","color-picker"],"comments":[{"owner":{"account_id":1786329,"reputation":10939,"user_id":1627730,"accept_rate":75,"display_name":"stealthjong"},"score":2,"creation_date":1355913774,"post_id":13950508,"comment_id":19239312,"body_markdown":"So where does the color-picker come in?","body":"So where does the color-picker come in?"},{"owner":{"account_id":1238100,"reputation":12185,"user_id":1201272,"accept_rate":80,"display_name":"AurA"},"score":2,"creation_date":1355913796,"post_id":13950508,"comment_id":19239326,"body_markdown":"A standard way to make color picker for android is http://code.google.com/p/android-color-picker/\nYou can download source code and take a look...","body":"A standard way to make color picker for android is <a href=\"http://code.google.com/p/android-color-picker/\" rel=\"nofollow noreferrer\">code.google.com/p/android-color-picker</a> You can download source code and take a look..."}],"answers":[{"tags":[],"owner":{"account_id":1317817,"reputation":6555,"user_id":1264315,"accept_rate":100,"display_name":"ndsmyter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1355914795,"creation_date":1355914795,"answer_id":13950868,"question_id":13950508,"body_markdown":"I don&#39;t see anything about a color-picker in your code? But maybe you can just use a library for picking a color: [android-color-picker][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/android-color-picker/","title":"color picker in android?","body":"<p>I don't see anything about a color-picker in your code? But maybe you can just use a library for picking a color: <a href=\"https://code.google.com/p/android-color-picker/\" rel=\"nofollow\">android-color-picker</a></p>\n"},{"tags":[],"owner":{"account_id":21418770,"reputation":1,"user_id":19417391,"display_name":"Akash Fulari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667736137,"creation_date":1667736137,"answer_id":74335704,"question_id":13950508,"body_markdown":"I would like to say that. I have created my own color picker for android application using java. It is very simple to add in your project.\r\n\r\nPlease go through this : [https://github.com/AkashFulari/AFSColorChooser][1] \r\n\r\n\r\nPreview : [Checkout this preview][2]\r\n\r\n\r\n  [1]: https://github.com/AkashFulari/AFSColorChooser\r\n  [2]: https://i.stack.imgur.com/dGXAY.jpg","title":"color picker in android?","body":"<p>I would like to say that. I have created my own color picker for android application using java. It is very simple to add in your project.</p>\n<p>Please go through this : <a href=\"https://github.com/AkashFulari/AFSColorChooser\" rel=\"nofollow noreferrer\">https://github.com/AkashFulari/AFSColorChooser</a></p>\n<p>Preview : <a href=\"https://i.stack.imgur.com/dGXAY.jpg\" rel=\"nofollow noreferrer\">Checkout this preview</a></p>\n"}],"owner":{"account_id":1940251,"reputation":59,"user_id":1746594,"display_name":"Selva"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1107,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1667747588,"accepted_answer_id":13950868,"answer_count":2,"score":-2,"last_activity_date":1667736137,"creation_date":1355913630,"question_id":13950508,"body_markdown":"How to use color picker in android? I tried the following code:\r\n\r\n\r\n\r\n   \r\n    public class FontManager\r\n    {\r\n\t// This function enumerates all fonts on Android system and returns the HashMap with the font\r\n\t// absolute file name as key, and the font literal name (embedded into the font) as value.\r\n\tstatic public HashMap&lt; String, String &gt; enumerateFonts()\r\n\t{\r\n\t\tString[] fontdirs = { &quot;/system/fonts&quot;, &quot;/system/font&quot;, &quot;/data/fonts&quot; };\r\n\t\tHashMap&lt; String, String &gt; fonts = new HashMap&lt; String, String &gt;();\r\n\t\tTTFAnalyzer analyzer = new TTFAnalyzer();\r\n\r\n\t\tfor ( String fontdir : fontdirs )\r\n\t\t{\r\n\t\t\tFile dir = new File( fontdir );\r\n\r\n\t\t\tif ( !dir.exists() )\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tFile[] files = dir.listFiles();\r\n\r\n\t\t\tif ( files == null )\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tfor ( File file : files )\r\n\t\t\t{\r\n\t\t\t\tString fontname = analyzer.getTtfFontName( file.getAbsolutePath() );\r\n\r\n\t\t\t\tif ( fontname != null )\r\n\t\t\t\t\tfonts.put( file.getAbsolutePath(), fontname );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn fonts.isEmpty() ? null : fonts;\r\n\t}\r\n    }\r\n\r\n\r\nThis code gets run time error. Give some samples.","title":"color picker in android?","body":"<p>How to use color picker in android? I tried the following code:</p>\n\n<pre><code>public class FontManager\n{\n// This function enumerates all fonts on Android system and returns the HashMap with the font\n// absolute file name as key, and the font literal name (embedded into the font) as value.\nstatic public HashMap&lt; String, String &gt; enumerateFonts()\n{\n    String[] fontdirs = { \"/system/fonts\", \"/system/font\", \"/data/fonts\" };\n    HashMap&lt; String, String &gt; fonts = new HashMap&lt; String, String &gt;();\n    TTFAnalyzer analyzer = new TTFAnalyzer();\n\n    for ( String fontdir : fontdirs )\n    {\n        File dir = new File( fontdir );\n\n        if ( !dir.exists() )\n            continue;\n\n        File[] files = dir.listFiles();\n\n        if ( files == null )\n            continue;\n\n        for ( File file : files )\n        {\n            String fontname = analyzer.getTtfFontName( file.getAbsolutePath() );\n\n            if ( fontname != null )\n                fonts.put( file.getAbsolutePath(), fontname );\n        }\n    }\n\n    return fonts.isEmpty() ? null : fonts;\n}\n}\n</code></pre>\n\n<p>This code gets run time error. Give some samples.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"score":2,"creation_date":1587283071,"post_id":21884217,"comment_id":108445232,"body_markdown":"For anybody coming here with the same issue but no &quot;source root&quot; problem - the runnability and &quot;main class&quot; indicators disappeared when I accidentally imported `com.sun.org.apache.xpath.internal.operations.String` - still can&#39;t figure out _why_ it happened! (IDEA 2018.1, JDK 8, Maven)","body":"For anybody coming here with the same issue but no &quot;source root&quot; problem - the runnability and &quot;main class&quot; indicators disappeared when I accidentally imported <code>com.sun.org.apache.xpath.internal.operations.String</code> - still can&#39;t figure out <i>why</i> it happened! (IDEA 2018.1, JDK 8, Maven)"},{"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"score":0,"creation_date":1648172526,"post_id":21884217,"comment_id":126563484,"body_markdown":"It&#39;s annoying because In the configuration definition panel there is a dialog for Choosing the  main class with a tab listing all the project files, Why one of those with a main method in it cannot just be selected, I find very unintuative.","body":"It&#39;s annoying because In the configuration definition panel there is a dialog for Choosing the  main class with a tab listing all the project files, Why one of those with a main method in it cannot just be selected, I find very unintuative."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":1,"up_vote_count":188,"is_accepted":false,"score":187,"last_activity_date":1392822087,"creation_date":1392822087,"answer_id":21884283,"question_id":21884217,"body_markdown":"Select the folder containing the package tree of these classes, right-click and choose &quot;Mark Directory as -&gt; Source Root&quot;","title":"Can&#39;t choose class as main class in IntelliJ","body":"<p>Select the folder containing the package tree of these classes, right-click and choose \"Mark Directory as -> Source Root\"</p>\n"},{"tags":[],"owner":{"account_id":188003,"reputation":1064,"user_id":426463,"display_name":"trappski"},"down_vote_count":3,"up_vote_count":76,"is_accepted":true,"score":73,"last_activity_date":1392822502,"creation_date":1392822502,"answer_id":21884480,"question_id":21884217,"body_markdown":"The documentation you linked actually has the answer in the link associated with the &quot;Java class located out of the source root.&quot;\r\nConfigure your source and test roots and it should work.\r\n\r\nhttps://www.jetbrains.com/idea/webhelp/configuring-content-roots.html\r\n\r\nSince you stated that these are tests you should probably go with them marked as Test Source Root instead of Source Root.","title":"Can&#39;t choose class as main class in IntelliJ","body":"<p>The documentation you linked actually has the answer in the link associated with the \"Java class located out of the source root.\"\nConfigure your source and test roots and it should work.</p>\n\n<p><a href=\"https://www.jetbrains.com/idea/webhelp/configuring-content-roots.html\">https://www.jetbrains.com/idea/webhelp/configuring-content-roots.html</a></p>\n\n<p>Since you stated that these are tests you should probably go with them marked as Test Source Root instead of Source Root.</p>\n"},{"tags":[],"owner":{"account_id":8928754,"reputation":7427,"user_id":6662058,"display_name":"Ashwin"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1588209788,"creation_date":1588209788,"answer_id":61514378,"question_id":21884217,"body_markdown":"Here is the complete procedure for IDEA IntelliJ 2019.3:\r\n\r\n 1. File &gt; Project Structure\r\n\r\n 2. Under Project Settings &gt; Modules\r\n\r\n 3. Under &#39;Sources&#39; tab, right-click on &#39;src&#39; folder and select &#39;Sources&#39;.\r\n\r\n 4. Apply changes.","title":"Can&#39;t choose class as main class in IntelliJ","body":"<p>Here is the complete procedure for IDEA IntelliJ 2019.3:</p>\n\n<ol>\n<li><p>File > Project Structure</p></li>\n<li><p>Under Project Settings > Modules</p></li>\n<li><p>Under 'Sources' tab, right-click on 'src' folder and select 'Sources'.</p></li>\n<li><p>Apply changes.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21579716,"reputation":61,"user_id":15911102,"display_name":"user15911102"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620861216,"creation_date":1620861216,"answer_id":67512071,"question_id":21884217,"body_markdown":"Sometimes under the current automatically configured sources root you need to specify the module classpath:\r\n\r\n 1. Click Run -&gt; Edit Configurations\r\n 2. Select the project you can&#39;t find the main class for \r\n 3. Under the `Use classpath of module` pulldown see if there is a sub directory that has your main class under it. If so, select it.\r\n 4. try to configure the main class again.","title":"Can&#39;t choose class as main class in IntelliJ","body":"<p>Sometimes under the current automatically configured sources root you need to specify the module classpath:</p>\n<ol>\n<li>Click Run -&gt; Edit Configurations</li>\n<li>Select the project you can't find the main class for</li>\n<li>Under the <code>Use classpath of module</code> pulldown see if there is a sub directory that has your main class under it. If so, select it.</li>\n<li>try to configure the main class again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19460253,"reputation":101,"user_id":14234707,"display_name":"Ton"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1667735851,"creation_date":1629444711,"answer_id":68858464,"question_id":21884217,"body_markdown":"I also faced another issue: the **main method has to have arguments**\r\n\r\nThis way is incorrect, Intellij will not let you select main method.\r\n\r\n    public class yourClass() {\r\n    \r\n      public static void main() {\r\n\r\n\r\nThis way is CORRECT and Intellij will let you select it\r\n\r\n    public class yourClass() {\r\n    \r\n      public static void main(String[] args) {\r\n\r\n","title":"Can&#39;t choose class as main class in IntelliJ","body":"<p>I also faced another issue: the <strong>main method has to have arguments</strong></p>\n<p>This way is incorrect, Intellij will not let you select main method.</p>\n<pre><code>public class yourClass() {\n\n  public static void main() {\n</code></pre>\n<p>This way is CORRECT and Intellij will let you select it</p>\n<pre><code>public class yourClass() {\n\n  public static void main(String[] args) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":240361,"reputation":413,"user_id":510550,"accept_rate":67,"display_name":"Raju Penumatsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644898437,"creation_date":1644898437,"answer_id":71121037,"question_id":21884217,"body_markdown":"I&#39;m using Eclipse but it will be something similar like this.\r\n\r\nRight click on project and select something similar to &#39;Maven&#39; &gt;&gt; &#39;Reload from maven&#39;.\r\n\r\nIntelij should be able to understand project structure from Maven pom file and will select main class automatically.","title":"Can&#39;t choose class as main class in IntelliJ","body":"<p>I'm using Eclipse but it will be something similar like this.</p>\n<p>Right click on project and select something similar to 'Maven' &gt;&gt; 'Reload from maven'.</p>\n<p>Intelij should be able to understand project structure from Maven pom file and will select main class automatically.</p>\n"}],"owner":{"account_id":169276,"reputation":10367,"user_id":395258,"accept_rate":92,"display_name":"C. E."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173789,"favorite_count":0,"down_vote_count":0,"up_vote_count":135,"accepted_answer_id":21884480,"answer_count":6,"score":135,"last_activity_date":1667735851,"creation_date":1392821944,"question_id":21884217,"body_markdown":"I have a Java project in IntelliJ to which I just added a bunch of files in a nested folder hierarchy. Many of these files are tests and include the main method, so I should be able to run them. However I cannot figure out how to do this.\r\n\r\nI&#39;m new to IntelliJ and previously files have shown up in the project hierarchy with the [symbol][1] that corresponds to &quot;Java class that contains declaration of the main() method.&quot; but in this scenario they show up with the symbol corresponding to &quot;Java class located out of the source root.&quot;\r\n\r\nSo how do I compile and run these files?\r\n\r\n  [1]: https://www.jetbrains.com/idea/webhelp/symbols.html","title":"Can&#39;t choose class as main class in IntelliJ","body":"<p>I have a Java project in IntelliJ to which I just added a bunch of files in a nested folder hierarchy. Many of these files are tests and include the main method, so I should be able to run them. However I cannot figure out how to do this.</p>\n\n<p>I'm new to IntelliJ and previously files have shown up in the project hierarchy with the <a href=\"https://www.jetbrains.com/idea/webhelp/symbols.html\">symbol</a> that corresponds to \"Java class that contains declaration of the main() method.\" but in this scenario they show up with the symbol corresponding to \"Java class located out of the source root.\"</p>\n\n<p>So how do I compile and run these files?</p>\n"},{"tags":["java","list","yaml","snakeyaml"],"answers":[{"tags":[],"owner":{"account_id":13766981,"reputation":11,"user_id":9935334,"display_name":"Sobhan Zahedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667734089,"creation_date":1667734089,"answer_id":74335436,"question_id":74335259,"body_markdown":"When you use space in yaml file means you have craeted children for that variable, so you must be create another class as `Test3` and reference it to `UserYaml` class:\r\n\r\n```\r\npublic class UserYaml {\r\n    private Integer test1;\r\n    private String test2;\r\n    private List&lt;Test3&gt; test3;\r\n}\r\n\r\npublic class Test3{\r\n    private Integer testt1;\r\n    private String testt2;\r\n}\r\n\r\n","title":"Java uses snakeyaml read and write yaml","body":"<p>When you use space in yaml file means you have craeted children for that variable, so you must be create another class as <code>Test3</code> and reference it to <code>UserYaml</code> class:</p>\n<pre><code>public class UserYaml {\n    private Integer test1;\n    private String test2;\n    private List&lt;Test3&gt; test3;\n}\n\npublic class Test3{\n    private Integer testt1;\n    private String testt2;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26780421,"reputation":1,"user_id":20375340,"display_name":"董梓轩"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667735485,"creation_date":1667735485,"answer_id":74335620,"question_id":74335259,"body_markdown":"Sorry, I didn&#39;t make it clear. I want Test4 to work correctly.\r\n\r\n    public class UserYaml {\r\n    private Integer test1;\r\n    private String test2;\r\n    private Test3 test3;\r\n    private List&lt;Test&gt; test;}\r\n\r\n```\r\ntest1: 123\r\ntest2: &quot;wqre&quot;\r\ntest3:\r\n  testt1: 1\r\n  testt2: &quot;asd&quot;\r\n\r\ntest4:\r\n  - test:\r\n      a: string\r\n      b: 3\r\n  - test:\r\n      a: integer\r\n      b: 4\r\n```\r\n```\r\nException in thread &quot;main&quot; Cannot create property=test4 for JavaBean=UserYaml(test1=123, test2=wqre, test3=Test3(testt1=1, testt2=asd), test=null)\r\n in &#39;reader&#39;, line 1, column 1:\r\n    test1: 123\r\n    ^\r\nUnable to find property &#39;test4&#39; on class: UserYaml\r\n in &#39;reader&#39;, line 8, column 3:\r\n      - test:\r\n```","title":"Java uses snakeyaml read and write yaml","body":"<p>Sorry, I didn't make it clear. I want Test4 to work correctly.</p>\n<pre><code>public class UserYaml {\nprivate Integer test1;\nprivate String test2;\nprivate Test3 test3;\nprivate List&lt;Test&gt; test;}\n</code></pre>\n<pre><code>test1: 123\ntest2: &quot;wqre&quot;\ntest3:\n  testt1: 1\n  testt2: &quot;asd&quot;\n\ntest4:\n  - test:\n      a: string\n      b: 3\n  - test:\n      a: integer\n      b: 4\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; Cannot create property=test4 for JavaBean=UserYaml(test1=123, test2=wqre, test3=Test3(testt1=1, testt2=asd), test=null)\n in 'reader', line 1, column 1:\n    test1: 123\n    ^\nUnable to find property 'test4' on class: UserYaml\n in 'reader', line 8, column 3:\n      - test:\n</code></pre>\n"}],"owner":{"account_id":26780421,"reputation":1,"user_id":20375340,"display_name":"董梓轩"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667735485,"creation_date":1667732602,"question_id":74335259,"body_markdown":"When I use snakeyaml to convert the yaml file into a class, the List object cannot be converted correctly.\r\n\r\n\r\nThe following can work\r\n\r\n\r\n```\r\npublic class UserYaml {\r\n    private Integer test1;\r\n    private String test2;\r\n    private Test3 test3;\r\n//    private List&lt;Test&gt; test;\r\n}\r\n```\r\n\r\n```\r\ntest1: 123\r\ntest2: &quot;wqre&quot;\r\ntest3:\r\n  testt1: 1\r\n  testt2: &quot;asd&quot;\r\n\r\n#test4:\r\n#  - test:\r\n#      a: string\r\n#      b: 3\r\n#  - test:\r\n#      a: integer\r\n#      b: 4\r\n```\r\n","title":"Java uses snakeyaml read and write yaml","body":"<p>When I use snakeyaml to convert the yaml file into a class, the List object cannot be converted correctly.</p>\n<p>The following can work</p>\n<pre><code>public class UserYaml {\n    private Integer test1;\n    private String test2;\n    private Test3 test3;\n//    private List&lt;Test&gt; test;\n}\n</code></pre>\n<pre><code>test1: 123\ntest2: &quot;wqre&quot;\ntest3:\n  testt1: 1\n  testt2: &quot;asd&quot;\n\n#test4:\n#  - test:\n#      a: string\n#      b: 3\n#  - test:\n#      a: integer\n#      b: 4\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667734682,"creation_date":1667730886,"answer_id":74335042,"question_id":74334791,"body_markdown":"For all other relation types, `FetchType.LAZY` will work as expected, but for `@OneToOne` it is different.\r\n\r\nIt would work if you change your `Person` entity such that you don&#39;t have relation to `Passport`, and in `Passport` have:\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @MapsId\r\n    private Person person;\r\n\r\nThen if you are using Spring JPA and you want to find a `Passport` for a `Person`, you can do `passportRepository.findByPerson(person)`.\r\n\r\nOr if you are using `entityManager`, you can find it as:\r\n\r\n    entityManager.find(Passport.class, person.getId());\r\n\r\nFor more explanation, please read https://thorben-janssen.com/hibernate-tip-lazy-loading-one-to-one/.\r\n\r\n","title":"Hibernate bidirectional @OneToOne always EAGER on child side","body":"<p>For all other relation types, <code>FetchType.LAZY</code> will work as expected, but for <code>@OneToOne</code> it is different.</p>\n<p>It would work if you change your <code>Person</code> entity such that you don't have relation to <code>Passport</code>, and in <code>Passport</code> have:</p>\n<pre><code>@OneToOne(fetch = FetchType.LAZY)\n@MapsId\nprivate Person person;\n</code></pre>\n<p>Then if you are using Spring JPA and you want to find a <code>Passport</code> for a <code>Person</code>, you can do <code>passportRepository.findByPerson(person)</code>.</p>\n<p>Or if you are using <code>entityManager</code>, you can find it as:</p>\n<pre><code>entityManager.find(Passport.class, person.getId());\n</code></pre>\n<p>For more explanation, please read <a href=\"https://thorben-janssen.com/hibernate-tip-lazy-loading-one-to-one/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/hibernate-tip-lazy-loading-one-to-one/</a>.</p>\n"}],"owner":{"account_id":24870870,"reputation":13,"user_id":18745385,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74335042,"answer_count":1,"score":1,"last_activity_date":1667734682,"creation_date":1667728534,"question_id":74334791,"body_markdown":"I have two entities: Person and Passport. I map it as bidirectional. \r\n\r\nPassport (parent):\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;passports&quot;)\r\npublic class Passport {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    private Integer serial;\r\n    private Integer number;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Person person;\r\n```\r\nPerson (child):\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;people&quot;)\r\npublic class Person {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    private String name;\r\n\r\n    @OneToOne(mappedBy = &quot;person&quot;, fetch = FetchType.LAZY)\r\n    private Passport passport;\r\n```\r\n\r\nBoth relations fetch types are LAZY.\r\n\r\nNow I&#39;m trying to find only child:\r\n\r\n```\r\nPerson p = entityManager.find(Person.class, 1);\r\nSystem.out.println(p.getName());\r\n```\r\nHibernate generates two SELECT statements instead of one (must select only person).\r\n```\r\nHibernate: select p1_0.id,p1_0.name from people p1_0 where p1_0.id=?\r\nHibernate: select p1_0.id,p1_0.number,p1_0.person_id,p1_0.serial from passports p1_0 where p1_0.person_id=?\r\n```\r\n\r\nI expect only one select, but get two.\r\n\r\nWhy doesnt LAZY work?\r\nWhat am I doing wrong?","title":"Hibernate bidirectional @OneToOne always EAGER on child side","body":"<p>I have two entities: Person and Passport. I map it as bidirectional.</p>\n<p>Passport (parent):</p>\n<pre><code>@Entity\n@Table(name = &quot;passports&quot;)\npublic class Passport {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private Integer serial;\n    private Integer number;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Person person;\n</code></pre>\n<p>Person (child):</p>\n<pre><code>@Entity\n@Table(name = &quot;people&quot;)\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String name;\n\n    @OneToOne(mappedBy = &quot;person&quot;, fetch = FetchType.LAZY)\n    private Passport passport;\n</code></pre>\n<p>Both relations fetch types are LAZY.</p>\n<p>Now I'm trying to find only child:</p>\n<pre><code>Person p = entityManager.find(Person.class, 1);\nSystem.out.println(p.getName());\n</code></pre>\n<p>Hibernate generates two SELECT statements instead of one (must select only person).</p>\n<pre><code>Hibernate: select p1_0.id,p1_0.name from people p1_0 where p1_0.id=?\nHibernate: select p1_0.id,p1_0.number,p1_0.person_id,p1_0.serial from passports p1_0 where p1_0.person_id=?\n</code></pre>\n<p>I expect only one select, but get two.</p>\n<p>Why doesnt LAZY work?\nWhat am I doing wrong?</p>\n"},{"tags":["java","arrays","hex","byte"],"comments":[{"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"score":1,"creation_date":1667732324,"post_id":74335170,"comment_id":131232398,"body_markdown":"why converting byte back to int? why not compare it directly?","body":"why converting byte back to int? why not compare it directly?"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1667732326,"post_id":74335170,"comment_id":131232399,"body_markdown":"You can replace `if (i/16 &gt; 0x09 || i%16 &gt; 0x09) return false;` with `return i%16 &lt;= 0x09;`","body":"You can replace <code>if (i&#47;16 &gt; 0x09 || i%16 &gt; 0x09) return false;</code> with <code>return i%16 &lt;= 0x09;</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667732713,"post_id":74335170,"comment_id":131232475,"body_markdown":"Please show a complete, runnable example.","body":"Please show a complete, runnable example."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667732823,"post_id":74335170,"comment_id":131232497,"body_markdown":"Have you tested your current code? What does it say for the byte 0xFF?","body":"Have you tested your current code? What does it say for the byte 0xFF?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667736306,"post_id":74335170,"comment_id":131233225,"body_markdown":"Related and necessary: [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java)","body":"Related and necessary: <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">How do I write a correct micro-benchmark in Java?</a>"},{"owner":{"account_id":17017364,"reputation":21,"user_id":12310872,"display_name":"NotInCheck"},"score":0,"creation_date":1667739896,"post_id":74335170,"comment_id":131233943,"body_markdown":"@office.aizaz you was right about that, IDK why I converted back to int","body":"@office.aizaz you was right about that, IDK why I converted back to int"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667749786,"post_id":74335170,"comment_id":131236168,"body_markdown":"@ArvindKumarAvinash That won’t give the desired result since it’s in a loop.","body":"@ArvindKumarAvinash That won’t give the desired result since it’s in a loop."}],"answers":[{"tags":[],"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667734348,"creation_date":1667732640,"answer_id":74335264,"question_id":74335170,"body_markdown":"How about this?\r\n\r\n    byte[] arr = new byte[] {0x00, 0x01, 0x02};\r\n    for (byte b : arr) {\r\n          if (b &gt; 0x09) {\r\n              return false;\r\n          }\r\n    }\r\n\r\nAs mentioned in comment, OP is interested in comparing each &#39;nibble&#39;:\r\n\r\n    byte[] arr = new byte[] {0x00, 0x01, 0x02};\r\n    for (byte b : arr) {\r\n          if ((b &amp; 0xF0) &gt; 0x90 || (b &amp; 0x0F) &gt; 0x09) {\r\n              return false;\r\n          }\r\n      }","title":"How is the fastest way to check each digit of a byte array in Java?","body":"<p>How about this?</p>\n<pre><code>byte[] arr = new byte[] {0x00, 0x01, 0x02};\nfor (byte b : arr) {\n      if (b &gt; 0x09) {\n          return false;\n      }\n}\n</code></pre>\n<p>As mentioned in comment, OP is interested in comparing each 'nibble':</p>\n<pre><code>byte[] arr = new byte[] {0x00, 0x01, 0x02};\nfor (byte b : arr) {\n      if ((b &amp; 0xF0) &gt; 0x90 || (b &amp; 0x0F) &gt; 0x09) {\n          return false;\n      }\n  }\n</code></pre>\n"}],"owner":{"account_id":17017364,"reputation":21,"user_id":12310872,"display_name":"NotInCheck"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667734348,"creation_date":1667731927,"question_id":74335170,"body_markdown":"Given an arbitrary byteArray I need to check if a digit is greater than 9, if so the method returns false. I came to this solution, but I think it&#39;s a better way of doind that (maybe with some unary operations or other tricks):\r\n\r\n```\r\nfor (int i : byteArray)\r\n    if (i/16 &gt; 0x09 || i%16 &gt; 0x09) return false;\r\n```\r\n\r\nI tried to convert the number to a string, but it was slower.","title":"How is the fastest way to check each digit of a byte array in Java?","body":"<p>Given an arbitrary byteArray I need to check if a digit is greater than 9, if so the method returns false. I came to this solution, but I think it's a better way of doind that (maybe with some unary operations or other tricks):</p>\n<pre><code>for (int i : byteArray)\n    if (i/16 &gt; 0x09 || i%16 &gt; 0x09) return false;\n</code></pre>\n<p>I tried to convert the number to a string, but it was slower.</p>\n"},{"tags":["java","reactjs","react-native","protobuf-java","protobuf.js"],"comments":[{"owner":{"account_id":14757159,"reputation":4260,"user_id":10657559,"display_name":"Thanhal P A"},"score":0,"creation_date":1667739994,"post_id":74335308,"comment_id":131233959,"body_markdown":"Does this answer your question? [Android Build Failure: Common Issue- Failed to install the app. Error: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081](https://stackoverflow.com/questions/74334162/android-build-failure-common-issue-failed-to-install-the-app-error-command-f)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74334162/android-build-failure-common-issue-failed-to-install-the-app-error-command-f\">Android Build Failure: Common Issue- Failed to install the app. Error: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081</a>"}],"owner":{"account_id":26822054,"reputation":11,"user_id":20411238,"display_name":"Igor d&#39;Adhemar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667733812,"creation_date":1667733014,"question_id":74335308,"body_markdown":"so recently, I created my first project in react native, but when I want to run it on my android emulator, it returns me this error : \r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;Wood&#39;.\r\n&gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file C:\\Users\\thegl\\.gradle\\caches\\jars-9\\58f2ec2094ef71854a105c273af3dbce\\protobuf-java-3.10.0.jar.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;Wood&#39;.\r\n&gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file C:\\Users\\thegl\\.gradle\\caches\\jars-9\\58f2ec2094ef71854a105c273af3dbce\\protobuf-java-3.10.0.jar.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\n\r\n    at makeError (C:\\Users\\thegl\\Desktop\\Wood\\Wood\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:174:9)\r\n    at C:\\Users\\thegl\\Desktop\\Wood\\Wood\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:278:16\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async runOnAllDevices (C:\\Users\\thegl\\Desktop\\Wood\\Wood\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:109:5)\r\n    at async Command.handleAction (C:\\Users\\thegl\\Desktop\\Wood\\Wood\\node_modules\\@react-native-community\\cli\\build\\index.js:142:9)\r\ninfo Run CLI with --verbose flag for more details.\r\n```\r\n\r\nalso, it create me a file name protobuf-java3.10.0.jar.lock.lock in this folder : C:\\Users\\thegl\\.gradle\\caches\\jars-9\\58f2ec2094ef71854a105c273af3dbce\r\n\r\n\r\nI don&#39;t know what to do to resolve this error, I searched on all the internet, please help me\r\n\r\n","title":"Cannot run my react native app on my emulator","body":"<p>so recently, I created my first project in react native, but when I want to run it on my android emulator, it returns me this error :</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'Wood'.\n&gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file C:\\Users\\thegl\\.gradle\\caches\\jars-9\\58f2ec2094ef71854a105c273af3dbce\\protobuf-java-3.10.0.jar.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'Wood'.\n&gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file C:\\Users\\thegl\\.gradle\\caches\\jars-9\\58f2ec2094ef71854a105c273af3dbce\\protobuf-java-3.10.0.jar.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n\n    at makeError (C:\\Users\\thegl\\Desktop\\Wood\\Wood\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:174:9)\n    at C:\\Users\\thegl\\Desktop\\Wood\\Wood\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:278:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runOnAllDevices (C:\\Users\\thegl\\Desktop\\Wood\\Wood\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:109:5)\n    at async Command.handleAction (C:\\Users\\thegl\\Desktop\\Wood\\Wood\\node_modules\\@react-native-community\\cli\\build\\index.js:142:9)\ninfo Run CLI with --verbose flag for more details.\n</code></pre>\n<p>also, it create me a file name protobuf-java3.10.0.jar.lock.lock in this folder : C:\\Users\\thegl.gradle\\caches\\jars-9\\58f2ec2094ef71854a105c273af3dbce</p>\n<p>I don't know what to do to resolve this error, I searched on all the internet, please help me</p>\n"},{"tags":["java","android","kotlin","android-intent"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667783561,"post_id":74334060,"comment_id":131242775,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":15169986,"reputation":79,"user_id":10946381,"display_name":"Sohag"},"score":0,"creation_date":1667911122,"post_id":74334060,"comment_id":131276123,"body_markdown":"@LawrenceGimenez I need a simple solution where I have an image URI and I need to send this image directly to the adobe lightroom app for editing that image. Thanks for the suggestion and I got the way to do this. I give it in the answer section.","body":"@LawrenceGimenez I need a simple solution where I have an image URI and I need to send this image directly to the adobe lightroom app for editing that image. Thanks for the suggestion and I got the way to do this. I give it in the answer section."}],"answers":[{"tags":[],"owner":{"account_id":15169986,"reputation":79,"user_id":10946381,"display_name":"Sohag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667733736,"creation_date":1667733736,"answer_id":74335388,"question_id":74334060,"body_markdown":"I solve my requirements\r\n\r\nhere&#39;s the code:\r\n\r\n    val shareIntent = Intent(Intent.ACTION_SEND).apply {\r\n                        putExtra(Intent.EXTRA_STREAM, uri)\r\n                        setPackage(&quot;com.adobe.lrmobile&quot;)\r\n                        type = &quot;image/jpeg&quot;\r\n                    }\r\n                    startActivity(shareIntent)","title":"Open a image my app to Adobe Lightroom app android","body":"<p>I solve my requirements</p>\n<p>here's the code:</p>\n<pre><code>val shareIntent = Intent(Intent.ACTION_SEND).apply {\n                    putExtra(Intent.EXTRA_STREAM, uri)\n                    setPackage(&quot;com.adobe.lrmobile&quot;)\n                    type = &quot;image/jpeg&quot;\n                }\n                startActivity(shareIntent)\n</code></pre>\n"}],"owner":{"account_id":15169986,"reputation":79,"user_id":10946381,"display_name":"Sohag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74335388,"answer_count":1,"score":0,"last_activity_date":1667733736,"creation_date":1667720248,"question_id":74334060,"body_markdown":"Im trying to open my app image to another app\r\n\r\nI have image uri in my android app , I want to open it directly android adobe lightroom app with kotlin ","title":"Open a image my app to Adobe Lightroom app android","body":"<p>Im trying to open my app image to another app</p>\n<p>I have image uri in my android app , I want to open it directly android adobe lightroom app with kotlin</p>\n"},{"tags":["java","windows","intellij-idea","build","compiler-errors"],"comments":[{"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"score":0,"creation_date":1667734569,"post_id":74335316,"comment_id":131232862,"body_markdown":"It is extremely difficult to know what the problem is based on the textual information. I would only suggest either use maven for package/dependency management or do it with your IDE. Mixing both of them may cause such issues.","body":"It is extremely difficult to know what the problem is based on the textual information. I would only suggest either use maven for package/dependency management or do it with your IDE. Mixing both of them may cause such issues."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1667820785,"post_id":74335316,"comment_id":131251066,"body_markdown":"Have you tried to run &quot;reload&quot; from Maven tool window and &quot;File | Invalidate Caches&quot;?","body":"Have you tried to run &quot;reload&quot; from Maven tool window and &quot;File | Invalidate Caches&quot;?"}],"owner":{"account_id":22370443,"reputation":75,"user_id":16585604,"display_name":"Imran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667733091,"creation_date":1667733091,"question_id":74335316,"body_markdown":"I had an error building a jar from my project (where an external library was not being found), so I followed a Stackoverflow answer to Delegate IDE build/run actions to Maven.\r\n\r\nThen the jar was successfully built.\r\n\r\nI have since added a tiny bit of code and tried to recompile, however now IntelliJ cannot find my basic classes, it says package X does not exist. I only used two classes to amend my code, and both of these classes say &quot;does not exist&quot; during build/compilation/run. (I use 400 classes and only the two I have recently use are saying &quot;does not exist&quot;.\r\n\r\nI have tried to reverse all settings changes, and disabled &quot;delegate IDE build actions to Maven&quot;, but it still says package does not exist for both of these classes.\r\n\r\nI have even removed the JDK entirely and installed a fresh copy, but same error.\r\n\r\nWhat has gone wrong, and what can I do?","title":"IntelliJ Idea Package does not exist","body":"<p>I had an error building a jar from my project (where an external library was not being found), so I followed a Stackoverflow answer to Delegate IDE build/run actions to Maven.</p>\n<p>Then the jar was successfully built.</p>\n<p>I have since added a tiny bit of code and tried to recompile, however now IntelliJ cannot find my basic classes, it says package X does not exist. I only used two classes to amend my code, and both of these classes say &quot;does not exist&quot; during build/compilation/run. (I use 400 classes and only the two I have recently use are saying &quot;does not exist&quot;.</p>\n<p>I have tried to reverse all settings changes, and disabled &quot;delegate IDE build actions to Maven&quot;, but it still says package does not exist for both of these classes.</p>\n<p>I have even removed the JDK entirely and installed a fresh copy, but same error.</p>\n<p>What has gone wrong, and what can I do?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667716398,"post_id":74333707,"comment_id":131230076,"body_markdown":"add the error stack trace in the question.","body":"add the error stack trace in the question."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1667717819,"post_id":74333707,"comment_id":131230242,"body_markdown":"As specified in the Java Language Specification [15.26. Assignment Operators](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.26-200): &quot;**The result of the first operand of an assignment operator must be a variable, or a compile-time error occurs.**&quot; -  `...charAt(i)` is calling a method and it results in a value and not a variable (( also be aware that a string is immutable, it can not be changed - a new `String` must be created, or use a `StringBuilder` - I would also have a look at the documentation of `Character`, it may have some useful methods ))","body":"As specified in the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.26-200\" rel=\"nofollow noreferrer\">15.26. Assignment Operators</a>: &quot;<b>The result of the first operand of an assignment operator must be a variable, or a compile-time error occurs.</b>&quot; -  <code>...charAt(i)</code> is calling a method and it results in a value and not a variable (( also be aware that a string is immutable, it can not be changed - a new <code>String</code> must be created, or use a <code>StringBuilder</code> - I would also have a look at the documentation of <code>Character</code>, it may have some useful methods ))"}],"answers":[{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667716289,"creation_date":1667716289,"answer_id":74333726,"question_id":74333707,"body_markdown":"`str.charAt(i)` merely returns the character at that index. I assume you want to alter the character at that index, so what you are looking for is something like [this][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6952363/replace-a-character-at-a-specific-index-in-a-string","title":"about multiple markers error on str.charAt(i) with operators","body":"<p><code>str.charAt(i)</code> merely returns the character at that index. I assume you want to alter the character at that index, so what you are looking for is something like <a href=\"https://stackoverflow.com/questions/6952363/replace-a-character-at-a-specific-index-in-a-string\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":19780517,"reputation":141,"user_id":14485623,"display_name":"kuriboh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667718952,"creation_date":1667718952,"answer_id":74333956,"question_id":74333707,"body_markdown":"The ```charAt()``` method simply returns the character at the specified index in a string. Its source code is below. It is an R-value and can be only used on the right side of assignment statements. But ```str.charAt(i) += 32;``` is equivalent to ```str.charAt(i) = str.charAt(i) + 32;```, so you may get expected variable error.\r\n \r\n```\r\npublic char charAt(int index) {\r\n   if ((index &lt; 0) || (index &gt;= value.length)) {\r\n        throw new StringIndexOutOfBoundsException(index);\r\n   }\r\n   return value[index];\r\n}\r\n```\r\n\r\nYou can introduce a local variable to store ```stc.charAt(i)``` and update it as you need, like this.\r\n```\r\nfor (int i = 0; i &lt; str.length(); i++) {\r\n    char c = str.charAt(i);\r\n    if (str.charAt(i) &gt;= 65 &amp;&amp; str.charAt(i) &lt;= 90) {\r\n        c += 32;\r\n    } else if (str.charAt(i) &lt;= 122 &amp;&amp; str.charAt(i) &gt;= 97) {\r\n        c -= 32;\r\n    }\r\n    System.out.print(c);\r\n}\r\n```\r\n\r\nIf you need to update ```str``` simultaneously, consider ```StringBuffer``` or ```StringBuilder``` since ```String``` is an immutable object.","title":"about multiple markers error on str.charAt(i) with operators","body":"<p>The <code>charAt()</code> method simply returns the character at the specified index in a string. Its source code is below. It is an R-value and can be only used on the right side of assignment statements. But <code>str.charAt(i) += 32;</code> is equivalent to <code>str.charAt(i) = str.charAt(i) + 32;</code>, so you may get expected variable error.</p>\n<pre><code>public char charAt(int index) {\n   if ((index &lt; 0) || (index &gt;= value.length)) {\n        throw new StringIndexOutOfBoundsException(index);\n   }\n   return value[index];\n}\n</code></pre>\n<p>You can introduce a local variable to store <code>stc.charAt(i)</code> and update it as you need, like this.</p>\n<pre><code>for (int i = 0; i &lt; str.length(); i++) {\n    char c = str.charAt(i);\n    if (str.charAt(i) &gt;= 65 &amp;&amp; str.charAt(i) &lt;= 90) {\n        c += 32;\n    } else if (str.charAt(i) &lt;= 122 &amp;&amp; str.charAt(i) &gt;= 97) {\n        c -= 32;\n    }\n    System.out.print(c);\n}\n</code></pre>\n<p>If you need to update <code>str</code> simultaneously, consider <code>StringBuffer</code> or <code>StringBuilder</code> since <code>String</code> is an immutable object.</p>\n"}],"owner":{"account_id":26794086,"reputation":1,"user_id":20387081,"display_name":"maricenaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667731989,"answer_count":2,"score":0,"last_activity_date":1667732148,"creation_date":1667716026,"question_id":74333707,"body_markdown":"```\r\npackage com.chapter.BJ.UpperLower;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString str = sc.nextLine();\r\n\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tif (str.charAt(i) &gt;= 65 &amp;&amp; str.charAt(i) &lt;= 90) {\r\n\t\t\t\tstr.charAt(i) += 32;\r\n\t\t\t} else if (str.charAt(i) &lt;= 122 &amp;&amp; str.charAt(i) &gt;= 97) {\r\n\t\t\t\tstr.charAt(i) -= 32;\r\n\t\t\t}\r\n\t\t\tSystem.out.print(str.charAt(i));\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nHello everyone, I don&#39;t understand why I get an error on `str.charAt(i) += 32;` and `str.charAt(i) -= 32;`. Thank you for your help.","title":"about multiple markers error on str.charAt(i) with operators","body":"<pre><code>package com.chapter.BJ.UpperLower;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner(System.in);\n        String str = sc.nextLine();\n\n        for (int i = 0; i &lt; str.length(); i++) {\n            if (str.charAt(i) &gt;= 65 &amp;&amp; str.charAt(i) &lt;= 90) {\n                str.charAt(i) += 32;\n            } else if (str.charAt(i) &lt;= 122 &amp;&amp; str.charAt(i) &gt;= 97) {\n                str.charAt(i) -= 32;\n            }\n            System.out.print(str.charAt(i));\n        }\n    }\n\n}\n\n</code></pre>\n<p>Hello everyone, I don't understand why I get an error on <code>str.charAt(i) += 32;</code> and <code>str.charAt(i) -= 32;</code>. Thank you for your help.</p>\n"},{"tags":["java","go","floating-point","floating-accuracy","decimal-point"],"comments":[{"owner":{"account_id":24349233,"reputation":169,"user_id":18285304,"display_name":"0x4e696b68696c"},"score":2,"creation_date":1667363773,"post_id":74284328,"comment_id":131147284,"body_markdown":"float in golang or most languages gives precise results, you should use [decimal](https://github.com/shopspring/decimal) package to do business calculations","body":"float in golang or most languages gives precise results, you should use <a href=\"https://github.com/shopspring/decimal\" rel=\"nofollow noreferrer\">decimal</a> package to do business calculations"}],"answers":[{"tags":[],"owner":{"account_id":1247390,"reputation":1394,"user_id":1208553,"accept_rate":70,"display_name":"2r2w"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667384973,"creation_date":1667384973,"answer_id":74287734,"question_id":74284328,"body_markdown":"I would recommend to use [github.com/shopspring/decimal][1] package and use\r\n\r\nhttps://pkg.go.dev/github.com/shopspring/decimal#Decimal.DivRound method\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://pkg.go.dev/github.com/shopspring/decimal\r\n  [2]: https://i.stack.imgur.com/rFGwT.png","title":"How to perform precission deviding in Golang equal to BigDecimal.devide(BigDecimal divisor, MathContext mc) in java","body":"<p>I would recommend to use <a href=\"https://pkg.go.dev/github.com/shopspring/decimal\" rel=\"nofollow noreferrer\">github.com/shopspring/decimal</a> package and use</p>\n<p><a href=\"https://pkg.go.dev/github.com/shopspring/decimal#Decimal.DivRound\" rel=\"nofollow noreferrer\">https://pkg.go.dev/github.com/shopspring/decimal#Decimal.DivRound</a> method</p>\n<p><a href=\"https://i.stack.imgur.com/rFGwT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rFGwT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":21355385,"reputation":11,"user_id":15724409,"display_name":"rizalPurnama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667731944,"creation_date":1667448892,"answer_id":74298093,"question_id":74284328,"body_markdown":"@2r2w thanks for your answer.\r\n\r\nI&#39;ve try `func (Decimal) DivRound`, but i don&#39;t get my desired result.\r\n\r\nhere&#39;s my code :\r\n\r\n**Java**\r\n\r\n```\r\n@Test\r\nvoid test() {\r\n    BigDecimal a = BigDecimal.valueOf(125999999.99999999533706329657434253022074699401855468750000000000);\r\n    BigDecimal b = BigDecimal.valueOf(5600000.0000000005329070518200751394033432006835937500000000000);\r\n\r\n    BigDecimal resultA = a.divide(new BigDecimal(365), MathContext.DECIMAL32);\r\n    System.out.println(resultA); // resultA is 345205.5\r\n\r\n    BigDecimal resultB = b.divide(new BigDecimal(365), MathContext.DECIMAL32);\r\n    System.out.println(resultB); // resultB is 15342.47\r\n}\r\n```\r\n\r\n\r\n**Golang**\r\n\r\n```\r\nfunc TestXxx(t *testing.T) {\r\n\ta := decimal.NewFromFloat(125999999.99999999533706329657434253022074699401855468750000000000)\r\n\tb := decimal.NewFromFloat(5600000.0000000005329070518200751394033432006835937500000000000)\r\n\r\n\tresultAWithPrec1 := a.DivRound(decimal.NewFromInt(365), 1)\r\n\tfmt.Printf(&quot;%v\\n&quot;, resultAWithPrec1.String()) // result is 345205.5 (Correct)\r\n\r\n\tresultBWithPrec1 := b.DivRound(decimal.NewFromInt(365), 1)\r\n\tfmt.Printf(&quot;%v\\n&quot;, resultBWithPrec1.String()) // result is 15342.5 (Incorrect)\r\n\r\n\tresultAWithPrec2 := a.DivRound(decimal.NewFromInt(365), 2)\r\n\tfmt.Printf(&quot;%v\\n&quot;, resultAWithPrec2.String()) // result is 345205.48 (Incorrect)\r\n\r\n\tresultBWithPrec2 := b.DivRound(decimal.NewFromInt(365), 2)\r\n\tfmt.Printf(&quot;%v\\n&quot;, resultBWithPrec2.String()) // result is 15342.47 (Correct)\r\n}\r\n\r\n```\r\n\r\nI think the problem is :\r\n\r\njava can produce different count of decimal number (345205.5 and 15342.47), while on golang i must define specific count of decimal number.\r\n\r\nhow to achieve the the same result ?","title":"How to perform precission deviding in Golang equal to BigDecimal.devide(BigDecimal divisor, MathContext mc) in java","body":"<p>@2r2w thanks for your answer.</p>\n<p>I've try <code>func (Decimal) DivRound</code>, but i don't get my desired result.</p>\n<p>here's my code :</p>\n<p><strong>Java</strong></p>\n<pre><code>@Test\nvoid test() {\n    BigDecimal a = BigDecimal.valueOf(125999999.99999999533706329657434253022074699401855468750000000000);\n    BigDecimal b = BigDecimal.valueOf(5600000.0000000005329070518200751394033432006835937500000000000);\n\n    BigDecimal resultA = a.divide(new BigDecimal(365), MathContext.DECIMAL32);\n    System.out.println(resultA); // resultA is 345205.5\n\n    BigDecimal resultB = b.divide(new BigDecimal(365), MathContext.DECIMAL32);\n    System.out.println(resultB); // resultB is 15342.47\n}\n</code></pre>\n<p><strong>Golang</strong></p>\n<pre><code>func TestXxx(t *testing.T) {\n    a := decimal.NewFromFloat(125999999.99999999533706329657434253022074699401855468750000000000)\n    b := decimal.NewFromFloat(5600000.0000000005329070518200751394033432006835937500000000000)\n\n    resultAWithPrec1 := a.DivRound(decimal.NewFromInt(365), 1)\n    fmt.Printf(&quot;%v\\n&quot;, resultAWithPrec1.String()) // result is 345205.5 (Correct)\n\n    resultBWithPrec1 := b.DivRound(decimal.NewFromInt(365), 1)\n    fmt.Printf(&quot;%v\\n&quot;, resultBWithPrec1.String()) // result is 15342.5 (Incorrect)\n\n    resultAWithPrec2 := a.DivRound(decimal.NewFromInt(365), 2)\n    fmt.Printf(&quot;%v\\n&quot;, resultAWithPrec2.String()) // result is 345205.48 (Incorrect)\n\n    resultBWithPrec2 := b.DivRound(decimal.NewFromInt(365), 2)\n    fmt.Printf(&quot;%v\\n&quot;, resultBWithPrec2.String()) // result is 15342.47 (Correct)\n}\n\n</code></pre>\n<p>I think the problem is :</p>\n<p>java can produce different count of decimal number (345205.5 and 15342.47), while on golang i must define specific count of decimal number.</p>\n<p>how to achieve the the same result ?</p>\n"}],"owner":{"account_id":21355385,"reputation":11,"user_id":15724409,"display_name":"rizalPurnama"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667731944,"creation_date":1667362941,"question_id":74284328,"body_markdown":"I&#39;ve a task to migrate core banking system from java to golang, but i get stuck when i try to perform precission deviding in golang. I&#39;ve try with math/ package rounding function but i don&#39;t get my desired result. I think the problem is i can&#39;t find golang dividing function that equal to BigDecimal.devide(BigDecimal divisor, MathContext mc) in java.\r\n\r\n\r\ncan anyone help me to get my desired result, please..\r\n\r\nBig Thanks..\r\n\r\n\r\nHere&#39;s my java code and it&#39;s **desired result** :\r\n\r\n\r\n```\r\n\r\npublic BigDecimal getGrossInterest(BigDecimal a, BigDecimal b, Integer c) {\r\n    BigDecimal d = a.multiply(b).multiply(new BigDecimal(c));\r\n    BigDecimal e = d.divide(new BigDecimal(365), MathContext.DECIMAL32);\r\n    BigDecimal result = e.setScale(0, RoundingMode.HALF_UP);\r\n    return result;\r\n}\r\n\r\n@Test\r\nvoid TestGetGrossInterest() {\r\n    BigDecimal a1 = new BigDecimal(100000000);\r\n    BigDecimal b1 = new BigDecimal(0.045);\r\n    Integer c1 = Integer.valueOf(28);\r\n\r\n    BigDecimal result1 = getGrossInterest(a1, b1, c1);\r\n    System.out.println(result1); // result1 is 345206\r\n\r\n    BigDecimal a2 = new BigDecimal(10000000);\r\n    BigDecimal b2 = new BigDecimal(0.035);\r\n    Integer c2 = Integer.valueOf(16);\r\n\r\n    BigDecimal result2 = getGrossInterest(a2, b2, c2);\r\n    System.out.println(result2); // result2 is 15342\r\n}\r\n\r\n```\r\n\r\n\r\nand my golang code with **wrong result** as showed below.\r\n\r\n\r\n```\r\n\r\nfunc getGrossInterest(a float64, b float64, c int) float64 {\r\n\td := a * b * float64(c)\r\n\te := d / 365\r\n\treturn math.Round(e)\r\n}\r\n\r\nfunc TestGetGrossInterest(t *testing.T) {\r\n\ta1 := 100000000.00\r\n\tb1 := 0.045\r\n\tc1 := 28\r\n\r\n\tresult1 := getGrossInterest(a1, b1, c1)\r\n\tfmt.Printf(&quot;result1: %f\\n&quot;, result1) \r\n\tassert.Equal(t, float64(345206), result1) // failed test because result1 is 345205\r\n\r\n\ta2 := 10000000.00\r\n\tb2 := 0.035\r\n\tc2 := 16\r\n\r\n\tresult2 := getGrossInterest(a2,b2,c2)\r\n\tfmt.Printf(&quot;result2: %f\\n&quot;, result2)\r\n\tassert.Equal(t, float64(15342), result2)\r\n}\r\n\r\n```\r\n","title":"How to perform precission deviding in Golang equal to BigDecimal.devide(BigDecimal divisor, MathContext mc) in java","body":"<p>I've a task to migrate core banking system from java to golang, but i get stuck when i try to perform precission deviding in golang. I've try with math/ package rounding function but i don't get my desired result. I think the problem is i can't find golang dividing function that equal to BigDecimal.devide(BigDecimal divisor, MathContext mc) in java.</p>\n<p>can anyone help me to get my desired result, please..</p>\n<p>Big Thanks..</p>\n<p>Here's my java code and it's <strong>desired result</strong> :</p>\n<pre><code>\npublic BigDecimal getGrossInterest(BigDecimal a, BigDecimal b, Integer c) {\n    BigDecimal d = a.multiply(b).multiply(new BigDecimal(c));\n    BigDecimal e = d.divide(new BigDecimal(365), MathContext.DECIMAL32);\n    BigDecimal result = e.setScale(0, RoundingMode.HALF_UP);\n    return result;\n}\n\n@Test\nvoid TestGetGrossInterest() {\n    BigDecimal a1 = new BigDecimal(100000000);\n    BigDecimal b1 = new BigDecimal(0.045);\n    Integer c1 = Integer.valueOf(28);\n\n    BigDecimal result1 = getGrossInterest(a1, b1, c1);\n    System.out.println(result1); // result1 is 345206\n\n    BigDecimal a2 = new BigDecimal(10000000);\n    BigDecimal b2 = new BigDecimal(0.035);\n    Integer c2 = Integer.valueOf(16);\n\n    BigDecimal result2 = getGrossInterest(a2, b2, c2);\n    System.out.println(result2); // result2 is 15342\n}\n\n</code></pre>\n<p>and my golang code with <strong>wrong result</strong> as showed below.</p>\n<pre><code>\nfunc getGrossInterest(a float64, b float64, c int) float64 {\n    d := a * b * float64(c)\n    e := d / 365\n    return math.Round(e)\n}\n\nfunc TestGetGrossInterest(t *testing.T) {\n    a1 := 100000000.00\n    b1 := 0.045\n    c1 := 28\n\n    result1 := getGrossInterest(a1, b1, c1)\n    fmt.Printf(&quot;result1: %f\\n&quot;, result1) \n    assert.Equal(t, float64(345206), result1) // failed test because result1 is 345205\n\n    a2 := 10000000.00\n    b2 := 0.035\n    c2 := 16\n\n    result2 := getGrossInterest(a2,b2,c2)\n    fmt.Printf(&quot;result2: %f\\n&quot;, result2)\n    assert.Equal(t, float64(15342), result2)\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667731730,"creation_date":1667720396,"answer_id":74334072,"question_id":74332146,"body_markdown":"\r\n`import.sql` will only be executed provided that `spring.jpa.hibernate.ddl-auto` is set to `create` or `create-drop`.\r\n\r\nAlternatively you can use `data.sql` it will be executed irrespective of `hibernate.ddl` configuration.\r\n\r\nUsing `spring.jpa.hibernate.ddl-auto= update` and `data.sql` should solve both of your error.\r\n\r\n    spring.sql.init.mode=always \r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.jpa.hibernate.ddl-auto= update\r\n\r\n[Use defer-datasource][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-h2-database?fireglass_rsn=true#2-hibernate-and-datasql","title":"Cannot add initial data to database with Spring Boot (Hibernate)","body":"<p><code>import.sql</code> will only be executed provided that <code>spring.jpa.hibernate.ddl-auto</code> is set to <code>create</code> or <code>create-drop</code>.</p>\n<p>Alternatively you can use <code>data.sql</code> it will be executed irrespective of <code>hibernate.ddl</code> configuration.</p>\n<p>Using <code>spring.jpa.hibernate.ddl-auto= update</code> and <code>data.sql</code> should solve both of your error.</p>\n<pre><code>spring.sql.init.mode=always \nspring.jpa.defer-datasource-initialization=true\nspring.jpa.hibernate.ddl-auto= update\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-boot-h2-database?fireglass_rsn=true#2-hibernate-and-datasql\" rel=\"nofollow noreferrer\">Use defer-datasource</a></p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74334072,"answer_count":1,"score":1,"last_activity_date":1667731730,"creation_date":1667690003,"question_id":74332146,"body_markdown":"I use Hibernate in my Spring Boot app and populate the tables without any problem. However, I am trying to add 2 record to one of the populated table using `import.sql` on the classpath.\r\n\r\n```\r\nINSERT INTO role(id, role_type) VALUES(1, &#39;ADMIN&#39;);\r\nINSERT INTO role(id, role_type) VALUES(2, &#39;USER&#39;);\r\n```\r\n\r\nI also set the following properties:\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.sql.init.mode=always\r\n```\r\n\r\n\r\nWhen I run the app, tables are created and the data is populated, and tables are created. However, I got *&quot;Error executing DDL : alter table user_role drop foreign key&quot;* error. \r\n\r\n\r\nWhen I update `spring.jpa.hibernate.ddl-auto` as shown below, there is no error and tables are created. BUT, records are not inserted to the role table:\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto= update\r\n```\r\n\r\nSo, how can I insert data when I run the app without any problem?","title":"Cannot add initial data to database with Spring Boot (Hibernate)","body":"<p>I use Hibernate in my Spring Boot app and populate the tables without any problem. However, I am trying to add 2 record to one of the populated table using <code>import.sql</code> on the classpath.</p>\n<pre><code>INSERT INTO role(id, role_type) VALUES(1, 'ADMIN');\nINSERT INTO role(id, role_type) VALUES(2, 'USER');\n</code></pre>\n<p>I also set the following properties:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.defer-datasource-initialization=true\nspring.sql.init.mode=always\n</code></pre>\n<p>When I run the app, tables are created and the data is populated, and tables are created. However, I got <em>&quot;Error executing DDL : alter table user_role drop foreign key&quot;</em> error.</p>\n<p>When I update <code>spring.jpa.hibernate.ddl-auto</code> as shown below, there is no error and tables are created. BUT, records are not inserted to the role table:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto= update\n</code></pre>\n<p>So, how can I insert data when I run the app without any problem?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","orm"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666275727,"post_id":74140943,"comment_id":130902314,"body_markdown":"Could you please include the stacktrace you get?","body":"Could you please include the stacktrace you get?"}],"answers":[{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666305222,"creation_date":1666280677,"answer_id":74142716,"question_id":74140943,"body_markdown":"Update: A simple and very effective work-around towards the `LazyInitializationException` is to annotate your method with `@Transactional` annotation. This will create and maintain the transaction while the method is being executed, thereby allowing your code to make the necessary calls to the DB&#39;s lazy init objects. [Learn more about it here](https://www.baeldung.com/transaction-configuration-with-jpa-and-spring).\r\n\r\nThe return type of your JPA repository method should be a List of the Entity object, since the result could be more than one row (that is probably why you are getting the null of the `fraud` variable). \r\n\r\nRegarding the Fetch strategy, you could use Eager on that particular association or maybe [other strategies](https://thorben-janssen.com/lazyinitializationexception/). One possible solution would be to make a second query in case you need the lazy-loaded FraudAction list of objects.\r\n\r\nAlso, as a side-note [avoid using lombok data annotation](https://thorben-janssen.com/lombok-hibernate-how-to-avoid-common-pitfalls/), and always make sure that you have a `NoArgsConstructor` in your Entity/DTO classes (in your case `@Data` adds that by accident since it includes `@RequiredArgsConstructor` and you do not have any final variables.","title":"Bidirectional OneToMany JPA mapping with eager fetch on both sides worked","body":"<p>Update: A simple and very effective work-around towards the <code>LazyInitializationException</code> is to annotate your method with <code>@Transactional</code> annotation. This will create and maintain the transaction while the method is being executed, thereby allowing your code to make the necessary calls to the DB's lazy init objects. <a href=\"https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"nofollow noreferrer\">Learn more about it here</a>.</p>\n<p>The return type of your JPA repository method should be a List of the Entity object, since the result could be more than one row (that is probably why you are getting the null of the <code>fraud</code> variable).</p>\n<p>Regarding the Fetch strategy, you could use Eager on that particular association or maybe <a href=\"https://thorben-janssen.com/lazyinitializationexception/\" rel=\"nofollow noreferrer\">other strategies</a>. One possible solution would be to make a second query in case you need the lazy-loaded FraudAction list of objects.</p>\n<p>Also, as a side-note <a href=\"https://thorben-janssen.com/lombok-hibernate-how-to-avoid-common-pitfalls/\" rel=\"nofollow noreferrer\">avoid using lombok data annotation</a>, and always make sure that you have a <code>NoArgsConstructor</code> in your Entity/DTO classes (in your case <code>@Data</code> adds that by accident since it includes <code>@RequiredArgsConstructor</code> and you do not have any final variables.</p>\n"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666334421,"answer_count":1,"score":0,"last_activity_date":1667731678,"creation_date":1666273459,"question_id":74140943,"body_markdown":"I have 3 tables in the DB and 3 JPA entities respectively in Java application.\r\n    \r\n    @Data\r\n    @Entity\r\n    public class Fraud {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;fraud_type&quot;)\r\n        private String fraudType;\r\n    \r\n        @Column(name = &quot;fraud_value&quot;)\r\n        private String fraudValue;\r\n    \r\n        @OneToMany(mappedBy = &quot;fraud&quot;, fetch = FetchType.EAGER)\r\n        private List&lt;FraudActionEntity&gt; fraudActions;\r\n        \r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    public class FraudActionEntity {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;fraud_id&quot;)\r\n        private Fraud fraud;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;action_id&quot;)\r\n        private Action action;\r\n    \r\n        @Column(name = &quot;enabled&quot;)\r\n        private Boolean enabled;\r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    public class Action {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n   \r\n        @Column(name = &quot;attribute_key&quot;)\r\n        private String attributeKey;\r\n    \r\n        @Column(name = &quot;attribute_value&quot;)\r\n        private String attributeValue;\r\n    \r\n    }\r\n\r\n    @Repository\r\n    public interface FraudRepository extends JpaRepository&lt;Fraud, Integer&gt; {\r\n    \r\n        public Fraud findByFraudTypeAndFraudValue(String fraudType, String fraudValue);\r\n    \r\n    }\r\n\r\n#### My use case\r\n\r\nOn a certain type of fraud, I want to traverse all the actions that triggers from that type of fraud and act on them.\r\n\r\n#### Access code\r\n\r\n    Fraud fraud = fraudRepository.findByFraudTypeAndFraudValue(&quot;Type&quot;, &quot;Value&quot;);\r\n    log.info(fraud.getFraudActions().get(0).getAction());  \r\n\r\nWhen I above code runs, everything works OK.  I get the `fraud` and `fraudActions` associations as well, without getting any error. \r\n\r\nI was under the impression that as both entities `Fraud` and `FraudActionEntity` are fetching each other eagerly, so it should give some error like cyclic fetch/infinite fetch loop, but it didn&#39;t!\r\n\r\nWhy did it work? And when exactly will give it error like cyclic fetch error OR infinite fetch loop error? And if it does give a cyclic fetch error, can we fix it using lazy fetch at @ManyToOne side as given below:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;fraud_id&quot;)\r\n    private Fraud fraud;\r\n\r\n\r\n","title":"Bidirectional OneToMany JPA mapping with eager fetch on both sides worked","body":"<p>I have 3 tables in the DB and 3 JPA entities respectively in Java application.</p>\n<pre><code>@Data\n@Entity\npublic class Fraud {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;fraud_type&quot;)\n    private String fraudType;\n\n    @Column(name = &quot;fraud_value&quot;)\n    private String fraudValue;\n\n    @OneToMany(mappedBy = &quot;fraud&quot;, fetch = FetchType.EAGER)\n    private List&lt;FraudActionEntity&gt; fraudActions;\n    \n}\n\n@Data\n@Entity\npublic class FraudActionEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;fraud_id&quot;)\n    private Fraud fraud;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;action_id&quot;)\n    private Action action;\n\n    @Column(name = &quot;enabled&quot;)\n    private Boolean enabled;\n}\n\n@Data\n@Entity\npublic class Action {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;attribute_key&quot;)\n    private String attributeKey;\n\n    @Column(name = &quot;attribute_value&quot;)\n    private String attributeValue;\n\n}\n\n@Repository\npublic interface FraudRepository extends JpaRepository&lt;Fraud, Integer&gt; {\n\n    public Fraud findByFraudTypeAndFraudValue(String fraudType, String fraudValue);\n\n}\n</code></pre>\n<h4>My use case</h4>\n<p>On a certain type of fraud, I want to traverse all the actions that triggers from that type of fraud and act on them.</p>\n<h4>Access code</h4>\n<pre><code>Fraud fraud = fraudRepository.findByFraudTypeAndFraudValue(&quot;Type&quot;, &quot;Value&quot;);\nlog.info(fraud.getFraudActions().get(0).getAction());  \n</code></pre>\n<p>When I above code runs, everything works OK.  I get the <code>fraud</code> and <code>fraudActions</code> associations as well, without getting any error.</p>\n<p>I was under the impression that as both entities <code>Fraud</code> and <code>FraudActionEntity</code> are fetching each other eagerly, so it should give some error like cyclic fetch/infinite fetch loop, but it didn't!</p>\n<p>Why did it work? And when exactly will give it error like cyclic fetch error OR infinite fetch loop error? And if it does give a cyclic fetch error, can we fix it using lazy fetch at @ManyToOne side as given below:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;fraud_id&quot;)\nprivate Fraud fraud;\n</code></pre>\n"},{"tags":["java","selenium","testng"],"comments":[{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1667708024,"post_id":74333221,"comment_id":131229333,"body_markdown":"Where exactly are you getting the error? Please edit your question and add details on the exception stack trace, where/how you are running your test, and also the TestNG version","body":"Where exactly are you getting the error? Please edit your question and add details on the exception stack trace, where/how you are running your test, and also the TestNG version"},{"owner":{"account_id":26435627,"reputation":1,"user_id":20081023,"display_name":"Mohammad Bhuiyan"},"score":0,"creation_date":1667743779,"post_id":74333221,"comment_id":131234830,"body_markdown":"In my MAVEN project on testng.xml file  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; this line come out read.","body":"In my MAVEN project on testng.xml file  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; this line come out read."},{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1667749626,"post_id":74333221,"comment_id":131236127,"body_markdown":"Please edit your question and context (details that I had suggested you add). Without those details, its hard to say what is going wrong.","body":"Please edit your question and context (details that I had suggested you add). Without those details, its hard to say what is going wrong."}],"owner":{"account_id":26435627,"reputation":1,"user_id":20081023,"display_name":"Mohammad Bhuiyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667731421,"creation_date":1667707191,"question_id":74333221,"body_markdown":"```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;Suite&quot;&gt;\r\n  &lt;test name=&quot;Test&quot;&gt;\r\n   &lt;classes&gt;\r\n      &lt;class name=&quot;upskill.runners.RunnerClass&quot;/&gt;\r\n    &lt;/classes&gt;\r\n  &lt;/test&gt; &lt;!-- Test --&gt;\r\n&lt;/suite&gt; &lt;!-- Suite --&gt;\r\n```\r\n\r\n\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n\r\nWith this line tstng.xml file shows  error but if i delete this line then it doesn’t  show error.\r\nhow do i fix this problem?","title":"The markup declarations contained or pointed to by the document type declaration must be well- formed","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Suite&quot;&gt;\n  &lt;test name=&quot;Test&quot;&gt;\n   &lt;classes&gt;\n      &lt;class name=&quot;upskill.runners.RunnerClass&quot;/&gt;\n    &lt;/classes&gt;\n  &lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n\n<p>With this line tstng.xml file shows  error but if i delete this line then it doesn’t  show error.\nhow do i fix this problem?</p>\n"},{"tags":["java","android","react-native","gradle","ffmpeg"],"answers":[{"tags":[],"owner":{"account_id":17544324,"reputation":654,"user_id":12732411,"display_name":"UHS"},"down_vote_count":3,"up_vote_count":44,"is_accepted":true,"score":41,"last_activity_date":1643993085,"creation_date":1643371106,"answer_id":70893407,"question_id":70890854,"body_markdown":"add this in your ```node_module/ffmpeg-kit-react-native/android/build.gradle```\r\n\r\n```kotlin\r\nandroid{\r\n  packagingOptions {\r\n      pickFirst &#39;lib/x86/libc++_shared.so&#39;\r\n      pickFirst &#39;lib/x86_64/libc++_shared.so&#39;\r\n      pickFirst &#39;lib/armeabi-v7a/libc++_shared.so&#39;\r\n      pickFirst &#39;lib/arm64-v8a/libc++_shared.so&#39;\r\n  }\r\n  rootProject.ext.ffmpegKitPackage = &quot;video&quot;\r\n}\r\n```\r\n\r\nffmpeg-kit-react-native has already talked about this error here. https://github.com/tanersener/ffmpeg-kit/wiki/Tips#2-depending-another-android-library-containing-libc_sharedso","title":"2 files found with path &#39;lib/arm64-v8a/libc++_shared.so&#39; from inputs...-react native","body":"<p>add this in your <code>node_module/ffmpeg-kit-react-native/android/build.gradle</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>android{\n  packagingOptions {\n      pickFirst 'lib/x86/libc++_shared.so'\n      pickFirst 'lib/x86_64/libc++_shared.so'\n      pickFirst 'lib/armeabi-v7a/libc++_shared.so'\n      pickFirst 'lib/arm64-v8a/libc++_shared.so'\n  }\n  rootProject.ext.ffmpegKitPackage = &quot;video&quot;\n}\n</code></pre>\n<p>ffmpeg-kit-react-native has already talked about this error here. <a href=\"https://github.com/tanersener/ffmpeg-kit/wiki/Tips#2-depending-another-android-library-containing-libc_sharedso\" rel=\"noreferrer\">https://github.com/tanersener/ffmpeg-kit/wiki/Tips#2-depending-another-android-library-containing-libc_sharedso</a></p>\n"},{"tags":[],"owner":{"account_id":15670108,"reputation":877,"user_id":11306878,"display_name":"Leandro Ariel"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1661239513,"creation_date":1660724253,"answer_id":73385071,"question_id":70890854,"body_markdown":"You need to add in your build.gradle(app) this:\r\n\r\n```\r\nandroid {\r\n    //2 files found for path lib/arm64-v8a/libc++_shared.so. This version of the Android Gradle Plugin chooses the f\r\n    packagingOptions {\r\n        pickFirst &#39;lib/x86/libc++_shared.so&#39;\r\n        pickFirst &#39;lib/x86_64/libc++_shared.so&#39;\r\n        pickFirst &#39;lib/armeabi-v7a/libc++_shared.so&#39;\r\n        pickFirst &#39;lib/arm64-v8a/libc++_shared.so&#39;\r\n    }\r\n```\r\n\r\nThis works for me. In react 0.68.2. And 0.69.x.","title":"2 files found with path &#39;lib/arm64-v8a/libc++_shared.so&#39; from inputs...-react native","body":"<p>You need to add in your build.gradle(app) this:</p>\n<pre><code>android {\n    //2 files found for path lib/arm64-v8a/libc++_shared.so. This version of the Android Gradle Plugin chooses the f\n    packagingOptions {\n        pickFirst 'lib/x86/libc++_shared.so'\n        pickFirst 'lib/x86_64/libc++_shared.so'\n        pickFirst 'lib/armeabi-v7a/libc++_shared.so'\n        pickFirst 'lib/arm64-v8a/libc++_shared.so'\n    }\n</code></pre>\n<p>This works for me. In react 0.68.2. And 0.69.x.</p>\n"},{"tags":[],"owner":{"account_id":25898778,"reputation":41,"user_id":19625004,"display_name":"sumit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662976456,"creation_date":1662976397,"answer_id":73687438,"question_id":70890854,"body_markdown":"    android{\r\n      packagingOptions {\r\n          pickFirst &#39;lib/x86/libc++_shared.so&#39;\r\n          pickFirst &#39;lib/x86_64/libc++_shared.so&#39;\r\n          pickFirst &#39;lib/armeabi-v7a/libc++_shared.so&#39;\r\n          pickFirst &#39;lib/arm64-v8a/libc++_shared.so&#39;\r\n      }\r\n      rootProject.ext.ffmpegKitPackage = &quot;video&quot;\r\n    }\r\n\r\n//if not working above than try below code\r\n\r\n    sourceSets.main {\r\n        jniLibs.srcDir &#39;libs&#39;\r\n        jni.srcDirs = [] //disable automatic ndk-build call\r\n    }","title":"2 files found with path &#39;lib/arm64-v8a/libc++_shared.so&#39; from inputs...-react native","body":"<pre><code>android{\n  packagingOptions {\n      pickFirst 'lib/x86/libc++_shared.so'\n      pickFirst 'lib/x86_64/libc++_shared.so'\n      pickFirst 'lib/armeabi-v7a/libc++_shared.so'\n      pickFirst 'lib/arm64-v8a/libc++_shared.so'\n  }\n  rootProject.ext.ffmpegKitPackage = &quot;video&quot;\n}\n</code></pre>\n<p>//if not working above than try below code</p>\n<pre><code>sourceSets.main {\n    jniLibs.srcDir 'libs'\n    jni.srcDirs = [] //disable automatic ndk-build call\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3160775,"reputation":1513,"user_id":2671956,"accept_rate":40,"display_name":"Ahmad Dehnavi"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1667730390,"creation_date":1667730390,"answer_id":74334975,"question_id":70890854,"body_markdown":"I&#39;m using **react native 0.68.2** and my issue has been fixed by applying the following changes.\r\n\r\nedit `android/build.gradle` and force all modules to use the same react-native version as your project.\r\n\r\n\r\n```\r\n\r\nallprojects {\r\n    \r\n    // ...\r\n\r\n    def REACT_NATIVE_VERSION = new File([&#39;node&#39;, &#39;--print&#39;,&quot;JSON.parse(require(&#39;fs&#39;).readFileSync(require.resolve(&#39;react-native/package.json&#39;), &#39;utf-8&#39;)).version&quot;].execute(null, rootDir).text.trim())\r\n\r\n    configurations.all {\r\n        resolutionStrategy {\r\n            force &quot;com.facebook.react:react-native:&quot; + REACT_NATIVE_VERSION\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nyou can check [this][1] for more information\r\n\r\n  [1]: https://github.com/facebook/react-native/issues/35204","title":"2 files found with path &#39;lib/arm64-v8a/libc++_shared.so&#39; from inputs...-react native","body":"<p>I'm using <strong>react native 0.68.2</strong> and my issue has been fixed by applying the following changes.</p>\n<p>edit <code>android/build.gradle</code> and force all modules to use the same react-native version as your project.</p>\n<pre><code>\nallprojects {\n    \n    // ...\n\n    def REACT_NATIVE_VERSION = new File(['node', '--print',&quot;JSON.parse(require('fs').readFileSync(require.resolve('react-native/package.json'), 'utf-8')).version&quot;].execute(null, rootDir).text.trim())\n\n    configurations.all {\n        resolutionStrategy {\n            force &quot;com.facebook.react:react-native:&quot; + REACT_NATIVE_VERSION\n        }\n    }\n}\n\n</code></pre>\n<p>you can check <a href=\"https://github.com/facebook/react-native/issues/35204\" rel=\"noreferrer\">this</a> for more information</p>\n"}],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40550,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":70893407,"answer_count":4,"score":28,"last_activity_date":1667730390,"creation_date":1643359049,"question_id":70890854,"body_markdown":"I am trying to enable package of [ffmpeg-kit-react-native][2] in react-native.\r\nThe sample commands given in the [example][1] executes successfully. But I want to use ```libwebp``` for converting gif files to webp which is under [package][3] named ```video```. As [instrcuted][4] . I have to enable the [package][3] to use some libraries. \r\n&gt; 2.2.1 Enabling a Package on Android\r\nEdit android/build.gradle file and add the package name in ext.ffmpegKitPackage variable.\r\n&gt;```lang-java\r\n&gt;ext {\r\n&gt;    ffmpegKitPackage = &quot;&lt;package name&gt;&quot;\r\n&gt;}\r\n&gt;```\r\n\r\nSo I added a line in the ```node_module/ffmpeg-kit-react-native/android/build.gradle```\r\n```groovy\r\nandroid {\r\n  compileSdkVersion 30\r\n\r\n  defaultConfig {\r\n    minSdkVersion safeExtGet(&#39;ffmpegKitPackage&#39;, &#39;https&#39;).contains(&quot;-lts&quot;) ? 16 : 24\r\n    targetSdkVersion 30\r\n    versionCode 451\r\n    versionName &quot;4.5.1&quot;\r\n  }\r\n\r\n  buildTypes {\r\n    release {\r\n      minifyEnabled false\r\n    }\r\n  }\r\n  lintOptions {\r\n    disable &#39;GradleCompatible&#39;\r\n  }\r\n  compileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n  }\r\n\r\n  rootProject.ext.ffmpegKitPackage = &quot;video&quot; // Added this line here \r\n\r\n}\r\n```\r\nError:\r\n```lang-none\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeDebugNativeLibs&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.MergeJavaResWorkAction\r\n   &gt; 2 files found with path &#39;lib/arm64-v8a/libc++_shared.so&#39; from inputs:\r\n      - C:\\Users\\ADMIN\\.gradle\\caches\\transforms-3\\7403ebe5571a2ce5a6a5fc9876af4814\\transformed\\jetified-react-native-0.66.4\\jni\r\n      - C:\\Users\\ADMIN\\.gradle\\caches\\transforms-3\\4be54e44fe38656741a8345504588323\\transformed\\jetified-ffmpeg-kit-video-4.5.1-1\\jni\r\n     If you are using jniLibs and CMake IMPORTED targets, see\r\n     https://developer.android.com/r/tools/jniLibs-vs-imported-targets\r\n```\r\n\r\nI have tried ./gradlew clean but problem is still there.\r\nHow to fix this error? Thanks \r\n\r\n\r\n  [1]: https://github.com/tanersener/ffmpeg-kit/tree/main/react-native#3-using\r\n  [2]: https://github.com/tanersener/ffmpeg-kit/tree/main/react-native\r\n  [3]: https://github.com/tanersener/ffmpeg-kit#8-packages\r\n  [4]: https://github.com/tanersener/ffmpeg-kit/tree/main/react-native#221-enabling-a-package-on-android","title":"2 files found with path &#39;lib/arm64-v8a/libc++_shared.so&#39; from inputs...-react native","body":"<p>I am trying to enable package of <a href=\"https://github.com/tanersener/ffmpeg-kit/tree/main/react-native\" rel=\"noreferrer\">ffmpeg-kit-react-native</a> in react-native.\nThe sample commands given in the <a href=\"https://github.com/tanersener/ffmpeg-kit/tree/main/react-native#3-using\" rel=\"noreferrer\">example</a> executes successfully. But I want to use <code>libwebp</code> for converting gif files to webp which is under <a href=\"https://github.com/tanersener/ffmpeg-kit#8-packages\" rel=\"noreferrer\">package</a> named <code>video</code>. As <a href=\"https://github.com/tanersener/ffmpeg-kit/tree/main/react-native#221-enabling-a-package-on-android\" rel=\"noreferrer\">instrcuted</a> . I have to enable the <a href=\"https://github.com/tanersener/ffmpeg-kit#8-packages\" rel=\"noreferrer\">package</a> to use some libraries.</p>\n<blockquote>\n<p>2.2.1 Enabling a Package on Android\nEdit android/build.gradle file and add the package name in ext.ffmpegKitPackage variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ext {\n   ffmpegKitPackage = &quot;&lt;package name&gt;&quot;\n}\n</code></pre>\n</blockquote>\n<p>So I added a line in the <code>node_module/ffmpeg-kit-react-native/android/build.gradle</code></p>\n<pre><code>android {\n  compileSdkVersion 30\n\n  defaultConfig {\n    minSdkVersion safeExtGet('ffmpegKitPackage', 'https').contains(&quot;-lts&quot;) ? 16 : 24\n    targetSdkVersion 30\n    versionCode 451\n    versionName &quot;4.5.1&quot;\n  }\n\n  buildTypes {\n    release {\n      minifyEnabled false\n    }\n  }\n  lintOptions {\n    disable 'GradleCompatible'\n  }\n  compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n\n  rootProject.ext.ffmpegKitPackage = &quot;video&quot; // Added this line here \n\n}\n</code></pre>\n<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>* What went wrong:\nExecution failed for task ':app:mergeDebugNativeLibs'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.MergeJavaResWorkAction\n   &gt; 2 files found with path 'lib/arm64-v8a/libc++_shared.so' from inputs:\n      - C:\\Users\\ADMIN\\.gradle\\caches\\transforms-3\\7403ebe5571a2ce5a6a5fc9876af4814\\transformed\\jetified-react-native-0.66.4\\jni\n      - C:\\Users\\ADMIN\\.gradle\\caches\\transforms-3\\4be54e44fe38656741a8345504588323\\transformed\\jetified-ffmpeg-kit-video-4.5.1-1\\jni\n     If you are using jniLibs and CMake IMPORTED targets, see\n     https://developer.android.com/r/tools/jniLibs-vs-imported-targets\n</code></pre>\n<p>I have tried ./gradlew clean but problem is still there.\nHow to fix this error? Thanks</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":1,"creation_date":1667718719,"post_id":74333724,"comment_id":131230338,"body_markdown":"Post the URL and the code you&#39;ve tried.","body":"Post the URL and the code you&#39;ve tried."}],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667729065,"creation_date":1667729065,"answer_id":74334845,"question_id":74333724,"body_markdown":"You can disable that ad using the below js code:\r\n\r\n    // Selecting German as the language\r\n    WebElement deutschButton = driver.findElement(By.xpath(&quot;//a[@href=&#39;/de/&#39;]&quot;));\r\n    deutschButton.click();\r\n\r\n    Thread.sleep(1000);\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;const elements = document.getElementsByClassName(&#39;adsbygoogle adsbygoogle-noablate&#39;); while (elements.length &gt; 0) elements[0].remove()&quot;);\r\n    \r\n    deutschButton.click();\r\n\r\n    // Comparing the web URL\r\n    String newURL = driver.getCurrentUrl();\r\n    assertEquals(&quot;https://123apps.com/de/&quot;, newURL);\r\n\r\n","title":"Block advertisements on Selenium","body":"<p>You can disable that ad using the below js code:</p>\n<pre><code>// Selecting German as the language\nWebElement deutschButton = driver.findElement(By.xpath(&quot;//a[@href='/de/']&quot;));\ndeutschButton.click();\n\nThread.sleep(1000);\n\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;const elements = document.getElementsByClassName('adsbygoogle adsbygoogle-noablate'); while (elements.length &gt; 0) elements[0].remove()&quot;);\n\ndeutschButton.click();\n\n// Comparing the web URL\nString newURL = driver.getCurrentUrl();\nassertEquals(&quot;https://123apps.com/de/&quot;, newURL);\n</code></pre>\n"}],"owner":{"account_id":17122443,"reputation":55,"user_id":12390366,"display_name":"DiWeera98"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74334845,"answer_count":1,"score":0,"last_activity_date":1667729065,"creation_date":1667716281,"question_id":74333724,"body_markdown":"I&#39;m currently using Selenium for one of my academic assignments regarding quality assurance automation. For this, I&#39;m using a website that is not handled by me or anyone I know. \r\n\r\nI have noticed that when I run my test cases, sometimes, advertisements appear on the website in the Chrome window that opens up. Since it is not a pop-up, using `disable-popup-blocking` does not work. Moreover, since the advertisement doesn&#39;t always appear, using a code segment to close the advertisement modal doesn&#39;t work either. \r\n\r\nThe following image depicts an example scenario. \r\n[![enter image description here][1]][1]\r\n\r\nIs there a workaround for this issue? Thank you in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qzxr3.png\r\n\r\n\t@Test\r\n\t@Order(2)\r\n\tpublic void CovertLang() throws InterruptedException {\r\n\t\t// Navigating to 123apps.com website\r\n\t\tdriver.get(&quot;https://123apps.com/&quot;);\r\n\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\r\n\t\t// Accessing the language modal\r\n\t\tWebElement langButton = driver.findElement(By.id(&quot;language-link&quot;));\r\n\t\tlangButton.click();\r\n\r\n\t\t// Wait until the modal opens\r\n\t\twait.until(ExpectedConditions\r\n\t\t\t\t.visibilityOfElementLocated(By.className(&quot;modal-title&quot;)));\r\n\r\n\t\t// Selecting German as the language\r\n\t\tWebElement deutschButton = driver.findElement(By.xpath(&quot;//a[@href=&#39;/de/&#39;]&quot;));\r\n\t\tdeutschButton.click();\r\n\r\n\t\tThread.sleep(1000);\r\n\r\n\t\t// Comparing the web URL\r\n\t\tString newURL = driver.getCurrentUrl();\r\n\t\tassertEquals(&quot;https://123apps.com/de/&quot;, newURL);\r\n\t}\r\n\r\nThe above shows an example of a test I conducted. \r\n\r\n","title":"Block advertisements on Selenium","body":"<p>I'm currently using Selenium for one of my academic assignments regarding quality assurance automation. For this, I'm using a website that is not handled by me or anyone I know.</p>\n<p>I have noticed that when I run my test cases, sometimes, advertisements appear on the website in the Chrome window that opens up. Since it is not a pop-up, using <code>disable-popup-blocking</code> does not work. Moreover, since the advertisement doesn't always appear, using a code segment to close the advertisement modal doesn't work either.</p>\n<p>The following image depicts an example scenario.\n<a href=\"https://i.stack.imgur.com/Qzxr3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qzxr3.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a workaround for this issue? Thank you in advance!</p>\n<pre><code>@Test\n@Order(2)\npublic void CovertLang() throws InterruptedException {\n    // Navigating to 123apps.com website\n    driver.get(&quot;https://123apps.com/&quot;);\n\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n\n    // Accessing the language modal\n    WebElement langButton = driver.findElement(By.id(&quot;language-link&quot;));\n    langButton.click();\n\n    // Wait until the modal opens\n    wait.until(ExpectedConditions\n            .visibilityOfElementLocated(By.className(&quot;modal-title&quot;)));\n\n    // Selecting German as the language\n    WebElement deutschButton = driver.findElement(By.xpath(&quot;//a[@href='/de/']&quot;));\n    deutschButton.click();\n\n    Thread.sleep(1000);\n\n    // Comparing the web URL\n    String newURL = driver.getCurrentUrl();\n    assertEquals(&quot;https://123apps.com/de/&quot;, newURL);\n}\n</code></pre>\n<p>The above shows an example of a test I conducted.</p>\n"},{"tags":["java","kotlin","gradle","dependency-management"],"comments":[{"owner":{"account_id":15641713,"reputation":1,"user_id":11284900,"display_name":"Karim"},"score":0,"creation_date":1667832501,"post_id":74329101,"comment_id":131255464,"body_markdown":"it seems when i declare the dependency in the main module, Gradle resolves them properly, only `0.8.13:RELEASE` is shown in external libraries section. But I want to declare it in the `adapters` module anyway...","body":"it seems when i declare the dependency in the main module, Gradle resolves them properly, only <code>0.8.13:RELEASE</code> is shown in external libraries section. But I want to declare it in the <code>adapters</code> module anyway..."}],"answers":[{"tags":[],"owner":{"account_id":8375968,"reputation":1454,"user_id":6289425,"display_name":"Dirk Hoffmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667729058,"creation_date":1667729058,"answer_id":74334844,"question_id":74329101,"body_markdown":"have you had a look at e.g.: \r\nhttps://docs.gradle.org/current/userguide/resolution_rules.html\r\n\r\nor\r\n\r\nhttps://stackoverflow.com/questions/56375085/how-to-exclude-library-from-all-dependencies-in-kotlin-dsl-build-gradle\r\n\r\nor\r\n\r\nhttps://stackoverflow.com/questions/55441430/what-does-this-all-exclude-means-in-gradle-transitive-dependency","title":"How to exclude library from dependencies?","body":"<p>have you had a look at e.g.:\n<a href=\"https://docs.gradle.org/current/userguide/resolution_rules.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/resolution_rules.html</a></p>\n<p>or</p>\n<p><a href=\"https://stackoverflow.com/questions/56375085/how-to-exclude-library-from-all-dependencies-in-kotlin-dsl-build-gradle\">How to exclude library from all dependencies in Kotlin DSL build.gradle?</a></p>\n<p>or</p>\n<p><a href=\"https://stackoverflow.com/questions/55441430/what-does-this-all-exclude-means-in-gradle-transitive-dependency\">What does this &quot;all*.exclude&quot; means in Gradle transitive dependency?</a></p>\n"}],"owner":{"account_id":15641713,"reputation":1,"user_id":11284900,"display_name":"Karim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667729058,"creation_date":1667662441,"question_id":74329101,"body_markdown":"I have a gradle project with several modules in it. In the main module I have `id &quot;io.spring.dependency-management&quot;` plugin. In the `adapters` module I have dependency on the main one `implementation project(&quot;:main&quot;)` with `runtimeOnly &#39;io.r2dbc:r2dbc-postgresql` in dependency block, which pulls `0.8.12.RELEASE` version of the `r2dc-postgresql` driver.\r\n\r\nNow I want to use `0.8.13.RELEASE` verision of the driver, so I simply added `runtimeOnly &#39;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE` to the dependency declaration, but now I have two versions of this library in external libraries section (`0.8.12.RELEASE` and `0.8.13.RELEASE`), but  `./gradlew adapters:dependencies` displays only `0.8.13.RELEASE` version.\r\n\r\nHow to find out where `0.8.12.RELEASE` is coming from now and remove it?\r\n\r\n\r\nI tried\r\n```\r\nexlude(group = &#39;io.r2dbc&#39;, module =  &#39;r2dbc-postgresql&#39;)\r\n```\r\nbut it didn&#39;t work","title":"How to exclude library from dependencies?","body":"<p>I have a gradle project with several modules in it. In the main module I have <code>id &quot;io.spring.dependency-management&quot;</code> plugin. In the <code>adapters</code> module I have dependency on the main one <code>implementation project(&quot;:main&quot;)</code> with <code>runtimeOnly 'io.r2dbc:r2dbc-postgresql</code> in dependency block, which pulls <code>0.8.12.RELEASE</code> version of the <code>r2dc-postgresql</code> driver.</p>\n<p>Now I want to use <code>0.8.13.RELEASE</code> verision of the driver, so I simply added <code>runtimeOnly 'io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE</code> to the dependency declaration, but now I have two versions of this library in external libraries section (<code>0.8.12.RELEASE</code> and <code>0.8.13.RELEASE</code>), but  <code>./gradlew adapters:dependencies</code> displays only <code>0.8.13.RELEASE</code> version.</p>\n<p>How to find out where <code>0.8.12.RELEASE</code> is coming from now and remove it?</p>\n<p>I tried</p>\n<pre><code>exlude(group = 'io.r2dbc', module =  'r2dbc-postgresql')\n</code></pre>\n<p>but it didn't work</p>\n"},{"tags":["java","server","client","bufferedreader","printwriter"],"answers":[{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667729005,"creation_date":1667728457,"answer_id":74334783,"question_id":74334363,"body_markdown":"Leaving everything else untouched, simply changing your line `out.println(&quot;\\nEcho Message: &quot; + message);` in your Class `ClientConnectionRun` to `out.println(&quot;Echo Message: &quot; + message);` will fix this. \r\n\r\nEssentially, what goes wrong is that your line `response = in.readLine();` in the client terminates when it encounters a line-feed. So, if you begin your response with a line-feed, it will terminate instantly and is thus always trailing by one line, which is why you will only see the actual response the next time you enter some input.\r\n\r\nFrom the doc of `java.io.BufferedReader.readLine()`:\r\n\r\n&gt; Reads a line of text. A line is considered to be terminated by any one\r\n&gt; of a line feed (&#39;\\n&#39;), a carriage return (&#39;\\r&#39;), a carriage return\r\n&gt; followed immediately by a line feed, or by reaching the end-of-file\r\n&gt; (EOF).\r\n\r\n\r\nAlso, some general input:\r\n\r\nYou can drastically improve your code by using [`try-with-resources`][1] statements (since Java 8). This way you can avoid the &quot;nasty&quot; nested `try-catch-finally` constructs to handle your streams. For your Client for example you could simplify do:\r\n```\r\n try (Socket link = new Socket(host, PORT);\r\n             BufferedReader in = new BufferedReader(new InputStreamReader(link.getInputStream()));\r\n             PrintWriter out = new PrintWriter(link.getOutputStream(), true);\r\n             BufferedReader userEntry = new BufferedReader(new InputStreamReader(System.in))) {\r\n```\r\nAnd all you need at the end is this:\r\n```\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Having trouble with Java client-server communication, where the out.println seems to be delayed?","body":"<p>Leaving everything else untouched, simply changing your line <code>out.println(&quot;\\nEcho Message: &quot; + message);</code> in your Class <code>ClientConnectionRun</code> to <code>out.println(&quot;Echo Message: &quot; + message);</code> will fix this.</p>\n<p>Essentially, what goes wrong is that your line <code>response = in.readLine();</code> in the client terminates when it encounters a line-feed. So, if you begin your response with a line-feed, it will terminate instantly and is thus always trailing by one line, which is why you will only see the actual response the next time you enter some input.</p>\n<p>From the doc of <code>java.io.BufferedReader.readLine()</code>:</p>\n<blockquote>\n<p>Reads a line of text. A line is considered to be terminated by any one\nof a line feed ('\\n'), a carriage return ('\\r'), a carriage return\nfollowed immediately by a line feed, or by reaching the end-of-file\n(EOF).</p>\n</blockquote>\n<p>Also, some general input:</p>\n<p>You can drastically improve your code by using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><code>try-with-resources</code></a> statements (since Java 8). This way you can avoid the &quot;nasty&quot; nested <code>try-catch-finally</code> constructs to handle your streams. For your Client for example you could simplify do:</p>\n<pre><code> try (Socket link = new Socket(host, PORT);\n             BufferedReader in = new BufferedReader(new InputStreamReader(link.getInputStream()));\n             PrintWriter out = new PrintWriter(link.getOutputStream(), true);\n             BufferedReader userEntry = new BufferedReader(new InputStreamReader(System.in))) {\n</code></pre>\n<p>And all you need at the end is this:</p>\n<pre><code>} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":23363785,"reputation":15,"user_id":17435626,"display_name":"Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74334783,"answer_count":1,"score":0,"last_activity_date":1667729005,"creation_date":1667724180,"question_id":74334363,"body_markdown":"I&#39;m confused as to why I cant seem to get the server to output to the client properly. I&#39;m not the most experienced when it comes to java and have exhausted anything I could think of. The other systems in place seem to work fine(The Add/List commands).\r\n\r\n[![You can see the server responses are an input or two behind](https://i.stack.imgur.com/4jRAB.png)](https://i.stack.imgur.com/4jRAB.png)\r\n\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage com.mycompany.tcpechoclient;\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\n/**\r\n *\r\n * @author Leepe\r\n */\r\npublic class TCPEchoClient {\r\n private static InetAddress host;\r\n    private static final int PORT = 1248;\r\n\r\n    public static void main(String[] args) {\r\n     try \r\n     {\r\n        host = InetAddress.getLocalHost();\r\n     } \r\n     catch(UnknownHostException e) \r\n     {\r\n\tSystem.out.println(&quot;Host ID not found!&quot;);\r\n\tSystem.exit(1);\r\n     }\r\n     run();\r\n   }\r\n    \r\n   private static void run() {\r\n    Socket link = null;\t\t\t\t//Step 1.\r\n    try \r\n    {\r\n\tlink = new Socket(host,PORT);\t\t//Step 1.\r\n        //link = new Socket( &quot;192.168.0.59&quot;, PORT);\r\n\tBufferedReader in = new BufferedReader(new InputStreamReader(link.getInputStream()));//Step 2.\r\n\tPrintWriter out = new PrintWriter(link.getOutputStream(),true);\t //Step 2.\r\n\r\n\t//Set up stream for keyboard entry...\r\n\tBufferedReader userEntry =new BufferedReader(new InputStreamReader(System.in));\r\n\tString message = &quot;&quot;;\r\n        String response = &quot;&quot;;\r\n\r\n        while (!message.equals(&quot;Stop&quot;)) {\r\n                       \r\n            System.out.println(&quot;Enter message to be sent to server: &quot;);\r\n            message =  userEntry.readLine();\r\n            \r\n            out.println(message); \t\t//Step 3.\r\n            //  out.flush();\r\n            \r\n            response = in.readLine();\t\t//Step 3.\r\n            System.out.println(&quot;\\nSERVER RESPONSE&gt; &quot; + response);\r\n\r\n        }\r\n     }\r\n    catch(IOException e)\r\n    {\r\n\te.printStackTrace();\r\n    } \r\n    finally \r\n    {\r\n        try \r\n        {\r\n            System.out.println(&quot;\\n* Closing connection... *&quot;);\r\n            link.close();\t\t\t\t//Step 4.\r\n\t}catch(IOException e)\r\n        {\r\n            System.out.println(&quot;Unable to disconnect/close!&quot;);\r\n            System.exit(1);\r\n\t}\r\n    }\r\n } // finish run method\r\n}  //finish the class\r\n\r\n```\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage com.mycompany.tcpechoserverthreads;\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\n/**\r\n *\r\n * @author Leepe\r\n */\r\npublic class TCPEchoServer { \r\n  private static ServerSocket servSock;\r\n  private static final int PORT = 1248;\r\n  private static int clientConnections = 0;\r\n\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Opening port...&quot;+&quot;\\n&quot;+&quot;Listening on port: &quot;+PORT);\r\n    try \r\n    {\r\n        servSock = new ServerSocket(PORT);      //Step 1.\r\n    }\r\n    catch(IOException e) \r\n    {\r\n         System.out.println(&quot;Unable to attach to port!&quot;);\r\n         System.exit(1);\r\n    }\r\n    \r\n    do \r\n    {\r\n         run();\r\n    }while (true);\r\n\r\n  }\r\n  \r\n  synchronized private static void run()\r\n  {\r\n    Socket link = null;                        //Step 2.\r\n    try \r\n    {\r\n        link = servSock.accept(); \r\n        clientConnections++;\r\n        String client_ID = clientConnections + &quot;&quot;;\r\n        Runnable resource = new ClientConnectionRun(link, client_ID);\r\n        Thread t = new Thread (resource);\r\n        t.start();\r\n        \r\n    }\r\n    catch(IOException e1)\r\n    {\r\n        e1.printStackTrace();\r\n        try {\r\n\t    System.out.println(&quot;\\n* Closing connection... *&quot;);\r\n            link.close();\t\t\t\t    //Step 5.\r\n\t}\r\n       catch(IOException e2)\r\n       {\r\n            System.out.println(&quot;Unable to disconnect!&quot;);\r\n\t    System.exit(1);\r\n       }\r\n    }\r\n  } // finish run method \r\n} // finish the class\r\n```\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage com.mycompany.tcpechoserverthreads;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.util.*;\r\n\r\n/**\r\n *\r\n * @author Leepe\r\n */\r\npublic class ClientConnectionRun implements Runnable {\r\n    Socket client_link = null;  \r\n    String clientID;\r\n    public static List&lt;String&gt; currentList = new ArrayList&lt;String&gt;();\r\n    String[] parts;\r\n    String part1;\r\n    String part2;\r\n    String part3;\r\n    String message = &quot;&quot;;\r\n    \r\n    public ClientConnectionRun(Socket connection, String cID) {\r\n        this.client_link = connection;\r\n        clientID = cID;     \r\n  }\r\n    \r\n    @Override\r\n    synchronized public void run() {\r\n        try{\r\n            \r\n            BufferedReader in = new BufferedReader( new InputStreamReader(client_link.getInputStream())); //Step 3.\r\n            PrintWriter out = new PrintWriter(client_link.getOutputStream(),true); //Step 3.\r\n            \r\n            System.out.println(&quot;\\n* started connection with the client &quot; + clientID + &quot; ... *&quot;);\r\n\r\n           while (!message.equals(&quot;Stop&quot;)){//Step 4.\r\n                \r\n                message = in.readLine(); \r\n                \r\n               // out.flush();\r\n                System.out.println(&quot;\\n Message received from client: &quot; + clientID + &quot; - &quot;+ message);\r\n                out.println(&quot;\\n Echo Message: &quot; + message);\r\n                //out.flush();\r\n                if(message.contains(&quot;;&quot;)){\r\n                                        // String userinput = message;\r\n                                        // String item = message;   \r\n                                            \r\n\r\n                                           // System.out.println(&quot;Contains ;&quot;);\r\n\r\n                                            String[] parts = message.split(&quot;;&quot;);\r\n                                            String part1 = parts[0]; \r\n                                            String part2 = parts[1];\r\n                                            \r\n                                            System.out.println(part1);\r\n                                            System.out.println(part2);\r\n                                            \r\n                                            if(parts.length &gt;= 3 &amp;&amp; part1.equals(&quot;add&quot;)){\r\n                                                String part3 = parts[2]; \r\n                                            \r\n                                            \r\n\r\n                                            System.out.println(part1);\r\n                                            System.out.println(part2);\r\n                                            System.out.println(part3);\r\n                                            \r\n                                            currentList.add(part2+&quot; - &quot;+part3);\r\n                                            //AddItem();\r\n\r\n                                            }\r\n                                           \r\n                                            else if(parts.length &lt;= 2 &amp;&amp; part1.equals(&quot;list&quot;) ){ \r\n                                                \r\n                                            \r\n                                            System.out.println(&quot;list command working&quot;);\r\n                                            //ListItem();\r\n                                            \r\n                                            System.out.println();\r\n                                            System.out.println(&quot;----------------------&quot;);       \r\n                                            System.out.println(&quot;To-Do List&quot;);\r\n                                            System.out.println(&quot;----------------------&quot;);\r\n                                            int number = 0;\r\n                                             for (Iterator&lt;String&gt; it = currentList.iterator(); it.hasNext();) {\r\n                                                \r\n                                                message = it.next();\r\n                                                 if(message.contains(part2)){\r\n                                                     System.out.println(++number + &quot; &quot; + message);\r\n                                                 }\r\n                                             }\r\n                                                System.out.println(&quot;----------------------&quot;);\r\n\r\n                                            }\r\n                                            else {\r\n                                                System.out.println(&quot;\\n Don&#39;t add a description if you are searching for a date&quot;);\r\n                                            }\r\n                                            \r\n                                        }\r\n                else if(!message.contains(&quot;;&quot;)){\r\n                    System.out.println(&quot;\\n Unknown command, Try using &#39;add&#39; or &#39;list&#39; followed by a &#39; ; &#39; as listed above &quot;);\r\n                }\r\n\r\n           }\r\n        }\r\n        catch(IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        finally \r\n        {\r\n            try {\r\n                System.out.println(&quot;\\n* Closing connection with the client &quot; + clientID + &quot; ... *&quot;);\r\n                client_link.close();\t\t\t\t    //Step 5.\r\n            }\r\n            catch(IOException e)\r\n            {\r\n                System.out.println(&quot;Unable to disconnect!&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI want the server to be able to output info to the client that&#39;s connected. What&#39;s happening is that the server will output the info eventually but requires me to enter several more inputs, i&#39;m not sure how its delayed and any help would be appreciated.","title":"Having trouble with Java client-server communication, where the out.println seems to be delayed?","body":"<p>I'm confused as to why I cant seem to get the server to output to the client properly. I'm not the most experienced when it comes to java and have exhausted anything I could think of. The other systems in place seem to work fine(The Add/List commands).</p>\n<p><a href=\"https://i.stack.imgur.com/4jRAB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4jRAB.png\" alt=\"You can see the server responses are an input or two behind\" /></a></p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage com.mycompany.tcpechoclient;\nimport java.io.*;\nimport java.net.*;\n\n/**\n *\n * @author Leepe\n */\npublic class TCPEchoClient {\n private static InetAddress host;\n    private static final int PORT = 1248;\n\n    public static void main(String[] args) {\n     try \n     {\n        host = InetAddress.getLocalHost();\n     } \n     catch(UnknownHostException e) \n     {\n    System.out.println(&quot;Host ID not found!&quot;);\n    System.exit(1);\n     }\n     run();\n   }\n    \n   private static void run() {\n    Socket link = null;             //Step 1.\n    try \n    {\n    link = new Socket(host,PORT);       //Step 1.\n        //link = new Socket( &quot;192.168.0.59&quot;, PORT);\n    BufferedReader in = new BufferedReader(new InputStreamReader(link.getInputStream()));//Step 2.\n    PrintWriter out = new PrintWriter(link.getOutputStream(),true);  //Step 2.\n\n    //Set up stream for keyboard entry...\n    BufferedReader userEntry =new BufferedReader(new InputStreamReader(System.in));\n    String message = &quot;&quot;;\n        String response = &quot;&quot;;\n\n        while (!message.equals(&quot;Stop&quot;)) {\n                       \n            System.out.println(&quot;Enter message to be sent to server: &quot;);\n            message =  userEntry.readLine();\n            \n            out.println(message);       //Step 3.\n            //  out.flush();\n            \n            response = in.readLine();       //Step 3.\n            System.out.println(&quot;\\nSERVER RESPONSE&gt; &quot; + response);\n\n        }\n     }\n    catch(IOException e)\n    {\n    e.printStackTrace();\n    } \n    finally \n    {\n        try \n        {\n            System.out.println(&quot;\\n* Closing connection... *&quot;);\n            link.close();               //Step 4.\n    }catch(IOException e)\n        {\n            System.out.println(&quot;Unable to disconnect/close!&quot;);\n            System.exit(1);\n    }\n    }\n } // finish run method\n}  //finish the class\n\n</code></pre>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage com.mycompany.tcpechoserverthreads;\nimport java.io.*;\nimport java.net.*;\n\n/**\n *\n * @author Leepe\n */\npublic class TCPEchoServer { \n  private static ServerSocket servSock;\n  private static final int PORT = 1248;\n  private static int clientConnections = 0;\n\n  public static void main(String[] args) {\n    System.out.println(&quot;Opening port...&quot;+&quot;\\n&quot;+&quot;Listening on port: &quot;+PORT);\n    try \n    {\n        servSock = new ServerSocket(PORT);      //Step 1.\n    }\n    catch(IOException e) \n    {\n         System.out.println(&quot;Unable to attach to port!&quot;);\n         System.exit(1);\n    }\n    \n    do \n    {\n         run();\n    }while (true);\n\n  }\n  \n  synchronized private static void run()\n  {\n    Socket link = null;                        //Step 2.\n    try \n    {\n        link = servSock.accept(); \n        clientConnections++;\n        String client_ID = clientConnections + &quot;&quot;;\n        Runnable resource = new ClientConnectionRun(link, client_ID);\n        Thread t = new Thread (resource);\n        t.start();\n        \n    }\n    catch(IOException e1)\n    {\n        e1.printStackTrace();\n        try {\n        System.out.println(&quot;\\n* Closing connection... *&quot;);\n            link.close();                   //Step 5.\n    }\n       catch(IOException e2)\n       {\n            System.out.println(&quot;Unable to disconnect!&quot;);\n        System.exit(1);\n       }\n    }\n  } // finish run method \n} // finish the class\n</code></pre>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage com.mycompany.tcpechoserverthreads;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.*;\n\n/**\n *\n * @author Leepe\n */\npublic class ClientConnectionRun implements Runnable {\n    Socket client_link = null;  \n    String clientID;\n    public static List&lt;String&gt; currentList = new ArrayList&lt;String&gt;();\n    String[] parts;\n    String part1;\n    String part2;\n    String part3;\n    String message = &quot;&quot;;\n    \n    public ClientConnectionRun(Socket connection, String cID) {\n        this.client_link = connection;\n        clientID = cID;     \n  }\n    \n    @Override\n    synchronized public void run() {\n        try{\n            \n            BufferedReader in = new BufferedReader( new InputStreamReader(client_link.getInputStream())); //Step 3.\n            PrintWriter out = new PrintWriter(client_link.getOutputStream(),true); //Step 3.\n            \n            System.out.println(&quot;\\n* started connection with the client &quot; + clientID + &quot; ... *&quot;);\n\n           while (!message.equals(&quot;Stop&quot;)){//Step 4.\n                \n                message = in.readLine(); \n                \n               // out.flush();\n                System.out.println(&quot;\\n Message received from client: &quot; + clientID + &quot; - &quot;+ message);\n                out.println(&quot;\\n Echo Message: &quot; + message);\n                //out.flush();\n                if(message.contains(&quot;;&quot;)){\n                                        // String userinput = message;\n                                        // String item = message;   \n                                            \n\n                                           // System.out.println(&quot;Contains ;&quot;);\n\n                                            String[] parts = message.split(&quot;;&quot;);\n                                            String part1 = parts[0]; \n                                            String part2 = parts[1];\n                                            \n                                            System.out.println(part1);\n                                            System.out.println(part2);\n                                            \n                                            if(parts.length &gt;= 3 &amp;&amp; part1.equals(&quot;add&quot;)){\n                                                String part3 = parts[2]; \n                                            \n                                            \n\n                                            System.out.println(part1);\n                                            System.out.println(part2);\n                                            System.out.println(part3);\n                                            \n                                            currentList.add(part2+&quot; - &quot;+part3);\n                                            //AddItem();\n\n                                            }\n                                           \n                                            else if(parts.length &lt;= 2 &amp;&amp; part1.equals(&quot;list&quot;) ){ \n                                                \n                                            \n                                            System.out.println(&quot;list command working&quot;);\n                                            //ListItem();\n                                            \n                                            System.out.println();\n                                            System.out.println(&quot;----------------------&quot;);       \n                                            System.out.println(&quot;To-Do List&quot;);\n                                            System.out.println(&quot;----------------------&quot;);\n                                            int number = 0;\n                                             for (Iterator&lt;String&gt; it = currentList.iterator(); it.hasNext();) {\n                                                \n                                                message = it.next();\n                                                 if(message.contains(part2)){\n                                                     System.out.println(++number + &quot; &quot; + message);\n                                                 }\n                                             }\n                                                System.out.println(&quot;----------------------&quot;);\n\n                                            }\n                                            else {\n                                                System.out.println(&quot;\\n Don't add a description if you are searching for a date&quot;);\n                                            }\n                                            \n                                        }\n                else if(!message.contains(&quot;;&quot;)){\n                    System.out.println(&quot;\\n Unknown command, Try using 'add' or 'list' followed by a ' ; ' as listed above &quot;);\n                }\n\n           }\n        }\n        catch(IOException e)\n        {\n            e.printStackTrace();\n        }\n        \n        finally \n        {\n            try {\n                System.out.println(&quot;\\n* Closing connection with the client &quot; + clientID + &quot; ... *&quot;);\n                client_link.close();                    //Step 5.\n            }\n            catch(IOException e)\n            {\n                System.out.println(&quot;Unable to disconnect!&quot;);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>I want the server to be able to output info to the client that's connected. What's happening is that the server will output the info eventually but requires me to enter several more inputs, i'm not sure how its delayed and any help would be appreciated.</p>\n"},{"tags":["java","javadoc","document"],"comments":[{"owner":{"account_id":2251275,"reputation":1325,"user_id":1983465,"accept_rate":83,"display_name":"Bala"},"score":1,"creation_date":1594372602,"post_id":62830999,"comment_id":111109000,"body_markdown":"Which document you are trying to generate and also can you share the error as well?","body":"Which document you are trying to generate and also can you share the error as well?"}],"answers":[{"tags":[],"owner":{"account_id":9558201,"reputation":1391,"user_id":7099984,"display_name":"myxaxa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601283548,"creation_date":1601283548,"answer_id":64098999,"question_id":62830999,"body_markdown":"you can check the selected JDK path in your Project Structure popup:\r\n[File-&gt;Project Structure-&gt;Platform Settings-&gt;SDKs]\r\nand specify required path\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MUni3.png","title":"Error runnning JavaDoc: Cannot generate JavaDoc, jdk path is not specified or invalid","body":"<p>you can check the selected JDK path in your Project Structure popup:\n[File-&gt;Project Structure-&gt;Platform Settings-&gt;SDKs]\nand specify required path\n<a href=\"https://i.stack.imgur.com/MUni3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MUni3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25967095,"reputation":11,"user_id":19682895,"display_name":"bar toplian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667728172,"creation_date":1667728172,"answer_id":74334756,"question_id":62830999,"body_markdown":"I had the same issue.\r\nI changed my folder names (they weren&#39;t in English), then the path was ok.\r\nI think it applies to special characters as well.","title":"Error runnning JavaDoc: Cannot generate JavaDoc, jdk path is not specified or invalid","body":"<p>I had the same issue.\nI changed my folder names (they weren't in English), then the path was ok.\nI think it applies to special characters as well.</p>\n"}],"owner":{"account_id":18140504,"reputation":11,"user_id":13194392,"display_name":"Miss. ShahHosseinian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667728172,"creation_date":1594372376,"question_id":62830999,"body_markdown":"I am trying to generate a **JavaDoc** in intellij idea and i cannot fix the error.\r\n\r\nI&#39;v tried to fix it by add a new path to (Documentation Paths &lt;- SDKs &lt;- Project Structure &lt;- File) but didn&#39;t work.\r\nI set the path into jbr folder but","title":"Error runnning JavaDoc: Cannot generate JavaDoc, jdk path is not specified or invalid","body":"<p>I am trying to generate a <strong>JavaDoc</strong> in intellij idea and i cannot fix the error.</p>\n<p>I'v tried to fix it by add a new path to (Documentation Paths &lt;- SDKs &lt;- Project Structure &lt;- File) but didn't work.\nI set the path into jbr folder but</p>\n"},{"tags":["java","nio","channel","bytebuffer"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381091216,"creation_date":1381091216,"answer_id":19213576,"question_id":19213116,"body_markdown":"You can&#39;t control how data arrives on a TCP connection, from either end. It can arrive a byte at a time or in any other quanta up to the size of the data. You have to loop at the receiving end until you have everything you need. You need to use the same read buffer for the size of the socket so you can accumulate data for this loop, and to preserve any data that might belong to a subsequent message.\r\n\r\nThe &#39;size informed&#39; cannot be as huge as you state. That only results from a bug. Probably you are getting out of sync.","title":"Java nio read bytebuffer from channel","body":"<p>You can't control how data arrives on a TCP connection, from either end. It can arrive a byte at a time or in any other quanta up to the size of the data. You have to loop at the receiving end until you have everything you need. You need to use the same read buffer for the size of the socket so you can accumulate data for this loop, and to preserve any data that might belong to a subsequent message.</p>\n\n<p>The 'size informed' cannot be as huge as you state. That only results from a bug. Probably you are getting out of sync.</p>\n"},{"tags":[],"owner":{"account_id":258240,"reputation":6015,"user_id":540286,"display_name":"Ortwin Angermeier"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1381092113,"creation_date":1381092113,"answer_id":19213723,"question_id":19213116,"body_markdown":"The problem is that with TCP you have no control how the data is sent (fragmented). You do not know how much data is read with `channel.read(...)`.\r\n\r\nYou call `receiveMessage()` in a loop, there you fill read data into a buffer.\r\n\r\nYou can not be sure that \r\n\r\n    int size    =  buffer.getInt();\r\n\r\nis the size of the message you receive(only in the first call, *if* you receive at least 4 bytes.). You have to remember the first 4 received bytes, the size, (since you use `getInt()`), then you have to `channel.read(...)` until you have received *size bytes*, after that -&gt; process the next message. \r\n\r\nAlso re-use your buffer. Since you use `NIO` (and non-blocking) i also suggest you to use `select()`, instead of busy reading.","title":"Java nio read bytebuffer from channel","body":"<p>The problem is that with TCP you have no control how the data is sent (fragmented). You do not know how much data is read with <code>channel.read(...)</code>.</p>\n\n<p>You call <code>receiveMessage()</code> in a loop, there you fill read data into a buffer.</p>\n\n<p>You can not be sure that </p>\n\n<pre><code>int size    =  buffer.getInt();\n</code></pre>\n\n<p>is the size of the message you receive(only in the first call, <em>if</em> you receive at least 4 bytes.). You have to remember the first 4 received bytes, the size, (since you use <code>getInt()</code>), then you have to <code>channel.read(...)</code> until you have received <em>size bytes</em>, after that -> process the next message. </p>\n\n<p>Also re-use your buffer. Since you use <code>NIO</code> (and non-blocking) i also suggest you to use <code>select()</code>, instead of busy reading.</p>\n"}],"owner":{"account_id":2846238,"reputation":89,"user_id":2444548,"accept_rate":71,"display_name":"Luciano Coelho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667727945,"creation_date":1381088505,"question_id":19213116,"body_markdown":"How to receive the data from server example &quot;cutting&quot; in parcels of 1024 bytes, cause when the answer comes from server in packets like 2 parts I don&#39;t know how solve that. \r\n\r\nEx. When the first packet arrives the size informed by the server is 1988 and received is 1444, that it&#39;s ok, but when the second packet arrives the size informed is something like 808333347 and received 540, the sum of 1444 + 540 = 1984 that is right. I don&#39;t know where this number 808333347 is coming from.\r\n\r\nI&#39;m googling for this solution and all then teachs using udp and I need this for a tcp/ip connection.\r\n\r\nThe class:\r\n\r\n    public class Connection implements Runnable {\r\n        private static  Connection     instance;\r\n\t    private         SocketChannel  channel        = null;\r\n\t    private         int            port\t          = 0;\r\n\t    private         int            service        = 0;\r\n\t    private final   int \t       SOCKET_TIMEOUT = 15 * 1000;\r\n\t    private final   int\t           SOCKET_BYTES   = 16 * 1024;\r\n\t    private final   Charset        CHARSET \t      = Charset.forName(&quot;ISO-8859-1&quot;);\r\n\t    private \t    String \t       host\t          = null; \r\n\t    private \t    String         message\t      = &quot;&quot;;\r\n\t\r\n    public Connection(String host, String port){\r\n\t    this.host \t\t= host;\r\n\t    this.port \t\t= Integer.parseInt(port);\r\n\t}\r\n    public static Connection createConnection(String host, String port) {\r\n         if(instance == null){\r\n    \t\tinstance = new Conexao(host, port);\r\n    \t }\r\n         return instance;\r\n    }\r\n    public void connect(){\r\n\t\ttry{\r\n\t\t    instance.channel = SocketChannel.open();\r\n\t\t    instance.channel.socket().setSoTimeout(SOCKET_TIMEOUT);\r\n\t\t    instance.channel.socket().setTcpNoDelay(false);\r\n\t\t    instance.channel.socket().setKeepAlive(true);\r\n\t\t    instance.channel.connect(new InetSocketAddress(host, port));\r\n\t\t    instance.channel.configureBlocking(false);\r\n\t\t} catch (IOException ioe){\r\n\t\t    Log.d(TAG, ioe.getMessage() + &quot; &quot; + ioe.toString());\r\n\t\t}\r\n    }\r\n    @Override public void run() {\r\n\t    if(null != instance.channel){\r\n\t\t    if(instance.channel.isConnected()){\r\n\t\t        Log.d(TAG, &quot;CHANNEL CONNECTED = TRUE&quot;);\r\n\t\t    } else {\r\n\t\t    \tLog.d(TAG, &quot;CHANNEL CONNECTED = FALSE&quot;);\r\n\t\t    }\r\n\t\t} else {\r\n\t\t    instance.connect();\r\n\t\t    Log.d(TAG, &quot;CHANNEL CONNECTED&quot;);\r\n\t\t}\r\n\t\tsendMessage();\r\n\t\twhile(true){\r\n\t\t    receiveMessage();\r\n\t\t}\r\n\t}\r\n\tpublic void sendMessage() {\r\n\t\tint \t\tsize \t= message.length();\r\n\t\tByteBuffer \tbuffer \t= ByteBuffer.allocate(4 + 4 + size);\r\n    \tbuffer.putInt(service).putInt(size).put(message.getBytes());\r\n    \tbuffer.flip();\r\n    \tfor(int i = 0; i &lt; size; i++){\r\n    \t\ttry {\r\n\t\t        instance.channel.write(buffer);\r\n\t\t    } catch (IOException ioe) {\r\n\t\t        Log.d(TAG, ioe.getMessage() + &quot; &quot; + ioe.toString());\r\n\t\t    }\r\n    \t}\r\n\t}\r\n    public void receiveMessage(){\r\n        ByteBuffer \tbuffer \t\t= ByteBuffer.allocateDirect(SOCKET_BYTES);\r\n        int \t\tbytesReaded = 0;\r\n        String \t\treceived \t= &quot;&quot;;\r\n        buffer.clear();\r\n        try {\r\n            do {\r\n                bytesReaded = instance.channel.read(buffer);\r\n            } while (bytesReaded == 0);\r\n        } catch (IOException ioe) {\r\n            Log.d(TAG, ioe.getMessage() + &quot; &quot; + ioe.toString());\r\n        }\r\n        buffer.flip();\r\n        int size \t=  buffer.getInt();\r\n        received \t+= CHARSET.decode(buffer);\r\n        Log.d(TAG,&quot;SERVI&#199;E: &quot; + size + &quot;/&quot; + received.length() + &quot; MSG: &quot; + received);\r\n    }\r\n    public int getService() {\r\n        return service;\r\n    }\r\n    public void setService(int service) {\r\n        this.service = service;\r\n    }\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n\r\n\r\nI changed the function like this:\r\n\r\n    public void receiveMessage(){\r\n\t\tByteBuffer \tbuffer \t\t= ByteBuffer.allocateDirect(SOCKET_BYTES);\r\n\t\tint \t\tbytesReaded = 0;\r\n\t\tString \t\treceived \t= &quot;&quot;;\r\n        buffer.clear();\r\n        try {\r\n        \tbytesReaded = instance.channel.read(buffer);\r\n        } catch (IOException ioe) {\r\n\t\t\tLog.d(TAG, ioe.getMessage() + &quot; &quot; + ioe.toString());\r\n\t\t}\r\n        buffer.flip();\r\n        if(bytesReaded &gt;= 4){\r\n        \tif(size == 0 &amp;&amp; size &lt; 5000) size = buffer.getInt();\r\n        \treceived \t+= CHARSET.decode(buffer);\r\n        \tanswer \t\t+= received;\r\n        \tif(size == answer.length()){\r\n        \t\tLog.d(TAG,&quot;SERVICE: &quot; + size + &quot;/&quot; + answer.length() + &quot; &quot; + answer);\r\n        \t}\r\n        }\r\n\t}\r\n\r\nBut it&#39;s very ugly now.","title":"Java nio read bytebuffer from channel","body":"<p>How to receive the data from server example &quot;cutting&quot; in parcels of 1024 bytes, cause when the answer comes from server in packets like 2 parts I don't know how solve that.</p>\n<p>Ex. When the first packet arrives the size informed by the server is 1988 and received is 1444, that it's ok, but when the second packet arrives the size informed is something like 808333347 and received 540, the sum of 1444 + 540 = 1984 that is right. I don't know where this number 808333347 is coming from.</p>\n<p>I'm googling for this solution and all then teachs using udp and I need this for a tcp/ip connection.</p>\n<p>The class:</p>\n<pre><code>public class Connection implements Runnable {\n    private static  Connection     instance;\n    private         SocketChannel  channel        = null;\n    private         int            port           = 0;\n    private         int            service        = 0;\n    private final   int            SOCKET_TIMEOUT = 15 * 1000;\n    private final   int            SOCKET_BYTES   = 16 * 1024;\n    private final   Charset        CHARSET        = Charset.forName(&quot;ISO-8859-1&quot;);\n    private         String         host           = null; \n    private         String         message        = &quot;&quot;;\n\npublic Connection(String host, String port){\n    this.host       = host;\n    this.port       = Integer.parseInt(port);\n}\npublic static Connection createConnection(String host, String port) {\n     if(instance == null){\n        instance = new Conexao(host, port);\n     }\n     return instance;\n}\npublic void connect(){\n    try{\n        instance.channel = SocketChannel.open();\n        instance.channel.socket().setSoTimeout(SOCKET_TIMEOUT);\n        instance.channel.socket().setTcpNoDelay(false);\n        instance.channel.socket().setKeepAlive(true);\n        instance.channel.connect(new InetSocketAddress(host, port));\n        instance.channel.configureBlocking(false);\n    } catch (IOException ioe){\n        Log.d(TAG, ioe.getMessage() + &quot; &quot; + ioe.toString());\n    }\n}\n@Override public void run() {\n    if(null != instance.channel){\n        if(instance.channel.isConnected()){\n            Log.d(TAG, &quot;CHANNEL CONNECTED = TRUE&quot;);\n        } else {\n            Log.d(TAG, &quot;CHANNEL CONNECTED = FALSE&quot;);\n        }\n    } else {\n        instance.connect();\n        Log.d(TAG, &quot;CHANNEL CONNECTED&quot;);\n    }\n    sendMessage();\n    while(true){\n        receiveMessage();\n    }\n}\npublic void sendMessage() {\n    int         size    = message.length();\n    ByteBuffer  buffer  = ByteBuffer.allocate(4 + 4 + size);\n    buffer.putInt(service).putInt(size).put(message.getBytes());\n    buffer.flip();\n    for(int i = 0; i &lt; size; i++){\n        try {\n            instance.channel.write(buffer);\n        } catch (IOException ioe) {\n            Log.d(TAG, ioe.getMessage() + &quot; &quot; + ioe.toString());\n        }\n    }\n}\npublic void receiveMessage(){\n    ByteBuffer  buffer      = ByteBuffer.allocateDirect(SOCKET_BYTES);\n    int         bytesReaded = 0;\n    String      received    = &quot;&quot;;\n    buffer.clear();\n    try {\n        do {\n            bytesReaded = instance.channel.read(buffer);\n        } while (bytesReaded == 0);\n    } catch (IOException ioe) {\n        Log.d(TAG, ioe.getMessage() + &quot; &quot; + ioe.toString());\n    }\n    buffer.flip();\n    int size    =  buffer.getInt();\n    received    += CHARSET.decode(buffer);\n    Log.d(TAG,&quot;SERVIÇE: &quot; + size + &quot;/&quot; + received.length() + &quot; MSG: &quot; + received);\n}\npublic int getService() {\n    return service;\n}\npublic void setService(int service) {\n    this.service = service;\n}\npublic String getMessage() {\n    return message;\n}\npublic void setMessage(String message) {\n    this.message = message;\n}\n</code></pre>\n<p>I changed the function like this:</p>\n<pre><code>public void receiveMessage(){\n    ByteBuffer  buffer      = ByteBuffer.allocateDirect(SOCKET_BYTES);\n    int         bytesReaded = 0;\n    String      received    = &quot;&quot;;\n    buffer.clear();\n    try {\n        bytesReaded = instance.channel.read(buffer);\n    } catch (IOException ioe) {\n        Log.d(TAG, ioe.getMessage() + &quot; &quot; + ioe.toString());\n    }\n    buffer.flip();\n    if(bytesReaded &gt;= 4){\n        if(size == 0 &amp;&amp; size &lt; 5000) size = buffer.getInt();\n        received    += CHARSET.decode(buffer);\n        answer      += received;\n        if(size == answer.length()){\n            Log.d(TAG,&quot;SERVICE: &quot; + size + &quot;/&quot; + answer.length() + &quot; &quot; + answer);\n        }\n    }\n}\n</code></pre>\n<p>But it's very ugly now.</p>\n"},{"tags":["java","binary-tree","pretty-print"],"comments":[{"owner":{"account_id":1078493,"reputation":8375,"user_id":1076171,"display_name":"The Nail"},"score":0,"creation_date":1327263340,"post_id":8964279,"comment_id":11226767,"body_markdown":"Print all items of the same depth, then a newline, and then the items of the next depth. Still to solve: the horizontal position","body":"Print all items of the same depth, then a newline, and then the items of the next depth. Still to solve: the horizontal position"},{"owner":{"account_id":1078493,"reputation":8375,"user_id":1076171,"display_name":"The Nail"},"score":0,"creation_date":1327263486,"post_id":8964279,"comment_id":11226815,"body_markdown":"Spoiler: http://stackoverflow.com/questions/4965335/how-to-print-binary-tree-diagram","body":"Spoiler: <a href=\"http://stackoverflow.com/questions/4965335/how-to-print-binary-tree-diagram\" title=\"how to print binary tree diagram\">stackoverflow.com/questions/4965335/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":31116,"reputation":10461,"user_id":85215,"display_name":"Jonas H&#248;gh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327263481,"creation_date":1327263481,"answer_id":8964333,"question_id":8964279,"body_markdown":"Since the traversal function is recursive, you can pass formatting arguments (such as the number of spaces to indent each node) on to the recursive calls. E.g. if you want to indent 2 spaces for each level in the tree, you can start the recursion with an argument of 0, and then add 2 in each recursive step.","title":"Coding a basic pretty printer for trees in Java","body":"<p>Since the traversal function is recursive, you can pass formatting arguments (such as the number of spaces to indent each node) on to the recursive calls. E.g. if you want to indent 2 spaces for each level in the tree, you can start the recursion with an argument of 0, and then add 2 in each recursive step.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1327266217,"creation_date":1327263754,"answer_id":8964370,"question_id":8964279,"body_markdown":"If you know the depth of the tree, i.e. the number of levels &lt;strike&gt;you can calculate the maximum number of nodes in the last level (which is n&lt;sup&gt;2&lt;/sup&gt; for n=number of levels - 1, 1 element if you have the root only). If you further know the width of the elements (e.g. if you have at most 2-digit numbers each element would have width 2) you can calculate the width of the last level: \r\n`((number of elements - 1) * (element width + spacing) + element width)`.&lt;/strike&gt;\r\n\r\nActually the above paragraph doesn&#39;t matter. All you need is the depth of the tree, i.e. the maximum level that is to be displayed. However, if the tree is sparse, i.e. not all elements of the last level and maybe above are present, you&#39;ll need to get the position of the node you&#39;re rendering in order to adapt the indent/spacing for that case accordingly.\r\n\r\n\r\nIn your pre-order iteration you can then calculate the indentation and spacing between the elements at each level. The formula for the indent would be: _2&lt;sup&gt;(max level - level)&lt;/sup&gt; - 1_ and for the spacing: _2&lt;sup&gt;(max level - level + 1)&lt;/sup&gt; - 1_  (level is 1-based)\r\n\r\nExample:\r\n\r\n           1\r\n       2       3\r\n     4   5   6   7\r\n    8 9 A B C D E F\r\n\r\nIn that tree, the number of levels is 4. The spacing at the last level is 1 whereas the indent is 0. You&#39;ll get the following values:\r\n\r\n* level 1: \r\n * `indent = 7`: (2&lt;sup&gt;(4-1)&lt;/sup&gt; - 1 = 2&lt;sup&gt;3&lt;/sup&gt; - 1 = 8 - 1 = 7)\r\n * first level, so spacing doesn&#39;t matter\r\n* level 2: \r\n * `indent = 3`: (2&lt;sup&gt;(4-2)&lt;/sup&gt; - 1 = 2&lt;sup&gt;2&lt;/sup&gt; - 1 = 4 - 1 = 3)\r\n * `spacing = 7` (2&lt;sup&gt;(4-1)&lt;/sup&gt; - 1 = 2&lt;sup&gt;3&lt;/sup&gt; - 1 = 8 - 1 = 7)\r\n* level 3: \r\n * `indent = 1`: (2&lt;sup&gt;(4-3)&lt;/sup&gt; - 1 = 2&lt;sup&gt;1&lt;/sup&gt; - 1 = 2 - 1 = 1)\r\n * `spacing = 3` (2&lt;sup&gt;(4-2)&lt;/sup&gt; - 1 = 2&lt;sup&gt;2&lt;/sup&gt; - 1 = 4 - 1 = 3)\r\n* level 4: \r\n * `indent = 0`: (2&lt;sup&gt;(4-4)&lt;/sup&gt; - 1 = 2&lt;sup&gt;0&lt;/sup&gt; - 1 = 1 - 1 = 0)\r\n * `spacing = 1`: (2&lt;sup&gt;(4-3)&lt;/sup&gt; - 1 = 2&lt;sup&gt;1&lt;/sup&gt; - 1 = 2 - 1 = 1)\r\n\r\nNote that at the last level you&#39;ll always have spacing 1 * element width. Thus for a maximum element width of 3 (e.g. 3-digit numbers) you&#39;d have a spacing of 3 at the last level, in order to get some pretty alignment of the upper levels.\r\n\r\n_Edit_: For your pretty print, you&#39;d just have to calculate the indent as `width element * level` where level would be zero-based. Then if the node is not a leaf, draw it with a opening paranthesis in front and a closing paranthesis after drawing the children, if it is a leaf just draw it and if the leaf is missing, draw double paranthis.\r\n\r\nThus you&#39;d get something like this:\r\n    \r\n    public void printSubtree( int indent, node ) {\r\n      for( int i = 0; i &lt; indent; ++i) {\r\n        System.out.print(&quot; &quot;);\r\n      }\r\n     \r\n      if( inner node) {\r\n        System.out.println(&quot;(&quot; + value);     \r\n        printSubtree(indent + elem width, left child); //this is a recursive call, alternatively use the indent formula above if you don&#39;t use recursion\r\n        printSubtree(indent + elem width, right child);\r\n\r\n        //we have a new line so print the indent again\r\n        for( int i = 0; i &lt; indent; ++i) {\r\n          System.out.print(&quot; &quot;);\r\n        }\r\n        System.out.println(&quot;)&quot;); \r\n      } else if( not empty) {\r\n        System.out.println(value);\r\n      } else { //empty/non existing node\r\n        System.out.println(&quot;()&quot;);\r\n      }\r\n    }","title":"Coding a basic pretty printer for trees in Java","body":"<p>If you know the depth of the tree, i.e. the number of levels <strike>you can calculate the maximum number of nodes in the last level (which is n<sup>2</sup> for n=number of levels - 1, 1 element if you have the root only). If you further know the width of the elements (e.g. if you have at most 2-digit numbers each element would have width 2) you can calculate the width of the last level: \n<code>((number of elements - 1) * (element width + spacing) + element width)</code>.</strike></p>\n\n<p>Actually the above paragraph doesn't matter. All you need is the depth of the tree, i.e. the maximum level that is to be displayed. However, if the tree is sparse, i.e. not all elements of the last level and maybe above are present, you'll need to get the position of the node you're rendering in order to adapt the indent/spacing for that case accordingly.</p>\n\n<p>In your pre-order iteration you can then calculate the indentation and spacing between the elements at each level. The formula for the indent would be: <em>2<sup>(max level - level)</sup> - 1</em> and for the spacing: <em>2<sup>(max level - level + 1)</sup> - 1</em>  (level is 1-based)</p>\n\n<p>Example:</p>\n\n<pre><code>       1\n   2       3\n 4   5   6   7\n8 9 A B C D E F\n</code></pre>\n\n<p>In that tree, the number of levels is 4. The spacing at the last level is 1 whereas the indent is 0. You'll get the following values:</p>\n\n<ul>\n<li>level 1: \n<ul>\n<li><code>indent = 7</code>: (2<sup>(4-1)</sup> - 1 = 2<sup>3</sup> - 1 = 8 - 1 = 7)</li>\n<li>first level, so spacing doesn't matter</li>\n</ul></li>\n<li>level 2: \n<ul>\n<li><code>indent = 3</code>: (2<sup>(4-2)</sup> - 1 = 2<sup>2</sup> - 1 = 4 - 1 = 3)</li>\n<li><code>spacing = 7</code> (2<sup>(4-1)</sup> - 1 = 2<sup>3</sup> - 1 = 8 - 1 = 7)</li>\n</ul></li>\n<li>level 3: \n<ul>\n<li><code>indent = 1</code>: (2<sup>(4-3)</sup> - 1 = 2<sup>1</sup> - 1 = 2 - 1 = 1)</li>\n<li><code>spacing = 3</code> (2<sup>(4-2)</sup> - 1 = 2<sup>2</sup> - 1 = 4 - 1 = 3)</li>\n</ul></li>\n<li>level 4: \n<ul>\n<li><code>indent = 0</code>: (2<sup>(4-4)</sup> - 1 = 2<sup>0</sup> - 1 = 1 - 1 = 0)</li>\n<li><code>spacing = 1</code>: (2<sup>(4-3)</sup> - 1 = 2<sup>1</sup> - 1 = 2 - 1 = 1)</li>\n</ul></li>\n</ul>\n\n<p>Note that at the last level you'll always have spacing 1 * element width. Thus for a maximum element width of 3 (e.g. 3-digit numbers) you'd have a spacing of 3 at the last level, in order to get some pretty alignment of the upper levels.</p>\n\n<p><em>Edit</em>: For your pretty print, you'd just have to calculate the indent as <code>width element * level</code> where level would be zero-based. Then if the node is not a leaf, draw it with a opening paranthesis in front and a closing paranthesis after drawing the children, if it is a leaf just draw it and if the leaf is missing, draw double paranthis.</p>\n\n<p>Thus you'd get something like this:</p>\n\n<pre><code>public void printSubtree( int indent, node ) {\n  for( int i = 0; i &lt; indent; ++i) {\n    System.out.print(\" \");\n  }\n\n  if( inner node) {\n    System.out.println(\"(\" + value);     \n    printSubtree(indent + elem width, left child); //this is a recursive call, alternatively use the indent formula above if you don't use recursion\n    printSubtree(indent + elem width, right child);\n\n    //we have a new line so print the indent again\n    for( int i = 0; i &lt; indent; ++i) {\n      System.out.print(\" \");\n    }\n    System.out.println(\")\"); \n  } else if( not empty) {\n    System.out.println(value);\n  } else { //empty/non existing node\n    System.out.println(\"()\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3653011,"reputation":650,"user_id":3044680,"display_name":"Tokala Sai Teja"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1505738820,"creation_date":1505738820,"answer_id":46279667,"question_id":8964279,"body_markdown":"This works for all inputs and prints a line to link as seen in below figure \r\n[![enter image description here][1]][1]\r\n\r\n    package com.sai.samples;\r\n    \r\n    /**\r\n     * @author Saiteja Tokala\r\n     */\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    /**\r\n     * Binary tree printer\r\n     *\r\n     * @author saiteja\r\n     */\r\n    public class TreePrinter\r\n    {\r\n    \t/** Node that can be printed */\r\n    \tpublic interface PrintableNode\r\n    \t{\r\n    \t\t/** Get left child */\r\n    \t\tPrintableNode getLeft();\r\n    \r\n    \r\n    \t\t/** Get right child */\r\n    \t\tPrintableNode getRight();\r\n    \r\n    \r\n    \t\t/** Get text to be printed */\r\n    \t\tString getText();\r\n    \t}\r\n    \r\n    \r\n    \t/**\r\n    \t * Print a tree\r\n    \t *\r\n    \t * @param root\r\n    \t *            tree root node\r\n    \t */\r\n    \tpublic static void print(PrintableNode root)\r\n    \t{\r\n    \t\tList&lt;List&lt;String&gt;&gt; lines = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n    \r\n    \t\tList&lt;PrintableNode&gt; level = new ArrayList&lt;PrintableNode&gt;();\r\n    \t\tList&lt;PrintableNode&gt; next = new ArrayList&lt;PrintableNode&gt;();\r\n    \r\n    \t\tlevel.add(root);\r\n    \t\tint nn = 1;\r\n    \r\n    \t\tint widest = 0;\r\n    \r\n    \t\twhile (nn != 0) {\r\n    \t\t\tList&lt;String&gt; line = new ArrayList&lt;String&gt;();\r\n    \r\n    \t\t\tnn = 0;\r\n    \r\n    \t\t\tfor (PrintableNode n : level) {\r\n    \t\t\t\tif (n == null) {\r\n    \t\t\t\t\tline.add(null);\r\n    \r\n    \t\t\t\t\tnext.add(null);\r\n    \t\t\t\t\tnext.add(null);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tString aa = n.getText();\r\n    \t\t\t\t\tline.add(aa);\r\n    \t\t\t\t\tif (aa.length() &gt; widest) widest = aa.length();\r\n    \r\n    \t\t\t\t\tnext.add(n.getLeft());\r\n    \t\t\t\t\tnext.add(n.getRight());\r\n    \r\n    \t\t\t\t\tif (n.getLeft() != null) nn++;\r\n    \t\t\t\t\tif (n.getRight() != null) nn++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (widest % 2 == 1) widest++;\r\n    \r\n    \t\t\tlines.add(line);\r\n    \r\n    \t\t\tList&lt;PrintableNode&gt; tmp = level;\r\n    \t\t\tlevel = next;\r\n    \t\t\tnext = tmp;\r\n    \t\t\tnext.clear();\r\n    \t\t}\r\n    \r\n    \t\tint perpiece = lines.get(lines.size() - 1).size() * (widest + 4);\r\n    \t\tfor (int i = 0; i &lt; lines.size(); i++) {\r\n    \t\t\tList&lt;String&gt; line = lines.get(i);\r\n    \t\t\tint hpw = (int) Math.floor(perpiece / 2f) - 1;\r\n    \r\n    \t\t\tif (i &gt; 0) {\r\n    \t\t\t\tfor (int j = 0; j &lt; line.size(); j++) {\r\n    \r\n    \t\t\t\t\t// split node\r\n    \t\t\t\t\tchar c = &#39; &#39;;\r\n    \t\t\t\t\tif (j % 2 == 1) {\r\n    \t\t\t\t\t\tif (line.get(j - 1) != null) {\r\n    \t\t\t\t\t\t\tc = (line.get(j) != null) ? &#39;┴&#39; : &#39;┘&#39;;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tif (j &lt; line.size() &amp;&amp; line.get(j) != null) c = &#39;└&#39;;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tSystem.out.print(c);\r\n    \r\n    \t\t\t\t\t// lines and spaces\r\n    \t\t\t\t\tif (line.get(j) == null) {\r\n    \t\t\t\t\t\tfor (int k = 0; k &lt; perpiece - 1; k++) {\r\n    \t\t\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} else {\r\n    \r\n    \t\t\t\t\t\tfor (int k = 0; k &lt; hpw; k++) {\r\n    \t\t\t\t\t\t\tSystem.out.print(j % 2 == 0 ? &quot; &quot; : &quot;─&quot;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tSystem.out.print(j % 2 == 0 ? &quot;┌&quot; : &quot;┐&quot;);\r\n    \t\t\t\t\t\tfor (int k = 0; k &lt; hpw; k++) {\r\n    \t\t\t\t\t\t\tSystem.out.print(j % 2 == 0 ? &quot;─&quot; : &quot; &quot;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}\r\n    \r\n    \t\t\t// print line of numbers\r\n    \t\t\tfor (int j = 0; j &lt; line.size(); j++) {\r\n    \r\n    \t\t\t\tString f = line.get(j);\r\n    \t\t\t\tif (f == null) f = &quot;&quot;;\r\n    \t\t\t\tint gap1 = (int) Math.ceil(perpiece / 2f - f.length() / 2f);\r\n    \t\t\t\tint gap2 = (int) Math.floor(perpiece / 2f - f.length() / 2f);\r\n    \r\n    \t\t\t\t// a number\r\n    \t\t\t\tfor (int k = 0; k &lt; gap1; k++) {\r\n    \t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.print(f);\r\n    \t\t\t\tfor (int k = 0; k &lt; gap2; k++) {\r\n    \t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \r\n    \t\t\tperpiece /= 2;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bYouu.png","title":"Coding a basic pretty printer for trees in Java","body":"<p>This works for all inputs and prints a line to link as seen in below figure \n<a href=\"https://i.stack.imgur.com/bYouu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bYouu.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>package com.sai.samples;\n\n/**\n * @author Saiteja Tokala\n */\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n/**\n * Binary tree printer\n *\n * @author saiteja\n */\npublic class TreePrinter\n{\n    /** Node that can be printed */\n    public interface PrintableNode\n    {\n        /** Get left child */\n        PrintableNode getLeft();\n\n\n        /** Get right child */\n        PrintableNode getRight();\n\n\n        /** Get text to be printed */\n        String getText();\n    }\n\n\n    /**\n     * Print a tree\n     *\n     * @param root\n     *            tree root node\n     */\n    public static void print(PrintableNode root)\n    {\n        List&lt;List&lt;String&gt;&gt; lines = new ArrayList&lt;List&lt;String&gt;&gt;();\n\n        List&lt;PrintableNode&gt; level = new ArrayList&lt;PrintableNode&gt;();\n        List&lt;PrintableNode&gt; next = new ArrayList&lt;PrintableNode&gt;();\n\n        level.add(root);\n        int nn = 1;\n\n        int widest = 0;\n\n        while (nn != 0) {\n            List&lt;String&gt; line = new ArrayList&lt;String&gt;();\n\n            nn = 0;\n\n            for (PrintableNode n : level) {\n                if (n == null) {\n                    line.add(null);\n\n                    next.add(null);\n                    next.add(null);\n                } else {\n                    String aa = n.getText();\n                    line.add(aa);\n                    if (aa.length() &gt; widest) widest = aa.length();\n\n                    next.add(n.getLeft());\n                    next.add(n.getRight());\n\n                    if (n.getLeft() != null) nn++;\n                    if (n.getRight() != null) nn++;\n                }\n            }\n\n            if (widest % 2 == 1) widest++;\n\n            lines.add(line);\n\n            List&lt;PrintableNode&gt; tmp = level;\n            level = next;\n            next = tmp;\n            next.clear();\n        }\n\n        int perpiece = lines.get(lines.size() - 1).size() * (widest + 4);\n        for (int i = 0; i &lt; lines.size(); i++) {\n            List&lt;String&gt; line = lines.get(i);\n            int hpw = (int) Math.floor(perpiece / 2f) - 1;\n\n            if (i &gt; 0) {\n                for (int j = 0; j &lt; line.size(); j++) {\n\n                    // split node\n                    char c = ' ';\n                    if (j % 2 == 1) {\n                        if (line.get(j - 1) != null) {\n                            c = (line.get(j) != null) ? '┴' : '┘';\n                        } else {\n                            if (j &lt; line.size() &amp;&amp; line.get(j) != null) c = '└';\n                        }\n                    }\n                    System.out.print(c);\n\n                    // lines and spaces\n                    if (line.get(j) == null) {\n                        for (int k = 0; k &lt; perpiece - 1; k++) {\n                            System.out.print(\" \");\n                        }\n                    } else {\n\n                        for (int k = 0; k &lt; hpw; k++) {\n                            System.out.print(j % 2 == 0 ? \" \" : \"─\");\n                        }\n                        System.out.print(j % 2 == 0 ? \"┌\" : \"┐\");\n                        for (int k = 0; k &lt; hpw; k++) {\n                            System.out.print(j % 2 == 0 ? \"─\" : \" \");\n                        }\n                    }\n                }\n                System.out.println();\n            }\n\n            // print line of numbers\n            for (int j = 0; j &lt; line.size(); j++) {\n\n                String f = line.get(j);\n                if (f == null) f = \"\";\n                int gap1 = (int) Math.ceil(perpiece / 2f - f.length() / 2f);\n                int gap2 = (int) Math.floor(perpiece / 2f - f.length() / 2f);\n\n                // a number\n                for (int k = 0; k &lt; gap1; k++) {\n                    System.out.print(\" \");\n                }\n                System.out.print(f);\n                for (int k = 0; k &lt; gap2; k++) {\n                    System.out.print(\" \");\n                }\n            }\n            System.out.println();\n\n            perpiece /= 2;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11309917,"reputation":3024,"user_id":8293309,"display_name":"paradocslover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620544150,"creation_date":1620544150,"answer_id":67455139,"question_id":8964279,"body_markdown":"Assume that your Binary tree is represented in the following manner:\r\n\r\n```java\r\npublic class BinaryTreeModel {\r\n\r\n    private Object value;\r\n    private BinaryTreeModel left;\r\n    private BinaryTreeModel right;\r\n\r\n    public BinaryTreeModel(Object value) {\r\n        this.value = value;\r\n    }\r\n\r\n    // standard getters and setters\r\n\r\n}\r\n```\r\n\r\nThen the code for the pretty print the tree could be written like this:\r\n\r\n### For root node:\r\n```\r\npublic String traversePreOrder(BinaryTreeModel root) {\r\n\r\n    if (root == null) {\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(root.getValue());\r\n\r\n    String pointerRight = &quot;└──&quot;;\r\n    String pointerLeft = (root.getRight() != null) ? &quot;├──&quot; : &quot;└──&quot;;\r\n\r\n    traverseNodes(sb, &quot;&quot;, pointerLeft, root.getLeft(), root.getRight() != null);\r\n    traverseNodes(sb, &quot;&quot;, pointerRight, root.getRight(), false);\r\n\r\n    return sb.toString();\r\n}\r\n```\r\n\r\n### for child nodes: \r\n```java\r\npublic void traverseNodes(StringBuilder sb, String padding, String pointer, BinaryTreeModel node, \r\n  boolean hasRightSibling) {\r\n    if (node != null) {\r\n        sb.append(&quot;\\n&quot;);\r\n        sb.append(padding);\r\n        sb.append(pointer);\r\n        sb.append(node.getValue());\r\n\r\n        StringBuilder paddingBuilder = new StringBuilder(padding);\r\n        if (hasRightSibling) {\r\n            paddingBuilder.append(&quot;│  &quot;);\r\n        } else {\r\n            paddingBuilder.append(&quot;   &quot;);\r\n        }\r\n\r\n        String paddingForBoth = paddingBuilder.toString();\r\n        String pointerRight = &quot;└──&quot;;\r\n        String pointerLeft = (node.getRight() != null) ? &quot;├──&quot; : &quot;└──&quot;;\r\n\r\n        traverseNodes(sb, paddingForBoth, pointerLeft, node.getLeft(), node.getRight() != null);\r\n        traverseNodes(sb, paddingForBoth, pointerRight, node.getRight(), false);\r\n    }\r\n}\r\n```\r\n\r\nThen all you need to do is call the function for the root node like this:\r\n\r\n```\r\nSystem.out.println(traversePreOrder(root));\r\n```\r\n\r\n\r\nThis article explains in detail the whole approach - https://www.baeldung.com/java-print-binary-tree-diagram. This idea could be extended to pretty print `generic trees`, `tries` and much more. \r\n\r\n### How to do the same for trie?\r\n\r\nAssume the helper classes for the trie are `Trie` and `TrieNode` defined as follows:\r\n\r\n``` java\r\npublic class TrieNode{\r\n    public HashMap&lt;Character, TrieNode&gt; children;\r\n    public boolean isWord;\r\n    public TrieNode() {\r\n        children = new HashMap&lt;&gt;();\r\n        isWord = false;\r\n    }\r\n}\r\n```\r\n\r\nand \r\n\r\n```\r\npublic class Trie{\r\n    public TrieNode root;\r\n    public Trie() {\r\n        root = new TrieNode();\r\n    }\r\n    // Insert method for trie, search method for trie, delete method for trie not shown as they are not relevant\r\n}\r\n```\r\n\r\nNow, to implement pretty print methods, just insert the two methods in the `Trie` class:\r\n\r\n```java\r\npublic String traversePreOrder() {\r\n        if (root == null) {\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;○&quot;);\r\n\r\n        Set&lt;Character&gt; childNodeChars = root.children.keySet();\r\n        Iterator&lt;Character&gt; iterator = childNodeChars.iterator();\r\n        while (iterator.hasNext()) {\r\n            Character childC = iterator.next();\r\n            if (!iterator.hasNext())\r\n                traverseNodes(sb, &quot;&quot;, &quot;└──&quot;, root, childC, false);\r\n            else\r\n                traverseNodes(sb, &quot;&quot;, &quot;├──&quot;, root, childC, true);\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n\r\n    private void traverseNodes(StringBuilder sb, String padding, String pointer, TrieNode node, Character c, boolean hasNextSibling) {\r\n        sb.append(&quot;\\n&quot;);\r\n        sb.append(padding);\r\n        sb.append(pointer);\r\n        sb.append(c);\r\n        sb.append(node.children.get(c).isWord?&quot;(1)&quot;:&quot;&quot;);\r\n\r\n        StringBuilder paddingBuilder = new StringBuilder(padding);\r\n        paddingBuilder.append(hasNextSibling?&quot;│  &quot;:&quot;   &quot;);\r\n\r\n        String paddingForBoth = paddingBuilder.toString();\r\n\r\n        TrieNode childNode = node.children.get(c);\r\n        if(childNode == null)\r\n            return;\r\n\r\n        Set&lt;Character&gt; childNodeChars = childNode.children.keySet();\r\n        Iterator&lt;Character&gt; iterator = childNodeChars.iterator();\r\n        while (iterator.hasNext()) {\r\n            Character childC = iterator.next();\r\n            if (!iterator.hasNext())\r\n                traverseNodes(sb, paddingForBoth, &quot;└──&quot;, childNode, childC, false);\r\n            else\r\n                traverseNodes(sb, paddingForBoth, &quot;├──&quot;, childNode, childC, true);\r\n        }\r\n    }\r\n```","title":"Coding a basic pretty printer for trees in Java","body":"<p>Assume that your Binary tree is represented in the following manner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BinaryTreeModel {\n\n    private Object value;\n    private BinaryTreeModel left;\n    private BinaryTreeModel right;\n\n    public BinaryTreeModel(Object value) {\n        this.value = value;\n    }\n\n    // standard getters and setters\n\n}\n</code></pre>\n<p>Then the code for the pretty print the tree could be written like this:</p>\n<h3>For root node:</h3>\n<pre><code>public String traversePreOrder(BinaryTreeModel root) {\n\n    if (root == null) {\n        return &quot;&quot;;\n    }\n\n    StringBuilder sb = new StringBuilder();\n    sb.append(root.getValue());\n\n    String pointerRight = &quot;└──&quot;;\n    String pointerLeft = (root.getRight() != null) ? &quot;├──&quot; : &quot;└──&quot;;\n\n    traverseNodes(sb, &quot;&quot;, pointerLeft, root.getLeft(), root.getRight() != null);\n    traverseNodes(sb, &quot;&quot;, pointerRight, root.getRight(), false);\n\n    return sb.toString();\n}\n</code></pre>\n<h3>for child nodes:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public void traverseNodes(StringBuilder sb, String padding, String pointer, BinaryTreeModel node, \n  boolean hasRightSibling) {\n    if (node != null) {\n        sb.append(&quot;\\n&quot;);\n        sb.append(padding);\n        sb.append(pointer);\n        sb.append(node.getValue());\n\n        StringBuilder paddingBuilder = new StringBuilder(padding);\n        if (hasRightSibling) {\n            paddingBuilder.append(&quot;│  &quot;);\n        } else {\n            paddingBuilder.append(&quot;   &quot;);\n        }\n\n        String paddingForBoth = paddingBuilder.toString();\n        String pointerRight = &quot;└──&quot;;\n        String pointerLeft = (node.getRight() != null) ? &quot;├──&quot; : &quot;└──&quot;;\n\n        traverseNodes(sb, paddingForBoth, pointerLeft, node.getLeft(), node.getRight() != null);\n        traverseNodes(sb, paddingForBoth, pointerRight, node.getRight(), false);\n    }\n}\n</code></pre>\n<p>Then all you need to do is call the function for the root node like this:</p>\n<pre><code>System.out.println(traversePreOrder(root));\n</code></pre>\n<p>This article explains in detail the whole approach - <a href=\"https://www.baeldung.com/java-print-binary-tree-diagram\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-print-binary-tree-diagram</a>. This idea could be extended to pretty print <code>generic trees</code>, <code>tries</code> and much more.</p>\n<h3>How to do the same for trie?</h3>\n<p>Assume the helper classes for the trie are <code>Trie</code> and <code>TrieNode</code> defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TrieNode{\n    public HashMap&lt;Character, TrieNode&gt; children;\n    public boolean isWord;\n    public TrieNode() {\n        children = new HashMap&lt;&gt;();\n        isWord = false;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class Trie{\n    public TrieNode root;\n    public Trie() {\n        root = new TrieNode();\n    }\n    // Insert method for trie, search method for trie, delete method for trie not shown as they are not relevant\n}\n</code></pre>\n<p>Now, to implement pretty print methods, just insert the two methods in the <code>Trie</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String traversePreOrder() {\n        if (root == null) {\n            return &quot;&quot;;\n        }\n\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;○&quot;);\n\n        Set&lt;Character&gt; childNodeChars = root.children.keySet();\n        Iterator&lt;Character&gt; iterator = childNodeChars.iterator();\n        while (iterator.hasNext()) {\n            Character childC = iterator.next();\n            if (!iterator.hasNext())\n                traverseNodes(sb, &quot;&quot;, &quot;└──&quot;, root, childC, false);\n            else\n                traverseNodes(sb, &quot;&quot;, &quot;├──&quot;, root, childC, true);\n        }\n\n        return sb.toString();\n    }\n\n    private void traverseNodes(StringBuilder sb, String padding, String pointer, TrieNode node, Character c, boolean hasNextSibling) {\n        sb.append(&quot;\\n&quot;);\n        sb.append(padding);\n        sb.append(pointer);\n        sb.append(c);\n        sb.append(node.children.get(c).isWord?&quot;(1)&quot;:&quot;&quot;);\n\n        StringBuilder paddingBuilder = new StringBuilder(padding);\n        paddingBuilder.append(hasNextSibling?&quot;│  &quot;:&quot;   &quot;);\n\n        String paddingForBoth = paddingBuilder.toString();\n\n        TrieNode childNode = node.children.get(c);\n        if(childNode == null)\n            return;\n\n        Set&lt;Character&gt; childNodeChars = childNode.children.keySet();\n        Iterator&lt;Character&gt; iterator = childNodeChars.iterator();\n        while (iterator.hasNext()) {\n            Character childC = iterator.next();\n            if (!iterator.hasNext())\n                traverseNodes(sb, paddingForBoth, &quot;└──&quot;, childNode, childC, false);\n            else\n                traverseNodes(sb, paddingForBoth, &quot;├──&quot;, childNode, childC, true);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20574099,"reputation":9,"user_id":15101762,"display_name":"Spencer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667727867,"creation_date":1667419031,"answer_id":74294994,"question_id":8964279,"body_markdown":"I know this original post was for binary search trees, but I created a pretty print for red-black trees which looks pretty nice. The code basically gives creates a table with the same number of rows as the height of the tree, and a width the same as the number of nodes. Then as you recurse through each layer of the ree, you can put in the node in the proper index of the table, and eventually pretty print that.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nLink to the full code for the red-black tree:\r\n\r\nhttps://github.com/spencermitton/rbTree\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gsdrP.png","title":"Coding a basic pretty printer for trees in Java","body":"<p>I know this original post was for binary search trees, but I created a pretty print for red-black trees which looks pretty nice. The code basically gives creates a table with the same number of rows as the height of the tree, and a width the same as the number of nodes. Then as you recurse through each layer of the ree, you can put in the node in the proper index of the table, and eventually pretty print that.</p>\n<p><a href=\"https://i.stack.imgur.com/gsdrP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gsdrP.png\" alt=\"enter image description here\" /></a></p>\n<p>Link to the full code for the red-black tree:</p>\n<p><a href=\"https://github.com/spencermitton/rbTree\" rel=\"nofollow noreferrer\">https://github.com/spencermitton/rbTree</a></p>\n"}],"owner":{"account_id":895894,"reputation":181,"user_id":933194,"accept_rate":86,"display_name":"neojb1989"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14140,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":8964370,"answer_count":5,"score":2,"last_activity_date":1667727867,"creation_date":1327263034,"question_id":8964279,"body_markdown":"I need help in understanding how to code a pretty printer for any given binary tree.\r\n\r\nI know the first step is to do preorder to get all of the nodes.\r\n\r\nI know that during the preorder traversal, that&#39;s where all of the prettyness will be implemented.\r\n\r\nJust not sure how to get started. I am given a preorder traversal function that works but i&#39;m not sure where to start modifying it or if I should just make my own function.\r\n\r\nNo code, just asking for ideas on how others would go about it.\r\n\r\n\r\nAnd maybe later code if I get desperate :P\r\n\r\nTo be specific, It should look like this:\r\n\r\n![example](http://i.stack.imgur.com/LnqYM.png)","title":"Coding a basic pretty printer for trees in Java","body":"<p>I need help in understanding how to code a pretty printer for any given binary tree.</p>\n\n<p>I know the first step is to do preorder to get all of the nodes.</p>\n\n<p>I know that during the preorder traversal, that's where all of the prettyness will be implemented.</p>\n\n<p>Just not sure how to get started. I am given a preorder traversal function that works but i'm not sure where to start modifying it or if I should just make my own function.</p>\n\n<p>No code, just asking for ideas on how others would go about it.</p>\n\n<p>And maybe later code if I get desperate :P</p>\n\n<p>To be specific, It should look like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/LnqYM.png\" alt=\"example\"></p>\n"},{"tags":["java","sorting","comparator"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667695940,"post_id":74332493,"comment_id":131228113,"body_markdown":"That looks like an _ancient_ class that was written before generics existed.  I&#39;m not a generics expert, but it looks like without the type parameter on `AlphanumComparator`, it can&#39;t infer the proper types for `s1` and `s2`.  The `AlphanumComparator` comments contain instructions for &quot;upgrading&quot; it to generics, which you should do.","body":"That looks like an <i>ancient</i> class that was written before generics existed.  I&#39;m not a generics expert, but it looks like without the type parameter on <code>AlphanumComparator</code>, it can&#39;t infer the proper types for <code>s1</code> and <code>s2</code>.  The <code>AlphanumComparator</code> comments contain instructions for &quot;upgrading&quot; it to generics, which you should do."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1667696603,"post_id":74332493,"comment_id":131228190,"body_markdown":"Sorry, I posted an old link.  I am using the upgraded version.  I updated the link","body":"Sorry, I posted an old link.  I am using the upgraded version.  I updated the link"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667701331,"creation_date":1667699610,"answer_id":74332810,"question_id":74332493,"body_markdown":"`AlphanumComparator` is a regular implementation of the `Comparator` interface, therefore instead of messing with `compare()` inside the lambda, you need to leverage fluent `static` methods of the comparator.\r\n\r\nI think you&#39;re looking for [`Comparator.comparing(keyExtractor, keyComparator)`][1], which expects a function extracting a *sort key* from the argument, and a Comparator which should be used to compare *sort keys*.\r\n\r\nWhere *key extractor* function would the following lambda expression:\r\n\r\n```\r\n(NodeInstance node) -&gt; node.getDefinitionId().toString()\r\n```\r\n\r\nAnd an instance of the `AlphanumComparator` would serve as a *key comparator*.\r\n\r\n\r\n```\r\nComparator&lt;NodeInstance&gt; comparator =\r\n    Comparator.comparing(\r\n        (NodeInstance node) -&gt; node.getDefinitionId().toString(),\r\n        new AlphanumComparator()\r\n    )\r\n    .thenComparingInt(NodeInstance::getDisplayOrder);\r\n```\r\n\r\nExplicit type in the lambda expression is required to correctly because it can&#39;t be correctly inferred based on the *target type* of the aggregated Comparator.\r\n\r\nAlternatively, instead of specifying the type in the lambda, you can use a so-called *type-witness* `Comparator.&lt;NodeInstance,String&gt;comparing(node -&gt; ...)`\r\n\r\n   [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)","title":"Chaining with AlphanumComparator for Java TreeSet","body":"<p><code>AlphanumComparator</code> is a regular implementation of the <code>Comparator</code> interface, therefore instead of messing with <code>compare()</code> inside the lambda, you need to leverage fluent <code>static</code> methods of the comparator.</p>\n<p>I think you're looking for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Comparator.comparing(keyExtractor, keyComparator)</code></a>, which expects a function extracting a <em>sort key</em> from the argument, and a Comparator which should be used to compare <em>sort keys</em>.</p>\n<p>Where <em>key extractor</em> function would the following lambda expression:</p>\n<pre><code>(NodeInstance node) -&gt; node.getDefinitionId().toString()\n</code></pre>\n<p>And an instance of the <code>AlphanumComparator</code> would serve as a <em>key comparator</em>.</p>\n<pre><code>Comparator&lt;NodeInstance&gt; comparator =\n    Comparator.comparing(\n        (NodeInstance node) -&gt; node.getDefinitionId().toString(),\n        new AlphanumComparator()\n    )\n    .thenComparingInt(NodeInstance::getDisplayOrder);\n</code></pre>\n<p>Explicit type in the lambda expression is required to correctly because it can't be correctly inferred based on the <em>target type</em> of the aggregated Comparator.</p>\n<p>Alternatively, instead of specifying the type in the lambda, you can use a so-called <em>type-witness</em> <code>Comparator.&lt;NodeInstance,String&gt;comparing(node -&gt; ...)</code></p>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74332810,"answer_count":1,"score":2,"last_activity_date":1667727468,"creation_date":1667695006,"question_id":74332493,"body_markdown":"I&#39;m using `AlphanumComparator` from https://stackoverflow.com/questions/47170839/using-the-alphanumcomparator/47171282#47171282.  I&#39;m having trouble figuring out how to chain additional comparators to it.\r\n\r\nI have an object called `NodeInstance`.  I want to sort on 2 fields.  `definitionId` is an enum whose `toString` is an alphanumeric field.  `displayOrder` is an int.\r\n\r\nTried something like this\r\n```\r\nComparator&lt;NodeInstance&gt; comparator = ((s1, s2) -&gt; new AlphanumComparator()\r\n    .compare(((NodeInstance) s1).getDefinitionId().toString(), ((NodeInstance) s2).getDefinitionId().toString()))\r\n    .thenComparingInt(NodeInstance::getDisplayOrder);\r\n```\r\n\r\nbut IntelliJ warns me that `Inconvertible types; cannot cast &#39;&lt;lambda parameter&gt;&#39; to NodeInstane`.\r\n\r\nI cannot figure out the correct syntax to get this to work.\r\n\r\nI&#39;m trying to use this in a `TreeSet`, so ultimately I want to be able to do `new TreeSet&lt;&gt;(comparator);","title":"Chaining with AlphanumComparator for Java TreeSet","body":"<p>I'm using <code>AlphanumComparator</code> from <a href=\"https://stackoverflow.com/questions/47170839/using-the-alphanumcomparator/47171282#47171282\">Using the AlphanumComparator</a>.  I'm having trouble figuring out how to chain additional comparators to it.</p>\n<p>I have an object called <code>NodeInstance</code>.  I want to sort on 2 fields.  <code>definitionId</code> is an enum whose <code>toString</code> is an alphanumeric field.  <code>displayOrder</code> is an int.</p>\n<p>Tried something like this</p>\n<pre><code>Comparator&lt;NodeInstance&gt; comparator = ((s1, s2) -&gt; new AlphanumComparator()\n    .compare(((NodeInstance) s1).getDefinitionId().toString(), ((NodeInstance) s2).getDefinitionId().toString()))\n    .thenComparingInt(NodeInstance::getDisplayOrder);\n</code></pre>\n<p>but IntelliJ warns me that <code>Inconvertible types; cannot cast '&lt;lambda parameter&gt;' to NodeInstane</code>.</p>\n<p>I cannot figure out the correct syntax to get this to work.</p>\n<p>I'm trying to use this in a <code>TreeSet</code>, so ultimately I want to be able to do `new TreeSet&lt;&gt;(comparator);</p>\n"},{"tags":["java","timezone","utc","java-time","datetime-conversion"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1667560254,"post_id":74316021,"comment_id":131200448,"body_markdown":"Why are you using `ZoneId.systemDefault()` for the timezone if it&#39;s supposed to be ZULU?","body":"Why are you using <code>ZoneId.systemDefault()</code> for the timezone if it&#39;s supposed to be ZULU?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1667561232,"post_id":74316021,"comment_id":131200805,"body_markdown":"please stop using the old `Date`, `Calendar, `SimpleDateFormat` classes, use the classes from the `java.time` package (which you already are partially using) || BTW `ZonedDateTime` should be able to parse date/times formatted as `&quot;2022-11-04T06:10:08.606+00:00&quot;` directly, without needing any formatter (since it is already ISO 8601 formatted) ((and then use `DateTimeFormatter.ISO_OFFSET_DATE_TIME.withZone()`))","body":"please stop using the old <code>Date</code>, <code>Calendar, </code>SimpleDateFormat` classes, use the classes from the <code>java.time</code> package (which you already are partially using) || BTW <code>ZonedDateTime</code> should be able to parse date/times formatted as <code>&quot;2022-11-04T06:10:08.606+00:00&quot;</code> directly, without needing any formatter (since it is already ISO 8601 formatted) ((and then use <code>DateTimeFormatter.ISO_OFFSET_DATE_TIME.withZone()</code>))"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667726759,"post_id":74316021,"comment_id":131231478,"body_markdown":"The `SimpleDateFormat` class is notoriously troublesome and long outdated. Mixing it with the modern classes in java.time is never a good idea. All you get is trouble and needless complication. Just stick to java.time.","body":"The <code>SimpleDateFormat</code> class is notoriously troublesome and long outdated. Mixing it with the modern classes in java.time is never a good idea. All you get is trouble and needless complication. Just stick to java.time."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667726984,"post_id":74316021,"comment_id":131231515,"body_markdown":"When I run your code in Europe/Paris time zone, I get `2022-11-04T07:10:08.606+01:00` and `Fri Nov 04 07:10:08 CET 2022`, which both seem correct? What was your question again, please? Using your commented-out string I get `2022-06-01T01:30:12.209+02:00\nWed Jun 01 01:30:12 CEST 2022`, which seems correct too?","body":"When I run your code in Europe/Paris time zone, I get <code>2022-11-04T07:10:08.606+01:00</code> and <code>Fri Nov 04 07:10:08 CET 2022</code>, which both seem correct? What was your question again, please? Using your commented-out string I get <code>2022-06-01T01:30:12.209+02:00 Wed Jun 01 01:30:12 CEST 2022</code>, which seems correct too?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1667727181,"post_id":74316021,"comment_id":131231551,"body_markdown":"Also (1) parse the entire string; the offset, `+00:00`, is critical; (2) don’t do parsing nor time math “by hand”; leave all of it to the library classes.","body":"Also (1) parse the entire string; the offset, <code>+00:00</code>, is critical; (2) don’t do parsing nor time math “by hand”; leave all of it to the library classes."},{"owner":{"account_id":5845962,"reputation":342,"user_id":5023024,"accept_rate":0,"display_name":"Atul Rai"},"score":0,"creation_date":1667820918,"post_id":74316021,"comment_id":131251107,"body_markdown":"@OleV.V. The out of code is what I expect when I deploy the code on the server located in France, it is not the same. I&#39;m expecting +1 or +2 additional hours but somehow it adds the +6 or some time +8 and even notice that it changes the date also .","body":"@OleV.V. The out of code is what I expect when I deploy the code on the server located in France, it is not the same. I&#39;m expecting +1 or +2 additional hours but somehow it adds the +6 or some time +8 and even notice that it changes the date also ."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667880802,"post_id":74316021,"comment_id":131267576,"body_markdown":"As I said, I have been unable to reproduce those +6. So it’s hard to help.","body":"As I said, I have been unable to reproduce those +6. So it’s hard to help."},{"owner":{"account_id":5845962,"reputation":342,"user_id":5023024,"accept_rate":0,"display_name":"Atul Rai"},"score":1,"creation_date":1667967668,"post_id":74316021,"comment_id":131292092,"body_markdown":"@OleV.V. Its random, not exactly +6 or +8 has been added to provided time. And the problem is occurring only when I deploy the code on the server which otherwise while testing on the local, everything is fine. I still doing my analysis why the random number is added.","body":"@OleV.V. Its random, not exactly +6 or +8 has been added to provided time. And the problem is occurring only when I deploy the code on the server which otherwise while testing on the local, everything is fine. I still doing my analysis why the random number is added."},{"owner":{"account_id":5845962,"reputation":342,"user_id":5023024,"accept_rate":0,"display_name":"Atul Rai"},"score":0,"creation_date":1667967809,"post_id":74316021,"comment_id":131292108,"body_markdown":"And the @deHaar answer is also working as expected but the conversion of ZonedDateTime to Date create the problem again. Because entity column is defined as Date.","body":"And the @deHaar answer is also working as expected but the conversion of ZonedDateTime to Date create the problem again. Because entity column is defined as Date."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1667571946,"creation_date":1667562185,"answer_id":74316503,"question_id":74316021,"body_markdown":"You can directly *switch* between zones and offsets using plain `java.time`, no legacy baggage necessary…\r\n\r\nHere&#39;s how:\r\n\r\n- your input example is an ISO-formatted datetime with an offset from UTC (of 0 hours and 0 minutes, so it is Zulu time respectively in UTC), which means you can parse it in one go to a `java.time.OffsetDateTime`\r\n- an `OffsetDateTime` can be converted into a `ZonedDateTime`\r\n- a `ZonedDateTime` can handle daylight saving time (DST)\r\n- having a `ZonedDateTime` you can switch its `ZoneId`, which will respect DST, but keep the underlying instant \r\n\r\nPlease see the following example…\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// input example\r\n    String date = &quot;2022-11-04T06:10:08.606+00:00&quot;;\r\n    // directly parse it to a java.time.OffsetDateTime\r\n    OffsetDateTime odt = OffsetDateTime.parse(date);\r\n    // make the UTC/Zulu datetime zoned\r\n    ZonedDateTime zdt = odt.toZonedDateTime();\r\n    // print it\r\n    System.out.println(zdt);\r\n    // switch the zone to the desired one\r\n    ZonedDateTime zdtParis = zdt.withZoneSameInstant(ZoneId.of(&quot;Europe/Paris&quot;));\r\n    // print that, too\r\n    System.out.println(zdtParis);\r\n\t// or print a coversion to OffsetDateTime without explicitly mentioning the zone\r\n\tSystem.out.println(zdtParis.toOffsetDateTime());\r\n    // the same can be achieved keeping the ZonedDateTime but formatting it as OffsetDateTime\r\n    System.out.println(zdtParis.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME));\r\n}\r\n```\r\n\r\nThe output of the above code is\r\n\r\n```none\r\n2022-11-04T06:10:08.606Z\r\n2022-11-04T07:10:08.606+01:00[Europe/Paris]\r\n2022-11-04T07:10:08.606+01:00\r\n2022-11-04T07:10:08.606+01:00\r\n```\r\n\r\nTry it with a datetime influenced by DST, you will see DST respected…\r\nThis is the output of the same code using the input value `&quot;2022-05-31T23:30:12.209+00:00&quot;`:\r\n\r\n```none\r\n2022-05-31T23:30:12.209Z\r\n2022-06-01T01:30:12.209+02:00[Europe/Paris]\r\n2022-06-01T01:30:12.209+02:00\r\n2022-06-01T01:30:12.209+02:00\r\n```","title":"How to convert ZULU timestamp to Europe/Paris time zone?","body":"<p>You can directly <em>switch</em> between zones and offsets using plain <code>java.time</code>, no legacy baggage necessary…</p>\n<p>Here's how:</p>\n<ul>\n<li>your input example is an ISO-formatted datetime with an offset from UTC (of 0 hours and 0 minutes, so it is Zulu time respectively in UTC), which means you can parse it in one go to a <code>java.time.OffsetDateTime</code></li>\n<li>an <code>OffsetDateTime</code> can be converted into a <code>ZonedDateTime</code></li>\n<li>a <code>ZonedDateTime</code> can handle daylight saving time (DST)</li>\n<li>having a <code>ZonedDateTime</code> you can switch its <code>ZoneId</code>, which will respect DST, but keep the underlying instant</li>\n</ul>\n<p>Please see the following example…</p>\n<pre><code>public static void main(String[] args) {\n    // input example\n    String date = &quot;2022-11-04T06:10:08.606+00:00&quot;;\n    // directly parse it to a java.time.OffsetDateTime\n    OffsetDateTime odt = OffsetDateTime.parse(date);\n    // make the UTC/Zulu datetime zoned\n    ZonedDateTime zdt = odt.toZonedDateTime();\n    // print it\n    System.out.println(zdt);\n    // switch the zone to the desired one\n    ZonedDateTime zdtParis = zdt.withZoneSameInstant(ZoneId.of(&quot;Europe/Paris&quot;));\n    // print that, too\n    System.out.println(zdtParis);\n    // or print a coversion to OffsetDateTime without explicitly mentioning the zone\n    System.out.println(zdtParis.toOffsetDateTime());\n    // the same can be achieved keeping the ZonedDateTime but formatting it as OffsetDateTime\n    System.out.println(zdtParis.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME));\n}\n</code></pre>\n<p>The output of the above code is</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-11-04T06:10:08.606Z\n2022-11-04T07:10:08.606+01:00[Europe/Paris]\n2022-11-04T07:10:08.606+01:00\n2022-11-04T07:10:08.606+01:00\n</code></pre>\n<p>Try it with a datetime influenced by DST, you will see DST respected…\nThis is the output of the same code using the input value <code>&quot;2022-05-31T23:30:12.209+00:00&quot;</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-05-31T23:30:12.209Z\n2022-06-01T01:30:12.209+02:00[Europe/Paris]\n2022-06-01T01:30:12.209+02:00\n2022-06-01T01:30:12.209+02:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667565578,"creation_date":1667565578,"answer_id":74317219,"question_id":74316021,"body_markdown":"Your string is already in the format recognized by [static] method `parse` in class `java.time.Instant`. Then you can convert that instant to a `ZonedDateTime` in the Paris time zone. Two lines of code:\r\n```java\r\nString date = &quot;2022-11-04T06:10:08.606+00:00&quot;;\r\njava.time.Instant inst = java.time.Instant.parse(date);\r\njava.time.ZonedDateTime zdt = inst.atZone(java.time.ZoneId.of(&quot;Europe/Paris&quot;));\r\n```\r\nIt will also take into consideration changes for summer time and non-summer time.\r\n```none\r\nZULU : 2022-11-04T06:10:08.606Z\r\nParis: 2022-11-04T07:10:08.606+01:00[Europe/Paris]\r\n```\r\n","title":"How to convert ZULU timestamp to Europe/Paris time zone?","body":"<p>Your string is already in the format recognized by [static] method <code>parse</code> in class <code>java.time.Instant</code>. Then you can convert that instant to a <code>ZonedDateTime</code> in the Paris time zone. Two lines of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String date = &quot;2022-11-04T06:10:08.606+00:00&quot;;\njava.time.Instant inst = java.time.Instant.parse(date);\njava.time.ZonedDateTime zdt = inst.atZone(java.time.ZoneId.of(&quot;Europe/Paris&quot;));\n</code></pre>\n<p>It will also take into consideration changes for summer time and non-summer time.</p>\n<pre class=\"lang-none prettyprint-override\"><code>ZULU : 2022-11-04T06:10:08.606Z\nParis: 2022-11-04T07:10:08.606+01:00[Europe/Paris]\n</code></pre>\n"}],"owner":{"account_id":5845962,"reputation":342,"user_id":5023024,"accept_rate":0,"display_name":"Atul Rai"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74316503,"answer_count":2,"score":1,"last_activity_date":1667727337,"creation_date":1667559783,"question_id":74316021,"body_markdown":"I have a ZULU timestamp that I have to convert into Paris time zone. \r\n```none\r\nZULU 2022-11-04T06:10:08.606+00:00  --&gt; Paris 2022-11-04T07:10:08.606+01:00\r\n```\r\nAnd have to take care of DST for example:\r\nSummer time Hour  +2 hour\r\nWinter time Hour   +1 hour\r\n\r\nI have written the below code which is working as expected on the local but when deploy on the server (Paris) not working as expected.\r\n\r\n```java\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.time.ZonedDateTime;\r\nimport java.util.Locale;\r\n\r\npublic class ParisTime {\r\n\r\n\tpublic static void main(String[] args) throws ParseException {\r\n\r\n\t\t// String date = &quot;2022-05-31T23:30:12.209+00:00&quot;;\r\n\t\tString date = &quot;2022-11-04T06:10:08.606+00:00&quot;;\r\n\r\n\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;, Locale.ENGLISH);\r\n\t\tLocalDateTime dateTime = dateFormat.parse(date).toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\r\n\t\tZonedDateTime of = ZonedDateTime.of(dateTime, ZoneId.of(&quot;Europe/Paris&quot;));\r\n\t\tString hourDiff = of.toString().substring(of.toString().indexOf(&#39;+&#39;) + 1, of.toString().indexOf(&#39;+&#39;) + 3);\r\n\t\tString zonedDateTime = of.plusHours(Integer.valueOf(hourDiff)).toString();\r\n\t\tString newDatetime = zonedDateTime.substring(0, of.toString().indexOf(&#39;[&#39;));\r\n\r\n\t\tSystem.out.println(newDatetime);\r\n\r\n\t\tSystem.out.println(dateFormat.parse(newDatetime));\r\n\t}\r\n}\r\n```\r\nOutput \r\n```none\r\n2022-11-04T07:10:08.606+01:00\r\nFri Nov 04 07:10:08 IST 2022\r\n```\r\n","title":"How to convert ZULU timestamp to Europe/Paris time zone?","body":"<p>I have a ZULU timestamp that I have to convert into Paris time zone.</p>\n<pre class=\"lang-none prettyprint-override\"><code>ZULU 2022-11-04T06:10:08.606+00:00  --&gt; Paris 2022-11-04T07:10:08.606+01:00\n</code></pre>\n<p>And have to take care of DST for example:\nSummer time Hour  +2 hour\nWinter time Hour   +1 hour</p>\n<p>I have written the below code which is working as expected on the local but when deploy on the server (Paris) not working as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.util.Locale;\n\npublic class ParisTime {\n\n    public static void main(String[] args) throws ParseException {\n\n        // String date = &quot;2022-05-31T23:30:12.209+00:00&quot;;\n        String date = &quot;2022-11-04T06:10:08.606+00:00&quot;;\n\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;, Locale.ENGLISH);\n        LocalDateTime dateTime = dateFormat.parse(date).toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\n        ZonedDateTime of = ZonedDateTime.of(dateTime, ZoneId.of(&quot;Europe/Paris&quot;));\n        String hourDiff = of.toString().substring(of.toString().indexOf('+') + 1, of.toString().indexOf('+') + 3);\n        String zonedDateTime = of.plusHours(Integer.valueOf(hourDiff)).toString();\n        String newDatetime = zonedDateTime.substring(0, of.toString().indexOf('['));\n\n        System.out.println(newDatetime);\n\n        System.out.println(dateFormat.parse(newDatetime));\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-11-04T07:10:08.606+01:00\nFri Nov 04 07:10:08 IST 2022\n</code></pre>\n"},{"tags":["java","queue","comparator","priority-queue"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667680210,"creation_date":1667680210,"answer_id":74331285,"question_id":74331213,"body_markdown":"You&#39;ve incorrectly implemented `Comparable` interface in the `JobNode`.\r\n\r\nInstead of comparing `priority` values of two `JobNode` instances (`this` and the argument `o`), you&#39;re simply returning the value of `priority` of `this` instance, ignoring the argument.\r\n\r\nThat&#39;s how `compareTo()` implementation might look like:\r\n\r\n    @Override\r\n    public int compareTo(JobNode o) {\r\n        return Integer.compare(priority,  o.priority);\r\n    }","title":"Can&#39;t get Priority Queue/Comparator to Work For Custom Objects","body":"<p>You've incorrectly implemented <code>Comparable</code> interface in the <code>JobNode</code>.</p>\n<p>Instead of comparing <code>priority</code> values of two <code>JobNode</code> instances (<code>this</code> and the argument <code>o</code>), you're simply returning the value of <code>priority</code> of <code>this</code> instance, ignoring the argument.</p>\n<p>That's how <code>compareTo()</code> implementation might look like:</p>\n<pre><code>@Override\npublic int compareTo(JobNode o) {\n    return Integer.compare(priority,  o.priority);\n}\n</code></pre>\n"}],"owner":{"account_id":22630442,"reputation":43,"user_id":16807903,"display_name":"JG98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74331285,"answer_count":1,"score":2,"last_activity_date":1667727335,"creation_date":1667679591,"question_id":74331213,"body_markdown":"I know this question has been asked several times, but after searching through all the answers I don&#39;t think my problem is with using `poll()` during iteration, but perhaps my comparator is messed up. Every time I try to print the elements, they are in a random order. I understand that the priority queue internally is a tree, where the minimum element is the root. I figured iterating through and using `poll()` would work, but it didn&#39;t fix anything (before I tried to remove and making a custom iterator). I think something may be wrong with my comparator. I attached my code and the output [![output][1]][1]\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\nimport java.util.PriorityQueue;\r\nimport java.util.Scanner;\r\nimport java.util.Iterator;\r\n\r\npublic class scheduleCPU\r\n{\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tjobCompare compare = new jobCompare();\r\n\t\tPriorityQueue&lt;JobNode&gt; jobQueue = new PriorityQueue&lt;&gt;(); // creating queue of job nodes\r\n\r\n\t\tint pJob = 0;\r\n\t\tString nJob = null;\r\n\t\tint lJob = 0;\r\n\t\tScanner userInput = new Scanner(System.in); // Create a Scanner object\r\n\t\t\r\n\t\tBoolean exitInput = false;\r\n\r\n\t\t// taking in input\r\n\t\twhile(exitInput != true)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Enter priority, length, and name of job, enter 101 to stop entering jobs&quot;);\r\n\t\t\tpJob = userInput.nextInt();\r\n\t\t\t\r\n\t\t\tif(pJob ==101) \r\n\t\t\t{\r\n\t\t\t\tuserInput.close();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlJob = userInput.nextInt();\r\n\t\t\t\r\n\t\t\tnJob = userInput.next();\r\n\t\t\t\r\n\t\t\tJobNode currentJob = new JobNode(pJob, nJob, lJob); \r\n\t\t\tjobQueue.add(currentJob);\r\n\t\t}\r\n\t\t\r\n\t\tIterator&lt;JobNode&gt; jobIt = jobQueue.iterator();\r\n\t\t// to print the jobs\r\n\t\twhile(!jobQueue.isEmpty()) \r\n\t\t{\r\n\t\t    // Arrays.sort(jobQueue.toArray());\r\n\t\t\tJobNode currentJob = jobQueue.poll();\r\n\t\t\tSystem.out.println(currentJob.name);\r\n\t\t\t// System.out.println(jobQueue);\r\n\t\t}\r\n\t\t\r\n\t\t// to process the jobs\r\n\t\twhile(jobQueue.size()&gt;0) \r\n\t\t{\r\n\t\tJobNode current = jobQueue.remove();\r\n\t\tint jobLength = current.length;\r\n\t\tfor(int i =0; i&lt;jobLength;i++) \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Job&quot;+ current.name + &quot; is &quot; + ((i/jobLength)*100) + &quot;% complete&quot;);\r\n\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nclass JobNode implements Comparable&lt;JobNode&gt;\r\n{\r\n\tint priority;\r\n\tString name;\r\n\tint length;\r\n\r\n\t// constructor\r\n\tJobNode(int p, String n, int l)\r\n\t{\r\n\t\tpriority = p;\r\n\t\tname = n;\r\n\t\tlength = l;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int compareTo(JobNode o)\r\n\t{\r\n\t\treturn this.priority;\r\n\t}\r\n}\r\n\r\nclass jobCompare implements Comparator&lt;JobNode&gt;\r\n{\r\n\t@Override\r\n\tpublic int compare(JobNode j1, JobNode j2)\r\n\t{\r\n\t\tif (j1.priority &lt; j2.priority)\r\n\t\t\treturn 1;\r\n\t\telse if (j1.priority &gt; j2.priority)\r\n\t\t\treturn -1;\r\n\t\treturn 0;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2IgzF.png","title":"Can&#39;t get Priority Queue/Comparator to Work For Custom Objects","body":"<p>I know this question has been asked several times, but after searching through all the answers I don't think my problem is with using <code>poll()</code> during iteration, but perhaps my comparator is messed up. Every time I try to print the elements, they are in a random order. I understand that the priority queue internally is a tree, where the minimum element is the root. I figured iterating through and using <code>poll()</code> would work, but it didn't fix anything (before I tried to remove and making a custom iterator). I think something may be wrong with my comparator. I attached my code and the output <a href=\"https://i.stack.imgur.com/2IgzF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2IgzF.png\" alt=\"output\" /></a></p>\n<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\nimport java.util.Iterator;\n\npublic class scheduleCPU\n{\n\n    public static void main(String[] args)\n    {\n        jobCompare compare = new jobCompare();\n        PriorityQueue&lt;JobNode&gt; jobQueue = new PriorityQueue&lt;&gt;(); // creating queue of job nodes\n\n        int pJob = 0;\n        String nJob = null;\n        int lJob = 0;\n        Scanner userInput = new Scanner(System.in); // Create a Scanner object\n        \n        Boolean exitInput = false;\n\n        // taking in input\n        while(exitInput != true)\n        {\n            System.out.println(&quot;Enter priority, length, and name of job, enter 101 to stop entering jobs&quot;);\n            pJob = userInput.nextInt();\n            \n            if(pJob ==101) \n            {\n                userInput.close();\n                break;\n            }\n            \n            lJob = userInput.nextInt();\n            \n            nJob = userInput.next();\n            \n            JobNode currentJob = new JobNode(pJob, nJob, lJob); \n            jobQueue.add(currentJob);\n        }\n        \n        Iterator&lt;JobNode&gt; jobIt = jobQueue.iterator();\n        // to print the jobs\n        while(!jobQueue.isEmpty()) \n        {\n            // Arrays.sort(jobQueue.toArray());\n            JobNode currentJob = jobQueue.poll();\n            System.out.println(currentJob.name);\n            // System.out.println(jobQueue);\n        }\n        \n        // to process the jobs\n        while(jobQueue.size()&gt;0) \n        {\n        JobNode current = jobQueue.remove();\n        int jobLength = current.length;\n        for(int i =0; i&lt;jobLength;i++) \n        {\n            System.out.println(&quot;Job&quot;+ current.name + &quot; is &quot; + ((i/jobLength)*100) + &quot;% complete&quot;);\n        }\n        }\n    }\n\n}\n\nclass JobNode implements Comparable&lt;JobNode&gt;\n{\n    int priority;\n    String name;\n    int length;\n\n    // constructor\n    JobNode(int p, String n, int l)\n    {\n        priority = p;\n        name = n;\n        length = l;\n    }\n\n    @Override\n    public int compareTo(JobNode o)\n    {\n        return this.priority;\n    }\n}\n\nclass jobCompare implements Comparator&lt;JobNode&gt;\n{\n    @Override\n    public int compare(JobNode j1, JobNode j2)\n    {\n        if (j1.priority &lt; j2.priority)\n            return 1;\n        else if (j1.priority &gt; j2.priority)\n            return -1;\n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":["java","weblogic","weblogic12c","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":24108546,"reputation":73,"user_id":18079412,"display_name":"nahid afzali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667726989,"creation_date":1667726989,"answer_id":74334630,"question_id":74260345,"body_markdown":"At last, I changed the port and the problem disappeared.","title":"Weblogic : Unable to ping server at localhost:7001","body":"<p>At last, I changed the port and the problem disappeared.</p>\n"}],"owner":{"account_id":24108546,"reputation":73,"user_id":18079412,"display_name":"nahid afzali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74334630,"answer_count":1,"score":-1,"last_activity_date":1667726989,"creation_date":1667203681,"question_id":74260345,"body_markdown":"I am using WebLogic as an application server in IntelliJ. But after debugging and entering the username, this error appears and disconnects from the server Application: \r\n&quot;Application Server was not connected before run configuration stop, reason: Unable to ping server at localhost:7001&quot;.\r\n\r\nHow can I solve this error?","title":"Weblogic : Unable to ping server at localhost:7001","body":"<p>I am using WebLogic as an application server in IntelliJ. But after debugging and entering the username, this error appears and disconnects from the server Application:\n&quot;Application Server was not connected before run configuration stop, reason: Unable to ping server at localhost:7001&quot;.</p>\n<p>How can I solve this error?</p>\n"},{"tags":["java","option-type","supplier"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1667395010,"post_id":74289745,"comment_id":131156267,"body_markdown":"You first would have to check whether the `Optional` returned by `supplier` is present or not. Only then could you unwrap the optional to access the element","body":"You first would have to check whether the <code>Optional</code> returned by <code>supplier</code> is present or not. Only then could you unwrap the optional to access the element"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667395040,"post_id":74289745,"comment_id":131156279,"body_markdown":"I&#39;d say it should be `T item = supplier.get().get();`. The first `get()` is the one in `Supplier` which returns the optional, the second `get()` is the one in `Optional` and might be replaced by `orElse(someDefaultValue)`. Of course if your `Maybe` has a method `of(Optional&lt;T&gt;)` then just use `return Maybe.of(supplier.get());`.","body":"I&#39;d say it should be <code>T item = supplier.get().get();</code>. The first <code>get()</code> is the one in <code>Supplier</code> which returns the optional, the second <code>get()</code> is the one in <code>Optional</code> and might be replaced by <code>orElse(someDefaultValue)</code>. Of course if your <code>Maybe</code> has a method <code>of(Optional&lt;T&gt;)</code> then just use <code>return Maybe.of(supplier.get());</code>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":4,"creation_date":1667395165,"post_id":74289745,"comment_id":131156347,"body_markdown":"Shouldn&#39;t the signature of your method be `Maybe&lt;T&gt; or(Supplier&lt;? extends Maybe&lt;? extends T&gt;&gt; supplier)`? In that case if your Maybe is empty you should just `return supplier.get();`.","body":"Shouldn&#39;t the signature of your method be <code>Maybe&lt;T&gt; or(Supplier&lt;? extends Maybe&lt;? extends T&gt;&gt; supplier)</code>? In that case if your Maybe is empty you should just <code>return supplier.get();</code>."},{"owner":{"account_id":22597918,"reputation":83,"user_id":16779934,"display_name":"Disdainty"},"score":0,"creation_date":1667395772,"post_id":74289745,"comment_id":131156600,"body_markdown":"Sorry I messed up the class name. I have corrected it.","body":"Sorry I messed up the class name. I have corrected it."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667580312,"post_id":74289745,"comment_id":131207886,"body_markdown":"There’s still a spurious `MayBe` in your `Optional` type. And I suppose, `thing` should be `item`…","body":"There’s still a spurious <code>MayBe</code> in your <code>Optional</code> type. And I suppose, <code>thing</code> should be <code>item</code>…"}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667397075,"creation_date":1667396790,"answer_id":74290239,"question_id":74289745,"body_markdown":"You just need to replace\r\n\r\n```\r\n    T item = supplier.get().item;\r\n    return Maybe.&lt;T&gt;of(item);\r\n```\r\nwith\r\n```\r\n    return (Optional&lt;T&gt;)supplier.get();\r\n```\r\n","title":"Implementation a variation of `Optional.or()` method","body":"<p>You just need to replace</p>\n<pre><code>    T item = supplier.get().item;\n    return Maybe.&lt;T&gt;of(item);\n</code></pre>\n<p>with</p>\n<pre><code>    return (Optional&lt;T&gt;)supplier.get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667581602,"creation_date":1667581602,"answer_id":74320648,"question_id":74289745,"body_markdown":"First, you need to recall that you can not access a `private` field through an instance of a subtype, even though assigning the subtype reference to a variable of the current type, which allows the access, is possible without cast.\r\n\r\nSo if you have\r\n\r\n```java\r\npublic class ClassWithPrivateField {\r\n    private String field;\r\n  \r\n    static class Subclass extends ClassWithPrivateField {}\r\n  \r\n    void someMethod(Subclass obj) {\r\n        String s = obj.field; // does not work, you can&#39;t access field through Subclass\r\n    }\r\n}\r\n```\r\n\r\nyou may write\r\n\r\n```java\r\npublic class ClassWithPrivateField {\r\n    private String field;\r\n  \r\n    static class Subclass extends ClassWithPrivateField {}\r\n  \r\n    void someMethod(Subclass obj) {\r\n        ClassWithPrivateField withBroaderType = obj; // always works\r\n        String s = withBroaderType.field; // now, no problem to access field\r\n    }\r\n}\r\n```\r\n\r\nNow to your more complicated generic variant. If you have\r\n\r\n```java\r\npublic class Optional&lt;T&gt; {\r\n    private final T item;\r\n  \r\n    private Optional(T t) {\r\n      item = t;\r\n    }\r\n  \r\n    Optional&lt;T&gt; or(Supplier&lt;? extends Optional&lt;? extends T&gt;&gt; supplier) {\r\n        if(this.item == null) {\r\n            T item = supplier.get().item;\r\n            return Optional.of(item);\r\n        }\r\n        else return this;\r\n    }\r\n  \r\n    private static &lt;T&gt; Optional&lt;T&gt; of(T item2) {\r\n      return new Optional&lt;&gt;(item2);\r\n    }\r\n}\r\n```\r\nthe access to `item` is rejected by the compiler because the type returned by the supplier is `? extends Optional&lt;? extends T&gt;` which is a *subtype of* `Optional&lt;? extends T&gt;`, just the same way as `Subclass` is a subtype of `ClassWithPrivateField`.\r\n\r\nYou can fix the issue the same way, by introducing a variable:\r\n\r\n```java\r\npublic class Optional&lt;T&gt; {\r\n    private final T item;\r\n  \r\n    private Optional(T t) {\r\n      item = t;\r\n    }\r\n  \r\n    Optional&lt;T&gt; or(Supplier&lt;? extends Optional&lt;? extends T&gt;&gt; supplier) {\r\n        if(this.item == null) {\r\n            Optional&lt;? extends T&gt; optional = supplier.get(); // valid assignment\r\n            T item = optional.item; // valid access\r\n            return Optional.of(item);\r\n        }\r\n        else return this;\r\n    }\r\n  \r\n    private static &lt;T&gt; Optional&lt;T&gt; of(T item2) {\r\n      return new Optional&lt;&gt;(item2);\r\n    }\r\n}\r\n```\r\n\r\nAlternatively, you could insert a type cast to `Optional&lt;? extends T&gt;` like\r\n\r\n```java\r\nT item = ((Optional&lt;? extends T&gt;)supplier.get()).item;\r\n```\r\n\r\nbut I would prefer the variant with a variable as it immediately shows to the reader that the assignment (without a cast) is a valid type transition which can never fail. The type cast can not fail either and is a no-op at runtime, but its syntax is indistinguishable from type casts performing a runtime check that could fail.\r\n","title":"Implementation a variation of `Optional.or()` method","body":"<p>First, you need to recall that you can not access a <code>private</code> field through an instance of a subtype, even though assigning the subtype reference to a variable of the current type, which allows the access, is possible without cast.</p>\n<p>So if you have</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassWithPrivateField {\n    private String field;\n  \n    static class Subclass extends ClassWithPrivateField {}\n  \n    void someMethod(Subclass obj) {\n        String s = obj.field; // does not work, you can't access field through Subclass\n    }\n}\n</code></pre>\n<p>you may write</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassWithPrivateField {\n    private String field;\n  \n    static class Subclass extends ClassWithPrivateField {}\n  \n    void someMethod(Subclass obj) {\n        ClassWithPrivateField withBroaderType = obj; // always works\n        String s = withBroaderType.field; // now, no problem to access field\n    }\n}\n</code></pre>\n<p>Now to your more complicated generic variant. If you have</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Optional&lt;T&gt; {\n    private final T item;\n  \n    private Optional(T t) {\n      item = t;\n    }\n  \n    Optional&lt;T&gt; or(Supplier&lt;? extends Optional&lt;? extends T&gt;&gt; supplier) {\n        if(this.item == null) {\n            T item = supplier.get().item;\n            return Optional.of(item);\n        }\n        else return this;\n    }\n  \n    private static &lt;T&gt; Optional&lt;T&gt; of(T item2) {\n      return new Optional&lt;&gt;(item2);\n    }\n}\n</code></pre>\n<p>the access to <code>item</code> is rejected by the compiler because the type returned by the supplier is <code>? extends Optional&lt;? extends T&gt;</code> which is a <em>subtype of</em> <code>Optional&lt;? extends T&gt;</code>, just the same way as <code>Subclass</code> is a subtype of <code>ClassWithPrivateField</code>.</p>\n<p>You can fix the issue the same way, by introducing a variable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Optional&lt;T&gt; {\n    private final T item;\n  \n    private Optional(T t) {\n      item = t;\n    }\n  \n    Optional&lt;T&gt; or(Supplier&lt;? extends Optional&lt;? extends T&gt;&gt; supplier) {\n        if(this.item == null) {\n            Optional&lt;? extends T&gt; optional = supplier.get(); // valid assignment\n            T item = optional.item; // valid access\n            return Optional.of(item);\n        }\n        else return this;\n    }\n  \n    private static &lt;T&gt; Optional&lt;T&gt; of(T item2) {\n      return new Optional&lt;&gt;(item2);\n    }\n}\n</code></pre>\n<p>Alternatively, you could insert a type cast to <code>Optional&lt;? extends T&gt;</code> like</p>\n<pre class=\"lang-java prettyprint-override\"><code>T item = ((Optional&lt;? extends T&gt;)supplier.get()).item;\n</code></pre>\n<p>but I would prefer the variant with a variable as it immediately shows to the reader that the assignment (without a cast) is a valid type transition which can never fail. The type cast can not fail either and is a no-op at runtime, but its syntax is indistinguishable from type casts performing a runtime check that could fail.</p>\n"}],"owner":{"account_id":22597918,"reputation":83,"user_id":16779934,"display_name":"Disdainty"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74320648,"answer_count":2,"score":1,"last_activity_date":1667726861,"creation_date":1667394741,"question_id":74289745,"body_markdown":"I am currently learning about the functionalities of the Optional class, and I am trying to build a simplified version of the Optional class. I was able to code `ifPresent()`, `filter()`, `of()`, `map()` and so on. However, I am currently stuck with the implementing `or()`.\r\n\r\nI know that `or()` have the signature `Optional&lt;T&gt; or(Supplier&lt;? extends Optional&lt;? extends T&gt;&gt; supplier)`. However, my implementation assumed that I can access the contents of the Optional. As show below:\r\n\r\n```\r\nclass Optional&lt;T&gt; {\r\n    private final T item;\r\n    ...\r\n\r\n    Optional&lt;T&gt; or(Supplier&lt;? extends Optional&lt;? extends T&gt;&gt; supplier) {\r\n        if (this.item == null) {\r\n            T item = supplier.get().item;\r\n            return Maybe.&lt;T&gt;of(item);\r\n        } else {\r\n            return this;\r\n        }\r\n    }\r\n}\r\n```\r\nAs you can see, `T item = supplier.get().item` would throw an error saying that `.item` is inaccessible due to it being private. How am I able to access the `item` without causing this error?\r\n","title":"Implementation a variation of `Optional.or()` method","body":"<p>I am currently learning about the functionalities of the Optional class, and I am trying to build a simplified version of the Optional class. I was able to code <code>ifPresent()</code>, <code>filter()</code>, <code>of()</code>, <code>map()</code> and so on. However, I am currently stuck with the implementing <code>or()</code>.</p>\n<p>I know that <code>or()</code> have the signature <code>Optional&lt;T&gt; or(Supplier&lt;? extends Optional&lt;? extends T&gt;&gt; supplier)</code>. However, my implementation assumed that I can access the contents of the Optional. As show below:</p>\n<pre><code>class Optional&lt;T&gt; {\n    private final T item;\n    ...\n\n    Optional&lt;T&gt; or(Supplier&lt;? extends Optional&lt;? extends T&gt;&gt; supplier) {\n        if (this.item == null) {\n            T item = supplier.get().item;\n            return Maybe.&lt;T&gt;of(item);\n        } else {\n            return this;\n        }\n    }\n}\n</code></pre>\n<p>As you can see, <code>T item = supplier.get().item</code> would throw an error saying that <code>.item</code> is inaccessible due to it being private. How am I able to access the <code>item</code> without causing this error?</p>\n"},{"tags":["java","angularjs","json","resteasy"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1452664100,"post_id":34759172,"comment_id":57263921,"body_markdown":"`headers: {&#39;Content-Type&#39;: &#39;application/Json&#39;},` should be `headers: {&#39;Content-Type&#39;: &#39;application/json&#39;}` and btw why multiple Answers in your json?","body":"<code>headers: {&#39;Content-Type&#39;: &#39;application&#47;Json&#39;},</code> should be <code>headers: {&#39;Content-Type&#39;: &#39;application&#47;json&#39;}</code> and btw why multiple Answers in your json?"},{"owner":{"account_id":6482612,"reputation":4553,"user_id":5019163,"accept_rate":89,"display_name":"Pawan B"},"score":0,"creation_date":1452664401,"post_id":34759172,"comment_id":57264014,"body_markdown":"this might help u : http://stackoverflow.com/questions/19143971/http-status-405-method-not-allowed-error-for-rest-api","body":"this might help u : <a href=\"http://stackoverflow.com/questions/19143971/http-status-405-method-not-allowed-error-for-rest-api\" title=\"http status 405 method not allowed error for rest api\">stackoverflow.com/questions/19143971/&hellip;</a>"},{"owner":{"account_id":4211717,"reputation":63,"user_id":3449214,"accept_rate":20,"display_name":"user3449214"},"score":0,"creation_date":1452664614,"post_id":34759172,"comment_id":57264095,"body_markdown":"I changed the {&#39;Content-Type&#39;: &#39;application/Json&#39;} to{&#39;Content-Type&#39;: &#39;application/json&#39;}  but still getting the same error","body":"I changed the {&#39;Content-Type&#39;: &#39;application/Json&#39;} to{&#39;Content-Type&#39;: &#39;application/json&#39;}  but still getting the same error"}],"answers":[{"tags":[],"owner":{"account_id":2085985,"reputation":2713,"user_id":1856970,"accept_rate":100,"display_name":"ChrisSwires"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1452671281,"creation_date":1452664423,"answer_id":34759335,"question_id":34759172,"body_markdown":"Your web service code is expecting a GET request and you are sending a POST. \r\n\r\nIn this scenario I would expect a 405. \r\n\r\nChange:\r\n\r\n    @GET\r\n    @Path(&quot;/Answers&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n\r\nTo:\r\n\r\n    @POST\r\n    @Path(&quot;/Answers&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n\r\nAs pointed out below however this will get you past the 405 (as you&#39;ll be using the correct http request method however your java service will still not work. You&#39;re endpoint is expecting a string and your POST&#39;ing a json file. You will need to return a response and will need to parse the json within your java unless I&#39;m very much mistaken. I have little experience with java and thus cannot help there. ","title":"Sending request with JSON returns error 405 :Method not allowed","body":"<p>Your web service code is expecting a GET request and you are sending a POST. </p>\n\n<p>In this scenario I would expect a 405. </p>\n\n<p>Change:</p>\n\n<pre><code>@GET\n@Path(\"/Answers\")\n@Produces(MediaType.TEXT_PLAIN)\n@Consumes(MediaType.APPLICATION_JSON)\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>@POST\n@Path(\"/Answers\")\n@Produces(MediaType.TEXT_PLAIN)\n@Consumes(MediaType.APPLICATION_JSON)\n</code></pre>\n\n<p>As pointed out below however this will get you past the 405 (as you'll be using the correct http request method however your java service will still not work. You're endpoint is expecting a string and your POST'ing a json file. You will need to return a response and will need to parse the json within your java unless I'm very much mistaken. I have little experience with java and thus cannot help there. </p>\n"},{"tags":[],"owner":{"account_id":898124,"reputation":7147,"user_id":934960,"accept_rate":72,"display_name":"Raunak Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452666765,"creation_date":1452666216,"answer_id":34759745,"question_id":34759172,"body_markdown":"Your web service controller only declared a GET method implementation. You need to add the support for POST:\r\n\r\n    @POST\r\n    @Path(&quot;/Answers&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public Response setAnswers(String data) {\r\n    \r\n    }\r\n\r\nSince, your web-service doesn&#39;t support POST, 405 is expected.","title":"Sending request with JSON returns error 405 :Method not allowed","body":"<p>Your web service controller only declared a GET method implementation. You need to add the support for POST:</p>\n\n<pre><code>@POST\n@Path(\"/Answers\")\n@Consumes(MediaType.APPLICATION_JSON)\npublic Response setAnswers(String data) {\n\n}\n</code></pre>\n\n<p>Since, your web-service doesn't support POST, 405 is expected.</p>\n"},{"tags":[],"owner":{"account_id":2154139,"reputation":37,"user_id":1909756,"display_name":"kavsik"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1452666889,"creation_date":1452666462,"answer_id":34759802,"question_id":34759172,"body_markdown":"If the service requires only a single value (id) to retrieve the answers, instead of sending a JSON, you can send the id alone using the params attribute. But this will expose the id in the url.\r\n\r\nSample : $http.get(&quot;/url/&quot;, {params:{&quot;param1&quot;: val1, &quot;param2&quot;: val2}})\r\n.then(/* */)...\r\n\r\nNote : To check what type of request is sent from the browser to the service, in chrome\r\n1.Press Ctrl+F12. This opens up the debug dialogue.\r\n2.Refresh the page or call the service.\r\n3.In the network tab, all the request calls to the service will be recorded. click on the service url\r\n4. On the right side the request details will be presented. In that select the Headers tab. Checkout the Request Method:attribute under General section\r\n5. This will show you the type of request sent from the browser. This will confirm whether your changes got effect.","title":"Sending request with JSON returns error 405 :Method not allowed","body":"<p>If the service requires only a single value (id) to retrieve the answers, instead of sending a JSON, you can send the id alone using the params attribute. But this will expose the id in the url.</p>\n\n<p>Sample : $http.get(\"/url/\", {params:{\"param1\": val1, \"param2\": val2}})\n.then(/* */)...</p>\n\n<p>Note : To check what type of request is sent from the browser to the service, in chrome\n1.Press Ctrl+F12. This opens up the debug dialogue.\n2.Refresh the page or call the service.\n3.In the network tab, all the request calls to the service will be recorded. click on the service url\n4. On the right side the request details will be presented. In that select the Headers tab. Checkout the Request Method:attribute under General section\n5. This will show you the type of request sent from the browser. This will confirm whether your changes got effect.</p>\n"}],"owner":{"account_id":4211717,"reputation":63,"user_id":3449214,"accept_rate":20,"display_name":"user3449214"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9580,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1667726861,"creation_date":1452663684,"question_id":34759172,"body_markdown":"I am trying to send `intakeanswers.json` from AngularJS form by clicking on the Edit button to java web service but I am getting an ERROR:\r\n&gt; &quot;405 Method not allowed&quot;. \r\n\r\nIs my JSON fine?\r\n\r\nAngularJS and HTML:\r\n\r\n````html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html ng-app=&quot;myappp&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n        &lt;title&gt;Insert title here&lt;/title&gt;\r\n        &lt;script src=&quot;lib/js/angular.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;lib/js/angular-route.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;lib/js/angular-ui-router.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body ng-controller=&quot;edit_ctrl&quot;&gt;\r\n\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n            var myapp = angular.module(&#39;myappp&#39;, []);\r\n            myapp.controller(&#39;edit_ctrl&#39;, function($scope, $http) {\r\n           \t    $http.get(&quot;data/intakeanswers.json&quot;).success(function(data) {\r\n        \t\t    $scope.dataJson=data;\r\n        \t\t});\r\n        \t    $scope.doEdit = function() {\r\n        \t\t    $scope.dataJs = angular.copy($scope.dataJson);\r\n        \t\t\tvar dat = angular.toJson($scope.dataJs);\r\n        \t\t\talert(&quot;hi&quot;);\r\n        \t\t\t$http({\r\n                         url: &quot;http://localhost:8080/...../FormAnswers/Answers&quot;,\r\n                         method: &#39;POST&#39;,\r\n                         data: dat,\r\n                         headers: {&#39;Content-Type&#39;: &#39;application/Json&#39;},\r\n                    })\r\n                };        \t\r\n            });\r\n        &lt;/script&gt;\r\n        &lt;button ng-click=&quot;doEdit()&quot;&gt;Edit&lt;/button&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\nJava rest web service code:\r\n\r\n````java\r\n@Path(&quot;/FormAnswers&quot;)\r\npublic class FormAnswersService {\r\n\r\n    private static final Logger logger = Logger.getLogger(FormAnswersService.class);\r\n\r\n    @GET\r\n    @Path(&quot;/Answers&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public String getAnswers(String id) {\r\n        try {    \t\r\n    \t    System.out.println(id);\t\t\r\n        }\r\n        catch(Exception e) {\r\n    \t    logger.error(e.getMessage());        \t\r\n        }\r\n        return &quot;response&quot;;\t\r\n    }\r\n}\r\n````\r\n\r\nJSON:\r\n\r\n````json\r\n{ \r\n    &quot;User_Id&quot;: &quot;abcd&quot;,\r\n    &quot;Form_Name&quot;: &quot;Form&quot;,\r\n    &quot;Answers&quot;: [{\r\n            &quot;Question_Id&quot;: &quot;1&quot;,\r\n            &quot;Answer&quot; :&quot;a&quot;\r\n        },\r\n        {\r\n            &quot;Question_Id&quot;: &quot;2&quot;,\r\n            &quot;Answer&quot; :&quot;b&quot;\r\n        },\r\n        {\r\n            &quot;Question_Id&quot;: &quot;3&quot;,\r\n            &quot;Answer&quot; :&quot;c&quot;\r\n        }\r\n    ],\r\n    &quot;Section_Name&quot;: &quot;Project Overview&quot;,\r\n    &quot;Answers&quot;: [{\r\n            &quot;Question_Id&quot;: &quot;4&quot;,\r\n            &quot;Answer&quot; :&quot;d&quot;\r\n        },\r\n        {\r\n            &quot;Question_Id&quot;: &quot;5&quot;,\r\n            &quot;Answer&quot; :&quot;e&quot;\r\n        },\r\n        {\r\n            &quot;Question_Id&quot;: &quot;6&quot;,\r\n            &quot;Answer&quot; :&quot;f&quot;\r\n        }\r\n    ]       \r\n}\r\n````","title":"Sending request with JSON returns error 405 :Method not allowed","body":"<p>I am trying to send <code>intakeanswers.json</code> from AngularJS form by clicking on the Edit button to java web service but I am getting an ERROR:</p>\n<blockquote>\n<p>&quot;405 Method not allowed&quot;.</p>\n</blockquote>\n<p>Is my JSON fine?</p>\n<p>AngularJS and HTML:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html ng-app=&quot;myappp&quot;&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n        &lt;title&gt;Insert title here&lt;/title&gt;\n        &lt;script src=&quot;lib/js/angular.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;lib/js/angular-route.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;lib/js/angular-ui-router.min.js&quot;&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body ng-controller=&quot;edit_ctrl&quot;&gt;\n\n        &lt;script type=&quot;text/javascript&quot;&gt;\n            var myapp = angular.module('myappp', []);\n            myapp.controller('edit_ctrl', function($scope, $http) {\n                $http.get(&quot;data/intakeanswers.json&quot;).success(function(data) {\n                    $scope.dataJson=data;\n                });\n                $scope.doEdit = function() {\n                    $scope.dataJs = angular.copy($scope.dataJson);\n                    var dat = angular.toJson($scope.dataJs);\n                    alert(&quot;hi&quot;);\n                    $http({\n                         url: &quot;http://localhost:8080/...../FormAnswers/Answers&quot;,\n                         method: 'POST',\n                         data: dat,\n                         headers: {'Content-Type': 'application/Json'},\n                    })\n                };          \n            });\n        &lt;/script&gt;\n        &lt;button ng-click=&quot;doEdit()&quot;&gt;Edit&lt;/button&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Java rest web service code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/FormAnswers&quot;)\npublic class FormAnswersService {\n\n    private static final Logger logger = Logger.getLogger(FormAnswersService.class);\n\n    @GET\n    @Path(&quot;/Answers&quot;)\n    @Produces(MediaType.TEXT_PLAIN)\n    @Consumes(MediaType.APPLICATION_JSON)\n    public String getAnswers(String id) {\n        try {       \n            System.out.println(id);     \n        }\n        catch(Exception e) {\n            logger.error(e.getMessage());           \n        }\n        return &quot;response&quot;;  \n    }\n}\n</code></pre>\n<p>JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n    &quot;User_Id&quot;: &quot;abcd&quot;,\n    &quot;Form_Name&quot;: &quot;Form&quot;,\n    &quot;Answers&quot;: [{\n            &quot;Question_Id&quot;: &quot;1&quot;,\n            &quot;Answer&quot; :&quot;a&quot;\n        },\n        {\n            &quot;Question_Id&quot;: &quot;2&quot;,\n            &quot;Answer&quot; :&quot;b&quot;\n        },\n        {\n            &quot;Question_Id&quot;: &quot;3&quot;,\n            &quot;Answer&quot; :&quot;c&quot;\n        }\n    ],\n    &quot;Section_Name&quot;: &quot;Project Overview&quot;,\n    &quot;Answers&quot;: [{\n            &quot;Question_Id&quot;: &quot;4&quot;,\n            &quot;Answer&quot; :&quot;d&quot;\n        },\n        {\n            &quot;Question_Id&quot;: &quot;5&quot;,\n            &quot;Answer&quot; :&quot;e&quot;\n        },\n        {\n            &quot;Question_Id&quot;: &quot;6&quot;,\n            &quot;Answer&quot; :&quot;f&quot;\n        }\n    ]       \n}\n</code></pre>\n"},{"tags":["java","mysql","docker","kubernetes","devops"],"comments":[{"owner":{"account_id":3520251,"reputation":114,"user_id":2942745,"display_name":"cogitoboy"},"score":0,"creation_date":1652387947,"post_id":72221702,"comment_id":127600893,"body_markdown":"Shouldn&#39;t  this\n\n`url: jdbc:mysql://mysqldb:3306/bootdb` be\n\n`url: jdbc:mysql://localhost:3306/bootdb` even for container deployment?","body":"Shouldn&#39;t  this  <code>url: jdbc:mysql:&#47;&#47;mysqldb:3306&#47;bootdb</code> be  <code>url: jdbc:mysql:&#47;&#47;localhost:3306&#47;bootdb</code> even for container deployment?"},{"owner":{"account_id":16495259,"reputation":17,"user_id":11918013,"display_name":"Bago"},"score":0,"creation_date":1652388357,"post_id":72221702,"comment_id":127601001,"body_markdown":"no. jdbc:mysql://localhost:3306/bootdb works when i call from local host","body":"no. jdbc:mysql://localhost:3306/bootdb works when i call from local host"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1652402958,"post_id":72221702,"comment_id":127603865,"body_markdown":"If you read through the Compose logs, is the application trying to connect before the database is ready?  The `links:` option is unnecessary and may activate an obsolete Docker networking mode; does deleting it make any difference?  (You should also be able to get rid of all of the `networks:` blocks but this wouldn&#39;t make a functional difference.)","body":"If you read through the Compose logs, is the application trying to connect before the database is ready?  The <code>links:</code> option is unnecessary and may activate an obsolete Docker networking mode; does deleting it make any difference?  (You should also be able to get rid of all of the <code>networks:</code> blocks but this wouldn&#39;t make a functional difference.)"},{"owner":{"account_id":16495259,"reputation":17,"user_id":11918013,"display_name":"Bago"},"score":0,"creation_date":1652425473,"post_id":72221702,"comment_id":127607521,"body_markdown":"I used without Networks and links as well. ghis is not a problem","body":"I used without Networks and links as well. ghis is not a problem"}],"answers":[{"tags":[],"owner":{"account_id":16075718,"reputation":1850,"user_id":11602968,"display_name":"Bguess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652685610,"creation_date":1652685610,"answer_id":72255450,"question_id":72221702,"body_markdown":"Add the `hostname` field in your docker compose like this:\r\n\r\n    version: &quot;3&quot;\r\n    services:\r\n      mysqldb:\r\n        image: mysql\r\n        hostname: mysqldb\r\n        ports:\r\n          - &quot;3306:3306&quot;\r\n        environment:\r\n          MYSQL_ROOT_PASSWORD: root\r\n          MYSQL_DATABASE: bootdb\r\n      employee-jdbc:\r\n        image: bago1/student:latest\r\n        restart: always\r\n        build: .\r\n        ports:\r\n          - 8080:8080\r\n        depends_on:\r\n          - mysqldb\r\n        links:\r\n          - mysqldb\r\n\r\n\r\n(Ps: don&#39;t need the add the `networks` field, the use of docker-compose creates automatically a network for your services)\r\n\r\n(PS2: it&#39;s a good practice to use tag when using images (instead of using mysql:latest) )\r\n","title":"Spring Boot container cannot connect to My SQL container","body":"<p>Add the <code>hostname</code> field in your docker compose like this:</p>\n<pre><code>version: &quot;3&quot;\nservices:\n  mysqldb:\n    image: mysql\n    hostname: mysqldb\n    ports:\n      - &quot;3306:3306&quot;\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: bootdb\n  employee-jdbc:\n    image: bago1/student:latest\n    restart: always\n    build: .\n    ports:\n      - 8080:8080\n    depends_on:\n      - mysqldb\n    links:\n      - mysqldb\n</code></pre>\n<p>(Ps: don't need the add the <code>networks</code> field, the use of docker-compose creates automatically a network for your services)</p>\n<p>(PS2: it's a good practice to use tag when using images (instead of using mysql:latest) )</p>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667726697,"creation_date":1667726697,"answer_id":74334600,"question_id":72221702,"body_markdown":"Remove ports configuration of MySQL container and insert:\r\n\r\n```yaml\r\n    expose:\r\n      - 3306\r\n```","title":"Spring Boot container cannot connect to My SQL container","body":"<p>Remove ports configuration of MySQL container and insert:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    expose:\n      - 3306\n</code></pre>\n"}],"owner":{"account_id":16495259,"reputation":17,"user_id":11918013,"display_name":"Bago"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667726697,"creation_date":1652387049,"question_id":72221702,"body_markdown":"I have read all questions related the issue and controlled all points. It seems everything is ok with my codes but it doesn&#39;t connect anyway. \r\nI got CONNECTION REFUSED error when I try to connect from container. (BTW. Everything is fine when I change URL and try to connect from localhost)\r\n\r\nMy java project \r\n\r\n    spring:\r\n      datasource:\r\n       url: jdbc:mysql://mysqldb:3306/bootdb\r\n       username: root\r\n       password: root\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n        hibernate:\r\n          ddl-auto: update\r\n        database-platform: org.hibernate.dialect.MySQL5Dialect\r\n        generate-ddl: true\r\n\r\nMy docker-compose file\r\n\r\n    version: &quot;3&quot;\r\n    services:\r\n      mysqldb:\r\n        image: mysql\r\n        ports:\r\n          - &quot;3306:3306&quot;\r\n        environment:\r\n          MYSQL_ROOT_PASSWORD: root\r\n          MYSQL_DATABASE: bootdb\r\n        networks:\r\n          - testnetwork\r\n      employee-jdbc:\r\n        image: bago1/student:latest\r\n        restart: always\r\n        build: .\r\n        ports:\r\n          - 8080:8080\r\n        networks:\r\n          - testnetwork\r\n        depends_on:\r\n          - mysqldb\r\n        links:\r\n          - mysqldb\r\n    networks:\r\n      testnetwork:\r\n\r\n\r\nIt successfully connects from my local host machine when I edit URL as  \r\n\r\n    url: jdbc:mysql://mysqldb:3306/bootdb\r\n\r\n 1. DB works fine\r\n 2. They are on the same network\r\n 3. syntax is fine\r\n","title":"Spring Boot container cannot connect to My SQL container","body":"<p>I have read all questions related the issue and controlled all points. It seems everything is ok with my codes but it doesn't connect anyway.\nI got CONNECTION REFUSED error when I try to connect from container. (BTW. Everything is fine when I change URL and try to connect from localhost)</p>\n<p>My java project</p>\n<pre><code>spring:\n  datasource:\n   url: jdbc:mysql://mysqldb:3306/bootdb\n   username: root\n   password: root\n  jpa:\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n    hibernate:\n      ddl-auto: update\n    database-platform: org.hibernate.dialect.MySQL5Dialect\n    generate-ddl: true\n</code></pre>\n<p>My docker-compose file</p>\n<pre><code>version: &quot;3&quot;\nservices:\n  mysqldb:\n    image: mysql\n    ports:\n      - &quot;3306:3306&quot;\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: bootdb\n    networks:\n      - testnetwork\n  employee-jdbc:\n    image: bago1/student:latest\n    restart: always\n    build: .\n    ports:\n      - 8080:8080\n    networks:\n      - testnetwork\n    depends_on:\n      - mysqldb\n    links:\n      - mysqldb\nnetworks:\n  testnetwork:\n</code></pre>\n<p>It successfully connects from my local host machine when I edit URL as</p>\n<pre><code>url: jdbc:mysql://mysqldb:3306/bootdb\n</code></pre>\n<ol>\n<li>DB works fine</li>\n<li>They are on the same network</li>\n<li>syntax is fine</li>\n</ol>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9088,"page":904,"page_size":100}
