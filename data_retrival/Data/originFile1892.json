{"items":[{"tags":["java","tree","nodes"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":1,"creation_date":1491681086,"post_id":43299671,"comment_id":73664843,"body_markdown":"To verify your answer, simply draw out trees of increasing height on a piece of paper starting from `K = 1`; this way, you&#39;ll be able to verify your formula quickly.","body":"To verify your answer, simply draw out trees of increasing height on a piece of paper starting from <code>K = 1</code>; this way, you&#39;ll be able to verify your formula quickly."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1491682431,"post_id":43299671,"comment_id":73665359,"body_markdown":"Did you mean `2^(k+1) - 1`?","body":"Did you mean <code>2^(k+1) - 1</code>?"},{"owner":{"account_id":8127067,"reputation":105,"user_id":6121648,"display_name":"MD9"},"score":0,"creation_date":1491682617,"post_id":43299671,"comment_id":73665416,"body_markdown":"^ Yes I did I changed it","body":"^ Yes I did I changed it"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1491682650,"post_id":43299671,"comment_id":73665427,"body_markdown":"Answer depends on how many branches a node can handle. [Trees](https://en.wikipedia.org/wiki/Tree_(data_structure)) don&#39;t have to be [binary](https://en.wikipedia.org/wiki/Binary_tree), i.e. nodes with 2 branches. They can have more.","body":"Answer depends on how many branches a node can handle. <a href=\"https://en.wikipedia.org/wiki/Tree_(data_structure)\" rel=\"nofollow noreferrer\">Trees</a> don&#39;t have to be <a href=\"https://en.wikipedia.org/wiki/Binary_tree\" rel=\"nofollow noreferrer\">binary</a>, i.e. nodes with 2 branches. They can have more."},{"owner":{"account_id":8127067,"reputation":105,"user_id":6121648,"display_name":"MD9"},"score":0,"creation_date":1491682954,"post_id":43299671,"comment_id":73665515,"body_markdown":"@Andreas I think in this instance a node can handle two branches. Could you explain further what you mean?","body":"@Andreas I think in this instance a node can handle two branches. Could you explain further what you mean?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1491683390,"post_id":43299671,"comment_id":73665646,"body_markdown":"Typically, trees are binary, where a node has a single value, and you follow left branch or right branch, depending on search value relative to the node value. However, a node could have multiple branch values, e.g. a node could have values `4, 9, 13`, with 4 branches leaving the node. The number of branches may not even be constant in a single tree. This is common if nodes are stored on disk, where you might want a node to fill a disk sector, to reduce the number of node lookups (disk reads) to navigate the tree. Most RDBMS indexes are built that way.","body":"Typically, trees are binary, where a node has a single value, and you follow left branch or right branch, depending on search value relative to the node value. However, a node could have multiple branch values, e.g. a node could have values <code>4, 9, 13</code>, with 4 branches leaving the node. The number of branches may not even be constant in a single tree. This is common if nodes are stored on disk, where you might want a node to fill a disk sector, to reduce the number of node lookups (disk reads) to navigate the tree. Most RDBMS indexes are built that way."}],"answers":[{"tags":[],"owner":{"account_id":9771273,"reputation":323,"user_id":7243054,"display_name":"Sergio Izquierdo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1491683134,"creation_date":1491681175,"answer_id":43299706,"question_id":43299671,"body_markdown":"I imagine you are talking about a binary tree, so the answer is easy. 2^k-1, so in your case 2^8-1 = 255.\r\n\r\nTake a tree of height k, if you add a new level you can duplicate the number of nodes by adding two nodes in each leaf. If you take the tree of height 1, it has 1 node, 2^1-1; height 2, 2^2-1=3‚Ä¶","title":"Maximum number of nodes that can be in a tree of height K?","body":"<p>I imagine you are talking about a binary tree, so the answer is easy. 2^k-1, so in your case 2^8-1 = 255.</p>\n\n<p>Take a tree of height k, if you add a new level you can duplicate the number of nodes by adding two nodes in each leaf. If you take the tree of height 1, it has 1 node, 2^1-1; height 2, 2^2-1=3‚Ä¶</p>\n"},{"tags":[],"owner":{"account_id":23209965,"reputation":1,"user_id":17303604,"display_name":"Mayur Borse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635802317,"creation_date":1635801699,"answer_id":69802920,"question_id":43299671,"body_markdown":"Yes you are correct. The max number  of nodes in a tree with height h (start as height of leaf node is 0) \r\n= (2^(h+1)) -1\r\n= (2^(8+1)) - 1 = (2^9) -1 =511\r\n\r\nThe height of a node in a binary tree is the largest number of edges in a path from a leaf node to a target node. \r\n\r\nThen for a tree with height 1, the maximum number of nodes is 3( one root node and 2 children=1+2). Same result from (2^(h+1)) -1 = (2^2)-1=3\r\n\r\nThen for a tree with height 2, the maximum number of nodes is 7( one root node and 2 children and then 2 children of each =1+2+4). Same result from (2^(h+1)) -1 = (2^3)-1=7\r\n\r\nThen for a tree with height 3, the maximum number of nodes is 15( one root node and 2 children and there 2 children for each again 2 children for each = 1+2+4+8). Same result from (2^(h+1)) -1 = (2^4)-1=15\r\n\r\n\r\nThis is my first answer on stackoverflow, Upvote to cheers &#127867;. \r\n\r\nYou can also check this geeksforgeeks link for more understanding\r\n\r\nhttps://www.geeksforgeeks.org/relationship-number-nodes-height-binary-tree/","title":"Maximum number of nodes that can be in a tree of height K?","body":"<p>Yes you are correct. The max number  of nodes in a tree with height h (start as height of leaf node is 0)\n= (2^(h+1)) -1\n= (2^(8+1)) - 1 = (2^9) -1 =511</p>\n<p>The height of a node in a binary tree is the largest number of edges in a path from a leaf node to a target node.</p>\n<p>Then for a tree with height 1, the maximum number of nodes is 3( one root node and 2 children=1+2). Same result from (2^(h+1)) -1 = (2^2)-1=3</p>\n<p>Then for a tree with height 2, the maximum number of nodes is 7( one root node and 2 children and then 2 children of each =1+2+4). Same result from (2^(h+1)) -1 = (2^3)-1=7</p>\n<p>Then for a tree with height 3, the maximum number of nodes is 15( one root node and 2 children and there 2 children for each again 2 children for each = 1+2+4+8). Same result from (2^(h+1)) -1 = (2^4)-1=15</p>\n<p>This is my first answer on stackoverflow, Upvote to cheers üçª.</p>\n<p>You can also check this geeksforgeeks link for more understanding</p>\n<p><a href=\"https://www.geeksforgeeks.org/relationship-number-nodes-height-binary-tree/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/relationship-number-nodes-height-binary-tree/</a></p>\n"}],"owner":{"account_id":8127067,"reputation":105,"user_id":6121648,"display_name":"MD9"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43299706,"answer_count":2,"score":1,"last_activity_date":1635802317,"creation_date":1491680933,"question_id":43299671,"body_markdown":"So, I&#39;m looking at the maximum number of nodes that can be in a tree of height 8.\r\n\r\nI believe the correct formula for this is 2^(k+1) - 1. Therefore 2^8+1 - 1 = 511.\r\nI am confused because I see a lot of different answers and material online.\r\n\r\nCan anyone confirm If I&#39;m correct/incorrect and shed some light\r\nThanks in advance","title":"Maximum number of nodes that can be in a tree of height K?","body":"<p>So, I'm looking at the maximum number of nodes that can be in a tree of height 8.</p>\n\n<p>I believe the correct formula for this is 2^(k+1) - 1. Therefore 2^8+1 - 1 = 511.\nI am confused because I see a lot of different answers and material online.</p>\n\n<p>Can anyone confirm If I'm correct/incorrect and shed some light\nThanks in advance</p>\n"},{"tags":["java","date","formatting"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1635834092,"post_id":69802951,"comment_id":123391442,"body_markdown":"Since you can use java.time, the modern Java date and time API, don‚Äôt also mix in the outdated and troublesome classes `Date` and `SimpleDateFormat` from Java 1.0 and 1.1. They will only add needless complication and unnecessary conversions. I recommend you throw them out of your code immediately.","body":"Since you can use java.time, the modern Java date and time API, don‚Äôt also mix in the outdated and troublesome classes <code>Date</code> and <code>SimpleDateFormat</code> from Java 1.0 and 1.1. They will only add needless complication and unnecessary conversions. I recommend you throw them out of your code immediately."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635834365,"post_id":69802951,"comment_id":123391503,"body_markdown":"Is there any point in having the user enter the current date? You are already getting it from `LocalDate.now()`.","body":"Is there any point in having the user enter the current date? You are already getting it from <code>LocalDate.now()</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1635834603,"post_id":69802951,"comment_id":123391568,"body_markdown":"For output in `mm-dd-yyyy` format define a formatter `DateTimeFormatter.ofPattern(&quot;MM-dd-uuuu&quot;)` and pass it to `LocalDate.format()`.","body":"For output in <code>mm-dd-yyyy</code> format define a formatter <code>DateTimeFormatter.ofPattern(&quot;MM-dd-uuuu&quot;)</code> and pass it to <code>LocalDate.format()</code>."}],"owner":{"account_id":23006749,"reputation":21,"user_id":17129910,"display_name":"oofalladeez343"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635803176,"answer_count":0,"score":0,"last_activity_date":1635801927,"creation_date":1635801927,"question_id":69802951,"body_markdown":"Thank you for looking at this. I am making a movie rental software. Where you can put in the information, then you can say how long you want to rent it. Well after you say how long the user needs to insert the current date. I am trying to get it where the user can input the current date in the format mm/dd/yyyy. I am also trying to get it where the output is in mm-dd-yyyy. How do I do this? Below is what I have so far. I currently have the format where it is (Name of Month) dd, yyyy. And the output is yyyy-mm-dd.\r\nI have used a few answers to different questions from here and it still did not help.\r\n\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeFormatterBuilder;\r\n    import java.util.Locale;\r\n    import java.time.format.FormatStyle;\r\n    import java.time.*;\r\n    import java.time.chrono.IsoChronology;\r\n    import java.text.SimpleDateFormat;\r\n    \r\n    public class MovieRental\r\n    {\r\n        private static final Locale defaultFormattingLocale = Locale.getDefault\r\n        (Locale.Category.FORMAT);\r\n        private static String defaultDateFormat = DateTimeFormatterBuilder.getLocalizedDateTimePattern\r\n        (FormatStyle.LONG, null, \r\n                IsoChronology.INSTANCE, defaultFormattingLocale);\r\n        private static final DateTimeFormatter dateFormatter \r\n        = DateTimeFormatter.ofPattern(defaultDateFormat, defaultFormattingLocale);\r\n        public static void main(String[ ] args)\r\n        {\r\n            String format = DateTimeFormatterBuilder.getLocalizedDateTimePattern\r\n            (FormatStyle.FULL, null, IsoChronology.INSTANCE, Locale.US);\r\n            LocalDate today = LocalDate.now();\r\n            Date date = new Date();\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;h:mm a&quot;);\r\n            Scanner in = new Scanner(System.in);\r\n            double rentalPrice = 1.25;\r\n            double federalSalestax = 0.04;\r\n            System.out.println(&quot;Hello, and thank you for using us to rent your movie.&quot;);\r\n            System.out.println(&quot;Please enter your first and last name: &quot;);\r\n            String firstName = in.next();\r\n            String lastName = in.nextLine();\r\n            char firstIn = firstName.charAt(0);\r\n            System.out.println(&quot;What movie would you like to rent?&quot;);\r\n            String movieTitle = in.nextLine();\r\n            //I used &quot;Halo: The Fall of Reach&quot; as an example. It is a real moviebased on Halo.\r\n            System.out.println(&quot;How many days are you wanting to keep \\&quot;&quot; + movieTitle + &quot;\\&quot;? &quot;);\r\n            String rentalLength = in.nextLine();\r\n            LocalDate dueDate\r\n            = (LocalDate.now().plusDays(Integer.parseInt(rentalLength)));\r\n            \r\n        \r\n            System.out.println(&quot;Enter date in &quot; + defaultDateFormat + &quot; format: &quot; );\r\n            //This says Month dd, 2021. I need to change it to mm/dd/yyyy.\r\n            String dateString = in.nextLine();\r\n            try {\r\n            LocalDate inputDate = LocalDate.parse(dateString, dateFormatter);\r\n            System.out.println(&quot;Date entered was &quot; + inputDate);\r\n            } catch (Exception dtpe) {\r\n            System.out.println(&quot;Invalid date: &quot; + dateString);\r\n            }\r\n            System.out.println(&quot;Please enter your card number: &quot;);\r\n            String cardNumber = in.nextLine();\r\n            String censoredCard = cardNumber.substring(10);\r\n            System.out.println(&quot;Please enter your PIN number: &quot;);\r\n            String pinNumber = in.nextLine();\r\n            double totalPrice = (rentalPrice * Integer.parseInt(rentalLength));\r\n            double taxedPrice = ((totalPrice * federalSalestax) + totalPrice);\r\n            \r\n            System.out.println(&quot;Account Charged: #####-###-&quot; + censoredCard);\r\n            System.out.println(&quot;Price: $&quot; + totalPrice);\r\n            System.out.println(&quot;Due Date: &quot; + dueDate);\r\n            System.out.println(&quot;Due Time: &quot; + sdf.format(date));\r\n            System.out.println(&quot;Thank you for your purchase.\\nEnjoy your rental!&quot;);\r\n        }\r\n    }\r\nBelow is an example of the output\r\n\r\n    Hello, and thank you for using us to rent your movie.\r\n    Please enter your first and last name: \r\n    Nate Dillard\r\n    What movie would you like to rent?\r\n    Halo: The Fall of Reach\r\n    How many days are you wanting to keep &quot;Halo: The Fall of Reach&quot;? \r\n    4\r\n    Enter date in MMMM d, y format: \r\n    November 1, 2021\r\n    Date entered was 2021-11-01\r\n    Please enter your card number: \r\n    87430-736-3439\r\n    Please enter your PIN number: \r\n    1764\r\n    Account Charged: #####-###-3439\r\n    Price: $5.0\r\n    Due Date: 2021-11-05\r\n    Due Time: 4:20 PM\r\n    Thank you for your purchase.\r\n    Enjoy your rental!\r\nThis is an unfinished project where the bottom portion(after I get this figured out with your help) will be formatted as an e-receipt.","title":"How can I get a date to be put into input? Then how can I get it to make a due date based on an undetermined rental period inputed by the user?","body":"<p>Thank you for looking at this. I am making a movie rental software. Where you can put in the information, then you can say how long you want to rent it. Well after you say how long the user needs to insert the current date. I am trying to get it where the user can input the current date in the format mm/dd/yyyy. I am also trying to get it where the output is in mm-dd-yyyy. How do I do this? Below is what I have so far. I currently have the format where it is (Name of Month) dd, yyyy. And the output is yyyy-mm-dd.\nI have used a few answers to different questions from here and it still did not help.</p>\n<pre><code>import java.util.*;\nimport java.text.*;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.util.Locale;\nimport java.time.format.FormatStyle;\nimport java.time.*;\nimport java.time.chrono.IsoChronology;\nimport java.text.SimpleDateFormat;\n\npublic class MovieRental\n{\n    private static final Locale defaultFormattingLocale = Locale.getDefault\n    (Locale.Category.FORMAT);\n    private static String defaultDateFormat = DateTimeFormatterBuilder.getLocalizedDateTimePattern\n    (FormatStyle.LONG, null, \n            IsoChronology.INSTANCE, defaultFormattingLocale);\n    private static final DateTimeFormatter dateFormatter \n    = DateTimeFormatter.ofPattern(defaultDateFormat, defaultFormattingLocale);\n    public static void main(String[ ] args)\n    {\n        String format = DateTimeFormatterBuilder.getLocalizedDateTimePattern\n        (FormatStyle.FULL, null, IsoChronology.INSTANCE, Locale.US);\n        LocalDate today = LocalDate.now();\n        Date date = new Date();\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;h:mm a&quot;);\n        Scanner in = new Scanner(System.in);\n        double rentalPrice = 1.25;\n        double federalSalestax = 0.04;\n        System.out.println(&quot;Hello, and thank you for using us to rent your movie.&quot;);\n        System.out.println(&quot;Please enter your first and last name: &quot;);\n        String firstName = in.next();\n        String lastName = in.nextLine();\n        char firstIn = firstName.charAt(0);\n        System.out.println(&quot;What movie would you like to rent?&quot;);\n        String movieTitle = in.nextLine();\n        //I used &quot;Halo: The Fall of Reach&quot; as an example. It is a real moviebased on Halo.\n        System.out.println(&quot;How many days are you wanting to keep \\&quot;&quot; + movieTitle + &quot;\\&quot;? &quot;);\n        String rentalLength = in.nextLine();\n        LocalDate dueDate\n        = (LocalDate.now().plusDays(Integer.parseInt(rentalLength)));\n        \n    \n        System.out.println(&quot;Enter date in &quot; + defaultDateFormat + &quot; format: &quot; );\n        //This says Month dd, 2021. I need to change it to mm/dd/yyyy.\n        String dateString = in.nextLine();\n        try {\n        LocalDate inputDate = LocalDate.parse(dateString, dateFormatter);\n        System.out.println(&quot;Date entered was &quot; + inputDate);\n        } catch (Exception dtpe) {\n        System.out.println(&quot;Invalid date: &quot; + dateString);\n        }\n        System.out.println(&quot;Please enter your card number: &quot;);\n        String cardNumber = in.nextLine();\n        String censoredCard = cardNumber.substring(10);\n        System.out.println(&quot;Please enter your PIN number: &quot;);\n        String pinNumber = in.nextLine();\n        double totalPrice = (rentalPrice * Integer.parseInt(rentalLength));\n        double taxedPrice = ((totalPrice * federalSalestax) + totalPrice);\n        \n        System.out.println(&quot;Account Charged: #####-###-&quot; + censoredCard);\n        System.out.println(&quot;Price: $&quot; + totalPrice);\n        System.out.println(&quot;Due Date: &quot; + dueDate);\n        System.out.println(&quot;Due Time: &quot; + sdf.format(date));\n        System.out.println(&quot;Thank you for your purchase.\\nEnjoy your rental!&quot;);\n    }\n}\n</code></pre>\n<p>Below is an example of the output</p>\n<pre><code>Hello, and thank you for using us to rent your movie.\nPlease enter your first and last name: \nNate Dillard\nWhat movie would you like to rent?\nHalo: The Fall of Reach\nHow many days are you wanting to keep &quot;Halo: The Fall of Reach&quot;? \n4\nEnter date in MMMM d, y format: \nNovember 1, 2021\nDate entered was 2021-11-01\nPlease enter your card number: \n87430-736-3439\nPlease enter your PIN number: \n1764\nAccount Charged: #####-###-3439\nPrice: $5.0\nDue Date: 2021-11-05\nDue Time: 4:20 PM\nThank you for your purchase.\nEnjoy your rental!\n</code></pre>\n<p>This is an unfinished project where the bottom portion(after I get this figured out with your help) will be formatted as an e-receipt.</p>\n"},{"tags":["java","biginteger","modulo","euclidean-algorithm"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1635797607,"post_id":69802076,"comment_id":123384653,"body_markdown":"There is no way to do &quot;noninteger&quot; division with BigInteger, and certainly no noninteger division is present in your code. The error occurs in the line `BigInteger[] vals = gcd(q, p.remainder(q));` because `q` eventually becomes 0. By checking the [gcd identities](https://en.wikipedia.org/wiki/Greatest_common_divisor#Properties) you can verify that gcd(0, a) = abs(a). Your code computes the gcd(0, a) as 0, which is wrong.","body":"There is no way to do &quot;noninteger&quot; division with BigInteger, and certainly no noninteger division is present in your code. The error occurs in the line <code>BigInteger[] vals = gcd(q, p.remainder(q));</code> because <code>q</code> eventually becomes 0. By checking the <a href=\"https://en.wikipedia.org/wiki/Greatest_common_divisor#Properties\" rel=\"nofollow noreferrer\">gcd identities</a> you can verify that gcd(0, a) = abs(a). Your code computes the gcd(0, a) as 0, which is wrong."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1635798104,"post_id":69802076,"comment_id":123384804,"body_markdown":"`q` must have been zero, as `remainder` and `divide` may complain. That might happen for an older p and q with `p.remainder(q)` being zero.","body":"<code>q</code> must have been zero, as <code>remainder</code> and <code>divide</code> may complain. That might happen for an older p and q with <code>p.remainder(q)</code> being zero."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1635803409,"post_id":69802076,"comment_id":123386334,"body_markdown":"`p.divide(q)` what makes you certain that `q` is never 0?","body":"<code>p.divide(q)</code> what makes you certain that <code>q</code> is never 0?"}],"answers":[{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635801544,"creation_date":1635798975,"answer_id":69802525,"question_id":69802076,"body_markdown":"Here is the working variant, produced by Github Copilot (verified by me):\r\n\r\n    // Returns a triple {d, a, b} such that d = a*p + b*q\r\n    static BigInteger[] extendedEuclidean(BigInteger p, BigInteger q) {\r\n        BigInteger[] val = new BigInteger[3];\r\n\r\n        if (q.equals(BigInteger.ZERO)) {\r\n            val[0] = p;\r\n            val[1] = BigInteger.ONE;\r\n            val[2] = BigInteger.ZERO;\r\n        } else {\r\n            BigInteger[] val2 = extendedEuclidean(q, p.mod(q));\r\n            val[0] = val2[0];\r\n            val[1] = val2[2];\r\n            val[2] = val2[1].subtract(p.divide(q).multiply(val2[2]));\r\n        }\r\n\r\n        return val;\r\n    }\r\n\r\n\r\nNote: when `p=0` it returns `q` and vice versa.\r\n\r\nThe difference from your code, is that it checks that `q != 0` (which is bound to become 0 at some point), instead of `p != 0`.\r\n\r\n\r\nTests:\r\n```\r\ninput: 9, 13\r\nd = 1, a = 3, b = -2\r\n\r\ninput: 2, 15\r\nd = 1, a = -7, b = 1\r\n\r\ninput: 9, 12\r\nd = 3, a = -1, b = 1\r\n\r\ninput: 0, 10\r\nd = 10, a = 0, b = 1\r\n\r\ninput: 0, 0\r\nd = 0, a = 1, b = 0\r\n\r\ninput: 1, 1\r\nd = 1, a = 0, b = 1\r\n\r\ninput: 3, 0\r\nd = 3, a = 1, b = 0\r\n```","title":"BigInteger Extended Euclidean Algorithm recursion error","body":"<p>Here is the working variant, produced by Github Copilot (verified by me):</p>\n<pre><code>// Returns a triple {d, a, b} such that d = a*p + b*q\nstatic BigInteger[] extendedEuclidean(BigInteger p, BigInteger q) {\n    BigInteger[] val = new BigInteger[3];\n\n    if (q.equals(BigInteger.ZERO)) {\n        val[0] = p;\n        val[1] = BigInteger.ONE;\n        val[2] = BigInteger.ZERO;\n    } else {\n        BigInteger[] val2 = extendedEuclidean(q, p.mod(q));\n        val[0] = val2[0];\n        val[1] = val2[2];\n        val[2] = val2[1].subtract(p.divide(q).multiply(val2[2]));\n    }\n\n    return val;\n}\n</code></pre>\n<p>Note: when <code>p=0</code> it returns <code>q</code> and vice versa.</p>\n<p>The difference from your code, is that it checks that <code>q != 0</code> (which is bound to become 0 at some point), instead of <code>p != 0</code>.</p>\n<p>Tests:</p>\n<pre><code>input: 9, 13\nd = 1, a = 3, b = -2\n\ninput: 2, 15\nd = 1, a = -7, b = 1\n\ninput: 9, 12\nd = 3, a = -1, b = 1\n\ninput: 0, 10\nd = 10, a = 0, b = 1\n\ninput: 0, 0\nd = 0, a = 1, b = 0\n\ninput: 1, 1\nd = 1, a = 0, b = 1\n\ninput: 3, 0\nd = 3, a = 1, b = 0\n</code></pre>\n"}],"owner":{"account_id":19631908,"reputation":39,"user_id":14370029,"display_name":"Ìó¨Ï∞ΩÍ≥µÎèåÏù¥"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69802525,"answer_count":1,"score":1,"last_activity_date":1635801544,"creation_date":1635796062,"question_id":69802076,"body_markdown":"I am trying to make an extended euclidean algorithm with the BigInteger.\r\nbut I am keeping getting the error that \r\n\r\nException in thread &quot;main&quot; java.lang.ArithmeticException: BigInteger divide by zero\r\n\r\nI searched on google and it says that I might get an error because of the noninteger division\r\n\r\nHow should I solve this problem? \r\n\t\r\n\tpublic static void main(String[] args) throws Exception{\r\n\r\n\t\tBigInteger ex1 = new BigInteger(&quot;9&quot;);\r\n\t\tBigInteger ex2 = new BigInteger(&quot;13&quot;);\r\n\t\t//if(eA.gcd(eB).equals(BigInteger.ONE))\r\n\t//\t{\r\n\t\t\tBigInteger[] val = gcd(ex1,ex2);\r\n\t\t\t\r\n\t\t\tSystem.out.println(val[1]);\r\n\t\t\tSystem.out.println(val[2]);\r\n\t//\t}\r\n\t}\r\n\r\n       // Returns a triple {d, a, b} such that d = a*p + b*q\r\n\r\n\t   static BigInteger[] gcd(BigInteger p, BigInteger q) {\r\n\t\t      if (p.equals(BigInteger.ZERO))\r\n\t\t         return new BigInteger[] { p, BigInteger.valueOf(1), BigInteger.valueOf(0) };\r\n\r\n\t\t      BigInteger[] vals = gcd(q, p.remainder(q));\r\n\t\t      BigInteger d = vals[0];\r\n\t\t      BigInteger a = vals[2];\r\n\t\t      BigInteger b = vals[1].subtract((p.divide(q)).multiply(vals[2]));\r\n\t\t      return new BigInteger[] { d, a, b };\r\n\t\t   }\r\n    }\r\n","title":"BigInteger Extended Euclidean Algorithm recursion error","body":"<p>I am trying to make an extended euclidean algorithm with the BigInteger.\nbut I am keeping getting the error that</p>\n<p>Exception in thread &quot;main&quot; java.lang.ArithmeticException: BigInteger divide by zero</p>\n<p>I searched on google and it says that I might get an error because of the noninteger division</p>\n<p>How should I solve this problem?</p>\n<pre><code>public static void main(String[] args) throws Exception{\n\n    BigInteger ex1 = new BigInteger(&quot;9&quot;);\n    BigInteger ex2 = new BigInteger(&quot;13&quot;);\n    //if(eA.gcd(eB).equals(BigInteger.ONE))\n//  {\n        BigInteger[] val = gcd(ex1,ex2);\n        \n        System.out.println(val[1]);\n        System.out.println(val[2]);\n//  }\n}\n\n   // Returns a triple {d, a, b} such that d = a*p + b*q\n\n   static BigInteger[] gcd(BigInteger p, BigInteger q) {\n          if (p.equals(BigInteger.ZERO))\n             return new BigInteger[] { p, BigInteger.valueOf(1), BigInteger.valueOf(0) };\n\n          BigInteger[] vals = gcd(q, p.remainder(q));\n          BigInteger d = vals[0];\n          BigInteger a = vals[2];\n          BigInteger b = vals[1].subtract((p.divide(q)).multiply(vals[2]));\n          return new BigInteger[] { d, a, b };\n       }\n}\n</code></pre>\n"},{"tags":["java","plugins","minecraft","bukkit"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635801290,"creation_date":1635798483,"answer_id":69802467,"question_id":69802393,"body_markdown":"You can execute command as player :\r\n\r\n```java\r\nevent.getPlayer().performCommand(&quot;mycommand&quot;);\r\n```\r\nBut, it will not if the player don&#39;t have enough permission.\r\n\r\nTo run command as console, use this :\r\n```java\r\nBukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;mycommand&quot;);\r\n```\r\n\r\nAlso, you don&#39;t need the `/` at the beginning of command because it&#39;s only to say that it&#39;s a command and it can change between players.\r\n\r\nWarn: you should run those code in sync. If you are async (specially from `AsyncEvent`), you should use this code :\r\n\r\n```java\r\nBukkit.getScheduler().runTask(plugin, () -&gt; {\r\n   // my code\r\n   player.performCommand(&quot;kill&quot;);\r\n});\r\n```","title":"I have a minecraft plugin that detects swear words. How do I execute commands when the player curses?","body":"<p>You can execute command as player :</p>\n<pre class=\"lang-java prettyprint-override\"><code>event.getPlayer().performCommand(&quot;mycommand&quot;);\n</code></pre>\n<p>But, it will not if the player don't have enough permission.</p>\n<p>To run command as console, use this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;mycommand&quot;);\n</code></pre>\n<p>Also, you don't need the <code>/</code> at the beginning of command because it's only to say that it's a command and it can change between players.</p>\n<p>Warn: you should run those code in sync. If you are async (specially from <code>AsyncEvent</code>), you should use this code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bukkit.getScheduler().runTask(plugin, () -&gt; {\n   // my code\n   player.performCommand(&quot;kill&quot;);\n});\n</code></pre>\n"}],"owner":{"account_id":22086906,"reputation":5,"user_id":16345614,"display_name":"BeamCRASH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69802467,"answer_count":1,"score":0,"last_activity_date":1635801290,"creation_date":1635798054,"question_id":69802393,"body_markdown":"Sa as the title says, I have a plugin that detects swear words. What it does now is that it sends a message to the player. But I also want it to execute a command that is already in the game or from another plugin. I&#39;m not sure how to do this. How is that done?\r\nHere is my current code:\r\n\r\n```\r\npackage\r\n\r\n\r\n\r\nimport com.beam.sweardetector.SwearDetector;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.AsyncPlayerChatEvent;\r\nimport org.bukkit.event.player.PlayerJoinEvent;\r\n\r\n\r\npublic class EventsClass implements Listener {\r\n    SwearDetector plugin = SwearDetector.getPlugin(SwearDetector.class);\r\n   @EventHandler\r\n    public void onPlayerJoinEvent(PlayerJoinEvent event) {\r\n       Player player = event.getPlayer();\r\n       player.sendMessage(ChatColor.GOLD + &quot;This server is running AntiSwear v1.0 by BeamCRASH&quot;);\r\n   }\r\n\r\n   @EventHandler\r\n    public void chatevent (AsyncPlayerChatEvent event) {\r\n       for(String s: event.getMessage().split(&quot; &quot;)) {\r\n           if(plugin.getConfig().getStringList(&quot;swears&quot;).contains(s)) {\r\n               event.setCancelled(true);\r\n               event.getPlayer().sendMessage(ChatColor.DARK_RED + &quot;&#167;lSwearing is not allowed on this server!&quot;);\r\n           }\r\n       }\r\n   }\r\n}\r\n```\r\nAny help will be appreciated.\r\nThank you!","title":"I have a minecraft plugin that detects swear words. How do I execute commands when the player curses?","body":"<p>Sa as the title says, I have a plugin that detects swear words. What it does now is that it sends a message to the player. But I also want it to execute a command that is already in the game or from another plugin. I'm not sure how to do this. How is that done?\nHere is my current code:</p>\n<pre><code>package\n\n\n\nimport com.beam.sweardetector.SwearDetector;\nimport org.bukkit.ChatColor;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.AsyncPlayerChatEvent;\nimport org.bukkit.event.player.PlayerJoinEvent;\n\n\npublic class EventsClass implements Listener {\n    SwearDetector plugin = SwearDetector.getPlugin(SwearDetector.class);\n   @EventHandler\n    public void onPlayerJoinEvent(PlayerJoinEvent event) {\n       Player player = event.getPlayer();\n       player.sendMessage(ChatColor.GOLD + &quot;This server is running AntiSwear v1.0 by BeamCRASH&quot;);\n   }\n\n   @EventHandler\n    public void chatevent (AsyncPlayerChatEvent event) {\n       for(String s: event.getMessage().split(&quot; &quot;)) {\n           if(plugin.getConfig().getStringList(&quot;swears&quot;).contains(s)) {\n               event.setCancelled(true);\n               event.getPlayer().sendMessage(ChatColor.DARK_RED + &quot;¬ßlSwearing is not allowed on this server!&quot;);\n           }\n       }\n   }\n}\n</code></pre>\n<p>Any help will be appreciated.\nThank you!</p>\n"},{"tags":["java","multithreading","swing","java-threads","swingx"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1635775729,"post_id":69797450,"comment_id":123376748,"body_markdown":"Did you read [Swing&#39;s Threading Policy](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/package-summary.html#threading)? In real life code you wouldn‚Äôt use a new thread at all, but [Swing‚Äôs Timer class](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html) which will invoke your action listener in the event dispatch thread already.","body":"Did you read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/package-summary.html#threading\" rel=\"nofollow noreferrer\">Swing&#39;s Threading Policy</a>? In real life code you wouldn‚Äôt use a new thread at all, but <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">Swing‚Äôs Timer class</a> which will invoke your action listener in the event dispatch thread already."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1635775955,"post_id":69797450,"comment_id":123376849,"body_markdown":"Swing components should NOT be updated in a a separate Thread. Instead components should be updated on the `Event Dispatch Thread (EDT)`. Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information. A simple solution is to use a `SwingWorker` as discussed in the tutorial and &quot;publish&quot; the results to the text pane.","body":"Swing components should NOT be updated in a a separate Thread. Instead components should be updated on the <code>Event Dispatch Thread (EDT)</code>. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information. A simple solution is to use a <code>SwingWorker</code> as discussed in the tutorial and &quot;publish&quot; the results to the text pane."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635800938,"creation_date":1635800938,"answer_id":69802818,"question_id":69797450,"body_markdown":"All code for Java&#39;s Swing classes must be executed on the Event Dispatch Thread (EDT).  Swing provides some special classes for helping you do this.\r\n\r\nTo execute code off the EDT, use a SwingWorker class.  SwingWorker will execute a task in the background (not using the EDT) and then return a result properly synchronized that executes on the EDT.  https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingWorker.html\r\n\r\nIts application is pretty simple.  Define your own class that extends SwingWorker.\r\n\r\n    class PrimeNumbersTask extends SwingWorker&lt;List&lt;Integer&gt;, Integer&gt; {\r\n      // ...\r\n\r\nIf you need to update a component, it&#39;s good to pass in the component so that you can refer to it later.  \r\n\r\n    class PrimeNumbersTask extends SwingWorker&lt;List&lt;Integer&gt;, Integer&gt; {\r\n      private JTextArea textArea;\r\n      public PrimeNumbersTask( JTextArea textArea ) {\r\n        this.textArea = textArea;\r\n      }\r\n      // ...\r\n\r\nDo your work in the method `doInBackground()` by overriding it.  Don&#39;t touch the Swing classes in this method.  Use the `publish()` method to send smaller chunks of data to the EDT if you want to provide progressive results instead of waiting for the whole task to complete.\r\n\r\n     @Override\r\n     public List&lt;Integer&gt; doInBackground() {\r\n         while (!done &amp;&amp; ! isCancelled()) {\r\n                 // do stuff\r\n                 publish(number);\r\n                 setProgress(100 * numbers.size() / numbersToFind);\r\n             }\r\n         }\r\n         return numbers;\r\n     }\r\n\r\nFinally override the method `process()` to update your Swing classes.\r\n\r\n     @Override\r\n     protected void process(List&lt;Integer&gt; chunks) {\r\n         for (int number : chunks) {\r\n             textArea.append(number + &quot;\\n&quot;);\r\n         }\r\n     }\r\n\r\nFrom the EDT, you can call `execute()` to start your background task.\r\n\r\n     JTextArea textArea = new JTextArea();\r\n     // manipulate and set up GUI...\r\n     PrimeNumbersTask task = new PrimeNumbersTask(textArea);\r\n     task.execute();\r\n\r\nThere&#39;s a lot more docs on SwingWorker if you Google for it, that&#39;s the basics of how to use it.\r\n","title":"How do I set a JTextPane out of another Thread?","body":"<p>All code for Java's Swing classes must be executed on the Event Dispatch Thread (EDT).  Swing provides some special classes for helping you do this.</p>\n<p>To execute code off the EDT, use a SwingWorker class.  SwingWorker will execute a task in the background (not using the EDT) and then return a result properly synchronized that executes on the EDT.  <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingWorker.html</a></p>\n<p>Its application is pretty simple.  Define your own class that extends SwingWorker.</p>\n<pre><code>class PrimeNumbersTask extends SwingWorker&lt;List&lt;Integer&gt;, Integer&gt; {\n  // ...\n</code></pre>\n<p>If you need to update a component, it's good to pass in the component so that you can refer to it later.</p>\n<pre><code>class PrimeNumbersTask extends SwingWorker&lt;List&lt;Integer&gt;, Integer&gt; {\n  private JTextArea textArea;\n  public PrimeNumbersTask( JTextArea textArea ) {\n    this.textArea = textArea;\n  }\n  // ...\n</code></pre>\n<p>Do your work in the method <code>doInBackground()</code> by overriding it.  Don't touch the Swing classes in this method.  Use the <code>publish()</code> method to send smaller chunks of data to the EDT if you want to provide progressive results instead of waiting for the whole task to complete.</p>\n<pre><code> @Override\n public List&lt;Integer&gt; doInBackground() {\n     while (!done &amp;&amp; ! isCancelled()) {\n             // do stuff\n             publish(number);\n             setProgress(100 * numbers.size() / numbersToFind);\n         }\n     }\n     return numbers;\n }\n</code></pre>\n<p>Finally override the method <code>process()</code> to update your Swing classes.</p>\n<pre><code> @Override\n protected void process(List&lt;Integer&gt; chunks) {\n     for (int number : chunks) {\n         textArea.append(number + &quot;\\n&quot;);\n     }\n }\n</code></pre>\n<p>From the EDT, you can call <code>execute()</code> to start your background task.</p>\n<pre><code> JTextArea textArea = new JTextArea();\n // manipulate and set up GUI...\n PrimeNumbersTask task = new PrimeNumbersTask(textArea);\n task.execute();\n</code></pre>\n<p>There's a lot more docs on SwingWorker if you Google for it, that's the basics of how to use it.</p>\n"}],"owner":{"account_id":23205682,"reputation":1,"user_id":17299931,"display_name":"David "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635800938,"creation_date":1635772454,"question_id":69797450,"body_markdown":"I am learning about multithreading right now.\r\n\r\nI have a &quot;main&quot; class in which I build a JFrame with a Textfield and a Start and a Stop Button in it.\r\n\r\nI also have another class/Thread from which I want to print the current time into my Textfield when I click the Start Button of my Frame. Everything works but the text doesn&#39;t change in my Textfield as I start the Thread even though Eclipse says my code is alright.\r\n\r\nWhat am I doing wrong?\r\n\r\nClass 1:\r\n```\r\npublic class Uhr extends JFrame {\r\n\r\n\tprivate JPanel contentPane;\r\n\tpublic JTextPane tpZeit;\r\n\tThread t;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tUhr frame = new Uhr();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the frame.\r\n\t */\r\n\tpublic Uhr() {\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 450, 300);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(null);\r\n\r\n\t\ttpZeit = new JTextPane();\r\n\t\ttpZeit.setText(&quot;test&quot;);\r\n\t\ttpZeit.setBounds(43, 50, 212, 43);\r\n\t\tcontentPane.add(tpZeit);\r\n\r\n\t\tJButton btnstart = new JButton(&quot;GO&quot;);\r\n\t\tbtnstart.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\ttpZeit.setText(&quot;started&quot;);\r\n\t\t\t\tif (t == null) {\r\n\t\t\t\t\t t = new Thread(new Uhrsteuerung());\r\n\t\t\t\t}\r\n\t\t\t\tif(!t.isAlive()) {\r\n\t\t\t\t\t t = new Thread(new Uhrsteuerung());\r\n\t\t\t\t\t t.start();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t});\r\n\t\tbtnstart.setBounds(10, 227, 89, 23);\r\n\t\tcontentPane.add(btnstart);\r\n\r\n\t\tJButton btnstop = new JButton(&quot;Stop&quot;);\r\n\t\tbtnstop.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\tt.interrupt();\r\n\t\t\t}\r\n\t\t});\r\n\t\tbtnstop.setBounds(248, 227, 89, 23);\r\n\t\tcontentPane.add(btnstop);\r\n\t}\r\n}\r\n```\r\n\r\nClass with additional Thread:\r\n\r\n```\r\npublic class Uhrsteuerung extends Uhr implements Runnable {\r\n\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n\tString time;\r\n\tboolean x ;\r\n\r\n\t@Override\r\n\tpublic synchronized void run() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tx = true;\r\n\t\twhile (x) {\r\n\t\t\ttry {\r\n\t\t\t\ttime = sdf.format(System.currentTimeMillis());\r\n\t\t\t\tSystem.out.println(time);\r\n\t\t\t\ttpZeit.setText(time);\r\n\t\t\t\trepaint();\r\n\t\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t} catch (InterruptedException ex) {\r\n\t\t\t\tx = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How do I set a JTextPane out of another Thread?","body":"<p>I am learning about multithreading right now.</p>\n<p>I have a &quot;main&quot; class in which I build a JFrame with a Textfield and a Start and a Stop Button in it.</p>\n<p>I also have another class/Thread from which I want to print the current time into my Textfield when I click the Start Button of my Frame. Everything works but the text doesn't change in my Textfield as I start the Thread even though Eclipse says my code is alright.</p>\n<p>What am I doing wrong?</p>\n<p>Class 1:</p>\n<pre><code>public class Uhr extends JFrame {\n\n    private JPanel contentPane;\n    public JTextPane tpZeit;\n    Thread t;\n    \n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Uhr frame = new Uhr();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public Uhr() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n\n        tpZeit = new JTextPane();\n        tpZeit.setText(&quot;test&quot;);\n        tpZeit.setBounds(43, 50, 212, 43);\n        contentPane.add(tpZeit);\n\n        JButton btnstart = new JButton(&quot;GO&quot;);\n        btnstart.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n                tpZeit.setText(&quot;started&quot;);\n                if (t == null) {\n                     t = new Thread(new Uhrsteuerung());\n                }\n                if(!t.isAlive()) {\n                     t = new Thread(new Uhrsteuerung());\n                     t.start();\n                }\n\n                }\n        });\n        btnstart.setBounds(10, 227, 89, 23);\n        contentPane.add(btnstart);\n\n        JButton btnstop = new JButton(&quot;Stop&quot;);\n        btnstop.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n                t.interrupt();\n            }\n        });\n        btnstop.setBounds(248, 227, 89, 23);\n        contentPane.add(btnstop);\n    }\n}\n</code></pre>\n<p>Class with additional Thread:</p>\n<pre><code>public class Uhrsteuerung extends Uhr implements Runnable {\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n    String time;\n    boolean x ;\n\n    @Override\n    public synchronized void run() {\n        // TODO Auto-generated method stub\n        x = true;\n        while (x) {\n            try {\n                time = sdf.format(System.currentTimeMillis());\n                System.out.println(time);\n                tpZeit.setText(time);\n                repaint();\n                Thread.sleep(1000);\n\n            } catch (InterruptedException ex) {\n                x = false;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","qr-code","digital-signature","base45"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1634669005,"post_id":69635855,"comment_id":123086135,"body_markdown":"maybe https://ec.europa.eu/health/sites/default/files/ehealth/docs/covid-certificate_json_specification_en.pdf and https://ec.europa.eu/health/sites/health/files/ehealth/docs/digital-green-certificates_v5_en.pdf could help you (see `Trust framework and detailed technical specifications` under https://ec.europa.eu/health/ehealth/covid-19_en)","body":"maybe <a href=\"https://ec.europa.eu/health/sites/default/files/ehealth/docs/covid-certificate_json_specification_en.pdf\" rel=\"nofollow noreferrer\">ec.europa.eu/health/sites/default/files/ehealth/docs/&hellip;</a> and <a href=\"https://ec.europa.eu/health/sites/health/files/ehealth/docs/digital-green-certificates_v5_en.pdf\" rel=\"nofollow noreferrer\">ec.europa.eu/health/sites/health/files/ehealth/docs/&hellip;</a> could help you (see <code>Trust framework and detailed technical specifications</code> under <a href=\"https://ec.europa.eu/health/ehealth/covid-19_en\" rel=\"nofollow noreferrer\">ec.europa.eu/health/ehealth/covid-19_en</a>)"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1634669376,"post_id":69635855,"comment_id":123086286,"body_markdown":"If you prefer source code, you might want to look at [these reference implementations](https://github.com/eu-digital-green-certificates).","body":"If you prefer source code, you might want to look at <a href=\"https://github.com/eu-digital-green-certificates\" rel=\"nofollow noreferrer\">these reference implementations</a>."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1634671374,"post_id":69635855,"comment_id":123086990,"body_markdown":"especially https://github.com/eu-digital-green-certificates/dgca-wallet-app-android/blob/main/app/src/main/java/dgca/wallet/app/android/certificate/DefaultGreenCertificateFetcher.kt","body":"especially <a href=\"https://github.com/eu-digital-green-certificates/dgca-wallet-app-android/blob/main/app/src/main/java/dgca/wallet/app/android/certificate/DefaultGreenCertificateFetcher.kt\" rel=\"nofollow noreferrer\">github.com/eu-digital-green-certificates/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635800920,"creation_date":1635800920,"answer_id":69802813,"question_id":69635855,"body_markdown":"Thanks to **Gaetano Piazzolla** who recently wrote an article on how to verify Green-Pass QR Code Signature. \r\nHere is the article link: \r\n[Green-Pass QR Code Signature Verification][1]\r\n\r\nHe also wrote another article on how to Decode the EU Green-Pass QRCode. \r\nHere is the link of the article: [Decode the EU Green-Pass QRCode][2] \r\n\r\n\r\n  [1]: https://gae-piaz.medium.com/green-pass-qr-code-signature-verification-java-f742079cc88\r\n  [2]: https://gae-piaz.medium.com/decode-the-eu-green-pass-qrcode-using-java-b5654e55b0fc\r\n\r\nNote: you don&#39;t need to upvote, I&#39;m just adding this as an answer so that everybody can benefit from these great articles. ","title":"How to verify EU COVID Vaccine QRCode Signature in Java?","body":"<p>Thanks to <strong>Gaetano Piazzolla</strong> who recently wrote an article on how to verify Green-Pass QR Code Signature.\nHere is the article link:\n<a href=\"https://gae-piaz.medium.com/green-pass-qr-code-signature-verification-java-f742079cc88\" rel=\"nofollow noreferrer\">Green-Pass QR Code Signature Verification</a></p>\n<p>He also wrote another article on how to Decode the EU Green-Pass QRCode.\nHere is the link of the article: <a href=\"https://gae-piaz.medium.com/decode-the-eu-green-pass-qrcode-using-java-b5654e55b0fc\" rel=\"nofollow noreferrer\">Decode the EU Green-Pass QRCode</a></p>\n<p>Note: you don't need to upvote, I'm just adding this as an answer so that everybody can benefit from these great articles.</p>\n"}],"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69802813,"answer_count":1,"score":3,"last_activity_date":1635800920,"creation_date":1634667297,"question_id":69635855,"body_markdown":"Is there anyway to verify the signature of the EU Covid Vaccine QR Code and make sure the QR Code was issued by an authorized entity?\r\n\r\n\r\n","title":"How to verify EU COVID Vaccine QRCode Signature in Java?","body":"<p>Is there anyway to verify the signature of the EU Covid Vaccine QR Code and make sure the QR Code was issued by an authorized entity?</p>\n"},{"tags":["java","android","kotlin","gps","location"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1635397700,"post_id":69748480,"comment_id":123288037,"body_markdown":"Did you actually request updates anywhere?  I don&#39;t see it in your code.  All you got was a representation of the sensor.","body":"Did you actually request updates anywhere?  I don&#39;t see it in your code.  All you got was a representation of the sensor."},{"owner":{"account_id":16333643,"reputation":811,"user_id":12423932,"display_name":"Enrico Cortinovis"},"score":0,"creation_date":1635399281,"post_id":69748480,"comment_id":123288325,"body_markdown":"@GabeSechan Shouldn‚Äôt it be enough to implement ‚ÄòSensorEventListener‚Äô and to override the ‚ÄòonSensorChanged‚Äô method? It was working in a normal activity (when the screen was on, etc.).","body":"@GabeSechan Shouldn‚Äôt it be enough to implement ‚ÄòSensorEventListener‚Äô and to override the ‚ÄòonSensorChanged‚Äô method? It was working in a normal activity (when the screen was on, etc.)."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1635427952,"post_id":69748480,"comment_id":123299834,"body_markdown":"No, just defining functions isn&#39;t enough.  You need to ask for the OS to start sending your data.  The call is sensorManager.registerListener(listener, sensor, frequency).  Also remember to unregister when done.","body":"No, just defining functions isn&#39;t enough.  You need to ask for the OS to start sending your data.  The call is sensorManager.registerListener(listener, sensor, frequency).  Also remember to unregister when done."}],"answers":[{"tags":[],"owner":{"account_id":9069128,"reputation":1018,"user_id":6752997,"display_name":"Jakub Licznerski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635799145,"creation_date":1635799145,"answer_id":69802549,"question_id":69748480,"body_markdown":"Try ensuring that you are creating an actual foreground service (with a notification and a notification channel). You also requested an appropriate permission `&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;` and  registered a listener for your sensor like so: \r\n```kotlin\r\nmSensorManager.registerListener(\r\n    this, // if called in your ForegroundService\r\n    mAccelerometer,\r\n    SensorManager.SENSOR_DELAY_NORMAL\r\n)\r\n```\r\nand unregistered it:\r\n```kotlin\r\noverride fun onDestroy() {\r\n    mSensorManager.unregisterListener(this)\r\n}\r\n```\r\nfinally, you are starting the service from an activity or a receiver of some sort with `startService` and call `startForeground(id, notification)` in service&#39;s `onStartCommand`.\r\n","title":"Use onSensorChanged() updates inside a foreground service","body":"<p>Try ensuring that you are creating an actual foreground service (with a notification and a notification channel). You also requested an appropriate permission <code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;</code> and  registered a listener for your sensor like so:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>mSensorManager.registerListener(\n    this, // if called in your ForegroundService\n    mAccelerometer,\n    SensorManager.SENSOR_DELAY_NORMAL\n)\n</code></pre>\n<p>and unregistered it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onDestroy() {\n    mSensorManager.unregisterListener(this)\n}\n</code></pre>\n<p>finally, you are starting the service from an activity or a receiver of some sort with <code>startService</code> and call <code>startForeground(id, notification)</code> in service's <code>onStartCommand</code>.</p>\n"}],"owner":{"account_id":16333643,"reputation":811,"user_id":12423932,"display_name":"Enrico Cortinovis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1635800434,"creation_date":1635396876,"question_id":69748480,"body_markdown":"I&#39;m trying to create a foreground service that can keep track of the linear acceleration of the phone, using the Accelerometer sensor. I have a `ForegroundService` class that implements `Service()` and `SensorEventListener`. I have two global variables that I initialize like this:\r\n\r\n```kotlin\r\nmSensorManager = getSystemService(SENSOR_SERVICE) as SensorManager\r\nmAccelerometer = mSensorManager!!.getDefaultSensor(Sensor.TYPE_LINEAR_ACCELERATION)\r\n```\r\n\r\nI then register the listener, then override `onSensorChanged()`, where I should log some values, but nothing is displayed (which means the function does not run at all). Why could this be? Thank you.\r\n\r\n**Edit**: Having done more testing since I&#39;ve posted the answer, I&#39;ve noticed that the problem is that Android does not update the values on the Sensors (at least the Linear Acceleration one) when the screen is off. The service clearly keeps running, since other tasks (like the location) do get updates, but the Linear Acceleration sensor stops. Once the screen is turned on again it starts to get updates like it should. How to fix this?","title":"Use onSensorChanged() updates inside a foreground service","body":"<p>I'm trying to create a foreground service that can keep track of the linear acceleration of the phone, using the Accelerometer sensor. I have a <code>ForegroundService</code> class that implements <code>Service()</code> and <code>SensorEventListener</code>. I have two global variables that I initialize like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>mSensorManager = getSystemService(SENSOR_SERVICE) as SensorManager\nmAccelerometer = mSensorManager!!.getDefaultSensor(Sensor.TYPE_LINEAR_ACCELERATION)\n</code></pre>\n<p>I then register the listener, then override <code>onSensorChanged()</code>, where I should log some values, but nothing is displayed (which means the function does not run at all). Why could this be? Thank you.</p>\n<p><strong>Edit</strong>: Having done more testing since I've posted the answer, I've noticed that the problem is that Android does not update the values on the Sensors (at least the Linear Acceleration one) when the screen is off. The service clearly keeps running, since other tasks (like the location) do get updates, but the Linear Acceleration sensor stops. Once the screen is turned on again it starts to get updates like it should. How to fix this?</p>\n"},{"tags":["java","sql-server"],"answers":[{"tags":[],"owner":{"account_id":1202789,"reputation":427,"user_id":1173099,"display_name":"nick79"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1494585719,"creation_date":1494585719,"answer_id":43935785,"question_id":43935316,"body_markdown":"Are you using 2012 version or newer? The problem is in the way SQL 2012 interprets null values for a datetime time. Insert query from Java should have an explicit convert function to forcefully insert it as datetime to avoid this unexpected error. \r\nSomething like:\r\n    convert(DATETIME,START_DATE,21)\r\n\r\n[More info][1]\r\n\r\n\r\n  [1]: https://technet.microsoft.com/en-us/library/ms143179%28SQL.110%29.aspx","title":"Error inserting null or empty value in DATE column mapped to LocalDate type in java","body":"<p>Are you using 2012 version or newer? The problem is in the way SQL 2012 interprets null values for a datetime time. Insert query from Java should have an explicit convert function to forcefully insert it as datetime to avoid this unexpected error. \nSomething like:\n    convert(DATETIME,START_DATE,21)</p>\n\n<p><a href=\"https://technet.microsoft.com/en-us/library/ms143179%28SQL.110%29.aspx\" rel=\"nofollow noreferrer\">More info</a></p>\n"},{"tags":[],"owner":{"account_id":6435198,"reputation":154,"user_id":4986987,"display_name":"brt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635799507,"creation_date":1635799507,"answer_id":69802604,"question_id":43935316,"body_markdown":"I had the same issue with SQL Server.  I fixed it by changing the insert value from just `myValue` to\r\n`CONVERT(DATE, myValue)`","title":"Error inserting null or empty value in DATE column mapped to LocalDate type in java","body":"<p>I had the same issue with SQL Server.  I fixed it by changing the insert value from just <code>myValue</code> to\n<code>CONVERT(DATE, myValue)</code></p>\n"}],"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43935785,"answer_count":2,"score":2,"last_activity_date":1635799507,"creation_date":1494584432,"question_id":43935316,"body_markdown":"I am using MS SQL as my DB and I have a DATE column called &#39;START_DATE&#39; in one of my tables. This is a non mandatory column.\r\n\r\nIn my java layer I am have mapped this to the LocalDate . When I dont have any value set for START_DATE, then I set it to null or leave it empty.\r\n\r\nIn both cases I get the error that \r\n\r\n**Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Implicit conversion from data type varbinary to date is not allowed. Use the CONVERT function to run this query.**\r\n\r\nHow do I fix this, please advise?","title":"Error inserting null or empty value in DATE column mapped to LocalDate type in java","body":"<p>I am using MS SQL as my DB and I have a DATE column called 'START_DATE' in one of my tables. This is a non mandatory column.</p>\n\n<p>In my java layer I am have mapped this to the LocalDate . When I dont have any value set for START_DATE, then I set it to null or leave it empty.</p>\n\n<p>In both cases I get the error that </p>\n\n<p><strong>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Implicit conversion from data type varbinary to date is not allowed. Use the CONVERT function to run this query.</strong></p>\n\n<p>How do I fix this, please advise?</p>\n"},{"tags":["java","android","kotlin","gps","location"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1635397773,"post_id":69748374,"comment_id":123288045,"body_markdown":"Did you request runtime permissions for location?  I don&#39;t see it there, so I&#39;m assuming not.  You also need to request static permission in the manifest.","body":"Did you request runtime permissions for location?  I don&#39;t see it there, so I&#39;m assuming not.  You also need to request static permission in the manifest."},{"owner":{"account_id":16333643,"reputation":811,"user_id":12423932,"display_name":"Enrico Cortinovis"},"score":0,"creation_date":1635399596,"post_id":69748374,"comment_id":123288394,"body_markdown":"@GabeSechan Yes, and it is checked that they have been accepted before requesting the updates. The code I‚Äôm trying to use for the foreground service was working in a normal activity, with screen on etc.","body":"@GabeSechan Yes, and it is checked that they have been accepted before requesting the updates. The code I‚Äôm trying to use for the foreground service was working in a normal activity, with screen on etc."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1635428089,"post_id":69748374,"comment_id":123299918,"body_markdown":"Did the user grant background location gathering permission?  In modern Android, a user can choose to allow location to be gathered when the app is foreground only.  Even if your app is foreground, running it in a Service counts as background.","body":"Did the user grant background location gathering permission?  In modern Android, a user can choose to allow location to be gathered when the app is foreground only.  Even if your app is foreground, running it in a Service counts as background."},{"owner":{"account_id":16333643,"reputation":811,"user_id":12423932,"display_name":"Enrico Cortinovis"},"score":0,"creation_date":1635438714,"post_id":69748374,"comment_id":123304837,"body_markdown":"@GabeSechan Yes, that&#39;s done too.","body":"@GabeSechan Yes, that&#39;s done too."},{"owner":{"account_id":9069128,"reputation":1018,"user_id":6752997,"display_name":"Jakub Licznerski"},"score":0,"creation_date":1635794614,"post_id":69748374,"comment_id":123383730,"body_markdown":"does the same code you present work when ran in an Activity (in foreground)?","body":"does the same code you present work when ran in an Activity (in foreground)?"},{"owner":{"account_id":16333643,"reputation":811,"user_id":12423932,"display_name":"Enrico Cortinovis"},"score":0,"creation_date":1635794769,"post_id":69748374,"comment_id":123383783,"body_markdown":"@JakubLicznerski This is with [this](https://stackoverflow.com/questions/69748480/use-onsensorchanged-updates-inside-a-foreground-service) question. In both cases the code that was normally working in an Activity doesn&#39;t work in a foreground service.","body":"@JakubLicznerski This is with <a href=\"https://stackoverflow.com/questions/69748480/use-onsensorchanged-updates-inside-a-foreground-service\">this</a> question. In both cases the code that was normally working in an Activity doesn&#39;t work in a foreground service."}],"answers":[{"tags":[],"owner":{"account_id":9069128,"reputation":1018,"user_id":6752997,"display_name":"Jakub Licznerski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635799365,"creation_date":1635797973,"answer_id":69802379,"question_id":69748374,"body_markdown":"You haven&#39;t shared much code so I&#39;ll share a few guesses as an answer proposal:\r\n1. **Location API selection:**\r\n\r\nYou are creating a `FusedLocationProviderClient`, but not using it. According to [this docs](https://developer.android.com/training/location/request-updates) and [this SO post](https://stackoverflow.com/questions/33022662/android-locationmanager-vs-google-play-services) it is preferred to use this provider over `LocationManager` because of accuracy and battery usage. Try using `requestLocationUpdates` from `FusedLocationProviderClient`. Additional example [here](https://stackoverflow.com/questions/34918675/android-location-service-didnt-work-in-background).\r\n***\r\n2. **Listener definition:**\r\n\r\nAccording to this piece of code:\r\n```kotlin\r\nlocationManager.requestLocationUpdates(\r\n    LocationManager.GPS_PROVIDER, 2000, 0F, locationListener\r\n)\r\n```\r\nyou are trying to use [this overload](https://developer.android.com/reference/android/location/LocationManager#requestLocationUpdates(java.lang.String,%20long,%20float,%20android.location.LocationListener)) of [this method](https://developer.android.com/reference/android/location/LocationManager#requestLocationUpdates(java.lang.String,%20android.location.LocationRequest,%20java.util.concurrent.Executor,%20android.location.LocationListener)) which then uses a `Looper` of a thread in which it is defined. If the listener is not created within the service it may use a `Looper` which is not accessible from the service&#39;s thread.\r\n***\r\n**Ensure** you are calling `startForeground(id, notification)` in `onStartCommand` and that the service is staying alive ([example](https://stackoverflow.com/questions/6452466/how-to-determine-if-an-android-service-is-running-in-the-foreground)).\r\n\r\nAlso check out [this repo](https://github.com/android/location-samples/tree/main/LocationUpdatesForegroundService) for an example of location services accessed within a foreground service. Read through [this post](https://stackoverflow.com/questions/53510193/getting-gps-location-updates-while-app-in-the-background?rq=1) as well for additional reference.","title":"Use onLocationChanged() updates inside a foreground service","body":"<p>You haven't shared much code so I'll share a few guesses as an answer proposal:</p>\n<ol>\n<li><strong>Location API selection:</strong></li>\n</ol>\n<p>You are creating a <code>FusedLocationProviderClient</code>, but not using it. According to <a href=\"https://developer.android.com/training/location/request-updates\" rel=\"nofollow noreferrer\">this docs</a> and <a href=\"https://stackoverflow.com/questions/33022662/android-locationmanager-vs-google-play-services\">this SO post</a> it is preferred to use this provider over <code>LocationManager</code> because of accuracy and battery usage. Try using <code>requestLocationUpdates</code> from <code>FusedLocationProviderClient</code>. Additional example <a href=\"https://stackoverflow.com/questions/34918675/android-location-service-didnt-work-in-background\">here</a>.</p>\n<hr />\n<ol start=\"2\">\n<li><strong>Listener definition:</strong></li>\n</ol>\n<p>According to this piece of code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>locationManager.requestLocationUpdates(\n    LocationManager.GPS_PROVIDER, 2000, 0F, locationListener\n)\n</code></pre>\n<p>you are trying to use <a href=\"https://developer.android.com/reference/android/location/LocationManager#requestLocationUpdates(java.lang.String,%20long,%20float,%20android.location.LocationListener)\" rel=\"nofollow noreferrer\">this overload</a> of <a href=\"https://developer.android.com/reference/android/location/LocationManager#requestLocationUpdates(java.lang.String,%20android.location.LocationRequest,%20java.util.concurrent.Executor,%20android.location.LocationListener)\" rel=\"nofollow noreferrer\">this method</a> which then uses a <code>Looper</code> of a thread in which it is defined. If the listener is not created within the service it may use a <code>Looper</code> which is not accessible from the service's thread.</p>\n<hr />\n<p><strong>Ensure</strong> you are calling <code>startForeground(id, notification)</code> in <code>onStartCommand</code> and that the service is staying alive (<a href=\"https://stackoverflow.com/questions/6452466/how-to-determine-if-an-android-service-is-running-in-the-foreground\">example</a>).</p>\n<p>Also check out <a href=\"https://github.com/android/location-samples/tree/main/LocationUpdatesForegroundService\" rel=\"nofollow noreferrer\">this repo</a> for an example of location services accessed within a foreground service. Read through <a href=\"https://stackoverflow.com/questions/53510193/getting-gps-location-updates-while-app-in-the-background?rq=1\">this post</a> as well for additional reference.</p>\n"}],"owner":{"account_id":16333643,"reputation":811,"user_id":12423932,"display_name":"Enrico Cortinovis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635799365,"creation_date":1635395845,"question_id":69748374,"body_markdown":"I&#39;m trying to create a foreground service that can track the user&#39;s location with the phone&#39;s GPS. I have a `ForegroundService` class, where in the `onCreate()` method I call a function that should start by asking for location updates:\r\n\r\n```kotlin\r\nfusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this)\r\n\r\nlocationManager = getSystemService(LOCATION_SERVICE) as LocationManager\r\n\r\nval locationListener: LocationListener = this\r\nlocationManager.requestLocationUpdates(\r\n    LocationManager.GPS_PROVIDER, 2000, 0F, locationListener\r\n)\r\n```\r\n\r\nMy class is implementing `Service()` and `LocationListener`. I then override `onLocationChanged`, where I should log the current speed (and leave `onAccuracyChanged` empty).\r\n\r\nOf course I have a notification correctly showing in android, so the service is definitely running, but I seem to get no location updates anyways. What could the problem be? Thank you.","title":"Use onLocationChanged() updates inside a foreground service","body":"<p>I'm trying to create a foreground service that can track the user's location with the phone's GPS. I have a <code>ForegroundService</code> class, where in the <code>onCreate()</code> method I call a function that should start by asking for location updates:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this)\n\nlocationManager = getSystemService(LOCATION_SERVICE) as LocationManager\n\nval locationListener: LocationListener = this\nlocationManager.requestLocationUpdates(\n    LocationManager.GPS_PROVIDER, 2000, 0F, locationListener\n)\n</code></pre>\n<p>My class is implementing <code>Service()</code> and <code>LocationListener</code>. I then override <code>onLocationChanged</code>, where I should log the current speed (and leave <code>onAccuracyChanged</code> empty).</p>\n<p>Of course I have a notification correctly showing in android, so the service is definitely running, but I seem to get no location updates anyways. What could the problem be? Thank you.</p>\n"},{"tags":["java","exception","try-catch"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1370514023,"post_id":16959436,"comment_id":24491610,"body_markdown":"Uh, good one, I didn&#39;t even know it was not final in the &quot;single exception&quot; case...","body":"Uh, good one, I didn&#39;t even know it was not final in the &quot;single exception&quot; case..."},{"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"score":0,"creation_date":1370514592,"post_id":16959436,"comment_id":24491944,"body_markdown":"what would be the difference if it was final since only the catch block knows of this object? does it matter if you rethrow this object or another one? in most cases the exception if wrapped in another one and rethrown. if it was final you could still rethrow a modified copy.","body":"what would be the difference if it was final since only the catch block knows of this object? does it matter if you rethrow this object or another one? in most cases the exception if wrapped in another one and rethrown. if it was final you could still rethrow a modified copy."},{"owner":{"account_id":1772467,"reputation":2200,"user_id":1616987,"accept_rate":100,"display_name":"MasNotsram"},"score":0,"creation_date":1370514901,"post_id":16959436,"comment_id":24492090,"body_markdown":"The only reason I could think of is if you wanted to edit or add to the stack trace for some reason using the setStackTrace() method on the exception.","body":"The only reason I could think of is if you wanted to edit or add to the stack trace for some reason using the setStackTrace() method on the exception."},{"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"score":2,"creation_date":1370515075,"post_id":16959436,"comment_id":24492184,"body_markdown":"being `final` doesnt preserve the exception&#39;s methods from being called - no matter if they modify the exception or not. `final` is no synonym for `const` in C","body":"being <code>final</code> doesnt preserve the exception&#39;s methods from being called - no matter if they modify the exception or not. <code>final</code> is no synonym for <code>const</code> in C"},{"owner":{"account_id":1772467,"reputation":2200,"user_id":1616987,"accept_rate":100,"display_name":"MasNotsram"},"score":1,"creation_date":1370515335,"post_id":16959436,"comment_id":24492319,"body_markdown":"Oh I misread the question, I thought it meant the class was final not the object. In that case, it may not give you an answer, but a similar question with discussion has taken place here:\nhttp://www.coderanch.com/t/607092/Java/java/Handling-Exception-Catch-Block","body":"Oh I misread the question, I thought it meant the class was final not the object. In that case, it may not give you an answer, but a similar question with discussion has taken place here: <a href=\"http://www.coderanch.com/t/607092/Java/java/Handling-Exception-Catch-Block\" rel=\"nofollow noreferrer\">coderanch.com/t/607092/Java/java/Handling-Exception-Catch-Bl&zwnj;&#8203;ock</a>"},{"owner":{"account_id":2221540,"reputation":2069,"user_id":1960804,"accept_rate":57,"display_name":"Peter Jaloveczki"},"score":0,"creation_date":1370516049,"post_id":16959436,"comment_id":24492679,"body_markdown":"There is no doubt about what final means. Also no doubt that you &quot;could&quot; make a copy for whatever reason if you wanted to. In a nutshell: The question is why would you ever want to overide the exception reference?","body":"There is no doubt about what final means. Also no doubt that you &quot;could&quot; make a copy for whatever reason if you wanted to. In a nutshell: The question is why would you ever want to overide the exception reference?"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1370515192,"creation_date":1370515192,"answer_id":16959989,"question_id":16959436,"body_markdown":"It&#39;s pretty much the same as method arguments:\r\n\r\nYou *usually* don&#39;t modify them and *many* people agree that they should be treated as `final` (whether or not to actually write `final` in front of them is a matter of some debate).\r\n\r\nBut since there&#39;s no technical requirement that says it must be `final`, the language gives you the option to choose.\r\n\r\nPersonally I know of no good reason to modify the exception reference of a catch-block.","title":"Java catch block, caught exception is not final","body":"<p>It's pretty much the same as method arguments:</p>\n\n<p>You <em>usually</em> don't modify them and <em>many</em> people agree that they should be treated as <code>final</code> (whether or not to actually write <code>final</code> in front of them is a matter of some debate).</p>\n\n<p>But since there's no technical requirement that says it must be <code>final</code>, the language gives you the option to choose.</p>\n\n<p>Personally I know of no good reason to modify the exception reference of a catch-block.</p>\n"},{"tags":[],"owner":{"account_id":431980,"reputation":8535,"user_id":816415,"accept_rate":83,"display_name":"gextra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370515666,"creation_date":1370515666,"answer_id":16960149,"question_id":16959436,"body_markdown":"The reason I can think of to enforce it final is due to performance. Once the catch evaluation starts, having a final immutable value in the mechanics of the evaluation ensures a faster evaluation of all catches. Since try-catch is extensively used throughout any java code, the highest performance design is preferable. \r\n\r\nBased on the above, it implies a performance improvement that affects most programs.","title":"Java catch block, caught exception is not final","body":"<p>The reason I can think of to enforce it final is due to performance. Once the catch evaluation starts, having a final immutable value in the mechanics of the evaluation ensures a faster evaluation of all catches. Since try-catch is extensively used throughout any java code, the highest performance design is preferable. </p>\n\n<p>Based on the above, it implies a performance improvement that affects most programs.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370517513,"creation_date":1370517513,"answer_id":16960774,"question_id":16959436,"body_markdown":"I cannot think of a convincing use-case for modifying an exception in a classic `catch` clause.  However, that doesn&#39;t mean it should be forbidden.  Especially given that you can modify a parameter variable.  If you find this worrisome, you have the option of declaring the exception variable to be `final`.\r\n\r\nOn the other hand, allowing modification in the multi-exception catch would introduces the possibility of truly bizarre and confusing code such as this:\r\n\r\n      catch (IOException | NullPointerException ex) {\r\n          ...\r\n          ex = new IllegalArgumentException(...);\r\n      }\r\n\r\nI imagine that&#39;s what the designers had in mind when they added the restriction in this case.\r\n\r\nBut either way, this is how the Java language is defined, and what we have to live with.  There&#39;s not a lot of point in debating the apparent inconsistencies ... unless you are intending to design and implement a new language.\r\n","title":"Java catch block, caught exception is not final","body":"<p>I cannot think of a convincing use-case for modifying an exception in a classic <code>catch</code> clause.  However, that doesn't mean it should be forbidden.  Especially given that you can modify a parameter variable.  If you find this worrisome, you have the option of declaring the exception variable to be <code>final</code>.</p>\n\n<p>On the other hand, allowing modification in the multi-exception catch would introduces the possibility of truly bizarre and confusing code such as this:</p>\n\n<pre><code>  catch (IOException | NullPointerException ex) {\n      ...\n      ex = new IllegalArgumentException(...);\n  }\n</code></pre>\n\n<p>I imagine that's what the designers had in mind when they added the restriction in this case.</p>\n\n<p>But either way, this is how the Java language is defined, and what we have to live with.  There's not a lot of point in debating the apparent inconsistencies ... unless you are intending to design and implement a new language.</p>\n"},{"tags":[],"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370518449,"creation_date":1370518449,"answer_id":16961070,"question_id":16959436,"body_markdown":"The idea behind exception-based error handling is that each error should be recovered, if at all possible, at the appropriate level of abstraction. Such error recovery might require information that is not directly available where the exception is actually handled. For this reason it might be convenient to catch the exception, augment it with the relevant information and rethrow it or possibly set it as cause of a new exception object of a more appropriate class.\r\n","title":"Java catch block, caught exception is not final","body":"<p>The idea behind exception-based error handling is that each error should be recovered, if at all possible, at the appropriate level of abstraction. Such error recovery might require information that is not directly available where the exception is actually handled. For this reason it might be convenient to catch the exception, augment it with the relevant information and rethrow it or possibly set it as cause of a new exception object of a more appropriate class.</p>\n"}],"owner":{"account_id":2221540,"reputation":2069,"user_id":1960804,"accept_rate":57,"display_name":"Peter Jaloveczki"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1686,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":16959989,"answer_count":4,"score":15,"last_activity_date":1635799103,"creation_date":1370513638,"question_id":16959436,"body_markdown":"I am checking out the new features of Java SE7 and I am currently at this point:\r\n\r\nhttp://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\r\n\r\nregarding the catch multiple feature, when I came across this statement:\r\n\r\n&gt; Note: If a catch block handles more than one exception type, then the\r\n&gt; catch parameter is implicitly final. In this example, the catch\r\n&gt; parameter ex is final and therefore you cannot assign any values to it\r\n&gt; within the catch block.\r\n\r\nI never noticed that the caught exception is not final in the classic case of handleing caught exceptions.\r\n\r\nI just wonder why is that a good thing in the first place? Would it not be ill-advised to essentially MODIFY a caught exception before I guess rethrowing it or maybe logging it&#39;s message? Should it not be up to the trowing mechanism to create the exception so it represents exactly what it should?\r\n\r\nI have never seen an exception being modified in the catch block can maybe someone point out it&#39;s benefits?","title":"Java catch block, caught exception is not final","body":"<p>I am checking out the new features of Java SE7 and I am currently at this point:</p>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html</a></p>\n<p>regarding the catch multiple feature, when I came across this statement:</p>\n<blockquote>\n<p>Note: If a catch block handles more than one exception type, then the\ncatch parameter is implicitly final. In this example, the catch\nparameter ex is final and therefore you cannot assign any values to it\nwithin the catch block.</p>\n</blockquote>\n<p>I never noticed that the caught exception is not final in the classic case of handleing caught exceptions.</p>\n<p>I just wonder why is that a good thing in the first place? Would it not be ill-advised to essentially MODIFY a caught exception before I guess rethrowing it or maybe logging it's message? Should it not be up to the trowing mechanism to create the exception so it represents exactly what it should?</p>\n<p>I have never seen an exception being modified in the catch block can maybe someone point out it's benefits?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635798648,"creation_date":1635753009,"answer_id":69793979,"question_id":69793504,"body_markdown":"One way to go at it would be to ask spark to cast all your columns to the new type you expect. I am not sure it would work with all types of conversions, but it works for many cases:\r\n\r\n```java\r\nList&lt;Column&gt; columns = Arrays\r\n    .stream(newSchema.fields())\r\n    .map(field -&gt; col(field.name()).cast(field.dataType()))\r\n    .collect(Collectors.toList());\r\n\r\nDataset&lt;Row&gt; newResult = result.select(columns.toArray(new Column[0]));\r\n\r\n```\r\n\r\nAnother way to go at it would be to rely on the way spark applies schemas to csv files but that would require writing your data on the disk so I don&#39;t recommend that option.\r\n```java\r\nresult.write().csv(&quot;somewhere&quot;);\r\nDataset&lt;Row&gt; newResult = spark.read().schema(newSchema).csv(&quot;somewhere&quot;);\r\n```","title":"Cast Spark dataframe‚Äôs schema","body":"<p>One way to go at it would be to ask spark to cast all your columns to the new type you expect. I am not sure it would work with all types of conversions, but it works for many cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Column&gt; columns = Arrays\n    .stream(newSchema.fields())\n    .map(field -&gt; col(field.name()).cast(field.dataType()))\n    .collect(Collectors.toList());\n\nDataset&lt;Row&gt; newResult = result.select(columns.toArray(new Column[0]));\n\n</code></pre>\n<p>Another way to go at it would be to rely on the way spark applies schemas to csv files but that would require writing your data on the disk so I don't recommend that option.</p>\n<pre class=\"lang-java prettyprint-override\"><code>result.write().csv(&quot;somewhere&quot;);\nDataset&lt;Row&gt; newResult = spark.read().schema(newSchema).csv(&quot;somewhere&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2976512,"reputation":3160,"user_id":2527458,"accept_rate":36,"display_name":"Majid Hajibaba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635754521,"creation_date":1635754521,"answer_id":69794207,"question_id":69793504,"body_markdown":"Since DataFrame are immutable you have to create new DataFrame to change the schema. To do so, do one of the following methods:\r\n\r\n**I:**\r\n```\r\n Dataset&lt;Row&gt; ndf = df.select(col(&quot;age&quot;).cast(DataTypes.IntegerType),\r\n                              col(&quot;grade&quot;).cast(DataTypes.IntegerType),\r\n                              col(&quot;dateOfBirth&quot;).cast(DataTypes.DateType));        \r\n ndf.printSchema();\r\n```\r\n\r\n**II:**\r\n\r\nor (I did just for age column):\r\n```\r\nDataset&lt;Row&gt; ndf = df.withColumn(&quot;new_age&quot;, df.col(&quot;age&quot;).cast(DataTypes.IntegerType)).drop(&quot;age&quot;);\r\nndf.printSchema();\r\n```\r\n**III:**\r\n\r\nat last but not least, use a map function to do your operation and change type simultaneously:\r\n```\r\nDataset&lt;Row&gt; df2 = df.map(new MapFunction&lt;Row, Row&gt;() {\r\n            @Override\r\n            public Row call(Row row) throws Exception {\r\n                return RowFactory.create((int)row.getString(0),\r\n                                         (int)row.getString(1),\r\n                                         (date)row.getString(2));\r\n            }\r\n        }, RowEncoder.apply(newSchema));\r\n\r\ndf2.printSchema();\r\n```\r\nIn this method if cast `(int)` not worked, use `Integer.Parse` instead of.","title":"Cast Spark dataframe‚Äôs schema","body":"<p>Since DataFrame are immutable you have to create new DataFrame to change the schema. To do so, do one of the following methods:</p>\n<p><strong>I:</strong></p>\n<pre><code> Dataset&lt;Row&gt; ndf = df.select(col(&quot;age&quot;).cast(DataTypes.IntegerType),\n                              col(&quot;grade&quot;).cast(DataTypes.IntegerType),\n                              col(&quot;dateOfBirth&quot;).cast(DataTypes.DateType));        \n ndf.printSchema();\n</code></pre>\n<p><strong>II:</strong></p>\n<p>or (I did just for age column):</p>\n<pre><code>Dataset&lt;Row&gt; ndf = df.withColumn(&quot;new_age&quot;, df.col(&quot;age&quot;).cast(DataTypes.IntegerType)).drop(&quot;age&quot;);\nndf.printSchema();\n</code></pre>\n<p><strong>III:</strong></p>\n<p>at last but not least, use a map function to do your operation and change type simultaneously:</p>\n<pre><code>Dataset&lt;Row&gt; df2 = df.map(new MapFunction&lt;Row, Row&gt;() {\n            @Override\n            public Row call(Row row) throws Exception {\n                return RowFactory.create((int)row.getString(0),\n                                         (int)row.getString(1),\n                                         (date)row.getString(2));\n            }\n        }, RowEncoder.apply(newSchema));\n\ndf2.printSchema();\n</code></pre>\n<p>In this method if cast <code>(int)</code> not worked, use <code>Integer.Parse</code> instead of.</p>\n"}],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635798648,"creation_date":1635749754,"question_id":69793504,"body_markdown":"I have a dataframe with the following schema:\r\n\r\n    StructType currentSchema = new StructType(new StructField[]{\r\n        new StructField(&quot;age&quot;, DataTypes.StringType, false, Metadata.empty()),\r\n        new StructField(&quot;grade&quot;, DataTypes.StringType, false, Metadata.empty()),\r\n        new StructField(&quot;dateOfBirth&quot;, DataTypes.StringType, false, Metadata.empty())\r\n    });\r\n\r\n\r\nAnd I want to convert it at once (without specifying each column) to the following schema:\r\n\r\n    StructType newSchema = new StructType(new StructField[]{\r\n         new StructField(&quot;age&quot;, DataTypes.IntegerType, false, Metadata.empty()),\r\n         new StructField(&quot;grade&quot;, DataTypes.IntegerType, false, Metadata.empty()),\r\n         new StructField(&quot;dateOfBirth&quot;, DataTypes.DateType, false, Metadata.empty())\r\n    });\r\n\r\n\r\nIs there any way to do such `df.convert(newSchema)` operation?","title":"Cast Spark dataframe‚Äôs schema","body":"<p>I have a dataframe with the following schema:</p>\n<pre><code>StructType currentSchema = new StructType(new StructField[]{\n    new StructField(&quot;age&quot;, DataTypes.StringType, false, Metadata.empty()),\n    new StructField(&quot;grade&quot;, DataTypes.StringType, false, Metadata.empty()),\n    new StructField(&quot;dateOfBirth&quot;, DataTypes.StringType, false, Metadata.empty())\n});\n</code></pre>\n<p>And I want to convert it at once (without specifying each column) to the following schema:</p>\n<pre><code>StructType newSchema = new StructType(new StructField[]{\n     new StructField(&quot;age&quot;, DataTypes.IntegerType, false, Metadata.empty()),\n     new StructField(&quot;grade&quot;, DataTypes.IntegerType, false, Metadata.empty()),\n     new StructField(&quot;dateOfBirth&quot;, DataTypes.DateType, false, Metadata.empty())\n});\n</code></pre>\n<p>Is there any way to do such <code>df.convert(newSchema)</code> operation?</p>\n"},{"tags":["java","mongodb","spring-boot","kotlin"],"comments":[{"owner":{"account_id":13210543,"reputation":13760,"user_id":9540925,"display_name":"D. SM"},"score":0,"creation_date":1610126234,"post_id":65629989,"comment_id":116042729,"body_markdown":"Update to latest driver, use driver tutorial to reproduce the error with driver only, if it still happens report it to the driver using the published error reporting channels.","body":"Update to latest driver, use driver tutorial to reproduce the error with driver only, if it still happens report it to the driver using the published error reporting channels."}],"answers":[{"tags":[],"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutos≈Çaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1610116593,"creation_date":1610116593,"answer_id":65630991,"question_id":65629989,"body_markdown":"It seems that it&#39;s a bug in mongo DB version\r\n\r\n    4.4.3-bionic\r\n\r\nI&#39;ve changed image in docker-compose to\r\n\r\n    mongo:3\r\n\r\nand the error went away. Uh, so many hours....","title":"Attempt to switch database target during SASL authentication","body":"<p>It seems that it's a bug in mongo DB version</p>\n<pre><code>4.4.3-bionic\n</code></pre>\n<p>I've changed image in docker-compose to</p>\n<pre><code>mongo:3\n</code></pre>\n<p>and the error went away. Uh, so many hours....</p>\n"},{"tags":[],"owner":{"account_id":14228349,"reputation":1270,"user_id":10278277,"display_name":"sachin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627433951,"creation_date":1610631884,"answer_id":65720172,"question_id":65629989,"body_markdown":"I faced the same issue . I was using the spring-boot-starter-parent **2.4.1** and it worked fine with the latest mongodb docker instance. But I had to connect to Bitnami mongo docker container which uses lower mongo and then the same error occurred. I downgraded the version to **2.3.7.RELEASE** and then the expected behavior was obtained without errors.\r\n\r\nThis reason for the error for me was compatibility issue. Refer Spring data MongoDB [Compatibility Matrix][1] for viewing different versions and compatibility.\r\n\r\n**EDIT**\r\n\r\nI faced similar error in a different application. With the help of this stackoverflow post, https://stackoverflow.com/questions/57434521/mongodb-could-not-find-user-userdatabase, I was able to understand the issue and solve it. Basically, you need to specify the authentication database properly. If not, by default the user will be checked in the database provided and not the authentication database. In my case I specified database A and my user was in admin db. So user admin was checked in database A. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#compatibility.matrix\r\n  [2]: https://stackoverflow.com/q/57434521/10278277","title":"Attempt to switch database target during SASL authentication","body":"<p>I faced the same issue . I was using the spring-boot-starter-parent <strong>2.4.1</strong> and it worked fine with the latest mongodb docker instance. But I had to connect to Bitnami mongo docker container which uses lower mongo and then the same error occurred. I downgraded the version to <strong>2.3.7.RELEASE</strong> and then the expected behavior was obtained without errors.</p>\n<p>This reason for the error for me was compatibility issue. Refer Spring data MongoDB <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#compatibility.matrix\" rel=\"nofollow noreferrer\">Compatibility Matrix</a> for viewing different versions and compatibility.</p>\n<p><strong>EDIT</strong></p>\n<p>I faced similar error in a different application. With the help of this stackoverflow post, <a href=\"https://stackoverflow.com/questions/57434521/mongodb-could-not-find-user-userdatabase\">Mongodb could not find user &quot;user@database&quot;</a>, I was able to understand the issue and solve it. Basically, you need to specify the authentication database properly. If not, by default the user will be checked in the database provided and not the authentication database. In my case I specified database A and my user was in admin db. So user admin was checked in database A.</p>\n"},{"tags":[],"owner":{"account_id":16339076,"reputation":351,"user_id":11800386,"display_name":"ChanningQiu"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1611734789,"creation_date":1611734789,"answer_id":65915097,"question_id":65629989,"body_markdown":"```\r\nspring:\r\n  data:\r\n    mongodb:\r\n      uri: mongodb://admin:admin@127.0.0.1:27017/dbname?authSource=admin\r\n```\r\nadd authSource param","title":"Attempt to switch database target during SASL authentication","body":"<pre><code>spring:\n  data:\n    mongodb:\n      uri: mongodb://admin:admin@127.0.0.1:27017/dbname?authSource=admin\n</code></pre>\n<p>add authSource param</p>\n"},{"tags":[],"owner":{"account_id":4998742,"reputation":1,"user_id":5427512,"display_name":"Raymond Dinkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627335433,"creation_date":1627335433,"answer_id":68536588,"question_id":65629989,"body_markdown":"Adding `spring.data.mongodb.authentication-database=admin` in your application.properties will set the authentication database to admin.  This is equivalent to adding `?authSource=admin` in your connection string.","title":"Attempt to switch database target during SASL authentication","body":"<p>Adding <code>spring.data.mongodb.authentication-database=admin</code> in your application.properties will set the authentication database to admin.  This is equivalent to adding <code>?authSource=admin</code> in your connection string.</p>\n"},{"tags":[],"owner":{"account_id":15492584,"reputation":164,"user_id":11436109,"display_name":"SP193"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631605260,"creation_date":1631604901,"answer_id":69173701,"question_id":65629989,"body_markdown":"If you:\r\n\r\n - Have multiple similar accounts (with same credentials), one in &quot;admin&quot; and the other in another database.\r\n - Intend to log in with the other account not in the &quot;admin&quot; database.\r\n - Have SASL enabled.\r\n\r\nThen you may be affected by [JAVA-4290][1], which is caused by speculative authentication only supporting the &quot;admin&quot; database, in mongodb-driver-core versions before 4.3.2. This resulted in the client successfully authenticating with the wrong account (the one in the admin database) via speculative authentication, only for MongoDB to trap the error when the SASL Continue message is sent. It does so with a Protocol Error, as you have observed.\r\n\r\nAs of Spring Boot 2.5.4, the version of mongodb-driver-core that ships with Spring Boot is only 4.2.3.\r\n\r\n\r\n  [1]: https://jira.mongodb.org/browse/JAVA-4290","title":"Attempt to switch database target during SASL authentication","body":"<p>If you:</p>\n<ul>\n<li>Have multiple similar accounts (with same credentials), one in &quot;admin&quot; and the other in another database.</li>\n<li>Intend to log in with the other account not in the &quot;admin&quot; database.</li>\n<li>Have SASL enabled.</li>\n</ul>\n<p>Then you may be affected by <a href=\"https://jira.mongodb.org/browse/JAVA-4290\" rel=\"nofollow noreferrer\">JAVA-4290</a>, which is caused by speculative authentication only supporting the &quot;admin&quot; database, in mongodb-driver-core versions before 4.3.2. This resulted in the client successfully authenticating with the wrong account (the one in the admin database) via speculative authentication, only for MongoDB to trap the error when the SASL Continue message is sent. It does so with a Protocol Error, as you have observed.</p>\n<p>As of Spring Boot 2.5.4, the version of mongodb-driver-core that ships with Spring Boot is only 4.2.3.</p>\n"},{"tags":[],"owner":{"account_id":4567927,"reputation":5819,"user_id":3708462,"accept_rate":57,"display_name":"Emdadul Sawon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633585792,"creation_date":1633526650,"answer_id":69466606,"question_id":65629989,"body_markdown":"This answer may not directly related to this question, but I hope it will help others. If you use `uri` then @ChanningQiu answer is fine. But if you use property for each param then you can try following way-\r\n\r\n    spring:\r\n      data:\r\n        mongodb:\r\n          host: localhost\r\n          port: 27017\r\n          database: db_name\r\n          username: db_user_name\r\n          password: db_password\r\n          authentication-database: admin\r\n\r\nSo in this case you need to set `authentication-database: admin` value. \r\n","title":"Attempt to switch database target during SASL authentication","body":"<p>This answer may not directly related to this question, but I hope it will help others. If you use <code>uri</code> then @ChanningQiu answer is fine. But if you use property for each param then you can try following way-</p>\n<pre><code>spring:\n  data:\n    mongodb:\n      host: localhost\n      port: 27017\n      database: db_name\n      username: db_user_name\n      password: db_password\n      authentication-database: admin\n</code></pre>\n<p>So in this case you need to set <code>authentication-database: admin</code> value.</p>\n"},{"tags":[],"owner":{"account_id":1471959,"reputation":61,"user_id":1383285,"display_name":"Alexander KLimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635798173,"creation_date":1635798173,"answer_id":69802417,"question_id":65629989,"body_markdown":"Along with @Lutoslaw answer above: rollback to **4.2.2** works for me too.\r\n\r\nI&#39;v gotten the same error - **Attempt to switch database target during SASL authentication** - on **createIndex** operation.  \r\nIt seems as my first operation under ordinary user after successful creation admin one.\r\n\r\nIt would be cool to know what has been so dramatically changed in the auth mechanism between those versions.","title":"Attempt to switch database target during SASL authentication","body":"<p>Along with @Lutoslaw answer above: rollback to <strong>4.2.2</strong> works for me too.</p>\n<p>I'v gotten the same error - <strong>Attempt to switch database target during SASL authentication</strong> - on <strong>createIndex</strong> operation.<br />\nIt seems as my first operation under ordinary user after successful creation admin one.</p>\n<p>It would be cool to know what has been so dramatically changed in the auth mechanism between those versions.</p>\n"}],"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutos≈Çaw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7943,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":65630991,"answer_count":7,"score":10,"last_activity_date":1635798173,"creation_date":1610112852,"question_id":65629989,"body_markdown":"I try to setup a Mongo DB in Spring Boot project. I&#39;ve set an uri in application.yml:\r\n\r\n    spring:\r\n      data:\r\n        mongodb:\r\n          uri: mongodb://user:pass@localhost:27017/mydbname\r\n\r\nBut application fails to read data from repository with error:\r\n\r\n    Attempt to switch database target during SASL authentication.\r\n\r\nLine where error occurs (kotlin):\r\n\r\n    val emails = emailRepository.findAllByStatus(READY_TO_SEND)\r\n\r\nwhere\r\n\r\n    interface EmailRepository : MongoRepository&lt;Email, String&gt; {\r\n        fun findAllByStatus(status: EmailStatus) : Collection&lt;Email&gt;\r\n    }\r\n\r\nand\r\n\r\n    data class Email(\r\n        @Id\r\n        @get:JsonIgnore\r\n        var id: String? = null,\r\n        @get:NotNull\r\n        val from: MailActor,\r\n        @get:NotEmpty\r\n        val to: Collection&lt;MailActor&gt;,\r\n        @get:NotEmpty\r\n        val subject: String,\r\n        @get:NotEmpty\r\n        val htmlText: String,\r\n        val attachments: Collection&lt;Attachment&gt; = listOf(),\r\n        val cc: Collection&lt;MailActor&gt; = listOf(),\r\n        val bcc: Collection&lt;MailActor&gt; = listOf(),\r\n        @get:JsonIgnore\r\n        val status: EmailStatus = EmailStatus.READY_TO_SEND,\r\n        @get:JsonIgnore\r\n        val created: LocalDateTime = LocalDateTime.now(),\r\n        @get:JsonIgnore\r\n        val lastSendAttempt: LocalDateTime? = null,\r\n    )\r\n\r\nThe same error occurs with `findAll` and `save` operations on repository (and likely others too)\r\n\r\nStack trace:\r\n\r\n    Caused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;user&#39;, source=&#39;user&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.wrapException(SaslAuthenticator.java:235) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:80) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:51) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:241) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:51) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:168) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:63) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:144) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:51) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:431) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:115) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:100) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:92) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:119) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:135) ~[mongodb-driver-sync-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.operation.FindOperation$1.call(FindOperation.java:653) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.operation.FindOperation$1.call(FindOperation.java:650) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.operation.OperationHelper.withReadConnectionSource(OperationHelper.java:582) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:650) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:78) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:178) ~[mongodb-driver-sync-4.1.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:135) ~[mongodb-driver-sync-4.1.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:92) ~[mongodb-driver-sync-4.1.1.jar:na]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2790) ~[spring-data-mongodb-3.1.2.jar:3.1.2]\r\n    \t... 33 common frames omitted\r\n    Caused by: com.mongodb.MongoCommandException: Command failed with error 17 (ProtocolError): &#39;Attempt to switch database target during SASL authentication.&#39; on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Attempt to switch database target during SASL authentication.&quot;, &quot;code&quot;: 17, &quot;codeName&quot;: &quot;ProtocolError&quot;}\r\n    \tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:175) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:359) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:280) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:33) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.sendSaslContinue(SaslAuthenticator.java:195) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.access$200(SaslAuthenticator.java:43) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:69) ~[mongodb-driver-core-4.1.1.jar:na]\r\n    \t... 55 common frames omitted\r\n\r\n**I am able to connect to mongo via Intellij Idea client with the same credentials.**\r\n\r\nI run mongo db with docker-compose\r\n\r\n    version: &#39;3.1&#39;\r\n    \r\n    services:\r\n      mongodb:\r\n        image: mongo\r\n        container_name: my-service-mongo\r\n        restart: always\r\n        environment:\r\n          MONGO_INITDB_ROOT_USERNAME: user\r\n          MONGO_INITDB_ROOT_PASSWORD: pass\r\n          MONGO_INITDB_DATABASE: mydbname\r\n        ports:\r\n          - 27017:27017\r\n        volumes:\r\n          - ./mongo-init.js:/docker-entrypoint-initdb.d/mongo-init.js:ro\r\n\r\nwhere mongo-init.js is\r\n\r\n    db.createUser(\r\n        {\r\n            user: &quot;user&quot;,\r\n            pwd: &quot;pass&quot;,\r\n            roles: [\r\n                {\r\n                    role: &quot;readWrite&quot;,\r\n                    db: &quot;mydbname&quot;\r\n                }\r\n            ]\r\n        }\r\n    );\r\n\r\nWhat is going on? The only place in the internet where I found this error message is... mongo source code 8].\r\n\r\nAny help appreciated.\r\n","title":"Attempt to switch database target during SASL authentication","body":"<p>I try to setup a Mongo DB in Spring Boot project. I've set an uri in application.yml:</p>\n<pre><code>spring:\n  data:\n    mongodb:\n      uri: mongodb://user:pass@localhost:27017/mydbname\n</code></pre>\n<p>But application fails to read data from repository with error:</p>\n<pre><code>Attempt to switch database target during SASL authentication.\n</code></pre>\n<p>Line where error occurs (kotlin):</p>\n<pre><code>val emails = emailRepository.findAllByStatus(READY_TO_SEND)\n</code></pre>\n<p>where</p>\n<pre><code>interface EmailRepository : MongoRepository&lt;Email, String&gt; {\n    fun findAllByStatus(status: EmailStatus) : Collection&lt;Email&gt;\n}\n</code></pre>\n<p>and</p>\n<pre><code>data class Email(\n    @Id\n    @get:JsonIgnore\n    var id: String? = null,\n    @get:NotNull\n    val from: MailActor,\n    @get:NotEmpty\n    val to: Collection&lt;MailActor&gt;,\n    @get:NotEmpty\n    val subject: String,\n    @get:NotEmpty\n    val htmlText: String,\n    val attachments: Collection&lt;Attachment&gt; = listOf(),\n    val cc: Collection&lt;MailActor&gt; = listOf(),\n    val bcc: Collection&lt;MailActor&gt; = listOf(),\n    @get:JsonIgnore\n    val status: EmailStatus = EmailStatus.READY_TO_SEND,\n    @get:JsonIgnore\n    val created: LocalDateTime = LocalDateTime.now(),\n    @get:JsonIgnore\n    val lastSendAttempt: LocalDateTime? = null,\n)\n</code></pre>\n<p>The same error occurs with <code>findAll</code> and <code>save</code> operations on repository (and likely others too)</p>\n<p>Stack trace:</p>\n<pre><code>Caused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='user', source='user', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\n    at com.mongodb.internal.connection.SaslAuthenticator.wrapException(SaslAuthenticator.java:235) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:80) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:51) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:241) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:51) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:168) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:63) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:144) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:51) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:431) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:115) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:100) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:92) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:119) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:135) ~[mongodb-driver-sync-4.1.1.jar:na]\n    at com.mongodb.internal.operation.FindOperation$1.call(FindOperation.java:653) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.operation.FindOperation$1.call(FindOperation.java:650) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.operation.OperationHelper.withReadConnectionSource(OperationHelper.java:582) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:650) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:78) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:178) ~[mongodb-driver-sync-4.1.1.jar:na]\n    at com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:135) ~[mongodb-driver-sync-4.1.1.jar:na]\n    at com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:92) ~[mongodb-driver-sync-4.1.1.jar:na]\n    at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2790) ~[spring-data-mongodb-3.1.2.jar:3.1.2]\n    ... 33 common frames omitted\nCaused by: com.mongodb.MongoCommandException: Command failed with error 17 (ProtocolError): 'Attempt to switch database target during SASL authentication.' on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Attempt to switch database target during SASL authentication.&quot;, &quot;code&quot;: 17, &quot;codeName&quot;: &quot;ProtocolError&quot;}\n    at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:175) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:359) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:280) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:33) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.sendSaslContinue(SaslAuthenticator.java:195) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.access$200(SaslAuthenticator.java:43) ~[mongodb-driver-core-4.1.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:69) ~[mongodb-driver-core-4.1.1.jar:na]\n    ... 55 common frames omitted\n</code></pre>\n<p><strong>I am able to connect to mongo via Intellij Idea client with the same credentials.</strong></p>\n<p>I run mongo db with docker-compose</p>\n<pre><code>version: '3.1'\n\nservices:\n  mongodb:\n    image: mongo\n    container_name: my-service-mongo\n    restart: always\n    environment:\n      MONGO_INITDB_ROOT_USERNAME: user\n      MONGO_INITDB_ROOT_PASSWORD: pass\n      MONGO_INITDB_DATABASE: mydbname\n    ports:\n      - 27017:27017\n    volumes:\n      - ./mongo-init.js:/docker-entrypoint-initdb.d/mongo-init.js:ro\n</code></pre>\n<p>where mongo-init.js is</p>\n<pre><code>db.createUser(\n    {\n        user: &quot;user&quot;,\n        pwd: &quot;pass&quot;,\n        roles: [\n            {\n                role: &quot;readWrite&quot;,\n                db: &quot;mydbname&quot;\n            }\n        ]\n    }\n);\n</code></pre>\n<p>What is going on? The only place in the internet where I found this error message is... mongo source code 8].</p>\n<p>Any help appreciated.</p>\n"},{"tags":["java","android","android-service","android-mediaprojection"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1635800072,"post_id":69802407,"comment_id":123385443,"body_markdown":"Your first problem feels like the explanation on the exception in [the `getMediaProjection()` docs](https://developer.android.com/reference/android/media/projection/MediaProjectionManager#getMediaProjection(int,%20android.content.Intent)): &quot;on pre-Q devices if a previously gotten MediaProjection from the same resultData has not yet been stopped&quot;. The second problem is that `getMediaProjection()` is returning `null`, which isn&#39;t documented, but might be if the credentials are stale. Make sure that you use the credentials once and reasonably quickly after you get them.","body":"Your first problem feels like the explanation on the exception in <a href=\"https://developer.android.com/reference/android/media/projection/MediaProjectionManager#getMediaProjection(int,%20android.content.Intent)\" rel=\"nofollow noreferrer\">the <code>getMediaProjection()</code> docs</a>: &quot;on pre-Q devices if a previously gotten MediaProjection from the same resultData has not yet been stopped&quot;. The second problem is that <code>getMediaProjection()</code> is returning <code>null</code>, which isn&#39;t documented, but might be if the credentials are stale. Make sure that you use the credentials once and reasonably quickly after you get them."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1635800105,"post_id":69802407,"comment_id":123385450,"body_markdown":"(where by &quot;credentials&quot;, I mean whatever it is in the result `Intent` from the permission dialog that allows your app to do a recording)","body":"(where by &quot;credentials&quot;, I mean whatever it is in the result <code>Intent</code> from the permission dialog that allows your app to do a recording)"},{"owner":{"account_id":14628192,"reputation":191,"user_id":10564900,"display_name":"DeborahAnn"},"score":0,"creation_date":1636731889,"post_id":69802407,"comment_id":123642779,"body_markdown":"@CommonsWare about my first problem, as you can see I am calling the startCapture() method whenever I need it from the Thread; so I should I stop it every single time in the thread as well? I would prefer to simply take a screenshot whenever I need it and then stop the gotten MediaProjection only at the end.\n\nAbout my second problem, the credentials should never be stale since I use START_REDELIVER_INTENT but I&#39;ll try to handle this on the onStartCommand.","body":"@CommonsWare about my first problem, as you can see I am calling the startCapture() method whenever I need it from the Thread; so I should I stop it every single time in the thread as well? I would prefer to simply take a screenshot whenever I need it and then stop the gotten MediaProjection only at the end.  About my second problem, the credentials should never be stale since I use START_REDELIVER_INTENT but I&#39;ll try to handle this on the onStartCommand."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1636732283,"post_id":69802407,"comment_id":123642939,"body_markdown":"&quot;I would prefer to simply take a screenshot whenever I need it and then stop the gotten MediaProjection only at the end&quot; -- AFAIK, that would be OK, but you need to make sure that you do not try starting the media projection again. Your error suggests that this is happening.","body":"&quot;I would prefer to simply take a screenshot whenever I need it and then stop the gotten MediaProjection only at the end&quot; -- AFAIK, that would be OK, but you need to make sure that you do not try starting the media projection again. Your error suggests that this is happening."},{"owner":{"account_id":14628192,"reputation":191,"user_id":10564900,"display_name":"DeborahAnn"},"score":0,"creation_date":1636799408,"post_id":69802407,"comment_id":123656959,"body_markdown":"I am not sure how, I am not starting the media projection again since I made sure to the onStartCommand of the AccessibilityService that code is executed only if coming from MainActivity. Should I change something on the startCapture method? \n\nAlso, another question. I&#39;ve noticed that startCapture() it&#39;s not a blocking call - meaning the code executed right after might not find the screenshot. How can I fix this?","body":"I am not sure how, I am not starting the media projection again since I made sure to the onStartCommand of the AccessibilityService that code is executed only if coming from MainActivity. Should I change something on the startCapture method?   Also, another question. I&#39;ve noticed that startCapture() it&#39;s not a blocking call - meaning the code executed right after might not find the screenshot. How can I fix this?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1636809093,"post_id":69802407,"comment_id":123659036,"body_markdown":"&quot;How can I fix this?&quot; -- there should be a callback method that you can use to know when it is ready. In all seriousness, I have not fussed with the media projection APIs in quite some time, so my ability to help you is somewhat limited.","body":"&quot;How can I fix this?&quot; -- there should be a callback method that you can use to know when it is ready. In all seriousness, I have not fussed with the media projection APIs in quite some time, so my ability to help you is somewhat limited."}],"owner":{"account_id":14628192,"reputation":191,"user_id":10564900,"display_name":"DeborahAnn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1300,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635798127,"creation_date":1635798127,"question_id":69802407,"body_markdown":"These are the errors I am getting:\r\n\r\n    2021-10-31 12:18:44.281 15783-15921/com.exabes.test E/AndroidRuntime: FATAL EXCEPTION: Thread-7\r\n        Process: com.exabes.test, PID: 15783\r\n        java.lang.IllegalStateException: Cannot start already started MediaProjection\r\n            at android.os.Parcel.createException(Parcel.java:1974)\r\n            at android.os.Parcel.readException(Parcel.java:1934)\r\n            at android.os.Parcel.readException(Parcel.java:1884)\r\n            at android.media.projection.IMediaProjection$Stub$Proxy.start(IMediaProjection.java:144)\r\n            at android.media.projection.MediaProjection.&lt;init&gt;(MediaProjection.java:69)\r\n            at android.media.projection.MediaProjectionManager.getMediaProjection(MediaProjectionManager.java:169)\r\n            at com.autobot.service.AbstractNotificationService.startCapture(AbstractNotificationService.java:241)\r\n            at com.exabes.test.ExampleThread.run(ExampleThread.java:813)\r\n         Caused by: android.os.RemoteException: Remote stack trace:\r\n            at com.android.server.media.projection.MediaProjectionManagerService$MediaProjection.start(MediaProjectionManagerService.java:416)\r\n            at android.media.projection.IMediaProjection$Stub.onTransact(IMediaProjection.java:52)\r\n            at android.os.Binder.execTransact(Binder.java:739)\r\n\r\nand:\r\n\r\n    2021-10-31 12:35:40.293 17831-17992/com.exabes.test E/AndroidRuntime: FATAL EXCEPTION: Thread-7\r\n        Process: com.exabes.test, PID: 17831\r\n        java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.hardware.display.VirtualDisplay android.media.projection.MediaProjection.createVirtualDisplay(java.lang.String, int, int, int, int, android.view.Surface, android.hardware.display.VirtualDisplay$Callback, android.os.Handler)&#39; on a null object reference\r\n            at com.exabes.test.AbstractNotificationService.startCapture(AbstractNotificationService.java:251)\r\n            at com.exabes.test.ExampleThread.run(ExampleThread.java:813)\r\n\r\n\r\n\r\nI am basically requesting the `createScreenCaptureIntent` in the MainActivity and pass the results to the AccessebilityService where all the methods necessary to take a screenshots are declared. Then I simply call `startCapture()` into the Thread.\r\nI am gonna post most of the code.\r\n\r\nMainActivity:\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n    private static final int DRAW_OVER_OTHER_APP_PERMISSION = 123;\r\n\r\n    private static final int REQUEST_SCREENSHOT=59706;\r\n    private MediaProjectionManager mgr;\r\n\r\n    int resultCodeX;\r\n    Intent dataX;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON); //TODO\r\n\r\n        mgr=(MediaProjectionManager)getSystemService(MEDIA_PROJECTION_SERVICE);\r\n        startActivityForResult(mgr.createScreenCaptureIntent(), REQUEST_SCREENSHOT);\r\n\r\n        this.askPermissions();\r\n\r\n       \t...\r\n    }\r\n\r\n\r\n    public void startService()\r\n    {\r\n            // To prevent starting the service if the required permission is NOT granted.\r\n            if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M || Settings.canDrawOverlays(MainActivity.this)) {\r\n                Intent intent = new Intent(MainActivity.this, ExampleService.class);\r\n                intent.putExtra(getString(R.string.edit_text_name), Objects.requireNonNull(trainerUsernameEditText.getText()).toString());\r\n                intent.putExtra(ExampleService.EXTRA_RESULT_CODE, resultCodeX);\r\n                intent.putExtra(ExampleService.EXTRA_RESULT_INTENT, dataX);\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n                    startForegroundService(intent);\r\n                else\r\n                    startService(intent);\r\n                finish();\r\n            } else {\r\n                error();\r\n                askForSystemOverlayPermission();\r\n            }\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n\r\n        if (requestCode == REQUEST_SCREENSHOT) {\r\n            if (resultCode == RESULT_OK) {\r\n                //TODO\r\n                resultCodeX=resultCode;\r\n                dataX=data;\r\n                //finish();\r\n            }\r\n        }\r\n\r\n        else if (requestCode == DRAW_OVER_OTHER_APP_PERMISSION) {\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                if (!Settings.canDrawOverlays(this)) {\r\n                    //Permission is not available. Display error text.\r\n                    errorToast();\r\n                    finish();\r\n                }\r\n            }\r\n        }\r\n\r\n        else {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n        }\r\n    }}\r\n\r\n\r\nAccesibilityService:\r\n\r\n    public abstract class AbstractNotificationService extends AccessibilityService {\r\n\r\n    private static final String ACTION_STOP = &quot;STOP&quot;;\r\n    private NotificationCompat.Builder builder;\r\n    private NotificationManagerCompat notificationManager;\r\n    \r\n    private ActivityManager activityManager;\r\n\r\n\r\n    private static final String CHANNEL_WHATEVER=&quot;channel_whatever&quot;;\r\n    private static final int NOTIFY_ID=9906;\r\n    public static final String EXTRA_RESULT_CODE=&quot;resultCode&quot;;\r\n    public static final String EXTRA_RESULT_INTENT=&quot;resultIntent&quot;;\r\n    static final String ACTION_RECORD=\r\n            BuildConfig.APPLICATION_ID+&quot;.RECORD&quot;;\r\n    static final String ACTION_SHUTDOWN=\r\n            BuildConfig.APPLICATION_ID+&quot;.SHUTDOWN&quot;;\r\n    static final int VIRT_DISPLAY_FLAGS=\r\n            DisplayManager.VIRTUAL_DISPLAY_FLAG_OWN_CONTENT_ONLY |\r\n                    DisplayManager.VIRTUAL_DISPLAY_FLAG_PUBLIC;\r\n    private MediaProjection projection;\r\n    private VirtualDisplay vdisplay;\r\n    final private HandlerThread handlerThread=\r\n            new HandlerThread(getClass().getSimpleName(),\r\n                    android.os.Process.THREAD_PRIORITY_BACKGROUND);\r\n    private Handler handler;\r\n    private MediaProjectionManager mgr;\r\n    private WindowManager wmgr;\r\n    private ImageTransmogrifier it;\r\n    private int resultCode;\r\n    private Intent resultData;\r\n    final private ToneGenerator beeper=\r\n            new ToneGenerator(AudioManager.STREAM_NOTIFICATION, 100);\r\n\r\n\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        activityManager = (ActivityManager) getSystemService(Activity.ACTIVITY_SERVICE);\r\n\r\n\r\n        mgr=(MediaProjectionManager)getSystemService(MEDIA_PROJECTION_SERVICE);\r\n        wmgr=(WindowManager)getSystemService(WINDOW_SERVICE);\r\n\r\n        handlerThread.start();\r\n        handler=new Handler(handlerThread.getLooper());\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public int onStartCommand (Intent intent, int flags, int startId) {\r\n\r\n        String action = intent.getAction();\r\n        if (action != null) {\r\n            if (action.equals(getString(R.string.stop_foreground_action))) {\r\n                stopForeground(true);\r\n                stopSelf();\r\n\r\n                return START_NOT_STICKY;\r\n            }\r\n        }\r\n        else {\r\n            resultCode=intent.getIntExtra(EXTRA_RESULT_CODE, 1337);\r\n            resultData=intent.getParcelableExtra(EXTRA_RESULT_INTENT);\r\n            //foregroundify();\r\n        }\r\n\r\n        //return START_STICKY;\r\n        return START_REDELIVER_INTENT;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n\r\n        //TODO\r\n        beeper.startTone(ToneGenerator.TONE_PROP_NACK);\r\n        stopCapture();\r\n    }\r\n\r\n\r\n    public abstract void sendNotification(String response);\r\n\r\n\r\n \tpublic void killBackground(String packageName)\r\n    {\r\n        activityManager.killBackgroundProcesses(packageName);\r\n    }\r\n\r\n\r\n\r\n    public WindowManager getWindowManager() {\r\n        return(wmgr);\r\n    }\r\n\r\n    public Handler getHandler() {\r\n        return(handler);\r\n    }\r\n\r\n    public void processImage(final byte[] png) {\r\n        new Thread() {\r\n            @Override\r\n            public void run() {\r\n                //File output=new File(getExternalFilesDir(null),&quot;screenshot.png&quot;);\r\n                File output=new File(Environment.getExternalStorageDirectory(),&quot;screenshot.png&quot;);\r\n\r\n                try {\r\n                    FileOutputStream fos=new FileOutputStream(output);\r\n\r\n                    fos.write(png);\r\n                    fos.flush();\r\n                    //fos.getFD().sync();\r\n                    fos.close();\r\n\r\n                    MediaScannerConnection.scanFile(AbstractNotificationService.this,\r\n                            new String[] {output.getAbsolutePath()},\r\n                            new String[] {&quot;image/png&quot;},\r\n                            null);\r\n                }\r\n                catch (Exception e) {\r\n                    Log.e(getClass().getSimpleName(), &quot;Exception writing out screenshot&quot;, e);\r\n                }\r\n            }\r\n        }.start();\r\n\r\n        beeper.startTone(ToneGenerator.TONE_PROP_ACK);\r\n        stopCapture();\r\n    }\r\n\r\n    private void stopCapture() {\r\n        if (projection!=null) {\r\n            projection.stop();\r\n            vdisplay.release();\r\n            projection=null;\r\n        }\r\n    }\r\n\r\n    public void startCapture() {\r\n        projection=mgr.getMediaProjection(resultCode, resultData);\r\n        it=new ImageTransmogrifier(this);\r\n\r\n        MediaProjection.Callback cb=new MediaProjection.Callback() {\r\n            @Override\r\n            public void onStop() {\r\n                vdisplay.release();\r\n            }\r\n        };\r\n\r\n        vdisplay=projection.createVirtualDisplay(&quot;andshooter&quot;,\r\n                it.getWidth(), it.getHeight(),\r\n                getResources().getDisplayMetrics().densityDpi,\r\n                VIRT_DISPLAY_FLAGS, it.getSurface(), null, handler);\r\n        projection.registerCallback(cb, handler);\r\n    }}\r\n\r\n\r\nThread:\r\n\r\n    public class ExampleThread extends Thread {\r\n\r\n    private AbstractNotificationService notificationService;\r\n\r\n\r\n    public ExampleThread(AbstractNotificationService notificationService)\r\n    {\r\n        this.notificationService = notificationService;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void run()\r\n    {\r\n        \r\n        while(boolean){\r\n        \t...\r\n        \tnotificationService.startCapture();\r\n        }\r\n        notificationService.sendNotification(&quot;ENDED&quot;);\r\n    }}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Cannot start already started MediaProjection and rarely NullPointerException when invoking MediaProjection.createVirtualDisplay","body":"<p>These are the errors I am getting:</p>\n<pre><code>2021-10-31 12:18:44.281 15783-15921/com.exabes.test E/AndroidRuntime: FATAL EXCEPTION: Thread-7\n    Process: com.exabes.test, PID: 15783\n    java.lang.IllegalStateException: Cannot start already started MediaProjection\n        at android.os.Parcel.createException(Parcel.java:1974)\n        at android.os.Parcel.readException(Parcel.java:1934)\n        at android.os.Parcel.readException(Parcel.java:1884)\n        at android.media.projection.IMediaProjection$Stub$Proxy.start(IMediaProjection.java:144)\n        at android.media.projection.MediaProjection.&lt;init&gt;(MediaProjection.java:69)\n        at android.media.projection.MediaProjectionManager.getMediaProjection(MediaProjectionManager.java:169)\n        at com.autobot.service.AbstractNotificationService.startCapture(AbstractNotificationService.java:241)\n        at com.exabes.test.ExampleThread.run(ExampleThread.java:813)\n     Caused by: android.os.RemoteException: Remote stack trace:\n        at com.android.server.media.projection.MediaProjectionManagerService$MediaProjection.start(MediaProjectionManagerService.java:416)\n        at android.media.projection.IMediaProjection$Stub.onTransact(IMediaProjection.java:52)\n        at android.os.Binder.execTransact(Binder.java:739)\n</code></pre>\n<p>and:</p>\n<pre><code>2021-10-31 12:35:40.293 17831-17992/com.exabes.test E/AndroidRuntime: FATAL EXCEPTION: Thread-7\n    Process: com.exabes.test, PID: 17831\n    java.lang.NullPointerException: Attempt to invoke virtual method 'android.hardware.display.VirtualDisplay android.media.projection.MediaProjection.createVirtualDisplay(java.lang.String, int, int, int, int, android.view.Surface, android.hardware.display.VirtualDisplay$Callback, android.os.Handler)' on a null object reference\n        at com.exabes.test.AbstractNotificationService.startCapture(AbstractNotificationService.java:251)\n        at com.exabes.test.ExampleThread.run(ExampleThread.java:813)\n</code></pre>\n<p>I am basically requesting the <code>createScreenCaptureIntent</code> in the MainActivity and pass the results to the AccessebilityService where all the methods necessary to take a screenshots are declared. Then I simply call <code>startCapture()</code> into the Thread.\nI am gonna post most of the code.</p>\n<p>MainActivity:</p>\n<pre><code>public class MainActivity extends Activity {\n\nprivate static final int DRAW_OVER_OTHER_APP_PERMISSION = 123;\n\nprivate static final int REQUEST_SCREENSHOT=59706;\nprivate MediaProjectionManager mgr;\n\nint resultCodeX;\nIntent dataX;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON); //TODO\n\n    mgr=(MediaProjectionManager)getSystemService(MEDIA_PROJECTION_SERVICE);\n    startActivityForResult(mgr.createScreenCaptureIntent(), REQUEST_SCREENSHOT);\n\n    this.askPermissions();\n\n    ...\n}\n\n\npublic void startService()\n{\n        // To prevent starting the service if the required permission is NOT granted.\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M || Settings.canDrawOverlays(MainActivity.this)) {\n            Intent intent = new Intent(MainActivity.this, ExampleService.class);\n            intent.putExtra(getString(R.string.edit_text_name), Objects.requireNonNull(trainerUsernameEditText.getText()).toString());\n            intent.putExtra(ExampleService.EXTRA_RESULT_CODE, resultCodeX);\n            intent.putExtra(ExampleService.EXTRA_RESULT_INTENT, dataX);\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n                startForegroundService(intent);\n            else\n                startService(intent);\n            finish();\n        } else {\n            error();\n            askForSystemOverlayPermission();\n        }\n}\n\n\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n    if (requestCode == REQUEST_SCREENSHOT) {\n        if (resultCode == RESULT_OK) {\n            //TODO\n            resultCodeX=resultCode;\n            dataX=data;\n            //finish();\n        }\n    }\n\n    else if (requestCode == DRAW_OVER_OTHER_APP_PERMISSION) {\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (!Settings.canDrawOverlays(this)) {\n                //Permission is not available. Display error text.\n                errorToast();\n                finish();\n            }\n        }\n    }\n\n    else {\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n}}\n</code></pre>\n<p>AccesibilityService:</p>\n<pre><code>public abstract class AbstractNotificationService extends AccessibilityService {\n\nprivate static final String ACTION_STOP = &quot;STOP&quot;;\nprivate NotificationCompat.Builder builder;\nprivate NotificationManagerCompat notificationManager;\n\nprivate ActivityManager activityManager;\n\n\nprivate static final String CHANNEL_WHATEVER=&quot;channel_whatever&quot;;\nprivate static final int NOTIFY_ID=9906;\npublic static final String EXTRA_RESULT_CODE=&quot;resultCode&quot;;\npublic static final String EXTRA_RESULT_INTENT=&quot;resultIntent&quot;;\nstatic final String ACTION_RECORD=\n        BuildConfig.APPLICATION_ID+&quot;.RECORD&quot;;\nstatic final String ACTION_SHUTDOWN=\n        BuildConfig.APPLICATION_ID+&quot;.SHUTDOWN&quot;;\nstatic final int VIRT_DISPLAY_FLAGS=\n        DisplayManager.VIRTUAL_DISPLAY_FLAG_OWN_CONTENT_ONLY |\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_PUBLIC;\nprivate MediaProjection projection;\nprivate VirtualDisplay vdisplay;\nfinal private HandlerThread handlerThread=\n        new HandlerThread(getClass().getSimpleName(),\n                android.os.Process.THREAD_PRIORITY_BACKGROUND);\nprivate Handler handler;\nprivate MediaProjectionManager mgr;\nprivate WindowManager wmgr;\nprivate ImageTransmogrifier it;\nprivate int resultCode;\nprivate Intent resultData;\nfinal private ToneGenerator beeper=\n        new ToneGenerator(AudioManager.STREAM_NOTIFICATION, 100);\n\n\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n\n    activityManager = (ActivityManager) getSystemService(Activity.ACTIVITY_SERVICE);\n\n\n    mgr=(MediaProjectionManager)getSystemService(MEDIA_PROJECTION_SERVICE);\n    wmgr=(WindowManager)getSystemService(WINDOW_SERVICE);\n\n    handlerThread.start();\n    handler=new Handler(handlerThread.getLooper());\n}\n\n\n\n@Override\npublic int onStartCommand (Intent intent, int flags, int startId) {\n\n    String action = intent.getAction();\n    if (action != null) {\n        if (action.equals(getString(R.string.stop_foreground_action))) {\n            stopForeground(true);\n            stopSelf();\n\n            return START_NOT_STICKY;\n        }\n    }\n    else {\n        resultCode=intent.getIntExtra(EXTRA_RESULT_CODE, 1337);\n        resultData=intent.getParcelableExtra(EXTRA_RESULT_INTENT);\n        //foregroundify();\n    }\n\n    //return START_STICKY;\n    return START_REDELIVER_INTENT;\n}\n\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n\n    //TODO\n    beeper.startTone(ToneGenerator.TONE_PROP_NACK);\n    stopCapture();\n}\n\n\npublic abstract void sendNotification(String response);\n\n\npublic void killBackground(String packageName)\n{\n    activityManager.killBackgroundProcesses(packageName);\n}\n\n\n\npublic WindowManager getWindowManager() {\n    return(wmgr);\n}\n\npublic Handler getHandler() {\n    return(handler);\n}\n\npublic void processImage(final byte[] png) {\n    new Thread() {\n        @Override\n        public void run() {\n            //File output=new File(getExternalFilesDir(null),&quot;screenshot.png&quot;);\n            File output=new File(Environment.getExternalStorageDirectory(),&quot;screenshot.png&quot;);\n\n            try {\n                FileOutputStream fos=new FileOutputStream(output);\n\n                fos.write(png);\n                fos.flush();\n                //fos.getFD().sync();\n                fos.close();\n\n                MediaScannerConnection.scanFile(AbstractNotificationService.this,\n                        new String[] {output.getAbsolutePath()},\n                        new String[] {&quot;image/png&quot;},\n                        null);\n            }\n            catch (Exception e) {\n                Log.e(getClass().getSimpleName(), &quot;Exception writing out screenshot&quot;, e);\n            }\n        }\n    }.start();\n\n    beeper.startTone(ToneGenerator.TONE_PROP_ACK);\n    stopCapture();\n}\n\nprivate void stopCapture() {\n    if (projection!=null) {\n        projection.stop();\n        vdisplay.release();\n        projection=null;\n    }\n}\n\npublic void startCapture() {\n    projection=mgr.getMediaProjection(resultCode, resultData);\n    it=new ImageTransmogrifier(this);\n\n    MediaProjection.Callback cb=new MediaProjection.Callback() {\n        @Override\n        public void onStop() {\n            vdisplay.release();\n        }\n    };\n\n    vdisplay=projection.createVirtualDisplay(&quot;andshooter&quot;,\n            it.getWidth(), it.getHeight(),\n            getResources().getDisplayMetrics().densityDpi,\n            VIRT_DISPLAY_FLAGS, it.getSurface(), null, handler);\n    projection.registerCallback(cb, handler);\n}}\n</code></pre>\n<p>Thread:</p>\n<pre><code>public class ExampleThread extends Thread {\n\nprivate AbstractNotificationService notificationService;\n\n\npublic ExampleThread(AbstractNotificationService notificationService)\n{\n    this.notificationService = notificationService;\n}\n\n\n@Override\npublic void run()\n{\n    \n    while(boolean){\n        ...\n        notificationService.startCapture();\n    }\n    notificationService.sendNotification(&quot;ENDED&quot;);\n}}\n</code></pre>\n"},{"tags":["java","reactive","r2dbc"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1636096553,"post_id":69802356,"comment_id":123470476,"body_markdown":"Just checking, that package private constructor isn&#39;t the reason, perhaps? Does it help if you make it `public`?","body":"Just checking, that package private constructor isn&#39;t the reason, perhaps? Does it help if you make it <code>public</code>?"},{"owner":{"account_id":5304231,"reputation":181,"user_id":4232761,"accept_rate":47,"display_name":"DarkFeud"},"score":0,"creation_date":1636188377,"post_id":69802356,"comment_id":123493717,"body_markdown":"Thanks for the thought, but that does not make a difference","body":"Thanks for the thought, but that does not make a difference"}],"owner":{"account_id":5304231,"reputation":181,"user_id":4232761,"accept_rate":47,"display_name":"DarkFeud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635797851,"creation_date":1635797851,"question_id":69802356,"body_markdown":"I have ran into a complete stop trying to develop a service using R2dbc. I am building an integration test for it. The service has a huge problem, which while preparing the test data in the integration test I am able to to build, save it in db (h2) and receive the test data from h2 db for entity user. \r\n\r\nSadly when I call the endpoint I am trying to test where data for user has been saved while setting up the test data for user, there in a service class r2dbc fails to instantiate User class while trying to get the object from db. I have defined an empty constructor for User. I am completely stuck at understanding why this instantiation fails. When setting up the test data in the integration test I am able to save and receive rows, but when the integration test reaches the endpoint and the service it just returns the following error while querying:\r\n\r\n    org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.x.base.domain.User using constructor com.x.base.domain.User() with arguments \r\n    \tat org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:240)\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Assembly trace from producer [reactor.core.publisher.FluxMapFuseable] :\r\n    \treactor.core.publisher.Flux.map(Flux.java:6091)\r\n    \tio.r2dbc.h2.H2Result.map(H2Result.java:67)\r\n    Error has been observed at the following site(s):\r\n\r\n\r\nThe entity:\r\n\r\n    @Table(&quot;user&quot;)\r\n    public class User extends AbstractAuditingEntity implements Serializable {\r\n        User() {\r\n        }\r\n\r\n        @Id\r\n        @Column(&quot;id&quot;)\r\n        @Size(max = 100)\r\n        @NotNull\r\n        private String id;\r\n    \r\n        @NotNull\r\n        @Pattern(regexp = Constants.LOGIN_REGEX)\r\n        @Size(min = 1, max = 50)\r\n        @Column(&quot;login&quot;)\r\n        private String login;\r\n    \r\n        @Size(max = 50)\r\n        @Column(&quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Size(max = 50)\r\n        @Column(&quot;last_name&quot;)\r\n        private String lastName;\r\n        ....\r\n        (getters and builder down below)\r\n    }\r\n\r\nI have debugged the instantiation to a really low level and have not yet seen anything to cause this error. The DB is found and also the reflections (I do not use setter classes).\r\n\r\nThe integration test:\r\n\r\n    // here user is defined and populated - I only use block in the integration tests.\r\n    var user = userRepository.create(user).block();\r\n    // here I test if the method in the service should work\r\n    var userByLogin = userRepository.findOneByLogin(user.getLogin())\r\n    \r\n     TreeDTO treeDTO = webTestClient\r\n                .get()\r\n                .uri(&quot;/api/x/x/&quot; + user.getId())\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus()\r\n                .isOk()\r\n                .expectHeader()\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .returnResult(TreeDTO.class)\r\n                .getResponseBody()\r\n                .blockFirst();\r\n\r\nService method, where the instantiation fails:\r\n\r\n    @Transactional(readOnly = true)\r\n        public Mono&lt;DevelopmentTreeDTO&gt; getTreeByUserId(String userId) {\r\n            return SecurityUtils.getCurrentUserLogin()\r\n                .flatMap(login -&gt; userRepository.findOneByLogin(login) -&gt; error is thrown here (user is authenticated and login is present in securityUtils)\r\n                             .map(user -&gt; { ...\r\n\r\n\r\nI tried to keep it as short as possible, but I just am scratching my head with this. Any recommendation is extremely welcome. Thank you in advance!","title":"R2dbc cannot instantiate Class using empty constructor","body":"<p>I have ran into a complete stop trying to develop a service using R2dbc. I am building an integration test for it. The service has a huge problem, which while preparing the test data in the integration test I am able to to build, save it in db (h2) and receive the test data from h2 db for entity user.</p>\n<p>Sadly when I call the endpoint I am trying to test where data for user has been saved while setting up the test data for user, there in a service class r2dbc fails to instantiate User class while trying to get the object from db. I have defined an empty constructor for User. I am completely stuck at understanding why this instantiation fails. When setting up the test data in the integration test I am able to save and receive rows, but when the integration test reaches the endpoint and the service it just returns the following error while querying:</p>\n<pre><code>org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.x.base.domain.User using constructor com.x.base.domain.User() with arguments \n    at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:240)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nAssembly trace from producer [reactor.core.publisher.FluxMapFuseable] :\n    reactor.core.publisher.Flux.map(Flux.java:6091)\n    io.r2dbc.h2.H2Result.map(H2Result.java:67)\nError has been observed at the following site(s):\n</code></pre>\n<p>The entity:</p>\n<pre><code>@Table(&quot;user&quot;)\npublic class User extends AbstractAuditingEntity implements Serializable {\n    User() {\n    }\n\n    @Id\n    @Column(&quot;id&quot;)\n    @Size(max = 100)\n    @NotNull\n    private String id;\n\n    @NotNull\n    @Pattern(regexp = Constants.LOGIN_REGEX)\n    @Size(min = 1, max = 50)\n    @Column(&quot;login&quot;)\n    private String login;\n\n    @Size(max = 50)\n    @Column(&quot;first_name&quot;)\n    private String firstName;\n\n    @Size(max = 50)\n    @Column(&quot;last_name&quot;)\n    private String lastName;\n    ....\n    (getters and builder down below)\n}\n</code></pre>\n<p>I have debugged the instantiation to a really low level and have not yet seen anything to cause this error. The DB is found and also the reflections (I do not use setter classes).</p>\n<p>The integration test:</p>\n<pre><code>// here user is defined and populated - I only use block in the integration tests.\nvar user = userRepository.create(user).block();\n// here I test if the method in the service should work\nvar userByLogin = userRepository.findOneByLogin(user.getLogin())\n\n TreeDTO treeDTO = webTestClient\n            .get()\n            .uri(&quot;/api/x/x/&quot; + user.getId())\n            .accept(MediaType.APPLICATION_JSON)\n            .exchange()\n            .expectStatus()\n            .isOk()\n            .expectHeader()\n            .contentType(MediaType.APPLICATION_JSON)\n            .returnResult(TreeDTO.class)\n            .getResponseBody()\n            .blockFirst();\n</code></pre>\n<p>Service method, where the instantiation fails:</p>\n<pre><code>@Transactional(readOnly = true)\n    public Mono&lt;DevelopmentTreeDTO&gt; getTreeByUserId(String userId) {\n        return SecurityUtils.getCurrentUserLogin()\n            .flatMap(login -&gt; userRepository.findOneByLogin(login) -&gt; error is thrown here (user is authenticated and login is present in securityUtils)\n                         .map(user -&gt; { ...\n</code></pre>\n<p>I tried to keep it as short as possible, but I just am scratching my head with this. Any recommendation is extremely welcome. Thank you in advance!</p>\n"},{"tags":["java","double"],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1461800659,"creation_date":1461800659,"answer_id":36902808,"question_id":36902784,"body_markdown":"It&#39;s because of the data type. \r\n\r\nWhen you do `1/2` that is integer division because two operands are integers, hence it resolves to zero (0.5 rounded down to zero).\r\n\r\nIf you convert any one of them to double, you&#39;ll get a double result.\r\n\r\n    double d = 1d/2;\r\n\r\nor \r\n\r\n    double d = 1/2.0;","title":"Why does 1 / 2 == 0 using double?","body":"<p>It's because of the data type. </p>\n\n<p>When you do <code>1/2</code> that is integer division because two operands are integers, hence it resolves to zero (0.5 rounded down to zero).</p>\n\n<p>If you convert any one of them to double, you'll get a double result.</p>\n\n<pre><code>double d = 1d/2;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>double d = 1/2.0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461800842,"creation_date":1461800842,"answer_id":36902841,"question_id":36902784,"body_markdown":"1 and 2 are both integers, so `1 / 2 == 0`. The result doesn&#39;t get converted to `double` until it&#39;s assigned to the variable, but by then it&#39;s too late. If you want to do float division, do `1.0 / 2`.","title":"Why does 1 / 2 == 0 using double?","body":"<p>1 and 2 are both integers, so <code>1 / 2 == 0</code>. The result doesn't get converted to <code>double</code> until it's assigned to the variable, but by then it's too late. If you want to do float division, do <code>1.0 / 2</code>.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461800882,"creation_date":1461800882,"answer_id":36902846,"question_id":36902784,"body_markdown":"It&#39;s because `1` and `2` are `int` values, so as per the java language spec, the result of an arithmetic operation on `int` operands is also `int`. Any non-whole number part of the result is discarded - ie the decimal part is truncated, `0.5` -&gt; `0`\r\n\r\nThere is an automatic widening cast from `int` to `double` when the value is assigned to `d`, but cast is done on the `int` result, which is a whole number `0`.\r\n\r\nIf &quot;fix&quot; the problem, make one of the operands `double` by adding a &quot;d&quot; to the numeric literal:\r\n\r\n    double d = 1d/2;\r\n    System.out.println(d); // &quot;0.5&quot;\r\n\r\nAs per the language spec, when one of the operands of an arithmetic operation is `double`, the result is also `double`.\r\n\r\n","title":"Why does 1 / 2 == 0 using double?","body":"<p>It's because <code>1</code> and <code>2</code> are <code>int</code> values, so as per the java language spec, the result of an arithmetic operation on <code>int</code> operands is also <code>int</code>. Any non-whole number part of the result is discarded - ie the decimal part is truncated, <code>0.5</code> -> <code>0</code></p>\n\n<p>There is an automatic widening cast from <code>int</code> to <code>double</code> when the value is assigned to <code>d</code>, but cast is done on the <code>int</code> result, which is a whole number <code>0</code>.</p>\n\n<p>If \"fix\" the problem, make one of the operands <code>double</code> by adding a \"d\" to the numeric literal:</p>\n\n<pre><code>double d = 1d/2;\nSystem.out.println(d); // \"0.5\"\n</code></pre>\n\n<p>As per the language spec, when one of the operands of an arithmetic operation is <code>double</code>, the result is also <code>double</code>.</p>\n"},{"tags":[],"owner":{"account_id":6728672,"reputation":11,"user_id":5185813,"display_name":"Krulig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461800924,"creation_date":1461800924,"answer_id":36902847,"question_id":36902784,"body_markdown":"Cause result of 1/2 = 0 and then result is parsing to double. You&#39;re using int instead of double. \r\nI think it should be ok:\r\n\r\n    double d = 1/2.0;\r\n    System.out.println(d);\r\n\r\nSorry for weak english ","title":"Why does 1 / 2 == 0 using double?","body":"<p>Cause result of 1/2 = 0 and then result is parsing to double. You're using int instead of double. \nI think it should be ok:</p>\n\n<pre><code>double d = 1/2.0;\nSystem.out.println(d);\n</code></pre>\n\n<p>Sorry for weak english </p>\n"}],"owner":{"account_id":8337671,"reputation":111,"user_id":6264026,"display_name":"Benton Justice"},"comment_count":0,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34514,"favorite_count":0,"down_vote_count":3,"up_vote_count":10,"closed_date":1461875106,"accepted_answer_id":36902808,"answer_count":4,"score":7,"last_activity_date":1635797827,"creation_date":1461800519,"question_id":36902784,"body_markdown":"I&#39;m a high school student currently getting ready for a state academic meet(UIL). I have a problem and I&#39;ve looked everywhere and can&#39;t seem to find an answer! Why does this print out 0.0?\r\n\r\n    double d = 1/2;\r\n    System.out.println(d);\r\n","title":"Why does 1 / 2 == 0 using double?","body":"<p>I'm a high school student currently getting ready for a state academic meet(UIL). I have a problem and I've looked everywhere and can't seem to find an answer! Why does this print out 0.0?</p>\n\n<pre><code>double d = 1/2;\nSystem.out.println(d);\n</code></pre>\n"},{"tags":["javascript","java","reactjs","react-native","flutter"],"comments":[{"owner":{"account_id":15811783,"reputation":186,"user_id":11408607,"display_name":"Jameel Nazir"},"score":0,"creation_date":1613646793,"post_id":66258374,"comment_id":117142208,"body_markdown":"You can do that according to your system requirement if you think if you have a same application with will communicate with different servers you can do that","body":"You can do that according to your system requirement if you think if you have a same application with will communicate with different servers you can do that"},{"owner":{"account_id":15811783,"reputation":186,"user_id":11408607,"display_name":"Jameel Nazir"},"score":0,"creation_date":1613646879,"post_id":66258374,"comment_id":117142248,"body_markdown":"you can also store your all base urls on primary server and get base url first from there and then make your url it could be helpfull in that case you have  many customers with different servers and and every customer will use same front end application in that case it will be helpfull","body":"you can also store your all base urls on primary server and get base url first from there and then make your url it could be helpfull in that case you have  many customers with different servers and and every customer will use same front end application in that case it will be helpfull"}],"answers":[{"tags":[],"owner":{"account_id":8391815,"reputation":124,"user_id":6300307,"display_name":"Hanly Nadackal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635797084,"creation_date":1635797084,"answer_id":69802240,"question_id":66258374,"body_markdown":"I will come to the answer, but before that, one a quick look at the URL, it seems like you are planning to use ```/api/routename``` as a view URL.\r\n\r\nThis convention is not good. I would rather do the below-\r\n\r\nMy ```Routes``` will be a URL without ```/api``` and the API&#39;s this ```Route``` component will call will have the ```/api``` attached to it.\r\n\r\nRoute Name -&gt; https://example.com/routename (without the ```/api```. This is what the browser address bar will show)\r\n\r\nAPI calls -&gt; https://example.com/api/endpoint (internal API call from the ```routename``` component. This is what you will see in the ```network``` tab when this component makes the call to the backend API).\r\n\r\nAnd finally, to answer your question, you should only make the host dynamic when you develop the web application.\r\n\r\nBecause, any other changes needed in the URL (be it changing ```/api``` to ```/xyz``` in the calls, removing ```/api``` from the URL in the network calls, etc) you can always do it from your network layer by adding a ```reverse proxy``` or with some ```redirect``` configurations using ```nginx``` or something similar.\r\n\r\nSo, make only the ```domain``` dynamic. For the rest, we should use the network layer tools which is recommended solution.","title":"How i can make My Server BASEURL dynamic as a frontend developer?","body":"<p>I will come to the answer, but before that, one a quick look at the URL, it seems like you are planning to use <code>/api/routename</code> as a view URL.</p>\n<p>This convention is not good. I would rather do the below-</p>\n<p>My <code>Routes</code> will be a URL without <code>/api</code> and the API's this <code>Route</code> component will call will have the <code>/api</code> attached to it.</p>\n<p>Route Name -&gt; <a href=\"https://example.com/routename\" rel=\"nofollow noreferrer\">https://example.com/routename</a> (without the <code>/api</code>. This is what the browser address bar will show)</p>\n<p>API calls -&gt; <a href=\"https://example.com/api/endpoint\" rel=\"nofollow noreferrer\">https://example.com/api/endpoint</a> (internal API call from the <code>routename</code> component. This is what you will see in the <code>network</code> tab when this component makes the call to the backend API).</p>\n<p>And finally, to answer your question, you should only make the host dynamic when you develop the web application.</p>\n<p>Because, any other changes needed in the URL (be it changing <code>/api</code> to <code>/xyz</code> in the calls, removing <code>/api</code> from the URL in the network calls, etc) you can always do it from your network layer by adding a <code>reverse proxy</code> or with some <code>redirect</code> configurations using <code>nginx</code> or something similar.</p>\n<p>So, make only the <code>domain</code> dynamic. For the rest, we should use the network layer tools which is recommended solution.</p>\n"}],"owner":{"account_id":20377971,"reputation":43,"user_id":14948691,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635797084,"creation_date":1613645150,"question_id":66258374,"body_markdown":"As a Front-end developer Does making my server URL dynamics before the route name is good?\r\nlike https://example.com/api/routeame if I make the &quot;https://example.com/api/ &quot;as a dynamic to come from outside is that good ?!\r\nif it&#39;s good how I will implement this faraway firebase dynamic link cause it&#39;s made for not that purpose","title":"How i can make My Server BASEURL dynamic as a frontend developer?","body":"<p>As a Front-end developer Does making my server URL dynamics before the route name is good?\nlike <a href=\"https://example.com/api/routeame\" rel=\"nofollow noreferrer\">https://example.com/api/routeame</a> if I make the &quot;https://example.com/api/ &quot;as a dynamic to come from outside is that good ?!\nif it's good how I will implement this faraway firebase dynamic link cause it's made for not that purpose</p>\n"},{"tags":["java","c","recurrence"],"comments":[{"owner":{"account_id":3599827,"reputation":13913,"user_id":3003365,"display_name":"kaylum"},"score":0,"creation_date":1635793884,"post_id":69801649,"comment_id":123383472,"body_markdown":"Why the C tag if the code is Java?","body":"Why the C tag if the code is Java?"},{"owner":{"account_id":5524527,"reputation":42810,"user_id":4386427,"accept_rate":100,"display_name":"Support Ukraine"},"score":0,"creation_date":1635794205,"post_id":69801649,"comment_id":123383580,"body_markdown":"&quot;these functions does not seem to give the correct values when they iterate for a random value of t&quot; It would be better if you gave us **one value of `t`** that results in an incorrect answer","body":"&quot;these functions does not seem to give the correct values when they iterate for a random value of t&quot; It would be better if you gave us <b>one value of <code>t</code></b> that results in an incorrect answer"},{"owner":{"account_id":16988151,"reputation":143,"user_id":12288395,"display_name":"aniani2020"},"score":0,"creation_date":1635794335,"post_id":69801649,"comment_id":123383629,"body_markdown":"@kaylum this code snippet runs perfectly in C too","body":"@kaylum this code snippet runs perfectly in C too"},{"owner":{"account_id":16988151,"reputation":143,"user_id":12288395,"display_name":"aniani2020"},"score":0,"creation_date":1635794410,"post_id":69801649,"comment_id":123383662,"body_markdown":"@4386427 for a example if you run them from t=0 to t=10 you only get the correct values for t=0","body":"@4386427 for a example if you run them from t=0 to t=10 you only get the correct values for t=0"},{"owner":{"account_id":5524527,"reputation":42810,"user_id":4386427,"accept_rate":100,"display_name":"Support Ukraine"},"score":0,"creation_date":1635794415,"post_id":69801649,"comment_id":123383665,"body_markdown":"@aniani2020 I can explain you why it&#39;s not working in C but I&#39;m not sure it&#39;s the same answer for java","body":"@aniani2020 I can explain you why it&#39;s not working in C but I&#39;m not sure it&#39;s the same answer for java"},{"owner":{"account_id":16988151,"reputation":143,"user_id":12288395,"display_name":"aniani2020"},"score":0,"creation_date":1635794453,"post_id":69801649,"comment_id":123383680,"body_markdown":"that would be nice to know why aren&#39;t they working in C","body":"that would be nice to know why aren&#39;t they working in C"},{"owner":{"account_id":3599827,"reputation":13913,"user_id":3003365,"display_name":"kaylum"},"score":1,"creation_date":1635794549,"post_id":69801649,"comment_id":123383709,"body_markdown":"@aniani2020 Your question is confusing. Why are you showing incorrect C code and also asking about writing it in java? So which is it? A java question or a C question.","body":"@aniani2020 Your question is confusing. Why are you showing incorrect C code and also asking about writing it in java? So which is it? A java question or a C question."},{"owner":{"account_id":16988151,"reputation":143,"user_id":12288395,"display_name":"aniani2020"},"score":0,"creation_date":1635794654,"post_id":69801649,"comment_id":123383741,"body_markdown":"If you could tell me why it is not working in C, I will try and write it in C and see if that solves the problem and then maybe it would be the same answer for Java","body":"If you could tell me why it is not working in C, I will try and write it in C and see if that solves the problem and then maybe it would be the same answer for Java"}],"answers":[{"tags":[],"owner":{"account_id":5524527,"reputation":42810,"user_id":4386427,"accept_rate":100,"display_name":"Support Ukraine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635796648,"creation_date":1635794665,"answer_id":69801840,"question_id":69801649,"body_markdown":"This answer is for C as OP requested a C answer in a comment. (I think it&#39;s the same for java but I&#39;m not sure):\r\n\r\nYour formula obviously requires floating point calculations. But you are doing it all using `int`. Therefore you get strange results. \r\n\r\nExample: \r\n\r\n(4/3) will give the result 1\r\n\r\n(5/7) will give the result 0\r\n\r\nSo change `int` to `double` and write (5.0/7.0) instead of (5/7)\r\n\r\nExample:\r\n\r\n    double A(int t)\r\n    {\r\n        double A0 = 3.0;\r\n        if(t&gt;0){\r\n        A0 = ((4.0/3.0)*A(t-1))-((4.0/7.0)*C(t-1));\r\n        return A0;\r\n        }\r\n        return A0;\r\n    }\r\n\r\nor a bit shorter:\r\n\r\n    double A(int t)\r\n    {\r\n        if (t == 0) return 3.0;\r\n\r\n        return (4.0/3.0)*A(t-1) - (4.0/7.0)*C(t-1);\r\n    }\r\n\r\nSo a complete example\r\n\r\n    #include &lt;stdio.h&gt;\r\n    \r\n    double B(int t);\r\n    double C(int t);\r\n    \r\n    double A(int t)\r\n    {\r\n        if (t == 0) return 3.0;\r\n        return (4.0/3.0)*A(t-1) - (4.0/7.0)*C(t-1);\r\n    }\r\n    \r\n    double B(int t)\r\n    {\r\n        if (t == 0) return 5.0;\r\n        return (5.0/7.0)*B(t-1) - (8.0/5.0)*A(t-1);\r\n    }\r\n    \r\n    double C(int t)\r\n    {\r\n        if (t == 0) return 10.0;\r\n        return (7.0/2.0)*C(t-1) - (3.0/7.0)*B(t-1);\r\n    }\r\n    \r\n    int main (void){\r\n        for (int i = 0; i &lt; 10; ++ i) printf(&quot;%f %f %f\\n &quot;, A(i), B(i), C(i));    \r\n        return 0;   \r\n    } \r\n\r\nOutput:\r\n\r\n    3.000000 5.000000 10.000000\r\n     -1.714286 -1.228571 32.857143\r\n     -21.061224 1.865306 115.526531\r\n     -94.096793 35.030321 403.543440\r\n     -356.058642 175.576526 1397.389046\r\n     -1273.252883 695.105632 4815.614579\r\n     -4449.450270 2533.708635 16556.748613\r\n     -15393.599567 8928.912314 56862.745016\r\n     -53017.796574 31007.553817 195192.930849\r\n     -182229.213060 106976.727246 669886.306334\r\n\r\n","title":"defining recurrence functions in java","body":"<p>This answer is for C as OP requested a C answer in a comment. (I think it's the same for java but I'm not sure):</p>\n<p>Your formula obviously requires floating point calculations. But you are doing it all using <code>int</code>. Therefore you get strange results.</p>\n<p>Example:</p>\n<p>(4/3) will give the result 1</p>\n<p>(5/7) will give the result 0</p>\n<p>So change <code>int</code> to <code>double</code> and write (5.0/7.0) instead of (5/7)</p>\n<p>Example:</p>\n<pre><code>double A(int t)\n{\n    double A0 = 3.0;\n    if(t&gt;0){\n    A0 = ((4.0/3.0)*A(t-1))-((4.0/7.0)*C(t-1));\n    return A0;\n    }\n    return A0;\n}\n</code></pre>\n<p>or a bit shorter:</p>\n<pre><code>double A(int t)\n{\n    if (t == 0) return 3.0;\n\n    return (4.0/3.0)*A(t-1) - (4.0/7.0)*C(t-1);\n}\n</code></pre>\n<p>So a complete example</p>\n<pre><code>#include &lt;stdio.h&gt;\n\ndouble B(int t);\ndouble C(int t);\n\ndouble A(int t)\n{\n    if (t == 0) return 3.0;\n    return (4.0/3.0)*A(t-1) - (4.0/7.0)*C(t-1);\n}\n\ndouble B(int t)\n{\n    if (t == 0) return 5.0;\n    return (5.0/7.0)*B(t-1) - (8.0/5.0)*A(t-1);\n}\n\ndouble C(int t)\n{\n    if (t == 0) return 10.0;\n    return (7.0/2.0)*C(t-1) - (3.0/7.0)*B(t-1);\n}\n\nint main (void){\n    for (int i = 0; i &lt; 10; ++ i) printf(&quot;%f %f %f\\n &quot;, A(i), B(i), C(i));    \n    return 0;   \n} \n</code></pre>\n<p>Output:</p>\n<pre><code>3.000000 5.000000 10.000000\n -1.714286 -1.228571 32.857143\n -21.061224 1.865306 115.526531\n -94.096793 35.030321 403.543440\n -356.058642 175.576526 1397.389046\n -1273.252883 695.105632 4815.614579\n -4449.450270 2533.708635 16556.748613\n -15393.599567 8928.912314 56862.745016\n -53017.796574 31007.553817 195192.930849\n -182229.213060 106976.727246 669886.306334\n</code></pre>\n"}],"owner":{"account_id":16988151,"reputation":143,"user_id":12288395,"display_name":"aniani2020"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1635797045,"answer_count":1,"score":-1,"last_activity_date":1635796648,"creation_date":1635793630,"question_id":69801649,"body_markdown":"I have the following recurrence functions:\r\n\r\n    A(T)=4/3A(T-1)-4/7C(T-1), for T&gt;0 and A(0)=3\r\n    B(T)=5/7B(T-1)-8/5A(T-1), for T&gt;0 and B(0)=5\r\n    C(T)=7/2C(T-1)-3/7B(T-1), for T&gt;0 and C(0)=10\r\n\r\nI would like to define these functions in Java, I wrote the following code:\r\n\r\n    \r\n\r\n            int A(int t)\r\n            {\r\n                int A0 = 3;\r\n            \tif(t&gt;0){\r\n                A0 = ((4/3)*A(t-1))-((4/7)*C(t-1));\r\n            \treturn A0;\r\n            \t}\r\n                return A0;\r\n        }\r\n    \r\n    int B(int t)\r\n            {\r\n                int B0 = 5;\r\n            \tif(t&gt;0){\r\n                B0 = ((5/7)*B(t-1))-((8/5)*A(t-1));\r\n            \treturn B0;\r\n            \t}\r\n                return B0;\r\n        }\r\n    \r\n    int C(int t)\r\n            {\r\n                int C0 = 10;\r\n            \tif(t&gt;0){\r\n                C0 = ((7/2)*C(t-1))-((3/7)*B(t-1));\r\n            \treturn C0;\r\n            \t}\r\n                return C0;\r\n        }\r\n\r\nthese functions does not seem to give the correct values when they iterate for a random value of t\r\nwhat am I doing wrong?","title":"defining recurrence functions in java","body":"<p>I have the following recurrence functions:</p>\n<pre><code>A(T)=4/3A(T-1)-4/7C(T-1), for T&gt;0 and A(0)=3\nB(T)=5/7B(T-1)-8/5A(T-1), for T&gt;0 and B(0)=5\nC(T)=7/2C(T-1)-3/7B(T-1), for T&gt;0 and C(0)=10\n</code></pre>\n<p>I would like to define these functions in Java, I wrote the following code:</p>\n<pre><code>        int A(int t)\n        {\n            int A0 = 3;\n            if(t&gt;0){\n            A0 = ((4/3)*A(t-1))-((4/7)*C(t-1));\n            return A0;\n            }\n            return A0;\n    }\n\nint B(int t)\n        {\n            int B0 = 5;\n            if(t&gt;0){\n            B0 = ((5/7)*B(t-1))-((8/5)*A(t-1));\n            return B0;\n            }\n            return B0;\n    }\n\nint C(int t)\n        {\n            int C0 = 10;\n            if(t&gt;0){\n            C0 = ((7/2)*C(t-1))-((3/7)*B(t-1));\n            return C0;\n            }\n            return C0;\n    }\n</code></pre>\n<p>these functions does not seem to give the correct values when they iterate for a random value of t\nwhat am I doing wrong?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1635787682,"post_id":69800460,"comment_id":123381327,"body_markdown":"&quot;An exception&quot; really isn&#39;t as helpful as it could be. Have you considered logging the exception to see what it is? It might be valuable to include that in the question instead of making people wonder.","body":"&quot;An exception&quot; really isn&#39;t as helpful as it could be. Have you considered logging the exception to see what it is? It might be valuable to include that in the question instead of making people wonder."},{"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"score":0,"creation_date":1635788583,"post_id":69800460,"comment_id":123381612,"body_markdown":"You are currently &quot;swallowing&quot; the exception. That is you are hiding it and do nothing about it. Start by adding an `e.printStackTrace()`, when you catch it. This will allow you to see, where it is happening. My guess is that it is a NumberFormatException.","body":"You are currently &quot;swallowing&quot; the exception. That is you are hiding it and do nothing about it. Start by adding an <code>e.printStackTrace()</code>, when you catch it. This will allow you to see, where it is happening. My guess is that it is a NumberFormatException."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1635791260,"post_id":69800460,"comment_id":123382551,"body_markdown":"When I tested your code it worked, so check your input file and check your list and add the [stacktrace](https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors) to your question.","body":"When I tested your code it worked, so check your input file and check your list and add the <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">stacktrace</a> to your question."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635796551,"creation_date":1635790695,"answer_id":69801090,"question_id":69800460,"body_markdown":"In the loop I do not see a repetition of `readLine`, a bug.\r\n\r\nEvidently you need **input validation** and better error reporting.\r\nData errors may be hard to find, so line content and line number might be benificial.\r\n\r\nI added some validation, but it can be done nicer.\r\nI gave the cryptic Exception.getMessage (or getLocalizedMessage), as that at least will inform you to the cause.\r\n\r\n        String message = &quot;&quot;;\r\n        int lineno = 0;\r\n        try (BufferedReader in = Files.newBufferedReader(\r\n                Paths.get(&quot;Doggie.txt&quot;), Charset.defaultCharset())) {\r\n\r\n            String line;\r\n            while ((line = in.readLine())!= null) {\r\n                ++lineno;\r\n                String[] lineArray = line.split(&quot;\\\\s*,\\\\s*&quot;);\r\n\r\nAbove I allowed whitespace around the comma. This trims the fields, which otherwise would not be able to be converted to a number.\r\n\r\nChecking the number of fields is important; for instance the name could contain a comma.\r\n\r\n                if (lineArray.length != 11) {\r\n                    throw new IllegalArgumentException(&quot;Wrong number of fields: &quot; + line);\r\n                }\r\n\r\n                String name = lineArray[0];\r\n                String a = lineArray[1];\r\n                String phone = lineArray[2];\r\n                String location = lineArray[3];\r\n                String p = lineArray[4];\r\n                String id = lineArray[5];\r\n                String dogName = lineArray[6];\r\n                String breed = lineArray[7];\r\n                String w = lineArray[8];\r\n                String t = lineArray[9];\r\n                String vet = lineArray[10];\r\n\r\nThe following conversions seem to go wrong, give a NumberFormatException probably.\r\nYou certainly want to know the source.\r\n\r\n                message = &quot;Age wrong: &quot; + lineno + &quot;. &quot; +line;\r\n                int age = Integer.parseInt(a);\r\n                message = &quot;Payment wrong: &quot; + lineno + &quot;. &quot; +line;\r\n                double payment = Double.parseDouble(p);\r\n                message = &quot;Weight wrong: &quot; + lineno + &quot;. &quot; +line;\r\n                double weight = Double.parseDouble(w);\r\n                message = &quot;Times wrong: &quot; + lineno + &quot;. &quot; +line;\r\n                int times = Integer.parseInt(t);\r\n                message = &quot;&quot;;\r\n\r\n                Dog doggo = new Dog(name, phone, location, payment,\r\n                    id, dogName, breed, age, weight, times, vet);\r\n\r\n                dogsList.addNode(doggo);\r\n            }\r\n\r\n            DogsLoaded = true;\r\n        } catch (Exception e) {\r\n            if (message.isEmpty()) {\r\n                message = e.getMessage()\r\n            }\r\n            JOptionPane.showMessageDialog(this, \r\n                &quot;Error opening files: &quot; + message,\r\n                &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n        }\r\n\r\nAdditionally I used Files with Paths and Path, which is the swiss knife utility to go with.\r\nThe **try-with-resources-syntax** ensures that the file is closed also on exception or return.\r\n\r\n`Files` has also functions for reading all lines, writing all lines, reading in a Stream of lines. ","title":"My code is not reading my text file and it has an exception which is not letting me save an object. How do I fic it?","body":"<p>In the loop I do not see a repetition of <code>readLine</code>, a bug.</p>\n<p>Evidently you need <strong>input validation</strong> and better error reporting.\nData errors may be hard to find, so line content and line number might be benificial.</p>\n<p>I added some validation, but it can be done nicer.\nI gave the cryptic Exception.getMessage (or getLocalizedMessage), as that at least will inform you to the cause.</p>\n<pre><code>    String message = &quot;&quot;;\n    int lineno = 0;\n    try (BufferedReader in = Files.newBufferedReader(\n            Paths.get(&quot;Doggie.txt&quot;), Charset.defaultCharset())) {\n\n        String line;\n        while ((line = in.readLine())!= null) {\n            ++lineno;\n            String[] lineArray = line.split(&quot;\\\\s*,\\\\s*&quot;);\n</code></pre>\n<p>Above I allowed whitespace around the comma. This trims the fields, which otherwise would not be able to be converted to a number.</p>\n<p>Checking the number of fields is important; for instance the name could contain a comma.</p>\n<pre><code>            if (lineArray.length != 11) {\n                throw new IllegalArgumentException(&quot;Wrong number of fields: &quot; + line);\n            }\n\n            String name = lineArray[0];\n            String a = lineArray[1];\n            String phone = lineArray[2];\n            String location = lineArray[3];\n            String p = lineArray[4];\n            String id = lineArray[5];\n            String dogName = lineArray[6];\n            String breed = lineArray[7];\n            String w = lineArray[8];\n            String t = lineArray[9];\n            String vet = lineArray[10];\n</code></pre>\n<p>The following conversions seem to go wrong, give a NumberFormatException probably.\nYou certainly want to know the source.</p>\n<pre><code>            message = &quot;Age wrong: &quot; + lineno + &quot;. &quot; +line;\n            int age = Integer.parseInt(a);\n            message = &quot;Payment wrong: &quot; + lineno + &quot;. &quot; +line;\n            double payment = Double.parseDouble(p);\n            message = &quot;Weight wrong: &quot; + lineno + &quot;. &quot; +line;\n            double weight = Double.parseDouble(w);\n            message = &quot;Times wrong: &quot; + lineno + &quot;. &quot; +line;\n            int times = Integer.parseInt(t);\n            message = &quot;&quot;;\n\n            Dog doggo = new Dog(name, phone, location, payment,\n                id, dogName, breed, age, weight, times, vet);\n\n            dogsList.addNode(doggo);\n        }\n\n        DogsLoaded = true;\n    } catch (Exception e) {\n        if (message.isEmpty()) {\n            message = e.getMessage()\n        }\n        JOptionPane.showMessageDialog(this, \n            &quot;Error opening files: &quot; + message,\n            &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n    }\n</code></pre>\n<p>Additionally I used Files with Paths and Path, which is the swiss knife utility to go with.\nThe <strong>try-with-resources-syntax</strong> ensures that the file is closed also on exception or return.</p>\n<p><code>Files</code> has also functions for reading all lines, writing all lines, reading in a Stream of lines.</p>\n"}],"owner":{"account_id":23208125,"reputation":1,"user_id":17302023,"display_name":"FELIPE RAMIREZ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635796551,"creation_date":1635787396,"question_id":69800460,"body_markdown":"I have code that basically reads the file and stores it in an object.\r\n\r\nI&#39;m having issues when trying to turn one of the String in the array into int/double etc.\r\n\r\nI&#39;m using a linked list to save the object. \r\n\r\nI have tried debugging but I can&#39;t find the issue. The program runs fine and dandy until it reaches the changing of variables part. No matter what I do, what I change, or how I try to fix it the same exception occurs. And then sometimes when it works it doesn&#39;t save it.\r\n\r\n    private void readFile() {\r\n            BufferedReader in;\r\n            String line = &quot;&quot;;\r\n    \r\n            try {\r\n                in = new BufferedReader(new FileReader(&quot;Doggie.txt&quot;));//file name\r\n    \r\n                try {\r\n                    line = in.readLine();\r\n                } catch (Exception e) {\r\n                    line = null;\r\n                }\r\n    \r\n                while (line != null) {\r\n                    String[] lineArray = line.split(&quot;,&quot;);\r\n\r\n                    String name = lineArray[0];\r\n                    String a = lineArray[1];\r\n                    String phone = lineArray[2];\r\n                    String location = lineArray[3];\r\n                    String p = lineArray[4];\r\n                    String id = lineArray[5];\r\n                    String dogName = lineArray[6];\r\n                    String breed = lineArray[7];\r\n                    String w = lineArray[8];\r\n                    String t = lineArray[9];\r\n                    String vet = lineArray[10];\r\n    \r\n                    int age = Integer.parseInt(a);\r\n                    double payment = Double.parseDouble(p);\r\n                    double weight = Double.parseDouble(w);\r\n                    int times = Integer.parseInt(t);\r\n    \r\n                    Dog doggo = new Dog(name, phone, location, payment, id, dogName, breed, age, weight, times, vet);\r\n    \r\n                    dogsList.addNode(doggo);\r\n    \r\n                    try {\r\n                        line = in.readLine();\r\n                    } catch (Exception e) {\r\n                        line = null;\r\n                    }\r\n                }\r\n\r\n                DogsLoaded = true;\r\n            } catch (Exception e) {\r\n                JOptionPane.showMessageDialog(this, &quot;Error opening files, please check the information provided&quot;, &quot;Error!&quot;, JOptionPane.ERROR_MESSAGE);\r\n            }\r\n        }\r\n    ","title":"My code is not reading my text file and it has an exception which is not letting me save an object. How do I fic it?","body":"<p>I have code that basically reads the file and stores it in an object.</p>\n<p>I'm having issues when trying to turn one of the String in the array into int/double etc.</p>\n<p>I'm using a linked list to save the object.</p>\n<p>I have tried debugging but I can't find the issue. The program runs fine and dandy until it reaches the changing of variables part. No matter what I do, what I change, or how I try to fix it the same exception occurs. And then sometimes when it works it doesn't save it.</p>\n<pre><code>private void readFile() {\n        BufferedReader in;\n        String line = &quot;&quot;;\n\n        try {\n            in = new BufferedReader(new FileReader(&quot;Doggie.txt&quot;));//file name\n\n            try {\n                line = in.readLine();\n            } catch (Exception e) {\n                line = null;\n            }\n\n            while (line != null) {\n                String[] lineArray = line.split(&quot;,&quot;);\n\n                String name = lineArray[0];\n                String a = lineArray[1];\n                String phone = lineArray[2];\n                String location = lineArray[3];\n                String p = lineArray[4];\n                String id = lineArray[5];\n                String dogName = lineArray[6];\n                String breed = lineArray[7];\n                String w = lineArray[8];\n                String t = lineArray[9];\n                String vet = lineArray[10];\n\n                int age = Integer.parseInt(a);\n                double payment = Double.parseDouble(p);\n                double weight = Double.parseDouble(w);\n                int times = Integer.parseInt(t);\n\n                Dog doggo = new Dog(name, phone, location, payment, id, dogName, breed, age, weight, times, vet);\n\n                dogsList.addNode(doggo);\n\n                try {\n                    line = in.readLine();\n                } catch (Exception e) {\n                    line = null;\n                }\n            }\n\n            DogsLoaded = true;\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(this, &quot;Error opening files, please check the information provided&quot;, &quot;Error!&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1635745201,"post_id":69792819,"comment_id":123367308,"body_markdown":"Instead of that if statement, Add all the vowels to an arraylist. Then you can use `ArrayList.contans(string);`","body":"Instead of that if statement, Add all the vowels to an arraylist. Then you can use <code>ArrayList.contans(string);</code>"},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":1,"creation_date":1635745816,"post_id":69792819,"comment_id":123367417,"body_markdown":"There is also a performance bug in your implementation: You should move both inner loops outside. This makes your runtime linear (instead of quadratic). And you can even optimize these loops.","body":"There is also a performance bug in your implementation: You should move both inner loops outside. This makes your runtime linear (instead of quadratic). And you can even optimize these loops."},{"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"score":0,"creation_date":1635746245,"post_id":69792819,"comment_id":123367494,"body_markdown":"@CoronA Thank you. I will edit the code above. Your answer below was what I was looking for.","body":"@CoronA Thank you. I will edit the code above. Your answer below was what I was looking for."}],"answers":[{"tags":[],"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635744406,"creation_date":1635744223,"answer_id":69792910,"question_id":69792819,"body_markdown":"I would do this using a [regular expression][1]. It&#39;s a one-liner:\r\n\r\n```java\r\nString swap(String s) {\r\n    return s.replaceAll(&quot;^([^aeiou]*)([aeiou])(.*)([aeiou])([^aeiou]*)$&quot;, &quot;$1$4$3$2$5&quot;);\r\n}\r\n```\r\n\r\nTo explain: the regex is bounded by `^...$`, meaning it must match the entire string. The string is then matched as 5 groups, using `(...)` to capture each group:\r\n\r\n1. `[^aeiou]*` matches 0 or more non-vowels,\r\n2. `[aeiou]` matches a single vowel,\r\n3. `.*` matches anything, 0 or more characters,\r\n4. Same as 2,\r\n5. Same as 1.\r\n\r\nThe replacement is then `$1$4$3$2$5` meaning we replace the whole string with the non-vowels at the start, then the vowel captured by group 4, then the &quot;anything&quot; between the two vowels, then the vowel captured by group 2, then the non-vowels at the end. The original string would be `$1$2$3$4$5`, so compared to that, the replacement has `$2` and `$4` swapped.\r\n\r\nIf the string does not have at least two vowels, then the original string will be returned because there is no match to replace.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Regular_expression","title":"How to swap the first vowel and last vowel of a String using Java?","body":"<p>I would do this using a <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression</a>. It's a one-liner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String swap(String s) {\n    return s.replaceAll(&quot;^([^aeiou]*)([aeiou])(.*)([aeiou])([^aeiou]*)$&quot;, &quot;$1$4$3$2$5&quot;);\n}\n</code></pre>\n<p>To explain: the regex is bounded by <code>^...$</code>, meaning it must match the entire string. The string is then matched as 5 groups, using <code>(...)</code> to capture each group:</p>\n<ol>\n<li><code>[^aeiou]*</code> matches 0 or more non-vowels,</li>\n<li><code>[aeiou]</code> matches a single vowel,</li>\n<li><code>.*</code> matches anything, 0 or more characters,</li>\n<li>Same as 2,</li>\n<li>Same as 1.</li>\n</ol>\n<p>The replacement is then <code>$1$4$3$2$5</code> meaning we replace the whole string with the non-vowels at the start, then the vowel captured by group 4, then the &quot;anything&quot; between the two vowels, then the vowel captured by group 2, then the non-vowels at the end. The original string would be <code>$1$2$3$4$5</code>, so compared to that, the replacement has <code>$2</code> and <code>$4</code> swapped.</p>\n<p>If the string does not have at least two vowels, then the original string will be returned because there is no match to replace.</p>\n"},{"tags":[],"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635744404,"creation_date":1635744404,"answer_id":69792925,"question_id":69792819,"body_markdown":"Your algorithm would work if you replace the part starting with `newWord += s.charAt(i);` with:\r\n\r\n```\r\nif(i == fVowel) {\r\n  newWord += lastVowel;\r\n} else if(i == lVowel) {\r\n  newWord += firstVowel;\r\n} else {\r\n  newWord += s.charAt(i);\r\n}\r\n```","title":"How to swap the first vowel and last vowel of a String using Java?","body":"<p>Your algorithm would work if you replace the part starting with <code>newWord += s.charAt(i);</code> with:</p>\n<pre><code>if(i == fVowel) {\n  newWord += lastVowel;\n} else if(i == lVowel) {\n  newWord += firstVowel;\n} else {\n  newWord += s.charAt(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19206462,"reputation":193,"user_id":14033226,"display_name":"njari"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635744770,"creation_date":1635744770,"answer_id":69792965,"question_id":69792819,"body_markdown":"```\r\n String x = &quot;Hello cats&quot;;\r\n    int i = 1;int j = 7;\r\n\r\n    String newWord = x.substring(0, i) + x.charAt(j) + x.substring(i+1, j) + x.charAt(i) + \r\n            x.substring(j+1, x.length());\r\n           System.out.println(newWord);\r\n\r\n```\r\n\r\nThis will give you your desired output. ","title":"How to swap the first vowel and last vowel of a String using Java?","body":"<pre><code> String x = &quot;Hello cats&quot;;\n    int i = 1;int j = 7;\n\n    String newWord = x.substring(0, i) + x.charAt(j) + x.substring(i+1, j) + x.charAt(i) + \n            x.substring(j+1, x.length());\n           System.out.println(newWord);\n\n</code></pre>\n<p>This will give you your desired output.</p>\n"}],"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1502,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69792925,"answer_count":3,"score":1,"last_activity_date":1635796503,"creation_date":1635742996,"question_id":69792819,"body_markdown":"I am making a method called &quot;Swap&quot; where it takes in a string in the parameters. My goal is to swap the first and last vowel of the String. That&#39;s it. \r\n\r\nMy way of finding this goes like this: \r\n\r\n(fVowel is the index of the first vowel)\r\n\r\n(lVowel is the index of the last vowel)\r\n\r\n(newWord is a string declared above)\r\n\r\n(firstVowel is a character from the first vowel)\r\n\r\n(lastVowel is a character from the last vowel)\r\n\r\nAll of these have been done ^, just need the algorithm below to be accurate. \r\n\r\n``` \r\n    for(int i = 0; i &lt; s.length(); i++)\r\n    {\r\n   \r\n        newWord += s.charAt(i);\r\n        if(i == fVowel)\r\n        {\r\n            newWord += lastVowel;\r\n        }\r\n        if(i == lVowel)\r\n        {\r\n            newWord = s.substring(i-1, i);\r\n            newWord += firstVowel;\r\n            /*\r\n            newWord.substring(i, i+1);\r\n            newWord += firstVowel;\r\n            */\r\n        }\r\n\r\n    }\r\n    System.out.println(newWord);\r\n    return newWord;\r\n}\r\n```\r\n\r\nI am having trouble right now removing the character from the original string. I tried using substrings, but I can&#39;t seem to have it figured out. Any help would be appreciated. Here&#39;s an example of how it is suppose to work: \r\n\r\nMain \r\n```\r\nswap(&quot;Red is rad&quot;);\r\nswap(&quot;Hello Cats&quot;);\r\n```\r\n\r\nOutput:\r\n```\r\nRad is red\r\nHallo Cets\r\n```\r\n","title":"How to swap the first vowel and last vowel of a String using Java?","body":"<p>I am making a method called &quot;Swap&quot; where it takes in a string in the parameters. My goal is to swap the first and last vowel of the String. That's it.</p>\n<p>My way of finding this goes like this:</p>\n<p>(fVowel is the index of the first vowel)</p>\n<p>(lVowel is the index of the last vowel)</p>\n<p>(newWord is a string declared above)</p>\n<p>(firstVowel is a character from the first vowel)</p>\n<p>(lastVowel is a character from the last vowel)</p>\n<p>All of these have been done ^, just need the algorithm below to be accurate.</p>\n<pre><code>    for(int i = 0; i &lt; s.length(); i++)\n    {\n   \n        newWord += s.charAt(i);\n        if(i == fVowel)\n        {\n            newWord += lastVowel;\n        }\n        if(i == lVowel)\n        {\n            newWord = s.substring(i-1, i);\n            newWord += firstVowel;\n            /*\n            newWord.substring(i, i+1);\n            newWord += firstVowel;\n            */\n        }\n\n    }\n    System.out.println(newWord);\n    return newWord;\n}\n</code></pre>\n<p>I am having trouble right now removing the character from the original string. I tried using substrings, but I can't seem to have it figured out. Any help would be appreciated. Here's an example of how it is suppose to work:</p>\n<p>Main</p>\n<pre><code>swap(&quot;Red is rad&quot;);\nswap(&quot;Hello Cats&quot;);\n</code></pre>\n<p>Output:</p>\n<pre><code>Rad is red\nHallo Cets\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":3,"creation_date":1376743854,"post_id":18289014,"comment_id":26831412,"body_markdown":"Which version of the JDK are you using? Scanner was introduced in the 1.5 (which is quite old at this point)","body":"Which version of the JDK are you using? Scanner was introduced in the 1.5 (which is quite old at this point)"},{"owner":{"account_id":1489010,"reputation":7802,"user_id":1396594,"accept_rate":67,"display_name":"exexzian"},"score":1,"creation_date":1376743925,"post_id":18289014,"comment_id":26831441,"body_markdown":"program looks fine to me","body":"program looks fine to me"},{"owner":{"account_id":2769006,"reputation":95,"user_id":2383999,"accept_rate":20,"display_name":"Salma"},"score":0,"creation_date":1376744094,"post_id":18289014,"comment_id":26831489,"body_markdown":"@SJuan76 OH! I just checked mine. It&#39;s 1.4.6, which explains it. I&#39;ll get the latest version and try it out. Thank you! I wasn&#39;t aware!","body":"@SJuan76 OH! I just checked mine. It&#39;s 1.4.6, which explains it. I&#39;ll get the latest version and try it out. Thank you! I wasn&#39;t aware!"},{"owner":{"account_id":3067497,"reputation":494,"user_id":2598882,"display_name":"Mohsin Shaikh"},"score":1,"creation_date":1376744676,"post_id":18289014,"comment_id":26831660,"body_markdown":"please check the any Scanner class is there in your folder","body":"please check the any Scanner class is there in your folder"}],"answers":[{"tags":[],"owner":{"account_id":1286181,"reputation":14890,"user_id":1239189,"accept_rate":69,"display_name":"Ali Gajani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376744745,"creation_date":1376744745,"answer_id":18289175,"question_id":18289014,"body_markdown":"Your code is absolutely fine. You need to ensure you have the latest version of JDK installed. To do that, get the latest SDK from here: http://www.oracle.com/technetwork/java/javase/downloads/index.html","title":"Scanner input error","body":"<p>Your code is absolutely fine. You need to ensure you have the latest version of JDK installed. To do that, get the latest SDK from here: <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":2339842,"reputation":9718,"user_id":2051392,"accept_rate":72,"display_name":"DotNetRussell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376745611,"creation_date":1376745611,"answer_id":18289290,"question_id":18289014,"body_markdown":"If you continue to get this error you can skip using Scanner.\r\n\r\nYou can try \r\n\r\n    using java.io.Console;\r\n    \r\n    public class Words{\r\n    \r\n      public static void main(String[] args){\r\n         Console con = new System.Console();\r\n         System.out.println(&quot;Enter some text&quot;);\r\n         String input = con.readLine();\r\n    \r\n      }\r\n    \r\n    }\r\n\r\n\r\nHere is an example\r\nhttp://www.javapractices.com/topic/TopicAction.do?Id=79\r\n\r\nand the Java documentation http://docs.oracle.com/javase/6/docs/api/java/io/Console.html","title":"Scanner input error","body":"<p>If you continue to get this error you can skip using Scanner.</p>\n\n<p>You can try </p>\n\n<pre><code>using java.io.Console;\n\npublic class Words{\n\n  public static void main(String[] args){\n     Console con = new System.Console();\n     System.out.println(\"Enter some text\");\n     String input = con.readLine();\n\n  }\n\n}\n</code></pre>\n\n<p>Here is an example\n<a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=79\" rel=\"nofollow\">http://www.javapractices.com/topic/TopicAction.do?Id=79</a></p>\n\n<p>and the Java documentation <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/Console.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/io/Console.html</a></p>\n"},{"tags":[],"owner":{"account_id":2270396,"reputation":1045,"user_id":1997983,"accept_rate":100,"display_name":"Rakesh Burbure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376745924,"creation_date":1376745924,"answer_id":18289328,"question_id":18289014,"body_markdown":"your code is absolutely correct. Please install the latest version of JDK and try again .","title":"Scanner input error","body":"<p>your code is absolutely correct. Please install the latest version of JDK and try again .</p>\n"},{"tags":[],"owner":{"account_id":6848015,"reputation":11,"user_id":5266118,"display_name":"Patricio Clavel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443680519,"creation_date":1443680519,"answer_id":32880686,"question_id":18289014,"body_markdown":"You&#39;re code is great, it just has a minor error. All you needed to do was enter **Line** after the userInput.next and it should work correctly. It is corrected in the bold. \r\n\r\n\r\n    String result1;\r\n        System.out.print(&quot;Please input the first word:&quot;);\r\n        result1 = userInput.next**Line**();\r\n\r\n        String result2;\r\n        System.out.print(&quot;Please input the second word:&quot;);\r\n        result2 = userInput.next**Line**();\r\n","title":"Scanner input error","body":"<p>You're code is great, it just has a minor error. All you needed to do was enter <strong>Line</strong> after the userInput.next and it should work correctly. It is corrected in the bold. </p>\n\n<pre><code>String result1;\n    System.out.print(\"Please input the first word:\");\n    result1 = userInput.next**Line**();\n\n    String result2;\n    System.out.print(\"Please input the second word:\");\n    result2 = userInput.next**Line**();\n</code></pre>\n"}],"owner":{"account_id":2769006,"reputation":95,"user_id":2383999,"accept_rate":20,"display_name":"Salma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1635796481,"creation_date":1376743706,"question_id":18289014,"body_markdown":"For an assignment, I have to write this code: \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Words {\r\n\t    public static void main(String[] args)\t{\r\n\t\t    //Display welcome message\r\n\t\t    System.out.println(&quot;Welcome to the String Function Event!&quot;);\r\n\t\t    Scanner userInput = new Scanner(System.in);\r\n\r\n\t\t    String result1;\r\n\t\t    System.out.print(&quot;Please input the first word:&quot;);\r\n\t\t    result1=userInput.next();\r\n \r\n\t\t    String result2;\r\n\t\t    System.out.print(&quot;Please input the second word:&quot;);\r\n\t\t    result2=userInput.next();\r\n\r\n\t\t    System.out.println(&quot;The words you chose are &quot; +result1+ &quot; and &quot; +result2+ &quot;.&quot;);\r\n\t    }\r\n    }   \r\n\r\nWhen I try compiling it, it gives me 3 errors in the command prompt that say &quot;cannot resolve symbol, symbol: class Scanner, location: class Words, Scanner userInput=new Scanner(System.in)&quot;. I&#39;m not sure where the error is. \r\nShould I be using BufferedReader for the input instead? \r\n","title":"Scanner input error","body":"<p>For an assignment, I have to write this code: </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Words {\n    public static void main(String[] args)  {\n        //Display welcome message\n        System.out.println(\"Welcome to the String Function Event!\");\n        Scanner userInput = new Scanner(System.in);\n\n        String result1;\n        System.out.print(\"Please input the first word:\");\n        result1=userInput.next();\n\n        String result2;\n        System.out.print(\"Please input the second word:\");\n        result2=userInput.next();\n\n        System.out.println(\"The words you chose are \" +result1+ \" and \" +result2+ \".\");\n    }\n}   \n</code></pre>\n\n<p>When I try compiling it, it gives me 3 errors in the command prompt that say \"cannot resolve symbol, symbol: class Scanner, location: class Words, Scanner userInput=new Scanner(System.in)\". I'm not sure where the error is. \nShould I be using BufferedReader for the input instead? </p>\n"},{"tags":["java","google-analytics"],"answers":[{"tags":[],"owner":{"account_id":7413591,"reputation":13737,"user_id":5640200,"display_name":"Michele Pisani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635791153,"creation_date":1635791153,"answer_id":69801179,"question_id":69800495,"body_markdown":"In front end the syntax of the event should be similar like this:\r\n\r\n    ga(&#39;send&#39;, &#39;event&#39;, &#39;Videos&#39;, &#39;play&#39;, &#39;Fall Campaign&#39;);\r\n\r\nor like this:\r\n\r\n    ga(&#39;send&#39;, {\r\n      hitType: &#39;event&#39;,\r\n      eventCategory: &#39;Videos&#39;,\r\n      eventAction: &#39;play&#39;,\r\n      eventLabel: &#39;Fall Campaign&#39;\r\n    });\r\n\r\nnot only this:\r\n\r\n    ga(&#39;send&#39;, &#39;event&#39;);\r\n\r\nhttps://developers.google.com/analytics/devguides/collection/analyticsjs/events?hl=en\r\n\r\nSo the problem is in how the event is constructed or the values ‚Äã‚Äãthat are empty.","title":"Google Analytics events sent from backend. not showing up","body":"<p>In front end the syntax of the event should be similar like this:</p>\n<pre><code>ga('send', 'event', 'Videos', 'play', 'Fall Campaign');\n</code></pre>\n<p>or like this:</p>\n<pre><code>ga('send', {\n  hitType: 'event',\n  eventCategory: 'Videos',\n  eventAction: 'play',\n  eventLabel: 'Fall Campaign'\n});\n</code></pre>\n<p>not only this:</p>\n<pre><code>ga('send', 'event');\n</code></pre>\n<p><a href=\"https://developers.google.com/analytics/devguides/collection/analyticsjs/events?hl=en\" rel=\"nofollow noreferrer\">https://developers.google.com/analytics/devguides/collection/analyticsjs/events?hl=en</a></p>\n<p>So the problem is in how the event is constructed or the values ‚Äã‚Äãthat are empty.</p>\n"}],"owner":{"account_id":1636268,"reputation":395,"user_id":1509663,"accept_rate":89,"display_name":"Peggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635796356,"creation_date":1635787577,"question_id":69800495,"body_markdown":"Hi I am very new to GA so please bear with me. I have set up a Universal property and added the tags in frontend, and in backend, which is Java, for some specific requests being handled I call this function\r\n\r\n    private void sendEventMetrics(EventHit eventHit, GoogleAnalytics metricTracker) {\r\n        if (metricTracker != null) {\r\n            GoogleAnalyticsResponse response = metricTracker.event().eventCategory(eventHit.eventCategory())\r\n                    .eventAction(eventHit.eventAction())\r\n                    .eventLabel(eventHit.eventLabel())\r\n                    .eventValue(eventHit.eventValue())\r\n                    .send();\r\n        }\r\n    }\r\n\r\n\r\nmy frontend is\r\n\r\n```&lt;script&gt;\r\n    (function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){\r\n      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\r\n      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\r\n    })(window,document,&#39;script&#39;,&#39;https://www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);\r\n\r\n    ga(&#39;create&#39;, &#39;UA-XXXX-Y&#39;, &#39;auto&#39;);\r\n    ga(&#39;send&#39;, &#39;pageview&#39;);\r\n  &lt;/script&gt;\r\n```\r\n\r\n\r\nWhen I debug backend, I see that the `response` is `200`, i also see different users viewing my page, but i don&#39;t see any events in the event tab ( both real time and behavior )\r\n\r\nedit: when I add `ga(&#39;send&#39;, &#39;event&#39;, &#39;Videos&#39;, &#39;play&#39;, &#39;Fall Campaign&#39;);` to frontend part it is working , but my backend custom events are not.","title":"Google Analytics events sent from backend. not showing up","body":"<p>Hi I am very new to GA so please bear with me. I have set up a Universal property and added the tags in frontend, and in backend, which is Java, for some specific requests being handled I call this function</p>\n<pre><code>private void sendEventMetrics(EventHit eventHit, GoogleAnalytics metricTracker) {\n    if (metricTracker != null) {\n        GoogleAnalyticsResponse response = metricTracker.event().eventCategory(eventHit.eventCategory())\n                .eventAction(eventHit.eventAction())\n                .eventLabel(eventHit.eventLabel())\n                .eventValue(eventHit.eventValue())\n                .send();\n    }\n}\n</code></pre>\n<p>my frontend is</p>\n<pre><code>    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n    ga('create', 'UA-XXXX-Y', 'auto');\n    ga('send', 'pageview');\n  &lt;/script&gt;\n</code></pre>\n<p>When I debug backend, I see that the <code>response</code> is <code>200</code>, i also see different users viewing my page, but i don't see any events in the event tab ( both real time and behavior )</p>\n<p>edit: when I add <code>ga('send', 'event', 'Videos', 'play', 'Fall Campaign');</code> to frontend part it is working , but my backend custom events are not.</p>\n"},{"tags":["java","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":14798284,"reputation":1363,"user_id":10687325,"display_name":"Alexey Romanenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634741542,"creation_date":1634741542,"answer_id":69648305,"question_id":69641182,"body_markdown":"Since you already have a `PCollection` of `Row`s then you can use [Schema-aware PTransforms][1]. For your case, you may want to use &quot;Grouping aggregations&quot; and it can be something like this: \r\n\r\n```\r\nGroup.byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\r\n     .aggregateField(&quot;amount&quot;, Sum.ofIntegers(), &quot;totalAmount&quot;)\r\n``` \r\n\r\nIt will group the rows by customer id and date, and then count a total amount for them per day. If you want to count it per month, then you need to create a new column (or modify a current one) with just a date in month format and group it by id and this column. \r\n\r\nAlso, it can be useful to use `Selected.flattenedSchema` to flatten an output schema. [Beam Schema API][2] allows to work with Schema-aware PCollections in a very simple and effective way.\r\n\r\nAnother option could be to implement your GroupBy/Aggregate logic manually with `KV`s but it&#39;s more complicated and error-prone since it will require much more boilerplate code.  \r\n\r\n\r\n  [1]: https://beam.apache.org/documentation/programming-guide/#662-schema-transforms\r\n  [2]: https://beam.apache.org/documentation/programming-guide/#schemas","title":"Apache Beam Resampling of columns based on date","body":"<p>Since you already have a <code>PCollection</code> of <code>Row</code>s then you can use <a href=\"https://beam.apache.org/documentation/programming-guide/#662-schema-transforms\" rel=\"nofollow noreferrer\">Schema-aware PTransforms</a>. For your case, you may want to use &quot;Grouping aggregations&quot; and it can be something like this:</p>\n<pre><code>Group.byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\n     .aggregateField(&quot;amount&quot;, Sum.ofIntegers(), &quot;totalAmount&quot;)\n</code></pre>\n<p>It will group the rows by customer id and date, and then count a total amount for them per day. If you want to count it per month, then you need to create a new column (or modify a current one) with just a date in month format and group it by id and this column.</p>\n<p>Also, it can be useful to use <code>Selected.flattenedSchema</code> to flatten an output schema. <a href=\"https://beam.apache.org/documentation/programming-guide/#schemas\" rel=\"nofollow noreferrer\">Beam Schema API</a> allows to work with Schema-aware PCollections in a very simple and effective way.</p>\n<p>Another option could be to implement your GroupBy/Aggregate logic manually with <code>KV</code>s but it's more complicated and error-prone since it will require much more boilerplate code.</p>\n"},{"tags":[],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635796186,"creation_date":1635796186,"answer_id":69802100,"question_id":69641182,"body_markdown":"Thanks for the help provided by @Alexey Romanenko\r\n\r\n\r\nFinal solution is: \r\n\r\n\tpublic class GroupByTest {\r\n\t\tpublic static void main(String[] args) throws IOException {\r\n\t\t\tSystem.out.println(&quot;We are about to start!!&quot;);\r\n\r\n\t\t\tfinal File schemaFile = new File(\r\n\t\t\t\t\t&quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\schema_transform2.avsc&quot;);\r\n\r\n\t\t\tFile csvFile = new File(\r\n\t\t\t\t\t&quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\CustomerRequest-case2.csv&quot;);\r\n\t\t\tSchema schema = new Schema.Parser().parse(schemaFile);\r\n\r\n\t\t\tPipeline pipeline = Pipeline.create();\r\n\r\n\t\t\t// Reading schema\r\n\t\t\torg.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\r\n\r\n\t\t\tfinal PCollectionTuple tuples = pipeline\r\n\r\n\t\t\t\t\t// Reading csv input\r\n\t\t\t\t\t.apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\r\n\r\n\t\t\t\t\t// Reading files that matches conditions //PRashanth needs to be looked at\r\n\t\t\t\t\t.apply(&quot;2&quot;, FileIO.readMatches())\r\n\r\n\t\t\t\t\t// Reading schema and validating with schema and converts to row and returns\r\n\t\t\t\t\t// valid and invalid list\r\n\t\t\t\t\t.apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\r\n\t\t\t\t\t\t\tTupleTagList.of(invalidTag())));\r\n\r\n\t\t\t// Fetching only valid rows\r\n\t\t\tfinal PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\r\n\r\n\t\t\t// Transformation\r\n\t\t\t//Convert row to KV\r\n\t\t\tfinal Group.CombineFieldsByFields&lt;Row&gt; combine = Group.&lt;Row&gt;byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\r\n\t\t\t\t.aggregateField(&quot;balance&quot;, Sum.ofDoubles(), &quot;balances&quot;);\r\n\r\n\t\t\tfinal PCollection&lt;Row&gt; aggregagte = rows.apply(combine);\r\n\r\n\t\t\tPCollection&lt;String&gt; pOutput=aggregagte.apply(Select.flattenedSchema()).apply(ParDo.of(new RowToString()));\r\n\t\t\t\r\n\t\t\t                \r\n\t\t\t\r\n\t\t\tpipeline.run().waitUntilFinish();\r\n\t\t\tSystem.out.println(&quot;The end&quot;);\r\n\r\n\t\t}\r\n\r\n\t\tprivate static String getColumnValue(String columnName, Row row, Schema sourceSchema) {\r\n\t\t\tString type = sourceSchema.getField(columnName).schema().getType().toString().toLowerCase();\r\n\t\t\tLogicalType logicalType = sourceSchema.getField(columnName).schema().getLogicalType();\r\n\t\t\tif (logicalType != null) {\r\n\t\t\t\ttype = logicalType.getName();\r\n\t\t\t}\r\n\r\n\t\t\tswitch (type) {\r\n\t\t\tcase &quot;string&quot;:\r\n\t\t\t\treturn row.getString(columnName);\r\n\t\t\tcase &quot;int&quot;:\r\n\t\t\t\treturn Objects.requireNonNull(row.getInt32(columnName)).toString();\r\n\t\t\tcase &quot;bigint&quot;:\r\n\t\t\t\treturn Objects.requireNonNull(row.getInt64(columnName)).toString();\r\n\t\t\tcase &quot;double&quot;:\r\n\t\t\t\treturn Objects.requireNonNull(row.getDouble(columnName)).toString();\r\n\t\t\tcase &quot;timestamp-millis&quot;:\r\n\t\t\t\treturn Instant.ofEpochMilli(Objects.requireNonNull(row.getDateTime(&quot;eventTime&quot;)).getMillis()).toString();\r\n\r\n\t\t\tdefault:\r\n\t\t\t\treturn row.getString(columnName);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t}","title":"Apache Beam Resampling of columns based on date","body":"<p>Thanks for the help provided by @Alexey Romanenko</p>\n<p>Final solution is:</p>\n<pre><code>public class GroupByTest {\n    public static void main(String[] args) throws IOException {\n        System.out.println(&quot;We are about to start!!&quot;);\n\n        final File schemaFile = new File(\n                &quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\schema_transform2.avsc&quot;);\n\n        File csvFile = new File(\n                &quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\CustomerRequest-case2.csv&quot;);\n        Schema schema = new Schema.Parser().parse(schemaFile);\n\n        Pipeline pipeline = Pipeline.create();\n\n        // Reading schema\n        org.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\n\n        final PCollectionTuple tuples = pipeline\n\n                // Reading csv input\n                .apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\n\n                // Reading files that matches conditions //PRashanth needs to be looked at\n                .apply(&quot;2&quot;, FileIO.readMatches())\n\n                // Reading schema and validating with schema and converts to row and returns\n                // valid and invalid list\n                .apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\n                        TupleTagList.of(invalidTag())));\n\n        // Fetching only valid rows\n        final PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\n\n        // Transformation\n        //Convert row to KV\n        final Group.CombineFieldsByFields&lt;Row&gt; combine = Group.&lt;Row&gt;byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\n            .aggregateField(&quot;balance&quot;, Sum.ofDoubles(), &quot;balances&quot;);\n\n        final PCollection&lt;Row&gt; aggregagte = rows.apply(combine);\n\n        PCollection&lt;String&gt; pOutput=aggregagte.apply(Select.flattenedSchema()).apply(ParDo.of(new RowToString()));\n        \n                        \n        \n        pipeline.run().waitUntilFinish();\n        System.out.println(&quot;The end&quot;);\n\n    }\n\n    private static String getColumnValue(String columnName, Row row, Schema sourceSchema) {\n        String type = sourceSchema.getField(columnName).schema().getType().toString().toLowerCase();\n        LogicalType logicalType = sourceSchema.getField(columnName).schema().getLogicalType();\n        if (logicalType != null) {\n            type = logicalType.getName();\n        }\n\n        switch (type) {\n        case &quot;string&quot;:\n            return row.getString(columnName);\n        case &quot;int&quot;:\n            return Objects.requireNonNull(row.getInt32(columnName)).toString();\n        case &quot;bigint&quot;:\n            return Objects.requireNonNull(row.getInt64(columnName)).toString();\n        case &quot;double&quot;:\n            return Objects.requireNonNull(row.getDouble(columnName)).toString();\n        case &quot;timestamp-millis&quot;:\n            return Instant.ofEpochMilli(Objects.requireNonNull(row.getDateTime(&quot;eventTime&quot;)).getMillis()).toString();\n\n        default:\n            return row.getString(columnName);\n\n        }\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69648305,"answer_count":2,"score":0,"last_activity_date":1635796186,"creation_date":1634710875,"question_id":69641182,"body_markdown":"I am using ApacheBeam to process data and trying to achieve the following. \r\n\r\n1) read the data from CSV file. (Completed )\r\n2) Group the records based on Customer ID  (Completed)\r\n3) Resample the data based on month and calculate the sum for that particular month.\r\n\r\nDetailed Explanation:\r\n\r\nI have a CSV file as shown below.\r\n\r\n|      customerId      |     date    |      amount      |\r\n|---------------------|------------------|------------------|\r\n|          BS:89481   | 11/14/2012       |         124      |\r\n|          BS:89480   | 11/14/2012       |         234      |\r\n|          BS:89481   | 11/10/2012       |         189      |\r\n|          BS:89480   | 11/02/2012       |         987      |\r\n|          BS:89481   | 09/14/2012       |         784      |\r\n|          BS:89480   | 11/14/2012       |         056      |\r\n\t\t\r\nIntermediate stage:\r\nGrouping it by customerId and sorting it by date\r\n\r\n|      customerId      |     date    |      amount      |\r\n|---------------------|------------------|------------------|\r\n|          BS:89481   | 09/14/2012       |         784      |\r\n|          BS:89481   | 11/10/2012       |         189      |\r\n|          BS:89481   | 11/14/2012       |         124      |\r\n|          BS:89480   | 11/02/2012       |         987      |\r\n|          BS:89480   | 11/14/2012       |         234      |\r\n|          BS:89480   | 11/14/2012       |         056      |\r\n\r\n\r\n**Expected output on( resampling)**\r\nHere, we calculate the sum of all the amounts for that particular month for the individual customers.  Eg: the customer BS:89481 has two spends for the month of November, so we have calculated the sum for that month (124 + 189).\r\n\r\n|      customerId      |     date    |      amount      |\r\n|---------------------|------------------|------------------|\r\n|          BS:89481   | 09/30/2012       |         784      |\r\n|          BS:89481   | 11/30/2012       |         313      |\r\n|          BS:89480   | 11/02/2012       |        1277      |\r\n\r\n\r\nI was able to complete step1 and step2, not sure how to implement step3.\r\n\r\n\r\nSchema schema = new Schema.Parser().parse(schemaFile);\r\n\r\n\t\tPipeline pipeline = Pipeline.create();\r\n\r\n\t\t// Reading schema\r\n\t\torg.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\r\n\r\n\t\tfinal PCollectionTuple tuples = pipeline\r\n\r\n\t\t\t\t// Reading csv input\r\n\t\t\t\t.apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\r\n\r\n\t\t\t\t// Reading files that matches conditions //PRashanth needs to be looked at\r\n\t\t\t\t.apply(&quot;2&quot;, FileIO.readMatches())\r\n\r\n\t\t\t\t// Reading schema and validating with schema and converts to row and returns\r\n\t\t\t\t// valid and invalid list\r\n\t\t\t\t.apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\r\n\t\t\t\t\t\tTupleTagList.of(invalidTag())));\r\n\r\n\t\t// Fetching only valid rows\r\n\r\n\t\tfinal PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\r\n\r\n\t\t// Step2\r\n\t\t//Convert row to KV for grouping\r\n\t\tStringToKV stringtoKV = new StringToKV();\r\n\t\tstringtoKV.setColumnName(&quot;customerId&quot;);\r\n\t\tPCollection&lt;KV&lt;String, Row&gt;&gt; kvOrderRows = rows.apply(ParDo.of(stringtoKV)).setCoder(KvCoder.of(StringUtf8Coder.of(), rows.getCoder()));\r\n\t\t\t\t//setCoder(KvCoder.of(VoidCoder.of()), rows.getCoder()));\r\n\r\n\t\t\r\n\t\t// Obtain a PCollection of KeyValue class of \r\n\t\tPCollection&lt;KV&lt;String,Iterable&lt;Row&gt;&gt;&gt; kvIterableForm = kvOrderRows.apply(GroupByKey.&lt;String,Row&gt;create());\r\n\r\n\r\n**Update**:\r\n\r\n\r\nSchema Transform:\r\n\r\n\t\t{\r\n\t\t  &quot;type&quot; : &quot;record&quot;,\r\n\t\t  &quot;name&quot; : &quot;Entry&quot;,\r\n\t\t  &quot;namespace&quot; : &quot;transform&quot;,\r\n\t\t  &quot;fields&quot; : [  {\r\n\t\t\t&quot;name&quot; : &quot;customerId&quot;,\r\n\t\t\t&quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\r\n\t\t  }, {\r\n\t\t\t&quot;name&quot; : &quot;date&quot;,\r\n\t\t\t&quot;type&quot; : [ &quot;long&quot;, &quot;null&quot; ]\r\n\t\t  }, {\r\n\t\t\t&quot;name&quot; : &quot;amount&quot;,\r\n\t\t\t&quot;type&quot; : [ &quot;double&quot;, &quot;null&quot; ]\r\n\t\t  }]\r\n\t\t}\r\n\r\nCSV File\r\n\r\n\r\n|      customerId      |     date    |      amount      |\r\n|---------------------|------------------|------------------|\r\n|          BS:89481   | 11/14/2012       |         124      |\r\n|          BS:89480   | 11/14/2012       |         234      |\r\n|          BS:89481   | 11/10/2012       |         189      |\r\n|          BS:89480   | 11/02/2012       |         987      |\r\n|          BS:89481   | 09/14/2012       |         784      |\r\n|          BS:89480   | 11/14/2012       |         056      |\r\n\r\n\r\n    class StringToKV1 extends DoFn&lt;Row, KV&lt;String, Row&gt;&gt; {\r\n\r\n\t\t\tprivate static final long serialVersionUID = -8093837716944809689L;\r\n\t\t\tString columnName=null;\r\n\r\n\t\t\t@ProcessElement\r\n\t\t\tpublic void processElement(ProcessContext context) {\r\n\t\t\t\tRow row = context.element();\r\n\t\t\t\tcontext.output(KV.of(row.getValue(columnName), row));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpublic void setColumnName(String columnName) {\r\n\t\t\t\tthis.columnName = columnName;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\nCode:\r\n\r\n\t\t\tpublic class GroupByTest {\r\n\t\t\t\tpublic static void main(String[] args) throws IOException {\r\n\t\t\t\t\tSystem.out.println(&quot;We are about to start!!&quot;);\r\n\r\n\t\t\t\t\tfinal File schemaFile = new File(\r\n\t\t\t\t\t\t\t&quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\schema_transform2.avsc&quot;);\r\n\r\n\t\t\t\t\tFile csvFile = new File(\r\n\t\t\t\t\t\t\t&quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\CustomerRequest-case2.csv&quot;);\r\n\t\t\t\t\tSchema schema = new Schema.Parser().parse(schemaFile);\r\n\r\n\t\t\t\t\tPipeline pipeline = Pipeline.create();\r\n\r\n\t\t\t\t\t// Reading schema\r\n\t\t\t\t\torg.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\r\n\r\n\t\t\t\t\tfinal PCollectionTuple tuples = pipeline\r\n\r\n\t\t\t\t\t\t\t// Reading csv input\r\n\t\t\t\t\t\t\t.apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\r\n\r\n\t\t\t\t\t\t\t// Reading files that matches conditions //PRashanth needs to be looked at\r\n\t\t\t\t\t\t\t.apply(&quot;2&quot;, FileIO.readMatches())\r\n\r\n\t\t\t\t\t\t\t// Reading schema and validating with schema and converts to row and returns\r\n\t\t\t\t\t\t\t// valid and invalid list\r\n\t\t\t\t\t\t\t.apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\r\n\t\t\t\t\t\t\t\t\tTupleTagList.of(invalidTag())));\r\n\r\n\t\t\t\t\t// Fetching only valid rows\r\n\t\t\t\t\tfinal PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\r\n\r\n\t\t\t\t\t// Transformation\r\n\t\t\t\t\t//Convert row to KV\r\n\t\t\t\t\tStringToKV1 stringtoKV1 = new StringToKV1();\r\n\t\t\t\t\tstringtoKV1.setColumnName(&quot;customerId&quot;);\r\n\t\t\t\t\tPCollection&lt;KV&lt;String, Row&gt;&gt; kvOrderRows = rows.apply(ParDo.of(stringtoKV1)).setCoder(KvCoder.of(StringUtf8Coder.of(), rows.getCoder()));\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Will throw error\r\n\t\t\t\t\t// rows.apply(Group.byFieldNames(&quot;customerId&quot;, &quot;date&quot;).aggregateField(&quot;amount&quot;, Sum.ofIntegers(), //&quot;totalAmount&quot;));\r\n\t\t\t\t\tSystem.out.println(&quot;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  &quot;+Group.byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\r\n\t\t\t\t\t .aggregateField(&quot;amount&quot;, Sum.ofIntegers(), &quot;totalAmount&quot;).getName());\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tpipeline.run().waitUntilFinish();\r\n\t\t\t\t\tSystem.out.println(&quot;The end&quot;);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tprivate static String getColumnValue(String columnName, Row row, Schema sourceSchema) {\r\n\t\t\t\t\tString type = sourceSchema.getField(columnName).schema().getType().toString().toLowerCase();\r\n\t\t\t\t\tLogicalType logicalType = sourceSchema.getField(columnName).schema().getLogicalType();\r\n\t\t\t\t\tif (logicalType != null) {\r\n\t\t\t\t\t\ttype = logicalType.getName();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase &quot;string&quot;:\r\n\t\t\t\t\t\treturn row.getString(columnName);\r\n\t\t\t\t\tcase &quot;int&quot;:\r\n\t\t\t\t\t\treturn Objects.requireNonNull(row.getInt32(columnName)).toString();\r\n\t\t\t\t\tcase &quot;bigint&quot;:\r\n\t\t\t\t\t\treturn Objects.requireNonNull(row.getInt64(columnName)).toString();\r\n\t\t\t\t\tcase &quot;double&quot;:\r\n\t\t\t\t\t\treturn Objects.requireNonNull(row.getDouble(columnName)).toString();\r\n\t\t\t\t\tcase &quot;timestamp-millis&quot;:\r\n\t\t\t\t\t\treturn Instant.ofEpochMilli(Objects.requireNonNull(row.getDateTime(&quot;eventTime&quot;)).getMillis()).toString();\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn row.getString(columnName);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t}\r\n\r\n\r\n**Corrected Code:**\r\n\r\n\t\t\tfinal Group.CombineFieldsByFields&lt;Row&gt; combine = Group.&lt;Row&gt;byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\r\n\t\t\t\t\t.aggregateField(&quot;amount&quot;, Sum.ofDoubles(), &quot;sumAmount&quot;);\r\n\r\n\t\t\tfinal PCollection&lt;Row&gt; aggregagte = rows.apply(combine);\r\n\r\n\t\t\tPCollection&lt;String&gt; pOutput = aggregagte.apply(ParDo.of(new RowToString()));\r\n\r\nThe output that I am getting is \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/026l2.png\r\n\r\nTheExpected Output \r\n\r\n|      customerId      |     date    |      amount      |\r\n|---------------------|------------------|------------------|\r\n|          BS:89481   | 09/30/2012       |         784      |\r\n|          BS:89481   | 11/30/2012       |         313      |\r\n|          BS:89480   | 11/30/2012       |        1277      |","title":"Apache Beam Resampling of columns based on date","body":"<p>I am using ApacheBeam to process data and trying to achieve the following.</p>\n<ol>\n<li>read the data from CSV file. (Completed )</li>\n<li>Group the records based on Customer ID  (Completed)</li>\n<li>Resample the data based on month and calculate the sum for that particular month.</li>\n</ol>\n<p>Detailed Explanation:</p>\n<p>I have a CSV file as shown below.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>customerId</th>\n<th>date</th>\n<th>amount</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>BS:89481</td>\n<td>11/14/2012</td>\n<td>124</td>\n</tr>\n<tr>\n<td>BS:89480</td>\n<td>11/14/2012</td>\n<td>234</td>\n</tr>\n<tr>\n<td>BS:89481</td>\n<td>11/10/2012</td>\n<td>189</td>\n</tr>\n<tr>\n<td>BS:89480</td>\n<td>11/02/2012</td>\n<td>987</td>\n</tr>\n<tr>\n<td>BS:89481</td>\n<td>09/14/2012</td>\n<td>784</td>\n</tr>\n<tr>\n<td>BS:89480</td>\n<td>11/14/2012</td>\n<td>056</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Intermediate stage:\nGrouping it by customerId and sorting it by date</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>customerId</th>\n<th>date</th>\n<th>amount</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>BS:89481</td>\n<td>09/14/2012</td>\n<td>784</td>\n</tr>\n<tr>\n<td>BS:89481</td>\n<td>11/10/2012</td>\n<td>189</td>\n</tr>\n<tr>\n<td>BS:89481</td>\n<td>11/14/2012</td>\n<td>124</td>\n</tr>\n<tr>\n<td>BS:89480</td>\n<td>11/02/2012</td>\n<td>987</td>\n</tr>\n<tr>\n<td>BS:89480</td>\n<td>11/14/2012</td>\n<td>234</td>\n</tr>\n<tr>\n<td>BS:89480</td>\n<td>11/14/2012</td>\n<td>056</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>Expected output on( resampling)</strong>\nHere, we calculate the sum of all the amounts for that particular month for the individual customers.  Eg: the customer BS:89481 has two spends for the month of November, so we have calculated the sum for that month (124 + 189).</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>customerId</th>\n<th>date</th>\n<th>amount</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>BS:89481</td>\n<td>09/30/2012</td>\n<td>784</td>\n</tr>\n<tr>\n<td>BS:89481</td>\n<td>11/30/2012</td>\n<td>313</td>\n</tr>\n<tr>\n<td>BS:89480</td>\n<td>11/02/2012</td>\n<td>1277</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I was able to complete step1 and step2, not sure how to implement step3.</p>\n<p>Schema schema = new Schema.Parser().parse(schemaFile);</p>\n<pre><code>    Pipeline pipeline = Pipeline.create();\n\n    // Reading schema\n    org.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\n\n    final PCollectionTuple tuples = pipeline\n\n            // Reading csv input\n            .apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\n\n            // Reading files that matches conditions //PRashanth needs to be looked at\n            .apply(&quot;2&quot;, FileIO.readMatches())\n\n            // Reading schema and validating with schema and converts to row and returns\n            // valid and invalid list\n            .apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\n                    TupleTagList.of(invalidTag())));\n\n    // Fetching only valid rows\n\n    final PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\n\n    // Step2\n    //Convert row to KV for grouping\n    StringToKV stringtoKV = new StringToKV();\n    stringtoKV.setColumnName(&quot;customerId&quot;);\n    PCollection&lt;KV&lt;String, Row&gt;&gt; kvOrderRows = rows.apply(ParDo.of(stringtoKV)).setCoder(KvCoder.of(StringUtf8Coder.of(), rows.getCoder()));\n            //setCoder(KvCoder.of(VoidCoder.of()), rows.getCoder()));\n\n    \n    // Obtain a PCollection of KeyValue class of \n    PCollection&lt;KV&lt;String,Iterable&lt;Row&gt;&gt;&gt; kvIterableForm = kvOrderRows.apply(GroupByKey.&lt;String,Row&gt;create());\n</code></pre>\n<p><strong>Update</strong>:</p>\n<p>Schema Transform:</p>\n<pre><code>    {\n      &quot;type&quot; : &quot;record&quot;,\n      &quot;name&quot; : &quot;Entry&quot;,\n      &quot;namespace&quot; : &quot;transform&quot;,\n      &quot;fields&quot; : [  {\n        &quot;name&quot; : &quot;customerId&quot;,\n        &quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\n      }, {\n        &quot;name&quot; : &quot;date&quot;,\n        &quot;type&quot; : [ &quot;long&quot;, &quot;null&quot; ]\n      }, {\n        &quot;name&quot; : &quot;amount&quot;,\n        &quot;type&quot; : [ &quot;double&quot;, &quot;null&quot; ]\n      }]\n    }\n</code></pre>\n<p>CSV File</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>customerId</th>\n<th>date</th>\n<th>amount</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>BS:89481</td>\n<td>11/14/2012</td>\n<td>124</td>\n</tr>\n<tr>\n<td>BS:89480</td>\n<td>11/14/2012</td>\n<td>234</td>\n</tr>\n<tr>\n<td>BS:89481</td>\n<td>11/10/2012</td>\n<td>189</td>\n</tr>\n<tr>\n<td>BS:89480</td>\n<td>11/02/2012</td>\n<td>987</td>\n</tr>\n<tr>\n<td>BS:89481</td>\n<td>09/14/2012</td>\n<td>784</td>\n</tr>\n<tr>\n<td>BS:89480</td>\n<td>11/14/2012</td>\n<td>056</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre><code>class StringToKV1 extends DoFn&lt;Row, KV&lt;String, Row&gt;&gt; {\n\n        private static final long serialVersionUID = -8093837716944809689L;\n        String columnName=null;\n\n        @ProcessElement\n        public void processElement(ProcessContext context) {\n            Row row = context.element();\n            context.output(KV.of(row.getValue(columnName), row));\n        }\n        \n        public void setColumnName(String columnName) {\n            this.columnName = columnName;\n        }\n    }\n</code></pre>\n<p>Code:</p>\n<pre><code>        public class GroupByTest {\n            public static void main(String[] args) throws IOException {\n                System.out.println(&quot;We are about to start!!&quot;);\n\n                final File schemaFile = new File(\n                        &quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\schema_transform2.avsc&quot;);\n\n                File csvFile = new File(\n                        &quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\CustomerRequest-case2.csv&quot;);\n                Schema schema = new Schema.Parser().parse(schemaFile);\n\n                Pipeline pipeline = Pipeline.create();\n\n                // Reading schema\n                org.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\n\n                final PCollectionTuple tuples = pipeline\n\n                        // Reading csv input\n                        .apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\n\n                        // Reading files that matches conditions //PRashanth needs to be looked at\n                        .apply(&quot;2&quot;, FileIO.readMatches())\n\n                        // Reading schema and validating with schema and converts to row and returns\n                        // valid and invalid list\n                        .apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\n                                TupleTagList.of(invalidTag())));\n\n                // Fetching only valid rows\n                final PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\n\n                // Transformation\n                //Convert row to KV\n                StringToKV1 stringtoKV1 = new StringToKV1();\n                stringtoKV1.setColumnName(&quot;customerId&quot;);\n                PCollection&lt;KV&lt;String, Row&gt;&gt; kvOrderRows = rows.apply(ParDo.of(stringtoKV1)).setCoder(KvCoder.of(StringUtf8Coder.of(), rows.getCoder()));\n\n                \n                // Will throw error\n                // rows.apply(Group.byFieldNames(&quot;customerId&quot;, &quot;date&quot;).aggregateField(&quot;amount&quot;, Sum.ofIntegers(), //&quot;totalAmount&quot;));\n                System.out.println(&quot;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  &quot;+Group.byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\n                 .aggregateField(&quot;amount&quot;, Sum.ofIntegers(), &quot;totalAmount&quot;).getName());                 \n                \n                pipeline.run().waitUntilFinish();\n                System.out.println(&quot;The end&quot;);\n\n            }\n\n            private static String getColumnValue(String columnName, Row row, Schema sourceSchema) {\n                String type = sourceSchema.getField(columnName).schema().getType().toString().toLowerCase();\n                LogicalType logicalType = sourceSchema.getField(columnName).schema().getLogicalType();\n                if (logicalType != null) {\n                    type = logicalType.getName();\n                }\n\n                switch (type) {\n                case &quot;string&quot;:\n                    return row.getString(columnName);\n                case &quot;int&quot;:\n                    return Objects.requireNonNull(row.getInt32(columnName)).toString();\n                case &quot;bigint&quot;:\n                    return Objects.requireNonNull(row.getInt64(columnName)).toString();\n                case &quot;double&quot;:\n                    return Objects.requireNonNull(row.getDouble(columnName)).toString();\n                case &quot;timestamp-millis&quot;:\n                    return Instant.ofEpochMilli(Objects.requireNonNull(row.getDateTime(&quot;eventTime&quot;)).getMillis()).toString();\n\n                default:\n                    return row.getString(columnName);\n\n                }\n            }\n\n\n\n        }\n</code></pre>\n<p><strong>Corrected Code:</strong></p>\n<pre><code>        final Group.CombineFieldsByFields&lt;Row&gt; combine = Group.&lt;Row&gt;byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\n                .aggregateField(&quot;amount&quot;, Sum.ofDoubles(), &quot;sumAmount&quot;);\n\n        final PCollection&lt;Row&gt; aggregagte = rows.apply(combine);\n\n        PCollection&lt;String&gt; pOutput = aggregagte.apply(ParDo.of(new RowToString()));\n</code></pre>\n<p>The output that I am getting is</p>\n<p><a href=\"https://i.stack.imgur.com/026l2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/026l2.png\" alt=\"enter image description here\" /></a></p>\n<p>TheExpected Output</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>customerId</th>\n<th>date</th>\n<th>amount</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>BS:89481</td>\n<td>09/30/2012</td>\n<td>784</td>\n</tr>\n<tr>\n<td>BS:89481</td>\n<td>11/30/2012</td>\n<td>313</td>\n</tr>\n<tr>\n<td>BS:89480</td>\n<td>11/30/2012</td>\n<td>1277</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","github-api","gist"],"answers":[{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635796104,"creation_date":1635796104,"answer_id":69802086,"question_id":69799772,"body_markdown":"Having also posted an issue on the library&#39;s GitHub page, I received an answer very quickly.\r\n\r\nFor anyone in the future having a problem with this library, you have to build it using an OKHttp connection. \r\n\r\nSo add this to your POM file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;version&gt;4.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nthen add this to your module-info file:\r\n\r\n    requires okhttp3;\r\n\r\nThen build the GitHub object like this:\r\n\r\n    GitHub gitHub = new GitHubBuilder().withOAuthToken(token).withConnector(new OkHttpConnector(new OkHttpClient())).build();\r\n\r\nAnd all will be well.","title":"Cant create file inside existing Gist with java org.kohsuke.github API","body":"<p>Having also posted an issue on the library's GitHub page, I received an answer very quickly.</p>\n<p>For anyone in the future having a problem with this library, you have to build it using an OKHttp connection.</p>\n<p>So add this to your POM file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;version&gt;4.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>then add this to your module-info file:</p>\n<pre><code>requires okhttp3;\n</code></pre>\n<p>Then build the GitHub object like this:</p>\n<pre><code>GitHub gitHub = new GitHubBuilder().withOAuthToken(token).withConnector(new OkHttpConnector(new OkHttpClient())).build();\n</code></pre>\n<p>And all will be well.</p>\n"}],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635796104,"creation_date":1635783736,"question_id":69799772,"body_markdown":"I&#39;ve been working with the org.kohsuke.github Java library for a few days now. My only need for it is to do all things GIST... make them delete them, edit them as well as the different files that exist within gists.\r\n\r\nHere&#39;s what I CAN do with the library:\r\n\r\nAuthenticate with a user token. \r\n\r\n    GitHub gitHub = GitHub.connectUsingOAuth(token);\r\n    boolean authenticated = gitHub.isCredentialValid();\r\n\r\nOnce authenticated I&#39;ve been able to...\r\n\r\nPull a list of the users gists:\r\n\r\n    gitHub.getMyself().listGists()\r\n\r\n\r\nCreate NEW Gists with a file included:\r\n\r\n    gitHub.createGist()\r\n         .file(filename,contents)\r\n         .description(description)\r\n         .public_(isPublic)\r\n         .create();\r\n\r\n\r\nDelete Gists:\r\n\r\n    gitHub.getGist(gistId).delete();\r\n\r\n\r\nGet a list of files within a given gist:\r\n\r\n    GHGist gist = gitHub.getGist(gistId);\r\n    List&lt;String&gt; fileNameList = new ArrayList&lt;&gt;();\r\n    for (String filename : gist.getFiles().keySet()) {\r\n         fileNameList.add(filename);\r\n    }\r\n\r\n\r\nThough I cannot get the contents of a file this way (it comes back NULL), I have to pull the files&#39; URL and then get the contents of the file like this:\r\n\r\n    String fileContents = &quot;&quot;;\r\n    GHGistFile file = gitHub.getGist(gistId).getFile(fileName);\r\n    try {\r\n         HttpURLConnection conn = gitHub.getConnector().connect(new URL(file.getRawUrl()));\r\n         conn.setRequestMethod(&quot;GET&quot;);\r\n         InputStream is = conn.getInputStream();\r\n         fileContents = IOUtils.toString(is, StandardCharsets.UTF_8);\r\n         is.close();\r\n         }\r\n    catch (IOException e) {e.printStackTrace();}\r\n    return fileContents;\r\n\r\n\r\nWhat I CAN&#39;T seem to do with the API is anything at the gist file level where I need to delete a file, add a file, or update the contents of a file. For example, this code **DOES NOT GENERATE ANY ERRORS**, yet it simply does not work, meaning that the code runs but the file is never created inside the gist:\r\n\r\n    public static void addFileToGist(String filename, String contents, String gistId) {\r\n         GHGist gist = getGist(gistId);\r\n         try{\r\n              gist.update().addFile(filename,contents);\r\n              CustomAlert.showInfo(&quot;File Added&quot;);\r\n         }\r\n         catch (IOException e) {e.printStackTrace();}\r\n    }\r\n\r\nAm I doing something wrong? Or is there some other way to do this with the library? Do I need to create new gist files and update them etc. via the HTTPConnector?  If so, I can&#39;t seem to figure out HOW to do it and I can&#39;t find examples anywhere for gists ... in fact, the internet searches for gist-related documentation or code examples for this library is basically non-existent, so I&#39;m hoping someone out there has experience with it and can point me in the right direction.\r\n\r\nMike\r\n","title":"Cant create file inside existing Gist with java org.kohsuke.github API","body":"<p>I've been working with the org.kohsuke.github Java library for a few days now. My only need for it is to do all things GIST... make them delete them, edit them as well as the different files that exist within gists.</p>\n<p>Here's what I CAN do with the library:</p>\n<p>Authenticate with a user token.</p>\n<pre><code>GitHub gitHub = GitHub.connectUsingOAuth(token);\nboolean authenticated = gitHub.isCredentialValid();\n</code></pre>\n<p>Once authenticated I've been able to...</p>\n<p>Pull a list of the users gists:</p>\n<pre><code>gitHub.getMyself().listGists()\n</code></pre>\n<p>Create NEW Gists with a file included:</p>\n<pre><code>gitHub.createGist()\n     .file(filename,contents)\n     .description(description)\n     .public_(isPublic)\n     .create();\n</code></pre>\n<p>Delete Gists:</p>\n<pre><code>gitHub.getGist(gistId).delete();\n</code></pre>\n<p>Get a list of files within a given gist:</p>\n<pre><code>GHGist gist = gitHub.getGist(gistId);\nList&lt;String&gt; fileNameList = new ArrayList&lt;&gt;();\nfor (String filename : gist.getFiles().keySet()) {\n     fileNameList.add(filename);\n}\n</code></pre>\n<p>Though I cannot get the contents of a file this way (it comes back NULL), I have to pull the files' URL and then get the contents of the file like this:</p>\n<pre><code>String fileContents = &quot;&quot;;\nGHGistFile file = gitHub.getGist(gistId).getFile(fileName);\ntry {\n     HttpURLConnection conn = gitHub.getConnector().connect(new URL(file.getRawUrl()));\n     conn.setRequestMethod(&quot;GET&quot;);\n     InputStream is = conn.getInputStream();\n     fileContents = IOUtils.toString(is, StandardCharsets.UTF_8);\n     is.close();\n     }\ncatch (IOException e) {e.printStackTrace();}\nreturn fileContents;\n</code></pre>\n<p>What I CAN'T seem to do with the API is anything at the gist file level where I need to delete a file, add a file, or update the contents of a file. For example, this code <strong>DOES NOT GENERATE ANY ERRORS</strong>, yet it simply does not work, meaning that the code runs but the file is never created inside the gist:</p>\n<pre><code>public static void addFileToGist(String filename, String contents, String gistId) {\n     GHGist gist = getGist(gistId);\n     try{\n          gist.update().addFile(filename,contents);\n          CustomAlert.showInfo(&quot;File Added&quot;);\n     }\n     catch (IOException e) {e.printStackTrace();}\n}\n</code></pre>\n<p>Am I doing something wrong? Or is there some other way to do this with the library? Do I need to create new gist files and update them etc. via the HTTPConnector?  If so, I can't seem to figure out HOW to do it and I can't find examples anywhere for gists ... in fact, the internet searches for gist-related documentation or code examples for this library is basically non-existent, so I'm hoping someone out there has experience with it and can point me in the right direction.</p>\n<p>Mike</p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":2257141,"reputation":2906,"user_id":1988097,"accept_rate":53,"display_name":"Darius X."},"score":3,"creation_date":1417465362,"post_id":27236568,"comment_id":42949723,"body_markdown":"Are you talking about your getArrayIndex() method? If so, what is wrong with the way it is at present?","body":"Are you talking about your getArrayIndex() method? If so, what is wrong with the way it is at present?"},{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":1,"creation_date":1417465395,"post_id":27236568,"comment_id":42949737,"body_markdown":"Apropos of nothing, you will probably find it easier to program a TicTacToe game using a standard array with 9 elements than using a 2-d array.","body":"Apropos of nothing, you will probably find it easier to program a TicTacToe game using a standard array with 9 elements than using a 2-d array."},{"owner":{"account_id":1656912,"reputation":1395,"user_id":1558016,"accept_rate":100,"display_name":"OYRM"},"score":0,"creation_date":1417466018,"post_id":27236568,"comment_id":42950057,"body_markdown":"Hi Justin. You&#39;ve said that you want to __return an array index from a method__. An Array index is just an int, returning the index, from a function in which you are given the index, is simply returning the input to the method. Your description may be confused. \nAn array has indices and values\nA multidimensional array has values which are also arrays.\n`int[][] foo = {{0, 1, 2}, {3, 1, 4}, {1, 1, 2}}` is a 2D array with 9 entries. When accessing a value in a 2D array, i.e. `foo[1][2]` you are referencing first, the array at index 1 of foo[], and then the int at index 2 of `foo[1]`, which is 4","body":"Hi Justin. You&#39;ve said that you want to <b>return an array index from a method</b>. An Array index is just an int, returning the index, from a function in which you are given the index, is simply returning the input to the method. Your description may be confused.  An array has indices and values A multidimensional array has values which are also arrays. <code>int[][] foo = {{0, 1, 2}, {3, 1, 4}, {1, 1, 2}}</code> is a 2D array with 9 entries. When accessing a value in a 2D array, i.e. <code>foo[1][2]</code> you are referencing first, the array at index 1 of foo[], and then the int at index 2 of <code>foo[1]</code>, which is 4"}],"answers":[{"tags":[],"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1417465648,"creation_date":1417465648,"answer_id":27236679,"question_id":27236568,"body_markdown":"The Java-way to do this is define a class to hold the row and column index.\r\n\r\n    final class BoardIndex {\r\n    \r\n        final int row;\r\n        final int col;\r\n    \r\n        BoradIndex(final int r, final int c) {\r\n            this.row = r;\r\n            this.col = c;\r\n        }\r\n    }\r\n\r\nYou can then return it from a function.\r\n\r\n    BoardIndex getIt() {\r\n        return new BoradIndex(1, 2);\r\n    }\r\n\r\nIt&#39;s quite a bit of typing but many Java folks prefer this kind of being explicit about types over using, say, an array of integers.","title":"How to return an two dimensional array index from a method?","body":"<p>The Java-way to do this is define a class to hold the row and column index.</p>\n\n<pre><code>final class BoardIndex {\n\n    final int row;\n    final int col;\n\n    BoradIndex(final int r, final int c) {\n        this.row = r;\n        this.col = c;\n    }\n}\n</code></pre>\n\n<p>You can then return it from a function.</p>\n\n<pre><code>BoardIndex getIt() {\n    return new BoradIndex(1, 2);\n}\n</code></pre>\n\n<p>It's quite a bit of typing but many Java folks prefer this kind of being explicit about types over using, say, an array of integers.</p>\n"},{"tags":[],"owner":{"account_id":5340433,"reputation":458,"user_id":4257747,"accept_rate":75,"display_name":"Alfro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417469478,"creation_date":1417469478,"answer_id":27237703,"question_id":27236568,"body_markdown":"Well, to answer your question, since it&#39;s a two-dimensional array, you obviously need two indices to be returned (as you probably thought). Since a function can only return one Object, as you correcty meant to do given your function:\r\n\r\n    public static int[] getArrayIndex(){\r\n            System.out.println(&quot;&#39;O&#39;. Choose your Row...(row, column)&quot;);\r\n            int r = in.nextInt();\r\n            int c = in.nextInt();\r\n            return new int[] {r,c};\r\n        }\r\n\r\nyou returned a two-element array with both the indices you need. That is ONE way you can accomplish it. Other forms include creating an Object with two int elements and using it instead or storing both variables in the same int somehow (keeping them one digit long for example).\r\nAnyways, your way to returning those indices is alright. How you use that information is up to you then. I guess you&#39;d have to store it in a temporary int array like this `int[] temp=getArrayIndex();` and then access each element to get the corresponding indices.\r\n\r\n\r\nHowever, your code has other errors, like forgetting to put a name to the parameter in this function (or the fact that such parameter isn&#39;t used anyways):\r\n\r\n    public static void userMove(int[][] ){\r\n        board[r][c] = &#39;O&#39;;\r\n    }\r\n\r\nI suggest you check on those. Maybe the program you compiled gave you an error and you thought it was because of the `new int[] {r,c}` thing, but naaah, that works. If that&#39;s the case, check the rest, it&#39;s something else. I&#39;ll be glad to help though, so feel free to ask. ^^\r\n","title":"How to return an two dimensional array index from a method?","body":"<p>Well, to answer your question, since it's a two-dimensional array, you obviously need two indices to be returned (as you probably thought). Since a function can only return one Object, as you correcty meant to do given your function:</p>\n\n<pre><code>public static int[] getArrayIndex(){\n        System.out.println(\"'O'. Choose your Row...(row, column)\");\n        int r = in.nextInt();\n        int c = in.nextInt();\n        return new int[] {r,c};\n    }\n</code></pre>\n\n<p>you returned a two-element array with both the indices you need. That is ONE way you can accomplish it. Other forms include creating an Object with two int elements and using it instead or storing both variables in the same int somehow (keeping them one digit long for example).\nAnyways, your way to returning those indices is alright. How you use that information is up to you then. I guess you'd have to store it in a temporary int array like this <code>int[] temp=getArrayIndex();</code> and then access each element to get the corresponding indices.</p>\n\n<p>However, your code has other errors, like forgetting to put a name to the parameter in this function (or the fact that such parameter isn't used anyways):</p>\n\n<pre><code>public static void userMove(int[][] ){\n    board[r][c] = 'O';\n}\n</code></pre>\n\n<p>I suggest you check on those. Maybe the program you compiled gave you an error and you thought it was because of the <code>new int[] {r,c}</code> thing, but naaah, that works. If that's the case, check the rest, it's something else. I'll be glad to help though, so feel free to ask. ^^</p>\n"},{"tags":[],"owner":{"account_id":4825870,"reputation":11,"user_id":3895369,"display_name":"Kamal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635796090,"creation_date":1635796090,"answer_id":69802083,"question_id":27236568,"body_markdown":"you may want to consider using java.awt.Point. ","title":"How to return an two dimensional array index from a method?","body":"<p>you may want to consider using java.awt.Point.</p>\n"}],"owner":{"account_id":5418754,"reputation":11,"user_id":4313141,"display_name":"Justin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1635796090,"creation_date":1417465169,"question_id":27236568,"body_markdown":"Im creating a tic tac toe program from here:\r\n\r\nhttp://programmingbydoing.com/a/tic-tac-toe.html\r\n\r\nI&#39;m having trouble finding out how to return an array index from a method. I want to user to input 2 integers, ( row, column) and have that index returned and have either char &#39;O&#39;, or &#39;X&#39; replace the blank corresponding index. \r\n\r\nI&#39;m a bit new to java, and am trying to learn it as fast and efficiently as possible to catch up in my class.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ticTacToe{\r\n    \tpublic static Scanner in = new Scanner(System.in);\r\n    \tprivate static int r, c;\r\n    \tprivate static char[][] board = new char[3][3];\r\n    \t//create a 3x3 array of characters\r\n    \r\n    \tpublic static void main( String[] args ) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \r\n    \t\tdisplayBoard();\r\n    \t\tdo{\r\n    \t\t\t// user inputs two numbers as indexes\r\n    \t\t\t//turn index into &quot;o&quot;\r\n    \t\t\t//prompt other user to make move, repeat with &quot;x&quot;\r\n    \t\t\r\n    \t\t}while(checkLoser());\r\n    \t\t\t\r\n    \t}\r\n    \r\n    \tpublic static void displayBoard() {\r\n    \t\tSystem.out.println(&quot;  0  &quot; + board[0][0] + &quot;|&quot; + board[0][1] + &quot;|&quot; + board[0][2]);\r\n    \t\tSystem.out.println(&quot;    --+-+--&quot;);\r\n    \t\tSystem.out.println(&quot;  1  &quot; + board[1][0] + &quot;|&quot; + board[1][1] + &quot;|&quot; + board[1][2]);\r\n    \t\tSystem.out.println(&quot;    --+-+--&quot;);\r\n    \t\tSystem.out.println(&quot;  2  &quot; + board[2][0] + &quot;|&quot; + board[2][1] + &quot;|&quot; + board[2][2]);\r\n    \t\tSystem.out.println(&quot;     0 1 2 &quot;);\r\n    \t}\r\n    \t\r\n    \tpublic static int[] getArrayIndex(){\r\n    \t\tSystem.out.println(&quot;&#39;O&#39;. Choose your Row...(row, column)&quot;);\r\n    \t\tint r = in.nextInt();\r\n    \t\tint c = in.nextInt();\r\n    \t\treturn new int[] {r,c};\r\n    \t}\r\n    \t\r\n    \tpublic static void userMove(int[][] ){\r\n    \t\tboard[r][c] = &#39;O&#39;;\r\n    \t}\r\n    \r\n    \tpublic static boolean checkLoser(){\r\n    \t\t\tif (board[0][0] == board[0][1]){\r\n    \t\t\tif (board [0][1] == board[0][2]){\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse if (board[1][0] == board[1][1]){\r\n    \t\t\tif (board [1][1] == board[1][2]){\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse if (board[2][0] == board[2][1]){\r\n    \t\t\tif (board [2][1] == board[2][2]){\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse if (board[0][0] == board[1][0]){\r\n    \t\t\tif (board [1][0] == board[2][0]){\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse if (board[0][1] == board[1][1]){\r\n    \t\t\tif (board [1][1] == board[1][2]){\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse if (board[0][2] == board[1][2]){\r\n    \t\t\tif (board [1][2] == board[2][2]){\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t\telse if (board[0][0] == board[1][1]){\r\n    \t\t\tif (board [1][1] == board[2][2]){\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse if (board[0][2] == board[1][1]){\r\n    \t\t\tif (board [1][1] == board[2][0]){\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\t}else{\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t}\r\n    \t\r\n    }","title":"How to return an two dimensional array index from a method?","body":"<p>Im creating a tic tac toe program from here:</p>\n\n<p><a href=\"http://programmingbydoing.com/a/tic-tac-toe.html\" rel=\"nofollow\">http://programmingbydoing.com/a/tic-tac-toe.html</a></p>\n\n<p>I'm having trouble finding out how to return an array index from a method. I want to user to input 2 integers, ( row, column) and have that index returned and have either char 'O', or 'X' replace the blank corresponding index. </p>\n\n<p>I'm a bit new to java, and am trying to learn it as fast and efficiently as possible to catch up in my class.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ticTacToe{\n    public static Scanner in = new Scanner(System.in);\n    private static int r, c;\n    private static char[][] board = new char[3][3];\n    //create a 3x3 array of characters\n\n    public static void main( String[] args ) {\n        Scanner in = new Scanner(System.in);\n\n        displayBoard();\n        do{\n            // user inputs two numbers as indexes\n            //turn index into \"o\"\n            //prompt other user to make move, repeat with \"x\"\n\n        }while(checkLoser());\n\n    }\n\n    public static void displayBoard() {\n        System.out.println(\"  0  \" + board[0][0] + \"|\" + board[0][1] + \"|\" + board[0][2]);\n        System.out.println(\"    --+-+--\");\n        System.out.println(\"  1  \" + board[1][0] + \"|\" + board[1][1] + \"|\" + board[1][2]);\n        System.out.println(\"    --+-+--\");\n        System.out.println(\"  2  \" + board[2][0] + \"|\" + board[2][1] + \"|\" + board[2][2]);\n        System.out.println(\"     0 1 2 \");\n    }\n\n    public static int[] getArrayIndex(){\n        System.out.println(\"'O'. Choose your Row...(row, column)\");\n        int r = in.nextInt();\n        int c = in.nextInt();\n        return new int[] {r,c};\n    }\n\n    public static void userMove(int[][] ){\n        board[r][c] = 'O';\n    }\n\n    public static boolean checkLoser(){\n            if (board[0][0] == board[0][1]){\n            if (board [0][1] == board[0][2]){\n                return false;\n            }\n            }\n            else if (board[1][0] == board[1][1]){\n            if (board [1][1] == board[1][2]){\n                return false;\n            }\n            }\n            else if (board[2][0] == board[2][1]){\n            if (board [2][1] == board[2][2]){\n                return false;\n            }\n            }\n            else if (board[0][0] == board[1][0]){\n            if (board [1][0] == board[2][0]){\n                return false;\n            }\n            }\n            else if (board[0][1] == board[1][1]){\n            if (board [1][1] == board[1][2]){\n                return false;\n            }\n            }\n            else if (board[0][2] == board[1][2]){\n            if (board [1][2] == board[2][2]){\n                return false;\n            }\n            }\n\n            else if (board[0][0] == board[1][1]){\n            if (board [1][1] == board[2][2]){\n                return false;\n            }\n            }\n            else if (board[0][2] == board[1][1]){\n            if (board [1][1] == board[2][0]){\n                return true;\n            }\n            }else{\n                return false;\n            }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","if-statement","android-intent"],"comments":[{"owner":{"account_id":23208080,"reputation":15,"user_id":17301983,"display_name":"TheGamerPotato"},"score":0,"creation_date":1635788016,"post_id":69800310,"comment_id":123381427,"body_markdown":"@Andy I added my manifest to the post but they all seem to be there as well so I don&#39;t know what the problem is","body":"@Andy I added my manifest to the post but they all seem to be there as well so I don&#39;t know what the problem is"},{"owner":{"account_id":23208080,"reputation":15,"user_id":17301983,"display_name":"TheGamerPotato"},"score":0,"creation_date":1635789387,"post_id":69800310,"comment_id":123381887,"body_markdown":"@Andy I posted it, it looks like the problem has to do with a null object reference but I&#39;m not sure","body":"@Andy I posted it, it looks like the problem has to do with a null object reference but I&#39;m not sure"},{"owner":{"account_id":16677797,"reputation":837,"user_id":12053756,"display_name":"Jagar"},"score":0,"creation_date":1635789995,"post_id":69800310,"comment_id":123382112,"body_markdown":"Did you implement a `setOnClickListener` for the `button`? Because it is not included in the attached code, and the error says that you have not initialized this button (or wrongly did it) so it is `null`.","body":"Did you implement a <code>setOnClickListener</code> for the <code>button</code>? Because it is not included in the attached code, and the error says that you have not initialized this button (or wrongly did it) so it is <code>null</code>."},{"owner":{"account_id":23208080,"reputation":15,"user_id":17301983,"display_name":"TheGamerPotato"},"score":0,"creation_date":1635791078,"post_id":69800310,"comment_id":123382478,"body_markdown":"@Andy I edited my code to include the rest of the of the code but I still aren&#39;t sure of the issue","body":"@Andy I edited my code to include the rest of the of the code but I still aren&#39;t sure of the issue"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635791266,"post_id":69800310,"comment_id":123382555,"body_markdown":"if(back2==null) return;","body":"if(back2==null) return;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635843463,"post_id":69800310,"comment_id":123394268,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":14724375,"reputation":126,"user_id":10633906,"display_name":"AbdulelahAGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635796063,"creation_date":1635796063,"answer_id":69802078,"question_id":69800310,"body_markdown":"The reason is just a typo. In the Liberica Class change this line:\r\n\r\n```\r\nback2 = findViewById(R.id.back);\r\n```\r\nTo this:\r\n```\r\nback2 = findViewById(R.id.back2);\r\n```\r\n\r\nBecause the actual id of the button is `back2` not `back` as you can see:\r\n```\r\n&lt;Button\r\n    android:id=&quot;@+id/back2&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginStart=&quot;16dp&quot;\r\n    android:layout_marginBottom=&quot;16dp&quot;\r\n    android:text=&quot;Back&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\nAlso make sure that `setContentView(R.layout.activity_main);` In the Liberica Class is pointing to the Liberica XML layout file for example if it is called activity_liberica.xml set it to:\r\n```\r\nsetContentView(R.layout.activity_liberica);\r\n```","title":"Intent with multiple if statements","body":"<p>The reason is just a typo. In the Liberica Class change this line:</p>\n<pre><code>back2 = findViewById(R.id.back);\n</code></pre>\n<p>To this:</p>\n<pre><code>back2 = findViewById(R.id.back2);\n</code></pre>\n<p>Because the actual id of the button is <code>back2</code> not <code>back</code> as you can see:</p>\n<pre><code>&lt;Button\n    android:id=&quot;@+id/back2&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;16dp&quot;\n    android:layout_marginBottom=&quot;16dp&quot;\n    android:text=&quot;Back&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>Also make sure that <code>setContentView(R.layout.activity_main);</code> In the Liberica Class is pointing to the Liberica XML layout file for example if it is called activity_liberica.xml set it to:</p>\n<pre><code>setContentView(R.layout.activity_liberica);\n</code></pre>\n"}],"owner":{"account_id":23208080,"reputation":15,"user_id":17301983,"display_name":"TheGamerPotato"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69802078,"answer_count":1,"score":-1,"last_activity_date":1635796063,"creation_date":1635786541,"question_id":69800310,"body_markdown":"I am learning the concept of Intents and the application I am working on crashes when I try to go from any other intent that&#39;s not &quot;Arabica&quot; intent, the intent object is fired on onItemSelectedListener on a spinner. I want to make it so that when the user selects the other options on the spinner it will execute that intent and go to the other activity which displays a code of text for my coffee application.\r\n\r\nBelow is the code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private Spinner spinner;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        spinner = findViewById(R.id.List);\r\n\r\n        List&lt;String&gt; categories = new ArrayList&lt;&gt;();\r\n        categories.add(0, &quot;Choose Category&quot;);\r\n        categories.add(&quot;Arabica&quot;);\r\n        categories.add(&quot;Liberica&quot;);\r\n        categories.add(&quot;Robusta&quot;);\r\n        categories.add(&quot;Excelsa&quot;);\r\n\r\n        ArrayAdapter&lt;String&gt; dataAdapter;\r\n        dataAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_item, categories);\r\n\r\n        dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n\r\n        spinner.setAdapter(dataAdapter);\r\n\r\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                if (parent.getItemAtPosition(position).equals(&quot;Choose Category&quot;))\r\n                {\r\n\r\n                }\r\n                else\r\n                {\r\n                    String item = parent.getItemAtPosition(position).toString();\r\n\r\n                    Toast.makeText(parent.getContext(), &quot;Selected: &quot; +item, Toast.LENGTH_SHORT).show();\r\n\r\n                    if (parent.getItemAtPosition(position).equals(&quot;Arabica&quot;)) {\r\n                        Intent intent = new Intent(MainActivity.this, Arabica.class);\r\n                        startActivity(intent);\r\n                    } else if (parent.getItemAtPosition(position).equals(&quot;Liberica&quot;)) {\r\n                        Intent intent = new Intent(MainActivity.this, Liberica.class);\r\n                        startActivity(intent);\r\n                    } else if (parent.getItemAtPosition(position).equals(&quot;Robusta&quot;)) {\r\n                        Intent intent = new Intent(MainActivity.this, Robusta.class);\r\n                        startActivity(intent);\r\n                    } else if (parent.getItemAtPosition(position).equals(&quot;Excelsa&quot;)) {\r\n                        Intent intent = new Intent(MainActivity.this, Excelsa.class);\r\n                        startActivity(intent);\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nHere is the xml:\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/MainTitle&quot;\r\n        android:layout_width=&quot;199dp&quot;\r\n        android:layout_height=&quot;143dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:text=&quot;Selecciona un nombre cientifico para ver su descripcion&quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Body1&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.047&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/List&quot;\r\n        android:layout_width=&quot;268dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.559&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.499&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/Button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;60dp&quot;\r\n        android:text=&quot;Caracteristicas del Cafe&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/List&quot; /&gt;\r\n\r\n\r\nHere is also my manifest:\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.CoffeeAssessor&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Excelsa&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Liberica&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Robusta&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Arabica&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\nFinally here is the error log:\r\n\r\n    2021-11-01 12:52:48.840 10365-10365/com.revolution.coffeeassessor E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.revolution.coffeeassessor, PID: 10365\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.revolution.coffeeassessor/com.revolution.coffeeassessor.Liberica}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\r\n        at android.app.ActivityThread.-wrap11(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:148)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at com.revolution.coffeeassessor.Liberica.onCreate(Liberica.java:21)\r\n        at android.app.Activity.performCreate(Activity.java:6237)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)&#160;\r\n        at android.app.ActivityThread.-wrap11(ActivityThread.java)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:148)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5417)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)&#160;\r\n\r\nI didn&#39;t implement a setOnCLickListener for the button but i dont think that&#39;s the issue here is my onCreate though with all my Liberica code:\r\n\r\n    public class Liberica extends AppCompatActivity {\r\n\r\n    Button back2;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        back2 = findViewById(R.id.back);\r\n\r\n        back2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(Liberica.this, MainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nand my xml:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;com.revolution.coffeeassessor.Liberica&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/LibericaTitle&quot;\r\n        android:layout_width=&quot;219dp&quot;\r\n        android:layout_height=&quot;74dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:text=&quot;Lib&#233;rica (Coffea Lib&#233;rica)&quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Body1&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/LibericaDescription&quot;\r\n        android:layout_width=&quot;321dp&quot;\r\n        android:layout_height=&quot;533dp&quot;\r\n        android:text=&quot; Esta variedad es originaria de Monrovia (Liberia), de donde toma su nombre. El aroma y sabor de este grano de caf&#233; es muy peculiar, por lo que su consumo est&#225; muy poco extendido, se centra principalmente en los pa&#237;ses Escandinavos. &quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Body1&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/back2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:text=&quot;Back&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;","title":"Intent with multiple if statements","body":"<p>I am learning the concept of Intents and the application I am working on crashes when I try to go from any other intent that's not &quot;Arabica&quot; intent, the intent object is fired on onItemSelectedListener on a spinner. I want to make it so that when the user selects the other options on the spinner it will execute that intent and go to the other activity which displays a code of text for my coffee application.</p>\n<p>Below is the code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate Spinner spinner;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    spinner = findViewById(R.id.List);\n\n    List&lt;String&gt; categories = new ArrayList&lt;&gt;();\n    categories.add(0, &quot;Choose Category&quot;);\n    categories.add(&quot;Arabica&quot;);\n    categories.add(&quot;Liberica&quot;);\n    categories.add(&quot;Robusta&quot;);\n    categories.add(&quot;Excelsa&quot;);\n\n    ArrayAdapter&lt;String&gt; dataAdapter;\n    dataAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_item, categories);\n\n    dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n    spinner.setAdapter(dataAdapter);\n\n    spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            if (parent.getItemAtPosition(position).equals(&quot;Choose Category&quot;))\n            {\n\n            }\n            else\n            {\n                String item = parent.getItemAtPosition(position).toString();\n\n                Toast.makeText(parent.getContext(), &quot;Selected: &quot; +item, Toast.LENGTH_SHORT).show();\n\n                if (parent.getItemAtPosition(position).equals(&quot;Arabica&quot;)) {\n                    Intent intent = new Intent(MainActivity.this, Arabica.class);\n                    startActivity(intent);\n                } else if (parent.getItemAtPosition(position).equals(&quot;Liberica&quot;)) {\n                    Intent intent = new Intent(MainActivity.this, Liberica.class);\n                    startActivity(intent);\n                } else if (parent.getItemAtPosition(position).equals(&quot;Robusta&quot;)) {\n                    Intent intent = new Intent(MainActivity.this, Robusta.class);\n                    startActivity(intent);\n                } else if (parent.getItemAtPosition(position).equals(&quot;Excelsa&quot;)) {\n                    Intent intent = new Intent(MainActivity.this, Excelsa.class);\n                    startActivity(intent);\n                }\n            }\n        }\n\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p>Here is the xml:</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/MainTitle&quot;\n    android:layout_width=&quot;199dp&quot;\n    android:layout_height=&quot;143dp&quot;\n    android:layout_marginStart=&quot;16dp&quot;\n    android:text=&quot;Selecciona un nombre cientifico para ver su descripcion&quot;\n    android:textAppearance=&quot;@style/TextAppearance.AppCompat.Body1&quot;\n    android:textSize=&quot;24sp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.047&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\n\n&lt;Spinner\n    android:id=&quot;@+id/List&quot;\n    android:layout_width=&quot;268dp&quot;\n    android:layout_height=&quot;48dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.559&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.499&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/Button&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;60dp&quot;\n    android:text=&quot;Caracteristicas del Cafe&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/List&quot; /&gt;\n</code></pre>\n<p>Here is also my manifest:</p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.CoffeeAssessor&quot;&gt;\n    &lt;activity\n        android:name=&quot;.Excelsa&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.Liberica&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.Robusta&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.Arabica&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n<p>Finally here is the error log:</p>\n<pre><code>2021-11-01 12:52:48.840 10365-10365/com.revolution.coffeeassessor E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.revolution.coffeeassessor, PID: 10365\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.revolution.coffeeassessor/com.revolution.coffeeassessor.Liberica}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\n    at android.app.ActivityThread.-wrap11(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:148)\n    at android.app.ActivityThread.main(ActivityThread.java:5417)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n    at com.revolution.coffeeassessor.Liberica.onCreate(Liberica.java:21)\n    at android.app.Activity.performCreate(Activity.java:6237)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)¬†\n    at android.app.ActivityThread.-wrap11(ActivityThread.java)¬†\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)¬†\n    at android.os.Handler.dispatchMessage(Handler.java:102)¬†\n    at android.os.Looper.loop(Looper.java:148)¬†\n    at android.app.ActivityThread.main(ActivityThread.java:5417)¬†\n    at java.lang.reflect.Method.invoke(Native Method)¬†\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)¬†\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)¬†\n</code></pre>\n<p>I didn't implement a setOnCLickListener for the button but i dont think that's the issue here is my onCreate though with all my Liberica code:</p>\n<pre><code>public class Liberica extends AppCompatActivity {\n\nButton back2;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    back2 = findViewById(R.id.back);\n\n    back2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(Liberica.this, MainActivity.class);\n            startActivity(intent);\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p>and my xml:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;com.revolution.coffeeassessor.Liberica&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/LibericaTitle&quot;\n    android:layout_width=&quot;219dp&quot;\n    android:layout_height=&quot;74dp&quot;\n    android:layout_marginStart=&quot;16dp&quot;\n    android:layout_marginTop=&quot;16dp&quot;\n    android:text=&quot;Lib√©rica (Coffea Lib√©rica)&quot;\n    android:textAppearance=&quot;@style/TextAppearance.AppCompat.Body1&quot;\n    android:textSize=&quot;24sp&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/LibericaDescription&quot;\n    android:layout_width=&quot;321dp&quot;\n    android:layout_height=&quot;533dp&quot;\n    android:text=&quot; Esta variedad es originaria de Monrovia (Liberia), de donde toma su nombre. El aroma y sabor de este grano de caf√© es muy peculiar, por lo que su consumo est√° muy poco extendido, se centra principalmente en los pa√≠ses Escandinavos. &quot;\n    android:textAppearance=&quot;@style/TextAppearance.AppCompat.Body1&quot;\n    android:textSize=&quot;24sp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/back2&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;16dp&quot;\n    android:layout_marginBottom=&quot;16dp&quot;\n    android:text=&quot;Back&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n</code></pre>\n"},{"tags":["java","spring","maven","pom.xml"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635760071,"post_id":69795107,"comment_id":123370908,"body_markdown":"Remove the `spring-web` dependency, that is already part of the spring boot one. Also use `spring-boot-starter-data-redis` as you are now using an (older/incompatible) version of redis I suspect.","body":"Remove the <code>spring-web</code> dependency, that is already part of the spring boot one. Also use <code>spring-boot-starter-data-redis</code> as you are now using an (older/incompatible) version of redis I suspect."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635765754,"post_id":69795107,"comment_id":123372935,"body_markdown":"First you should use most recent versions of spring boot because 1.5.X is long end of life etc. also you are mixing versions (session-data-redis)..furthermore the dependency (session-data-redis) is defined wrong because it&#39;s not a pom file...https://search.maven.org/artifact/org.springframework.session/spring-session-data-redis/1.3.1.RELEASE/jar also using different frameworks in different versions like org.apache.commons vs. commons-io etc. `com.fasterxml` (xml/json is provided by spring via jackson...also using poi in a very old version etc.","body":"First you should use most recent versions of spring boot because 1.5.X is long end of life etc. also you are mixing versions (session-data-redis)..furthermore the dependency (session-data-redis) is defined wrong because it&#39;s not a pom file...<a href=\"https://search.maven.org/artifact/org.springframework.session/spring-session-data-redis/1.3.1.RELEASE/jar\" rel=\"nofollow noreferrer\">search.maven.org/artifact/org.springframework.session&zwnj;&#8203;/&hellip;</a> also using different frameworks in different versions like org.apache.commons vs. commons-io etc. <code>com.fasterxml</code> (xml/json is provided by spring via jackson...also using poi in a very old version etc."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635765788,"post_id":69795107,"comment_id":123372952,"body_markdown":"Why is the dependency to plexus-utils given?","body":"Why is the dependency to plexus-utils given?"},{"owner":{"account_id":23202709,"reputation":13,"user_id":17297307,"display_name":"Suryadi"},"score":0,"creation_date":1635832828,"post_id":69795107,"comment_id":123391210,"body_markdown":"@M.Deinum this is worked, thanks. Can you explain how you identify the problem and solve it?","body":"@M.Deinum this is worked, thanks. Can you explain how you identify the problem and solve it?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635834673,"post_id":69795107,"comment_id":123391583,"body_markdown":"Experience. Generally those errors and things like `NoSuchMethodError`, `NoClassFoundException` etc. are the result of either mixing jars/modules from different version of Spring or using incompatible versions of other libraries (i.e something that was build for spring 3 or 4 with Spring 5 etc.).","body":"Experience. Generally those errors and things like <code>NoSuchMethodError</code>, <code>NoClassFoundException</code> etc. are the result of either mixing jars/modules from different version of Spring or using incompatible versions of other libraries (i.e something that was build for spring 3 or 4 with Spring 5 etc.)."}],"owner":{"account_id":23202709,"reputation":13,"user_id":17297307,"display_name":"Suryadi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635795946,"creation_date":1635759825,"question_id":69795107,"body_markdown":"I&#39;m actually working with *Maven*, *Spring* and *Tomcat 9*. The thing is that I&#39;m trying to deploy an application that I&#39;ve developed on this *Tomcat* server.\r\n\r\nWhen I start the tomcat it shows error: `Failed to instantiate WebApplicationInitializer class` \r\n\r\nI try removing &quot;optional tag true&quot;, but still not work in my case, Is there any other problem?\r\n\r\nCode below is my *pom.xml* file\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.idx&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;lmsadmin&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;lmsadmin Maven Webapp&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;javase&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.bull.javamelody&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javamelody-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.74.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpasyncclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20140107&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.8.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;org.apache.commons.io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;classmate&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.15&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.15&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.4.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;11.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nAny ideas to fix this issue?","title":"How to solve &quot;Failed to instantiate WebApplicationInitializer class&quot; in javaspring","body":"<p>I'm actually working with <em>Maven</em>, <em>Spring</em> and <em>Tomcat 9</em>. The thing is that I'm trying to deploy an application that I've developed on this <em>Tomcat</em> server.</p>\n<p>When I start the tomcat it shows error: <code>Failed to instantiate WebApplicationInitializer class</code></p>\n<p>I try removing &quot;optional tag true&quot;, but still not work in my case, Is there any other problem?</p>\n<p>Code below is my <em>pom.xml</em> file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.idx&lt;/groupId&gt;\n    &lt;artifactId&gt;lmsadmin&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;lmsadmin Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n\n\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;3.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n            &lt;artifactId&gt;javase&lt;/artifactId&gt;\n            &lt;version&gt;3.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n    &lt;version&gt;5.3.12&lt;/version&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bull.javamelody&lt;/groupId&gt;\n            &lt;artifactId&gt;javamelody-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.74.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpasyncclient&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n            &lt;version&gt;4.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20140107&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\n            &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n            &lt;version&gt;1.4.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\n            &lt;artifactId&gt;org.apache.commons.io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml&lt;/groupId&gt;\n            &lt;artifactId&gt;classmate&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n            &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n            &lt;version&gt;2.6.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n            &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;11.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\n            &lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n    &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\n    &lt;version&gt;3.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n    \n    &lt;/dependencies&gt;\n\n    \n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Any ideas to fix this issue?</p>\n"},{"tags":["java","android","cbor"],"answers":[{"tags":[],"owner":{"account_id":1345332,"reputation":772,"user_id":1286216,"accept_rate":71,"display_name":"nighthawk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1631539604,"creation_date":1631539604,"answer_id":69163543,"question_id":69145398,"body_markdown":"Solved...\r\n\r\n    public static boolean VerifySignature(byte[] data, String publicKey) {\r\n        boolean result = false;\r\n        try {\r\n\r\n            Message m = Encrypt0Message.DecodeFromBytes(data);\r\n            Sign1Message sm = (Sign1Message) m;\r\n\r\n            PublicKey key = getPublicKey(publicKey);\r\n\r\n            if (sm.validate(new OneKey(key, null))) {\r\n                result = true;\r\n            }\r\n        } catch (Exception ex) {\r\n            log.error(&quot;Error verifying signature&quot;, ex);\r\n        }\r\n        return result;\r\n    }\r\n\r\nand\r\n\r\n        public static PublicKey getPublicKey(String keyData) {\r\n        try {\r\n            Security.removeProvider(&quot;BC&quot;);\r\n            Security.addProvider(new BouncyCastleProvider());\r\n            Reader rdr = new StringReader(\r\n                    &quot;-----BEGIN EC PUBLIC KEY-----\\n&quot; + keyData + &quot;\\n&quot; + &quot;-----END EC PUBLIC KEY-----\\n&quot;\r\n            );\r\n\r\n            org.bouncycastle.util.io.pem.PemObject spki = new org.bouncycastle.util.io.pem.PemReader(rdr).readPemObject();\r\n\r\n            byte[] content = spki.getContent();\r\n            X509EncodedKeySpec pubKeySpec = new X509EncodedKeySpec(content);\r\n            return KeyFactory.getInstance(&quot;EC&quot;, &quot;BC&quot;).generatePublic(pubKeySpec);\r\n        } catch (Exception ex) {\r\n            return null;\r\n        }\r\n    }","title":"Error trying to verify signature on CBOR message","body":"<p>Solved...</p>\n<pre><code>public static boolean VerifySignature(byte[] data, String publicKey) {\n    boolean result = false;\n    try {\n\n        Message m = Encrypt0Message.DecodeFromBytes(data);\n        Sign1Message sm = (Sign1Message) m;\n\n        PublicKey key = getPublicKey(publicKey);\n\n        if (sm.validate(new OneKey(key, null))) {\n            result = true;\n        }\n    } catch (Exception ex) {\n        log.error(&quot;Error verifying signature&quot;, ex);\n    }\n    return result;\n}\n</code></pre>\n<p>and</p>\n<pre><code>    public static PublicKey getPublicKey(String keyData) {\n    try {\n        Security.removeProvider(&quot;BC&quot;);\n        Security.addProvider(new BouncyCastleProvider());\n        Reader rdr = new StringReader(\n                &quot;-----BEGIN EC PUBLIC KEY-----\\n&quot; + keyData + &quot;\\n&quot; + &quot;-----END EC PUBLIC KEY-----\\n&quot;\n        );\n\n        org.bouncycastle.util.io.pem.PemObject spki = new org.bouncycastle.util.io.pem.PemReader(rdr).readPemObject();\n\n        byte[] content = spki.getContent();\n        X509EncodedKeySpec pubKeySpec = new X509EncodedKeySpec(content);\n        return KeyFactory.getInstance(&quot;EC&quot;, &quot;BC&quot;).generatePublic(pubKeySpec);\n    } catch (Exception ex) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22788535,"reputation":1,"user_id":16943239,"display_name":"Sabino Sisto"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635795879,"creation_date":1632142079,"answer_id":69254693,"question_id":69145398,"body_markdown":"    ODqaG8mnbro=&quot;: {\r\n            &quot;serialNumber&quot;: &quot;5dfefffd3a560d58&quot;,\r\n            &quot;subject&quot;: &quot;C=BE, O=eHealth - Belgium, CN=Belgium Covid19 DSC 01&quot;,\r\n            &quot;issuer&quot;: &quot;C=BE, O=eHealth - Belgium, CN=Belgium Covid19 Country Signing CA 01&quot;,\r\n            &quot;notBefore&quot;: &quot;2021-05-27T10:12:47.000Z&quot;,\r\n            &quot;notAfter&quot;: &quot;2023-05-27T10:12:47.000Z&quot;,\r\n            &quot;signatureAlgorithm&quot;: &quot;ECDSA&quot;,\r\n            &quot;fingerprint&quot;: &quot;2942d10907cf19f27aeb0dc391f35197c69dea87&quot;,\r\n            &quot;publicKeyAlgorithm&quot;: {\r\n                &quot;hash&quot;: {\r\n                    &quot;name&quot;: &quot;SHA-256&quot;\r\n                },\r\n                &quot;name&quot;: &quot;ECDSA&quot;,\r\n                &quot;namedCurve&quot;: &quot;P-256&quot;\r\n            },\r\n            &quot;publicKeyPem&quot;: &quot;MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEU/f/KsmP3NasU/jZo7aulTrd9GHoznfnwWvX8xmHtK49EoobMAG7LhXnpLQ+aRwmmnSMcIWy8wPxM8QDMBUtyA==&quot;\r\n        }\r\n\r\n \r\n","title":"Error trying to verify signature on CBOR message","body":"<pre><code>ODqaG8mnbro=&quot;: {\n        &quot;serialNumber&quot;: &quot;5dfefffd3a560d58&quot;,\n        &quot;subject&quot;: &quot;C=BE, O=eHealth - Belgium, CN=Belgium Covid19 DSC 01&quot;,\n        &quot;issuer&quot;: &quot;C=BE, O=eHealth - Belgium, CN=Belgium Covid19 Country Signing CA 01&quot;,\n        &quot;notBefore&quot;: &quot;2021-05-27T10:12:47.000Z&quot;,\n        &quot;notAfter&quot;: &quot;2023-05-27T10:12:47.000Z&quot;,\n        &quot;signatureAlgorithm&quot;: &quot;ECDSA&quot;,\n        &quot;fingerprint&quot;: &quot;2942d10907cf19f27aeb0dc391f35197c69dea87&quot;,\n        &quot;publicKeyAlgorithm&quot;: {\n            &quot;hash&quot;: {\n                &quot;name&quot;: &quot;SHA-256&quot;\n            },\n            &quot;name&quot;: &quot;ECDSA&quot;,\n            &quot;namedCurve&quot;: &quot;P-256&quot;\n        },\n        &quot;publicKeyPem&quot;: &quot;MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEU/f/KsmP3NasU/jZo7aulTrd9GHoznfnwWvX8xmHtK49EoobMAG7LhXnpLQ+aRwmmnSMcIWy8wPxM8QDMBUtyA==&quot;\n    }\n</code></pre>\n"}],"owner":{"account_id":1345332,"reputation":772,"user_id":1286216,"accept_rate":71,"display_name":"nighthawk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69163543,"answer_count":2,"score":2,"last_activity_date":1635795879,"creation_date":1631382369,"question_id":69145398,"body_markdown":"I&#39;m having problems decoding EU Digital Certificate (&quot;Covid pass&quot;) using [COSE-JAVA][1]. Public key appears to load ok but when I try to validate the CBOR message, I get following error:\r\n\r\n    COSE.CoseException: Signature verification failure\r\n        at COSE.SignCommon.validateSignature(SignCommon.java:205)\r\n        at COSE.Signer.validate(Signer.java:212)\r\n        at COSE.Message.validate(Message.java:288)\r\n    Caused by: java.lang.NullPointerException: Attempt to get length of null array\r\n        at COSE.SignCommon.convertConcatToDer(SignCommon.java:212)\r\n\r\nHere is code for validation:\r\n\r\n    public static String DecodeMessage(byte[] data) throws CoseException, CborParseException {\r\n        Message m = Encrypt0Message.DecodeFromBytes(data);\r\n\r\n        PublicKey key = getPublicKey(&quot;here goes PEM of public key&quot;);\r\n\r\n        CborMap cborMap = CborMap.createFromCborByteArray(m.GetContent());\r\n\r\n        CounterSign signer = new CounterSign();\r\n        signer.setKey(new OneKey(key, null));\r\n        signer.addAttribute(HeaderKeys.Algorithm, AlgorithmID.ECDSA_256.AsCBOR(), Attribute.ProtectedAttributes);\r\n\r\n        // error happens here\r\n        m.validate(signer);\r\n\r\n\r\n        return cborMap.toJsonString();\r\n    }\r\n\r\nThis is how public key is generated from PEM:\r\n\r\n        public static PublicKey getPublicKey(String keyData) {\r\n        try\r\n        {\r\n            Security.removeProvider(&quot;BC&quot;);\r\n            Security.addProvider(new BouncyCastleProvider());\r\n            Reader rdr = new StringReader(\r\n                    &quot;-----BEGIN EC PUBLIC KEY-----\\n&quot; + keyData + &quot;\\n&quot; + &quot;-----END EC PUBLIC KEY-----\\n&quot;\r\n            );\r\n\r\n            org.bouncycastle.util.io.pem.PemObject spki = new org.bouncycastle.util.io.pem.PemReader(rdr).readPemObject();\r\n\r\n            byte[] content = spki.getContent();\r\n            X509EncodedKeySpec pubKeySpec = new X509EncodedKeySpec(content);\r\n            return KeyFactory.getInstance(&quot;EC&quot;, &quot;BC&quot;).generatePublic(pubKeySpec);\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            return  null;\r\n        }\r\n    \r\nPublic key is defined as:\r\n\r\n    &quot;publicKeyAlgorithm&quot;: {\r\n      &quot;hash&quot;: {\r\n        &quot;name&quot;: &quot;SHA-256&quot;\r\n      },\r\n      &quot;name&quot;: &quot;ECDSA&quot;,\r\n      &quot;namedCurve&quot;: &quot;P-256&quot;\r\n    },\r\n    &quot;publicKeyPem&quot;: &quot;...&quot;\r\n\r\n[Here is code][2] for doing same thing in Python, might help someone. Code must work on Android 7.1 (embedded device, no way to upgrade to newer Android).\r\n\r\n\r\n  [1]: https://github.com/cose-wg/COSE-JAVA\r\n  [2]: https://github.com/HQJaTu/vacdec/blob/signature-verification/vacdec","title":"Error trying to verify signature on CBOR message","body":"<p>I'm having problems decoding EU Digital Certificate (&quot;Covid pass&quot;) using <a href=\"https://github.com/cose-wg/COSE-JAVA\" rel=\"nofollow noreferrer\">COSE-JAVA</a>. Public key appears to load ok but when I try to validate the CBOR message, I get following error:</p>\n<pre><code>COSE.CoseException: Signature verification failure\n    at COSE.SignCommon.validateSignature(SignCommon.java:205)\n    at COSE.Signer.validate(Signer.java:212)\n    at COSE.Message.validate(Message.java:288)\nCaused by: java.lang.NullPointerException: Attempt to get length of null array\n    at COSE.SignCommon.convertConcatToDer(SignCommon.java:212)\n</code></pre>\n<p>Here is code for validation:</p>\n<pre><code>public static String DecodeMessage(byte[] data) throws CoseException, CborParseException {\n    Message m = Encrypt0Message.DecodeFromBytes(data);\n\n    PublicKey key = getPublicKey(&quot;here goes PEM of public key&quot;);\n\n    CborMap cborMap = CborMap.createFromCborByteArray(m.GetContent());\n\n    CounterSign signer = new CounterSign();\n    signer.setKey(new OneKey(key, null));\n    signer.addAttribute(HeaderKeys.Algorithm, AlgorithmID.ECDSA_256.AsCBOR(), Attribute.ProtectedAttributes);\n\n    // error happens here\n    m.validate(signer);\n\n\n    return cborMap.toJsonString();\n}\n</code></pre>\n<p>This is how public key is generated from PEM:</p>\n<pre><code>    public static PublicKey getPublicKey(String keyData) {\n    try\n    {\n        Security.removeProvider(&quot;BC&quot;);\n        Security.addProvider(new BouncyCastleProvider());\n        Reader rdr = new StringReader(\n                &quot;-----BEGIN EC PUBLIC KEY-----\\n&quot; + keyData + &quot;\\n&quot; + &quot;-----END EC PUBLIC KEY-----\\n&quot;\n        );\n\n        org.bouncycastle.util.io.pem.PemObject spki = new org.bouncycastle.util.io.pem.PemReader(rdr).readPemObject();\n\n        byte[] content = spki.getContent();\n        X509EncodedKeySpec pubKeySpec = new X509EncodedKeySpec(content);\n        return KeyFactory.getInstance(&quot;EC&quot;, &quot;BC&quot;).generatePublic(pubKeySpec);\n    }\n    catch (Exception ex)\n    {\n        return  null;\n    }\n</code></pre>\n<p>Public key is defined as:</p>\n<pre><code>&quot;publicKeyAlgorithm&quot;: {\n  &quot;hash&quot;: {\n    &quot;name&quot;: &quot;SHA-256&quot;\n  },\n  &quot;name&quot;: &quot;ECDSA&quot;,\n  &quot;namedCurve&quot;: &quot;P-256&quot;\n},\n&quot;publicKeyPem&quot;: &quot;...&quot;\n</code></pre>\n<p><a href=\"https://github.com/HQJaTu/vacdec/blob/signature-verification/vacdec\" rel=\"nofollow noreferrer\">Here is code</a> for doing same thing in Python, might help someone. Code must work on Android 7.1 (embedded device, no way to upgrade to newer Android).</p>\n"},{"tags":["java","android","date","google-apps-script","calendar"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":1,"creation_date":1635755649,"post_id":69794353,"comment_id":123369607,"body_markdown":"JavaScript is NOT JAVA","body":"JavaScript is NOT JAVA"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1635763130,"post_id":69794353,"comment_id":123372001,"body_markdown":"You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635777696,"post_id":69794353,"comment_id":123377472,"body_markdown":"I recommend you don‚Äôt use `Calendar`. That class is poorly designed and long outdated. Also not all calendars have a 7 day week, so your code will not always work. Instead use `LocalDate` and `DayOfWeek`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). They always use the 7 day week known from the Gregorian calendar and related calendars.","body":"I recommend you don‚Äôt use <code>Calendar</code>. That class is poorly designed and long outdated. Also not all calendars have a 7 day week, so your code will not always work. Instead use <code>LocalDate</code> and <code>DayOfWeek</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. They always use the 7 day week known from the Gregorian calendar and related calendars."},{"owner":{"account_id":23201791,"reputation":31,"user_id":17296502,"display_name":"Sathish Guru"},"score":0,"creation_date":1635781894,"post_id":69794353,"comment_id":123379208,"body_markdown":"This code build is successful but app not opening!","body":"This code build is successful but app not opening!"}],"answers":[{"tags":[],"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635755585,"creation_date":1635755585,"answer_id":69794377,"question_id":69794353,"body_markdown":"Similar to DAY_OF_WEEK, you can get other fields from Calendar instance.\r\n\r\nPlease check Java Docs for more details: https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\r\n","title":"How to get day of the week, day of month, month and year?","body":"<p>Similar to DAY_OF_WEEK, you can get other fields from Calendar instance.</p>\n<p>Please check Java Docs for more details: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html</a></p>\n"},{"tags":[],"owner":{"account_id":8102956,"reputation":349,"user_id":6105461,"display_name":"M Daim Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635755886,"creation_date":1635755886,"answer_id":69794433,"question_id":69794353,"body_markdown":"Refer to the documentation \r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\r\nyou can get the week, month and year in this way \r\n\r\n    Date today = new Date(); \r\n    cal.setTime(today); \r\n    int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK); \r\n    int dayOfMonth = cal.get(Calendar.DAY_OF_MONTH);\r\n    int dayOfYear = cal.get(Calendar.DAY_OF_YEAR);\r\n\r\n","title":"How to get day of the week, day of month, month and year?","body":"<p>Refer to the documentation\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html</a>\nyou can get the week, month and year in this way</p>\n<pre><code>Date today = new Date(); \ncal.setTime(today); \nint dayOfWeek = cal.get(Calendar.DAY_OF_WEEK); \nint dayOfMonth = cal.get(Calendar.DAY_OF_MONTH);\nint dayOfYear = cal.get(Calendar.DAY_OF_YEAR);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635757606,"creation_date":1635757117,"answer_id":69794648,"question_id":69794353,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:** Use `ZonedDateTime` with the applicable `ZoneId` and retrieve the required values from it.\r\n\r\n**Demo:**\r\n\r\n    import java.time.DayOfWeek;\r\n    import java.time.Month;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.TextStyle;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Specify the applicable ZoneId e.g.\r\n    \t\t// ZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;))\r\n    \t\t// to get the current date-time in that timezone\r\n    \t\tZonedDateTime now = ZonedDateTime.now();\r\n    \r\n    \t\tDayOfWeek dow = now.getDayOfWeek();\r\n    \t\tSystem.out.println(dow);\r\n    \r\n    \t\tint weekDayNum = dow.getValue();\r\n    \t\tSystem.out.println(weekDayNum);\r\n    \r\n    \t\tString weekDayName = dow.getDisplayName(TextStyle.FULL, Locale.ENGLISH);\r\n    \t\tSystem.out.println(weekDayName);\r\n    \r\n    \t\tint year = now.getYear();\r\n    \t\tSystem.out.println(year);\r\n    \r\n    \t\tMonth month = now.getMonth();\r\n    \t\tSystem.out.println(month);\r\n    \r\n    \t\tint monthValue = month.getValue();\r\n    \t\tSystem.out.println(monthValue);\r\n    \r\n    \t\tint dayOfMonth = now.getDayOfMonth();\r\n    \t\tSystem.out.println(dayOfMonth);\r\n    \r\n    \t\tint dayOfYear = now.getDayOfYear();\r\n    \t\tSystem.out.println(dayOfYear);\r\n    \t}\r\n    }\r\n    \r\n**Output:**\r\n\r\n    MONDAY\r\n    1\r\n    Monday\r\n    2021\r\n    NOVEMBER\r\n    11\r\n    1\r\n    305\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/5BLBCu\r\n","title":"How to get day of the week, day of month, month and year?","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong> Use <code>ZonedDateTime</code> with the applicable <code>ZoneId</code> and retrieve the required values from it.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.DayOfWeek;\nimport java.time.Month;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.TextStyle;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Specify the applicable ZoneId e.g.\n        // ZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;))\n        // to get the current date-time in that timezone\n        ZonedDateTime now = ZonedDateTime.now();\n\n        DayOfWeek dow = now.getDayOfWeek();\n        System.out.println(dow);\n\n        int weekDayNum = dow.getValue();\n        System.out.println(weekDayNum);\n\n        String weekDayName = dow.getDisplayName(TextStyle.FULL, Locale.ENGLISH);\n        System.out.println(weekDayName);\n\n        int year = now.getYear();\n        System.out.println(year);\n\n        Month month = now.getMonth();\n        System.out.println(month);\n\n        int monthValue = month.getValue();\n        System.out.println(monthValue);\n\n        int dayOfMonth = now.getDayOfMonth();\n        System.out.println(dayOfMonth);\n\n        int dayOfYear = now.getDayOfYear();\n        System.out.println(dayOfYear);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>MONDAY\n1\nMonday\n2021\nNOVEMBER\n11\n1\n305\n</code></pre>\n<p><a href=\"https://ideone.com/5BLBCu\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>. Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635795523,"creation_date":1635782178,"answer_id":69799449,"question_id":69794353,"body_markdown":"## java.time through desugaring\r\n\r\nConsider using java.time, the modern Java date and time API, for your date work. Let‚Äôs first see how checking the day of the week goes:\r\n\r\n\t\tLocalDate today = LocalDate.now(ZoneId.systemDefault());\r\n\t\t\r\n\t\tswitch (today.getDayOfWeek()) {\r\n\t\tcase MONDAY:\r\n\t\t\tSystem.out.println(&quot;Set image to Monday‚Äôs image here&quot;);\r\n\t\t\tbreak;\r\n\r\n\t\tcase TUESDAY:\r\n\t\t\tSystem.out.println(&quot;Set image to Tuesday‚Äôs image here&quot;);\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new AssertionError(&quot;Unsupported day of week: &quot; + today.getDayOfWeek());\r\n\t\t}\r\n\r\nI trust you to fill out the remaining five days of the week yourself, and also to set the image resource of the image view as in your question. The way my code stands, when I ran it today, Monday November 1, the output was:\r\n\r\n&gt; Set image to Monday‚Äôs image here\r\n\r\nIt works because `getDayOfWeek()` returns an instance of the `DayOfWeek` enum and Java allows us to switch on enums. \r\n\r\nFor the day of the month:\r\n\r\n\t\tswitch (today.getDayOfMonth()) {\r\n\t\tcase 1:\r\n\t\t\tSystem.out.println(&quot;Set image to image for 1st day of month here&quot;);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 2:\r\n\t\t\tSystem.out.println(&quot;Set image to image for 2nd day of month here&quot;);\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new AssertionError(&quot;Unsupported day of month: &quot; + today.getDayOfWeek());\r\n\t\t}\r\n\r\n&gt; Set image to image for 1st day of month here\r\n\r\nAgain fill out up to 31 yourself. While a day of week is an enum, a day of a month is a plain `int`.\r\n\r\nThe case of the month is similar to the day of the week in that there‚Äôs an enum that we prefer to use. `getMonth()` returns an instance of the `Month` enum, and in your `switch` statement you will have cases `JANUARY`, `FEBRUARY`, etc.\r\n\r\nFinally `getYear()` again returns an `int`, so the year case will be similar to the day of the month with cases 2021, 2022, etc.\r\n\r\nEdit: you asked:\r\n\r\n&gt; ‚Ä¶ can you give code to validate both date and month in single switch\r\n&gt; case? ‚Ä¶ only for one case its enough for &quot;DATE&quot; and &quot;MONTH&quot;...rest i\r\n&gt; will do it\r\n\r\nIf you‚Äôre comfortable with `switch` statements, you may also nest them inside each other:\r\n\r\n\t\tswitch (today.getMonth()) {\r\n\t\tcase JANUARY:\r\n\t\t\tswitch (today.getDayOfMonth()) {\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.out.println(&quot;Set image to image for 1st day of January here&quot;);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// ‚Ä¶\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new AssertionError(&quot;Unsupported day of January: &quot; + today.getDayOfWeek());\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\t// ‚Ä¶\r\n\t\t\t\r\n\t\tdefault:\r\n\t\t\tthrow new AssertionError(&quot;Unsupported month: &quot; + today.getMonth());\r\n\t\t}\r\n\r\n## Alternative: use maps\r\n\r\nFor a slightly advanced but also very elegant solution, instead of the longish `switch` or `if`-`else` statement define the images to use for each day of week in an `EnumMap&lt;DayOfWeek, String&gt;` (if the image reference in `R.drawable.IMAGE1` is a `String`, sorry, I don‚Äôt know Android so can‚Äôt tell). For the day of the month you may either use a `HashMap&lt;Integer, String&gt;` or an arrays of strings.\r\n\r\nEdit: I think the map approaches becomes particularly appealing when it comes to combining month and day of month. I am using Java 9 syntax here and hope it works with desugaring, it‚Äôs not something I know:\r\n\r\n\tprivate static final Map&lt;MonthDay, String&gt; IMAGES_PER_DAY\r\n\t\t\t= Map.ofEntries(\r\n\t\t\t\t\tMap.entry(MonthDay.of(Month.JANUARY, 1), &quot;Image for Jan 1&quot;),\r\n\t\t\t\t\tMap.entry(MonthDay.of(Month.JANUARY, 2), &quot;Image for Jan 2&quot;),\r\n\t\t\t\t\t// ‚Ä¶\r\n\t\t\t\t\tMap.entry(MonthDay.of(Month.NOVEMBER, 1), &quot;Image for Nov 1&quot;),\r\n\t\t\t\t\t// ‚Ä¶\r\n\t\t\t\t\tMap.entry(MonthDay.of(Month.DECEMBER, 31), &quot;Image for Dec 31&quot;));\r\n\r\nNow picking the right image for today‚Äôs date is pretty simple:\r\n\r\n\t\tString imageReference = IMAGES_PER_DAY.get(MonthDay.from(today));\r\n\t\tSystem.out.println(&quot;Set image to &quot; + imageReference);\r\n\r\n&gt; Set image to Image for Nov 1\r\n\r\n## Question: Doesn‚Äôt java.time require Android API level 26?\r\n\r\njava.time works nicely on both older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On older Android either use desugaring or the Android edition of ThreeTen Backport. It‚Äôs called ThreeTenABP. In the latter case make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table)\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n\r\n","title":"How to get day of the week, day of month, month and year?","body":"<h2>java.time through desugaring</h2>\n<p>Consider using java.time, the modern Java date and time API, for your date work. Let‚Äôs first see how checking the day of the week goes:</p>\n<pre><code>    LocalDate today = LocalDate.now(ZoneId.systemDefault());\n    \n    switch (today.getDayOfWeek()) {\n    case MONDAY:\n        System.out.println(&quot;Set image to Monday‚Äôs image here&quot;);\n        break;\n\n    case TUESDAY:\n        System.out.println(&quot;Set image to Tuesday‚Äôs image here&quot;);\n        break;\n\n    default:\n        throw new AssertionError(&quot;Unsupported day of week: &quot; + today.getDayOfWeek());\n    }\n</code></pre>\n<p>I trust you to fill out the remaining five days of the week yourself, and also to set the image resource of the image view as in your question. The way my code stands, when I ran it today, Monday November 1, the output was:</p>\n<blockquote>\n<p>Set image to Monday‚Äôs image here</p>\n</blockquote>\n<p>It works because <code>getDayOfWeek()</code> returns an instance of the <code>DayOfWeek</code> enum and Java allows us to switch on enums.</p>\n<p>For the day of the month:</p>\n<pre><code>    switch (today.getDayOfMonth()) {\n    case 1:\n        System.out.println(&quot;Set image to image for 1st day of month here&quot;);\n        break;\n\n    case 2:\n        System.out.println(&quot;Set image to image for 2nd day of month here&quot;);\n        break;\n\n    default:\n        throw new AssertionError(&quot;Unsupported day of month: &quot; + today.getDayOfWeek());\n    }\n</code></pre>\n<blockquote>\n<p>Set image to image for 1st day of month here</p>\n</blockquote>\n<p>Again fill out up to 31 yourself. While a day of week is an enum, a day of a month is a plain <code>int</code>.</p>\n<p>The case of the month is similar to the day of the week in that there‚Äôs an enum that we prefer to use. <code>getMonth()</code> returns an instance of the <code>Month</code> enum, and in your <code>switch</code> statement you will have cases <code>JANUARY</code>, <code>FEBRUARY</code>, etc.</p>\n<p>Finally <code>getYear()</code> again returns an <code>int</code>, so the year case will be similar to the day of the month with cases 2021, 2022, etc.</p>\n<p>Edit: you asked:</p>\n<blockquote>\n<p>‚Ä¶ can you give code to validate both date and month in single switch\ncase? ‚Ä¶ only for one case its enough for &quot;DATE&quot; and &quot;MONTH&quot;...rest i\nwill do it</p>\n</blockquote>\n<p>If you‚Äôre comfortable with <code>switch</code> statements, you may also nest them inside each other:</p>\n<pre><code>    switch (today.getMonth()) {\n    case JANUARY:\n        switch (today.getDayOfMonth()) {\n        case 1:\n            System.out.println(&quot;Set image to image for 1st day of January here&quot;);\n            break;\n\n        // ‚Ä¶\n\n        default:\n            throw new AssertionError(&quot;Unsupported day of January: &quot; + today.getDayOfWeek());\n        }\n        break;\n\n    // ‚Ä¶\n        \n    default:\n        throw new AssertionError(&quot;Unsupported month: &quot; + today.getMonth());\n    }\n</code></pre>\n<h2>Alternative: use maps</h2>\n<p>For a slightly advanced but also very elegant solution, instead of the longish <code>switch</code> or <code>if</code>-<code>else</code> statement define the images to use for each day of week in an <code>EnumMap&lt;DayOfWeek, String&gt;</code> (if the image reference in <code>R.drawable.IMAGE1</code> is a <code>String</code>, sorry, I don‚Äôt know Android so can‚Äôt tell). For the day of the month you may either use a <code>HashMap&lt;Integer, String&gt;</code> or an arrays of strings.</p>\n<p>Edit: I think the map approaches becomes particularly appealing when it comes to combining month and day of month. I am using Java 9 syntax here and hope it works with desugaring, it‚Äôs not something I know:</p>\n<pre><code>private static final Map&lt;MonthDay, String&gt; IMAGES_PER_DAY\n        = Map.ofEntries(\n                Map.entry(MonthDay.of(Month.JANUARY, 1), &quot;Image for Jan 1&quot;),\n                Map.entry(MonthDay.of(Month.JANUARY, 2), &quot;Image for Jan 2&quot;),\n                // ‚Ä¶\n                Map.entry(MonthDay.of(Month.NOVEMBER, 1), &quot;Image for Nov 1&quot;),\n                // ‚Ä¶\n                Map.entry(MonthDay.of(Month.DECEMBER, 31), &quot;Image for Dec 31&quot;));\n</code></pre>\n<p>Now picking the right image for today‚Äôs date is pretty simple:</p>\n<pre><code>    String imageReference = IMAGES_PER_DAY.get(MonthDay.from(today));\n    System.out.println(&quot;Set image to &quot; + imageReference);\n</code></pre>\n<blockquote>\n<p>Set image to Image for Nov 1</p>\n</blockquote>\n<h2>Question: Doesn‚Äôt java.time require Android API level 26?</h2>\n<p>java.time works nicely on both older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On older Android either use desugaring or the Android edition of ThreeTen Backport. It‚Äôs called ThreeTenABP. In the latter case make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a></li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"}],"owner":{"account_id":23201791,"reputation":31,"user_id":17296502,"display_name":"Sathish Guru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":69799449,"answer_count":4,"score":1,"last_activity_date":1635795523,"creation_date":1635755444,"question_id":69794353,"body_markdown":"The below code is to check the day of the week, now I want to check the date, month, year ...how to modify it?   \r\n\r\n    import java.util.Calendar\r\n    \r\n    ImageView imageView;\r\n    \r\n    Calendar cal = Calendar.getInstance();\r\n    \r\n    cal.setTime(now_date);\r\n    \r\n    imageView = (ImageView)findViewById(R.id.imageView);\r\n    \r\n    if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY) {\r\n        imageView.setImageResource(R.drawable.IMAGE1);\r\n    } else if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY) {\r\n        imageView.setImageResource(R.drawable.IMAGE2);\r\n    }\r\n\r\n","title":"How to get day of the week, day of month, month and year?","body":"<p>The below code is to check the day of the week, now I want to check the date, month, year ...how to modify it?</p>\n<pre><code>import java.util.Calendar\n\nImageView imageView;\n\nCalendar cal = Calendar.getInstance();\n\ncal.setTime(now_date);\n\nimageView = (ImageView)findViewById(R.id.imageView);\n\nif(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY) {\n    imageView.setImageResource(R.drawable.IMAGE1);\n} else if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY) {\n    imageView.setImageResource(R.drawable.IMAGE2);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1635789109,"post_id":69800715,"comment_id":123381786,"body_markdown":"Possibly any of the `Consumer` functional interfaces might fit your need (see https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html), or you can create your own functional interface if you need something more specific (same way you&#39;d create a custom `delegate`in C#)","body":"Possibly any of the <code>Consumer</code> functional interfaces might fit your need (see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/function/&hellip;</a>), or you can create your own functional interface if you need something more specific (same way you&#39;d create a custom <code>delegate</code>in C#)"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635795245,"creation_date":1635795245,"answer_id":69801928,"question_id":69800715,"body_markdown":"Take a look at AspectJ (https://www.baeldung.com/aspectj). It allows you to define pointcuts that match your method so that a given code (the advice) is run when your method is called.","title":"Listen for a method call","body":"<p>Take a look at AspectJ (<a href=\"https://www.baeldung.com/aspectj\" rel=\"nofollow noreferrer\">https://www.baeldung.com/aspectj</a>). It allows you to define pointcuts that match your method so that a given code (the advice) is run when your method is called.</p>\n"}],"owner":{"account_id":22942236,"reputation":1,"user_id":17074808,"display_name":"Alexowyrle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635795245,"creation_date":1635788823,"question_id":69800715,"body_markdown":"I&#39;m trying to listen to when a method on a class its called.\r\nI have an ArrayList&lt;Item&gt; and I want to listen on each item when a method is called (not each method, just the one that I want).\r\n\r\nIn c# there is something called Action, where I can register methods that will be called when this Action is Invoked, inside a method for example, and also returns parameters to know which item was called etc.\r\n\r\nThere is something like that in Java?","title":"Listen for a method call","body":"<p>I'm trying to listen to when a method on a class its called.\nI have an ArrayList and I want to listen on each item when a method is called (not each method, just the one that I want).</p>\n<p>In c# there is something called Action, where I can register methods that will be called when this Action is Invoked, inside a method for example, and also returns parameters to know which item was called etc.</p>\n<p>There is something like that in Java?</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":2,"creation_date":1403788315,"post_id":24431427,"comment_id":37800514,"body_markdown":"Have a look: https://code.google.com/p/junitparams/wiki/MergingWithOtherRunners","body":"Have a look: <a href=\"https://code.google.com/p/junitparams/wiki/MergingWithOtherRunners\" rel=\"nofollow noreferrer\">code.google.com/p/junitparams/wiki/MergingWithOtherRunners</a>"},{"owner":{"account_id":1063117,"reputation":12307,"user_id":1064325,"accept_rate":92,"display_name":"falsarella"},"score":2,"creation_date":1436387898,"post_id":24431427,"comment_id":50596460,"body_markdown":"There&#39;s a nice example here also: http://www.blog.project13.pl/index.php/coding/1077/runwith-junit4-with-both-springjunit4classrunner-and-parameterized/","body":"There&#39;s a nice example here also: <a href=\"http://www.blog.project13.pl/index.php/coding/1077/runwith-junit4-with-both-springjunit4classrunner-and-parameterized/\" rel=\"nofollow noreferrer\">blog.project13.pl/index.php/coding/1077/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":125,"is_accepted":true,"score":125,"last_activity_date":1561831121,"creation_date":1403788921,"answer_id":24431738,"question_id":24431427,"body_markdown":"You cannot do this because according to spec you cannot put the same annotation twice on the same annotated element. \r\n\r\nSo, what is the solution? The solution is to put only one `@RunWith()` with runner you cannot stand without and replace other one with something else. In your case I guess you will remove `MockitoJUnitRunner` and do programatically what it does. \r\n\r\nIn fact the only thing it does it runs:\r\n\r\n    MockitoAnnotations.initMocks(test);\r\n\r\nin the beginning of test case. So, the simplest solution is to put this code into `setUp()` method:\r\n\r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\nI am not sure, but *probably* you should avoid multiple call of this method using flag:\r\n\r\n    private boolean mockInitialized = false;\r\n    @Before\r\n    public void setUp() {\r\n        if (!mockInitialized) {\r\n            MockitoAnnotations.initMocks(this);\r\n            mockInitialized = true;  \r\n        }\r\n    }\r\n\r\n\r\nHowever better, reusable solution may be implemented with JUnt&#39;s rules. \r\n\r\n\r\n    public class MockitoRule extends TestWatcher {\r\n        private boolean mockInitialized = false;\r\n    \r\n        @Override\r\n        protected void starting(Description d) {\r\n            if (!mockInitialized) {\r\n                MockitoAnnotations.initMocks(this);\r\n                mockInitialized = true;  \r\n            }\r\n        }\r\n    }\r\n\r\n\r\nNow just add the following line to your test class:\r\n\r\n\r\n    @Rule public MockitoRule mockitoRule = MockitoJUnit.rule();\r\n\r\nand you can run this test case with any runner you want. ","title":"Multiple RunWith Statements in jUnit","body":"<p>You cannot do this because according to spec you cannot put the same annotation twice on the same annotated element. </p>\n\n<p>So, what is the solution? The solution is to put only one <code>@RunWith()</code> with runner you cannot stand without and replace other one with something else. In your case I guess you will remove <code>MockitoJUnitRunner</code> and do programatically what it does. </p>\n\n<p>In fact the only thing it does it runs:</p>\n\n<pre><code>MockitoAnnotations.initMocks(test);\n</code></pre>\n\n<p>in the beginning of test case. So, the simplest solution is to put this code into <code>setUp()</code> method:</p>\n\n<pre><code>@Before\npublic void setUp() {\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n\n<p>I am not sure, but <em>probably</em> you should avoid multiple call of this method using flag:</p>\n\n<pre><code>private boolean mockInitialized = false;\n@Before\npublic void setUp() {\n    if (!mockInitialized) {\n        MockitoAnnotations.initMocks(this);\n        mockInitialized = true;  \n    }\n}\n</code></pre>\n\n<p>However better, reusable solution may be implemented with JUnt's rules. </p>\n\n<pre><code>public class MockitoRule extends TestWatcher {\n    private boolean mockInitialized = false;\n\n    @Override\n    protected void starting(Description d) {\n        if (!mockInitialized) {\n            MockitoAnnotations.initMocks(this);\n            mockInitialized = true;  \n        }\n    }\n}\n</code></pre>\n\n<p>Now just add the following line to your test class:</p>\n\n<pre><code>@Rule public MockitoRule mockitoRule = MockitoJUnit.rule();\n</code></pre>\n\n<p>and you can run this test case with any runner you want. </p>\n"},{"tags":[],"owner":{"account_id":2695789,"reputation":3222,"user_id":2327879,"accept_rate":78,"display_name":"Erica Kane"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1425242704,"creation_date":1420759521,"answer_id":27851383,"question_id":24431427,"body_markdown":"As of JUnit 4.7 and Mockito 1.10.17, this functionality is built in; there is an [`org.mockito.junit.MockitoRule`][1] class. You can simply import it and add the line\r\n\r\n    @Rule public MockitoRule mockitoRule = MockitoJUnit.rule();\r\n\r\nto your test class.\r\n\r\n\r\n  [1]: http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html","title":"Multiple RunWith Statements in jUnit","body":"<p>As of JUnit 4.7 and Mockito 1.10.17, this functionality is built in; there is an <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html\"><code>org.mockito.junit.MockitoRule</code></a> class. You can simply import it and add the line</p>\n\n<pre><code>@Rule public MockitoRule mockitoRule = MockitoJUnit.rule();\n</code></pre>\n\n<p>to your test class.</p>\n"},{"tags":[],"owner":{"account_id":2330851,"reputation":71,"user_id":2044325,"display_name":"Valentin Uveges"},"down_vote_count":15,"up_vote_count":0,"is_accepted":false,"score":-15,"last_activity_date":1429289508,"creation_date":1429289508,"answer_id":29705130,"question_id":24431427,"body_markdown":"You can also try this:\r\n\r\n    @RunWith(JUnitParamsRunner.class)\r\n    public class AbstractTestClass {\r\n      // some tests\r\n    }\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class DatabaseModelTest extends AbstractTestClass {\r\n      // some tests\r\n    }","title":"Multiple RunWith Statements in jUnit","body":"<p>You can also try this:</p>\n\n<pre><code>@RunWith(JUnitParamsRunner.class)\npublic class AbstractTestClass {\n  // some tests\n}\n\n@RunWith(MockitoJUnitRunner.class)\npublic class DatabaseModelTest extends AbstractTestClass {\n  // some tests\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3963820,"reputation":91,"user_id":3270332,"display_name":"Heungwoo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448889714,"creation_date":1448889714,"answer_id":33999647,"question_id":24431427,"body_markdown":"In my case I was trying to Mock some method in spring bean and \r\n\r\n    MockitoAnnotations.initMocks(test);\r\n\r\ndoesn&#39;t works. Instead you have to define that bean to constructed using mock method inside your xml file like following.\r\n\r\n    ...\r\n    &lt;bean id=&quot;classWantedToBeMocked&quot; class=&quot;org.mockito.Mockito&quot; factory-method=&quot;mock&quot;&gt;\r\n        &lt;constructor-arg value=&quot;com.fullpath.ClassWantedToBeMocked&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    ...\r\n\r\nand add that bean with autowired inside your test class like following.\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations=&quot;file:springconfig.xml&quot;)\r\n    public class TestClass {\r\n        ...\r\n        @Autowired\r\n        private ClassWantedToBeMocked classWantedToBeMocked;\r\n        ...\r\n        when(classWantedToBeMocked.methodWantedToBeMocked()).thenReturn(...);\r\n        ...\r\n    }\r\n\r\n\r\n","title":"Multiple RunWith Statements in jUnit","body":"<p>In my case I was trying to Mock some method in spring bean and </p>\n\n<pre><code>MockitoAnnotations.initMocks(test);\n</code></pre>\n\n<p>doesn't works. Instead you have to define that bean to constructed using mock method inside your xml file like following.</p>\n\n<pre><code>...\n&lt;bean id=\"classWantedToBeMocked\" class=\"org.mockito.Mockito\" factory-method=\"mock\"&gt;\n    &lt;constructor-arg value=\"com.fullpath.ClassWantedToBeMocked\" /&gt;\n&lt;/bean&gt;\n...\n</code></pre>\n\n<p>and add that bean with autowired inside your test class like following.</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations=\"file:springconfig.xml\")\npublic class TestClass {\n    ...\n    @Autowired\n    private ClassWantedToBeMocked classWantedToBeMocked;\n    ...\n    when(classWantedToBeMocked.methodWantedToBeMocked()).thenReturn(...);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1544547456,"creation_date":1468329808,"answer_id":38330184,"question_id":24431427,"body_markdown":"This solution works for every possible runner, not just this mockito example. For example; for Spring, just change the runner classes and add necessary annotations.\r\n\r\n    @RunWith(JUnitParamsRunner.class)\r\n    public class DatabaseModelTest {\r\n    \r\n    \t@Test\r\n    \tpublic void subRunner() throws Exception {\r\n    \t    JUnitCore.runClasses(TestMockitoJUnitRunner.class);\r\n    \t}\r\n        \r\n        @RunWith(MockitoJUnitRunner.class)\r\n        public static class TestMockitoJUnitRunner {\r\n        }\r\n    }\r\n\r\n`DatabaseModelTest` will be run by JUnit. `TestMockitoJUnitRunner` depends on it (by logic) and it will be run *inside* of the main in a `@Test` method, during the call `JUnitCore.runClasses(TestMockitoJUnitRunner.class)`. This method ensures the main runner is started correctly before the `static class TestMockitoJUnitRunner` sub-runner runs, effectively implementing multiple nested `@RunWith` annotations with dependent test classes. \r\n\r\nAlso on https://bekce.github.io/junit-multiple-runwith-dependent-tests","title":"Multiple RunWith Statements in jUnit","body":"<p>This solution works for every possible runner, not just this mockito example. For example; for Spring, just change the runner classes and add necessary annotations.</p>\n\n<pre><code>@RunWith(JUnitParamsRunner.class)\npublic class DatabaseModelTest {\n\n    @Test\n    public void subRunner() throws Exception {\n        JUnitCore.runClasses(TestMockitoJUnitRunner.class);\n    }\n\n    @RunWith(MockitoJUnitRunner.class)\n    public static class TestMockitoJUnitRunner {\n    }\n}\n</code></pre>\n\n<p><code>DatabaseModelTest</code> will be run by JUnit. <code>TestMockitoJUnitRunner</code> depends on it (by logic) and it will be run <em>inside</em> of the main in a <code>@Test</code> method, during the call <code>JUnitCore.runClasses(TestMockitoJUnitRunner.class)</code>. This method ensures the main runner is started correctly before the <code>static class TestMockitoJUnitRunner</code> sub-runner runs, effectively implementing multiple nested <code>@RunWith</code> annotations with dependent test classes. </p>\n\n<p>Also on <a href=\"https://bekce.github.io/junit-multiple-runwith-dependent-tests\" rel=\"noreferrer\">https://bekce.github.io/junit-multiple-runwith-dependent-tests</a></p>\n"},{"tags":[],"owner":{"account_id":2466941,"reputation":1002,"user_id":2243408,"display_name":"lekant"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1508774486,"creation_date":1497553446,"answer_id":44575071,"question_id":24431427,"body_markdown":"Since the release of PowerMock 1.6, you can do it as easily as\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PowerMockRunnerDelegate(JUnitParamsRunner.class)\r\n    public class DatabaseModelTest {\r\n      // some tests\r\n    }\r\n\r\nExplained here https://blog.jayway.com/2014/11/29/using-another-junit-runner-with-powermock/\r\n\r\n","title":"Multiple RunWith Statements in jUnit","body":"<p>Since the release of PowerMock 1.6, you can do it as easily as</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockRunnerDelegate(JUnitParamsRunner.class)\npublic class DatabaseModelTest {\n  // some tests\n}\n</code></pre>\n\n<p>Explained here <a href=\"https://blog.jayway.com/2014/11/29/using-another-junit-runner-with-powermock/\" rel=\"noreferrer\">https://blog.jayway.com/2014/11/29/using-another-junit-runner-with-powermock/</a></p>\n"},{"tags":[],"owner":{"account_id":649723,"reputation":1632,"user_id":2197088,"display_name":"Legna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558016696,"creation_date":1558016696,"answer_id":56170852,"question_id":24431427,"body_markdown":"check out this link https://bekce.github.io/junit-multiple-runwith-dependent-tests/\r\nusing this approach i combined a @RunWith(Parameterized.class) - outer runner - with @RunWith(MockitoJUnitRunner.class) - inner runner. The only tweak i had to add was to make my member variables in the outer class/runner static in order to make them accessible for the inner/nested runner/class. gook luck and enjoy.\r\n","title":"Multiple RunWith Statements in jUnit","body":"<p>check out this link <a href=\"https://bekce.github.io/junit-multiple-runwith-dependent-tests/\" rel=\"nofollow noreferrer\">https://bekce.github.io/junit-multiple-runwith-dependent-tests/</a>\nusing this approach i combined a @RunWith(Parameterized.class) - outer runner - with @RunWith(MockitoJUnitRunner.class) - inner runner. The only tweak i had to add was to make my member variables in the outer class/runner static in order to make them accessible for the inner/nested runner/class. gook luck and enjoy.</p>\n"},{"tags":[],"owner":{"account_id":5743329,"reputation":1627,"user_id":4535300,"accept_rate":86,"display_name":"Anton Krug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568716229,"creation_date":1568716229,"answer_id":57972374,"question_id":24431427,"body_markdown":"I wanted to run **SWTBotJunit4ClassRunner** and **org.junit.runners.Parameterized** at the same time, I have parametric tests and I want to screenshots when the SWT test fails (the screenshot feature is provided by the **SWTBotJunit4ClassRunner**). @bekce&#39;s answer is great and first wanted go that route but it was either quirky passing through the arguments. Or doing the parametrized in the subclass and loosing the information what exact tests passed/failed and have only the last screenshot (as the screenshot names get the name from the test itself). So either way it was bit messy.\r\n\r\nIn my case the **SWTBotJunit4ClassRunner** is simple enough, so I cloned the source-code of the class, gave it my own name **ParametrizedScreenshotRunner** and where original was extending the **TestRunner**, my class is extending the **Parameterized** class so in essence I can use my own runner instead of the previous two. Boiled down my own runner extends on top of Parameterized runner while implementing the screenshot feature on top of it, now my test use this &quot;hybrid&quot; runner and all the tests work as expected straight away (no need to change anything inside the tests).\r\n\r\nThis is how it looks like (for sake of brevity I removed all the comments from the listing):\r\n\r\n    package mySwtTests;\r\n    \r\n    import org.junit.runners.Parameterized;\r\n    import org.eclipse.swtbot.swt.finder.junit.ScreenshotCaptureListener;\r\n    import org.junit.runner.notification.RunListener;\r\n    import org.junit.runner.notification.RunNotifier;\r\n    \r\n    public class ParametrizedScreenshotRunner extends TestRu Parameterized {\r\n    \r\n    \tpublic ParametrizedScreenshotRunner(Class&lt;?&gt; klass) throws Throwable {\r\n    \t\tsuper(klass);\r\n    \t}\r\n    \r\n    \tpublic void run(RunNotifier notifier) {\r\n    \t\tRunListener failureSpy = new ScreenshotCaptureListener();\r\n    \t\tnotifier.removeListener(failureSpy); // remove existing listeners that could be added by suite or class runners\r\n    \t\tnotifier.addListener(failureSpy);\r\n    \t\ttry {\r\n    \t\t\tsuper.run(notifier);\r\n    \t\t} finally {\r\n    \t\t\tnotifier.removeListener(failureSpy);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Multiple RunWith Statements in jUnit","body":"<p>I wanted to run <strong>SWTBotJunit4ClassRunner</strong> and <strong>org.junit.runners.Parameterized</strong> at the same time, I have parametric tests and I want to screenshots when the SWT test fails (the screenshot feature is provided by the <strong>SWTBotJunit4ClassRunner</strong>). @bekce's answer is great and first wanted go that route but it was either quirky passing through the arguments. Or doing the parametrized in the subclass and loosing the information what exact tests passed/failed and have only the last screenshot (as the screenshot names get the name from the test itself). So either way it was bit messy.</p>\n\n<p>In my case the <strong>SWTBotJunit4ClassRunner</strong> is simple enough, so I cloned the source-code of the class, gave it my own name <strong>ParametrizedScreenshotRunner</strong> and where original was extending the <strong>TestRunner</strong>, my class is extending the <strong>Parameterized</strong> class so in essence I can use my own runner instead of the previous two. Boiled down my own runner extends on top of Parameterized runner while implementing the screenshot feature on top of it, now my test use this \"hybrid\" runner and all the tests work as expected straight away (no need to change anything inside the tests).</p>\n\n<p>This is how it looks like (for sake of brevity I removed all the comments from the listing):</p>\n\n<pre><code>package mySwtTests;\n\nimport org.junit.runners.Parameterized;\nimport org.eclipse.swtbot.swt.finder.junit.ScreenshotCaptureListener;\nimport org.junit.runner.notification.RunListener;\nimport org.junit.runner.notification.RunNotifier;\n\npublic class ParametrizedScreenshotRunner extends TestRu Parameterized {\n\n    public ParametrizedScreenshotRunner(Class&lt;?&gt; klass) throws Throwable {\n        super(klass);\n    }\n\n    public void run(RunNotifier notifier) {\n        RunListener failureSpy = new ScreenshotCaptureListener();\n        notifier.removeListener(failureSpy); // remove existing listeners that could be added by suite or class runners\n        notifier.addListener(failureSpy);\n        try {\n            super.run(notifier);\n        } finally {\n            notifier.removeListener(failureSpy);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635794721,"creation_date":1635794721,"answer_id":69801847,"question_id":24431427,"body_markdown":"While there are no solution in JUnit 4 it is possible to register multiple extensions in JUnit 5:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ExtendWith(AnotherExtension.class)\r\n    public class MyTest {\r\n      // some tests\r\n    }\r\n\r\nNote that `JUnitParams` framework is built into JUnit 5.","title":"Multiple RunWith Statements in jUnit","body":"<p>While there are no solution in JUnit 4 it is possible to register multiple extensions in JUnit 5:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@ExtendWith(AnotherExtension.class)\npublic class MyTest {\n  // some tests\n}\n</code></pre>\n<p>Note that <code>JUnitParams</code> framework is built into JUnit 5.</p>\n"}],"owner":{"account_id":1925552,"reputation":1774,"user_id":1736098,"accept_rate":60,"display_name":"Hans-Helge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86267,"favorite_count":0,"down_vote_count":1,"up_vote_count":128,"accepted_answer_id":24431738,"answer_count":9,"score":127,"last_activity_date":1635794721,"creation_date":1403788074,"question_id":24431427,"body_markdown":"I write unit test and want to use `JUnitParamsRunner` and `MockitoJUnitRunner` for one test class.\r\n\r\nUnfortunately, the following does not work:\r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    @RunWith(JUnitParamsRunner.class)\r\n    public class DatabaseModelTest {\r\n      // some tests\r\n    }\r\n\r\nIs there a way to use both, Mockito and JUnitParams in one test class?","title":"Multiple RunWith Statements in jUnit","body":"<p>I write unit test and want to use <code>JUnitParamsRunner</code> and <code>MockitoJUnitRunner</code> for one test class.</p>\n\n<p>Unfortunately, the following does not work:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n@RunWith(JUnitParamsRunner.class)\npublic class DatabaseModelTest {\n  // some tests\n}\n</code></pre>\n\n<p>Is there a way to use both, Mockito and JUnitParams in one test class?</p>\n"},{"tags":["java","spring","thymeleaf","spring-webflux"],"comments":[{"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"score":0,"creation_date":1635772225,"post_id":69789774,"comment_id":123375327,"body_markdown":"Have you tried from Postman and getting the proper response?","body":"Have you tried from Postman and getting the proper response?"},{"owner":{"account_id":8359086,"reputation":81,"user_id":6278171,"display_name":"Macster"},"score":0,"creation_date":1635773823,"post_id":69789774,"comment_id":123375957,"body_markdown":"@ArunSai Yes. Postman gives me the result I mentioned in my quastion. Header `200 OK`. But body is `error:null, status:-1,path:null`. I can make it work without thymeleaf by just sending a `@BodyRequest` via postman. But I prefer thymeleaf.","body":"@ArunSai Yes. Postman gives me the result I mentioned in my quastion. Header <code>200 OK</code>. But body is <code>error:null, status:-1,path:null</code>. I can make it work without thymeleaf by just sending a <code>@BodyRequest</code> via postman. But I prefer thymeleaf."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1635774119,"post_id":69789774,"comment_id":123376070,"body_markdown":"What does `registrationService.reg(user)` used in the `register` method of `RegistrationController` return?","body":"What does <code>registrationService.reg(user)</code> used in the <code>register</code> method of <code>RegistrationController</code> return?"},{"owner":{"account_id":8359086,"reputation":81,"user_id":6278171,"display_name":"Macster"},"score":0,"creation_date":1635793754,"post_id":69789774,"comment_id":123383420,"body_markdown":"@WimDeblauwe In this case it returns nothing because it&#39;s not beeing invoked. But in a working case, without thymeleaf, it creates an `ApplicationUser`-Object containing all parameters from the `RegistrationRequest`-Object, which then is saved into the Database.","body":"@WimDeblauwe In this case it returns nothing because it&#39;s not beeing invoked. But in a working case, without thymeleaf, it creates an <code>ApplicationUser</code>-Object containing all parameters from the <code>RegistrationRequest</code>-Object, which then is saved into the Database."},{"owner":{"account_id":8359086,"reputation":81,"user_id":6278171,"display_name":"Macster"},"score":0,"creation_date":1635794458,"post_id":69789774,"comment_id":123383683,"body_markdown":"@WimDeblauwe I&#39;ve added the code from `RegistrationService`.","body":"@WimDeblauwe I&#39;ve added the code from <code>RegistrationService</code>."}],"owner":{"account_id":8359086,"reputation":81,"user_id":6278171,"display_name":"Macster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635794688,"creation_date":1635707335,"question_id":69789774,"body_markdown":"When submitting the form, the parameters mapped inside the Model should be passed to the `RegistrationController.java` and then to the `register()` metheod, where they would be mapped to the `RegistrationRequest`-Object. But actually none of that is happening. It leads me to nothing. No errors in the debugger. Not even a status code is emitted.\r\n\r\nOnly my custom errorhandler says:\r\n```\r\n{&quot;timestamp&quot;:&quot;31-10-2021 19:40:12&quot;, &quot;error&quot;:&quot;null&quot;, &quot;status&quot;:-1, &quot;path&quot;: &quot;null&quot;}\r\n``` \r\n-1 is when no status code can be derived.&lt;br/&gt;\r\nBut this is probably because I didn&#39;t set any redirection after submitting. \r\nThe POST Status seems to be `200 OK`.\r\n\r\n# Edit #\r\n*I added the class containing the `registrationService.reg()`.* \r\n\r\n&lt;br/&gt;\r\n\r\n**registration.html**\r\n```\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\r\n    &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;\r\n    &lt;title&gt;Please Register&lt;/title&gt;\r\n    &lt;link href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;link href=&quot;https://getbootstrap.com/docs/4.0/examples/signin/signin.css&quot; rel=&quot;stylesheet&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;style&gt;\r\n        body {\r\n            background-color: #3e3e3e;\r\n            color: white;\r\n\r\n        } \r\n    &lt;/style&gt;\r\n    \r\n&lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;!-- Create HTML registration form --&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-md-6 col-md-offset-3&quot;&gt;\r\n\r\n                &lt;!-- success message --&gt;\r\n                &lt;div th:if=&quot;${param.success}&quot;&gt;\r\n                    &lt;div class=&quot;alert alert-info&quot;&gt;You&#39;ve successfully registered&lt;/div&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;h1&gt;Registration&lt;/h1&gt;\r\n\r\n                &lt;form th:action=&quot;@{/registration/register}&quot; th:object =&quot;${user}&quot; method=&quot;POST&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label class=&quot;control-label&quot; for=&quot;username&quot;&gt;Username&lt;/label&gt;\r\n                        &lt;input id=&quot;username&quot; class=&quot;form-control&quot; th:field=&quot;*{username}&quot; required autofocus=&quot;autofocus&quot; /&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label class=&quot;control-label&quot; for=&quot;email&quot;&gt;Email&lt;/label&gt; \r\n                         &lt;input id=&quot;email&quot; class=&quot;form-control&quot; th:field=&quot;*{email}&quot; required autofocus=&quot;autofocus&quot;/&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label class=&quot;control-label&quot; for=&quot;password&quot;&gt;Password&lt;/label&gt; \r\n                        &lt;input id=&quot;password&quot; class=&quot;form-control&quot; type=&quot;password&quot; th:field=&quot;*{password}&quot; required autofocus=&quot;autofocus&quot; /&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label class=&quot;control-label&quot; for=&quot;matchingpassword&quot;&gt;Confirm Password&lt;/label&gt; \r\n                        &lt;input id=&quot;matchingpassword&quot; class=&quot;form-control&quot; type=&quot;password&quot; th:field=&quot;*{matchingpassword}&quot; required autofocus=&quot;autofocus&quot; /&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Register&lt;/button&gt;\r\n                        &lt;span&gt;Already registered? &lt;a href=&quot;/&quot; th:href=&quot;@{/login}&quot;&gt;Login here&lt;/a&gt;&lt;/span&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**HomeController.java**\r\n```\r\n@RequestMapping\r\n@Controller\r\npublic class HomeController {\r\n\r\n...\r\n    @GetMapping(&quot;/registration&quot;)\r\n    public Mono&lt;String&gt; showRegistrationForm(final Model model) { \r\n    RegistrationRequest registrationRequest = new RegistrationRequest();\r\n    model.addAttribute(&quot;user&quot;, registrationRequest);\r\n    return Mono.just(&quot;registration&quot;);\r\n}\r\n   \r\n}\r\n```\r\n\r\n**RegistrationRequest.java**\r\n```\r\n//@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@ValidEmail\r\npublic class RegistrationRequest {\r\n\r\n    @NotNull(message = &quot;Username can&#39;t be empty&quot;)\r\n    @NotEmpty\r\n    private String username;\r\n \r\n    @NotNull(message = &quot;Email can&#39;t be empty&quot;)\r\n    @NotEmpty\r\n    private String email;\r\n\r\n    @NotNull(message = &quot;Please choose a password&quot;)\r\n    @NotEmpty\r\n    private String password;\r\n\r\n    @NotNull(message = &quot;Please confirm password&quot;)\r\n    @NotEmpty\r\n    private String matchingpassword;\r\n\r\n    \r\n    private UserRole user_role;\r\n \r\n    \r\n    //Getter\r\n    public String getUsername(){\r\n        return username;\r\n    }\r\n\r\n    public String getEmail(){\r\n        return email;\r\n    }\r\n\r\n    public String getPassword(){\r\n        return password;\r\n    }\r\n\r\n    public String getMatchingpassword(){\r\n        return matchingpassword;\r\n    }\r\n\r\n\r\n    //Setter\r\n    public String setUsername(final String username){\r\n        return this.username = username;\r\n    }\r\n\r\n    public String setEmail(final String email){\r\n        return this.email = email;\r\n    }\r\n\r\n    public String setPassword(final String password){\r\n        return this.password = password;\r\n    }\r\n\r\n    public String setMatchingpassword(final String matchingpassword){\r\n        return this.matchingpassword = matchingpassword;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**RegistrationController.java**\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/registration&quot;)\r\n@AllArgsConstructor\r\npublic class RegistrationController {\r\n\r\n    @Autowired \r\n    private RegistrationService registrationService;\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public Mono&lt;String&gt; register(@ModelAttribute(&quot;user&quot;) @Valid RegistrationRequest user, BindingResult bindingResult, Model model) {\r\n        \r\n        if (bindingResult.hasErrors()) {\r\n            System.out.println(&quot;binding result has errors&quot;);\r\n            return Mono.just(&quot;registration&quot;);\r\n        }\r\n\r\n        return registrationService.reg(user);\r\n    }\r\n\r\n    @GetMapping(path = &quot;confirm&quot;)\r\n    public Mono&lt;String&gt; confirm(@RequestParam(&quot;token&quot;) String token) {\r\n        return registrationService.confirmToken(token);\r\n    }\r\n    \r\n}\r\n```\r\n**RegistrationService.java**\r\n```\r\n@Data\r\n@Service\r\n@AllArgsConstructor\r\npublic class RegistrationService {\r\n\r\n    @Autowired\r\n    private ConfirmationToken confirmationToken;\r\n    private ConfirmationTokenService confirmationTokenService;\r\n    private ApplicationUserService applicationUserService;\r\n  \r\n    public Mono&lt;String&gt; reg(RegistrationRequest request) {\r\n\r\n        Mono&lt;String&gt; token = applicationUserService.signUpUser(\r\n            new ApplicationUser(\r\n                request.getUsername(),\r\n                request.getPassword(),\r\n                request.getEmail(),             \r\n                UserRole.ROLE_USER     \r\n             )\r\n        );\r\n\r\n        String link = &quot;http://localhost:8081/registration/confirm?token=&quot; + token;\r\nbuildEmail(request.getUsername(), link));\r\n\r\n        return token;\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n**SecurityConfig.java**\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@Configuration\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\npublic class SecurityConfig {\r\n    \r\n    private final ApplicationUserService applicationUserService;\r\n       \r\n    @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http){\r\n        http\r\n            .csrf().disable()\r\n            .authorizeExchange()\r\n            .pathMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/Output&quot;, &quot;/css/*&quot;, &quot;/registration&quot;, &quot;/register&quot;, &quot;/registration/register&quot;, &quot;/js/*&quot;).permitAll()       \r\n            .pathMatchers(&quot;/input&quot;, &quot;/login&quot;, &quot;/logout&quot;, &quot;/css/*&quot;).hasRole(&quot;USER&quot;) \r\n            .anyExchange()\r\n            .authenticated()\r\n            .and()\r\n            .formLogin()\r\n            .loginPage(&quot;/login&quot;)\r\n            .authenticationSuccessHandler(new RedirectServerAuthenticationSuccessHandler(&quot;/input&quot;))\r\n            .and()\r\n            .logout()\r\n                //.logoutUrl(&quot;/logout&quot;)\r\n                .requiresLogout(ServerWebExchangeMatchers.pathMatchers(HttpMethod.GET, &quot;/logout&quot;));\r\n           \r\n        return http.build();\r\n\r\n    }\r\n\r\n\r\n    @Bean\r\n    ReactiveAuthenticationManager authenticationManager(ApplicationUserService applicationUserService){\r\n        return new UserDetailsRepositoryReactiveAuthenticationManager(applicationUserService);\r\n    }\r\n    \r\n}\r\n```\r\n","title":"Registration form does not trigger registration method","body":"<p>When submitting the form, the parameters mapped inside the Model should be passed to the <code>RegistrationController.java</code> and then to the <code>register()</code> metheod, where they would be mapped to the <code>RegistrationRequest</code>-Object. But actually none of that is happening. It leads me to nothing. No errors in the debugger. Not even a status code is emitted.</p>\n<p>Only my custom errorhandler says:</p>\n<pre><code>{&quot;timestamp&quot;:&quot;31-10-2021 19:40:12&quot;, &quot;error&quot;:&quot;null&quot;, &quot;status&quot;:-1, &quot;path&quot;: &quot;null&quot;}\n</code></pre>\n<p>-1 is when no status code can be derived.<br/>\nBut this is probably because I didn't set any redirection after submitting.\nThe POST Status seems to be <code>200 OK</code>.</p>\n<h1>Edit</h1>\n<p><em>I added the class containing the <code>registrationService.reg()</code>.</em></p>\n<br/>\n<p><strong>registration.html</strong></p>\n<pre><code>&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\n    &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;\n    &lt;title&gt;Please Register&lt;/title&gt;\n    &lt;link href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;link href=&quot;https://getbootstrap.com/docs/4.0/examples/signin/signin.css&quot; rel=&quot;stylesheet&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;style&gt;\n        body {\n            background-color: #3e3e3e;\n            color: white;\n\n        } \n    &lt;/style&gt;\n    \n&lt;/head&gt;\n  &lt;body&gt;\n    &lt;!-- Create HTML registration form --&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-md-6 col-md-offset-3&quot;&gt;\n\n                &lt;!-- success message --&gt;\n                &lt;div th:if=&quot;${param.success}&quot;&gt;\n                    &lt;div class=&quot;alert alert-info&quot;&gt;You've successfully registered&lt;/div&gt;\n                &lt;/div&gt;\n\n                &lt;h1&gt;Registration&lt;/h1&gt;\n\n                &lt;form th:action=&quot;@{/registration/register}&quot; th:object =&quot;${user}&quot; method=&quot;POST&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label class=&quot;control-label&quot; for=&quot;username&quot;&gt;Username&lt;/label&gt;\n                        &lt;input id=&quot;username&quot; class=&quot;form-control&quot; th:field=&quot;*{username}&quot; required autofocus=&quot;autofocus&quot; /&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label class=&quot;control-label&quot; for=&quot;email&quot;&gt;Email&lt;/label&gt; \n                         &lt;input id=&quot;email&quot; class=&quot;form-control&quot; th:field=&quot;*{email}&quot; required autofocus=&quot;autofocus&quot;/&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label class=&quot;control-label&quot; for=&quot;password&quot;&gt;Password&lt;/label&gt; \n                        &lt;input id=&quot;password&quot; class=&quot;form-control&quot; type=&quot;password&quot; th:field=&quot;*{password}&quot; required autofocus=&quot;autofocus&quot; /&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label class=&quot;control-label&quot; for=&quot;matchingpassword&quot;&gt;Confirm Password&lt;/label&gt; \n                        &lt;input id=&quot;matchingpassword&quot; class=&quot;form-control&quot; type=&quot;password&quot; th:field=&quot;*{matchingpassword}&quot; required autofocus=&quot;autofocus&quot; /&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Register&lt;/button&gt;\n                        &lt;span&gt;Already registered? &lt;a href=&quot;/&quot; th:href=&quot;@{/login}&quot;&gt;Login here&lt;/a&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>HomeController.java</strong></p>\n<pre><code>@RequestMapping\n@Controller\npublic class HomeController {\n\n...\n    @GetMapping(&quot;/registration&quot;)\n    public Mono&lt;String&gt; showRegistrationForm(final Model model) { \n    RegistrationRequest registrationRequest = new RegistrationRequest();\n    model.addAttribute(&quot;user&quot;, registrationRequest);\n    return Mono.just(&quot;registration&quot;);\n}\n   \n}\n</code></pre>\n<p><strong>RegistrationRequest.java</strong></p>\n<pre><code>//@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@ValidEmail\npublic class RegistrationRequest {\n\n    @NotNull(message = &quot;Username can't be empty&quot;)\n    @NotEmpty\n    private String username;\n \n    @NotNull(message = &quot;Email can't be empty&quot;)\n    @NotEmpty\n    private String email;\n\n    @NotNull(message = &quot;Please choose a password&quot;)\n    @NotEmpty\n    private String password;\n\n    @NotNull(message = &quot;Please confirm password&quot;)\n    @NotEmpty\n    private String matchingpassword;\n\n    \n    private UserRole user_role;\n \n    \n    //Getter\n    public String getUsername(){\n        return username;\n    }\n\n    public String getEmail(){\n        return email;\n    }\n\n    public String getPassword(){\n        return password;\n    }\n\n    public String getMatchingpassword(){\n        return matchingpassword;\n    }\n\n\n    //Setter\n    public String setUsername(final String username){\n        return this.username = username;\n    }\n\n    public String setEmail(final String email){\n        return this.email = email;\n    }\n\n    public String setPassword(final String password){\n        return this.password = password;\n    }\n\n    public String setMatchingpassword(final String matchingpassword){\n        return this.matchingpassword = matchingpassword;\n    }\n}\n\n</code></pre>\n<p><strong>RegistrationController.java</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/registration&quot;)\n@AllArgsConstructor\npublic class RegistrationController {\n\n    @Autowired \n    private RegistrationService registrationService;\n\n    @PostMapping(&quot;/register&quot;)\n    public Mono&lt;String&gt; register(@ModelAttribute(&quot;user&quot;) @Valid RegistrationRequest user, BindingResult bindingResult, Model model) {\n        \n        if (bindingResult.hasErrors()) {\n            System.out.println(&quot;binding result has errors&quot;);\n            return Mono.just(&quot;registration&quot;);\n        }\n\n        return registrationService.reg(user);\n    }\n\n    @GetMapping(path = &quot;confirm&quot;)\n    public Mono&lt;String&gt; confirm(@RequestParam(&quot;token&quot;) String token) {\n        return registrationService.confirmToken(token);\n    }\n    \n}\n</code></pre>\n<p><strong>RegistrationService.java</strong></p>\n<pre><code>@Data\n@Service\n@AllArgsConstructor\npublic class RegistrationService {\n\n    @Autowired\n    private ConfirmationToken confirmationToken;\n    private ConfirmationTokenService confirmationTokenService;\n    private ApplicationUserService applicationUserService;\n  \n    public Mono&lt;String&gt; reg(RegistrationRequest request) {\n\n        Mono&lt;String&gt; token = applicationUserService.signUpUser(\n            new ApplicationUser(\n                request.getUsername(),\n                request.getPassword(),\n                request.getEmail(),             \n                UserRole.ROLE_USER     \n             )\n        );\n\n        String link = &quot;http://localhost:8081/registration/confirm?token=&quot; + token;\nbuildEmail(request.getUsername(), link));\n\n        return token;\n\n    }\n</code></pre>\n<p><strong>SecurityConfig.java</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@Configuration\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\npublic class SecurityConfig {\n    \n    private final ApplicationUserService applicationUserService;\n       \n    @Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http){\n        http\n            .csrf().disable()\n            .authorizeExchange()\n            .pathMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/Output&quot;, &quot;/css/*&quot;, &quot;/registration&quot;, &quot;/register&quot;, &quot;/registration/register&quot;, &quot;/js/*&quot;).permitAll()       \n            .pathMatchers(&quot;/input&quot;, &quot;/login&quot;, &quot;/logout&quot;, &quot;/css/*&quot;).hasRole(&quot;USER&quot;) \n            .anyExchange()\n            .authenticated()\n            .and()\n            .formLogin()\n            .loginPage(&quot;/login&quot;)\n            .authenticationSuccessHandler(new RedirectServerAuthenticationSuccessHandler(&quot;/input&quot;))\n            .and()\n            .logout()\n                //.logoutUrl(&quot;/logout&quot;)\n                .requiresLogout(ServerWebExchangeMatchers.pathMatchers(HttpMethod.GET, &quot;/logout&quot;));\n           \n        return http.build();\n\n    }\n\n\n    @Bean\n    ReactiveAuthenticationManager authenticationManager(ApplicationUserService applicationUserService){\n        return new UserDetailsRepositoryReactiveAuthenticationManager(applicationUserService);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","hbase","apache-phoenix"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1680843326,"post_id":69799221,"comment_id":133968620,"body_markdown":"https://stackoverflow.com/questions/75947449/run-a-scala-code-jar-appear-nosuchmethoderrorscala-predef-refarrayops","body":"<a href=\"https://stackoverflow.com/questions/75947449/run-a-scala-code-jar-appear-nosuchmethoderrorscala-predef-refarrayops\" title=\"run a scala code jar appear nosuchmethoderrorscala predef refarrayops\">stackoverflow.com/questions/75947449/&hellip;</a>"}],"owner":{"account_id":12900673,"reputation":161,"user_id":9329627,"display_name":"Faouzi Chabchoub"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635794654,"creation_date":1635781148,"question_id":69799221,"body_markdown":"I am using Phoenix Spark 5.0.0-HBase-2.0 with an environment that provides scala 2.12\r\nthe issue is the method  \r\n\r\n```\r\npublic String[] getFieldArray(boolean skipNormalizingIdentifier, Dataset&lt;Row&gt; data)\r\n```\r\n\r\nraise exception:\r\n\r\n```\r\nUser class threw exception: java.lang.NoSuchMethodError: scala.Predef$.refArrayOps([Ljava/lang/Object;)Lscala/collection/mutable/ArrayOps;\r\njava.lang.NoSuchMethodError: scala.Predef$.refArrayOps([Ljava/lang/Object;)Lscala/collection/mutable/ArrayOps;\r\n\tat org.apache.phoenix.spark.DataFrameFunctions.getFieldArray(DataFrameFunctions.scala:76)\r\n\tat org.apache.phoenix.spark.DataFrameFunctions.saveToPhoenix(DataFrameFunctions.scala:35)\r\n\tat org.apache.phoenix.spark.DataFrameFunctions.saveToPhoenix(DataFrameFunctions.scala:28)\r\n```\r\n\r\nthe method signature `refArrayOps` is for scala 2.11 and I don&#39;t find any update for Phoenix Spark from apache to support scala 2.12\r\n\r\nplease help :)\r\n","title":"Phoenix-Spark-5.0.0-HBase-2.0 compatibility with scala 2.12","body":"<p>I am using Phoenix Spark 5.0.0-HBase-2.0 with an environment that provides scala 2.12\nthe issue is the method</p>\n<pre><code>public String[] getFieldArray(boolean skipNormalizingIdentifier, Dataset&lt;Row&gt; data)\n</code></pre>\n<p>raise exception:</p>\n<pre><code>User class threw exception: java.lang.NoSuchMethodError: scala.Predef$.refArrayOps([Ljava/lang/Object;)Lscala/collection/mutable/ArrayOps;\njava.lang.NoSuchMethodError: scala.Predef$.refArrayOps([Ljava/lang/Object;)Lscala/collection/mutable/ArrayOps;\n    at org.apache.phoenix.spark.DataFrameFunctions.getFieldArray(DataFrameFunctions.scala:76)\n    at org.apache.phoenix.spark.DataFrameFunctions.saveToPhoenix(DataFrameFunctions.scala:35)\n    at org.apache.phoenix.spark.DataFrameFunctions.saveToPhoenix(DataFrameFunctions.scala:28)\n</code></pre>\n<p>the method signature <code>refArrayOps</code> is for scala 2.11 and I don't find any update for Phoenix Spark from apache to support scala 2.12</p>\n<p>please help :)</p>\n"},{"tags":["java","spring-boot","configuration","microservices"],"comments":[{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1635827728,"post_id":69799602,"comment_id":123390390,"body_markdown":"Does this answer your question? [Spring Boot and multiple external configuration files](https://stackoverflow.com/questions/25855795/spring-boot-and-multiple-external-configuration-files)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25855795/spring-boot-and-multiple-external-configuration-files\">Spring Boot and multiple external configuration files</a>"},{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1635827753,"post_id":69799602,"comment_id":123390394,"body_markdown":"&quot;spring.config.location now overrides the default instead of adding to it. You need to use spring.config.additional-location to keep the defaults.&quot;","body":"&quot;spring.config.location now overrides the default instead of adding to it. You need to use spring.config.additional-location to keep the defaults.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":10694195,"reputation":338,"user_id":7871999,"display_name":"Ananya Antony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635794464,"creation_date":1635794464,"answer_id":69801800,"question_id":69799602,"body_markdown":"I hope you&#39;re naming the profile specific files as application-qa.yml etc. Once you do that you can point the config location to that file and also mention the spring active profile in your docker command \r\n**java -jar -Dspring.profiles.active=qa**\r\n","title":"Spring boot externalize application config","body":"<p>I hope you're naming the profile specific files as application-qa.yml etc. Once you do that you can point the config location to that file and also mention the spring active profile in your docker command\n<strong>java -jar -Dspring.profiles.active=qa</strong></p>\n"}],"owner":{"account_id":3765971,"reputation":1249,"user_id":3129510,"accept_rate":73,"display_name":"Alex Zhulin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635794464,"creation_date":1635782870,"question_id":69799602,"body_markdown":"I have a Spring Boot application which works as microservice.\r\n\r\nThis application has several config files in resources\r\n\r\n1. Common config which works for all profiles\r\n\r\n2. One config file specific for each profile (dev, test, prod)\r\n\r\nAll works fine with config files in application resources.\r\n\r\nNow I want to externalize profile specific config file to external file.\r\n\r\nI used to use this kind of Dockerfile\r\n\r\n(with --spring.config.location option)\r\n\r\n    FROM adoptopenjdk/openjdk11:alpine-jre\r\n    ADD /revise.jar /revise.jar\r\n    ADD /application.yml /application.yml\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/revise.jar&quot;, &quot;--spring.config.location=file:/application.yml&quot;]\r\n\r\nor\r\n(with --spring.config.import option)\r\n\r\n    FROM adoptopenjdk/openjdk11:alpine-jre\r\n    ADD /revise.jar /revise.jar\r\n    ADD /application.yml /application.yml\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/revise.jar&quot;, &quot;--spring.config.import=file:/application.yml&quot;]\r\n\r\nBut external config file doesn&#39;t merge with common config file. In other words if in externalized config file (application.yml) I use full config application starts and works, but if I use content of profile specific file it doesn&#39;t work.\r\n\r\nCould you suggest me how to use external config file which could merge with common config file of application?\r\n\r\n\r\n","title":"Spring boot externalize application config","body":"<p>I have a Spring Boot application which works as microservice.</p>\n<p>This application has several config files in resources</p>\n<ol>\n<li><p>Common config which works for all profiles</p>\n</li>\n<li><p>One config file specific for each profile (dev, test, prod)</p>\n</li>\n</ol>\n<p>All works fine with config files in application resources.</p>\n<p>Now I want to externalize profile specific config file to external file.</p>\n<p>I used to use this kind of Dockerfile</p>\n<p>(with --spring.config.location option)</p>\n<pre><code>FROM adoptopenjdk/openjdk11:alpine-jre\nADD /revise.jar /revise.jar\nADD /application.yml /application.yml\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/revise.jar&quot;, &quot;--spring.config.location=file:/application.yml&quot;]\n</code></pre>\n<p>or\n(with --spring.config.import option)</p>\n<pre><code>FROM adoptopenjdk/openjdk11:alpine-jre\nADD /revise.jar /revise.jar\nADD /application.yml /application.yml\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/revise.jar&quot;, &quot;--spring.config.import=file:/application.yml&quot;]\n</code></pre>\n<p>But external config file doesn't merge with common config file. In other words if in externalized config file (application.yml) I use full config application starts and works, but if I use content of profile specific file it doesn't work.</p>\n<p>Could you suggest me how to use external config file which could merge with common config file of application?</p>\n"},{"tags":["java","jvm","heap-memory"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1476341242,"post_id":40013881,"comment_id":67305514,"body_markdown":"I sometimes ran into issues when I got typos on such settings; and then maybe you dont notice because no layer will log that. So - did you try to invoke that java that your tomcat is using with exactly those parameters directly? Just to make sure that there isnt any typo? And of course: you did restart Tomcat before looking into jconsole?","body":"I sometimes ran into issues when I got typos on such settings; and then maybe you dont notice because no layer will log that. So - did you try to invoke that java that your tomcat is using with exactly those parameters directly? Just to make sure that there isnt any typo? And of course: you did restart Tomcat before looking into jconsole?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":2,"creation_date":1476343266,"post_id":40013881,"comment_id":67306633,"body_markdown":"in a terminal, check with `ps uxww` if these arguments are passed to the java process.","body":"in a terminal, check with <code>ps uxww</code> if these arguments are passed to the java process."}],"answers":[{"tags":[],"owner":{"account_id":4300478,"reputation":53,"user_id":3514291,"display_name":"m4c_4rthur"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1476350302,"creation_date":1476350302,"answer_id":40016948,"question_id":40013881,"body_markdown":"I Think the problem that your JVM is 32-bit, Using 64-bit JVM will fix the issue. ","title":"Java Heap Space doesn&#39;t increase when setting Xms Xmx ,","body":"<p>I Think the problem that your JVM is 32-bit, Using 64-bit JVM will fix the issue. </p>\n"}],"owner":{"account_id":1466932,"reputation":21,"user_id":1379520,"display_name":"Prot Netin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635794160,"creation_date":1476340595,"question_id":40013881,"body_markdown":"I deployed an application in tomcat. I need to increase java heap size to avoid java heap space error.\r\n\r\nI added setenv.sh and setenv.bat in bin dir of tomcat with this content:\r\nCATALINA_OPTS=&quot;$CATALINA_OPTS -server -Xms8192M -Xmx8192M -XX:PermSize=512m -XX:MaxPermSize=1024m&quot;\r\n\r\nBut when I monitor by jconsole, Max heap size is set to 3GB. Why setenv doesn&#39;t take effect on heap size?\r\nHow can I increase java heap space?","title":"Java Heap Space doesn&#39;t increase when setting Xms Xmx ,","body":"<p>I deployed an application in tomcat. I need to increase java heap size to avoid java heap space error.</p>\n\n<p>I added setenv.sh and setenv.bat in bin dir of tomcat with this content:\nCATALINA_OPTS=\"$CATALINA_OPTS -server -Xms8192M -Xmx8192M -XX:PermSize=512m -XX:MaxPermSize=1024m\"</p>\n\n<p>But when I monitor by jconsole, Max heap size is set to 3GB. Why setenv doesn't take effect on heap size?\nHow can I increase java heap space?</p>\n"},{"tags":["java","jvm","heap-memory"],"comments":[{"owner":{"account_id":5180018,"reputation":4424,"user_id":4146004,"accept_rate":83,"display_name":"nullPointer"},"score":0,"creation_date":1476371673,"post_id":40024820,"comment_id":67326912,"body_markdown":"Just to mention that there were around 5G RAM free on the server at the time this happened. So not all RAM was used at that point","body":"Just to mention that there were around 5G RAM free on the server at the time this happened. So not all RAM was used at that point"},{"owner":{"account_id":7862907,"reputation":383,"user_id":5942688,"display_name":"Sidias-Korrado"},"score":0,"creation_date":1476371761,"post_id":40024820,"comment_id":67326977,"body_markdown":"check if you are using 32-bit or 64-bit JVM","body":"check if you are using 32-bit or 64-bit JVM"},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1476372227,"post_id":40024820,"comment_id":67327358,"body_markdown":"post more of the GC log, what you posted doesn&#39;t show the young gen size. and you should figure out how large the allocation at the callsite throwing the OOME is.","body":"post more of the GC log, what you posted doesn&#39;t show the young gen size. and you should figure out how large the allocation at the callsite throwing the OOME is."},{"owner":{"account_id":5180018,"reputation":4424,"user_id":4146004,"accept_rate":83,"display_name":"nullPointer"},"score":0,"creation_date":1476377869,"post_id":40024820,"comment_id":67331012,"body_markdown":"We&#39;re on 64bit JVM.\nBelow are some more GC logs, specifically at the time when Full GC started (proc was started with &quot;-verbose:gc -XX:+PrintGCTimeStamps -Xmx3G&quot;\n\n`187964.806: [GC 2258418K-&gt;2111449K(2336768K), 0.0912450 secs]\n188147.174: [GC 2260441K-&gt;2114356K(2339840K), 0.0390060 secs]\n188178.455: [GC 2137835K-&gt;2113657K(2315776K), 0.0527470 secs]\n188178.508: [Full GC 2113657K-&gt;2090890K(2315776K), 2.9901030 secs]\n188328.712: [Full GC 2241930K-&gt;2095322K(2315776K), 0.5937130 secs]`","body":"We&#39;re on 64bit JVM. Below are some more GC logs, specifically at the time when Full GC started (proc was started with &quot;-verbose:gc -XX:+PrintGCTimeStamps -Xmx3G&quot;  <code>187964.806: [GC 2258418K-&gt;2111449K(2336768K), 0.0912450 secs] 188147.174: [GC 2260441K-&gt;2114356K(2339840K), 0.0390060 secs] 188178.455: [GC 2137835K-&gt;2113657K(2315776K), 0.0527470 secs] 188178.508: [Full GC 2113657K-&gt;2090890K(2315776K), 2.9901030 secs] 188328.712: [Full GC 2241930K-&gt;2095322K(2315776K), 0.5937130 secs]</code>"}],"answers":[{"tags":[],"owner":{"account_id":3620180,"reputation":226,"user_id":3019120,"display_name":"JQian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1476381361,"creation_date":1476381361,"answer_id":40027832,"question_id":40024820,"body_markdown":"This is major GC log, which collects the full heap. \r\n\r\nIt is reasonable that 3G heap but showing about 2.3G in GC log, because the heap is comprised by many parts not only young and old generations but also perm/virtual which are not collected by GC [hotspot VM generations](http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html#generation_sizing.total_heap). \r\n\r\nThe error is caused by that heap is full but GC cannot collect any objects, so larger heap needed or you may have to resize the heap (so young/old generations have larger space). To verify if there is any setting problems, simply using -Xmx5G to see if heap is still stuck at 2G (which should not happen).","title":"JVM heap stuck at 2g even when started with -Xmx 3G","body":"<p>This is major GC log, which collects the full heap. </p>\n\n<p>It is reasonable that 3G heap but showing about 2.3G in GC log, because the heap is comprised by many parts not only young and old generations but also perm/virtual which are not collected by GC <a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html#generation_sizing.total_heap\" rel=\"nofollow\">hotspot VM generations</a>. </p>\n\n<p>The error is caused by that heap is full but GC cannot collect any objects, so larger heap needed or you may have to resize the heap (so young/old generations have larger space). To verify if there is any setting problems, simply using -Xmx5G to see if heap is still stuck at 2G (which should not happen).</p>\n"}],"owner":{"account_id":5180018,"reputation":4424,"user_id":4146004,"accept_rate":83,"display_name":"nullPointer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40027832,"answer_count":1,"score":0,"last_activity_date":1635794143,"creation_date":1476371614,"question_id":40024820,"body_markdown":"We have a weird issue with a java process.\r\nIt was started with -Xmx3G , and at some point it started throwing :\r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n\r\nChecking the GC logs around the time the error is thrown, the heap size seems stuck at 2G ?\r\n\r\n    ...\r\n    12893.533: [Full GC 2248110K-&gt;2248109K(2315776K), 0.4723440 secs]\r\n    212894.006: [Full GC 2248110K-&gt;2248109K(2315776K), 0.4823290 secs]\r\n    212894.490: [Full GC 2248110K-&gt;2248110K(2315776K), 0.4642130 secs]\r\n    212894.955: [Full GC 2248114K-&gt;2248112K(2315776K), 0.4866180 secs]\r\n    ...\r\n\r\nWhat are the possible reasons that could explain this ?\r\n\r\n\r\n","title":"JVM heap stuck at 2g even when started with -Xmx 3G","body":"<p>We have a weird issue with a java process.\nIt was started with -Xmx3G , and at some point it started throwing :</p>\n\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n\n<p>Checking the GC logs around the time the error is thrown, the heap size seems stuck at 2G ?</p>\n\n<pre><code>...\n12893.533: [Full GC 2248110K-&gt;2248109K(2315776K), 0.4723440 secs]\n212894.006: [Full GC 2248110K-&gt;2248109K(2315776K), 0.4823290 secs]\n212894.490: [Full GC 2248110K-&gt;2248110K(2315776K), 0.4642130 secs]\n212894.955: [Full GC 2248114K-&gt;2248112K(2315776K), 0.4866180 secs]\n...\n</code></pre>\n\n<p>What are the possible reasons that could explain this ?</p>\n"},{"tags":["java","tomcat","jvm","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":2491374,"reputation":2992,"user_id":2168752,"display_name":"Milen Dyankov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1480065357,"creation_date":1480065357,"answer_id":40801334,"question_id":40800618,"body_markdown":"The parameter that defines maximum heap size is `-Xmx` but **do not simply change it without knowing the reason you run out of memory**! Apart from it there are many other parameters that influence how your memory is structured and garbage collected.  \r\n\r\nTo give you a simple analogy, it&#39;s like a bucket of water. It can only fit given amount of water. If you **know** you need more water, you can get a bigger bucket. But if you are constantly pouring more water into it than you consume, the size of the bucket does not matter - it will fill up sooner or later. In programing this is called memory leak. \r\n\r\nThat is why you should not simply increase heap size. You need to do some analysis to understand why you are running out of memory and if adding more memory would solve the problem or simply postpone it. Now to do perform those analysis exactly is by far too broad question to be answered here.  ","title":"Tomcat JVM - which memory parameter to increase after Heap Memory Statistics","body":"<p>The parameter that defines maximum heap size is <code>-Xmx</code> but <strong>do not simply change it without knowing the reason you run out of memory</strong>! Apart from it there are many other parameters that influence how your memory is structured and garbage collected.  </p>\n\n<p>To give you a simple analogy, it's like a bucket of water. It can only fit given amount of water. If you <strong>know</strong> you need more water, you can get a bigger bucket. But if you are constantly pouring more water into it than you consume, the size of the bucket does not matter - it will fill up sooner or later. In programing this is called memory leak. </p>\n\n<p>That is why you should not simply increase heap size. You need to do some analysis to understand why you are running out of memory and if adding more memory would solve the problem or simply postpone it. Now to do perform those analysis exactly is by far too broad question to be answered here.  </p>\n"}],"owner":{"account_id":2296586,"reputation":27,"user_id":2017879,"accept_rate":86,"display_name":"esbej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40801334,"answer_count":1,"score":0,"last_activity_date":1635794124,"creation_date":1480062688,"question_id":40800618,"body_markdown":"I am having \r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n\r\nWhich parameters would you increase for the Tomcat after knowing the following Heap Memory Statistics?\r\n\r\nHeap Memory Statistics\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gWIDZ.png","title":"Tomcat JVM - which memory parameter to increase after Heap Memory Statistics","body":"<p>I am having </p>\n\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n\n<p>Which parameters would you increase for the Tomcat after knowing the following Heap Memory Statistics?</p>\n\n<p>Heap Memory Statistics</p>\n\n<p><a href=\"https://i.stack.imgur.com/gWIDZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gWIDZ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","jvm","heap-memory","hotspot","g1gc"],"comments":[{"owner":{"account_id":9856796,"reputation":1340,"user_id":7301044,"display_name":"Saulius Next"},"score":1,"creation_date":1483629568,"post_id":41488024,"comment_id":70182411,"body_markdown":"Pleas can you share all parameters which you set during application start? https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/g1_gc_tuning.html#recommendations","body":"Pleas can you share all parameters which you set during application start? <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/g1_gc_tuning.html#recommendations\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/&hellip;</a>"},{"owner":{"account_id":916087,"reputation":103,"user_id":948856,"display_name":"Sasidhar Sekar"},"score":0,"creation_date":1483631908,"post_id":41488024,"comment_id":70184134,"body_markdown":"@SauliusNext I have now added the list of parameters to the question. For G1GC, the only difference is the addition of -XX:+UseG1GC","body":"@SauliusNext I have now added the list of parameters to the question. For G1GC, the only difference is the addition of -XX:+UseG1GC"},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":1,"creation_date":1483636084,"post_id":41488024,"comment_id":70187094,"body_markdown":"since you already have enabled GC logging you should attach a sufficiently long GC log from the period of interest.","body":"since you already have enabled GC logging you should attach a sufficiently long GC log from the period of interest."},{"owner":{"account_id":1111737,"reputation":1626,"user_id":5497822,"display_name":"Fairoz"},"score":1,"creation_date":1483969414,"post_id":41488024,"comment_id":70303721,"body_markdown":"@SasidharSekar i have filed an issue https://bugs.openjdk.java.net/browse/JDK-8172354 on your behalf. Please check the suggestion provided by senior GC engineer at Oracle &quot;Thomas Schatzl&quot;, Do let me know if you need further clarification.","body":"@SasidharSekar i have filed an issue <a href=\"https://bugs.openjdk.java.net/browse/JDK-8172354\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8172354</a> on your behalf. Please check the suggestion provided by senior GC engineer at Oracle &quot;Thomas Schatzl&quot;, Do let me know if you need further clarification."},{"owner":{"account_id":916087,"reputation":103,"user_id":948856,"display_name":"Sasidhar Sekar"},"score":0,"creation_date":1483970868,"post_id":41488024,"comment_id":70304618,"body_markdown":"Thank you @Fairoz That clarifies a lot of things. I will try out these suggestions to see how things improve.","body":"Thank you @Fairoz That clarifies a lot of things. I will try out these suggestions to see how things improve."}],"answers":[{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483725788,"creation_date":1483725788,"answer_id":41511595,"question_id":41488024,"body_markdown":"There seem to be many of the following two GC causes:\r\n\r\n* [GC pause (G1 Humongous Allocation) (young) (initial-mark)\r\n* [GC pause (G1 Evacuation Pause) (young) (to-space exhausted)\r\n\r\nThe humongous allocations need space in the old gen, the to-space exhaustion drive up young gen size. They&#39;re basically competing with each other.\r\n\r\nIt looks like you&#39;re allocating a lot of humongous objects (&gt; 1/2 G1 region size) faster than the concurrent cycles initiated by the IHOP can collect them.\r\n\r\nYou could try to increase the region size. If they are large primitive arrays (i.e. not reference arrasy) then the experimental [eager reclaim feature][1] might help too.\r\n\r\n  [1]: https://stackoverflow.com/a/28065423/1362755","title":"Hotspot JVM - G1GC Heap resizing issue","body":"<p>There seem to be many of the following two GC causes:</p>\n\n<ul>\n<li>[GC pause (G1 Humongous Allocation) (young) (initial-mark)</li>\n<li>[GC pause (G1 Evacuation Pause) (young) (to-space exhausted)</li>\n</ul>\n\n<p>The humongous allocations need space in the old gen, the to-space exhaustion drive up young gen size. They're basically competing with each other.</p>\n\n<p>It looks like you're allocating a lot of humongous objects (> 1/2 G1 region size) faster than the concurrent cycles initiated by the IHOP can collect them.</p>\n\n<p>You could try to increase the region size. If they are large primitive arrays (i.e. not reference arrasy) then the experimental <a href=\"https://stackoverflow.com/a/28065423/1362755\">eager reclaim feature</a> might help too.</p>\n"}],"owner":{"account_id":916087,"reputation":103,"user_id":948856,"display_name":"Sasidhar Sekar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2185,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1635794110,"creation_date":1483628053,"question_id":41488024,"body_markdown":"I was recently testing a presentation app with a relatively high concurrent load. The application is a java application and is running on Hotspot JVM (1.8.0_111). \r\n\r\nI could get a maximum throughput of around 400 TPS with a 4G heap and parallel throughput collector. The throughput chart (as a function of load) is shown below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBecause Oracle suggests using G1GC for heap sizes larger than 4G, I wanted to try G1 and see if this benefits my application throughput in any way.\r\n\r\nTo my surprise, with G1GC, I saw the below throughput trend.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI was genuinely surprised and decided to dig in to it to see what happened here. This is what I found.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nI see that initially, out of the 4G heap, 1.5G is allocated to old gen regions and 2.5G to the eden regions. But as time progresses and old gen can no longer fit in 1.5G, heap gets resized. This seems innocuous. But the problem seems to be in the way resizing happens. \r\n\r\nAll of 4G is now allocated to old gen regions and none, almost, to the eden regions. Now, when something needs to be allocated to eden, heap gets resized again. And this becomes the new normal, where heap gets resized repeatedly resulting in a huge performance cost to the application.\r\n\r\nHas anyone noticed this before with G1GC? Are there any recommendations to negotiate this issue?\r\n\r\nBelow is the startup command line with the JVM options.\r\n\r\n    java -server -Xms4096m -Xmx4096m -XX:MetaspaceSize=100m -XX:MaxMetaspaceSize=100m -XX:MaxDirectMemorySize=512m -XX:MinMetaspaceFreeRatio=0 -XX:MaxMetaspaceFreeRatio=100 -XX:CompressedClassSpaceSize=20m -XX:InitialCodeCacheSize=50m -XX:ReservedCodeCacheSize=50m -XX:+AlwaysPreTouch -XX:+DisableExplicitGC -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/var/tmp -Xloggc:/servers/logs/gc.log.2017-01-05-085234 -Djava.awt.headless=true -XX:+UnlockCommercialFeatures -XX:+FlightRecorder -Dio.netty.leakDetectionLevel=simple -XX:MaxDirectMemorySize=512m -Dadmin.connectors.http.port=9000 -Dproxy.connectors.http.port=8080 -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=8654 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -server -cp ...\r\n\r\nJVM options:\r\n\r\n    -server \r\n    -Xms4096m \r\n    -Xmx4096m \r\n    -XX:MetaspaceSize=100m \r\n    -XX:MaxMetaspaceSize=100m \r\n    -XX:MaxDirectMemorySize=512m \r\n    -XX:MinMetaspaceFreeRatio=0 \r\n    -XX:MaxMetaspaceFreeRatio=100 \r\n    -XX:CompressedClassSpaceSize=20m \r\n    -XX:InitialCodeCacheSize=50m \r\n    -XX:ReservedCodeCacheSize=50m \r\n    -XX:+AlwaysPreTouch \r\n    -XX:+DisableExplicitGC \r\n    -XX:+PrintGCDetails \r\n    -XX:+PrintGCDateStamps \r\n    -XX:+HeapDumpOnOutOfMemoryError \r\n    -XX:HeapDumpPath=/var/tmp \r\n    -Xloggc:/servers/logs/gc.log.2017-01-05-085234 \r\n    -Djava.awt.headless=true \r\n    -XX:+UnlockCommercialFeatures \r\n    -XX:+FlightRecorder \r\n    -Dio.netty.leakDetectionLevel=simple \r\n    -XX:MaxDirectMemorySize=512m \r\n    -Dadmin.connectors.http.port=9000 \r\n    -Dproxy.connectors.http.port=8080 \r\n    -Dcom.sun.management.jmxremote \r\n    -Dcom.sun.management.jmxremote.port=8654 \r\n    -Dcom.sun.management.jmxremote.local.only=false \r\n    -Dcom.sun.management.jmxremote.authenticate=false \r\n    -Dcom.sun.management.jmxremote.ssl=false \r\n    -server \r\n    -cp ...\r\n\r\nPlease find the gc logs [here][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Eks37.png\r\n  [2]: https://i.stack.imgur.com/tI0dT.png\r\n  [3]: https://i.stack.imgur.com/E0IUr.png\r\n  [4]: https://drive.google.com/file/d/0BzBsD54Y6yWVd3ZPUGxBYm5CWEU/view?usp=sharing","title":"Hotspot JVM - G1GC Heap resizing issue","body":"<p>I was recently testing a presentation app with a relatively high concurrent load. The application is a java application and is running on Hotspot JVM (1.8.0_111). </p>\n\n<p>I could get a maximum throughput of around 400 TPS with a 4G heap and parallel throughput collector. The throughput chart (as a function of load) is shown below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Eks37.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Eks37.png\" alt=\"enter image description here\"></a></p>\n\n<p>Because Oracle suggests using G1GC for heap sizes larger than 4G, I wanted to try G1 and see if this benefits my application throughput in any way.</p>\n\n<p>To my surprise, with G1GC, I saw the below throughput trend.</p>\n\n<p><a href=\"https://i.stack.imgur.com/tI0dT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tI0dT.png\" alt=\"enter image description here\"></a></p>\n\n<p>I was genuinely surprised and decided to dig in to it to see what happened here. This is what I found.</p>\n\n<p><a href=\"https://i.stack.imgur.com/E0IUr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/E0IUr.png\" alt=\"enter image description here\"></a></p>\n\n<p>I see that initially, out of the 4G heap, 1.5G is allocated to old gen regions and 2.5G to the eden regions. But as time progresses and old gen can no longer fit in 1.5G, heap gets resized. This seems innocuous. But the problem seems to be in the way resizing happens. </p>\n\n<p>All of 4G is now allocated to old gen regions and none, almost, to the eden regions. Now, when something needs to be allocated to eden, heap gets resized again. And this becomes the new normal, where heap gets resized repeatedly resulting in a huge performance cost to the application.</p>\n\n<p>Has anyone noticed this before with G1GC? Are there any recommendations to negotiate this issue?</p>\n\n<p>Below is the startup command line with the JVM options.</p>\n\n<pre><code>java -server -Xms4096m -Xmx4096m -XX:MetaspaceSize=100m -XX:MaxMetaspaceSize=100m -XX:MaxDirectMemorySize=512m -XX:MinMetaspaceFreeRatio=0 -XX:MaxMetaspaceFreeRatio=100 -XX:CompressedClassSpaceSize=20m -XX:InitialCodeCacheSize=50m -XX:ReservedCodeCacheSize=50m -XX:+AlwaysPreTouch -XX:+DisableExplicitGC -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/var/tmp -Xloggc:/servers/logs/gc.log.2017-01-05-085234 -Djava.awt.headless=true -XX:+UnlockCommercialFeatures -XX:+FlightRecorder -Dio.netty.leakDetectionLevel=simple -XX:MaxDirectMemorySize=512m -Dadmin.connectors.http.port=9000 -Dproxy.connectors.http.port=8080 -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=8654 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -server -cp ...\n</code></pre>\n\n<p>JVM options:</p>\n\n<pre><code>-server \n-Xms4096m \n-Xmx4096m \n-XX:MetaspaceSize=100m \n-XX:MaxMetaspaceSize=100m \n-XX:MaxDirectMemorySize=512m \n-XX:MinMetaspaceFreeRatio=0 \n-XX:MaxMetaspaceFreeRatio=100 \n-XX:CompressedClassSpaceSize=20m \n-XX:InitialCodeCacheSize=50m \n-XX:ReservedCodeCacheSize=50m \n-XX:+AlwaysPreTouch \n-XX:+DisableExplicitGC \n-XX:+PrintGCDetails \n-XX:+PrintGCDateStamps \n-XX:+HeapDumpOnOutOfMemoryError \n-XX:HeapDumpPath=/var/tmp \n-Xloggc:/servers/logs/gc.log.2017-01-05-085234 \n-Djava.awt.headless=true \n-XX:+UnlockCommercialFeatures \n-XX:+FlightRecorder \n-Dio.netty.leakDetectionLevel=simple \n-XX:MaxDirectMemorySize=512m \n-Dadmin.connectors.http.port=9000 \n-Dproxy.connectors.http.port=8080 \n-Dcom.sun.management.jmxremote \n-Dcom.sun.management.jmxremote.port=8654 \n-Dcom.sun.management.jmxremote.local.only=false \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.jmxremote.ssl=false \n-server \n-cp ...\n</code></pre>\n\n<p>Please find the gc logs <a href=\"https://drive.google.com/file/d/0BzBsD54Y6yWVd3ZPUGxBYm5CWEU/view?usp=sharing\" rel=\"noreferrer\">here</a></p>\n"},{"tags":["java","jvm","heap-memory","java-6"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1485882904,"post_id":41963465,"comment_id":71106081,"body_markdown":"Does UserB have a `32-bit` Java installation?","body":"Does UserB have a <code>32-bit</code> Java installation?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1485882951,"post_id":41963465,"comment_id":71106103,"body_markdown":"If you use a 32-bit JVM your memory size is limited by how much the OS allows. This can be up to 3 GB on Unix, but as low as 1.2 GB on Windows.","body":"If you use a 32-bit JVM your memory size is limited by how much the OS allows. This can be up to 3 GB on Unix, but as low as 1.2 GB on Windows."}],"answers":[{"tags":[],"owner":{"account_id":10148070,"reputation":85,"user_id":7495609,"display_name":"Sandip Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1485882938,"creation_date":1485882938,"answer_id":41963586,"question_id":41963465,"body_markdown":"For userB can you check the free memory available for execution ? This could be done by checking free -m on Linux or you could check what other application/processes are consuming resources using top command.\r\n\r\nOn windows you could verify with the task manager.","title":"java heap allocation: error during initialization of VM for different user","body":"<p>For userB can you check the free memory available for execution ? This could be done by checking free -m on Linux or you could check what other application/processes are consuming resources using top command.</p>\n\n<p>On windows you could verify with the task manager.</p>\n"}],"owner":{"account_id":4985198,"reputation":53,"user_id":4009037,"accept_rate":25,"display_name":"OKie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41963586,"answer_count":1,"score":0,"last_activity_date":1635794094,"creation_date":1485882574,"question_id":41963465,"body_markdown":"I receive error message while running App with userA which exceeding 1800Mb heap , but the same App works fine with userB,\r\n\r\nThat&#39;s said, below command works for userA, but for userB there is an error\r\n\r\n    java -Xmx2048m -jar App\r\n\r\nerror:\r\nError occured during initialization of VM\r\nCould not reserve enough space of VM\r\nCould not create Java virtual machine","title":"java heap allocation: error during initialization of VM for different user","body":"<p>I receive error message while running App with userA which exceeding 1800Mb heap , but the same App works fine with userB,</p>\n\n<p>That's said, below command works for userA, but for userB there is an error</p>\n\n<pre><code>java -Xmx2048m -jar App\n</code></pre>\n\n<p>error:\nError occured during initialization of VM\nCould not reserve enough space of VM\nCould not create Java virtual machine</p>\n"},{"tags":["javascript","java","node.js","encryption","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1635762777,"post_id":69794832,"comment_id":123371877,"body_markdown":"In the Java code, there is a url encoding/decoding, but not in the NodeJS code.","body":"In the Java code, there is a url encoding/decoding, but not in the NodeJS code."},{"owner":{"account_id":23202852,"reputation":11,"user_id":17297429,"display_name":"Aakash Rajput"},"score":0,"creation_date":1635793993,"post_id":69794832,"comment_id":123383506,"body_markdown":"Yes, I have added it by mistake in java code. I have edited it, Still it Is not working","body":"Yes, I have added it by mistake in java code. I have edited it, Still it Is not working"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1635795723,"post_id":69794832,"comment_id":123384066,"body_markdown":"In the Java code use `byte[] random = &quot;Salted__&quot;.getBytes(StandardCharsets.US_ASCII);` (and also better change the variable name). The OpenSSL format starts with the ASCII encoding of `Salted__` and not with a random byte sequence.","body":"In the Java code use <code>byte[] random = &quot;Salted__&quot;.getBytes(StandardCharsets.US_ASCII);</code> (and also better change the variable name). The OpenSSL format starts with the ASCII encoding of <code>Salted__</code> and not with a random byte sequence."},{"owner":{"account_id":23202852,"reputation":11,"user_id":17297429,"display_name":"Aakash Rajput"},"score":0,"creation_date":1635845963,"post_id":69794832,"comment_id":123395300,"body_markdown":"That really helped me. thanks @Topaco","body":"That really helped me. thanks @Topaco"}],"owner":{"account_id":23202852,"reputation":11,"user_id":17297429,"display_name":"Aakash Rajput"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635793912,"creation_date":1635758208,"question_id":69794832,"body_markdown":"I am performing a encryption and decryption using AES algorithm in java and Node js, the code for them are :-\r\n\r\n**Node Js:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    //ENCRYPTION:\r\n\r\n     var CryptoJS = require(&#39;crypto-js&#39;);\r\n        var encryption_key = &#39;encryptionKey&#39;;\r\n\r\n        // Convert JSON to string\r\n        var data = JSON.stringify({\r\n                &quot;id&quot;: &quot;1&quot;,\r\n                &quot;name&quot;: &quot;Adam&quot;,\r\n                &quot;age&quot; : 32\r\n        });\r\n        var encrypted_data = CryptoJS.AES.encrypt(data, encryption_key).toString();\r\n\r\n        // Here is the final data\r\n        console.log(encrypted_data);\r\n\r\n    //DECRYPTION\r\n\r\n    var cipher_data = &#39;cipherDataToDecrypt&#39;;\r\n\r\n    var decrypted = CryptoJS.AES.decrypt(cipher_data, encryption_key).toString(CryptoJS.enc.Utf8);\r\n\r\n    console.log(decrypted);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**Java Code:**\r\n\r\n\r\n```\r\nstatic String secret = &quot;encryptionKey&quot;;\r\n\r\npublic static String encrypt(String plain) throws Exception {\r\n        String result = null;\r\n\r\n\r\n        byte[] saltData = RandomUtils.nextBytes(8);\r\n\r\n        MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n        final byte[][] keyAndIV = GenerateKeyAndIV(32, 16, 1, saltData, secret.getBytes(StandardCharsets.UTF_8), md5);\r\n        SecretKeySpec key = new SecretKeySpec(keyAndIV[0], &quot;AES&quot;);\r\n        IvParameterSpec iv = new IvParameterSpec(keyAndIV[1]);\r\n\r\n        Cipher aesCBC = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n        aesCBC.init(Cipher.ENCRYPT_MODE, key, iv);\r\n        byte[] encrypted = aesCBC.doFinal(plain.getBytes(StandardCharsets.UTF_8));\r\n\r\n        byte[] random = RandomUtils.nextBytes(8);\r\n        byte[] output = new byte[saltData.length+random.length+encrypted.length];\r\n        int i = 0;\r\n        for(byte b1 : random){\r\n            output[i] = b1;\r\n            i++;\r\n        }\r\n        for(byte b1 : saltData){\r\n            output[i] = b1;\r\n            i++;\r\n        }\r\n        for(byte b1 : encrypted){\r\n            output[i] = b1;\r\n            i++;\r\n        }\r\n\r\n        result = Base64.getEncoder().encodeToString(output);\r\n        return result;\r\n    }\r\n    public static byte[][] GenerateKeyAndIV(int keyLength, int ivLength, int iterations, byte[] salt, byte[] password, MessageDigest md) {\r\n\r\n        int digestLength = md.getDigestLength();\r\n        int requiredLength = (keyLength + ivLength + digestLength - 1) / digestLength * digestLength;\r\n        byte[] generatedData = new byte[requiredLength];\r\n        int generatedLength = 0;\r\n\r\n        try {\r\n            md.reset();\r\n\r\n            // Repeat process until sufficient data has been generated\r\n            while (generatedLength &lt; keyLength + ivLength) {\r\n\r\n                // Digest data (last digest if available, password data, salt if available)\r\n                if (generatedLength &gt; 0)\r\n                    md.update(generatedData, generatedLength - digestLength, digestLength);\r\n                md.update(password);\r\n                if (salt != null)\r\n                    md.update(salt, 0, 8);\r\n                md.digest(generatedData, generatedLength, digestLength);\r\n\r\n                // additional rounds\r\n                for (int i = 1; i &lt; iterations; i++) {\r\n                    md.update(generatedData, generatedLength, digestLength);\r\n                    md.digest(generatedData, generatedLength, digestLength);\r\n                }\r\n\r\n                generatedLength += digestLength;\r\n            }\r\n\r\n            // Copy key and IV into separate byte arrays\r\n            byte[][] result = new byte[2][];\r\n            result[0] = Arrays.copyOfRange(generatedData, 0, keyLength);\r\n            if (ivLength &gt; 0)\r\n                result[1] = Arrays.copyOfRange(generatedData, keyLength, keyLength + ivLength);\r\n\r\n            return result;\r\n\r\n        } catch (DigestException e) {\r\n            throw new RuntimeException(e);\r\n\r\n        } finally {\r\n            // Clean out temporary data\r\n            Arrays.fill(generatedData, (byte)0);\r\n        }\r\n    }\r\n    public static String decrypt(String cipherText) throws Exception {\r\n\r\n\r\n        byte[] cipherData = Base64.getDecoder().decode(cipherText);\r\n        byte[] saltData = Arrays.copyOfRange(cipherData, 8, 16);\r\n\r\n\r\n        MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n        final byte[][] keyAndIV = GenerateKeyAndIV(32, 16, 1, saltData, secret.getBytes(StandardCharsets.UTF_8), md5);\r\n        SecretKeySpec key = new SecretKeySpec(keyAndIV[0], &quot;AES&quot;);\r\n        IvParameterSpec iv = new IvParameterSpec(keyAndIV[1]);\r\n\r\n        byte[] encrypted = Arrays.copyOfRange(cipherData, 16, cipherData.length);\r\n        Cipher aesCBC = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n        aesCBC.init(Cipher.DECRYPT_MODE, key, iv);\r\n        byte[] decryptedData = aesCBC.doFinal(encrypted);\r\n        String decryptedText = new String(decryptedData, StandardCharsets.UTF_8);\r\n        return decryptedText;\r\n    }\r\n\r\n```\r\n\r\nThe java code is compatible with encrypting and decrypting.\r\nAnd the node js is also compatible with encrypting and decrypting.\r\nAlso if you encrypt in Node js, the java code is able to decrypt.\r\n**But the problem arises when I encrypt in java and try to decrypt in Node Js** . It gives\r\n\r\n**Node js output:**\r\n\r\n    throw new Error(&#39;Malformed UTF-8 data&#39;);\r\n\r\n\r\nIs there anything that I am doing wrong here or Is there any other way to do this kind of encryption and decryption in java ? Please suggest. Thanks in advance\r\n","title":"Incompatibility in AES java encryption and Node js decryption","body":"<p>I am performing a encryption and decryption using AES algorithm in java and Node js, the code for them are :-</p>\n<p><strong>Node Js:</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//ENCRYPTION:\n\n var CryptoJS = require('crypto-js');\n    var encryption_key = 'encryptionKey';\n\n    // Convert JSON to string\n    var data = JSON.stringify({\n            \"id\": \"1\",\n            \"name\": \"Adam\",\n            \"age\" : 32\n    });\n    var encrypted_data = CryptoJS.AES.encrypt(data, encryption_key).toString();\n\n    // Here is the final data\n    console.log(encrypted_data);\n\n//DECRYPTION\n\nvar cipher_data = 'cipherDataToDecrypt';\n\nvar decrypted = CryptoJS.AES.decrypt(cipher_data, encryption_key).toString(CryptoJS.enc.Utf8);\n\nconsole.log(decrypted);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Java Code:</strong></p>\n<pre><code>static String secret = &quot;encryptionKey&quot;;\n\npublic static String encrypt(String plain) throws Exception {\n        String result = null;\n\n\n        byte[] saltData = RandomUtils.nextBytes(8);\n\n        MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\n        final byte[][] keyAndIV = GenerateKeyAndIV(32, 16, 1, saltData, secret.getBytes(StandardCharsets.UTF_8), md5);\n        SecretKeySpec key = new SecretKeySpec(keyAndIV[0], &quot;AES&quot;);\n        IvParameterSpec iv = new IvParameterSpec(keyAndIV[1]);\n\n        Cipher aesCBC = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        aesCBC.init(Cipher.ENCRYPT_MODE, key, iv);\n        byte[] encrypted = aesCBC.doFinal(plain.getBytes(StandardCharsets.UTF_8));\n\n        byte[] random = RandomUtils.nextBytes(8);\n        byte[] output = new byte[saltData.length+random.length+encrypted.length];\n        int i = 0;\n        for(byte b1 : random){\n            output[i] = b1;\n            i++;\n        }\n        for(byte b1 : saltData){\n            output[i] = b1;\n            i++;\n        }\n        for(byte b1 : encrypted){\n            output[i] = b1;\n            i++;\n        }\n\n        result = Base64.getEncoder().encodeToString(output);\n        return result;\n    }\n    public static byte[][] GenerateKeyAndIV(int keyLength, int ivLength, int iterations, byte[] salt, byte[] password, MessageDigest md) {\n\n        int digestLength = md.getDigestLength();\n        int requiredLength = (keyLength + ivLength + digestLength - 1) / digestLength * digestLength;\n        byte[] generatedData = new byte[requiredLength];\n        int generatedLength = 0;\n\n        try {\n            md.reset();\n\n            // Repeat process until sufficient data has been generated\n            while (generatedLength &lt; keyLength + ivLength) {\n\n                // Digest data (last digest if available, password data, salt if available)\n                if (generatedLength &gt; 0)\n                    md.update(generatedData, generatedLength - digestLength, digestLength);\n                md.update(password);\n                if (salt != null)\n                    md.update(salt, 0, 8);\n                md.digest(generatedData, generatedLength, digestLength);\n\n                // additional rounds\n                for (int i = 1; i &lt; iterations; i++) {\n                    md.update(generatedData, generatedLength, digestLength);\n                    md.digest(generatedData, generatedLength, digestLength);\n                }\n\n                generatedLength += digestLength;\n            }\n\n            // Copy key and IV into separate byte arrays\n            byte[][] result = new byte[2][];\n            result[0] = Arrays.copyOfRange(generatedData, 0, keyLength);\n            if (ivLength &gt; 0)\n                result[1] = Arrays.copyOfRange(generatedData, keyLength, keyLength + ivLength);\n\n            return result;\n\n        } catch (DigestException e) {\n            throw new RuntimeException(e);\n\n        } finally {\n            // Clean out temporary data\n            Arrays.fill(generatedData, (byte)0);\n        }\n    }\n    public static String decrypt(String cipherText) throws Exception {\n\n\n        byte[] cipherData = Base64.getDecoder().decode(cipherText);\n        byte[] saltData = Arrays.copyOfRange(cipherData, 8, 16);\n\n\n        MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\n        final byte[][] keyAndIV = GenerateKeyAndIV(32, 16, 1, saltData, secret.getBytes(StandardCharsets.UTF_8), md5);\n        SecretKeySpec key = new SecretKeySpec(keyAndIV[0], &quot;AES&quot;);\n        IvParameterSpec iv = new IvParameterSpec(keyAndIV[1]);\n\n        byte[] encrypted = Arrays.copyOfRange(cipherData, 16, cipherData.length);\n        Cipher aesCBC = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        aesCBC.init(Cipher.DECRYPT_MODE, key, iv);\n        byte[] decryptedData = aesCBC.doFinal(encrypted);\n        String decryptedText = new String(decryptedData, StandardCharsets.UTF_8);\n        return decryptedText;\n    }\n\n</code></pre>\n<p>The java code is compatible with encrypting and decrypting.\nAnd the node js is also compatible with encrypting and decrypting.\nAlso if you encrypt in Node js, the java code is able to decrypt.\n<strong>But the problem arises when I encrypt in java and try to decrypt in Node Js</strong> . It gives</p>\n<p><strong>Node js output:</strong></p>\n<pre><code>throw new Error('Malformed UTF-8 data');\n</code></pre>\n<p>Is there anything that I am doing wrong here or Is there any other way to do this kind of encryption and decryption in java ? Please suggest. Thanks in advance</p>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1566743191,"post_id":57646281,"comment_id":101744676,"body_markdown":"Which jdk version are you using? Have added the javafx modules in case you&#39;re using jdk 11+?","body":"Which jdk version are you using? Have added the javafx modules in case you&#39;re using jdk 11+?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1566756242,"post_id":57646281,"comment_id":101747583,"body_markdown":"Which _Eclipse_ version are you using? What platform are you on? Windows? Linux? Mac? 32-bit or 64-bit?","body":"Which <i>Eclipse</i> version are you using? What platform are you on? Windows? Linux? Mac? 32-bit or 64-bit?"},{"owner":{"account_id":14478562,"reputation":178,"user_id":10458514,"display_name":"Scryper"},"score":0,"creation_date":1566857481,"post_id":57646281,"comment_id":101779763,"body_markdown":"I&#39;m using jdk 12. I have added tthe javafx module from the marketplace, idk if this is the modules you&#39;re talking about. And it&#39;s eclipse 2019-06, the latest if i&#39;m not wrong. I&#39;m on windows 64-bits","body":"I&#39;m using jdk 12. I have added tthe javafx module from the marketplace, idk if this is the modules you&#39;re talking about. And it&#39;s eclipse 2019-06, the latest if i&#39;m not wrong. I&#39;m on windows 64-bits"},{"owner":{"account_id":13519168,"reputation":651,"user_id":9752928,"display_name":"Ahamed Safnaj"},"score":0,"creation_date":1567234928,"post_id":57646281,"comment_id":101911018,"body_markdown":"JavaFX has been removed from jdk11. You can find the solution [here](https://stackoverflow.com/questions/55823133/how-to-use-javafx-in-java12-on-intellij)","body":"JavaFX has been removed from jdk11. You can find the solution <a href=\"https://stackoverflow.com/questions/55823133/how-to-use-javafx-in-java12-on-intellij\">here</a>"},{"owner":{"account_id":14478562,"reputation":178,"user_id":10458514,"display_name":"Scryper"},"score":0,"creation_date":1568146510,"post_id":57646281,"comment_id":102180078,"body_markdown":"Hi, I followed the steps on this [link](https://openjfx.io/openjfx-docs/#install-java). But when I tried to add the jdk as it is said, the eclipse window said that &quot;Target is not a JDK Root. Java executable was not found&quot;. So I wonder what havve I done wrong. And I can&#39;t use another editor because eclipse is imposed at school.","body":"Hi, I followed the steps on this <a href=\"https://openjfx.io/openjfx-docs/#install-java\" rel=\"nofollow noreferrer\">link</a>. But when I tried to add the jdk as it is said, the eclipse window said that &quot;Target is not a JDK Root. Java executable was not found&quot;. So I wonder what havve I done wrong. And I can&#39;t use another editor because eclipse is imposed at school."}],"owner":{"account_id":14478562,"reputation":178,"user_id":10458514,"display_name":"Scryper"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1635793948,"answer_count":0,"score":1,"last_activity_date":1635793835,"creation_date":1566738432,"question_id":57646281,"body_markdown":"I downloaded eclipse on my new computer, all components needed etc but javafx isn&#39;t working. And I don&#39;t understand why because I did the same on my previous computer and it was working fine.\r\n\r\nI already trid twice to uninstall and reinstall eclipse, java, jdk, javafx,...\r\nBut nothing change, same problem.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.canvas.Canvas;\r\n    import javafx.scene.canvas.GraphicsContext;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ToolBar;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.FlowPane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.text.Font;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n\r\n    // eg : for all those imports i have this error : The import javafx cannot be resolved","title":"JavaFX not detected","body":"<p>I downloaded eclipse on my new computer, all components needed etc but javafx isn't working. And I don't understand why because I did the same on my previous computer and it was working fine.</p>\n\n<p>I already trid twice to uninstall and reinstall eclipse, java, jdk, javafx,...\nBut nothing change, same problem.</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ToolBar;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.FlowPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\n\n// eg : for all those imports i have this error : The import javafx cannot be resolved\n</code></pre>\n"},{"tags":["java","android","opengl-es"],"answers":[{"tags":[],"owner":{"account_id":23208770,"reputation":36,"user_id":17302578,"display_name":"EleventhPrime"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635793825,"creation_date":1635793825,"answer_id":69801684,"question_id":69727423,"body_markdown":"Not found any issue or error in the aforementioned sources that you provided, and it is completely workable when connects with a GLSurfaceView.\r\n\r\nI think the issue is on configuring **GLSurfaceView** where you must explicitly set the ***EGLContextClientVersion*** of OpenGL-ES context before ***setRenderer***;\r\nwithout eglContext program will not be performed any GL operations.\r\n\r\n    GLSurfaceView view = findViewById(R.id.glview);\r\n    view.setEGLContextClientVersion(2);\r\n    view.setRenderer(new OpenGLRenderer());\r\n\r\n","title":"OpenGL ES on android crashing when calling glCreateShader()","body":"<p>Not found any issue or error in the aforementioned sources that you provided, and it is completely workable when connects with a GLSurfaceView.</p>\n<p>I think the issue is on configuring <strong>GLSurfaceView</strong> where you must explicitly set the <em><strong>EGLContextClientVersion</strong></em> of OpenGL-ES context before <em><strong>setRenderer</strong></em>;\nwithout eglContext program will not be performed any GL operations.</p>\n<pre><code>GLSurfaceView view = findViewById(R.id.glview);\nview.setEGLContextClientVersion(2);\nview.setRenderer(new OpenGLRenderer());\n</code></pre>\n"}],"owner":{"account_id":17056735,"reputation":55,"user_id":12341075,"display_name":"YourRentIsDue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69801684,"answer_count":1,"score":1,"last_activity_date":1635793825,"creation_date":1635268762,"question_id":69727423,"body_markdown":"I&#39;ve basically followed [the guide on the android docs](https://developer.android.com/training/graphics/opengl/draw) religiously, other than a couple variable names, and that I&#39;m rendering in a fragment. I&#39;ve been spending a bit off time commenting out lines and I managed to figure out that \r\n\r\n```\r\n public static int loadShader(int type, String shaderCode) {\r\n        int shader = GLES20.glCreateShader(type);\r\n        //System.out.println(shader + &quot; ass&quot;);\r\n\r\n        //GLES20.glShaderSource(shader, shaderCode);\r\n        //GLES20.glCompileShader(shader);\r\n\r\n        //return shader;\r\n        return 0;\r\n    }\r\n```\r\nthe glCreateShader method crashes the app. It doesn&#39;t return anything, it just crashes. The type inputs are always either ```GLES20.GL_VERTEX_SHADER``` or ```GLES20.GL_FRAGMENT_SHADER``` it crashes with both. \r\n\r\nThe rest of my renderer class looks like this\r\n```\r\npublic class OpenGLRenderer implements GLSurfaceView.Renderer {\r\n\r\n    private Triangle trangle;\r\n\r\n    @Override\r\n    public void onSurfaceCreated(GL10 gl10, EGLConfig eglConfig) {\r\n        GLES20.glClearColor(0.0f, 1.0f, 0.0f, 1.0f);\r\n        trangle = new Triangle();\r\n    }\r\n\r\n    @Override\r\n    public void onSurfaceChanged(GL10 gl10, int i, int i1) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onDrawFrame(GL10 gl10) {\r\n        GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT);\r\n        //trangle.draw();\r\n    }\r\n\r\n\r\n    public static int loadShader(int type, String shaderCode) {\r\n        int shader = GLES20.glCreateShader(type);\r\n        //System.out.println(shader + &quot; ass&quot;);\r\n\r\n        //GLES20.glShaderSource(shader, shaderCode);\r\n        //GLES20.glCompileShader(shader);\r\n\r\n        //return shader;\r\n        return 0;\r\n    }\r\n```\r\nAnd here&#39;s my triangle class: \r\n```\r\npublic class Triangle {\r\n    private FloatBuffer vertexBuffer;\r\n    private final int shaderProgram;\r\n\r\n    private final String vertexShaderCode =\r\n            &quot;attribute vec4 vPosition;&quot; +\r\n            &quot;void main() {&quot; +\r\n            &quot;   gl_Position = vPosition;&quot; +\r\n            &quot;}&quot;;\r\n    private final String fragmentShaderCode =\r\n            &quot;precision mediump float;&quot; +\r\n            &quot;uniform vec4 vColor;&quot; +\r\n            &quot;void main() {&quot; +\r\n            &quot;   gl_FragColor = vColor;&quot; +\r\n            &quot;}&quot;;\r\n\r\n    static float[] triangleCoords = {\r\n            0.0f, 0.5f, 0.0f,\r\n            -0.5f,-0.3f, 0.0f,\r\n            0.5f, -0.3f, 0.0f\r\n    };\r\n\r\n    static final int coordsInVertex = 3, vertexCount = triangleCoords.length / coordsInVertex, vertexStride = coordsInVertex * 4;\r\n\r\n    private int positionHandle, colorHandle;\r\n\r\n    float color[] = {1f, 0f, 0f, 1f};\r\n\r\n    public Triangle () {\r\n        ByteBuffer byteBuffer = ByteBuffer.allocateDirect(triangleCoords.length*4);\r\n        byteBuffer.order(ByteOrder.nativeOrder());\r\n\r\n        vertexBuffer = byteBuffer.asFloatBuffer();\r\n        vertexBuffer.put (triangleCoords);\r\n        vertexBuffer.position(0);\r\n\r\n        int vertexShader = OpenGLRenderer.loadShader(GLES20.GL_VERTEX_SHADER, vertexShaderCode);\r\n        int fragmentShader = OpenGLRenderer.loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentShaderCode);\r\n\r\n        shaderProgram = GLES20.glCreateProgram();\r\n        GLES20.glAttachShader(shaderProgram, vertexShader);\r\n        GLES20.glAttachShader(shaderProgram, fragmentShader);\r\n        GLES20.glLinkProgram(shaderProgram);\r\n    }\r\n\r\n    public void draw () {\r\n        GLES20.glUseProgram(shaderProgram);\r\n        positionHandle = GLES20.glGetAttribLocation(shaderProgram, &quot;vPosition&quot;);\r\n        GLES20.glEnableVertexAttribArray(positionHandle);\r\n        GLES20.glVertexAttribPointer(positionHandle, coordsInVertex, GLES20.GL_FLOAT, false, vertexStride, vertexBuffer);\r\n        colorHandle = GLES20.glGetUniformLocation(shaderProgram, &quot;vColor&quot;);\r\n        GLES20.glUniform4fv(colorHandle, 1, color, 0);\r\n        GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, vertexCount);\r\n        GLES20.glDisableVertexAttribArray(positionHandle);\r\n    }\r\n}\r\n```\r\n\r\nCould someone shed some light?","title":"OpenGL ES on android crashing when calling glCreateShader()","body":"<p>I've basically followed <a href=\"https://developer.android.com/training/graphics/opengl/draw\" rel=\"nofollow noreferrer\">the guide on the android docs</a> religiously, other than a couple variable names, and that I'm rendering in a fragment. I've been spending a bit off time commenting out lines and I managed to figure out that</p>\n<pre><code> public static int loadShader(int type, String shaderCode) {\n        int shader = GLES20.glCreateShader(type);\n        //System.out.println(shader + &quot; ass&quot;);\n\n        //GLES20.glShaderSource(shader, shaderCode);\n        //GLES20.glCompileShader(shader);\n\n        //return shader;\n        return 0;\n    }\n</code></pre>\n<p>the glCreateShader method crashes the app. It doesn't return anything, it just crashes. The type inputs are always either <code>GLES20.GL_VERTEX_SHADER</code> or <code>GLES20.GL_FRAGMENT_SHADER</code> it crashes with both.</p>\n<p>The rest of my renderer class looks like this</p>\n<pre><code>public class OpenGLRenderer implements GLSurfaceView.Renderer {\n\n    private Triangle trangle;\n\n    @Override\n    public void onSurfaceCreated(GL10 gl10, EGLConfig eglConfig) {\n        GLES20.glClearColor(0.0f, 1.0f, 0.0f, 1.0f);\n        trangle = new Triangle();\n    }\n\n    @Override\n    public void onSurfaceChanged(GL10 gl10, int i, int i1) {\n\n    }\n\n    @Override\n    public void onDrawFrame(GL10 gl10) {\n        GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT);\n        //trangle.draw();\n    }\n\n\n    public static int loadShader(int type, String shaderCode) {\n        int shader = GLES20.glCreateShader(type);\n        //System.out.println(shader + &quot; ass&quot;);\n\n        //GLES20.glShaderSource(shader, shaderCode);\n        //GLES20.glCompileShader(shader);\n\n        //return shader;\n        return 0;\n    }\n</code></pre>\n<p>And here's my triangle class:</p>\n<pre><code>public class Triangle {\n    private FloatBuffer vertexBuffer;\n    private final int shaderProgram;\n\n    private final String vertexShaderCode =\n            &quot;attribute vec4 vPosition;&quot; +\n            &quot;void main() {&quot; +\n            &quot;   gl_Position = vPosition;&quot; +\n            &quot;}&quot;;\n    private final String fragmentShaderCode =\n            &quot;precision mediump float;&quot; +\n            &quot;uniform vec4 vColor;&quot; +\n            &quot;void main() {&quot; +\n            &quot;   gl_FragColor = vColor;&quot; +\n            &quot;}&quot;;\n\n    static float[] triangleCoords = {\n            0.0f, 0.5f, 0.0f,\n            -0.5f,-0.3f, 0.0f,\n            0.5f, -0.3f, 0.0f\n    };\n\n    static final int coordsInVertex = 3, vertexCount = triangleCoords.length / coordsInVertex, vertexStride = coordsInVertex * 4;\n\n    private int positionHandle, colorHandle;\n\n    float color[] = {1f, 0f, 0f, 1f};\n\n    public Triangle () {\n        ByteBuffer byteBuffer = ByteBuffer.allocateDirect(triangleCoords.length*4);\n        byteBuffer.order(ByteOrder.nativeOrder());\n\n        vertexBuffer = byteBuffer.asFloatBuffer();\n        vertexBuffer.put (triangleCoords);\n        vertexBuffer.position(0);\n\n        int vertexShader = OpenGLRenderer.loadShader(GLES20.GL_VERTEX_SHADER, vertexShaderCode);\n        int fragmentShader = OpenGLRenderer.loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentShaderCode);\n\n        shaderProgram = GLES20.glCreateProgram();\n        GLES20.glAttachShader(shaderProgram, vertexShader);\n        GLES20.glAttachShader(shaderProgram, fragmentShader);\n        GLES20.glLinkProgram(shaderProgram);\n    }\n\n    public void draw () {\n        GLES20.glUseProgram(shaderProgram);\n        positionHandle = GLES20.glGetAttribLocation(shaderProgram, &quot;vPosition&quot;);\n        GLES20.glEnableVertexAttribArray(positionHandle);\n        GLES20.glVertexAttribPointer(positionHandle, coordsInVertex, GLES20.GL_FLOAT, false, vertexStride, vertexBuffer);\n        colorHandle = GLES20.glGetUniformLocation(shaderProgram, &quot;vColor&quot;);\n        GLES20.glUniform4fv(colorHandle, 1, color, 0);\n        GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, vertexCount);\n        GLES20.glDisableVertexAttribArray(positionHandle);\n    }\n}\n</code></pre>\n<p>Could someone shed some light?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4394,"reputation":47462,"user_id":6568,"display_name":"Dave Costa"},"score":2,"creation_date":1635793017,"post_id":69801436,"comment_id":123383168,"body_markdown":"&quot;I think the solution should not at all involve strings&quot;.  You are mistaken.  If you want to read in the text entered by the user exactly, you should read it in as a `String`.  If you read it in as an `int`, leading zeroes will simply be ignored.","body":"&quot;I think the solution should not at all involve strings&quot;.  You are mistaken.  If you want to read in the text entered by the user exactly, you should read it in as a <code>String</code>.  If you read it in as an <code>int</code>, leading zeroes will simply be ignored."},{"owner":{"account_id":26521,"reputation":690186,"user_id":69083,"display_name":"Guffa"},"score":1,"creation_date":1635793064,"post_id":69801436,"comment_id":123383178,"body_markdown":"You have to input the data as a string to do that. You are reading the input as an integer, and an integer value doesn&#39;t have any leading zeroes, it&#39;s just the value.","body":"You have to input the data as a string to do that. You are reading the input as an integer, and an integer value doesn&#39;t have any leading zeroes, it&#39;s just the value."},{"owner":{"account_id":12567215,"reputation":579,"user_id":9142729,"display_name":"Daniel Botnik"},"score":1,"creation_date":1635793139,"post_id":69801436,"comment_id":123383204,"body_markdown":"The solution most must strings, if you take a look at Scanner.nextInt(), you can see that its parse a string into an Integer using ```Integer.parseInt```","body":"The solution most must strings, if you take a look at Scanner.nextInt(), you can see that its parse a string into an Integer using <code>Integer.parseInt</code>"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635793549,"creation_date":1635793549,"answer_id":69801630,"question_id":69801436,"body_markdown":"You can make it cleaner by using a `do-while` loop instead of `while(true)`. Note that an integer starting with `0` is an octal number e.g.\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint x = 06;\r\n    \t\tSystem.out.println(x);\r\n    \r\n    \t\t// x = 09; // Compilation error - out of range\r\n    \t}\r\n    }\r\nThus, `06` is a valid integer. For your requirement, you can input to a `String` variable and prompt the user to again if it starts with a zero. If the input does not start with a zero, try parsing it to an `int` and process it if it succeeds; otherwise, loopback e.g.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner key = new Scanner(System.in);\r\n    \t\tString input = &quot;&quot;;\r\n    \t\tint in = 0;\r\n    \t\tboolean valid = true;\r\n    \t\tdo {\r\n    \t\t\tSystem.out.print(&quot;Enter an integer: &quot;);\r\n    \t\t\tinput = key.nextLine();\r\n    \t\t\tif (input.startsWith(&quot;0&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;Invalid input&quot;);\r\n    \t\t\t\tvalid = false;\r\n    \t\t\t} else {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tin = Integer.parseInt(input);\r\n    \t\t\t\t\tSystem.out.println(&quot;You entered &quot; + in);\r\n    \t\t\t\t\t// ... process it\r\n    \t\t\t\t\tvalid = true;\r\n    \t\t\t\t} catch (NumberFormatException e) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Invalid input&quot;);\r\n    \t\t\t\t\tvalid = false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} while (!valid);\r\n    \t}\r\n    }\r\n\r\n**A sample run:**\r\n\r\n    Enter an integer: 09999\r\n    Invalid input\r\n    Enter an integer: xyz\r\n    Invalid input\r\n    Enter an integer: 123\r\n    You entered 123\r\n\r\nAs an aside, never close a `Scanner(System.in)` because it also closes `System.in` and there is no way to open it without rebooting the JVM.\r\n","title":"Repeatedly check whether integer input has leading zeroes","body":"<p>You can make it cleaner by using a <code>do-while</code> loop instead of <code>while(true)</code>. Note that an integer starting with <code>0</code> is an octal number e.g.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int x = 06;\n        System.out.println(x);\n\n        // x = 09; // Compilation error - out of range\n    }\n}\n</code></pre>\n<p>Thus, <code>06</code> is a valid integer. For your requirement, you can input to a <code>String</code> variable and prompt the user to again if it starts with a zero. If the input does not start with a zero, try parsing it to an <code>int</code> and process it if it succeeds; otherwise, loopback e.g.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner key = new Scanner(System.in);\n        String input = &quot;&quot;;\n        int in = 0;\n        boolean valid = true;\n        do {\n            System.out.print(&quot;Enter an integer: &quot;);\n            input = key.nextLine();\n            if (input.startsWith(&quot;0&quot;)) {\n                System.out.println(&quot;Invalid input&quot;);\n                valid = false;\n            } else {\n                try {\n                    in = Integer.parseInt(input);\n                    System.out.println(&quot;You entered &quot; + in);\n                    // ... process it\n                    valid = true;\n                } catch (NumberFormatException e) {\n                    System.out.println(&quot;Invalid input&quot;);\n                    valid = false;\n                }\n            }\n        } while (!valid);\n    }\n}\n</code></pre>\n<p><strong>A sample run:</strong></p>\n<pre><code>Enter an integer: 09999\nInvalid input\nEnter an integer: xyz\nInvalid input\nEnter an integer: 123\nYou entered 123\n</code></pre>\n<p>As an aside, never close a <code>Scanner(System.in)</code> because it also closes <code>System.in</code> and there is no way to open it without rebooting the JVM.</p>\n"}],"owner":{"account_id":22842092,"reputation":79,"user_id":16988911,"display_name":"raxnocafi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635793549,"creation_date":1635792481,"question_id":69801436,"body_markdown":"I need the user to enter an integer input, check whether it starts by 0 and tell the user to enter another integer if that is the case\r\n\r\nI tried parsing the integer input to a string, that works but only once. The string cannot be edited when program loops\r\n\r\nI think the solution should not at all involve strings because i need the program to loop and check over and over until the input is valid (ie has no leading zeroes)\r\n\r\nSplitting each digit of the int into an array does not work also because the ways i found pass by string.\r\n\r\n\r\n        public static void main(String[] args){\r\n\r\n        Scanner key = new Scanner(System.in);    \r\n        int in= 0;\r\n        boolean looper=true;\r\n       \r\n        while (looper == true) {\r\n         System.out.println(&quot;Enter an integer&quot;);\r\n        in = key.nextInt();\r\n        /* check whether in has any leading zeroes, example of \r\n        wrong input: 09999, 0099*/\r\n       \r\n      if (/*in has no leading zeroes*/)\r\n       looper = false;\r\n    }\r\n    \r\n    key.close();\r\n    }\r\n\r\n\r\n  Maybe another answer would be to have a method that creates a brand new string every time the program loops, so maybe like a recursion that automatically creates strings, not sure if that&#39;s even a thing though.\r\n","title":"Repeatedly check whether integer input has leading zeroes","body":"<p>I need the user to enter an integer input, check whether it starts by 0 and tell the user to enter another integer if that is the case</p>\n<p>I tried parsing the integer input to a string, that works but only once. The string cannot be edited when program loops</p>\n<p>I think the solution should not at all involve strings because i need the program to loop and check over and over until the input is valid (ie has no leading zeroes)</p>\n<p>Splitting each digit of the int into an array does not work also because the ways i found pass by string.</p>\n<pre><code>    public static void main(String[] args){\n\n    Scanner key = new Scanner(System.in);    \n    int in= 0;\n    boolean looper=true;\n   \n    while (looper == true) {\n     System.out.println(&quot;Enter an integer&quot;);\n    in = key.nextInt();\n    /* check whether in has any leading zeroes, example of \n    wrong input: 09999, 0099*/\n   \n  if (/*in has no leading zeroes*/)\n   looper = false;\n}\n\nkey.close();\n}\n</code></pre>\n<p>Maybe another answer would be to have a method that creates a brand new string every time the program loops, so maybe like a recursion that automatically creates strings, not sure if that's even a thing though.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15163229,"reputation":1,"user_id":10941590,"display_name":"Hafizur Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635653175,"creation_date":1635653175,"answer_id":69783865,"question_id":69783532,"body_markdown":"Whichever side has `mappedBy` is owning side. \r\n\r\n&gt; This means something like: &quot;modifications on this side of the relation\r\n&gt; are already Mapped By the other side of the relation\r\n&gt; , so no need to track it here separately in an extra\r\n&gt; table.&quot;\r\n\r\nCheck this url for more information https://stackoverflow.com/questions/2749689/what-is-the-owning-side-in-an-orm-mapping","title":"update @OneToMany relationship (Spring Boot, Spring Data)","body":"<p>Whichever side has <code>mappedBy</code> is owning side.</p>\n<blockquote>\n<p>This means something like: &quot;modifications on this side of the relation\nare already Mapped By the other side of the relation\n, so no need to track it here separately in an extra\ntable.&quot;</p>\n</blockquote>\n<p>Check this url for more information <a href=\"https://stackoverflow.com/questions/2749689/what-is-the-owning-side-in-an-orm-mapping\">What is the &quot;owning side&quot; in an ORM mapping?</a></p>\n"},{"tags":[],"owner":{"account_id":8838669,"reputation":776,"user_id":6601800,"display_name":"Linh Vu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635759621,"creation_date":1635759621,"answer_id":69795064,"question_id":69783532,"body_markdown":"For the one-many relationship in a **transaction**, once you get the parent (`Doctor`) and loop over its children (`DoctorSpecialties`) [In other words, once you load entire the parent and its children into Persistent state], you won&#39;t be able to delete your `DoctorSpecialties` directly by its `repository`.\r\n\r\n---\r\nYou could try something like the below example to see it:\r\n```java\r\n@Transactional\r\npublic void removeLine(Long doctorId, Long specId) {\r\n    Doctor doctor = this.doctorRepository  // (1)\r\n        .findById(doctorId)\r\n        .orElseThrow(IllegalArgumentException::new);\r\n    this.doctorSpecialtiesRepository.deleteById(specId); // (2)\r\n}\r\n```\r\nAt (1), we load `doctor` into the persistent state. So here, if `fetch = FetchType.EAGER`, this means that it will load `doctor` and its all `doctorSpecialties` into the persistent state and this cause (2) won&#39;t give you any effect.\r\n\r\nOtherwise, if `fetch = FetchType.LAZY`, it only load `doctor` into the persistent state, and at (2) it will be deleted successfully.\r\n\r\nYour case was similar, although `fetch = FetchType.LAZY`, but you looped over the children by using `forEach` and that loads `doctorSpecialties` into the persistent state. That&#39;s why you cannot delete them.\r\n\r\n---\r\nSuggestion: Using `orphanRemoval = true` in your parent entity\r\n```java\r\n@OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;DoctorSpecialties&gt; dss;\r\n```\r\nand just simply clear its children in your method (In @Transactional method)\r\n```java\r\ndoctor.getDoctorSpecialties().clear();\r\n```","title":"update @OneToMany relationship (Spring Boot, Spring Data)","body":"<p>For the one-many relationship in a <strong>transaction</strong>, once you get the parent (<code>Doctor</code>) and loop over its children (<code>DoctorSpecialties</code>) [In other words, once you load entire the parent and its children into Persistent state], you won't be able to delete your <code>DoctorSpecialties</code> directly by its <code>repository</code>.</p>\n<hr />\n<p>You could try something like the below example to see it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void removeLine(Long doctorId, Long specId) {\n    Doctor doctor = this.doctorRepository  // (1)\n        .findById(doctorId)\n        .orElseThrow(IllegalArgumentException::new);\n    this.doctorSpecialtiesRepository.deleteById(specId); // (2)\n}\n</code></pre>\n<p>At (1), we load <code>doctor</code> into the persistent state. So here, if <code>fetch = FetchType.EAGER</code>, this means that it will load <code>doctor</code> and its all <code>doctorSpecialties</code> into the persistent state and this cause (2) won't give you any effect.</p>\n<p>Otherwise, if <code>fetch = FetchType.LAZY</code>, it only load <code>doctor</code> into the persistent state, and at (2) it will be deleted successfully.</p>\n<p>Your case was similar, although <code>fetch = FetchType.LAZY</code>, but you looped over the children by using <code>forEach</code> and that loads <code>doctorSpecialties</code> into the persistent state. That's why you cannot delete them.</p>\n<hr />\n<p>Suggestion: Using <code>orphanRemoval = true</code> in your parent entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;DoctorSpecialties&gt; dss;\n</code></pre>\n<p>and just simply clear its children in your method (In @Transactional method)</p>\n<pre class=\"lang-java prettyprint-override\"><code>doctor.getDoctorSpecialties().clear();\n</code></pre>\n"}],"owner":{"account_id":13769928,"reputation":107,"user_id":15985432,"display_name":"DarkVaderM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6765,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69795064,"answer_count":2,"score":3,"last_activity_date":1635793237,"creation_date":1635647096,"question_id":69783532,"body_markdown":"I have a **OneToMany** relationship (two tables bi-directional). \r\nWhen I save the doctor&#39;s specialties, it does work, but when I remove any specialty and update the doctor, it doesn&#39;t. \r\n\r\n\r\n\r\n**Doctor**\r\n\r\n    @Entity\r\n\t@Table(name = &quot;doctors&quot;)\r\n\tpublic class Doctor implements Serializable {\r\n\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tprivate Integer doctorId;\r\n\r\n\t\t@Column(length = 20)\r\n\t\tprivate String doctorName;\r\n\r\n\t\t@Column(length = 9)\r\n\t\tprivate String doctorPhoneNo;\r\n\r\n\t\t@Column(length = 30)\r\n\t\tprivate String doctorEmailAddress;\r\n\r\n\t\tprivate String doctorProfileImage;\r\n\r\n\t\t@Enumerated(EnumType.STRING)\r\n\t\tprivate Status status;\r\n\r\n\t\t@Column(length = 6)\r\n\t\tprivate String doctorCmp;\r\n\r\n\t\t@OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL)\r\n\t//\t@JsonIgnore\r\n\t\tprivate Set&lt;DoctorSpecialties&gt; doctorSpecialties;\r\n\r\n\t\tpublic Doctor() {\r\n\t\t\tthis.doctorSpecialties = new HashSet&lt;&gt;();\r\n\t\t}\r\n\r\n\t\tpublic Doctor(Integer id){\r\n\t\t\tthis();\r\n\t\t\tthis.doctorId = id;\r\n\t\t}\r\n\r\n        // getters y setters\r\n    }\r\n\r\n\r\n**Specialty**\r\n\r\n\r\n    @Entity\r\n\t@Table(name = &quot;specialties&quot;)\r\n\tpublic class Specialty implements Serializable {\r\n\t\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tprivate Integer specialtyId;\r\n\t\r\n\t\tprivate String specialtyName;\r\n\t\r\n\t\t@OneToMany(mappedBy = &quot;specialty&quot;)\r\n\t\t@JsonIgnore\r\n\t\tprivate Set&lt;DoctorSpecialties&gt; doctorSpecialties;\r\n\t\r\n\t\tpublic Specialty() {\r\n\t\t}\r\n\t\r\n\t\tpublic Specialty(Integer id) {\r\n\t\t\tthis.specialtyId = id;\r\n\t\t}\r\n \r\n        // getters and setters\r\n      }\r\n\r\n\r\n**DoctorSpecialties**\r\n\r\n    @Entity\r\n    @Table(name = &quot;doctor_specialties&quot;)\r\n    public class DoctorSpecialties implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;doctor_id&quot;)\r\n        private Doctor doctor;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;specialty_id&quot;)\r\n        private Specialty specialty;\r\n    \r\n        @OneToMany\r\n        @JoinColumn(name = &quot;doctor_specialties_id&quot;)\r\n        private Set&lt;Appointment&gt; appointments;\r\n    \r\n        @OneToMany\r\n        @JoinColumn(name = &quot;doctor_specialties_id&quot;)\r\n        private Set&lt;DoctorSchedule&gt; schedules;\r\n    \r\n        public DoctorSpecialties(){\r\n    \r\n        }\r\n    \r\n        public DoctorSpecialties(Specialty specialty, Doctor doctor){\r\n            this.specialty = specialty;\r\n            this.doctor = doctor;\r\n        }\r\n          getters / setters\r\n     }\r\n\r\n\r\n**Controller**\r\n\r\n    @PostMapping(value = &quot;/saveSpecialties/{id}&quot;)\r\n    public String saveDoctorSpecialties(@RequestParam(required = false) String[] specialtiesId,\r\n                                        @PathVariable Integer id, RedirectAttributes message) {\r\n\r\n        if (id != null &amp;&amp; id &gt; 0) {\r\n            Doctor doctor = doctorService.findOne(id);\r\n\r\n            if (doctor != null) {\r\n\r\n                // It does not work\r\n                doctor.getDoctorSpecialties().forEach(ds -&gt; doctorSpecialtiesService.delete(ds.getId()));\r\n\r\n                doctor.getDoctorSpecialties().clear();\r\n\r\n                if (specialtiesId != null) {\r\n                    for (String specialtyId : specialtiesId) {\r\n                        DoctorSpecialties ds = new DoctorSpecialties();\r\n                        ds.setSpecialty(new Specialty(Integer.parseInt(specialtyId)));\r\n                           \r\n                        ds.setDoctor(doctor);\r\n\r\n                        doctor.getDoctorSpecialties()\r\n                                .add(ds);\r\n                    }\r\n                    \r\n                }\r\n                doctorService.update(doctor);\r\n                message.addFlashAttribute(&quot;success&quot;, &quot;Specialties successfully saved.&quot;);\r\n                return &quot;redirect:/doctors/profile/{id}/specialties&quot;;\r\n            }\r\n        }\r\n        // specialtiesId = new String[]{};\r\n        message.addFlashAttribute(&quot;error&quot;, &quot;Doctor doesn&#39;t exists&quot;);\r\n        return &quot;redirect:/doctors/list&quot;;\r\n    }\r\n\r\n\r\nconsole:\r\n\r\n\r\n&gt; 2021-10-30 21:19:13.330 DEBUG 44504 --- [nio-8080-exec-7] org.hibernate.SQL                        : select doctor0_.doctor_id as doctor_i1_3_0_, doctor0_.doctor_cmp as doctor_c2_3_0_, doctor0_.doctor_email_address as doctor_e3_3_0_, doctor0_.doctor_name as doctor_n4_3_0_, doctor0_.doctor_phone_no as doctor_p5_3_0_, doctor0_.doctor_profile_image as doctor_p6_3_0_, doctor0_.status as status7_3_0_ from doctors doctor0_ where doctor0_.doctor_id=?\r\n2021-10-30 21:19:13.339 DEBUG 44504 --- [nio-8080-exec-7] org.hibernate.SQL                        : select doctorspec0_.doctor_id as doctor_i2_2_0_, doctorspec0_.id as id1_2_0_, doctorspec0_.id as id1_2_1_, doctorspec0_.doctor_id as doctor_i2_2_1_, doctorspec0_.specialty_id as specialt3_2_1_ from doctor_specialties doctorspec0_ where doctorspec0_.doctor_id=?\r\n2021-10-30 21:19:13.401 DEBUG 44504 --- [nio-8080-exec-8] org.hibernate.SQL                        : select doctor0_.doctor_id as doctor_i1_3_0_, doctor0_.doctor_cmp as doctor_c2_3_0_, doctor0_.doctor_email_address as doctor_e3_3_0_, doctor0_.doctor_name as doctor_n4_3_0_, doctor0_.doctor_phone_no as doctor_p5_3_0_, doctor0_.doctor_profile_image as doctor_p6_3_0_, doctor0_.status as status7_3_0_ from doctors doctor0_ where doctor0_.doctor_id=?\r\n2021-10-30 21:19:13.404 DEBUG 44504 --- [nio-8080-exec-8] org.hibernate.SQL                        : select specialty0_.specialty_id as specialt1_7_0_, doctorspec1_.id as id1_2_1_, doctor2_.doctor_id as doctor_i1_3_2_, specialty0_.specialty_name as specialt2_7_0_, doctorspec1_.doctor_id as doctor_i2_2_1_, doctorspec1_.specialty_id as specialt3_2_1_, doctorspec1_.specialty_id as specialt3_2_0__, doctorspec1_.id as id1_2_0__, doctor2_.doctor_cmp as doctor_c2_3_2_, doctor2_.doctor_email_address as doctor_e3_3_2_, doctor2_.doctor_name as doctor_n4_3_2_, doctor2_.doctor_phone_no as doctor_p5_3_2_, doctor2_.doctor_profile_image as doctor_p6_3_2_, doctor2_.status as status7_3_2_ from specialties specialty0_ inner join doctor_specialties doctorspec1_ on specialty0_.specialty_id=doctorspec1_.specialty_id inner join doctors doctor2_ on doctorspec1_.doctor_id=doctor2_.doctor_id where doctor2_.doctor_id=?\r\n2021-10-30 21:19:13.565 DEBUG 44504 --- [nio-8080-exec-4] org.hibernate.SQL                        : select specialty0_.specialty_id as specialt1_7_0_, doctorspec1_.id as id1_2_1_, doctor2_.doctor_id as doctor_i1_3_2_, specialty0_.specialty_name as specialt2_7_0_, doctorspec1_.doctor_id as doctor_i2_2_1_, doctorspec1_.specialty_id as specialt3_2_1_, doctorspec1_.specialty_id as specialt3_2_0__, doctorspec1_.id as id1_2_0__, doctor2_.doctor_cmp as doctor_c2_3_2_, doctor2_.doctor_email_address as doctor_e3_3_2_, doctor2_.doctor_name as doctor_n4_3_2_, doctor2_.doctor_phone_no as doctor_p5_3_2_, doctor2_.doctor_profile_image as doctor_p6_3_2_, doctor2_.status as status7_3_2_ from specialties specialty0_ inner join doctor_specialties doctorspec1_ on specialty0_.specialty_id=doctorspec1_.specialty_id inner join doctors doctor2_ on doctorspec1_.doctor_id=doctor2_.doctor_id where doctor2_.doctor_id=?\r\n\r\n\r\nThere is no delete statement... \r\n\r\n**------------------------\r\nEDIT 1\r\n------------------------**\r\n\r\n    Doctor find = doctorRepository.findById(1).get();\r\n\t\t\r\n\tDoctorSpecialties ds1 = new DoctorSpecialties();\r\n\tds1.setSpecialty(specialtyRepository.findById(1).get());\r\n\tds1.setDoctor(find);\r\n\t\t\r\n\tDoctorSpecialties ds2 = new DoctorSpecialties();\r\n\tds2.setSpecialty(specialtyRepository.findById(2).get());\r\n\tds2.setDoctor(find);\r\n\t\t\r\n\tfind.getDoctorSpecialties().add(ds1);\r\n\tfind.getDoctorSpecialties().add(ds2);\r\n\r\n\tdoctorRepository.save(find);\r\n\r\n\r\nI have done some tests and I can not understand completely. I did and it only saves once when actually I am adding two objects. \r\n\r\n    insert into doctor_specialties (id, doctor_id, specialty_id) values (null, ?, ?)\r\n\r\n\r\n**------------------------\r\nEDIT 2\r\n------------------------**\r\n\r\n**DoctorSpecialties**  (Modify the constructor)\r\n\r\n    @Entity\r\n    @Table(name = &quot;doctor_specialties&quot;)\r\n    public class DoctorSpecialties implements Serializable {\r\n    \r\n        public DoctorSpecialties(Integer specialtyId, Doctor doctor) {\r\n            this.specialty = new Specialty(specialtyId);\r\n            this.doctor = doctor;\r\n        }\r\n\r\n     }\r\n\r\n**Controller**\r\n\r\n    @PostMapping(value = &quot;/saveSpecialties/{id}&quot;)\r\n    public String saveDoctorSpecialties(@RequestParam(required = false) String[] specialtiesId,\r\n                                        @PathVariable Integer id, RedirectAttributes message) {\r\n        if (id != null &amp;&amp; id &gt; 0) {\r\n\r\n            doctorService.saveDelete(id);\r\n\r\n            Doctor doctor = doctorService.findOne(id);\r\n            if (specialtiesId != null &amp;&amp; specialtiesId.length &gt; 0) {\r\n                for(String idSpecialty : specialtiesId){\r\n                    doctorSpecialtiesService.save(new DoctorSpecialties(Integer.parseInt(idSpecialty), doctor));\r\n                }\r\n            }\r\n            message.addFlashAttribute(&quot;success&quot;, &quot;Specialties successfully saved.&quot;);\r\n            return &quot;redirect:/doctors/profile/{id}/specialties&quot;;\r\n        }\r\n        message.addFlashAttribute(&quot;error&quot;, &quot;Doctor doesn&#39;t exists&quot;);\r\n        return &quot;redirect:/doctors/list&quot;;\r\n    }\r\n\r\n**Service**\r\n\r\n    @Override\r\n\t@Transactional\r\n\tpublic void saveDelete(Integer doctorId) {\r\n\t\tDoctor doctor = this.doctorRepository\r\n\t\t\t\t.findById(doctorId).get();\r\n\t\tdoctor.getDoctorSpecialties().clear();\r\n\t}\r\n\r\nConsole:\r\n\r\n&gt; select doctor0_.doctor_id as doctor_i1_3_0_, doctor0_.doctor_cmp as doctor_c2_3_0_, doctor0_.doctor_email_address as doctor_e3_3_0_, doctor0_.doctor_name as doctor_n4_3_0_, doctor0_.doctor_phone_no as doctor_p5_3_0_, doctor0_.doctor_profile_image as doctor_p6_3_0_, doctor0_.status as status7_3_0_ from doctors doctor0_ where doctor0_.doctor_id=?\r\nselect doctorspec0_.doctor_id as doctor_i2_2_0_, doctorspec0_.id as id1_2_0_, doctorspec0_.id as id1_2_1_, doctorspec0_.doctor_id as doctor_i2_2_1_, doctorspec0_.specialty_id as specialt3_2_1_ from doctor_specialties doctorspec0_ where doctorspec0_.doctor_id=?\r\n&gt; \r\n&gt; update appointments set doctor_specialties_id=null where\r\n&gt; doctor_specialties_id=?\r\n&gt;\r\n&gt; update doctor_schedules set\r\n&gt; doctor_specialties_id=null where doctor_specialties_id=?\r\n&gt;\r\n&gt; delete from doctor_specialties where id=?","title":"update @OneToMany relationship (Spring Boot, Spring Data)","body":"<p>I have a <strong>OneToMany</strong> relationship (two tables bi-directional).\nWhen I save the doctor's specialties, it does work, but when I remove any specialty and update the doctor, it doesn't.</p>\n<p><strong>Doctor</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;doctors&quot;)\npublic class Doctor implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer doctorId;\n\n    @Column(length = 20)\n    private String doctorName;\n\n    @Column(length = 9)\n    private String doctorPhoneNo;\n\n    @Column(length = 30)\n    private String doctorEmailAddress;\n\n    private String doctorProfileImage;\n\n    @Enumerated(EnumType.STRING)\n    private Status status;\n\n    @Column(length = 6)\n    private String doctorCmp;\n\n    @OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL)\n//  @JsonIgnore\n    private Set&lt;DoctorSpecialties&gt; doctorSpecialties;\n\n    public Doctor() {\n        this.doctorSpecialties = new HashSet&lt;&gt;();\n    }\n\n    public Doctor(Integer id){\n        this();\n        this.doctorId = id;\n    }\n\n    // getters y setters\n}\n</code></pre>\n<p><strong>Specialty</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;specialties&quot;)\npublic class Specialty implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer specialtyId;\n\n    private String specialtyName;\n\n    @OneToMany(mappedBy = &quot;specialty&quot;)\n    @JsonIgnore\n    private Set&lt;DoctorSpecialties&gt; doctorSpecialties;\n\n    public Specialty() {\n    }\n\n    public Specialty(Integer id) {\n        this.specialtyId = id;\n    }\n\n    // getters and setters\n  }\n</code></pre>\n<p><strong>DoctorSpecialties</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;doctor_specialties&quot;)\npublic class DoctorSpecialties implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;doctor_id&quot;)\n    private Doctor doctor;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;specialty_id&quot;)\n    private Specialty specialty;\n\n    @OneToMany\n    @JoinColumn(name = &quot;doctor_specialties_id&quot;)\n    private Set&lt;Appointment&gt; appointments;\n\n    @OneToMany\n    @JoinColumn(name = &quot;doctor_specialties_id&quot;)\n    private Set&lt;DoctorSchedule&gt; schedules;\n\n    public DoctorSpecialties(){\n\n    }\n\n    public DoctorSpecialties(Specialty specialty, Doctor doctor){\n        this.specialty = specialty;\n        this.doctor = doctor;\n    }\n      getters / setters\n }\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(value = &quot;/saveSpecialties/{id}&quot;)\npublic String saveDoctorSpecialties(@RequestParam(required = false) String[] specialtiesId,\n                                    @PathVariable Integer id, RedirectAttributes message) {\n\n    if (id != null &amp;&amp; id &gt; 0) {\n        Doctor doctor = doctorService.findOne(id);\n\n        if (doctor != null) {\n\n            // It does not work\n            doctor.getDoctorSpecialties().forEach(ds -&gt; doctorSpecialtiesService.delete(ds.getId()));\n\n            doctor.getDoctorSpecialties().clear();\n\n            if (specialtiesId != null) {\n                for (String specialtyId : specialtiesId) {\n                    DoctorSpecialties ds = new DoctorSpecialties();\n                    ds.setSpecialty(new Specialty(Integer.parseInt(specialtyId)));\n                       \n                    ds.setDoctor(doctor);\n\n                    doctor.getDoctorSpecialties()\n                            .add(ds);\n                }\n                \n            }\n            doctorService.update(doctor);\n            message.addFlashAttribute(&quot;success&quot;, &quot;Specialties successfully saved.&quot;);\n            return &quot;redirect:/doctors/profile/{id}/specialties&quot;;\n        }\n    }\n    // specialtiesId = new String[]{};\n    message.addFlashAttribute(&quot;error&quot;, &quot;Doctor doesn't exists&quot;);\n    return &quot;redirect:/doctors/list&quot;;\n}\n</code></pre>\n<p>console:</p>\n<blockquote>\n<p>2021-10-30 21:19:13.330 DEBUG 44504 --- [nio-8080-exec-7] org.hibernate.SQL                        : select doctor0_.doctor_id as doctor_i1_3_0_, doctor0_.doctor_cmp as doctor_c2_3_0_, doctor0_.doctor_email_address as doctor_e3_3_0_, doctor0_.doctor_name as doctor_n4_3_0_, doctor0_.doctor_phone_no as doctor_p5_3_0_, doctor0_.doctor_profile_image as doctor_p6_3_0_, doctor0_.status as status7_3_0_ from doctors doctor0_ where doctor0_.doctor_id=?\n2021-10-30 21:19:13.339 DEBUG 44504 --- [nio-8080-exec-7] org.hibernate.SQL                        : select doctorspec0_.doctor_id as doctor_i2_2_0_, doctorspec0_.id as id1_2_0_, doctorspec0_.id as id1_2_1_, doctorspec0_.doctor_id as doctor_i2_2_1_, doctorspec0_.specialty_id as specialt3_2_1_ from doctor_specialties doctorspec0_ where doctorspec0_.doctor_id=?\n2021-10-30 21:19:13.401 DEBUG 44504 --- [nio-8080-exec-8] org.hibernate.SQL                        : select doctor0_.doctor_id as doctor_i1_3_0_, doctor0_.doctor_cmp as doctor_c2_3_0_, doctor0_.doctor_email_address as doctor_e3_3_0_, doctor0_.doctor_name as doctor_n4_3_0_, doctor0_.doctor_phone_no as doctor_p5_3_0_, doctor0_.doctor_profile_image as doctor_p6_3_0_, doctor0_.status as status7_3_0_ from doctors doctor0_ where doctor0_.doctor_id=?\n2021-10-30 21:19:13.404 DEBUG 44504 --- [nio-8080-exec-8] org.hibernate.SQL                        : select specialty0_.specialty_id as specialt1_7_0_, doctorspec1_.id as id1_2_1_, doctor2_.doctor_id as doctor_i1_3_2_, specialty0_.specialty_name as specialt2_7_0_, doctorspec1_.doctor_id as doctor_i2_2_1_, doctorspec1_.specialty_id as specialt3_2_1_, doctorspec1_.specialty_id as specialt3_2_0__, doctorspec1_.id as id1_2_0__, doctor2_.doctor_cmp as doctor_c2_3_2_, doctor2_.doctor_email_address as doctor_e3_3_2_, doctor2_.doctor_name as doctor_n4_3_2_, doctor2_.doctor_phone_no as doctor_p5_3_2_, doctor2_.doctor_profile_image as doctor_p6_3_2_, doctor2_.status as status7_3_2_ from specialties specialty0_ inner join doctor_specialties doctorspec1_ on specialty0_.specialty_id=doctorspec1_.specialty_id inner join doctors doctor2_ on doctorspec1_.doctor_id=doctor2_.doctor_id where doctor2_.doctor_id=?\n2021-10-30 21:19:13.565 DEBUG 44504 --- [nio-8080-exec-4] org.hibernate.SQL                        : select specialty0_.specialty_id as specialt1_7_0_, doctorspec1_.id as id1_2_1_, doctor2_.doctor_id as doctor_i1_3_2_, specialty0_.specialty_name as specialt2_7_0_, doctorspec1_.doctor_id as doctor_i2_2_1_, doctorspec1_.specialty_id as specialt3_2_1_, doctorspec1_.specialty_id as specialt3_2_0__, doctorspec1_.id as id1_2_0__, doctor2_.doctor_cmp as doctor_c2_3_2_, doctor2_.doctor_email_address as doctor_e3_3_2_, doctor2_.doctor_name as doctor_n4_3_2_, doctor2_.doctor_phone_no as doctor_p5_3_2_, doctor2_.doctor_profile_image as doctor_p6_3_2_, doctor2_.status as status7_3_2_ from specialties specialty0_ inner join doctor_specialties doctorspec1_ on specialty0_.specialty_id=doctorspec1_.specialty_id inner join doctors doctor2_ on doctorspec1_.doctor_id=doctor2_.doctor_id where doctor2_.doctor_id=?</p>\n</blockquote>\n<p>There is no delete statement...</p>\n<p><strong>------------------------\nEDIT 1\n------------------------</strong></p>\n<pre><code>Doctor find = doctorRepository.findById(1).get();\n    \nDoctorSpecialties ds1 = new DoctorSpecialties();\nds1.setSpecialty(specialtyRepository.findById(1).get());\nds1.setDoctor(find);\n    \nDoctorSpecialties ds2 = new DoctorSpecialties();\nds2.setSpecialty(specialtyRepository.findById(2).get());\nds2.setDoctor(find);\n    \nfind.getDoctorSpecialties().add(ds1);\nfind.getDoctorSpecialties().add(ds2);\n\ndoctorRepository.save(find);\n</code></pre>\n<p>I have done some tests and I can not understand completely. I did and it only saves once when actually I am adding two objects.</p>\n<pre><code>insert into doctor_specialties (id, doctor_id, specialty_id) values (null, ?, ?)\n</code></pre>\n<p><strong>------------------------\nEDIT 2\n------------------------</strong></p>\n<p><strong>DoctorSpecialties</strong>  (Modify the constructor)</p>\n<pre><code>@Entity\n@Table(name = &quot;doctor_specialties&quot;)\npublic class DoctorSpecialties implements Serializable {\n\n    public DoctorSpecialties(Integer specialtyId, Doctor doctor) {\n        this.specialty = new Specialty(specialtyId);\n        this.doctor = doctor;\n    }\n\n }\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(value = &quot;/saveSpecialties/{id}&quot;)\npublic String saveDoctorSpecialties(@RequestParam(required = false) String[] specialtiesId,\n                                    @PathVariable Integer id, RedirectAttributes message) {\n    if (id != null &amp;&amp; id &gt; 0) {\n\n        doctorService.saveDelete(id);\n\n        Doctor doctor = doctorService.findOne(id);\n        if (specialtiesId != null &amp;&amp; specialtiesId.length &gt; 0) {\n            for(String idSpecialty : specialtiesId){\n                doctorSpecialtiesService.save(new DoctorSpecialties(Integer.parseInt(idSpecialty), doctor));\n            }\n        }\n        message.addFlashAttribute(&quot;success&quot;, &quot;Specialties successfully saved.&quot;);\n        return &quot;redirect:/doctors/profile/{id}/specialties&quot;;\n    }\n    message.addFlashAttribute(&quot;error&quot;, &quot;Doctor doesn't exists&quot;);\n    return &quot;redirect:/doctors/list&quot;;\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Override\n@Transactional\npublic void saveDelete(Integer doctorId) {\n    Doctor doctor = this.doctorRepository\n            .findById(doctorId).get();\n    doctor.getDoctorSpecialties().clear();\n}\n</code></pre>\n<p>Console:</p>\n<blockquote>\n<p>select doctor0_.doctor_id as doctor_i1_3_0_, doctor0_.doctor_cmp as doctor_c2_3_0_, doctor0_.doctor_email_address as doctor_e3_3_0_, doctor0_.doctor_name as doctor_n4_3_0_, doctor0_.doctor_phone_no as doctor_p5_3_0_, doctor0_.doctor_profile_image as doctor_p6_3_0_, doctor0_.status as status7_3_0_ from doctors doctor0_ where doctor0_.doctor_id=?\nselect doctorspec0_.doctor_id as doctor_i2_2_0_, doctorspec0_.id as id1_2_0_, doctorspec0_.id as id1_2_1_, doctorspec0_.doctor_id as doctor_i2_2_1_, doctorspec0_.specialty_id as specialt3_2_1_ from doctor_specialties doctorspec0_ where doctorspec0_.doctor_id=?</p>\n<p>update appointments set doctor_specialties_id=null where\ndoctor_specialties_id=?</p>\n<p>update doctor_schedules set\ndoctor_specialties_id=null where doctor_specialties_id=?</p>\n<p>delete from doctor_specialties where id=?</p>\n</blockquote>\n"},{"tags":["java","sorting","comparator"],"answers":[{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635792793,"creation_date":1635792793,"answer_id":69801489,"question_id":69800860,"body_markdown":"You&#39;re missing that `definedOrder.indexOf(e.getSecondName())` returns `-1` when second name is not found in `definedOrder`. \r\n\r\nThat&#39;s why `Ooo`, `Xxx` and `Rrr` appear before `Iii`, `Bbb`, and `Aaa`.\r\n\r\nAnd, as `Ooo`, `Xxx` and `Rrr` all share the same value (`-1`) for the purposes of `comparing`, they are sorted by `thenComparing(Employee::getName))` among themselves.\r\n\r\n---\r\n\r\nTo fix this behavior, you can check if `definedOrder.indexOf(e.getSecondName())` returns `-1` and, if so, return `Integer.MAX_VALUE` instead.","title":"Wrong order during sorting at first by predefined order, and then by natural order using Comparator method thenComparing()","body":"<p>You're missing that <code>definedOrder.indexOf(e.getSecondName())</code> returns <code>-1</code> when second name is not found in <code>definedOrder</code>.</p>\n<p>That's why <code>Ooo</code>, <code>Xxx</code> and <code>Rrr</code> appear before <code>Iii</code>, <code>Bbb</code>, and <code>Aaa</code>.</p>\n<p>And, as <code>Ooo</code>, <code>Xxx</code> and <code>Rrr</code> all share the same value (<code>-1</code>) for the purposes of <code>comparing</code>, they are sorted by <code>thenComparing(Employee::getName))</code> among themselves.</p>\n<hr />\n<p>To fix this behavior, you can check if <code>definedOrder.indexOf(e.getSecondName())</code> returns <code>-1</code> and, if so, return <code>Integer.MAX_VALUE</code> instead.</p>\n"}],"owner":{"account_id":16373024,"reputation":25,"user_id":11825874,"display_name":"IgorB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69801489,"answer_count":1,"score":0,"last_activity_date":1635792962,"creation_date":1635789518,"question_id":69800860,"body_markdown":"\r\nI have a simple object class:\r\n\r\n    public class Employee {\r\n        String name;\r\n        String secondName;\r\n     // Conctructor, getters &amp; setters\r\n    }\r\nList of employees:\r\n\r\n            List&lt;Employee&gt; employees = new ArrayList&lt;&gt;(Arrays.asList(\r\n                    new Employee(&quot;Jake&quot;,  &quot;Bbb&quot;),\r\n                    new Employee(&quot;Ann&quot;,   &quot;Aaa&quot;),\r\n                    new Employee(&quot;Ivy&quot;,   &quot;Bbb&quot;),\r\n                    new Employee(&quot;Ivy&quot;,   &quot;Aaa&quot;),\r\n                    new Employee(&quot;Jake&quot;,  &quot;Aaa&quot;),\r\n                    new Employee(&quot;Tom&quot;,   &quot;Iii&quot;),\r\n                    new Employee(&quot;Neil&quot;,  &quot;Xxx&quot;),\r\n                    new Employee(&quot;Keith&quot;, &quot;Ooo&quot;),\r\n                    new Employee(&quot;Tom&quot;,   &quot;Rrr&quot;)\r\n            ));\r\n\r\nI want to sort them in predefined order of secondNames first and than in natural order of names:\r\n\r\n    List&lt;String&gt; definedOrder = Arrays.asList(&quot;Iii&quot;, &quot;Bbb&quot;, &quot;Aaa&quot;);\r\n\r\nin such way:\r\n\r\n    employees.sort(\r\n            Comparator.comparing((Employee e) -&gt; definedOrder.indexOf(e.getSecondName()))\r\n                    .thenComparing(Employee::getName));\r\n\r\n    for (Employee em : employees){\r\n         System.out.println(em.getSecondName() + &quot; / &quot; + em.getName());\r\n    }\r\n\r\nAnd I experct to recive the predifined objects in the list first, then the rest objects:\r\n\r\n    Iii / Tom\r\n    Bbb / Ivy\r\n    Bbb / Jake\r\n    Aaa / Ann\r\n    Aaa / Ivy\r\n    Aaa / Jake\r\n    Ooo / Keith\r\n    Xxx / Neil\r\n    Rrr / Tom\r\n\r\nBut I receive objects firstly sorted in the natural order by *name*s, (using thenComparing() method), and then from predefined comparison by *secondName*s:\r\n\r\n    Ooo / Keith\r\n    Xxx / Neil\r\n    Rrr / Tom\r\n    Iii / Tom\r\n    Bbb / Ivy\r\n    Bbb / Jake\r\n    Aaa / Ann\r\n    Aaa / Ivy\r\n    Aaa / Jake\r\n\r\n","title":"Wrong order during sorting at first by predefined order, and then by natural order using Comparator method thenComparing()","body":"<p>I have a simple object class:</p>\n<pre><code>public class Employee {\n    String name;\n    String secondName;\n // Conctructor, getters &amp; setters\n}\n</code></pre>\n<p>List of employees:</p>\n<pre><code>        List&lt;Employee&gt; employees = new ArrayList&lt;&gt;(Arrays.asList(\n                new Employee(&quot;Jake&quot;,  &quot;Bbb&quot;),\n                new Employee(&quot;Ann&quot;,   &quot;Aaa&quot;),\n                new Employee(&quot;Ivy&quot;,   &quot;Bbb&quot;),\n                new Employee(&quot;Ivy&quot;,   &quot;Aaa&quot;),\n                new Employee(&quot;Jake&quot;,  &quot;Aaa&quot;),\n                new Employee(&quot;Tom&quot;,   &quot;Iii&quot;),\n                new Employee(&quot;Neil&quot;,  &quot;Xxx&quot;),\n                new Employee(&quot;Keith&quot;, &quot;Ooo&quot;),\n                new Employee(&quot;Tom&quot;,   &quot;Rrr&quot;)\n        ));\n</code></pre>\n<p>I want to sort them in predefined order of secondNames first and than in natural order of names:</p>\n<pre><code>List&lt;String&gt; definedOrder = Arrays.asList(&quot;Iii&quot;, &quot;Bbb&quot;, &quot;Aaa&quot;);\n</code></pre>\n<p>in such way:</p>\n<pre><code>employees.sort(\n        Comparator.comparing((Employee e) -&gt; definedOrder.indexOf(e.getSecondName()))\n                .thenComparing(Employee::getName));\n\nfor (Employee em : employees){\n     System.out.println(em.getSecondName() + &quot; / &quot; + em.getName());\n}\n</code></pre>\n<p>And I experct to recive the predifined objects in the list first, then the rest objects:</p>\n<pre><code>Iii / Tom\nBbb / Ivy\nBbb / Jake\nAaa / Ann\nAaa / Ivy\nAaa / Jake\nOoo / Keith\nXxx / Neil\nRrr / Tom\n</code></pre>\n<p>But I receive objects firstly sorted in the natural order by <em>name</em>s, (using thenComparing() method), and then from predefined comparison by <em>secondName</em>s:</p>\n<pre><code>Ooo / Keith\nXxx / Neil\nRrr / Tom\nIii / Tom\nBbb / Ivy\nBbb / Jake\nAaa / Ann\nAaa / Ivy\nAaa / Jake\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator","spring-boot-configuration"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635792698,"creation_date":1635792296,"answer_id":69801399,"question_id":69801299,"body_markdown":"You need to tell Spring that it must also check for other files in addition to the defaults. You can do this with the following property:\r\n```\r\nspring.config.additional-location = classpath:/business-config.yml\r\n```\r\n\r\nor `spring.config.import` if you are using Spring Boot 2.4 or above:\r\n```\r\nspring.config.import = business-config.yml\r\n```\r\n\r\nRegarding &quot;And why do these files application.yml and bootstrap.yml have such green icons in the form of a spring icon?&quot; the answer is that those are the standard Spring-Boot configuration files that IntelliJ is able to identify as Spring related and thus the icon.","title":"Spring boot app does not see configuration file","body":"<p>You need to tell Spring that it must also check for other files in addition to the defaults. You can do this with the following property:</p>\n<pre><code>spring.config.additional-location = classpath:/business-config.yml\n</code></pre>\n<p>or <code>spring.config.import</code> if you are using Spring Boot 2.4 or above:</p>\n<pre><code>spring.config.import = business-config.yml\n</code></pre>\n<p>Regarding &quot;And why do these files application.yml and bootstrap.yml have such green icons in the form of a spring icon?&quot; the answer is that those are the standard Spring-Boot configuration files that IntelliJ is able to identify as Spring related and thus the icon.</p>\n"}],"owner":{"account_id":910225,"reputation":1152,"user_id":944251,"accept_rate":80,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1299,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635792698,"creation_date":1635791829,"question_id":69801299,"body_markdown":"I&#39;m a newcamer in Spring Boot. And I feel like I have some configuration issue. \r\n\r\nI want to create file `business-config.yml` with data for business validation. But Spring does not see this file, wherever I put it. And there&#39;s no any exception or error. The application successfully reads the files `application.yml` and `bootstrap.yml` and I see all the values from them in the actuator. But there&#39;re no values from any new files `business-config.yml` in the actuator. How can I point it correctly to set it properly?\r\n[![enter image description here][1]][1]\r\n\r\nAnd why do these files `application.yml` and `bootstrap.yml` have such green icons in the form of a spring icon? How can this be setted? Where do you need to specify and register these files?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nI5qs.png","title":"Spring boot app does not see configuration file","body":"<p>I'm a newcamer in Spring Boot. And I feel like I have some configuration issue.</p>\n<p>I want to create file <code>business-config.yml</code> with data for business validation. But Spring does not see this file, wherever I put it. And there's no any exception or error. The application successfully reads the files <code>application.yml</code> and <code>bootstrap.yml</code> and I see all the values from them in the actuator. But there're no values from any new files <code>business-config.yml</code> in the actuator. How can I point it correctly to set it properly?\n<a href=\"https://i.stack.imgur.com/nI5qs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nI5qs.png\" alt=\"enter image description here\" /></a></p>\n<p>And why do these files <code>application.yml</code> and <code>bootstrap.yml</code> have such green icons in the form of a spring icon? How can this be setted? Where do you need to specify and register these files?</p>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":1666939,"reputation":1710,"user_id":1534157,"display_name":"Janesh Kodikara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635789507,"creation_date":1635789507,"answer_id":69800858,"question_id":69800408,"body_markdown":"Your JSON response\r\n\r\n```\r\n{\r\n   &quot;result&quot;:{\r\n      &quot;returnCodel&quot;:&quot;success&quot;,\r\n      &quot;orgKey&quot;:&quot;3b6car5lkckvgx52wf&quot;,\r\n      &quot;message&quot;:&quot;Organiza&#231;&#224;o criada com sucesso!&quot;\r\n   }\r\n}\r\n```\r\n\r\nYou can use [JSON Extractor][1] or [JSON JMSEPath Extractor][2] to extract the `orgKey` from the response.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#JSON_Extractor\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#JSON_JMESPath_Extractor\r\n  [3]: https://i.stack.imgur.com/CaX7J.png\r\n  [4]: https://i.stack.imgur.com/O0bNH.png","title":"JMETER - Fetch data on response data and be a variable on API","body":"<p>Your JSON response</p>\n<pre><code>{\n   &quot;result&quot;:{\n      &quot;returnCodel&quot;:&quot;success&quot;,\n      &quot;orgKey&quot;:&quot;3b6car5lkckvgx52wf&quot;,\n      &quot;message&quot;:&quot;Organiza√ß√†o criada com sucesso!&quot;\n   }\n}\n</code></pre>\n<p>You can use <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#JSON_Extractor\" rel=\"nofollow noreferrer\">JSON Extractor</a> or <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#JSON_JMESPath_Extractor\" rel=\"nofollow noreferrer\">JSON JMSEPath Extractor</a> to extract the <code>orgKey</code> from the response.</p>\n<p><a href=\"https://i.stack.imgur.com/CaX7J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CaX7J.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/O0bNH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O0bNH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635792185,"creation_date":1635792185,"answer_id":69801379,"question_id":69800408,"body_markdown":" 1. Add [JSON Extractor][1] as a child of the request which returns this JSON response\r\n 2. Configure it as follows:\r\n\r\n     - Names of created variables: anything meaningful, i.e. `ORGKEY`\r\n     - JSON Path Expressions: `$..orgKey`\r\n     - Match No.: `1`\r\n \r\n 3. That&#39;s it, you should be able to refer the extracted value as `${ORGKEY}` where required \r\n\r\nMore information:\r\n\r\n - [JsonPath Examples][2]\r\n - [API Testing With JMeter and the JSON Extractor][3]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#JSON_Extractor\r\n  [2]: https://github.com/json-path/JsonPath#path-examples\r\n  [3]: https://www.blazemeter.com/blog/api-testing-with-jmeter-and-the-json-extractor","title":"JMETER - Fetch data on response data and be a variable on API","body":"<ol>\n<li><p>Add <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#JSON_Extractor\" rel=\"nofollow noreferrer\">JSON Extractor</a> as a child of the request which returns this JSON response</p>\n</li>\n<li><p>Configure it as follows:</p>\n<ul>\n<li>Names of created variables: anything meaningful, i.e. <code>ORGKEY</code></li>\n<li>JSON Path Expressions: <code>$..orgKey</code></li>\n<li>Match No.: <code>1</code></li>\n</ul>\n</li>\n<li><p>That's it, you should be able to refer the extracted value as <code>${ORGKEY}</code> where required</p>\n</li>\n</ol>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://github.com/json-path/JsonPath#path-examples\" rel=\"nofollow noreferrer\">JsonPath Examples</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/api-testing-with-jmeter-and-the-json-extractor\" rel=\"nofollow noreferrer\">API Testing With JMeter and the JSON Extractor</a></li>\n</ul>\n"}],"owner":{"account_id":23208159,"reputation":15,"user_id":17302053,"display_name":"Mateus Calisto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69801379,"answer_count":2,"score":0,"last_activity_date":1635792185,"creation_date":1635787101,"question_id":69800408,"body_markdown":"Thanks for helping!\r\nI&#39;m trying to get a ID from a Response Data, but i tryied everything and didn&#39;t work, let me show:\r\n\r\n[I want that ORGKEY as a Variable][1]\r\n\r\n\r\nI run POST, after they give me a ORGKEY\r\nAnd i need the ORGKEY in POST TOKEN\r\n\r\n[POST TOKEN needs a orgKey][2]\r\n\r\nAnd the orgkey are a random numbers and letters! I tryed everything but didn&#39;t work, so i try here.\r\n\r\nThank you for your pacient ;)\r\n\r\n  [1]: https://i.stack.imgur.com/L3pMK.png\r\n  [2]: https://i.stack.imgur.com/9wywR.png","title":"JMETER - Fetch data on response data and be a variable on API","body":"<p>Thanks for helping!\nI'm trying to get a ID from a Response Data, but i tryied everything and didn't work, let me show:</p>\n<p><a href=\"https://i.stack.imgur.com/L3pMK.png\" rel=\"nofollow noreferrer\">I want that ORGKEY as a Variable</a></p>\n<p>I run POST, after they give me a ORGKEY\nAnd i need the ORGKEY in POST TOKEN</p>\n<p><a href=\"https://i.stack.imgur.com/9wywR.png\" rel=\"nofollow noreferrer\">POST TOKEN needs a orgKey</a></p>\n<p>And the orgkey are a random numbers and letters! I tryed everything but didn't work, so i try here.</p>\n<p>Thank you for your pacient ;)</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":6126609,"reputation":1245,"user_id":4778343,"display_name":"Stefan Goluboviƒá"},"score":1,"creation_date":1635785488,"post_id":69799258,"comment_id":123380525,"body_markdown":"[The JPA specification says that all entity identifiers should be serializable and implement `equals` and `hashCode`. So, an `Embeddable` that is used as a composite identifier must be `Serializable` and implement `equals` and `hashCode`](https://vladmihalcea.com/the-best-way-to-map-a-composite-primary-key-with-jpa-and-hibernate/). I don&#39;t know the nitty-gritty details of Hibernate implementation, but I&#39;m assuming it&#39;s used by [IdentityMap](https://martinfowler.com/eaaCatalog/identityMap.html), or some other class in the framework to keep track of entities, detect duplicates etc.","body":"<a href=\"https://vladmihalcea.com/the-best-way-to-map-a-composite-primary-key-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">The JPA specification says that all entity identifiers should be serializable and implement <code>equals</code> and <code>hashCode</code>. So, an <code>Embeddable</code> that is used as a composite identifier must be <code>Serializable</code> and implement <code>equals</code> and <code>hashCode</code></a>. I don&#39;t know the nitty-gritty details of Hibernate implementation, but I&#39;m assuming it&#39;s used by <a href=\"https://martinfowler.com/eaaCatalog/identityMap.html\" rel=\"nofollow noreferrer\">IdentityMap</a>, or some other class in the framework to keep track of entities, detect duplicates etc."}],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635792024,"creation_date":1635792024,"answer_id":69801339,"question_id":69799258,"body_markdown":"The composite key class represents the primary key of an entity, and therefore, it should be unique. Hibernate uses `equals` and `hashcode` methods internally to identify the uniqueness, compare objects, and check for duplications. To make these operations in Java, you have to implement `equals` and `hashcode` methods. \r\n\r\nImplementing `equals` and `hashcode` methods, you specify your custom business logic. In your example, the `CustomerOrderPK` guarantees that a **customer** cannot have the same **order** twice because `CustomerOrderPK` is the primary key.\r\nIf you don&#39;t override the `equals` and `hashcode`, Hibernate wouldn&#39;t know how to compare the objects and `CustomerOrderPK` couldn&#39;t be considered a primary key.","title":"Why do we need equals and hashcode when defining a composite key class?","body":"<p>The composite key class represents the primary key of an entity, and therefore, it should be unique. Hibernate uses <code>equals</code> and <code>hashcode</code> methods internally to identify the uniqueness, compare objects, and check for duplications. To make these operations in Java, you have to implement <code>equals</code> and <code>hashcode</code> methods.</p>\n<p>Implementing <code>equals</code> and <code>hashcode</code> methods, you specify your custom business logic. In your example, the <code>CustomerOrderPK</code> guarantees that a <strong>customer</strong> cannot have the same <strong>order</strong> twice because <code>CustomerOrderPK</code> is the primary key.\nIf you don't override the <code>equals</code> and <code>hashcode</code>, Hibernate wouldn't know how to compare the objects and <code>CustomerOrderPK</code> couldn't be considered a primary key.</p>\n"}],"owner":{"account_id":22287436,"reputation":123,"user_id":16514844,"display_name":"kelsanity"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1585,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1635792024,"creation_date":1635781281,"question_id":69799258,"body_markdown":"I have this class and followed a tutorial on creating a composite key class in spring boot, may I know whose calling this equals and hashcode and what are its purpose when mapping the object to the database tables.\r\n\r\n```java\r\npublic class CustomerOrderPK implements Serializable {\r\n\r\n    @Column(name = &quot;customer_id&quot;)\r\n    private Long customerId;\r\n\r\n    @Column(name = &quot;order_id&quot;)\r\n    private Long orderId;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        CustomerOrderPK that = (CustomerOrderPK) o;\r\n        return Objects.equals(customerId, that.customerId) &amp;&amp; Objects.equals(orderId, that.orderId);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(customerId, orderId);\r\n    }\r\n}\r\n\r\n\r\n```","title":"Why do we need equals and hashcode when defining a composite key class?","body":"<p>I have this class and followed a tutorial on creating a composite key class in spring boot, may I know whose calling this equals and hashcode and what are its purpose when mapping the object to the database tables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomerOrderPK implements Serializable {\n\n    @Column(name = &quot;customer_id&quot;)\n    private Long customerId;\n\n    @Column(name = &quot;order_id&quot;)\n    private Long orderId;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        CustomerOrderPK that = (CustomerOrderPK) o;\n        return Objects.equals(customerId, that.customerId) &amp;&amp; Objects.equals(orderId, that.orderId);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(customerId, orderId);\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-5.x"],"answers":[{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635791966,"creation_date":1635791966,"answer_id":69801321,"question_id":69775224,"body_markdown":"I&#39;ve not tried it but it seems to be possible to programmatically add a filter definition into the metadata used to build the session factory:\r\n\r\n\tprivate SessionFactory bootStrapSessionFactory(Configuration configuration) {\r\n\t\tServiceRegistry serviceRegistry = configuration.getStandardServiceRegistryBuilder()\r\n\t\t\t\t.applySettings(configuration.getProperties())\r\n\t\t\t\t.build();\r\n\r\n\t\tMetadata metadata = new MetadataSources(serviceRegistry).getMetadataBuilder().build();\r\n\t\tFilterDefinition filterDefinition = ...\r\n\t\tmetadata.getFilterDefinitions().put(key, filterDefinition);\r\n\t\t\r\n\t\treturn metadata.buildSessionFactory();\r\n\t}\r\n\r\nI&#39;m not quite sure why you need to build filters programmatically but the above code seems a bit like a hack","title":"Defining Hibernate 5 FilterDefinition by code","body":"<p>I've not tried it but it seems to be possible to programmatically add a filter definition into the metadata used to build the session factory:</p>\n<pre><code>private SessionFactory bootStrapSessionFactory(Configuration configuration) {\n    ServiceRegistry serviceRegistry = configuration.getStandardServiceRegistryBuilder()\n            .applySettings(configuration.getProperties())\n            .build();\n\n    Metadata metadata = new MetadataSources(serviceRegistry).getMetadataBuilder().build();\n    FilterDefinition filterDefinition = ...\n    metadata.getFilterDefinitions().put(key, filterDefinition);\n    \n    return metadata.buildSessionFactory();\n}\n</code></pre>\n<p>I'm not quite sure why you need to build filters programmatically but the above code seems a bit like a hack</p>\n"}],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635791966,"creation_date":1635545084,"question_id":69775224,"body_markdown":"We have a project using Hibernate 3.6.10, and now we are planning to upgrade the Hibernate version to 5.6.0.\r\nOne problem we have found is in old Hibernate it was possible to register `FilterDefinition` classes by code, but now I canoot find anyway to do that. So my question is how to register `FilterDefinition`s by code (not resolved from annotations or XML configs).\r\n","title":"Defining Hibernate 5 FilterDefinition by code","body":"<p>We have a project using Hibernate 3.6.10, and now we are planning to upgrade the Hibernate version to 5.6.0.\nOne problem we have found is in old Hibernate it was possible to register <code>FilterDefinition</code> classes by code, but now I canoot find anyway to do that. So my question is how to register <code>FilterDefinition</code>s by code (not resolved from annotations or XML configs).</p>\n"},{"tags":["java","gradle","sonarqube","sonarcloud"],"comments":[{"owner":{"account_id":2177238,"reputation":1349,"user_id":1927609,"accept_rate":50,"display_name":"fakedad"},"score":0,"creation_date":1632855663,"post_id":69366882,"comment_id":122605526,"body_markdown":"Have you looked at any of the answers [here](https://stackoverflow.com/questions/12967427/sonar-outofmemoryerror-java-heap-space)?","body":"Have you looked at any of the answers <a href=\"https://stackoverflow.com/questions/12967427/sonar-outofmemoryerror-java-heap-space\">here</a>?"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1632863363,"post_id":69366882,"comment_id":122608114,"body_markdown":"Yes, I have looked and tried several answers, including this one (https://stackoverflow.com/questions/12967427/sonar-outofmemoryerror-java-heap-space#comment65129303_17314245) but to no success","body":"Yes, I have looked and tried several answers, including this one (<a href=\"https://stackoverflow.com/questions/12967427/sonar-outofmemoryerror-java-heap-space#comment65129303_17314245\" title=\"sonar outofmemoryerror java heap space%23comment65129303_17314245\">stackoverflow.com/questions/12967427/&hellip;</a>) but to no success"},{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":0,"creation_date":1633343944,"post_id":69366882,"comment_id":122725816,"body_markdown":"On official documentation (https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/), on Troubleshooting part there command: `export SONAR_SCANNER_OPTS=&quot;-Xmx512m&quot;`. Did you try this?","body":"On official documentation (<a href=\"https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/\" rel=\"nofollow noreferrer\">docs.sonarqube.org/latest/analysis/scan/sonarscanner</a>), on Troubleshooting part there command: <code>export SONAR_SCANNER_OPTS=&quot;-Xmx512m&quot;</code>. Did you try this?"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1633360095,"post_id":69366882,"comment_id":122732779,"body_markdown":"@DjordjeNedovic, see in my question where I tried to set the SONAR_SCANNER_OPTS environment but it didn&#39;t work. Is the command you referenced different ?","body":"@DjordjeNedovic, see in my question where I tried to set the SONAR_SCANNER_OPTS environment but it didn&#39;t work. Is the command you referenced different ?"},{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":0,"creation_date":1633439888,"post_id":69366882,"comment_id":122756002,"body_markdown":"As I am aware, an `export` command is done via command prompt. Did you try it?","body":"As I am aware, an <code>export</code> command is done via command prompt. Did you try it?"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1633443718,"post_id":69366882,"comment_id":122757855,"body_markdown":"I should have mentioned that my build is executed by a GitHub Action so I don&#39;t technically have the ability to do it via a command prompt as it is an automated process","body":"I should have mentioned that my build is executed by a GitHub Action so I don&#39;t technically have the ability to do it via a command prompt as it is an automated process"},{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":0,"creation_date":1634119365,"post_id":69366882,"comment_id":122938473,"body_markdown":"@Frederic than maybe 2GB is not enough?","body":"@Frederic than maybe 2GB is not enough?"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1634149365,"post_id":69366882,"comment_id":122950924,"body_markdown":"@DjordjeNedovic That could be but i was wondering if my environment variable is actually taken into account since increasing it didn&#39;t make the build analyze more files, instead it failed on the same file. Is there a way maybe to double check that? if it is taken into account and 2GB is not enough, what maximum value can I use ? Thanks","body":"@DjordjeNedovic That could be but i was wondering if my environment variable is actually taken into account since increasing it didn&#39;t make the build analyze more files, instead it failed on the same file. Is there a way maybe to double check that? if it is taken into account and 2GB is not enough, what maximum value can I use ? Thanks"},{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":1,"creation_date":1634195243,"post_id":69366882,"comment_id":122961095,"body_markdown":"@Frederic here you can find GitAction VM resources https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources, apparently, it is 7GB of RAM.\n\nAlso, I found these two issues:\nhttps://github.com/Riverside-Software/sonar-openedge/issues/570\nhttps://github.com/Riverside-Software/sonar-openedge/issues/59\n\nMy advice is to update the error log with a full-stack message and check if there is a rule or command that is recursive.","body":"@Frederic here you can find GitAction VM resources <a href=\"https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources\" rel=\"nofollow noreferrer\">docs.github.com/en/actions/using-github-hosted-runners/&hellip;</a>, apparently, it is 7GB of RAM.  Also, I found these two issues: <a href=\"https://github.com/Riverside-Software/sonar-openedge/issues/570\" rel=\"nofollow noreferrer\">github.com/Riverside-Software/sonar-openedge/issues/570</a> <a href=\"https://github.com/Riverside-Software/sonar-openedge/issues/59\" rel=\"nofollow noreferrer\">github.com/Riverside-Software/sonar-openedge/issues/59</a>  My advice is to update the error log with a full-stack message and check if there is a rule or command that is recursive."},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1634229760,"post_id":69366882,"comment_id":122975352,"body_markdown":"@DjordjeNedovic Thanks, I will look at those issues. In the meantime, I have added the full-stack error log.","body":"@DjordjeNedovic Thanks, I will look at those issues. In the meantime, I have added the full-stack error log."},{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":0,"creation_date":1634236495,"post_id":69366882,"comment_id":122977783,"body_markdown":"@Frederic, Thanks for the log, as I can see from the stack trace, some lines are called few times, for example, `org.gradle.internal.operations.DefaultBuildOperationRunner`, and log message: `5 actionable tasks: 5 executed`. My blind guess is that either five actions have a memory footprint of 7+Gb or one of them is in a recursive loop...\n\nIs it possible to run the build command with `--debug` or `--scan` option so you get a more detailed error log?","body":"@Frederic, Thanks for the log, as I can see from the stack trace, some lines are called few times, for example, <code>org.gradle.internal.operations.DefaultBuildOperationRunner</code>, and log message: <code>5 actionable tasks: 5 executed</code>. My blind guess is that either five actions have a memory footprint of 7+Gb or one of them is in a recursive loop...  Is it possible to run the build command with <code>--debug</code> or <code>--scan</code> option so you get a more detailed error log?"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1634239807,"post_id":69366882,"comment_id":122978939,"body_markdown":"Hmm, this is odd because I am already running the `--scan` option `:gradlew build sonarqube --info --scan --settings-file=./build/settings.gradle --warning-mode all --stacktrace`","body":"Hmm, this is odd because I am already running the <code>--scan</code> option <code>:gradlew build sonarqube --info --scan --settings-file=.&#47;build&#47;settings.gradle --warning-mode all --stacktrace</code>"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1634242403,"post_id":69366882,"comment_id":122979774,"body_markdown":"Not sure if it&#39;s related to the OOM issue but in the new log with `--stacktrace --debug --scan`, I see a lot of `2021-10-14T19:42:30.091+0000 [DEBUG] [org.sonarqube.gradle.SonarQubeTask] Could not complete symbolic execution: reached limit of 16000 steps for method ...`","body":"Not sure if it&#39;s related to the OOM issue but in the new log with <code>--stacktrace --debug --scan</code>, I see a lot of <code>2021-10-14T19:42:30.091+0000 [DEBUG] [org.sonarqube.gradle.SonarQubeTask] Could not complete symbolic execution: reached limit of 16000 steps for method ...</code>"},{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":0,"creation_date":1634247867,"post_id":69366882,"comment_id":122981266,"body_markdown":"@Frederic, `16000 steps` sounds like that some rules are not configure right. See this question https://stackoverflow.com/questions/34065727/error-could-not-complete-symbolic-execution-reached-limit-of-10000-steps . I guess you should review rules","body":"@Frederic, <code>16000 steps</code> sounds like that some rules are not configure right. See this question <a href=\"https://stackoverflow.com/questions/34065727/error-could-not-complete-symbolic-execution-reached-limit-of-10000-steps\" title=\"error could not complete symbolic execution reached limit of 10000 steps\">stackoverflow.com/questions/34065727/&hellip;</a> . I guess you should review rules"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1634255388,"post_id":69366882,"comment_id":122982729,"body_markdown":"@DjordjeNedovic The answer in your link mentions this &quot;This is harmless to your analysis.&quot;. On top of it, this only talks about moving, at the time, the log from error to debug. Unless I am missing something ?","body":"@DjordjeNedovic The answer in your link mentions this &quot;This is harmless to your analysis.&quot;. On top of it, this only talks about moving, at the time, the log from error to debug. Unless I am missing something ?"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1634255996,"post_id":69366882,"comment_id":122982828,"body_markdown":"Also, I noticed that in the `--scan` log at the end. Does that mean that my -Xmx2048m is not taken into account ? I&#39;m afraid my initial worry was legitimate...\n`2021-10-14T23:56:26.486+0000 [DEBUG] [org.gradle.launcher.daemon.client.DaemonClient] Received result ...,-XX:MaxMetaspaceSize=256m,-XX:+HeapDumpOnOutOfMemoryError,-Xms256m,-Xmx512m,-Dfile.encoding=windows-1252,-Duser.country=US,-Duser.language=en,-Duser.variant]} (build should be done).`","body":"Also, I noticed that in the <code>--scan</code> log at the end. Does that mean that my -Xmx2048m is not taken into account ? I&#39;m afraid my initial worry was legitimate... <code>2021-10-14T23:56:26.486+0000 [DEBUG] [org.gradle.launcher.daemon.client.DaemonClient] Received result ...,-XX:MaxMetaspaceSize=256m,-XX:+HeapDumpOnOutOfMemoryErro&zwnj;&#8203;r,-Xms256m,-Xmx512m,&zwnj;&#8203;-Dfile.encoding=wind&zwnj;&#8203;ows-1252,-Duser.coun&zwnj;&#8203;try=US,-Duser.langua&zwnj;&#8203;ge=en,-Duser.variant&zwnj;&#8203;]} (build should be done).</code>"},{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":0,"creation_date":1634285544,"post_id":69366882,"comment_id":122988392,"body_markdown":"@Frederic than try run: `export SONAR_SCANNER_OPTS=&quot;-Xmx2048m&quot;` instead of `run: set SONAR_SCANNER_OPTS=-Xmx2048m`","body":"@Frederic than try run: <code>export SONAR_SCANNER_OPTS=&quot;-Xmx2048m&quot;</code> instead of <code>run: set SONAR_SCANNER_OPTS=-Xmx2048m</code>"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1634314882,"post_id":69366882,"comment_id":122999350,"body_markdown":"@DjordjeNedovic But per the [official SonnarScanner](https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/#header-9) documentation, because I am using a Windows machine, it recommends me to run this `set SONAR_SCANNER_OPTS=`","body":"@DjordjeNedovic But per the <a href=\"https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/#header-9\" rel=\"nofollow noreferrer\">official SonnarScanner</a> documentation, because I am using a Windows machine, it recommends me to run this <code>set SONAR_SCANNER_OPTS=</code>"},{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":0,"creation_date":1634320792,"post_id":69366882,"comment_id":123001432,"body_markdown":"@Frederic, then i am out of ideas...","body":"@Frederic, then i am out of ideas..."},{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":0,"creation_date":1634496787,"post_id":69366882,"comment_id":123034568,"body_markdown":"@Frederic, did you try uprading any other sonar.property in your `.yml` file? I never worked with it, but maybe there are some typo in configuration? Sorry, i jusr can&#39;t quit :)","body":"@Frederic, did you try uprading any other sonar.property in your <code>.yml</code> file? I never worked with it, but maybe there are some typo in configuration? Sorry, i jusr can&#39;t quit :)"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1634502208,"post_id":69366882,"comment_id":123035827,"body_markdown":"@DjordjeNedovic, actually, I tried to exclude the file where it was choking on it (by using `property &quot;sonar.exclusions&quot;`) and it now doesn&#39;t have the Heap issue anymore. But now, even though it&#39;s successful, the report doesn&#39;t contain the results for my Java file. So it&#39;s another issue and I&#39;m kind of giving up honestly.... I appreciate your help though!","body":"@DjordjeNedovic, actually, I tried to exclude the file where it was choking on it (by using <code>property &quot;sonar.exclusions&quot;</code>) and it now doesn&#39;t have the Heap issue anymore. But now, even though it&#39;s successful, the report doesn&#39;t contain the results for my Java file. So it&#39;s another issue and I&#39;m kind of giving up honestly.... I appreciate your help though!"},{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":0,"creation_date":1634547441,"post_id":69366882,"comment_id":123044766,"body_markdown":"@Frederic, coverage report or bug/issues report for Java?","body":"@Frederic, coverage report or bug/issues report for Java?"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1634567606,"post_id":69366882,"comment_id":123053242,"body_markdown":"@DjordjeNedovic Coverage report. The report and especially the code source folder doesn&#39;t contain any .java files even though the report says `2251/2251 source files have been analyzed\n`","body":"@DjordjeNedovic Coverage report. The report and especially the code source folder doesn&#39;t contain any .java files even though the report says <code>2251&#47;2251 source files have been analyzed </code>"},{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":0,"creation_date":1634567780,"post_id":69366882,"comment_id":123053325,"body_markdown":"@Frederic test coverage reports are generated separately with some plugin like JaCoCo for example. Then, Sonar does not create the report, it reads generated reports and shows them in UI. Maybe that is missing?","body":"@Frederic test coverage reports are generated separately with some plugin like JaCoCo for example. Then, Sonar does not create the report, it reads generated reports and shows them in UI. Maybe that is missing?"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1634575831,"post_id":69366882,"comment_id":123056606,"body_markdown":"But I am not trying to get a test coverage but the coverage for my source code, is that something that needs a plugin?","body":"But I am not trying to get a test coverage but the coverage for my source code, is that something that needs a plugin?"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1635456683,"post_id":69366882,"comment_id":123311041,"body_markdown":"@DjordjeNedovic I ended up excluding this file in the analysis using the property `sonar.exclusions`. While it works now, i will still want to have it analyzed in the future. Thank you again a lot for your help and time.","body":"@DjordjeNedovic I ended up excluding this file in the analysis using the property <code>sonar.exclusions</code>. While it works now, i will still want to have it analyzed in the future. Thank you again a lot for your help and time."}],"answers":[{"tags":[],"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635791871,"creation_date":1635791871,"answer_id":69801306,"question_id":69366882,"body_markdown":"Adding a [gradle.properties][1] file with the following JVM args fixed my issue\r\n\r\n    org.gradle.jvmargs=-Xmx1g\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/build_environment.html#sec:configuring_jvm_memory","title":"Error: Exception in thread &quot;Daemon health stats&quot; java.lang.OutOfMemoryError: Java heap space","body":"<p>Adding a <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:configuring_jvm_memory\" rel=\"nofollow noreferrer\">gradle.properties</a> file with the following JVM args fixed my issue</p>\n<pre><code>org.gradle.jvmargs=-Xmx1g\n</code></pre>\n"}],"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"comment_count":26,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69801306,"answer_count":1,"score":2,"last_activity_date":1635791871,"creation_date":1632853979,"question_id":69366882,"body_markdown":"SonarQube is failing with a Java Heap Size Out of Memory\r\n\r\n&gt; Task :sonarqube FAILED\r\n:sonarqube (Thread[Daemon worker,5,main]) completed. Took 3 mins 49.576 secs.\r\n&gt;\r\n&gt;* What went wrong:\r\nExecution failed for task &#39;:sonarqube&#39;.\r\n&gt; Java heap space\r\n\r\nI have added that to my `build.yml` file but it doesn&#39;t seem to be taken into account ?\r\n\r\n     - name: Increase Java Heap size\r\n            run: set SONAR_SCANNER_OPTS=-Xmx2048m\r\n\r\nMy build is running on &quot;windows-latest&quot;\r\n\r\nHere is the full error log\r\n\r\n    &gt; Task :sonarqube\r\n    Dependencies/libraries were not provided for analysis of SOURCE files. The &#39;sonar.java.libraries&#39; property is empty. Verify your configuration, as you might end up with less precise results.\r\n    Unresolved imports/types have been detected during analysis. Enable DEBUG mode to see them.\r\n    \r\n    \r\n    \r\n    &gt; Task :sonarqube FAILED\r\n    \r\n    :sonarqube (Thread[Daemon worker,5,main]) completed. Took 2 mins 51.902 secs.\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:sonarqube&#39;.\r\n    &gt; Java heap space\r\n    \r\n    * Try:\r\n    Run with --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:sonarqube&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$3(ExecuteActionsTaskExecuter.java:186)\r\n    \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n    \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n    \tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:72)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:196)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:189)\r\n    \tat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:39)\r\n    \tat org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:40)\r\n    \tat org.gradle.execution.DefaultBuildWorkExecutor.access$000(DefaultBuildWorkExecutor.java:24)\r\n    \tat org.gradle.execution.DefaultBuildWorkExecutor$1.proceed(DefaultBuildWorkExecutor.java:48)\r\n    \tat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:49)\r\n    \tat org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:40)\r\n    \tat org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:33)\r\n    \tat org.gradle.execution.IncludedBuildLifecycleBuildWorkExecutor.execute(IncludedBuildLifecycleBuildWorkExecutor.java:36)\r\n    \tat org.gradle.execution.DeprecateUndefinedBuildWorkExecutor.execute(DeprecateUndefinedBuildWorkExecutor.java:44)\r\n    \tat org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.run(BuildOperationFiringBuildWorkerExecutor.java:57)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n    \tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n    \tat org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:42)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.runWork(DefaultGradleLauncher.java:260)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:172)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:148)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:124)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:72)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:67)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\r\n    \tat org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\r\n    \tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n    \tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:77)\r\n    5 actionable tasks: 5 executed\r\n    \tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n    \tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\r\n    \tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\r\n    \tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:32)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:27)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\r\n    \tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\r\n    \tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\r\n    \tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\r\n    \tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\r\n    \tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\r\n    \tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n    \tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n    \tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n    \tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    Caused by: java.lang.OutOfMemoryError: Java heap space","title":"Error: Exception in thread &quot;Daemon health stats&quot; java.lang.OutOfMemoryError: Java heap space","body":"<p>SonarQube is failing with a Java Heap Size Out of Memory</p>\n<blockquote>\n<p>Task :sonarqube FAILED\n:sonarqube (Thread[Daemon worker,5,main]) completed. Took 3 mins 49.576 secs.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':sonarqube'.\nJava heap space</li>\n</ul>\n</blockquote>\n<p>I have added that to my <code>build.yml</code> file but it doesn't seem to be taken into account ?</p>\n<pre><code> - name: Increase Java Heap size\n        run: set SONAR_SCANNER_OPTS=-Xmx2048m\n</code></pre>\n<p>My build is running on &quot;windows-latest&quot;</p>\n<p>Here is the full error log</p>\n<pre><code>&gt; Task :sonarqube\nDependencies/libraries were not provided for analysis of SOURCE files. The 'sonar.java.libraries' property is empty. Verify your configuration, as you might end up with less precise results.\nUnresolved imports/types have been detected during analysis. Enable DEBUG mode to see them.\n\n\n\n&gt; Task :sonarqube FAILED\n\n:sonarqube (Thread[Daemon worker,5,main]) completed. Took 2 mins 51.902 secs.\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':sonarqube'.\n&gt; Java heap space\n\n* Try:\nRun with --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':sonarqube'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$3(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:72)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:196)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:189)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:39)\n    at org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:40)\n    at org.gradle.execution.DefaultBuildWorkExecutor.access$000(DefaultBuildWorkExecutor.java:24)\n    at org.gradle.execution.DefaultBuildWorkExecutor$1.proceed(DefaultBuildWorkExecutor.java:48)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:49)\n    at org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:40)\n    at org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:33)\n    at org.gradle.execution.IncludedBuildLifecycleBuildWorkExecutor.execute(IncludedBuildLifecycleBuildWorkExecutor.java:36)\n    at org.gradle.execution.DeprecateUndefinedBuildWorkExecutor.execute(DeprecateUndefinedBuildWorkExecutor.java:44)\n    at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.run(BuildOperationFiringBuildWorkerExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:42)\n    at org.gradle.initialization.DefaultGradleLauncher.runWork(DefaultGradleLauncher.java:260)\n    at org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:172)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:148)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:124)\n    at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:72)\n    at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:67)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\n    at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:77)\n5 actionable tasks: 5 executed\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:32)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:27)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n"},{"tags":["java","scala","drag-and-drop","javafx","bytebuffer"],"answers":[{"tags":[],"owner":{"account_id":1215880,"reputation":161,"user_id":1762884,"display_name":"Yngvefaen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635791649,"creation_date":1420374672,"answer_id":27765524,"question_id":16739438,"body_markdown":"I had a similar problem, while trying to implement drag-and-drop in JavaFX 8. When implementing a custom type, I got the same exception during deserialization. And I eventually figured out what the problem was in my case.\r\n\r\nIt was a bug on my part, where my &quot;MyObject&quot; class actually wasn&#39;t deserializable (In my case MyObject extended a supertype that didn&#39;t implement Serializable and didn&#39;t have a default no-argument constructor, which it must have in such a case). Anyway, after testing that &quot;MyObject&quot; can be serialized / deserialized in a unit test, my JavaFX drag-and-drop started working. As far as I can tell, the problem is this:\r\n\r\n**JavaFX error handling seems to hide any exceptions during deserialization, and returns the serialized bytebuffer instead of your deserialized object.**\r\n\r\nIt is debatable wether or not this is good error handling.\r\n\r\nIn your case, you can test this by trying to deserialize the bytebuffer you get from JavaFX yourself using the following java-code:\r\n\r\n    public static MyObject deserialize(ByteBuffer buffer) {\r\n        try {\r\n            ByteArrayInputStream is = new ByteArrayInputStream(buffer.array());\r\n            ObjectInputStream ois = new ObjectInputStream(is);\r\n            MyObject obj = (MyObject) ois.readObject();\r\n            return obj;\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nIf this method throws an exception, you have your bug. Fix it, and drag and drop should start working again.\r\n\r\n\r\n","title":"JavaFX DragAndDrop with custom DataFormat","body":"<p>I had a similar problem, while trying to implement drag-and-drop in JavaFX 8. When implementing a custom type, I got the same exception during deserialization. And I eventually figured out what the problem was in my case.</p>\n<p>It was a bug on my part, where my &quot;MyObject&quot; class actually wasn't deserializable (In my case MyObject extended a supertype that didn't implement Serializable and didn't have a default no-argument constructor, which it must have in such a case). Anyway, after testing that &quot;MyObject&quot; can be serialized / deserialized in a unit test, my JavaFX drag-and-drop started working. As far as I can tell, the problem is this:</p>\n<p><strong>JavaFX error handling seems to hide any exceptions during deserialization, and returns the serialized bytebuffer instead of your deserialized object.</strong></p>\n<p>It is debatable wether or not this is good error handling.</p>\n<p>In your case, you can test this by trying to deserialize the bytebuffer you get from JavaFX yourself using the following java-code:</p>\n<pre><code>public static MyObject deserialize(ByteBuffer buffer) {\n    try {\n        ByteArrayInputStream is = new ByteArrayInputStream(buffer.array());\n        ObjectInputStream ois = new ObjectInputStream(is);\n        MyObject obj = (MyObject) ois.readObject();\n        return obj;\n    } catch (IOException | ClassNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>If this method throws an exception, you have your bug. Fix it, and drag and drop should start working again.</p>\n"}],"owner":{"account_id":2149740,"reputation":5737,"user_id":1906491,"accept_rate":59,"display_name":"Sean Connolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4508,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1635791649,"creation_date":1369412266,"question_id":16739438,"body_markdown":"The Overview\r\n------------\r\nI am setting up drag &amp; drop in a Java FX application. When I try to grab custom data from the `Dragboard` I am getting a `java.nio.HeapByteBuffer` instead of an `Object` as the JavaDoc stuggest. This byte buffer cannot be *cast* to my original data type.\r\n\r\nI&#39;m working in Scala so the syntax it a tiny bit different but you get the idea. However, perhaps it&#39;s because I&#39;m in Scala that I&#39;m getting this `HeapByteBuffer` instead of a regular `Object`?\r\n\r\n\r\nThe Details\r\n-----------\r\nOk, here I&#39;m going to create JavaFX control that can be dragged and dropped. I&#39;m going to attach a `String` and a `MyObject`; the `String` can be retrieved while the `MyObject` cannot.  \r\nNote, I&#39;m aware there are simpler ways to attach simple strings to the dragboard, this is just an example to show that `MyObject` should be retrievable from the dragboard also.\r\n\r\n\r\nHere I create a custom component which can be dragged.\r\nWhen it is dragged, two objects are attached to the dragboard: a `MyObject` and a `String`.\r\n\r\n    class ToolboxItem\r\n        extends Label {\r\n        \r\n        setOnDragDetected(new EventHandler[MouseEvent] {\r\n            def handle(event: MouseEvent) {\r\n            val dragboard = startDragAndDrop(TransferMode.COPY)\r\n            val content = new ClipboardContent()\r\n            content.put(DnDTarget.DndString, &quot;sean is cool&quot;)\r\n            content.put(DnDTarget.DndObject, new MyObject)\r\n            dragboard.setContent(content)\r\n            event.consume()\r\n        }\r\n\r\n    }\r\n\r\n`MyObject` is super simple for the sake of getting going:\r\n\r\n    class MyObject\r\n        extends Serilaizable\r\n\r\nNow, when I receive a drag event, I want to grab this data from the event.  \r\n(also, here I define my `DataFormat`)\r\n\r\n    object DnDTarget {\r\n\r\n        val DndString = new DataFormat(&quot;my.custom.dnd.string&quot;)\r\n        val DndObject = new DataFormat(&quot;my.custom.dnd.object&quot;)\r\n    \r\n    }\r\n\r\n    trait DnDTarget\r\n        extends Node {\r\n        \r\n        setOnDragOver(new EventHandler[DragEvent]() {\r\n            def handle(event: DragEvent) {\r\n                if (valid(event)) {\r\n                    val dragboard = event.getDragboard\r\n                    val myString = dragboard.getContent(DnDTarget.DndString)\r\n                    val myObject = dragboard.getContent(DnDTarget.DndObject)\r\n                    myString.asInstanceOf[String]   // no problem\r\n                    myObject.asInstanceOf[MyObject] // throws exception\r\n                    event.acceptTransferModes(TransferMode.COPY)\r\n                }\r\n                event.consume()\r\n            }\r\n        })\r\n    }\r\n\r\nOk, so, calling `myString.asInstanceOf[String]` works fine, I got my `String` back. However, `myObject.asInstanceOf[MyObject]` throws a `ClassCastException` saying:\r\n\r\n&gt; Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: java.nio.HeapByteBuffer cannot be cast to com.example.MyObject\r\n\r\nNote: I am *not* using ScalaFX here, vanilla JavaFX in Scala","title":"JavaFX DragAndDrop with custom DataFormat","body":"<h2>The Overview</h2>\n\n<p>I am setting up drag &amp; drop in a Java FX application. When I try to grab custom data from the <code>Dragboard</code> I am getting a <code>java.nio.HeapByteBuffer</code> instead of an <code>Object</code> as the JavaDoc stuggest. This byte buffer cannot be <em>cast</em> to my original data type.</p>\n\n<p>I'm working in Scala so the syntax it a tiny bit different but you get the idea. However, perhaps it's because I'm in Scala that I'm getting this <code>HeapByteBuffer</code> instead of a regular <code>Object</code>?</p>\n\n<h2>The Details</h2>\n\n<p>Ok, here I'm going to create JavaFX control that can be dragged and dropped. I'm going to attach a <code>String</code> and a <code>MyObject</code>; the <code>String</code> can be retrieved while the <code>MyObject</code> cannot.<br>\nNote, I'm aware there are simpler ways to attach simple strings to the dragboard, this is just an example to show that <code>MyObject</code> should be retrievable from the dragboard also.</p>\n\n<p>Here I create a custom component which can be dragged.\nWhen it is dragged, two objects are attached to the dragboard: a <code>MyObject</code> and a <code>String</code>.</p>\n\n<pre><code>class ToolboxItem\n    extends Label {\n\n    setOnDragDetected(new EventHandler[MouseEvent] {\n        def handle(event: MouseEvent) {\n        val dragboard = startDragAndDrop(TransferMode.COPY)\n        val content = new ClipboardContent()\n        content.put(DnDTarget.DndString, \"sean is cool\")\n        content.put(DnDTarget.DndObject, new MyObject)\n        dragboard.setContent(content)\n        event.consume()\n    }\n\n}\n</code></pre>\n\n<p><code>MyObject</code> is super simple for the sake of getting going:</p>\n\n<pre><code>class MyObject\n    extends Serilaizable\n</code></pre>\n\n<p>Now, when I receive a drag event, I want to grab this data from the event.<br>\n(also, here I define my <code>DataFormat</code>)</p>\n\n<pre><code>object DnDTarget {\n\n    val DndString = new DataFormat(\"my.custom.dnd.string\")\n    val DndObject = new DataFormat(\"my.custom.dnd.object\")\n\n}\n\ntrait DnDTarget\n    extends Node {\n\n    setOnDragOver(new EventHandler[DragEvent]() {\n        def handle(event: DragEvent) {\n            if (valid(event)) {\n                val dragboard = event.getDragboard\n                val myString = dragboard.getContent(DnDTarget.DndString)\n                val myObject = dragboard.getContent(DnDTarget.DndObject)\n                myString.asInstanceOf[String]   // no problem\n                myObject.asInstanceOf[MyObject] // throws exception\n                event.acceptTransferModes(TransferMode.COPY)\n            }\n            event.consume()\n        }\n    })\n}\n</code></pre>\n\n<p>Ok, so, calling <code>myString.asInstanceOf[String]</code> works fine, I got my <code>String</code> back. However, <code>myObject.asInstanceOf[MyObject]</code> throws a <code>ClassCastException</code> saying:</p>\n\n<blockquote>\n  <p>Exception in thread \"JavaFX Application Thread\" java.lang.ClassCastException: java.nio.HeapByteBuffer cannot be cast to com.example.MyObject</p>\n</blockquote>\n\n<p>Note: I am <em>not</em> using ScalaFX here, vanilla JavaFX in Scala</p>\n"},{"tags":["java","list","stream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1635789622,"post_id":69800742,"comment_id":123381975,"body_markdown":"Well, you&#39;d probably start by writing a function to check if a number is prime.","body":"Well, you&#39;d probably start by writing a function to check if a number is prime."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1635789782,"post_id":69800742,"comment_id":123382041,"body_markdown":"All you do is filter out `null` and odd numbers. You need to write a method on your own that checks if a number is prime.","body":"All you do is filter out <code>null</code> and odd numbers. You need to write a method on your own that checks if a number is prime."},{"owner":{"account_id":23208346,"reputation":13,"user_id":17302216,"display_name":"human"},"score":0,"creation_date":1635789985,"post_id":69800742,"comment_id":123382106,"body_markdown":"i was wondering if that possible to check using only one long return and streams","body":"i was wondering if that possible to check using only one long return and streams"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1635791284,"post_id":69800742,"comment_id":123382564,"body_markdown":"Yes it is, but you still need *some* logic to determine if a number is prime or not. But honestly, why would you want to do this in a single stream operation?","body":"Yes it is, but you still need <i>some</i> logic to determine if a number is prime or not. But honestly, why would you want to do this in a single stream operation?"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635791644,"creation_date":1635791644,"answer_id":69801264,"question_id":69800742,"body_markdown":"You could use (or misuse) `BigInteger.isProbablePrime`:\r\n\r\n    import java.math.BigInteger;\r\n    ....\r\n\r\n    public static List&lt;Integer&gt; primeNumbers(List &lt;Integer&gt; list) {\r\n        return list.stream()\r\n                   .filter(i -&gt; BigInteger.valueOf(i).isProbablePrime(10))\r\n                   .collect(Collectors.toList());\r\n    }","title":"get prime numbers from List using java stream","body":"<p>You could use (or misuse) <code>BigInteger.isProbablePrime</code>:</p>\n<pre><code>import java.math.BigInteger;\n....\n\npublic static List&lt;Integer&gt; primeNumbers(List &lt;Integer&gt; list) {\n    return list.stream()\n               .filter(i -&gt; BigInteger.valueOf(i).isProbablePrime(10))\n               .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":23208346,"reputation":13,"user_id":17302216,"display_name":"human"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69801264,"answer_count":1,"score":0,"last_activity_date":1635791644,"creation_date":1635788906,"question_id":69800742,"body_markdown":"As mentioned in title of problem\r\nI wrote method like that. I don&#39;t know how to filter to get prime numbers from list.\r\nedit: i was wondering if that possible to check using only one long return and streams\r\nedit2: know i know i cannot\r\n\r\n```java\r\n   public static List&lt;Integer&gt; primeNumbers(List &lt;Integer&gt; list) {\r\n       return Optional.ofNullable(list)\r\n                .orElse(Collections.emptyList())\r\n                .stream()\r\n                .filter(Objects::nonNull)\r\n                .filter(i -&gt; i %2 ==0)\r\n                .toList();\r\n    }\r\n```\r\nSorry for mistakes, first post here","title":"get prime numbers from List using java stream","body":"<p>As mentioned in title of problem\nI wrote method like that. I don't know how to filter to get prime numbers from list.\nedit: i was wondering if that possible to check using only one long return and streams\nedit2: know i know i cannot</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static List&lt;Integer&gt; primeNumbers(List &lt;Integer&gt; list) {\n       return Optional.ofNullable(list)\n                .orElse(Collections.emptyList())\n                .stream()\n                .filter(Objects::nonNull)\n                .filter(i -&gt; i %2 ==0)\n                .toList();\n    }\n</code></pre>\n<p>Sorry for mistakes, first post here</p>\n"},{"tags":["java","spring","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":9721467,"reputation":101,"user_id":7210074,"display_name":"Faelivrinx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635791621,"creation_date":1635791621,"answer_id":69801261,"question_id":69797686,"body_markdown":"The solution is trivial. I forgot about web dependency and the application has been finished immediately.\r\n\r\nJust add to your **pom.xml**\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Spring Boot - rmi connection error during initialization","body":"<p>The solution is trivial. I forgot about web dependency and the application has been finished immediately.</p>\n<p>Just add to your <strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9721467,"reputation":101,"user_id":7210074,"display_name":"Faelivrinx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635791621,"creation_date":1635773598,"question_id":69797686,"body_markdown":"I have a problem with starting the Spring Boot application created by spring initializer.\r\n\r\n**mvn command stacktrace**\r\n\r\n```\r\n[DEBUG] Application argument(s): --spring.application.admin.enabled=true --spring.application.admin.jmx-name=org.springframework.boot:type=Admin,name=SpringApplication\r\n[DEBUG] Environment variable(s): \r\n[DEBUG] Connecting to local MBeanServer at port 9001\r\n[DEBUG] Waiting for spring application to start...\r\n[DEBUG] MBean server at port 9001 is not up yet...\r\n[DEBUG] Spring application is not ready yet, waiting 500ms (attempt 1)\r\n[DEBUG] Connected to local MBeanServer at port 9001\r\n[DEBUG] Waiting for spring application to start...\r\n[DEBUG] Spring application is not ready yet, waiting 500ms (attempt 1)\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.5.6)\r\n\r\n2021-11-01 12:40:43.639  INFO 37902 --- [           main] com.example.demo1.Demo1Application       : Starting Demo1Application using Java 17 on dj-legion with PID 37902 (/home/dj/Documents/demo1/target/classes started by dj in /home/dj/Documents/demo1)\r\n2021-11-01 12:40:43.642  INFO 37902 --- [           main] com.example.demo1.Demo1Application       : No active profile set, falling back to default profiles: default\r\n[DEBUG] Spring application is not ready yet, waiting 500ms (attempt 2)\r\n2021-11-01 12:40:44.185  INFO 37902 --- [           main] com.example.demo1.Demo1Application       : Started Demo1Application in 0.947 seconds (JVM running for 1.53)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.931 s\r\n[INFO] Finished at: 2021-11-01T12:40:44+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.5.6:start (default-cli) on project demo1: Could not figure out if the application has started: Failed to connect to MBean server at port 9001: Could not invoke shutdown operation: Connection refused to host: 127.0.0.1; nested exception is: \r\n[ERROR]         java.net.ConnectException: Connection refused\r\n```\r\n\r\nDo you have any idea how to fix this kind of error? I&#39;ve tried with a lower java/maven/spring-boot versions but without success.  \r\n\r\n  ","title":"Spring Boot - rmi connection error during initialization","body":"<p>I have a problem with starting the Spring Boot application created by spring initializer.</p>\n<p><strong>mvn command stacktrace</strong></p>\n<pre><code>[DEBUG] Application argument(s): --spring.application.admin.enabled=true --spring.application.admin.jmx-name=org.springframework.boot:type=Admin,name=SpringApplication\n[DEBUG] Environment variable(s): \n[DEBUG] Connecting to local MBeanServer at port 9001\n[DEBUG] Waiting for spring application to start...\n[DEBUG] MBean server at port 9001 is not up yet...\n[DEBUG] Spring application is not ready yet, waiting 500ms (attempt 1)\n[DEBUG] Connected to local MBeanServer at port 9001\n[DEBUG] Waiting for spring application to start...\n[DEBUG] Spring application is not ready yet, waiting 500ms (attempt 1)\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.5.6)\n\n2021-11-01 12:40:43.639  INFO 37902 --- [           main] com.example.demo1.Demo1Application       : Starting Demo1Application using Java 17 on dj-legion with PID 37902 (/home/dj/Documents/demo1/target/classes started by dj in /home/dj/Documents/demo1)\n2021-11-01 12:40:43.642  INFO 37902 --- [           main] com.example.demo1.Demo1Application       : No active profile set, falling back to default profiles: default\n[DEBUG] Spring application is not ready yet, waiting 500ms (attempt 2)\n2021-11-01 12:40:44.185  INFO 37902 --- [           main] com.example.demo1.Demo1Application       : Started Demo1Application in 0.947 seconds (JVM running for 1.53)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.931 s\n[INFO] Finished at: 2021-11-01T12:40:44+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.5.6:start (default-cli) on project demo1: Could not figure out if the application has started: Failed to connect to MBean server at port 9001: Could not invoke shutdown operation: Connection refused to host: 127.0.0.1; nested exception is: \n[ERROR]         java.net.ConnectException: Connection refused\n</code></pre>\n<p>Do you have any idea how to fix this kind of error? I've tried with a lower java/maven/spring-boot versions but without success.</p>\n"},{"tags":["java","java-sealed-type"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1635792405,"post_id":69801252,"comment_id":123382966,"body_markdown":"In what way do you want a &quot;better&quot; solution? Yours looks pretty good to me.","body":"In what way do you want a &quot;better&quot; solution? Yours looks pretty good to me."},{"owner":{"account_id":2100524,"reputation":1074,"user_id":1868281,"accept_rate":92,"display_name":"Selim"},"score":0,"creation_date":1635792515,"post_id":69801252,"comment_id":123383001,"body_markdown":"I think other than annotation processing + code generation you&#39;re out of options","body":"I think other than annotation processing + code generation you&#39;re out of options"},{"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"score":0,"creation_date":1635794242,"post_id":69801252,"comment_id":123383590,"body_markdown":"@Sweeper I hope to find more elegant solution","body":"@Sweeper I hope to find more elegant solution"},{"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"score":0,"creation_date":1635796557,"post_id":69801252,"comment_id":123384339,"body_markdown":"I believe you want to implement a factory method. The idea behind sealed classes was to limit inheritance not to provide a factory method like the one you mentioned with the enums.\n\nFor example, Spring and other frameworks provide this kind of functionality with interfaces, collecting their implementations, but those are not built java functionalities. I don&#39;t think that another non-hacky reflection-based solution exists. If there&#39;s another I am interested in it.","body":"I believe you want to implement a factory method. The idea behind sealed classes was to limit inheritance not to provide a factory method like the one you mentioned with the enums.  For example, Spring and other frameworks provide this kind of functionality with interfaces, collecting their implementations, but those are not built java functionalities. I don&#39;t think that another non-hacky reflection-based solution exists. If there&#39;s another I am interested in it."},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":1,"creation_date":1651234733,"post_id":69801252,"comment_id":127321704,"body_markdown":"You could also just create an array directly in the method or for a class variable. I mean, the classes are fixed at compile time, so what&#39;s the point in using a dynamic solution? You could argue, you would need to change multiple places when changing the permitted types, but I think, `sealed` is not intended for such extendable hierarchies. I mean, the point in using `sealed` *is* to reduce the extendability. I think `sealed class Color permits Green, Red` is strange, because there *are* other colors.","body":"You could also just create an array directly in the method or for a class variable. I mean, the classes are fixed at compile time, so what&#39;s the point in using a dynamic solution? You could argue, you would need to change multiple places when changing the permitted types, but I think, <code>sealed</code> is not intended for such extendable hierarchies. I mean, the point in using <code>sealed</code> <i>is</i> to reduce the extendability. I think <code>sealed class Color permits Green, Red</code> is strange, because there <i>are</i> other colors."}],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635791559,"creation_date":1635791559,"question_id":69801252,"body_markdown":"Is there a way to get a collection of instances of subclasses, which are permitted in `sealed` class?\r\n\r\nIt would be nice to have something similar to `Enum.values()` method, because I don&#39;t want to collect them manually.\r\n\r\nThe best I could do is:\r\n\r\n    abstract sealed class Color permits Green, Red /*, ...*/ {\r\n    \r\n      Iterable&lt;Color&gt; values() {\r\n        return Arrays.stream((Class&lt;Color&gt;[]) Color.class.getPermittedSubclasses())\r\n            .flatMap(subclass -&gt; {\r\n              try {\r\n                return Stream.of(subclass.getDeclaredConstructor().newInstance());\r\n              } catch (ReflectiveOperationException ignore) {\r\n                return Stream.empty();\r\n              }\r\n            }).toList();\r\n      }\r\n    }\r\n","title":"How to obtain instances of all subclasses of sealed class?","body":"<p>Is there a way to get a collection of instances of subclasses, which are permitted in <code>sealed</code> class?</p>\n<p>It would be nice to have something similar to <code>Enum.values()</code> method, because I don't want to collect them manually.</p>\n<p>The best I could do is:</p>\n<pre><code>abstract sealed class Color permits Green, Red /*, ...*/ {\n\n  Iterable&lt;Color&gt; values() {\n    return Arrays.stream((Class&lt;Color&gt;[]) Color.class.getPermittedSubclasses())\n        .flatMap(subclass -&gt; {\n          try {\n            return Stream.of(subclass.getDeclaredConstructor().newInstance());\n          } catch (ReflectiveOperationException ignore) {\n            return Stream.empty();\n          }\n        }).toList();\n  }\n}\n</code></pre>\n"},{"tags":["java","collections"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635789081,"creation_date":1635789081,"answer_id":69800780,"question_id":69800720,"body_markdown":"It is not guaranteed to return an instance of any specific class, so your code should not depend on that. However, for the sake of learning, OpenJDK  11 returns an instance of [`ImmutableCollections.Map1`](https://github.com/openjdk/jdk11u/blob/6a8ea38ecca34f34c7fe7b86c298a4053ccd4809/src/java.base/share/classes/java/util/Map.java#L1306-L1308), one of several lightweight special-purpose classes written specifically for the `Map.of` overloads.","title":"What class instance does Map.of() return?","body":"<p>It is not guaranteed to return an instance of any specific class, so your code should not depend on that. However, for the sake of learning, OpenJDK  11 returns an instance of <a href=\"https://github.com/openjdk/jdk11u/blob/6a8ea38ecca34f34c7fe7b86c298a4053ccd4809/src/java.base/share/classes/java/util/Map.java#L1306-L1308\" rel=\"noreferrer\"><code>ImmutableCollections.Map1</code></a>, one of several lightweight special-purpose classes written specifically for the <code>Map.of</code> overloads.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635790746,"creation_date":1635790746,"answer_id":69801099,"question_id":69800720,"body_markdown":"It won&#39;t be the same depending on the Map size and you should not rely on the value returned as per the answer by @chrylis -cautiouslyoptimistic-. \r\n\r\nIf you are interested on the value of any `Map` instance your code uses just print `map.getClass()`, here are a few examples:\r\n\r\n    System.out.println(Map.of().getClass());\r\n    System.out.println(Map.of(1,2).getClass());\r\n    System.out.println(Map.of(1,2,3,4,5,6).getClass());\r\n\r\nWhich (in JDK17) prints:\r\n\r\n    class java.util.ImmutableCollections$MapN\r\n    class java.util.ImmutableCollections$Map1\r\n    class java.util.ImmutableCollections$MapN\r\n","title":"What class instance does Map.of() return?","body":"<p>It won't be the same depending on the Map size and you should not rely on the value returned as per the answer by @chrylis -cautiouslyoptimistic-.</p>\n<p>If you are interested on the value of any <code>Map</code> instance your code uses just print <code>map.getClass()</code>, here are a few examples:</p>\n<pre><code>System.out.println(Map.of().getClass());\nSystem.out.println(Map.of(1,2).getClass());\nSystem.out.println(Map.of(1,2,3,4,5,6).getClass());\n</code></pre>\n<p>Which (in JDK17) prints:</p>\n<pre><code>class java.util.ImmutableCollections$MapN\nclass java.util.ImmutableCollections$Map1\nclass java.util.ImmutableCollections$MapN\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19997926,"reputation":121,"user_id":14657558,"display_name":"Steve McCollom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635791296,"creation_date":1635791296,"answer_id":69801206,"question_id":69800720,"body_markdown":"It returns an Immutable Map from the ImmutableCollections class.\r\nThis class is not part of the public API, but it extends AbstractMap which supplies implementations for all of the basic methods needed for a Map.\r\n\r\nThe important takeaway is that the Map returned by Map.of() is immutable so you can&#39;t add to or change it after it is created. Immutable collections are more secure, are thread safe, and can be more efficient.","title":"What class instance does Map.of() return?","body":"<p>It returns an Immutable Map from the ImmutableCollections class.\nThis class is not part of the public API, but it extends AbstractMap which supplies implementations for all of the basic methods needed for a Map.</p>\n<p>The important takeaway is that the Map returned by Map.of() is immutable so you can't add to or change it after it is created. Immutable collections are more secure, are thread safe, and can be more efficient.</p>\n"}],"owner":{"display_name":"user9431223"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69800780,"answer_count":3,"score":0,"last_activity_date":1635791296,"creation_date":1635788833,"question_id":69800720,"body_markdown":"I&#39;m currently learning about collections and I noticed that the factory method Map.of returns an object of type Map&lt;&gt;. However since Map is only an interface what class does the Map class reference actually point to?","title":"What class instance does Map.of() return?","body":"<p>I'm currently learning about collections and I noticed that the factory method Map.of returns an object of type Map&lt;&gt;. However since Map is only an interface what class does the Map class reference actually point to?</p>\n"},{"tags":["java","string","date","simpledateformat","localdatetime"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1635195774,"post_id":69714699,"comment_id":123227083,"body_markdown":"Try `formatter.setLenient(false);`","body":"Try <code>formatter.setLenient(false);</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":4,"creation_date":1635196425,"post_id":69714699,"comment_id":123227276,"body_markdown":"You shouldn&#39;t use `Date` and `SimpleDateFormat`, they&#39;re both obsolete. Use classes from the `java.time` package instead. In your case probably `LocalDate`. Then with `ChronoUnit.DAYS.between(date1, date2)` you got the time in between.","body":"You shouldn&#39;t use <code>Date</code> and <code>SimpleDateFormat</code>, they&#39;re both obsolete. Use classes from the <code>java.time</code> package instead. In your case probably <code>LocalDate</code>. Then with <code>ChronoUnit.DAYS.between(date1, date2)</code> you got the time in between."},{"owner":{"account_id":18540712,"reputation":25,"user_id":13509268,"display_name":"Robson Fischer"},"score":0,"creation_date":1635196675,"post_id":69714699,"comment_id":123227347,"body_markdown":"@shmosel it worked, thanks","body":"@shmosel it worked, thanks"},{"owner":{"account_id":18540712,"reputation":25,"user_id":13509268,"display_name":"Robson Fischer"},"score":1,"creation_date":1635196753,"post_id":69714699,"comment_id":123227371,"body_markdown":"@MCEmperor how i can change my formatter to use LocalDate?","body":"@MCEmperor how i can change my formatter to use LocalDate?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1635196943,"post_id":69714699,"comment_id":123227419,"body_markdown":"https://stackoverflow.com/questions/27005861/calculate-days-between-two-dates-in-java-8","body":"<a href=\"https://stackoverflow.com/questions/27005861/calculate-days-between-two-dates-in-java-8\" title=\"calculate days between two dates in java 8\">stackoverflow.com/questions/27005861/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1635200380,"post_id":69714699,"comment_id":123228283,"body_markdown":"Always search Stack Overflow thoroughly before posting. This topic has been addressed many many times already.","body":"Always search Stack Overflow thoroughly before posting. This topic has been addressed many many times already."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635239533,"post_id":69714699,"comment_id":123236862,"body_markdown":"Does this answer your question? [SimpleDateFormat parse in wrong date for 29 February \\[duplicate\\]](https://stackoverflow.com/questions/68042689/simpledateformat-parse-in-wrong-date-for-29-february). Does [this](https://stackoverflow.com/questions/1905551/make-simpledateformat-parse-fail-on-invalid-dates-e-g-month-is-greater-than)?","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/68042689/simpledateformat-parse-in-wrong-date-for-29-february\">SimpleDateFormat parse in wrong date for 29 February &#91;duplicate&#93;</a>. Does <a href=\"https://stackoverflow.com/questions/1905551/make-simpledateformat-parse-fail-on-invalid-dates-e-g-month-is-greater-than\">this</a>?"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635294106,"creation_date":1635293098,"answer_id":69731223,"question_id":69714699,"body_markdown":"## java.time\r\n\r\n&gt; @MCEmperor how i can change my formatter to use LocalDate?\r\n\r\nLike MCEmperor I recommend that you use java.time, the modern Java date and time API, for your date work.\r\n\r\n```\r\npublic class Main {\r\n\tprivate static final DateTimeFormatter FORMATTER\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ROOT)\r\n\t\t\t\t\t.withResolverStyle(ResolverStyle.STRICT);\r\n\r\n    public static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n        String d1 = sc.next();\r\n        String d2 = sc.next();\r\n        \r\n        try {\r\n\t\t\tLocalDate date1 = LocalDate.parse(d1, FORMATTER);\r\n\t\t\tLocalDate date2 = LocalDate.parse(d2, FORMATTER);\r\n\t\t\t\r\n\t\t\tlong days = ChronoUnit.DAYS.between(date2, date1);\r\n\t\t\t\r\n\t\t\tSystem.out.println(days);\r\n\t\t} catch (DateTimeParseException dtpe) {\r\n\t\t\tSystem.out.println(&quot;Data inv&#225;lida&quot;);\r\n            dtpe.printStackTrace();\r\n\t\t}\r\n    }\r\n}\r\n```\r\n\r\nExample session:\r\n\r\n```\r\n03/02/2021\r\n02/29/2021\r\nData inv&#225;lida\r\njava.time.format.DateTimeParseException: Text &#39;02/29/2021&#39; could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 29\r\n\tat java.base/java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:2017)\r\n\tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1952)\r\n\tat java.base/java.time.LocalDate.parse(LocalDate.java:428)\r\n\tat Main.main(Main.java:18)\r\n```\r\n\r\nYou may also notice in the code how much more natural and simple it is to calculate the number of days between the two dates.\r\n\r\n## What went wrong in your code?\r\n\r\n&gt; But if I enter an invalid date like `02/29/2021`, it converts to\r\n&gt; `03/01/2021` instead of throwing the exception.\r\n\r\nThat‚Äôs as designed. And I agree with you, it‚Äôs a confusing, surprising and unfortunate design. When you pass February 29 in a non-leap year to a `SimpleDateFormat` with default settings, it just takes it as the day after February 28, that is, March 1. It‚Äôs just one of very many reasons not to use that class.\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n","title":"Why is the expected exception not thrown on parsing invalid date?","body":"<h2>java.time</h2>\n<blockquote>\n<p>@MCEmperor how i can change my formatter to use LocalDate?</p>\n</blockquote>\n<p>Like MCEmperor I recommend that you use java.time, the modern Java date and time API, for your date work.</p>\n<pre><code>public class Main {\n    private static final DateTimeFormatter FORMATTER\n            = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ROOT)\n                    .withResolverStyle(ResolverStyle.STRICT);\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String d1 = sc.next();\n        String d2 = sc.next();\n        \n        try {\n            LocalDate date1 = LocalDate.parse(d1, FORMATTER);\n            LocalDate date2 = LocalDate.parse(d2, FORMATTER);\n            \n            long days = ChronoUnit.DAYS.between(date2, date1);\n            \n            System.out.println(days);\n        } catch (DateTimeParseException dtpe) {\n            System.out.println(&quot;Data inv√°lida&quot;);\n            dtpe.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Example session:</p>\n<pre><code>03/02/2021\n02/29/2021\nData inv√°lida\njava.time.format.DateTimeParseException: Text '02/29/2021' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 29\n    at java.base/java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:2017)\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1952)\n    at java.base/java.time.LocalDate.parse(LocalDate.java:428)\n    at Main.main(Main.java:18)\n</code></pre>\n<p>You may also notice in the code how much more natural and simple it is to calculate the number of days between the two dates.</p>\n<h2>What went wrong in your code?</h2>\n<blockquote>\n<p>But if I enter an invalid date like <code>02/29/2021</code>, it converts to\n<code>03/01/2021</code> instead of throwing the exception.</p>\n</blockquote>\n<p>That‚Äôs as designed. And I agree with you, it‚Äôs a confusing, surprising and unfortunate design. When you pass February 29 in a non-leap year to a <code>SimpleDateFormat</code> with default settings, it just takes it as the day after February 28, that is, March 1. It‚Äôs just one of very many reasons not to use that class.</p>\n<h2>Link</h2>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"owner":{"account_id":18540712,"reputation":25,"user_id":13509268,"display_name":"Robson Fischer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":8,"up_vote_count":1,"closed_date":1635790795,"answer_count":1,"score":-7,"last_activity_date":1635790963,"creation_date":1635195571,"question_id":69714699,"body_markdown":"I get two strings and I must transform them into dates and show the difference in days between them. But I must throw an exception if one of the two dates is invalid.\r\n\r\nThis is the code I have so far for this task:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            String d1 = sc.next();\r\n            String d2 = sc.next();\r\n\r\n            SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\r\n            try {\r\n                Date date1 = formatter.parse(d1);\r\n                Date date2 = formatter.parse(d2);\r\n\r\n                long dt = (date1.getTime() - date2.getTime()) + 3600000;\r\n                long days = (dt / 86400000L);\r\n\r\n                System.out.println(days);\r\n            } catch (ParseException e) {\r\n                System.out.println(&quot;Data inv&#225;lida&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nBut if I enter an invalid date like `02/29/2021`, it converts to `03/01/2021` instead of throwing the exception.","title":"Why is the expected exception not thrown on parsing invalid date?","body":"<p>I get two strings and I must transform them into dates and show the difference in days between them. But I must throw an exception if one of the two dates is invalid.</p>\n<p>This is the code I have so far for this task:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String d1 = sc.next();\n        String d2 = sc.next();\n\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n\n        try {\n            Date date1 = formatter.parse(d1);\n            Date date2 = formatter.parse(d2);\n\n            long dt = (date1.getTime() - date2.getTime()) + 3600000;\n            long days = (dt / 86400000L);\n\n            System.out.println(days);\n        } catch (ParseException e) {\n            System.out.println(&quot;Data inv√°lida&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>But if I enter an invalid date like <code>02/29/2021</code>, it converts to <code>03/01/2021</code> instead of throwing the exception.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1635789911,"post_id":69800758,"comment_id":123382077,"body_markdown":"Do you have a specific question?  What part of the code are you attempting next, and what problem are you having?  Please be detailed when you request help.","body":"Do you have a specific question?  What part of the code are you attempting next, and what problem are you having?  Please be detailed when you request help."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635790227,"creation_date":1635790227,"answer_id":69800990,"question_id":69800758,"body_markdown":"&gt; If the user tries to move the vehicle beyond block +20 or -20, set the location to +/- 20 respectively. (I dont understand how to do this part)\r\n\r\nSimply check it and cap the value\r\n\r\n```\r\n  public void forward()\r\n  {\r\n     location++;\r\n     if (location &gt; 20) location = 20;\r\n  }\r\n  \r\n  public void backward()\r\n  {\r\n    location--;\r\n    if (location &lt; 20) location = -20;\r\n  }\r\n```\r\n\r\nRegarding the `toString` method - Look at the `StringBuilder` class\r\n\r\n```\r\nStringBuilder sb = new StringBuilder();\r\nfor (int i = -20; i &lt;= 20; i++) {\r\n  if (i == getLocation()) {\r\n    sb.append(&quot;@&quot;);\r\n  }\r\n  else sb.append(&quot; &quot;);\r\n}\r\nreturn sb.toString();\r\n```","title":"How does one set a number of spaces based on user input?","body":"<blockquote>\n<p>If the user tries to move the vehicle beyond block +20 or -20, set the location to +/- 20 respectively. (I dont understand how to do this part)</p>\n</blockquote>\n<p>Simply check it and cap the value</p>\n<pre><code>  public void forward()\n  {\n     location++;\n     if (location &gt; 20) location = 20;\n  }\n  \n  public void backward()\n  {\n    location--;\n    if (location &lt; 20) location = -20;\n  }\n</code></pre>\n<p>Regarding the <code>toString</code> method - Look at the <code>StringBuilder</code> class</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nfor (int i = -20; i &lt;= 20; i++) {\n  if (i == getLocation()) {\n    sb.append(&quot;@&quot;);\n  }\n  else sb.append(&quot; &quot;);\n}\nreturn sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22960237,"reputation":118,"user_id":17090226,"display_name":"Rainmaker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635790754,"creation_date":1635790754,"answer_id":69801100,"question_id":69800758,"body_markdown":"First time answering a question, but hope I can be of some help:\r\nI&#39;ve tried to explain what each thing does in places I thought you might have been confused. If you are going to hand this in, please remove the comments.\r\n\r\n        class Vehicle {\r\n        \r\n        private int location;\r\n        \r\n        public Vehicle() {\r\n            // Known as the constructor.\r\n            // Creates an instance of the class, meaning it creates the vehicle object when you say\r\n            // Vehicle car = new Vehicle();\r\n            location = 0;\r\n        }\r\n        \r\n        public Vehicle(int loc) {\r\n            // known as a parameterized constructor, which is just a constructor but you give it some default values.\r\n            // It does not return a value, all it does it make the object in question.\r\n            // In this case, it would be a Vehicle object.\r\n            if (loc &gt;= -20 &amp;&amp; loc &lt;= 20) {\r\n                location = loc;\r\n            }\r\n        }\r\n        \r\n        public void forward() {\r\n            location++;\r\n            if (location &gt;= 21) {\r\n                location = -20;\r\n            }\r\n        }\r\n        \r\n        public void backward() {\r\n            location--;\r\n            if (location &lt;= -21) {\r\n                location = 20;\r\n            }\r\n        }\r\n        \r\n        public int getLocation() {\r\n            return location;\r\n        }\r\n        \r\n        public String toString() {\r\n            String output = &quot;&quot;;\r\n            for (int i = -20; i &lt; location; i++) {\r\n                output += &#39; &#39;;\r\n            }\r\n            return output + &#39;@&#39;;\r\n        }\r\n    }\r\n\r\nHopefully that helps!","title":"How does one set a number of spaces based on user input?","body":"<p>First time answering a question, but hope I can be of some help:\nI've tried to explain what each thing does in places I thought you might have been confused. If you are going to hand this in, please remove the comments.</p>\n<pre><code>    class Vehicle {\n    \n    private int location;\n    \n    public Vehicle() {\n        // Known as the constructor.\n        // Creates an instance of the class, meaning it creates the vehicle object when you say\n        // Vehicle car = new Vehicle();\n        location = 0;\n    }\n    \n    public Vehicle(int loc) {\n        // known as a parameterized constructor, which is just a constructor but you give it some default values.\n        // It does not return a value, all it does it make the object in question.\n        // In this case, it would be a Vehicle object.\n        if (loc &gt;= -20 &amp;&amp; loc &lt;= 20) {\n            location = loc;\n        }\n    }\n    \n    public void forward() {\n        location++;\n        if (location &gt;= 21) {\n            location = -20;\n        }\n    }\n    \n    public void backward() {\n        location--;\n        if (location &lt;= -21) {\n            location = 20;\n        }\n    }\n    \n    public int getLocation() {\n        return location;\n    }\n    \n    public String toString() {\n        String output = &quot;&quot;;\n        for (int i = -20; i &lt; location; i++) {\n            output += ' ';\n        }\n        return output + '@';\n    }\n}\n</code></pre>\n<p>Hopefully that helps!</p>\n"}],"owner":{"account_id":23172696,"reputation":23,"user_id":17271694,"display_name":"Suii1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635790754,"creation_date":1635788976,"question_id":69800758,"body_markdown":"The assignment is asking me to create a class named Vehicle that stimulates a car moving along a 40 block stretch of road. \r\nHere&#39;s more information: \r\n&gt;Your class will build a vehicle and keep track of its location on the road. Location values may range from -20 to 20. A location value of 0 represents block 0, a location value of 1 represents block 1, a location value of 2 represents block 2, etc. If the user tries to move the vehicle beyond block +20 or -20, set the location to +/- 20 respectively.(I dont understand how to do this part) \r\n\r\n**Variable**\r\n&gt;int location - An integer that holds the current block location of the car on the road, with possible values ranging from -20 to 20.\r\n\r\n**Methods**\r\n&gt;**Vehicle ()** - Sets location to 0.\r\nVehicle (int loc) - If loc is between -20 and 20 inclusive, sets location to loc. Otherwise, sets location to 0.\r\n**void forward ()** - Increments the vehicle forward one block. Do not let the user move past block 20.\r\n**void backward ()** - Increments the vehicle backward one block. Do not let the user move past block -20.\r\n**int getLocation ()** - Returns an integer representing the block location of the car.\r\n**String toString ()** - Returns a String representation showing the vehicle as an @ character, with spaces to show its location. When the vehicle is at location -20 the @ character appears at the start of the String. When the vehicle is at a higher position, one space for each number from -20 to the car&#39;s current location appears before the @. For example if the car is at block -10, the method will return &quot;          @&quot; (10 spaces then the &#39;@&#39;). If the car is at block 5 the method will return &quot;                         @&quot; (25 spaces then the &#39;@&#39;).\r\n\r\n\r\nHere&#39;s my code so far(this is in my Vehicle.java file) : \r\n```\r\npublic class Vehicle\r\n{\r\n  private int location;\r\n  \r\n  public Vehicle(int loc)\r\n  {\r\n    return location; \r\n  }\r\n  \r\n  public void forward()\r\n  {\r\n    if (location&gt;=-20 &amp;&amp; location &lt;=20) \r\n    {\r\n      location++;\r\n    }\r\n  }\r\n  \r\n  public void backward()\r\n  {\r\n    if (location&gt;=-20 &amp;&amp; location &lt;=20)\r\n    {\r\n      location--;\r\n    }\r\n  }\r\n  \r\n  public int getLocation()\r\n  {\r\n  return location;   \r\n  } \r\n  \r\n  public String toString()\r\n  {\r\n    return &quot;&quot;; \r\n  }\r\n}\r\n```\r\n\r\n\r\nHere is the runner file: \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class runner_Vehicle\r\n{\r\n  public static void main (String str[]){\r\n    Scanner scan = new Scanner(System.in);\r\n    Vehicle v = new Vehicle ();\r\n    String instruction = &quot;&quot;;\r\n    while(!instruction.equals(&quot;q&quot;)){\r\n      System.out.println(v);\r\n      System.out.println(&quot;Location: &quot; + v.getLocation());\r\n      System.out.println(&quot;Type \\&quot;f\\&quot; to move forwards, \\&quot;b\\&quot; to move backwards, \\&quot;n\\&quot; for new vehicle, \\&quot;q\\&quot; to quit.&quot;);\r\n      instruction = scan.nextLine();\r\n      if(instruction.equals(&quot;f&quot;)){\r\n        v.forward();\r\n      }\r\n      else if(instruction.equals(&quot;b&quot;)){\r\n        v.backward();\r\n      }\r\n      else if(instruction.equals(&quot;n&quot;)){\r\n        System.out.println(&quot;Starting location for new vehicle?&quot;);\r\n        int start = scan.nextInt();\r\n        v = new Vehicle(start);\r\n        scan.nextLine();\r\n      }\r\n      else if(!instruction.equals(&quot;q&quot;)){\r\n        System.out.println(&quot;Instruction not recognized.&quot;);\r\n      }\r\n    }\r\n  }\r\n}\r\n","title":"How does one set a number of spaces based on user input?","body":"<p>The assignment is asking me to create a class named Vehicle that stimulates a car moving along a 40 block stretch of road.\nHere's more information:</p>\n<blockquote>\n<p>Your class will build a vehicle and keep track of its location on the road. Location values may range from -20 to 20. A location value of 0 represents block 0, a location value of 1 represents block 1, a location value of 2 represents block 2, etc. If the user tries to move the vehicle beyond block +20 or -20, set the location to +/- 20 respectively.(I dont understand how to do this part)</p>\n</blockquote>\n<p><strong>Variable</strong></p>\n<blockquote>\n<p>int location - An integer that holds the current block location of the car on the road, with possible values ranging from -20 to 20.</p>\n</blockquote>\n<p><strong>Methods</strong></p>\n<blockquote>\n<p><strong>Vehicle ()</strong> - Sets location to 0.\nVehicle (int loc) - If loc is between -20 and 20 inclusive, sets location to loc. Otherwise, sets location to 0.\n<strong>void forward ()</strong> - Increments the vehicle forward one block. Do not let the user move past block 20.\n<strong>void backward ()</strong> - Increments the vehicle backward one block. Do not let the user move past block -20.\n<strong>int getLocation ()</strong> - Returns an integer representing the block location of the car.\n<strong>String toString ()</strong> - Returns a String representation showing the vehicle as an @ character, with spaces to show its location. When the vehicle is at location -20 the @ character appears at the start of the String. When the vehicle is at a higher position, one space for each number from -20 to the car's current location appears before the @. For example if the car is at block -10, the method will return &quot;          @&quot; (10 spaces then the '@'). If the car is at block 5 the method will return &quot;                         @&quot; (25 spaces then the '@').</p>\n</blockquote>\n<p>Here's my code so far(this is in my Vehicle.java file) :</p>\n<pre><code>public class Vehicle\n{\n  private int location;\n  \n  public Vehicle(int loc)\n  {\n    return location; \n  }\n  \n  public void forward()\n  {\n    if (location&gt;=-20 &amp;&amp; location &lt;=20) \n    {\n      location++;\n    }\n  }\n  \n  public void backward()\n  {\n    if (location&gt;=-20 &amp;&amp; location &lt;=20)\n    {\n      location--;\n    }\n  }\n  \n  public int getLocation()\n  {\n  return location;   \n  } \n  \n  public String toString()\n  {\n    return &quot;&quot;; \n  }\n}\n</code></pre>\n<p>Here is the runner file:</p>\n<pre><code>import java.util.Scanner;\n\npublic class runner_Vehicle\n{\n  public static void main (String str[]){\n    Scanner scan = new Scanner(System.in);\n    Vehicle v = new Vehicle ();\n    String instruction = &quot;&quot;;\n    while(!instruction.equals(&quot;q&quot;)){\n      System.out.println(v);\n      System.out.println(&quot;Location: &quot; + v.getLocation());\n      System.out.println(&quot;Type \\&quot;f\\&quot; to move forwards, \\&quot;b\\&quot; to move backwards, \\&quot;n\\&quot; for new vehicle, \\&quot;q\\&quot; to quit.&quot;);\n      instruction = scan.nextLine();\n      if(instruction.equals(&quot;f&quot;)){\n        v.forward();\n      }\n      else if(instruction.equals(&quot;b&quot;)){\n        v.backward();\n      }\n      else if(instruction.equals(&quot;n&quot;)){\n        System.out.println(&quot;Starting location for new vehicle?&quot;);\n        int start = scan.nextInt();\n        v = new Vehicle(start);\n        scan.nextLine();\n      }\n      else if(!instruction.equals(&quot;q&quot;)){\n        System.out.println(&quot;Instruction not recognized.&quot;);\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":3652803,"reputation":176,"user_id":3044502,"display_name":"Tadas B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635790729,"creation_date":1635790729,"answer_id":69801093,"question_id":69375886,"body_markdown":"Using a Payara server (the same in Glassfish) you can use password alias&#39;es in definition: ${ALIAS=&lt;password-alias-name&gt;} that must be defined in server configuration\r\n\r\n    @DataSourceDefinition(name=&quot;java:global/ExampleDataSource&quot;,\r\n      className=&quot;com.mysql.jdbc.jdbc2.optional.MysqlXADataSource&quot;,\r\n      user=&quot;${mysql.user}&quot;,\r\n      password=&quot;${ALIAS=mysql-db-password}&quot;,\r\n      databaseName=&quot;${ENV=MYSQL_DBNAME}&quot;,\r\n      serverName=&quot;localhost&quot;\r\n   )","title":"How to use @DataSourceDefinition","body":"<p>Using a Payara server (the same in Glassfish) you can use password alias'es in definition: ${ALIAS=} that must be defined in server configuration</p>\n<pre><code>@DataSourceDefinition(name=&quot;java:global/ExampleDataSource&quot;,\n  className=&quot;com.mysql.jdbc.jdbc2.optional.MysqlXADataSource&quot;,\n  user=&quot;${mysql.user}&quot;,\n  password=&quot;${ALIAS=mysql-db-password}&quot;,\n  databaseName=&quot;${ENV=MYSQL_DBNAME}&quot;,\n  serverName=&quot;localhost&quot;\n</code></pre>\n<p>)</p>\n"}],"owner":{"account_id":930553,"reputation":4996,"user_id":960504,"accept_rate":62,"display_name":"RDM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635790729,"creation_date":1632916479,"question_id":69375886,"body_markdown":"I&#39;m intrigued by [`@DataSourceDefinition`](https://jakarta.ee/specifications/annotations/2.0/apidocs/jakarta.annotation/jakarta/annotation/sql/datasourcedefinition) but I&#39;m unsure how to use it due to the (plain text) password attribute. As [mentioned in the spec](https://jakarta.ee/specifications/annotations/2.0/annotations-spec-2.0.html#jakarta-annotation-sql-datasourcedefinition):\r\n\r\n&gt; Although the annotation allows you to specify a password, it is recommended not to embed passwords in production code. The password element in the annotation is provided as a convenience for ease of development.\r\n\r\nFrom that I understand that it should only be used locally, but how would that work? Would one need to remove the annotation before building for a prod release? Such a philosophy is quite conflicting with several of [the twelve factors](https://12factor.net/): I (codebase checked into revision control), III (externalized configuration), X (dev/prod parity).\r\n\r\nI&#39;d love to see EL in these kinds of annotations in future Jakarta releases, but until then, could someone explain how to use `@DataSourceDefinition` in any other setting than a purely local toy example?\r\n\r\nI&#39;m aware of [this related question](https://stackoverflow.com/questions/26064437/java-ee7-datasourcedefinition-how-to-parameterize-values), but if the answer is simply &quot;use the mechanism of your application server&quot;, doesn&#39;t that render the annotation useless?","title":"How to use @DataSourceDefinition","body":"<p>I'm intrigued by <a href=\"https://jakarta.ee/specifications/annotations/2.0/apidocs/jakarta.annotation/jakarta/annotation/sql/datasourcedefinition\" rel=\"nofollow noreferrer\"><code>@DataSourceDefinition</code></a> but I'm unsure how to use it due to the (plain text) password attribute. As <a href=\"https://jakarta.ee/specifications/annotations/2.0/annotations-spec-2.0.html#jakarta-annotation-sql-datasourcedefinition\" rel=\"nofollow noreferrer\">mentioned in the spec</a>:</p>\n<blockquote>\n<p>Although the annotation allows you to specify a password, it is recommended not to embed passwords in production code. The password element in the annotation is provided as a convenience for ease of development.</p>\n</blockquote>\n<p>From that I understand that it should only be used locally, but how would that work? Would one need to remove the annotation before building for a prod release? Such a philosophy is quite conflicting with several of <a href=\"https://12factor.net/\" rel=\"nofollow noreferrer\">the twelve factors</a>: I (codebase checked into revision control), III (externalized configuration), X (dev/prod parity).</p>\n<p>I'd love to see EL in these kinds of annotations in future Jakarta releases, but until then, could someone explain how to use <code>@DataSourceDefinition</code> in any other setting than a purely local toy example?</p>\n<p>I'm aware of <a href=\"https://stackoverflow.com/questions/26064437/java-ee7-datasourcedefinition-how-to-parameterize-values\">this related question</a>, but if the answer is simply &quot;use the mechanism of your application server&quot;, doesn't that render the annotation useless?</p>\n"},{"tags":["java","multithreading","tomcat","scheduled-tasks","scheduledexecutorservice"],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502387822,"creation_date":1502381963,"answer_id":45618856,"question_id":45618565,"body_markdown":"&gt; Now when the method is first run it seems like is not executed as specified by delay and interval. E.g. when i set delay=60 and interval=5 in my stacktrace it looks like this...\r\n\r\nI try to be very explicit with my time variables.  In this case, you should be dealing with milliseconds so `delayMillis`, `intervalMillis`, `aIntervalMillis`, etc. should be in your code.  If they are seconds then use `delaySecs`, etc. but you will need to multiple them by 1000 when you pass them to the [`scheduleAtFixedRate(...)` method][1] which is expecting millis.\r\n\r\n&gt; So the intervals somehow are becoming shorter and shorter over time. What is going on here? Is there a problem in my method?\r\n\r\nWhat&#39;s probably going on is that the task is trying to schedule it every 5 milliseconds so the random delays are just showing you how long your `doTask()` takes to run.    If you want to set them to 60 and 5 _seconds_ respectively then you should use 60000 and 5000 instead.\r\n\r\n&gt; When i try that and my schedule() method is running i get a message from my eclipse (neon 3) saying tomcat is not responding and my tomcat is not shutting down properly. \r\n\r\nNot sure about this but I suspect that your tomcat is waiting for your scheduled task to finish which is never will on its own.  You could use a ThreadFactory and create a daemon thread instead which the JVM will not wait for when it shuts down.  Note that if it is a daemon thread then it might get terminated right in the middle of running.\r\n\r\n    scheduler = Executors.newScheduledThreadPool(1, new ThreadFactory() {\r\n        public Thread newThread(Runnable r) {\r\n           Thread thread = new Thread(r);\r\n           // allow the JVM to kill the scheduled task\r\n           thread.setDaemon(true);\r\n           return thread;\r\n        }\r\n    });\r\n\r\nAlso, you should call `scheduler.shutdown()` on your thread-pool after you submit your fixed task.  It will continue to run but no other jobs will be submitted.  That&#39;s a good pattern.\r\n\r\n&gt; How can I stop my execution task in a proper way?\r\n\r\nThe daemon thread mode about may be &quot;proper&quot; in your case but you can also cancel it.  The `scheduler.scheduleAtFixedRate(...)` method returns a [`ScheduledFuture`][2] object that you can call [`cancel(...)`][3] on to stop it.  Once your `doTask()` finishes it won&#39;t be scheduled again.  You can also call `cancel(true)` on it to set the interrupt flag on the thread but your code is going to have to handle that specifically.\r\n\r\nOf course you are going to need to detect that your JVM is shutting down so you can cancel your task.  You could set a shutdown hook which is a bit of a hack.  Maybe there is some way for tomcat to notify that it&#39;s coming down?\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledFuture.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#cancel(boolean)","title":"ScheduledExecutorService not behaving as expected","body":"<blockquote>\n  <p>Now when the method is first run it seems like is not executed as specified by delay and interval. E.g. when i set delay=60 and interval=5 in my stacktrace it looks like this...</p>\n</blockquote>\n\n<p>I try to be very explicit with my time variables.  In this case, you should be dealing with milliseconds so <code>delayMillis</code>, <code>intervalMillis</code>, <code>aIntervalMillis</code>, etc. should be in your code.  If they are seconds then use <code>delaySecs</code>, etc. but you will need to multiple them by 1000 when you pass them to the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>scheduleAtFixedRate(...)</code> method</a> which is expecting millis.</p>\n\n<blockquote>\n  <p>So the intervals somehow are becoming shorter and shorter over time. What is going on here? Is there a problem in my method?</p>\n</blockquote>\n\n<p>What's probably going on is that the task is trying to schedule it every 5 milliseconds so the random delays are just showing you how long your <code>doTask()</code> takes to run.    If you want to set them to 60 and 5 <em>seconds</em> respectively then you should use 60000 and 5000 instead.</p>\n\n<blockquote>\n  <p>When i try that and my schedule() method is running i get a message from my eclipse (neon 3) saying tomcat is not responding and my tomcat is not shutting down properly. </p>\n</blockquote>\n\n<p>Not sure about this but I suspect that your tomcat is waiting for your scheduled task to finish which is never will on its own.  You could use a ThreadFactory and create a daemon thread instead which the JVM will not wait for when it shuts down.  Note that if it is a daemon thread then it might get terminated right in the middle of running.</p>\n\n<pre><code>scheduler = Executors.newScheduledThreadPool(1, new ThreadFactory() {\n    public Thread newThread(Runnable r) {\n       Thread thread = new Thread(r);\n       // allow the JVM to kill the scheduled task\n       thread.setDaemon(true);\n       return thread;\n    }\n});\n</code></pre>\n\n<p>Also, you should call <code>scheduler.shutdown()</code> on your thread-pool after you submit your fixed task.  It will continue to run but no other jobs will be submitted.  That's a good pattern.</p>\n\n<blockquote>\n  <p>How can I stop my execution task in a proper way?</p>\n</blockquote>\n\n<p>The daemon thread mode about may be \"proper\" in your case but you can also cancel it.  The <code>scheduler.scheduleAtFixedRate(...)</code> method returns a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledFuture.html\" rel=\"nofollow noreferrer\"><code>ScheduledFuture</code></a> object that you can call <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#cancel(boolean)\" rel=\"nofollow noreferrer\"><code>cancel(...)</code></a> on to stop it.  Once your <code>doTask()</code> finishes it won't be scheduled again.  You can also call <code>cancel(true)</code> on it to set the interrupt flag on the thread but your code is going to have to handle that specifically.</p>\n\n<p>Of course you are going to need to detect that your JVM is shutting down so you can cancel your task.  You could set a shutdown hook which is a bit of a hack.  Maybe there is some way for tomcat to notify that it's coming down?</p>\n"},{"tags":[],"owner":{"account_id":1765805,"reputation":5354,"user_id":1611714,"display_name":"Binita Bharati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635790344,"creation_date":1635790344,"answer_id":69801015,"question_id":45618565,"body_markdown":"&gt; the  intervals somehow are becoming shorter and shorter over time\r\n\r\nWe need to understand how `ScheduledExecutorService:scheduleAtFixedRate` is supposed to work. According to docs, https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate, we can conclude the following:\r\n\r\n&gt; 1. The time of each run is pre-determined. \r\n&gt; 2. This pre-calculated time may not tally when the previous run of the same task takes longer than point no 1. In such case, the \r\n&gt; next run will happen immediately after the longer running previous run\r\n&gt; has finished.\r\n&gt; 3. Same task can never run concurrently; even if the expected start time of the next run has exceeded. As mentioned by point no 2, the next run will wait till\r\n&gt; the previous longer run finishes.\r\n\r\nNow, coming to your case, you had expected to see your task getting run at equal intervals. But, instead the intervals between them are getting shorter with each run. This could be due to any previous run that took considerable longer time, piling up other run(s) which have exceeded their expected start time. Further piled up runs (`doTask` method) finish quickly. So, all the piled up runs are running at closer intervals. If you really want the task to run at equal intervals, you could instead use `ScheduledExecutorService: scheduleWithFixedDelay`","title":"ScheduledExecutorService not behaving as expected","body":"<blockquote>\n<p>the  intervals somehow are becoming shorter and shorter over time</p>\n</blockquote>\n<p>We need to understand how <code>ScheduledExecutorService:scheduleAtFixedRate</code> is supposed to work. According to docs, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate</a>, we can conclude the following:</p>\n<blockquote>\n<ol>\n<li>The time of each run is pre-determined.</li>\n<li>This pre-calculated time may not tally when the previous run of the same task takes longer than point no 1. In such case, the\nnext run will happen immediately after the longer running previous run\nhas finished.</li>\n<li>Same task can never run concurrently; even if the expected start time of the next run has exceeded. As mentioned by point no 2, the next run will wait till\nthe previous longer run finishes.</li>\n</ol>\n</blockquote>\n<p>Now, coming to your case, you had expected to see your task getting run at equal intervals. But, instead the intervals between them are getting shorter with each run. This could be due to any previous run that took considerable longer time, piling up other run(s) which have exceeded their expected start time. Further piled up runs (<code>doTask</code> method) finish quickly. So, all the piled up runs are running at closer intervals. If you really want the task to run at equal intervals, you could instead use <code>ScheduledExecutorService: scheduleWithFixedDelay</code></p>\n"}],"owner":{"account_id":5446581,"reputation":626,"user_id":4332916,"accept_rate":55,"display_name":"flixe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635790344,"creation_date":1502381112,"question_id":45618565,"body_markdown":"I&#39;m trying to execute a task at midnight after a fixed amount of days using `ScheduleExecutorService`. My method runs inside of my tomcat 8 and looks like this:\r\n\r\n    public void schedule (int aInterval)\r\n    \t{\r\n    \t\tString timezone = TimeZone.getDefault().getID();\r\n    \t    ZoneId z = ZoneId.of(timezone);\r\n    \t    ZonedDateTime now = ZonedDateTime.now( z );\r\n    \t \r\n    \t    LocalDate tomorrow = now.toLocalDate().plusDays(1);    \r\n    \t    ZonedDateTime tomorrowStart = tomorrow.atStartOfDay( z );\r\n    \t\tDuration duration = Duration.between( now , tomorrowStart );\r\n    \t\tlong millisecondsUntilTomorrow = duration.toMillis();\r\n    \t\tlong interval;\r\n    \t\t\r\n    \t\tif (aInterval * 24 * 60 * 60 &gt; Long.MAX_VALUE)\r\n    \t\t{\r\n    \t\t\tinterval = Long.MAX_VALUE;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tinterval = aInterval * 24 * 60 * 60;\r\n    \t\t}\r\n    \t\t\r\n    \t\tScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1, new ThreadFactory() {\r\n\t\t        public Thread newThread(Runnable r) {\r\n\t\t            Thread thread = new Thread(r);\r\n\t\t            // allow the JVM to kill the scheduled task\r\n\t\t            thread.setDaemon(true);\r\n\t\t            return thread;\r\n\t\t        });            \r\n            scheduler.scheduleAtFixedRate(new Runnable()\r\n        \t\t{\r\n    \t        \tpublic void run() {\r\n    \t\t\t\t\tSystem.out.println(String.format(&quot;schedule::run() at  %1$Td.%1$tm.%1$tY %1$tH:%1$tM:%1$tS \\n&quot;, System.currentTimeMillis() ) );\r\n\r\n    \t\t\t\t\tdoTask();\r\n    \t        \t}\r\n        \t\t}, \r\n        \t\tdelay,\r\n                interval, \r\n                TimeUnit.SECONDS);\r\n    \t}\r\n\r\nNow when the method is first run it seems like is not executed as specifed by `delay` and `interval`. E.g. when i set `delay=60` and `interval=5` in my stacktrace it looks like this:\r\n\r\n    ...\r\n    schedule::run() at  10.08.2017 17:57:09 \r\n    schedule::run() at  10.08.2017 17:57:15 \r\n    schedule::run() at  10.08.2017 17:57:21 \r\n    schedule::run() at  10.08.2017 17:57:27 \r\n    schedule::run() at  10.08.2017 17:57:27 \r\n    schedule::run() at  10.08.2017 17:57:33 \r\n    schedule::run() at  10.08.2017 17:57:33 \r\n    schedule::run() at  10.08.2017 17:57:34 \r\n    ...\r\n\r\nSo the intervals somehow are becoming shorter and shorter over time. What is going on here? Is there a problem in my method?","title":"ScheduledExecutorService not behaving as expected","body":"<p>I'm trying to execute a task at midnight after a fixed amount of days using <code>ScheduleExecutorService</code>. My method runs inside of my tomcat 8 and looks like this:</p>\n\n<pre><code>public void schedule (int aInterval)\n    {\n        String timezone = TimeZone.getDefault().getID();\n        ZoneId z = ZoneId.of(timezone);\n        ZonedDateTime now = ZonedDateTime.now( z );\n\n        LocalDate tomorrow = now.toLocalDate().plusDays(1);    \n        ZonedDateTime tomorrowStart = tomorrow.atStartOfDay( z );\n        Duration duration = Duration.between( now , tomorrowStart );\n        long millisecondsUntilTomorrow = duration.toMillis();\n        long interval;\n\n        if (aInterval * 24 * 60 * 60 &gt; Long.MAX_VALUE)\n        {\n            interval = Long.MAX_VALUE;\n        }\n        else\n        {\n            interval = aInterval * 24 * 60 * 60;\n        }\n\n        ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1, new ThreadFactory() {\n            public Thread newThread(Runnable r) {\n                Thread thread = new Thread(r);\n                // allow the JVM to kill the scheduled task\n                thread.setDaemon(true);\n                return thread;\n            });            \n        scheduler.scheduleAtFixedRate(new Runnable()\n            {\n                public void run() {\n                    System.out.println(String.format(\"schedule::run() at  %1$Td.%1$tm.%1$tY %1$tH:%1$tM:%1$tS \\n\", System.currentTimeMillis() ) );\n\n                    doTask();\n                }\n            }, \n            delay,\n            interval, \n            TimeUnit.SECONDS);\n    }\n</code></pre>\n\n<p>Now when the method is first run it seems like is not executed as specifed by <code>delay</code> and <code>interval</code>. E.g. when i set <code>delay=60</code> and <code>interval=5</code> in my stacktrace it looks like this:</p>\n\n<pre><code>...\nschedule::run() at  10.08.2017 17:57:09 \nschedule::run() at  10.08.2017 17:57:15 \nschedule::run() at  10.08.2017 17:57:21 \nschedule::run() at  10.08.2017 17:57:27 \nschedule::run() at  10.08.2017 17:57:27 \nschedule::run() at  10.08.2017 17:57:33 \nschedule::run() at  10.08.2017 17:57:33 \nschedule::run() at  10.08.2017 17:57:34 \n...\n</code></pre>\n\n<p>So the intervals somehow are becoming shorter and shorter over time. What is going on here? Is there a problem in my method?</p>\n"},{"tags":["java","xml-parsing"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1635790898,"post_id":69800979,"comment_id":123382421,"body_markdown":"Are you talking about a 2d List? Edit: Why would you want to break it up?","body":"Are you talking about a 2d List? Edit: Why would you want to break it up?"},{"owner":{"account_id":23208562,"reputation":1,"user_id":17302405,"display_name":"siri"},"score":1,"creation_date":1635791561,"post_id":69800979,"comment_id":123382651,"body_markdown":"Actually I have to process that NodeList, but due to its size processing time is getting delayed, so want to divide into multiple smaller lists and process each list","body":"Actually I have to process that NodeList, but due to its size processing time is getting delayed, so want to divide into multiple smaller lists and process each list"},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":1,"creation_date":1635793340,"post_id":69800979,"comment_id":123383265,"body_markdown":"1500 objects shouldn&#39;t take that long. And if if it&#39;s faster to process 5 NodeLists than 1 NodeList of equal objects. This tells you there is something wrong with your recursion/logic. Honestly, I would focus on finding out why your code is running slow rather than finding a work around.","body":"1500 objects shouldn&#39;t take that long. And if if it&#39;s faster to process 5 NodeLists than 1 NodeList of equal objects. This tells you there is something wrong with your recursion/logic. Honestly, I would focus on finding out why your code is running slow rather than finding a work around."}],"owner":{"account_id":23208562,"reputation":1,"user_id":17302405,"display_name":"siri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635790155,"creation_date":1635790155,"question_id":69800979,"body_markdown":"I am having a NodeList with size over 1500, so I want a List of NodeLists with each length of 300.\r\nIs there any easy method to get it done? Thanks in advance","title":"How can we split one huge org.w3c.dom.NodeList into List of NodeLists in Java?","body":"<p>I am having a NodeList with size over 1500, so I want a List of NodeLists with each length of 300.\nIs there any easy method to get it done? Thanks in advance</p>\n"},{"tags":["java","css","javafx","scenebuilder"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1635780292,"post_id":69798992,"comment_id":123378561,"body_markdown":"See the [eden coding guide to JavaFX resources](https://edencoding.com/where-to-put-resource-files-in-javafx/)","body":"See the <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">eden coding guide to JavaFX resources</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1635780389,"post_id":69798992,"comment_id":123378607,"body_markdown":"Including `src` In a resource lookup path is always wrong.","body":"Including <code>src</code> In a resource lookup path is always wrong."},{"owner":{"account_id":22875060,"reputation":31,"user_id":17017525,"display_name":"it_would_be_better"},"score":0,"creation_date":1635780436,"post_id":69798992,"comment_id":123378623,"body_markdown":"didn&#39;t help, after this code mainScene.getStylesheets (). add (App.class.getResource (&quot;style.css&quot;). toExternalForm ());\nthe compiler threw out a new error and now my program won&#39;t start at all","body":"didn&#39;t help, after this code mainScene.getStylesheets (). add (App.class.getResource (&quot;style.css&quot;). toExternalForm ()); the compiler threw out a new error and now my program won&#39;t start at all"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1635781349,"post_id":69798992,"comment_id":123379002,"body_markdown":"Your program is called `HelloApplication`, not `App`.  You also don‚Äôt supply the full code so helping directly is not possible, no [mcve].  What package is HelloApplication in?  You are doing a relative lookup in your comment so the resource needs to be in the same directory as your application class *in the build output*, is it? To add additional information,  add it as code formatted in the question with an appropriate comment about the update of your edit.  And link to the info you have already tried so time is not wasted providing duplicate advice.","body":"Your program is called <code>HelloApplication</code>, not <code>App</code>.  You also don‚Äôt supply the full code so helping directly is not possible, no <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  What package is HelloApplication in?  You are doing a relative lookup in your comment so the resource needs to be in the same directory as your application class <i>in the build output</i>, is it? To add additional information,  add it as code formatted in the question with an appropriate comment about the update of your edit.  And link to the info you have already tried so time is not wasted providing duplicate advice."},{"owner":{"account_id":22875060,"reputation":31,"user_id":17017525,"display_name":"it_would_be_better"},"score":0,"creation_date":1635782205,"post_id":69798992,"comment_id":123379315,"body_markdown":"i have corrected","body":"i have corrected"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1635783994,"post_id":69798992,"comment_id":123379949,"body_markdown":"`style.css` is in a different package to `com.example.applibrary`.  It is in the unnamed package.  To find it use the resource lookup string `/style.css`.  Note the prefixed `/` and no `s` on the end because your question stats it is called `style.css` not `styles.css`.  If you load the css in the scene you don‚Äôt also need to load it in the fxml.  For some reason you did not provide the fxml. But you need to check what it is doing because your error message in the question states that the css lookup was performed twice and wrong in both cases.","body":"<code>style.css</code> is in a different package to <code>com.example.applibrary</code>.  It is in the unnamed package.  To find it use the resource lookup string <code>&#47;style.css</code>.  Note the prefixed <code>&#47;</code> and no <code>s</code> on the end because your question stats it is called <code>style.css</code> not <code>styles.css</code>.  If you load the css in the scene you don‚Äôt also need to load it in the fxml.  For some reason you did not provide the fxml. But you need to check what it is doing because your error message in the question states that the css lookup was performed twice and wrong in both cases."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1635788564,"post_id":69798992,"comment_id":123381606,"body_markdown":"The API you use to find your stylesheet is explained in javadoc [scene.getStyleSheets()](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Scene.html#getStylesheets()).  When using that API, the leading `/` isn&#39;t required, but I think it is still good to have it there, as it is more intuitive.  I find it a easier to always work with `getResource()`, e.g. `scene.getStylesheets().add(&lt;your app class&gt;.getResource(&quot;&lt;your path&gt;&quot;).toExternalForm())`, then the process for loading fxml and css is the same and you can debug the lookup path with System.out.println.","body":"The API you use to find your stylesheet is explained in javadoc <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Scene.html#getStylesheets()\" rel=\"nofollow noreferrer\">scene.getStyleSheets()</a>.  When using that API, the leading <code>&#47;</code> isn&#39;t required, but I think it is still good to have it there, as it is more intuitive.  I find it a easier to always work with <code>getResource()</code>, e.g. <code>scene.getStylesheets().add(&lt;your app class&gt;.getResource(&quot;&lt;your path&gt;&quot;).toExternalForm())</code>, then the process for loading fxml and css is the same and you can debug the lookup path with System.out.println."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1635790307,"post_id":69798992,"comment_id":123382218,"body_markdown":"For showing your project directory, use the `tree` command and put the tree output as text (surrounded with html `pre` tags) in the question.  This will then accurately reflect your directory structure and file locations for all of your files.  If you don&#39;t have a `tree` command installed on your OS, you can lookup how to install one.","body":"For showing your project directory, use the <code>tree</code> command and put the tree output as text (surrounded with html <code>pre</code> tags) in the question.  This will then accurately reflect your directory structure and file locations for all of your files.  If you don&#39;t have a <code>tree</code> command installed on your OS, you can lookup how to install one."}],"owner":{"account_id":22875060,"reputation":31,"user_id":17017525,"display_name":"it_would_be_better"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1635781696,"answer_count":0,"score":0,"last_activity_date":1635790131,"creation_date":1635779920,"question_id":69798992,"body_markdown":"I tried all the methods written in the stackoverflow, but all these methods did not work for me.\r\n\r\nThese are the methods I tried:  \r\n\r\n - https://stackoverflow.com/questions/36934339/javafx-warning-resource-style-css-not-found-intellij\r\n - https://www.dreamincode.net/forums/topic/406296-resource-stylecss-not-found/\r\n - https://blog.idrsolutions.com/2014/04/use-external-css-files-javafx/\r\n - https://coderoad.ru/22627579/%D0%9A%D0%B0%D0%BA-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%B8%D1%82%D1%8C-%D1%84%D0%B0%D0%B9%D0%BB-css-%D0%B2-javafx8\r\n\r\nEverything works well in the scene builder, but when I run the program, this comes out:\r\n\r\n    nove. 01, 2021 9:10:50 PM com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged   \r\n    INFO: Could not find stylesheet:                            \r\n    file:/C:/Users/User/Desktop/Coursework/AppLibrary/target/classes/com/example/applibrary/style.css  \r\n    nove. 01, 2021 9:10:50 PM com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged  \r\n    WARNING: Resource &quot;src/main/resources/styles.css&quot; not found.\r\n\r\nMy code looks like this:\r\n\r\n    package com.example.applibrary;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n\r\n    public class HelloApplication extends Application {\r\n\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;login.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 1000, 500);\r\n            //\r\n            scene.getStylesheets().add(&quot;src/main/resources/styles.css&quot;);\r\n            //\r\n            stage.setResizable(false);\r\n            stage.setTitle(&quot;Login&quot;);\r\n            stage.setScene(scene);\r\n            stage.centerOnScreen();\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nMy folders look like this:\r\n\r\n - src\r\n    - main\r\n      - java\r\n      - resources\r\n        - style.css\r\n","title":"I cant install the CSS file to my JavaFX project","body":"<p>I tried all the methods written in the stackoverflow, but all these methods did not work for me.</p>\n<p>These are the methods I tried:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/36934339/javafx-warning-resource-style-css-not-found-intellij\">Javafx WARNING: Resource &quot;style.css&quot; not found intellij</a></li>\n<li><a href=\"https://www.dreamincode.net/forums/topic/406296-resource-stylecss-not-found/\" rel=\"nofollow noreferrer\">https://www.dreamincode.net/forums/topic/406296-resource-stylecss-not-found/</a></li>\n<li><a href=\"https://blog.idrsolutions.com/2014/04/use-external-css-files-javafx/\" rel=\"nofollow noreferrer\">https://blog.idrsolutions.com/2014/04/use-external-css-files-javafx/</a></li>\n<li><a href=\"https://coderoad.ru/22627579/%D0%9A%D0%B0%D0%BA-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%B8%D1%82%D1%8C-%D1%84%D0%B0%D0%B9%D0%BB-css-%D0%B2-javafx8\" rel=\"nofollow noreferrer\">https://coderoad.ru/22627579/%D0%9A%D0%B0%D0%BA-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%B8%D1%82%D1%8C-%D1%84%D0%B0%D0%B9%D0%BB-css-%D0%B2-javafx8</a></li>\n</ul>\n<p>Everything works well in the scene builder, but when I run the program, this comes out:</p>\n<pre><code>nove. 01, 2021 9:10:50 PM com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged   \nINFO: Could not find stylesheet:                            \nfile:/C:/Users/User/Desktop/Coursework/AppLibrary/target/classes/com/example/applibrary/style.css  \nnove. 01, 2021 9:10:50 PM com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged  \nWARNING: Resource &quot;src/main/resources/styles.css&quot; not found.\n</code></pre>\n<p>My code looks like this:</p>\n<pre><code>package com.example.applibrary;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.net.URL;\n\npublic class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;login.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 1000, 500);\n        //\n        scene.getStylesheets().add(&quot;src/main/resources/styles.css&quot;);\n        //\n        stage.setResizable(false);\n        stage.setTitle(&quot;Login&quot;);\n        stage.setScene(scene);\n        stage.centerOnScreen();\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>My folders look like this:</p>\n<ul>\n<li>src\n<ul>\n<li>main\n<ul>\n<li>java</li>\n<li>resources\n<ul>\n<li>style.css</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1635772905,"post_id":69797161,"comment_id":123375591,"body_markdown":"I think a list and some variables to calculate the time when an element was saved is not the right choice to implement what you have in mind. I think you should look for some caching approachs. Im thinking about something like [Guava](https://www.baeldung.com/guava-cache) or [caffeine](https://github.com/ben-manes/caffeine)","body":"I think a list and some variables to calculate the time when an element was saved is not the right choice to implement what you have in mind. I think you should look for some caching approachs. Im thinking about something like <a href=\"https://www.baeldung.com/guava-cache\" rel=\"nofollow noreferrer\">Guava</a> or <a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">caffeine</a>"},{"owner":{"account_id":23048096,"reputation":19,"user_id":17165370,"display_name":"AAAAAAbc"},"score":0,"creation_date":1635773226,"post_id":69797161,"comment_id":123375723,"body_markdown":"@Eritrean Thanks for the comment, but I wanna finish this only by using the processing lib since I&#39;m not familiar with others...","body":"@Eritrean Thanks for the comment, but I wanna finish this only by using the processing lib since I&#39;m not familiar with others..."}],"answers":[{"tags":[],"owner":{"account_id":21100099,"reputation":528,"user_id":15510171,"display_name":"bittap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635783386,"creation_date":1635783386,"answer_id":69799708,"question_id":69797161,"body_markdown":"Use while for checking element from list 2 seconds after adding.\r\n\r\n    // remove element from list 2 seconds after adding it\r\n    while (startedTime+timeDuration &gt;= System.currentTimeMillis()) {\r\n\t\t// If delete exit while\r\n\t\titems.remove(0);\r\n\t\tbreak;\r\n\t}\r\n\r\n and Use thread for removing your item when you can keypress space.\r\n\r\n    if (keycode == 32) { // SPACE\r\n\t\t long startTime = System.currentTimeMillis();\r\n\t\t items.add(&quot;new item&quot;); \r\n\t\t // Thread execute\r\n\t\t Thread thread = new Thread(new Remover(startTime, items));\r\n\t\t thread.start();\r\n\t}\r\n\r\n    @Override\r\n\tpublic void run() {\r\n\t\t// remove element from list 2 seconds after adding it\r\n\t\twhile (startedTime+timeDuration &gt;= System.currentTimeMillis()) {\r\n\t\t\t// If delete exit while\r\n\t\t\titems.remove(0);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t // whether item is deleted\r\n\t\tSystem.out.println(items);\r\n\t}\r\n\r\nFull code\r\n\r\n\tpublic class Main {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tMain main = new Main();\r\n\t\t\t\r\n\t\t\tmain.keyPressed(32);\r\n\r\n\t\t}\r\n\t\t\r\n\t\t// Integer instead of Keycode\r\n\t\tpublic void keyPressed(Integer keycode) {\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; items = new ArrayList&lt;String&gt;();\r\n\r\n\t\t    if (keycode == 32) { // SPACE\r\n\t\t        long startTime = System.currentTimeMillis();\r\n\t\t        items.add(&quot;new item&quot;); \r\n\t\t        // Check items\r\n\t\t        System.out.println(items);\r\n\t\t        \r\n\t\t        // Thread execute\r\n\t\t        Thread thread = new Thread(new Remover(startTime, items));\r\n\t\t        thread.start();\r\n\t\t    }\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tclass Remover implements Runnable{\r\n\t\t\r\n\t\tList&lt;String&gt; items;\r\n\t\t\r\n\t\tint timeDuration = 2000;\r\n\t\t\r\n\t\tlong startedTime;\r\n\t\t\r\n\t\tpublic Remover(long startedTime,List&lt;String&gt; items) {\r\n\t\t\tthis.startedTime = startedTime;\r\n\t\t\tthis.items = items;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\t// remove element from list 2 seconds after adding it\r\n\t\t\twhile (startedTime+timeDuration &gt;= System.currentTimeMillis()) {\r\n\t\t\t\t// If delete items,Exit while\r\n\t\t\t\titems.remove(0);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t // whether item is deleted\r\n\t\t\tSystem.out.println(items);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n","title":"JAVA how to remove element from list 2 seconds after adding it?","body":"<p>Use while for checking element from list 2 seconds after adding.</p>\n<pre><code>// remove element from list 2 seconds after adding it\nwhile (startedTime+timeDuration &gt;= System.currentTimeMillis()) {\n    // If delete exit while\n    items.remove(0);\n    break;\n}\n</code></pre>\n<p>and Use thread for removing your item when you can keypress space.</p>\n<pre><code>if (keycode == 32) { // SPACE\n     long startTime = System.currentTimeMillis();\n     items.add(&quot;new item&quot;); \n     // Thread execute\n     Thread thread = new Thread(new Remover(startTime, items));\n     thread.start();\n}\n\n@Override\npublic void run() {\n    // remove element from list 2 seconds after adding it\n    while (startedTime+timeDuration &gt;= System.currentTimeMillis()) {\n        // If delete exit while\n        items.remove(0);\n        break;\n    }\n     // whether item is deleted\n    System.out.println(items);\n}\n</code></pre>\n<p>Full code</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Main main = new Main();\n        \n        main.keyPressed(32);\n\n    }\n    \n    // Integer instead of Keycode\n    public void keyPressed(Integer keycode) {\n        \n        List&lt;String&gt; items = new ArrayList&lt;String&gt;();\n\n        if (keycode == 32) { // SPACE\n            long startTime = System.currentTimeMillis();\n            items.add(&quot;new item&quot;); \n            // Check items\n            System.out.println(items);\n            \n            // Thread execute\n            Thread thread = new Thread(new Remover(startTime, items));\n            thread.start();\n        }\n    }\n    \n}\n\nclass Remover implements Runnable{\n    \n    List&lt;String&gt; items;\n    \n    int timeDuration = 2000;\n    \n    long startedTime;\n    \n    public Remover(long startedTime,List&lt;String&gt; items) {\n        this.startedTime = startedTime;\n        this.items = items;\n    }\n\n    @Override\n    public void run() {\n        // remove element from list 2 seconds after adding it\n        while (startedTime+timeDuration &gt;= System.currentTimeMillis()) {\n            // If delete items,Exit while\n            items.remove(0);\n            break;\n        }\n         // whether item is deleted\n        System.out.println(items);\n    }\n    \n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16732662,"reputation":481,"user_id":12094608,"display_name":"KamielDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635789860,"creation_date":1635789413,"answer_id":69800837,"question_id":69797161,"body_markdown":"I personally wouldn&#39;t mix and match threading and Processing together. \r\n\r\nIf you&#39;re using Processing, and are doing this for a game (thus probably dont require milisecond precision), why not just use the framerate as a time measurement? Your Processing programs are always supposed to run at a set `frameRate` (unless you have some performance issues). You also won&#39;t see anything happen untill the frame where the action happens has been drawn anyway, so it doesn&#39;t really matter if your action completed halfway between a frame, your end user won&#39;t see the difference.\r\n\r\nThe default `frameRate` in Processing is 30fps. You can set a custom rate using the `frameRate()` function ([docs][1]). `frameCount` returns the number of frames drawn (0 on the first frame). \r\n\r\nThus, you can do something like the following pseudocode\r\n\r\n```\r\nint removeItemCheckpoint;\r\nint removeItemDuration;\r\n\r\nvoid setup()\r\n{\r\n    // 30 frames per second\r\n    frameRate(30);\r\n    // window is two seconds, so this duration will last two times the frameRate\r\n    removeItemDuration = frameRate * 2;\r\n}\r\n\r\nvoid draw()\r\n{\r\n   if (some input)\r\n   { \r\n      // set checkpoint to current frame count + the duration\r\n      removeItemCheckpoint = frameCount + removeItemDuration;\r\n   }\r\n\r\n   // if current frame count is larger than the checkpoint, perform action\r\n   if (frameCount &gt; removeItemCheckpoint)\r\n   {\r\n      // set checkpoint to pseudo infinity\r\n      removeItemCheckpoint = Integer.MAX_VALUE;\r\n      // remove item here\r\n   }\r\n}\r\n```\r\n\r\nIf you want to handle this for multiple objects at a time, you could create something like a list of created list index/checkpoint [pairs][2] and loop over those instead.\r\n\r\n```\r\nList&lt;Pair&lt;int, int&gt;&gt; toBeRemoved = new List&lt;Pair&lt;int, int&gt;&gt;();\r\n\r\n// add a new pair\r\ntoBeRemoved.add(new Pair(itemIndex, frameCount + removeItemDuration));\r\n\r\n// loop over the list\r\n\r\nforeach (Pair&lt;int, int&gt; item in toBeRemoved)\r\n{\r\n    if (frameCount &gt; item.getKey())\r\n    {\r\n        itemList.remove(item.getValue());\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://processing.org/reference/frameRate_.html\r\n  [2]: https://docs.oracle.com/javafx/2/api/javafx/util/Pair.html","title":"JAVA how to remove element from list 2 seconds after adding it?","body":"<p>I personally wouldn't mix and match threading and Processing together.</p>\n<p>If you're using Processing, and are doing this for a game (thus probably dont require milisecond precision), why not just use the framerate as a time measurement? Your Processing programs are always supposed to run at a set <code>frameRate</code> (unless you have some performance issues). You also won't see anything happen untill the frame where the action happens has been drawn anyway, so it doesn't really matter if your action completed halfway between a frame, your end user won't see the difference.</p>\n<p>The default <code>frameRate</code> in Processing is 30fps. You can set a custom rate using the <code>frameRate()</code> function (<a href=\"https://processing.org/reference/frameRate_.html\" rel=\"nofollow noreferrer\">docs</a>). <code>frameCount</code> returns the number of frames drawn (0 on the first frame).</p>\n<p>Thus, you can do something like the following pseudocode</p>\n<pre><code>int removeItemCheckpoint;\nint removeItemDuration;\n\nvoid setup()\n{\n    // 30 frames per second\n    frameRate(30);\n    // window is two seconds, so this duration will last two times the frameRate\n    removeItemDuration = frameRate * 2;\n}\n\nvoid draw()\n{\n   if (some input)\n   { \n      // set checkpoint to current frame count + the duration\n      removeItemCheckpoint = frameCount + removeItemDuration;\n   }\n\n   // if current frame count is larger than the checkpoint, perform action\n   if (frameCount &gt; removeItemCheckpoint)\n   {\n      // set checkpoint to pseudo infinity\n      removeItemCheckpoint = Integer.MAX_VALUE;\n      // remove item here\n   }\n}\n</code></pre>\n<p>If you want to handle this for multiple objects at a time, you could create something like a list of created list index/checkpoint <a href=\"https://docs.oracle.com/javafx/2/api/javafx/util/Pair.html\" rel=\"nofollow noreferrer\">pairs</a> and loop over those instead.</p>\n<pre><code>List&lt;Pair&lt;int, int&gt;&gt; toBeRemoved = new List&lt;Pair&lt;int, int&gt;&gt;();\n\n// add a new pair\ntoBeRemoved.add(new Pair(itemIndex, frameCount + removeItemDuration));\n\n// loop over the list\n\nforeach (Pair&lt;int, int&gt; item in toBeRemoved)\n{\n    if (frameCount &gt; item.getKey())\n    {\n        itemList.remove(item.getValue());\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":23048096,"reputation":19,"user_id":17165370,"display_name":"AAAAAAbc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69800837,"answer_count":2,"score":0,"last_activity_date":1635789860,"creation_date":1635770975,"question_id":69797161,"body_markdown":"The lib I&#39;m using is processing library. I&#39;m currently making a game and I need to remove items from list every 2 seconds after adding it (item will be add by Keypressed SPACE). I&#39;ve tried this:\r\n\r\n```\r\nList&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n\r\nboolean timeStarted;\r\n\r\nint timeDuration = 2000;\r\nint startTime = 0;\r\n\r\nif (timeStarted) {\r\n            \r\n    int currentDuration = millis() - startTime;\r\n\r\n    if (currentDuration &gt;= timeDuration) {\r\n\r\n        items.remove(0);\r\n\r\n        startTime = millis();\r\n        timeStarted = false;\r\n    }\r\n}\r\n\r\npublic void keyPressed(KeyEvent e) {\r\n\r\n    int keycode = e.getKeyCode();\r\n\r\n    if (keycode == 32) { // SPACE\r\n        startTime = millis();\r\n        timeStarted = true;\r\n        items.add(&quot;new item&quot;); \r\n    }\r\n\r\n```\r\n\r\nBut this only remove the first item in the list, and it will stuck if I press the SPACE too fast (add too many items at the same time).\r\n\r\nCould anyone help me or give me some idea how to deal with this? Thanks in advance!","title":"JAVA how to remove element from list 2 seconds after adding it?","body":"<p>The lib I'm using is processing library. I'm currently making a game and I need to remove items from list every 2 seconds after adding it (item will be add by Keypressed SPACE). I've tried this:</p>\n<pre><code>List&lt;String&gt; items = new ArrayList&lt;&gt;();\n\nboolean timeStarted;\n\nint timeDuration = 2000;\nint startTime = 0;\n\nif (timeStarted) {\n            \n    int currentDuration = millis() - startTime;\n\n    if (currentDuration &gt;= timeDuration) {\n\n        items.remove(0);\n\n        startTime = millis();\n        timeStarted = false;\n    }\n}\n\npublic void keyPressed(KeyEvent e) {\n\n    int keycode = e.getKeyCode();\n\n    if (keycode == 32) { // SPACE\n        startTime = millis();\n        timeStarted = true;\n        items.add(&quot;new item&quot;); \n    }\n\n</code></pre>\n<p>But this only remove the first item in the list, and it will stuck if I press the SPACE too fast (add too many items at the same time).</p>\n<p>Could anyone help me or give me some idea how to deal with this? Thanks in advance!</p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1635789620,"post_id":69796049,"comment_id":123381973,"body_markdown":"1) The really error message is in the YARN UI logs. 2) Your input path should be an HDFS path, not a `D:` drive folder 3) Are you required to learn Mapreduce? No one really writes it anymore due to the prevalence of higher level tools","body":"1) The really error message is in the YARN UI logs. 2) Your input path should be an HDFS path, not a <code>D:</code> drive folder 3) Are you required to learn Mapreduce? No one really writes it anymore due to the prevalence of higher level tools"},{"owner":{"account_id":23204773,"reputation":1,"user_id":17299138,"display_name":"Lee Huy"},"score":0,"creation_date":1635831246,"post_id":69796049,"comment_id":123390944,"body_markdown":"I required to learn Mapreduce, and I don&#39;t know how to fix it , can you help me fix ???","body":"I required to learn Mapreduce, and I don&#39;t know how to fix it , can you help me fix ???"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1635862890,"post_id":69796049,"comment_id":123402127,"body_markdown":"It&#39;s not clear what the actual error message is, but like I said, giving the D drive path is not correct. It needs to be an HDFS path, not a Windows path","body":"It&#39;s not clear what the actual error message is, but like I said, giving the D drive path is not correct. It needs to be an HDFS path, not a Windows path"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1635862951,"post_id":69796049,"comment_id":123402154,"body_markdown":"I do have some sample codes here, you could try modifying to your needs https://github.com/OneCricketeer/mapreduce-sandbox","body":"I do have some sample codes here, you could try modifying to your needs <a href=\"https://github.com/OneCricketeer/mapreduce-sandbox\" rel=\"nofollow noreferrer\">github.com/OneCricketeer/mapreduce-sandbox</a>"},{"owner":{"account_id":23204773,"reputation":1,"user_id":17299138,"display_name":"Lee Huy"},"score":0,"creation_date":1636031265,"post_id":69796049,"comment_id":123452570,"body_markdown":"I executed mapreducer by eclipse on window 10 and even when i changed arg in configurations then it doesn&#39;t work. I also executed by cmd but it&#39;s even create folder output but don&#39;t have anything in that","body":"I executed mapreducer by eclipse on window 10 and even when i changed arg in configurations then it doesn&#39;t work. I also executed by cmd but it&#39;s even create folder output but don&#39;t have anything in that"},{"owner":{"account_id":23204773,"reputation":1,"user_id":17299138,"display_name":"Lee Huy"},"score":0,"creation_date":1636031455,"post_id":69796049,"comment_id":123452647,"body_markdown":"when i click in &quot;JobClient.java:873&quot; then notice is &quot;source not found the jar file hadoop-mapreduce-client-core-2.7.3 has no source attachment&quot; . In spite of the jar file hadoop-mapreduce-client-core-2.7.3 exist","body":"when i click in &quot;JobClient.java:873&quot; then notice is &quot;source not found the jar file hadoop-mapreduce-client-core-2.7.3 has no source attachment&quot; . In spite of the jar file hadoop-mapreduce-client-core-2.7.3 exist"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636036123,"post_id":69796049,"comment_id":123454852,"body_markdown":"Where you able to run the code I linked to? What **exactly** did you change? Are you still trying to use Program Files path? Why? Dont use Eclipse to run. Create a fat JAR and use `hadoop jar` command since that is what you&#39;d use against an actual Hadoop cluster. Also, that JAR is not the Hadoop source code, and its unclear why you would want to browse the source code when your error is elsewhere","body":"Where you able to run the code I linked to? What <b>exactly</b> did you change? Are you still trying to use Program Files path? Why? Dont use Eclipse to run. Create a fat JAR and use <code>hadoop jar</code> command since that is what you&#39;d use against an actual Hadoop cluster. Also, that JAR is not the Hadoop source code, and its unclear why you would want to browse the source code when your error is elsewhere"}],"owner":{"account_id":23204773,"reputation":1,"user_id":17299138,"display_name":"Lee Huy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635789577,"creation_date":1635764879,"question_id":69796049,"body_markdown":"I got the following exception while trying to execute hadoop mapreduce program.\r\n\r\n\r\n&gt; java.io.IOException: Job failed! \r\n&gt; at org.apache.hadoop.mapred.JobClient.runJob(JobClient.java:873)\r\n&gt; at WordCount1Driver.main(WordCount1Driver.java:45)\r\n\r\n\r\n**WordCount1Driver.java**\r\n\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.hadoop.io.IntWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapred.FileInputFormat;\r\n    import org.apache.hadoop.mapred.FileOutputFormat;\r\n    import org.apache.hadoop.mapred.JobClient;\r\n    import org.apache.hadoop.mapred.JobConf;\r\n    import org.apache.hadoop.mapred.TextInputFormat;\r\n    import org.apache.hadoop.mapred.TextOutputFormat;\r\n\r\n    public class WordCount1Driver {\r\n\t   public static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\tJobClient my_client = new JobClient();\r\n\t\t// Create a configuration object for the job\r\n\t\tJobConf job_conf = new JobConf(WordCount1Driver.class);\r\n\r\n\t\t// Set a name of the Job\r\n\t\tjob_conf.setJobName(&quot;Word Count1&quot;);\r\n\r\n\t\t// Specify data type of output key and value\r\n\t\tjob_conf.setOutputKeyClass(Text.class);\r\n\t\tjob_conf.setOutputValueClass(IntWritable.class);\r\n\r\n\t\t// Specify names of Mapper and Reducer Class\r\n\t\tjob_conf.setMapperClass(WordCount1Mapper.class);\r\n\t\tjob_conf.setReducerClass(WordCount1Reducer.class);\r\n\r\n\t\t// Specify formats of the data type of Input and output\r\n\t\tjob_conf.setInputFormat(TextInputFormat.class);\r\n\t\tjob_conf.setOutputFormat(TextOutputFormat.class);\r\n\r\n\t\t// Set input and output directories using command line arguments, \r\n\t\t//arg[0] = name of input directory on HDFS, and arg[1] =  name of output directory to be created to store the output file.\r\n\t\t\r\n\t\t//FileInputFormat.setInputPaths(job_conf, new Path(args[0]));\r\n\t\t//FileOutputFormat.setOutputPath(job_conf, new Path(args[1]));\r\n\t\tFileInputFormat.setInputPaths(job_conf, new Path(&quot;D:\\\\program files\\\\eclipse\\\\WordCount\\\\input.txt&quot;));\r\n\t\tFileOutputFormat.setOutputPath(job_conf, new Path(&quot;D:\\\\program files\\\\eclipse\\\\WordCount\\\\output&quot;));\r\n\t\t\r\n\t\tmy_client.setConf(job_conf);\r\n\t\ttry {\r\n\t\t\t// Run the job \r\n\t\t\tJobClient.runJob(job_conf);\r\n\t    \tSystem.out.println(&quot;WordCount1 OK&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t  }\r\n    }\r\n**WordCount1Mapper.java**\r\n\r\n    import java.io.IOException;\r\n    import java.util.StringTokenizer;\r\n    import org.apache.hadoop.io.IntWritable;\r\n    import org.apache.hadoop.io.LongWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapred.*;\r\n\r\n     public class WordCount1Mapper extends MapReduceBase implements Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\r\n    private Text word = new Text();\r\n\tprivate final static IntWritable one = new IntWritable(1);\r\n\r\n\tpublic void map(LongWritable key, Text value, OutputCollector&lt;Text, IntWritable&gt; output, Reporter reporter) throws IOException {\r\n\r\n\t\tString valueString = value.toString();\r\n\t\tString[] SingleCountryData = valueString.split(&quot; &quot;);\r\n\t\toutput.collect(new Text(SingleCountryData[7]), one);\r\n\t\t\r\n\t\tStringTokenizer itr = new StringTokenizer(value.toString());\r\n\t      while (itr.hasMoreTokens()) {\r\n\t        word.set(itr.nextToken());\r\n\t        output.collect(word, one);\r\n\t      }\r\n\t  }\r\n    }\r\n\r\n**WordCount1Reducer.java**\r\n\r\n    import java.io.IOException;\r\n    import java.util.*;\r\n    \r\n    import org.apache.hadoop.io.IntWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapred.*;\r\n    \r\n    public class WordCount1Reducer extends MapReduceBase implements Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\r\n    \r\n    \tpublic void reduce(Text t_key, Iterator&lt;IntWritable&gt; values, OutputCollector&lt;Text,IntWritable&gt; output, Reporter reporter) throws IOException {\r\n    \t\tText key = t_key;\r\n    \t\tint sum = 0;\r\n    \t\twhile (values.hasNext()) {\r\n    \t\t\t// replace type of value with the actual type of our value\r\n    \t\t\tIntWritable value = (IntWritable) values.next();\r\n    \t\t\tsum += value.get();\t\t\t\r\n    \t\t}\r\n    \t\toutput.collect(key, new IntWritable(sum));\r\n    \t}\r\n    }\r\n\r\nwhy does that exception occur?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2DbsK.png","title":"Hadoop mapreduce wordcount-java.io.IOException: Job failed","body":"<p>I got the following exception while trying to execute hadoop mapreduce program.</p>\n<blockquote>\n<p>java.io.IOException: Job failed!\nat org.apache.hadoop.mapred.JobClient.runJob(JobClient.java:873)\nat WordCount1Driver.main(WordCount1Driver.java:45)</p>\n</blockquote>\n<p><strong>WordCount1Driver.java</strong></p>\n<pre><code>import org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapred.FileInputFormat;\nimport org.apache.hadoop.mapred.FileOutputFormat;\nimport org.apache.hadoop.mapred.JobClient;\nimport org.apache.hadoop.mapred.JobConf;\nimport org.apache.hadoop.mapred.TextInputFormat;\nimport org.apache.hadoop.mapred.TextOutputFormat;\n\npublic class WordCount1Driver {\n   public static void main(String[] args) {\n    \n    \n    JobClient my_client = new JobClient();\n    // Create a configuration object for the job\n    JobConf job_conf = new JobConf(WordCount1Driver.class);\n\n    // Set a name of the Job\n    job_conf.setJobName(&quot;Word Count1&quot;);\n\n    // Specify data type of output key and value\n    job_conf.setOutputKeyClass(Text.class);\n    job_conf.setOutputValueClass(IntWritable.class);\n\n    // Specify names of Mapper and Reducer Class\n    job_conf.setMapperClass(WordCount1Mapper.class);\n    job_conf.setReducerClass(WordCount1Reducer.class);\n\n    // Specify formats of the data type of Input and output\n    job_conf.setInputFormat(TextInputFormat.class);\n    job_conf.setOutputFormat(TextOutputFormat.class);\n\n    // Set input and output directories using command line arguments, \n    //arg[0] = name of input directory on HDFS, and arg[1] =  name of output directory to be created to store the output file.\n    \n    //FileInputFormat.setInputPaths(job_conf, new Path(args[0]));\n    //FileOutputFormat.setOutputPath(job_conf, new Path(args[1]));\n    FileInputFormat.setInputPaths(job_conf, new Path(&quot;D:\\\\program files\\\\eclipse\\\\WordCount\\\\input.txt&quot;));\n    FileOutputFormat.setOutputPath(job_conf, new Path(&quot;D:\\\\program files\\\\eclipse\\\\WordCount\\\\output&quot;));\n    \n    my_client.setConf(job_conf);\n    try {\n        // Run the job \n        JobClient.runJob(job_conf);\n        System.out.println(&quot;WordCount1 OK&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p><strong>WordCount1Mapper.java</strong></p>\n<pre><code>import java.io.IOException;\nimport java.util.StringTokenizer;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.LongWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapred.*;\n\n public class WordCount1Mapper extends MapReduceBase implements Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\nprivate Text word = new Text();\nprivate final static IntWritable one = new IntWritable(1);\n\npublic void map(LongWritable key, Text value, OutputCollector&lt;Text, IntWritable&gt; output, Reporter reporter) throws IOException {\n\n    String valueString = value.toString();\n    String[] SingleCountryData = valueString.split(&quot; &quot;);\n    output.collect(new Text(SingleCountryData[7]), one);\n    \n    StringTokenizer itr = new StringTokenizer(value.toString());\n      while (itr.hasMoreTokens()) {\n        word.set(itr.nextToken());\n        output.collect(word, one);\n      }\n  }\n}\n</code></pre>\n<p><strong>WordCount1Reducer.java</strong></p>\n<pre><code>import java.io.IOException;\nimport java.util.*;\n\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapred.*;\n\npublic class WordCount1Reducer extends MapReduceBase implements Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\n\n    public void reduce(Text t_key, Iterator&lt;IntWritable&gt; values, OutputCollector&lt;Text,IntWritable&gt; output, Reporter reporter) throws IOException {\n        Text key = t_key;\n        int sum = 0;\n        while (values.hasNext()) {\n            // replace type of value with the actual type of our value\n            IntWritable value = (IntWritable) values.next();\n            sum += value.get();         \n        }\n        output.collect(key, new IntWritable(sum));\n    }\n}\n</code></pre>\n<p>why does that exception occur?</p>\n"},{"tags":["javascript","java","android","android-studio"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1635780705,"post_id":69799039,"comment_id":123378739,"body_markdown":"That looks right. What is the issue you are having?","body":"That looks right. What is the issue you are having?"},{"owner":{"account_id":23207044,"reputation":13,"user_id":17301122,"display_name":"Pranesh S"},"score":0,"creation_date":1635780977,"post_id":69799039,"comment_id":123378847,"body_markdown":"this code check the day of the week and display the image but I need to check both  day and month and display the image..","body":"this code check the day of the week and display the image but I need to check both  day and month and display the image.."},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1635782170,"post_id":69799039,"comment_id":123379304,"body_markdown":"Well you didn&#39;t ask that. Please see my answer.","body":"Well you didn&#39;t ask that. Please see my answer."},{"owner":{"account_id":23207044,"reputation":13,"user_id":17301122,"display_name":"Pranesh S"},"score":0,"creation_date":1635782973,"post_id":69799039,"comment_id":123379588,"body_markdown":"Thank you for your work and response :) Can you make it &#39;DATE&#39; instead of &#39;DAY_OF_WEEK&#39;? it will be more helpful. Thanks again.","body":"Thank you for your work and response :) Can you make it &#39;DATE&#39; instead of &#39;DAY_OF_WEEK&#39;? it will be more helpful. Thanks again."},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1635793657,"post_id":69799039,"comment_id":123383385,"body_markdown":"Is this the answer you were looking for? If so, please consider marking my answer as the answer and hit to up arrow on any informative comments. Otherwise I&#39;ll be glad to help with any other questions.","body":"Is this the answer you were looking for? If so, please consider marking my answer as the answer and hit to up arrow on any informative comments. Otherwise I&#39;ll be glad to help with any other questions."},{"owner":{"account_id":23207044,"reputation":13,"user_id":17301122,"display_name":"Pranesh S"},"score":0,"creation_date":1635871581,"post_id":69799039,"comment_id":123406246,"body_markdown":"if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY &amp;&amp; cal.get(Calendar.MONTH) == Calendar.NOVEMBER)\n\nAbove code is used to validate DAY_OF_WEEK and MONTH, \n\nbut i need to validate DATE AND MONTH","body":"if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY &amp;&amp; cal.get(Calendar.MONTH) == Calendar.NOVEMBER)  Above code is used to validate DAY_OF_WEEK and MONTH,   but i need to validate DATE AND MONTH"}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635789566,"creation_date":1635782174,"answer_id":69799448,"question_id":69799039,"body_markdown":"\r\n\r\n\r\n\r\n\r\n        package com.wavedevelopers.chat;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    import android.os.Bundle;\r\n    import android.widget.ImageView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            ImageView imageView;\r\n    \r\n            Calendar cal = Calendar.getInstance();\r\n            int dayOfMonth = cal.get(Calendar.DAY_OF_MONTH);\r\n    \r\n            imageView = (ImageView)findViewById(R.id.content);\r\n    \r\n            if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY &amp;&amp; cal.get(Calendar.MONTH) == Calendar.NOVEMBER)\r\n            {\r\n                imageView.setImageResource(R.drawable.a1);\r\n            }\r\n            else if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY)\r\n            {\r\n                imageView.setImageResource(R.drawable.a2);\r\n            }\r\n            else if(dayOfMonth == 1) {\r\n                System.out.println(&quot;It&#39;s the first of the month&quot;)\r\n            }\r\n    \r\n        }\r\n    }","title":"How to change image in main-activity based on date in android application","body":"<pre><code>    package com.wavedevelopers.chat;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport java.util.Calendar;\nimport java.util.Date;\n\nimport android.os.Bundle;\nimport android.widget.ImageView;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ImageView imageView;\n\n        Calendar cal = Calendar.getInstance();\n        int dayOfMonth = cal.get(Calendar.DAY_OF_MONTH);\n\n        imageView = (ImageView)findViewById(R.id.content);\n\n        if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY &amp;&amp; cal.get(Calendar.MONTH) == Calendar.NOVEMBER)\n        {\n            imageView.setImageResource(R.drawable.a1);\n        }\n        else if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY)\n        {\n            imageView.setImageResource(R.drawable.a2);\n        }\n        else if(dayOfMonth == 1) {\n            System.out.println(&quot;It's the first of the month&quot;)\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23207044,"reputation":13,"user_id":17301122,"display_name":"Pranesh S"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69799448,"answer_count":1,"score":1,"last_activity_date":1635789566,"creation_date":1635780206,"question_id":69799039,"body_markdown":"Looking for an android application, that needs to change the image after day by day. \r\n\r\nExample: If system date=01.01.2021 then image1 should be displayed else image2 should be displayed.\r\n\r\n\r\nThis is my android source code:\r\n```\r\npackage com.wavedevelopers.chat;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.ImageView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ImageView imageView;\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n\r\n        Date now_date = null;\r\n        cal.setTime(now_date);\r\n\r\n        imageView = (ImageView)findViewById(R.id.content);\r\n\r\n        if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY)\r\n        {\r\n            imageView.setImageResource(R.drawable.a1);\r\n        }\r\n        else if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY)\r\n        {\r\n            imageView.setImageResource(R.drawable.a2);\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```","title":"How to change image in main-activity based on date in android application","body":"<p>Looking for an android application, that needs to change the image after day by day.</p>\n<p>Example: If system date=01.01.2021 then image1 should be displayed else image2 should be displayed.</p>\n<p>This is my android source code:</p>\n<pre><code>package com.wavedevelopers.chat;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport java.util.Calendar;\nimport java.util.Date;\n\nimport android.os.Bundle;\nimport android.widget.ImageView;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ImageView imageView;\n\n        Calendar cal = Calendar.getInstance();\n\n        Date now_date = null;\n        cal.setTime(now_date);\n\n        imageView = (ImageView)findViewById(R.id.content);\n\n        if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY)\n        {\n            imageView.setImageResource(R.drawable.a1);\n        }\n        else if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY)\n        {\n            imageView.setImageResource(R.drawable.a2);\n        }\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","rest","cloud","microservices"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1635787662,"post_id":69800456,"comment_id":123381319,"body_markdown":"Rather than expressing an _opinion_, include the _stack trace_ that indicates exactly where the NPE occurs.","body":"Rather than expressing an <i>opinion</i>, include the <i>stack trace</i> that indicates exactly where the NPE occurs."},{"owner":{"account_id":21089091,"reputation":11,"user_id":15501433,"display_name":"Erick Caron"},"score":0,"creation_date":1635788880,"post_id":69800456,"comment_id":123381712,"body_markdown":"I&#39;ll edit this :)","body":"I&#39;ll edit this :)"}],"owner":{"account_id":21089091,"reputation":11,"user_id":15501433,"display_name":"Erick Caron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635789102,"answer_count":0,"score":0,"last_activity_date":1635789030,"creation_date":1635787359,"question_id":69800456,"body_markdown":"I&#39;m having a problem, I want to create a program for extracting from an API data just to print them in console - this via Feign Client from Spring cloud. I&#39;m facing from my Client&#39;s class a NullPointerException, but I&#39;m not sure if I understand the issue...\r\n\r\n    import org.springframework.cloud.openfeign.FeignClient;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    \r\n    import java.util.List;\r\n    \r\n    @FeignClient(url=&quot;https://jsonplaceholder.typicode.com&quot;)\r\n    public interface UserServiceClient {\r\n    \r\n        @GetMapping(&quot;/users&quot;)\r\n        List&lt;User&gt; getUsersList();\r\n    }\r\n\r\nIs the method List&lt;User&gt; getUsersList(); returning from external API, JSON so, String&#39;s items or is the mapping to my model User processed automatically (I&#39;m pretty sure that not :( )?\r\n\r\nMany thanks for any help, in my opinion this NullPointer is coming from the fact that the Client is giving me datas on Strings and not POJO, so he is not able to recognize.. But I&#39;m not sure.\r\n\r\nHere is the mistake I face:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat UserService.print(UserService.java:14)\r\n    \tat Launcher.main(Launcher.java:11)\r\n\r\nLauncher:\r\n\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Launcher {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n          UserService userService = new UserService();\r\n          userService.print();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nUserService:\r\n\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class UserService {\r\n    \r\n        @Autowired\r\n        private UserServiceClient userServiceClient;\r\n    \r\n    \r\n        void print() {\r\n    \r\n            for (User user : userServiceClient.getUsersList()) {\r\n                System.out.println(\r\n                        &quot;User ID : &quot; + user.getId() + &quot; The name of the user : &quot; + user.getName()\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\nand the UserServiceClient\r\n\r\n    import org.springframework.cloud.openfeign.FeignClient;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    \r\n    import java.util.List;\r\n    \r\n    @FeignClient(url=&quot;https://jsonplaceholder.typicode.com&quot;)\r\n    public interface UserServiceClient {\r\n    \r\n        @GetMapping(&quot;/users&quot;)\r\n        List&lt;User&gt; getUsersList();\r\n    }\r\n\r\nRegards,\r\nErick \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java - OpenFeign - Parse datas from JSON to POJO?","body":"<p>I'm having a problem, I want to create a program for extracting from an API data just to print them in console - this via Feign Client from Spring cloud. I'm facing from my Client's class a NullPointerException, but I'm not sure if I understand the issue...</p>\n<pre><code>import org.springframework.cloud.openfeign.FeignClient;\nimport org.springframework.web.bind.annotation.GetMapping;\n\nimport java.util.List;\n\n@FeignClient(url=&quot;https://jsonplaceholder.typicode.com&quot;)\npublic interface UserServiceClient {\n\n    @GetMapping(&quot;/users&quot;)\n    List&lt;User&gt; getUsersList();\n}\n</code></pre>\n<p>Is the method List getUsersList(); returning from external API, JSON so, String's items or is the mapping to my model User processed automatically (I'm pretty sure that not :( )?</p>\n<p>Many thanks for any help, in my opinion this NullPointer is coming from the fact that the Client is giving me datas on Strings and not POJO, so he is not able to recognize.. But I'm not sure.</p>\n<p>Here is the mistake I face:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at UserService.print(UserService.java:14)\n    at Launcher.main(Launcher.java:11)\n</code></pre>\n<p>Launcher:</p>\n<pre><code>import org.springframework.stereotype.Component;\n\n@Component\npublic class Launcher {\n\n\n    public static void main(String[] args) {\n      UserService userService = new UserService();\n      userService.print();\n    }\n\n\n}\n</code></pre>\n<p>UserService:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    @Autowired\n    private UserServiceClient userServiceClient;\n\n\n    void print() {\n\n        for (User user : userServiceClient.getUsersList()) {\n            System.out.println(\n                    &quot;User ID : &quot; + user.getId() + &quot; The name of the user : &quot; + user.getName()\n            );\n        }\n    }\n}\n</code></pre>\n<p>and the UserServiceClient</p>\n<pre><code>import org.springframework.cloud.openfeign.FeignClient;\nimport org.springframework.web.bind.annotation.GetMapping;\n\nimport java.util.List;\n\n@FeignClient(url=&quot;https://jsonplaceholder.typicode.com&quot;)\npublic interface UserServiceClient {\n\n    @GetMapping(&quot;/users&quot;)\n    List&lt;User&gt; getUsersList();\n}\n</code></pre>\n<p>Regards,\nErick</p>\n"},{"tags":["java","mysql","sql","file","text"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635701409,"creation_date":1635701409,"answer_id":69789002,"question_id":69788894,"body_markdown":"By convention, java properties files have the `.properties` extension. I would suggest that you name the file `jdbcconn.properties`. Put that file in the same folder as file `SQL.class`. Then in your java code you can do something like the following.\r\n```java\r\nProperties props = new Properties();\r\njava.io.InputStream is = getClass().getResourceAsStream(&quot;jdbcconn.properties&quot;);\r\nprops.load(is);\r\n```\r\nRefer to *javadoc* of class `java.lang.Class`\r\n\r\nNote that in Eclipse IDE, you create the `jdbcconn.properties` file in the same folder as file `SQL.java` and when you build your project, Eclipse will automatically copy file `jdbcconn.properties` to the same folder as file `SQL.class`","title":"How to connect to MySQL database via plain text file?","body":"<p>By convention, java properties files have the <code>.properties</code> extension. I would suggest that you name the file <code>jdbcconn.properties</code>. Put that file in the same folder as file <code>SQL.class</code>. Then in your java code you can do something like the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties props = new Properties();\njava.io.InputStream is = getClass().getResourceAsStream(&quot;jdbcconn.properties&quot;);\nprops.load(is);\n</code></pre>\n<p>Refer to <em>javadoc</em> of class <code>java.lang.Class</code></p>\n<p>Note that in Eclipse IDE, you create the <code>jdbcconn.properties</code> file in the same folder as file <code>SQL.java</code> and when you build your project, Eclipse will automatically copy file <code>jdbcconn.properties</code> to the same folder as file <code>SQL.class</code></p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635702679,"creation_date":1635702679,"answer_id":69789167,"question_id":69788894,"body_markdown":"What you are looking for is to configure you application from an `external source`. Lucky enought, `Java` provides an API that helps manage your external configuration as `keys/values` with the [properties files][1]. \r\n\r\nBy default your configuration file has `.properties` extension, i.e. `config.properties`. If you are using a `maven` project, your configuration file will be in this folder `/src/main/resources`.\r\n\r\nThen you will be able to call your file as mentionned in the previous answer.\r\n\r\n\r\n  [1]: https://mkyong.com/java/java-properties-file-examples/","title":"How to connect to MySQL database via plain text file?","body":"<p>What you are looking for is to configure you application from an <code>external source</code>. Lucky enought, <code>Java</code> provides an API that helps manage your external configuration as <code>keys/values</code> with the <a href=\"https://mkyong.com/java/java-properties-file-examples/\" rel=\"nofollow noreferrer\">properties files</a>.</p>\n<p>By default your configuration file has <code>.properties</code> extension, i.e. <code>config.properties</code>. If you are using a <code>maven</code> project, your configuration file will be in this folder <code>/src/main/resources</code>.</p>\n<p>Then you will be able to call your file as mentionned in the previous answer.</p>\n"}],"owner":{"account_id":23198744,"reputation":3,"user_id":17293935,"display_name":"TomEtoto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69789002,"answer_count":2,"score":0,"last_activity_date":1635788944,"creation_date":1635700631,"question_id":69788894,"body_markdown":"I would like to improve my code so that it would be possible to connect to the database using a text file, but not setting the database connection from the IntelliJ or Eclipse view only from the text file (we set the login, password, path, etc. there).\r\n\r\n    public class SQL {\r\n        public static Connection Connect() throws ClassNotFoundException, SQLException, IOException {\r\n            Properties props = new Properties();\r\n            FileInputStream in = new FileInputStream(&quot;loc:/xyz.txt&quot;);\r\n            props.load(in);\r\n            in.close();\r\n       \r\n\r\nThe problem is with this line:\r\n```java\r\nFileInputStream in = new FileInputStream(&quot;loc:/xyz.txt&quot;)\r\n```\r\nHow can I set the path to the `FileInputStream` with a txt file?\r\n\r\nSo far, I can set the login, password and URL using a text file, but I still have a problem how to correctly pass the address of this text file (in a text file)\r\n\r\n\r\n","title":"How to connect to MySQL database via plain text file?","body":"<p>I would like to improve my code so that it would be possible to connect to the database using a text file, but not setting the database connection from the IntelliJ or Eclipse view only from the text file (we set the login, password, path, etc. there).</p>\n<pre><code>public class SQL {\n    public static Connection Connect() throws ClassNotFoundException, SQLException, IOException {\n        Properties props = new Properties();\n        FileInputStream in = new FileInputStream(&quot;loc:/xyz.txt&quot;);\n        props.load(in);\n        in.close();\n   \n</code></pre>\n<p>The problem is with this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileInputStream in = new FileInputStream(&quot;loc:/xyz.txt&quot;)\n</code></pre>\n<p>How can I set the path to the <code>FileInputStream</code> with a txt file?</p>\n<p>So far, I can set the login, password and URL using a text file, but I still have a problem how to correctly pass the address of this text file (in a text file)</p>\n"},{"tags":["java","maven","maven-3","maven-plugin"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1635718224,"post_id":69718029,"comment_id":123363627,"body_markdown":"why don`t you use lombok ? like in https://stackoverflow.com/a/43902039/175554 I think it should work for maven plugins too","body":"why don`t you use lombok ? like in <a href=\"https://stackoverflow.com/a/43902039/175554\">stackoverflow.com/a/43902039/175554</a> I think it should work for maven plugins too"},{"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"score":0,"creation_date":1635788929,"post_id":69718029,"comment_id":123381728,"body_markdown":"@&#246;zkanpakdil I used `AbstractLogEnabled`","body":"@&#246;zkanpakdil I used <code>AbstractLogEnabled</code>"}],"answers":[{"tags":[],"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635788888,"creation_date":1635788888,"answer_id":69800732,"question_id":69718029,"body_markdown":"So, thanks to [maven-checkstyle-plugin](https://github.com/apache/maven-checkstyle-plugin/blob/5d9af05c12493ba9fddf98efd74761a525c052fa/src/main/java/org/apache/maven/plugins/checkstyle/exec/DefaultCheckstyleExecutor.java#L70), I was able to find the solution.\r\n\r\nYou need to extend [AbstractLogEnabled](https://codehaus-plexus.github.io/plexus-containers/plexus-container-default/apidocs/org/codehaus/plexus/logging/AbstractLogEnabled.html) when you want to access the logger.\r\n\r\n```java\r\n@Singleton\r\npublic class AServiceClass extends AbstractLogEnabled implements ServiceInterface {\r\n\r\n    public void method(){\r\n        // getLogger() gives you access to the logger\r\n        getLogger().info(...)\r\n    }\r\n}\r\n```","title":"How to inject the Log dependency to a non Mojo class instance?","body":"<p>So, thanks to <a href=\"https://github.com/apache/maven-checkstyle-plugin/blob/5d9af05c12493ba9fddf98efd74761a525c052fa/src/main/java/org/apache/maven/plugins/checkstyle/exec/DefaultCheckstyleExecutor.java#L70\" rel=\"nofollow noreferrer\">maven-checkstyle-plugin</a>, I was able to find the solution.</p>\n<p>You need to extend <a href=\"https://codehaus-plexus.github.io/plexus-containers/plexus-container-default/apidocs/org/codehaus/plexus/logging/AbstractLogEnabled.html\" rel=\"nofollow noreferrer\">AbstractLogEnabled</a> when you want to access the logger.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\npublic class AServiceClass extends AbstractLogEnabled implements ServiceInterface {\n\n    public void method(){\n        // getLogger() gives you access to the logger\n        getLogger().info(...)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69800732,"answer_count":1,"score":2,"last_activity_date":1635788888,"creation_date":1635227418,"question_id":69718029,"body_markdown":"Is there a way to inject `Log` dependency to a non-Mojo class instance? In Mojo classes, we simply call `getLog()` whenever we want to log something, but what happens in the case of a service class? \r\n\r\nSomething like this one below does not work.\r\n```java\r\n@Singleton\r\npublic class AServiceClass implements ServiceInterface {\r\n\r\n    @Inject\r\n    private Log log;\r\n    ...\r\n}\r\n```\r\n\r\nA simple way of solving this is to pass the log object from the Mojo class to the service method whenever we call it, but I don&#39;t want to do that.","title":"How to inject the Log dependency to a non Mojo class instance?","body":"<p>Is there a way to inject <code>Log</code> dependency to a non-Mojo class instance? In Mojo classes, we simply call <code>getLog()</code> whenever we want to log something, but what happens in the case of a service class?</p>\n<p>Something like this one below does not work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\npublic class AServiceClass implements ServiceInterface {\n\n    @Inject\n    private Log log;\n    ...\n}\n</code></pre>\n<p>A simple way of solving this is to pass the log object from the Mojo class to the service method whenever we call it, but I don't want to do that.</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1635787042,"post_id":69800118,"comment_id":123381105,"body_markdown":"You say you‚Äôre using an ArrayList, but also say you have an array. An ArrayList is not an array. Which is it? Note: Using a List is almost  always preferable to using an array.","body":"You say you‚Äôre using an ArrayList, but also say you have an array. An ArrayList is not an array. Which is it? Note: Using a List is almost  always preferable to using an array."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635786409,"creation_date":1635786409,"answer_id":69800279,"question_id":69800118,"body_markdown":"A cleaner way to do it can be by using the `Stream` API.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] names = { &quot;John Smith&quot;, &quot;Alice Huntington&quot;, &quot;George H. Baker&quot;, &quot;Helen Z. Gordon&quot; };\r\n    \t\tString[] result = \r\n    \t\t\t\tArrays.stream(names)\r\n    \t\t\t\t\t.map(\r\n    \t\t\t\t\t\t\ts -&gt; Arrays.stream(s.split(&quot;\\\\s+&quot;))\r\n    \t\t\t\t\t\t\t\t\t.map(w -&gt; w.substring(0, 1) + &quot;.&quot;)\r\n    \t\t\t\t\t\t\t\t\t.collect(Collectors.joining())\r\n    \t\t\t\t\t)\r\n    \t\t\t\t\t.toArray(String[]::new);\r\n    \r\n    \t\t// Display\r\n    \t\tSystem.out.println(Arrays.toString(result));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    [J.S., A.H., G.H.B., H.Z.G.]\r\n\r\n","title":"making an array containing specific letters from another array of strings (Java)","body":"<p>A cleaner way to do it can be by using the <code>Stream</code> API.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        String[] names = { &quot;John Smith&quot;, &quot;Alice Huntington&quot;, &quot;George H. Baker&quot;, &quot;Helen Z. Gordon&quot; };\n        String[] result = \n                Arrays.stream(names)\n                    .map(\n                            s -&gt; Arrays.stream(s.split(&quot;\\\\s+&quot;))\n                                    .map(w -&gt; w.substring(0, 1) + &quot;.&quot;)\n                                    .collect(Collectors.joining())\n                    )\n                    .toArray(String[]::new);\n\n        // Display\n        System.out.println(Arrays.toString(result));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[J.S., A.H., G.H.B., H.Z.G.]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635788468,"creation_date":1635787600,"answer_id":69800503,"question_id":69800118,"body_markdown":"You can use regex to get the job done:\r\n\r\n    list.replaceAll(s -&gt; s.replaceAll(&quot;(.)[^ ]* ?&quot;, &quot;$1.&quot;));\r\n\r\nThis works by using a lambda to replace each element of the list with its initial version.\r\n\r\nThe lambda works by matching every word, capturing the first letter as group 1, along with the trailing space (if any), and replacing the match with the captured initial and a dot.\r\n\r\n---\r\n\r\nTest code:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;John Smith&quot;, &quot;Alice Huntington&quot;, &quot;George H. Baker&quot;, &quot;Helen Z. Gordon&quot;);\r\n    list.replaceAll(s -&gt; s.replaceAll(&quot;(.)[^ ]* ?&quot;, &quot;$1.&quot;));\r\n    System.out.println(list);\r\n\r\nOutput:\r\n\r\n    [J.S., A.H., G.H.B., H.Z.G.]","title":"making an array containing specific letters from another array of strings (Java)","body":"<p>You can use regex to get the job done:</p>\n<pre><code>list.replaceAll(s -&gt; s.replaceAll(&quot;(.)[^ ]* ?&quot;, &quot;$1.&quot;));\n</code></pre>\n<p>This works by using a lambda to replace each element of the list with its initial version.</p>\n<p>The lambda works by matching every word, capturing the first letter as group 1, along with the trailing space (if any), and replacing the match with the captured initial and a dot.</p>\n<hr />\n<p>Test code:</p>\n<pre><code>List&lt;String&gt; list = Arrays.asList(&quot;John Smith&quot;, &quot;Alice Huntington&quot;, &quot;George H. Baker&quot;, &quot;Helen Z. Gordon&quot;);\nlist.replaceAll(s -&gt; s.replaceAll(&quot;(.)[^ ]* ?&quot;, &quot;$1.&quot;));\nSystem.out.println(list);\n</code></pre>\n<p>Output:</p>\n<pre><code>[J.S., A.H., G.H.B., H.Z.G.]\n</code></pre>\n"}],"owner":{"account_id":23207931,"reputation":21,"user_id":17301857,"display_name":"Silverfruit"},"comment_count":1,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1635788543,"answer_count":2,"score":-1,"last_activity_date":1635788468,"creation_date":1635785622,"question_id":69800118,"body_markdown":"need some help anything is appreciated!\r\n\r\nI&#39;m trying to create an method that takes a certain part of an array to make a new array that contains only those parts. \r\n\r\nFor example if I had an array with given array S = [‚ÄúJohn Smith‚Äù, ‚ÄúAlice Huntington‚Äù, ‚ÄúGeorge H. Baker‚Äù, ‚ÄúHelen Z. Gordon‚Äù], the program would return array T = [‚ÄúJ.S.‚Äù, ‚ÄúA.H.‚Äù, ‚ÄúG.H.B.‚Äù, ‚ÄúH.Z.G‚Äù].\r\n\r\nI&#39;ve done some searching online and found how charAt(0); I can take just the first initial but that&#39;s for a string and only the first letter. I don&#39;t know to get the last names or middle for example. Using an ArrayList is the right choice I think but I don&#39;t know how to transfer contents from one to the other. ","title":"making an array containing specific letters from another array of strings (Java)","body":"<p>need some help anything is appreciated!</p>\n<p>I'm trying to create an method that takes a certain part of an array to make a new array that contains only those parts.</p>\n<p>For example if I had an array with given array S = [‚ÄúJohn Smith‚Äù, ‚ÄúAlice Huntington‚Äù, ‚ÄúGeorge H. Baker‚Äù, ‚ÄúHelen Z. Gordon‚Äù], the program would return array T = [‚ÄúJ.S.‚Äù, ‚ÄúA.H.‚Äù, ‚ÄúG.H.B.‚Äù, ‚ÄúH.Z.G‚Äù].</p>\n<p>I've done some searching online and found how charAt(0); I can take just the first initial but that's for a string and only the first letter. I don't know to get the last names or middle for example. Using an ArrayList is the right choice I think but I don't know how to transfer contents from one to the other.</p>\n"},{"tags":["java","spring-boot","springdoc"],"answers":[{"tags":[],"owner":{"account_id":5939623,"reputation":5436,"user_id":4671372,"display_name":"VadymVL"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1635788294,"creation_date":1635787602,"answer_id":69800504,"question_id":69799828,"body_markdown":"You need to use an [ArraySchema][1] annotation for this and assign it to the `array` attribute instead of the `schema` attribute of the `@Content` annotation. \r\nYou don&#39;t need to specify `List.class` only its type parameter `MyClass.class`.\r\n\r\n```\r\n    @Operation(\r\n            summary = &quot;Get a list of users&quot;,\r\n            description = &quot;Get a list of users registered in the system&quot;,\r\n            responses = {@ApiResponse(\r\n                    responseCode = &quot;200&quot;,\r\n                    description = &quot;The response for the user request&quot;,\r\n                    content = {\r\n                            @Content(\r\n                                    mediaType = &quot;application/json&quot;,\r\n                                    array = @ArraySchema(schema = @Schema(implementation = User.class))\r\n                            )\r\n                    })\r\n            }\r\n    )\r\n    @GET\r\n    @SecurityRequirement(name = &quot;JWT&quot;)\r\n    @Path(&quot;/user&quot;)\r\n    public List&lt;User&gt; getUsers() {\r\n        return null;\r\n    }\r\n```\r\n\r\n  [1]: https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#arrayschema","title":"java springdoc @ApiResponses how to define a List as return object using","body":"<p>You need to use an <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#arrayschema\" rel=\"noreferrer\">ArraySchema</a> annotation for this and assign it to the <code>array</code> attribute instead of the <code>schema</code> attribute of the <code>@Content</code> annotation.\nYou don't need to specify <code>List.class</code> only its type parameter <code>MyClass.class</code>.</p>\n<pre><code>    @Operation(\n            summary = &quot;Get a list of users&quot;,\n            description = &quot;Get a list of users registered in the system&quot;,\n            responses = {@ApiResponse(\n                    responseCode = &quot;200&quot;,\n                    description = &quot;The response for the user request&quot;,\n                    content = {\n                            @Content(\n                                    mediaType = &quot;application/json&quot;,\n                                    array = @ArraySchema(schema = @Schema(implementation = User.class))\n                            )\n                    })\n            }\n    )\n    @GET\n    @SecurityRequirement(name = &quot;JWT&quot;)\n    @Path(&quot;/user&quot;)\n    public List&lt;User&gt; getUsers() {\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4361,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69800504,"answer_count":1,"score":3,"last_activity_date":1635788294,"creation_date":1635784135,"question_id":69799828,"body_markdown":"I&#39;m using SpringBoot with the following dependency\r\n\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;1.5.12&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n\r\n\r\nThe controller class (@RestController) has one entry point (@GetMapping), and this entry point should return a List of the object  : **MyClass.java**. I added Swagger annotations above the method in order to create API documentation via a swagger UI page.\r\n \r\nThe swagger documentation should indicate that the return object is of type \r\n\r\n&gt; List&lt; MyClass&gt;\r\n\r\nBut how should I do that ? If I do  \r\n\r\n&gt; &quot;@Schema(implementation = List&lt; MyClass &gt;.class)&quot;\r\n\r\n there is a compile error.\r\n\r\n\r\n**Swagger annotations:**\r\n\r\n&gt;     @Operation(....)\r\n&gt;     @ApiResponses(value = {\r\n&gt;             @ApiResponse(responseCode = &quot;200&quot;, description = &quot;successful operation&quot;,\r\n&gt;                     content = { @Content(mediaType = &quot;application/json&quot;,\r\n&gt;                             schema = @Schema(implementation = ????)) }),\r\n&gt;             @ApiResponse(...),\r\n&gt;             @ApiResponse(...)\r\n&gt; \r\n&gt;     @GetMapping(value = &quot;/aaa&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n&gt;     public List&lt;MyClass&gt; getAaa(...)\r\n&gt;     {\r\n&gt;         return ...\r\n&gt;     }","title":"java springdoc @ApiResponses how to define a List as return object using","body":"<p>I'm using SpringBoot with the following dependency</p>\n<blockquote>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.5.12&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p>The controller class (@RestController) has one entry point (@GetMapping), and this entry point should return a List of the object  : <strong>MyClass.java</strong>. I added Swagger annotations above the method in order to create API documentation via a swagger UI page.</p>\n<p>The swagger documentation should indicate that the return object is of type</p>\n<blockquote>\n<p>List&lt; MyClass&gt;</p>\n</blockquote>\n<p>But how should I do that ? If I do</p>\n<blockquote>\n<p>&quot;@Schema(implementation = List&lt; MyClass &gt;.class)&quot;</p>\n</blockquote>\n<p>there is a compile error.</p>\n<p><strong>Swagger annotations:</strong></p>\n<blockquote>\n<pre><code>@Operation(....)\n@ApiResponses(value = {\n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;successful operation&quot;,\n                content = { @Content(mediaType = &quot;application/json&quot;,\n                        schema = @Schema(implementation = ????)) }),\n        @ApiResponse(...),\n        @ApiResponse(...)\n\n@GetMapping(value = &quot;/aaa&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic List&lt;MyClass&gt; getAaa(...)\n{\n    return ...\n}\n</code></pre>\n</blockquote>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1221072,"reputation":1229,"user_id":1187719,"accept_rate":37,"display_name":"Entropy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635788199,"creation_date":1635788199,"answer_id":69800600,"question_id":69788238,"body_markdown":"Turns out, db2 uppercases the columns unless I put quotes around the aliases.  I somehow have never encountered this problem. But yeah, just use quotes around the aliases. IMHO, hibernate should give a better error on that, but now I know.","title":"Hibernate ClassCastException [myBean] incompatible with java.util.Map","body":"<p>Turns out, db2 uppercases the columns unless I put quotes around the aliases.  I somehow have never encountered this problem. But yeah, just use quotes around the aliases. IMHO, hibernate should give a better error on that, but now I know.</p>\n"}],"owner":{"account_id":1221072,"reputation":1229,"user_id":1187719,"accept_rate":37,"display_name":"Entropy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635788199,"creation_date":1635695930,"question_id":69788238,"body_markdown":"I&#39;ve done this before. I&#39;m even doing it in other places in the same application.  Hibernate 5.2 is my version. AssetInfo is a simple bean, just 4 columns. All properties have get/set. Null constructor. The query seems to be compiling. I double checked that all return columns are aliased to line up with the property names of the bean. No annotations on AssetInfo, it&#39;s just a bean.\r\n\r\nI must be missing something.  There must be something different about this vs other places in the same app I&#39;m doing this, but I&#39;m not seeing it. It seems to die after the query while prepping results for me.\r\n\r\nThe exception:\r\n\r\n    java.lang.ClassCastException: [mypackage].AssetInfo incompatible with java.util.Map\r\n\tat org.hibernate.property.access.internal.PropertyAccessMapImpl$SetterImpl.set(PropertyAccessMapImpl.java:102) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.transform.AliasToBeanResultTransformer.transformTuple(AliasToBeanResultTransformer.java:78) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.hql.internal.HolderInstantiator.instantiate(HolderInstantiator.java:85) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.loader.custom.CustomLoader.getResultList(CustomLoader.java:430) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2507) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2502) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:335) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2161) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1016) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:152) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1414) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\r\nThe call:\r\n\r\n\t\tQuery&lt;AssetInfo&gt; query = session.createNativeQuery(sql.toString()).setResultTransformer(Transformers.aliasToBean(AssetInfo.class));\r\n\t\tbuildParmList(query, searchCriteria);\r\n\t\tList&lt;AssetInfo&gt; result = query.list();\r\n\r\nThe query (as logged out by hibernate - showing it did compile and run it):\r\n\r\n    select asset_id as assetId, [redacted] as caseNumber, asset_desc as assetDescription, asset_val as assetValue from [redacted] where [redacted]= ? and  ASSET_ID like  &#39;21-%&#39; order by asset_id  fetch first 100 rows only\r\n\r\nThe bean:\r\n\r\n\tprivate String assetId;\r\n\tprivate String assetDescription;\r\n\tprivate BigDecimal assetValue;\r\n\tprivate String caseNumber;\r\n\t\r\n\tpublic AssetInfo() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic String getCaseNumber() {\r\n\t\treturn caseNumber;\r\n\t}\r\n\tpublic void setCaseNumber(String caseNumber) {\r\n\t\tthis.caseNumber = caseNumber;\r\n\t}\r\n\tpublic BigDecimal getAssetValue() {\r\n\t\treturn assetValue;\r\n\t}\r\n\tpublic void setAssetValue(BigDecimal assetValue) {\r\n\t\tthis.assetValue = assetValue;\r\n\t}\r\n\tpublic String getAssetId() { \r\n\t\treturn assetId;\r\n\t}\r\n\tpublic void setAssetId(String assetId) {\r\n\t\tthis.assetId = assetId;\r\n\t}\r\n\tpublic String getAssetDescription() {\r\n\t\treturn assetDescription;\r\n\t}\r\n\tpublic void setAssetDescription(String assetDescription) {\r\n\t\tthis.assetDescription = assetDescription;\r\n\t}","title":"Hibernate ClassCastException [myBean] incompatible with java.util.Map","body":"<p>I've done this before. I'm even doing it in other places in the same application.  Hibernate 5.2 is my version. AssetInfo is a simple bean, just 4 columns. All properties have get/set. Null constructor. The query seems to be compiling. I double checked that all return columns are aliased to line up with the property names of the bean. No annotations on AssetInfo, it's just a bean.</p>\n<p>I must be missing something.  There must be something different about this vs other places in the same app I'm doing this, but I'm not seeing it. It seems to die after the query while prepping results for me.</p>\n<p>The exception:</p>\n<pre><code>java.lang.ClassCastException: [mypackage].AssetInfo incompatible with java.util.Map\nat org.hibernate.property.access.internal.PropertyAccessMapImpl$SetterImpl.set(PropertyAccessMapImpl.java:102) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.transform.AliasToBeanResultTransformer.transformTuple(AliasToBeanResultTransformer.java:78) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.hql.internal.HolderInstantiator.instantiate(HolderInstantiator.java:85) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.loader.custom.CustomLoader.getResultList(CustomLoader.java:430) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2507) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.loader.Loader.list(Loader.java:2502) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:335) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2161) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1016) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:152) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1414) ~[hibernate-core-5.2.16.Final.jar:5.2.16.Final]\n</code></pre>\n<p>The call:</p>\n<pre><code>    Query&lt;AssetInfo&gt; query = session.createNativeQuery(sql.toString()).setResultTransformer(Transformers.aliasToBean(AssetInfo.class));\n    buildParmList(query, searchCriteria);\n    List&lt;AssetInfo&gt; result = query.list();\n</code></pre>\n<p>The query (as logged out by hibernate - showing it did compile and run it):</p>\n<pre><code>select asset_id as assetId, [redacted] as caseNumber, asset_desc as assetDescription, asset_val as assetValue from [redacted] where [redacted]= ? and  ASSET_ID like  '21-%' order by asset_id  fetch first 100 rows only\n</code></pre>\n<p>The bean:</p>\n<pre><code>private String assetId;\nprivate String assetDescription;\nprivate BigDecimal assetValue;\nprivate String caseNumber;\n\npublic AssetInfo() {\n    super();\n}\n\npublic String getCaseNumber() {\n    return caseNumber;\n}\npublic void setCaseNumber(String caseNumber) {\n    this.caseNumber = caseNumber;\n}\npublic BigDecimal getAssetValue() {\n    return assetValue;\n}\npublic void setAssetValue(BigDecimal assetValue) {\n    this.assetValue = assetValue;\n}\npublic String getAssetId() { \n    return assetId;\n}\npublic void setAssetId(String assetId) {\n    this.assetId = assetId;\n}\npublic String getAssetDescription() {\n    return assetDescription;\n}\npublic void setAssetDescription(String assetDescription) {\n    this.assetDescription = assetDescription;\n}\n</code></pre>\n"},{"tags":["java","mysql","datasource","hikaricp"],"comments":[{"owner":{"account_id":83024,"reputation":301,"user_id":233042,"display_name":"Brian Bay"},"score":0,"creation_date":1651760867,"post_id":69800491,"comment_id":127444106,"body_markdown":"Did you figure out how to shrink the pool to 0 connections?","body":"Did you figure out how to shrink the pool to 0 connections?"},{"owner":{"account_id":9906484,"reputation":193,"user_id":7334855,"display_name":"Murtaza Hasan"},"score":0,"creation_date":1652089356,"post_id":69800491,"comment_id":127512858,"body_markdown":"Yes, I figured out that the above configuration is correct and it works. Just let the idletimeout pass.","body":"Yes, I figured out that the above configuration is correct and it works. Just let the idletimeout pass."}],"owner":{"account_id":9906484,"reputation":193,"user_id":7334855,"display_name":"Murtaza Hasan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635787559,"creation_date":1635787559,"question_id":69800491,"body_markdown":"I have a distributed system that connects to around 150 different schemas/databases at the same time. For connecting to each schema/database, the application spins up a separate connection pool. \r\nApplication has varying usage, sometimes it needs active connections to only 10 schemas, sometimes it needs active connections for all. \r\n\r\nIn order to better manage resources, I want to have Hikari connection pool, which should have 0 connection by default, and then as the need grows, the connections should grow out to a specified threshold and then come back to 0. \r\n\r\nMy configurations are such:\r\n\r\n    hikariConfig.setMinimumIdle(0);\r\n    hikariConfig.setMaximumPoolSize(10);\r\n    hikariConfig.setIdleTimeout(180000);\r\n\r\nHowever, I see at least 1 active connection per pool in my MySQL database when I run sql\r\n\r\n    &gt; show processList;\r\n\r\nHow do I ensure that when there is no need for the connection, the connection pool shrinks to 0?\r\n\r\n ","title":"Is it possible to create a variable sized Hikari Connection Pool with 0 connections at start?","body":"<p>I have a distributed system that connects to around 150 different schemas/databases at the same time. For connecting to each schema/database, the application spins up a separate connection pool.\nApplication has varying usage, sometimes it needs active connections to only 10 schemas, sometimes it needs active connections for all.</p>\n<p>In order to better manage resources, I want to have Hikari connection pool, which should have 0 connection by default, and then as the need grows, the connections should grow out to a specified threshold and then come back to 0.</p>\n<p>My configurations are such:</p>\n<pre><code>hikariConfig.setMinimumIdle(0);\nhikariConfig.setMaximumPoolSize(10);\nhikariConfig.setIdleTimeout(180000);\n</code></pre>\n<p>However, I see at least 1 active connection per pool in my MySQL database when I run sql</p>\n<pre><code>&gt; show processList;\n</code></pre>\n<p>How do I ensure that when there is no need for the connection, the connection pool shrinks to 0?</p>\n"},{"tags":["java","postgresql","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635786975,"creation_date":1635786975,"answer_id":69800391,"question_id":69756178,"body_markdown":"In the end I made the following changes and it worked:\r\n\r\nReplaced the composite ids for `p` and `v_c` with auto increment ids AND added another new, auto increment field called `pricing_p_id` in my `b_p` table:\r\n\r\n    CREATE TABLE v_c\r\n    (\r\n        vc_id               BIGSERIAL    NOT NULL PRIMARY KEY,\r\n        p_c   TEXT          NOT NULL,\r\n        coin_id             VARCHAR(50)  NOT NULL\r\n    );\r\n    \r\n    CREATE TABLE p\r\n    (\r\n        p_id                BIGSERIAL    NOT NULL PRIMARY KEY,\r\n        a                   NUMERIC      NOT NULL,\r\n        d_a                 NUMERIC      NOT NULL DEFAULT 0.0,\r\n        vc_id               BIGSERIAL,\r\n    \r\n        FOREIGN KEY (vc_id) REFERENCES v_c(vc_id) ON DELETE CASCADE\r\n    );\r\n    \r\n    CREATE TABLE b_p\r\n    (\r\n        b_name              VARCHAR(100)    NOT NULL,\r\n        vc_id               BIGSERIAL       NOT NULL,\r\n        pricing_p_id        BIGSERIAL       NOT NULL,\r\n    \r\n        PRIMARY KEY (b_name, vc_id, pricing_p_id),\r\n    \r\n        FOREIGN KEY (b_name) REFERENCES b (name) ON DELETE CASCADE,\r\n        FOREIGN KEY (vc_id) REFERENCES v_c (vc_id) ON DELETE CASCADE,\r\n        FOREIGN KEY (pricing_p_id) REFERENCES p (p_id) ON DELETE CASCADE\r\n    );\r\n\r\nand then updated the mapping for the pricing field to only look like this:\r\n\r\n      @OneToMany(cascade = CascadeType.ALL)\r\n      @MapKeyJoinColumn(name = &quot;vc_id&quot;) // this\r\n      private Map&lt;VC, P&gt; pricing = new LinkedHashMap&lt;&gt;();","title":"JPA Column does not exist","body":"<p>In the end I made the following changes and it worked:</p>\n<p>Replaced the composite ids for <code>p</code> and <code>v_c</code> with auto increment ids AND added another new, auto increment field called <code>pricing_p_id</code> in my <code>b_p</code> table:</p>\n<pre><code>CREATE TABLE v_c\n(\n    vc_id               BIGSERIAL    NOT NULL PRIMARY KEY,\n    p_c   TEXT          NOT NULL,\n    coin_id             VARCHAR(50)  NOT NULL\n);\n\nCREATE TABLE p\n(\n    p_id                BIGSERIAL    NOT NULL PRIMARY KEY,\n    a                   NUMERIC      NOT NULL,\n    d_a                 NUMERIC      NOT NULL DEFAULT 0.0,\n    vc_id               BIGSERIAL,\n\n    FOREIGN KEY (vc_id) REFERENCES v_c(vc_id) ON DELETE CASCADE\n);\n\nCREATE TABLE b_p\n(\n    b_name              VARCHAR(100)    NOT NULL,\n    vc_id               BIGSERIAL       NOT NULL,\n    pricing_p_id        BIGSERIAL       NOT NULL,\n\n    PRIMARY KEY (b_name, vc_id, pricing_p_id),\n\n    FOREIGN KEY (b_name) REFERENCES b (name) ON DELETE CASCADE,\n    FOREIGN KEY (vc_id) REFERENCES v_c (vc_id) ON DELETE CASCADE,\n    FOREIGN KEY (pricing_p_id) REFERENCES p (p_id) ON DELETE CASCADE\n);\n</code></pre>\n<p>and then updated the mapping for the pricing field to only look like this:</p>\n<pre><code>  @OneToMany(cascade = CascadeType.ALL)\n  @MapKeyJoinColumn(name = &quot;vc_id&quot;) // this\n  private Map&lt;VC, P&gt; pricing = new LinkedHashMap&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69800391,"answer_count":1,"score":1,"last_activity_date":1635786975,"creation_date":1635432089,"question_id":69756178,"body_markdown":"I have an entity `B` which contains a map of entities `&lt;VC, P&gt;` in which some of the fields in `P`, e.g. `A` is not being linked with my join table and gives the error:\r\n\r\n&gt; PSQLException: ERROR: column pricing1_.pricing_a does not exist\r\n\r\nI am trying to make it such that when I persist my main entity, `B`, that all of the entities in my map will also be persisted as well (if possible) all in one go.\r\n\r\nThis error occurs both when I do\r\n\r\n    bRepo.save(b);\r\n\r\nand\r\n\r\n    pRepo.saveAll(b.getPricing().values()); // by here the values at least exists in its own table (p)\r\n    bRepo.save(b);\r\n\r\nhere is what I have\r\n\r\nMain entity B\r\n\r\n    @Setter\r\n    @Getter\r\n    @Entity\r\n    @Table(name = &quot;b&quot;)\r\n    public class B implements Serializable {\r\n    \r\n      @Id\r\n      @Column(nullable = false)\r\n      private String name;\r\n    \r\n      @OneToMany(cascade = CascadeType.ALL)\r\n      @JoinTable(\r\n              name = &quot;b_p&quot;,\r\n              joinColumns = @JoinColumn(name = &quot;b_name&quot;, referencedColumnName = &quot;name&quot;))\r\n      @MapKeyJoinColumns({\r\n              @MapKeyJoinColumn(name = &quot;p_c&quot;),\r\n              @MapKeyJoinColumn(name = &quot;c_id&quot;)\r\n      })\r\n      private Map&lt;VC, P&gt; pricing = new LinkedHashMap&lt;&gt;();\r\n    \r\n      ...\r\n    }\r\n\r\nThe `pricing` maps key \r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;v_c&quot;)\r\n    public class VC implements Serializable {\r\n    \r\n      @EmbeddedId private VCId vcId;\r\n    }\r\n\r\nand its (VC) composite key\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Embeddable\r\n    public class VCId implements Serializable {\r\n    \r\n      @Enumerated(EnumType.STRING)\r\n      @Column(name = &quot;p_c&quot;)\r\n      private PC pC;\r\n    \r\n      @Column(name = &quot;c_id&quot;)\r\n      private String cId;\r\n    }\r\n\r\n\r\n\r\nthe pricing map&#39;s value\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Embeddable\r\n    @Entity\r\n    @Table(name = &quot;p&quot;)\r\n    public class P implements Serializable {\r\n    \r\n      @EmbeddedId private PId pId;\r\n    }\r\n\r\n\r\nand its (P) key\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @Embeddable\r\n    public class PId implements Serializable {\r\n    \r\n      @Column(name = &quot;a&quot;)\r\n      private BigDecimal a; // complains about this field\r\n    \r\n      @Column(name = &quot;d_a&quot;)\r\n      private BigDecimal dA; // and will probably complain about this one too\r\n    }\r\n\r\nMy tables\r\n\r\n    CREATE TABLE b\r\n    (\r\n        name   VARCHAR(100) NOT NULL PRIMARY KEY,\r\n        ...\r\n    );\r\n    \r\n    CREATE TABLE v_c\r\n    (\r\n        p_c   TEXT         NOT NULL,\r\n        c_id  VARCHAR(50)  NOT NULL,\r\n    \r\n        PRIMARY KEY (p_c, c_id)\r\n    );\r\n    \r\n    CREATE TABLE p\r\n    (\r\n        a       NUMERIC      NOT NULL,\r\n        d_a     NUMERIC      NOT NULL DEFAULT 0.0,\r\n    \r\n        PRIMARY KEY (a, d_a)\r\n    );\r\n    \r\n    CREATE TABLE b_p\r\n    (\r\n        b_name     VARCHAR(100) NOT NULL,\r\n        p_c        TEXT         NOT NULL,\r\n        c_id       VARCHAR(50)  NOT NULL,\r\n        a          NUMERIC      NOT NULL,\r\n        d_a        NUMERIC      NOT NULL DEFAULT 0.0,\r\n    \r\n        PRIMARY KEY (b_name, p_c, c_id),\r\n        \r\n        FOREIGN KEY (b_name) REFERENCES b (name) ON DELETE CASCADE,\r\n        FOREIGN KEY (p_c, c_id) REFERENCES v_c (p_c, c_id) ON DELETE CASCADE,\r\n        FOREIGN KEY (a, d_a) REFERENCES p (a, d_a) ON DELETE CASCADE\r\n    );\r\n\r\nWhat am I doing wrong?\r\n","title":"JPA Column does not exist","body":"<p>I have an entity <code>B</code> which contains a map of entities <code>&lt;VC, P&gt;</code> in which some of the fields in <code>P</code>, e.g. <code>A</code> is not being linked with my join table and gives the error:</p>\n<blockquote>\n<p>PSQLException: ERROR: column pricing1_.pricing_a does not exist</p>\n</blockquote>\n<p>I am trying to make it such that when I persist my main entity, <code>B</code>, that all of the entities in my map will also be persisted as well (if possible) all in one go.</p>\n<p>This error occurs both when I do</p>\n<pre><code>bRepo.save(b);\n</code></pre>\n<p>and</p>\n<pre><code>pRepo.saveAll(b.getPricing().values()); // by here the values at least exists in its own table (p)\nbRepo.save(b);\n</code></pre>\n<p>here is what I have</p>\n<p>Main entity B</p>\n<pre><code>@Setter\n@Getter\n@Entity\n@Table(name = &quot;b&quot;)\npublic class B implements Serializable {\n\n  @Id\n  @Column(nullable = false)\n  private String name;\n\n  @OneToMany(cascade = CascadeType.ALL)\n  @JoinTable(\n          name = &quot;b_p&quot;,\n          joinColumns = @JoinColumn(name = &quot;b_name&quot;, referencedColumnName = &quot;name&quot;))\n  @MapKeyJoinColumns({\n          @MapKeyJoinColumn(name = &quot;p_c&quot;),\n          @MapKeyJoinColumn(name = &quot;c_id&quot;)\n  })\n  private Map&lt;VC, P&gt; pricing = new LinkedHashMap&lt;&gt;();\n\n  ...\n}\n</code></pre>\n<p>The <code>pricing</code> maps key</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;v_c&quot;)\npublic class VC implements Serializable {\n\n  @EmbeddedId private VCId vcId;\n}\n</code></pre>\n<p>and its (VC) composite key</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Embeddable\npublic class VCId implements Serializable {\n\n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;p_c&quot;)\n  private PC pC;\n\n  @Column(name = &quot;c_id&quot;)\n  private String cId;\n}\n</code></pre>\n<p>the pricing map's value</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Embeddable\n@Entity\n@Table(name = &quot;p&quot;)\npublic class P implements Serializable {\n\n  @EmbeddedId private PId pId;\n}\n</code></pre>\n<p>and its (P) key</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@Embeddable\npublic class PId implements Serializable {\n\n  @Column(name = &quot;a&quot;)\n  private BigDecimal a; // complains about this field\n\n  @Column(name = &quot;d_a&quot;)\n  private BigDecimal dA; // and will probably complain about this one too\n}\n</code></pre>\n<p>My tables</p>\n<pre><code>CREATE TABLE b\n(\n    name   VARCHAR(100) NOT NULL PRIMARY KEY,\n    ...\n);\n\nCREATE TABLE v_c\n(\n    p_c   TEXT         NOT NULL,\n    c_id  VARCHAR(50)  NOT NULL,\n\n    PRIMARY KEY (p_c, c_id)\n);\n\nCREATE TABLE p\n(\n    a       NUMERIC      NOT NULL,\n    d_a     NUMERIC      NOT NULL DEFAULT 0.0,\n\n    PRIMARY KEY (a, d_a)\n);\n\nCREATE TABLE b_p\n(\n    b_name     VARCHAR(100) NOT NULL,\n    p_c        TEXT         NOT NULL,\n    c_id       VARCHAR(50)  NOT NULL,\n    a          NUMERIC      NOT NULL,\n    d_a        NUMERIC      NOT NULL DEFAULT 0.0,\n\n    PRIMARY KEY (b_name, p_c, c_id),\n    \n    FOREIGN KEY (b_name) REFERENCES b (name) ON DELETE CASCADE,\n    FOREIGN KEY (p_c, c_id) REFERENCES v_c (p_c, c_id) ON DELETE CASCADE,\n    FOREIGN KEY (a, d_a) REFERENCES p (a, d_a) ON DELETE CASCADE\n);\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","docker","elasticsearch","docker-compose","appdynamics"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633866128,"post_id":69455146,"comment_id":122869687,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1634387997,"post_id":69455146,"comment_id":123013599,"body_markdown":"looks like this is a configuration problem check https://community.appdynamics.com/t5/Java-Java-Agent-Installation-JVM/java-lang-NoClassDefFoundError-com-singularity-ee-agent-appagent/td-p/29468","body":"looks like this is a configuration problem check <a href=\"https://community.appdynamics.com/t5/Java-Java-Agent-Installation-JVM/java-lang-NoClassDefFoundError-com-singularity-ee-agent-appagent/td-p/29468\" rel=\"nofollow noreferrer\">community.appdynamics.com/t5/Java-Java-Agent-Installation-JV&zwnj;&#8203;M/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1284168,"reputation":3460,"user_id":1237595,"display_name":"Ingmar Boddington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635786764,"creation_date":1634813660,"answer_id":69660651,"question_id":69455146,"body_markdown":"Try updating your java.policy / default.policy files with the following grants\r\n\r\n    grant {\r\n      permission java.io.FilePermission &quot;/opt/appdynamics/java-agent/-&quot;, &quot;read,write,execute,delete&quot;;\r\n      permission java.lang.reflect.ReflectPermission &quot;suppressAccessChecks&quot;;\r\n      permission java.util.PropertyPermission &quot;appdynamics.enable.field.injection&quot;, &quot;read&quot;;\r\n      permission java.util.PropertyPermission &quot;appdynamics.agent.enablesop&quot;, &quot;read&quot;;\r\n      permission java.lang.RuntimePermission &quot;getClassLoader&quot;;\r\n      permission java.lang.management.ManagementPermission &quot;monitor&quot;;\r\n    };\r\n\r\n**Edit to generalise advice based on comment from OP:**\r\n\r\nMore generally, logged errors can be translated into further additional permission config, e.g. For:\r\n\r\n    WARN BCIFixer - Error matching class [org.apache.logging.log4j.core.appender.rolling.action.DeleteAction] [access denied (&quot;java.lang.RuntimePermission&quot; &quot;accessDeclaredMembers&quot;)]\r\n\r\nAdd:\r\n\r\n    permission java.lang.RuntimePermission &quot;accessDeclaredMembers&quot;;","title":"Exception in AppDynamics JAVA Agent for Elasticsearch","body":"<p>Try updating your java.policy / default.policy files with the following grants</p>\n<pre><code>grant {\n  permission java.io.FilePermission &quot;/opt/appdynamics/java-agent/-&quot;, &quot;read,write,execute,delete&quot;;\n  permission java.lang.reflect.ReflectPermission &quot;suppressAccessChecks&quot;;\n  permission java.util.PropertyPermission &quot;appdynamics.enable.field.injection&quot;, &quot;read&quot;;\n  permission java.util.PropertyPermission &quot;appdynamics.agent.enablesop&quot;, &quot;read&quot;;\n  permission java.lang.RuntimePermission &quot;getClassLoader&quot;;\n  permission java.lang.management.ManagementPermission &quot;monitor&quot;;\n};\n</code></pre>\n<p><strong>Edit to generalise advice based on comment from OP:</strong></p>\n<p>More generally, logged errors can be translated into further additional permission config, e.g. For:</p>\n<pre><code>WARN BCIFixer - Error matching class [org.apache.logging.log4j.core.appender.rolling.action.DeleteAction] [access denied (&quot;java.lang.RuntimePermission&quot; &quot;accessDeclaredMembers&quot;)]\n</code></pre>\n<p>Add:</p>\n<pre><code>permission java.lang.RuntimePermission &quot;accessDeclaredMembers&quot;;\n</code></pre>\n"}],"owner":{"account_id":22941981,"reputation":3,"user_id":17074601,"display_name":"Hitman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69660651,"answer_count":1,"score":0,"last_activity_date":1635786764,"creation_date":1633456409,"question_id":69455146,"body_markdown":"I am trying to configure the AppDynamics Java agent for Elasticsearch 7.9.3 (Docker) version. The agent is registered in the AppDynamics but the agent status is showing down.\r\n\r\nIn AppDynamics logs I can see the below error.\r\n\r\n 03 Oct 2021 14:47:24,169  WARN JavaAgent - Exception caught: java.lang.NoClassDefFoundError: com/singularity/ee/agent/appagent/services/transactionmonitor/common/activity/CustomActivityUtil\r\n    \r\n 03 Oct 2021 14:47:24,171  WARN JavaAgent - Exception caught: java.lang.NoClassDefFoundError: com/singularity/ee/agent/appagent/services/agentdiagnostics/safety/ErrorClassKey\r\n    \r\n 03 Oct 2021 14:47:24,665  WARN JavaAgent - Exception caught: java.lang.NoClassDefFoundError: com/singularity/ee/agent/appagent/services/transactionmonitor/e2elatency/E2ELatencyUtil\r\n\r\n\r\nI am unable to find a solution for this, looking for any suggestions.\r\n\r\n","title":"Exception in AppDynamics JAVA Agent for Elasticsearch","body":"<p>I am trying to configure the AppDynamics Java agent for Elasticsearch 7.9.3 (Docker) version. The agent is registered in the AppDynamics but the agent status is showing down.</p>\n<p>In AppDynamics logs I can see the below error.</p>\n<p>03 Oct 2021 14:47:24,169  WARN JavaAgent - Exception caught: java.lang.NoClassDefFoundError: com/singularity/ee/agent/appagent/services/transactionmonitor/common/activity/CustomActivityUtil</p>\n<p>03 Oct 2021 14:47:24,171  WARN JavaAgent - Exception caught: java.lang.NoClassDefFoundError: com/singularity/ee/agent/appagent/services/agentdiagnostics/safety/ErrorClassKey</p>\n<p>03 Oct 2021 14:47:24,665  WARN JavaAgent - Exception caught: java.lang.NoClassDefFoundError: com/singularity/ee/agent/appagent/services/transactionmonitor/e2elatency/E2ELatencyUtil</p>\n<p>I am unable to find a solution for this, looking for any suggestions.</p>\n"},{"tags":["java","homebrew"],"answers":[{"tags":[],"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635786677,"creation_date":1635786677,"answer_id":69800334,"question_id":69794347,"body_markdown":"The needed steps are described on the [official homepage](https://docs.brew.sh/Installation#untar-anywhere)\r\n\r\n```\r\nmkdir homebrew &amp;&amp; curl -L https://github.com/Homebrew/brew/tarball/master | tar xz --strip 1 -C homebrew\r\n```\r\nor\r\n```\r\ngit clone https://github.com/Homebrew/brew homebrew\r\n```\r\nthen\r\n```\r\neval &quot;$(homebrew/bin/brew shellenv)&quot;\r\nbrew update --force --quiet\r\nchmod -R go-w &quot;$(brew --prefix)/share/zsh&quot;\r\n```","title":"How to install Homebrew in specified folder ? For example , in the Home directory","body":"<p>The needed steps are described on the <a href=\"https://docs.brew.sh/Installation#untar-anywhere\" rel=\"nofollow noreferrer\">official homepage</a></p>\n<pre><code>mkdir homebrew &amp;&amp; curl -L https://github.com/Homebrew/brew/tarball/master | tar xz --strip 1 -C homebrew\n</code></pre>\n<p>or</p>\n<pre><code>git clone https://github.com/Homebrew/brew homebrew\n</code></pre>\n<p>then</p>\n<pre><code>eval &quot;$(homebrew/bin/brew shellenv)&quot;\nbrew update --force --quiet\nchmod -R go-w &quot;$(brew --prefix)/share/zsh&quot;\n</code></pre>\n"}],"owner":{"account_id":15345283,"reputation":105,"user_id":11160974,"display_name":"Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6193,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1635786677,"creation_date":1635755425,"question_id":69794347,"body_markdown":"I have installed Homebrew via the Terminal with help of this line of code `/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;` on my Mac Os and it has been downloaded to `/usr/local` folder.\r\n\r\nHow can I install it to specified folder for example my Home Folder `/Users/Petrov`?","title":"How to install Homebrew in specified folder ? For example , in the Home directory","body":"<p>I have installed Homebrew via the Terminal with help of this line of code <code>/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;</code> on my Mac Os and it has been downloaded to <code>/usr/local</code> folder.</p>\n<p>How can I install it to specified folder for example my Home Folder <code>/Users/Petrov</code>?</p>\n"},{"tags":["java","spring","junit","mockito","cglib"],"comments":[{"owner":{"account_id":898238,"reputation":881,"user_id":935039,"display_name":"teemoo"},"score":1,"creation_date":1563177350,"post_id":54634081,"comment_id":100599261,"body_markdown":"I have exactly the same problem... Could you finally find a workaround/fix? Any feedback would be appreciated.","body":"I have exactly the same problem... Could you finally find a workaround/fix? Any feedback would be appreciated."},{"owner":{"account_id":291592,"reputation":1085,"user_id":593852,"accept_rate":43,"display_name":"Tchypp"},"score":1,"creation_date":1563960975,"post_id":54634081,"comment_id":100870689,"body_markdown":"@teemoo Sorry, but I don&#39;t remember exactly. As I don&#39;t find any use of `mock-maker-inline` in the project, I guess I dropped it all together and redesigned the test / code.","body":"@teemoo Sorry, but I don&#39;t remember exactly. As I don&#39;t find any use of <code>mock-maker-inline</code> in the project, I guess I dropped it all together and redesigned the test / code."},{"owner":{"account_id":2072373,"reputation":724,"user_id":1846528,"display_name":"M-sAnNan"},"score":0,"creation_date":1669987718,"post_id":54634081,"comment_id":131773996,"body_markdown":"@teemoo figured out any solution?","body":"@teemoo figured out any solution?"},{"owner":{"account_id":898238,"reputation":881,"user_id":935039,"display_name":"teemoo"},"score":0,"creation_date":1670226563,"post_id":54634081,"comment_id":131818107,"body_markdown":"@M-sAnNan nope, sorry, I think I also decided to rewrite the code to test it in a more regular way with standard Mockito.","body":"@M-sAnNan nope, sorry, I think I also decided to rewrite the code to test it in a more regular way with standard Mockito."}],"owner":{"account_id":291592,"reputation":1085,"user_id":593852,"accept_rate":43,"display_name":"Tchypp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1635786652,"creation_date":1549899608,"question_id":54634081,"body_markdown":"I tried out the `mock-maker-inline` &quot;Incubation&quot; feature of Mockito to be able to mock a final class (problem described and discussed [here][1]). Since then other tests fail with: \r\n\r\n    org.mockito.exceptions.misusing.NotAMockException: \r\n    Argument passed to when() is not a mock!\r\n    Example of correct stubbing:\r\n        doThrow(new RuntimeException()).when(mock).someMethod();\r\n\r\nwhen I define an exception to be thrown by a spy.\r\nRelevant code from one of the tests:\r\n\r\nIn @Configuration class:\r\n\r\n    @Bean\r\n    public MessagePersister messagePersister() {\r\n        return Mockito.spy(new MessagePersister(...));\r\n    }\r\n\r\nNote: MessagePersister is proxied by CGLIB.\r\n\r\nIn Test class:\r\n\r\n    @Inject\r\n    private MessagePersister messagePersisterSpy;\r\n\r\n    @Test\r\n    public void exceptionInPersisterTest() {\r\n        doThrow(new SomeException(&quot;exceptionFromTest&quot;)).doCallRealMethod()\r\n                .when(messagePersisterSpy).persistMessages(any());\r\n    ...\r\n    }\r\n\r\nThe exception is understandable. The class of `messagePersisterSpy` is `MessagePersister$$EnhancerBySpringCGLIB$$6c49f1e2`, but if I remove the `mock-maker-inline` feature, my spy is of class `MessagePersister$MockitoMock$515952708$$EnhancerBySpringCGLIB$$9523b504` and the tests are green.\r\n\r\nAny ideas where this interference comes from and if I can do something about it ?\r\n\r\nThank you !\r\n\r\n  [1]: https://stackoverflow.com/questions/54592818/mocking-a-class-with-transactional-method-with-mockito\r\n","title":"mock-maker-inline makes other mocks not work","body":"<p>I tried out the <code>mock-maker-inline</code> \"Incubation\" feature of Mockito to be able to mock a final class (problem described and discussed <a href=\"https://stackoverflow.com/questions/54592818/mocking-a-class-with-transactional-method-with-mockito\">here</a>). Since then other tests fail with: </p>\n\n<pre><code>org.mockito.exceptions.misusing.NotAMockException: \nArgument passed to when() is not a mock!\nExample of correct stubbing:\n    doThrow(new RuntimeException()).when(mock).someMethod();\n</code></pre>\n\n<p>when I define an exception to be thrown by a spy.\nRelevant code from one of the tests:</p>\n\n<p>In @Configuration class:</p>\n\n<pre><code>@Bean\npublic MessagePersister messagePersister() {\n    return Mockito.spy(new MessagePersister(...));\n}\n</code></pre>\n\n<p>Note: MessagePersister is proxied by CGLIB.</p>\n\n<p>In Test class:</p>\n\n<pre><code>@Inject\nprivate MessagePersister messagePersisterSpy;\n\n@Test\npublic void exceptionInPersisterTest() {\n    doThrow(new SomeException(\"exceptionFromTest\")).doCallRealMethod()\n            .when(messagePersisterSpy).persistMessages(any());\n...\n}\n</code></pre>\n\n<p>The exception is understandable. The class of <code>messagePersisterSpy</code> is <code>MessagePersister$$EnhancerBySpringCGLIB$$6c49f1e2</code>, but if I remove the <code>mock-maker-inline</code> feature, my spy is of class <code>MessagePersister$MockitoMock$515952708$$EnhancerBySpringCGLIB$$9523b504</code> and the tests are green.</p>\n\n<p>Any ideas where this interference comes from and if I can do something about it ?</p>\n\n<p>Thank you !</p>\n"},{"tags":["java","image","android-studio","bitmap","base64"],"comments":[{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1635804527,"post_id":69800291,"comment_id":123386594,"body_markdown":"Did you check what the value of `img1_64` is? It‚Äôs probably not what you think it should be?!","body":"Did you check what the value of <code>img1_64</code> is? It‚Äôs probably not what you think it should be?!"},{"owner":{"account_id":22050880,"reputation":1,"user_id":16315193,"display_name":"Shayan Khajehnouri"},"score":0,"creation_date":1635861936,"post_id":69800291,"comment_id":123401670,"body_markdown":"The think is when I print img1_64, I get the same thing on Python and Java, I feel like they&#39;re the same","body":"The think is when I print img1_64, I get the same thing on Python and Java, I feel like they&#39;re the same"}],"owner":{"account_id":22050880,"reputation":1,"user_id":16315193,"display_name":"Shayan Khajehnouri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635786471,"creation_date":1635786471,"question_id":69800291,"body_markdown":"I get a base64 string representation of an image coming from a scanner I send a GET request to. On Python, I manage to convert the base64 String into an image and see it, but impossible in Java (Android Studio). I feel like I&#39;ve tried everything, here is the code I use : \r\n\r\n``` \r\nString img1_64 = datacam1.getString(&quot;image&quot;);\r\nbyte[] decodedString1 = Base64.decode(img1_64, Base64.DEFAULT);\r\nBitmap img1 = BitmapFactory.decodeByteArray(decodedString1, 0, decodedString1.length);\r\nimageview1.setImageBitmap(img1); \r\n```\r\nThe image is supposed to be 240x376.\r\nI also tried using decodeByteArray with the option parameter, and I also tried converting an image into base64 on the internet, and using this code and it worked perfectly. \r\nI just don&#39;t understand why it doesn&#39;t work with the scanner images.","title":"Why is my BitmapFactory.decodeByteArray function returning null?","body":"<p>I get a base64 string representation of an image coming from a scanner I send a GET request to. On Python, I manage to convert the base64 String into an image and see it, but impossible in Java (Android Studio). I feel like I've tried everything, here is the code I use :</p>\n<pre><code>String img1_64 = datacam1.getString(&quot;image&quot;);\nbyte[] decodedString1 = Base64.decode(img1_64, Base64.DEFAULT);\nBitmap img1 = BitmapFactory.decodeByteArray(decodedString1, 0, decodedString1.length);\nimageview1.setImageBitmap(img1); \n</code></pre>\n<p>The image is supposed to be 240x376.\nI also tried using decodeByteArray with the option parameter, and I also tried converting an image into base64 on the internet, and using this code and it worked perfectly.\nI just don't understand why it doesn't work with the scanner images.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1635780642,"post_id":69799079,"comment_id":123378714,"body_markdown":"100k users creating transactions at once? Who are you, Google? ;-) ‚Äî&#160;In all seriousness, even moderately large sites rarely have more than a handful users who query the service at exactly the same time. Still, a server obviously needs to cope with the resulting concurrency. How this is done depends on your web framework.","body":"100k users creating transactions at once? Who are you, Google? ;-) ‚Äî In all seriousness, even moderately large sites rarely have more than a handful users who query the service at exactly the same time. Still, a server obviously needs to cope with the resulting concurrency. How this is done depends on your web framework."},{"owner":{"account_id":16677797,"reputation":837,"user_id":12053756,"display_name":"Jagar"},"score":1,"creation_date":1635780686,"post_id":69799079,"comment_id":123378730,"body_markdown":"Every user will have his own instance in the memory, so no one will wait for another one until the memory (RAM) is full then the newcomers will wait till there is a space there. This is only a very general concept to understand how it is done, otherwise, you need to learn more about the operating systems or in java case, the JDK, JRE","body":"Every user will have his own instance in the memory, so no one will wait for another one until the memory (RAM) is full then the newcomers will wait till there is a space there. This is only a very general concept to understand how it is done, otherwise, you need to learn more about the operating systems or in java case, the JDK, JRE"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1635783257,"post_id":69799079,"comment_id":123379687,"body_markdown":"A &quot;standard&quot; Java web server has 1 request = 1 thread. All request will start a new concurrent thread to serve the response.\nYou can program a multithreaded web server in Java by yourself (good exercise to understand Java web servers) https://www.geeksforgeeks.org/multithreaded-servers-in-java/","body":"A &quot;standard&quot; Java web server has 1 request = 1 thread. All request will start a new concurrent thread to serve the response. You can program a multithreaded web server in Java by yourself (good exercise to understand Java web servers) <a href=\"https://www.geeksforgeeks.org/multithreaded-servers-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/multithreaded-servers-in-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635786112,"creation_date":1635786112,"answer_id":69800223,"question_id":69799079,"body_markdown":"Typically a Web application server uses threads to handle multiple requests at a time. \r\n\r\nTo answer your question: **No, calls to a method across threads are not blocked.** Multiple threads may be executing that method at the same time. If any resources are being shared across those threads including non-local variables, then you have a concurrency problem. Your code must be written in such a way as to protect access to any and all shared resources.\r\n\r\nConcurrency is an advanced topic that requires much learning. You‚Äôll need to learn about threads, the `Atomic‚Ä¶` classes, ‚Äúvisibility‚Äù, the Java Memory Model, and more. Required reading includes this excellent book, [*Java Concurrency In Practice*][1] by Brian Goetz et al.\r\n\r\nIf you are certain that you are *not* sharing resources across threads, then you need not master those topics now. Though you should learn the basics of threading to understand performance when deployed in production.\r\n\r\n\r\n  [1]: https://jcip.net/","title":"Multple users accessing a method in Java","body":"<p>Typically a Web application server uses threads to handle multiple requests at a time.</p>\n<p>To answer your question: <strong>No, calls to a method across threads are not blocked.</strong> Multiple threads may be executing that method at the same time. If any resources are being shared across those threads including non-local variables, then you have a concurrency problem. Your code must be written in such a way as to protect access to any and all shared resources.</p>\n<p>Concurrency is an advanced topic that requires much learning. You‚Äôll need to learn about threads, the <code>Atomic‚Ä¶</code> classes, ‚Äúvisibility‚Äù, the Java Memory Model, and more. Required reading includes this excellent book, <a href=\"https://jcip.net/\" rel=\"nofollow noreferrer\"><em>Java Concurrency In Practice</em></a> by Brian Goetz et al.</p>\n<p>If you are certain that you are <em>not</em> sharing resources across threads, then you need not master those topics now. Though you should learn the basics of threading to understand performance when deployed in production.</p>\n"}],"owner":{"account_id":22836239,"reputation":59,"user_id":16983968,"display_name":"average.joe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1635786112,"creation_date":1635780420,"question_id":69799079,"body_markdown":"a little newbie from backend java. Suppose to be, I have web application, and if a user do a transaction it will go through `processMethod`.. For example, if I have 100k users creating transactions at almost the same time. Will they be go trough the processMethod one by one? or at the same time?\r\n\r\n    public class MyClass {\r\n    \r\n        private String processMethod(String a) {\r\n             //do something.\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Multple users accessing a method in Java","body":"<p>a little newbie from backend java. Suppose to be, I have web application, and if a user do a transaction it will go through <code>processMethod</code>.. For example, if I have 100k users creating transactions at almost the same time. Will they be go trough the processMethod one by one? or at the same time?</p>\n<pre><code>public class MyClass {\n\n    private String processMethod(String a) {\n         //do something.\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1635785611,"post_id":69799949,"comment_id":123380577,"body_markdown":"Using your domain objects (spring entities) as DTOs is not a great idea as it ties your domain to whatever API you have created. Rather than fix the problem you have you might want to create a set of objects that can be used for the API independently of your domain model.","body":"Using your domain objects (spring entities) as DTOs is not a great idea as it ties your domain to whatever API you have created. Rather than fix the problem you have you might want to create a set of objects that can be used for the API independently of your domain model."},{"owner":{"account_id":8207608,"reputation":99,"user_id":6176841,"display_name":"suitej"},"score":0,"creation_date":1635786202,"post_id":69799949,"comment_id":123380786,"body_markdown":"I certainly plan on using views at the API level, but I also need to share this domain model via message queues in a technology neutral way - ie JSON / XML.","body":"I certainly plan on using views at the API level, but I also need to share this domain model via message queues in a technology neutral way - ie JSON / XML."},{"owner":{"account_id":8207608,"reputation":99,"user_id":6176841,"display_name":"suitej"},"score":0,"creation_date":1635843845,"post_id":69799949,"comment_id":123394441,"body_markdown":"I think I&#39;ve found the answer in the class level annotation `@JsonIdentityInfo`, as in: `@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)`. I&#39;ll need to do some more test cases to be sure.","body":"I think I&#39;ve found the answer in the class level annotation <code>@JsonIdentityInfo</code>, as in: <code>@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)</code>. I&#39;ll need to do some more test cases to be sure."}],"owner":{"account_id":8207608,"reputation":99,"user_id":6176841,"display_name":"suitej"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635786015,"creation_date":1635784650,"question_id":69799949,"body_markdown":"My database has a number of bill-of-materials structures, including one that defines relationships between parties:\r\n\r\n[![Party-Relationship Logical Model][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y5TKm.png\r\n\r\nThe 1st interactor tends to play the senior role - e.g. employer - and the 2nd interactor the minor role - e.g. employee.\r\n\r\nI would like to be able to serialize this to JSON but I&#39;m hitting problems.\r\n\r\nMy entities are annotated like this:\r\n\r\n**Party**\r\n\r\n\t@OneToMany(\r\n\t\ttargetEntity = PartyRelationshipDO.class,\r\n\t\tfetch = FetchType.LAZY, cascade = CascadeType.ALL\r\n\t)\r\n\t@JoinColumn(name = &quot;first_party_id&quot;, referencedColumnName = &quot;party_id&quot;)\r\n\t@JsonProperty(&quot;firstParties&quot;)\r\n\t@JsonManagedReference(value = &quot;FirstParty&quot;)\r\n\tprivate Set&lt;PartyRelationshipDO&gt; firstParties;\r\n\r\n\t@OneToMany(\r\n\t\ttargetEntity = PartyRelationshipDO.class,\r\n\t\tfetch = FetchType.LAZY, cascade = CascadeType.ALL\r\n\t)\r\n\t@JoinColumn(name = &quot;second_party_id&quot;, referencedColumnName = &quot;party_id&quot;)\r\n\t@JsonProperty(&quot;secondParties&quot;)\r\n\t@JsonManagedReference(value = &quot;SecondParty&quot;)\r\n\tprivate Set&lt;PartyRelationshipDO&gt; secondParties;\r\n\r\n**PartyRelationship**\r\n\r\n\t@ManyToOne(optional = false)\r\n\t@JoinColumn(name = &quot;first_party_id&quot;, referencedColumnName = &quot;party_id&quot;)\r\n\t@JsonProperty(&quot;firstParty&quot;)\r\n\t@JsonBackReference(value = &quot;FirstParty&quot;)\r\n\tprivate PartyDO firstParty;\r\n\r\n\t@ManyToOne(optional = false)\r\n\t@JoinColumn(name = &quot;second_party_id&quot;, referencedColumnName = &quot;party_id&quot;)\r\n\t@JsonProperty(&quot;secondParty&quot;)\r\n\t@JsonBackReference(value = &quot;SecondParty&quot;)\r\n\tprivate PartyDO secondParty;\r\n\r\nThis works *up to a point*. When I serialise my test case I get:\r\n\r\n    {\r\n    \t&quot;partyId&quot;: 1,\r\n    \t&quot;partyIdentifier&quot;: &quot;first.interactor@email.address&quot;,\r\n    \t&quot;isDeleted&quot;: false,\r\n    \t&quot;partyIdentifierType&quot;: {\r\n    \t\t&quot;typeKey&quot;: &quot;EMAIL_ADDRESS&quot;\r\n    \t},\r\n    \t&quot;secondParties&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;effectivePeriodFrom&quot;: &quot;2021-11-01T15:55:38.518Z&quot;,\r\n    \t\t\t&quot;isDeleted&quot;: false,\r\n    \t\t\t&quot;firstPartyId&quot;: 1,\r\n    \t\t\t&quot;secondPartyId&quot;: 2\r\n    \t\t}\r\n    \t],\r\n    \t&quot;firstName&quot;: &quot;First&quot;,\r\n    \t&quot;lastName&quot;: &quot;Interactor&quot;\r\n    }\r\n\r\nThe trouble is, the `secondParty` object is not serialized in the `&quot;secondParties&quot;` array. What I&#39;d like to see is:\r\n\r\n    {\r\n    \t&quot;partyId&quot;: 1,\r\n    \t&quot;partyIdentifier&quot;: &quot;first.interactor@email.address&quot;,\r\n    \t&quot;isDeleted&quot;: false,\r\n    \t&quot;partyIdentifierType&quot;: {\r\n    \t\t&quot;typeKey&quot;: &quot;EMAIL_ADDRESS&quot;\r\n    \t},\r\n    \t&quot;secondParties&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;effectivePeriodFrom&quot;: &quot;2021-11-01T15:55:38.518Z&quot;,\r\n    \t\t\t&quot;isDeleted&quot;: false,\r\n    \t\t\t&quot;firstPartyId&quot;: 1,\r\n    \t\t\t&quot;secondPartyId&quot;: 2,\r\n    \t\t\t&quot;secondParty&quot;: {\r\n    \t\t\t\t&quot;partyId&quot;: 2,\r\n    \t\t\t\t&quot;partyIdentifier&quot;: &quot;second.interactor@email.address&quot;,\r\n    \t\t\t\t&quot;isDeleted&quot;: false,\r\n    \t\t\t\t&quot;partyIdentifierType&quot;: {\r\n    \t\t\t\t\t&quot;typeKey&quot;: &quot;EMAIL_ADDRESS&quot;\r\n    \t\t\t\t},\r\n    \t\t\t\t&quot;firstName&quot;: &quot;Second&quot;,\r\n    \t\t\t\t&quot;lastName&quot;: &quot;Interactor&quot;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t],\r\n    \t&quot;firstName&quot;: &quot;First&quot;,\r\n    \t&quot;lastName&quot;: &quot;Interactor&quot;\r\n    }\r\n\r\nIf I *don&#39;t* use `@JsonManagedReference` and `@JsonBackReference`, I get a `StackOverflowError` with this chunk of stacktrace being repeated:\r\n\r\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)\r\n    at com.fasterxml.jackson.datatype.hibernate5.PersistentCollectionSerializer.serialize(PersistentCollectionSerializer.java:243)\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727)\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719)\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155)\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727)\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719)\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155)\r\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)\r\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)\r\n\r\nI understand that Bill-of-Materials structures are recursive by their very nature, but I&#39;m only interested in going up/down one level. So, as the *1st Interactor*, list all my *2nd Interactors*, or as a *2nd Interactor*, list all my *1st Interactors*.\r\n\r\nHow is this achieved? \r\n\r\n","title":"How to Jackson Serialize/Deserialize Bill-of-Materials Entities","body":"<p>My database has a number of bill-of-materials structures, including one that defines relationships between parties:</p>\n<p><a href=\"https://i.stack.imgur.com/y5TKm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y5TKm.png\" alt=\"Party-Relationship Logical Model\" /></a></p>\n<p>The 1st interactor tends to play the senior role - e.g. employer - and the 2nd interactor the minor role - e.g. employee.</p>\n<p>I would like to be able to serialize this to JSON but I'm hitting problems.</p>\n<p>My entities are annotated like this:</p>\n<p><strong>Party</strong></p>\n<pre><code>@OneToMany(\n    targetEntity = PartyRelationshipDO.class,\n    fetch = FetchType.LAZY, cascade = CascadeType.ALL\n)\n@JoinColumn(name = &quot;first_party_id&quot;, referencedColumnName = &quot;party_id&quot;)\n@JsonProperty(&quot;firstParties&quot;)\n@JsonManagedReference(value = &quot;FirstParty&quot;)\nprivate Set&lt;PartyRelationshipDO&gt; firstParties;\n\n@OneToMany(\n    targetEntity = PartyRelationshipDO.class,\n    fetch = FetchType.LAZY, cascade = CascadeType.ALL\n)\n@JoinColumn(name = &quot;second_party_id&quot;, referencedColumnName = &quot;party_id&quot;)\n@JsonProperty(&quot;secondParties&quot;)\n@JsonManagedReference(value = &quot;SecondParty&quot;)\nprivate Set&lt;PartyRelationshipDO&gt; secondParties;\n</code></pre>\n<p><strong>PartyRelationship</strong></p>\n<pre><code>@ManyToOne(optional = false)\n@JoinColumn(name = &quot;first_party_id&quot;, referencedColumnName = &quot;party_id&quot;)\n@JsonProperty(&quot;firstParty&quot;)\n@JsonBackReference(value = &quot;FirstParty&quot;)\nprivate PartyDO firstParty;\n\n@ManyToOne(optional = false)\n@JoinColumn(name = &quot;second_party_id&quot;, referencedColumnName = &quot;party_id&quot;)\n@JsonProperty(&quot;secondParty&quot;)\n@JsonBackReference(value = &quot;SecondParty&quot;)\nprivate PartyDO secondParty;\n</code></pre>\n<p>This works <em>up to a point</em>. When I serialise my test case I get:</p>\n<pre><code>{\n    &quot;partyId&quot;: 1,\n    &quot;partyIdentifier&quot;: &quot;first.interactor@email.address&quot;,\n    &quot;isDeleted&quot;: false,\n    &quot;partyIdentifierType&quot;: {\n        &quot;typeKey&quot;: &quot;EMAIL_ADDRESS&quot;\n    },\n    &quot;secondParties&quot;: [\n        {\n            &quot;effectivePeriodFrom&quot;: &quot;2021-11-01T15:55:38.518Z&quot;,\n            &quot;isDeleted&quot;: false,\n            &quot;firstPartyId&quot;: 1,\n            &quot;secondPartyId&quot;: 2\n        }\n    ],\n    &quot;firstName&quot;: &quot;First&quot;,\n    &quot;lastName&quot;: &quot;Interactor&quot;\n}\n</code></pre>\n<p>The trouble is, the <code>secondParty</code> object is not serialized in the <code>&quot;secondParties&quot;</code> array. What I'd like to see is:</p>\n<pre><code>{\n    &quot;partyId&quot;: 1,\n    &quot;partyIdentifier&quot;: &quot;first.interactor@email.address&quot;,\n    &quot;isDeleted&quot;: false,\n    &quot;partyIdentifierType&quot;: {\n        &quot;typeKey&quot;: &quot;EMAIL_ADDRESS&quot;\n    },\n    &quot;secondParties&quot;: [\n        {\n            &quot;effectivePeriodFrom&quot;: &quot;2021-11-01T15:55:38.518Z&quot;,\n            &quot;isDeleted&quot;: false,\n            &quot;firstPartyId&quot;: 1,\n            &quot;secondPartyId&quot;: 2,\n            &quot;secondParty&quot;: {\n                &quot;partyId&quot;: 2,\n                &quot;partyIdentifier&quot;: &quot;second.interactor@email.address&quot;,\n                &quot;isDeleted&quot;: false,\n                &quot;partyIdentifierType&quot;: {\n                    &quot;typeKey&quot;: &quot;EMAIL_ADDRESS&quot;\n                },\n                &quot;firstName&quot;: &quot;Second&quot;,\n                &quot;lastName&quot;: &quot;Interactor&quot;\n            }\n        }\n    ],\n    &quot;firstName&quot;: &quot;First&quot;,\n    &quot;lastName&quot;: &quot;Interactor&quot;\n}\n</code></pre>\n<p>If I <em>don't</em> use <code>@JsonManagedReference</code> and <code>@JsonBackReference</code>, I get a <code>StackOverflowError</code> with this chunk of stacktrace being repeated:</p>\n<pre><code>at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)\nat com.fasterxml.jackson.datatype.hibernate5.PersistentCollectionSerializer.serialize(PersistentCollectionSerializer.java:243)\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727)\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719)\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155)\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727)\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719)\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155)\nat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)\nat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)\n</code></pre>\n<p>I understand that Bill-of-Materials structures are recursive by their very nature, but I'm only interested in going up/down one level. So, as the <em>1st Interactor</em>, list all my <em>2nd Interactors</em>, or as a <em>2nd Interactor</em>, list all my <em>1st Interactors</em>.</p>\n<p>How is this achieved?</p>\n"},{"tags":["java","spring-boot","file","heroku","heroku-postgres"],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635680843,"creation_date":1635673966,"answer_id":69785700,"question_id":69785264,"body_markdown":"This is a working method I did in a Spring application, using `java.nio.file` package\r\n\r\n```java\r\n@Repository\r\npublic class FileSystemManagement {\r\n\r\n\tpublic boolean isValidContentType(String contentType) {\r\n\t\treturn Arrays.stream(new String[] { &quot;image/jpeg&quot;, &quot;image/png&quot; }).anyMatch(contentType::equals);\r\n\t}\r\n\r\n\tpublic String deleteFileInFileSystem(String baseLocation, String imageName) throws IOException {\r\n\t\tString location = baseLocation + imageName;\r\n\t\tPath filePath = Paths.get(location);\r\n\t\tFiles.deleteIfExists(filePath);\r\n\t\treturn imageName;\r\n\t}\r\n\r\n\tpublic String saveFileInFileSystem(String baseLocation, byte[] content, String imageName)\r\n\t\t\tthrows IOException {\r\n\t\tString location = baseLocation + imageName;\r\n\t\tPath newFile = Paths.get(location);\r\n\t\tFiles.createDirectories(newFile.getParent());\r\n\t\tFiles.write(newFile, content);\r\n\t\treturn imageName;\r\n\t}\r\n\r\n\tprivate String getPathFromStatic(String nonStaticPath) {\r\n\t\treturn nonStaticPath.substring(nonStaticPath.indexOf(&quot;static&quot;), nonStaticPath.length());\r\n\t}\r\n\r\n\tpublic ClassPathResource findFileInFileSystem(String baseLocation, String imageName) {\r\n\t\treturn new ClassPathResource(getPathFromStatic(baseLocation) + imageName);\r\n\t}\r\n\r\n\tpublic String getExtension(String imageName) {\r\n\t\treturn FilenameUtils.getExtension(imageName);\r\n\t}\r\n}\r\n```\r\n\r\nI called this method like that :\r\n\r\n```java\r\n    @Override\r\n\tpublic void uploadImage(int id, MultipartFile multipartFile) throws IOException {\r\n\t\tif (fileSystemManagement.isValidContentType(multipartFile.getContentType())) {\r\n\r\n\t\t\tString extension = FilenameUtils.getExtension(multipartFile.getOriginalFilename());\r\n\r\n\t\t\t// Step (1) : Get old profile image\r\n\r\n\t\t\tUser user = userDAO.findUserByUserId(id);\r\n\r\n\t\t\tif (user != null) {\r\n\t\t\t\tString oldPictureName = user.getImage();\r\n\r\n\t\t\t\tif (oldPictureName != null) {\r\n\t\t\t\t\tfileSystemManagement.deleteFileInFileSystem(profilesLocation, oldPictureName);\r\n\t\t\t\t}\r\n\t\t\t\tuser.setImage(fileSystemManagement.saveFileInFileSystem(profilesLocation, multipartFile.getBytes(),\r\n\t\t\t\t\t\tMessageFormat.format(profilesTemplate, user.getUserId(), extension)));\r\n\t\t\t\tuserDAO.save(user);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthrow new LocalEatBadParamRequestException(&quot;The file must have a png or jpeg format&quot;);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthrow new LocalEatBadParamRequestException(&quot;userId doesn&#39;t exist in the database&quot;);\r\n\t\t}\r\n\r\n\t}\r\n```","title":"Not getting the right path to store my files on Server","body":"<p>This is a working method I did in a Spring application, using <code>java.nio.file</code> package</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class FileSystemManagement {\n\n    public boolean isValidContentType(String contentType) {\n        return Arrays.stream(new String[] { &quot;image/jpeg&quot;, &quot;image/png&quot; }).anyMatch(contentType::equals);\n    }\n\n    public String deleteFileInFileSystem(String baseLocation, String imageName) throws IOException {\n        String location = baseLocation + imageName;\n        Path filePath = Paths.get(location);\n        Files.deleteIfExists(filePath);\n        return imageName;\n    }\n\n    public String saveFileInFileSystem(String baseLocation, byte[] content, String imageName)\n            throws IOException {\n        String location = baseLocation + imageName;\n        Path newFile = Paths.get(location);\n        Files.createDirectories(newFile.getParent());\n        Files.write(newFile, content);\n        return imageName;\n    }\n\n    private String getPathFromStatic(String nonStaticPath) {\n        return nonStaticPath.substring(nonStaticPath.indexOf(&quot;static&quot;), nonStaticPath.length());\n    }\n\n    public ClassPathResource findFileInFileSystem(String baseLocation, String imageName) {\n        return new ClassPathResource(getPathFromStatic(baseLocation) + imageName);\n    }\n\n    public String getExtension(String imageName) {\n        return FilenameUtils.getExtension(imageName);\n    }\n}\n</code></pre>\n<p>I called this method like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void uploadImage(int id, MultipartFile multipartFile) throws IOException {\n        if (fileSystemManagement.isValidContentType(multipartFile.getContentType())) {\n\n            String extension = FilenameUtils.getExtension(multipartFile.getOriginalFilename());\n\n            // Step (1) : Get old profile image\n\n            User user = userDAO.findUserByUserId(id);\n\n            if (user != null) {\n                String oldPictureName = user.getImage();\n\n                if (oldPictureName != null) {\n                    fileSystemManagement.deleteFileInFileSystem(profilesLocation, oldPictureName);\n                }\n                user.setImage(fileSystemManagement.saveFileInFileSystem(profilesLocation, multipartFile.getBytes(),\n                        MessageFormat.format(profilesTemplate, user.getUserId(), extension)));\n                userDAO.save(user);\n\n            } else {\n                throw new LocalEatBadParamRequestException(&quot;The file must have a png or jpeg format&quot;);\n            }\n        } else {\n            throw new LocalEatBadParamRequestException(&quot;userId doesn't exist in the database&quot;);\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":16777455,"reputation":41,"user_id":12128390,"display_name":"shivam sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635785919,"creation_date":1635670345,"question_id":69785264,"body_markdown":"I am trying to store some Details with a logo Image for that I had created a method and used it in my local system it seems to be working fine there. But when I uploaded my Code on the cloud. I am using Heroku to host my web application it gives me the error.\r\n\r\n**Heroku Console**\r\n\r\n    2021-10-31T08:38:33.118740+00:00 app[web.1]: 2021-10-31 08:38:33.118  INFO 4 --- [io-47772-exec-9] com.Indoera.ecomProject.Utils.Utils      :  org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@60241167\r\n    \r\n    2021-10-31T08:38:33.118885+00:00 app[web.1]: java.io.IOException: No such file or directory\r\n    \r\n    2021-10-31T08:38:33.119038+00:00 app[web.1]: \tat java.io.UnixFileSystem.createFileExclusively(Native Method)\r\n\r\n\r\n**Here is the method which I am using to save Images**\r\n\t\r\n\r\n    public static String storeLogoPath(MultipartFile file) {\r\n    \t\tString path = &quot;&quot;;\r\n    \t\ttry {\r\n    \t\t\tpath = &quot;G:/MainWorkSpace/TestProjects/ecomProject/src/main/resources/static/img/storeLogo/&quot;+file.getOriginalFilename();\r\n    \t\t\tFile newFile = new File(path);\r\n    \t\t\tnewFile.createNewFile();\r\n    \t\t\tFileOutputStream myfile = new FileOutputStream(newFile);\r\n    \t\t\tmyfile.write(file.getBytes());\r\n    \t\t\tpath =&quot;/img/storeLogo/&quot;+file.getOriginalFilename(); //PAth is setted mannualy to display images \r\n    \t\t\tmyfile.close();\r\n    \t\t\tlogger.info(&quot;File should be saved now :: &quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tlogger.info(&quot;Path Returned is ::: &quot;  + path);\r\n    \t\treturn path;\r\n    \t}\r\n\r\n\r\n\r\nI understand that the error I got is because the location I am trying to save my image does not exist on the server. But How can I resolve this issue I am not aware of that as I am new in this. Please help me here. Thanks In Advance\r\n\r\n\r\n\r\n","title":"Not getting the right path to store my files on Server","body":"<p>I am trying to store some Details with a logo Image for that I had created a method and used it in my local system it seems to be working fine there. But when I uploaded my Code on the cloud. I am using Heroku to host my web application it gives me the error.</p>\n<p><strong>Heroku Console</strong></p>\n<pre><code>2021-10-31T08:38:33.118740+00:00 app[web.1]: 2021-10-31 08:38:33.118  INFO 4 --- [io-47772-exec-9] com.Indoera.ecomProject.Utils.Utils      :  org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@60241167\n\n2021-10-31T08:38:33.118885+00:00 app[web.1]: java.io.IOException: No such file or directory\n\n2021-10-31T08:38:33.119038+00:00 app[web.1]:    at java.io.UnixFileSystem.createFileExclusively(Native Method)\n</code></pre>\n<p><strong>Here is the method which I am using to save Images</strong></p>\n<pre><code>public static String storeLogoPath(MultipartFile file) {\n        String path = &quot;&quot;;\n        try {\n            path = &quot;G:/MainWorkSpace/TestProjects/ecomProject/src/main/resources/static/img/storeLogo/&quot;+file.getOriginalFilename();\n            File newFile = new File(path);\n            newFile.createNewFile();\n            FileOutputStream myfile = new FileOutputStream(newFile);\n            myfile.write(file.getBytes());\n            path =&quot;/img/storeLogo/&quot;+file.getOriginalFilename(); //PAth is setted mannualy to display images \n            myfile.close();\n            logger.info(&quot;File should be saved now :: &quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        logger.info(&quot;Path Returned is ::: &quot;  + path);\n        return path;\n    }\n</code></pre>\n<p>I understand that the error I got is because the location I am trying to save my image does not exist on the server. But How can I resolve this issue I am not aware of that as I am new in this. Please help me here. Thanks In Advance</p>\n"},{"tags":["java","spring-boot","gradle","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1635784974,"post_id":69799647,"comment_id":123380329,"body_markdown":"Can you recreate the problem with a minimal example?","body":"Can you recreate the problem with a minimal example?"},{"owner":{"account_id":22751135,"reputation":91,"user_id":16911276,"display_name":"JJ Kam"},"score":0,"creation_date":1635785571,"post_id":69799647,"comment_id":123380554,"body_markdown":"@BasilBourque yes, I&#39;ve just edited the post","body":"@BasilBourque yes, I&#39;ve just edited the post"},{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":0,"creation_date":1635797569,"post_id":69799647,"comment_id":123384641,"body_markdown":"Welcome to Stack Overflow. I highly recommend you take the [tour](https://stackoverflow.com/tour) to learn how Stack Overflow works and read [How to Ask](https://stackoverflow.com/questions/how-to-ask). This will help you to improve the quality of your questions. **For every question, please show the attempts you have tried and the error messages you get from your attempts.** If you want to show your code, paste it as code, don&#39;t link to a screenshot. Same with error messages.","body":"Welcome to Stack Overflow. I highly recommend you take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. This will help you to improve the quality of your questions. <b>For every question, please show the attempts you have tried and the error messages you get from your attempts.</b> If you want to show your code, paste it as code, don&#39;t link to a screenshot. Same with error messages."},{"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"score":1,"creation_date":1635832570,"post_id":69799647,"comment_id":123391155,"body_markdown":"Are you sure you are trying to access the app at http://localhost:8080/? I&#39;m asking because the second screenshot you shared shows a different port than 8080.","body":"Are you sure you are trying to access the app at <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a>? I&#39;m asking because the second screenshot you shared shows a different port than 8080."},{"owner":{"account_id":22751135,"reputation":91,"user_id":16911276,"display_name":"JJ Kam"},"score":0,"creation_date":1635851088,"post_id":69799647,"comment_id":123397313,"body_markdown":"@McPringle thank you. The problem I have is that there are no issues with the code. It compiles and runs successfully. The only way to show the problem I had was to share the output screenshot.","body":"@McPringle thank you. The problem I have is that there are no issues with the code. It compiles and runs successfully. The only way to show the problem I had was to share the output screenshot."},{"owner":{"account_id":22751135,"reputation":91,"user_id":16911276,"display_name":"JJ Kam"},"score":0,"creation_date":1635851178,"post_id":69799647,"comment_id":123397351,"body_markdown":"@TarekOraby thank you, Vaadin said the app was running on a specific host indicated so I just opened the link it provided. I will try to access localhost:8080 though.","body":"@TarekOraby thank you, Vaadin said the app was running on a specific host indicated so I just opened the link it provided. I will try to access localhost:8080 though."},{"owner":{"account_id":22751135,"reputation":91,"user_id":16911276,"display_name":"JJ Kam"},"score":0,"creation_date":1635866065,"post_id":69799647,"comment_id":123403550,"body_markdown":"@TarekOraby you were right. The message that Vaadin output was confusing!","body":"@TarekOraby you were right. The message that Vaadin output was confusing!"},{"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"score":0,"creation_date":1635866710,"post_id":69799647,"comment_id":123403902,"body_markdown":"Great, good to hear that it‚Äôs working okay.","body":"Great, good to hear that it‚Äôs working okay."}],"owner":{"account_id":22751135,"reputation":91,"user_id":16911276,"display_name":"JJ Kam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635785547,"creation_date":1635783094,"question_id":69799647,"body_markdown":"After successfully building the application with Gradle, the application fails to output the views properly on the local host. The page says: &quot;**App ready.**&quot;  But then it outputs &quot;**Cannot GET /offline-stub.html**&quot;. \r\n\r\nI know that Vaadin now allows creating offline web apps, but this is NOT what I need. I want to get the front end working and outputting everything ONLINE.\r\n\r\nHere is some output from the compilation: \r\n\r\n&gt; ------------------ Starting Frontend compilation. ------------------\r\n2021-11-01 16:44:04.208  INFO 165417 --- [nPool-worker-19] c.v.base.devserver.DevModeHandlerImpl    : Running webpack to compile frontend resources. This may take a moment, please stand by...\r\n‚Ñπ ÔΩ¢wdsÔΩ£: Project is running at http://localhost:44019/webpack-dev-server/\r\n‚Ñπ ÔΩ¢wdsÔΩ£: webpack output is served from /\r\n‚Ñπ ÔΩ¢wdsÔΩ£: Content not from webpack is served from /home/X/Desktop/base-starter-spring-gradle-master/build/META-INF/VAADIN/webapp, src/main/webapp\r\n&lt;i&gt; [FlowIdPlugin] Serving the &#39;stats.json&#39; file dynamically.\r\n&gt; \r\n&gt; \r\n&gt; ----------------- Frontend compiled successfully. -----------------\r\n&gt; \r\n&gt; 2021-11-01 16:44:07.266  INFO 165417 --- [nPool-worker-19]\r\n&gt; c.v.base.devserver.DevModeHandlerImpl    : Started webpack-dev-server.\r\n&gt; Time: 3305ms No issues found.\r\n\r\n[IDE view][1]\r\n\r\n\r\n[problem output][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tKKNA.png\r\n  [2]: https://i.stack.imgur.com/bPgbg.png","title":"Latest Vaadin SpringBoot application built with Gradle tries to go offline by default","body":"<p>After successfully building the application with Gradle, the application fails to output the views properly on the local host. The page says: &quot;<strong>App ready.</strong>&quot;  But then it outputs &quot;<strong>Cannot GET /offline-stub.html</strong>&quot;.</p>\n<p>I know that Vaadin now allows creating offline web apps, but this is NOT what I need. I want to get the front end working and outputting everything ONLINE.</p>\n<p>Here is some output from the compilation:</p>\n<blockquote>\n<p>------------------ Starting Frontend compilation. ------------------\n2021-11-01 16:44:04.208  INFO 165417 --- [nPool-worker-19] c.v.base.devserver.DevModeHandlerImpl    : Running webpack to compile frontend resources. This may take a moment, please stand by...\n‚Ñπ ÔΩ¢wdsÔΩ£: Project is running at http://localhost:44019/webpack-dev-server/\n‚Ñπ ÔΩ¢wdsÔΩ£: webpack output is served from /\n‚Ñπ ÔΩ¢wdsÔΩ£: Content not from webpack is served from /home/X/Desktop/base-starter-spring-gradle-master/build/META-INF/VAADIN/webapp, src/main/webapp\n [FlowIdPlugin] Serving the 'stats.json' file dynamically.</p>\n<p>----------------- Frontend compiled successfully. -----------------</p>\n<p>2021-11-01 16:44:07.266  INFO 165417 --- [nPool-worker-19]\nc.v.base.devserver.DevModeHandlerImpl    : Started webpack-dev-server.\nTime: 3305ms No issues found.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/tKKNA.png\" rel=\"nofollow noreferrer\">IDE view</a></p>\n<p><a href=\"https://i.stack.imgur.com/bPgbg.png\" rel=\"nofollow noreferrer\">problem output</a></p>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1635759636,"post_id":69793154,"comment_id":123370760,"body_markdown":"Your statements are correct, so what is your question?","body":"Your statements are correct, so what is your question?"},{"owner":{"account_id":13857137,"reputation":333,"user_id":10003645,"display_name":"torez233"},"score":0,"creation_date":1635785099,"post_id":69793154,"comment_id":123380391,"body_markdown":"@PiotrP.Karwasz sorry if that is not clear enough: I&#39;m pretty new to servlet so I was seeking for some confirmation of the points that I summarized above. Thanks for your confirmation.","body":"@PiotrP.Karwasz sorry if that is not clear enough: I&#39;m pretty new to servlet so I was seeking for some confirmation of the points that I summarized above. Thanks for your confirmation."}],"owner":{"account_id":13857137,"reputation":333,"user_id":10003645,"display_name":"torez233"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1635785216,"creation_date":1635746708,"question_id":69793154,"body_markdown":"After reading lots of other SO answers and also some online articles, I&#39;m trying to summarize the concepts of context root, virtual path to actual file path mapping and meaning of leading slash.\r\n\r\n1. Context root, based on servlet spec, is corresponding to URI `http://host:port/&lt;context-root&gt;/`. Once our web app is deployed, this context root always maps to the base directory of our web application (e.g. exploded war) in the actual file system, which is always the parent directory of WEB-INF folder.\r\n\r\n2. Every time we use leading slash &quot;/&quot; within the web application (e.g. web.xml, servlets, filters), the leading slash is always pointing to the context root,instead of absolute root `http://host:port/`\r\n    so whenever we do\r\n    ```java\r\n    request.getRequestDispatcher(&quot;/foo/bar/baz.jsp&quot;).forward(...)\r\n    ```\r\n    From the perspective of servlet container, we are requested a resource located at \r\n    `http://host:port/&lt;context-path&gt;/foo/bar/baz.jsp`, which maps to the following path \r\n    in file system\r\n    ```\r\n    file:///&lt;$CATALINA_HOME&gt;/webapps/our-application/foo/bar/baz.jsp\r\n    ```\r\n3. Every time we use leading slash &quot;/&quot; in a context that is only meaningful to the client (i.e. browser), the leading slash is always pointing to the absolute root `http://host:port/`. Examples of places that I can think of is those `src` and `href` attribute of html element in JSP files, or redirect URL in `HttpServletResponse#sendRedirect`, or path in cookie `Cookie#setPath`\r\n\r\n\r\nEdit: sorry if it is not clear enough: I was looking for someone to correct my understanding if any of them is incorrect or missing something.\r\n","title":"Context root, virtual path mapping to actual file path, and meaning of leading slash in Servlet","body":"<p>After reading lots of other SO answers and also some online articles, I'm trying to summarize the concepts of context root, virtual path to actual file path mapping and meaning of leading slash.</p>\n<ol>\n<li><p>Context root, based on servlet spec, is corresponding to URI <code>http://host:port/&lt;context-root&gt;/</code>. Once our web app is deployed, this context root always maps to the base directory of our web application (e.g. exploded war) in the actual file system, which is always the parent directory of WEB-INF folder.</p>\n</li>\n<li><p>Every time we use leading slash &quot;/&quot; within the web application (e.g. web.xml, servlets, filters), the leading slash is always pointing to the context root,instead of absolute root <code>http://host:port/</code>\nso whenever we do</p>\n<pre class=\"lang-java prettyprint-override\"><code>request.getRequestDispatcher(&quot;/foo/bar/baz.jsp&quot;).forward(...)\n</code></pre>\n<p>From the perspective of servlet container, we are requested a resource located at\n<code>http://host:port/&lt;context-path&gt;/foo/bar/baz.jsp</code>, which maps to the following path\nin file system</p>\n<pre><code>file:///&lt;$CATALINA_HOME&gt;/webapps/our-application/foo/bar/baz.jsp\n</code></pre>\n</li>\n<li><p>Every time we use leading slash &quot;/&quot; in a context that is only meaningful to the client (i.e. browser), the leading slash is always pointing to the absolute root <code>http://host:port/</code>. Examples of places that I can think of is those <code>src</code> and <code>href</code> attribute of html element in JSP files, or redirect URL in <code>HttpServletResponse#sendRedirect</code>, or path in cookie <code>Cookie#setPath</code></p>\n</li>\n</ol>\n<p>Edit: sorry if it is not clear enough: I was looking for someone to correct my understanding if any of them is incorrect or missing something.</p>\n"},{"tags":["java","datetime"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635784867,"creation_date":1635774252,"answer_id":69797815,"question_id":69797666,"body_markdown":"# tl;dr\r\n\r\n```java\r\nDuration\r\n.between( \r\n    YearMonth.of( year , month ).atDay( 1 ).atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) , \r\n    YearMonth.of( year , month ).plusMonths( 1 ).atDay( 1 ).atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) \r\n)\r\n.toSeconds()\r\n```\r\n\r\n# Details \r\n\r\nYou must determine the first moment of the month.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    \r\n    YearMonth ym = YearMonth.of( year , month ) ;\r\n    LocalDate firstOfMonth = ym.atDay( 1 ) ;\r\n    ZonedDateTime start = firstOfMonth.atStartOfDay( z ) ;\r\n\r\nAnd determine the first moment of the following month.\r\n\r\n    YearMonth followingMonth = ym.plusMonths( 1 ) ;\r\n    LocalDate firstOfFollowingMonth = followingMonth.atDay( 1 ) ;\r\n    ZonedDateTime end = firstOfFollowingMonth.atStartOfDay( z ) ;\r\n\r\nCalculate elapsed time.\r\n\r\n    Duration d = Duration.between( start , end ) ;\r\n    long seconds = d.toSeconds() ;\r\n\r\nYou said:\r\n\r\n&gt; this code does not consider the ZoneId for the Winter-Time and Spring-Time.\r\n\r\nDaylight Saving Time (DST) is not the only reason for clock anomalies. Politicians change the offset(s) used within their jurisdiction for various diplomatic, military, and political purposes. As programmers, we should *always* account for possible changes to the offset even in places not observing DST.\r\n\r\n\r\n","title":"How can I initiate YearMonth based on ZoneId and a given year and month?","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>Duration\n.between( \n    YearMonth.of( year , month ).atDay( 1 ).atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) , \n    YearMonth.of( year , month ).plusMonths( 1 ).atDay( 1 ).atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) \n)\n.toSeconds()\n</code></pre>\n<h1>Details</h1>\n<p>You must determine the first moment of the month.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\n\nYearMonth ym = YearMonth.of( year , month ) ;\nLocalDate firstOfMonth = ym.atDay( 1 ) ;\nZonedDateTime start = firstOfMonth.atStartOfDay( z ) ;\n</code></pre>\n<p>And determine the first moment of the following month.</p>\n<pre><code>YearMonth followingMonth = ym.plusMonths( 1 ) ;\nLocalDate firstOfFollowingMonth = followingMonth.atDay( 1 ) ;\nZonedDateTime end = firstOfFollowingMonth.atStartOfDay( z ) ;\n</code></pre>\n<p>Calculate elapsed time.</p>\n<pre><code>Duration d = Duration.between( start , end ) ;\nlong seconds = d.toSeconds() ;\n</code></pre>\n<p>You said:</p>\n<blockquote>\n<p>this code does not consider the ZoneId for the Winter-Time and Spring-Time.</p>\n</blockquote>\n<p>Daylight Saving Time (DST) is not the only reason for clock anomalies. Politicians change the offset(s) used within their jurisdiction for various diplomatic, military, and political purposes. As programmers, we should <em>always</em> account for possible changes to the offset even in places not observing DST.</p>\n"}],"owner":{"account_id":2763820,"reputation":7847,"user_id":2380115,"accept_rate":55,"display_name":"Jeff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69797815,"answer_count":1,"score":1,"last_activity_date":1635784867,"creation_date":1635773534,"question_id":69797666,"body_markdown":"I have the following method to calculate the length of a given month in seconds.\r\n\r\n    public static long getNumberOfSecondsInMonth(int year, int month) {\r\n    \r\n        int daysInMonth = YearMonth.of(year, month).lengthOfMonth();\r\n        return daysInMonth * HOURS_IN_DAY * SECONDS_IN_AN_HOUR;\r\n      }\r\n\r\n***The problem is, this code does not consider the ZoneId for the Winter-Time and Spring-Time.***\r\n\r\nSo, is there anyways that I can include the `ZoneId` into the below line ?\r\n\r\n    YearMonth.of(year, month).lengthOfMonth();\r\n\r\nPoint: I know, i can initialize the `YearMonth.now(ZoneId)`, but then it looks too much work to get the final answer.","title":"How can I initiate YearMonth based on ZoneId and a given year and month?","body":"<p>I have the following method to calculate the length of a given month in seconds.</p>\n<pre><code>public static long getNumberOfSecondsInMonth(int year, int month) {\n\n    int daysInMonth = YearMonth.of(year, month).lengthOfMonth();\n    return daysInMonth * HOURS_IN_DAY * SECONDS_IN_AN_HOUR;\n  }\n</code></pre>\n<p><em><strong>The problem is, this code does not consider the ZoneId for the Winter-Time and Spring-Time.</strong></em></p>\n<p>So, is there anyways that I can include the <code>ZoneId</code> into the below line ?</p>\n<pre><code>YearMonth.of(year, month).lengthOfMonth();\n</code></pre>\n<p>Point: I know, i can initialize the <code>YearMonth.now(ZoneId)</code>, but then it looks too much work to get the final answer.</p>\n"},{"tags":["java","ppm"],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635780732,"creation_date":1635780404,"answer_id":69799077,"question_id":69798978,"body_markdown":"From, http://netpbm.sourceforge.net/doc/ppm.html\r\n\r\n&gt; Each pixel is a triplet of red, green, and blue samples, in that order. Each sample is represented in _pure binary_ by either 1 or 2 bytes. The most significant byte is first.\r\n\r\nThat means, the ppm file is _not_ a text file. You probably should be using a [`FileOutputStream`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/FileOutputStream.html) instead of a `PrintWriter`.\r\n\r\nIt&#39;s going to be a little tricky because Java&#39;s `byte` data type is signed. You&#39;ll need to have `int` values in the range [0..255] for the red, green, and blue levels, and then cast those to `byte`.  Maybe see https://stackoverflow.com/q/29131461/801894\r\n\r\nAs for the text header of the file, the approach I would use would be to [build a `String`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/StringBuilder.html) representation of the header, and then call [`header.getBytes()`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#getBytes()) to turn it into a `byte` array that you can write to the `FileOutputStream`.","title":"How to encode RGB values for a P6 ppm?","body":"<p>From, <a href=\"http://netpbm.sourceforge.net/doc/ppm.html\" rel=\"nofollow noreferrer\">http://netpbm.sourceforge.net/doc/ppm.html</a></p>\n<blockquote>\n<p>Each pixel is a triplet of red, green, and blue samples, in that order. Each sample is represented in <em>pure binary</em> by either 1 or 2 bytes. The most significant byte is first.</p>\n</blockquote>\n<p>That means, the ppm file is <em>not</em> a text file. You probably should be using a <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/FileOutputStream.html\" rel=\"nofollow noreferrer\"><code>FileOutputStream</code></a> instead of a <code>PrintWriter</code>.</p>\n<p>It's going to be a little tricky because Java's <code>byte</code> data type is signed. You'll need to have <code>int</code> values in the range [0..255] for the red, green, and blue levels, and then cast those to <code>byte</code>.  Maybe see <a href=\"https://stackoverflow.com/q/29131461/801894\">java unsigned byte to stream</a></p>\n<p>As for the text header of the file, the approach I would use would be to <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">build a <code>String</code></a> representation of the header, and then call <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#getBytes()\" rel=\"nofollow noreferrer\"><code>header.getBytes()</code></a> to turn it into a <code>byte</code> array that you can write to the <code>FileOutputStream</code>.</p>\n"}],"owner":{"account_id":22365058,"reputation":49,"user_id":16580991,"display_name":"willkroboth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69799077,"answer_count":1,"score":0,"last_activity_date":1635784379,"creation_date":1635779825,"question_id":69798978,"body_markdown":"I&#39;m trying to create a ppm image file using the P6 encoding. I&#39;m using this code to create the file:\r\n```java\r\nprivate static void writeImage(String image, String outputPath) {\r\n    try (PrintWriter out = new PrintWriter(outputPath + &quot;output.pbm&quot;)) {\r\n        out.println(image);\r\n    } catch (FileNotFoundException e) {\r\n        System.out.println(e.getMessage());\r\n    }\r\n}\r\n```\r\nNow all I need to do is build the text that represents the image in the P6 format. Building the header is easy, but despite experimenting and searching, I can&#39;t seem to figure out how to convert the RGB values for each pixel into a string I can add to the file.\r\n\r\n**My question is this:** \r\n\r\nHow do I take an RGB value (for example```(red=255, blue=192, green=0)```) and get a String representation that will be correctly recognized in an image in the P6 format?\r\n\r\n\r\n----------\r\n**Solution:**\r\nCredit to Solomon Slow&#39;s comment for helping me figure this out. This is the solution I came up with for those who want details. I now use this function to create and output the file:\r\n```java\r\nprivate static void writeImage(String header, List&lt;Byte&gt; image, String filepath) {\r\n    try (FileOutputStream out = new FileOutputStream(filepath)) {\r\n        out.write(header.getBytes(StandardCharsets.UTF_8));\r\n        for(byte b:image) {\r\n            out.write(b);\r\n        }\r\n    } catch (IOException e) {\r\n        System.out.println(e.getMessage());\r\n        throw new TerminateProgram();\r\n    }\r\n}\r\n```\r\nThe header I pass in is defined like this in another function:\r\n```java\r\nString header = &quot;P6&quot; + &quot;\\n&quot; +\r\n                width + &quot; &quot; +\r\n                height + &quot;\\n&quot; +\r\n                &quot;255&quot; + &quot;\\n&quot;;\r\n```\r\nFinally, I build a list of byte values using an ArrayList, adding each pixel like so:\r\n```java\r\nList&lt;Byte&gt; image = new ArrayList&lt;&gt;();\r\n\r\n// red, green, blue already defined as ints from 0 to 255\r\nimage.add((byte)(red));\r\nimage.add((byte)(green));\r\nimage.add((byte)(blue));\r\n```","title":"How to encode RGB values for a P6 ppm?","body":"<p>I'm trying to create a ppm image file using the P6 encoding. I'm using this code to create the file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void writeImage(String image, String outputPath) {\n    try (PrintWriter out = new PrintWriter(outputPath + &quot;output.pbm&quot;)) {\n        out.println(image);\n    } catch (FileNotFoundException e) {\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n<p>Now all I need to do is build the text that represents the image in the P6 format. Building the header is easy, but despite experimenting and searching, I can't seem to figure out how to convert the RGB values for each pixel into a string I can add to the file.</p>\n<p><strong>My question is this:</strong></p>\n<p>How do I take an RGB value (for example<code>(red=255, blue=192, green=0)</code>) and get a String representation that will be correctly recognized in an image in the P6 format?</p>\n<hr />\n<p><strong>Solution:</strong>\nCredit to Solomon Slow's comment for helping me figure this out. This is the solution I came up with for those who want details. I now use this function to create and output the file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void writeImage(String header, List&lt;Byte&gt; image, String filepath) {\n    try (FileOutputStream out = new FileOutputStream(filepath)) {\n        out.write(header.getBytes(StandardCharsets.UTF_8));\n        for(byte b:image) {\n            out.write(b);\n        }\n    } catch (IOException e) {\n        System.out.println(e.getMessage());\n        throw new TerminateProgram();\n    }\n}\n</code></pre>\n<p>The header I pass in is defined like this in another function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String header = &quot;P6&quot; + &quot;\\n&quot; +\n                width + &quot; &quot; +\n                height + &quot;\\n&quot; +\n                &quot;255&quot; + &quot;\\n&quot;;\n</code></pre>\n<p>Finally, I build a list of byte values using an ArrayList, adding each pixel like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Byte&gt; image = new ArrayList&lt;&gt;();\n\n// red, green, blue already defined as ints from 0 to 255\nimage.add((byte)(red));\nimage.add((byte)(green));\nimage.add((byte)(blue));\n</code></pre>\n"},{"tags":["java","graalvm"],"comments":[{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":1,"creation_date":1635763504,"post_id":69795761,"comment_id":123372130,"body_markdown":"If you don&#39;t use **GraalVM Native Image**, then you don&#39;t benefit from better performance. The performance of executing bytecode is directly related to the VM which executes the bytecode.","body":"If you don&#39;t use <b>GraalVM Native Image</b>, then you don&#39;t benefit from better performance. The performance of executing bytecode is directly related to the VM which executes the bytecode."},{"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":0,"creation_date":1635767496,"post_id":69795761,"comment_id":123373521,"body_markdown":"@McPringle I don&#39;t think you&#39;re correct, surely the compiler itself also influences performance? See the &quot;Run Java Faster&quot; section of the GraalVM docs https://www.graalvm.org/why-graalvm/","body":"@McPringle I don&#39;t think you&#39;re correct, surely the compiler itself also influences performance? See the &quot;Run Java Faster&quot; section of the GraalVM docs <a href=\"https://www.graalvm.org/why-graalvm/\" rel=\"nofollow noreferrer\">graalvm.org/why-graalvm</a>"},{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":0,"creation_date":1635769843,"post_id":69795761,"comment_id":123374389,"body_markdown":"@Antionio Dragos: You have two possibilities to make run a Java program faster with GraalVM: First, compile it to native code (Graal Native Image). Second, use the GraalVM as VM. But if you run your Java bytecode using a non-Graal-VM, it does not run faster. That is stated on the site you mentioned, too. :-)","body":"@Antionio Dragos: You have two possibilities to make run a Java program faster with GraalVM: First, compile it to native code (Graal Native Image). Second, use the GraalVM as VM. But if you run your Java bytecode using a non-Graal-VM, it does not run faster. That is stated on the site you mentioned, too. :-)"},{"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":0,"creation_date":1635774030,"post_id":69795761,"comment_id":123376030,"body_markdown":"@McPringle so is it the case that in order to benefit from GraalVM the code must be compiled *and* executed by GraalVM?","body":"@McPringle so is it the case that in order to benefit from GraalVM the code must be compiled <i>and</i> executed by GraalVM?"},{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":0,"creation_date":1635776517,"post_id":69795761,"comment_id":123377041,"body_markdown":"If you compile to bytecode, yes. If you compile to native code, no.","body":"If you compile to bytecode, yes. If you compile to native code, no."}],"answers":[{"tags":[],"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635765110,"creation_date":1635763751,"answer_id":69795830,"question_id":69795761,"body_markdown":"If you have compiled your code with JVM Runtime mode, than you can run your application on any JVM. There is no compulsion of running the application with GraalVM.\r\n\r\nIf you have compile your code with Native Image compiler, than it will create a native executable binary which can be directly executed without usage of any JVM.","title":"can a GraalVM app be deployed on a &quot;regular&quot; VM","body":"<p>If you have compiled your code with JVM Runtime mode, than you can run your application on any JVM. There is no compulsion of running the application with GraalVM.</p>\n<p>If you have compile your code with Native Image compiler, than it will create a native executable binary which can be directly executed without usage of any JVM.</p>\n"},{"tags":[],"owner":{"account_id":3396146,"reputation":101,"user_id":2849712,"display_name":"mukel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635784320,"creation_date":1635784320,"answer_id":69799872,"question_id":69795761,"body_markdown":"GraalVM is based on OpenJDK with some extras; one of them is a state-of-the-art compiler.\r\n\r\nThe Graal compiler is very versatile; it is used to compile native images (AOT mode) but can also be used as a JIT compiler, replacing C2, which is the default shipped in OpenJDK.\r\n\r\nThe term compiler is a bit overloaded in this case. The traditional Java &quot;compilers&quot; e.g. javac/ecj, compile Java sources to bytecode. The &quot;optimizing compilers&quot; e.g. Graal and C2, compile bytecode to highly optimized assembly.\r\n\r\nGraalVM uses a different &quot;optimizing compiler&quot; (Graal), which may indeed give some speedup compared to a vanilla OpenJDK (C2) but that&#39;s very dependent on your workload, you should always measure yourself.\r\n\r\nAdditional reference: [Twitter&#39;s Quest for a Wholly Graal Runtime by Chris Thalinger](https://www.youtube.com/watch?v=PtgKmzgIh4c&amp;t=1498s)","title":"can a GraalVM app be deployed on a &quot;regular&quot; VM","body":"<p>GraalVM is based on OpenJDK with some extras; one of them is a state-of-the-art compiler.</p>\n<p>The Graal compiler is very versatile; it is used to compile native images (AOT mode) but can also be used as a JIT compiler, replacing C2, which is the default shipped in OpenJDK.</p>\n<p>The term compiler is a bit overloaded in this case. The traditional Java &quot;compilers&quot; e.g. javac/ecj, compile Java sources to bytecode. The &quot;optimizing compilers&quot; e.g. Graal and C2, compile bytecode to highly optimized assembly.</p>\n<p>GraalVM uses a different &quot;optimizing compiler&quot; (Graal), which may indeed give some speedup compared to a vanilla OpenJDK (C2) but that's very dependent on your workload, you should always measure yourself.</p>\n<p>Additional reference: <a href=\"https://www.youtube.com/watch?v=PtgKmzgIh4c&amp;t=1498s\" rel=\"nofollow noreferrer\">Twitter's Quest for a Wholly Graal Runtime by Chris Thalinger</a></p>\n"}],"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1635784320,"creation_date":1635763268,"question_id":69795761,"body_markdown":"In order to gain the performance benefits offered by GraalVM, the application must be compiled using GraalVM&#39;s compiler. However, what&#39;s not clear to me is whether the application must also be executed by GraalVM, or whether it can be deployed to a &quot;regular&quot; VM (e.g. OpenJDK) in order to benefit from the improved performance?\r\n\r\nSome additional details which may be relevant\r\n- I&#39;m using JDK 11\r\n- The application in question only uses JDK languages, e.g. Java, Kotlin, Groovy\r\n- The build artifact is a JAR file, i.e. GraalVM native images are **not** used","title":"can a GraalVM app be deployed on a &quot;regular&quot; VM","body":"<p>In order to gain the performance benefits offered by GraalVM, the application must be compiled using GraalVM's compiler. However, what's not clear to me is whether the application must also be executed by GraalVM, or whether it can be deployed to a &quot;regular&quot; VM (e.g. OpenJDK) in order to benefit from the improved performance?</p>\n<p>Some additional details which may be relevant</p>\n<ul>\n<li>I'm using JDK 11</li>\n<li>The application in question only uses JDK languages, e.g. Java, Kotlin, Groovy</li>\n<li>The build artifact is a JAR file, i.e. GraalVM native images are <strong>not</strong> used</li>\n</ul>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7611917,"reputation":2415,"user_id":5772498,"display_name":"Stefan"},"score":0,"creation_date":1510147600,"post_id":47180825,"comment_id":81310671,"body_markdown":"First thing could be to replace `set = 0;` and `break`; with `return 0;`","body":"First thing could be to replace <code>set = 0;</code> and <code>break</code>; with <code>return 0;</code>"},{"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"score":0,"creation_date":1510147723,"post_id":47180825,"comment_id":81310759,"body_markdown":"Class name starts with big letter","body":"Class name starts with big letter"},{"owner":{"account_id":9164465,"reputation":13,"user_id":6814664,"display_name":"De Poudelas"},"score":0,"creation_date":1510147971,"post_id":47180825,"comment_id":81310929,"body_markdown":"Oh, yeah I corrected it. thank you","body":"Oh, yeah I corrected it. thank you"},{"owner":{"account_id":7505,"reputation":7034,"user_id":13075,"accept_rate":83,"display_name":"Henrik Aasted S&#248;rensen"},"score":0,"creation_date":1510210715,"post_id":47180825,"comment_id":81340107,"body_markdown":"Be careful when counting even numbers in the second loop. Seems to me that you&#39;re ignoring that some numbers may be present more than once. How is it handling `{4, 4, 4, 8}`?","body":"Be careful when counting even numbers in the second loop. Seems to me that you&#39;re ignoring that some numbers may be present more than once. How is it handling <code>{4, 4, 4, 8}</code>?"},{"owner":{"account_id":9164465,"reputation":13,"user_id":6814664,"display_name":"De Poudelas"},"score":0,"creation_date":1510234410,"post_id":47180825,"comment_id":81354764,"body_markdown":"I think , you should read the questions first . It doesn&#39;t matter if digit repeats but should contain all the even numbers less than the maximum even numbers in the array.","body":"I think , you should read the questions first . It doesn&#39;t matter if digit repeats but should contain all the even numbers less than the maximum even numbers in the array."}],"answers":[{"tags":[],"owner":{"account_id":7611917,"reputation":2415,"user_id":5772498,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510148231,"creation_date":1510147666,"answer_id":47180972,"question_id":47180825,"body_markdown":"Set `count = 0` in the second loop, like this:\r\n\r\n    for(int c = 2; c&lt;=maxeven;c=c+2){\r\n        count = 0;\r\n        for(int b = 0;b&lt;i.length;b++){\r\n\r\nThat should solve your problem. Without `count = 0`, count will be &gt;0 after you&#39;ve looked for &quot;2&quot;, so count&gt;0 will be true when you look for &quot;4&quot; even if there are not &quot;4&quot;s.","title":"java tricky questions complete array","body":"<p>Set <code>count = 0</code> in the second loop, like this:</p>\n\n<pre><code>for(int c = 2; c&lt;=maxeven;c=c+2){\n    count = 0;\n    for(int b = 0;b&lt;i.length;b++){\n</code></pre>\n\n<p>That should solve your problem. Without <code>count = 0</code>, count will be >0 after you've looked for \"2\", so count>0 will be true when you look for \"4\" even if there are not \"4\"s.</p>\n"},{"tags":[],"owner":{"account_id":12190932,"reputation":21,"user_id":8898449,"display_name":"abhisheakd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510148453,"creation_date":1510148453,"answer_id":47181241,"question_id":47180825,"body_markdown":"&gt; I have find maximum even numbers from the array in first loop and in\r\n&gt; second loop, i have to check all the even numbers less than the\r\n&gt; maximum even numbers\r\n\r\nI have followed this logic and wrote this. I am checking the validity of condtion 1 (All elements &gt;0) and in the same loop finding the largest even number.\r\nIn the second loop, I am checking whether all the even numbers lesser than the largest even nuber is present.\r\n\r\n    public class Complete {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(isComplete(new int[] { 2, 3, 2, 4, 11, 6, 10, 9, 8 }));\r\n    \t\tSystem.out.println(isComplete(new int[] { 2, 3, 3, 6 }));\r\n    \t\tSystem.out.println(isComplete(new int[] { 2, -3, 4, 3, 6 }));\r\n    \t}\r\n    \r\n    \tprivate static int isComplete(int[] i) {\r\n    \t\tint maxEven = 0;\r\n    \r\n    \t\tfor (int element : i) {\r\n    \t\t\tif (element &lt;= 0) {\r\n    \t\t\t\treturn 0;\r\n    \t\t\t}\r\n    \t\t\tif (element % 2 == 0) {\r\n    \t\t\t\tif (element &gt; maxEven) {\r\n    \t\t\t\t\tmaxEven = element;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfor (int a = 2; a &lt; maxEven; a = a + 2) {\r\n    \t\t\tif (!hasElement(i, a)) {\r\n    \t\t\t\treturn 0;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn 1;\r\n    \t}\r\n    \r\n    \tprivate static boolean hasElement(int[] i, int a) {\r\n    \t\tfor (int element : i) {\r\n    \t\t\tif (element == a) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    }","title":"java tricky questions complete array","body":"<blockquote>\n  <p>I have find maximum even numbers from the array in first loop and in\n  second loop, i have to check all the even numbers less than the\n  maximum even numbers</p>\n</blockquote>\n\n<p>I have followed this logic and wrote this. I am checking the validity of condtion 1 (All elements >0) and in the same loop finding the largest even number.\nIn the second loop, I am checking whether all the even numbers lesser than the largest even nuber is present.</p>\n\n<pre><code>public class Complete {\n    public static void main(String[] args) {\n        System.out.println(isComplete(new int[] { 2, 3, 2, 4, 11, 6, 10, 9, 8 }));\n        System.out.println(isComplete(new int[] { 2, 3, 3, 6 }));\n        System.out.println(isComplete(new int[] { 2, -3, 4, 3, 6 }));\n    }\n\n    private static int isComplete(int[] i) {\n        int maxEven = 0;\n\n        for (int element : i) {\n            if (element &lt;= 0) {\n                return 0;\n            }\n            if (element % 2 == 0) {\n                if (element &gt; maxEven) {\n                    maxEven = element;\n                }\n            }\n        }\n\n        for (int a = 2; a &lt; maxEven; a = a + 2) {\n            if (!hasElement(i, a)) {\n                return 0;\n            }\n        }\n        return 1;\n    }\n\n    private static boolean hasElement(int[] i, int a) {\n        for (int element : i) {\n            if (element == a) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23207790,"reputation":1,"user_id":17301738,"display_name":"Kingo Al"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635784303,"creation_date":1635784303,"answer_id":69799870,"question_id":47180825,"body_markdown":"int isComplete(int[] a) {\r\n    int max = 0;\r\n\r\n    for (int el: a) {\r\n        if (el &lt;= 0) {\r\n            return 0;\r\n        }\r\n        if (el % 2 == 0) {\r\n            if (el &gt; max) {\r\n                max = el;\r\n            }\r\n        }\r\n    }\r\n    int req = (max / 2) - 1;\r\n    int p = 0;\r\n    for (int c = 2; c &lt; max; c = c + 2) {\r\n        for (int j = 0; j &lt; a.length; j++) {\r\n            if (a[j] == c) {\r\n                p++;\r\n            }\r\n        }\r\n    }\r\n    if (req == p) {\r\n        return 1;\r\n    } else\r\n        return 0;\r\n}","title":"java tricky questions complete array","body":"<p>int isComplete(int[] a) {\nint max = 0;</p>\n<pre><code>for (int el: a) {\n    if (el &lt;= 0) {\n        return 0;\n    }\n    if (el % 2 == 0) {\n        if (el &gt; max) {\n            max = el;\n        }\n    }\n}\nint req = (max / 2) - 1;\nint p = 0;\nfor (int c = 2; c &lt; max; c = c + 2) {\n    for (int j = 0; j &lt; a.length; j++) {\n        if (a[j] == c) {\n            p++;\n        }\n    }\n}\nif (req == p) {\n    return 1;\n} else\n    return 0;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":9164465,"reputation":13,"user_id":6814664,"display_name":"De Poudelas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":3,"score":-2,"last_activity_date":1635784303,"creation_date":1510147266,"question_id":47180825,"body_markdown":"&#160;An&#160;array&#160;is&#160;defined&#160;to&#160;be&#160;complete&#160;if&#160;all&#160;its&#160;elements&#160;are&#160;greater&#160;than&#160;0&#160;and&#160;all&#160;even&#160;numbers&#160;that&#160; are&#160;less&#160;than&#160;the&#160;maximum&#160;even&#160;number&#160;are&#160;in&#160;the&#160;array.&#160;\r\nFor&#160;example&#160;{2,&#160;3,&#160;2,&#160;4,&#160;11,&#160;6,&#160;10,&#160;9,&#160;8}&#160;is&#160;complete&#160;because&#160;\r\n\r\n&#160;a.&#160;all&#160;its&#160;elements&#160;are&#160;greater&#160;than&#160;0 &#160;\r\n\r\n&#160;b.&#160;the&#160;maximum&#160;even&#160;integer&#160;is&#160;10 &#160;c.&#160;all&#160;even&#160;numbers&#160;that&#160;are&#160;less&#160;than&#160;10&#160;(2,&#160;4,&#160;6,&#160;8)&#160;are&#160;in&#160;the&#160;array.\r\n\r\nBut&#160;{2,&#160;3,&#160;3,&#160;6}&#160;is&#160;not&#160;complete&#160;because&#160;the&#160;even&#160;number&#160;4&#160;is&#160;missing.&#160;{2,&#160;&#173;3,&#160;4,&#160;3,&#160;6}&#160;is&#160;not&#160;complete&#160; because&#160;it&#160;contains&#160;a&#160;negative&#160;number.\r\nWrite&#160;a&#160;function&#160;named&#160;isComplete&#160;that&#160;returns&#160;1&#160;if&#160;its&#160;array&#160;argument&#160;is&#160;a&#160;complete&#160;array.&#160;Otherwise&#160; it&#160;returns&#160;0\r\n\r\nThis is a question i have to solve but i am not able to find good logic for this questions .  Here I have find maximum even numbers from the array in first loop  and in second loop, i have to check all the even numbers less than the maximum even numbers and i am stuck on this. please help me ,,,,,,,,,,my code is below\r\n\r\n    public class Complete {\r\n      public static void main(String[] args) {\r\n        System.out.println(isComplete(new int[]{2,3,2,4,11,6,10,9,8}));\r\n        System.out.println(isComplete(new int[]{2,3,3,6}));\r\n        System.out.println(isComplete(new int[]{2,-3,4,3,6}));\r\n      }\r\n\r\n      private static int isComplete(int[] i) {\r\n        int set = 1;\r\n        int maxeven = 0;  \r\n        int count = 0;\r\n        for(int a = 0; a &lt; i.length; a++) {\r\n          if(i[a] &lt; 0) {\r\n            set = 0;\r\n              break;\r\n            }\r\n            if(i[a]%2 == 0 &amp;&amp; i[a] &gt; maxeven) {\r\n              maxeven = i[a];\r\n            }\r\n         }\r\n     \r\n         for (int c = 2; c &lt;= maxeven; c=c+2) {\r\n           for( int b = 0; b&lt;i.length; b++) {\r\n             if (c == i[b]) {\r\n               count++;\r\n             }\r\n          }\r\n          if (count &gt; 0) {\r\n            set = 1;\r\n          } else {\r\n            set = 0;\r\n            break;\r\n          }         \r\n        }\r\n        return set;\r\n      }\r\n\r\n    }\r\n \r\n    \r\n\r\n","title":"java tricky questions complete array","body":"<p>¬†An¬†array¬†is¬†defined¬†to¬†be¬†complete¬†if¬†all¬†its¬†elements¬†are¬†greater¬†than¬†0¬†and¬†all¬†even¬†numbers¬†that¬† are¬†less¬†than¬†the¬†maximum¬†even¬†number¬†are¬†in¬†the¬†array.¬†\nFor¬†example¬†{2,¬†3,¬†2,¬†4,¬†11,¬†6,¬†10,¬†9,¬†8}¬†is¬†complete¬†because¬†</p>\n\n<p>¬†a.¬†all¬†its¬†elements¬†are¬†greater¬†than¬†0 ¬†</p>\n\n<p>¬†b.¬†the¬†maximum¬†even¬†integer¬†is¬†10 ¬†c.¬†all¬†even¬†numbers¬†that¬†are¬†less¬†than¬†10¬†(2,¬†4,¬†6,¬†8)¬†are¬†in¬†the¬†array.</p>\n\n<p>But¬†{2,¬†3,¬†3,¬†6}¬†is¬†not¬†complete¬†because¬†the¬†even¬†number¬†4¬†is¬†missing.¬†{2,¬†¬≠3,¬†4,¬†3,¬†6}¬†is¬†not¬†complete¬† because¬†it¬†contains¬†a¬†negative¬†number.\nWrite¬†a¬†function¬†named¬†isComplete¬†that¬†returns¬†1¬†if¬†its¬†array¬†argument¬†is¬†a¬†complete¬†array.¬†Otherwise¬† it¬†returns¬†0</p>\n\n<p>This is a question i have to solve but i am not able to find good logic for this questions .  Here I have find maximum even numbers from the array in first loop  and in second loop, i have to check all the even numbers less than the maximum even numbers and i am stuck on this. please help me ,,,,,,,,,,my code is below</p>\n\n<pre><code>public class Complete {\n  public static void main(String[] args) {\n    System.out.println(isComplete(new int[]{2,3,2,4,11,6,10,9,8}));\n    System.out.println(isComplete(new int[]{2,3,3,6}));\n    System.out.println(isComplete(new int[]{2,-3,4,3,6}));\n  }\n\n  private static int isComplete(int[] i) {\n    int set = 1;\n    int maxeven = 0;  \n    int count = 0;\n    for(int a = 0; a &lt; i.length; a++) {\n      if(i[a] &lt; 0) {\n        set = 0;\n          break;\n        }\n        if(i[a]%2 == 0 &amp;&amp; i[a] &gt; maxeven) {\n          maxeven = i[a];\n        }\n     }\n\n     for (int c = 2; c &lt;= maxeven; c=c+2) {\n       for( int b = 0; b&lt;i.length; b++) {\n         if (c == i[b]) {\n           count++;\n         }\n      }\n      if (count &gt; 0) {\n        set = 1;\n      } else {\n        set = 0;\n        break;\n      }         \n    }\n    return set;\n  }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1635778085,"post_id":69798490,"comment_id":123377643,"body_markdown":"Are ReconRepo and InService beans?","body":"Are ReconRepo and InService beans?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1635778120,"post_id":69798490,"comment_id":123377658,"body_markdown":"The `@Value` is on the field not the constructor.","body":"The <code>@Value</code> is on the field not the constructor."}],"answers":[{"tags":[],"owner":{"account_id":16335079,"reputation":71,"user_id":11797498,"display_name":"Arthur Ara&#250;jo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635778408,"creation_date":1635778408,"answer_id":69798676,"question_id":69798490,"body_markdown":"When you create a constructor, you&#39;re telling spring boot container that class dependencies will be injected using it. In that case, dependency specifications like `@Qualified` or `@Value` need to be declared on constructor parameter. Because your constructor is being generated by lombok, it doesn&#39;t includes annotations on parameters.\r\n\r\nUsing `@Value` directly on the field works for field injection, but in your case you are using constructor injection.\r\n\r\nFor your code to work you&#39;ll need to do the following:\r\n\r\n```java\r\n@Service\r\n@Slf4j\r\npublic class ReconService{\r\n\r\n    private ReconRepo reconRepo;\r\n    private InService inService;\r\n    private Integer threshold;\r\n\r\n    public ReconService(\r\n        ReconRepo reconRepo,\r\n        InService inService,\r\n        @Value(&quot;${threshold.count}&quot;) Integer threshold\r\n    ) {\r\n        this.reconRepo = reconRepo;\r\n        this.inService = inService;\r\n        this.threshold = threshold; \r\n    }\r\n\r\n    public void doSomething(List&lt;Record&gt; records) {\r\n        if(threshold &lt; records.size()) {\r\n            throw new RuntimeException(&quot;threshold exceeded&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Getting null value for @Value with @AllArgsConstructor","body":"<p>When you create a constructor, you're telling spring boot container that class dependencies will be injected using it. In that case, dependency specifications like <code>@Qualified</code> or <code>@Value</code> need to be declared on constructor parameter. Because your constructor is being generated by lombok, it doesn't includes annotations on parameters.</p>\n<p>Using <code>@Value</code> directly on the field works for field injection, but in your case you are using constructor injection.</p>\n<p>For your code to work you'll need to do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Slf4j\npublic class ReconService{\n\n    private ReconRepo reconRepo;\n    private InService inService;\n    private Integer threshold;\n\n    public ReconService(\n        ReconRepo reconRepo,\n        InService inService,\n        @Value(&quot;${threshold.count}&quot;) Integer threshold\n    ) {\n        this.reconRepo = reconRepo;\n        this.inService = inService;\n        this.threshold = threshold; \n    }\n\n    public void doSomething(List&lt;Record&gt; records) {\n        if(threshold &lt; records.size()) {\n            throw new RuntimeException(&quot;threshold exceeded&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5318745,"reputation":721,"user_id":4242765,"accept_rate":30,"display_name":"Ram Kowsu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635778940,"creation_date":1635778940,"answer_id":69798795,"question_id":69798490,"body_markdown":"When I used both @NoArgsConstructor and @AllArgsConstructor it worked.\r\n\r\n    @Service\r\n    @Slf4j\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ReconService{\r\n        \r\n        private ReconRepo reconRepo;\r\n        private InService inService;\r\n        @Value(&quot;${threshold.count}&quot;)\r\n        private Integer threshold;\r\n        \r\n        public void doSomething(List&lt;Record&gt; records) {\r\n           if(threshold &lt; records.size()) {\r\n             throw new RuntimeException(&quot;threshold exceeded&quot;);\r\n           }\r\n        }\r\n    }","title":"Getting null value for @Value with @AllArgsConstructor","body":"<p>When I used both @NoArgsConstructor and @AllArgsConstructor it worked.</p>\n<pre><code>@Service\n@Slf4j\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ReconService{\n    \n    private ReconRepo reconRepo;\n    private InService inService;\n    @Value(&quot;${threshold.count}&quot;)\n    private Integer threshold;\n    \n    public void doSomething(List&lt;Record&gt; records) {\n       if(threshold &lt; records.size()) {\n         throw new RuntimeException(&quot;threshold exceeded&quot;);\n       }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23095038,"reputation":146,"user_id":17205307,"display_name":"Johannes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635783773,"creation_date":1635783773,"answer_id":69799775,"question_id":69798490,"body_markdown":"You can use @RequiredArgsConstructor to inject your beans via constructor and your threshold value to be injected with field injection. For that you have to make your beans final\r\n```\r\n@Service\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class ReconService{\r\n    \r\n    private final ReconRepo reconRepo;\r\n    private final InService inService;\r\n    @Value(&quot;${threshold.count}&quot;)\r\n    private Integer threshold;\r\n    \r\n    public void doSomething(List&lt;Record&gt; records) {\r\n       if(threshold &lt; records.size()) {\r\n         throw new RuntimeException(&quot;threshold exceeded&quot;);\r\n       }\r\n    }\r\n}\r\n\r\n\r\n```","title":"Getting null value for @Value with @AllArgsConstructor","body":"<p>You can use @RequiredArgsConstructor to inject your beans via constructor and your threshold value to be injected with field injection. For that you have to make your beans final</p>\n<pre><code>@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class ReconService{\n    \n    private final ReconRepo reconRepo;\n    private final InService inService;\n    @Value(&quot;${threshold.count}&quot;)\n    private Integer threshold;\n    \n    public void doSomething(List&lt;Record&gt; records) {\n       if(threshold &lt; records.size()) {\n         throw new RuntimeException(&quot;threshold exceeded&quot;);\n       }\n    }\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19766574,"reputation":265,"user_id":14474468,"display_name":"Amine Safi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635784205,"creation_date":1635784205,"answer_id":69799846,"question_id":69798490,"body_markdown":"You should use `@RequiredArgsConstructor`, it will initialize only the fields marked with `@NonNull` or `final` keyword.","title":"Getting null value for @Value with @AllArgsConstructor","body":"<p>You should use <code>@RequiredArgsConstructor</code>, it will initialize only the fields marked with <code>@NonNull</code> or <code>final</code> keyword.</p>\n"}],"owner":{"account_id":5318745,"reputation":721,"user_id":4242765,"accept_rate":30,"display_name":"Ram Kowsu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1635784205,"creation_date":1635777493,"question_id":69798490,"body_markdown":"I am getting null as a value when I use @Value with @AllArgsConstructor combination.\r\n\r\n```\r\n@Service\r\n@Slf4j\r\n@AllArgsConstructor\r\npublic class ReconService{\r\n    \r\n    private ReconRepo reconRepo;\r\n    private InService inService;\r\n    @Value(&quot;${threshold.count}&quot;)\r\n    private Integer threshold;\r\n    \r\n    public void doSomething(List&lt;Record&gt; records) {\r\n       if(threshold &lt; records.size()) {\r\n         throw new RuntimeException(&quot;threshold exceeded&quot;);\r\n       }\r\n    }\r\n}\r\n```\r\n\r\nIn the `doSomething()`, I am getting `threshold` variable value as null\r\nCould you please help me on this.\r\n","title":"Getting null value for @Value with @AllArgsConstructor","body":"<p>I am getting null as a value when I use @Value with @AllArgsConstructor combination.</p>\n<pre><code>@Service\n@Slf4j\n@AllArgsConstructor\npublic class ReconService{\n    \n    private ReconRepo reconRepo;\n    private InService inService;\n    @Value(&quot;${threshold.count}&quot;)\n    private Integer threshold;\n    \n    public void doSomething(List&lt;Record&gt; records) {\n       if(threshold &lt; records.size()) {\n         throw new RuntimeException(&quot;threshold exceeded&quot;);\n       }\n    }\n}\n</code></pre>\n<p>In the <code>doSomething()</code>, I am getting <code>threshold</code> variable value as null\nCould you please help me on this.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10668,"reputation":99861,"user_id":20261,"accept_rate":82,"display_name":"Ikke"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1262791584,"creation_date":1262791584,"answer_id":2013965,"question_id":2013924,"body_markdown":"One main principle of good software development is the [Single Responsibility Priciple](http://en.wikipedia.org/wiki/Single_responsibility_principle). It states that a function or class should only have one responsibility. \r\n\r\nThis way your classes and objects shouldn&#39;t become too big and unmanageable.","title":"How do you structure a java program?","body":"<p>One main principle of good software development is the <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"noreferrer\">Single Responsibility Priciple</a>. It states that a function or class should only have one responsibility. </p>\n\n<p>This way your classes and objects shouldn't become too big and unmanageable.</p>\n"},{"tags":[],"owner":{"account_id":63517,"reputation":11633,"user_id":187986,"accept_rate":79,"display_name":"Jason Nichols"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262791845,"creation_date":1262791845,"answer_id":2014007,"question_id":2013924,"body_markdown":"I think one of the most important concepts to master when developing software is the concept or [Orthogonality][1].  It&#39;s not the simplest definition, but in essence it means that one component (such as reading mouse clicks) shouldn&#39;t be directly tied to an unrelated component (moving a square on the screen).\r\n\r\nIn your case, the code reading mouse clicks should be separate from the code that actually moves the box.  Whether you implement this as inner/anonymous classes or not is up to you.  But if you follow the Orthogonality principle, it will be easy to change at a later date should you change your mind.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Orthogonality#Computer_science","title":"How do you structure a java program?","body":"<p>I think one of the most important concepts to master when developing software is the concept or <a href=\"http://en.wikipedia.org/wiki/Orthogonality#Computer_science\" rel=\"nofollow noreferrer\">Orthogonality</a>.  It's not the simplest definition, but in essence it means that one component (such as reading mouse clicks) shouldn't be directly tied to an unrelated component (moving a square on the screen).</p>\n\n<p>In your case, the code reading mouse clicks should be separate from the code that actually moves the box.  Whether you implement this as inner/anonymous classes or not is up to you.  But if you follow the Orthogonality principle, it will be easy to change at a later date should you change your mind.</p>\n"},{"tags":[],"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1262791848,"creation_date":1262791848,"answer_id":2014010,"question_id":2013924,"body_markdown":"Step 1 - find the demo applets supplied by Sun.  http://java.sun.com/applets/jdk/\r\n\r\nStep 2 - read those demo applets.  At least three.  Preferably all of them.\r\n\r\nOne you&#39;ve read several applets, you should see a little more clearly how to organize programs.  You can then ask questions with a lot more focus pointing to specific applet examples and your specific programming problem.","title":"How do you structure a java program?","body":"<p>Step 1 - find the demo applets supplied by Sun.  <a href=\"http://java.sun.com/applets/jdk/\" rel=\"nofollow noreferrer\">http://java.sun.com/applets/jdk/</a></p>\n\n<p>Step 2 - read those demo applets.  At least three.  Preferably all of them.</p>\n\n<p>One you've read several applets, you should see a little more clearly how to organize programs.  You can then ask questions with a lot more focus pointing to specific applet examples and your specific programming problem.</p>\n"},{"tags":[],"owner":{"account_id":13277,"reputation":4383,"user_id":26552,"accept_rate":82,"display_name":"Ed Altorfer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1262791986,"creation_date":1262791986,"answer_id":2014027,"question_id":2013924,"body_markdown":"What you&#39;re really asking is how to develop a game, which is notably different from a typical Java application. However, I&#39;ll give you a few ideas to at least point you in the right direction.\r\n\r\n - Take advantage of the fact that Java is an object-oriented language. That is, objects should each have their [own responsibility][1].\r\n - Separate your game into three key layers: the application layer, the game logic layer, and the presentation layer.\r\n  \r\n  - The application layer should contain all of your helpers and generic subsystems, things like random number generators, text parsers, file access modules, mesh loaders, etc.\r\n  - The game logic layer should implement all of the rules of your game, and be responsible for maintaining canonical state. Basically, when you press the &quot;W&quot; on the keyboard to move forward, the game logic layer should receive `MOVE_FORWARD_REQUEST` from the UI.\r\n  - The presentation layer should be responsible for two things: getting input, and rendering your world. When it gets input, like the &quot;W&quot; key, it should map that to an action, and send that to the game logic layer to be processed. Then, it should render the world based on whatever the game logic told it to do.\r\n\r\nGame development is obviously an entire realm with many books dedicated to it. One of my favorites is [Game Coding Complete][2], which does focus on C/C++, but should give you a good idea about how you ought to structure your game.\r\n\r\nGood luck!\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Single_responsibility_principle\r\n  [2]: http://www.amazon.com/Game-Coding-Complete-Mike-McShaffry/dp/1932111751","title":"How do you structure a java program?","body":"<p>What you're really asking is how to develop a game, which is notably different from a typical Java application. However, I'll give you a few ideas to at least point you in the right direction.</p>\n\n<ul>\n<li>Take advantage of the fact that Java is an object-oriented language. That is, objects should each have their <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"noreferrer\">own responsibility</a>.</li>\n<li><p>Separate your game into three key layers: the application layer, the game logic layer, and the presentation layer.</p>\n\n<ul>\n<li>The application layer should contain all of your helpers and generic subsystems, things like random number generators, text parsers, file access modules, mesh loaders, etc.</li>\n<li>The game logic layer should implement all of the rules of your game, and be responsible for maintaining canonical state. Basically, when you press the \"W\" on the keyboard to move forward, the game logic layer should receive <code>MOVE_FORWARD_REQUEST</code> from the UI.</li>\n<li>The presentation layer should be responsible for two things: getting input, and rendering your world. When it gets input, like the \"W\" key, it should map that to an action, and send that to the game logic layer to be processed. Then, it should render the world based on whatever the game logic told it to do.</li>\n</ul></li>\n</ul>\n\n<p>Game development is obviously an entire realm with many books dedicated to it. One of my favorites is <a href=\"https://rads.stackoverflow.com/amzn/click/com/1932111751\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Game Coding Complete</a>, which does focus on C/C++, but should give you a good idea about how you ought to structure your game.</p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":77188,"reputation":16833,"user_id":220485,"accept_rate":90,"display_name":"Daniel Fath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1262792131,"creation_date":1262792131,"answer_id":2014037,"question_id":2013924,"body_markdown":"Yeah, I&#39;m a beginner programmer myself. Yeah, segregating functionality across multiple classes is a good way to reduce complexity and increase cohesion of individual classes.\r\n\r\nIncreasing cohesion good because by having more complex data structure your algorithms become less complex and your code is less dependent on each other.\r\n\r\nFor instance in your case it might be a good idea to separate the classes in accordance to MVC ([Model View Controler][1]).\r\n \r\n - You have a Model which represents the way your game data is structured.\r\n - You have a Viewer which present your Model in what ever form you please.\r\n - Have a Controller which picks up changes in the Model (via Listeners) and then updates the Viewer\r\n\r\nNow you can change your Model and add extra functionality requiring only small changes in the way the Viewer works.\r\n\r\nThere are many [Patterns][2] out there but there isn&#39;t a hard rule when to use one over the other. There are some cases in which you can use several and there are cases in which will require you to chose one design pattern over the other.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/MVC_Pattern\r\n  [2]: http://en.wikipedia.org/wiki/Design_pattern_%28computer_science%29","title":"How do you structure a java program?","body":"<p>Yeah, I'm a beginner programmer myself. Yeah, segregating functionality across multiple classes is a good way to reduce complexity and increase cohesion of individual classes.</p>\n\n<p>Increasing cohesion good because by having more complex data structure your algorithms become less complex and your code is less dependent on each other.</p>\n\n<p>For instance in your case it might be a good idea to separate the classes in accordance to MVC (<a href=\"http://en.wikipedia.org/wiki/MVC_Pattern\" rel=\"nofollow noreferrer\">Model View Controler</a>).</p>\n\n<ul>\n<li>You have a Model which represents the way your game data is structured.</li>\n<li>You have a Viewer which present your Model in what ever form you please.</li>\n<li>Have a Controller which picks up changes in the Model (via Listeners) and then updates the Viewer</li>\n</ul>\n\n<p>Now you can change your Model and add extra functionality requiring only small changes in the way the Viewer works.</p>\n\n<p>There are many <a href=\"http://en.wikipedia.org/wiki/Design_pattern_%28computer_science%29\" rel=\"nofollow noreferrer\">Patterns</a> out there but there isn't a hard rule when to use one over the other. There are some cases in which you can use several and there are cases in which will require you to chose one design pattern over the other.</p>\n"},{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262792737,"creation_date":1262792737,"answer_id":2014114,"question_id":2013924,"body_markdown":"One problem here is that all the rules have some leeway in them where you have to use your own best judgement.\r\n\r\nFor example, the app you are describing now seems to me so simple I&#39;d probably do it in a single class, with perhaps a couple of nested, perhaps anonymous classes. In any event, I could make a decent case for fitting the whole thing into a single source file, claiming that multiple source files would actually *increase* the complexity of the whole thing.\r\n\r\nBut if your GUI had a number of different controls, perhaps each controlling different behavior, it would become time to split the functionality up so you&#39;re not ending up with a big bowl of spaghetti code.\r\n\r\nThe Java GUI libraries try to naturally separate (view+controller) from model. You are encouraged to define and display the GUI in one module (= file) but to have your data model and perhaps functionality in another. For complicated GUIs, there may also be multiple GUI implementation modules held together by code.\r\n\r\nOne way to keep things &quot;clean&quot; is to work in &quot;layers&quot; where each layer &quot;knows&quot; only what it needs to know. To be specific, the GUI layer needs to know about the existence of its underlying models &amp;ndash; tables and lists and whatnot need to be connected to `TableModel`s and `ListModel`s, etc. It doesn&#39;t need to know about details of these models though, so it can simply refer to those models by interface.\r\n\r\nThe model layer, on the other hand, need know nothing about the GUI. The less it knows, the better, and this would theoretically enable you to exchange GUIs without needing to touch the models.\r\n\r\nMy model can also contain `ActionListener`s to respond to actions undertaken by e.g. pushing buttons in the GUI.\r\n\r\nOf course, actions and changes to the model will often result in changes to the GUI. How to communicate these changes to the GUI if the model layer doesn&#39;t know about the GUI? You can use bound bean properties here. Here&#39;s a short tutorial: &lt;http://www.javalobby.org/java/forums/t19476.html&gt; . So you have the same kind of structure:  Changes happen in your model, they&#39;re communicated to beans with property change support within the model, and the GUI can attach listeners to those properties to find out something changed.\r\n\r\nWhether you perform actual, effective actions (e.g. writing files, converting data, whatever) within your model code or whether you split &quot;processing&quot; code off into yet another module is up to you and will again depend on how cluttered your model already is. If there&#39;s a tiny handful of fields and methods feeling lonely in there, you may decide to mash things together but the moment it starts to look messy you&#39;ll want to refactor your processing code out into its own module. Processing sounds like the kind of module that doesn&#39;t want to know about other modules either; you may end up just calling its methods from the model level.\r\n\r\nI&#39;ve described my basic style for doing GUI development. There are certainly other recommendations out there, and you will likely develop your own style based on your experience. This is just intended to give you an idea and a possible starting point.","title":"How do you structure a java program?","body":"<p>One problem here is that all the rules have some leeway in them where you have to use your own best judgement.</p>\n\n<p>For example, the app you are describing now seems to me so simple I'd probably do it in a single class, with perhaps a couple of nested, perhaps anonymous classes. In any event, I could make a decent case for fitting the whole thing into a single source file, claiming that multiple source files would actually <em>increase</em> the complexity of the whole thing.</p>\n\n<p>But if your GUI had a number of different controls, perhaps each controlling different behavior, it would become time to split the functionality up so you're not ending up with a big bowl of spaghetti code.</p>\n\n<p>The Java GUI libraries try to naturally separate (view+controller) from model. You are encouraged to define and display the GUI in one module (= file) but to have your data model and perhaps functionality in another. For complicated GUIs, there may also be multiple GUI implementation modules held together by code.</p>\n\n<p>One way to keep things \"clean\" is to work in \"layers\" where each layer \"knows\" only what it needs to know. To be specific, the GUI layer needs to know about the existence of its underlying models &ndash; tables and lists and whatnot need to be connected to <code>TableModel</code>s and <code>ListModel</code>s, etc. It doesn't need to know about details of these models though, so it can simply refer to those models by interface.</p>\n\n<p>The model layer, on the other hand, need know nothing about the GUI. The less it knows, the better, and this would theoretically enable you to exchange GUIs without needing to touch the models.</p>\n\n<p>My model can also contain <code>ActionListener</code>s to respond to actions undertaken by e.g. pushing buttons in the GUI.</p>\n\n<p>Of course, actions and changes to the model will often result in changes to the GUI. How to communicate these changes to the GUI if the model layer doesn't know about the GUI? You can use bound bean properties here. Here's a short tutorial: <a href=\"http://www.javalobby.org/java/forums/t19476.html\" rel=\"nofollow noreferrer\">http://www.javalobby.org/java/forums/t19476.html</a> . So you have the same kind of structure:  Changes happen in your model, they're communicated to beans with property change support within the model, and the GUI can attach listeners to those properties to find out something changed.</p>\n\n<p>Whether you perform actual, effective actions (e.g. writing files, converting data, whatever) within your model code or whether you split \"processing\" code off into yet another module is up to you and will again depend on how cluttered your model already is. If there's a tiny handful of fields and methods feeling lonely in there, you may decide to mash things together but the moment it starts to look messy you'll want to refactor your processing code out into its own module. Processing sounds like the kind of module that doesn't want to know about other modules either; you may end up just calling its methods from the model level.</p>\n\n<p>I've described my basic style for doing GUI development. There are certainly other recommendations out there, and you will likely develop your own style based on your experience. This is just intended to give you an idea and a possible starting point.</p>\n"},{"tags":[],"owner":{"account_id":88568,"reputation":400,"user_id":244880,"accept_rate":40,"display_name":"Matt J."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1262798018,"creation_date":1262798018,"answer_id":2014750,"question_id":2013924,"body_markdown":"Every beginning Java programmer should start with the Sun Tutorials. They are quite good.\r\n\r\nAnother good source, especially among free sources, is Bruce Eckel&#39;s &quot;Thinking in Java&quot;, available from http://www.mindview.net/Books/TIJ/.\r\n\r\nBut the latter is a little dated compared to the former. That is why I recommend both.","title":"How do you structure a java program?","body":"<p>Every beginning Java programmer should start with the Sun Tutorials. They are quite good.</p>\n\n<p>Another good source, especially among free sources, is Bruce Eckel's \"Thinking in Java\", available from <a href=\"http://www.mindview.net/Books/TIJ/\" rel=\"nofollow noreferrer\">http://www.mindview.net/Books/TIJ/</a>.</p>\n\n<p>But the latter is a little dated compared to the former. That is why I recommend both.</p>\n"}],"owner":{"account_id":38567,"reputation":131,"user_id":110778,"display_name":"MESLewis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4404,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1635873859,"accepted_answer_id":2014027,"answer_count":7,"score":0,"last_activity_date":1635784154,"creation_date":1262791252,"question_id":2013924,"body_markdown":"For quite awhile I have been trying to make a simple &quot;game&quot; in Java that is really just an applet with a square and a grid. What I want it to do in the end is the user clicks and the square will move to where the user clicked rounded to the nearest grid square. \r\n\r\nThe problem is I am a self taught beginner and I am having a hard time figuring out how to actually structure the program, some examples: \r\n\r\n - should I have a separate class listening for mouse clicks?\r\n - When I receive a click should I send it to some other object that represents the box and let it decide what it wants to do or just call some function that makes the box move?\r\n\r\nI really want to learn all this &quot;when to use what&quot; stuff for myself so any links or general advice is appreciated.","title":"How do you structure a java program?","body":"<p>For quite awhile I have been trying to make a simple \"game\" in Java that is really just an applet with a square and a grid. What I want it to do in the end is the user clicks and the square will move to where the user clicked rounded to the nearest grid square. </p>\n\n<p>The problem is I am a self taught beginner and I am having a hard time figuring out how to actually structure the program, some examples: </p>\n\n<ul>\n<li>should I have a separate class listening for mouse clicks?</li>\n<li>When I receive a click should I send it to some other object that represents the box and let it decide what it wants to do or just call some function that makes the box move?</li>\n</ul>\n\n<p>I really want to learn all this \"when to use what\" stuff for myself so any links or general advice is appreciated.</p>\n"},{"tags":["java","matlab","math","interpolation","percentile"],"comments":[{"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"score":0,"creation_date":1632175102,"post_id":69260587,"comment_id":122417753,"body_markdown":"ok, you want exactly the same value that `prctile` returns, I have updated my answer","body":"ok, you want exactly the same value that <code>prctile</code> returns, I have updated my answer"}],"answers":[{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632175363,"creation_date":1632171920,"answer_id":69260805,"question_id":69260587,"body_markdown":"By directly applying the definition (you can found in the page you&#39;ve linked)\r\n\r\n    // `xs` must be sorted\r\n    double percentile(double [] xs, int p) {\r\n        // The sorted elements in X are taken as the 100(0.5/n)th, 100(1.5/n)th, ..., 100([n ‚Äì 0.5]/n)th percentiles.\r\n        int i = (int) (p * xs.length / 100.0 - 0.5);\r\n\r\n        // Linear interpolation uses linear polynomials to find yi = f(xi), the values of the underlying function\r\n        // Y = f(X) at the points in the vector or array x. Given the data points (x1, y1) and (x2, y2), where\r\n        // y1 = f(x1) and y2 = f(x2), linear interpolation finds y = f(x) for a given x between x1 and x2 as follows:\r\n        return xs[i] + (xs[i + 1] - xs[i]) * (p / 100.0 - (i + 0.5) / xs.length) / ((i + 1.5) / xs.length - (i + 0.5) / xs.length);\r\n    }\r\n\r\nusing the example on that page\r\n\r\n    double [] xs1 = new double[] {6.0753, 8.6678, 0.4823, 6.7243, 5.6375, 2.3846, 4.1328, 5.6852, 12.1568, 10.5389};\r\n    Arrays.sort(xs1);\r\n    double r = percentile(xs1, 42);\r\n    System.out.println(&quot;Result: &quot; + r);\r\n    System.out.println(&quot;Error: &quot; + Math.abs(r - 5.6709));\r\n\r\nyou get\r\n\r\n    Result: 5.67089\r\n    Error: 9.999999999621423E-6\r\n","title":"How do I easily implement the Matlab percentile in Java?","body":"<p>By directly applying the definition (you can found in the page you've linked)</p>\n<pre><code>// `xs` must be sorted\ndouble percentile(double [] xs, int p) {\n    // The sorted elements in X are taken as the 100(0.5/n)th, 100(1.5/n)th, ..., 100([n ‚Äì 0.5]/n)th percentiles.\n    int i = (int) (p * xs.length / 100.0 - 0.5);\n\n    // Linear interpolation uses linear polynomials to find yi = f(xi), the values of the underlying function\n    // Y = f(X) at the points in the vector or array x. Given the data points (x1, y1) and (x2, y2), where\n    // y1 = f(x1) and y2 = f(x2), linear interpolation finds y = f(x) for a given x between x1 and x2 as follows:\n    return xs[i] + (xs[i + 1] - xs[i]) * (p / 100.0 - (i + 0.5) / xs.length) / ((i + 1.5) / xs.length - (i + 0.5) / xs.length);\n}\n</code></pre>\n<p>using the example on that page</p>\n<pre><code>double [] xs1 = new double[] {6.0753, 8.6678, 0.4823, 6.7243, 5.6375, 2.3846, 4.1328, 5.6852, 12.1568, 10.5389};\nArrays.sort(xs1);\ndouble r = percentile(xs1, 42);\nSystem.out.println(&quot;Result: &quot; + r);\nSystem.out.println(&quot;Error: &quot; + Math.abs(r - 5.6709));\n</code></pre>\n<p>you get</p>\n<pre><code>Result: 5.67089\nError: 9.999999999621423E-6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23207694,"reputation":1,"user_id":17301654,"display_name":"porygon3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635784148,"creation_date":1635784148,"answer_id":69799833,"question_id":69260587,"body_markdown":"The @josejuan&#39;s answer is very good: but is it not necessary to handle the case in which `i` is equal to `xs.length - 1`? I would modify the `return` formula of `percentile` function as follows:\r\n```\r\nreturn i != (xs.length - 1) ? xs[i] + (xs[i + 1] - xs[i]) * (p / 100.0 - (i + 0.5) / xs.length) / ((i + 1.5) / xs.length - (i + 0.5) / xs.length) : xs[i];\r\n\r\n```\r\n","title":"How do I easily implement the Matlab percentile in Java?","body":"<p>The @josejuan's answer is very good: but is it not necessary to handle the case in which <code>i</code> is equal to <code>xs.length - 1</code>? I would modify the <code>return</code> formula of <code>percentile</code> function as follows:</p>\n<pre><code>return i != (xs.length - 1) ? xs[i] + (xs[i + 1] - xs[i]) * (p / 100.0 - (i + 0.5) / xs.length) / ((i + 1.5) / xs.length - (i + 0.5) / xs.length) : xs[i];\n\n</code></pre>\n"}],"owner":{"account_id":1058606,"reputation":71,"user_id":1060733,"display_name":"Suraj Kulkarni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635784148,"creation_date":1632170547,"question_id":69260587,"body_markdown":"I need to replicate the Matlab Percentile ( https://www.mathworks.com/help/stats/prctile.html ) for a simple case \r\n`percentile(double[] arr, int percentile)` in java. I am unable to find any implementations which give me the same result since it seems to have a percentile along with linear interpolation.\r\n\r\nAny help or guidance is appreciated! ","title":"How do I easily implement the Matlab percentile in Java?","body":"<p>I need to replicate the Matlab Percentile ( <a href=\"https://www.mathworks.com/help/stats/prctile.html\" rel=\"nofollow noreferrer\">https://www.mathworks.com/help/stats/prctile.html</a> ) for a simple case\n<code>percentile(double[] arr, int percentile)</code> in java. I am unable to find any implementations which give me the same result since it seems to have a percentile along with linear interpolation.</p>\n<p>Any help or guidance is appreciated!</p>\n"},{"tags":["java","operating-system"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1633855955,"post_id":69513668,"comment_id":122867591,"body_markdown":"If the developers of the JDK can&#39;t agree, what answer do you expect from us?  It seems like `System.getProperty(&quot;os.name&quot;)` is the better choice of many choices.","body":"If the developers of the JDK can&#39;t agree, what answer do you expect from us?  It seems like <code>System.getProperty(&quot;os.name&quot;)</code> is the better choice of many choices."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1633856168,"post_id":69513668,"comment_id":122867635,"body_markdown":"`File.separator` could be used as a &#39;sanity check&#39; too","body":"<code>File.separator</code> could be used as a &#39;sanity check&#39; too"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1633856301,"post_id":69513668,"comment_id":122867662,"body_markdown":"@Gilbert Le Blanc I&#39;m hoping someone can disprove one of the boolean suggestions. I can&#39;t put `if(System.getProperty(&quot;os.name&quot;))` as one of the choices.","body":"@Gilbert Le Blanc I&#39;m hoping someone can disprove one of the boolean suggestions. I can&#39;t put <code>if(System.getProperty(&quot;os.name&quot;))</code> as one of the choices."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":1,"creation_date":1633856394,"post_id":69513668,"comment_id":122867680,"body_markdown":"Do you want the jdk also support a ten or hundred different method for respective system os? like isAix, IsMac, Is.... ? Basically, i think os.name is quite enough ... We can use it to do what we want.","body":"Do you want the jdk also support a ten or hundred different method for respective system os? like isAix, IsMac, Is.... ? Basically, i think os.name is quite enough ... We can use it to do what we want."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1633857527,"post_id":69513668,"comment_id":122867891,"body_markdown":"@huy I&#39;m not expecting JDK to provide a method isWindows (nor isAIX etc). I&#39;m hoping all of those work in every situation so that it does not matter which of the seven I use in my own code.","body":"@huy I&#39;m not expecting JDK to provide a method isWindows (nor isAIX etc). I&#39;m hoping all of those work in every situation so that it does not matter which of the seven I use in my own code."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1633858013,"post_id":69513668,"comment_id":122867986,"body_markdown":"I like to simplify the problem, in my project, contains(&quot;Win&quot;) is enough for me,  why waste too much time to cover all situations... i would like to follow KISS or YAGNI principle :)","body":"I like to simplify the problem, in my project, contains(&quot;Win&quot;) is enough for me,  why waste too much time to cover all situations... i would like to follow KISS or YAGNI principle :)"},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1633858538,"post_id":69513668,"comment_id":122868090,"body_markdown":"hey just use `if(System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;))`","body":"hey just use <code>if(System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;))</code>"},{"owner":{"display_name":"user13963867"},"score":2,"creation_date":1633859702,"post_id":69513668,"comment_id":122868336,"body_markdown":"`System.getProperty(&quot;os.name&quot;)` is the way to go. However, note that it might not identify correctly the OS flavor or version: with Java 17, I get &quot;Windows 10&quot; on a Windows 10 desktop, &quot;Linux&quot; on a Linux server. So far, so good. With Java 6, I get &quot;OS/2&quot; on ArcaOS (that&#39;s correct, though you won&#39;t tell the difference between OS/2, eCS and ArcaOS), and on the same Windows 10 desktop I get &quot;Windows 8&quot;.","body":"<code>System.getProperty(&quot;os.name&quot;)</code> is the way to go. However, note that it might not identify correctly the OS flavor or version: with Java 17, I get &quot;Windows 10&quot; on a Windows 10 desktop, &quot;Linux&quot; on a Linux server. So far, so good. With Java 6, I get &quot;OS/2&quot; on ArcaOS (that&#39;s correct, though you won&#39;t tell the difference between OS/2, eCS and ArcaOS), and on the same Windows 10 desktop I get &quot;Windows 8&quot;."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1633860680,"post_id":69513668,"comment_id":122868518,"body_markdown":"@Jean-Claude Arbaut Thanks. About your OS/2: is `File.separatorChar == &#39;\\\\&#39;` true?","body":"@Jean-Claude Arbaut Thanks. About your OS/2: is <code>File.separatorChar == &#39;\\\\&#39;</code> true?"},{"owner":{"display_name":"user13963867"},"score":0,"creation_date":1633862616,"post_id":69513668,"comment_id":122868971,"body_markdown":"@DuncG Yes. And note also that on ArcaOS, the most recent port of Java is currently version 1.6.0_27.","body":"@DuncG Yes. And note also that on ArcaOS, the most recent port of Java is currently version 1.6.0_27."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1633876561,"post_id":69513668,"comment_id":122871917,"body_markdown":"There&#39;s no need for both &#39;startsWith&#39; and &#39;contains&#39; -- contains does the job.  There&#39;s no need for both case-sensitive and case-blind checks.","body":"There&#39;s no need for both &#39;startsWith&#39; and &#39;contains&#39; -- contains does the job.  There&#39;s no need for both case-sensitive and case-blind checks."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1633883450,"post_id":69513668,"comment_id":122873488,"body_markdown":"@user16632363 I&#39;m not suggesting running every condition to determine `isWindows`. Either of the first 2 appear perfectly fine. I just want to understand whether there is a justification that some developers suggest permutations with `toLowerCase()` /  `contains` versus just `startsWith()`.","body":"@user16632363 I&#39;m not suggesting running every condition to determine <code>isWindows</code>. Either of the first 2 appear perfectly fine. I just want to understand whether there is a justification that some developers suggest permutations with <code>toLowerCase()</code> /  <code>contains</code> versus just <code>startsWith()</code>."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1633894830,"post_id":69513668,"comment_id":122876134,"body_markdown":"Oh, I thought you&#39;d copied that example *verbatim* from somewhere.","body":"Oh, I thought you&#39;d copied that example <i>verbatim</i> from somewhere."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635783975,"creation_date":1635783975,"answer_id":69799809,"question_id":69513668,"body_markdown":"After noting the various comments and other posts, I&#39;ve not found a reason not to continue using the `isWindows` check I currently have in my code, which is simply the first test listed:\r\n\r\n    boolean isWindows = System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;);\r\n\r\nThe first six tests in my question appear to detect `isWindows` correctly, but not the last item `File.separatorChar == &#39;\\\\&#39;` (as that is also true on OS/2).\r\n\r\nNote that in Turkish the lower case value of &quot;I&quot; is not equal to &quot;i&quot;. Try:\r\n\r\n    &quot;I&quot;.toLowerCase(Locale.forLanguageTag(&quot;TR&quot;)).equals(&quot;i&quot;) // char:305\r\n    &quot;i&quot;.toUpperCase(Locale.forLanguageTag(&quot;TR&quot;)).equals(&quot;I&quot;) // char:304\r\n\r\nMaybe this explains why some developers use `.toLowerCase(Locale.ENGLISH)` but nothing changes for any of the test results unless `os.name` property is uppercase in Turkish installation.\r\n\r\nThanks for all the suggestions. \r\n","title":"How to determine that Java is running on Windows","body":"<p>After noting the various comments and other posts, I've not found a reason not to continue using the <code>isWindows</code> check I currently have in my code, which is simply the first test listed:</p>\n<pre><code>boolean isWindows = System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;);\n</code></pre>\n<p>The first six tests in my question appear to detect <code>isWindows</code> correctly, but not the last item <code>File.separatorChar == '\\\\'</code> (as that is also true on OS/2).</p>\n<p>Note that in Turkish the lower case value of &quot;I&quot; is not equal to &quot;i&quot;. Try:</p>\n<pre><code>&quot;I&quot;.toLowerCase(Locale.forLanguageTag(&quot;TR&quot;)).equals(&quot;i&quot;) // char:305\n&quot;i&quot;.toUpperCase(Locale.forLanguageTag(&quot;TR&quot;)).equals(&quot;I&quot;) // char:304\n</code></pre>\n<p>Maybe this explains why some developers use <code>.toLowerCase(Locale.ENGLISH)</code> but nothing changes for any of the test results unless <code>os.name</code> property is uppercase in Turkish installation.</p>\n<p>Thanks for all the suggestions.</p>\n"}],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1826,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":69799809,"answer_count":1,"score":7,"last_activity_date":1635783975,"creation_date":1633855607,"question_id":69513668,"body_markdown":"I wish to determine whether Java is running on Windows, and have seen many different suggestions which include various permutations of the System property `os.name` with  `startsWith` / `indexOf` / `contains` / `toLowerCase(Locale.ENGLISH)` / `toLowerCase()`, or just `File.separatorChar`. \r\n\r\nI scanned JDK source code to see whether there was a definitive answer (see below) and a few other SO posts which suggest: \r\n\r\n    String os = System.getProperty(&quot;os.name&quot; /**, &quot;&lt;Surely os.name is never null?&gt;&quot; */);\r\n    List&lt;Boolean&gt; isWindows = List.of(\r\n        os.startsWith(&quot;Windows&quot;),\r\n        os.contains(&quot;Windows&quot;),\r\n        os.toLowerCase().startsWith(&quot;windows&quot;),\r\n        os.toLowerCase().contains(&quot;windows&quot;),\r\n        os.toLowerCase(Locale.ENGLISH).contains(&quot;windows&quot;),\r\n        os.toLowerCase(Locale.ENGLISH).startsWith(&quot;windows&quot;),\r\n        File.separatorChar == &#39;\\\\&#39;\r\n    );\r\n    System.out.println(&quot;os.name       =&quot;+os);\r\n    System.out.println(&quot;os.name(UTF-8)=&quot;+Arrays.toString(os.getBytes(StandardCharsets.UTF_8)));\r\n    System.out.println(&quot;isWindows     =&quot;+isWindows);\r\n\r\nIs there any permutation of OS / language installation which incorrectly identifies `isWindows` using the above conditions, where true/false is inconsistent or wrong? \r\n\r\n    // For Windows I would expect all true, such as:\r\n    os.name       =Windows 10\r\n    os.name(UTF-8)=[87, 105, 110, 100, 111, 119, 115, 32, 49, 48]\r\n\tisWindows     =[true, true, true, true, true, true, true]\r\n\t\r\n    // For non-Windows I would expect all false such as:\r\n    os.name       =Linux\r\n    os.name(UTF-8)=[76, 105, 110, 117, 120]\r\n    isWindows     =[false, false, false, false, false, false, false]\r\n\r\n**JDK source code examples**\r\n\r\nFor reference, this is where `isWindows` is detected in Open JDK17 source code (from a recent `git fetch` NOT final release candidate):\r\n\r\n \r\n \r\n \r\n src/java.desktop/share/classes/com/sun/imageio/plugins/bmp/BMPImageReader.java\r\n\r\n\t\tSystem.getProperty(&quot;os.name&quot;).toLowerCase().startsWith(&quot;win&quot;));\r\n\t\t\t\r\n\tsrc/java.smartcardio/share/classes/sun/security/smartcardio/CardImpl.java\r\n\tsrc/jdk.zipfs/share/classes/jdk/nio/zipfs/ZipFileSystem.java\t\r\n\tsrc/jdk.compiler/share/classes/com/sun/tools/javac/jvm/JNIWriter.java\r\n\r\n\t\tisWindows = System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;))\r\n\r\n\tsrc/java.desktop/share/classes/sun/font/FontUtilities.java\r\n\r\n\t\tisWindows = System.getProperty(&quot;os.name&quot;, &quot;unknownOS&quot;).startsWith(&quot;Windows&quot;);\r\n\t\t\t\r\n\tsrc/java.base/share/classes/java/util/zip/ZipFile.java\r\n\tsrc/java.desktop/share/classes/sun/awt/OSInfo.java\r\n\r\n\t\tVM.getSavedProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;)\r\n\t\tSystem.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;)\r\n\t\t\r\n\tsrc/java.desktop/share/classes/javax/swing/plaf/nimbus/NimbusLookAndFeel.java\r\n\r\n\t\tboolean isWindows = osName != null &amp;&amp; osName.contains(&quot;Windows&quot;);\r\n\t\t\t\r\n\tsrc/java.desktop/share/classes/javax/swing/plaf/basic/BasicFileChooserUI.java\r\n\r\n\t\tboolean isWin32 = (File.separatorChar == &#39;\\\\&#39;)\r\n\t\t\r\n\tsrc/jdk.jpackage/share/classes/jdk/jpackage/internal/Platform.java\r\n\tNote that I&#39;ve omitted this test in case of confusion with Darwin OS:\r\n\t\r\n\t\tString os = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n\t\tif (os.indexOf(&quot;win&quot;) &gt;= 0) {\r\n\t\t\tplatform = Platform.WINDOWS;\r\n\t\t}","title":"How to determine that Java is running on Windows","body":"<p>I wish to determine whether Java is running on Windows, and have seen many different suggestions which include various permutations of the System property <code>os.name</code> with  <code>startsWith</code> / <code>indexOf</code> / <code>contains</code> / <code>toLowerCase(Locale.ENGLISH)</code> / <code>toLowerCase()</code>, or just <code>File.separatorChar</code>.</p>\n<p>I scanned JDK source code to see whether there was a definitive answer (see below) and a few other SO posts which suggest:</p>\n<pre><code>String os = System.getProperty(&quot;os.name&quot; /**, &quot;&lt;Surely os.name is never null?&gt;&quot; */);\nList&lt;Boolean&gt; isWindows = List.of(\n    os.startsWith(&quot;Windows&quot;),\n    os.contains(&quot;Windows&quot;),\n    os.toLowerCase().startsWith(&quot;windows&quot;),\n    os.toLowerCase().contains(&quot;windows&quot;),\n    os.toLowerCase(Locale.ENGLISH).contains(&quot;windows&quot;),\n    os.toLowerCase(Locale.ENGLISH).startsWith(&quot;windows&quot;),\n    File.separatorChar == '\\\\'\n);\nSystem.out.println(&quot;os.name       =&quot;+os);\nSystem.out.println(&quot;os.name(UTF-8)=&quot;+Arrays.toString(os.getBytes(StandardCharsets.UTF_8)));\nSystem.out.println(&quot;isWindows     =&quot;+isWindows);\n</code></pre>\n<p>Is there any permutation of OS / language installation which incorrectly identifies <code>isWindows</code> using the above conditions, where true/false is inconsistent or wrong?</p>\n<pre><code>// For Windows I would expect all true, such as:\nos.name       =Windows 10\nos.name(UTF-8)=[87, 105, 110, 100, 111, 119, 115, 32, 49, 48]\nisWindows     =[true, true, true, true, true, true, true]\n\n// For non-Windows I would expect all false such as:\nos.name       =Linux\nos.name(UTF-8)=[76, 105, 110, 117, 120]\nisWindows     =[false, false, false, false, false, false, false]\n</code></pre>\n<p><strong>JDK source code examples</strong></p>\n<p>For reference, this is where <code>isWindows</code> is detected in Open JDK17 source code (from a recent <code>git fetch</code> NOT final release candidate):</p>\n<p>src/java.desktop/share/classes/com/sun/imageio/plugins/bmp/BMPImageReader.java</p>\n<pre><code>    System.getProperty(&quot;os.name&quot;).toLowerCase().startsWith(&quot;win&quot;));\n        \nsrc/java.smartcardio/share/classes/sun/security/smartcardio/CardImpl.java\nsrc/jdk.zipfs/share/classes/jdk/nio/zipfs/ZipFileSystem.java    \nsrc/jdk.compiler/share/classes/com/sun/tools/javac/jvm/JNIWriter.java\n\n    isWindows = System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;))\n\nsrc/java.desktop/share/classes/sun/font/FontUtilities.java\n\n    isWindows = System.getProperty(&quot;os.name&quot;, &quot;unknownOS&quot;).startsWith(&quot;Windows&quot;);\n        \nsrc/java.base/share/classes/java/util/zip/ZipFile.java\nsrc/java.desktop/share/classes/sun/awt/OSInfo.java\n\n    VM.getSavedProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;)\n    System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;)\n    \nsrc/java.desktop/share/classes/javax/swing/plaf/nimbus/NimbusLookAndFeel.java\n\n    boolean isWindows = osName != null &amp;&amp; osName.contains(&quot;Windows&quot;);\n        \nsrc/java.desktop/share/classes/javax/swing/plaf/basic/BasicFileChooserUI.java\n\n    boolean isWin32 = (File.separatorChar == '\\\\')\n    \nsrc/jdk.jpackage/share/classes/jdk/jpackage/internal/Platform.java\nNote that I've omitted this test in case of confusion with Darwin OS:\n\n    String os = System.getProperty(&quot;os.name&quot;).toLowerCase();\n    if (os.indexOf(&quot;win&quot;) &gt;= 0) {\n        platform = Platform.WINDOWS;\n    }\n</code></pre>\n"},{"tags":["java","unit-testing","exception","assertj"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1635783989,"post_id":69799659,"comment_id":123379947,"body_markdown":"BTW, you shouldn&#39;t create an incremental variable between tests. Tests should be isolated from one another","body":"BTW, you shouldn&#39;t create an incremental variable between tests. Tests should be isolated from one another"},{"owner":{"account_id":23013021,"reputation":137,"user_id":17135278,"display_name":"Constantine Lee"},"score":0,"creation_date":1635842314,"post_id":69799659,"comment_id":123393770,"body_markdown":"@OneCricketeer , thanks for advice. I am sending HTTP Post request to API that does not belong to me, which requires unique delivery number, so I record the latest available number into a text file. I think the mocking of API is not optimal in this case as the documentation of the API is pretty unclear. Is there any other option for this scenario ?","body":"@OneCricketeer , thanks for advice. I am sending HTTP Post request to API that does not belong to me, which requires unique delivery number, so I record the latest available number into a text file. I think the mocking of API is not optimal in this case as the documentation of the API is pretty unclear. Is there any other option for this scenario ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1635863190,"post_id":69799659,"comment_id":123402276,"body_markdown":"Non integration tests shouldn&#39;t depend on external resources, so, yes, mock the response. Even integration tests should use a Wiremock server rather than the real endpoint","body":"Non integration tests shouldn&#39;t depend on external resources, so, yes, mock the response. Even integration tests should use a Wiremock server rather than the real endpoint"}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635783542,"creation_date":1635783542,"answer_id":69799734,"question_id":69799659,"body_markdown":"Just use `.get()`, your test should not pass if the response is not present, so there is no need to make it conditional.\r\n\r\nI&#39;ve adapted your code as best I could without a MCVE.\r\n\r\n```\r\n    @Test\r\n    public void testPostRequestThenSaveResponse()\r\n            throws HttpStatusCodeException, JsonProcessingException, IllegalArgumentException, IOException {\r\n        // Should success.\r\n        try {\r\n            var = deliveryOrderResponseServiceAssignmentImpl.httpPostDeliveryOrder(url, token, sod, customerSite, customer, item, uom, driver).get()\r\n                   \r\n             // increase DO number for next test.\r\n             deliveryOrderNum++;\r\n             DeliveryOrderResponse savedDOResponse = deliveryOrderResponseRepository\r\n                                .save(deliveryOrderResponse);\r\n             DeliveryOrderResponse fetchedDOResponse = deliveryOrderResponseRepository\r\n                                .findOne(savedDOResponse.getId());  \r\n             assertThat(json.write(fetchedDOResponse))\r\n                                    .isEqualTo(objectMapper.writeValueAsString(deliveryOrderResponse));\r\n                     \r\n        } catch (HttpStatusCodeException e) {\r\n            // need getResponseBodyAsString() to see detail error message.\r\n            System.out.println(&quot;** HttpStatusCodeException: &quot; + e.getResponseBodyAsString());\r\n            throw e;\r\n        }\r\n    }\r\n```\r\n","title":"Use assertThat function of AssertJ in ifPresent() of Java Optional","body":"<p>Just use <code>.get()</code>, your test should not pass if the response is not present, so there is no need to make it conditional.</p>\n<p>I've adapted your code as best I could without a MCVE.</p>\n<pre><code>    @Test\n    public void testPostRequestThenSaveResponse()\n            throws HttpStatusCodeException, JsonProcessingException, IllegalArgumentException, IOException {\n        // Should success.\n        try {\n            var = deliveryOrderResponseServiceAssignmentImpl.httpPostDeliveryOrder(url, token, sod, customerSite, customer, item, uom, driver).get()\n                   \n             // increase DO number for next test.\n             deliveryOrderNum++;\n             DeliveryOrderResponse savedDOResponse = deliveryOrderResponseRepository\n                                .save(deliveryOrderResponse);\n             DeliveryOrderResponse fetchedDOResponse = deliveryOrderResponseRepository\n                                .findOne(savedDOResponse.getId());  \n             assertThat(json.write(fetchedDOResponse))\n                                    .isEqualTo(objectMapper.writeValueAsString(deliveryOrderResponse));\n                     \n        } catch (HttpStatusCodeException e) {\n            // need getResponseBodyAsString() to see detail error message.\n            System.out.println(&quot;** HttpStatusCodeException: &quot; + e.getResponseBodyAsString());\n            throw e;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23013021,"reputation":137,"user_id":17135278,"display_name":"Constantine Lee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69799734,"answer_count":1,"score":0,"last_activity_date":1635783542,"creation_date":1635783148,"question_id":69799659,"body_markdown":"How can I remove try-catch block for the `assertThat` in the `ifPresent()`? The compiler gives me only one option for using `assertThat` in `ifPresent()`, which is to surround it with try-catch block. Throw the exception again is not allowed too. \r\n\r\n```Java\r\n@Test\r\npublic void testPostRequestThenSaveResponse()\r\n\t\tthrows HttpStatusCodeException, JsonProcessingException, IllegalArgumentException, IOException {\r\n\t// Should success.\r\n\ttry {\r\n\t\tServiceAssignmentImpl.httpPostDeliveryOrder(url, token, sod, customerSite, customer, item, uom, driver)\r\n\t\t\t\t.ifPresent((deliveryOrderResponse) -&gt; {\r\n\t\t\t\t\t// increase DO number for next test.\r\n\t\t\t\t\tdeliveryOrderNum++;\r\n\t\t\t\t\tDeliveryOrderResponse savedDOResponse = deliveryOrderResponseRepository\r\n\t\t\t\t\t\t\t.save(deliveryOrderResponse);\r\n\t\t\t\t\tDeliveryOrderResponse fetchedDOResponse = deliveryOrderResponseRepository\r\n\t\t\t\t\t\t\t.findOne(savedDOResponse.getId());\t\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tassertThat(json.write(fetchedDOResponse))\r\n\t\t\t\t\t\t\t\t.isEqualTo(objectMapper.writeValueAsString(deliveryOrderResponse));\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t} catch (HttpStatusCodeException e) {\r\n\t\t// need getResponseBodyAsString() to see detail error message.\r\n\t\tSystem.out.println(&quot;** HttpStatusCodeException: &quot; + e.getResponseBodyAsString());\r\n\t\tthrow e;\r\n\t}\r\n}\r\n```","title":"Use assertThat function of AssertJ in ifPresent() of Java Optional","body":"<p>How can I remove try-catch block for the <code>assertThat</code> in the <code>ifPresent()</code>? The compiler gives me only one option for using <code>assertThat</code> in <code>ifPresent()</code>, which is to surround it with try-catch block. Throw the exception again is not allowed too.</p>\n<pre><code>@Test\npublic void testPostRequestThenSaveResponse()\n        throws HttpStatusCodeException, JsonProcessingException, IllegalArgumentException, IOException {\n    // Should success.\n    try {\n        ServiceAssignmentImpl.httpPostDeliveryOrder(url, token, sod, customerSite, customer, item, uom, driver)\n                .ifPresent((deliveryOrderResponse) -&gt; {\n                    // increase DO number for next test.\n                    deliveryOrderNum++;\n                    DeliveryOrderResponse savedDOResponse = deliveryOrderResponseRepository\n                            .save(deliveryOrderResponse);\n                    DeliveryOrderResponse fetchedDOResponse = deliveryOrderResponseRepository\n                            .findOne(savedDOResponse.getId());                      \n                    try {\n                        assertThat(json.write(fetchedDOResponse))\n                                .isEqualTo(objectMapper.writeValueAsString(deliveryOrderResponse));\n                    } catch (IOException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                });\n    } catch (HttpStatusCodeException e) {\n        // need getResponseBodyAsString() to see detail error message.\n        System.out.println(&quot;** HttpStatusCodeException: &quot; + e.getResponseBodyAsString());\n        throw e;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":8838669,"reputation":776,"user_id":6601800,"display_name":"Linh Vu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635783268,"creation_date":1635783268,"answer_id":69799690,"question_id":69799269,"body_markdown":"In order to add additional attributes in your `JoinTable`, you could manually create your `JoinTable` entity. e.g:\r\n`PersonSearchRequest.java`\r\n```java\r\n@Entity\r\n@Table(name = &quot;person_search_request)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class PersonSearchRequest {\r\n    @EmbeddedId\r\n    private PersonSearchRequestPK id;\r\n    \r\n    // put your additional attribute here, e.g:\r\n    private String attribute1;\r\n    private Long attribute2;\r\n    @ElementCollection\r\n    private List&lt;String&gt; attribute3s; \r\n\r\n    @Embeddable\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public static class PersonSearchRequestPK implements Serializable {\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private Person person;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private SearchRequest searchRequest;\r\n    }\r\n\r\n}\r\n```\r\n`Person.java`\r\n```java\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\r\n@Getter\r\n@Setter\r\n@Entity\r\n@EqualsAndHashCode\r\n@Table(name = &quot;persons&quot;)\r\npublic class Person {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private Long id;\r\n    \r\n    @OneToMany(mappedBy = &quot;id.person&quot;)\r\n    private List&lt;PersonSearchRequest&gt; personSearchRequests;\r\n}\r\n```\r\n`SearchRequest.java`\r\n```java\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\r\n@Getter\r\n@Setter\r\n@Entity\r\n@EqualsAndHashCode\r\n@Table(name = &quot;search_requests&quot;)\r\npublic class SearchRequest {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;id.searchRequest&quot;)\r\n    private List&lt;PersonSearchRequest&gt; personSearchRequests;\r\n}\r\n```","title":"Spring Boot auto generate association table with attibute","body":"<p>In order to add additional attributes in your <code>JoinTable</code>, you could manually create your <code>JoinTable</code> entity. e.g:\n<code>PersonSearchRequest.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;person_search_request)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class PersonSearchRequest {\n    @EmbeddedId\n    private PersonSearchRequestPK id;\n    \n    // put your additional attribute here, e.g:\n    private String attribute1;\n    private Long attribute2;\n    @ElementCollection\n    private List&lt;String&gt; attribute3s; \n\n    @Embeddable\n    @Getter\n    @Setter\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public static class PersonSearchRequestPK implements Serializable {\n        @ManyToOne(fetch = FetchType.LAZY)\n        private Person person;\n\n        @ManyToOne(fetch = FetchType.LAZY)\n        private SearchRequest searchRequest;\n    }\n\n}\n</code></pre>\n<p><code>Person.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\n@Getter\n@Setter\n@Entity\n@EqualsAndHashCode\n@Table(name = &quot;persons&quot;)\npublic class Person {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private Long id;\n    \n    @OneToMany(mappedBy = &quot;id.person&quot;)\n    private List&lt;PersonSearchRequest&gt; personSearchRequests;\n}\n</code></pre>\n<p><code>SearchRequest.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\n@Getter\n@Setter\n@Entity\n@EqualsAndHashCode\n@Table(name = &quot;search_requests&quot;)\npublic class SearchRequest {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;id.searchRequest&quot;)\n    private List&lt;PersonSearchRequest&gt; personSearchRequests;\n}\n</code></pre>\n"}],"owner":{"account_id":7878270,"reputation":152,"user_id":5953318,"display_name":"giklo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1039,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69799690,"answer_count":1,"score":0,"last_activity_date":1635783268,"creation_date":1635781338,"question_id":69799269,"body_markdown":"I&#39;m auto generating entities within the database which works great using:\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nNow I need an additional attribute within the association table and I can&#39;t figure it out without creating an association entity by hand. The current classes listed below generate an association table without the additional attribute.\r\n\r\nThe tables I need:\r\n\r\n```\r\n    persons:\r\n    id\r\n    \r\n    search_requests:\r\n    id\r\n    \r\n    search_requests_persons:\r\n    person_id\r\n    search_request_id\r\n    study_id  \r\n```\r\n\r\nThe classes I currently have (simplified):\r\n```\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\r\n@Getter\r\n@Setter\r\n@Entity\r\n@EqualsAndHashCode\r\n@Table(name = &quot;persons&quot;)\r\npublic class Person {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private Long id;\r\n    \r\n    // The following line is what I would need\r\n    // private List&lt;Integer&gt; studyIds;\r\n}\r\n```\r\n\r\n```\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\r\n@Getter\r\n@Setter\r\n@Entity\r\n@EqualsAndHashCode\r\n@Table(name = &quot;search_requests&quot;)\r\npublic class SearchRequest {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private Long id;\r\n\r\n    @NonNull\r\n    @ManyToMany\r\n    private List&lt;Person&gt; persons;\r\n}\r\n```\r\n\r\nI&#39;m using Lombok and Javax Persistence for the annotations.","title":"Spring Boot auto generate association table with attibute","body":"<p>I'm auto generating entities within the database which works great using:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>Now I need an additional attribute within the association table and I can't figure it out without creating an association entity by hand. The current classes listed below generate an association table without the additional attribute.</p>\n<p>The tables I need:</p>\n<pre><code>    persons:\n    id\n    \n    search_requests:\n    id\n    \n    search_requests_persons:\n    person_id\n    search_request_id\n    study_id  \n</code></pre>\n<p>The classes I currently have (simplified):</p>\n<pre><code>@NoArgsConstructor\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\n@Getter\n@Setter\n@Entity\n@EqualsAndHashCode\n@Table(name = &quot;persons&quot;)\npublic class Person {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private Long id;\n    \n    // The following line is what I would need\n    // private List&lt;Integer&gt; studyIds;\n}\n</code></pre>\n<pre><code>@NoArgsConstructor\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\n@Getter\n@Setter\n@Entity\n@EqualsAndHashCode\n@Table(name = &quot;search_requests&quot;)\npublic class SearchRequest {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private Long id;\n\n    @NonNull\n    @ManyToMany\n    private List&lt;Person&gt; persons;\n}\n</code></pre>\n<p>I'm using Lombok and Javax Persistence for the annotations.</p>\n"},{"tags":["java","spring","axon"],"comments":[{"owner":{"account_id":2491374,"reputation":2992,"user_id":2168752,"display_name":"Milen Dyankov"},"score":0,"creation_date":1634808004,"post_id":69653414,"comment_id":123127223,"body_markdown":"Can you please clarify what do you mean by &quot;they remain alive for a very long period of time (years)&quot;? I assume you mean they are not marked as deleted but asking just to be sure.","body":"Can you please clarify what do you mean by &quot;they remain alive for a very long period of time (years)&quot;? I assume you mean they are not marked as deleted but asking just to be sure."},{"owner":{"account_id":13150141,"reputation":137,"user_id":9499019,"display_name":"Nader Kahwaji"},"score":0,"creation_date":1634809868,"post_id":69653414,"comment_id":123128078,"body_markdown":"@MilenDyankov yes, I added that bit of info to say that the aggregate will have a big amount of events. Thats why we are doing snapshots","body":"@MilenDyankov yes, I added that bit of info to say that the aggregate will have a big amount of events. Thats why we are doing snapshots"},{"owner":{"account_id":13150141,"reputation":137,"user_id":9499019,"display_name":"Nader Kahwaji"},"score":0,"creation_date":1634892930,"post_id":69653414,"comment_id":123154017,"body_markdown":"@MilenDyankov how can I increase the timeout or the number of attempts? would it help also if I reduce the snapshot threshold?","body":"@MilenDyankov how can I increase the timeout or the number of attempts? would it help also if I reduce the snapshot threshold?"}],"answers":[{"tags":[],"owner":{"account_id":5601961,"reputation":1870,"user_id":4437909,"display_name":"Lucas Campos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635783127,"creation_date":1634805437,"answer_id":69658591,"question_id":69653414,"body_markdown":"In fact, this exception is thrown when the Aggregate is locked (because of some expensive operation perhaps?) and another thread is trying to lock it as well.\r\n\r\nBasically your Aggregate is your boundary meaning no concurrent operations will ever happen on it. For it to work, it has to be locked as soon as some thread starts working on it. The next threads will go on a queue and will try to acquire a lock from time to time and give up after some time (this is the exception you are getting).\r\n\r\nFor the logic, you can check the [lock](https://github.com/AxonFramework/AxonFramework/blob/master/messaging/src/main/java/org/axonframework/common/lock/PessimisticLockFactory.java#L260) method.\r\nFor the default values, you can have a look at the [Builder](https://github.com/AxonFramework/AxonFramework/blob/master/messaging/src/main/java/org/axonframework/common/lock/PessimisticLockFactory.java#L158-L160) default values.\r\n\r\nTo the question why it is happening, from your description, seems like your `@EventSourcingHandler`s are doing &quot;too much&quot;. That is already a code smell for me as `@EventSourcingHandler`s should never apply new Events! They react to Events from the past and they should not &#39;write new history&#39;.\r\n\r\nOn the other hand, perhaps your `@CommandHandler`s should be checking business logic and applying new Events, what is the normal use case for it.\r\n\r\n---\r\n\r\nEdit1:\r\n\r\nThere is no docmentation around it but I can try to give you some idea of how to do that. First of all, recently a new [PR](https://github.com/AxonFramework/AxonFramework/pull/1992) was merged which makes things easier and I am going to use that to explain it.\r\n\r\nIn this case, you need to provide a `@Bean` of type `LockFactory` with your desired values. After that, you can set this on the `@Aggregate` as your `lockFactory`, something like this:\r\n\r\n```java\r\n@Bean\r\npublic LockFactory myLockFactory() {\r\n    // your lock factory code and configs here\r\n}\r\n```\r\n\r\n```java\r\n@Aggregate(lockFactory = &quot;myLockFactory&quot;)\r\nclass MyAggregate {\r\n    // your Aggregate\r\n}\r\n```\r\n\r\nKR,","title":"Axon throwing LockAcquisitionFailedException","body":"<p>In fact, this exception is thrown when the Aggregate is locked (because of some expensive operation perhaps?) and another thread is trying to lock it as well.</p>\n<p>Basically your Aggregate is your boundary meaning no concurrent operations will ever happen on it. For it to work, it has to be locked as soon as some thread starts working on it. The next threads will go on a queue and will try to acquire a lock from time to time and give up after some time (this is the exception you are getting).</p>\n<p>For the logic, you can check the <a href=\"https://github.com/AxonFramework/AxonFramework/blob/master/messaging/src/main/java/org/axonframework/common/lock/PessimisticLockFactory.java#L260\" rel=\"nofollow noreferrer\">lock</a> method.\nFor the default values, you can have a look at the <a href=\"https://github.com/AxonFramework/AxonFramework/blob/master/messaging/src/main/java/org/axonframework/common/lock/PessimisticLockFactory.java#L158-L160\" rel=\"nofollow noreferrer\">Builder</a> default values.</p>\n<p>To the question why it is happening, from your description, seems like your <code>@EventSourcingHandler</code>s are doing &quot;too much&quot;. That is already a code smell for me as <code>@EventSourcingHandler</code>s should never apply new Events! They react to Events from the past and they should not 'write new history'.</p>\n<p>On the other hand, perhaps your <code>@CommandHandler</code>s should be checking business logic and applying new Events, what is the normal use case for it.</p>\n<hr />\n<p>Edit1:</p>\n<p>There is no docmentation around it but I can try to give you some idea of how to do that. First of all, recently a new <a href=\"https://github.com/AxonFramework/AxonFramework/pull/1992\" rel=\"nofollow noreferrer\">PR</a> was merged which makes things easier and I am going to use that to explain it.</p>\n<p>In this case, you need to provide a <code>@Bean</code> of type <code>LockFactory</code> with your desired values. After that, you can set this on the <code>@Aggregate</code> as your <code>lockFactory</code>, something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic LockFactory myLockFactory() {\n    // your lock factory code and configs here\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Aggregate(lockFactory = &quot;myLockFactory&quot;)\nclass MyAggregate {\n    // your Aggregate\n}\n</code></pre>\n<p>KR,</p>\n"},{"tags":[],"owner":{"account_id":2491374,"reputation":2992,"user_id":2168752,"display_name":"Milen Dyankov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634900236,"creation_date":1634900236,"answer_id":69675664,"question_id":69653414,"body_markdown":"&gt; Why is 100 only in my case? (NO extra config was added from my side)\r\n\r\nIt seems there was a bug in `4.3.x` and earlier versions. The message shows the `maximumQueued` and not the `acquireAttempts`. [This commit](https://github.com/AxonFramework/AxonFramework/commit/8e9572eee353ec6ef60d6ae572d238d6f5218d85) fixes it, so if you upgrade to a recent version of Axon Framework you should see the correct value.","title":"Axon throwing LockAcquisitionFailedException","body":"<blockquote>\n<p>Why is 100 only in my case? (NO extra config was added from my side)</p>\n</blockquote>\n<p>It seems there was a bug in <code>4.3.x</code> and earlier versions. The message shows the <code>maximumQueued</code> and not the <code>acquireAttempts</code>. <a href=\"https://github.com/AxonFramework/AxonFramework/commit/8e9572eee353ec6ef60d6ae572d238d6f5218d85\" rel=\"nofollow noreferrer\">This commit</a> fixes it, so if you upgrade to a recent version of Axon Framework you should see the correct value.</p>\n"}],"owner":{"account_id":13150141,"reputation":137,"user_id":9499019,"display_name":"Nader Kahwaji"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635783127,"creation_date":1634766439,"question_id":69653414,"body_markdown":"I‚Äôm using axon framework with spring boot version\r\n\r\n```\r\ncompile(&quot;org.axonframework:axon-spring-boot-starter:4.3.3&quot;) {\r\n    exclude group: &#39;org.axonframework&#39;, module: &#39;axon-server-connector&#39;\r\n}\r\n```\r\n\r\nRecently I‚Äôve started noticing certain business workflows halting suddenly and when I checked the logs I found this exception\r\n\r\n```\r\nCommand &#39;com.example.MyCommand&#39; resulted in org.axonframework.common.lock.LockAcquisitionFailedException(Failed to acquire lock for aggregate identifier(AGG_ID), maximum attempts exceeded (100))\r\n```\r\n\r\nThis started occurring suddenly and its getting more frequent with time.\r\n\r\nThe aggregate is configured to use snapshotting\r\n\r\n```\r\n@Bean public SnapshotTriggerDefinition MyAggregateSnapshotTriggerDefinition(Snapshotter snapshotter) { \r\n   return new EventCountSnapshotTriggerDefinition(snapshotter, 200); \r\n}\r\n```\r\n\r\nThis aggregate only has a few running instances and they remain alive for a very long period of time (years)\r\n\r\nI read that this exception is thrown if a process seems to hold a lock on the aggregate for far too long, meanwhile a command requested the lock and timeouted waiting for it.\r\n\r\nThe aggregate does not hold a big amount of data\r\n\r\n```\r\n@Aggregate(snapshotTriggerDefinition = &quot;MyAggregateSnapshotTriggerDefinition&quot;)\r\npublic class MyAggregate {\r\n   @AggregateIdentifier\r\n   private String aggId;\r\n   private boolean paused;\r\n   private int pausingChangelist;\r\n   private RequestCause pauseCause; //enum\r\n   private Seat seat;\r\n   private Queue&lt;Reservation&gt; reservationQueue;\r\n   private boolean canPauseBuildPool;\r\n\r\n  ...\r\n\r\n}\r\n```\r\n\r\nNONE of commands dispatched to this aggregate are sent in ‚ÄúsendAndWait‚Äù mode.\r\n\r\nAll commands have a small payload and there is no heavy computation being done in the command Handler methods. Its litreally checking some boolean flags and raising events.\r\n\r\nThe event sourcing handlers on the other hand do some logic.\r\nThey manipulate the reservation queue by polling and inserting reservations.\r\n\r\n```\r\n@EventSourcingHandler\r\npublic void on(CertainEvent event) {\r\n    // poll from queue if not empty\r\n    // raise SeatReservedEvent\r\n}\r\n\r\n@EventSourcingHandler\r\npublic void on(SeatReservedEvent event) {\r\n    // reserve seat\r\n}\r\n\r\n@EventSourcingHandler\r\npublic void on(SeatFreedEvent event) {\r\n    //  free the seat \r\n    // poll from queue\r\n    // if queue not empty -&gt; raise SeatReservedEvent  \r\n}\r\n\r\n@EventSourcingHandler\r\npublic void on(SeatReservationQueuedEvent event) {\r\n    // add to queue\r\n}\r\n\r\n```\r\n\r\nThe weird thing as well, I checked other posts where this same exception is thrown and they seems all to have the exact same error message but mine is the only that has a different number of attempts (100)\r\n\r\n```\r\nLockAcquisitionFailedException: \r\nFailed to acquire lock for aggregate identifier(AGG_ID), \r\nmaximum attempts exceeded (2147483647)\r\n```\r\n\r\nI read the code of the PessimisticLockFactory and was able to understand that this number (2147483647) represent the number of times a process tried to acquire the lock on an aggregate.\r\n\r\nWhy is **100** only in my case? (NO extra config was added from my side)\r\n\r\n\r\nHow can I solve this issue? how can I monitor the locks on the aggregate? how to know what process aquired the token and wouldn‚Äôt release it?","title":"Axon throwing LockAcquisitionFailedException","body":"<p>I‚Äôm using axon framework with spring boot version</p>\n<pre><code>compile(&quot;org.axonframework:axon-spring-boot-starter:4.3.3&quot;) {\n    exclude group: 'org.axonframework', module: 'axon-server-connector'\n}\n</code></pre>\n<p>Recently I‚Äôve started noticing certain business workflows halting suddenly and when I checked the logs I found this exception</p>\n<pre><code>Command 'com.example.MyCommand' resulted in org.axonframework.common.lock.LockAcquisitionFailedException(Failed to acquire lock for aggregate identifier(AGG_ID), maximum attempts exceeded (100))\n</code></pre>\n<p>This started occurring suddenly and its getting more frequent with time.</p>\n<p>The aggregate is configured to use snapshotting</p>\n<pre><code>@Bean public SnapshotTriggerDefinition MyAggregateSnapshotTriggerDefinition(Snapshotter snapshotter) { \n   return new EventCountSnapshotTriggerDefinition(snapshotter, 200); \n}\n</code></pre>\n<p>This aggregate only has a few running instances and they remain alive for a very long period of time (years)</p>\n<p>I read that this exception is thrown if a process seems to hold a lock on the aggregate for far too long, meanwhile a command requested the lock and timeouted waiting for it.</p>\n<p>The aggregate does not hold a big amount of data</p>\n<pre><code>@Aggregate(snapshotTriggerDefinition = &quot;MyAggregateSnapshotTriggerDefinition&quot;)\npublic class MyAggregate {\n   @AggregateIdentifier\n   private String aggId;\n   private boolean paused;\n   private int pausingChangelist;\n   private RequestCause pauseCause; //enum\n   private Seat seat;\n   private Queue&lt;Reservation&gt; reservationQueue;\n   private boolean canPauseBuildPool;\n\n  ...\n\n}\n</code></pre>\n<p>NONE of commands dispatched to this aggregate are sent in ‚ÄúsendAndWait‚Äù mode.</p>\n<p>All commands have a small payload and there is no heavy computation being done in the command Handler methods. Its litreally checking some boolean flags and raising events.</p>\n<p>The event sourcing handlers on the other hand do some logic.\nThey manipulate the reservation queue by polling and inserting reservations.</p>\n<pre><code>@EventSourcingHandler\npublic void on(CertainEvent event) {\n    // poll from queue if not empty\n    // raise SeatReservedEvent\n}\n\n@EventSourcingHandler\npublic void on(SeatReservedEvent event) {\n    // reserve seat\n}\n\n@EventSourcingHandler\npublic void on(SeatFreedEvent event) {\n    //  free the seat \n    // poll from queue\n    // if queue not empty -&gt; raise SeatReservedEvent  \n}\n\n@EventSourcingHandler\npublic void on(SeatReservationQueuedEvent event) {\n    // add to queue\n}\n\n</code></pre>\n<p>The weird thing as well, I checked other posts where this same exception is thrown and they seems all to have the exact same error message but mine is the only that has a different number of attempts (100)</p>\n<pre><code>LockAcquisitionFailedException: \nFailed to acquire lock for aggregate identifier(AGG_ID), \nmaximum attempts exceeded (2147483647)\n</code></pre>\n<p>I read the code of the PessimisticLockFactory and was able to understand that this number (2147483647) represent the number of times a process tried to acquire the lock on an aggregate.</p>\n<p>Why is <strong>100</strong> only in my case? (NO extra config was added from my side)</p>\n<p>How can I solve this issue? how can I monitor the locks on the aggregate? how to know what process aquired the token and wouldn‚Äôt release it?</p>\n"},{"tags":["java","android","android-activity","android-4.0-ice-cream-sandwich"],"comments":[{"owner":{"account_id":1195002,"reputation":5745,"user_id":1166926,"accept_rate":29,"display_name":"Hardik Trivedi"},"score":0,"creation_date":1349873195,"post_id":12819617,"comment_id":17339621,"body_markdown":"Well in this case you must be having some stacktrace in LogCat. Please check and dump some error log.","body":"Well in this case you must be having some stacktrace in LogCat. Please check and dump some error log."},{"owner":{"account_id":1923968,"reputation":759,"user_id":1734846,"display_name":"sk2andy"},"score":0,"creation_date":1349873539,"post_id":12819617,"comment_id":17339815,"body_markdown":"okay attached it to the post. Thank you for this quick response!","body":"okay attached it to the post. Thank you for this quick response!"},{"owner":{"account_id":1195002,"reputation":5745,"user_id":1166926,"accept_rate":29,"display_name":"Hardik Trivedi"},"score":1,"creation_date":1349873671,"post_id":12819617,"comment_id":17339877,"body_markdown":"There will be more. Here I can not see any relevant information","body":"There will be more. Here I can not see any relevant information"}],"answers":[{"tags":[],"owner":{"account_id":1923500,"reputation":206,"user_id":1734465,"display_name":"Akash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635782871,"creation_date":1349873397,"answer_id":12819759,"question_id":12819617,"body_markdown":"If you pass a large amount of information from one `Activity` to another, then it may make the app slower.\r\n\r\nAlternatively, use a global class to store variables, which you can use to easily get or set any values.  This can be declared in a global file.\r\n\r\nSee this link:  http://androidresearch.wordpress.com/2012/03/22/defining-global-variables-in-android/\r\n\r\n","title":"Issue: Passing large data to second Activity","body":"<p>If you pass a large amount of information from one <code>Activity</code> to another, then it may make the app slower.</p>\n<p>Alternatively, use a global class to store variables, which you can use to easily get or set any values.  This can be declared in a global file.</p>\n<p>See this link:  <a href=\"http://androidresearch.wordpress.com/2012/03/22/defining-global-variables-in-android/\" rel=\"nofollow noreferrer\">http://androidresearch.wordpress.com/2012/03/22/defining-global-variables-in-android/</a></p>\n"},{"tags":[],"owner":{"account_id":937963,"reputation":67649,"user_id":966550,"accept_rate":67,"display_name":"waqaslam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349873429,"creation_date":1349873429,"answer_id":12819775,"question_id":12819617,"body_markdown":"As far as i remembered, up till API-8 (Froyo), there were some limitations (like 1MB) when passing parcelable objects through intents. However, you may simply write down your parcelable data into a file and send the file path to your next activity through bundle. Later, code your second activity to read the data from file and delete it afterwards.","title":"Issue: Passing large data to second Activity","body":"<p>As far as i remembered, up till API-8 (Froyo), there were some limitations (like 1MB) when passing parcelable objects through intents. However, you may simply write down your parcelable data into a file and send the file path to your next activity through bundle. Later, code your second activity to read the data from file and delete it afterwards.</p>\n"},{"tags":[],"owner":{"account_id":295496,"reputation":2017,"user_id":599944,"accept_rate":80,"display_name":"Leandroid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349873612,"creation_date":1349873612,"answer_id":12819829,"question_id":12819617,"body_markdown":"I have no idea why it doesn&#39;t work with large data, but if you don&#39;t find any way to fix it, I suggest you to use a custom global application, [like here][1]. (Also check the correct answer to make it works)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10607392/custom-global-application-class-breaks-with-android-app-application-cannot-be-c","title":"Issue: Passing large data to second Activity","body":"<p>I have no idea why it doesn't work with large data, but if you don't find any way to fix it, I suggest you to use a custom global application, <a href=\"https://stackoverflow.com/questions/10607392/custom-global-application-class-breaks-with-android-app-application-cannot-be-c\">like here</a>. (Also check the correct answer to make it works)</p>\n"},{"tags":[],"owner":{"account_id":1904893,"reputation":1134,"user_id":1719958,"display_name":"Igor B."},"down_vote_count":1,"up_vote_count":60,"is_accepted":true,"score":59,"last_activity_date":1349988183,"creation_date":1349988183,"answer_id":12848199,"question_id":12819617,"body_markdown":"You are probably getting [TransactionTooLargeException][1]\r\n\r\nAs suggested by google [android guide][2], you could use static fields or singletons to share data between activities.\r\n\r\nThey recommend it &quot;For sharing complex non-persistent user-defined objects for short duration&quot;\r\n\r\nFrom your code it seems that&#39;s exactly what you need.\r\n\r\nSo your code in ActivitySearch.class could look something like this: \r\n\r\n    ActivityResults.data = searchList;\r\n    Intent intent = new Intent(ActivitySearch.this,ActivityResults.class);\r\n    startActivity(intent);\r\n\r\nThen you can access ActivityResults.data from anywhere in ActivityResults activity after it starts.\r\n\r\n\r\n\r\nFor data that need to be shared between user sessions, it&#39;s not advisable to use static fields, since application process could be killed and restarted by android framework while app is running in background (if framework need to free resources). In such case all static fields will be reinitialized. \r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/TransactionTooLargeException.html\r\n  [2]: http://developer.android.com/guide/faq/framework.html#3","title":"Issue: Passing large data to second Activity","body":"<p>You are probably getting <a href=\"http://developer.android.com/reference/android/os/TransactionTooLargeException.html\">TransactionTooLargeException</a></p>\n\n<p>As suggested by google <a href=\"http://developer.android.com/guide/faq/framework.html#3\">android guide</a>, you could use static fields or singletons to share data between activities.</p>\n\n<p>They recommend it \"For sharing complex non-persistent user-defined objects for short duration\"</p>\n\n<p>From your code it seems that's exactly what you need.</p>\n\n<p>So your code in ActivitySearch.class could look something like this: </p>\n\n<pre><code>ActivityResults.data = searchList;\nIntent intent = new Intent(ActivitySearch.this,ActivityResults.class);\nstartActivity(intent);\n</code></pre>\n\n<p>Then you can access ActivityResults.data from anywhere in ActivityResults activity after it starts.</p>\n\n<p>For data that need to be shared between user sessions, it's not advisable to use static fields, since application process could be killed and restarted by android framework while app is running in background (if framework need to free resources). In such case all static fields will be reinitialized. </p>\n"},{"tags":[],"owner":{"account_id":1835911,"reputation":720,"user_id":1666321,"display_name":"Rahim"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1360063659,"creation_date":1360063659,"answer_id":14706456,"question_id":12819617,"body_markdown":"The way I prefer passing large data is through using **enums**. \r\nSome advantages of this approach:\r\n\r\n - No need to create singletons, you always have single instance of your enum;\r\n - Data is properly encapsulated;\r\n - Reference is deleted right after the activity receives it\r\n\r\nHere is an example:\r\n\r\n    package com.jyvee.arguments;\r\n    \r\n    import java.util.List;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    \r\n    public class SomeActivity extends Activity {\r\n    \r\n    \t// Names for the arguments we pass to the\r\n    \t// activity when we create it\r\n    \tprivate final static String ARG_STRING = &quot;ARG_STRING&quot;;\r\n    \tprivate final static String ARG_INT = &quot;ARG_INT&quot;;\r\n    \r\n    \tprivate String stringField;\r\n    \tprivate int intField;\r\n    \tprivate List&lt;Object&gt; arrayField;\r\n    \r\n    \tprivate enum DataHolder {\r\n    \t\tINSTANCE;\r\n    \r\n    \t\tprivate List&lt;Object&gt; mObjectList;\r\n    \r\n    \t\tpublic static boolean hasData() {\r\n    \t\t\treturn INSTANCE.mObjectList != null;\r\n    \t\t}\r\n    \r\n    \t\tpublic static void setData(final List&lt;Object&gt; objectList) {\r\n    \t\t\tINSTANCE.mObjectList = objectList;\r\n    \t\t}\r\n    \r\n    \t\tpublic static List&lt;Object&gt; getData() {\r\n    \t\t\tfinal List&lt;Object&gt; retList = INSTANCE.mObjectList;\r\n    \t\t\tINSTANCE.mObjectList = null;\r\n    \t\t\treturn retList;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(final Bundle savedState) {\r\n    \t\tsuper.onCreate(savedState);\r\n    \r\n    \t\t// Get the activity intent if there is a one\r\n    \t\tfinal Intent intent = getIntent();\r\n    \r\n    \t\t// And retrieve arguments if there are any\r\n    \t\tif (intent.hasExtra(ARG_STRING)) {\r\n    \t\t\tstringField = intent.getExtras().getString(ARG_STRING);\r\n    \t\t}\r\n    \t\tif (intent.hasExtra(ARG_INT)) {\r\n    \t\t\tintField = intent.getExtras().getInt(ARG_INT);\r\n    \t\t}\r\n    \t\t// And we retrieve large data from enum\r\n    \t\tif (DataHolder.hasData()) {\r\n    \t\t\tarrayField = DataHolder.getData();\r\n    \t\t}\r\n    \r\n    \t\t// Now stringField, intField fields are available\r\n    \t\t// within the class and can be accessed directly\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * /** A static method for starting activity with supplied arguments\r\n    \t * \r\n    \t * @param contextA\r\n    \t *            context that starts this activity\r\n    \t * @param stringArg\r\n    \t *            A string argument to pass to the new activity\r\n    \t * @param intArg\r\n    \t *            An int argument to pass to the new activity\r\n    \t * @param objectList\r\n    \t *            An object list argument to pass to the new activity\r\n    \t */\r\n    \tpublic static void startActivity(final Context context, final String stringArg, \r\n    \t\t\tfinal int intArg, final List&lt;Object&gt; objectList) {\r\n    \r\n    \t\t// Initialize a new intent\r\n    \t\tfinal Intent intent = new Intent(context, SomeActivity.class);\r\n    \r\n    \t\t// To speed things up :)\r\n    \t\tintent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n    \r\n    \t\t// And add arguments to the Intent\r\n    \t\tintent.putExtra(ARG_STRING, stringArg);\r\n    \t\tintent.putExtra(ARG_INT, intArg);\r\n    \r\n    \t\t// Now we put the large data into our enum instead of using Intent extras\r\n    \t\tDataHolder.setData(objectList);\r\n    \r\n    \t\tcontext.startActivity(intent);\r\n    \t}\r\n    }\r\n\r\nMore info [**here**][1].\r\n\r\n\r\n  [1]: http://jyvee.com/passing-large-data-to-an-activity/","title":"Issue: Passing large data to second Activity","body":"<p>The way I prefer passing large data is through using <strong>enums</strong>. \nSome advantages of this approach:</p>\n\n<ul>\n<li>No need to create singletons, you always have single instance of your enum;</li>\n<li>Data is properly encapsulated;</li>\n<li>Reference is deleted right after the activity receives it</li>\n</ul>\n\n<p>Here is an example:</p>\n\n<pre><code>package com.jyvee.arguments;\n\nimport java.util.List;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\n\npublic class SomeActivity extends Activity {\n\n    // Names for the arguments we pass to the\n    // activity when we create it\n    private final static String ARG_STRING = \"ARG_STRING\";\n    private final static String ARG_INT = \"ARG_INT\";\n\n    private String stringField;\n    private int intField;\n    private List&lt;Object&gt; arrayField;\n\n    private enum DataHolder {\n        INSTANCE;\n\n        private List&lt;Object&gt; mObjectList;\n\n        public static boolean hasData() {\n            return INSTANCE.mObjectList != null;\n        }\n\n        public static void setData(final List&lt;Object&gt; objectList) {\n            INSTANCE.mObjectList = objectList;\n        }\n\n        public static List&lt;Object&gt; getData() {\n            final List&lt;Object&gt; retList = INSTANCE.mObjectList;\n            INSTANCE.mObjectList = null;\n            return retList;\n        }\n    }\n\n    @Override\n    protected void onCreate(final Bundle savedState) {\n        super.onCreate(savedState);\n\n        // Get the activity intent if there is a one\n        final Intent intent = getIntent();\n\n        // And retrieve arguments if there are any\n        if (intent.hasExtra(ARG_STRING)) {\n            stringField = intent.getExtras().getString(ARG_STRING);\n        }\n        if (intent.hasExtra(ARG_INT)) {\n            intField = intent.getExtras().getInt(ARG_INT);\n        }\n        // And we retrieve large data from enum\n        if (DataHolder.hasData()) {\n            arrayField = DataHolder.getData();\n        }\n\n        // Now stringField, intField fields are available\n        // within the class and can be accessed directly\n    }\n\n    /**\n     * /** A static method for starting activity with supplied arguments\n     * \n     * @param contextA\n     *            context that starts this activity\n     * @param stringArg\n     *            A string argument to pass to the new activity\n     * @param intArg\n     *            An int argument to pass to the new activity\n     * @param objectList\n     *            An object list argument to pass to the new activity\n     */\n    public static void startActivity(final Context context, final String stringArg, \n            final int intArg, final List&lt;Object&gt; objectList) {\n\n        // Initialize a new intent\n        final Intent intent = new Intent(context, SomeActivity.class);\n\n        // To speed things up :)\n        intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n\n        // And add arguments to the Intent\n        intent.putExtra(ARG_STRING, stringArg);\n        intent.putExtra(ARG_INT, intArg);\n\n        // Now we put the large data into our enum instead of using Intent extras\n        DataHolder.setData(objectList);\n\n        context.startActivity(intent);\n    }\n}\n</code></pre>\n\n<p>More info <a href=\"http://jyvee.com/passing-large-data-to-an-activity/\" rel=\"noreferrer\"><strong>here</strong></a>.</p>\n"},{"tags":[],"owner":{"account_id":4900330,"reputation":3997,"user_id":3948854,"display_name":"Rishabh Sagar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589316078,"creation_date":1589316078,"answer_id":61761512,"question_id":12819617,"body_markdown":"I faced this `TransactionTooLargeException` issue recently and was looking for a possible solution to avoid it. At last, I couldn&#39;t find anything which would work. In most of the answers, you will find people recommending different ways to avoid this exception, but a proper example wasn&#39;t available.\r\n\r\nHere&#39;s what I have done to fix this issue, this might not be an ideal solution at a few places and has some limitation as well. \r\n\r\n***Step 1 -*** Write a class which will convert the bundle into a string and store it in Shared Preference. \r\n\r\n\r\n    public class ActivityBridge {\r\n    \r\n        private static final String KEY_ACTIVITY_BRIDGE = &quot;ACTIVITY_BRIDGE&quot;;\r\n        private final Context context;\r\n        private SharedPreferences sharedPreferences;\r\n    \r\n    \r\n        public ActivityBridge(Context context) {\r\n            this.context = context;\r\n    \r\n            sharedPreferences = context.getSharedPreferences(KEY_ACTIVITY_BRIDGE, Context.MODE_PRIVATE);\r\n        }\r\n    \r\n    \r\n        @SuppressLint(&quot;ApplySharedPref&quot;)\r\n        public void putData(Bundle bundle, Intent intent) {\r\n            sharedPreferences.edit()\r\n                    .putString(\r\n                            intent.toString(),\r\n                            Base64.encodeToString(bundleToBytes(bundle), 0)\r\n                    )\r\n                    .commit();\r\n        }\r\n    \r\n    \r\n        @SuppressLint(&quot;ApplySharedPref&quot;)\r\n        public Bundle getData(Intent intent) {\r\n            Bundle bundle;\r\n            final String bundleString = sharedPreferences.getString(intent.toString(), &quot;&quot;);\r\n\r\n            if (TextUtils.isEmpty(bundleString)) {\r\n                return null;\r\n            } else {\r\n                bundle = bytesToBundle(Base64.decode(bundleString, 0));\r\n            }\r\n    \r\n            sharedPreferences.edit()\r\n                    .clear()\r\n                    .commit();\r\n    \r\n            return bundle;\r\n        }\r\n    \r\n    \r\n        public byte[] bundleToBytes(Bundle bundle) {\r\n            Parcel parcel = Parcel.obtain();\r\n            parcel.writeBundle(bundle);\r\n            byte[] bytes = parcel.marshall();\r\n            parcel.recycle();\r\n            return bytes;\r\n        }\r\n    \r\n    \r\n        public Bundle bytesToBundle(byte[] bytes) {\r\n            Parcel parcel = Parcel.obtain();\r\n            parcel.unmarshall(bytes, 0, bytes.length);\r\n            parcel.setDataPosition(0);\r\n            Bundle bundle = parcel.readBundle(context.getClassLoader());\r\n            parcel.recycle();\r\n            return bundle;\r\n        }\r\n    }\r\n\r\n***Step 2 -*** Usage\r\n\r\nWhile creating Intent\r\n\r\n             Intent intent = new Intent(ActivityA.this, ActivityB.class);\r\n\r\n             Bundle bundle = new Bundle();\r\n             bundle.putString(&quot;&lt;KEY&gt;&quot;, &quot;&lt;VALUE&gt;&quot;);\r\n             new ActivityBridge(ActivityA.this).putData(bundle, intent);\r\n\r\n             startActivity(intent);\r\n\r\nwhile extracting Bundle\r\n\r\n        Bundle bundle = new ActivityBridge(this).getData(getIntent());\r\n\r\n\r\nNote: *This solution clears the stored Bundle after being read and will not return the Bundle if the Activity is recreated. This is a workaround and any suggestion or issues will be highly appreciated.*\r\n\r\n","title":"Issue: Passing large data to second Activity","body":"<p>I faced this <code>TransactionTooLargeException</code> issue recently and was looking for a possible solution to avoid it. At last, I couldn't find anything which would work. In most of the answers, you will find people recommending different ways to avoid this exception, but a proper example wasn't available.</p>\n\n<p>Here's what I have done to fix this issue, this might not be an ideal solution at a few places and has some limitation as well. </p>\n\n<p><strong><em>Step 1 -</em></strong> Write a class which will convert the bundle into a string and store it in Shared Preference. </p>\n\n<pre><code>public class ActivityBridge {\n\n    private static final String KEY_ACTIVITY_BRIDGE = \"ACTIVITY_BRIDGE\";\n    private final Context context;\n    private SharedPreferences sharedPreferences;\n\n\n    public ActivityBridge(Context context) {\n        this.context = context;\n\n        sharedPreferences = context.getSharedPreferences(KEY_ACTIVITY_BRIDGE, Context.MODE_PRIVATE);\n    }\n\n\n    @SuppressLint(\"ApplySharedPref\")\n    public void putData(Bundle bundle, Intent intent) {\n        sharedPreferences.edit()\n                .putString(\n                        intent.toString(),\n                        Base64.encodeToString(bundleToBytes(bundle), 0)\n                )\n                .commit();\n    }\n\n\n    @SuppressLint(\"ApplySharedPref\")\n    public Bundle getData(Intent intent) {\n        Bundle bundle;\n        final String bundleString = sharedPreferences.getString(intent.toString(), \"\");\n\n        if (TextUtils.isEmpty(bundleString)) {\n            return null;\n        } else {\n            bundle = bytesToBundle(Base64.decode(bundleString, 0));\n        }\n\n        sharedPreferences.edit()\n                .clear()\n                .commit();\n\n        return bundle;\n    }\n\n\n    public byte[] bundleToBytes(Bundle bundle) {\n        Parcel parcel = Parcel.obtain();\n        parcel.writeBundle(bundle);\n        byte[] bytes = parcel.marshall();\n        parcel.recycle();\n        return bytes;\n    }\n\n\n    public Bundle bytesToBundle(byte[] bytes) {\n        Parcel parcel = Parcel.obtain();\n        parcel.unmarshall(bytes, 0, bytes.length);\n        parcel.setDataPosition(0);\n        Bundle bundle = parcel.readBundle(context.getClassLoader());\n        parcel.recycle();\n        return bundle;\n    }\n}\n</code></pre>\n\n<p><strong><em>Step 2 -</em></strong> Usage</p>\n\n<p>While creating Intent</p>\n\n<pre><code>         Intent intent = new Intent(ActivityA.this, ActivityB.class);\n\n         Bundle bundle = new Bundle();\n         bundle.putString(\"&lt;KEY&gt;\", \"&lt;VALUE&gt;\");\n         new ActivityBridge(ActivityA.this).putData(bundle, intent);\n\n         startActivity(intent);\n</code></pre>\n\n<p>while extracting Bundle</p>\n\n<pre><code>    Bundle bundle = new ActivityBridge(this).getData(getIntent());\n</code></pre>\n\n<p>Note: <em>This solution clears the stored Bundle after being read and will not return the Bundle if the Activity is recreated. This is a workaround and any suggestion or issues will be highly appreciated.</em></p>\n"},{"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612380486,"creation_date":1612380486,"answer_id":66034419,"question_id":12819617,"body_markdown":"I opted to write the payload to a file, then reading it back in the child activity because:\r\n* can survive the app being killed by the OS\r\n    * (e.g. after going to the new activity, app is put into the background for a long time)\r\n    * (e.g. Developer Options &gt; Don&#39;t keep activities is turned on)\r\n* no need for global/static variables\r\n\r\nthis class below (`DataReference`) allow saves and loads a `Serializable` &quot;`Payload`&quot; to and from a file. the `DataReference` itself is `Serializable` so that it can be written to a `Bundle` or `Intent` to be passed to a new `Activity`...\r\n\r\njust make sure to also save this during `saveInstanceState`, and re-load it during `onCreate`...\r\n\r\n```kotlin\r\n/**\r\n * provides a means to pass around a large resource via a bundle. instead of storing the [Payload] in\r\n * the bundle, only a [sessionId], and [directoryName] is stored in a bundle, that can be used to\r\n * retrieve the actual [Payload] at a later time.\r\n */\r\nclass DataReference&lt;Payload : Serializable&gt;(\r\n        private val directoryName: String,\r\n        private val sessionId: String = randomAlphaNumericString()\r\n) : Serializable {\r\n\r\n    private fun directory(context: Context) = context.applicationContext.getDir(directoryName, Context.MODE_PRIVATE)\r\n    private fun sessionIdFile(context: Context) = File(directory(context), &quot;sessionId&quot;)\r\n    private fun payloadFile(context: Context) = File(directory(context), &quot;payload&quot;)\r\n\r\n    /**\r\n     * if the [sessionId] is valid, reads the [Payload] from persistent memory, and returns it to\r\n     * the caller, or null, if no existing [Payload] exists; otherwise, if [sessionId] is invalid,\r\n     * the [Payload] is deleted from persistent memory (if any exists), and null is returned to the\r\n     * caller.\r\n     */\r\n    fun load(context: Context, payloadKClass: KClass&lt;Payload&gt;): Payload? {\r\n        return if (sessionId == sessionIdFile(context).readObject(String::class)) {\r\n            payloadFile(context).readObject(payloadKClass)\r\n        } else {\r\n            sessionIdFile(context).deleteFileIfExists()\r\n            payloadFile(context).deleteFileIfExists()\r\n            null\r\n        }\r\n    }\r\n\r\n    /**\r\n     * overwrites any existing [Payload] with the new [payload], which is only accessible from\r\n     * [load] when the [sessionId] passed into [load] matches the [sessionId] passed into this call\r\n     * to [save].\r\n     */\r\n    fun save(context: Context, payload: Payload) {\r\n\r\n        // delete files if they exist\r\n        sessionIdFile(context).deleteFileIfExists()\r\n        payloadFile(context).deleteFileIfExists()\r\n\r\n        // write the payload &amp; session id to the file\r\n        ObjectOutputStream(sessionIdFile(context).outputStream()).use { oos -&gt;\r\n            oos.writeObject(sessionId)\r\n            oos.flush()\r\n        }\r\n        ObjectOutputStream(payloadFile(context).outputStream()).use { oos -&gt;\r\n            oos.writeObject(payload)\r\n            oos.flush()\r\n        }\r\n    }\r\n\r\n    private fun File.deleteFileIfExists(): Boolean {\r\n        isFile &amp;&amp; delete()\r\n        return !exists()\r\n    }\r\n\r\n    private fun &lt;T:Any&gt; File.readObject(tKClass: KClass&lt;T&gt;): T? = if (isFile) {\r\n        ObjectInputStream(inputStream()).use { ois -&gt;\r\n            tKClass.safeCast(ois.readObject())\r\n        }\r\n    } else {\r\n        null\r\n    }\r\n}\r\n\r\n```","title":"Issue: Passing large data to second Activity","body":"<p>I opted to write the payload to a file, then reading it back in the child activity because:</p>\n<ul>\n<li>can survive the app being killed by the OS\n<ul>\n<li>(e.g. after going to the new activity, app is put into the background for a long time)</li>\n<li>(e.g. Developer Options &gt; Don't keep activities is turned on)</li>\n</ul>\n</li>\n<li>no need for global/static variables</li>\n</ul>\n<p>this class below (<code>DataReference</code>) allow saves and loads a <code>Serializable</code> &quot;<code>Payload</code>&quot; to and from a file. the <code>DataReference</code> itself is <code>Serializable</code> so that it can be written to a <code>Bundle</code> or <code>Intent</code> to be passed to a new <code>Activity</code>...</p>\n<p>just make sure to also save this during <code>saveInstanceState</code>, and re-load it during <code>onCreate</code>...</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>/**\n * provides a means to pass around a large resource via a bundle. instead of storing the [Payload] in\n * the bundle, only a [sessionId], and [directoryName] is stored in a bundle, that can be used to\n * retrieve the actual [Payload] at a later time.\n */\nclass DataReference&lt;Payload : Serializable&gt;(\n        private val directoryName: String,\n        private val sessionId: String = randomAlphaNumericString()\n) : Serializable {\n\n    private fun directory(context: Context) = context.applicationContext.getDir(directoryName, Context.MODE_PRIVATE)\n    private fun sessionIdFile(context: Context) = File(directory(context), &quot;sessionId&quot;)\n    private fun payloadFile(context: Context) = File(directory(context), &quot;payload&quot;)\n\n    /**\n     * if the [sessionId] is valid, reads the [Payload] from persistent memory, and returns it to\n     * the caller, or null, if no existing [Payload] exists; otherwise, if [sessionId] is invalid,\n     * the [Payload] is deleted from persistent memory (if any exists), and null is returned to the\n     * caller.\n     */\n    fun load(context: Context, payloadKClass: KClass&lt;Payload&gt;): Payload? {\n        return if (sessionId == sessionIdFile(context).readObject(String::class)) {\n            payloadFile(context).readObject(payloadKClass)\n        } else {\n            sessionIdFile(context).deleteFileIfExists()\n            payloadFile(context).deleteFileIfExists()\n            null\n        }\n    }\n\n    /**\n     * overwrites any existing [Payload] with the new [payload], which is only accessible from\n     * [load] when the [sessionId] passed into [load] matches the [sessionId] passed into this call\n     * to [save].\n     */\n    fun save(context: Context, payload: Payload) {\n\n        // delete files if they exist\n        sessionIdFile(context).deleteFileIfExists()\n        payloadFile(context).deleteFileIfExists()\n\n        // write the payload &amp; session id to the file\n        ObjectOutputStream(sessionIdFile(context).outputStream()).use { oos -&gt;\n            oos.writeObject(sessionId)\n            oos.flush()\n        }\n        ObjectOutputStream(payloadFile(context).outputStream()).use { oos -&gt;\n            oos.writeObject(payload)\n            oos.flush()\n        }\n    }\n\n    private fun File.deleteFileIfExists(): Boolean {\n        isFile &amp;&amp; delete()\n        return !exists()\n    }\n\n    private fun &lt;T:Any&gt; File.readObject(tKClass: KClass&lt;T&gt;): T? = if (isFile) {\n        ObjectInputStream(inputStream()).use { ois -&gt;\n            tKClass.safeCast(ois.readObject())\n        }\n    } else {\n        null\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1923968,"reputation":759,"user_id":1734846,"display_name":"sk2andy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39363,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":12848199,"answer_count":7,"score":47,"last_activity_date":1635782871,"creation_date":1349872985,"question_id":12819617,"body_markdown":"I&#39;ve got an strange issue. I was looking around the web but didn&#39;t find an answer. I&#39;m still a beginner in android programming. So let&#39;s go:\r\n\r\nAll I want to do is calling the second Activity with some data. It works fine with small data, but if the data gets large, the second Activity will not show and the first one finishes.\r\nHere&#39;s my code of the calling Method:\r\n\r\n    Intent intent = new Intent(ActivitySearch.this,ActivityResults.class);\r\n    Bundle bundle = new Bundle();\r\n    bundle.putParcelableArrayList(&quot;data&quot;, searchList);\r\n    intent.putExtras(bundle);\r\n    startActivity(intent);\r\n    \t        \r\nThe part of receiving data is not important. Even if I don&#39;t try to read the bundle, the activity will not be called. I&#39;ve tested this with following lines:\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n    Log.d(&quot;DEBUG&quot;,&quot;ActivityResult::onCreate()&quot;);\r\n    super.onCreate(savedInstanceState);\r\n\r\n`OnCreate()` gets never called.\r\n\r\nMaybe one of yours got an idea...\r\nThank you for your help!\r\n\r\nEdit:at least I forgot: This only happens under ICS. The app works like a charme with gingerbread and froyo.\r\n\r\nEdit2: Logcat\r\n\r\n    10-10 14:49:46.951: D/OpenGLRenderer(21696): Flushing caches (mode 0)\r\n    10-10 14:49:47.011: V/ActivityThread(22429): com.example.amazonsearch white listed for hwui\r\n    10-10 14:49:50.821: W/IInputConnectionWrapper(21696): showStatusIcon on inactive InputConnection\r\n\r\n","title":"Issue: Passing large data to second Activity","body":"<p>I've got an strange issue. I was looking around the web but didn't find an answer. I'm still a beginner in android programming. So let's go:</p>\n\n<p>All I want to do is calling the second Activity with some data. It works fine with small data, but if the data gets large, the second Activity will not show and the first one finishes.\nHere's my code of the calling Method:</p>\n\n<pre><code>Intent intent = new Intent(ActivitySearch.this,ActivityResults.class);\nBundle bundle = new Bundle();\nbundle.putParcelableArrayList(\"data\", searchList);\nintent.putExtras(bundle);\nstartActivity(intent);\n</code></pre>\n\n<p>The part of receiving data is not important. Even if I don't try to read the bundle, the activity will not be called. I've tested this with following lines:</p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\nLog.d(\"DEBUG\",\"ActivityResult::onCreate()\");\nsuper.onCreate(savedInstanceState);\n</code></pre>\n\n<p><code>OnCreate()</code> gets never called.</p>\n\n<p>Maybe one of yours got an idea...\nThank you for your help!</p>\n\n<p>Edit:at least I forgot: This only happens under ICS. The app works like a charme with gingerbread and froyo.</p>\n\n<p>Edit2: Logcat</p>\n\n<pre><code>10-10 14:49:46.951: D/OpenGLRenderer(21696): Flushing caches (mode 0)\n10-10 14:49:47.011: V/ActivityThread(22429): com.example.amazonsearch white listed for hwui\n10-10 14:49:50.821: W/IInputConnectionWrapper(21696): showStatusIcon on inactive InputConnection\n</code></pre>\n"},{"tags":["java","spring","spring-boot","dependency-injection","servlet-listeners"],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635776946,"creation_date":1635776946,"answer_id":69798386,"question_id":69797776,"body_markdown":"Change `private static TestDao dao` to `private final TestDao dao`. Spring doesn&#39;t allow statics to be used as targets for injection. Also, your `TestDaoImpl` class needs to be a component or a bean defined in a Spring configuration file.","title":"spring dependency injection is not working in a class annotated with @WebListener","body":"<p>Change <code>private static TestDao dao</code> to <code>private final TestDao dao</code>. Spring doesn't allow statics to be used as targets for injection. Also, your <code>TestDaoImpl</code> class needs to be a component or a bean defined in a Spring configuration file.</p>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635782473,"creation_date":1635780537,"answer_id":69799104,"question_id":69797776,"body_markdown":"The Servlet `@WebListener`s are handled by Servlet containers(tomcat/Jetty) when the container is starting. So they know nothing about Spring.\r\n\r\nFor more details, see [discussion in this issue](https://github.com/spring-projects/spring-boot/issues/25059).\r\n\r\nA workaround solution is replace the `@WebListener` with Spring&#39;s `@Component`, thus you can inject Spring beans(declare your Dao as spring beans) into the listeners directly.\r\n\r\nBTW, you have to add `@ServletComponentScan` on your Spring Boot application class to activate it.\r\n\r\nI created [an example project](https://github.com/hantsy/spring-puzzles/tree/master/servlet) to demo `@WebServlet`, `@WebFilter` and `@WebListener`.","title":"spring dependency injection is not working in a class annotated with @WebListener","body":"<p>The Servlet <code>@WebListener</code>s are handled by Servlet containers(tomcat/Jetty) when the container is starting. So they know nothing about Spring.</p>\n<p>For more details, see <a href=\"https://github.com/spring-projects/spring-boot/issues/25059\" rel=\"nofollow noreferrer\">discussion in this issue</a>.</p>\n<p>A workaround solution is replace the <code>@WebListener</code> with Spring's <code>@Component</code>, thus you can inject Spring beans(declare your Dao as spring beans) into the listeners directly.</p>\n<p>BTW, you have to add <code>@ServletComponentScan</code> on your Spring Boot application class to activate it.</p>\n<p>I created <a href=\"https://github.com/hantsy/spring-puzzles/tree/master/servlet\" rel=\"nofollow noreferrer\">an example project</a> to demo <code>@WebServlet</code>, <code>@WebFilter</code> and <code>@WebListener</code>.</p>\n"}],"owner":{"account_id":20336018,"reputation":41,"user_id":14916700,"display_name":"mitco94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635782473,"creation_date":1635774055,"question_id":69797776,"body_markdown":"I tried constructor based Dependency injection in TestAppListener class which implements ServletContextListener. \r\nI got this error\r\n**Exception sending context initialized event to listener instance of class [com.example.listener.TestAppListener]**. \r\n\r\nI searched stack overflow but I couldn&#39;t find any solution for this scenario. Please any one help me in sort out this. I placed Implementation classes in META-INF.services folder also. My understanding is there is some problem in constructor dependency injection but this way of DI is need for my situation, because in real time I want to create datasource connection inside startup method.\r\n\r\nFind all my classes below which i&#39;m using,\r\n\r\n\r\n    @WebListener\r\n    public class TestAppListener implements ServletContextListener {\r\n\r\n    private static TestDao dao;\r\n\r\n    public TestAppListener(TestDao dao){\r\n        this.dao = dao;\r\n    }\r\n    public TestAppListener(){}\r\n\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        dao = ServiceLoader.load(TestDao.class).iterator().next();\r\n        dao.startUp();\r\n        System.out.println(&quot;Context initialized method called&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void contextDestroyed(ServletContextEvent sce) {\r\n        System.out.println(&quot;Context destroyed method called&quot;);\r\n        dao.shutDown();\r\n    }\r\n}\r\n\r\n    public interface TestDao {\r\n\r\n    void startUp();\r\n\r\n    void shutDown(); \r\n}\r\n\r\n\r\n\r\n    public class TestDaoImpl implements TestDao {\r\n    @Override\r\n    public void startUp() {\r\n        System.out.println(&quot;Database is initialized&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void shutDown() {\r\n        System.out.println(&quot;Database is initialized&quot;);\r\n    }\r\n}\r\n\r\n\r\n    @Configuration\r\n    public class SpringConfig {\r\n\r\n    public SpringConfig() {\r\n    }\r\n\r\n    @Bean\r\n    public ServletListenerRegistrationBean&lt;ServletContextListener&gt; listenerRegistrationBean() {\r\n        ServletListenerRegistrationBean&lt;ServletContextListener&gt; bean = new ServletListenerRegistrationBean&lt;&gt;();\r\n        bean.setListener(new TestAppListener());\r\n        return bean;\r\n    }\r\n\r\n}\r\n\r\n\r\n","title":"spring dependency injection is not working in a class annotated with @WebListener","body":"<p>I tried constructor based Dependency injection in TestAppListener class which implements ServletContextListener.\nI got this error\n<strong>Exception sending context initialized event to listener instance of class [com.example.listener.TestAppListener]</strong>.</p>\n<p>I searched stack overflow but I couldn't find any solution for this scenario. Please any one help me in sort out this. I placed Implementation classes in META-INF.services folder also. My understanding is there is some problem in constructor dependency injection but this way of DI is need for my situation, because in real time I want to create datasource connection inside startup method.</p>\n<p>Find all my classes below which i'm using,</p>\n<pre><code>@WebListener\npublic class TestAppListener implements ServletContextListener {\n\nprivate static TestDao dao;\n\npublic TestAppListener(TestDao dao){\n    this.dao = dao;\n}\npublic TestAppListener(){}\n\n@Override\npublic void contextInitialized(ServletContextEvent sce) {\n    dao = ServiceLoader.load(TestDao.class).iterator().next();\n    dao.startUp();\n    System.out.println(&quot;Context initialized method called&quot;);\n}\n\n@Override\npublic void contextDestroyed(ServletContextEvent sce) {\n    System.out.println(&quot;Context destroyed method called&quot;);\n    dao.shutDown();\n}\n</code></pre>\n<p>}</p>\n<pre><code>public interface TestDao {\n\nvoid startUp();\n\nvoid shutDown(); \n</code></pre>\n<p>}</p>\n<pre><code>public class TestDaoImpl implements TestDao {\n@Override\npublic void startUp() {\n    System.out.println(&quot;Database is initialized&quot;);\n}\n\n@Override\npublic void shutDown() {\n    System.out.println(&quot;Database is initialized&quot;);\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Configuration\npublic class SpringConfig {\n\npublic SpringConfig() {\n}\n\n@Bean\npublic ServletListenerRegistrationBean&lt;ServletContextListener&gt; listenerRegistrationBean() {\n    ServletListenerRegistrationBean&lt;ServletContextListener&gt; bean = new ServletListenerRegistrationBean&lt;&gt;();\n    bean.setListener(new TestAppListener());\n    return bean;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1536343094,"post_id":52215619,"comment_id":91404418,"body_markdown":"I don&#39;t think `Abdul` is a Hadoop program. What is your Windows user name? `Abdul ??`","body":"I don&#39;t think <code>Abdul</code> is a Hadoop program. What is your Windows user name? <code>Abdul ??</code>"},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1536552461,"post_id":52215619,"comment_id":91449524,"body_markdown":"I think your problem is that your user name has spaces in it. I think that you will find that this break a lot of software. Hadoop is not yet completely &quot;Windows-ized&quot;.","body":"I think your problem is that your user name has spaces in it. I think that you will find that this break a lot of software. Hadoop is not yet completely &quot;Windows-ized&quot;."}],"answers":[{"tags":[],"owner":{"account_id":13711160,"reputation":31,"user_id":9893492,"display_name":"user9893492"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536367539,"creation_date":1536365590,"answer_id":52230929,"question_id":52215619,"body_markdown":"Abdul is windows user name. \r\n\r\nI posted the message again\r\n\r\nC:\\Users\\Md. Abdul Latif&gt;hdfs namenode -format\r\nError: Could not find or load main class Abdul\r\n\r\n[Configuration ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b3lvi.jpg","title":"hdfs namenode -format Error: Could not find or load main class Abdul","body":"<p>Abdul is windows user name. </p>\n\n<p>I posted the message again</p>\n\n<p>C:\\Users\\Md. Abdul Latif>hdfs namenode -format\nError: Could not find or load main class Abdul</p>\n\n<p><a href=\"https://i.stack.imgur.com/b3lvi.jpg\" rel=\"nofollow noreferrer\">Configuration </a></p>\n"},{"tags":[],"owner":{"account_id":14156970,"reputation":46,"user_id":10227341,"display_name":"chac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536423339,"creation_date":1536423339,"answer_id":52237091,"question_id":52215619,"body_markdown":"According to [Apache Hadoop documentation][1] in section &#39;Choose target OS version&#39;, Windows 10 is not yer suppoted:\r\n\r\n&gt; The Hadoop developers have used Windows Server 2008 and Windows Server\r\n&gt; 2008 R2 during development and testing. Windows Vista and Windows 7\r\n&gt; are also likely to work because of the Win32 API similarities with the\r\n&gt; respective server SKUs. We have not tested on Windows XP or any\r\n&gt; earlier versions of Windows and these are not likely to work.\r\n\r\nIt is recommended that you use a Windows supported version.\r\n\r\n\r\n  [1]: https://wiki.apache.org/hadoop/Hadoop2OnWindows","title":"hdfs namenode -format Error: Could not find or load main class Abdul","body":"<p>According to <a href=\"https://wiki.apache.org/hadoop/Hadoop2OnWindows\" rel=\"nofollow noreferrer\">Apache Hadoop documentation</a> in section 'Choose target OS version', Windows 10 is not yer suppoted:</p>\n\n<blockquote>\n  <p>The Hadoop developers have used Windows Server 2008 and Windows Server\n  2008 R2 during development and testing. Windows Vista and Windows 7\n  are also likely to work because of the Win32 API similarities with the\n  respective server SKUs. We have not tested on Windows XP or any\n  earlier versions of Windows and these are not likely to work.</p>\n</blockquote>\n\n<p>It is recommended that you use a Windows supported version.</p>\n"},{"tags":[],"owner":{"account_id":3734797,"reputation":23,"user_id":3105988,"display_name":"user3105988"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583477852,"creation_date":1583477852,"answer_id":60558977,"question_id":52215619,"body_markdown":"I got the same issue as i configure the **JAVA_HOME &amp; HADOOP_HOME** in my system variable path.\r\nBasically problem is **hadoop-env** file where it pick your username as Admin configure your system your name with space which cause issue .\r\nFor me it work when i have change in hadoop-env.cmd file .   \r\n\r\nYou will find **hadoop-env.cmd** inside **cd %HADOOP_HOME%/etc/hadoop/** edit this file at the end of the file you will get **HADOOP_IDENT_STRING=%USERNAME%** .\r\nJust change as per below instead of **myuser** you write **your name without space( )** and save it and start new cmd.\r\n\r\n**@rem set HADOOP_IDENT_STRING=%USERNAME%**\r\n\r\n**set HADOOP_IDENT_STRING=myuser**","title":"hdfs namenode -format Error: Could not find or load main class Abdul","body":"<p>I got the same issue as i configure the <strong>JAVA_HOME &amp; HADOOP_HOME</strong> in my system variable path.\nBasically problem is <strong>hadoop-env</strong> file where it pick your username as Admin configure your system your name with space which cause issue .\nFor me it work when i have change in hadoop-env.cmd file .   </p>\n\n<p>You will find <strong>hadoop-env.cmd</strong> inside <strong>cd %HADOOP_HOME%/etc/hadoop/</strong> edit this file at the end of the file you will get <strong>HADOOP_IDENT_STRING=%USERNAME%</strong> .\nJust change as per below instead of <strong>myuser</strong> you write <strong>your name without space( )</strong> and save it and start new cmd.</p>\n\n<p><strong>@rem set HADOOP_IDENT_STRING=%USERNAME%</strong></p>\n\n<p><strong>set HADOOP_IDENT_STRING=myuser</strong></p>\n"}],"owner":{"account_id":13711160,"reputation":31,"user_id":9893492,"display_name":"user9893492"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1635782468,"creation_date":1536296634,"question_id":52215619,"body_markdown":"Windows 10:\r\n\r\n    java -version\r\n    java version &quot;1.8.0_181&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_181-b13)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)\r\n    \r\n    &gt;hdfs namenode -format\r\n    Error: Could not find or load main class Abdul\r\n    \r\n    Environment variable :\r\n    HADOOP_HOME\r\n    C:\\hadoop-2.8.0\\bin\r\n    \r\n    JAVA_HOME\r\n    C:\\Java\\jdk1.8.0_181\r\n    \r\n    path\r\n    C:\\hadoop-2.8.0\\bin\r\n    C:\\Java\\jdk1.8.0_181\\bin\r\n    C:\\hadoop-2.8.0\\sbin\r\n    \r\n    hadoop-env.cmd\r\n    \r\n    set JAVA_HOME=C:\\Java\\jdk1.8.0_181\r\n\r\n","title":"hdfs namenode -format Error: Could not find or load main class Abdul","body":"<p>Windows 10:</p>\n\n<pre><code>java -version\njava version \"1.8.0_181\"\nJava(TM) SE Runtime Environment (build 1.8.0_181-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)\n\n&gt;hdfs namenode -format\nError: Could not find or load main class Abdul\n\nEnvironment variable :\nHADOOP_HOME\nC:\\hadoop-2.8.0\\bin\n\nJAVA_HOME\nC:\\Java\\jdk1.8.0_181\n\npath\nC:\\hadoop-2.8.0\\bin\nC:\\Java\\jdk1.8.0_181\\bin\nC:\\hadoop-2.8.0\\sbin\n\nhadoop-env.cmd\n\nset JAVA_HOME=C:\\Java\\jdk1.8.0_181\n</code></pre>\n"},{"tags":["java","android","android-intent","android-11","android-implicit-intent"],"answers":[{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635707655,"creation_date":1635707335,"answer_id":69789773,"question_id":69789700,"body_markdown":"Use the public constructor:\r\n\r\n    new ShareCompat.IntentBuilder(context)\r\n                        .setType(mimeType)\r\n                        .setChooserTitle(&quot;Share this text with:&quot;)\r\n                        .setText(txt)\r\n                        .startChooser();\r\n\r\nShown here: https://developer.android.com/reference/androidx/core/app/ShareCompat.IntentBuilder#public-constructors\r\n\r\n______\r\n\r\nYou could also get the context straight off the View instead of storing it as a field:\r\n\r\n    new ShareCompat.IntentBuilder(v.getContext())\r\n                        .setType(mimeType)\r\n                        .setChooserTitle(&quot;Share this text with:&quot;)\r\n                        .setText(txt)\r\n                        .startChooser();","title":"IntentBuilder(Context,ComponentName) has private access in IntentBuilder","body":"<p>Use the public constructor:</p>\n<pre><code>new ShareCompat.IntentBuilder(context)\n                    .setType(mimeType)\n                    .setChooserTitle(&quot;Share this text with:&quot;)\n                    .setText(txt)\n                    .startChooser();\n</code></pre>\n<p>Shown here: <a href=\"https://developer.android.com/reference/androidx/core/app/ShareCompat.IntentBuilder#public-constructors\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/core/app/ShareCompat.IntentBuilder#public-constructors</a></p>\n<hr />\n<p>You could also get the context straight off the View instead of storing it as a field:</p>\n<pre><code>new ShareCompat.IntentBuilder(v.getContext())\n                    .setType(mimeType)\n                    .setChooserTitle(&quot;Share this text with:&quot;)\n                    .setText(txt)\n                    .startChooser();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635781690,"creation_date":1635781690,"answer_id":69799339,"question_id":69789700,"body_markdown":"Pro Tip: Android in open source. If you run into this kind of issue, you can jump to the class definition and see what&#39;s wrong.\r\n\r\nIn this case, by looking at the `ShareCompat` source, you find that while the constructor is private, there is a [from][1] static builder method.\r\n\r\nStrangely, this is marked as deprecated in the documentation, so it seems like a documentation bug:\r\n\r\nConstructors don&#39;t work even though the documentation says to use it:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe `from` static constructor is available.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n  [1]: https://developer.android.com/reference/androidx/core/app/ShareCompat.IntentBuilder#from(android.app.Activity)\r\n  [2]: https://i.stack.imgur.com/dWTTI.png\r\n  [3]: https://i.stack.imgur.com/ZelLN.png","title":"IntentBuilder(Context,ComponentName) has private access in IntentBuilder","body":"<p>Pro Tip: Android in open source. If you run into this kind of issue, you can jump to the class definition and see what's wrong.</p>\n<p>In this case, by looking at the <code>ShareCompat</code> source, you find that while the constructor is private, there is a <a href=\"https://developer.android.com/reference/androidx/core/app/ShareCompat.IntentBuilder#from(android.app.Activity)\" rel=\"nofollow noreferrer\">from</a> static builder method.</p>\n<p>Strangely, this is marked as deprecated in the documentation, so it seems like a documentation bug:</p>\n<p>Constructors don't work even though the documentation says to use it:</p>\n<p><a href=\"https://i.stack.imgur.com/dWTTI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dWTTI.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>from</code> static constructor is available.</p>\n<p><a href=\"https://i.stack.imgur.com/ZelLN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZelLN.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16671590,"reputation":460,"user_id":12048879,"display_name":"Remus Case"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69799339,"answer_count":2,"score":2,"last_activity_date":1635781690,"creation_date":1635706816,"question_id":69789700,"body_markdown":"The following is the error I get when I try running the application\r\n\r\n```\r\nerror: constructor IntentBuilder in class IntentBuilder cannot be applied to given types;\r\n                new ShareCompat.IntentBuilder(context)\r\n                ^\r\n  required: Context,ComponentName\r\n  found: Context\r\n  reason: actual and formal argument lists differ in length\r\n```\r\n\r\nwithin the Anonymous new View.OnClickListener(), onClick() method at the first line of `new ShareCompat.IntentBuilder(...)`.\r\n\r\nWhen I surf above that line which have red curly underline, Android Studio shows the following message:\r\n\r\n`\r\n&#39;IntentBuilder(android.content.Context, android.content.ComponentName)&#39; has private access in &#39;androidx.core.app.ShareCompat.IntentBuilder&#39;\r\n`\r\n\r\nI am working on Android Version `API 30: Andorid 11.0 (R)`.\r\n```\r\npackage com.example.implicitintents;\r\n\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.app.AppCompatDelegate;\r\nimport androidx.core.app.ShareCompat;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\n\r\n    private Context context = this;\r\n    private Button openShareBtn;\r\n    private EditText shareEditText;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n\r\n        openShareBtn = findViewById(R.id.open_share_button);\r\n        shareEditText = findViewById(R.id.share_edittext);\r\n\r\n        openShareBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String txt = shareEditText.getText().toString();\r\n                String mimeType = &quot;text/plain&quot;;\r\n                new ShareCompat.IntentBuilder(context)\r\n                        .setType(mimeType)\r\n                        .setChooserTitle(&quot;Share this text with: &quot;)\r\n                        .setText(txt)\r\n                        .startChooser();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nBelow is the `AndroidManifest.xml` content:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.implicitintents&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.ImplicitIntents&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n            &lt;data android:scheme=&quot;*&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\nBelow is the `build.gradle (Module: Implicit_Intents:app)` content:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.implicitintents&quot;\r\n        minSdk 30\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n}\r\n```\r\nCan you please help me out here, I am stuck with this error?\r\n\r\nThank you. If more information is required please do let me know.","title":"IntentBuilder(Context,ComponentName) has private access in IntentBuilder","body":"<p>The following is the error I get when I try running the application</p>\n<pre><code>error: constructor IntentBuilder in class IntentBuilder cannot be applied to given types;\n                new ShareCompat.IntentBuilder(context)\n                ^\n  required: Context,ComponentName\n  found: Context\n  reason: actual and formal argument lists differ in length\n</code></pre>\n<p>within the Anonymous new View.OnClickListener(), onClick() method at the first line of <code>new ShareCompat.IntentBuilder(...)</code>.</p>\n<p>When I surf above that line which have red curly underline, Android Studio shows the following message:</p>\n<p><code>'IntentBuilder(android.content.Context, android.content.ComponentName)' has private access in 'androidx.core.app.ShareCompat.IntentBuilder'</code></p>\n<p>I am working on Android Version <code>API 30: Andorid 11.0 (R)</code>.</p>\n<pre><code>package com.example.implicitintents;\n\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.app.AppCompatDelegate;\nimport androidx.core.app.ShareCompat;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final String TAG = MainActivity.class.getSimpleName();\n\n    private Context context = this;\n    private Button openShareBtn;\n    private EditText shareEditText;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n\n        openShareBtn = findViewById(R.id.open_share_button);\n        shareEditText = findViewById(R.id.share_edittext);\n\n        openShareBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String txt = shareEditText.getText().toString();\n                String mimeType = &quot;text/plain&quot;;\n                new ShareCompat.IntentBuilder(context)\n                        .setType(mimeType)\n                        .setChooserTitle(&quot;Share this text with: &quot;)\n                        .setText(txt)\n                        .startChooser();\n            }\n        });\n    }\n}\n</code></pre>\n<p>Below is the <code>AndroidManifest.xml</code> content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.implicitintents&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.ImplicitIntents&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n    &lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n            &lt;data android:scheme=&quot;*&quot; /&gt;\n        &lt;/intent&gt;\n    &lt;/queries&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Below is the <code>build.gradle (Module: Implicit_Intents:app)</code> content:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.implicitintents&quot;\n        minSdk 30\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n</code></pre>\n<p>Can you please help me out here, I am stuck with this error?</p>\n<p>Thank you. If more information is required please do let me know.</p>\n"},{"tags":["java","swing","jtable","listener"],"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1423204093,"post_id":28359226,"comment_id":45062330,"body_markdown":"override setValueAt, there no reason to use TableModelListener for basics task (Basically I know how to use action Listeners but there is no option to add one to a JTable.), TableModelListener isn&#39;t designated to notify about changes from JTable to the rest of Swing GUI","body":"override setValueAt, there no reason to use TableModelListener for basics task (Basically I know how to use action Listeners but there is no option to add one to a JTable.), TableModelListener isn&#39;t designated to notify about changes from JTable to the rest of Swing GUI"},{"owner":{"account_id":1999826,"reputation":4154,"user_id":2058757,"accept_rate":60,"display_name":"Sharp Edge"},"score":0,"creation_date":1423223811,"post_id":28359226,"comment_id":45071696,"body_markdown":"@Seamus please learn to [Accept Answers](http://stackoverflow.com/help/accepted-answer) on this site.","body":"@Seamus please learn to <a href=\"http://stackoverflow.com/help/accepted-answer\">Accept Answers</a> on this site."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1423233131,"post_id":28359226,"comment_id":45076909,"body_markdown":"@Sharp edge :-) I&#39;m doubt it in,[because no one of the answer in this thread is correct](http://stackoverflow.com/questions/8099098/why-never-change-the-notifier-in-receiving-a-change-event)","body":"@Sharp edge :-) I&#39;m doubt it in,<a href=\"http://stackoverflow.com/questions/8099098/why-never-change-the-notifier-in-receiving-a-change-event\">because no one of the answer in this thread is correct</a>"}],"answers":[{"tags":[],"owner":{"account_id":1999826,"reputation":4154,"user_id":2058757,"accept_rate":60,"display_name":"Sharp Edge"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1423565089,"creation_date":1423201231,"answer_id":28359268,"question_id":28359226,"body_markdown":"You should add a listener to the [`TableModel`](http://docs.oracle.com/javase/8/docs/api/javax/swing/table/TableModel.html):\r\n\r\n    yourtableObject.getModel().addTableModelListener(new TableModelListener() {\r\n\r\n      public void tableChanged(TableModelEvent e) {\r\n         // your code goes here, whatever you want to do when something changes in the table\r\n      }\r\n    });\r\n\r\n[`TableModelEvent`](http://docs.oracle.com/javase/7/docs/api/javax/swing/event/TableModelEvent.html) contains row and column number and type of modification.\r\n\r\n&gt; `TableModelEvent` is used to notify listeners that a table model has changed. \r\n","title":"How to add a table listener to a JTable?","body":"<p>You should add a listener to the <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/swing/table/TableModel.html\" rel=\"noreferrer\"><code>TableModel</code></a>:</p>\n\n<pre><code>yourtableObject.getModel().addTableModelListener(new TableModelListener() {\n\n  public void tableChanged(TableModelEvent e) {\n     // your code goes here, whatever you want to do when something changes in the table\n  }\n});\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/event/TableModelEvent.html\" rel=\"noreferrer\"><code>TableModelEvent</code></a> contains row and column number and type of modification.</p>\n\n<blockquote>\n  <p><code>TableModelEvent</code> is used to notify listeners that a table model has changed. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423201650,"creation_date":1423201249,"answer_id":28359272,"question_id":28359226,"body_markdown":"Start by taking a look at [How to Use Tables](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html)\r\n\r\nWhat you will want to do is register a `TableModelListener` with the `JTable`&#39;s model and monitor for changes there\r\n\r\nYou may also find [How to Write a Table Model Listener](http://docs.oracle.com/javase/tutorial/uiswing/events/tablemodellistener.html) of some use\r\n\r\nThe kind of thing you are look for is\r\n\r\n- `TableModel#getType` equals `TableModelEvent.UPDATE`\r\n- `TableModel#getFirstRow` and `TableModel#getLastRow` are typically equals (singularly that a single row was update), this may or may not be relevant, that&#39;s up to you to decide\r\n- `TableModel#getColumn` is not equal to `TableModelEvent.ALL_COLUMNS`, this signifies that a single cell was updated.  Again, this may or may not be important, but if the cell was edited by the user, this will be set\r\n\r\nTake a look at [`javax.swing.event.TableModelEvent`](http://docs.oracle.com/javase/7/docs/api/javax/swing/event/TableModelEvent.html) for more details","title":"How to add a table listener to a JTable?","body":"<p>Start by taking a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow\">How to Use Tables</a></p>\n\n<p>What you will want to do is register a <code>TableModelListener</code> with the <code>JTable</code>'s model and monitor for changes there</p>\n\n<p>You may also find <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/events/tablemodellistener.html\" rel=\"nofollow\">How to Write a Table Model Listener</a> of some use</p>\n\n<p>The kind of thing you are look for is</p>\n\n<ul>\n<li><code>TableModel#getType</code> equals <code>TableModelEvent.UPDATE</code></li>\n<li><code>TableModel#getFirstRow</code> and <code>TableModel#getLastRow</code> are typically equals (singularly that a single row was update), this may or may not be relevant, that's up to you to decide</li>\n<li><code>TableModel#getColumn</code> is not equal to <code>TableModelEvent.ALL_COLUMNS</code>, this signifies that a single cell was updated.  Again, this may or may not be important, but if the cell was edited by the user, this will be set</li>\n</ul>\n\n<p>Take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/event/TableModelEvent.html\" rel=\"nofollow\"><code>javax.swing.event.TableModelEvent</code></a> for more details</p>\n"},{"tags":[],"owner":{"account_id":11801712,"reputation":1,"user_id":8635235,"display_name":"Quiezel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635781674,"creation_date":1635781674,"answer_id":69799336,"question_id":28359226,"body_markdown":"If you want to have an event when there is a change in selection you can use:\r\n\r\n    table.getSelectionModel()addListSelectionListener(new ListSelectionListener() {\r\n        @Override\r\n        public void valueChanged(ListSelectionEvent l) {\r\n        //action\r\n        }\r\n    });\r\n\r\n\r\nSource: http://www.java2s.com/Tutorial/Java/0240__Swing/TableSelectionEventsandListeners.htm","title":"How to add a table listener to a JTable?","body":"<p>If you want to have an event when there is a change in selection you can use:</p>\n<pre><code>table.getSelectionModel()addListSelectionListener(new ListSelectionListener() {\n    @Override\n    public void valueChanged(ListSelectionEvent l) {\n    //action\n    }\n});\n</code></pre>\n<p>Source: <a href=\"http://www.java2s.com/Tutorial/Java/0240__Swing/TableSelectionEventsandListeners.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorial/Java/0240__Swing/TableSelectionEventsandListeners.htm</a></p>\n"}],"owner":{"account_id":5622502,"reputation":83,"user_id":4451845,"accept_rate":100,"display_name":"Seamus O Connor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19918,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28359268,"answer_count":3,"score":5,"last_activity_date":1635781674,"creation_date":1423201015,"question_id":28359226,"body_markdown":"I am having problems with fixing something in my program.  Basically I know how to use action Listeners but there is no option to add one to a `JTable`. How is this done?\r\n\r\nBasically I want to add an action Listener to my table so that every time a value is changed it will update that field in my data base.\r\n\r\nI.E.\r\n\r\n\r\n    JTable.addActionListener (new ActionListener) {\r\n        // text is changed\r\n        updateDataBase();\r\n    };\r\n\r\n\r\n","title":"How to add a table listener to a JTable?","body":"<p>I am having problems with fixing something in my program.  Basically I know how to use action Listeners but there is no option to add one to a <code>JTable</code>. How is this done?</p>\n\n<p>Basically I want to add an action Listener to my table so that every time a value is changed it will update that field in my data base.</p>\n\n<p>I.E.</p>\n\n<pre><code>JTable.addActionListener (new ActionListener) {\n    // text is changed\n    updateDataBase();\n};\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1472218800,"post_id":39167189,"comment_id":65677719,"body_markdown":"If you&#39;re talking about repositories, do you mean the Spring data JPA repositories? If that&#39;s the case then I think this question is a duplicate to https://stackoverflow.com/questions/39015244/is-it-possible-to-build-customized-query-at-run-time-in-spring-boot/39015944#39015944","body":"If you&#39;re talking about repositories, do you mean the Spring data JPA repositories? If that&#39;s the case then I think this question is a duplicate to <a href=\"https://stackoverflow.com/questions/39015244/is-it-possible-to-build-customized-query-at-run-time-in-spring-boot/39015944#39015944\" title=\"is it possible to build customized query at run time in spring boot\">stackoverflow.com/questions/39015244/&hellip;</a>"},{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1472220042,"post_id":39167189,"comment_id":65678551,"body_markdown":"a short note you can use `@matrixvariable` too","body":"a short note you can use <code>@matrixvariable</code> too"}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1472219804,"creation_date":1472219804,"answer_id":39168055,"question_id":39167189,"body_markdown":"You can use the specification API from Spring, which is a wrapper around the criteria API from JPA that allows you to create more dynamic queries.\r\n\r\nIn your case I assume that you have a `Vehicle` entity that has a field `brand`, `year`, `state`, `city`, ... .\r\n\r\nIf that&#39;s the case, you can write the following specification:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    public class VehicleSpecifications {\r\n        public static Specification&lt;Vehicle&gt; withCity(Long city) {\r\n            if (city == null) {\r\n                return null;\r\n            } else {\r\n                // Specification using Java 8 lambdas\r\n                return (root, query, cb) -&gt; cb.equal(root.get(&quot;city&quot;), city);\r\n            }\r\n        }\r\n\r\n        // TODO: Implement withModel, withVehicleType, withBrand, ...\r\n    }\r\n\r\nIf you have to do a join (for example if you want to retrieve `Vehicle.city.id`) then you can use:\r\n\r\n    return (root, query, cb) -&gt; cb.equal(root.join(&quot;city&quot;).get(&quot;id&quot;), city);\r\n\r\nNow, in you repository you have to make sure you extend from `JpaSpecificationExecutor`, for example:\r\n\r\n    public interface VehicleRepository extends JpaRepository&lt;Vehicle, Long&gt;, JpaSpecificationExecutor&lt;Vehicle&gt; {\r\n\r\n    }\r\n\r\nBy extending from this interface, you&#39;ll get access to the [`findAll(Specification spec)`][1] method that allows you to execute specifications. If you need to combine multiple specifications (one filter = one specification usually), you can use the [`Specifications`][2] class:\r\n\r\n    repository.findAll(where(withCity(city))\r\n        .and(withBrand(brand))\r\n        .and(withModel(model))\r\n        .and(withVehicleType(type))\r\n        .and(withYear(year))\r\n        .and(withState(state)));\r\n\r\nIn the code example above I&#39;m using static import for `Specifications.where` and for `VehicleSpecifications.*` to make it look a bit more declarative.\r\n\r\nYou don&#39;t have to write `if()` statements here because we already wrote them in `VehicleSpecifications.withCity()`. As long as you return `null` from these methods they will be ignored by Spring.\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html#findAll-org.springframework.data.jpa.domain.Specification-\r\n  [2]: http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/Specifications.html","title":"Spring boot Dynamic Query","body":"<p>You can use the specification API from Spring, which is a wrapper around the criteria API from JPA that allows you to create more dynamic queries.</p>\n\n<p>In your case I assume that you have a <code>Vehicle</code> entity that has a field <code>brand</code>, <code>year</code>, <code>state</code>, <code>city</code>, ... .</p>\n\n<p>If that's the case, you can write the following specification:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>public class VehicleSpecifications {\n    public static Specification&lt;Vehicle&gt; withCity(Long city) {\n        if (city == null) {\n            return null;\n        } else {\n            // Specification using Java 8 lambdas\n            return (root, query, cb) -&gt; cb.equal(root.get(\"city\"), city);\n        }\n    }\n\n    // TODO: Implement withModel, withVehicleType, withBrand, ...\n}\n</code></pre>\n\n<p>If you have to do a join (for example if you want to retrieve <code>Vehicle.city.id</code>) then you can use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>return (root, query, cb) -&gt; cb.equal(root.join(\"city\").get(\"id\"), city);\n</code></pre>\n\n<p>Now, in you repository you have to make sure you extend from <code>JpaSpecificationExecutor</code>, for example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface VehicleRepository extends JpaRepository&lt;Vehicle, Long&gt;, JpaSpecificationExecutor&lt;Vehicle&gt; {\n\n}\n</code></pre>\n\n<p>By extending from this interface, you'll get access to the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html#findAll-org.springframework.data.jpa.domain.Specification-\" rel=\"noreferrer\"><code>findAll(Specification spec)</code></a> method that allows you to execute specifications. If you need to combine multiple specifications (one filter = one specification usually), you can use the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/Specifications.html\" rel=\"noreferrer\"><code>Specifications</code></a> class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>repository.findAll(where(withCity(city))\n    .and(withBrand(brand))\n    .and(withModel(model))\n    .and(withVehicleType(type))\n    .and(withYear(year))\n    .and(withState(state)));\n</code></pre>\n\n<p>In the code example above I'm using static import for <code>Specifications.where</code> and for <code>VehicleSpecifications.*</code> to make it look a bit more declarative.</p>\n\n<p>You don't have to write <code>if()</code> statements here because we already wrote them in <code>VehicleSpecifications.withCity()</code>. As long as you return <code>null</code> from these methods they will be ignored by Spring.</p>\n"}],"owner":{"account_id":5222356,"reputation":929,"user_id":4175402,"accept_rate":28,"display_name":"Felipe A."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21046,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":39168055,"answer_count":1,"score":15,"last_activity_date":1635781638,"creation_date":1472217137,"question_id":39167189,"body_markdown":"I have a filter in my  webapp, allowing to search by vehicle type, brand, fuel, state and city but all these filters are optional.\r\n\r\nHow can I do this using repositories.\r\n\r\n**Controller class**\r\n\r\n    @RequestMapping(value = &quot;/vehicle/search&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic Iterable&lt;Veiculo&gt; findBySearch(@RequestParam Long vehicletype, @RequestParam Long brand, \r\n\t\t\t@RequestParam Long model, @RequestParam Long year, \r\n\t\t\t@RequestParam Long state, @RequestParam Long city) {\r\n\t\treturn veiculoService.findBySearch(vehicletype, brand, model, year, state, city);\r\n\t}\r\n\r\n**Service class**\r\n\r\n    public Iterable&lt;Vehicle&gt; findBySearch(Long vehicletype, Long brand, Long model, Long year, Long state, Long city) {\r\n        if(vehicletype != null){\r\n            //TODO: filter by vehicletype\r\n        }\r\n        if(brand != null){\r\n            //TODO: filter by brand\r\n        }\r\n        if(model != null){\r\n            //TODO: filter by model\r\n        }\r\n\r\n        //OTHER FILTERS\r\n        return //TODO: Return my repository with personal query based on filter\r\n    }\r\n\r\nI haven&#39;t implemented anything yet because I don&#39;t understand how can I do this filter.\r\n\r\n**Vehicle Class**\r\n\r\n    @Entity\r\n    @Table(name = &quot;tb_veiculo&quot;)\r\n    public class Veiculo {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@ManyToMany(cascade = CascadeType.ALL)\r\n    \t@JoinTable(name = &quot;veiculo_opcionais&quot;, \r\n    \tjoinColumns = @JoinColumn(name = &quot;veiculo_id&quot;, referencedColumnName = &quot;id&quot;),\r\n    \tinverseJoinColumns = @JoinColumn(name = &quot;opcional_id&quot;, referencedColumnName = &quot;id&quot;))\r\n    \tprivate List&lt;Opcional&gt; opcionais;\r\n    \r\n    \t@JsonIgnore\r\n    \t@OneToMany(mappedBy = &quot;veiculo&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    \tprivate List&lt;VeiculoImagem&gt; veiculoImagens;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;cambio_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_cambio&quot;))\r\n    \tprivate Cambio cambio;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;combustivel_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_combustivel&quot;))\r\n    \tprivate Combustivel combustivel;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;cor_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_cor&quot;))\r\n    \tprivate Cor cor;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;modelo_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_modelo&quot;))\r\n    \tprivate Modelo modelo;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;usuario_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_usuario&quot;))\r\n    \tprivate Usuario usuario;\r\n    \r\n    \t@Column(name = &quot;anoFabricacao&quot;, nullable = false)\r\n    \tprivate int anoFabricacao;\r\n    \r\n    \t@Column(name = &quot;anoModelo&quot;, nullable = false)\r\n    \tprivate int anoModelo;\r\n    \r\n    \t@Column(name = &quot;quilometragem&quot;, nullable = false)\r\n    \tprivate int quilometragem;\r\n    \r\n    \t@Column(name = &quot;porta&quot;, nullable = false)\r\n    \tprivate int porta;\r\n    \r\n    \t@Column(name = &quot;valor&quot;, nullable = false)\r\n    \tprivate double valor;\r\n    \r\n        //GETTERS AND SETTERS\r\n\r\nThe vehicletype and brand it&#39;s from another table... I&#39;m portuguese, i&#39;ve translated the code to english...\r\n\r\nWhen It happen, what i need to do?\r\n","title":"Spring boot Dynamic Query","body":"<p>I have a filter in my  webapp, allowing to search by vehicle type, brand, fuel, state and city but all these filters are optional.</p>\n\n<p>How can I do this using repositories.</p>\n\n<p><strong>Controller class</strong></p>\n\n<pre><code>@RequestMapping(value = \"/vehicle/search\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\npublic Iterable&lt;Veiculo&gt; findBySearch(@RequestParam Long vehicletype, @RequestParam Long brand, \n        @RequestParam Long model, @RequestParam Long year, \n        @RequestParam Long state, @RequestParam Long city) {\n    return veiculoService.findBySearch(vehicletype, brand, model, year, state, city);\n}\n</code></pre>\n\n<p><strong>Service class</strong></p>\n\n<pre><code>public Iterable&lt;Vehicle&gt; findBySearch(Long vehicletype, Long brand, Long model, Long year, Long state, Long city) {\n    if(vehicletype != null){\n        //TODO: filter by vehicletype\n    }\n    if(brand != null){\n        //TODO: filter by brand\n    }\n    if(model != null){\n        //TODO: filter by model\n    }\n\n    //OTHER FILTERS\n    return //TODO: Return my repository with personal query based on filter\n}\n</code></pre>\n\n<p>I haven't implemented anything yet because I don't understand how can I do this filter.</p>\n\n<p><strong>Vehicle Class</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"tb_veiculo\")\npublic class Veiculo {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\", nullable = false)\n    private Long id;\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(name = \"veiculo_opcionais\", \n    joinColumns = @JoinColumn(name = \"veiculo_id\", referencedColumnName = \"id\"),\n    inverseJoinColumns = @JoinColumn(name = \"opcional_id\", referencedColumnName = \"id\"))\n    private List&lt;Opcional&gt; opcionais;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = \"veiculo\", fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private List&lt;VeiculoImagem&gt; veiculoImagens;\n\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = \"cambio_id\", foreignKey = @ForeignKey(name = \"fk_cambio\"))\n    private Cambio cambio;\n\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = \"combustivel_id\", foreignKey = @ForeignKey(name = \"fk_combustivel\"))\n    private Combustivel combustivel;\n\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = \"cor_id\", foreignKey = @ForeignKey(name = \"fk_cor\"))\n    private Cor cor;\n\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = \"modelo_id\", foreignKey = @ForeignKey(name = \"fk_modelo\"))\n    private Modelo modelo;\n\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = \"usuario_id\", foreignKey = @ForeignKey(name = \"fk_usuario\"))\n    private Usuario usuario;\n\n    @Column(name = \"anoFabricacao\", nullable = false)\n    private int anoFabricacao;\n\n    @Column(name = \"anoModelo\", nullable = false)\n    private int anoModelo;\n\n    @Column(name = \"quilometragem\", nullable = false)\n    private int quilometragem;\n\n    @Column(name = \"porta\", nullable = false)\n    private int porta;\n\n    @Column(name = \"valor\", nullable = false)\n    private double valor;\n\n    //GETTERS AND SETTERS\n</code></pre>\n\n<p>The vehicletype and brand it's from another table... I'm portuguese, i've translated the code to english...</p>\n\n<p>When It happen, what i need to do?</p>\n"},{"tags":["java","google-cloud-storage","speech-to-text","azure-cognitive-services","pre-signed-url"],"answers":[{"tags":[],"owner":{"account_id":13295707,"reputation":478,"user_id":9598801,"display_name":"Yutong Tie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635781588,"creation_date":1635781588,"answer_id":69799322,"question_id":69571470,"body_markdown":"I think you are using Speech to Text API V3.0 - Batch transcription, it can read audio from a *public-visible internet URI*, and can read audio or write transcriptions using a SAS URI with Azure Blob storage. You need to make sure your GCP url is public and can be read without any authentication.","title":"Unable to use GCP signed URL with Azure Cognitive Speech to text","body":"<p>I think you are using Speech to Text API V3.0 - Batch transcription, it can read audio from a <em>public-visible internet URI</em>, and can read audio or write transcriptions using a SAS URI with Azure Blob storage. You need to make sure your GCP url is public and can be read without any authentication.</p>\n"}],"owner":{"account_id":9731222,"reputation":67,"user_id":7216188,"display_name":"Syed Hussain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635781588,"creation_date":1634217576,"question_id":69571470,"body_markdown":"I have uploaded an audio file on GCS bucket and then I created a signed URL for the file using this method:\r\n```\r\nstorage.signUrl(\r\n                blobInfo,\r\n                DURATION,\r\n                TimeUnit.DAYS,\r\n                Storage.SignUrlOption.httpMethod(HttpMethod.GET),\r\n                Storage.SignUrlOption.withContentType()\r\n        );\r\n```\r\n\r\nWhen I pass this URL to Azure cognitive Speech to text service using the batch transcription REST API this is the request body of azure&#39;s create transcription API\r\n```\r\n{\r\n  &quot;contentUrls&quot;: [\r\n    &quot;gcpsignedurl&quot;\r\n  ],\r\n  &quot;properties&quot;: {\r\n    &quot;diarizationEnabled&quot;: false,\r\n    &quot;wordLevelTimestampsEnabled&quot;: false,\r\n    &quot;punctuationMode&quot;: &quot;DictatedAndAutomatic&quot;,\r\n    &quot;profanityFilterMode&quot;: &quot;Masked&quot;\r\n  },\r\n  &quot;locale&quot;: &quot;en-US&quot;,\r\n  &quot;displayName&quot;: &quot;Transcription using default model for en-US&quot;\r\n}\r\n```\r\n\r\nthe transcription job gets created and I get the location URL of transcription from the header, now when I Am calling the location URL I get this error\r\n```\r\n    &quot;error&quot;: {\r\n      &quot;code&quot;: &quot;InvalidUri&quot;,\r\n      &quot;message&quot;: &quot;Authentication failed for recordings URI.&quot;\r\n    }\r\n    &quot;status&quot;: &quot;Failed&quot;\r\n```\r\n\r\nhow do I solve this problem?","title":"Unable to use GCP signed URL with Azure Cognitive Speech to text","body":"<p>I have uploaded an audio file on GCS bucket and then I created a signed URL for the file using this method:</p>\n<pre><code>storage.signUrl(\n                blobInfo,\n                DURATION,\n                TimeUnit.DAYS,\n                Storage.SignUrlOption.httpMethod(HttpMethod.GET),\n                Storage.SignUrlOption.withContentType()\n        );\n</code></pre>\n<p>When I pass this URL to Azure cognitive Speech to text service using the batch transcription REST API this is the request body of azure's create transcription API</p>\n<pre><code>{\n  &quot;contentUrls&quot;: [\n    &quot;gcpsignedurl&quot;\n  ],\n  &quot;properties&quot;: {\n    &quot;diarizationEnabled&quot;: false,\n    &quot;wordLevelTimestampsEnabled&quot;: false,\n    &quot;punctuationMode&quot;: &quot;DictatedAndAutomatic&quot;,\n    &quot;profanityFilterMode&quot;: &quot;Masked&quot;\n  },\n  &quot;locale&quot;: &quot;en-US&quot;,\n  &quot;displayName&quot;: &quot;Transcription using default model for en-US&quot;\n}\n</code></pre>\n<p>the transcription job gets created and I get the location URL of transcription from the header, now when I Am calling the location URL I get this error</p>\n<pre><code>    &quot;error&quot;: {\n      &quot;code&quot;: &quot;InvalidUri&quot;,\n      &quot;message&quot;: &quot;Authentication failed for recordings URI.&quot;\n    }\n    &quot;status&quot;: &quot;Failed&quot;\n</code></pre>\n<p>how do I solve this problem?</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":6144394,"reputation":631,"user_id":4790754,"display_name":"Arfat Binkileb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635781545,"creation_date":1635776545,"answer_id":69798282,"question_id":69797626,"body_markdown":"I don&#39;t understand why you don&#39;t want to use @Controller\r\n\r\n `@ReadOperation` has a parameter to set output content type in spring boot 2.xx.\r\n\r\n```java\r\n\r\nimport org.springframework.boot.actuate.endpoint.annotation.Endpoint;\r\nimport org.springframework.boot.actuate.endpoint.annotation.ReadOperation;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Endpoint(id = &quot;welcome&quot;)\r\n@Component\r\npublic class UtilClass {\r\n\r\n    @ReadOperation(produces = MediaType.TEXT_HTML_VALUE)\r\n    public String logger() {\r\n        return &quot;&lt;html&gt;&quot; +\r\n                &quot;&lt;table&gt;&quot; +\r\n                &quot;    &lt;thead&gt;&lt;tr&gt;&quot; +\r\n                &quot;       &lt;th&gt;ID&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;&lt;/tr&gt;&quot; +\r\n                &quot;&lt;/thead&gt;&quot; +\r\n                &quot; &lt;tbody&gt;&lt;tr&gt;&quot; +\r\n                &quot;       &lt;td&gt;1&lt;/td&gt;&lt;td&gt;Arfat&lt;/td&gt;&lt;/tr&gt;&quot; +\r\n                &quot;&lt;/tbody&gt;&quot; +\r\n                &quot;&lt;/table&gt;&quot; +\r\n                &quot;&lt;/html&gt;&quot;;\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8VLXl.png","title":"Return html content using @Endpoint springboot","body":"<p>I don't understand why you don't want to use @Controller</p>\n<p><code>@ReadOperation</code> has a parameter to set output content type in spring boot 2.xx.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.springframework.boot.actuate.endpoint.annotation.Endpoint;\nimport org.springframework.boot.actuate.endpoint.annotation.ReadOperation;\nimport org.springframework.http.MediaType;\nimport org.springframework.stereotype.Component;\n\n@Endpoint(id = &quot;welcome&quot;)\n@Component\npublic class UtilClass {\n\n    @ReadOperation(produces = MediaType.TEXT_HTML_VALUE)\n    public String logger() {\n        return &quot;&lt;html&gt;&quot; +\n                &quot;&lt;table&gt;&quot; +\n                &quot;    &lt;thead&gt;&lt;tr&gt;&quot; +\n                &quot;       &lt;th&gt;ID&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;&lt;/tr&gt;&quot; +\n                &quot;&lt;/thead&gt;&quot; +\n                &quot; &lt;tbody&gt;&lt;tr&gt;&quot; +\n                &quot;       &lt;td&gt;1&lt;/td&gt;&lt;td&gt;Arfat&lt;/td&gt;&lt;/tr&gt;&quot; +\n                &quot;&lt;/tbody&gt;&quot; +\n                &quot;&lt;/table&gt;&quot; +\n                &quot;&lt;/html&gt;&quot;;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8VLXl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8VLXl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10942565,"reputation":1483,"user_id":8041854,"accept_rate":50,"display_name":"Gvtha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69798282,"answer_count":1,"score":0,"last_activity_date":1635781545,"creation_date":1635773307,"question_id":69797626,"body_markdown":"I am able to access http://localhost/manage/welcome page. But not able to get the html. it just returns the string.\r\n\r\n    @Endpoint(id=&quot;welcome&quot;)\r\n    @Component\r\n    public class UtilClass {\r\n    \r\n        @ReadOperation\r\n        public String logger() {\r\n            return &quot;&lt;html&gt;&lt;table&gt;sampletable&lt;/table&gt;&lt;/html&gt;&quot;;\r\n        }\r\n    }\r\n\r\nPlease suggest any way to load html content without using @Controller/ @RestController or thyleaf\r\n\r\n\r\n\r\n","title":"Return html content using @Endpoint springboot","body":"<p>I am able to access http://localhost/manage/welcome page. But not able to get the html. it just returns the string.</p>\n<pre><code>@Endpoint(id=&quot;welcome&quot;)\n@Component\npublic class UtilClass {\n\n    @ReadOperation\n    public String logger() {\n        return &quot;&lt;html&gt;&lt;table&gt;sampletable&lt;/table&gt;&lt;/html&gt;&quot;;\n    }\n}\n</code></pre>\n<p>Please suggest any way to load html content without using @Controller/ @RestController or thyleaf</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":3,"creation_date":1635785065,"post_id":69799176,"comment_id":123380377,"body_markdown":"[Bug](https://youtrack.jetbrains.com/issue/KTIJ-15750) in IntelliJ 2021.2","body":"<a href=\"https://youtrack.jetbrains.com/issue/KTIJ-15750\" rel=\"nofollow noreferrer\">Bug</a> in IntelliJ 2021.2"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635781203,"creation_date":1635780924,"question_id":69799176,"body_markdown":"Linux Mint 20\r\n\r\nJava 8\r\n\r\nIntelliJ IDEA 2021.\r\n\r\n\r\nHere my JUnit test:\r\n```kotlin\r\n@Test\r\npublic void find_NS_40_higher_matcher() {\r\n     vsatVlans = new HashSet&lt;VsatVlan&gt;() {{\r\n         add(new VsatVlan(700));\r\n     }};\r\n     Set&lt;Integer&gt; higherMatchNsList = mobilityServiceTransitionImpl.findHigherMatchNsSet(vsatVlans, mapNS);\r\n     mapNS.keySet().retainAll(higherMatchNsList);\r\n     assertEquals(higherMatchNsList, mapNS.keySet());\r\n }\r\n```\r\n\r\nWhen I run it by IDEA its success pass. But when I try to start it in debug mode I get the error:\r\n\r\n    /home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/bin/java -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:52473,suspend=y,server=n -ea -javaagent:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core-jvm/1.5.2/f4cc07a50437659e0043e7da762809a46932b6a0/kotlinx-coroutines-core-jvm-1.5.2.jar -Didea.test.cyclic.buffer.size=1048576 -javaagent:/home/alexeij/.local/share/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5457.46/plugins/Groovy/lib/agent/gragent.jar -javaagent:/home/alexeij/.local/share/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5457.46/plugins/java/lib/rt/debugger-agent.jar -Dfile.encoding=UTF-8 -classpath /home/alexeij/.local/share/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5457.46/lib/idea_rt.jar:/home/alexeij/.local/share/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5457.46/plugins/junit/lib/junit5-rt.jar:/home/alexeij/.local/share/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5457.46/plugins/junit/lib/junit-rt.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/charsets.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/deploy.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/cldrdata.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/dnsns.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/jaccess.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/jfxrt.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/localedata.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/nashorn.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/sunec.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/sunjce_provider.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/sunpkcs11.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/zipfs.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/javaws.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/jce.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/jfr.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/jfxswt.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/jsse.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/management-agent.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/plugin.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/resources.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/rt.jar:/home/alexeij/dev/Projects/JavaTestGradleBOM/myModule1/out/test/classes:/home/alexeij/dev/Projects/JavaTestGradleBOM/myModule1/out/production/classes:/home/alexeij/dev/Projects/JavaTestGradleBOM/myModule1/out/production/resources:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.apache.commons/commons-lang3/3.11/68e9a6adf7cf8eb7e9d31bbc554c7c75eeaac568/commons-lang3-3.11.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-core/2.13.3/4e857439fc4fe974d212adaaaa3b118b8b50e3ec/log4j-core-2.13.3.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-slf4j-impl/2.13.3/7cca27a921a18645139cf651c04b83b1a19cfd76/log4j-slf4j-impl-2.13.3.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-api/2.13.3/ec1508160b93d274b1add34419b897bae84c6ca9/log4j-api-2.13.3.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.guava/guava/30.0-jre/8ddbc8769f73309fe09b54c5951163f10b0d89fa/guava-30.0-jre.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/junit/junit/4.13.2/8ac9e16d933b6fb43bc7f576336b8f4d7eb5ba12/junit-4.13.2.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.slf4j/slf4j-api/1.7.30/b5a4b6d16ab13e34a88fae84c35cd5d68cac922c/slf4j-api-1.7.30.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.guava/failureaccess/1.0.1/1dcf1de382a0bf95a3d8b0849546c88bac1292c9/failureaccess-1.0.1.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/b421526c5f297295adef1c886e5246c39d4ac629/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.code.findbugs/jsr305/3.0.2/25ea2e8b0c338a877313bd4672d3fe056ea78f0d/jsr305-3.0.2.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.checkerframework/checker-qual/3.5.0/2f50520c8abea66fbd8d26e481d3aef5c673b510/checker-qual-3.5.0.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_annotations/2.3.4/dac170e4594de319655ffb62f41cbd6dbb5e601e/error_prone_annotations-2.3.4.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.j2objc/j2objc-annotations/1.3/ba035118bc8bac37d7eff77700720999acd9986d/j2objc-annotations-1.3.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.hamcrest/hamcrest-core/2.2/3f2bd07716a31c395e2837254f37f21f0f0ab24b/hamcrest-core-2.2.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.hamcrest/hamcrest/2.2/1820c0968dba3a11a1b30669bb1f01978a91dedc/hamcrest-2.2.jar com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit4 com.gmail.alexei28.javatestgradlebom.mymodule1.VsatVlansHigherMatchNS_JUnit4_Test,find_NS_20_40_higher_matcher\r\n    Connected to the target VM, address: &#39;127.0.0.1:52473&#39;, transport: &#39;socket&#39;\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/Result\r\n    \tat kotlinx.coroutines.debug.AgentPremain.&lt;clinit&gt;(AgentPremain.kt:24)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:386)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:52473&#39;, transport: &#39;socket&#39;\r\n    \r\n    Process finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/Result","body":"<p>Linux Mint 20</p>\n<p>Java 8</p>\n<p>IntelliJ IDEA 2021.</p>\n<p>Here my JUnit test:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Test\npublic void find_NS_40_higher_matcher() {\n     vsatVlans = new HashSet&lt;VsatVlan&gt;() {{\n         add(new VsatVlan(700));\n     }};\n     Set&lt;Integer&gt; higherMatchNsList = mobilityServiceTransitionImpl.findHigherMatchNsSet(vsatVlans, mapNS);\n     mapNS.keySet().retainAll(higherMatchNsList);\n     assertEquals(higherMatchNsList, mapNS.keySet());\n }\n</code></pre>\n<p>When I run it by IDEA its success pass. But when I try to start it in debug mode I get the error:</p>\n<pre><code>/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/bin/java -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:52473,suspend=y,server=n -ea -javaagent:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core-jvm/1.5.2/f4cc07a50437659e0043e7da762809a46932b6a0/kotlinx-coroutines-core-jvm-1.5.2.jar -Didea.test.cyclic.buffer.size=1048576 -javaagent:/home/alexeij/.local/share/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5457.46/plugins/Groovy/lib/agent/gragent.jar -javaagent:/home/alexeij/.local/share/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5457.46/plugins/java/lib/rt/debugger-agent.jar -Dfile.encoding=UTF-8 -classpath /home/alexeij/.local/share/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5457.46/lib/idea_rt.jar:/home/alexeij/.local/share/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5457.46/plugins/junit/lib/junit5-rt.jar:/home/alexeij/.local/share/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5457.46/plugins/junit/lib/junit-rt.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/charsets.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/deploy.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/cldrdata.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/dnsns.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/jaccess.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/jfxrt.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/localedata.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/nashorn.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/sunec.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/sunjce_provider.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/sunpkcs11.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/ext/zipfs.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/javaws.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/jce.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/jfr.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/jfxswt.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/jsse.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/management-agent.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/plugin.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/resources.jar:/home/alexeij/.sdkman/candidates/java/jdk1.8.0_202/jre/lib/rt.jar:/home/alexeij/dev/Projects/JavaTestGradleBOM/myModule1/out/test/classes:/home/alexeij/dev/Projects/JavaTestGradleBOM/myModule1/out/production/classes:/home/alexeij/dev/Projects/JavaTestGradleBOM/myModule1/out/production/resources:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.apache.commons/commons-lang3/3.11/68e9a6adf7cf8eb7e9d31bbc554c7c75eeaac568/commons-lang3-3.11.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-core/2.13.3/4e857439fc4fe974d212adaaaa3b118b8b50e3ec/log4j-core-2.13.3.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-slf4j-impl/2.13.3/7cca27a921a18645139cf651c04b83b1a19cfd76/log4j-slf4j-impl-2.13.3.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-api/2.13.3/ec1508160b93d274b1add34419b897bae84c6ca9/log4j-api-2.13.3.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.guava/guava/30.0-jre/8ddbc8769f73309fe09b54c5951163f10b0d89fa/guava-30.0-jre.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/junit/junit/4.13.2/8ac9e16d933b6fb43bc7f576336b8f4d7eb5ba12/junit-4.13.2.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.slf4j/slf4j-api/1.7.30/b5a4b6d16ab13e34a88fae84c35cd5d68cac922c/slf4j-api-1.7.30.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.guava/failureaccess/1.0.1/1dcf1de382a0bf95a3d8b0849546c88bac1292c9/failureaccess-1.0.1.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/b421526c5f297295adef1c886e5246c39d4ac629/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.code.findbugs/jsr305/3.0.2/25ea2e8b0c338a877313bd4672d3fe056ea78f0d/jsr305-3.0.2.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.checkerframework/checker-qual/3.5.0/2f50520c8abea66fbd8d26e481d3aef5c673b510/checker-qual-3.5.0.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_annotations/2.3.4/dac170e4594de319655ffb62f41cbd6dbb5e601e/error_prone_annotations-2.3.4.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/com.google.j2objc/j2objc-annotations/1.3/ba035118bc8bac37d7eff77700720999acd9986d/j2objc-annotations-1.3.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.hamcrest/hamcrest-core/2.2/3f2bd07716a31c395e2837254f37f21f0f0ab24b/hamcrest-core-2.2.jar:/home/alexeij/.gradle/caches/modules-2/files-2.1/org.hamcrest/hamcrest/2.2/1820c0968dba3a11a1b30669bb1f01978a91dedc/hamcrest-2.2.jar com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit4 com.gmail.alexei28.javatestgradlebom.mymodule1.VsatVlansHigherMatchNS_JUnit4_Test,find_NS_20_40_higher_matcher\nConnected to the target VM, address: '127.0.0.1:52473', transport: 'socket'\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/Result\n    at kotlinx.coroutines.debug.AgentPremain.&lt;clinit&gt;(AgentPremain.kt:24)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:386)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nDisconnected from the target VM, address: '127.0.0.1:52473', transport: 'socket'\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8100,"page":1892,"page_size":100}
