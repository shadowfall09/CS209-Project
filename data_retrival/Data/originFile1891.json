{"items":[{"tags":["java","if-statement","conditional-statements"],"comments":[{"owner":{"account_id":2744856,"reputation":797,"user_id":2365494,"display_name":"Ricardo Cacheira"},"score":2,"creation_date":1368784082,"post_id":16606021,"comment_id":23871190,"body_markdown":"your 2 ways are equivalent","body":"your 2 ways are equivalent"},{"owner":{"account_id":926316,"reputation":159,"user_id":957055,"display_name":"Vasu"},"score":2,"creation_date":1368784878,"post_id":16606021,"comment_id":23871550,"body_markdown":"Java follows http://en.wikipedia.org/wiki/Short-circuit_evaluation (Short circuit evaluation) to validate that expression","body":"Java follows <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Short-circuit_evaluation</a> (Short circuit evaluation) to validate that expression"},{"owner":{"account_id":1241369,"reputation":1013,"user_id":1203897,"accept_rate":40,"display_name":"Dustfinger"},"score":1,"creation_date":1400845608,"post_id":16606021,"comment_id":36661772,"body_markdown":"Short circuit evaluation lets you evaluate conditions that will only be legal as long as the first condition is legal. You will often see code like  `if(string != null &amp;&amp; string.length &gt; 5)`","body":"Short circuit evaluation lets you evaluate conditions that will only be legal as long as the first condition is legal. You will often see code like  <code>if(string != null &amp;&amp; string.length &gt; 5)</code>"},{"owner":{"display_name":"user7627726"},"score":2,"creation_date":1498753521,"post_id":16606021,"comment_id":76641323,"body_markdown":"@RicardoCacheira actually they&#39;re quite different. Look at the first answer.","body":"@RicardoCacheira actually they&#39;re quite different. Look at the first answer."}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1368783954,"creation_date":1368783954,"answer_id":16606038,"question_id":16606021,"body_markdown":"Yes. If the first condition is not satisfied then the remainder are not evaluated. This is known as *short-circuiting*. See [here][1] for more details. Note that this isn&#39;t particular to Java and lot of other languages will do the same.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Short-circuit_evaluation","title":"Two conditions in one if statement does the second matter if the first is false?","body":"<p>Yes. If the first condition is not satisfied then the remainder are not evaluated. This is known as <em>short-circuiting</em>. See <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\">here</a> for more details. Note that this isn't particular to Java and lot of other languages will do the same.</p>\n"},{"tags":[],"owner":{"account_id":456582,"reputation":10927,"user_id":855421,"accept_rate":78,"display_name":"Lews Therin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1368784729,"creation_date":1368784000,"answer_id":16606053,"question_id":16606021,"body_markdown":"Yes, both usages are semantically equivalent... \r\nThat is, unless the length is &gt; 2, then is the code allowed to access more than the 2nd element.\r\n\r\nIn the first case, what matters is the `&amp;&amp;` operator, think of it as:\r\nIf first condition is true *then* apply second condition. \r\n\r\nThe subsequent condition also has an implicit &quot;then&quot; clause\r\n\r\n\r\n    if length greater than two\r\n     then access third element\r\n\r\n","title":"Two conditions in one if statement does the second matter if the first is false?","body":"<p>Yes, both usages are semantically equivalent... \nThat is, unless the length is > 2, then is the code allowed to access more than the 2nd element.</p>\n\n<p>In the first case, what matters is the <code>&amp;&amp;</code> operator, think of it as:\nIf first condition is true <em>then</em> apply second condition. </p>\n\n<p>The subsequent condition also has an implicit \"then\" clause</p>\n\n<pre><code>if length greater than two\n then access third element\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2060904,"reputation":3725,"user_id":1837457,"accept_rate":80,"display_name":"Elle"},"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1368784459,"creation_date":1368784097,"answer_id":16606091,"question_id":16606021,"body_markdown":"It is common for languages (Java and Python are among them) to evaluate the first argument of a logical `AND` and finish evaluation of the statement if the first argument is `false`. This is because:\r\n\r\nFrom [The Order of Evaluation of Logic Operators][1],\r\n\r\n&gt; When Java evaluates the expression d = b &amp;&amp; c;, it first checks whether b is true. Here b is false, so b &amp;&amp; c must be false regardless of whether c is or is not true, so Java doesn&#39;t bother checking the value of c.\r\n\r\nThis is known as [short-circuit evaluation][2], and is also referred to in the [Java docs][3].\r\n\r\nIt is common to see `list.count &gt; 0 &amp;&amp; list[0] == &quot;Something&quot;` to check a list element, if it exists.\r\n\r\n---\r\n\r\nIt is also worth mentioning that `if (list.length&gt;2 &amp;&amp; list[3] == 2)` is *not* equal to the second case\r\n\r\n    if (list.length&gt;2){\r\n        if (list[3] == 2){\r\n            ...\r\n        }\r\n    }\r\n\r\nif there is an `else` afterwards. The `else` will apply only to the `if` statement to which it is attached.\r\n\r\nTo demonstrate this gotcha:\r\n\r\n    if (x.kind.equals(&quot;Human&quot;)) {\r\n        if (x.name.equals(&quot;Jordan&quot;)) {\r\n            System.out.println(&quot;Hello Jordan!&quot;);\r\n        }\r\n    } else {\r\n        System.out.println(&quot;You are not a human!&quot;);\r\n    }\r\n\r\nwill work as expected, but\r\n\r\n    if (x.kind.equals(&quot;Human&quot;) &amp;&amp; x.name.equals(&quot;Jordan&quot;)) {\r\n        System.out.println(&quot;Hello Jordan!&quot;);\r\n    } else {\r\n        System.out.println(&quot;You are not a human!&quot;);\r\n    }\r\n\r\nwill also tell any Human who isn&#39;t `Jordan` they are not human.\r\n\r\n  [1]: http://www.cafeaulait.org/course/week2/46.html\r\n  [2]: http://en.wikipedia.org/wiki/Short-circuit_evaluation\r\n  [3]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html","title":"Two conditions in one if statement does the second matter if the first is false?","body":"<p>It is common for languages (Java and Python are among them) to evaluate the first argument of a logical <code>AND</code> and finish evaluation of the statement if the first argument is <code>false</code>. This is because:</p>\n\n<p>From <a href=\"http://www.cafeaulait.org/course/week2/46.html\" rel=\"noreferrer\">The Order of Evaluation of Logic Operators</a>,</p>\n\n<blockquote>\n  <p>When Java evaluates the expression d = b &amp;&amp; c;, it first checks whether b is true. Here b is false, so b &amp;&amp; c must be false regardless of whether c is or is not true, so Java doesn't bother checking the value of c.</p>\n</blockquote>\n\n<p>This is known as <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"noreferrer\">short-circuit evaluation</a>, and is also referred to in the <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"noreferrer\">Java docs</a>.</p>\n\n<p>It is common to see <code>list.count &gt; 0 &amp;&amp; list[0] == \"Something\"</code> to check a list element, if it exists.</p>\n\n<hr>\n\n<p>It is also worth mentioning that <code>if (list.length&gt;2 &amp;&amp; list[3] == 2)</code> is <em>not</em> equal to the second case</p>\n\n<pre><code>if (list.length&gt;2){\n    if (list[3] == 2){\n        ...\n    }\n}\n</code></pre>\n\n<p>if there is an <code>else</code> afterwards. The <code>else</code> will apply only to the <code>if</code> statement to which it is attached.</p>\n\n<p>To demonstrate this gotcha:</p>\n\n<pre><code>if (x.kind.equals(\"Human\")) {\n    if (x.name.equals(\"Jordan\")) {\n        System.out.println(\"Hello Jordan!\");\n    }\n} else {\n    System.out.println(\"You are not a human!\");\n}\n</code></pre>\n\n<p>will work as expected, but</p>\n\n<pre><code>if (x.kind.equals(\"Human\") &amp;&amp; x.name.equals(\"Jordan\")) {\n    System.out.println(\"Hello Jordan!\");\n} else {\n    System.out.println(\"You are not a human!\");\n}\n</code></pre>\n\n<p>will also tell any Human who isn't <code>Jordan</code> they are not human.</p>\n"},{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1368784097,"creation_date":1368784097,"answer_id":16606090,"question_id":16606021,"body_markdown":"Right from the javadoc:\r\n\r\n\r\n&gt; The Conditional Operators\r\n&gt; \r\n&gt; The &amp;&amp; and || operators perform Conditional-AND and Conditional-OR\r\n&gt; operations on two boolean expressions. These operators exhibit\r\n&gt; &quot;short-circuiting&quot; behavior, which means that the second operand is\r\n&gt; evaluated only if needed.\r\n&gt; \r\n&gt; &amp;&amp; Conditional-AND || Conditional-OR","title":"Two conditions in one if statement does the second matter if the first is false?","body":"<p>Right from the javadoc:</p>\n\n<blockquote>\n  <p>The Conditional Operators</p>\n  \n  <p>The &amp;&amp; and || operators perform Conditional-AND and Conditional-OR\n  operations on two boolean expressions. These operators exhibit\n  \"short-circuiting\" behavior, which means that the second operand is\n  evaluated only if needed.</p>\n  \n  <p>&amp;&amp; Conditional-AND || Conditional-OR</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2780756,"reputation":39,"user_id":2393355,"display_name":"Mangesh Date"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1368784177,"creation_date":1368784177,"answer_id":16606113,"question_id":16606021,"body_markdown":"If first condition is false then it wont check for second condition as anything &amp;&amp; F =F\r\nagain it depends which bit wise operation you are doing .\r\nlike in case of OR (||) if first condition is true (T) the it wont check for second condition as anything || T = T but if its false (F) then it will definitely check for second ","title":"Two conditions in one if statement does the second matter if the first is false?","body":"<p>If first condition is false then it wont check for second condition as anything &amp;&amp; F =F\nagain it depends which bit wise operation you are doing .\nlike in case of OR (||) if first condition is true (T) the it wont check for second condition as anything || T = T but if its false (F) then it will definitely check for second </p>\n"},{"tags":[],"owner":{"account_id":1326467,"reputation":63,"user_id":1271170,"display_name":"Smitha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368785448,"creation_date":1368785448,"answer_id":16606516,"question_id":16606021,"body_markdown":"You have specified in your IF statement that both of the conditions should be true for the System.out.println to be executed. So if the first condition itself fails,the second condition is not checked (this is for AND operator). But the second condition will be cheked if you have specified OR operator in the If statement. \r\n \r\n","title":"Two conditions in one if statement does the second matter if the first is false?","body":"<p>You have specified in your IF statement that both of the conditions should be true for the System.out.println to be executed. So if the first condition itself fails,the second condition is not checked (this is for AND operator). But the second condition will be cheked if you have specified OR operator in the If statement. </p>\n"},{"tags":[],"owner":{"account_id":13161998,"reputation":95,"user_id":9981862,"display_name":"iamjpsharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612849900,"creation_date":1612849900,"answer_id":66113677,"question_id":16606021,"body_markdown":"it will not read full expression because the result is clear even before the complete evaluation of the expression, and the result is returned","title":"Two conditions in one if statement does the second matter if the first is false?","body":"<p>it will not read full expression because the result is clear even before the complete evaluation of the expression, and the result is returned</p>\n"}],"owner":{"account_id":2052654,"reputation":3950,"user_id":1831275,"accept_rate":92,"display_name":"albusshin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119965,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":16606091,"answer_count":7,"score":55,"last_activity_date":1635851939,"creation_date":1368783882,"question_id":16606021,"body_markdown":"Okay, so I have this piece of code tested and I found there isn&#39;t any exception thrown out. \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] list = {1,2};\r\n\t\tif (list.length&gt;2 &amp;&amp; list[3] == 2){\r\n\t\t\tSystem.out.println(list[1]);\r\n\t\t}\r\n\t}\r\n\r\nDoes the statement here\r\n\r\n\tif (list.length&gt;2 &amp;&amp; list[3] == 2)\r\n\r\nmean that if the first condition is false we don&#39;t even have to check the second condition?\r\n\r\nOr it equals to \r\n\r\n\tif (list.length&gt;2){\r\n\t\tif (list[3] == 2){\r\n\t\t\t...\r\n\t\t}\r\n\t}\r\n\r\n?\r\n\r\nAnd, what if it is written in C or python or some other languages?\r\n\r\nThanks","title":"Two conditions in one if statement does the second matter if the first is false?","body":"<p>Okay, so I have this piece of code tested and I found there isn't any exception thrown out. </p>\n\n<pre><code>public static void main(String[] args) {\n    int[] list = {1,2};\n    if (list.length&gt;2 &amp;&amp; list[3] == 2){\n        System.out.println(list[1]);\n    }\n}\n</code></pre>\n\n<p>Does the statement here</p>\n\n<pre><code>if (list.length&gt;2 &amp;&amp; list[3] == 2)\n</code></pre>\n\n<p>mean that if the first condition is false we don't even have to check the second condition?</p>\n\n<p>Or it equals to </p>\n\n<pre><code>if (list.length&gt;2){\n    if (list[3] == 2){\n        ...\n    }\n}\n</code></pre>\n\n<p>?</p>\n\n<p>And, what if it is written in C or python or some other languages?</p>\n\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1635850470,"post_id":69809104,"comment_id":123397080,"body_markdown":"In this case, you need create a file before write, save it and later write. I trying remember if that library have something for do that automatically, but I am not sure.","body":"In this case, you need create a file before write, save it and later write. I trying remember if that library have something for do that automatically, but I am not sure."}],"answers":[{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635850921,"creation_date":1635850921,"answer_id":69809290,"question_id":69809104,"body_markdown":"You can check if the file already exists using the `exists()` method before you start writing to it.\r\nIf the file already exists, write to a different file.\r\n\r\n```\r\nFile excel = new File(determineFileName());\r\ntry (FileInputStream fis = new FileInputStream(excel);\r\n     XSSFWorkbook book = new XSSFWorkbook(fis);) {\r\n...\r\n}\r\n```\r\nwith\r\n\r\n```\r\nprivate String determineFileName(){\r\n  String path = &quot;C:\\\\TEST\\\\Test.xlsx&quot;;\r\n  int counter = 0;\r\n  while(new File(path).exists()){\r\n    counter++;\r\n    path = &quot;C:\\\\TEST\\\\Test(&quot; + counter + &quot;).xlsx&quot;;\r\n  }\r\n  return path;\r\n}\r\n```","title":"Rename the file if exists instead of overwriting it","body":"<p>You can check if the file already exists using the <code>exists()</code> method before you start writing to it.\nIf the file already exists, write to a different file.</p>\n<pre><code>File excel = new File(determineFileName());\ntry (FileInputStream fis = new FileInputStream(excel);\n     XSSFWorkbook book = new XSSFWorkbook(fis);) {\n...\n}\n</code></pre>\n<p>with</p>\n<pre><code>private String determineFileName(){\n  String path = &quot;C:\\\\TEST\\\\Test.xlsx&quot;;\n  int counter = 0;\n  while(new File(path).exists()){\n    counter++;\n    path = &quot;C:\\\\TEST\\\\Test(&quot; + counter + &quot;).xlsx&quot;;\n  }\n  return path;\n}\n</code></pre>\n"}],"owner":{"account_id":8238840,"reputation":637,"user_id":6197069,"display_name":"Hanamant Jadhav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635851626,"creation_date":1635850001,"question_id":69809104,"body_markdown":"When I execute below code it overwrite the existing file. I want to keep old file and new file too. What can be done here? Can we rename it like Test(1).xlsx, Test(2).xlsx, Test(3).xlsx like windows pattern?\r\n\r\n    File excel = new File(&quot;C:\\\\TEST\\\\Test.xlsx&quot;);\r\n    try (FileInputStream fis = new FileInputStream(excel); \r\n         XSSFWorkbook book = new XSSFWorkbook(fis);) {\r\n    \t..\r\n    \t..\r\n    \t..\r\n    \ttry (FileOutputStream outputStream = new FileOutputStream(&quot;C:\\\\TEST\\\\Output\\\\Test.xlsx&quot;)) {\r\n    \t    book.write(outputStream);\r\n        }\r\n    }\r\n    \t","title":"Rename the file if exists instead of overwriting it","body":"<p>When I execute below code it overwrite the existing file. I want to keep old file and new file too. What can be done here? Can we rename it like Test(1).xlsx, Test(2).xlsx, Test(3).xlsx like windows pattern?</p>\n<pre><code>File excel = new File(&quot;C:\\\\TEST\\\\Test.xlsx&quot;);\ntry (FileInputStream fis = new FileInputStream(excel); \n     XSSFWorkbook book = new XSSFWorkbook(fis);) {\n    ..\n    ..\n    ..\n    try (FileOutputStream outputStream = new FileOutputStream(&quot;C:\\\\TEST\\\\Output\\\\Test.xlsx&quot;)) {\n        book.write(outputStream);\n    }\n}\n    \n</code></pre>\n"},{"tags":["java","android","android-animation"],"comments":[{"owner":{"account_id":775117,"reputation":1863,"user_id":822673,"accept_rate":68,"display_name":"Dhrupal"},"score":0,"creation_date":1415611601,"post_id":26819429,"comment_id":42245209,"body_markdown":"Did you get solution?","body":"Did you get solution?"},{"owner":{"account_id":1674650,"reputation":5804,"user_id":1540456,"accept_rate":64,"display_name":"Atlas91"},"score":0,"creation_date":1415629310,"post_id":26819429,"comment_id":42254787,"body_markdown":"Nope!! I tried in every way without success!","body":"Nope!! I tried in every way without success!"}],"answers":[{"tags":[],"owner":{"account_id":152022,"reputation":4063,"user_id":366253,"accept_rate":57,"display_name":"Fernando Gallego"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415637680,"creation_date":1415637680,"answer_id":26848616,"question_id":26819429,"body_markdown":"Try to call it on the `onViewCreated` method","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>Try to call it on the <code>onViewCreated</code> method</p>\n"},{"tags":[],"owner":{"account_id":152022,"reputation":4063,"user_id":366253,"accept_rate":57,"display_name":"Fernando Gallego"},"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1615887820,"creation_date":1415699386,"answer_id":26861930,"question_id":26819429,"body_markdown":"This is how I solved it, I added a onLayoutChange listener to the view in onCreateView callback, so whenever it is attached to the view and ready to draw, it makes the reveal\r\n\r\n    @Override\r\n    \tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\r\n    \t{\r\n    \t\t// Inflate the layout for this fragment\r\n    \t\tfinal View view = inflater.inflate(R.layout.fragment_map_list, container, false);\r\n            if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                view.addOnLayoutChangeListener(new View.OnLayoutChangeListener() {\r\n                    @TargetApi(Build.VERSION_CODES.LOLLIPOP)\r\n                    @Override\r\n                    public void onLayoutChange(View v, int left, int top, int right, int bottom, int oldLeft, int oldTop, int oldRight, int oldBottom) {\r\n                        v.removeOnLayoutChangeListener(this);\r\n                        toggleInformationView(view);\r\n                    }\r\n                });\r\n            }\r\n    \t\treturn view;\r\n    \t}\r\n\r\nEDIT: As some people posted, it is better to call `toggleInformationView` in `onViewCreated` and avoid the `View.OnLayoutChangeListener` ","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>This is how I solved it, I added a onLayoutChange listener to the view in onCreateView callback, so whenever it is attached to the view and ready to draw, it makes the reveal</p>\n<pre><code>@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\n    {\n        // Inflate the layout for this fragment\n        final View view = inflater.inflate(R.layout.fragment_map_list, container, false);\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            view.addOnLayoutChangeListener(new View.OnLayoutChangeListener() {\n                @TargetApi(Build.VERSION_CODES.LOLLIPOP)\n                @Override\n                public void onLayoutChange(View v, int left, int top, int right, int bottom, int oldLeft, int oldTop, int oldRight, int oldBottom) {\n                    v.removeOnLayoutChangeListener(this);\n                    toggleInformationView(view);\n                }\n            });\n        }\n        return view;\n    }\n</code></pre>\n<p>EDIT: As some people posted, it is better to call <code>toggleInformationView</code> in <code>onViewCreated</code> and avoid the <code>View.OnLayoutChangeListener</code></p>\n"},{"tags":[],"owner":{"account_id":3507397,"reputation":1206,"user_id":2932628,"accept_rate":90,"display_name":"Ziv Kesten"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1423641266,"creation_date":1423641266,"answer_id":28449176,"question_id":26819429,"body_markdown":"How about simply placing the method in the onViewCreated() method:\r\n\r\n    @Override\r\n        public void onViewCreated(View view, Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            toggleInformationView(view);\r\n        }\r\n\r\nit works ","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>How about simply placing the method in the onViewCreated() method:</p>\n\n<pre><code>@Override\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        toggleInformationView(view);\n    }\n</code></pre>\n\n<p>it works </p>\n"},{"tags":[],"owner":{"account_id":6639886,"reputation":809,"user_id":5160524,"accept_rate":83,"display_name":"BennyKok"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1489306023,"creation_date":1444475373,"answer_id":33053311,"question_id":26819429,"body_markdown":"You can use runnable to do the anim . The runnable will run after the view&#39;s creation .\r\n      \r\n    view.post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //create your anim here\r\n                }\r\n            });","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>You can use runnable to do the anim . The runnable will run after the view's creation .</p>\n\n<pre><code>view.post(new Runnable() {\n            @Override\n            public void run() {\n                //create your anim here\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2599209,"reputation":42707,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474030515,"creation_date":1474030515,"answer_id":39532069,"question_id":26819429,"body_markdown":"I was using custom View so I used `isAttachedToWindow()` method to check if view is attached and  avoid doing reveal while view is not attached.\r\n     ","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>I was using custom View so I used <code>isAttachedToWindow()</code> method to check if view is attached and  avoid doing reveal while view is not attached.</p>\n"},{"tags":[],"owner":{"account_id":2006578,"reputation":4916,"user_id":1796309,"accept_rate":70,"display_name":"Aleksandr"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1477467603,"creation_date":1477467603,"answer_id":40256396,"question_id":26819429,"body_markdown":"Small addition to [Hitesh&#39;s][1] answer.\r\nIt&#39;s better to use \r\nhttps://developer.android.com/reference/android/support/v4/view/ViewCompat.html#isAttachedToWindow(android.view.View)\r\n\r\n    android.support.v4.view.ViewCompat\r\n    \r\n    boolean isAttachedToWindow (View view)\r\n\r\nExample:\r\n\r\n    LinearLayout rootView = null;\r\n    rootView = (LinearLayout) findViewById(R.id.rootView);\r\n    boolean isAttachedToWindow = ViewCompat.isAttachedToWindow(rootView);\r\n\r\n  [1]: https://stackoverflow.com/users/2252113/hitesh-sahu","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>Small addition to <a href=\"https://stackoverflow.com/users/2252113/hitesh-sahu\">Hitesh's</a> answer.\nIt's better to use \n<a href=\"https://developer.android.com/reference/android/support/v4/view/ViewCompat.html#isAttachedToWindow(android.view.View)\" rel=\"noreferrer\">https://developer.android.com/reference/android/support/v4/view/ViewCompat.html#isAttachedToWindow(android.view.View)</a></p>\n\n<pre><code>android.support.v4.view.ViewCompat\n\nboolean isAttachedToWindow (View view)\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>LinearLayout rootView = null;\nrootView = (LinearLayout) findViewById(R.id.rootView);\nboolean isAttachedToWindow = ViewCompat.isAttachedToWindow(rootView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3803158,"reputation":5427,"user_id":3156226,"accept_rate":79,"display_name":"josedlujan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501813011,"creation_date":1501813011,"answer_id":45497278,"question_id":26819429,"body_markdown":"Use a ViewTreeObserver.\r\n\r\n \r\n\r\n     ViewTreeObserver viewTreeObserver = rootLayout.getViewTreeObserver();\r\n        if (viewTreeObserver.isAlive()) {\r\n            viewTreeObserver.addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n                @Override\r\n                public void onGlobalLayout() {\r\n                    revealActivity(revealX, revealY);\r\n                    rootLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n                }\r\n            });\r\n        }","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>Use a ViewTreeObserver.</p>\n\n<pre><code> ViewTreeObserver viewTreeObserver = rootLayout.getViewTreeObserver();\n    if (viewTreeObserver.isAlive()) {\n        viewTreeObserver.addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n            @Override\n            public void onGlobalLayout() {\n                revealActivity(revealX, revealY);\n                rootLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n            }\n        });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11834287,"reputation":1275,"user_id":8660085,"display_name":"Sohaib Aslam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515776496,"creation_date":1515776496,"answer_id":48230831,"question_id":26819429,"body_markdown":"ah !!!, so finally here is the solution for this error. Actually, the problem is that we are assigning a view to animation with its height and width, and suddenly we didn&#39;t notice that there may be a case, that view won&#39;t load properly that time when we are assigning it to animation. So for that, we have to wait until view properly loads.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n\r\n    LayoutInflater inflater = this.getLayoutInflater();\r\n    View rowView = inflater.inflate( R.layout.fileselecttype,null, true );\r\n         \r\n    rowView   or [Your View]\r\n\r\n    [Your View].post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //Do your animation work here.\r\n                }\r\n            });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>ah !!!, so finally here is the solution for this error. Actually, the problem is that we are assigning a view to animation with its height and width, and suddenly we didn't notice that there may be a case, that view won't load properly that time when we are assigning it to animation. So for that, we have to wait until view properly loads.</p>\n\n<pre><code>LayoutInflater inflater = this.getLayoutInflater();\nView rowView = inflater.inflate( R.layout.fileselecttype,null, true );\n\nrowView   or [Your View]\n\n[Your View].post(new Runnable() {\n            @Override\n            public void run() {\n                //Do your animation work here.\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5305317,"reputation":994,"user_id":4233479,"accept_rate":22,"display_name":"Rehan Sarwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522828432,"creation_date":1522828078,"answer_id":49645507,"question_id":26819429,"body_markdown":"Check your Layout is attached to window or not by using `rootLayout.isAttachedToWindow()` method.\r\n\r\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            if (rootLayout!= null) {\r\n\r\n                if(rootLayout.isAttachedToWindow()) {\r\n                    ViewTreeObserver viewTreeObserver = drawerLayout.getViewTreeObserver();\r\n                    if (viewTreeObserver.isAlive()) {\r\n                        viewTreeObserver.addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n                            @Override\r\n                            public void onGlobalLayout() {\r\n                                startRevealAnimation(rootLayout);\r\n                                rootLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>Check your Layout is attached to window or not by using <code>rootLayout.isAttachedToWindow()</code> method.</p>\n\n<pre><code> if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n        if (rootLayout!= null) {\n\n            if(rootLayout.isAttachedToWindow()) {\n                ViewTreeObserver viewTreeObserver = drawerLayout.getViewTreeObserver();\n                if (viewTreeObserver.isAlive()) {\n                    viewTreeObserver.addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n                        @Override\n                        public void onGlobalLayout() {\n                            startRevealAnimation(rootLayout);\n                            rootLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n                        }\n                    });\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2511785,"reputation":2698,"user_id":2184088,"accept_rate":12,"display_name":"Juan Mendez"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1547924228,"creation_date":1531860475,"answer_id":51389956,"question_id":26819429,"body_markdown":"simplified outside of the scope of the question\r\n\r\n    private void startAnimation(@NonNull final View view, @NonNull final Runnable onAttachedToWindow) {\r\n        if (view.isAttachedToWindow()) {\r\n            onAttachedToWindow.run();\r\n        } else {\r\n            view.addOnAttachStateChangeListener(new View.OnAttachStateChangeListener() {\r\n                @Override\r\n                public void onViewAttachedToWindow(View view) {\r\n                    onAttachedToWindow.run();\r\n                    view.removeOnAttachStateChangeListener(this)\r\n                }\r\n\r\n                @Override\r\n                public void onViewDetachedFromWindow(View view) {\r\n\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\ncall startAnimation for one or many animations in mind\r\n\r\n    startAnimation(view, new Runnable() {\r\n            @Override\r\n            public void run() {\r\n              //the code inside toggleInformationView(view)\r\n            }\r\n        });","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>simplified outside of the scope of the question</p>\n\n<pre><code>private void startAnimation(@NonNull final View view, @NonNull final Runnable onAttachedToWindow) {\n    if (view.isAttachedToWindow()) {\n        onAttachedToWindow.run();\n    } else {\n        view.addOnAttachStateChangeListener(new View.OnAttachStateChangeListener() {\n            @Override\n            public void onViewAttachedToWindow(View view) {\n                onAttachedToWindow.run();\n                view.removeOnAttachStateChangeListener(this)\n            }\n\n            @Override\n            public void onViewDetachedFromWindow(View view) {\n\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>call startAnimation for one or many animations in mind</p>\n\n<pre><code>startAnimation(view, new Runnable() {\n        @Override\n        public void run() {\n          //the code inside toggleInformationView(view)\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19957661,"reputation":99,"user_id":14625997,"display_name":"Afshin Samiei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635850906,"creation_date":1635850906,"answer_id":69809289,"question_id":26819429,"body_markdown":"\r\nlooks like your view has not been attached yet.\r\nview.post() goes into the main thread queue and gets executed after the other pending tasks are finished and it means after your view gets attached so this will work for you:\r\n\r\n    view.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                //do what you want\r\n            }\r\n        });","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>looks like your view has not been attached yet.\nview.post() goes into the main thread queue and gets executed after the other pending tasks are finished and it means after your view gets attached so this will work for you:</p>\n<pre><code>view.post(new Runnable() {\n        @Override\n        public void run() {\n            //do what you want\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":1674650,"reputation":5804,"user_id":1540456,"accept_rate":64,"display_name":"Atlas91"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29774,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":26861930,"answer_count":11,"score":70,"last_activity_date":1635850906,"creation_date":1415464569,"question_id":26819429,"body_markdown":"I&#39;m trying to create the reveal effect in my application but without success. What i want is reveal a cardview when i open a fragment. What i tried so far is:\r\n\r\n    private void toggleInformationView(View view) {\r\n    \t\tinfoContainer = view.findViewById(R.id.contact_card);\r\n    \t\t\r\n            int cx = (view.getLeft() + view.getRight()) / 2;\r\n            int cy = (view.getTop() + view.getBottom()) / 2;\r\n            float radius = Math.max(infoContainer.getWidth(), infoContainer.getHeight()) * 2.0f;\r\n    \r\n            if (infoContainer.getVisibility() == View.INVISIBLE) {\r\n                infoContainer.setVisibility(View.VISIBLE);\r\n                ViewAnimationUtils.createCircularReveal(infoContainer, cx, cy, 0, radius).start();\r\n            } else {\r\n                Animator reveal = ViewAnimationUtils.createCircularReveal(\r\n                        infoContainer, cx, cy, radius, 0);\r\n                reveal.addListener(new AnimatorListenerAdapter() {\r\n                    @Override\r\n                    public void onAnimationEnd(Animator animation) {\r\n                        infoContainer.setVisibility(View.INVISIBLE);\r\n                    }\r\n                });\r\n                reveal.start();\r\n            }\r\n        }\r\n\r\nand in the `onCreateView` i started the method:\r\n\r\n    toggleInformationView(view);\r\n\r\nthis is the cardview:\r\n\r\n    &lt;android.support.v7.widget.CardView\r\n            xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/contact_card&quot;\r\n            android:visibility=&quot;invisible&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:elevation=&quot;4dp&quot;\r\n            android:foreground=&quot;?android:attr/selectableItemBackground&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            card_view:cardCornerRadius=&quot;2dp&quot; &gt;\r\n    \r\n            &lt;LinearLayout   \r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n            \tandroid:layout_height=&quot;wrap_content&quot;\r\n                &gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/bg_contact&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_weight=&quot;0&quot;\r\n                    android:adjustViewBounds=&quot;true&quot;\r\n                    android:scaleType=&quot;centerCrop&quot;\r\n                    android:src=&quot;@drawable/banner&quot; /&gt;\r\n                \r\n            &lt;/LinearLayout&gt;\r\n        &lt;/android.support.v7.widget.CardView&gt;\r\n\r\nand the logcat:\r\n\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): java.lang.IllegalStateException: Cannot start this animator on a detached view!\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.view.RenderNode.addAnimator(RenderNode.java:817)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.view.RenderNodeAnimator.setTarget(RenderNodeAnimator.java:277)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.view.RenderNodeAnimator.setTarget(RenderNodeAnimator.java:261)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.animation.RevealAnimator.&lt;init&gt;(RevealAnimator.java:37)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.view.ViewAnimationUtils.createCircularReveal(ViewAnimationUtils.java:48)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat com.as.asapp.TFragment.toggleInformationView(TFragment.java:64)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat com.as.asapp.TFragmentshowInformation(TFragment.java:52)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat com.as.asapp.TFragment.onCreateView(TFragment.java:37)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.support.v4.app.Fragment.performCreateView(Fragment.java:1786)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:947)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1126)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.support.v4.app.BackStackRecord.run(BackStackRecord.java:739)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1489)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:454)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.os.Handler.handleCallback(Handler.java:739)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.os.Looper.loop(Looper.java:135)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat android.app.ActivityThread.main(ActivityThread.java:5221)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat java.lang.reflect.Method.invoke(Native Method)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat java.lang.reflect.Method.invoke(Method.java:372)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\r\n    11-08 17:25:48.541: E/AndroidRuntime(26925): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\r\n\r\nChecking, seems that `getWidth()` and `getHeight()` returns 0. But i don&#39;t know if it&#39;s the real problem. Thanks","title":"Cannot start this animator on a detached view! reveal effect","body":"<p>I'm trying to create the reveal effect in my application but without success. What i want is reveal a cardview when i open a fragment. What i tried so far is:</p>\n\n<pre><code>private void toggleInformationView(View view) {\n        infoContainer = view.findViewById(R.id.contact_card);\n\n        int cx = (view.getLeft() + view.getRight()) / 2;\n        int cy = (view.getTop() + view.getBottom()) / 2;\n        float radius = Math.max(infoContainer.getWidth(), infoContainer.getHeight()) * 2.0f;\n\n        if (infoContainer.getVisibility() == View.INVISIBLE) {\n            infoContainer.setVisibility(View.VISIBLE);\n            ViewAnimationUtils.createCircularReveal(infoContainer, cx, cy, 0, radius).start();\n        } else {\n            Animator reveal = ViewAnimationUtils.createCircularReveal(\n                    infoContainer, cx, cy, radius, 0);\n            reveal.addListener(new AnimatorListenerAdapter() {\n                @Override\n                public void onAnimationEnd(Animator animation) {\n                    infoContainer.setVisibility(View.INVISIBLE);\n                }\n            });\n            reveal.start();\n        }\n    }\n</code></pre>\n\n<p>and in the <code>onCreateView</code> i started the method:</p>\n\n<pre><code>toggleInformationView(view);\n</code></pre>\n\n<p>this is the cardview:</p>\n\n<pre><code>&lt;android.support.v7.widget.CardView\n        xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:id=\"@+id/contact_card\"\n        android:visibility=\"invisible\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"5dp\"\n        android:elevation=\"4dp\"\n        android:foreground=\"?android:attr/selectableItemBackground\"\n        android:orientation=\"vertical\"\n        android:padding=\"10dp\"\n        card_view:cardCornerRadius=\"2dp\" &gt;\n\n        &lt;LinearLayout   \n            android:orientation=\"vertical\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            &gt;\n            &lt;ImageView\n                android:id=\"@+id/bg_contact\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_weight=\"0\"\n                android:adjustViewBounds=\"true\"\n                android:scaleType=\"centerCrop\"\n                android:src=\"@drawable/banner\" /&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n<p>and the logcat:</p>\n\n<pre><code>11-08 17:25:48.541: E/AndroidRuntime(26925): java.lang.IllegalStateException: Cannot start this animator on a detached view!\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.view.RenderNode.addAnimator(RenderNode.java:817)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.view.RenderNodeAnimator.setTarget(RenderNodeAnimator.java:277)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.view.RenderNodeAnimator.setTarget(RenderNodeAnimator.java:261)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.animation.RevealAnimator.&lt;init&gt;(RevealAnimator.java:37)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.view.ViewAnimationUtils.createCircularReveal(ViewAnimationUtils.java:48)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at com.as.asapp.TFragment.toggleInformationView(TFragment.java:64)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at com.as.asapp.TFragmentshowInformation(TFragment.java:52)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at com.as.asapp.TFragment.onCreateView(TFragment.java:37)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.support.v4.app.Fragment.performCreateView(Fragment.java:1786)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:947)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1126)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:739)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1489)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:454)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.os.Handler.handleCallback(Handler.java:739)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.os.Handler.dispatchMessage(Handler.java:95)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.os.Looper.loop(Looper.java:135)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at android.app.ActivityThread.main(ActivityThread.java:5221)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at java.lang.reflect.Method.invoke(Native Method)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at java.lang.reflect.Method.invoke(Method.java:372)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\n11-08 17:25:48.541: E/AndroidRuntime(26925):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\n</code></pre>\n\n<p>Checking, seems that <code>getWidth()</code> and <code>getHeight()</code> returns 0. But i don't know if it's the real problem. Thanks</p>\n"},{"tags":["java","spring","spring-cloud-stream"],"comments":[{"owner":{"account_id":18238860,"reputation":15,"user_id":14735545,"display_name":"Danzxz"},"score":0,"creation_date":1635838048,"post_id":69806592,"comment_id":123392430,"body_markdown":"I need to filter by the name field from the Entity class","body":"I need to filter by the name field from the Entity class"}],"answers":[{"tags":[],"owner":{"account_id":8838669,"reputation":776,"user_id":6601800,"display_name":"Linh Vu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635842280,"creation_date":1635842280,"answer_id":69807432,"question_id":69806592,"body_markdown":"As you can see from [version 3.0](https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_using_streamlistener_for_content_based_routing), you should avoid using filtering based on the message payload. Notice these lines from the documentation:\r\n&gt; The preceding code is perfectly valid. It compiles and deploys without any issues, yet it never produces the result you expect.\r\n\r\n&gt; That is because you are testing something that does not yet exist in a state you expect. That is because the payload of the message is not yet converted from the wire format (byte[]) to the desired type\r\n\r\n&gt; So, unless you use a SPeL expression that evaluates raw data (for example, the value of the first byte in the byte array), use message header-based expressions (such as condition = &quot;headers[&#39;type&#39;]==&#39;dog&#39;&quot;).\r\n\r\nSo, for your case, you could add one more header into your messages and filter by using conditions on your header, e.g:\r\n```java\r\nMessage&lt;Event&gt; message = MessageBuilder.withPayload(event)\r\n                .setHeader(KafkaHeaders.MESSAGE_KEY, event.getRequestId().toString().getBytes(StandardCharsets.UTF_8))\r\n                .setHeader(&quot;entityName&quot;, event.getEnity().getName().getBytes(StandardCharsets.UTF_8))\r\n                .build();\r\nthis.streamBridge.send(&quot;binding&quot;, message);\r\n```\r\nAnd now your condition would be `condition = &quot;headers[&#39;entityName&#39;]==&#39;ABCName&#39;&quot;`\r\n\r\n**Notice:** Annotation-based programming model. Basically the @EnableBinding, @StreamListener and all related annotations are now deprecated from [version 3.x](https://docs.spring.io/spring-cloud-stream/docs/3.1.5/reference/html/spring-cloud-stream.html#spring-cloud-stream-preface-notable-deprecations)\r\n","title":"How to add a field from body to a condition","body":"<p>As you can see from <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_using_streamlistener_for_content_based_routing\" rel=\"nofollow noreferrer\">version 3.0</a>, you should avoid using filtering based on the message payload. Notice these lines from the documentation:</p>\n<blockquote>\n<p>The preceding code is perfectly valid. It compiles and deploys without any issues, yet it never produces the result you expect.</p>\n</blockquote>\n<blockquote>\n<p>That is because you are testing something that does not yet exist in a state you expect. That is because the payload of the message is not yet converted from the wire format (byte[]) to the desired type</p>\n</blockquote>\n<blockquote>\n<p>So, unless you use a SPeL expression that evaluates raw data (for example, the value of the first byte in the byte array), use message header-based expressions (such as condition = &quot;headers['type']=='dog'&quot;).</p>\n</blockquote>\n<p>So, for your case, you could add one more header into your messages and filter by using conditions on your header, e.g:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Message&lt;Event&gt; message = MessageBuilder.withPayload(event)\n                .setHeader(KafkaHeaders.MESSAGE_KEY, event.getRequestId().toString().getBytes(StandardCharsets.UTF_8))\n                .setHeader(&quot;entityName&quot;, event.getEnity().getName().getBytes(StandardCharsets.UTF_8))\n                .build();\nthis.streamBridge.send(&quot;binding&quot;, message);\n</code></pre>\n<p>And now your condition would be <code>condition = &quot;headers['entityName']=='ABCName'&quot;</code></p>\n<p><strong>Notice:</strong> Annotation-based programming model. Basically the @EnableBinding, @StreamListener and all related annotations are now deprecated from <a href=\"https://docs.spring.io/spring-cloud-stream/docs/3.1.5/reference/html/spring-cloud-stream.html#spring-cloud-stream-preface-notable-deprecations\" rel=\"nofollow noreferrer\">version 3.x</a></p>\n"}],"owner":{"account_id":18238860,"reputation":15,"user_id":14735545,"display_name":"Danzxz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69807432,"answer_count":1,"score":0,"last_activity_date":1635850570,"creation_date":1635837272,"question_id":69806592,"body_markdown":"I use the `@StreamListener` annotation to listen to the topic. How can I add a field from body to the condition? An example of an entity that is sent to the topic:\r\n\r\n    public class Event {\r\n    \r\n        private String eventId = UUID.randomUUID().toString();\r\n        private LocalDateTime eventTime = LocalDateTime.now();\r\n        private Entity entity;\r\n    }\r\n    \r\n    public class Entity {\r\n    \r\n        private String id = UUID.randomUUID().toString();\r\n        private String name;\r\n    }","title":"How to add a field from body to a condition","body":"<p>I use the <code>@StreamListener</code> annotation to listen to the topic. How can I add a field from body to the condition? An example of an entity that is sent to the topic:</p>\n<pre><code>public class Event {\n\n    private String eventId = UUID.randomUUID().toString();\n    private LocalDateTime eventTime = LocalDateTime.now();\n    private Entity entity;\n}\n\npublic class Entity {\n\n    private String id = UUID.randomUUID().toString();\n    private String name;\n}\n</code></pre>\n"},{"tags":["java","garbage-collection","jvm"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635849605,"creation_date":1635849605,"answer_id":69809018,"question_id":69808925,"body_markdown":"If you can access the object, it is trivially not collectable.\r\n\r\nThe JVMTI system (Java Virtual Machine Tool Interface) lets other processes link up to a JVM and get stats from it. It&#39;s what debuggers and profilers use; visualvm (ships with most JDKs) can do this, as can many commercial offerings. They give you some GC insights.\r\n\r\nThe JDK itself can do so as well, using `-XX:+PrintGCDetails` - [read this article](https://sematext.com/blog/java-garbage-collection-logs/) for more.\r\n\r\nFrom within the same JVM, you can use the classes in `java.lang.ref` to make references to objects without impeding garbage collection. Trivially:\r\n\r\n```\r\nclass Test {\r\n  private final WeakReference&lt;String&gt; weakRef;\r\n\r\n  public void test() {\r\n    String y = new String(&quot;&quot;);\r\n    weakRef = new WeakReference&lt;&gt;(y);\r\n  }\r\n\r\n  public boolean hasItBeenCollectedYet() {\r\n    // weak refs don&#39;t impede collection; `.get()` returns null once\r\n    // the object begins its collection process.\r\n    return weakRef.get() == null;\r\n  }\r\n}\r\n```\r\n\r\nBut, using that system to just gather up general stats? It&#39;s not great at it - the other two options are much nicer.\r\n","title":"How can we know whether an object is marked as garbage by GC?","body":"<p>If you can access the object, it is trivially not collectable.</p>\n<p>The JVMTI system (Java Virtual Machine Tool Interface) lets other processes link up to a JVM and get stats from it. It's what debuggers and profilers use; visualvm (ships with most JDKs) can do this, as can many commercial offerings. They give you some GC insights.</p>\n<p>The JDK itself can do so as well, using <code>-XX:+PrintGCDetails</code> - <a href=\"https://sematext.com/blog/java-garbage-collection-logs/\" rel=\"nofollow noreferrer\">read this article</a> for more.</p>\n<p>From within the same JVM, you can use the classes in <code>java.lang.ref</code> to make references to objects without impeding garbage collection. Trivially:</p>\n<pre><code>class Test {\n  private final WeakReference&lt;String&gt; weakRef;\n\n  public void test() {\n    String y = new String(&quot;&quot;);\n    weakRef = new WeakReference&lt;&gt;(y);\n  }\n\n  public boolean hasItBeenCollectedYet() {\n    // weak refs don't impede collection; `.get()` returns null once\n    // the object begins its collection process.\n    return weakRef.get() == null;\n  }\n}\n</code></pre>\n<p>But, using that system to just gather up general stats? It's not great at it - the other two options are much nicer.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635850442,"creation_date":1635850442,"answer_id":69809192,"question_id":69808925,"body_markdown":"The short answer is that there isn&#39;t a good way.  \r\n\r\nAnd there isn&#39;t **any** way to do it within a program that doesn&#39;t (in various ways) alter the behavior of the object that you trying to examine.\r\n\r\nThe &quot;not good&quot; ways are:\r\n\r\n  - By using `Reference` types.  The problem is that this alters the object&#39;s lifetime, and only tells you the object&#39;s status at the last point in time that the GC ran.\r\n\r\n  - By taking a heap dump and examining it with a heap dump analyzer.  The problem is that taking a heap dump is an expensive &quot;stop the world&quot; event, it uses a lot of disk space and it needs a lot of RAM to load and analyze the dump.\r\n\r\nFinally, you *probably* won&#39;t learn much by doing this unless you are searching for a suspected memory leak.","title":"How can we know whether an object is marked as garbage by GC?","body":"<p>The short answer is that there isn't a good way.</p>\n<p>And there isn't <strong>any</strong> way to do it within a program that doesn't (in various ways) alter the behavior of the object that you trying to examine.</p>\n<p>The &quot;not good&quot; ways are:</p>\n<ul>\n<li><p>By using <code>Reference</code> types.  The problem is that this alters the object's lifetime, and only tells you the object's status at the last point in time that the GC ran.</p>\n</li>\n<li><p>By taking a heap dump and examining it with a heap dump analyzer.  The problem is that taking a heap dump is an expensive &quot;stop the world&quot; event, it uses a lot of disk space and it needs a lot of RAM to load and analyze the dump.</p>\n</li>\n</ul>\n<p>Finally, you <em>probably</em> won't learn much by doing this unless you are searching for a suspected memory leak.</p>\n"}],"owner":{"account_id":23215443,"reputation":75,"user_id":17308415,"display_name":"Koko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69809018,"answer_count":2,"score":3,"last_activity_date":1635850442,"creation_date":1635849250,"question_id":69808925,"body_markdown":"Is there any tool to visualize the status of GC on a specific object?","title":"How can we know whether an object is marked as garbage by GC?","body":"<p>Is there any tool to visualize the status of GC on a specific object?</p>\n"},{"tags":["java","kotlin","gradle","kotlin-coroutines","coroutine"],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635841688,"creation_date":1635777738,"answer_id":69798538,"question_id":69798213,"body_markdown":"You have to use `runBlocking` here, otherwise there won&#39;t be a *Coroutine Scope* where you could call `launch` and `delay`.\r\n\r\nWorking example very similar to yours (taken from [*your first coroutine*](https://kotlinlang.org/docs/coroutines-basics.html#your-first-coroutine)):\r\n\r\n```kotlin\r\nfun main(args: Array&lt;String&gt;) = runBlocking { // this: CoroutineScope\r\n    launch { // launch a new coroutine and continue\r\n        delay(1000L) // non-blocking delay for 1 second (default time unit is ms)\r\n        println(&quot;World!&quot;) // print after delay\r\n    }\r\n    println(&quot;Hello&quot;) // main coroutine continues while a previous one is delayed\r\n}\r\n```\r\n\r\nOutput (as expected):\r\n\r\n```lang-none\r\nHello\r\nWorld!\r\n```\r\n\r\nEDIT:\r\n---\r\n\r\nIf you still experience error messages of the form *Unresolved reference: …*,  \r\nyou can try to fix the `implementation` in your `gradle.build.kts` from the one you posted in your question,\r\n\r\n```lang-gradle\r\nimplementation(&quot;org.jetbrains.kotlinx&quot;, &quot;kotlinx-coroutines-core&quot;, &quot;1.5.2&quot;)\r\n```\r\n\r\nto this:\r\n\r\n```lang-gradle\r\nimplementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.2&quot;)\r\n```\r\n\r\nand try again. Hope that helps…","title":"Unable to use coroutines in Kotlin (unresolved reference)","body":"<p>You have to use <code>runBlocking</code> here, otherwise there won't be a <em>Coroutine Scope</em> where you could call <code>launch</code> and <code>delay</code>.</p>\n<p>Working example very similar to yours (taken from <a href=\"https://kotlinlang.org/docs/coroutines-basics.html#your-first-coroutine\" rel=\"nofollow noreferrer\"><em>your first coroutine</em></a>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main(args: Array&lt;String&gt;) = runBlocking { // this: CoroutineScope\n    launch { // launch a new coroutine and continue\n        delay(1000L) // non-blocking delay for 1 second (default time unit is ms)\n        println(&quot;World!&quot;) // print after delay\n    }\n    println(&quot;Hello&quot;) // main coroutine continues while a previous one is delayed\n}\n</code></pre>\n<p>Output (as expected):</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hello\nWorld!\n</code></pre>\n<h2>EDIT:</h2>\n<p>If you still experience error messages of the form <em>Unresolved reference: …</em>,<br />\nyou can try to fix the <code>implementation</code> in your <code>gradle.build.kts</code> from the one you posted in your question,</p>\n<pre class=\"lang-gradle prettyprint-override\"><code>implementation(&quot;org.jetbrains.kotlinx&quot;, &quot;kotlinx-coroutines-core&quot;, &quot;1.5.2&quot;)\n</code></pre>\n<p>to this:</p>\n<pre class=\"lang-gradle prettyprint-override\"><code>implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.2&quot;)\n</code></pre>\n<p>and try again. Hope that helps…</p>\n"}],"owner":{"account_id":14334032,"reputation":1310,"user_id":10354066,"display_name":"vytaute"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3762,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1635850157,"creation_date":1635776237,"question_id":69798213,"body_markdown":"I created gradle java kotlin project. I want to use coroutines but I get `unresolved reference launch` and `unresolved reference delay` errors: \r\n\r\n    import java.util.*\r\n    import kotlinx.coroutines.*\r\n    \r\n    fun main (args: Array&lt;String&gt;)\r\n    {\r\n        launch { // launch coroutine \r\n            delay(1000L) \r\n            println(&quot;World!&quot;)\r\n        }\r\n        println(&quot;Hello&quot;)\r\n    }\r\n\r\n\r\nIn build.gradle.kts I included this line in dependencies block: \r\n\r\n    implementation(&quot;org.jetbrains.kotlinx&quot;, &quot;kotlinx-coroutines-core&quot;, &quot;1.5.2&quot;)\r\n\r\n\r\nEDIT:\r\n\r\nMy build.gradle.kts file:\r\n\r\n    plugins {\r\n        kotlin(&quot;jvm&quot;) version &quot;1.5.10&quot;\r\n        java\r\n    }\r\n    \r\n    group = &quot;org.example&quot;\r\n    version = &quot;1.0-SNAPSHOT&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(kotlin(&quot;stdlib&quot;))\r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.6.0&quot;)\r\n        testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine&quot;)\r\n        implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.2&quot;)\r\n    }\r\n    \r\n    tasks.getByName&lt;Test&gt;(&quot;test&quot;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nEDIT2:\r\nEverything fixed after clearing cache. You can do it in File-&gt;Invalidate caches","title":"Unable to use coroutines in Kotlin (unresolved reference)","body":"<p>I created gradle java kotlin project. I want to use coroutines but I get <code>unresolved reference launch</code> and <code>unresolved reference delay</code> errors:</p>\n<pre><code>import java.util.*\nimport kotlinx.coroutines.*\n\nfun main (args: Array&lt;String&gt;)\n{\n    launch { // launch coroutine \n        delay(1000L) \n        println(&quot;World!&quot;)\n    }\n    println(&quot;Hello&quot;)\n}\n</code></pre>\n<p>In build.gradle.kts I included this line in dependencies block:</p>\n<pre><code>implementation(&quot;org.jetbrains.kotlinx&quot;, &quot;kotlinx-coroutines-core&quot;, &quot;1.5.2&quot;)\n</code></pre>\n<p>EDIT:</p>\n<p>My build.gradle.kts file:</p>\n<pre><code>plugins {\n    kotlin(&quot;jvm&quot;) version &quot;1.5.10&quot;\n    java\n}\n\ngroup = &quot;org.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(kotlin(&quot;stdlib&quot;))\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.6.0&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine&quot;)\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.2&quot;)\n}\n\ntasks.getByName&lt;Test&gt;(&quot;test&quot;) {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>EDIT2:\nEverything fixed after clearing cache. You can do it in File-&gt;Invalidate caches</p>\n"},{"tags":["java","hadoop","hdfs"],"answers":[{"tags":[],"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635850087,"creation_date":1635752682,"answer_id":69793924,"question_id":69789410,"body_markdown":"This question basically boils down to &quot;API vs CLI&quot; and isn&#39;t necessarily Hadoop-specific.\r\n\r\nAt the end of the day both API calls and CLI calls will hit the same underlying code and do the same thing. The advantage of using an API is that you get endpoints and responses that are automatically in a format that Java can work with.\r\n\r\nIf you call `hdfs` commands from the CLI in Java then you have to manually parse the response as a string to figure out if it did what you expect. You also have to download those binaries and put them on the system `PATH`. Compare that to using the HDFS API: the results return actual usable objects, and any errors will throw an exception that you can handle.","title":"Accessing HDFS File system via Java API Vs. Java Runtime HDFS command","body":"<p>This question basically boils down to &quot;API vs CLI&quot; and isn't necessarily Hadoop-specific.</p>\n<p>At the end of the day both API calls and CLI calls will hit the same underlying code and do the same thing. The advantage of using an API is that you get endpoints and responses that are automatically in a format that Java can work with.</p>\n<p>If you call <code>hdfs</code> commands from the CLI in Java then you have to manually parse the response as a string to figure out if it did what you expect. You also have to download those binaries and put them on the system <code>PATH</code>. Compare that to using the HDFS API: the results return actual usable objects, and any errors will throw an exception that you can handle.</p>\n"}],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635779676,"accepted_answer_id":69793924,"answer_count":1,"score":0,"last_activity_date":1635850087,"creation_date":1635704750,"question_id":69789410,"body_markdown":"What are the advantages and disadvantages of accessing HDFS file system via Java API Vs. invoking the HDFS command via Java Runtime? \r\n\r\nThe HDFS file system is based on Kerberos Authentication. In my previous organization, we used HDFS Java API to access HDFS file system but in my current organization, I was asked to invoke HDFS commands via Java Runtime call&#39;s. Is it fine to use this approach of invoking HDFS commands via Java Runtime call?\r\n\r\n    Runtime r = Runtime.getRuntime();\r\n    Process p = r.exec(&quot;hdfs dfs -copyFromLocal /tmp/localFile /tmp/hdfsDir/&quot;);\r\n    p.waitFor();","title":"Accessing HDFS File system via Java API Vs. Java Runtime HDFS command","body":"<p>What are the advantages and disadvantages of accessing HDFS file system via Java API Vs. invoking the HDFS command via Java Runtime?</p>\n<p>The HDFS file system is based on Kerberos Authentication. In my previous organization, we used HDFS Java API to access HDFS file system but in my current organization, I was asked to invoke HDFS commands via Java Runtime call's. Is it fine to use this approach of invoking HDFS commands via Java Runtime call?</p>\n<pre><code>Runtime r = Runtime.getRuntime();\nProcess p = r.exec(&quot;hdfs dfs -copyFromLocal /tmp/localFile /tmp/hdfsDir/&quot;);\np.waitFor();\n</code></pre>\n"},{"tags":["java","http","url","wso2","wso2-esb"],"comments":[{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1635843579,"post_id":69805695,"comment_id":123394328,"body_markdown":"I voted to close this question because there is no example code. Please [edit] your post to include a [minimal, complete, readable, and reproducible example](/help/minimal-reproducible-example).   How do you invoke the `GET` to the other service.   Unless we know how you are doing it, it is hard to suggest corrections to encode spaces differently.","body":"I voted to close this question because there is no example code. Please <a href=\"https://stackoverflow.com/posts/69805695/edit\">edit</a> your post to include a <a href=\"/help/minimal-reproducible-example\">minimal, complete, readable, and reproducible example</a>.   How do you invoke the <code>GET</code> to the other service.   Unless we know how you are doing it, it is hard to suggest corrections to encode spaces differently."},{"owner":{"account_id":4412636,"reputation":273,"user_id":3595078,"accept_rate":42,"display_name":"user3595078"},"score":0,"creation_date":1635849172,"post_id":69805695,"comment_id":123396560,"body_markdown":"its just get call from ESB to other service where we need to send URL query parameter in that one of the parameter has spaces","body":"its just get call from ESB to other service where we need to send URL query parameter in that one of the parameter has spaces"},{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1635850854,"post_id":69805695,"comment_id":123397232,"body_markdown":"What are you doing to encode the spaces?","body":"What are you doing to encode the spaces?"},{"owner":{"account_id":4412636,"reputation":273,"user_id":3595078,"accept_rate":42,"display_name":"user3595078"},"score":0,"creation_date":1635852337,"post_id":69805695,"comment_id":123397775,"body_markdown":"nothing wso2 ESB itself adding it","body":"nothing wso2 ESB itself adding it"},{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1635852716,"post_id":69805695,"comment_id":123397910,"body_markdown":"So this URL won&#39;t work when you get it as input?","body":"So this URL won&#39;t work when you get it as input?"},{"owner":{"account_id":4412636,"reputation":273,"user_id":3595078,"accept_rate":42,"display_name":"user3595078"},"score":0,"creation_date":1635860428,"post_id":69805695,"comment_id":123400975,"body_markdown":"any suggestion how to achieve it .","body":"any suggestion how to achieve it ."},{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1635861288,"post_id":69805695,"comment_id":123401399,"body_markdown":"Do you know is doing the escaping of the parameters for the `uri-template`?","body":"Do you know is doing the escaping of the parameters for the <code>uri-template</code>?"}],"owner":{"account_id":4412636,"reputation":273,"user_id":3595078,"accept_rate":42,"display_name":"user3595078"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635849685,"creation_date":1635830327,"question_id":69805695,"body_markdown":"we are invoking GET URL of other service where we need to send query param so we have implemented the same.\r\n\r\n Content-Type: application/x-www-form-urlencoded\r\nbelow is the URL \r\nactual query param is : Welcome To FACEBOOK INSTA\r\n\r\n\r\n \r\n\r\n      &lt;http uri-template =&quot;http://********:8080/invokehttp/httpublish?PUSH_TYPE={uri.var.pushtype}&amp;amp;SERVICE_CODE={uri.var.servicecode}&amp;amp;MSISDN={uri.var.msisdn}&amp;amp;PUSH_TEXT={uri.var.pushtext}&amp;amp;USER_ID={uri.var.username}&amp;amp;PASSWORD={uri.var.password}&quot; format=&quot;rest&quot;&gt;\r\n\r\n    &quot;http://10.135.*.*:8080/invokehttp/httpublish?TYPE=2&amp;SERVICE_CODE=889998&amp;MSISDN=777777&amp;PUSH_TEXT=Welcome%20To%20FACEBOOK%20INSTA&amp;USER_ID=Admin&amp;PASSWORD=******\r\n\r\nbut client expecting &quot;+&quot; in place of spaces how we can achieve it .\r\n\r\nclient  expectation message is \r\n\r\n     &quot;http://10.135.*.*:8080/invokehttp/httpublish?TYPE=2&amp;SERVICE_CODE=889998&amp;MSISDN=777777&amp;PUSH_TEXT=Welcome+To+FACEBOOK+INSTA&amp;USER_ID=Admin&amp;PASSWORD=******\r\n\r\nwe have tried in wso2 esb but not able to achieve it in any way.\r\n\r\nPlease suggest how we can send &quot;+&quot; instead of &quot;%20&quot; ","title":"URL encoding in wso2 esb ascii should be + for space instead of %20","body":"<p>we are invoking GET URL of other service where we need to send query param so we have implemented the same.</p>\n<p>Content-Type: application/x-www-form-urlencoded\nbelow is the URL\nactual query param is : Welcome To FACEBOOK INSTA</p>\n<pre><code>  &lt;http uri-template =&quot;http://********:8080/invokehttp/httpublish?PUSH_TYPE={uri.var.pushtype}&amp;amp;SERVICE_CODE={uri.var.servicecode}&amp;amp;MSISDN={uri.var.msisdn}&amp;amp;PUSH_TEXT={uri.var.pushtext}&amp;amp;USER_ID={uri.var.username}&amp;amp;PASSWORD={uri.var.password}&quot; format=&quot;rest&quot;&gt;\n\n&quot;http://10.135.*.*:8080/invokehttp/httpublish?TYPE=2&amp;SERVICE_CODE=889998&amp;MSISDN=777777&amp;PUSH_TEXT=Welcome%20To%20FACEBOOK%20INSTA&amp;USER_ID=Admin&amp;PASSWORD=******\n</code></pre>\n<p>but client expecting &quot;+&quot; in place of spaces how we can achieve it .</p>\n<p>client  expectation message is</p>\n<pre><code> &quot;http://10.135.*.*:8080/invokehttp/httpublish?TYPE=2&amp;SERVICE_CODE=889998&amp;MSISDN=777777&amp;PUSH_TEXT=Welcome+To+FACEBOOK+INSTA&amp;USER_ID=Admin&amp;PASSWORD=******\n</code></pre>\n<p>we have tried in wso2 esb but not able to achieve it in any way.</p>\n<p>Please suggest how we can send &quot;+&quot; instead of &quot;%20&quot;</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":15180977,"reputation":1256,"user_id":10954249,"display_name":"DeePanShu"},"score":0,"creation_date":1635832774,"post_id":69805908,"comment_id":123391191,"body_markdown":"where did you use this code? In fragment or ViewModel or activity","body":"where did you use this code? In fragment or ViewModel or activity"},{"owner":{"account_id":22295621,"reputation":1,"user_id":16521691,"display_name":"Krishna Jindal"},"score":0,"creation_date":1635832883,"post_id":69805908,"comment_id":123391221,"body_markdown":"@DeePanShu I have used this code in my Home Fragment.","body":"@DeePanShu I have used this code in my Home Fragment."},{"owner":{"account_id":15180977,"reputation":1256,"user_id":10954249,"display_name":"DeePanShu"},"score":0,"creation_date":1635832977,"post_id":69805908,"comment_id":123391237,"body_markdown":"you are using one recyclerview(dashboardRV) with two different adapter. Is this way is correct for you??","body":"you are using one recyclerview(dashboardRV) with two different adapter. Is this way is correct for you??"},{"owner":{"account_id":22295621,"reputation":1,"user_id":16521691,"display_name":"Krishna Jindal"},"score":0,"creation_date":1635833194,"post_id":69805908,"comment_id":123391282,"body_markdown":"Yes I do understand this can be the cause of my problem but I want to display all the posts in a single RV. Please guide me how should I go about.","body":"Yes I do understand this can be the cause of my problem but I want to display all the posts in a single RV. Please guide me how should I go about."}],"answers":[{"tags":[],"owner":{"account_id":15180977,"reputation":1256,"user_id":10954249,"display_name":"DeePanShu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635834488,"creation_date":1635833808,"answer_id":69806091,"question_id":69805908,"body_markdown":"Use only one adapter for one recycler view at a time:\r\n\r\nHere is the code for a single adapter with both (image and text posts):\r\n\r\n    postList = new ArrayList&lt;&gt;();\r\n    \r\n    PostAdapter postAdapter = new PostAdapter(postList, getContext());\r\n    dashboardRV.setAdapter(postAdapter);\r\n    \r\n    // call clear before refreshing the list\r\n    postList.clear();\r\n    \r\n    database.getReference()\r\n                .child(&quot;Posts&quot;)\r\n                .child(&quot;ImagePosts&quot;)\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    \r\n                        for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                            Post post = dataSnapshot.getValue(Post.class);\r\n                            post.setPostId(dataSnapshot.getKey());\r\n                            postList.add(post);\r\n                        }\r\n                        Collections.sort(postList);\r\n                        dashboardRV.hideShimmerAdapter();\r\n                        postAdapter.notifyDataSetChanged();\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                    }\r\n                });\r\n    \r\n        database.getReference()\r\n                .child(&quot;Posts&quot;)\r\n                .child(&quot;TextPosts&quot;)\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    \r\n                        for (DataSnapshot dataSnapshot : snapshot.getChildren())              \r\n                            Post post = dataSnapshot.getValue(Post.class);\r\n                            post.setPostId(dataSnapshot.getKey());\r\n                            postList.add(post);\r\n                        }\r\n                        Collections.sort(postList);\r\n                        dashboardRV.hideShimmerAdapter();\r\n                        postAdapter.notifyDataSetChanged();\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                    }\r\n                });\r\n\r\n\r\n// make Post class implemented comparable to sort the list after fetching:\r\n\r\n    // A class &#39;Post&#39; that implements Comparable\r\n    class Post implements Comparable&lt;Post&gt;\r\n    {\r\n        ...\r\n     \r\n        // Used to sort posts by their postedAt\r\n        public int compareTo(Post p)\r\n        {\r\n            return this.postedAt - p.postedAt;\r\n        }\r\n     \r\n        ...\r\n    }\r\n\r\n\r\nThis link will help to explore how to sort according to postedAt: [Using Comparable][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/comparable-vs-comparator-in-java/","title":"Firebase Query to fetch data from two nodes together","body":"<p>Use only one adapter for one recycler view at a time:</p>\n<p>Here is the code for a single adapter with both (image and text posts):</p>\n<pre><code>postList = new ArrayList&lt;&gt;();\n\nPostAdapter postAdapter = new PostAdapter(postList, getContext());\ndashboardRV.setAdapter(postAdapter);\n\n// call clear before refreshing the list\npostList.clear();\n\ndatabase.getReference()\n            .child(&quot;Posts&quot;)\n            .child(&quot;ImagePosts&quot;)\n            .addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()){\n                        Post post = dataSnapshot.getValue(Post.class);\n                        post.setPostId(dataSnapshot.getKey());\n                        postList.add(post);\n                    }\n                    Collections.sort(postList);\n                    dashboardRV.hideShimmerAdapter();\n                    postAdapter.notifyDataSetChanged();\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n\n    database.getReference()\n            .child(&quot;Posts&quot;)\n            .child(&quot;TextPosts&quot;)\n            .addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren())              \n                        Post post = dataSnapshot.getValue(Post.class);\n                        post.setPostId(dataSnapshot.getKey());\n                        postList.add(post);\n                    }\n                    Collections.sort(postList);\n                    dashboardRV.hideShimmerAdapter();\n                    postAdapter.notifyDataSetChanged();\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n</code></pre>\n<p>// make Post class implemented comparable to sort the list after fetching:</p>\n<pre><code>// A class 'Post' that implements Comparable\nclass Post implements Comparable&lt;Post&gt;\n{\n    ...\n \n    // Used to sort posts by their postedAt\n    public int compareTo(Post p)\n    {\n        return this.postedAt - p.postedAt;\n    }\n \n    ...\n}\n</code></pre>\n<p>This link will help to explore how to sort according to postedAt: <a href=\"https://www.geeksforgeeks.org/comparable-vs-comparator-in-java/\" rel=\"nofollow noreferrer\">Using Comparable</a></p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635849629,"creation_date":1635849629,"answer_id":69809023,"question_id":69805908,"body_markdown":"To merge 2 separate Firebase Realtime Database requests locally, I recommend you to use [Tasks.whenAllSuccess()][1] method. You can achieve this, using the following lines of code:\r\n\r\n    DatabaseReference imagePostsRef = database.getReference()\r\n            .child(&quot;Posts&quot;)\r\n            .child(&quot;ImagePosts&quot;);\r\n    DatabaseReference textPostsRef = database.getReference()\r\n            .child(&quot;Posts&quot;)\r\n            .child(&quot;TextPosts&quot;);\r\n\r\n    Task firstTask = imagePostsRef.get();\r\n    Task secondTask = textPostsRef.get();\r\n\r\n    Task combinedTask = Tasks.whenAllSuccess(firstTask, secondTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\r\n        @Override\r\n        public void onSuccess(List&lt;Object&gt; list) {\r\n             //Do what you need to do with your list\r\n        }\r\n    });\r\n\r\nAs you can see, when overriding the &quot;onSuccess()&quot; method the result is a list of objects. In the end, simply map each object from the list into an object of type Post, and pass the new list to a **single** adapter.\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(com.google.android.gms.tasks.Task%3C?%3E...)","title":"Firebase Query to fetch data from two nodes together","body":"<p>To merge 2 separate Firebase Realtime Database requests locally, I recommend you to use <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(com.google.android.gms.tasks.Task%3C?%3E...)\" rel=\"nofollow noreferrer\">Tasks.whenAllSuccess()</a> method. You can achieve this, using the following lines of code:</p>\n<pre><code>DatabaseReference imagePostsRef = database.getReference()\n        .child(&quot;Posts&quot;)\n        .child(&quot;ImagePosts&quot;);\nDatabaseReference textPostsRef = database.getReference()\n        .child(&quot;Posts&quot;)\n        .child(&quot;TextPosts&quot;);\n\nTask firstTask = imagePostsRef.get();\nTask secondTask = textPostsRef.get();\n\nTask combinedTask = Tasks.whenAllSuccess(firstTask, secondTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\n    @Override\n    public void onSuccess(List&lt;Object&gt; list) {\n         //Do what you need to do with your list\n    }\n});\n</code></pre>\n<p>As you can see, when overriding the &quot;onSuccess()&quot; method the result is a list of objects. In the end, simply map each object from the list into an object of type Post, and pass the new list to a <strong>single</strong> adapter.</p>\n"}],"owner":{"account_id":22295621,"reputation":1,"user_id":16521691,"display_name":"Krishna Jindal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635849673,"creation_date":1635832312,"question_id":69805908,"body_markdown":"I have a root node named &quot;Posts&quot; in the Firebase Realtime Database. Inside that, I have two nodes called &quot;ImagePosts&quot; and &quot;TextPosts&quot;. And inside &quot;ImagePosts&quot; (and &quot;TextPosts&quot;), I have postIds of various posts. And inside a postID, I have all the details of that particular post including postedAt (post time).\r\n\r\nWhat I want to do is that write a query to fetch data from &quot;ImagePosts&quot; and &quot;TextPosts&quot; TOGETHER AND display all the posts in descending/reverse order (that is, the post which is posted last/recently should show up at the top in my Recycler View according to &quot;postedAt&quot;).\r\n\r\n[Please click here to see database structure][1]\r\n\r\nTo achieve this, I created a single model named Post and two adapters named &quot;PostAdapter&quot; and &quot;TextPostAdapter&quot;. And my Recycler View is &quot;DashboardRV&quot;. What have I tried so far:\r\n\r\nCode of Home Fragment:\r\n\r\n    public class HomeFragment extends Fragment {\r\n    \r\n    ShimmerRecyclerView dashboardRV;\r\n    ArrayList&lt;Post&gt; postList;\r\n    \r\n    public HomeFragment() {\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n    \r\n        View view = inflater.inflate(R.layout.fragment_home, container, false);\r\n    \r\n        dashboardRV = view.findViewById(R.id.dashboardRv);\r\n        dashboardRV.showShimmerAdapter();\r\n        postList = new ArrayList&lt;&gt;();\r\n        PostAdapter postAdapter = new PostAdapter(postList, getContext());\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        dashboardRV.setLayoutManager(layoutManager);\r\n        dashboardRV.addItemDecoration(new DividerItemDecoration(dashboardRV.getContext(), DividerItemDecoration.VERTICAL));\r\n        dashboardRV.setNestedScrollingEnabled(false);\r\n    \r\n        dashboardRV.setAdapter(postAdapter);\r\n        postList.clear();\r\n    \r\n    database.getReference()\r\n                .child(&quot;Posts&quot;)\r\n                .child(&quot;ImagePosts&quot;)\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                      \r\n                        for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                            Post post = dataSnapshot.getValue(Post.class);\r\n                            post.setPostId(dataSnapshot.getKey());\r\n                            postList.add(post);\r\n                        }\r\n                        Collections.reverse(postList);\r\n                        dashboardRV.hideShimmerAdapter();\r\n                        postAdapter.notifyDataSetChanged();\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                    }\r\n                });\r\n    \r\n        database.getReference()\r\n                .child(&quot;Posts&quot;)\r\n                .child(&quot;TextPosts&quot;)\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        postList.clear();\r\n                        for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                            Post post = dataSnapshot.getValue(Post.class);\r\n                            post.setPostId(dataSnapshot.getKey());\r\n                            postList.add(post);\r\n                        }\r\n                        Collections.reverse(postList);\r\n                        dashboardRV.hideShimmerAdapter();\r\n                        textPostAdapter.notifyDataSetChanged();\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                    }\r\n                });\r\n\r\nBut the problem with this approach is that it doesn&#39;t display all the &quot;TextPosts&quot; and &quot;ImagePosts&quot; together. It only shows all the image posts on the opening app, then when I change fragment and come back, then it displays all text posts. I am just stuck here.\r\n\r\n  [1]: https://i.stack.imgur.com/0f3wW.png","title":"Firebase Query to fetch data from two nodes together","body":"<p>I have a root node named &quot;Posts&quot; in the Firebase Realtime Database. Inside that, I have two nodes called &quot;ImagePosts&quot; and &quot;TextPosts&quot;. And inside &quot;ImagePosts&quot; (and &quot;TextPosts&quot;), I have postIds of various posts. And inside a postID, I have all the details of that particular post including postedAt (post time).</p>\n<p>What I want to do is that write a query to fetch data from &quot;ImagePosts&quot; and &quot;TextPosts&quot; TOGETHER AND display all the posts in descending/reverse order (that is, the post which is posted last/recently should show up at the top in my Recycler View according to &quot;postedAt&quot;).</p>\n<p><a href=\"https://i.stack.imgur.com/0f3wW.png\" rel=\"nofollow noreferrer\">Please click here to see database structure</a></p>\n<p>To achieve this, I created a single model named Post and two adapters named &quot;PostAdapter&quot; and &quot;TextPostAdapter&quot;. And my Recycler View is &quot;DashboardRV&quot;. What have I tried so far:</p>\n<p>Code of Home Fragment:</p>\n<pre><code>public class HomeFragment extends Fragment {\n\nShimmerRecyclerView dashboardRV;\nArrayList&lt;Post&gt; postList;\n\npublic HomeFragment() {\n\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n\n    View view = inflater.inflate(R.layout.fragment_home, container, false);\n\n    dashboardRV = view.findViewById(R.id.dashboardRv);\n    dashboardRV.showShimmerAdapter();\n    postList = new ArrayList&lt;&gt;();\n    PostAdapter postAdapter = new PostAdapter(postList, getContext());\n    LinearLayoutManager layoutManager = new LinearLayoutManager(getContext());\n    dashboardRV.setLayoutManager(layoutManager);\n    dashboardRV.addItemDecoration(new DividerItemDecoration(dashboardRV.getContext(), DividerItemDecoration.VERTICAL));\n    dashboardRV.setNestedScrollingEnabled(false);\n\n    dashboardRV.setAdapter(postAdapter);\n    postList.clear();\n\ndatabase.getReference()\n            .child(&quot;Posts&quot;)\n            .child(&quot;ImagePosts&quot;)\n            .addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                  \n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                        Post post = dataSnapshot.getValue(Post.class);\n                        post.setPostId(dataSnapshot.getKey());\n                        postList.add(post);\n                    }\n                    Collections.reverse(postList);\n                    dashboardRV.hideShimmerAdapter();\n                    postAdapter.notifyDataSetChanged();\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n\n    database.getReference()\n            .child(&quot;Posts&quot;)\n            .child(&quot;TextPosts&quot;)\n            .addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    postList.clear();\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                        Post post = dataSnapshot.getValue(Post.class);\n                        post.setPostId(dataSnapshot.getKey());\n                        postList.add(post);\n                    }\n                    Collections.reverse(postList);\n                    dashboardRV.hideShimmerAdapter();\n                    textPostAdapter.notifyDataSetChanged();\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n</code></pre>\n<p>But the problem with this approach is that it doesn't display all the &quot;TextPosts&quot; and &quot;ImagePosts&quot; together. It only shows all the image posts on the opening app, then when I change fragment and come back, then it displays all text posts. I am just stuck here.</p>\n"},{"tags":["java","hbase","bigdata"],"answers":[{"tags":[],"owner":{"account_id":4405894,"reputation":6978,"user_id":3590324,"accept_rate":73,"display_name":"Ramzy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1445883451,"creation_date":1445883451,"answer_id":33352846,"question_id":33350419,"body_markdown":"Get is only for one record which matches row key. For others, you can use scan with column value filters. This approach will have more latency time when compared to get. Get can also be used with list of gets(list of row keys). But you need get with field other than row key.  \r\n\r\nIf possible, best approach would be, to design row key and add frequently searched field along with main row key. This is only if you need better latency. ","title":"Retrieve multiple rows in Hbase using Get class based on non primary key values","body":"<p>Get is only for one record which matches row key. For others, you can use scan with column value filters. This approach will have more latency time when compared to get. Get can also be used with list of gets(list of row keys). But you need get with field other than row key.  </p>\n\n<p>If possible, best approach would be, to design row key and add frequently searched field along with main row key. This is only if you need better latency. </p>\n"},{"tags":[],"owner":{"account_id":9238279,"reputation":1211,"user_id":6862189,"accept_rate":17,"display_name":"DachuanZhao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635849603,"creation_date":1635849603,"answer_id":69809017,"question_id":33350419,"body_markdown":"```Java\r\n    public ArrayList&lt;HashMap&lt;String, String&gt;&gt; getDataQualifierListByRowkeyList(String tableName,\r\n        ArrayList&lt;String&gt; rowkeyList) throws IOException {\r\n\r\n        Table table = connection.getTable(TableName.valueOf(tableName));\r\n\r\n        List&lt;Get&gt; getList = new ArrayList&lt;Get&gt;();\r\n        for (String rowkey : rowkeyList) {\r\n            Get get = new Get(Bytes.toBytes(rowkey));\r\n            getList.add(get);\r\n        }\r\n        Result[] results = table.get(getList);\r\n        var funcResult = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\r\n        for (Result result : results) {\r\n            var tempHashMap = new HashMap&lt;String, String&gt;();\r\n            for (Cell cell : result.rawCells()) {\r\n                tempHashMap.put(\r\n                    String.format(&quot;%s:%s&quot;, Bytes.toString(CellUtil.cloneFamily(cell)),\r\n                        Bytes.toString(CellUtil.cloneQualifier(cell))),\r\n                    Bytes.toString(CellUtil.cloneValue(cell)));\r\n            }\r\n            funcResult.add(tempHashMap);\r\n        }\r\n        return funcResult;\r\n    }\r\n```","title":"Retrieve multiple rows in Hbase using Get class based on non primary key values","body":"<pre><code>    public ArrayList&lt;HashMap&lt;String, String&gt;&gt; getDataQualifierListByRowkeyList(String tableName,\n        ArrayList&lt;String&gt; rowkeyList) throws IOException {\n\n        Table table = connection.getTable(TableName.valueOf(tableName));\n\n        List&lt;Get&gt; getList = new ArrayList&lt;Get&gt;();\n        for (String rowkey : rowkeyList) {\n            Get get = new Get(Bytes.toBytes(rowkey));\n            getList.add(get);\n        }\n        Result[] results = table.get(getList);\n        var funcResult = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\n        for (Result result : results) {\n            var tempHashMap = new HashMap&lt;String, String&gt;();\n            for (Cell cell : result.rawCells()) {\n                tempHashMap.put(\n                    String.format(&quot;%s:%s&quot;, Bytes.toString(CellUtil.cloneFamily(cell)),\n                        Bytes.toString(CellUtil.cloneQualifier(cell))),\n                    Bytes.toString(CellUtil.cloneValue(cell)));\n            }\n            funcResult.add(tempHashMap);\n        }\n        return funcResult;\n    }\n</code></pre>\n"}],"owner":{"account_id":333447,"reputation":1186,"user_id":1062597,"accept_rate":54,"display_name":"Arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1774,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635849603,"creation_date":1445875731,"question_id":33350419,"body_markdown":"Using the methods in `Get` class in the `org.apache.hadoop.hbase.client` package, I am able to retrieve only one record at a time based on the row key. \r\n\r\nIs there any way that multiple rows can be retrieved based on the value of any other non primary column(In java) .","title":"Retrieve multiple rows in Hbase using Get class based on non primary key values","body":"<p>Using the methods in <code>Get</code> class in the <code>org.apache.hadoop.hbase.client</code> package, I am able to retrieve only one record at a time based on the row key. </p>\n\n<p>Is there any way that multiple rows can be retrieved based on the value of any other non primary column(In java) .</p>\n"},{"tags":["java","android","latex"],"answers":[{"tags":[],"owner":{"account_id":3963001,"reputation":1408,"user_id":3269680,"accept_rate":76,"display_name":"RmK"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1454050077,"creation_date":1453882319,"answer_id":35031884,"question_id":34648659,"body_markdown":"EDIT : I tried using jlatexMath in Android but with the amount of dependency it requires (such as the awt and swing package from java) to port to Android, I had to leave it halfway. \r\n\r\nThis is the sample code available from the JLatex repo but BufferedImage and Insets are not available in Android.\r\n\r\n        TeXFormula formula = new TeXFormula(latex);\r\n    \t// Note: Old interface for creating icons:\r\n    \t//TeXIcon icon = formula.createTeXIcon(TeXConstants.STYLE_DISPLAY, 20);\r\n    \t// Note: New interface using builder pattern (inner class):\r\n    \tTeXIcon icon = formula.new TeXIconBuilder().setStyle(TeXConstants.STYLE_DISPLAY).setSize(20).build();\r\n    \ticon.setInsets(new Insets(5, 5, 5, 5));\r\n    \r\n    \tBufferedImage image = new BufferedImage(icon.getIconWidth(), icon.getIconHeight(), BufferedImage.TYPE_INT_ARGB);\r\n    \tGraphics2D g2 = image.createGraphics();\r\n    \tg2.setColor(Color.white);\r\n    \tg2.fillRect(0,0,icon.getIconWidth(),icon.getIconHeight());\r\n    \tJLabel jl = new JLabel();\r\n    \tjl.setForeground(new Color(0, 0, 0));\r\n    \ticon.paintIcon(jl, g2, 0, 0);\r\n    \tFile file = new File(&quot;Example2.png&quot;);\r\n    \ttry {\r\n    \t    ImageIO.write(image, &quot;png&quot;, file.getAbsoluteFile());\r\n    \t} catch (IOException ex) {}\r\n\r\nI would recommend another library - https://github.com/kexanie/MathView which is a wrapper around webview and you can use either MathJax or KaTex library.","title":"Display LaTex in Android","body":"<p>EDIT : I tried using jlatexMath in Android but with the amount of dependency it requires (such as the awt and swing package from java) to port to Android, I had to leave it halfway. </p>\n\n<p>This is the sample code available from the JLatex repo but BufferedImage and Insets are not available in Android.</p>\n\n<pre><code>    TeXFormula formula = new TeXFormula(latex);\n    // Note: Old interface for creating icons:\n    //TeXIcon icon = formula.createTeXIcon(TeXConstants.STYLE_DISPLAY, 20);\n    // Note: New interface using builder pattern (inner class):\n    TeXIcon icon = formula.new TeXIconBuilder().setStyle(TeXConstants.STYLE_DISPLAY).setSize(20).build();\n    icon.setInsets(new Insets(5, 5, 5, 5));\n\n    BufferedImage image = new BufferedImage(icon.getIconWidth(), icon.getIconHeight(), BufferedImage.TYPE_INT_ARGB);\n    Graphics2D g2 = image.createGraphics();\n    g2.setColor(Color.white);\n    g2.fillRect(0,0,icon.getIconWidth(),icon.getIconHeight());\n    JLabel jl = new JLabel();\n    jl.setForeground(new Color(0, 0, 0));\n    icon.paintIcon(jl, g2, 0, 0);\n    File file = new File(\"Example2.png\");\n    try {\n        ImageIO.write(image, \"png\", file.getAbsoluteFile());\n    } catch (IOException ex) {}\n</code></pre>\n\n<p>I would recommend another library - <a href=\"https://github.com/kexanie/MathView\" rel=\"nofollow\">https://github.com/kexanie/MathView</a> which is a wrapper around webview and you can use either MathJax or KaTex library.</p>\n"},{"tags":[],"owner":{"account_id":6649870,"reputation":7447,"user_id":5132444,"accept_rate":54,"display_name":"Jude Fernandes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1555440184,"creation_date":1555440184,"answer_id":55714710,"question_id":34648659,"body_markdown":"Created a library [KatexView][1] that would allow you to handle this in android.\r\n\r\n\r\n  [1]: https://github.com/judemanutd/KatexView","title":"Display LaTex in Android","body":"<p>Created a library <a href=\"https://github.com/judemanutd/KatexView\" rel=\"nofollow noreferrer\">KatexView</a> that would allow you to handle this in android.</p>\n"}],"owner":{"display_name":"user1267177"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7679,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35031884,"answer_count":2,"score":4,"last_activity_date":1635849571,"creation_date":1452148155,"question_id":34648659,"body_markdown":"I&#39;m trying to display a LaTex item in android in an ImageView. I&#39;m using ```jlatexmath``` library. So far, I&#39;ve got TexIcon object from formula. Now I&#39;d like to display that content in ImageView (or anywhere, just need to display them in activity). One way would be to convert it to bitmap or png then display in ```ImageView```, but I&#39;m not able to convert ```TexIcon``` to any other format, here&#39;s my java code so far:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        String math = &quot;\\\\frac {V_m} {K_M+S}&quot;;\r\n        TeXFormula fomule = new TeXFormula(math);\r\n        TeXIcon ti = fomule.createTeXIcon(TeXConstants.STYLE_DISPLAY, 40);\r\n    }","title":"Display LaTex in Android","body":"<p>I'm trying to display a LaTex item in android in an ImageView. I'm using <code>jlatexmath</code> library. So far, I've got TexIcon object from formula. Now I'd like to display that content in ImageView (or anywhere, just need to display them in activity). One way would be to convert it to bitmap or png then display in <code>ImageView</code>, but I'm not able to convert <code>TexIcon</code> to any other format, here's my java code so far:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    String math = &quot;\\\\frac {V_m} {K_M+S}&quot;;\n    TeXFormula fomule = new TeXFormula(math);\n    TeXIcon ti = fomule.createTeXIcon(TeXConstants.STYLE_DISPLAY, 40);\n}\n</code></pre>\n"},{"tags":["java","oauth","pkce"],"answers":[{"tags":[],"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635643181,"creation_date":1635643181,"answer_id":69783280,"question_id":69781203,"body_markdown":"Your challenge generation is incorrect. The hash of the verifier has to be [base64 url encoded](https://datatracker.ietf.org/doc/html/rfc4648#section-5).\r\n\r\nThe standard says\r\n\r\n    code_challenge = BASE64URL-ENCODE(SHA256(ASCII(code_verifier)))\r\n\r\nSo this is wrong:\r\n\r\n```java\r\nsha256hex = new String(encodedhash);\r\n```\r\n\r\nIt should be:\r\n\r\n```java\r\nsha256hex = Base64.getUrlEncoder().withoutPadding().encodeToString(encodedhash);\r\n```\r\n\r\nAlso, _do not_ put quotes around the challenge in the URL. \r\n\r\nSide note: It is not necessary to escape the challenge and verifier because they are encoded in a url safe way\r\n","title":"OAuth2 and PKCE - Code verifier is invalid","body":"<p>Your challenge generation is incorrect. The hash of the verifier has to be <a href=\"https://datatracker.ietf.org/doc/html/rfc4648#section-5\" rel=\"nofollow noreferrer\">base64 url encoded</a>.</p>\n<p>The standard says</p>\n<pre><code>code_challenge = BASE64URL-ENCODE(SHA256(ASCII(code_verifier)))\n</code></pre>\n<p>So this is wrong:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sha256hex = new String(encodedhash);\n</code></pre>\n<p>It should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sha256hex = Base64.getUrlEncoder().withoutPadding().encodeToString(encodedhash);\n</code></pre>\n<p>Also, <em>do not</em> put quotes around the challenge in the URL.</p>\n<p>Side note: It is not necessary to escape the challenge and verifier because they are encoded in a url safe way</p>\n"}],"owner":{"account_id":21088679,"reputation":337,"user_id":15501126,"display_name":"Maxim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4183,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635849280,"creation_date":1635619859,"question_id":69781203,"body_markdown":"I&#39;m making a Java App where I&#39;m trying to implement an OAuth2-authorization flow for an API (Etsy.com) that requires PKCE (Proof Key for Code Exchange). I&#39;ve been trying for some time now but I keep being stuck at the following error when exchanging the access code for the OAuth token:\r\n\r\n    {&quot;error&quot;:&quot;invalid_grant&quot;,&quot;error_description&quot;:&quot;code_verifier is invalid&quot;}\r\n\r\nHere&#39;s the method for generating the initial URL where the sha256-encoded verifier is passed:\r\n\r\n    @Override\r\n\tpublic String getOAuth2AuthorizationUrl() {\r\n\r\n\t\tString sha256hex = null;\r\n\t\ttry {\r\n\t\t\tif(_currentVerifier == null)\r\n\t\t\t\t_currentVerifier = PkceUtil.generateCodeVerifier();\r\n\r\n\t\t\tMessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t\t\tbyte[] encodedhash = digest.digest(\r\n\t\t\t\t\t_currentVerifier.getBytes(StandardCharsets.UTF_8));\r\n\t\t\tsha256hex = new String(encodedhash);\r\n\t\t} catch (UnsupportedEncodingException | NoSuchAlgorithmException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tUnicodeEscaper basicEscaper = new PercentEscaper(&quot;-&quot;, false);\r\n\t\tSystem.out.println(&quot;sha256=&quot;+sha256hex);\r\n\t\tSystem.out.println(&quot;veri=&quot;+_currentVerifier);\r\n\r\n\t\tString oAuth2AuthorizationUrl = super.getOAuth2AuthorizationUrl();\r\n\t\tvar authUrl = oAuth2AuthorizationUrl\r\n\t\t\t\t+&quot;&amp;state=asdf&amp;code_challenge_method=S256&amp;code_challenge=&#39;&quot;\r\n\t\t\t\t+ basicEscaper.escape(sha256hex)+&quot;&#39;&quot;;\r\n\t\treturn authUrl;\r\n\t}\r\n\r\nThen I&#39;m sending the request to exchange the code for the token as application/x-www-form-urlencoded POST-request:\r\n\r\n    \tUnicodeEscaper basicEscaper = new PercentEscaper(&quot;-&quot;, false);\r\n     var params = &quot;grant_type=authorization_code&amp;client_id=&quot;\r\n\t\t\t\t+token.getOwner().clientId+&quot;&amp;redirect_uri=&quot;\r\n\t\t\t\t+basicEscaper.escape(&quot;https://localhost&quot;)\r\n\t\t\t\t+&quot;&amp;code=&quot;+accessCode+&quot;&amp;code_verifier=&quot;+basicEscaper.escape(_currentVerifier)+&quot;&quot;;\r\n\r\nI tried many variations, also tried wrapping the values in &#39;&#39; etc. but nothing worked. Have I misunderstood this process? I&#39;m sending a sha256 string initially and when requesting the OAuth2-token I&#39;m sending the value that was encoded.\r\nAny ideas?\r\n\r\nUpdate:\r\nI tried using Googles library for generating the hash, but I&#39;m still getting the same error.\r\n\r\n    Hasher hasher = Hashing.sha256().newHasher();\r\n\t\thasher.putString(CODE_VERIFIER, Charsets.UTF_8);\r\n\t\tHashCode sha256 = hasher.hash();\r\n\r\n\t\tSystem.out.println(&quot;veri=&quot;+AppUtils.encodeBase64(AppUtils.toHexString(sha256.asBytes())));\r\n\r\n\t\tString oAuth2AuthorizationUrl = super.getOAuth2AuthorizationUrl();\r\n\r\n\t\tvar authUrl = oAuth2AuthorizationUrl\r\n\t\t\t\t+&quot;&amp;state=asdf&amp;code_challenge_method=S256&amp;code_challenge=&quot;+AppUtils.encodeBase64(AppUtils.toHexString(sha256.asBytes()));\r\n\t\treturn authUrl;\r\n\r\nAlso the format of the code_challenge parameter looks different in the samples.","title":"OAuth2 and PKCE - Code verifier is invalid","body":"<p>I'm making a Java App where I'm trying to implement an OAuth2-authorization flow for an API (Etsy.com) that requires PKCE (Proof Key for Code Exchange). I've been trying for some time now but I keep being stuck at the following error when exchanging the access code for the OAuth token:</p>\n<pre><code>{&quot;error&quot;:&quot;invalid_grant&quot;,&quot;error_description&quot;:&quot;code_verifier is invalid&quot;}\n</code></pre>\n<p>Here's the method for generating the initial URL where the sha256-encoded verifier is passed:</p>\n<pre><code>@Override\npublic String getOAuth2AuthorizationUrl() {\n\n    String sha256hex = null;\n    try {\n        if(_currentVerifier == null)\n            _currentVerifier = PkceUtil.generateCodeVerifier();\n\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        byte[] encodedhash = digest.digest(\n                _currentVerifier.getBytes(StandardCharsets.UTF_8));\n        sha256hex = new String(encodedhash);\n    } catch (UnsupportedEncodingException | NoSuchAlgorithmException e) {\n        e.printStackTrace();\n        return null;\n    }\n\n    UnicodeEscaper basicEscaper = new PercentEscaper(&quot;-&quot;, false);\n    System.out.println(&quot;sha256=&quot;+sha256hex);\n    System.out.println(&quot;veri=&quot;+_currentVerifier);\n\n    String oAuth2AuthorizationUrl = super.getOAuth2AuthorizationUrl();\n    var authUrl = oAuth2AuthorizationUrl\n            +&quot;&amp;state=asdf&amp;code_challenge_method=S256&amp;code_challenge='&quot;\n            + basicEscaper.escape(sha256hex)+&quot;'&quot;;\n    return authUrl;\n}\n</code></pre>\n<p>Then I'm sending the request to exchange the code for the token as application/x-www-form-urlencoded POST-request:</p>\n<pre><code>    UnicodeEscaper basicEscaper = new PercentEscaper(&quot;-&quot;, false);\n var params = &quot;grant_type=authorization_code&amp;client_id=&quot;\n            +token.getOwner().clientId+&quot;&amp;redirect_uri=&quot;\n            +basicEscaper.escape(&quot;https://localhost&quot;)\n            +&quot;&amp;code=&quot;+accessCode+&quot;&amp;code_verifier=&quot;+basicEscaper.escape(_currentVerifier)+&quot;&quot;;\n</code></pre>\n<p>I tried many variations, also tried wrapping the values in '' etc. but nothing worked. Have I misunderstood this process? I'm sending a sha256 string initially and when requesting the OAuth2-token I'm sending the value that was encoded.\nAny ideas?</p>\n<p>Update:\nI tried using Googles library for generating the hash, but I'm still getting the same error.</p>\n<pre><code>Hasher hasher = Hashing.sha256().newHasher();\n    hasher.putString(CODE_VERIFIER, Charsets.UTF_8);\n    HashCode sha256 = hasher.hash();\n\n    System.out.println(&quot;veri=&quot;+AppUtils.encodeBase64(AppUtils.toHexString(sha256.asBytes())));\n\n    String oAuth2AuthorizationUrl = super.getOAuth2AuthorizationUrl();\n\n    var authUrl = oAuth2AuthorizationUrl\n            +&quot;&amp;state=asdf&amp;code_challenge_method=S256&amp;code_challenge=&quot;+AppUtils.encodeBase64(AppUtils.toHexString(sha256.asBytes()));\n    return authUrl;\n</code></pre>\n<p>Also the format of the code_challenge parameter looks different in the samples.</p>\n"},{"tags":["java","ms-access","ucanaccess"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1635848298,"post_id":69808660,"comment_id":123396230,"body_markdown":"Hello and welcome. Please don&#39;t *describe* your code. Instead [edit] your question to include your code, even better in the form of [Minimal, Complete, and Verifiable Example.](http://stackoverflow.com/help/mcve).","body":"Hello and welcome. Please don&#39;t <i>describe</i> your code. Instead <a href=\"https://stackoverflow.com/posts/69808660/edit\">edit</a> your question to include your code, even better in the form of <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example.</a>."},{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1636065293,"post_id":69808660,"comment_id":123465351,"body_markdown":"This sounds like a damaged database file. Make a backup copy (for safety) and then open the file in MSACCESS.EXE and perform a &quot;Compact and Repair Database&quot; operation on it.","body":"This sounds like a damaged database file. Make a backup copy (for safety) and then open the file in MSACCESS.EXE and perform a &quot;Compact and Repair Database&quot; operation on it."}],"owner":{"account_id":22604320,"reputation":1,"user_id":16785409,"display_name":"ErreM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635849279,"creation_date":1635848060,"question_id":69808660,"body_markdown":"I have the following error: java.lang.IllegalStateException: invalid page number\r\n\r\n    java.lang.IllegalStateException: invalid page number 2548\r\n    \tat com.healthmarketscience.jackcess.impl.PageChannel.validatePageNumber(PageChannel.java:203)\r\n    \tat com.healthmarketscience.jackcess.impl.PageChannel.readPage(PageChannel.java:214)\r\n    \tat com.healthmarketscience.jackcess.impl.TempPageHolder.setPage(TempPageHolder.java:86)\r\n    \tat com.healthmarketscience.jackcess.impl.TempPageHolder.setPage(TempPageHolder.java:74)\r\n    \tat com.healthmarketscience.jackcess.impl.TableImpl.findFreeRowSpace(TableImpl.java:2702)\r\n    \tat com.healthmarketscience.jackcess.impl.TableImpl.findFreeRowSpace(TableImpl.java:2656)\r\n    \tat com.healthmarketscience.jackcess.impl.TableImpl.addRows(TableImpl.java:2300)\r\n    \tat com.healthmarketscience.jackcess.impl.TableImpl.addRow(TableImpl.java:2169)\r\n    \tat net.ucanaccess.converters.UcanaccessTable.addRow(UcanaccessTable.java:46)\r\n    \tat net.ucanaccess.commands.InsertCommand.insertRow(InsertCommand.java:100)\r\n    \tat net.ucanaccess.commands.InsertCommand.persist(InsertCommand.java:148)\r\n    \tat net.ucanaccess.jdbc.UcanaccessConnection.flushIO(UcanaccessConnection.java:323)\r\n    \tat net.ucanaccess.jdbc.UcanaccessConnection.commit(UcanaccessConnection.java:205)\r\n    \tat net.ucanaccess.jdbc.AbstractExecute.executeBase(AbstractExecute.java:273)\r\n    \tat net.ucanaccess.jdbc.ExecuteUpdate.execute(ExecuteUpdate.java:48)\r\n    \tat net.ucanaccess.jdbc.UcanaccessPreparedStatement.executeUpdate(UcanaccessPreparedStatement.java:267)\r\n    \tat Modelo.OGMA_Controller$6.run(OGMA_Controller.java:479)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:830)\r\n    nov. 02, 2021 10:54:03 A.&#160;M. Modelo.Log escribirLog\r\n    INFO: net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::5.0.1 invalid page number 2548\r\n    \tat net.ucanaccess.jdbc.UcanaccessPreparedStatement.executeUpdate(UcanaccessPreparedStatement.java:270)\r\n    \tat Modelo.OGMA_Controller$6.run(OGMA_Controller.java:479)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:830)\r\n    Caused by: net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::5.0.1 invalid page number 2548\r\n    \tat net.ucanaccess.jdbc.UcanaccessConnection.commit(UcanaccessConnection.java:212)\r\n    \tat net.ucanaccess.jdbc.AbstractExecute.executeBase(AbstractExecute.java:273)\r\n    \tat net.ucanaccess.jdbc.ExecuteUpdate.execute(ExecuteUpdate.java:48)\r\n    \tat net.ucanaccess.jdbc.UcanaccessPreparedStatement.executeUpdate(UcanaccessPreparedStatement.java:267)\r\n    \t... 2 more\r\n    Caused by: net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::5.0.1 invalid page number 2548\r\n    \tat net.ucanaccess.jdbc.UcanaccessConnection.flushIO(UcanaccessConnection.java:360)\r\n    \tat net.ucanaccess.jdbc.UcanaccessConnection.commit(UcanaccessConnection.java:205)\r\n    \t... 5 more\r\n    Caused by: java.lang.IllegalStateException: invalid page number 2548\r\n    \tat com.healthmarketscience.jackcess.impl.PageChannel.validatePageNumber(PageChannel.java:203)\r\n    \tat com.healthmarketscience.jackcess.impl.PageChannel.readPage(PageChannel.java:214)\r\n    \tat com.healthmarketscience.jackcess.impl.TempPageHolder.setPage(TempPageHolder.java:86)\r\n    \tat com.healthmarketscience.jackcess.impl.TempPageHolder.setPage(TempPageHolder.java:74)\r\n    \tat com.healthmarketscience.jackcess.impl.TableImpl.findFreeRowSpace(TableImpl.java:2702)\r\n    \tat com.healthmarketscience.jackcess.impl.TableImpl.findFreeRowSpace(TableImpl.java:2656)\r\n    \tat com.healthmarketscience.jackcess.impl.TableImpl.addRows(TableImpl.java:2300)\r\n    \tat com.healthmarketscience.jackcess.impl.TableImpl.addRow(TableImpl.java:2169)\r\n    \tat net.ucanaccess.converters.UcanaccessTable.addRow(UcanaccessTable.java:46)\r\n    \tat net.ucanaccess.commands.InsertCommand.insertRow(InsertCommand.java:100)\r\n    \tat net.ucanaccess.commands.InsertCommand.persist(InsertCommand.java:148)\r\n    \tat net.ucanaccess.jdbc.UcanaccessConnection.flushIO(UcanaccessConnection.java:323)\r\n    \t... 6 more\r\n\r\nThe class to which the code belongs extracts the size, format, dimensions, etc. of an image and inserts it in the database.\r\n\r\nThe error belongs to the an insert, update, when i do executeUpdate()\r\n                                                \r\n\r\nDoes anyone know what could happen to the database?\r\nAlso say that the base is on a local network.\r\nThank you.\r\n\r\nThis is the code.\r\n\r\n\r\n    BufferedImage image = ImageIO.read(e);\r\n    int[] dpi = busquedaDirectorioController.dpi(e);\r\n    float[] mili = busquedaDirectorioController.aCentrimetros(image.getWidth(), image.getHeight());\r\n    \r\n    //String sql1 = &quot;Insert into imageSize (RutaOriginal,NombreImagen,anchoPX, altoPX, anchoMM, altoMM, xPPP, yPPP, RutaCompleta, CodigoBarras, NomFicheroPDF) VALUES (?,?,?,?,?,?,?,?,?,?,?)&quot;;\r\n    String sql1 = &quot;Insert into imageSize (RutaOriginal,NombreImagen,anchoPX, altoPX, anchoMM, altoMM, xPPP, yPPP, RutaCompleta, CodigoBarras, NomFicheroPDF, Tamano) VALUES (?,?,?,?,?,?,?,?,?,?,?,?)&quot;;\r\n    PreparedStatement statement1 = connection.prepareStatement(sql1);\r\n    statement1.setString(1, ruta);\r\n    statement1.setString(2, e.getName());\r\n    statement1.setInt(3, image.getWidth());\r\n    statement1.setInt(4, image.getHeight());\r\n    statement1.setFloat(5, mili[0]);\r\n    statement1.setFloat(6, mili[1]);\r\n    statement1.setString(9, e.getAbsolutePath());\r\n    //statement1.setString(10, numero);\r\n    if (val == null) {\r\n        System.out.println(&quot;Soy el id en el update::: &quot; + ids.get(k));\r\n        statement1.setString(10, ids.get(k));\r\n    } else {\r\n        System.out.println(&quot;Soy el id en el update::: &quot; + ids.get(0));\r\n        statement1.setString(10, ids.get(0));\r\n    }\r\n    statement1.setString(11, nombrePdf);\r\n    \r\n    long pesoAr = e.length() / (1024) + 1;\r\n    System.out.println(&quot;ESPACIO DE: &quot; + e.getName() + &quot; ES &quot; + pesoAr + &quot; KB&quot;);\r\n    \r\n    e.toString();\r\n    if (dpi != null) {\r\n        statement1.setInt(7, dpi[0]);\r\n        statement1.setInt(8, dpi[1]);\r\n    } else {\r\n        statement1.setInt(7, 0);\r\n        statement1.setInt(8, 0);\r\n    }\r\n    \r\n    statement1.setLong(12, pesoAr);\r\n    \r\n    Thread.sleep(35);\r\n    \r\n    statement1.executeUpdate();\r\n    statement1.close();","title":"How to solve this error in Access with Java? / Invalid page error","body":"<p>I have the following error: java.lang.IllegalStateException: invalid page number</p>\n<pre><code>java.lang.IllegalStateException: invalid page number 2548\n    at com.healthmarketscience.jackcess.impl.PageChannel.validatePageNumber(PageChannel.java:203)\n    at com.healthmarketscience.jackcess.impl.PageChannel.readPage(PageChannel.java:214)\n    at com.healthmarketscience.jackcess.impl.TempPageHolder.setPage(TempPageHolder.java:86)\n    at com.healthmarketscience.jackcess.impl.TempPageHolder.setPage(TempPageHolder.java:74)\n    at com.healthmarketscience.jackcess.impl.TableImpl.findFreeRowSpace(TableImpl.java:2702)\n    at com.healthmarketscience.jackcess.impl.TableImpl.findFreeRowSpace(TableImpl.java:2656)\n    at com.healthmarketscience.jackcess.impl.TableImpl.addRows(TableImpl.java:2300)\n    at com.healthmarketscience.jackcess.impl.TableImpl.addRow(TableImpl.java:2169)\n    at net.ucanaccess.converters.UcanaccessTable.addRow(UcanaccessTable.java:46)\n    at net.ucanaccess.commands.InsertCommand.insertRow(InsertCommand.java:100)\n    at net.ucanaccess.commands.InsertCommand.persist(InsertCommand.java:148)\n    at net.ucanaccess.jdbc.UcanaccessConnection.flushIO(UcanaccessConnection.java:323)\n    at net.ucanaccess.jdbc.UcanaccessConnection.commit(UcanaccessConnection.java:205)\n    at net.ucanaccess.jdbc.AbstractExecute.executeBase(AbstractExecute.java:273)\n    at net.ucanaccess.jdbc.ExecuteUpdate.execute(ExecuteUpdate.java:48)\n    at net.ucanaccess.jdbc.UcanaccessPreparedStatement.executeUpdate(UcanaccessPreparedStatement.java:267)\n    at Modelo.OGMA_Controller$6.run(OGMA_Controller.java:479)\n    at java.base/java.lang.Thread.run(Thread.java:830)\nnov. 02, 2021 10:54:03 A. M. Modelo.Log escribirLog\nINFO: net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::5.0.1 invalid page number 2548\n    at net.ucanaccess.jdbc.UcanaccessPreparedStatement.executeUpdate(UcanaccessPreparedStatement.java:270)\n    at Modelo.OGMA_Controller$6.run(OGMA_Controller.java:479)\n    at java.base/java.lang.Thread.run(Thread.java:830)\nCaused by: net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::5.0.1 invalid page number 2548\n    at net.ucanaccess.jdbc.UcanaccessConnection.commit(UcanaccessConnection.java:212)\n    at net.ucanaccess.jdbc.AbstractExecute.executeBase(AbstractExecute.java:273)\n    at net.ucanaccess.jdbc.ExecuteUpdate.execute(ExecuteUpdate.java:48)\n    at net.ucanaccess.jdbc.UcanaccessPreparedStatement.executeUpdate(UcanaccessPreparedStatement.java:267)\n    ... 2 more\nCaused by: net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::5.0.1 invalid page number 2548\n    at net.ucanaccess.jdbc.UcanaccessConnection.flushIO(UcanaccessConnection.java:360)\n    at net.ucanaccess.jdbc.UcanaccessConnection.commit(UcanaccessConnection.java:205)\n    ... 5 more\nCaused by: java.lang.IllegalStateException: invalid page number 2548\n    at com.healthmarketscience.jackcess.impl.PageChannel.validatePageNumber(PageChannel.java:203)\n    at com.healthmarketscience.jackcess.impl.PageChannel.readPage(PageChannel.java:214)\n    at com.healthmarketscience.jackcess.impl.TempPageHolder.setPage(TempPageHolder.java:86)\n    at com.healthmarketscience.jackcess.impl.TempPageHolder.setPage(TempPageHolder.java:74)\n    at com.healthmarketscience.jackcess.impl.TableImpl.findFreeRowSpace(TableImpl.java:2702)\n    at com.healthmarketscience.jackcess.impl.TableImpl.findFreeRowSpace(TableImpl.java:2656)\n    at com.healthmarketscience.jackcess.impl.TableImpl.addRows(TableImpl.java:2300)\n    at com.healthmarketscience.jackcess.impl.TableImpl.addRow(TableImpl.java:2169)\n    at net.ucanaccess.converters.UcanaccessTable.addRow(UcanaccessTable.java:46)\n    at net.ucanaccess.commands.InsertCommand.insertRow(InsertCommand.java:100)\n    at net.ucanaccess.commands.InsertCommand.persist(InsertCommand.java:148)\n    at net.ucanaccess.jdbc.UcanaccessConnection.flushIO(UcanaccessConnection.java:323)\n    ... 6 more\n</code></pre>\n<p>The class to which the code belongs extracts the size, format, dimensions, etc. of an image and inserts it in the database.</p>\n<p>The error belongs to the an insert, update, when i do executeUpdate()</p>\n<p>Does anyone know what could happen to the database?\nAlso say that the base is on a local network.\nThank you.</p>\n<p>This is the code.</p>\n<pre><code>BufferedImage image = ImageIO.read(e);\nint[] dpi = busquedaDirectorioController.dpi(e);\nfloat[] mili = busquedaDirectorioController.aCentrimetros(image.getWidth(), image.getHeight());\n\n//String sql1 = &quot;Insert into imageSize (RutaOriginal,NombreImagen,anchoPX, altoPX, anchoMM, altoMM, xPPP, yPPP, RutaCompleta, CodigoBarras, NomFicheroPDF) VALUES (?,?,?,?,?,?,?,?,?,?,?)&quot;;\nString sql1 = &quot;Insert into imageSize (RutaOriginal,NombreImagen,anchoPX, altoPX, anchoMM, altoMM, xPPP, yPPP, RutaCompleta, CodigoBarras, NomFicheroPDF, Tamano) VALUES (?,?,?,?,?,?,?,?,?,?,?,?)&quot;;\nPreparedStatement statement1 = connection.prepareStatement(sql1);\nstatement1.setString(1, ruta);\nstatement1.setString(2, e.getName());\nstatement1.setInt(3, image.getWidth());\nstatement1.setInt(4, image.getHeight());\nstatement1.setFloat(5, mili[0]);\nstatement1.setFloat(6, mili[1]);\nstatement1.setString(9, e.getAbsolutePath());\n//statement1.setString(10, numero);\nif (val == null) {\n    System.out.println(&quot;Soy el id en el update::: &quot; + ids.get(k));\n    statement1.setString(10, ids.get(k));\n} else {\n    System.out.println(&quot;Soy el id en el update::: &quot; + ids.get(0));\n    statement1.setString(10, ids.get(0));\n}\nstatement1.setString(11, nombrePdf);\n\nlong pesoAr = e.length() / (1024) + 1;\nSystem.out.println(&quot;ESPACIO DE: &quot; + e.getName() + &quot; ES &quot; + pesoAr + &quot; KB&quot;);\n\ne.toString();\nif (dpi != null) {\n    statement1.setInt(7, dpi[0]);\n    statement1.setInt(8, dpi[1]);\n} else {\n    statement1.setInt(7, 0);\n    statement1.setInt(8, 0);\n}\n\nstatement1.setLong(12, pesoAr);\n\nThread.sleep(35);\n\nstatement1.executeUpdate();\nstatement1.close();\n</code></pre>\n"},{"tags":["java","spring","resttemplate","spring-social"],"comments":[{"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"score":0,"creation_date":1423560612,"post_id":28427978,"comment_id":45187733,"body_markdown":"Why are you using this ? restTemplate.setInterceptors(Arrays.asList(new ClientHttpRequestInterceptor[]{new AdminKeyHeaderOAuth2RequestInterceptor()}));","body":"Why are you using this ? restTemplate.setInterceptors(Arrays.asList(new ClientHttpRequestInterceptor[]{new AdminKeyHeaderOAuth2RequestInterceptor()}));"},{"owner":{"account_id":1910692,"reputation":1,"user_id":1724592,"display_name":"Bongki Seo"},"score":0,"creation_date":1423613192,"post_id":28427978,"comment_id":45218095,"body_markdown":"I thought can solve this issue by replace interceptor list. (sorry my poor english)","body":"I thought can solve this issue by replace interceptor list. (sorry my poor english)"},{"owner":{"account_id":1910692,"reputation":1,"user_id":1724592,"display_name":"Bongki Seo"},"score":0,"creation_date":1423619187,"post_id":28427978,"comment_id":45219850,"body_markdown":"oh sorry\ni misinterpret your comment.\nthat is wrong source code. class MyInterceptor -&gt; class AdminKeyHeaderOAuth2RequestInterceptor (in 2nd code block)","body":"oh sorry i misinterpret your comment. that is wrong source code. class MyInterceptor -&gt; class AdminKeyHeaderOAuth2RequestInterceptor (in 2nd code block)"}],"answers":[{"tags":[],"owner":{"account_id":7836602,"reputation":1,"user_id":5924407,"display_name":"姚遠鳴"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635849107,"creation_date":1635849107,"answer_id":69808892,"question_id":28427978,"body_markdown":"https://progressivecoder.com/avoid-ssl-validation-spring-boot-resttemplate/\r\n\r\nI found this bolg in progressivecoder, try\r\n\r\n    @Bean\r\n\tpublic RestTemplate restTemplate() throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n    \t\tTrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n \r\n    \t\tSSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n                    \t\t.loadTrustMaterial(null, acceptingTrustStrategy)\r\n                    \t\t.build();\r\n \r\n    \t\tSSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\r\n \r\n    \t\tCloseableHttpClient httpClient = HttpClients.custom()\r\n                    \t\t.setSSLSocketFactory(csf)\r\n                    \t\t.build();\r\n \r\n    \t\tHttpComponentsClientHttpRequestFactory requestFactory =\r\n                    \t\tnew HttpComponentsClientHttpRequestFactory();\r\n \r\n    \t\trequestFactory.setHttpClient(httpClient);\r\n    \t\tRestTemplate restTemplate = new RestTemplate(requestFactory);\r\n   \t\treturn restTemplate;\r\n \t}\r\n\r\n\r\nusing this RestTemplate method you dont need to create a header and it will skip the verification \r\n\r\n \r\n\r\n    try {\r\n            RestTemplate restTemplate = restTemplate();\r\n            HttpHeaders headers = new HttpHeaders();\r\n            HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\r\n            ResponseEntity&lt;String&gt; entity = restTemplate.exchange(harborHealthCheck.toString(), HttpMethod.GET, httpEntity, new ParameterizedTypeReference&lt;String&gt;(){});\r\n            if(PaasConst.SUCCESS == entity.getStatusCodeValue()){\r\n              return entity.getBody();   \r\n            }else {\r\n                throw new BusinessException(ExceptionType.ERROR_IO_EXCEPTION);\r\n            }\r\n        }catch (Exception e){\r\n            throw new BusinessException(ExceptionType.ERROE_NETWORK_REQUEST, e);\r\n        }\r\n\r\n","title":"how can i use spring social rest template exchange method ignore OAuth2RequestInterceptor","body":"<p><a href=\"https://progressivecoder.com/avoid-ssl-validation-spring-boot-resttemplate/\" rel=\"nofollow noreferrer\">https://progressivecoder.com/avoid-ssl-validation-spring-boot-resttemplate/</a></p>\n<p>I found this bolg in progressivecoder, try</p>\n<pre><code>@Bean\npublic RestTemplate restTemplate() throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\n        TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n\n        SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n                        .loadTrustMaterial(null, acceptingTrustStrategy)\n                        .build();\n\n        SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\n\n        CloseableHttpClient httpClient = HttpClients.custom()\n                        .setSSLSocketFactory(csf)\n                        .build();\n\n        HttpComponentsClientHttpRequestFactory requestFactory =\n                        new HttpComponentsClientHttpRequestFactory();\n\n        requestFactory.setHttpClient(httpClient);\n        RestTemplate restTemplate = new RestTemplate(requestFactory);\n    return restTemplate;\n}\n</code></pre>\n<p>using this RestTemplate method you dont need to create a header and it will skip the verification</p>\n<pre><code>try {\n        RestTemplate restTemplate = restTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\n        ResponseEntity&lt;String&gt; entity = restTemplate.exchange(harborHealthCheck.toString(), HttpMethod.GET, httpEntity, new ParameterizedTypeReference&lt;String&gt;(){});\n        if(PaasConst.SUCCESS == entity.getStatusCodeValue()){\n          return entity.getBody();   \n        }else {\n            throw new BusinessException(ExceptionType.ERROR_IO_EXCEPTION);\n        }\n    }catch (Exception e){\n        throw new BusinessException(ExceptionType.ERROE_NETWORK_REQUEST, e);\n    }\n</code></pre>\n"}],"owner":{"account_id":1910692,"reputation":1,"user_id":1724592,"display_name":"Bongki Seo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635849107,"creation_date":1423560018,"question_id":28427978,"body_markdown":"###API request header format\r\n\r\n    .....\r\n\tAuthorization: KakaoAK {token}\r\n\t.....\r\n\r\n###my custom client http request interceptor \r\n\r\n    class AdminKeyHeaderOAuth2RequestInterceptor implements ClientHttpRequestInterceptor {\r\n\t\t@Override\r\n\t\tpublic ClientHttpResponse intercept(final HttpRequest request, final byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n\t\t\treturn execution.execute(protectedResourceRequest, body);\r\n\t\t}\r\n\t}\r\n\r\n###use\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n\theaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n\theaders.setAccept(Arrays.asList(new MediaType[]{MediaType.ALL}));\r\n\theaders.set(&quot;Authorization&quot;, &quot;KakaoAK &quot; + adminKey); //admin key를 header에 셋팅해야함\r\n\t\r\n\tMultiValueMap&lt;String, String&gt; param = new LinkedMultiValueMap&lt;String, String&gt;();\r\n\tparam.set(&quot;limit&quot;, limit);\r\n\tparam.set(&quot;fromId&quot;, fromId);\r\n\tparam.set(&quot;order&quot;, order);\r\n\t\r\n\trestTemplate.setInterceptors(Arrays.asList(new ClientHttpRequestInterceptor[]{new AdminKeyHeaderOAuth2RequestInterceptor()}));\r\n\t\r\n\tResponseEntity&lt;KakaoIds&gt; response = restTemplate.exchange(buildApiUri(&quot;/v1/user/ids&quot;, param).toString(), HttpMethod.GET, new HttpEntity&lt;Object&gt;(headers), KakaoIds.class);\r\n\r\n\r\nBut request process go to &#39;intercep&#39; method of &#39;org.springframework.social.oauth2.OAuth2RequestInterceptor&#39; class and overwrite  http header. (after my custom request interceptor)\r\n\r\n###org.springframework.social.oauth2.OAuth2RequestInterceptor#intercep\r\n\r\n\tHttpRequest protectedResourceRequest = new HttpRequestDecorator(request);\r\n\tprotectedResourceRequest.getHeaders().set(&quot;Authorization&quot;, oauth2Version.getAuthorizationHeaderValue(accessToken));\r\n\treturn execution.execute(protectedResourceRequest, body);\r\n\r\n###Server received request header format\r\n\r\n\t....\r\n\tAuthorization: Bearer {token}\r\n\t....\r\n\r\nhow can i solve this issue?","title":"how can i use spring social rest template exchange method ignore OAuth2RequestInterceptor","body":"<h3>API request header format</h3>\n\n<pre><code>.....\nAuthorization: KakaoAK {token}\n.....\n</code></pre>\n\n<h3>my custom client http request interceptor</h3>\n\n<pre><code>class AdminKeyHeaderOAuth2RequestInterceptor implements ClientHttpRequestInterceptor {\n    @Override\n    public ClientHttpResponse intercept(final HttpRequest request, final byte[] body, ClientHttpRequestExecution execution) throws IOException {\n        return execution.execute(protectedResourceRequest, body);\n    }\n}\n</code></pre>\n\n<h3>use</h3>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\nheaders.setAccept(Arrays.asList(new MediaType[]{MediaType.ALL}));\nheaders.set(\"Authorization\", \"KakaoAK \" + adminKey); //admin key를 header에 셋팅해야함\n\nMultiValueMap&lt;String, String&gt; param = new LinkedMultiValueMap&lt;String, String&gt;();\nparam.set(\"limit\", limit);\nparam.set(\"fromId\", fromId);\nparam.set(\"order\", order);\n\nrestTemplate.setInterceptors(Arrays.asList(new ClientHttpRequestInterceptor[]{new AdminKeyHeaderOAuth2RequestInterceptor()}));\n\nResponseEntity&lt;KakaoIds&gt; response = restTemplate.exchange(buildApiUri(\"/v1/user/ids\", param).toString(), HttpMethod.GET, new HttpEntity&lt;Object&gt;(headers), KakaoIds.class);\n</code></pre>\n\n<p>But request process go to 'intercep' method of 'org.springframework.social.oauth2.OAuth2RequestInterceptor' class and overwrite  http header. (after my custom request interceptor)</p>\n\n<h3>org.springframework.social.oauth2.OAuth2RequestInterceptor#intercep</h3>\n\n<pre><code>HttpRequest protectedResourceRequest = new HttpRequestDecorator(request);\nprotectedResourceRequest.getHeaders().set(\"Authorization\", oauth2Version.getAuthorizationHeaderValue(accessToken));\nreturn execution.execute(protectedResourceRequest, body);\n</code></pre>\n\n<h3>Server received request header format</h3>\n\n<pre><code>....\nAuthorization: Bearer {token}\n....\n</code></pre>\n\n<p>how can i solve this issue?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":4948256,"reputation":1696,"user_id":3983066,"display_name":"Shadow Droid"},"score":0,"creation_date":1576649350,"post_id":59386310,"comment_id":104963668,"body_markdown":"Please edit your question to provide a [minimal code/example](https://stackoverflow.com/help/minimal-reproducible-example) that demonstrates the issue. Basically what have you attempted so far.","body":"Please edit your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal code/example</a> that demonstrates the issue. Basically what have you attempted so far."},{"owner":{"account_id":13728780,"reputation":646,"user_id":9906778,"display_name":"Ho&#224;ng Vũ Anh"},"score":0,"creation_date":1576649476,"post_id":59386310,"comment_id":104963702,"body_markdown":"use firebase auth","body":"use firebase auth"}],"answers":[{"tags":[],"owner":{"account_id":10157146,"reputation":863,"user_id":7501880,"display_name":"MoTahir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1576735376,"creation_date":1576650099,"answer_id":59386487,"question_id":59386310,"body_markdown":"from what I understood you&#39;re able to register users but you&#39;re not able to redirect unregistered users to the login/signup screen, if that&#39;s the case then you can try to use \r\n\r\n    FirebaseAuth.getInstance().currentUser\r\n\r\nin the on create view method in your welcome/home page it should be something like this\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n    \r\n      if (FirebaseAuth.getInstance().currentUser == null) {\r\n         startActivity(Intent(applicationContext, RegistrationActivity::class.java))\r\n         finish()\r\n         return\r\n      } \r\n\r\n      super.onCreate(savedInstanceState)\r\n      setContentView(R.layout.activity_main)\r\n      // do your other stuff\r\n     \r\n    }\r\n\r\nthis code is written in kotlin it shouldn&#39;t be that different in java. hope it helps.\r\n\r\n\r\nUPDATE------\r\n\r\nyou have a few mistakes with your code, try this\r\n\r\n    private void verifyCode(String code) {\r\n\r\n        PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.getCredential(verificationId, code);\r\n\r\n        FirebaseAuth.getInstance().signInWithCredential(phoneAuthCredential).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                if (task.isSuccessful()) {\r\n\r\n                    final String num = getIntent().getStringExtra(&quot;phoneNumber&quot;);\r\n                    FirebaseDatabase.getInstance().getReference(&quot;users&quot;).orderByChild(&quot;phoneNumber&quot;).equalTo(num).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                            if (dataSnapshot.exists()) {\r\n                                Intent intent = new Intent(VerifyPhoneActivity.this, ProfileActivity.class);\r\n                                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                                startActivity(intent);\r\n                            } else {\r\n                                FirebaseDatabase.getInstance().getReference(&quot;users&quot;).push().child(&quot;phoneNumber&quot;).setValue(num).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Void aVoid) {\r\n                                        Intent intent = new Intent(VerifyPhoneActivity.this, WelcomeActivity.class);\r\n\r\n                                        startActivity(intent);\r\n\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                        }\r\n                    });\r\n                } else {\r\n                    Toast.makeText(VerifyPhoneActivity.this, task.getException().getMessage(), Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nfirst of all, you have to log in the user with the phone detail then you check if you have any user registered with that phone number if you do then that means that this user has already entered the app but if you didn&#39;t have any information of user with that phone number then you create his information and direct him to the welcome screen after creating his information, so if this user comes back again you will check if we have a record of user with that phone number (which we do) so this time he will be directed to the profile screen","title":"Android: How to login an user with his phone number","body":"<p>from what I understood you're able to register users but you're not able to redirect unregistered users to the login/signup screen, if that's the case then you can try to use </p>\n\n<pre><code>FirebaseAuth.getInstance().currentUser\n</code></pre>\n\n<p>in the on create view method in your welcome/home page it should be something like this</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n\n  if (FirebaseAuth.getInstance().currentUser == null) {\n     startActivity(Intent(applicationContext, RegistrationActivity::class.java))\n     finish()\n     return\n  } \n\n  super.onCreate(savedInstanceState)\n  setContentView(R.layout.activity_main)\n  // do your other stuff\n\n}\n</code></pre>\n\n<p>this code is written in kotlin it shouldn't be that different in java. hope it helps.</p>\n\n<p>UPDATE------</p>\n\n<p>you have a few mistakes with your code, try this</p>\n\n<pre><code>private void verifyCode(String code) {\n\n    PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.getCredential(verificationId, code);\n\n    FirebaseAuth.getInstance().signInWithCredential(phoneAuthCredential).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n            if (task.isSuccessful()) {\n\n                final String num = getIntent().getStringExtra(\"phoneNumber\");\n                FirebaseDatabase.getInstance().getReference(\"users\").orderByChild(\"phoneNumber\").equalTo(num).addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                        if (dataSnapshot.exists()) {\n                            Intent intent = new Intent(VerifyPhoneActivity.this, ProfileActivity.class);\n                            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                            startActivity(intent);\n                        } else {\n                            FirebaseDatabase.getInstance().getReference(\"users\").push().child(\"phoneNumber\").setValue(num).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                @Override\n                                public void onSuccess(Void aVoid) {\n                                    Intent intent = new Intent(VerifyPhoneActivity.this, WelcomeActivity.class);\n\n                                    startActivity(intent);\n\n                                }\n                            });\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                    }\n                });\n            } else {\n                Toast.makeText(VerifyPhoneActivity.this, task.getException().getMessage(), Toast.LENGTH_LONG).show();\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>first of all, you have to log in the user with the phone detail then you check if you have any user registered with that phone number if you do then that means that this user has already entered the app but if you didn't have any information of user with that phone number then you create his information and direct him to the welcome screen after creating his information, so if this user comes back again you will check if we have a record of user with that phone number (which we do) so this time he will be directed to the profile screen</p>\n"}],"owner":{"account_id":16120156,"reputation":21,"user_id":11636316,"display_name":"Mayur Sadhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2011,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59386487,"answer_count":1,"score":1,"last_activity_date":1635848798,"creation_date":1576649165,"question_id":59386310,"body_markdown":"I&#39;m creating an app with where I want already signed up users to be redirected to their profile if their phone number is registered in the app, but if he is a new user then he will be redirected to the welcome page.\r\nThe problem is, I&#39;m able to get the verification code for the phone number, but it is always redirecting to the welcome page irrespective of whether it is an existing user or a new user.\r\nBy far I&#39;ve implemented Firebase phone authentication, and \r\n\r\n    \r\n        private void verifyCode(String code) {\r\n\r\n            PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.getCredential(verificationId, code);\r\n            signInWithCredentials(phoneAuthCredential);\r\n\r\n        }\r\n\r\n        private void signInWithCredentials(PhoneAuthCredential phoneAuthCredential) {\r\n\r\n            mAuth.signInWithCredential(phoneAuthCredential).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n\r\n                    final String num = getIntent().getStringExtra(&quot;phoneNumber&quot;);\r\n                    final Query query = FirebaseDatabase.getInstance().getReference(&quot;users&quot;).orderByChild(&quot;birthday&quot;).equalTo(num);\r\n\r\n                    if (task.isSuccessful()) {\r\n\r\n                        if (num.equals(query.toString())) {\r\n\r\n                            Log.i(&quot;Method&quot;, &quot;Inside if block&quot;);\r\n                            Log.i(&quot;value&quot;, num + query.toString());\r\n                            Intent intent = new Intent(VerifyPhoneActivity.this, WelcomeActivity.class);\r\n\r\n                            startActivity(intent);\r\n\r\n                        } else {\r\n\r\n                            Log.i(&quot;Method&quot;, &quot;Inside if block2&quot;);\r\n                            Log.i(&quot;value&quot;, num + query.toString());\r\n                        \r\n\r\n\r\n                        Intent intent = new Intent(VerifyPhoneActivity.this, ProfileActivity.class);\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n\r\n                        startActivity(intent);\r\n                    }\r\n\r\n\r\n                    } else {\r\n\r\n                        Toast.makeText(VerifyPhoneActivity.this, task.getException().getMessage(), Toast.LENGTH_LONG).show();\r\n\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n\r\nI&#39;m taking only the phone number of the user to log in/sign up, and there&#39;s no separate button for login and sign up. It should work in such a way that, once the OTP sent by the Firebase auth has been verified and if the phone number is already present in the database, it should directly fo the user&#39;s profile page instead of the welcome screen, however, if the phone number is new it should go to the welcome page instead of the user profile page.\r\nThe challenge I&#39;m facing is I&#39;m not able to check if the number entered is already present in the database in the user table(I&#39;ve created a separate user table to store the details of the user when he signs up for the first time). ","title":"Android: How to login an user with his phone number","body":"<p>I'm creating an app with where I want already signed up users to be redirected to their profile if their phone number is registered in the app, but if he is a new user then he will be redirected to the welcome page.\nThe problem is, I'm able to get the verification code for the phone number, but it is always redirecting to the welcome page irrespective of whether it is an existing user or a new user.\nBy far I've implemented Firebase phone authentication, and </p>\n\n<pre><code>    private void verifyCode(String code) {\n\n        PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.getCredential(verificationId, code);\n        signInWithCredentials(phoneAuthCredential);\n\n    }\n\n    private void signInWithCredentials(PhoneAuthCredential phoneAuthCredential) {\n\n        mAuth.signInWithCredential(phoneAuthCredential).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n\n                final String num = getIntent().getStringExtra(\"phoneNumber\");\n                final Query query = FirebaseDatabase.getInstance().getReference(\"users\").orderByChild(\"birthday\").equalTo(num);\n\n                if (task.isSuccessful()) {\n\n                    if (num.equals(query.toString())) {\n\n                        Log.i(\"Method\", \"Inside if block\");\n                        Log.i(\"value\", num + query.toString());\n                        Intent intent = new Intent(VerifyPhoneActivity.this, WelcomeActivity.class);\n\n                        startActivity(intent);\n\n                    } else {\n\n                        Log.i(\"Method\", \"Inside if block2\");\n                        Log.i(\"value\", num + query.toString());\n\n\n\n                    Intent intent = new Intent(VerifyPhoneActivity.this, ProfileActivity.class);\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n\n                    startActivity(intent);\n                }\n\n\n                } else {\n\n                    Toast.makeText(VerifyPhoneActivity.this, task.getException().getMessage(), Toast.LENGTH_LONG).show();\n\n                }\n            }\n        });\n\n    }\n</code></pre>\n\n<p>I'm taking only the phone number of the user to log in/sign up, and there's no separate button for login and sign up. It should work in such a way that, once the OTP sent by the Firebase auth has been verified and if the phone number is already present in the database, it should directly fo the user's profile page instead of the welcome screen, however, if the phone number is new it should go to the welcome page instead of the user profile page.\nThe challenge I'm facing is I'm not able to check if the number entered is already present in the database in the user table(I've created a separate user table to store the details of the user when he signs up for the first time). </p>\n"},{"tags":["java","spring","hibernate","grails","groovy"],"answers":[{"tags":[],"owner":{"account_id":1135812,"reputation":550,"user_id":1120893,"accept_rate":44,"display_name":"thickGlass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635848672,"creation_date":1635848672,"answer_id":69808798,"question_id":69808378,"body_markdown":"Try introducing an extra layer between controller and and service. \r\nCreate a new class that would be called by the controller and add the introduce the currentTenant annotation in the new class, I had solved this issue in the past in similar way, I however do not know why that solved the issue.\r\n\r\neg:- \r\n\r\n\r\n\r\n\r\n   \r\n \r\n\r\n    class GroupController{\r\n        def save(){\r\n          new GroupHandler().handleSave();\r\n        }\r\n      }\r\n        \r\n    @CurrentTenant\r\n    class GroupHandler{\r\n        \r\n      def groupService // initialize service bean here \r\n      def handleSave(){\r\n           groupService.getMember()\r\n           groupService.updateMember()\r\n        }\r\n        \r\n    }\r\n\r\n","title":"PooledConnection Issue with MultiTenancy in Grails","body":"<p>Try introducing an extra layer between controller and and service.\nCreate a new class that would be called by the controller and add the introduce the currentTenant annotation in the new class, I had solved this issue in the past in similar way, I however do not know why that solved the issue.</p>\n<p>eg:-</p>\n<pre><code>class GroupController{\n    def save(){\n      new GroupHandler().handleSave();\n    }\n  }\n    \n@CurrentTenant\nclass GroupHandler{\n    \n  def groupService // initialize service bean here \n  def handleSave(){\n       groupService.getMember()\n       groupService.updateMember()\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":17227383,"reputation":11,"user_id":12472699,"display_name":"Rishav Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635848672,"creation_date":1635846691,"question_id":69808378,"body_markdown":"I am getting a &quot;pooled connection has already been closed&quot; issue when I try to hit the multitenant domain &#39;Member&#39; in service for the second time. I am using Grails 3.3.11 with MySQL database. I am not able to figure out what wrong am I doing.\r\n\r\n**I have a controller defined as below -**\r\n\r\n```\r\n@CurrentTenant\r\nclass GroupController{\r\n def save(){\r\n   groupService.getMember()\r\n   groupService.updateMember()\r\n }\r\n}\r\n```\r\n\r\n**I have a service defined as below -** \r\n```\r\n@Transactional\r\nclass GroupService{\r\n def getMember(){\r\n   return Member.createCriteria().list{\r\n     eq(&#39;customer&#39;,&#39;test&#39;)\r\n   }\r\n }\r\n\r\n def updateMember(){\r\n   Member.executeUpdate(&quot;Update member set group=&#39;testGroup&#39;&quot;)\r\n }\r\n}\r\n\r\n```\r\n**When I hit the updatemember() function I get the following error -** \r\n```\r\nPooledConnection has already been closed.. Stacktrace follows:\r\njava.lang.reflect.InvocationTargetException\r\n\tat org.grails.core.DefaultGrailsControllerClass$ReflectionInvoker.invoke(DefaultGrailsControllerClass.java:211)\r\n\tat org.grails.core.DefaultGrailsControllerClass.invoke(DefaultGrailsControllerClass.java:188)\r\n\tat org.grails.web.mapping.mvc.UrlMappingsInfoHandlerAdapter.handle(UrlMappingsInfoHandlerAdapter.groovy:90)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n\tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:54)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\r\n\tat grails.plugin.springsecurity.web.UpdateRequestContextHolderExceptionTranslationFilter.doFilter(UpdateRequestContextHolderExceptionTranslationFilter.groovy:64)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat grails.plugin.springsecurity.web.filter.GrailsHttpPutFormContentFilter.doFilterInternal(GrailsHttpPutFormContentFilter.groovy:54)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat grails.plugin.springsecurity.web.filter.GrailsAnonymousAuthenticationFilter.doFilter(GrailsAnonymousAuthenticationFilter.groovy:54)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.deerwalk.impl.CustomCasAuthenticationFilter.doFilter(CustomCasAuthenticationFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat grails.plugin.springsecurity.web.authentication.logout.MutableLogoutFilter.doFilter(MutableLogoutFilter.groovy:64)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat grails.plugin.springsecurity.web.SecurityRequestHolderFilter.doFilter(SecurityRequestHolderFilter.groovy:58)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n\tat org.grails.web.servlet.mvc.GrailsWebRequestFilter.doFilterInternal(GrailsWebRequestFilter.java:77)\r\n\tat org.grails.web.filters.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:67)\r\n\tat org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:97)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n**I am using multiple data sources and they have been defined as below -**\r\n\r\n```\r\ndataSource:\r\n  pooled: true\r\n  driverClassName: com.mysql.cj.jdbc.Driver\r\n  #dbCreate: &quot;update&quot;\r\n  url: jdbc:mysql://localhost:3306/index?zeroDateTimeBehavior=convertToNull&amp;autoReconnect=true&amp;relaxAutoCommit=true&amp;useSSL=false\r\n  username: root\r\n  password: root\r\n  properties:\r\n    initialSize: 5\r\n    maxActive: 100\r\n    minIdle: 5\r\n    maxIdle: 25\r\n    maxWait: 10000\r\n    maxAge: 10 * 60000\r\n    timeBetweenEvictionRunsMillis: 1800000\r\n    minEvictableIdleTimeMillis: 1800000\r\n    validationQuery: &quot;SELECT 1&quot;\r\n    validationInterval: 15000\r\n    testWhileIdle: true\r\n    testOnBorrow: true\r\n    testOnReturn: false\r\n    jdbcInterceptors: ConnectionState\r\n    defaultTransactionIsolation: java.sql.Connection.TRANSACTION_READ_COMMITTED\r\ndataSources:\r\n \r\n  shard1:\r\n    url: jdbc:mysql://localhost:3306/shard1?zeroDateTimeBehavior=convertToNull&amp;autoReconnect=true&amp;relaxAutoCommit=true&amp;useSSL=false\r\n    dbCreate: none\r\n\r\n  shard2:\r\n    url: jdbc:mysql://localhost:3306/shard2?zeroDateTimeBehavior=convertToNull&amp;autoReconnect=true&amp;relaxAutoCommit=true&amp;useSSL=false\r\n    dbCreate: none\r\n\r\n","title":"PooledConnection Issue with MultiTenancy in Grails","body":"<p>I am getting a &quot;pooled connection has already been closed&quot; issue when I try to hit the multitenant domain 'Member' in service for the second time. I am using Grails 3.3.11 with MySQL database. I am not able to figure out what wrong am I doing.</p>\n<p><strong>I have a controller defined as below -</strong></p>\n<pre><code>@CurrentTenant\nclass GroupController{\n def save(){\n   groupService.getMember()\n   groupService.updateMember()\n }\n}\n</code></pre>\n<p><strong>I have a service defined as below -</strong></p>\n<pre><code>@Transactional\nclass GroupService{\n def getMember(){\n   return Member.createCriteria().list{\n     eq('customer','test')\n   }\n }\n\n def updateMember(){\n   Member.executeUpdate(&quot;Update member set group='testGroup'&quot;)\n }\n}\n\n</code></pre>\n<p><strong>When I hit the updatemember() function I get the following error -</strong></p>\n<pre><code>PooledConnection has already been closed.. Stacktrace follows:\njava.lang.reflect.InvocationTargetException\n    at org.grails.core.DefaultGrailsControllerClass$ReflectionInvoker.invoke(DefaultGrailsControllerClass.java:211)\n    at org.grails.core.DefaultGrailsControllerClass.invoke(DefaultGrailsControllerClass.java:188)\n    at org.grails.web.mapping.mvc.UrlMappingsInfoHandlerAdapter.handle(UrlMappingsInfoHandlerAdapter.groovy:90)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:54)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\n    at grails.plugin.springsecurity.web.UpdateRequestContextHolderExceptionTranslationFilter.doFilter(UpdateRequestContextHolderExceptionTranslationFilter.groovy:64)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at grails.plugin.springsecurity.web.filter.GrailsHttpPutFormContentFilter.doFilterInternal(GrailsHttpPutFormContentFilter.groovy:54)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at grails.plugin.springsecurity.web.filter.GrailsAnonymousAuthenticationFilter.doFilter(GrailsAnonymousAuthenticationFilter.groovy:54)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.deerwalk.impl.CustomCasAuthenticationFilter.doFilter(CustomCasAuthenticationFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at grails.plugin.springsecurity.web.authentication.logout.MutableLogoutFilter.doFilter(MutableLogoutFilter.groovy:64)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at grails.plugin.springsecurity.web.SecurityRequestHolderFilter.doFilter(SecurityRequestHolderFilter.groovy:58)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n    at org.grails.web.servlet.mvc.GrailsWebRequestFilter.doFilterInternal(GrailsWebRequestFilter.java:77)\n    at org.grails.web.filters.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:67)\n    at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:97)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p><strong>I am using multiple data sources and they have been defined as below -</strong></p>\n<pre><code>dataSource:\n  pooled: true\n  driverClassName: com.mysql.cj.jdbc.Driver\n  #dbCreate: &quot;update&quot;\n  url: jdbc:mysql://localhost:3306/index?zeroDateTimeBehavior=convertToNull&amp;autoReconnect=true&amp;relaxAutoCommit=true&amp;useSSL=false\n  username: root\n  password: root\n  properties:\n    initialSize: 5\n    maxActive: 100\n    minIdle: 5\n    maxIdle: 25\n    maxWait: 10000\n    maxAge: 10 * 60000\n    timeBetweenEvictionRunsMillis: 1800000\n    minEvictableIdleTimeMillis: 1800000\n    validationQuery: &quot;SELECT 1&quot;\n    validationInterval: 15000\n    testWhileIdle: true\n    testOnBorrow: true\n    testOnReturn: false\n    jdbcInterceptors: ConnectionState\n    defaultTransactionIsolation: java.sql.Connection.TRANSACTION_READ_COMMITTED\ndataSources:\n \n  shard1:\n    url: jdbc:mysql://localhost:3306/shard1?zeroDateTimeBehavior=convertToNull&amp;autoReconnect=true&amp;relaxAutoCommit=true&amp;useSSL=false\n    dbCreate: none\n\n  shard2:\n    url: jdbc:mysql://localhost:3306/shard2?zeroDateTimeBehavior=convertToNull&amp;autoReconnect=true&amp;relaxAutoCommit=true&amp;useSSL=false\n    dbCreate: none\n\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":3772408,"reputation":35021,"user_id":3134215,"accept_rate":42,"display_name":"Ravi"},"score":0,"creation_date":1534939572,"post_id":51966480,"comment_id":90882790,"body_markdown":"May be because of DND service, not sure. Try it with other number also. And try to print some log in `onVerificationFailed()` and `onCodeSent()`","body":"May be because of DND service, not sure. Try it with other number also. And try to print some log in <code>onVerificationFailed()</code> and <code>onCodeSent()</code>"},{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":0,"creation_date":1534939739,"post_id":51966480,"comment_id":90882899,"body_markdown":"@CHarris, have you set your app&#39;s SHA-1 hash in firebase console ?","body":"@CHarris, have you set your app&#39;s SHA-1 hash in firebase console ?"},{"owner":{"account_id":1442513,"reputation":2703,"user_id":1362184,"accept_rate":61,"display_name":"CHarris"},"score":0,"creation_date":1534939783,"post_id":51966480,"comment_id":90882933,"body_markdown":"@RaviRupareliya Have tried different phones, doesn&#39;t work.","body":"@RaviRupareliya Have tried different phones, doesn&#39;t work."},{"owner":{"account_id":1442513,"reputation":2703,"user_id":1362184,"accept_rate":61,"display_name":"CHarris"},"score":0,"creation_date":1534939976,"post_id":51966480,"comment_id":90883088,"body_markdown":"@NiravBhavsar I did set up the SHA-1 originally, wasn&#39;t working, but then I deleted that project as was not certain it was set up properly, started a new Firebase project, and this time did not set up the SHA-1 as I really wanted to start with bare basics and eliminate what could be the problem 1 by 1. SHA-1 necessary, even if not on Play Store?","body":"@NiravBhavsar I did set up the SHA-1 originally, wasn&#39;t working, but then I deleted that project as was not certain it was set up properly, started a new Firebase project, and this time did not set up the SHA-1 as I really wanted to start with bare basics and eliminate what could be the problem 1 by 1. SHA-1 necessary, even if not on Play Store?"},{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":1,"creation_date":1534940107,"post_id":51966480,"comment_id":90883176,"body_markdown":"@CHarris, yes SHA-1 is necessary, when you run in both debug mode and release mode.","body":"@CHarris, yes SHA-1 is necessary, when you run in both debug mode and release mode."},{"owner":{"account_id":1442513,"reputation":2703,"user_id":1362184,"accept_rate":61,"display_name":"CHarris"},"score":0,"creation_date":1534940174,"post_id":51966480,"comment_id":90883221,"body_markdown":"@NiravBhavsar will have a look now then and report back...","body":"@NiravBhavsar will have a look now then and report back..."},{"owner":{"account_id":1442513,"reputation":2703,"user_id":1362184,"accept_rate":61,"display_name":"CHarris"},"score":0,"creation_date":1534943065,"post_id":51966480,"comment_id":90885149,"body_markdown":"@NiravBhavsar Still not working, have edited my question to include SHA-1.","body":"@NiravBhavsar Still not working, have edited my question to include SHA-1."}],"answers":[{"tags":[],"owner":{"account_id":12253746,"reputation":172,"user_id":8943301,"display_name":"Nisarg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534942150,"creation_date":1534942150,"answer_id":51967273,"question_id":51966480,"body_markdown":"Pass number with country code, for ex +91-(10 digit number)","title":"How do I get Firebase Phone Authentication to work for my app?","body":"<p>Pass number with country code, for ex +91-(10 digit number)</p>\n"},{"tags":[],"owner":{"account_id":9584987,"reputation":677,"user_id":7118110,"display_name":"Deepak Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534943728,"creation_date":1534943728,"answer_id":51967777,"question_id":51966480,"body_markdown":"Here everything looks good.\r\nI think what&#39;s going wrong is the mobile input field i.e editTextPhone, because firebase uses the format of \r\n\r\n[country-code 10-digit-mobile-no.]\r\n\r\neg. for India  +91 9090102030\r\n\r\nSo, you should throw the exception or print it in the log section in the **onVerificationFailed** method.\r\n","title":"How do I get Firebase Phone Authentication to work for my app?","body":"<p>Here everything looks good.\nI think what's going wrong is the mobile input field i.e editTextPhone, because firebase uses the format of </p>\n\n<p>[country-code 10-digit-mobile-no.]</p>\n\n<p>eg. for India  +91 9090102030</p>\n\n<p>So, you should throw the exception or print it in the log section in the <strong>onVerificationFailed</strong> method.</p>\n"},{"tags":[],"owner":{"account_id":1442513,"reputation":2703,"user_id":1362184,"accept_rate":61,"display_name":"CHarris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1534947231,"creation_date":1534947231,"answer_id":51968845,"question_id":51966480,"body_markdown":"My code was based on this video and I copied and pasted source code from the github account recommended:\r\n\r\nhttps://www.youtube.com/watch?v=N6HBStmDkMQ\r\n\r\nEverything looked good in my Firebase console, and the sourcecode was loading and working with no errors - working apart from the SMS being sent I mean - so I copied and pasted the code from this project instead, without needing to change any FireBase settings:\r\n\r\nhttps://www.simplifiedcoding.net/firebase-phone-authentication-android-tutorial/\r\n\r\nNow it is sending SMS messages. ","title":"How do I get Firebase Phone Authentication to work for my app?","body":"<p>My code was based on this video and I copied and pasted source code from the github account recommended:</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=N6HBStmDkMQ\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=N6HBStmDkMQ</a></p>\n\n<p>Everything looked good in my Firebase console, and the sourcecode was loading and working with no errors - working apart from the SMS being sent I mean - so I copied and pasted the code from this project instead, without needing to change any FireBase settings:</p>\n\n<p><a href=\"https://www.simplifiedcoding.net/firebase-phone-authentication-android-tutorial/\" rel=\"nofollow noreferrer\">https://www.simplifiedcoding.net/firebase-phone-authentication-android-tutorial/</a></p>\n\n<p>Now it is sending SMS messages. </p>\n"}],"owner":{"account_id":1442513,"reputation":2703,"user_id":1362184,"accept_rate":61,"display_name":"CHarris"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51968845,"answer_count":3,"score":1,"last_activity_date":1635848556,"creation_date":1534939490,"question_id":51966480,"body_markdown":"Not sure what I&#39;m doing wrong, I&#39;ve searched on Stack Overflow and read articles and watched videos but still no solution.\r\n\r\nBasically I want to send a SMS message by Firebase to user&#39;s phone to verify the phone number. My app is not in the Play Store or anything like that, I&#39;m just running it by connecting my phone to PC with a USB cable. \r\n\r\nAs far as I know I have set it up correctly. This is what I see in Android Studio:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd in FireBase:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nHere is my code:\r\n\r\n    MainActivity.java\r\n    \r\n    public class MainActivity extends AppCompatActivity  {\r\n    \r\n        EditText editTextPhone, editTextCode;\r\n    \r\n        FirebaseAuth mAuth;\r\n    \r\n        String codeSent;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mAuth = FirebaseAuth.getInstance();\r\n    \r\n            editTextCode = findViewById(R.id.editTextCode);\r\n            editTextPhone = findViewById(R.id.editTextPhone);\r\n    \r\n            findViewById(R.id.buttonGetVerificationCode).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    sendVerificationCode();\r\n                }\r\n            });\r\n    \r\n    \r\n            findViewById(R.id.buttonSignIn).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    verifySignInCode();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void verifySignInCode(){\r\n            String code = editTextCode.getText().toString();\r\n            PhoneAuthCredential credential = PhoneAuthProvider.getCredential(codeSent, code);\r\n            signInWithPhoneAuthCredential(credential);\r\n        }\r\n    \r\n        private void signInWithPhoneAuthCredential(PhoneAuthCredential credential) {\r\n            mAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            //here you can open new activity\r\n                            Toast.makeText(getApplicationContext(),\r\n                                &quot;Login Successfull&quot;, Toast.LENGTH_LONG).show();\r\n                        } else {\r\n                            if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {\r\n                                Toast.makeText(getApplicationContext(),\r\n                                    &quot;Incorrect Verification Code &quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    \r\n        private void sendVerificationCode(){\r\n    \r\n            String phone = editTextPhone.getText().toString();\r\n    \r\n            if(phone.isEmpty()){\r\n                editTextPhone.setError(&quot;Phone number is required&quot;);\r\n                editTextPhone.requestFocus();\r\n                return;\r\n            }\r\n    \r\n            if(phone.length() &lt; 10 ){\r\n                editTextPhone.setError(&quot;Please enter a valid phone&quot;);\r\n                editTextPhone.requestFocus();\r\n                return;\r\n            }\r\n    \r\n            System.out.println(&quot;code should be sent&quot;);\r\n    \r\n            PhoneAuthProvider.getInstance().verifyPhoneNumber(\r\n                phone,        // Phone number to verify\r\n                60,                 // Timeout duration\r\n                TimeUnit.SECONDS,   // Unit of timeout\r\n                this,               // Activity (for callback binding)\r\n                mCallbacks);        // OnVerificationStateChangedCallbacks\r\n        }\r\n    \r\n    \r\n    \r\n        PhoneAuthProvider.OnVerificationStateChangedCallbacks mCallbacks = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\r\n    \r\n            @Override\r\n            public void onVerificationCompleted(PhoneAuthCredential phoneAuthCredential) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onVerificationFailed(FirebaseException e) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onCodeSent(String s, PhoneAuthProvider.ForceResendingToken forceResendingToken) {\r\n                super.onCodeSent(s, forceResendingToken);\r\n    \r\n                codeSent = s;\r\n            }\r\n        };\r\n    \r\n    \r\n    }\r\n\r\n\r\nWhen I click the Get Verification Button I see the `System.out.println` in the log, &quot;code should be sent&quot; so button is working ok, just no code gets sent. Any ideas please?\r\n\r\nAlso, I believe I have set up my SHA-1 correctly. I got it from Android Studio by clicking &quot;signingReport&quot; from the Gradle tab and copying the number into Firebase Console, as below. \r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GQFzj.png\r\n  [2]: https://i.stack.imgur.com/jWzig.png\r\n  [3]: https://i.stack.imgur.com/w2217.png\r\n  [4]: https://i.stack.imgur.com/qPmWh.png","title":"How do I get Firebase Phone Authentication to work for my app?","body":"<p>Not sure what I'm doing wrong, I've searched on Stack Overflow and read articles and watched videos but still no solution.</p>\n\n<p>Basically I want to send a SMS message by Firebase to user's phone to verify the phone number. My app is not in the Play Store or anything like that, I'm just running it by connecting my phone to PC with a USB cable. </p>\n\n<p>As far as I know I have set it up correctly. This is what I see in Android Studio:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GQFzj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GQFzj.png\" alt=\"enter image description here\"></a></p>\n\n<p>And in FireBase:\n<a href=\"https://i.stack.imgur.com/jWzig.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jWzig.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/w2217.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w2217.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my code:</p>\n\n<pre><code>MainActivity.java\n\npublic class MainActivity extends AppCompatActivity  {\n\n    EditText editTextPhone, editTextCode;\n\n    FirebaseAuth mAuth;\n\n    String codeSent;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        editTextCode = findViewById(R.id.editTextCode);\n        editTextPhone = findViewById(R.id.editTextPhone);\n\n        findViewById(R.id.buttonGetVerificationCode).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                sendVerificationCode();\n            }\n        });\n\n\n        findViewById(R.id.buttonSignIn).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                verifySignInCode();\n            }\n        });\n    }\n\n    private void verifySignInCode(){\n        String code = editTextCode.getText().toString();\n        PhoneAuthCredential credential = PhoneAuthProvider.getCredential(codeSent, code);\n        signInWithPhoneAuthCredential(credential);\n    }\n\n    private void signInWithPhoneAuthCredential(PhoneAuthCredential credential) {\n        mAuth.signInWithCredential(credential)\n            .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if (task.isSuccessful()) {\n                        //here you can open new activity\n                        Toast.makeText(getApplicationContext(),\n                            \"Login Successfull\", Toast.LENGTH_LONG).show();\n                    } else {\n                        if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {\n                            Toast.makeText(getApplicationContext(),\n                                \"Incorrect Verification Code \", Toast.LENGTH_LONG).show();\n                        }\n                    }\n                }\n            });\n    }\n\n    private void sendVerificationCode(){\n\n        String phone = editTextPhone.getText().toString();\n\n        if(phone.isEmpty()){\n            editTextPhone.setError(\"Phone number is required\");\n            editTextPhone.requestFocus();\n            return;\n        }\n\n        if(phone.length() &lt; 10 ){\n            editTextPhone.setError(\"Please enter a valid phone\");\n            editTextPhone.requestFocus();\n            return;\n        }\n\n        System.out.println(\"code should be sent\");\n\n        PhoneAuthProvider.getInstance().verifyPhoneNumber(\n            phone,        // Phone number to verify\n            60,                 // Timeout duration\n            TimeUnit.SECONDS,   // Unit of timeout\n            this,               // Activity (for callback binding)\n            mCallbacks);        // OnVerificationStateChangedCallbacks\n    }\n\n\n\n    PhoneAuthProvider.OnVerificationStateChangedCallbacks mCallbacks = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\n\n        @Override\n        public void onVerificationCompleted(PhoneAuthCredential phoneAuthCredential) {\n\n        }\n\n        @Override\n        public void onVerificationFailed(FirebaseException e) {\n\n        }\n\n        @Override\n        public void onCodeSent(String s, PhoneAuthProvider.ForceResendingToken forceResendingToken) {\n            super.onCodeSent(s, forceResendingToken);\n\n            codeSent = s;\n        }\n    };\n\n\n}\n</code></pre>\n\n<p>When I click the Get Verification Button I see the <code>System.out.println</code> in the log, \"code should be sent\" so button is working ok, just no code gets sent. Any ideas please?</p>\n\n<p>Also, I believe I have set up my SHA-1 correctly. I got it from Android Studio by clicking \"signingReport\" from the Gradle tab and copying the number into Firebase Console, as below. </p>\n\n<p><a href=\"https://i.stack.imgur.com/qPmWh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qPmWh.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","swing","keylistener","mouselistener"],"comments":[{"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"score":0,"creation_date":1308666888,"post_id":6426955,"comment_id":7540770,"body_markdown":"See if this post helps http://stackoverflow.com/questions/6174119/global-keylistener-using-jna","body":"See if this post helps <a href=\"http://stackoverflow.com/questions/6174119/global-keylistener-using-jna\" title=\"global keylistener using jna\">stackoverflow.com/questions/6174119/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1308667206,"creation_date":1308666862,"answer_id":6427042,"question_id":6426955,"body_markdown":"The window manger will track the focus and direct input according to its configuration.  If your window manager decides to send input to a different program because it is enforcing a change of focus, you are out of luck.\r\n\r\nWhile the program lacks focus, if it were able to obtain the mouse and keyboard events, it would be a major security hole.  Basically any small unnoticeable background program could spy on the entire system, possibly even stealing passwords in the process.\r\n\r\nYour only hope is to find an option in your window manager which will allow you to minimize the program without changing focus.  Of course, whatever you type will only go the minimized program (and not affect the rest of the system).\r\n\r\nAnother technique (by no means guaranteed) is for the program to detect minimization events, and to request focus within a minimization event handler.  Note that doing so would probably (If I were writing a window manager) unminimize the window.\r\n","title":"listening for key/mouse events","body":"<p>The window manger will track the focus and direct input according to its configuration.  If your window manager decides to send input to a different program because it is enforcing a change of focus, you are out of luck.</p>\n\n<p>While the program lacks focus, if it were able to obtain the mouse and keyboard events, it would be a major security hole.  Basically any small unnoticeable background program could spy on the entire system, possibly even stealing passwords in the process.</p>\n\n<p>Your only hope is to find an option in your window manager which will allow you to minimize the program without changing focus.  Of course, whatever you type will only go the minimized program (and not affect the rest of the system).</p>\n\n<p>Another technique (by no means guaranteed) is for the program to detect minimization events, and to request focus within a minimization event handler.  Note that doing so would probably (If I were writing a window manager) unminimize the window.</p>\n"},{"tags":[],"owner":{"account_id":20683016,"reputation":101,"user_id":15186135,"display_name":"d1snin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635848470,"creation_date":1635847675,"answer_id":69808585,"question_id":6426955,"body_markdown":"You probably would like to look at jnativehook.\r\nJnativehook allows you to listen for keyboard events using JNA without an existing focused GUI.\r\n\r\nhttps://github.com/chrislgarry/Apollo-11\r\nhttps://github.com/kwhat/jnativehook/blob/2.2/doc/ConsumingEvents.md\r\n\r\nExample usage:\r\n```java\r\n        try {\r\n            GlobalScreen.registerNativeHook()\r\n        } catch (NativeHookException ex) {\r\n            System.out.println(ex.message)\r\n        }\r\n\r\n        GlobalScreen.addNativeKeyListener(\r\n            new NativeKeyListener() {\r\n                @Override\r\n                public void nativeKeyTyped(NativeKeyEvent nativeEvent) {\r\n                    System.out.println(&quot;Pressed &quot; + nativeEvent.keyChar)\r\n                }\r\n            }\r\n        )\r\n```","title":"listening for key/mouse events","body":"<p>You probably would like to look at jnativehook.\nJnativehook allows you to listen for keyboard events using JNA without an existing focused GUI.</p>\n<p><a href=\"https://github.com/chrislgarry/Apollo-11\" rel=\"nofollow noreferrer\">https://github.com/chrislgarry/Apollo-11</a>\n<a href=\"https://github.com/kwhat/jnativehook/blob/2.2/doc/ConsumingEvents.md\" rel=\"nofollow noreferrer\">https://github.com/kwhat/jnativehook/blob/2.2/doc/ConsumingEvents.md</a></p>\n<p>Example usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        try {\n            GlobalScreen.registerNativeHook()\n        } catch (NativeHookException ex) {\n            System.out.println(ex.message)\n        }\n\n        GlobalScreen.addNativeKeyListener(\n            new NativeKeyListener() {\n                @Override\n                public void nativeKeyTyped(NativeKeyEvent nativeEvent) {\n                    System.out.println(&quot;Pressed &quot; + nativeEvent.keyChar)\n                }\n            }\n        )\n</code></pre>\n"}],"owner":{"account_id":382548,"reputation":4765,"user_id":737842,"accept_rate":90,"display_name":"Stas Jaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1516,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":6427042,"answer_count":2,"score":5,"last_activity_date":1635848470,"creation_date":1308666485,"question_id":6426955,"body_markdown":"Is it possible to listen for key and mouse events without having a gui selected by the user? I want to make a program that runs in the background without a gui and responds to user interaction such as pressing `ctrl-t`.","title":"listening for key/mouse events","body":"<p>Is it possible to listen for key and mouse events without having a gui selected by the user? I want to make a program that runs in the background without a gui and responds to user interaction such as pressing <code>ctrl-t</code>.</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":4639149,"reputation":1881,"user_id":3759505,"accept_rate":67,"display_name":"hk6279"},"score":4,"creation_date":1543312386,"post_id":53496730,"comment_id":93863144,"body_markdown":"`redeliveryDelay` might suit your need, see [this SO solution](https://stackoverflow.com/a/30213291/3759505)","body":"<code>redeliveryDelay</code> might suit your need, see <a href=\"https://stackoverflow.com/a/30213291/3759505\">this SO solution</a>"},{"owner":{"account_id":1282416,"reputation":12126,"user_id":1236217,"accept_rate":100,"display_name":"Namphibian"},"score":1,"creation_date":1543886335,"post_id":53496730,"comment_id":94070979,"body_markdown":"The circuit breaker EIP is supported.","body":"The circuit breaker EIP is supported."},{"owner":{"account_id":3816145,"reputation":21,"user_id":3165472,"display_name":"Naga"},"score":0,"creation_date":1555900874,"post_id":53496730,"comment_id":98247185,"body_markdown":"Based on the solution you expect, this what you need I believe\nhttps://stackoverflow.com/questions/21309081/camel-runtime-timer-change","body":"Based on the solution you expect, this what you need I believe <a href=\"https://stackoverflow.com/questions/21309081/camel-runtime-timer-change\" title=\"camel runtime timer change\">stackoverflow.com/questions/21309081/camel-runtime-timer-cha&zwnj;&#8203;nge</a>"}],"answers":[{"tags":[],"owner":{"account_id":10966656,"reputation":176,"user_id":8058202,"display_name":"PraveenKumar K G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635848461,"creation_date":1635848461,"answer_id":69808741,"question_id":53496730,"body_markdown":"You can use Throtling route policy when consuming from MQ, Kafka. With Throtling Route Policy, you can control the data fetech from source if there are any issues with sink systems","title":"Delay an Apache Camel route trigger if exception happened during last time processing","body":"<p>You can use Throtling route policy when consuming from MQ, Kafka. With Throtling Route Policy, you can control the data fetech from source if there are any issues with sink systems</p>\n"}],"owner":{"account_id":1927812,"reputation":535,"user_id":1737869,"display_name":"Dmitriy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1635848461,"creation_date":1543311775,"question_id":53496730,"body_markdown":"\r\n\r\nIs there any built-in mechanism in **Apache Camel** to delay next triggering time of a route when exception occurred during last route processing?\r\n\r\nFor example, if I have a route:\r\n\r\n- trigger every 5 seconds\r\n- fetch data from database\r\n- process data and build a message\r\n- send message to remote ActiveMQ instance\r\n\r\nI want to be able to handle this scenario:\r\n\r\nIf database or ActiveMQ will go down (maintenance or some network issues), causing exceptions to be thrown during route processing, I want to temporary delay next time route will be triggered (like wait 5 mins before triggering again, giving some time to restart database\\activemq) and switch back to 5 seconds trigger when route processed with no exceptions again. Or even gradually increase wait time for next trigger on every failed attempt to process with no fails (1min/5min/10 min) and switch back to default of 5 seconds when everything is fine.\r\n\r\nI can build my own workaround using processors, `onException` handlers, some array to remember current delay status per routeId and `choice()` predicates that skips whole route from running if it is delayed, but maybe there is some built in mechanism in **Apache Camel**, as it sounds like a usual use-case scenario?","title":"Delay an Apache Camel route trigger if exception happened during last time processing","body":"<p>Is there any built-in mechanism in <strong>Apache Camel</strong> to delay next triggering time of a route when exception occurred during last route processing?</p>\n\n<p>For example, if I have a route:</p>\n\n<ul>\n<li>trigger every 5 seconds</li>\n<li>fetch data from database</li>\n<li>process data and build a message</li>\n<li>send message to remote ActiveMQ instance</li>\n</ul>\n\n<p>I want to be able to handle this scenario:</p>\n\n<p>If database or ActiveMQ will go down (maintenance or some network issues), causing exceptions to be thrown during route processing, I want to temporary delay next time route will be triggered (like wait 5 mins before triggering again, giving some time to restart database\\activemq) and switch back to 5 seconds trigger when route processed with no exceptions again. Or even gradually increase wait time for next trigger on every failed attempt to process with no fails (1min/5min/10 min) and switch back to default of 5 seconds when everything is fine.</p>\n\n<p>I can build my own workaround using processors, <code>onException</code> handlers, some array to remember current delay status per routeId and <code>choice()</code> predicates that skips whole route from running if it is delayed, but maybe there is some built in mechanism in <strong>Apache Camel</strong>, as it sounds like a usual use-case scenario?</p>\n"},{"tags":["java","image","swing"],"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1310771621,"post_id":6714045,"comment_id":7950035,"body_markdown":"`.... following layout.` is FlowLayout ??? (defalut Layout is there isn&#39;t defined anything) http://download.oracle.com/javase/tutorial/uiswing/layout/index.html, are you know http://download.oracle.com/javase/tutorial/uiswing/components/scrollpane.html","body":"<code>.... following layout.</code> is FlowLayout ??? (defalut Layout is there isn&#39;t defined anything) <a href=\"http://download.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/tutorial/uiswing/layout/index.htm&zwnj;&#8203;l</a>, are you know <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/tutorial/uiswing/components/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":450498,"reputation":1652,"user_id":845849,"display_name":"Suken Shah"},"down_vote_count":0,"up_vote_count":80,"is_accepted":true,"score":80,"last_activity_date":1443697838,"creation_date":1310774695,"answer_id":6714381,"question_id":6714045,"body_markdown":"Resizing the icon is not straightforward. You need to use Java&#39;s graphics 2D to scale the image. The first parameter is a Image class which you can easily get from `ImageIcon` class. You can use `ImageIcon` class to load your image file and then simply call getter method to get the image.\r\n\r\n    private Image getScaledImage(Image srcImg, int w, int h){\r\n        BufferedImage resizedImg = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2 = resizedImg.createGraphics();\r\n\r\n        g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n        g2.drawImage(srcImg, 0, 0, w, h, null);\r\n        g2.dispose();\r\n\r\n        return resizedImg;\r\n    }","title":"How to resize JLabel ImageIcon?","body":"<p>Resizing the icon is not straightforward. You need to use Java's graphics 2D to scale the image. The first parameter is a Image class which you can easily get from <code>ImageIcon</code> class. You can use <code>ImageIcon</code> class to load your image file and then simply call getter method to get the image.</p>\n\n<pre><code>private Image getScaledImage(Image srcImg, int w, int h){\n    BufferedImage resizedImg = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n    Graphics2D g2 = resizedImg.createGraphics();\n\n    g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n    g2.drawImage(srcImg, 0, 0, w, h, null);\n    g2.dispose();\n\n    return resizedImg;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1310826743,"creation_date":1310826743,"answer_id":6718021,"question_id":6714045,"body_markdown":"One (quick &amp; dirty) way to resize images it to use HTML &amp; specify the new size in the image element.  This even works for animated images with transparency.","title":"How to resize JLabel ImageIcon?","body":"<p>One (quick &amp; dirty) way to resize images it to use HTML &amp; specify the new size in the image element.  This even works for animated images with transparency.</p>\n"},{"tags":[],"owner":{"account_id":2185790,"reputation":31,"user_id":1934240,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356690647,"creation_date":1356690647,"answer_id":14068145,"question_id":6714045,"body_markdown":"I agree this code works, to size an ImageIcon from a file for display while keeping the aspect ratio I have used the below.\r\n\r\n    /*\r\n     * source File of image, maxHeight pixels of height available, maxWidth pixels of width available\r\n     * @return an ImageIcon for adding to a label\r\n     */\r\n\r\n\r\n    public ImageIcon rescaleImage(File source,int maxHeight, int maxWidth)\r\n    {\r\n        int newHeight = 0, newWidth = 0;        // Variables for the new height and width\r\n        int priorHeight = 0, priorWidth = 0;\r\n        BufferedImage image = null;\r\n        ImageIcon sizeImage;\r\n        \r\n        try {\r\n                image = ImageIO.read(source);        // get the image\r\n        } catch (Exception e) {\r\n                \r\n                e.printStackTrace();\r\n                System.out.println(&quot;Picture upload attempted &amp; failed&quot;);\r\n        }\r\n        \r\n        sizeImage = new ImageIcon(image);\r\n        \r\n        if(sizeImage != null)\r\n        {\r\n            priorHeight = sizeImage.getIconHeight(); \r\n            priorWidth = sizeImage.getIconWidth();\r\n        }\r\n    \r\n        // Calculate the correct new height and width\r\n        if((float)priorHeight/(float)priorWidth &gt; (float)maxHeight/(float)maxWidth)\r\n        {\r\n            newHeight = maxHeight;\r\n            newWidth = (int)(((float)priorWidth/(float)priorHeight)*(float)newHeight);\r\n        }\r\n        else \r\n        {\r\n            newWidth = maxWidth;\r\n            newHeight = (int)(((float)priorHeight/(float)priorWidth)*(float)newWidth);\r\n        }\r\n        \r\n       \r\n        // Resize the image\r\n        \r\n        // 1. Create a new Buffered Image and Graphic2D object\r\n        BufferedImage resizedImg = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D g2 = resizedImg.createGraphics();\r\n        \r\n        // 2. Use the Graphic object to draw a new image to the image in the buffer\r\n        g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n        g2.drawImage(image, 0, 0, newWidth, newHeight, null);\r\n        g2.dispose();\r\n        \r\n        // 3. Convert the buffered image into an ImageIcon for return\r\n        return (new ImageIcon(resizedImg));\r\n    }","title":"How to resize JLabel ImageIcon?","body":"<p>I agree this code works, to size an ImageIcon from a file for display while keeping the aspect ratio I have used the below.</p>\n\n<pre><code>/*\n * source File of image, maxHeight pixels of height available, maxWidth pixels of width available\n * @return an ImageIcon for adding to a label\n */\n\n\npublic ImageIcon rescaleImage(File source,int maxHeight, int maxWidth)\n{\n    int newHeight = 0, newWidth = 0;        // Variables for the new height and width\n    int priorHeight = 0, priorWidth = 0;\n    BufferedImage image = null;\n    ImageIcon sizeImage;\n\n    try {\n            image = ImageIO.read(source);        // get the image\n    } catch (Exception e) {\n\n            e.printStackTrace();\n            System.out.println(\"Picture upload attempted &amp; failed\");\n    }\n\n    sizeImage = new ImageIcon(image);\n\n    if(sizeImage != null)\n    {\n        priorHeight = sizeImage.getIconHeight(); \n        priorWidth = sizeImage.getIconWidth();\n    }\n\n    // Calculate the correct new height and width\n    if((float)priorHeight/(float)priorWidth &gt; (float)maxHeight/(float)maxWidth)\n    {\n        newHeight = maxHeight;\n        newWidth = (int)(((float)priorWidth/(float)priorHeight)*(float)newHeight);\n    }\n    else \n    {\n        newWidth = maxWidth;\n        newHeight = (int)(((float)priorHeight/(float)priorWidth)*(float)newWidth);\n    }\n\n\n    // Resize the image\n\n    // 1. Create a new Buffered Image and Graphic2D object\n    BufferedImage resizedImg = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_RGB);\n    Graphics2D g2 = resizedImg.createGraphics();\n\n    // 2. Use the Graphic object to draw a new image to the image in the buffer\n    g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n    g2.drawImage(image, 0, 0, newWidth, newHeight, null);\n    g2.dispose();\n\n    // 3. Convert the buffered image into an ImageIcon for return\n    return (new ImageIcon(resizedImg));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3191505,"reputation":1930,"user_id":2695641,"accept_rate":88,"display_name":"trolologuy"},"down_vote_count":0,"up_vote_count":118,"is_accepted":false,"score":118,"last_activity_date":1377002774,"creation_date":1377002774,"answer_id":18335435,"question_id":6714045,"body_markdown":"Try this :\r\n\r\n\r\n    ImageIcon imageIcon = new ImageIcon(&quot;./img/imageName.png&quot;); // load the image to a imageIcon\r\n    Image image = imageIcon.getImage(); // transform it \r\n    Image newimg = image.getScaledInstance(120, 120,  java.awt.Image.SCALE_SMOOTH); // scale it the smooth way  \r\n    imageIcon = new ImageIcon(newimg);  // transform it back\r\n\r\n(found it [here][1])\r\n\r\n\r\n  [1]: http://www.nullpointer.at/2011/08/21/java-code-snippets-howto-resize-an-imageicon/#comment-11870","title":"How to resize JLabel ImageIcon?","body":"<p>Try this :</p>\n\n<pre><code>ImageIcon imageIcon = new ImageIcon(\"./img/imageName.png\"); // load the image to a imageIcon\nImage image = imageIcon.getImage(); // transform it \nImage newimg = image.getScaledInstance(120, 120,  java.awt.Image.SCALE_SMOOTH); // scale it the smooth way  \nimageIcon = new ImageIcon(newimg);  // transform it back\n</code></pre>\n\n<p>(found it <a href=\"http://www.nullpointer.at/2011/08/21/java-code-snippets-howto-resize-an-imageicon/#comment-11870\" rel=\"noreferrer\">here</a>)</p>\n"},{"tags":[],"owner":{"display_name":"user4718768"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1443697931,"creation_date":1443697931,"answer_id":32886146,"question_id":6714045,"body_markdown":"And what about it?:\r\n\r\n\tImageIcon imageIcon = new ImageIcon(new ImageIcon(&quot;icon.png&quot;).getImage().getScaledInstance(20, 20, Image.SCALE_DEFAULT));\r\n\tlabel.setIcon(imageIcon);\r\n\r\nFrom: [https://stackoverflow.com/questions/16343098/resize-a-picture-to-fit-a-jlabel/32885963#32885963][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16343098/resize-a-picture-to-fit-a-jlabel/32885963#32885963","title":"How to resize JLabel ImageIcon?","body":"<p>And what about it?:</p>\n\n<pre><code>ImageIcon imageIcon = new ImageIcon(new ImageIcon(\"icon.png\").getImage().getScaledInstance(20, 20, Image.SCALE_DEFAULT));\nlabel.setIcon(imageIcon);\n</code></pre>\n\n<p>From: <a href=\"https://stackoverflow.com/questions/16343098/resize-a-picture-to-fit-a-jlabel/32885963#32885963\">Resize a picture to fit a JLabel</a></p>\n"},{"tags":[],"owner":{"account_id":6816317,"reputation":111,"user_id":5244891,"display_name":"Kyle Phillips"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1574541549,"creation_date":1449697475,"answer_id":34189578,"question_id":6714045,"body_markdown":"This will keep the right aspect ratio.\r\n\r\n\t\tpublic ImageIcon scaleImage(ImageIcon icon, int w, int h)\r\n\t\t{\r\n\t\t    int nw = icon.getIconWidth();\r\n\t\t    int nh = icon.getIconHeight();\r\n\r\n\t\t\tif(icon.getIconWidth() &gt; w)\r\n\t\t    {\r\n\t\t      nw = w;\r\n\t\t      nh = (nw * icon.getIconHeight()) / icon.getIconWidth();\r\n\t\t    }\r\n\r\n\t\t    if(nh &gt; h)\r\n\t\t    {\r\n\t\t      nh = h;\r\n\t\t      nw = (icon.getIconWidth() * nh) / icon.getIconHeight();\r\n\t\t    }\r\n\r\n\t\t    return new ImageIcon(icon.getImage().getScaledInstance(nw, nh, Image.SCALE_DEFAULT));\r\n\t\t}","title":"How to resize JLabel ImageIcon?","body":"<p>This will keep the right aspect ratio.</p>\n\n<pre><code>    public ImageIcon scaleImage(ImageIcon icon, int w, int h)\n    {\n        int nw = icon.getIconWidth();\n        int nh = icon.getIconHeight();\n\n        if(icon.getIconWidth() &gt; w)\n        {\n          nw = w;\n          nh = (nw * icon.getIconHeight()) / icon.getIconWidth();\n        }\n\n        if(nh &gt; h)\n        {\n          nh = h;\n          nw = (icon.getIconWidth() * nh) / icon.getIconHeight();\n        }\n\n        return new ImageIcon(icon.getImage().getScaledInstance(nw, nh, Image.SCALE_DEFAULT));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23215303,"reputation":11,"user_id":17308292,"display_name":"IRKillRoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635848335,"creation_date":1635848335,"answer_id":69808714,"question_id":6714045,"body_markdown":"I found that there is a minor edit to this fix from trolologuy on the last line of code, you will need to implement a new ImageIcon to get the code to compile properly (Yes I know this is 10 years ago).  I found this to be an easy fix for a one off issue, but Suken Shah and Mr. Polywhirl have a better fix overall.\r\n\r\n    ImageIcon imageIcon = new ImageIcon(&quot;./img/imageName.png&quot;); // assign image to a new ImageIcon\r\n    Image image = imageIcon.getImage(); // transform it \r\n    Image newimg = image.getScaledInstance(120, 120,  java.awt.Image.SCALE_SMOOTH); // scale it smoothly  \r\n    ImageIcon newImageIcon = new ImageIcon(newimg);  // assign to a new ImageIcon instance","title":"How to resize JLabel ImageIcon?","body":"<p>I found that there is a minor edit to this fix from trolologuy on the last line of code, you will need to implement a new ImageIcon to get the code to compile properly (Yes I know this is 10 years ago).  I found this to be an easy fix for a one off issue, but Suken Shah and Mr. Polywhirl have a better fix overall.</p>\n<pre><code>ImageIcon imageIcon = new ImageIcon(&quot;./img/imageName.png&quot;); // assign image to a new ImageIcon\nImage image = imageIcon.getImage(); // transform it \nImage newimg = image.getScaledInstance(120, 120,  java.awt.Image.SCALE_SMOOTH); // scale it smoothly  \nImageIcon newImageIcon = new ImageIcon(newimg);  // assign to a new ImageIcon instance\n</code></pre>\n"}],"owner":{"account_id":67260,"reputation":4096,"user_id":196886,"accept_rate":93,"display_name":"Marcos Roriz Junior"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216405,"favorite_count":0,"down_vote_count":1,"up_vote_count":69,"accepted_answer_id":6714381,"answer_count":7,"score":68,"last_activity_date":1635848335,"creation_date":1310770940,"question_id":6714045,"body_markdown":"I&#39;m making a Java Swing application that has the following layout ([`MigLayout`][1]):\r\n\r\n    [icon][icon][icon][....]\r\n    where icon = jlabel and the user can add more icons\r\n\r\nWhen the user adds or removes icons, the others should shrink or grow.\r\n\r\nMy question is really straightforward: I have a `JLabel` which contains an `ImageIcon`; how can I resize this icon?\r\n\r\n  [1]: http://www.miglayout.com/","title":"How to resize JLabel ImageIcon?","body":"<p>I'm making a Java Swing application that has the following layout (<a href=\"http://www.miglayout.com/\"><code>MigLayout</code></a>):</p>\n\n<pre><code>[icon][icon][icon][....]\nwhere icon = jlabel and the user can add more icons\n</code></pre>\n\n<p>When the user adds or removes icons, the others should shrink or grow.</p>\n\n<p>My question is really straightforward: I have a <code>JLabel</code> which contains an <code>ImageIcon</code>; how can I resize this icon?</p>\n"},{"tags":["java","multithreading","eclipse","swt","jface"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635847897,"creation_date":1635847473,"answer_id":69808539,"question_id":69807949,"body_markdown":"In SWT/JFace you can&#39;t call GUI operations on background threads (this is the same in most GUI systems).\r\n\r\nFor this I would use `Display.timerExec` to run a method after the two seconds. Set a flag if the user types something that the method can check. `timerExec` runs the code in the UI thread so there are no problems with background threads.\r\n\r\n```java\r\nprivate boolean dataEntered;\r\n\r\n...\r\n\r\ndataEntered = false;\r\n\r\nDisplay.getCurrent().timerExec(2_000, () -&gt; {\r\n  if (!dataEntered &amp;&amp; !getTextControl().isDisposed()) {\r\n     showErrorMessage(&quot;xxx&quot;);\r\n  }\r\n});\r\n\r\n... other code sets dataEntered = true if data is entered\r\n```\r\nThe `!getTextControl().isDisposed()` check deals with the dialog being closed before the 2 seconds expires.\r\n","title":"How to run method with delay in separate thread if condition is still valid","body":"<p>In SWT/JFace you can't call GUI operations on background threads (this is the same in most GUI systems).</p>\n<p>For this I would use <code>Display.timerExec</code> to run a method after the two seconds. Set a flag if the user types something that the method can check. <code>timerExec</code> runs the code in the UI thread so there are no problems with background threads.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean dataEntered;\n\n...\n\ndataEntered = false;\n\nDisplay.getCurrent().timerExec(2_000, () -&gt; {\n  if (!dataEntered &amp;&amp; !getTextControl().isDisposed()) {\n     showErrorMessage(&quot;xxx&quot;);\n  }\n});\n\n... other code sets dataEntered = true if data is entered\n</code></pre>\n<p>The <code>!getTextControl().isDisposed()</code> check deals with the dialog being closed before the 2 seconds expires.</p>\n"}],"owner":{"account_id":10472451,"reputation":157,"user_id":7719929,"accept_rate":58,"display_name":"Michal Kotus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69808539,"answer_count":1,"score":0,"last_activity_date":1635847897,"creation_date":1635844708,"question_id":69807949,"body_markdown":"I need some help, please. I need to run `showErrorMessage(errorMessage)` with some delay (2 sec) in separate thread. But if user continues typing and `result==true` before `showErrorMessage` method runs, I need to stop executing it.\r\n\r\n    private class DirectoryVarFieldEditor extends DirectoryFieldEditor\r\n    {\r\n\t\t/**\r\n\t\t * Initial path for the Browse dialog.\r\n\t\t */\r\n\t\tprivate File filterPath = null;\r\n\t\t\r\n\t\tpublic DirectoryVarFieldEditor(String name, String labelText, Composite parent) {\r\n\t\t  //super( name, labelText, parent );\r\n\t\t  init(name, labelText);\r\n\t\t  setErrorMessage(JFaceResources.getString(&quot;DirectoryFieldEditor.errorMessage&quot;));\r\n\t\t  setChangeButtonText(JFaceResources.getString(&quot;openBrowse&quot;));\r\n\t\t  setValidateStrategy(VALIDATE_ON_KEY_STROKE);\r\n\t\t  createControl(parent);\r\n\t\t  setEmptyStringAllowed(false);\r\n\t\t}\r\n\t\t\r\n\t\t// another code...\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected boolean doCheckState() {\r\n\t\t  System.out.println(&quot;DirectoryVarFieldEditor.doCheckState()&quot;);\r\n\t\t  String fileName = getTextControl().getText();\r\n\t\t  fileName = fileName.trim();\r\n\t\t  fileName = TCA3DNKernel.expandEnvironmentVariables(fileName);\r\n\t\t  if (fileName.length() == 0 &amp;&amp; isEmptyStringAllowed()) \r\n\t\t\treturn true;\r\n\t\t  File file = new File(fileName);\r\n\t\t  return file.isDirectory();\r\n\t\t}\r\n\t\t\r\n\t\t//\r\n\t\t@Override\r\n\t\tprotected boolean checkState()\r\n\t\t{\r\n\t\t  boolean result = false;\r\n\t\t  boolean emptyStringAllowed = super.isEmptyStringAllowed();\r\n\t\t  Text textField = super.getTextControl();\r\n\t\t  String errorMessage = getErrorMessage();\r\n\t\t  if (emptyStringAllowed)\r\n\t\t  {\r\n\t\t\tresult = true;\r\n\t\t  }\r\n\t\t\r\n\t\t  if (textField == null)\r\n\t\t  {\r\n\t\t\tresult = false;\r\n\t\t  } else\r\n\t\t  {\r\n\t\t\tString txt = textField.getText();\r\n\t\t\tresult = (txt.trim().length() &gt; 0) || emptyStringAllowed;\r\n\t\t  }\r\n\t\t\r\n\t\t  // call hook for subclasses\r\n\t\t  result = result &amp;&amp; doCheckState();\r\n\t\t\r\n\t\t  if (result)\r\n\t\t  {\r\n\t\t\tclearErrorMessage();\r\n\t\t  } else\r\n\t\t  {\r\n\t\t\tSystem.out.println(&quot;DirectoryVarFieldEditor.checkState()&quot;);\r\n\t\t\t// showErrorMessage method shoud run with delay:\r\n            showErrorMessage(errorMessage);\r\n\t\t  }\r\n\t\t  return result;\r\n\t\t}\r\n\t\t\r\n\t\t// another code...\r\n \r\n    }\r\n\r\nThanks for any hint!!!","title":"How to run method with delay in separate thread if condition is still valid","body":"<p>I need some help, please. I need to run <code>showErrorMessage(errorMessage)</code> with some delay (2 sec) in separate thread. But if user continues typing and <code>result==true</code> before <code>showErrorMessage</code> method runs, I need to stop executing it.</p>\n<pre><code>private class DirectoryVarFieldEditor extends DirectoryFieldEditor\n{\n    /**\n     * Initial path for the Browse dialog.\n     */\n    private File filterPath = null;\n    \n    public DirectoryVarFieldEditor(String name, String labelText, Composite parent) {\n      //super( name, labelText, parent );\n      init(name, labelText);\n      setErrorMessage(JFaceResources.getString(&quot;DirectoryFieldEditor.errorMessage&quot;));\n      setChangeButtonText(JFaceResources.getString(&quot;openBrowse&quot;));\n      setValidateStrategy(VALIDATE_ON_KEY_STROKE);\n      createControl(parent);\n      setEmptyStringAllowed(false);\n    }\n    \n    // another code...\n    \n    @Override\n    protected boolean doCheckState() {\n      System.out.println(&quot;DirectoryVarFieldEditor.doCheckState()&quot;);\n      String fileName = getTextControl().getText();\n      fileName = fileName.trim();\n      fileName = TCA3DNKernel.expandEnvironmentVariables(fileName);\n      if (fileName.length() == 0 &amp;&amp; isEmptyStringAllowed()) \n        return true;\n      File file = new File(fileName);\n      return file.isDirectory();\n    }\n    \n    //\n    @Override\n    protected boolean checkState()\n    {\n      boolean result = false;\n      boolean emptyStringAllowed = super.isEmptyStringAllowed();\n      Text textField = super.getTextControl();\n      String errorMessage = getErrorMessage();\n      if (emptyStringAllowed)\n      {\n        result = true;\n      }\n    \n      if (textField == null)\n      {\n        result = false;\n      } else\n      {\n        String txt = textField.getText();\n        result = (txt.trim().length() &gt; 0) || emptyStringAllowed;\n      }\n    \n      // call hook for subclasses\n      result = result &amp;&amp; doCheckState();\n    \n      if (result)\n      {\n        clearErrorMessage();\n      } else\n      {\n        System.out.println(&quot;DirectoryVarFieldEditor.checkState()&quot;);\n        // showErrorMessage method shoud run with delay:\n        showErrorMessage(errorMessage);\n      }\n      return result;\n    }\n    \n    // another code...\n\n}\n</code></pre>\n<p>Thanks for any hint!!!</p>\n"},{"tags":["java","unit-testing","spring-mvc","redirect","spring-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635848267,"post_id":69808623,"comment_id":123396217,"body_markdown":"You aren&#39;t testing anything due to the `@MockBean` of `UserController`. Your `@WebMVcTest` should use `UserController` not `BasicTemplatesController` nor should you use the mockito extension. Also your test doesn&#39;t make sense (sending json as a form).","body":"You aren&#39;t testing anything due to the <code>@MockBean</code> of <code>UserController</code>. Your <code>@WebMVcTest</code> should use <code>UserController</code> not <code>BasicTemplatesController</code> nor should you use the mockito extension. Also your test doesn&#39;t make sense (sending json as a form)."}],"owner":{"account_id":20767041,"reputation":41,"user_id":15250755,"display_name":"Teatro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635847890,"creation_date":1635847890,"question_id":69808623,"body_markdown":"I can&#39;t find accurate information about testing a redirection. I&#39;ve read over a dozen posts here including spring boot testing documentation.\r\n\r\nWhen I test my controller with POST I got HTTP 200 status code and it is fine.\r\n\r\nBut my question is that is it possible to catch 302 status during performance it or I have to do it as integration test or otherwise?\r\n\r\nModel\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class UserDTO {\r\n\r\n\t@NotBlank(message = &quot;Username is mandatory.&quot;)\r\n\t@Size(min = 3, max = 15)\r\n\tprivate String userName;\r\n\t\r\n\t@NotBlank(message = &quot;First name is mandatory.&quot;)\r\n\t@Size(min = 3, max = 15)\r\n\tprivate String firstName;\r\n\t\r\n\t@NotBlank(message = &quot;Last name is mandatory.&quot;)\r\n\t@Size(min = 3, max = 30)\r\n\tprivate String lastName;\r\n\t\r\n\t@NotBlank(message = &quot;An email is mandatory.&quot;)\r\n\t@Email\r\n\t@Size(min = 3, max = 30)\r\n\tprivate String email;\r\n\t\r\n\t@NotBlank(message = &quot;A password is mandatory.&quot;)\r\n\t@Size(min = 3, max = 30)\r\n\tprivate String password;\r\n}\r\n```\r\nController\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class UserController {\r\n\r\n\tprivate UserService userService;\r\n\t\r\n\t@Autowired\r\n\tpublic UserController(UserService userService){\r\n\t\tthis.userService = userService;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/sign-up&quot;)\r\n\tpublic String addUser(@ModelAttribute(&quot;userDTO&quot;) @Valid UserDTO userDTO, Errors errors) {\r\n\t\t\r\n\t\tif(errors.hasErrors()) {\r\n\t\t\treturn &quot;sign-up&quot;;\r\n\t\t}\r\n\t\t\r\n\t\tuserService.addUser(userDTO);\r\n\t\treturn &quot;redirect:/successful-sign-up&quot;;\r\n\t}\r\n```\r\nTest\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@WebMvcTest(BasicTemplatesController.class)\r\n@OverrideAutoConfiguration(enabled = true)\r\npublic class UserControllerTest {\r\n\t\r\n\t@MockBean\r\n\tprivate UserController userController;\r\n\t\r\n\t@Autowired\r\n\tprivate MockMvc mvc;\r\n\t\r\n\tprivate ObjectMapper objectMapper = new ObjectMapper();\r\n\t\r\n\t@Test\r\n\t@DisplayName(&quot;Should correctly add user and return HTTP status FOUND.&quot;)\r\n\tvoid shouldCorrectlyAddUserAndReturnCreated() throws Exception {\r\n\t\t\r\n\t\tUserDTO userDTO = new UserDTO( \r\n\t\t\t\t&quot;Username&quot;, \r\n\t\t\t\t&quot;New&quot;, \r\n\t\t\t\t&quot;User&quot;, \r\n\t\t\t\t&quot;new@gmail.com&quot;, \r\n\t\t\t\t&quot;password&quot;);\r\n\r\n\t\tmvc.perform(post(&quot;/sign-up&quot;)\r\n\t\t\t\t.contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n\t\t\t\t.content(objectMapper.writeValueAsBytes(userDTO))\r\n\t\t\t\t)\r\n\t\t\t.andExpect(status().isFound());\r\n\t\t\r\n\t}\r\n```","title":"Test redirection Spring","body":"<p>I can't find accurate information about testing a redirection. I've read over a dozen posts here including spring boot testing documentation.</p>\n<p>When I test my controller with POST I got HTTP 200 status code and it is fine.</p>\n<p>But my question is that is it possible to catch 302 status during performance it or I have to do it as integration test or otherwise?</p>\n<p>Model</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class UserDTO {\n\n    @NotBlank(message = &quot;Username is mandatory.&quot;)\n    @Size(min = 3, max = 15)\n    private String userName;\n    \n    @NotBlank(message = &quot;First name is mandatory.&quot;)\n    @Size(min = 3, max = 15)\n    private String firstName;\n    \n    @NotBlank(message = &quot;Last name is mandatory.&quot;)\n    @Size(min = 3, max = 30)\n    private String lastName;\n    \n    @NotBlank(message = &quot;An email is mandatory.&quot;)\n    @Email\n    @Size(min = 3, max = 30)\n    private String email;\n    \n    @NotBlank(message = &quot;A password is mandatory.&quot;)\n    @Size(min = 3, max = 30)\n    private String password;\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/&quot;)\npublic class UserController {\n\n    private UserService userService;\n    \n    @Autowired\n    public UserController(UserService userService){\n        this.userService = userService;\n    }\n    \n    @PostMapping(&quot;/sign-up&quot;)\n    public String addUser(@ModelAttribute(&quot;userDTO&quot;) @Valid UserDTO userDTO, Errors errors) {\n        \n        if(errors.hasErrors()) {\n            return &quot;sign-up&quot;;\n        }\n        \n        userService.addUser(userDTO);\n        return &quot;redirect:/successful-sign-up&quot;;\n    }\n</code></pre>\n<p>Test</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@WebMvcTest(BasicTemplatesController.class)\n@OverrideAutoConfiguration(enabled = true)\npublic class UserControllerTest {\n    \n    @MockBean\n    private UserController userController;\n    \n    @Autowired\n    private MockMvc mvc;\n    \n    private ObjectMapper objectMapper = new ObjectMapper();\n    \n    @Test\n    @DisplayName(&quot;Should correctly add user and return HTTP status FOUND.&quot;)\n    void shouldCorrectlyAddUserAndReturnCreated() throws Exception {\n        \n        UserDTO userDTO = new UserDTO( \n                &quot;Username&quot;, \n                &quot;New&quot;, \n                &quot;User&quot;, \n                &quot;new@gmail.com&quot;, \n                &quot;password&quot;);\n\n        mvc.perform(post(&quot;/sign-up&quot;)\n                .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n                .content(objectMapper.writeValueAsBytes(userDTO))\n                )\n            .andExpect(status().isFound());\n        \n    }\n</code></pre>\n"},{"tags":["java","hibernate","join"],"answers":[{"tags":[],"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1517211036,"creation_date":1440576290,"answer_id":32221108,"question_id":32220951,"body_markdown":"You can define two fields in B, one representing the relationship, and the other just the column:\r\n\r\n      @ManyToOne(fetch=LAZY)\r\n      @JoinColumn(name=&quot;b_id&quot;)\r\n      private A a;\r\n    \r\n      @Column(name=&quot;b_id&quot;, updatable=false,insertable=false) //Or correct column\r\n      private int a_id;\r\n\r\nThis way you can access entity A or just A&#39;s id from entity B.\r\n","title":"Just getting id column value not using join in hibernate object one to many relation","body":"<p>You can define two fields in B, one representing the relationship, and the other just the column:</p>\n\n<pre><code>  @ManyToOne(fetch=LAZY)\n  @JoinColumn(name=\"b_id\")\n  private A a;\n\n  @Column(name=\"b_id\", updatable=false,insertable=false) //Or correct column\n  private int a_id;\n</code></pre>\n\n<p>This way you can access entity A or just A's id from entity B.</p>\n"},{"tags":[],"owner":{"account_id":6282855,"reputation":289,"user_id":4883215,"display_name":"Steve Marion"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1440576354,"creation_date":1440576354,"answer_id":32221128,"question_id":32220951,"body_markdown":"I think you can use this post : [property access strategy][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2593722/hibernate-one-to-one-getid-without-fetching-entire-object\r\n\r\nIt is said that the lazy loading will not be triggered if you only access id","title":"Just getting id column value not using join in hibernate object one to many relation","body":"<p>I think you can use this post : <a href=\"https://stackoverflow.com/questions/2593722/hibernate-one-to-one-getid-without-fetching-entire-object\">property access strategy</a></p>\n\n<p>It is said that the lazy loading will not be triggered if you only access id</p>\n"},{"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1453896799,"creation_date":1440583944,"answer_id":32223785,"question_id":32220951,"body_markdown":"Yes, because proxies contain the id anyway. To get the id of an `A` proxy without initializing it, first declare the id to be accessed via property:\r\n\r\n    @Entity\r\n    public class A {\r\n      @Id\r\n      @Access(AccessType.PROPERTY)\r\n      private int id;\r\n    \r\n      @OneToMany(fetch=LAZY)\r\n      private List&lt;B&gt; list;\r\n    \r\n      public int getId() {\r\n        return id;\r\n      }\r\n    \r\n      public void setId(int id) {\r\n        this.id = id;\r\n      }\r\n    }\r\n\r\nThen, just read the id:\r\n\r\n    b.getA().getId();\r\n\r\nChanging access type for the id is necessary because if you use field access, Hibernate does not distinguish `getId()` method from other ordinary methods (which trigger proxy initialization when invoked).","title":"Just getting id column value not using join in hibernate object one to many relation","body":"<p>Yes, because proxies contain the id anyway. To get the id of an <code>A</code> proxy without initializing it, first declare the id to be accessed via property:</p>\n\n<pre><code>@Entity\npublic class A {\n  @Id\n  @Access(AccessType.PROPERTY)\n  private int id;\n\n  @OneToMany(fetch=LAZY)\n  private List&lt;B&gt; list;\n\n  public int getId() {\n    return id;\n  }\n\n  public void setId(int id) {\n    this.id = id;\n  }\n}\n</code></pre>\n\n<p>Then, just read the id:</p>\n\n<pre><code>b.getA().getId();\n</code></pre>\n\n<p>Changing access type for the id is necessary because if you use field access, Hibernate does not distinguish <code>getId()</code> method from other ordinary methods (which trigger proxy initialization when invoked).</p>\n"}],"owner":{"account_id":1802984,"reputation":409,"user_id":1640822,"display_name":"Dongin Min"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12605,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":32223785,"answer_count":3,"score":6,"last_activity_date":1635847367,"creation_date":1440575811,"question_id":32220951,"body_markdown":"I&#39;m using hibernate 4+.\r\n\r\nI have two sample tables.\r\n\r\nTable A\r\n\r\n    public class A {\r\n      @Id\r\n      private int id;\r\n    \r\n      @OneToMany(fetch=LAZY)\r\n      private List&lt;B&gt; list;\r\n    \r\n      // skip getter&amp;setter\r\n    }\r\n\r\nTable B\r\n\r\n    public class B {\r\n      @Id\r\n      private int id;\r\n\r\n      @ManyToOne(fetch=LAZY)\r\n      @JoinColumn(name=&quot;b_id&quot;)\r\n      private A a;\r\n    \r\n      // skip getter&amp;setter\r\n    }\r\n\r\nTable A(1) - (n)Table B Relation\r\n\r\nCan I just get A&#39;s id in object B not using join? Something like:\r\n```\r\nint aid = b.getA().getId(); // b is instance of B;\r\n```\r\n\r\nAlthough I can use int value instead of A when I declare class B.\r\nBut another service layer use A with join.\r\n\r\nCan I just get id(fk) value?","title":"Just getting id column value not using join in hibernate object one to many relation","body":"<p>I'm using hibernate 4+.</p>\n<p>I have two sample tables.</p>\n<p>Table A</p>\n<pre><code>public class A {\n  @Id\n  private int id;\n\n  @OneToMany(fetch=LAZY)\n  private List&lt;B&gt; list;\n\n  // skip getter&amp;setter\n}\n</code></pre>\n<p>Table B</p>\n<pre><code>public class B {\n  @Id\n  private int id;\n\n  @ManyToOne(fetch=LAZY)\n  @JoinColumn(name=&quot;b_id&quot;)\n  private A a;\n\n  // skip getter&amp;setter\n}\n</code></pre>\n<p>Table A(1) - (n)Table B Relation</p>\n<p>Can I just get A's id in object B not using join? Something like:</p>\n<pre><code>int aid = b.getA().getId(); // b is instance of B;\n</code></pre>\n<p>Although I can use int value instead of A when I declare class B.\nBut another service layer use A with join.</p>\n<p>Can I just get id(fk) value?</p>\n"},{"tags":["java","picocli"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635847273,"creation_date":1635847273,"answer_id":69808501,"question_id":69746895,"body_markdown":"Can you try using arity=1 for `installToken`? \r\n\r\n```java\r\n    static class InstallArgs {\r\n        @Option(names = {&quot;-t&quot;, &quot;--token&quot;},\r\n                order = 0,\r\n                arity = &quot;1&quot;,\r\n                interactive = true,\r\n                description = &quot;The agent install token.&quot;,\r\n                required = true) String installToken ;\r\n```","title":"PicoCLI : How to use @ArgGroup for a CommandLine.Command method","body":"<p>Can you try using arity=1 for <code>installToken</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static class InstallArgs {\n        @Option(names = {&quot;-t&quot;, &quot;--token&quot;},\n                order = 0,\n                arity = &quot;1&quot;,\n                interactive = true,\n                description = &quot;The agent install token.&quot;,\n                required = true) String installToken ;\n</code></pre>\n"}],"owner":{"account_id":9796114,"reputation":29,"user_id":7259110,"display_name":"Frank Liu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635847273,"creation_date":1635380461,"question_id":69746895,"body_markdown":"I have two options (-n and -t) under a command where if -n is used, then -t is required, but bothare not required. However, I keep getting an error about &lt;arg0&gt;\r\nI am trying to send the options as a parameter to another method (with business logic) as a parameter.\r\n\r\nValid Usage:\r\n```\r\nagent.bat install -n -t &lt;blahblah&gt;\r\nagent.bat install -t &lt;blahblah&gt; -n\r\nagent.bat install -t &lt;blah blah&gt;\r\nagent.bat install -t &lt;----This is on interactive so it would ask for a parameter later\r\n```\r\nInvalid Usage:\r\n```\r\nagent.bat install -n\r\nagent.bat install -n -t\r\n```\r\nCurrent output with valid usage:\r\n```\r\nagent.bat install -t\r\nMissing required parameter: &#39;&lt;arg0&gt;&#39;\r\nUsage: agent install [-hV] &lt;arg0&gt;\r\nSetup or update the agent service program by install token.\r\n      &lt;arg0&gt;\r\n```\r\n\r\n``` lang-java\r\npublic class Agent implements Callable&lt;Integer&gt; {\r\n\tstatic class InstallArgs {\r\n\t\t@Option(names = {&quot;-t&quot;, &quot;--token&quot;},\r\n                order = 0,\r\n                arity = &quot;0..1&quot;,\r\n                interactive = true,\r\n                description = &quot;The agent install token.&quot;,\r\n                required = true) String installToken ;\r\n        @Option(names = {&quot;-n&quot;, &quot;--noninteractive&quot;},\r\n                order = 1,\r\n                description = &quot;Sets installation to non-interactive&quot;,\r\n                required = false) boolean nonInteractive ;\r\n        public String toString() {\r\n            return String.format(&quot;%s,%s&quot;, installToken, nonInteractive);\r\n        }\r\n\t}\r\n\r\n    private static String[] programArgs;\r\n    @ArgGroup(exclusive = false, multiplicity = &quot;1&quot;)\r\n    @CommandLine.Command(name = AgentCommand.INSTALL_COMMAND, mixinStandardHelpOptions = true,\r\n            description = &quot;Setup or update the agent service program by install token.&quot;)\r\n    void install(InstallArgs installArgs) {\r\n    \tString[] installArgsValues = installArgs.toString().split(&quot;,&quot;);\r\n    \tString installToken = installArgsValues[0];\r\n    \tboolean nonInteractive = Boolean.parseBoolean(installArgsValues[1]);\r\n        IcbProgram.initProgramMode(ProgramMode.INSTALL);\r\n        MainService mainService = MainService.createInstallInstance(configFile, agentUserFile, backupAgentUserFile, installToken, nonInteractive);\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        if (ArgumentValidator.validateArgument(args)) {\r\n            programArgs = args;\r\n            int exitCode = new CommandLine(new Agent()).execute(args);\r\n            System.exit(exitCode);\r\n        } else \r\n            //Exit with usage error\r\n            System.exit(ExitCode.USAGE);        \r\n    }\r\n}\r\n```","title":"PicoCLI : How to use @ArgGroup for a CommandLine.Command method","body":"<p>I have two options (-n and -t) under a command where if -n is used, then -t is required, but bothare not required. However, I keep getting an error about \nI am trying to send the options as a parameter to another method (with business logic) as a parameter.</p>\n<p>Valid Usage:</p>\n<pre><code>agent.bat install -n -t &lt;blahblah&gt;\nagent.bat install -t &lt;blahblah&gt; -n\nagent.bat install -t &lt;blah blah&gt;\nagent.bat install -t &lt;----This is on interactive so it would ask for a parameter later\n</code></pre>\n<p>Invalid Usage:</p>\n<pre><code>agent.bat install -n\nagent.bat install -n -t\n</code></pre>\n<p>Current output with valid usage:</p>\n<pre><code>agent.bat install -t\nMissing required parameter: '&lt;arg0&gt;'\nUsage: agent install [-hV] &lt;arg0&gt;\nSetup or update the agent service program by install token.\n      &lt;arg0&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Agent implements Callable&lt;Integer&gt; {\n    static class InstallArgs {\n        @Option(names = {&quot;-t&quot;, &quot;--token&quot;},\n                order = 0,\n                arity = &quot;0..1&quot;,\n                interactive = true,\n                description = &quot;The agent install token.&quot;,\n                required = true) String installToken ;\n        @Option(names = {&quot;-n&quot;, &quot;--noninteractive&quot;},\n                order = 1,\n                description = &quot;Sets installation to non-interactive&quot;,\n                required = false) boolean nonInteractive ;\n        public String toString() {\n            return String.format(&quot;%s,%s&quot;, installToken, nonInteractive);\n        }\n    }\n\n    private static String[] programArgs;\n    @ArgGroup(exclusive = false, multiplicity = &quot;1&quot;)\n    @CommandLine.Command(name = AgentCommand.INSTALL_COMMAND, mixinStandardHelpOptions = true,\n            description = &quot;Setup or update the agent service program by install token.&quot;)\n    void install(InstallArgs installArgs) {\n        String[] installArgsValues = installArgs.toString().split(&quot;,&quot;);\n        String installToken = installArgsValues[0];\n        boolean nonInteractive = Boolean.parseBoolean(installArgsValues[1]);\n        IcbProgram.initProgramMode(ProgramMode.INSTALL);\n        MainService mainService = MainService.createInstallInstance(configFile, agentUserFile, backupAgentUserFile, installToken, nonInteractive);\n    }\n\n    public static void main(String... args) {\n        if (ArgumentValidator.validateArgument(args)) {\n            programArgs = args;\n            int exitCode = new CommandLine(new Agent()).execute(args);\n            System.exit(exitCode);\n        } else \n            //Exit with usage error\n            System.exit(ExitCode.USAGE);        \n    }\n}\n</code></pre>\n"},{"tags":["java","kubernetes","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1635545334,"post_id":69772067,"comment_id":123336332,"body_markdown":"Repost of @Christophe Laprun&#39;s &quot;answer&quot; as comment: Which version of the extension are you using? Can you post the output of the startup of the extension where it outputs the extension version / fabric8 version / operator sdk version, please?","body":"Repost of @Christophe Laprun&#39;s &quot;answer&quot; as comment: Which version of the extension are you using? Can you post the output of the startup of the extension where it outputs the extension version / fabric8 version / operator sdk version, please?"},{"owner":{"account_id":27118,"reputation":3700,"user_id":71208,"accept_rate":62,"display_name":"Max Rydahl Andersen"},"score":0,"creation_date":1635587743,"post_id":69772067,"comment_id":123342138,"body_markdown":"This sounds more like a bug than a question - could you please open an issue?","body":"This sounds more like a bug than a question - could you please open an issue?"},{"owner":{"account_id":9284083,"reputation":65,"user_id":6894543,"display_name":"Gabi"},"score":0,"creation_date":1635616671,"post_id":69772067,"comment_id":123345841,"body_markdown":"Version of quarkus operator sdk: 1.9.4, kubernetes-client: 5.3.0\nI am not at work so I do not have the full log, I will edit my post on Tuesday\n@MaxRydahlAndersen: sure I will do that in the github on Tuesday too when I can post the full details. I also have another NoSuchFieldException but with TYPEDEF instead of variables.\nJust wondering if it could be because of the structure of my project: I have 3 operators, each in different projects and I have dependencies between 2 of them (not circulars) even though I do not see why it would only impact the tests","body":"Version of quarkus operator sdk: 1.9.4, kubernetes-client: 5.3.0 I am not at work so I do not have the full log, I will edit my post on Tuesday @MaxRydahlAndersen: sure I will do that in the github on Tuesday too when I can post the full details. I also have another NoSuchFieldException but with TYPEDEF instead of variables. Just wondering if it could be because of the structure of my project: I have 3 operators, each in different projects and I have dependencies between 2 of them (not circulars) even though I do not see why it would only impact the tests"}],"answers":[{"tags":[],"owner":{"account_id":7581408,"reputation":1,"user_id":5752008,"display_name":"Christophe Laprun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635621893,"creation_date":1635621893,"answer_id":69781452,"question_id":69772067,"body_markdown":"It looks like you&#39;re using a version of the fabric8 client that is too old. You&#39;re using fabric8 5.3.0 while the quarkus-operator-sdk version 1.9.4 uses fabric8 5.4.0. Using the same fabric8 client version should solve your issue.","title":"Quarkus K8S operator - NoSuchField execption when runnin tests","body":"<p>It looks like you're using a version of the fabric8 client that is too old. You're using fabric8 5.3.0 while the quarkus-operator-sdk version 1.9.4 uses fabric8 5.4.0. Using the same fabric8 client version should solve your issue.</p>\n"},{"tags":[],"owner":{"account_id":9284083,"reputation":65,"user_id":6894543,"display_name":"Gabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635847242,"creation_date":1635847242,"answer_id":69808497,"question_id":69772067,"body_markdown":"The issue was coming from my maven version: I was using the mvn bundled with my IDE in v3.6.3 instead of the one I use in the whole system v3.8.1.\r\n\r\nThe very weird thing here is that I had the same error while runing `mvn clean install` from a terminal (so using the v3.8.1 version)\r\n\r\nAnyway, it works now.","title":"Quarkus K8S operator - NoSuchField execption when runnin tests","body":"<p>The issue was coming from my maven version: I was using the mvn bundled with my IDE in v3.6.3 instead of the one I use in the whole system v3.8.1.</p>\n<p>The very weird thing here is that I had the same error while runing <code>mvn clean install</code> from a terminal (so using the v3.8.1 version)</p>\n<p>Anyway, it works now.</p>\n"}],"owner":{"account_id":9284083,"reputation":65,"user_id":6894543,"display_name":"Gabi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69808497,"answer_count":2,"score":0,"last_activity_date":1635847242,"creation_date":1635524538,"question_id":69772067,"body_markdown":"When I run my tests for my K8S operator using quarkus operator, I get the following stack trace:\r\n```\r\n2021-10-29 18:14:08,668 WARN  [io.qua.ope.dep.OperatorSDKProcessor] (build-33) Use of deprecated check-crd-and-validate-local-model property. Use crd.validate instead.\r\n\r\njava.lang.RuntimeException: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkiverse.operatorsdk.deployment.OperatorSDKProcessor#createConfigurationServiceAndOperator threw an exception: java.lang.NoSuchFieldError: _visitables\r\n\tat io.sundr.model.ClassRefFluentImpl.withArguments(ClassRefFluentImpl.java:318)\r\n\tat io.sundr.adapter.reflect.TypeToTypeRef.apply(TypeToTypeRef.java:114)\r\n\tat io.sundr.adapter.reflect.TypeToTypeRef.apply(TypeToTypeRef.java:76)\r\n\tat io.sundr.adapter.reflect.TypeToTypeRef.apply(TypeToTypeRef.java:41)\r\n\tat io.sundr.adapter.reflect.ClassToTypeDef.apply(ClassToTypeDef.java:92)\r\n\tat io.sundr.adapter.reflect.ClassToTypeDef.apply(ClassToTypeDef.java:55)\r\n\tat io.sundr.adapter.api.Adapter.adaptType(Adapter.java:38)\r\n\tat io.sundr.adapter.api.Adapters.lambda$adaptType$0(Adapters.java:35)\r\n\tat java.base/java.util.Optional.map(Optional.java:265)\r\n\tat io.sundr.adapter.api.Adapters.adaptType(Adapters.java:35)\r\n\tat io.fabric8.crd.generator.utils.Types.typeDefFrom(Types.java:53)\r\n\tat io.fabric8.crd.generator.CustomResourceInfo.fromClass(CustomResourceInfo.java:137)\r\n\tat io.quarkiverse.operatorsdk.deployment.OperatorSDKProcessor.createControllerConfiguration(OperatorSDKProcessor.java:281)\r\n\tat io.quarkiverse.operatorsdk.deployment.OperatorSDKProcessor.lambda$createConfigurationServiceAndOperator$0(OperatorSDKProcessor.java:133)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1603)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n\tat io.quarkiverse.operatorsdk.deployment.OperatorSDKProcessor.createConfigurationServiceAndOperator(OperatorSDKProcessor.java:137)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:820)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n...\r\n```\r\n\r\nI really do not know where to look to solve this.\r\n\r\n\r\n\r\nWhen I run the operator as a standalone, it works normally, the issue is only when running tests.\r\n","title":"Quarkus K8S operator - NoSuchField execption when runnin tests","body":"<p>When I run my tests for my K8S operator using quarkus operator, I get the following stack trace:</p>\n<pre><code>2021-10-29 18:14:08,668 WARN  [io.qua.ope.dep.OperatorSDKProcessor] (build-33) Use of deprecated check-crd-and-validate-local-model property. Use crd.validate instead.\n\njava.lang.RuntimeException: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n    [error]: Build step io.quarkiverse.operatorsdk.deployment.OperatorSDKProcessor#createConfigurationServiceAndOperator threw an exception: java.lang.NoSuchFieldError: _visitables\n    at io.sundr.model.ClassRefFluentImpl.withArguments(ClassRefFluentImpl.java:318)\n    at io.sundr.adapter.reflect.TypeToTypeRef.apply(TypeToTypeRef.java:114)\n    at io.sundr.adapter.reflect.TypeToTypeRef.apply(TypeToTypeRef.java:76)\n    at io.sundr.adapter.reflect.TypeToTypeRef.apply(TypeToTypeRef.java:41)\n    at io.sundr.adapter.reflect.ClassToTypeDef.apply(ClassToTypeDef.java:92)\n    at io.sundr.adapter.reflect.ClassToTypeDef.apply(ClassToTypeDef.java:55)\n    at io.sundr.adapter.api.Adapter.adaptType(Adapter.java:38)\n    at io.sundr.adapter.api.Adapters.lambda$adaptType$0(Adapters.java:35)\n    at java.base/java.util.Optional.map(Optional.java:265)\n    at io.sundr.adapter.api.Adapters.adaptType(Adapters.java:35)\n    at io.fabric8.crd.generator.utils.Types.typeDefFrom(Types.java:53)\n    at io.fabric8.crd.generator.CustomResourceInfo.fromClass(CustomResourceInfo.java:137)\n    at io.quarkiverse.operatorsdk.deployment.OperatorSDKProcessor.createControllerConfiguration(OperatorSDKProcessor.java:281)\n    at io.quarkiverse.operatorsdk.deployment.OperatorSDKProcessor.lambda$createConfigurationServiceAndOperator$0(OperatorSDKProcessor.java:133)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1603)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\n    at io.quarkiverse.operatorsdk.deployment.OperatorSDKProcessor.createConfigurationServiceAndOperator(OperatorSDKProcessor.java:137)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:820)\n    at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n    at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n...\n</code></pre>\n<p>I really do not know where to look to solve this.</p>\n<p>When I run the operator as a standalone, it works normally, the issue is only when running tests.</p>\n"},{"tags":["java","program-entry-point","overriding"],"answers":[{"tags":[],"owner":{"account_id":1090269,"reputation":842,"user_id":1085048,"display_name":"digitebs"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1331718216,"creation_date":1331718216,"answer_id":9699367,"question_id":9699247,"body_markdown":"this is a compiler error. you cant override  a non static interface a static method","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>this is a compiler error. you cant override  a non static interface a static method</p>\n"},{"tags":[],"owner":{"account_id":185912,"reputation":763,"user_id":422924,"display_name":"Johannes"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1331718250,"creation_date":1331718250,"answer_id":9699372,"question_id":9699247,"body_markdown":"I think you are missing something. Static methods (like the main method in `Testclass1` and `Testclass2`) cannot override subclass methods.","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>I think you are missing something. Static methods (like the main method in <code>Testclass1</code> and <code>Testclass2</code>) cannot override subclass methods.</p>\n"},{"tags":[],"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1530288492,"creation_date":1331718357,"answer_id":9699410,"question_id":9699247,"body_markdown":"No you cannot, because `main` has to be static in order to be used as an entry point, and Interfaces dont allow the use of static, until `Java 7`.\r\n\r\nYes you can run a `psvm` in an interface, if you&#39;re working in `Java 8`. Because static methods are allowed in an interface starting from Java 8.\r\n\r\nBut of course, you cannot override the `main` method, since `psvm` is a static method.","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>No you cannot, because <code>main</code> has to be static in order to be used as an entry point, and Interfaces dont allow the use of static, until <code>Java 7</code>.</p>\n\n<p>Yes you can run a <code>psvm</code> in an interface, if you're working in <code>Java 8</code>. Because static methods are allowed in an interface starting from Java 8.</p>\n\n<p>But of course, you cannot override the <code>main</code> method, since <code>psvm</code> is a static method.</p>\n"},{"tags":[],"owner":{"account_id":430272,"reputation":4294,"user_id":813618,"accept_rate":82,"display_name":"Rakesh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1331718868,"creation_date":1331718868,"answer_id":9699547,"question_id":9699247,"body_markdown":"There are two answers for your question.\r\n\r\n 1. First of all, you can&#39;t have `static` methods in an `Interface`\r\n 2. Yes you can overload `main()` method, but when you launch your class, only the\r\n`public static void main(String args[]){}` method will be treated as an entry point. \r\n\r\nFor example\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;entry point)&quot;);\r\n        }\r\n    \r\n        public static void main(String arg1) {\r\n            System.out.println(&quot;overload2&quot;);\r\n        }\r\n    \r\n        public static void main(String arg1, String arg2) {\r\n            System.out.println(&quot;overload3&quot;);\r\n        }\r\n    }\r\n\r\n\r\nWhen you launch the above class, the out will be &quot;`entry point`&quot;\r\n\r\n","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>There are two answers for your question.</p>\n\n<ol>\n<li>First of all, you can't have <code>static</code> methods in an <code>Interface</code></li>\n<li>Yes you can overload <code>main()</code> method, but when you launch your class, only the\n<code>public static void main(String args[]){}</code> method will be treated as an entry point. </li>\n</ol>\n\n<p>For example</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(\"entry point)\");\n    }\n\n    public static void main(String arg1) {\n        System.out.println(\"overload2\");\n    }\n\n    public static void main(String arg1, String arg2) {\n        System.out.println(\"overload3\");\n    }\n}\n</code></pre>\n\n<p>When you launch the above class, the out will be \"<code>entry point</code>\"</p>\n"},{"tags":[],"owner":{"account_id":1064596,"reputation":5404,"user_id":1065489,"accept_rate":52,"display_name":"me_digvijay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331719108,"creation_date":1331719108,"answer_id":9699619,"question_id":9699247,"body_markdown":"I am not sure But You can have multiple main methods in **multiple classes (not the same class)**.\r\nWe start the program with the name of the class whose main method we want to run. So after that JVM will look for main method in that class only. So there should not be any problem.\r\n\r\nI am not sure so please let me know if I am wrong.","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>I am not sure But You can have multiple main methods in <strong>multiple classes (not the same class)</strong>.\nWe start the program with the name of the class whose main method we want to run. So after that JVM will look for main method in that class only. So there should not be any problem.</p>\n\n<p>I am not sure so please let me know if I am wrong.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331719683,"creation_date":1331719683,"answer_id":9699791,"question_id":9699247,"body_markdown":"You can create you own startup mechanism, but I am not sure why you would want to.\r\n\r\n    public class RunTests {\r\n        public static void main(String... args) throws ClassNotFoundException {\r\n            List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\r\n            try {\r\n                for (String arg : args) {\r\n                    classes.add(Class.forName(arg));\r\n                }\r\n            } catch (ClassNotFoundException e) {\r\n                if (classes.isEmpty())\r\n                    throw e;\r\n            }\r\n            String[] remainingArgs = Arrays.asList(args).subList(classes.size(), args.length).toArray(new String[0]);\r\n            for(Class clazz: classes) {\r\n                try {\r\n                    Test test = (Test) clazz.newInstance();\r\n                    test.main(remainingArgs);\r\n                    test.display();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    interface Test {\r\n        public void main(String... args);\r\n        public void display();\r\n    }\r\n\r\nBTW: You don&#39;t have to have a main() method, e.g.\r\n\r\n    class NoMain {\r\n        static {\r\n           System.out.println(&quot;Hello World&quot;);\r\n           System.exit(0);\r\n        }\r\n    }\r\n\r\ncompiles and runs without error.\r\n\r\n","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>You can create you own startup mechanism, but I am not sure why you would want to.</p>\n\n<pre><code>public class RunTests {\n    public static void main(String... args) throws ClassNotFoundException {\n        List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\n        try {\n            for (String arg : args) {\n                classes.add(Class.forName(arg));\n            }\n        } catch (ClassNotFoundException e) {\n            if (classes.isEmpty())\n                throw e;\n        }\n        String[] remainingArgs = Arrays.asList(args).subList(classes.size(), args.length).toArray(new String[0]);\n        for(Class clazz: classes) {\n            try {\n                Test test = (Test) clazz.newInstance();\n                test.main(remainingArgs);\n                test.display();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\ninterface Test {\n    public void main(String... args);\n    public void display();\n}\n</code></pre>\n\n<p>BTW: You don't have to have a main() method, e.g.</p>\n\n<pre><code>class NoMain {\n    static {\n       System.out.println(\"Hello World\");\n       System.exit(0);\n    }\n}\n</code></pre>\n\n<p>compiles and runs without error.</p>\n"},{"tags":[],"owner":{"account_id":1290064,"reputation":23,"user_id":1242331,"display_name":"mohan.reddy8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331719717,"creation_date":1331719717,"answer_id":9699800,"question_id":9699247,"body_markdown":"you declared a main(String[] args) as static in Testclass1,but in interface &quot;test&quot; it is non-static and interface not allow main(String[] args) as static .even if you override main(String[] args) in Testcalss1 as non-static it&#39;s not allowed, because main(String args)  is already defined in Testclass1.so you cannot declare main(String[] args) in interface.And u done a one more mistaken is initializing the interface test as t.You cannot do that.","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>you declared a main(String[] args) as static in Testclass1,but in interface \"test\" it is non-static and interface not allow main(String[] args) as static .even if you override main(String[] args) in Testcalss1 as non-static it's not allowed, because main(String args)  is already defined in Testclass1.so you cannot declare main(String[] args) in interface.And u done a one more mistaken is initializing the interface test as t.You cannot do that.</p>\n"},{"tags":[],"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1431680521,"creation_date":1431680521,"answer_id":30255500,"question_id":9699247,"body_markdown":"With Java-8 you can have main method defined inside the interface, Below code will work in Java-8.\r\n\r\n    public interface TestInterfaces {\r\n        public static void main(String[] a){\t\r\n    \t    System.out.println(&quot;I am a static main method inside Inteface !!&quot;);\r\n        }\r\n    }","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>With Java-8 you can have main method defined inside the interface, Below code will work in Java-8.</p>\n\n<pre><code>public interface TestInterfaces {\n    public static void main(String[] a){    \n        System.out.println(\"I am a static main method inside Inteface !!\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10499155,"reputation":1,"user_id":7738359,"display_name":"Teja iskala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489993916,"creation_date":1489993916,"answer_id":42897726,"question_id":9699247,"body_markdown":"main() is static.so, we cant override static methods.Interfaces allows abstract methods methods &amp; they will be implemented in subclasses.So, abstract methods never be static.finally I concluded that main() is not possible to execute in interfaces.","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>main() is static.so, we cant override static methods.Interfaces allows abstract methods methods &amp; they will be implemented in subclasses.So, abstract methods never be static.finally I concluded that main() is not possible to execute in interfaces.</p>\n"},{"tags":[],"owner":{"account_id":11202368,"reputation":1,"user_id":8218955,"display_name":"Kris Rudra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1500042876,"creation_date":1500041825,"answer_id":45105206,"question_id":9699247,"body_markdown":"Answer : Yes, we can provide different implementation of main() declared in an interface and classes implementing that interface by overriding method and can overload static main method if defined in an interface.\r\n\r\nSome more information regarding interface changes in Java 8.\r\n\r\nPrior to Java 8, it was not possible to DEFINE methods inside interface.\r\n\r\nBut there are changes made to Java 8 with respect to interface where one can DEFINE default and static method inside an interface. Hence below code will work fine without any issue.\r\n\r\n    public interface TestInterfaces {\r\n        public static void main(String[] a){    \r\n            System.out.println(&quot;I am a static main method inside Inteface !!&quot;);\r\n        }\r\n    }\r\n\r\nFor information regarding this features, please refer below link:\r\nhttp://www.journaldev.com/2752/java-8-interface-changes-static-method-default-method\r\n\r\n","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>Answer : Yes, we can provide different implementation of main() declared in an interface and classes implementing that interface by overriding method and can overload static main method if defined in an interface.</p>\n\n<p>Some more information regarding interface changes in Java 8.</p>\n\n<p>Prior to Java 8, it was not possible to DEFINE methods inside interface.</p>\n\n<p>But there are changes made to Java 8 with respect to interface where one can DEFINE default and static method inside an interface. Hence below code will work fine without any issue.</p>\n\n<pre><code>public interface TestInterfaces {\n    public static void main(String[] a){    \n        System.out.println(\"I am a static main method inside Inteface !!\");\n    }\n}\n</code></pre>\n\n<p>For information regarding this features, please refer below link:\n<a href=\"http://www.journaldev.com/2752/java-8-interface-changes-static-method-default-method\" rel=\"nofollow noreferrer\">http://www.journaldev.com/2752/java-8-interface-changes-static-method-default-method</a></p>\n"},{"tags":[],"owner":{"account_id":2622304,"reputation":780,"user_id":2270081,"accept_rate":53,"display_name":"Gundamaiah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521180882,"creation_date":1521180882,"answer_id":49314296,"question_id":9699247,"body_markdown":"You can write static main method in Interface in java 8 but you can&#39;t override it as it&#39;s a static one.","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>You can write static main method in Interface in java 8 but you can't override it as it's a static one.</p>\n"},{"tags":[],"owner":{"account_id":16019060,"reputation":1,"user_id":11560961,"display_name":"Laxmi Narayana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635847082,"creation_date":1635847082,"answer_id":69808466,"question_id":9699247,"body_markdown":"hoping this example would help:\r\n&gt;to access the interface static methods we need to use interface name: from java 1.8\r\n```\r\ninterface A {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Interface main method&quot;);\r\n    }\r\n}\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n        A.main(new String[]{});\r\n        System.out.println(&quot;Main main&quot;);\r\n    }\r\n}\r\n```\r\n##### output: #####\r\nInterface main method \r\n\r\nMain main","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>hoping this example would help:</p>\n<blockquote>\n<p>to access the interface static methods we need to use interface name: from java 1.8</p>\n</blockquote>\n<pre><code>interface A {\n    public static void main(String[] args) {\n        System.out.println(&quot;Interface main method&quot;);\n    }\n}\npublic class MyClass {\n    public static void main(String args[]) {\n        A.main(new String[]{});\n        System.out.println(&quot;Main main&quot;);\n    }\n}\n</code></pre>\n<h5>output:</h5>\n<p>Interface main method</p>\n<p>Main main</p>\n"}],"owner":{"account_id":892538,"reputation":474,"user_id":930524,"accept_rate":68,"display_name":"Galaxin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20668,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":9699410,"answer_count":12,"score":9,"last_activity_date":1635847082,"creation_date":1331717819,"question_id":9699247,"body_markdown":"I know that main() can be overloaded in a class with the compiler always taking the one with `String[] args` as arguments as the main method from where the execution starts. But is it possible to declare the same \r\n\r\n    main(String args[]) in an interface and implement it in different classes differently?\r\n\r\nFor example,\r\n\r\n    package test;\r\n    interface test\r\n    {\r\n        public void main(String args[]);\r\n        public void display();\r\n    }\r\n\r\n\r\n\r\n    package test;\r\n    class Testclass1 implements test\r\n    {\r\n       public void display()\r\n       {\r\n           System.out.println(&quot;hello&quot;);\r\n        }\r\n       public static void main(String[] args)\r\n       {\r\n           test t;\r\n           t.display();\r\n        }\r\n    }\r\n\r\n\r\n    package temp;\r\n    import test.*;\r\n    abstract class Testclass2 implements test\r\n    {\r\n       public static void main(String args[])\r\n       {\r\n           System.out.println(&quot;TESTING&quot;);\r\n        }\r\n    }\r\n\r\n\r\n","title":"can we have a main() in an interface and different implementations for main() in the classes that implement this interface?","body":"<p>I know that main() can be overloaded in a class with the compiler always taking the one with <code>String[] args</code> as arguments as the main method from where the execution starts. But is it possible to declare the same </p>\n\n<pre><code>main(String args[]) in an interface and implement it in different classes differently?\n</code></pre>\n\n<p>For example,</p>\n\n<pre><code>package test;\ninterface test\n{\n    public void main(String args[]);\n    public void display();\n}\n\n\n\npackage test;\nclass Testclass1 implements test\n{\n   public void display()\n   {\n       System.out.println(\"hello\");\n    }\n   public static void main(String[] args)\n   {\n       test t;\n       t.display();\n    }\n}\n\n\npackage temp;\nimport test.*;\nabstract class Testclass2 implements test\n{\n   public static void main(String args[])\n   {\n       System.out.println(\"TESTING\");\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635847218,"post_id":69808449,"comment_id":123395826,"body_markdown":"Just remove the commons-dbcp dependency, if that isn&#39;t possible ignore this as it will show nothing if there is no actual DBCP datasource available in your context.","body":"Just remove the commons-dbcp dependency, if that isn&#39;t possible ignore this as it will show nothing if there is no actual DBCP datasource available in your context."},{"owner":{"account_id":21373261,"reputation":1,"user_id":15740459,"display_name":"omgicanchangeusernamenoice"},"score":0,"creation_date":1635860540,"post_id":69808449,"comment_id":123401039,"body_markdown":"not possible to remove the dependency. any idea if there is an option where we can pick which jars should be included while starting the spring application.","body":"not possible to remove the dependency. any idea if there is an option where we can pick which jars should be included while starting the spring application."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635860617,"post_id":69808449,"comment_id":123401083,"body_markdown":"No there isn&#39;t, what is on the classpath is what is included. Why isn&#39;t it possible to remove the dependency? Why do you need 2 implementations of a datasource?","body":"No there isn&#39;t, what is on the classpath is what is included. Why isn&#39;t it possible to remove the dependency? Why do you need 2 implementations of a datasource?"}],"owner":{"account_id":21373261,"reputation":1,"user_id":15740459,"display_name":"omgicanchangeusernamenoice"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635847004,"creation_date":1635847004,"question_id":69808449,"body_markdown":"I can see the following in SpringBoot&#39;s autoconfiguration logs\r\n\r\n    DataSourceConfiguration.Dbcp matched\r\n    ...\r\n    \r\n    DataSourceConfiguration.Tomcat matched\r\n    ...\r\n    \r\n    DataSourcePoolMetadataProvidersConfiguration.CommonsDbcpPoolDataSourceMetadataProviderConfiguration matched\r\n    ...\r\n    \r\n    DataSourcePoolMetadataProvidersConfiguration.TomcatDataSourcePoolMetadataProviderConfiguration matched\r\n    ...\r\n\r\nI want to use tomcat as my datasource. I looked at [SpringBoot&#39;s documentation][1] and found the following property for DataSourceConfiguration\r\n\r\n    spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\r\n\r\nBy doing so, I was able to get\r\n\r\n    DataSourceConfiguration.Tomcat matched\r\n    ...\r\nand\r\n\r\n    DataSourceConfiguration.Dbcp did not match\r\n    ...\r\n\r\nBut the metadata part still has both tomcat and DBCP\r\n\r\n    DataSourcePoolMetadataProvidersConfiguration.CommonsDbcpPoolDataSourceMetadataProviderConfiguration matched\r\n    ...\r\n          DataSourcePoolMetadataProvidersConfiguration.TomcatDataSourcePoolMetadataProviderConfiguration matched\r\n    ...\r\n\r\n\r\nIs there a way to set the value for DataSourcePoolMetadataProvidersConfiguration?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/\r\n","title":"SpringBoot 1.4.0, can we explicitly set value for DataSourcePoolMetadataProvidersConfiguration","body":"<p>I can see the following in SpringBoot's autoconfiguration logs</p>\n<pre><code>DataSourceConfiguration.Dbcp matched\n...\n\nDataSourceConfiguration.Tomcat matched\n...\n\nDataSourcePoolMetadataProvidersConfiguration.CommonsDbcpPoolDataSourceMetadataProviderConfiguration matched\n...\n\nDataSourcePoolMetadataProvidersConfiguration.TomcatDataSourcePoolMetadataProviderConfiguration matched\n...\n</code></pre>\n<p>I want to use tomcat as my datasource. I looked at <a href=\"https://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/\" rel=\"nofollow noreferrer\">SpringBoot's documentation</a> and found the following property for DataSourceConfiguration</p>\n<pre><code>spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\n</code></pre>\n<p>By doing so, I was able to get</p>\n<pre><code>DataSourceConfiguration.Tomcat matched\n...\n</code></pre>\n<p>and</p>\n<pre><code>DataSourceConfiguration.Dbcp did not match\n...\n</code></pre>\n<p>But the metadata part still has both tomcat and DBCP</p>\n<pre><code>DataSourcePoolMetadataProvidersConfiguration.CommonsDbcpPoolDataSourceMetadataProviderConfiguration matched\n...\n      DataSourcePoolMetadataProvidersConfiguration.TomcatDataSourcePoolMetadataProviderConfiguration matched\n...\n</code></pre>\n<p>Is there a way to set the value for DataSourcePoolMetadataProvidersConfiguration?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":290929,"reputation":11181,"user_id":592760,"accept_rate":100,"display_name":"SgtPooki"},"score":0,"creation_date":1635810486,"post_id":69798562,"comment_id":123387818,"body_markdown":"Can you include the output in your question instead of linking to them?","body":"Can you include the output in your question instead of linking to them?"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635780040,"creation_date":1635780040,"answer_id":69799020,"question_id":69798562,"body_markdown":"The print for &#39;/&#39; is in the wrong place - it should be outside of the `if`:\r\n```java\r\nfor ( int i = 0; i &lt; 5; i++) {\r\n  if ( i &lt; 4) {\r\n      for ( int a = 4 - i; a &gt; 0; a--) {\r\n          System.out.print(&quot; &quot;);\r\n      }\r\n  }\r\n  System.out.print(&quot;/&quot;);\r\n  for ( int a = 2 * i; a &gt; 0; a--) {\r\n      System.out.print(&quot; &quot;);\r\n  }\r\n  System.out.println(&quot;\\\\&quot;);\r\n}\r\n```\r\nBut you don&#39;t actually need that `if`, the `for` loop condition will deal with not printing a blank on the last row:\r\n```java\r\nfor ( int i = 0; i &lt; 5; i++) {\r\n  for ( int a = 4 - i; a &gt; 0; a--) {\r\n      System.out.print(&quot; &quot;);\r\n  }\r\n  System.out.print(&quot;/&quot;);\r\n  for ( int a = 2 * i; a &gt; 0; a--) {\r\n      System.out.print(&quot; &quot;);\r\n  }\r\n  System.out.println(&quot;\\\\&quot;);\r\n}\r\n```\r\nAnd, just for fun, if you are using Java 11 or later you can replace the inner loops with the `repeat` method of `String`:\r\n```java\r\nfinal int limit = 5;\r\n\r\nfor (int row = 0; row &lt; limit; row++) {\r\n  System.out.println(&quot; &quot;.repeat(limit - (row + 1)) + &#39;/&#39; + &quot; &quot;.repeat(2 * row) + &#39;\\\\&#39;);\r\n}\r\n```\r\nBut that is probably not how you are expected to do this assignment.","title":"Why is there a single backlash which doesn&#39;t even continue with the pyramid?","body":"<p>The print for '/' is in the wrong place - it should be outside of the <code>if</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( int i = 0; i &lt; 5; i++) {\n  if ( i &lt; 4) {\n      for ( int a = 4 - i; a &gt; 0; a--) {\n          System.out.print(&quot; &quot;);\n      }\n  }\n  System.out.print(&quot;/&quot;);\n  for ( int a = 2 * i; a &gt; 0; a--) {\n      System.out.print(&quot; &quot;);\n  }\n  System.out.println(&quot;\\\\&quot;);\n}\n</code></pre>\n<p>But you don't actually need that <code>if</code>, the <code>for</code> loop condition will deal with not printing a blank on the last row:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( int i = 0; i &lt; 5; i++) {\n  for ( int a = 4 - i; a &gt; 0; a--) {\n      System.out.print(&quot; &quot;);\n  }\n  System.out.print(&quot;/&quot;);\n  for ( int a = 2 * i; a &gt; 0; a--) {\n      System.out.print(&quot; &quot;);\n  }\n  System.out.println(&quot;\\\\&quot;);\n}\n</code></pre>\n<p>And, just for fun, if you are using Java 11 or later you can replace the inner loops with the <code>repeat</code> method of <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int limit = 5;\n\nfor (int row = 0; row &lt; limit; row++) {\n  System.out.println(&quot; &quot;.repeat(limit - (row + 1)) + '/' + &quot; &quot;.repeat(2 * row) + '\\\\');\n}\n</code></pre>\n<p>But that is probably not how you are expected to do this assignment.</p>\n"}],"owner":{"account_id":22937891,"reputation":1,"user_id":17071076,"display_name":"angryFrog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635846572,"creation_date":1635777843,"question_id":69798562,"body_markdown":"The assignment was to create a pyramid by using `for` loops, `print` and `println` functions. I wrote the following code, though without errors, the last backslash is one character before where it should be. There should be five slashes/backslashes on the sides of the pyramid. \r\n\r\n ```java\r\npublic static void main(String[] args) {\r\n\t\tfor ( int i = 0; i &lt;5; i++) {\r\n\t\t\tif ( i &lt; 4) {\r\n\t\t\t\tfor ( int a = 4 - i; a &gt; 0; a--) {\r\n\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.print(&quot;/&quot;);\r\n\t\t\t}\r\n\t\t\tfor ( int a = 2 * i; a &gt; 0; a--) {\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;\\\\&quot;);\r\n\t\t\t}\r\n\t\t}\r\n```\t\r\n\r\n\r\nThe output should be like in\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut it turns out like\r\n\r\n[![enter image description here][2]][2]\r\nWhat am I doing wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ts07X.jpg\r\n  [2]: https://i.stack.imgur.com/z4h5y.jpg","title":"Why is there a single backlash which doesn&#39;t even continue with the pyramid?","body":"<p>The assignment was to create a pyramid by using <code>for</code> loops, <code>print</code> and <code>println</code> functions. I wrote the following code, though without errors, the last backslash is one character before where it should be. There should be five slashes/backslashes on the sides of the pyramid.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n       for ( int i = 0; i &lt;5; i++) {\n           if ( i &lt; 4) {\n               for ( int a = 4 - i; a &gt; 0; a--) {\n                   System.out.print(&quot; &quot;);\n               }\n               System.out.print(&quot;/&quot;);\n           }\n           for ( int a = 2 * i; a &gt; 0; a--) {\n               System.out.print(&quot; &quot;);\n           }\n           System.out.println(&quot;\\\\&quot;);\n           }\n       }\n</code></pre>\n<p>The output should be like in</p>\n<p><a href=\"https://i.stack.imgur.com/Ts07X.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ts07X.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But it turns out like</p>\n<p><a href=\"https://i.stack.imgur.com/z4h5y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z4h5y.jpg\" alt=\"enter image description here\" /></a>\nWhat am I doing wrong?</p>\n"},{"tags":["java","struts2","url-mapping","xml-configuration"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1376423570,"post_id":18217256,"comment_id":26704775,"body_markdown":"Where the location of `struts.xml`?","body":"Where the location of <code>struts.xml</code>?"},{"owner":{"account_id":3170712,"reputation":9,"user_id":2679726,"display_name":"ninad"},"score":0,"creation_date":1376459628,"post_id":18217256,"comment_id":26715337,"body_markdown":"it is in src. i also tried moving it to the web-inf folder but still didnt work","body":"it is in src. i also tried moving it to the web-inf folder but still didnt work"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1376482213,"post_id":18217256,"comment_id":26727178,"body_markdown":"Without knowing where it&#39;s *deployed* it&#39;s irrelevant.","body":"Without knowing where it&#39;s <i>deployed</i> it&#39;s irrelevant."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635846508,"creation_date":1376423924,"answer_id":18218111,"question_id":18217256,"body_markdown":"You have posted a question \r\n\r\n&gt; &#39;There is no Action mapped for action name getTwo&#39; in struts2\r\n\r\nthe action `getTwo` mapped to class `StrutsTwopack.ProgramTwo` in namespace `/program`. If the error is true this means either class is wrong or namespace is wrong in the URL. \r\n\r\n","title":"Tomcat giving error : &quot;There is no Action mapped for action name&quot; in Struts 2","body":"<p>You have posted a question</p>\n<blockquote>\n<p>'There is no Action mapped for action name getTwo' in struts2</p>\n</blockquote>\n<p>the action <code>getTwo</code> mapped to class <code>StrutsTwopack.ProgramTwo</code> in namespace <code>/program</code>. If the error is true this means either class is wrong or namespace is wrong in the URL.</p>\n"}],"owner":{"account_id":3170712,"reputation":9,"user_id":2679726,"display_name":"ninad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1492542329,"answer_count":1,"score":0,"last_activity_date":1635846508,"creation_date":1376421150,"question_id":18217256,"body_markdown":"Tried changing the location of `struts.xml` but still getting error. Also the namespace is being used in URL still getting the error.\r\n    \r\n**`struts.xml`:**\r\n&lt;!-- language: lang-xml --&gt;\r\n    \r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;    \r\n     &lt;!DOCTYPE struts PUBLIC\r\n       &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\r\n       &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;   \r\n       \r\n       &lt;struts&gt;\r\n       \t\r\n       \t\t&lt;package name=&quot;default&quot; namespace=&quot;/program&quot; extends=&quot;struts-default&quot;&gt;\r\n       \t\t\t\t\r\n       \t\t&lt;action name=&quot;getTwo&quot; class=&quot;StrutsTwopack.ProgramTwo&quot;&gt;\r\n       \t\t\t&lt;result&gt;/success.jsp &lt;/result&gt;\r\n       \t\t\t&lt;result&gt;/failure.jsp&lt;/result&gt;\r\n       \t\t&lt;/action&gt;\t\r\n       \t\t\t\t\r\n       \t\t&lt;/package&gt;\r\n       \r\n       &lt;/struts&gt;\r\n    \r\n        \r\n**`web.xml`:**\r\n&lt;!-- language: lang-xml --&gt;\r\n        \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;display-name&gt;StrutsStart&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n      \r\n      \r\n      &lt;filter&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;\r\n            org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\r\n        &lt;/filter-class&gt;\r\n    \r\n    &lt;/filter&gt;\r\n    \r\n    \r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n      \r\n      \r\n      \r\n    &lt;/web-app&gt;\r\n    \r\n    \r\n**action class:**\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    package ninad.Struts2One;\r\n    \r\n    import service.ProgramBest;\r\n    \r\n    public class ProgramOneAction {\r\n    \t\r\n    \tprivate String bestprog;\r\n    \tprivate String Lang;\r\n    \t\r\n    \tpublic String execute()\r\n    \t{\r\n    \t\tProgramBest pb = new ProgramBest();\r\n    \t\tsetBestprog(pb.giveBestProgram(getLang()));\r\n    \t\tSystem.out.println(bestprog);\r\n    \t\t//System.out.println(getLang());\r\n    \t\treturn &quot;success&quot;;\r\n    \t}\r\n    \r\n    \tpublic String getBestprog() {\r\n    \t\treturn bestprog;\r\n    \t}\r\n    \r\n    \tpublic void setBestprog(String bestprog) {\r\n    \t\tthis.bestprog = bestprog;\r\n    \t}\r\n    \t\r\n    \tpublic String getLang() {\r\n    \t\treturn Lang;\r\n    \t}\r\n    \r\n    \tpublic void setLang(String Lang) {\r\n    \t\tthis.Lang = Lang;\r\n    \t}\r\n    \r\n    \r\n    }\r\n    \r\n**Service class:**\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package service;\r\n    \r\n    public class ProgramBest {\r\n    \r\n    \tpublic String giveBestProgram(String lang) {\r\n    \t\tif (lang.equals(&quot;java&quot;)){\r\n    \t\treturn &quot;My code&quot;;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t\treturn &quot;no other code&quot;;\r\n    \t}\r\n    \r\n    }\r\n    \r\n            \r\nthe URL that I enter in the Apache window is :\r\n\r\n    http://localhost:8484/StrutsStart/program/ProgramOne.action\r\n\r\nThe error I get is: \r\n\r\n    There is no Action mapped for action name ProgramOne. - [unknown location]\r\n\r\n","title":"Tomcat giving error : &quot;There is no Action mapped for action name&quot; in Struts 2","body":"<p>Tried changing the location of <code>struts.xml</code> but still getting error. Also the namespace is being used in URL still getting the error.</p>\n<p><strong><code>struts.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;    \n &lt;!DOCTYPE struts PUBLIC\n   &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\n   &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;   \n   \n   &lt;struts&gt;\n    \n        &lt;package name=&quot;default&quot; namespace=&quot;/program&quot; extends=&quot;struts-default&quot;&gt;\n                \n        &lt;action name=&quot;getTwo&quot; class=&quot;StrutsTwopack.ProgramTwo&quot;&gt;\n            &lt;result&gt;/success.jsp &lt;/result&gt;\n            &lt;result&gt;/failure.jsp&lt;/result&gt;\n        &lt;/action&gt;   \n                \n        &lt;/package&gt;\n   \n   &lt;/struts&gt;\n\n    \n</code></pre>\n<p><strong><code>web.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n  &lt;display-name&gt;StrutsStart&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  \n  \n  &lt;filter&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;filter-class&gt;\n        org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\n    &lt;/filter-class&gt;\n\n&lt;/filter&gt;\n\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n  \n  \n  \n&lt;/web-app&gt;\n</code></pre>\n<p><strong>action class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package ninad.Struts2One;\n\nimport service.ProgramBest;\n\npublic class ProgramOneAction {\n    \n    private String bestprog;\n    private String Lang;\n    \n    public String execute()\n    {\n        ProgramBest pb = new ProgramBest();\n        setBestprog(pb.giveBestProgram(getLang()));\n        System.out.println(bestprog);\n        //System.out.println(getLang());\n        return &quot;success&quot;;\n    }\n\n    public String getBestprog() {\n        return bestprog;\n    }\n\n    public void setBestprog(String bestprog) {\n        this.bestprog = bestprog;\n    }\n    \n    public String getLang() {\n        return Lang;\n    }\n\n    public void setLang(String Lang) {\n        this.Lang = Lang;\n    }\n\n\n}\n</code></pre>\n<p><strong>Service class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package service;\n\npublic class ProgramBest {\n\n    public String giveBestProgram(String lang) {\n        if (lang.equals(&quot;java&quot;)){\n        return &quot;My code&quot;;\n        }\n        else\n            return &quot;no other code&quot;;\n    }\n\n}\n\n        \n</code></pre>\n<p>the URL that I enter in the Apache window is :</p>\n<pre><code>http://localhost:8484/StrutsStart/program/ProgramOne.action\n</code></pre>\n<p>The error I get is:</p>\n<pre><code>There is no Action mapped for action name ProgramOne. - [unknown location]\n</code></pre>\n"},{"tags":["java","database","jpa","glassfish","jpql"],"answers":[{"tags":[],"owner":{"account_id":23205315,"reputation":23,"user_id":17299613,"display_name":"Nguyễn Hữu Th&#225;i"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635846408,"creation_date":1635846408,"answer_id":69808309,"question_id":69803256,"body_markdown":"SOLVED\r\nI change the schema generation in persistence.xml from &quot;create&quot; to &quot;drop-and-create&quot; and it works.","title":"How to fix Unknown column in &#39;field list&#39; ERROR Glassfish server","body":"<p>SOLVED\nI change the schema generation in persistence.xml from &quot;create&quot; to &quot;drop-and-create&quot; and it works.</p>\n"}],"owner":{"account_id":23205315,"reputation":23,"user_id":17299613,"display_name":"Nguyễn Hữu Th&#225;i"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635846408,"creation_date":1635804239,"question_id":69803256,"body_markdown":"can you guys see what&#39;s wrong with my code, I&#39;m trying to persist manager data to database, however, it said: Unknown column &#39;EMAIL&#39; in &#39;field list&#39;.\r\n\r\nERROR: \r\n\r\n&gt; Caused by: javax.persistence.PersistenceException: Exception\r\n&gt; [EclipseLink-4002] (Eclipse Persistence Services -\r\n&gt; 2.7.0.v20170811-d680af5): org.eclipse.persistence.exceptions.DatabaseException Internal\r\n&gt; Exception: java.sql.SQLSyntaxErrorException: Unknown column &#39;EMAIL&#39; in\r\n&gt; &#39;field list&#39; Error Code: 1054 Call: INSERT INTO MANAGER (ID, EMAIL,\r\n&gt; FIRSTNAME, LASTNAME, PHONENUMBER) VALUES (?, ?, ?, ?, ?) \tbind =&gt; [5\r\n&gt; parameters bound] Query: InsertObjectQuery(manager.Manager@1d0494b4)\r\n&gt; \tat\r\n&gt; org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl$1.handleException(EntityManagerSetupImpl.java:772)\r\n&gt; \tat\r\n&gt; org.eclipse.persistence.transaction.AbstractSynchronizationListener.handleException(AbstractSynchronizationListener.java:275)\r\n&gt; \tat\r\n&gt; org.eclipse.persistence.transaction.AbstractSynchronizationListener.beforeCompletion(AbstractSynchronizationListener.java:170)\r\n&gt; \tat\r\n&gt; org.eclipse.persistence.transaction.JTASynchronizationListener.beforeCompletion(JTASynchronizationListener.java:68)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.transaction.JavaEETransactionImpl.commit(JavaEETransactionImpl.java:452)\r\n&gt; \t... 65 more\r\n\r\nManager.java\r\n\r\n    @Entity\r\n    @NamedQueries({\r\n    @NamedQuery(name= &quot;viewManager&quot;, query =&quot;select m from Manager m where m.id = :id&quot;),\r\n    @NamedQuery(name= &quot;findManager&quot;, query =&quot;select m from Manager m where m.firstName = :firstName and m.lastName = :lastName&quot;),\r\n    @NamedQuery(name= &quot;findAllManager&quot;, query =&quot;select m from Manager m&quot;),\r\n    })\r\n    public class Manager implements Serializable{\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String phoneNumber;\r\n        private String email;\r\n        @OneToMany(\r\n        cascade = CascadeType.ALL,\r\n            orphanRemoval = true)\r\n        @JoinColumn(name=&quot;manerger_fk&quot;)\r\n        private List&lt;Allocation&gt; allocation;\r\n    \r\n        public Manager() {\r\n        }\r\n    \r\n        public Manager( String firstName, String lastName, String phoneNumber, String email, List&lt;Allocation&gt; allocation) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.phoneNumber = phoneNumber;\r\n            this.email = email;\r\n            this.allocation = allocation;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getPhoneNumber() {\r\n            return phoneNumber;\r\n        }\r\n    \r\n        public void setPhoneNumber(String phoneNumber) {\r\n            this.phoneNumber = phoneNumber;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public List&lt;Allocation&gt; getAllocation() {\r\n            return allocation;\r\n        }\r\n    \r\n        public void setAllocation(List&lt;Allocation&gt; allocation) {\r\n            this.allocation = allocation;\r\n        }\r\n        \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        \r\n    }\r\n\r\nI also add `@Column(name=&quot;accountid&quot;, nullable = false, unique = true)` but it seems no use.\r\n","title":"How to fix Unknown column in &#39;field list&#39; ERROR Glassfish server","body":"<p>can you guys see what's wrong with my code, I'm trying to persist manager data to database, however, it said: Unknown column 'EMAIL' in 'field list'.</p>\n<p>ERROR:</p>\n<blockquote>\n<p>Caused by: javax.persistence.PersistenceException: Exception\n[EclipseLink-4002] (Eclipse Persistence Services -\n2.7.0.v20170811-d680af5): org.eclipse.persistence.exceptions.DatabaseException Internal\nException: java.sql.SQLSyntaxErrorException: Unknown column 'EMAIL' in\n'field list' Error Code: 1054 Call: INSERT INTO MANAGER (ID, EMAIL,\nFIRSTNAME, LASTNAME, PHONENUMBER) VALUES (?, ?, ?, ?, ?)  bind =&gt; [5\nparameters bound] Query: InsertObjectQuery(manager.Manager@1d0494b4)\nat\norg.eclipse.persistence.internal.jpa.EntityManagerSetupImpl$1.handleException(EntityManagerSetupImpl.java:772)\nat\norg.eclipse.persistence.transaction.AbstractSynchronizationListener.handleException(AbstractSynchronizationListener.java:275)\nat\norg.eclipse.persistence.transaction.AbstractSynchronizationListener.beforeCompletion(AbstractSynchronizationListener.java:170)\nat\norg.eclipse.persistence.transaction.JTASynchronizationListener.beforeCompletion(JTASynchronizationListener.java:68)\nat\ncom.sun.enterprise.transaction.JavaEETransactionImpl.commit(JavaEETransactionImpl.java:452)\n... 65 more</p>\n</blockquote>\n<p>Manager.java</p>\n<pre><code>@Entity\n@NamedQueries({\n@NamedQuery(name= &quot;viewManager&quot;, query =&quot;select m from Manager m where m.id = :id&quot;),\n@NamedQuery(name= &quot;findManager&quot;, query =&quot;select m from Manager m where m.firstName = :firstName and m.lastName = :lastName&quot;),\n@NamedQuery(name= &quot;findAllManager&quot;, query =&quot;select m from Manager m&quot;),\n})\npublic class Manager implements Serializable{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String phoneNumber;\n    private String email;\n    @OneToMany(\n    cascade = CascadeType.ALL,\n        orphanRemoval = true)\n    @JoinColumn(name=&quot;manerger_fk&quot;)\n    private List&lt;Allocation&gt; allocation;\n\n    public Manager() {\n    }\n\n    public Manager( String firstName, String lastName, String phoneNumber, String email, List&lt;Allocation&gt; allocation) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.phoneNumber = phoneNumber;\n        this.email = email;\n        this.allocation = allocation;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public List&lt;Allocation&gt; getAllocation() {\n        return allocation;\n    }\n\n    public void setAllocation(List&lt;Allocation&gt; allocation) {\n        this.allocation = allocation;\n    }\n    \n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    \n}\n</code></pre>\n<p>I also add <code>@Column(name=&quot;accountid&quot;, nullable = false, unique = true)</code> but it seems no use.</p>\n"},{"tags":["java","pdf","itext7"],"comments":[{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":0,"creation_date":1544597023,"post_id":53737180,"comment_id":94327621,"body_markdown":"https://developers.itextpdf.com/examples/page-events/clone-page-events-headers-and-footers","body":"<a href=\"https://developers.itextpdf.com/examples/page-events/clone-page-events-headers-and-footers\" rel=\"nofollow noreferrer\">developers.itextpdf.com/examples/page-events/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1544607566,"post_id":53737180,"comment_id":94332701,"body_markdown":"Probably your `x` and `y` are wrong?","body":"Probably your <code>x</code> and <code>y</code> are wrong?"},{"owner":{"account_id":11707497,"reputation":186,"user_id":8570575,"display_name":"Tariq Husein"},"score":0,"creation_date":1544699199,"post_id":53737180,"comment_id":94372736,"body_markdown":"the problem is that i can define the position for the table, if i set a fixed position the table will appear only on first page","body":"the problem is that i can define the position for the table, if i set a fixed position the table will appear only on first page"}],"answers":[{"tags":[],"owner":{"account_id":8930620,"reputation":2388,"user_id":6663375,"display_name":"Uladzimir Asipchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547024153,"creation_date":1547024153,"answer_id":54106314,"question_id":53737180,"body_markdown":"That&#39;s very unclear what you try to achieve, so I&#39;ve made several assumptions.\r\n\r\nFirst: you create your pdf from scratch (there is no source file).\r\nSecond: you want to place a table on each page (onto specific area) and the table should not interfere with the other content.\r\n\r\nSo how to place a table (or another element) on each page?\r\nOne can use an event handler for it. Please look at the next example: https://github.com/itext/i7js-examples/blob/develop/src/test/java/com/itextpdf/samples/sandbox/events/TableFooter.java\r\nThere a table is added as a footer once a new page is created.\r\n\r\nAs for you code I believe that you should have used the showTextAligned which requires a page number:\r\nhttp://itextsupport.com/apidocs/itext7/latest/com/itextpdf/layout/RootElement.html#showTextAligned-com.itextpdf.layout.element.Paragraph-float-float-int-com.itextpdf.layout.property.TextAlignment-com.itextpdf.layout.property.VerticalAlignment-float-","title":"how to add a table to a page with header and footer using itext 7","body":"<p>That's very unclear what you try to achieve, so I've made several assumptions.</p>\n\n<p>First: you create your pdf from scratch (there is no source file).\nSecond: you want to place a table on each page (onto specific area) and the table should not interfere with the other content.</p>\n\n<p>So how to place a table (or another element) on each page?\nOne can use an event handler for it. Please look at the next example: <a href=\"https://github.com/itext/i7js-examples/blob/develop/src/test/java/com/itextpdf/samples/sandbox/events/TableFooter.java\" rel=\"nofollow noreferrer\">https://github.com/itext/i7js-examples/blob/develop/src/test/java/com/itextpdf/samples/sandbox/events/TableFooter.java</a>\nThere a table is added as a footer once a new page is created.</p>\n\n<p>As for you code I believe that you should have used the showTextAligned which requires a page number:\n<a href=\"http://itextsupport.com/apidocs/itext7/latest/com/itextpdf/layout/RootElement.html#showTextAligned-com.itextpdf.layout.element.Paragraph-float-float-int-com.itextpdf.layout.property.TextAlignment-com.itextpdf.layout.property.VerticalAlignment-float-\" rel=\"nofollow noreferrer\">http://itextsupport.com/apidocs/itext7/latest/com/itextpdf/layout/RootElement.html#showTextAligned-com.itextpdf.layout.element.Paragraph-float-float-int-com.itextpdf.layout.property.TextAlignment-com.itextpdf.layout.property.VerticalAlignment-float-</a></p>\n"},{"tags":[],"owner":{"account_id":14435765,"reputation":1,"user_id":10427778,"display_name":"Joseph Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634810518,"creation_date":1634769624,"answer_id":69653804,"question_id":53737180,"body_markdown":"You can use `table.setRelativePosition(0, 0, 0, 0)` to place your table content after the repeated headers on your pdf ","title":"how to add a table to a page with header and footer using itext 7","body":"<p>You can use <code>table.setRelativePosition(0, 0, 0, 0)</code> to place your table content after the repeated headers on your pdf</p>\n"}],"owner":{"account_id":11707497,"reputation":186,"user_id":8570575,"display_name":"Tariq Husein"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635845782,"creation_date":1544595698,"question_id":53737180,"body_markdown":"i need to add a table in a specific position and be repeated in all pdf pages without interference with header and footer \r\nthis is my code \r\n\r\n\r\n\tPdfEventHandler handler = new PdfEventHandler(header, x,y);\r\n\tpdf.addEventHandler(PdfDocumentEvent.START_PAGE, handler);\r\n    Table table = new Table(getcolumnsWidth(pdfColumns, tableWidth));\r\n\tString line = br.readLine();\r\n\tprocess(table, line, true);\r\n\twhile ((line = br.readLine()) != null) {\r\n\t\tprocess(table, line, false);\r\n\t}\r\n\tbr.close();\r\n\tdocument.add(table);\r\n\r\nwith\r\n\r\n    public class PdfEventHandler implements IEventHandler {\r\n    \r\n    \tprivate String header;\r\n    \tprivate int x,y;\r\n    \r\n    \tpublic PdfEventHandler(String header,int x , int y) {\r\n         this.header =header;\r\n         this.x = x; this.y =y;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void handleEvent(Event event) {\r\n    \t\tPdfDocumentEvent docEvent = (PdfDocumentEvent) event;\r\n    \t\tPdfDocument pdfDoc = docEvent.getDocument();\r\n    \t\tPdfPage page = docEvent.getPage();\r\n    \t\tPdfCanvas pdfCanvas = new PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDoc);\r\n    \t\tRectangle area = page.getPageSize();\r\n    \t\tint pageHeight = (int) area.getHeight();\r\n    \t\tCanvas canvas = new Canvas(pdfCanvas, pdfDoc, area);\r\n    \r\n            canvas.showTextAligned(header, x, y, TextAlignment.CENTER);\r\n        }\r\n    }\r\n\r\nthis is the result pdf file \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZzehG.png\r\n\r\n","title":"how to add a table to a page with header and footer using itext 7","body":"<p>i need to add a table in a specific position and be repeated in all pdf pages without interference with header and footer \nthis is my code </p>\n\n<pre><code>PdfEventHandler handler = new PdfEventHandler(header, x,y);\npdf.addEventHandler(PdfDocumentEvent.START_PAGE, handler);\nTable table = new Table(getcolumnsWidth(pdfColumns, tableWidth));\nString line = br.readLine();\nprocess(table, line, true);\nwhile ((line = br.readLine()) != null) {\n    process(table, line, false);\n}\nbr.close();\ndocument.add(table);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>public class PdfEventHandler implements IEventHandler {\n\n    private String header;\n    private int x,y;\n\n    public PdfEventHandler(String header,int x , int y) {\n     this.header =header;\n     this.x = x; this.y =y;\n    }\n\n    @Override\n    public void handleEvent(Event event) {\n        PdfDocumentEvent docEvent = (PdfDocumentEvent) event;\n        PdfDocument pdfDoc = docEvent.getDocument();\n        PdfPage page = docEvent.getPage();\n        PdfCanvas pdfCanvas = new PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDoc);\n        Rectangle area = page.getPageSize();\n        int pageHeight = (int) area.getHeight();\n        Canvas canvas = new Canvas(pdfCanvas, pdfDoc, area);\n\n        canvas.showTextAligned(header, x, y, TextAlignment.CENTER);\n    }\n}\n</code></pre>\n\n<p>this is the result pdf file \n<a href=\"https://i.stack.imgur.com/ZzehG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZzehG.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1635835072,"post_id":69806212,"comment_id":123391654,"body_markdown":"This is called Marker Interface, see the duplicated question for more info.","body":"This is called Marker Interface, see the duplicated question for more info."},{"owner":{"account_id":9661716,"reputation":118,"user_id":7169560,"display_name":"Burak Ozmen"},"score":0,"creation_date":1635835078,"post_id":69806212,"comment_id":123391655,"body_markdown":"Does this answer your question? [What is an empty interface used for](https://stackoverflow.com/questions/380665/what-is-an-empty-interface-used-for)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/380665/what-is-an-empty-interface-used-for\">What is an empty interface used for</a>"},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1635835092,"post_id":69806212,"comment_id":123391657,"body_markdown":"Does this answer your question? [Marker Interfaces in Java?](https://stackoverflow.com/questions/25850328/marker-interfaces-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25850328/marker-interfaces-in-java\">Marker Interfaces in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":22903100,"reputation":34,"user_id":17041537,"display_name":"Danish Alam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635835108,"creation_date":1635835108,"answer_id":69806272,"question_id":69806212,"body_markdown":"Basically it is used to logically divide the code and a good way to categorize code. It is more useful for developing API and in frameworks like Spring.","title":"why classes in some java programs are implements an empty interface?","body":"<p>Basically it is used to logically divide the code and a good way to categorize code. It is more useful for developing API and in frameworks like Spring.</p>\n"},{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635845722,"creation_date":1635845722,"answer_id":69808168,"question_id":69806212,"body_markdown":"\r\nAlso known as a Marker Interface:\r\n\r\nhttp://en.wikipedia.org/wiki/Marker_interface_pattern\r\n\r\n","title":"why classes in some java programs are implements an empty interface?","body":"<p>Also known as a Marker Interface:</p>\n<p><a href=\"http://en.wikipedia.org/wiki/Marker_interface_pattern\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Marker_interface_pattern</a></p>\n"}],"owner":{"account_id":17661774,"reputation":63,"user_id":12820092,"display_name":"Chamoda De silva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69806272,"answer_count":2,"score":0,"last_activity_date":1635845722,"creation_date":1635834775,"question_id":69806212,"body_markdown":"why classes in some java programs are implements an empty interface in java?\r\n\r\nWhat is the usage?\r\n\r\n    interface E{\r\n        \r\n    }\r\n    public class A implements E{\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Something...&quot;);\r\n        }\r\n    }\r\n\r\n","title":"why classes in some java programs are implements an empty interface?","body":"<p>why classes in some java programs are implements an empty interface in java?</p>\n<p>What is the usage?</p>\n<pre><code>interface E{\n    \n}\npublic class A implements E{\n    public static void main(String[] args) {\n        System.out.println(&quot;Something...&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","jndi"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1598425512,"post_id":63591870,"comment_id":112451052,"body_markdown":"You don&#39;t need the `JndiPropertyHolder` as the `jndi-name` property is already on the `DataSourceProperties`, you are trying to outsmart Spring Boot there (how to add multiple datasources can be seen [here](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources) and you will benefit from all he Spring Boot goodness. This might also help you in resolving the `EntityManagerFactory` error. However you should now also have 2 of those and without seeing the config of them help is limited. Also remove the `@PropertySource` as that is already being loaded.","body":"You don&#39;t need the <code>JndiPropertyHolder</code> as the <code>jndi-name</code> property is already on the <code>DataSourceProperties</code>, you are trying to outsmart Spring Boot there (how to add multiple datasources can be seen <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources\" rel=\"nofollow noreferrer\">here</a> and you will benefit from all he Spring Boot goodness. This might also help you in resolving the <code>EntityManagerFactory</code> error. However you should now also have 2 of those and without seeing the config of them help is limited. Also remove the <code>@PropertySource</code> as that is already being loaded."},{"owner":{"account_id":15298713,"reputation":300,"user_id":11037922,"display_name":"Greta"},"score":0,"creation_date":1598426401,"post_id":63591870,"comment_id":112451452,"body_markdown":"@M. Deinum thanks for the answer. I removed the PropertySource-annotation in both configuration-classes now. In the documentation the datasources are not configured with jndi, are they? What config is missing?","body":"@M. Deinum thanks for the answer. I removed the PropertySource-annotation in both configuration-classes now. In the documentation the datasources are not configured with jndi, are they? What config is missing?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1598426905,"post_id":63591870,"comment_id":112451687,"body_markdown":"The configuration (as mentioned in the docs) applies to both jndi and non-jndi. The config that is missing is the config for the `EntityManagerFactory` instances. You configure 2 datasources so you should configure 2 entitymanagerfactories as well.","body":"The configuration (as mentioned in the docs) applies to both jndi and non-jndi. The config that is missing is the config for the <code>EntityManagerFactory</code> instances. You configure 2 datasources so you should configure 2 entitymanagerfactories as well."},{"owner":{"account_id":15298713,"reputation":300,"user_id":11037922,"display_name":"Greta"},"score":0,"creation_date":1598429495,"post_id":63591870,"comment_id":112452944,"body_markdown":"@M. Deinum I added the EntityManagerFactory and TransactionManager configurations and removed the JndiPropertyHolder. Unfortunately the same error is still there...","body":"@M. Deinum I added the EntityManagerFactory and TransactionManager configurations and removed the JndiPropertyHolder. Unfortunately the same error is still there..."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1598429837,"post_id":63591870,"comment_id":112453120,"body_markdown":"Have you actually taken a look at the stack trace? **Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set**. Set the `hibernate.dialect` property or set `spring.jpa.database=&lt;your-database&gt;` in your `application.properties`.","body":"Have you actually taken a look at the stack trace? <b>Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set</b>. Set the <code>hibernate.dialect</code> property or set <code>spring.jpa.database=&lt;your-database&gt;</code> in your <code>application.properties</code>."},{"owner":{"account_id":15298713,"reputation":300,"user_id":11037922,"display_name":"Greta"},"score":0,"creation_date":1598434201,"post_id":63591870,"comment_id":112455260,"body_markdown":"I have, the dialect is set.","body":"I have, the dialect is set."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1598435116,"post_id":63591870,"comment_id":112455731,"body_markdown":"Not according to that error message and I doubt that error message is wrong. Can you add your `application.properties`?","body":"Not according to that error message and I doubt that error message is wrong. Can you add your <code>application.properties</code>?"},{"owner":{"account_id":5069092,"reputation":567,"user_id":4068368,"accept_rate":20,"display_name":"Dinesh Dontha"},"score":0,"creation_date":1598439664,"post_id":63591870,"comment_id":112457852,"body_markdown":"in application.properpties, append the jndi name &amp; try as `research.spring.datasource.jndi-name=java:comp/env/jdbc/research`","body":"in application.properpties, append the jndi name &amp; try as <code>research.spring.datasource.jndi-name=java:comp&#47;env&#47;jdbc&#47;rese&zwnj;&#8203;arch</code>"}],"answers":[{"tags":[],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635845612,"creation_date":1635766684,"answer_id":69796409,"question_id":63591870,"body_markdown":"This answer summarizes my own findings regarding approximately the same problem that is stated here. I have picked the most recent relevant question, because things might have changed and behave differently now. \r\n\r\nMy own setup was Spring Boot 2.4.12, with my project compiled as WAR artifact and deployed to an external Tomcat with HikariCP and Oracle libraries already in its classpath, and Oracle connection defined as global resource in Tomcat&#39;s `server.xml`.\r\n\r\nAbout the final inner exception from the stacktrace of the OP:\r\n\r\n    Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n\r\nI have an impression that the configuration was not read correctly at all. In my case, this message appeared too, but at that time I had already found a working solution - so I didn&#39;t investigate it thoroughly. As I understand it, it is very possibly that Spring Boot tries to initialize with default values the rest of the data source properties that are not set explicitly in the configuration, and these default values do not match. \r\n\r\nIn my case, the only datasource and JNDI-related thing in `application.properties` was \r\n\r\n    spring.datasource.jndi-name = java:/comp/env/jdbc/MyOracleHikariDS\r\n\r\nIn my specific scenario, there was a second data source hidden deep inside secondary libraries that I was using, that pointed to an embedded H2 instance for use as a cache. So there was a reference to H2 library in the classpath, which Spring Boot somehow seemed to pick up as the default datasource. So I had to force (via explicit `@Primary` declaration) the primary datasource to point to my real primary datasource, which needed to be defined via JNDI.\r\n\r\nI think I found out, with the help of multiple M. Deinum comments and answers to other questions, that it was not required to also provide implementations of `TransactionManager` and `EntityManagerFactoryBean`, when I only wanted to define a specific data source as `@Primary`. In my case the problem was **how** that data source was created, once I took its creation upon myself, doing it manually. \r\n\r\nIn my experience, something went wrong, when I returned my datasource using the following code:\r\n\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\r\n    public DataSource dataSource() {\r\n       return DataSourceBuilder.create().build();\r\n    }\r\n\r\nAt first I thought that at the time when Spring tries to initialize the data source as part of its context initialization, Tomcat hasn&#39;t yet initialized its own JNDI resource - so I tried to play with `@Lazy` and proxies and what not, but this wasn&#39;t finally the case. \r\n\r\nMy private conclusion (have NOT confirmed this) is that `@ConfigurationProperties` takes the properties literally and overwrites the properties we get from JNDI lookup. The only thing I got working is the following:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = &quot;com.myproject.repositories.primary&quot;,\r\n            entityManagerFactoryRef = &quot;primaryEMF&quot;,\r\n            transactionManagerRef = &quot;primaryTM&quot;)\r\n    public class JpaPrimaryConfig {\r\n       \r\n       @Value(&quot;${spring.datasource.jndi-name}&quot;)\r\n       String jndiName;\r\n    \r\n       @Bean(destroyMethod = &quot;&quot;)\r\n       @Primary\r\n       public DataSource dataSource() {\r\n          JndiDataSourceLookup dataSourceLookup = new JndiDataSourceLookup();\r\n          DataSource ds = dataSourceLookup.getDataSource(jndiName);\r\n          return ds;\r\n       }\r\n    \r\n       // we have to bind different entities to different data sources - we can do this via entity managers\r\n       @Primary\r\n       @Bean(name = &quot;primaryEMF&quot;)\r\n       public LocalContainerEntityManagerFactoryBean primaryEMF(EntityManagerFactoryBuilder builder) {\r\n          return builder.dataSource(dataSource()).packages(DummyEntity.class).build();\r\n       }\r\n    \r\n       @Primary\r\n       @Bean(name = &quot;primaryTM&quot;)\r\n       public PlatformTransactionManager primaryTM(final @Qualifier(&quot;primaryEMF&quot;) LocalContainerEntityManagerFactoryBean emf) {\r\n          return new JpaTransactionManager(emf.getObject());\r\n       }\r\n    \r\n    }\r\n\r\nNote that the above is an example; in my working project I didn&#39;t have to use `@EnableJpaRepositories` as the second data source I needed didn&#39;t use Spring-specific repository objects.\r\n\r\nAnother useful thing to check, apart from upping HikariCP log level (`logging.level.com.zaxxer=DEBUG`), is to make sure your servlet container really has those JNDI resources defined. This can be done via jconsole for a local Tomcat. It&#39;s also useful to start Tomcat without any applications deployed to see that it doesn&#39;t complain about initial creation of connection pools.","title":"Configuring multiple data sources with Spring Boot using JNDI","body":"<p>This answer summarizes my own findings regarding approximately the same problem that is stated here. I have picked the most recent relevant question, because things might have changed and behave differently now.</p>\n<p>My own setup was Spring Boot 2.4.12, with my project compiled as WAR artifact and deployed to an external Tomcat with HikariCP and Oracle libraries already in its classpath, and Oracle connection defined as global resource in Tomcat's <code>server.xml</code>.</p>\n<p>About the final inner exception from the stacktrace of the OP:</p>\n<pre><code>Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n</code></pre>\n<p>I have an impression that the configuration was not read correctly at all. In my case, this message appeared too, but at that time I had already found a working solution - so I didn't investigate it thoroughly. As I understand it, it is very possibly that Spring Boot tries to initialize with default values the rest of the data source properties that are not set explicitly in the configuration, and these default values do not match.</p>\n<p>In my case, the only datasource and JNDI-related thing in <code>application.properties</code> was</p>\n<pre><code>spring.datasource.jndi-name = java:/comp/env/jdbc/MyOracleHikariDS\n</code></pre>\n<p>In my specific scenario, there was a second data source hidden deep inside secondary libraries that I was using, that pointed to an embedded H2 instance for use as a cache. So there was a reference to H2 library in the classpath, which Spring Boot somehow seemed to pick up as the default datasource. So I had to force (via explicit <code>@Primary</code> declaration) the primary datasource to point to my real primary datasource, which needed to be defined via JNDI.</p>\n<p>I think I found out, with the help of multiple M. Deinum comments and answers to other questions, that it was not required to also provide implementations of <code>TransactionManager</code> and <code>EntityManagerFactoryBean</code>, when I only wanted to define a specific data source as <code>@Primary</code>. In my case the problem was <strong>how</strong> that data source was created, once I took its creation upon myself, doing it manually.</p>\n<p>In my experience, something went wrong, when I returned my datasource using the following code:</p>\n<pre><code>@Bean\n@Primary\n@ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\npublic DataSource dataSource() {\n   return DataSourceBuilder.create().build();\n}\n</code></pre>\n<p>At first I thought that at the time when Spring tries to initialize the data source as part of its context initialization, Tomcat hasn't yet initialized its own JNDI resource - so I tried to play with <code>@Lazy</code> and proxies and what not, but this wasn't finally the case.</p>\n<p>My private conclusion (have NOT confirmed this) is that <code>@ConfigurationProperties</code> takes the properties literally and overwrites the properties we get from JNDI lookup. The only thing I got working is the following:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = &quot;com.myproject.repositories.primary&quot;,\n        entityManagerFactoryRef = &quot;primaryEMF&quot;,\n        transactionManagerRef = &quot;primaryTM&quot;)\npublic class JpaPrimaryConfig {\n   \n   @Value(&quot;${spring.datasource.jndi-name}&quot;)\n   String jndiName;\n\n   @Bean(destroyMethod = &quot;&quot;)\n   @Primary\n   public DataSource dataSource() {\n      JndiDataSourceLookup dataSourceLookup = new JndiDataSourceLookup();\n      DataSource ds = dataSourceLookup.getDataSource(jndiName);\n      return ds;\n   }\n\n   // we have to bind different entities to different data sources - we can do this via entity managers\n   @Primary\n   @Bean(name = &quot;primaryEMF&quot;)\n   public LocalContainerEntityManagerFactoryBean primaryEMF(EntityManagerFactoryBuilder builder) {\n      return builder.dataSource(dataSource()).packages(DummyEntity.class).build();\n   }\n\n   @Primary\n   @Bean(name = &quot;primaryTM&quot;)\n   public PlatformTransactionManager primaryTM(final @Qualifier(&quot;primaryEMF&quot;) LocalContainerEntityManagerFactoryBean emf) {\n      return new JpaTransactionManager(emf.getObject());\n   }\n\n}\n</code></pre>\n<p>Note that the above is an example; in my working project I didn't have to use <code>@EnableJpaRepositories</code> as the second data source I needed didn't use Spring-specific repository objects.</p>\n<p>Another useful thing to check, apart from upping HikariCP log level (<code>logging.level.com.zaxxer=DEBUG</code>), is to make sure your servlet container really has those JNDI resources defined. This can be done via jconsole for a local Tomcat. It's also useful to start Tomcat without any applications deployed to see that it doesn't complain about initial creation of connection pools.</p>\n"}],"owner":{"account_id":15298713,"reputation":300,"user_id":11037922,"display_name":"Greta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635845612,"creation_date":1598424035,"question_id":63591870,"body_markdown":"I&#180;m currently building a web app with Spring Boot and until now I have one datasource. Now I want to add a second one using JNDI. To do so I created a configuration class for each datasource that is supposed to fetch the properties using JNDI. Unfortunately I keep getting an error telling me that the reportingEntityManager cannot be created. Before embedding the second datasource everything worked fine.\r\n\r\nI tried the solutions suggested in\r\nhttps://stackoverflow.com/questions/41941147/configuring-two-datasources-by-jndi-lookup-with-springboot +\r\nhttps://stackoverflow.com/questions/32114558/nouniquebeandefinitionexception-no-qualifying-bean-of-type-javax-persistence-e and tried several tutorials but it won&#180;t work.\r\n\r\nI&#180;ve been trying to solve this problem for two days now and I&#180;m running out of ideas on what else to try. Would be great if someone has an idea or can at least help me understanding whats wrong, thanks!\r\n\r\n\r\n**Config class for the first datasource**\r\n```@Configuration\r\n@EnableConfigurationProperties\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n\t\tbasePackages = {&quot;com.project.support.database.research.repositories&quot;},\r\n\t\tentityManagerFactoryRef = &quot;researchEntityManagerFactory&quot;,\r\n\t\ttransactionManagerRef = &quot;researchTransactionManager&quot;)\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\npublic class ResearchDbConfig {\r\n\r\n\t@Primary\r\n\t@Bean(name = researchDataSourceProperties&quot;)\r\n\t@ConfigurationProperties(&quot;research.spring&quot;)\r\n\tpublic DataSourceProperties dataSourceProperties() {\r\n\t\treturn new DataSourceProperties();\r\n\t}\r\n\r\n\t@Primary\r\n\t@Bean(name = &quot;researchEntityManagerFactory&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n\t\t\tEntityManagerFactoryBuilder builder,\r\n\t\t\t@Qualifier(&quot;researchDataSource&quot;) DataSource researchDataSource) {\r\n\t\treturn builder.dataSource(researchDataSource)\r\n\t\t\t\t.packages(&quot;com.project.support.database.research.entities&quot;)\r\n\t\t\t\t.persistenceUnit(&quot;research&quot;)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Primary\r\n\t@Bean(name = &quot;researchTransactionManager&quot;)\r\n\tpublic PlatformTransactionManager transactionManager(\r\n\t\t\t@Qualifier(&quot;researchEntityManagerFactory&quot;) EntityManagerFactory researchEntityManagerFactory) {\r\n\t\treturn new JpaTransactionManager(researchEntityManagerFactory);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n**Config class for the second datasource**\r\n```@EntityScan(&quot;com.project.support.database.reporting.entities&quot;)\r\n@Configuration\r\n@EnableConfigurationProperties\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;reportingEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;reportingTransactionManager&quot;,\r\n        basePackages = {&quot;com.project.support.database.reporting.repositories&quot;})\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\n\r\npublic class ReportingDbConfig {\r\n\r\n    @Bean\r\n    public DataSource secondaryDataSource() {\r\n        JndiDataSourceLookup dataSourceLookup = new JndiDataSourceLookup();\r\n        return dataSourceLookup.getDataSource(jndiSecondary().getJndiName());\r\n    }\r\n\r\n    @Bean(name = &quot;reportingEntityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n            EntityManagerFactoryBuilder builder,\r\n            @Qualifier(&quot;reportingDataSource&quot;) DataSource reportingDataSource) {\r\n        return builder.dataSource(reportingDataSource)\r\n                .packages(&quot;com.project.support.database.reporting.entities&quot;)\r\n                .persistenceUnit(&quot;reporting&quot;)\r\n                .build();\r\n    }\r\n\r\n    @Bean(name = &quot;reportingTransactionManager&quot;)\r\n    public PlatformTransactionManager transactionManager(\r\n            @Qualifier(&quot;reportingEntityManagerFactory&quot;) EntityManagerFactory reportingEntityManagerFactory) {\r\n        return new JpaTransactionManager(reportingEntityManagerFactory);\r\n    }\r\n}\r\n```\r\n\r\n\r\n**application.properties**\r\n```\r\nresearch.spring.datasource.jndi-name=jdbc/research\r\nreporting.spring.datasource.jndi-name=jdbc/reporting\r\n```\r\n\r\n\r\n\r\n**Error Message**\r\n```\r\n26-Aug-2020 08:05:23.580 SEVERE [RMI TCP Connection(16)-192.168.178.46] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method [manageApp]\r\n java.lang.IllegalStateException: Error starting child\r\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:716)\r\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\r\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1729)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\r\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:457)\r\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:406)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\r\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    at java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/support]]\r\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:713)\r\n    ... 41 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reportingEntityManager&#39; defined in class path resource [com/project/support/configuration/PersistenceReportingEntityAutoConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1082)\r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857)\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\r\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\r\n    at org.springframework.boot.web.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:151)\r\n    at org.springframework.boot.web.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:131)\r\n    at org.springframework.boot.web.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:91)\r\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:169)\r\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5139)\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    ... 42 more\r\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\r\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\r\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\r\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:861)\r\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:888)\r\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360)\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:384)\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:371)\r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:336)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1688)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1626)\r\n    ... 61 more\r\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\r\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\r\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\r\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\r\n    ... 78 more\r\n\r\n26-Aug-2020 08:05:23.581 SEVERE [RMI TCP Connection(16)-192.168.178.46] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method [createStandardContext]\r\n javax.management.RuntimeOperationsException: Exception invoking method [manageApp]\r\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:298)\r\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:457)\r\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:406)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\r\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    at java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalStateException: Error starting child\r\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:716)\r\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\r\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1729)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\r\n    ... 33 more\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/support]]\r\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:713)\r\n    ... 41 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reportingEntityManager&#39; defined in class path resource [com/project/support/configuration/PersistenceReportingEntityAutoConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1082)\r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857)\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\r\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\r\n    at org.springframework.boot.web.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:151)\r\n    at org.springframework.boot.web.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:131)\r\n    at org.springframework.boot.web.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:91)\r\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:169)\r\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5139)\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    ... 42 more\r\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\r\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\r\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\r\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:861)\r\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:888)\r\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360)\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:384)\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:371)\r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:336)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1688)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1626)\r\n    ... 61 more\r\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\r\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\r\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\r\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\r\n    ... 78 more\r\n```","title":"Configuring multiple data sources with Spring Boot using JNDI","body":"<p>I´m currently building a web app with Spring Boot and until now I have one datasource. Now I want to add a second one using JNDI. To do so I created a configuration class for each datasource that is supposed to fetch the properties using JNDI. Unfortunately I keep getting an error telling me that the reportingEntityManager cannot be created. Before embedding the second datasource everything worked fine.</p>\n<p>I tried the solutions suggested in\n<a href=\"https://stackoverflow.com/questions/41941147/configuring-two-datasources-by-jndi-lookup-with-springboot\">Configuring two datasources by jndi lookup with Springboot</a> +\n<a href=\"https://stackoverflow.com/questions/32114558/nouniquebeandefinitionexception-no-qualifying-bean-of-type-javax-persistence-e\">NoUniqueBeanDefinitionException: No qualifying bean of type [javax.persistence.EntityManagerFactory] is defined: expected single matching bean</a> and tried several tutorials but it won´t work.</p>\n<p>I´ve been trying to solve this problem for two days now and I´m running out of ideas on what else to try. Would be great if someone has an idea or can at least help me understanding whats wrong, thanks!</p>\n<p><strong>Config class for the first datasource</strong></p>\n<pre><code>@EnableConfigurationProperties\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        basePackages = {&quot;com.project.support.database.research.repositories&quot;},\n        entityManagerFactoryRef = &quot;researchEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;researchTransactionManager&quot;)\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class ResearchDbConfig {\n\n    @Primary\n    @Bean(name = researchDataSourceProperties&quot;)\n    @ConfigurationProperties(&quot;research.spring&quot;)\n    public DataSourceProperties dataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Primary\n    @Bean(name = &quot;researchEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            EntityManagerFactoryBuilder builder,\n            @Qualifier(&quot;researchDataSource&quot;) DataSource researchDataSource) {\n        return builder.dataSource(researchDataSource)\n                .packages(&quot;com.project.support.database.research.entities&quot;)\n                .persistenceUnit(&quot;research&quot;)\n                .build();\n    }\n\n    @Primary\n    @Bean(name = &quot;researchTransactionManager&quot;)\n    public PlatformTransactionManager transactionManager(\n            @Qualifier(&quot;researchEntityManagerFactory&quot;) EntityManagerFactory researchEntityManagerFactory) {\n        return new JpaTransactionManager(researchEntityManagerFactory);\n    }\n\n}\n</code></pre>\n<p><strong>Config class for the second datasource</strong></p>\n<pre><code>@Configuration\n@EnableConfigurationProperties\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;reportingEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;reportingTransactionManager&quot;,\n        basePackages = {&quot;com.project.support.database.reporting.repositories&quot;})\n@PropertySource(&quot;classpath:application.properties&quot;)\n\npublic class ReportingDbConfig {\n\n    @Bean\n    public DataSource secondaryDataSource() {\n        JndiDataSourceLookup dataSourceLookup = new JndiDataSourceLookup();\n        return dataSourceLookup.getDataSource(jndiSecondary().getJndiName());\n    }\n\n    @Bean(name = &quot;reportingEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            EntityManagerFactoryBuilder builder,\n            @Qualifier(&quot;reportingDataSource&quot;) DataSource reportingDataSource) {\n        return builder.dataSource(reportingDataSource)\n                .packages(&quot;com.project.support.database.reporting.entities&quot;)\n                .persistenceUnit(&quot;reporting&quot;)\n                .build();\n    }\n\n    @Bean(name = &quot;reportingTransactionManager&quot;)\n    public PlatformTransactionManager transactionManager(\n            @Qualifier(&quot;reportingEntityManagerFactory&quot;) EntityManagerFactory reportingEntityManagerFactory) {\n        return new JpaTransactionManager(reportingEntityManagerFactory);\n    }\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>research.spring.datasource.jndi-name=jdbc/research\nreporting.spring.datasource.jndi-name=jdbc/reporting\n</code></pre>\n<p><strong>Error Message</strong></p>\n<pre><code>26-Aug-2020 08:05:23.580 SEVERE [RMI TCP Connection(16)-192.168.178.46] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method [manageApp]\n java.lang.IllegalStateException: Error starting child\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:716)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1729)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:457)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:406)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/support]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:713)\n    ... 41 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reportingEntityManager' defined in class path resource [com/project/support/configuration/PersistenceReportingEntityAutoConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1082)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\n    at org.springframework.boot.web.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:151)\n    at org.springframework.boot.web.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:131)\n    at org.springframework.boot.web.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:91)\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:169)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5139)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 42 more\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:861)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:888)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:384)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:371)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1688)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1626)\n    ... 61 more\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\n    ... 78 more\n\n26-Aug-2020 08:05:23.581 SEVERE [RMI TCP Connection(16)-192.168.178.46] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method [createStandardContext]\n javax.management.RuntimeOperationsException: Exception invoking method [manageApp]\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:298)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:457)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:406)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalStateException: Error starting child\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:716)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1729)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\n    ... 33 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/support]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:713)\n    ... 41 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reportingEntityManager' defined in class path resource [com/project/support/configuration/PersistenceReportingEntityAutoConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1082)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\n    at org.springframework.boot.web.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:151)\n    at org.springframework.boot.web.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:131)\n    at org.springframework.boot.web.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:91)\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:169)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5139)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 42 more\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:861)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:888)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:384)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:371)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1688)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1626)\n    ... 61 more\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\n    ... 78 more\n</code></pre>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1635845963,"post_id":69808142,"comment_id":123395301,"body_markdown":"Are you the server or the client in this exchange, you will also need the private key associated with the certificate you present in the exhange.","body":"Are you the server or the client in this exchange, you will also need the private key associated with the certificate you present in the exhange."},{"owner":{"account_id":15161857,"reputation":111,"user_id":13435155,"display_name":"Gravy"},"score":0,"creation_date":1635846317,"post_id":69808142,"comment_id":123395442,"body_markdown":"@PaulWhelan This is an exchange between two services and verification is done on both sides, I have a private key for my-service.cert","body":"@PaulWhelan This is an exchange between two services and verification is done on both sides, I have a private key for my-service.cert"},{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1635846687,"post_id":69808142,"comment_id":123395575,"body_markdown":"Are you the client or the server for the service - have you tried https://dzone.com/articles/hakky54mutual-tls-1","body":"Are you the client or the server for the service - have you tried <a href=\"https://dzone.com/articles/hakky54mutual-tls-1\" rel=\"nofollow noreferrer\">dzone.com/articles/hakky54mutual-tls-1</a>"}],"owner":{"account_id":15161857,"reputation":111,"user_id":13435155,"display_name":"Gravy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635845576,"creation_date":1635845576,"question_id":69808142,"body_markdown":"How to use MTLS in practice, using pure Java?\r\nI&#39;ve looked through several questions and answers on this subject, but I can&#39;t figure it out.\r\n\r\nI have 2 certificates, ***my-service.cer*** and ***another-service.cer***\r\n\r\n**The main question is how do I store and retrieve them properly?**\r\n\r\nI&#39;m thinking of using about the following code to retrieve \r\n\r\n```\r\n\r\npackage com.wigravy.stackoverflow;\r\n\r\nimport javax.net.ssl.KeyManager;\r\nimport javax.net.ssl.KeyManagerFactory;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.security.KeyStore;\r\nimport java.security.KeyStoreException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.UnrecoverableKeyException;\r\nimport java.security.cert.CertificateException;\r\nimport java.util.Properties;\r\n\r\npublic class SecurityManager {\r\n\r\n    private Properties getProperties() {\r\n        // here I get property file from server directory\r\n    }\r\n\r\n    private KeyStore getKeyStore() {\r\n        try (FileInputStream fis = new FileInputStream(&quot;keystroke.jks&quot;)) {\r\n            Properties properties = getProperties();\r\n            char[] password = properties.getProperty(&quot;keystore.password&quot;).toCharArray();\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\r\n            keyStore.load(fis, password);\r\n            return keyStore;\r\n        } catch (FileNotFoundException | KeyStoreException e) {\r\n            e.printStackTrace();\r\n        } catch (CertificateException e) {\r\n            e.printStackTrace();\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        throw new RuntimeException(&quot;Something going wrong&quot;);\r\n    }\r\n\r\n    public KeyManager[] getKeyManager() {\r\n        try {\r\n            Properties properties = getProperties();\r\n            char[] password = properties.getProperty(&quot;keystore.password&quot;).toCharArray();\r\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            keyManagerFactory.init(getKeyStore(), password);\r\n            return keyManagerFactory.getKeyManagers();\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        } catch (UnrecoverableKeyException e) {\r\n            e.printStackTrace();\r\n        } catch (KeyStoreException e) {\r\n            e.printStackTrace();\r\n        }\r\n        throw new RuntimeException(&quot;Something going wrong&quot;);\r\n    }\r\n\r\n    public TrustManager[] getTrustManager() {\r\n        try {\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            trustManagerFactory.init(getKeyStore());\r\n            return trustManagerFactory.getTrustManagers();\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        } catch (KeyStoreException e) {\r\n            e.printStackTrace();\r\n        }\r\n        throw new RuntimeException(&quot;Something going wrong&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe **keystroke.jks** file here is a separately created storage for these 2 certificates (I don&#39;t know if I need to do this yet). Maybe it makes sense to encode it in BASE64 to the properties file, store the password in encrypted form and decrypt it on the application side.","title":"Using MTLS in real project","body":"<p>How to use MTLS in practice, using pure Java?\nI've looked through several questions and answers on this subject, but I can't figure it out.</p>\n<p>I have 2 certificates, <em><strong>my-service.cer</strong></em> and <em><strong>another-service.cer</strong></em></p>\n<p><strong>The main question is how do I store and retrieve them properly?</strong></p>\n<p>I'm thinking of using about the following code to retrieve</p>\n<pre><code>\npackage com.wigravy.stackoverflow;\n\nimport javax.net.ssl.KeyManager;\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.TrustManagerFactory;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.UnrecoverableKeyException;\nimport java.security.cert.CertificateException;\nimport java.util.Properties;\n\npublic class SecurityManager {\n\n    private Properties getProperties() {\n        // here I get property file from server directory\n    }\n\n    private KeyStore getKeyStore() {\n        try (FileInputStream fis = new FileInputStream(&quot;keystroke.jks&quot;)) {\n            Properties properties = getProperties();\n            char[] password = properties.getProperty(&quot;keystore.password&quot;).toCharArray();\n            KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\n            keyStore.load(fis, password);\n            return keyStore;\n        } catch (FileNotFoundException | KeyStoreException e) {\n            e.printStackTrace();\n        } catch (CertificateException e) {\n            e.printStackTrace();\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        throw new RuntimeException(&quot;Something going wrong&quot;);\n    }\n\n    public KeyManager[] getKeyManager() {\n        try {\n            Properties properties = getProperties();\n            char[] password = properties.getProperty(&quot;keystore.password&quot;).toCharArray();\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n            keyManagerFactory.init(getKeyStore(), password);\n            return keyManagerFactory.getKeyManagers();\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        } catch (UnrecoverableKeyException e) {\n            e.printStackTrace();\n        } catch (KeyStoreException e) {\n            e.printStackTrace();\n        }\n        throw new RuntimeException(&quot;Something going wrong&quot;);\n    }\n\n    public TrustManager[] getTrustManager() {\n        try {\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            trustManagerFactory.init(getKeyStore());\n            return trustManagerFactory.getTrustManagers();\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        } catch (KeyStoreException e) {\n            e.printStackTrace();\n        }\n        throw new RuntimeException(&quot;Something going wrong&quot;);\n    }\n}\n\n</code></pre>\n<p>The <strong>keystroke.jks</strong> file here is a separately created storage for these 2 certificates (I don't know if I need to do this yet). Maybe it makes sense to encode it in BASE64 to the properties file, store the password in encrypted form and decrypt it on the application side.</p>\n"},{"tags":["java","multithreading","synchronization","thread-safety"],"comments":[{"owner":{"account_id":5025459,"reputation":929,"user_id":4037594,"accept_rate":40,"display_name":"Haem"},"score":2,"creation_date":1635837490,"post_id":69806598,"comment_id":123392294,"body_markdown":"If you have two questions, you should ask them separately.","body":"If you have two questions, you should ask them separately."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1635838475,"post_id":69806598,"comment_id":123392546,"body_markdown":"@Makkador - I will make a bargain with you.  Edit your Question to delete one of the questions and I will then try to understand and answer the other one.  Otherwise, the Question is liable to be closed ... without any answers.","body":"@Makkador - I will make a bargain with you.  Edit your Question to delete one of the questions and I will then try to understand and answer the other one.  Otherwise, the Question is liable to be closed ... without any answers."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1635838621,"post_id":69806598,"comment_id":123392580,"body_markdown":"Good lad ... :-)","body":"Good lad ... :-)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1635841242,"post_id":69806598,"comment_id":123393374,"body_markdown":"I rolled back the edit and edited so the first question is asked, because your previous edit did not ask a question.","body":"I rolled back the edit and edited so the first question is asked, because your previous edit did not ask a question."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1635845051,"post_id":69806598,"comment_id":123394934,"body_markdown":"I have rolled back your rollback because it has rendered my Answer to the revised question meaningless.  Mark - you ought to know better!  There are clear questions asked.  Look at the code comments.   The only thing that is missing is the question marks.  I will add them ... if it makes you happy.","body":"I have rolled back your rollback because it has rendered my Answer to the revised question meaningless.  Mark - you ought to know better!  There are clear questions asked.  Look at the code comments.   The only thing that is missing is the question marks.  I will add them ... if it makes you happy."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1635845252,"post_id":69806598,"comment_id":123395018,"body_markdown":"@StephenC I don&#39;t see what the question is, so I have voted to close.","body":"@StephenC I don&#39;t see what the question is, so I have voted to close."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1635845335,"post_id":69806598,"comment_id":123395063,"body_markdown":"The question is.  &quot;Do I code the bits that I have commented to indicate that I don&#39;t know what to do?&quot;  Is that now clear enough for you?","body":"The question is.  &quot;Do I code the bits that I have commented to indicate that I don&#39;t know what to do?&quot;  Is that now clear enough for you?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1635867716,"post_id":69806598,"comment_id":123404390,"body_markdown":"You tagged this question &quot;multithreading,&quot; &quot;synchronization,&quot; and &quot;thread-safety&quot; even though there&#39;s nothing in it that relates to threads in any way. I&#39;m guessing that your &quot;exercise&quot; must have come from some tutorial that eventually will teach you something about threads. But, be careful! When it comes to threads, there&#39;s a lot of bad advice out there. I can&#39;t guess what the tutorial might evolve that `Threads&lt;T&gt;` class into, but all by itself, it [_smells funny_](https://en.wikipedia.org/wiki/Code_smell). Keep your eyes open, and come back when you have more questions!","body":"You tagged this question &quot;multithreading,&quot; &quot;synchronization,&quot; and &quot;thread-safety&quot; even though there&#39;s nothing in it that relates to threads in any way. I&#39;m guessing that your &quot;exercise&quot; must have come from some tutorial that eventually will teach you something about threads. But, be careful! When it comes to threads, there&#39;s a lot of bad advice out there. I can&#39;t guess what the tutorial might evolve that <code>Threads&lt;T&gt;</code> class into, but all by itself, it <a href=\"https://en.wikipedia.org/wiki/Code_smell\" rel=\"nofollow noreferrer\"><i>smells funny</i></a>. Keep your eyes open, and come back when you have more questions!"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635839534,"creation_date":1635839058,"answer_id":69806860,"question_id":69806598,"body_markdown":"I presume that the &quot;it&quot; you refer to is the `s` parameter.\r\n\r\nYou need to declare the `s` parameter and `s` field with type `Buffer&lt;T&gt;`.  Something like this:\r\n\r\n    public class Threads&lt;T&gt; implements Buffer&lt;T&gt;{\r\n        Buffer&lt;T&gt; s;\r\n\r\n        public Threads(Buffer&lt;T&gt; s) { \r\n            this.s = s;\r\n        }\r\n        \r\n        synchronized public void put(T t) {\r\n            s.put(t);\r\n        }\r\n\r\n        synchronized public T get() {\r\n            return s.get();\r\n        }\r\n    }\r\n\r\nAt this point you have implemented a thread-safe wrapper for a `Buffer&lt;T&gt;`.  But it is only thread safe with respect to operations performed using the wrapper methods.\r\n\r\n(This `Buffer&lt;T&gt;` class / interface must be something that you have designed yourself.  The standard `java.nio.Buffer` class isn&#39;t parameterized, and it doesn&#39;t provide `get` and `put` methods.  The subclasses of `java.nio.Buffer` do have `get` and `put` methods, but they are not related to each other at the type level.)\r\n","title":"Java Thread safety questions","body":"<p>I presume that the &quot;it&quot; you refer to is the <code>s</code> parameter.</p>\n<p>You need to declare the <code>s</code> parameter and <code>s</code> field with type <code>Buffer&lt;T&gt;</code>.  Something like this:</p>\n<pre><code>public class Threads&lt;T&gt; implements Buffer&lt;T&gt;{\n    Buffer&lt;T&gt; s;\n\n    public Threads(Buffer&lt;T&gt; s) { \n        this.s = s;\n    }\n    \n    synchronized public void put(T t) {\n        s.put(t);\n    }\n\n    synchronized public T get() {\n        return s.get();\n    }\n}\n</code></pre>\n<p>At this point you have implemented a thread-safe wrapper for a <code>Buffer&lt;T&gt;</code>.  But it is only thread safe with respect to operations performed using the wrapper methods.</p>\n<p>(This <code>Buffer&lt;T&gt;</code> class / interface must be something that you have designed yourself.  The standard <code>java.nio.Buffer</code> class isn't parameterized, and it doesn't provide <code>get</code> and <code>put</code> methods.  The subclasses of <code>java.nio.Buffer</code> do have <code>get</code> and <code>put</code> methods, but they are not related to each other at the type level.)</p>\n"}],"owner":{"account_id":21129932,"reputation":19,"user_id":15534526,"display_name":"Makkador"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69806860,"answer_count":1,"score":0,"last_activity_date":1635845425,"creation_date":1635837299,"question_id":69806598,"body_markdown":"I bumped into an exercise and I am no java guru to know how to implement that. My objective is to implement a generic interface, that has a getter and setter method. In It&#39;s constructor I have to put an s object that implements this generic interface. We have to Store this object in our class and use this class&#39;s getter and setters to implement our classes getters and setters(delegation).\r\n\r\n    public class Threads&lt;T&gt; implements Buffer&lt;T&gt;{\r\n    \tObject s;\r\n    \tpublic Threads(Object s) { // we know, that It implements our Buffer interface\r\n    \t\tthis.s=s;//i have no clue to what I should convert it.\r\n    \t}\r\n    \t\r\n    \tsynchronized public void put(T t) {\r\n    \t\t//i don&#39;t know how to call s&#39;s put method\r\n    \t}\r\n    \tsynchronized public T get() {\r\n    \t\t//I don&#39;t know how to call s&#39;s get method.\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nMy question is: how do I deal with the parts of the code above where I have indicated in the comments that I don&#39;t know what to write?\r\n\r\nAny ideas?\r\n  ","title":"Java Thread safety questions","body":"<p>I bumped into an exercise and I am no java guru to know how to implement that. My objective is to implement a generic interface, that has a getter and setter method. In It's constructor I have to put an s object that implements this generic interface. We have to Store this object in our class and use this class's getter and setters to implement our classes getters and setters(delegation).</p>\n<pre><code>public class Threads&lt;T&gt; implements Buffer&lt;T&gt;{\n    Object s;\n    public Threads(Object s) { // we know, that It implements our Buffer interface\n        this.s=s;//i have no clue to what I should convert it.\n    }\n    \n    synchronized public void put(T t) {\n        //i don't know how to call s's put method\n    }\n    synchronized public T get() {\n        //I don't know how to call s's get method.\n        \n    }\n    \n}\n</code></pre>\n<p>My question is: how do I deal with the parts of the code above where I have indicated in the comments that I don't know what to write?</p>\n<p>Any ideas?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":19093025,"reputation":250,"user_id":13942948,"display_name":"rainmaker"},"score":1,"creation_date":1635813313,"post_id":69804156,"comment_id":123388290,"body_markdown":"As your code is now, the &quot;_&quot; will start the string when the cursor position is 0 but it shouldn&#39;t replace the first character.","body":"As your code is now, the &quot;_&quot; will start the string when the cursor position is 0 but it shouldn&#39;t replace the first character."},{"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"score":0,"creation_date":1635813436,"post_id":69804156,"comment_id":123388307,"body_markdown":"If you are constantly modifying text, you should make that a StringBuffer. Then your replacement function can just be:\n  text.setCharAt(cursorPosition, &#39;_&#39;);","body":"If you are constantly modifying text, you should make that a StringBuffer. Then your replacement function can just be:   text.setCharAt(cursorPosition, &#39;_&#39;);"}],"answers":[{"tags":[],"owner":{"account_id":23136540,"reputation":17,"user_id":17240698,"display_name":"Sea Bean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635814910,"creation_date":1635814910,"answer_id":69804325,"question_id":69804156,"body_markdown":"In my opinion, there are two pieces of logic that need to be handled separately when the cursor appearing at the index `0` or `text.length() - 1`. So you could try this code:\r\n```java\r\nString before = text.substring(0, cursorPosition);\r\nString after = text.substring(cursorPosition, text.length());\r\nif (cursorPosition == 0) return &quot;_&quot; + text;\r\nif (cursorPosition == text.length() - 1) return text + &quot;_&quot;;\r\nreturn before + &quot;_&quot; + after;`","title":"Splitting a string and inserting new string","body":"<p>In my opinion, there are two pieces of logic that need to be handled separately when the cursor appearing at the index <code>0</code> or <code>text.length() - 1</code>. So you could try this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String before = text.substring(0, cursorPosition);\nString after = text.substring(cursorPosition, text.length());\nif (cursorPosition == 0) return &quot;_&quot; + text;\nif (cursorPosition == text.length() - 1) return text + &quot;_&quot;;\nreturn before + &quot;_&quot; + after;`\n</code></pre>\n"}],"owner":{"account_id":23193668,"reputation":1,"user_id":17289638,"display_name":"Samuel Stone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635845361,"creation_date":1635812770,"question_id":69804156,"body_markdown":"I am trying to split a string (text) in twain so that I can insert a new string between the two based on the position of a cursor represented by an underscore. I did these using substrings like so:\r\n\r\n\r\n    String before = text.substring(0, cursorPosition);\r\n    String after = text.substring(cursorPosition, text.length());\r\n    return before + &quot;_&quot; + after;\r\n\r\n\r\nThis works fine except when the cursor position is at a newline. In which case the &quot;_&quot; replaces the first character on the new line. How can I prevent this from happening?\r\n    ","title":"Splitting a string and inserting new string","body":"<p>I am trying to split a string (text) in twain so that I can insert a new string between the two based on the position of a cursor represented by an underscore. I did these using substrings like so:</p>\n<pre><code>String before = text.substring(0, cursorPosition);\nString after = text.substring(cursorPosition, text.length());\nreturn before + &quot;_&quot; + after;\n</code></pre>\n<p>This works fine except when the cursor position is at a newline. In which case the &quot;_&quot; replaces the first character on the new line. How can I prevent this from happening?</p>\n"},{"tags":["java","spring-boot","rest","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1635843464,"post_id":69807598,"comment_id":123394270,"body_markdown":"You might want to look at whether your version of Jackson (dependency of Spring Boot) already supports the java.time API or if you need to add another dependency which contains the converters for `LocalDate` etc.","body":"You might want to look at whether your version of Jackson (dependency of Spring Boot) already supports the java.time API or if you need to add another dependency which contains the converters for <code>LocalDate</code> etc."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1635843492,"post_id":69807598,"comment_id":123394283,"body_markdown":"Either you are missing a jackson dependency for Java8time or you have configured the `ObjectMapper` yourself (preventing auto configuration) and the java8time module wasn&#39;t registered.","body":"Either you are missing a jackson dependency for Java8time or you have configured the <code>ObjectMapper</code> yourself (preventing auto configuration) and the java8time module wasn&#39;t registered."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1635844283,"post_id":69807598,"comment_id":123394626,"body_markdown":"https://stackoverflow.com/questions/45863678/json-parse-error-can-not-construct-instance-of-java-time-localdate-no-string-a","body":"<a href=\"https://stackoverflow.com/questions/45863678/json-parse-error-can-not-construct-instance-of-java-time-localdate-no-string-a\" title=\"json parse error can not construct instance of java time localdate no string a\">stackoverflow.com/questions/45863678/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635844910,"creation_date":1635844910,"answer_id":69808001,"question_id":69807598,"body_markdown":"This exception is due to jackson not working correctly, either because it is not in your dependencies*1 or the version you&#39;re using is not compatible with the LocalDate object. another possibility may be the date format*2\r\n\r\n1* add this code to your pom.xml : \r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n2* you can add a format annotation to your dateOfBirth variable : \r\n\r\n`@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)`\r\n\r\nand make sure you&#39;re respecting the pattern you specified","title":"Error java.time.LocalDate when insert data includes field dateOfBirth type LocalDate in SpringBoot","body":"<p>This exception is due to jackson not working correctly, either because it is not in your dependencies<em>1 or the version you're using is not compatible with the LocalDate object. another possibility may be the date format</em>2</p>\n<p>1* add this code to your pom.xml :</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>2* you can add a format annotation to your dateOfBirth variable :</p>\n<p><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)</code></p>\n<p>and make sure you're respecting the pattern you specified</p>\n"}],"owner":{"account_id":23169536,"reputation":23,"user_id":17268973,"display_name":"TamDV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635844910,"creation_date":1635843158,"question_id":69807598,"body_markdown":"I need to support with error below:\r\n\r\nWhen I insert data object use RESTFUL API, I have take error throw message from Postman:\r\n[![This is message from Postman][1]][1]\r\n\r\n[![This is data insert from client when I test][2]][2]\r\n\r\nThis is Class UserEntity\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User extends BaseEntity {\r\n    @Column(nullable = false, unique = true, columnDefinition = &quot;varchar(50)&quot;)\r\n    private String userName;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    @Column(unique = true, nullable = false)\r\n    private String email;\r\n\r\n    @Column(unique = true, nullable = false)\r\n    private String phone;\r\n\r\n    @Column\r\n    private String address;\r\n\r\n    @Column\r\n    private String fullName;\r\n\r\n    @Column\r\n    private LocalDate dateOfBirth;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;permission&quot;,\r\n    joinColumns = @JoinColumn(name = &quot;user_id&quot;, nullable = false),\r\n    inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, nullable = false))\r\n    @JsonIgnore\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private List&lt;Blog&gt; blogs = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nThis is class UserSaveRequest\r\n```\r\n@Getter\r\n@Setter\r\npublic class UserSaveRequest {\r\n    private long id;\r\n    private String userName;\r\n    private String password;\r\n    private String email;\r\n    private String phone;\r\n    private String address;\r\n    private String fullName;\r\n    private LocalDate dateOfBirth;\r\n    private List&lt;Long&gt; ids;\r\n}\r\n```\r\n\r\nThis is method map Object request to Object entity\r\n```\r\npublic User mapToEntity(UserSaveRequest userSaveRequest){\r\n        UserValidate.validate(userSaveRequest);\r\n        String encode = PasswordHasher.hash(userSaveRequest.getPassword());\r\n        User user = new User();\r\n        BeanUtils.refine(userSaveRequest,user,BeanUtils::copyNonNull);\r\n        user.setPassword(encode);\r\n        List&lt;Role&gt; roles = roleRepository.findAllByIdIn(userSaveRequest.getIds());\r\n        user.setRoles(new HashSet&lt;&gt;(roles));\r\n\r\n        return user;\r\n    }\r\n```\r\n\r\nThis is Class UserController\r\n```\r\n@RestController // để đ&#225;nh dấu l&#224; API\r\n@RequestMapping(&quot;/api&quot;)\r\n@Data\r\npublic class UserController extends BaseController {\r\n\r\n    private final static Logger LOGGER = LoggerFactory.getLogger(UserController.class);\r\n\r\n    private final UserService userService;\r\n    private final UserMapper userMapper;\r\n    private final TokenProducer tokenProducer;\r\n\r\n    private JwtPayload createPayload(User user){\r\n        JwtPayload jwtPayload = new JwtPayload();\r\n        jwtPayload.setUserName(user.getUserName());\r\n        jwtPayload.setId(user.getId());\r\n        String roles = user.getRoles().stream().map(Role::getName).collect(Collectors.joining(&quot;,&quot;));\r\n\r\n        jwtPayload.setRole(roles);\r\n\r\n        return jwtPayload;\r\n    }\r\n\r\n    @PostMapping(&quot;/user&quot;)\r\n    @PreAuthorize(&quot;hashAnyRole(&#39;ADMIN&#39;) OR hashAnyRole(&#39;USER&#39;) OR hashAnyRole(&#39;MANAGER&#39;)&quot;)\r\n    public ResponseEntity&lt;BaseResponse&gt; save(@RequestBody UserSaveRequest userSaveRequest) {\r\n        userService.save(userSaveRequest, userMapper::mapToEntity);\r\n\r\n        return success();\r\n    }\r\n}\r\n```\r\n\r\nThis is interface BaseService\r\n```\r\npublic interface BaseService&lt;T, ID&gt;{\r\n    &lt;RQ&gt; void save(RQ req, Function&lt;RQ, T&gt; transform);\r\n}\r\n```\r\n\r\nThis is abstract class AbstractServiceImpl\r\n```\r\n@Data\r\npublic abstract class AbstractServiceImpl&lt;T, ID&gt; implements BaseService&lt;T, ID&gt; {\r\n\r\n    protected final BaseRepository baseRepository;\r\n\r\n    public AbstractServiceImpl(BaseRepository baseRepository){\r\n        this.baseRepository = baseRepository;\r\n    }\r\n\r\n    @Override\r\n    public &lt;RQ&gt; void save(RQ req, Function&lt;RQ, T&gt; transform) {\r\n        T t = transform.apply(req);\r\n        baseRepository.save(t);\r\n    }\r\n}\r\n```\r\n\r\nThis is UserServiceImpl\r\n```\r\n@Service\r\npublic class UserServiceImpl extends AbstractServiceImpl&lt;User, Long&gt; implements UserService {\r\n\r\n    public UserServiceImpl(UserRepository userRepository){\r\n        super(userRepository);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SlOBK.png\r\n  [2]: https://i.stack.imgur.com/NJQHa.png","title":"Error java.time.LocalDate when insert data includes field dateOfBirth type LocalDate in SpringBoot","body":"<p>I need to support with error below:</p>\n<p>When I insert data object use RESTFUL API, I have take error throw message from Postman:\n<a href=\"https://i.stack.imgur.com/SlOBK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SlOBK.png\" alt=\"This is message from Postman\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NJQHa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NJQHa.png\" alt=\"This is data insert from client when I test\" /></a></p>\n<p>This is Class UserEntity</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User extends BaseEntity {\n    @Column(nullable = false, unique = true, columnDefinition = &quot;varchar(50)&quot;)\n    private String userName;\n\n    @Column(nullable = false)\n    private String password;\n\n    @Column(unique = true, nullable = false)\n    private String email;\n\n    @Column(unique = true, nullable = false)\n    private String phone;\n\n    @Column\n    private String address;\n\n    @Column\n    private String fullName;\n\n    @Column\n    private LocalDate dateOfBirth;\n\n    @ManyToMany\n    @JoinTable(name = &quot;permission&quot;,\n    joinColumns = @JoinColumn(name = &quot;user_id&quot;, nullable = false),\n    inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, nullable = false))\n    @JsonIgnore\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private List&lt;Blog&gt; blogs = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>This is class UserSaveRequest</p>\n<pre><code>@Getter\n@Setter\npublic class UserSaveRequest {\n    private long id;\n    private String userName;\n    private String password;\n    private String email;\n    private String phone;\n    private String address;\n    private String fullName;\n    private LocalDate dateOfBirth;\n    private List&lt;Long&gt; ids;\n}\n</code></pre>\n<p>This is method map Object request to Object entity</p>\n<pre><code>public User mapToEntity(UserSaveRequest userSaveRequest){\n        UserValidate.validate(userSaveRequest);\n        String encode = PasswordHasher.hash(userSaveRequest.getPassword());\n        User user = new User();\n        BeanUtils.refine(userSaveRequest,user,BeanUtils::copyNonNull);\n        user.setPassword(encode);\n        List&lt;Role&gt; roles = roleRepository.findAllByIdIn(userSaveRequest.getIds());\n        user.setRoles(new HashSet&lt;&gt;(roles));\n\n        return user;\n    }\n</code></pre>\n<p>This is Class UserController</p>\n<pre><code>@RestController // để đánh dấu là API\n@RequestMapping(&quot;/api&quot;)\n@Data\npublic class UserController extends BaseController {\n\n    private final static Logger LOGGER = LoggerFactory.getLogger(UserController.class);\n\n    private final UserService userService;\n    private final UserMapper userMapper;\n    private final TokenProducer tokenProducer;\n\n    private JwtPayload createPayload(User user){\n        JwtPayload jwtPayload = new JwtPayload();\n        jwtPayload.setUserName(user.getUserName());\n        jwtPayload.setId(user.getId());\n        String roles = user.getRoles().stream().map(Role::getName).collect(Collectors.joining(&quot;,&quot;));\n\n        jwtPayload.setRole(roles);\n\n        return jwtPayload;\n    }\n\n    @PostMapping(&quot;/user&quot;)\n    @PreAuthorize(&quot;hashAnyRole('ADMIN') OR hashAnyRole('USER') OR hashAnyRole('MANAGER')&quot;)\n    public ResponseEntity&lt;BaseResponse&gt; save(@RequestBody UserSaveRequest userSaveRequest) {\n        userService.save(userSaveRequest, userMapper::mapToEntity);\n\n        return success();\n    }\n}\n</code></pre>\n<p>This is interface BaseService</p>\n<pre><code>public interface BaseService&lt;T, ID&gt;{\n    &lt;RQ&gt; void save(RQ req, Function&lt;RQ, T&gt; transform);\n}\n</code></pre>\n<p>This is abstract class AbstractServiceImpl</p>\n<pre><code>@Data\npublic abstract class AbstractServiceImpl&lt;T, ID&gt; implements BaseService&lt;T, ID&gt; {\n\n    protected final BaseRepository baseRepository;\n\n    public AbstractServiceImpl(BaseRepository baseRepository){\n        this.baseRepository = baseRepository;\n    }\n\n    @Override\n    public &lt;RQ&gt; void save(RQ req, Function&lt;RQ, T&gt; transform) {\n        T t = transform.apply(req);\n        baseRepository.save(t);\n    }\n}\n</code></pre>\n<p>This is UserServiceImpl</p>\n<pre><code>@Service\npublic class UserServiceImpl extends AbstractServiceImpl&lt;User, Long&gt; implements UserService {\n\n    public UserServiceImpl(UserRepository userRepository){\n        super(userRepository);\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","jaxb"],"comments":[{"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"score":0,"creation_date":1635880706,"post_id":69807986,"comment_id":123409616,"body_markdown":"Does this answer your question? [Parse XML document with elements like &lt;g:id&gt; using JAXB](https://stackoverflow.com/questions/52905771/parse-xml-document-with-elements-like-gid-using-jaxb)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52905771/parse-xml-document-with-elements-like-gid-using-jaxb\">Parse XML document with elements like &lt;g:id&gt; using JAXB</a>"},{"owner":{"account_id":942344,"reputation":4204,"user_id":970200,"display_name":"Ian Lim"},"score":0,"creation_date":1635908116,"post_id":69807986,"comment_id":123415704,"body_markdown":"Another reference https://stackoverflow.com/questions/14234091/how-to-unmarshall-xml-code-containing-diffgr","body":"Another reference <a href=\"https://stackoverflow.com/questions/14234091/how-to-unmarshall-xml-code-containing-diffgr\" title=\"how to unmarshall xml code containing diffgr\">stackoverflow.com/questions/14234091/&hellip;</a>"}],"owner":{"account_id":13524683,"reputation":1,"user_id":9756821,"display_name":"Ye.s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635844854,"creation_date":1635844854,"question_id":69807986,"body_markdown":"Hi I got a below XML string which contain diffgram\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;Result xmlns=&quot;&quot;&gt;\r\n    &lt;diffgr:diffgram xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot; xmlns:diffgr=&quot;urn:schemas-microsoft-com:xml-diffgram-v1&quot;&gt;\r\n        &lt;NewDataSet xmlns=&quot;&quot;&gt;\r\n            &lt;DT1 diffgr:id=&quot;DT11&quot; msdata:rowOrder=&quot;0&quot;&gt;\r\n                &lt;TEST_NO&gt;93481324345&lt;/TEST_NO&gt;\r\n                &lt;TEST_DESC&gt;Description1&lt;/TEST_DESC&gt;\r\n            &lt;/DT1&gt;\r\n            &lt;DT1 diffgr:id=&quot;DT12&quot; msdata:rowOrder=&quot;1&quot;&gt;\r\n                &lt;TEST_NO&gt;93481366454&lt;/TEST_NO&gt;\r\n                &lt;TEST_DESC&gt;Description2&lt;/TEST_DESC&gt;\r\n            &lt;/DT1&gt;\r\n            &lt;DT1 diffgr:id=&quot;DT13&quot; msdata:rowOrder=&quot;2&quot;&gt;\r\n\t\t\t\t&lt;TEST_NO&gt;934813267783&lt;/TEST_NO&gt;\r\n                &lt;TEST_DESC&gt;Description3&lt;/TEST_DESC&gt;\r\n            &lt;/DT1&gt;\r\n        &lt;/NewDataSet&gt;\r\n    &lt;/diffgr:diffgram&gt;\r\n&lt;/Result&gt;\r\n```\r\nHow can I unmarshal this String to java POJO using JAXB ? \r\n\r\nBelow are the current POJO seems not able to bind by this way. \r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;diffgr&quot;,\r\n    &quot;newDataSet&quot;,\r\n    &quot;dt&quot;\r\n})\r\n@XmlRootElement(name=&quot;Result&quot;)\r\npublic class Response {\r\n\t\r\n    @XmlElement(name = &quot;diffgr:diffgram&quot;)\r\n    protected String diffgr;\r\n\t\r\n    @XmlElement(name = &quot;NewDataSet&quot;)\r\n    protected String newDataSet;\r\n\t\r\n\t@XmlElement(name = &quot;DT1&quot;)\r\n    protected List&lt;Response.DT&gt; dt;\r\n\r\n    public String getDiffgr() {\r\n\t\treturn diffgr;\r\n\t}\r\n\r\n\tpublic void setDiffgr(String diffgr) {\r\n\t\tthis.diffgr = diffgr;\r\n\t}\r\n\r\n\r\n\tpublic String getNewDataSet() {\r\n\t\treturn newDataSet;\r\n\t}\r\n\r\n\r\n\tpublic void setNewDataSet(String newDataSet) {\r\n\t\tthis.newDataSet = newDataSet;\r\n\t}\r\n\r\n\r\n\tpublic List&lt;Response.DT&gt; getDt() {\r\n        if (dt == null) {\r\n        \tdt = new ArrayList&lt;Response.DT&gt;();\r\n        }\r\n        return this.dt;\r\n\t}\r\n\r\n\r\n\tpublic void setDt(List&lt;Response.DT&gt; dt) {\r\n\t\tthis.dt = dt;\r\n\t}\r\n\r\n\r\n\r\n    @Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Response [diffgr=&quot; + diffgr + &quot;, newDataSet=&quot; + newDataSet + &quot;, dt=&quot; + dt + &quot;]&quot;;\r\n\t}\r\n\r\n\r\n\r\n\t@XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;testNo&quot;,\r\n        &quot;testDesc&quot;\r\n    })\r\n    public static class DT {\r\n\r\n        @XmlElement(name = &quot;TEST_NO&quot;)\r\n        protected String testNo;\r\n        @XmlElement(name = &quot;TEST_DESC&quot;)\r\n        protected String testDesc;\r\n        \r\n\t\tpublic String getTestNo() {\r\n\t\t\treturn testNo;\r\n\t\t}\r\n\r\n\t\tpublic void setTestNo(String testNo) {\r\n\t\t\tthis.testNo = testNo;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getTestDesc() {\r\n\t\t\treturn testDesc;\r\n\t\t}\r\n\r\n\t\tpublic void setTestDesc(String testDesc) {\r\n\t\t\tthis.testDesc = testDesc;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;DT [testNo=&quot; + testNo + &quot;, testDesc=&quot; + testDesc + &quot;]&quot;;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\r\n\r\n    }\r\n\t\r\n\r\n}\r\n```\r\n\r\nI&#39;m using the below sample code to unmarshal the String\r\n\r\n```\r\nJAXBContext jaxbContext = JAXBContext.newInstance(Response.class);\r\nUnmarshaller jaxbUnMarshaller = jaxbContext.createUnmarshaller();\r\nResponse response = (Response)jaxbUnMarshaller.unmarshal(new StringReader(xml));\r\n```\r\n\r\nWhen execute there is no any error throwing out while the POJO was empty. \r\n\r\nHow to unmarshal an XML String contain diffgr to JAVA POJO like this case? \r\n","title":"How to unmarshal an XML String contain diffgr to JAVA POJO","body":"<p>Hi I got a below XML string which contain diffgram</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;Result xmlns=&quot;&quot;&gt;\n    &lt;diffgr:diffgram xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot; xmlns:diffgr=&quot;urn:schemas-microsoft-com:xml-diffgram-v1&quot;&gt;\n        &lt;NewDataSet xmlns=&quot;&quot;&gt;\n            &lt;DT1 diffgr:id=&quot;DT11&quot; msdata:rowOrder=&quot;0&quot;&gt;\n                &lt;TEST_NO&gt;93481324345&lt;/TEST_NO&gt;\n                &lt;TEST_DESC&gt;Description1&lt;/TEST_DESC&gt;\n            &lt;/DT1&gt;\n            &lt;DT1 diffgr:id=&quot;DT12&quot; msdata:rowOrder=&quot;1&quot;&gt;\n                &lt;TEST_NO&gt;93481366454&lt;/TEST_NO&gt;\n                &lt;TEST_DESC&gt;Description2&lt;/TEST_DESC&gt;\n            &lt;/DT1&gt;\n            &lt;DT1 diffgr:id=&quot;DT13&quot; msdata:rowOrder=&quot;2&quot;&gt;\n                &lt;TEST_NO&gt;934813267783&lt;/TEST_NO&gt;\n                &lt;TEST_DESC&gt;Description3&lt;/TEST_DESC&gt;\n            &lt;/DT1&gt;\n        &lt;/NewDataSet&gt;\n    &lt;/diffgr:diffgram&gt;\n&lt;/Result&gt;\n</code></pre>\n<p>How can I unmarshal this String to java POJO using JAXB ?</p>\n<p>Below are the current POJO seems not able to bind by this way.</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;diffgr&quot;,\n    &quot;newDataSet&quot;,\n    &quot;dt&quot;\n})\n@XmlRootElement(name=&quot;Result&quot;)\npublic class Response {\n    \n    @XmlElement(name = &quot;diffgr:diffgram&quot;)\n    protected String diffgr;\n    \n    @XmlElement(name = &quot;NewDataSet&quot;)\n    protected String newDataSet;\n    \n    @XmlElement(name = &quot;DT1&quot;)\n    protected List&lt;Response.DT&gt; dt;\n\n    public String getDiffgr() {\n        return diffgr;\n    }\n\n    public void setDiffgr(String diffgr) {\n        this.diffgr = diffgr;\n    }\n\n\n    public String getNewDataSet() {\n        return newDataSet;\n    }\n\n\n    public void setNewDataSet(String newDataSet) {\n        this.newDataSet = newDataSet;\n    }\n\n\n    public List&lt;Response.DT&gt; getDt() {\n        if (dt == null) {\n            dt = new ArrayList&lt;Response.DT&gt;();\n        }\n        return this.dt;\n    }\n\n\n    public void setDt(List&lt;Response.DT&gt; dt) {\n        this.dt = dt;\n    }\n\n\n\n    @Override\n    public String toString() {\n        return &quot;Response [diffgr=&quot; + diffgr + &quot;, newDataSet=&quot; + newDataSet + &quot;, dt=&quot; + dt + &quot;]&quot;;\n    }\n\n\n\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(name = &quot;&quot;, propOrder = {\n        &quot;testNo&quot;,\n        &quot;testDesc&quot;\n    })\n    public static class DT {\n\n        @XmlElement(name = &quot;TEST_NO&quot;)\n        protected String testNo;\n        @XmlElement(name = &quot;TEST_DESC&quot;)\n        protected String testDesc;\n        \n        public String getTestNo() {\n            return testNo;\n        }\n\n        public void setTestNo(String testNo) {\n            this.testNo = testNo;\n        }\n        \n        public String getTestDesc() {\n            return testDesc;\n        }\n\n        public void setTestDesc(String testDesc) {\n            this.testDesc = testDesc;\n        }\n        \n        \n\n        @Override\n        public String toString() {\n            return &quot;DT [testNo=&quot; + testNo + &quot;, testDesc=&quot; + testDesc + &quot;]&quot;;\n        }\n        \n        \n        \n\n\n    }\n    \n\n}\n</code></pre>\n<p>I'm using the below sample code to unmarshal the String</p>\n<pre><code>JAXBContext jaxbContext = JAXBContext.newInstance(Response.class);\nUnmarshaller jaxbUnMarshaller = jaxbContext.createUnmarshaller();\nResponse response = (Response)jaxbUnMarshaller.unmarshal(new StringReader(xml));\n</code></pre>\n<p>When execute there is no any error throwing out while the POJO was empty.</p>\n<p>How to unmarshal an XML String contain diffgr to JAVA POJO like this case?</p>\n"},{"tags":["java","java-8","openjdk-17"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1635743713,"post_id":69792839,"comment_id":123367086,"body_markdown":"Not sure what you mean by *&quot;until the entire project is JDK 17 compliant&quot;*; if it isn&#39;t, then how will you run it on JDK 17?","body":"Not sure what you mean by <i>&quot;until the entire project is JDK 17 compliant&quot;</i>; if it isn&#39;t, then how will you run it on JDK 17?"},{"owner":{"account_id":10588890,"reputation":199,"user_id":8240254,"display_name":"Sai Kumar"},"score":0,"creation_date":1635744062,"post_id":69792839,"comment_id":123367136,"body_markdown":"@kaya3 By jdk 17 compliant, I meant to use the updated APis rather the the existing deprecated APIs","body":"@kaya3 By jdk 17 compliant, I meant to use the updated APis rather the the existing deprecated APIs"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1635839577,"post_id":69792839,"comment_id":123392851,"body_markdown":"Why do you want to “compile in jdk 8 and then run on jdk 17”? If you don’t run with JDK&#160;8, there is no point in using it to compile the code. Compiling with JDK&#160;17 will tell you immediately whether your code uses a remove API (unless Reflection is involved), which is much better than to find out at runtime by chance.","body":"Why do you want to “compile in jdk 8 and then run on jdk 17”? If you don’t run with JDK 8, there is no point in using it to compile the code. Compiling with JDK 17 will tell you immediately whether your code uses a remove API (unless Reflection is involved), which is much better than to find out at runtime by chance."},{"owner":{"account_id":3337989,"reputation":404,"user_id":2804966,"display_name":"lalo"},"score":0,"creation_date":1640113591,"post_id":69792839,"comment_id":124517505,"body_markdown":"&quot;compile in jdk 8 and then run on jdk 17&quot; makes it possible for a smooth transition as is not required to updates all instances at once","body":"&quot;compile in jdk 8 and then run on jdk 17&quot; makes it possible for a smooth transition as is not required to updates all instances at once"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635844787,"creation_date":1635746502,"answer_id":69793132,"question_id":69792839,"body_markdown":"&gt; By removed does this mean they are completely removed from the jdk 9 or are they marked as deprecated?\r\n\r\nSome have been just marked as deprecated.  Others have been removed entirely., though generally not in Java 9.  Most of the removals were done later, and some are still to occur.  If you look at elements that are now annotated as `@Deprecated`, the annotation in some cases will formally indicate that the element is going to be removed.\r\n\r\n--------------------\r\n\r\n&gt; Given the above statement, if in case the project is jdk 8 compiled, would it run without any issues on jdk 17\r\n\r\nNot necessarily.  Another thing that has happened is that access to &quot;internal&quot; Java SE APIs has been progressively closed off.  So if your application uses these APIs, in Java 9 you got warnings, by Java 11 you got errors by default, and by Java 17 some access has become (I think) impossible.\r\n\r\nSo ... there can be &quot;issues&quot;.\r\n\r\nThe correct approach to migration is simply to do it.  And test, test, test until you have ironed out all of the problems.\r\n\r\nObviously, that means that you **need** a test server, and you **need** to use an automated test framework with unit tests, functional tests, UI tests and so on.  But those are just good Software Engineering practices.  You should already be following them.\r\n\r\n-----------------\r\n\r\n&gt; I am planning to compile in jdk 8 and then run on jdk 17 until the entire project is jdk 17 compliant (By jdk 17 compliant, I meant to use the updated APIs rather the the existing deprecated APIs of jdk8).\r\n\r\n&gt; Am I headed in the correct direction? or should I follow a different migration approach?\r\n\r\nNo.  As @Holger points out, you are liable to run into lots of runtime errors ... due to problems that the Java 17 compiler would have identified.\r\n\r\nThere is only one approach ... really. Compile on Java 17 until you have identified all of the compile time dependency problems; i.e. using APIs that have been removed or closed off.  Then run on Java 17 and test, test and test until you have found all of the other problems.\r\n\r\n-----------------------\r\n\r\nBefore you start, it would be advisable to check all of your project&#39;s dependencies (libraries, etc) to see if they are **supported** on Java 17.  Then update them to the correct (probably latest) versions.\r\n\r\nJava 17 has only been released for a few weeks, so there is a good chance that some of your dependencies haven&#39;t caught up yet.  If that is the case, it may be a better idea to target Java 11 LTS at this stage.","title":"Is it viable to compile my project in java8 and then run it on java 17","body":"<blockquote>\n<p>By removed does this mean they are completely removed from the jdk 9 or are they marked as deprecated?</p>\n</blockquote>\n<p>Some have been just marked as deprecated.  Others have been removed entirely., though generally not in Java 9.  Most of the removals were done later, and some are still to occur.  If you look at elements that are now annotated as <code>@Deprecated</code>, the annotation in some cases will formally indicate that the element is going to be removed.</p>\n<hr />\n<blockquote>\n<p>Given the above statement, if in case the project is jdk 8 compiled, would it run without any issues on jdk 17</p>\n</blockquote>\n<p>Not necessarily.  Another thing that has happened is that access to &quot;internal&quot; Java SE APIs has been progressively closed off.  So if your application uses these APIs, in Java 9 you got warnings, by Java 11 you got errors by default, and by Java 17 some access has become (I think) impossible.</p>\n<p>So ... there can be &quot;issues&quot;.</p>\n<p>The correct approach to migration is simply to do it.  And test, test, test until you have ironed out all of the problems.</p>\n<p>Obviously, that means that you <strong>need</strong> a test server, and you <strong>need</strong> to use an automated test framework with unit tests, functional tests, UI tests and so on.  But those are just good Software Engineering practices.  You should already be following them.</p>\n<hr />\n<blockquote>\n<p>I am planning to compile in jdk 8 and then run on jdk 17 until the entire project is jdk 17 compliant (By jdk 17 compliant, I meant to use the updated APIs rather the the existing deprecated APIs of jdk8).</p>\n</blockquote>\n<blockquote>\n<p>Am I headed in the correct direction? or should I follow a different migration approach?</p>\n</blockquote>\n<p>No.  As @Holger points out, you are liable to run into lots of runtime errors ... due to problems that the Java 17 compiler would have identified.</p>\n<p>There is only one approach ... really. Compile on Java 17 until you have identified all of the compile time dependency problems; i.e. using APIs that have been removed or closed off.  Then run on Java 17 and test, test and test until you have found all of the other problems.</p>\n<hr />\n<p>Before you start, it would be advisable to check all of your project's dependencies (libraries, etc) to see if they are <strong>supported</strong> on Java 17.  Then update them to the correct (probably latest) versions.</p>\n<p>Java 17 has only been released for a few weeks, so there is a good chance that some of your dependencies haven't caught up yet.  If that is the case, it may be a better idea to target Java 11 LTS at this stage.</p>\n"}],"owner":{"account_id":10588890,"reputation":199,"user_id":8240254,"display_name":"Sai Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7472,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1635844787,"creation_date":1635743271,"question_id":69792839,"body_markdown":"I&#39;ve read a few articles where in jdk 9, .* APIs have been removed. By removed does this mean they are completely removed from the jdk 9 or are they marked as deprecated?\r\n\r\nGiven the above statement, if in case the project is jdk 8 compiled, would it run without any issues on jdk 17? I am trying this for the first time, and had issues with tomcat not being able to support jdk 8 because of modularity changes.\r\n\r\nI am planning to  compile in jdk 8 and then run on jdk 17 until the entire project is jdk 17 compliant (By jdk 17 compliant, I meant to use the updated APIs rather the the existing deprecated APIs of jdk8).\r\n\r\nAm I headed in the correct direction? or should I follow a different migration approach?","title":"Is it viable to compile my project in java8 and then run it on java 17","body":"<p>I've read a few articles where in jdk 9, .* APIs have been removed. By removed does this mean they are completely removed from the jdk 9 or are they marked as deprecated?</p>\n<p>Given the above statement, if in case the project is jdk 8 compiled, would it run without any issues on jdk 17? I am trying this for the first time, and had issues with tomcat not being able to support jdk 8 because of modularity changes.</p>\n<p>I am planning to  compile in jdk 8 and then run on jdk 17 until the entire project is jdk 17 compliant (By jdk 17 compliant, I meant to use the updated APIs rather the the existing deprecated APIs of jdk8).</p>\n<p>Am I headed in the correct direction? or should I follow a different migration approach?</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635823767,"creation_date":1635823767,"answer_id":69805101,"question_id":69798975,"body_markdown":"There&#39;s a similar issue put in vscode/java-test: [\\[Request\\] Hide the JUnit Callstack from the stacktrace][1].\r\n\r\nYou may comment there to describe your needs and follow up it for solution.\r\n\r\n\r\n  [1]: https://github.com/microsoft/vscode-java-test/issues/1281","title":"Disable inline stack trace for failed tests in VS Code","body":"<p>There's a similar issue put in vscode/java-test: <a href=\"https://github.com/microsoft/vscode-java-test/issues/1281\" rel=\"nofollow noreferrer\">[Request] Hide the JUnit Callstack from the stacktrace</a>.</p>\n<p>You may comment there to describe your needs and follow up it for solution.</p>\n"},{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635844763,"creation_date":1635844763,"answer_id":69807964,"question_id":69798975,"body_markdown":"Start from the `0.31.0`, the `Test Runner for Java` extension migrates to the [VS Code native testing API](https://github.com/microsoft/vscode/issues/107467). That&#39;s why you observed such big UX changes.\r\n\r\nNow, if you don&#39;t want to show those test messages automatically after running, you can set the setting `testing.automaticallyOpenPeekView` to `never`.","title":"Disable inline stack trace for failed tests in VS Code","body":"<p>Start from the <code>0.31.0</code>, the <code>Test Runner for Java</code> extension migrates to the <a href=\"https://github.com/microsoft/vscode/issues/107467\" rel=\"nofollow noreferrer\">VS Code native testing API</a>. That's why you observed such big UX changes.</p>\n<p>Now, if you don't want to show those test messages automatically after running, you can set the setting <code>testing.automaticallyOpenPeekView</code> to <code>never</code>.</p>\n"}],"owner":{"account_id":2256668,"reputation":590,"user_id":1987724,"accept_rate":63,"display_name":"Fam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635844763,"creation_date":1635779802,"question_id":69798975,"body_markdown":"When I run a JUnit test that fails, it fills my entire editor window with the stack trace. It becomes impossible to see the code for the actual test, because it&#39;s buried underneath the stack trace.\r\n\r\nI&#39;m not sure if it&#39;s VS Code that&#39;s changed something, or the Test Runner for Java extension (recommended by VS Code) that has changed. Previously, running a test would open a Test Explorer as a separate tab. Any failures would still show the stack trace, but it was very easy to compare the stack trace to the code side by side. Is there a way to re-enable this behavior?","title":"Disable inline stack trace for failed tests in VS Code","body":"<p>When I run a JUnit test that fails, it fills my entire editor window with the stack trace. It becomes impossible to see the code for the actual test, because it's buried underneath the stack trace.</p>\n<p>I'm not sure if it's VS Code that's changed something, or the Test Runner for Java extension (recommended by VS Code) that has changed. Previously, running a test would open a Test Explorer as a separate tab. Any failures would still show the stack trace, but it was very easy to compare the stack trace to the code side by side. Is there a way to re-enable this behavior?</p>\n"},{"tags":["java","spring-boot","docker","openshift"],"answers":[{"tags":[],"owner":{"account_id":17208279,"reputation":89,"user_id":12458326,"display_name":"Ilja Veselov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635844726,"creation_date":1635844726,"answer_id":69807953,"question_id":69794892,"body_markdown":"Changing destination path to . in the line below fixed the problem, probably because WORKDIR was already /cgi\r\nCOPY --from=build /cgi/target/dentistapp-1.0.jar .","title":"OpenShift CreateContainerError - Error: mkdir /../../ not a directory","body":"<p>Changing destination path to . in the line below fixed the problem, probably because WORKDIR was already /cgi\nCOPY --from=build /cgi/target/dentistapp-1.0.jar .</p>\n"}],"owner":{"account_id":17208279,"reputation":89,"user_id":12458326,"display_name":"Ilja Veselov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635844726,"creation_date":1635758562,"question_id":69794892,"body_markdown":"I am trying to deploy a Spring Boot application from GitHub to Openshift and getting error on creating pod.\r\nUsing oc new-app [GIT REPOSITORY] --as-deployment-config\r\nHere is Dockerfile - multistage build\r\n\r\n```\r\n# Build stage\r\nFROM maven:3.6.0-jdk-8-slim AS build\r\nCOPY . /cgi\r\nENV HOME /cgi\r\nWORKDIR /cgi\r\n# Set permissions to the /cgi folder (for OpenShift)\r\nRUN chgrp -R 0 /cgi &amp;&amp; chmod -R g+rwX /cgi\r\nRUN mvn install\r\n# Package stage\r\nFROM openjdk:8\r\nWORKDIR /cgi\r\nENV HOME /cgi\r\nCOPY --from=build /cgi/target/dentistapp-1.0.jar /cgi\r\nEXPOSE 8080\r\nCMD java -jar dentistapp-1.0.jar\r\n```\r\nBuild stage says - Push successfull, however deploy gives error - \r\n\r\n  Warning  Failed          83s                kubelet            Error: mkdir /var/lib/containers/storage/overlay/b0b9cfcc7eed8f09933b82795f7f18c0aacee0f611ee60f0e9bf56c378597b70/merged/cgi: not a directory\r\n\r\nWhen building this image locally with docker build command and run it everything works fine.\r\n\r\nCould you please help to figure out where is the problem?\r\n\r\nThank you!\r\n","title":"OpenShift CreateContainerError - Error: mkdir /../../ not a directory","body":"<p>I am trying to deploy a Spring Boot application from GitHub to Openshift and getting error on creating pod.\nUsing oc new-app [GIT REPOSITORY] --as-deployment-config\nHere is Dockerfile - multistage build</p>\n<pre><code># Build stage\nFROM maven:3.6.0-jdk-8-slim AS build\nCOPY . /cgi\nENV HOME /cgi\nWORKDIR /cgi\n# Set permissions to the /cgi folder (for OpenShift)\nRUN chgrp -R 0 /cgi &amp;&amp; chmod -R g+rwX /cgi\nRUN mvn install\n# Package stage\nFROM openjdk:8\nWORKDIR /cgi\nENV HOME /cgi\nCOPY --from=build /cgi/target/dentistapp-1.0.jar /cgi\nEXPOSE 8080\nCMD java -jar dentistapp-1.0.jar\n</code></pre>\n<p>Build stage says - Push successfull, however deploy gives error -</p>\n<p>Warning  Failed          83s                kubelet            Error: mkdir /var/lib/containers/storage/overlay/b0b9cfcc7eed8f09933b82795f7f18c0aacee0f611ee60f0e9bf56c378597b70/merged/cgi: not a directory</p>\n<p>When building this image locally with docker build command and run it everything works fine.</p>\n<p>Could you please help to figure out where is the problem?</p>\n<p>Thank you!</p>\n"},{"tags":["java","api","video","pinterest"],"answers":[{"tags":[],"owner":{"account_id":5290160,"reputation":196,"user_id":4222996,"display_name":"Ravi Misra"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1518090833,"creation_date":1518090833,"answer_id":48684871,"question_id":43897604,"body_markdown":"You can&#39;t. But there is a workaround:\r\n\r\nFirst, upload the video to youtube. Copy the thumbnail URL of this newly uploaded youtube video and pin it to Pinterest using the Pinterest API.\r\n\r\nFor example, if the youtube URL is:\r\nhttps://www.youtube.com/watch?v=1sqXRQhtqI8\r\n\r\nthen you can access the thumbnail by the following URL:\r\nhttp://img.youtube.com/vi/1sqXRQhtqI8/0.jpg\r\n\r\nTo pin your video on Pinterest, pin the above URL with the Pinterest API.\r\n\r\nFollowing pin is the result of pinning above video.\r\nhttps://www.pinterest.com/pin/369084131956139919/\r\n\r\n\r\n","title":"Use Pinterest API to upload video","body":"<p>You can't. But there is a workaround:</p>\n\n<p>First, upload the video to youtube. Copy the thumbnail URL of this newly uploaded youtube video and pin it to Pinterest using the Pinterest API.</p>\n\n<p>For example, if the youtube URL is:\n<a href=\"https://www.youtube.com/watch?v=1sqXRQhtqI8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=1sqXRQhtqI8</a></p>\n\n<p>then you can access the thumbnail by the following URL:\n<a href=\"http://img.youtube.com/vi/1sqXRQhtqI8/0.jpg\" rel=\"nofollow noreferrer\">http://img.youtube.com/vi/1sqXRQhtqI8/0.jpg</a></p>\n\n<p>To pin your video on Pinterest, pin the above URL with the Pinterest API.</p>\n\n<p>Following pin is the result of pinning above video.\n<a href=\"https://www.pinterest.com/pin/369084131956139919/\" rel=\"nofollow noreferrer\">https://www.pinterest.com/pin/369084131956139919/</a></p>\n"},{"tags":[],"owner":{"account_id":15159171,"reputation":61,"user_id":10938897,"display_name":"Chris Bovan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550441674,"creation_date":1550441674,"answer_id":54738194,"question_id":43897604,"body_markdown":"There is also a workaround to use animated Gifs - those are supported by using straight image_url parameter :) You can simply convert your video to a gif and post it.","title":"Use Pinterest API to upload video","body":"<p>There is also a workaround to use animated Gifs - those are supported by using straight image_url parameter :) You can simply convert your video to a gif and post it.</p>\n"},{"tags":[],"owner":{"account_id":4034109,"reputation":360,"user_id":3319210,"accept_rate":57,"display_name":"Joel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635844639,"creation_date":1635844639,"answer_id":69807933,"question_id":43897604,"body_markdown":"Pinterest has now added support for uploading videos through their api. \r\n\r\nNoteworthy is that only business accounts can use this feature.\r\n\r\nhttps://developers.pinterest.com/docs/redoc/martech/#tag/Quick-Start:-Publish-Video","title":"Use Pinterest API to upload video","body":"<p>Pinterest has now added support for uploading videos through their api.</p>\n<p>Noteworthy is that only business accounts can use this feature.</p>\n<p><a href=\"https://developers.pinterest.com/docs/redoc/martech/#tag/Quick-Start:-Publish-Video\" rel=\"nofollow noreferrer\">https://developers.pinterest.com/docs/redoc/martech/#tag/Quick-Start:-Publish-Video</a></p>\n"}],"owner":{"account_id":9317592,"reputation":145,"user_id":6917432,"display_name":"Yassine Abainou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1523,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1635844639,"creation_date":1494432159,"question_id":43897604,"body_markdown":"Can we use Pinterest API to upload Video ? , because the official documentation show only Post media of type Image .\r\n\r\nThanks .","title":"Use Pinterest API to upload video","body":"<p>Can we use Pinterest API to upload Video ? , because the official documentation show only Post media of type Image .</p>\n\n<p>Thanks .</p>\n"},{"tags":["java","azure","powershell","azure-web-app-service","blob"],"comments":[{"owner":{"account_id":19276063,"reputation":11,"user_id":14089060,"display_name":"Vikram Sawant"},"score":0,"creation_date":1629058353,"post_id":68794430,"comment_id":121580369,"body_markdown":"Anyone please this question...","body":"Anyone please this question..."},{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1629073936,"post_id":68794430,"comment_id":121582625,"body_markdown":"Please edit your question and include the details about the SDK you’re using.","body":"Please edit your question and include the details about the SDK you’re using."},{"owner":{"account_id":19276063,"reputation":11,"user_id":14089060,"display_name":"Vikram Sawant"},"score":0,"creation_date":1629130589,"post_id":68794430,"comment_id":121600276,"body_markdown":"it&#39;s SDK V12 which I am using...","body":"it&#39;s SDK V12 which I am using..."}],"answers":[{"tags":[],"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1629874419,"creation_date":1629874419,"answer_id":68918131,"question_id":68794430,"body_markdown":"As [ManojReddy-MSFT][1] suggested:\r\n\r\nIn most cases, this error occurs because of the missing plugin http://www.mojohaus.org/exec-maven-plugin/index.html\r\n\r\nCan you verify if you have this plugin? if not, can you try with this plugin?\r\n\r\nYou can also refer to [“Unknown lifecycle phase ”mvn“. You must specify a valid lifecycle phase or a goal” While Deploying the application using Azure][2]\r\n\r\n\r\n  [1]: https://github.com/MicrosoftDocs/azure-docs/issues/43697#issuecomment-559731324\r\n  [2]: https://stackoverflow.com/questions/62642637/unknown-lifecycle-phase-mvn-you-must-specify-a-valid-lifecycle-phase-or-a-go","title":"Unknown lifecycle phase &quot;.mainClass=com.blobs.quickstart.App&quot;","body":"<p>As <a href=\"https://github.com/MicrosoftDocs/azure-docs/issues/43697#issuecomment-559731324\" rel=\"nofollow noreferrer\">ManojReddy-MSFT</a> suggested:</p>\n<p>In most cases, this error occurs because of the missing plugin <a href=\"http://www.mojohaus.org/exec-maven-plugin/index.html\" rel=\"nofollow noreferrer\">http://www.mojohaus.org/exec-maven-plugin/index.html</a></p>\n<p>Can you verify if you have this plugin? if not, can you try with this plugin?</p>\n<p>You can also refer to <a href=\"https://stackoverflow.com/questions/62642637/unknown-lifecycle-phase-mvn-you-must-specify-a-valid-lifecycle-phase-or-a-go\">“Unknown lifecycle phase ”mvn“. You must specify a valid lifecycle phase or a goal” While Deploying the application using Azure</a></p>\n"},{"tags":[],"owner":{"account_id":5488238,"reputation":71,"user_id":4362387,"display_name":"h3f3st0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635844437,"creation_date":1635844437,"answer_id":69807890,"question_id":68794430,"body_markdown":"Even with the plugin I got that error message. I fixed it by changing the double quotes (I am also using Powershell):\r\n\r\n    mvn exec:java -D&quot;exec.mainClass=my.main.Clazz&quot; [other args with same quote pattern]","title":"Unknown lifecycle phase &quot;.mainClass=com.blobs.quickstart.App&quot;","body":"<p>Even with the plugin I got that error message. I fixed it by changing the double quotes (I am also using Powershell):</p>\n<pre><code>mvn exec:java -D&quot;exec.mainClass=my.main.Clazz&quot; [other args with same quote pattern]\n</code></pre>\n"}],"owner":{"account_id":19276063,"reputation":11,"user_id":14089060,"display_name":"Vikram Sawant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68918131,"answer_count":2,"score":0,"last_activity_date":1635844437,"creation_date":1629053020,"question_id":68794430,"body_markdown":"I ran through this demo (using PowerShell). Everything was fine until I ran the line:\r\n\r\nmvn exec:java -Dexec.mainClass=&quot;com.blobs.quickstart.App&quot; -Dexec.cleanupDaemonThreads=false\r\n\r\nthen I got the below exception:\r\n\r\n    [INFO]\r\n    [INFO] --------------&lt; com.blobs.quickstart:blob-quickstart-v12 &gt;--------------\r\n    [INFO] Building blob-quickstart-v12 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 4.497 s\r\n    [INFO] Finished at: 2019-11-27T18:49:01-05:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Unknown lifecycle phase &quot;.mainClass=com.blobs.quickstart.App&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException\r\n\r\n\r\n\r\nThis is the link from where I followed the steps [https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell#get-the-connection-string][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell#get-the-connection-string","title":"Unknown lifecycle phase &quot;.mainClass=com.blobs.quickstart.App&quot;","body":"<p>I ran through this demo (using PowerShell). Everything was fine until I ran the line:</p>\n<p>mvn exec:java -Dexec.mainClass=&quot;com.blobs.quickstart.App&quot; -Dexec.cleanupDaemonThreads=false</p>\n<p>then I got the below exception:</p>\n<pre><code>[INFO]\n[INFO] --------------&lt; com.blobs.quickstart:blob-quickstart-v12 &gt;--------------\n[INFO] Building blob-quickstart-v12 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 4.497 s\n[INFO] Finished at: 2019-11-27T18:49:01-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Unknown lifecycle phase &quot;.mainClass=com.blobs.quickstart.App&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException\n</code></pre>\n<p>This is the link from where I followed the steps <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell#get-the-connection-string\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell#get-the-connection-string</a></p>\n"},{"tags":["java","spring","unit-testing"],"comments":[{"owner":{"account_id":23031986,"reputation":9,"user_id":17151321,"display_name":"ced_d0llars"},"score":0,"creation_date":1635514474,"post_id":69769699,"comment_id":123326074,"body_markdown":"the problem i have is an exception that is thrown in my test . take a look at my post","body":"the problem i have is an exception that is thrown in my test . take a look at my post"}],"answers":[{"tags":[],"owner":{"account_id":7385653,"reputation":778,"user_id":5620762,"accept_rate":50,"display_name":"Nutan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635514399,"creation_date":1635514399,"answer_id":69769823,"question_id":69769699,"body_markdown":"Check the imports in both classes for `QueryWrapper ` if, both are from same package or not, seems imported in test class from different package.\r\n\r\nif not then please paste your whole code with imports as well.\r\n","title":"Arguments are different! wanted","body":"<p>Check the imports in both classes for <code>QueryWrapper </code> if, both are from same package or not, seems imported in test class from different package.</p>\n<p>if not then please paste your whole code with imports as well.</p>\n"},{"tags":[],"owner":{"account_id":23031986,"reputation":9,"user_id":17151321,"display_name":"ced_d0llars"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635844394,"creation_date":1635844394,"answer_id":69807877,"question_id":69769699,"body_markdown":"i resolved my issue. the problem was it to change the implementation detail through passing to my service injection of QueryWrapper thus mock properly this one. ","title":"Arguments are different! wanted","body":"<p>i resolved my issue. the problem was it to change the implementation detail through passing to my service injection of QueryWrapper thus mock properly this one.</p>\n"}],"owner":{"account_id":23031986,"reputation":9,"user_id":17151321,"display_name":"ced_d0llars"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1635844394,"creation_date":1635513988,"question_id":69769699,"body_markdown":"sorry for this question which has been yet answered before. But so far, i didn&#39;t resolve my issue. \r\nOk let&#39;s say i have a class below that i want to test the method checkMail(): \r\n\r\n   \r\n    public class SupplierRosServiceImpl implements SupplierRosService {\r\n\r\n        @Autowired\r\n        private OpeSupplierService supplierService;\r\n\r\n        @Autowired\r\n        private OpeSupplierMapper opeSupplierMapper;\r\n\r\n        @Autowired\r\n        private OpeSupplierTraceService supplierTraceService;\r\n\r\n\r\n        private SupplierServiceMapper supplierServiceMapper;\r\n\r\n        @DubboReference\r\n        private IdAppService idAppService;\r\n\r\n        @Override\r\n        public Map&lt;String, Integer&gt; countStatus(GeneralEnter enter) {\r\n        List&lt;CountByStatusResult&gt; statusResults = supplierServiceMapper.countStatus(enter);\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (CountByStatusResult item : statusResults) {\r\n            map.put(item.getStatus(), item.getTotalCount());\r\n        }\r\n        for (SupplierStatusEnum status : SupplierStatusEnum.values()) {\r\n            if (!map.containsKey(status.getValue())) {\r\n                map.put(status.getValue(), 0);\r\n            }\r\n        }\r\n        return map;\r\n    }\r\n\r\n        public Boolean checkMail(String mail,String idStr) {\r\n            QueryWrapper&lt;OpeSupplier&gt; wrapper = new QueryWrapper&lt;&gt;();\r\n            wrapper.eq(OpeSupplier.COL_CONTACT_EMAIL, mail);\r\n            wrapper.eq(OpeSupplier.COL_DR, 0);\r\n            if(!Strings.isNullOrEmpty(idStr)){\r\n              wrapper.ne(OpeSupplier.COL_ID, Long.parseLong(idStr));\r\n            }\r\n           return opeSupplierMapper.selectCount(wrapper) &gt; 0 ? Boolean.FALSE  : Boolean.TRUE;\r\n        }\r\n\r\nin my test class i have:\r\n\r\n\r\n        class SupplierRosServiceImplTest {\r\n\r\n             @InjectMocks\r\n             SupplierRosServiceImpl supplierRosService;\r\n\r\n             @Mock\r\n             QueryWrapper queryWrapper;\r\n\r\n             @Mock\r\n             private OpeSupplierMapper ope;\r\n\r\n    \r\n             @Test\r\n             void ItShouldCheckMail() {\r\n\r\n            //when\r\n            supplierRosService.checkMail(&quot;myEmailAdress&quot;, &quot;123456&quot;);\r\n            //then\r\n            verify(ope).selectCount(queryWrapper);\r\n       }\r\n\r\nthe exception tell : Argument(s) are different! wanted: \r\nope.selectCount(querywrapper) \r\nActual invocations have differents arguements:\r\nope.selectCount(com.baomidou.mybatisplus.core.conditions.query.QueryWrapper@ba1f559)\r\nsomeone could tell me how to solve this one ? ","title":"Arguments are different! wanted","body":"<p>sorry for this question which has been yet answered before. But so far, i didn't resolve my issue.\nOk let's say i have a class below that i want to test the method checkMail():</p>\n<pre><code>public class SupplierRosServiceImpl implements SupplierRosService {\n\n    @Autowired\n    private OpeSupplierService supplierService;\n\n    @Autowired\n    private OpeSupplierMapper opeSupplierMapper;\n\n    @Autowired\n    private OpeSupplierTraceService supplierTraceService;\n\n\n    private SupplierServiceMapper supplierServiceMapper;\n\n    @DubboReference\n    private IdAppService idAppService;\n\n    @Override\n    public Map&lt;String, Integer&gt; countStatus(GeneralEnter enter) {\n    List&lt;CountByStatusResult&gt; statusResults = supplierServiceMapper.countStatus(enter);\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    for (CountByStatusResult item : statusResults) {\n        map.put(item.getStatus(), item.getTotalCount());\n    }\n    for (SupplierStatusEnum status : SupplierStatusEnum.values()) {\n        if (!map.containsKey(status.getValue())) {\n            map.put(status.getValue(), 0);\n        }\n    }\n    return map;\n}\n\n    public Boolean checkMail(String mail,String idStr) {\n        QueryWrapper&lt;OpeSupplier&gt; wrapper = new QueryWrapper&lt;&gt;();\n        wrapper.eq(OpeSupplier.COL_CONTACT_EMAIL, mail);\n        wrapper.eq(OpeSupplier.COL_DR, 0);\n        if(!Strings.isNullOrEmpty(idStr)){\n          wrapper.ne(OpeSupplier.COL_ID, Long.parseLong(idStr));\n        }\n       return opeSupplierMapper.selectCount(wrapper) &gt; 0 ? Boolean.FALSE  : Boolean.TRUE;\n    }\n</code></pre>\n<p>in my test class i have:</p>\n<pre><code>    class SupplierRosServiceImplTest {\n\n         @InjectMocks\n         SupplierRosServiceImpl supplierRosService;\n\n         @Mock\n         QueryWrapper queryWrapper;\n\n         @Mock\n         private OpeSupplierMapper ope;\n\n\n         @Test\n         void ItShouldCheckMail() {\n\n        //when\n        supplierRosService.checkMail(&quot;myEmailAdress&quot;, &quot;123456&quot;);\n        //then\n        verify(ope).selectCount(queryWrapper);\n   }\n</code></pre>\n<p>the exception tell : Argument(s) are different! wanted:\nope.selectCount(querywrapper)\nActual invocations have differents arguements:\nope.selectCount(com.baomidou.mybatisplus.core.conditions.query.QueryWrapper@ba1f559)\nsomeone could tell me how to solve this one ?</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":2,"creation_date":1635844517,"post_id":69807861,"comment_id":123394720,"body_markdown":"Just iterate over the [`Table.cellSet()`](https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Table.html#cellSet())","body":"Just iterate over the <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Table.html#cellSet()\" rel=\"nofollow noreferrer\"><code>Table.cellSet()</code></a>"},{"owner":{"display_name":"user16099288"},"score":0,"creation_date":1635844828,"post_id":69807861,"comment_id":123394847,"body_markdown":"What would be the syntax then? Its still a bit unclear for me. Because cellSet() will return a triplet &lt;ObjType,ObjType,Set&lt;String&gt;&gt;, so it won&#39;t be comfortable to use &quot;foreach&quot;.","body":"What would be the syntax then? Its still a bit unclear for me. Because cellSet() will return a triplet &lt;ObjType,ObjType,Set&lt;String&gt;&gt;, so it won&#39;t be comfortable to use &quot;foreach&quot;."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1635845218,"post_id":69807861,"comment_id":123395005,"body_markdown":"It returns a `Set` with objects of type [`Table.Cell`](https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Table.Cell.html). These objects have methods to get row, column and value.","body":"It returns a <code>Set</code> with objects of type <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Table.Cell.html\" rel=\"nofollow noreferrer\"><code>Table.Cell</code></a>. These objects have methods to get row, column and value."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":1,"creation_date":1635845389,"post_id":69807861,"comment_id":123395087,"body_markdown":"Robby got it right (and should post it all as an answer). Something like this: `for (Cell&lt;ObjType, ObjType, Set&lt;String&gt;&gt; cell : table.cellSet()) { logger.info(&quot;For {} and {}, the value is {}&quot;, cell.getRow(), cell.getColumn(), cell.getValue()); }`","body":"Robby got it right (and should post it all as an answer). Something like this: <code>for (Cell&lt;ObjType, ObjType, Set&lt;String&gt;&gt; cell : table.cellSet()) { logger.info(&quot;For {} and {}, the value is {}&quot;, cell.getRow(), cell.getColumn(), cell.getValue()); }</code>"}],"owner":{"display_name":"user16099288"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635844321,"creation_date":1635844321,"question_id":69807861,"body_markdown":"Using `com.google.common.collect.Table`. I have a function which returns to me a table of the sort `Table&lt;ObjType,ObjType, Set&lt;String&gt;&gt;`. I want to iterate over all the entries, and for each entry, to print a short message, of the sort: \r\n\r\n&gt; &quot;For ObjType x and ObjType y, the value is [[here goes the actual string value]]&quot;\r\n\r\n.\r\n\r\nI&#39;m not really sure what is the correct syntax to loop on a table. The function itself that fills the table is a preexisting function, so I am not really familiar with the properties of `com.google.common.collect.Table`. \r\n\r\nI tried looking online, but couldn&#39;t find basic explanation, only complicated examples, which are far ahead of the basic iteration I want to do.\r\n\r\n`ObjType` is a type of class I am using, but I don&#39;t think it matters so much.\r\n\r\nI want to do something of the sort of foreach but not sure on the syntax...","title":"Basic iteration over a table in java","body":"<p>Using <code>com.google.common.collect.Table</code>. I have a function which returns to me a table of the sort <code>Table&lt;ObjType,ObjType, Set&lt;String&gt;&gt;</code>. I want to iterate over all the entries, and for each entry, to print a short message, of the sort:</p>\n<blockquote>\n<p>&quot;For ObjType x and ObjType y, the value is [[here goes the actual string value]]&quot;</p>\n</blockquote>\n<p>.</p>\n<p>I'm not really sure what is the correct syntax to loop on a table. The function itself that fills the table is a preexisting function, so I am not really familiar with the properties of <code>com.google.common.collect.Table</code>.</p>\n<p>I tried looking online, but couldn't find basic explanation, only complicated examples, which are far ahead of the basic iteration I want to do.</p>\n<p><code>ObjType</code> is a type of class I am using, but I don't think it matters so much.</p>\n<p>I want to do something of the sort of foreach but not sure on the syntax...</p>\n"},{"tags":["java","android","android-studio","arraylist"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635844214,"creation_date":1635844214,"answer_id":69807828,"question_id":69807684,"body_markdown":"&gt; I am getting Unchecked cast error in publish results investorList.addAll((List) filterResults.values);\r\n\r\nThat&#39;s because you&#39;re doing an unchecked cast. Actually, you&#39;re doing both a checked _and_ an unchecked cast there.\r\n\r\n`(List) filterResults.values` is a _checked_ cast. This means that the Java compiler will insert a `checkcast` instruction into the bytecode to ensure that `filterResults.values` (an `Object`) really is an instance of `List`.\r\n\r\nHowever, `investorList.addAll` expects a `List&lt;Investor&gt;`, not a `List`. `List` is a [raw type](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it). You can pass a raw-typed `List` to a method expecting a `List&lt;Something&gt;`; but this is flagged as unsafe because the compiler can&#39;t guarantee that it really is a `List&lt;Something&gt;` - there is nothing about the `List` that makes it a &quot;list of `Something`&quot;, because of type erasure. The compiler can insert a `checkcast` instruction to ensure it&#39;s a `List`; but not one to ensure it&#39;s a `List&lt;Something&gt;`: this fact is _unchecked_.\r\n\r\nWhat it&#39;s saying with the warning is &quot;there may be something wrong here; I just can&#39;t prove it&#39;s wrong&quot;. If you know for sure - by construction - that `filterResults.values` _really is_ a `List&lt;Investor&gt;`, casting it to `List&lt;Investor&gt;` is safe.\r\n\r\nYou should write the line as:\r\n\r\n```\r\ninvestorList.addAll((List&lt;Investor&gt;) filterResults.values);\r\n```\r\n\r\nNote that this will _still_ give you an unchecked cast warning, because it&#39;s still an unchecked cast - you just avoid the use of raw types as well.\r\n\r\nIf you feel confident in suppressing the warning, declare a variable, so you can suppress the warning specifically on that variable, rather than having to add the suppression to the method or class; and document _why_ it&#39;s safe to suppress there:\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;) // Safe because &lt;reason&gt;\r\nList&lt;Investor&gt; listOfInvestors = (List&lt;Investor&gt;) filterResults.values;\r\ninvestorList.addAll(listOfInvestors);\r\n```\r\n","title":"Unchecked assignment: &#39;java.util.List&#39; to &#39;java.util.Collection&lt;? extends manu.apps.lucemtrader.classes.Investor&gt;&#39;","body":"<blockquote>\n<p>I am getting Unchecked cast error in publish results investorList.addAll((List) filterResults.values);</p>\n</blockquote>\n<p>That's because you're doing an unchecked cast. Actually, you're doing both a checked <em>and</em> an unchecked cast there.</p>\n<p><code>(List) filterResults.values</code> is a <em>checked</em> cast. This means that the Java compiler will insert a <code>checkcast</code> instruction into the bytecode to ensure that <code>filterResults.values</code> (an <code>Object</code>) really is an instance of <code>List</code>.</p>\n<p>However, <code>investorList.addAll</code> expects a <code>List&lt;Investor&gt;</code>, not a <code>List</code>. <code>List</code> is a <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">raw type</a>. You can pass a raw-typed <code>List</code> to a method expecting a <code>List&lt;Something&gt;</code>; but this is flagged as unsafe because the compiler can't guarantee that it really is a <code>List&lt;Something&gt;</code> - there is nothing about the <code>List</code> that makes it a &quot;list of <code>Something</code>&quot;, because of type erasure. The compiler can insert a <code>checkcast</code> instruction to ensure it's a <code>List</code>; but not one to ensure it's a <code>List&lt;Something&gt;</code>: this fact is <em>unchecked</em>.</p>\n<p>What it's saying with the warning is &quot;there may be something wrong here; I just can't prove it's wrong&quot;. If you know for sure - by construction - that <code>filterResults.values</code> <em>really is</em> a <code>List&lt;Investor&gt;</code>, casting it to <code>List&lt;Investor&gt;</code> is safe.</p>\n<p>You should write the line as:</p>\n<pre><code>investorList.addAll((List&lt;Investor&gt;) filterResults.values);\n</code></pre>\n<p>Note that this will <em>still</em> give you an unchecked cast warning, because it's still an unchecked cast - you just avoid the use of raw types as well.</p>\n<p>If you feel confident in suppressing the warning, declare a variable, so you can suppress the warning specifically on that variable, rather than having to add the suppression to the method or class; and document <em>why</em> it's safe to suppress there:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;) // Safe because &lt;reason&gt;\nList&lt;Investor&gt; listOfInvestors = (List&lt;Investor&gt;) filterResults.values;\ninvestorList.addAll(listOfInvestors);\n</code></pre>\n"}],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69807828,"answer_count":1,"score":0,"last_activity_date":1635844214,"creation_date":1635843546,"question_id":69807684,"body_markdown":"I am having an adapter where i have two lists one list is for InvestorsList where it comes with the list of investors and the other list is called investorListFull which is used to filter results when searching.\r\n\r\nBelow is how i have declared the lists \r\n\r\n```\r\n List&lt;Investor&gt; investorList;\r\n List&lt;Investor&gt; investorListFull;\r\n\r\n```\r\nBelow is how the lists are assigned in my recyclerview adapter constructor\r\n\r\n```\r\n\r\npublic InvestorsAdapter(Context context, List&lt;Investor&gt; investorList) {\r\n\r\n        this.context = context;\r\n        this.investorList = investorList;\r\n\r\n        investorListFull = new ArrayList&lt;&gt;(investorList);\r\n\r\n    }\r\n\r\n```\r\n\r\nBelow is how i am filtering results in investors list \r\n\r\n```\r\npublic Filter getInvestorFilter() {\r\n        return investorFilter;\r\n    }\r\n\r\n    private final Filter investorFilter = new Filter() {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n            List&lt;Investor&gt; filteredList = new ArrayList&lt;&gt;();\r\n\r\n            if (constraint == null || constraint.length() == 0) {\r\n                filteredList.addAll(investorListFull);\r\n            } else {\r\n                String filterPattern = constraint.toString().toLowerCase().trim();\r\n\r\n                for (Investor investor : investorListFull) {\r\n\r\n                    if (investor.getUsername().toLowerCase().contains(filterPattern)) {\r\n                        filteredList.add(investor);\r\n                    }\r\n\r\n                    if (investor.getDateJoined().toLowerCase().contains(filterPattern)) {\r\n                        filteredList.add(investor);\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            FilterResults filterResults = new FilterResults();\r\n            filterResults.values = filteredList;\r\n\r\n            return filterResults;\r\n        }\r\n\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults filterResults) {\r\n            investorList.clear();\r\n            investorList.addAll((List) filterResults.values);\r\n            notifyDataSetChanged();\r\n        }\r\n    };\r\n\r\n```\r\nI am getting Unchecked assignment error in publish results investorList.addAll((List) filterResults.values);","title":"Unchecked assignment: &#39;java.util.List&#39; to &#39;java.util.Collection&lt;? extends manu.apps.lucemtrader.classes.Investor&gt;&#39;","body":"<p>I am having an adapter where i have two lists one list is for InvestorsList where it comes with the list of investors and the other list is called investorListFull which is used to filter results when searching.</p>\n<p>Below is how i have declared the lists</p>\n<pre><code> List&lt;Investor&gt; investorList;\n List&lt;Investor&gt; investorListFull;\n\n</code></pre>\n<p>Below is how the lists are assigned in my recyclerview adapter constructor</p>\n<pre><code>\npublic InvestorsAdapter(Context context, List&lt;Investor&gt; investorList) {\n\n        this.context = context;\n        this.investorList = investorList;\n\n        investorListFull = new ArrayList&lt;&gt;(investorList);\n\n    }\n\n</code></pre>\n<p>Below is how i am filtering results in investors list</p>\n<pre><code>public Filter getInvestorFilter() {\n        return investorFilter;\n    }\n\n    private final Filter investorFilter = new Filter() {\n        @Override\n        protected FilterResults performFiltering(CharSequence constraint) {\n            List&lt;Investor&gt; filteredList = new ArrayList&lt;&gt;();\n\n            if (constraint == null || constraint.length() == 0) {\n                filteredList.addAll(investorListFull);\n            } else {\n                String filterPattern = constraint.toString().toLowerCase().trim();\n\n                for (Investor investor : investorListFull) {\n\n                    if (investor.getUsername().toLowerCase().contains(filterPattern)) {\n                        filteredList.add(investor);\n                    }\n\n                    if (investor.getDateJoined().toLowerCase().contains(filterPattern)) {\n                        filteredList.add(investor);\n                    }\n\n                }\n            }\n\n            FilterResults filterResults = new FilterResults();\n            filterResults.values = filteredList;\n\n            return filterResults;\n        }\n\n        @Override\n        protected void publishResults(CharSequence constraint, FilterResults filterResults) {\n            investorList.clear();\n            investorList.addAll((List) filterResults.values);\n            notifyDataSetChanged();\n        }\n    };\n\n</code></pre>\n<p>I am getting Unchecked assignment error in publish results investorList.addAll((List) filterResults.values);</p>\n"},{"tags":["java","android","android-room"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635843663,"creation_date":1635843663,"answer_id":69807709,"question_id":69807643,"body_markdown":"In Java, fields are initialized before constructor is executed.\r\n\r\nYou&#39;re initializing `context` in your constructor but then trying to use it earlier when initializing the `database` field.\r\n\r\nOne way around it is to move the `database` setup in the constructor.","title":"How to make context not null in onCreate()?","body":"<p>In Java, fields are initialized before constructor is executed.</p>\n<p>You're initializing <code>context</code> in your constructor but then trying to use it earlier when initializing the <code>database</code> field.</p>\n<p>One way around it is to move the <code>database</code> setup in the constructor.</p>\n"},{"tags":[],"owner":{"account_id":5012020,"reputation":2682,"user_id":4028009,"display_name":"Evgeny  Bovykin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635843700,"creation_date":1635843700,"answer_id":69807714,"question_id":69807643,"body_markdown":"You are trying to initialize the `database` field before the `context` field. Even though you&#39;ve put it after the constructor, the initializing code is still executed before the constructor. You should do it like this\r\n\r\n    private Context context;\r\n    private TripDatabase database\r\n\r\n    private TripRepository(Context context) {\r\n        this.context = context;\r\n        this.database = Room.databaseBuilder(\r\n            context.getApplicationContext(),\r\n            TripDatabase.class,DATABASE_NAME).build();\r\n    }","title":"How to make context not null in onCreate()?","body":"<p>You are trying to initialize the <code>database</code> field before the <code>context</code> field. Even though you've put it after the constructor, the initializing code is still executed before the constructor. You should do it like this</p>\n<pre><code>private Context context;\nprivate TripDatabase database\n\nprivate TripRepository(Context context) {\n    this.context = context;\n    this.database = Room.databaseBuilder(\n        context.getApplicationContext(),\n        TripDatabase.class,DATABASE_NAME).build();\n}\n</code></pre>\n"}],"owner":{"account_id":14713897,"reputation":3,"user_id":10626424,"display_name":"j. Mortiem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69807714,"answer_count":2,"score":-1,"last_activity_date":1635844032,"creation_date":1635843384,"question_id":69807643,"body_markdown":"I&#39;m trying to get the context in the onCreate() method, to use in my RoomDb repository, but it keeps giving me a NullPointerException.\r\n\r\n```\r\n\r\nimport android.app.Application;\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport com.example.csc202assignment.database.TripRepository;\r\n\r\npublic class TripApplication extends Application {\r\n\r\n    @Override\r\n    public void onCreate(){\r\n        super.onCreate();\r\n        TripRepository.initialise(this);\r\n    }\r\n}\r\n```\r\n\r\nrepository\r\n```\r\nimport android.content.Context;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.room.Room;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n\r\npublic class TripRepository {\r\n    private static TripRepository INSTANCE = null;\r\n    private final String DATABASE_NAME = &quot;trip-database&quot;;\r\n    private Context context;\r\n\r\n    private TripRepository(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    //The NPE\r\n    TripDatabase database = Room.databaseBuilder(\r\n            context.getApplicationContext(),\r\n            TripDatabase.class,DATABASE_NAME).build();\r\n\r\n    TripDao tripDao = database.tripDao();\r\n\r\n    void deleteTrips(){\r\n        tripDao.deleteTrips();\r\n    }\r\n\r\n    void delete(Trip trip){\r\n        tripDao.delete(trip);\r\n    }\r\n\r\n    void insertTrip(Trip trip){\r\n        tripDao.insertTrip(trip);\r\n    }\r\n\r\n    void updateTrip(Trip trip){\r\n        tripDao.updateTrip(trip);\r\n    }\r\n\r\n    public LiveData&lt;List&lt;Trip&gt;&gt; getAll(){\r\n        return tripDao.getAll();\r\n    }\r\n\r\n    LiveData&lt;Trip&gt; getTrip(UUID id){\r\n        return tripDao.getTrip(id);\r\n    }\r\n\r\n    public static void initialise(Context context){\r\n        if(INSTANCE==null){\r\n            INSTANCE = new TripRepository(context);\r\n        }\r\n    }\r\n\r\n     public static TripRepository get() throws IllegalStateException {\r\n         try {\r\n             return INSTANCE;\r\n         } catch (IllegalStateException e) {\r\n             System.out.println(&quot;TripRepository must be initialised&quot;);\r\n         }\r\n         return INSTANCE;\r\n     }\r\n}\r\n```\r\n\r\nI&#39;ve tried to look through other explanations, but I just can&#39;t wrap my head around it. I&#39;ve tried GetApplicationContext, and this. I&#39;ve seen people saying to call the getApplicationContext at the end of the onCreate() method, but isn&#39;t that what I&#39;m doing?","title":"How to make context not null in onCreate()?","body":"<p>I'm trying to get the context in the onCreate() method, to use in my RoomDb repository, but it keeps giving me a NullPointerException.</p>\n<pre><code>\nimport android.app.Application;\nimport android.content.Context;\nimport android.os.Bundle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport com.example.csc202assignment.database.TripRepository;\n\npublic class TripApplication extends Application {\n\n    @Override\n    public void onCreate(){\n        super.onCreate();\n        TripRepository.initialise(this);\n    }\n}\n</code></pre>\n<p>repository</p>\n<pre><code>import android.content.Context;\n\nimport androidx.lifecycle.LiveData;\nimport androidx.room.Room;\n\nimport java.util.List;\nimport java.util.UUID;\n\n\npublic class TripRepository {\n    private static TripRepository INSTANCE = null;\n    private final String DATABASE_NAME = &quot;trip-database&quot;;\n    private Context context;\n\n    private TripRepository(Context context) {\n        this.context = context;\n    }\n\n    //The NPE\n    TripDatabase database = Room.databaseBuilder(\n            context.getApplicationContext(),\n            TripDatabase.class,DATABASE_NAME).build();\n\n    TripDao tripDao = database.tripDao();\n\n    void deleteTrips(){\n        tripDao.deleteTrips();\n    }\n\n    void delete(Trip trip){\n        tripDao.delete(trip);\n    }\n\n    void insertTrip(Trip trip){\n        tripDao.insertTrip(trip);\n    }\n\n    void updateTrip(Trip trip){\n        tripDao.updateTrip(trip);\n    }\n\n    public LiveData&lt;List&lt;Trip&gt;&gt; getAll(){\n        return tripDao.getAll();\n    }\n\n    LiveData&lt;Trip&gt; getTrip(UUID id){\n        return tripDao.getTrip(id);\n    }\n\n    public static void initialise(Context context){\n        if(INSTANCE==null){\n            INSTANCE = new TripRepository(context);\n        }\n    }\n\n     public static TripRepository get() throws IllegalStateException {\n         try {\n             return INSTANCE;\n         } catch (IllegalStateException e) {\n             System.out.println(&quot;TripRepository must be initialised&quot;);\n         }\n         return INSTANCE;\n     }\n}\n</code></pre>\n<p>I've tried to look through other explanations, but I just can't wrap my head around it. I've tried GetApplicationContext, and this. I've seen people saying to call the getApplicationContext at the end of the onCreate() method, but isn't that what I'm doing?</p>\n"},{"tags":["java","spring-boot","spring-data-rest"],"comments":[{"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"score":0,"creation_date":1634110402,"post_id":69550474,"comment_id":122934919,"body_markdown":"The fields &quot;idProperty&quot; and &quot;owner&quot; clearly have circular dependency and Renis1235 soultion is right","body":"The fields &quot;idProperty&quot; and &quot;owner&quot; clearly have circular dependency and Renis1235 soultion is right"},{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":0,"creation_date":1634110582,"post_id":69550474,"comment_id":122934974,"body_markdown":"Well there are no fields by that name in `Student` entity. So I am thinking it is an issue with the `PersistentEntityResourceAssembler`","body":"Well there are no fields by that name in <code>Student</code> entity. So I am thinking it is an issue with the <code>PersistentEntityResourceAssembler</code>"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634106395,"creation_date":1634106395,"answer_id":69550664,"question_id":69550474,"body_markdown":"Since you have an `infinite recursion` problem, it simply means that it is serializing the parent then its child and then the parent of the child and then the child again... Do you see where this is going? :)\r\n\r\nYou have not posted your `entities` so I cannot take a relevant example. But I would use [`@JsonManagedReference`][1] -&gt; Parent and [`@JsonBackReference`][2] -&gt; Child.\r\n\r\nTry annotating your Relationship Attributes with these two. For the serialization to work, one of the two sides of the relationship should not be serialized, in order to avoid the infinite loop that causes your StackOverflow error.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonManagedReference.html\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonBackReference.html","title":"Spring Boot 2.3.x - How to apply a projection in a custom @RestController?","body":"<p>Since you have an <code>infinite recursion</code> problem, it simply means that it is serializing the parent then its child and then the parent of the child and then the child again... Do you see where this is going? :)</p>\n<p>You have not posted your <code>entities</code> so I cannot take a relevant example. But I would use <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonManagedReference.html\" rel=\"nofollow noreferrer\"><code>@JsonManagedReference</code></a> -&gt; Parent and <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonBackReference.html\" rel=\"nofollow noreferrer\"><code>@JsonBackReference</code></a> -&gt; Child.</p>\n<p>Try annotating your Relationship Attributes with these two. For the serialization to work, one of the two sides of the relationship should not be serialized, in order to avoid the infinite loop that causes your StackOverflow error.</p>\n"},{"tags":[],"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635843999,"creation_date":1635843999,"answer_id":69807775,"question_id":69550474,"body_markdown":"For anyone having the same issue, I fixed it by upgrading to Spring Boot 2.5.5 and the code above now works ","title":"Spring Boot 2.3.x - How to apply a projection in a custom @RestController?","body":"<p>For anyone having the same issue, I fixed it by upgrading to Spring Boot 2.5.5 and the code above now works</p>\n"}],"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69807775,"answer_count":2,"score":0,"last_activity_date":1635843999,"creation_date":1634105101,"question_id":69550474,"body_markdown":"I am trying to apply projection on an entity returned from a custom controller annotated @RestController.\r\n\r\n    @RequestMapping(method = GET, value = &quot;customer-api/students/viewProfile&quot;)\r\n    public @ResponseBody\r\n    ResponseEntity&lt;?&gt; fetchProfile(PersistentEntityResourceAssembler resourceAssembler) {\r\n    \r\n        Student student = studentRepo.findByCreatedBy(accessToken.getSubject());\r\n    \r\n        if (student != null) {\r\n            return new ResponseEntity&lt;&gt;(resourceAssembler.toModel(student), HttpStatus.OK);\r\n        } else {\r\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.NOT_FOUND);\r\n        }\r\n    \r\n    }\r\n\r\nBut I am getting an infinite recursion exception\r\n\r\n    org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: org.springframework.data.jpa.mapping.JpaPersistentEntityImpl[&quot;idProperty&quot;]-&gt;org.springframework.data.jpa.mapping.JpaPersistentPropertyImpl[&quot;owner&quot;]-&gt;org.springframework.data.jpa.mapping.JpaPersistentEntityImpl[&quot;idProperty&quot;]-&gt;org.springframework.data.jpa.mapping.JpaPersistentPropertyImpl[&quot;owner&quot;]\r\n\r\nThis code works fine in Spring Boot 1.5.17 (I can apply projections and even get HAL formatted JSON) but it breaks in Spring 2.3.x.\r\n\r\nSo what I essentially want is the functionality of a Spring Data REST exported controller like projections and HAL formatted JSON. Is that possible to do in a custom controller?\r\n\r\nI found a similar question [here](https://stackoverflow.com/questions/63288211/reproducing-spring-data-rest-search-controllers-in-spring-boot-2-3) but it didnt help me.\r\n\r\n**Edit 1**:\r\n\r\nThere is no bi-directional relationship on Student entity. Also I am using the `PersistentEntityResourceAssembler` to assemble the Student entity for response body which will render any @ManyToOne association as links as explained by Oliver Gierke in this [answer](https://stackoverflow.com/a/31782016/4672556) so I am not sure how recursion is possible\r\n\r\n&gt; PersistentEntityResourceAssembler - which is usually injected into the\r\n&gt; controller method. It renders a single entity in a Spring Data REST\r\n&gt; way, which means that associations pointing to managed types will be\r\n&gt; rendered as links etc.","title":"Spring Boot 2.3.x - How to apply a projection in a custom @RestController?","body":"<p>I am trying to apply projection on an entity returned from a custom controller annotated @RestController.</p>\n<pre><code>@RequestMapping(method = GET, value = &quot;customer-api/students/viewProfile&quot;)\npublic @ResponseBody\nResponseEntity&lt;?&gt; fetchProfile(PersistentEntityResourceAssembler resourceAssembler) {\n\n    Student student = studentRepo.findByCreatedBy(accessToken.getSubject());\n\n    if (student != null) {\n        return new ResponseEntity&lt;&gt;(resourceAssembler.toModel(student), HttpStatus.OK);\n    } else {\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.NOT_FOUND);\n    }\n\n}\n</code></pre>\n<p>But I am getting an infinite recursion exception</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: org.springframework.data.jpa.mapping.JpaPersistentEntityImpl[&quot;idProperty&quot;]-&gt;org.springframework.data.jpa.mapping.JpaPersistentPropertyImpl[&quot;owner&quot;]-&gt;org.springframework.data.jpa.mapping.JpaPersistentEntityImpl[&quot;idProperty&quot;]-&gt;org.springframework.data.jpa.mapping.JpaPersistentPropertyImpl[&quot;owner&quot;]\n</code></pre>\n<p>This code works fine in Spring Boot 1.5.17 (I can apply projections and even get HAL formatted JSON) but it breaks in Spring 2.3.x.</p>\n<p>So what I essentially want is the functionality of a Spring Data REST exported controller like projections and HAL formatted JSON. Is that possible to do in a custom controller?</p>\n<p>I found a similar question <a href=\"https://stackoverflow.com/questions/63288211/reproducing-spring-data-rest-search-controllers-in-spring-boot-2-3\">here</a> but it didnt help me.</p>\n<p><strong>Edit 1</strong>:</p>\n<p>There is no bi-directional relationship on Student entity. Also I am using the <code>PersistentEntityResourceAssembler</code> to assemble the Student entity for response body which will render any @ManyToOne association as links as explained by Oliver Gierke in this <a href=\"https://stackoverflow.com/a/31782016/4672556\">answer</a> so I am not sure how recursion is possible</p>\n<blockquote>\n<p>PersistentEntityResourceAssembler - which is usually injected into the\ncontroller method. It renders a single entity in a Spring Data REST\nway, which means that associations pointing to managed types will be\nrendered as links etc.</p>\n</blockquote>\n"},{"tags":["java","interface","local-class"],"comments":[{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1391376421,"post_id":21516375,"comment_id":32485587,"body_markdown":"Why doesn&#39;t a local abstract class do the job?","body":"Why doesn&#39;t a local abstract class do the job?"},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1391376503,"post_id":21516375,"comment_id":32485621,"body_markdown":"@TedHopp It does. An interface would simply be &quot;cleaner&quot; (in my opinion). The only reason for the local class in my actual code is to have it implement two other interfaces (see http://stackoverflow.com/questions/21515693/instantiating-anonymous-inner-classes-in-java-with-additional-interface-implemen).","body":"@TedHopp It does. An interface would simply be &quot;cleaner&quot; (in my opinion). The only reason for the local class in my actual code is to have it implement two other interfaces (see <a href=\"http://stackoverflow.com/questions/21515693/instantiating-anonymous-inner-classes-in-java-with-additional-interface-implemen\" title=\"instantiating anonymous inner classes in java with additional interface implemen\">stackoverflow.com/questions/21515693/&hellip;</a>)."},{"owner":{"account_id":2555868,"reputation":10429,"user_id":2217862,"display_name":"Jakub Jirutka"},"score":0,"creation_date":1391376547,"post_id":21516375,"comment_id":32485634,"body_markdown":"Wow, I didn’t know that it’s even possible to define a local class inside a method. I’m just curious, does anyone know about some real-world example where this construct is actually useful?","body":"Wow, I didn’t know that it’s even possible to define a local class inside a method. I’m just curious, does anyone know about some real-world example where this construct is actually useful?"},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1391376613,"post_id":21516375,"comment_id":32485658,"body_markdown":"@JakubJirutka I use them for this: http://stackoverflow.com/questions/21515693/instantiating-anonymous-inner-classes-in-java-with-additional-interface-implemen","body":"@JakubJirutka I use them for this: <a href=\"http://stackoverflow.com/questions/21515693/instantiating-anonymous-inner-classes-in-java-with-additional-interface-implemen\" title=\"instantiating anonymous inner classes in java with additional interface implemen\">stackoverflow.com/questions/21515693/&hellip;</a>"},{"owner":{"account_id":1066525,"reputation":4900,"user_id":1066946,"accept_rate":100,"display_name":"Philipp Gayret"},"score":0,"creation_date":1391376701,"post_id":21516375,"comment_id":32485691,"body_markdown":"@JakubJirutka You can reference (final) variables from inside the local class. @ markus-a This is probably also the reason you can&#39;t define an interface there, as you might as well do it on class-level, or in a separate file, it adds nothing to define it in a function","body":"@JakubJirutka You can reference (final) variables from inside the local class. @ markus-a This is probably also the reason you can&#39;t define an interface there, as you might as well do it on class-level, or in a separate file, it adds nothing to define it in a function"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1391376722,"post_id":21516375,"comment_id":32485699,"body_markdown":"Note that having a local interface is not very useful from a caller point of view. It doesn&#39;t serve any purpose, see my edit.","body":"Note that having a local interface is not very useful from a caller point of view. It doesn&#39;t serve any purpose, see my edit."},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1391376932,"post_id":21516375,"comment_id":32485747,"body_markdown":"@user1066946,SotiriosD. It would keep my code cleaner as it prevents exposing the interface definition beyond the scope where it&#39;s useful/needed.","body":"@user1066946,SotiriosD. It would keep my code cleaner as it prevents exposing the interface definition beyond the scope where it&#39;s useful/needed."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1391377008,"post_id":21516375,"comment_id":32485775,"body_markdown":"But were you planning on using that interface for many local classes? Just declare it as a private member of your top level class.","body":"But were you planning on using that interface for many local classes? Just declare it as a private member of your top level class."},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1391377078,"post_id":21516375,"comment_id":32485797,"body_markdown":"@SotiriosDelimanolis As per your idea regarding my earlier question (http://stackoverflow.com/questions/21515693/instantiating-anonymous-inner-classes-in-java-with-additional-interface-implemen), I only want to use this local interface once to allow me to instantiate an anonymous inner class that implements two interfaces.","body":"@SotiriosDelimanolis As per your idea regarding my earlier question (<a href=\"http://stackoverflow.com/questions/21515693/instantiating-anonymous-inner-classes-in-java-with-additional-interface-implemen\" title=\"instantiating anonymous inner classes in java with additional interface implemen\">stackoverflow.com/questions/21515693/&hellip;</a>), I only want to use this local interface once to allow me to instantiate an anonymous inner class that implements two interfaces."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1391377156,"post_id":21516375,"comment_id":32485824,"body_markdown":"I think you&#39;re trying too hard to restrict the scope of the interface. Just make it a private member of the class. It&#39;s not bad design.","body":"I think you&#39;re trying too hard to restrict the scope of the interface. Just make it a private member of the class. It&#39;s not bad design."},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1391377344,"post_id":21516375,"comment_id":32485881,"body_markdown":"@SotiriosDelimanolis Probably true. Just makes Eclipse&#39;s auto-complete-suggestions longer... And I feel that being a bit &quot;anally retentive&quot; about these sorts of things is just one more thing that helps me write bug-free code even when projects get huge. :)","body":"@SotiriosDelimanolis Probably true. Just makes Eclipse&#39;s auto-complete-suggestions longer... And I feel that being a bit &quot;anally retentive&quot; about these sorts of things is just one more thing that helps me write bug-free code even when projects get huge. :)"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1391377463,"post_id":21516375,"comment_id":32485932,"body_markdown":"Then I&#39;d have to say don&#39;t write code to make it easier to work with your IDE. Write your code (following good design patterns) and choose an IDE that works well with it.","body":"Then I&#39;d have to say don&#39;t write code to make it easier to work with your IDE. Write your code (following good design patterns) and choose an IDE that works well with it."},{"owner":{"account_id":1066525,"reputation":4900,"user_id":1066946,"accept_rate":100,"display_name":"Philipp Gayret"},"score":0,"creation_date":1391377578,"post_id":21516375,"comment_id":32485971,"body_markdown":"@MarkusA. If you want bug free code, you probably want things to be testable, hidden inner classes won&#39;t help you with that. For making autocompletion feel fast in Eclipse, did you already change [this](http://3.bp.blogspot.com/-ARB9Q7jpoXI/UPWTf9iDUiI/AAAAAAAAAJk/Qcmm-mkWTog/s640/Setting.png)?","body":"@MarkusA. If you want bug free code, you probably want things to be testable, hidden inner classes won&#39;t help you with that. For making autocompletion feel fast in Eclipse, did you already change <a href=\"http://3.bp.blogspot.com/-ARB9Q7jpoXI/UPWTf9iDUiI/AAAAAAAAAJk/Qcmm-mkWTog/s640/Setting.png\" rel=\"nofollow noreferrer\">this</a>?"},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1391377864,"post_id":21516375,"comment_id":32486068,"body_markdown":"@user1066946 I shouldn&#39;t have brought up Eclipse... That really wasn&#39;t the reason behind this at all... What I meant to say was: &quot;Trying to limit access to any resources in my code to only the relevant scope helps me...&quot; And this local interface really just looks like `interface A extends B, C {}`. So there&#39;s nothing to test. I&#39;ll just use `abstract class A implements B, C {}` instead and done... :)","body":"@user1066946 I shouldn&#39;t have brought up Eclipse... That really wasn&#39;t the reason behind this at all... What I meant to say was: &quot;Trying to limit access to any resources in my code to only the relevant scope helps me...&quot; And this local interface really just looks like <code>interface A extends B, C {}</code>. So there&#39;s nothing to test. I&#39;ll just use <code>abstract class A implements B, C {}</code> instead and done... :)"},{"owner":{"account_id":1178010,"reputation":7642,"user_id":1153530,"accept_rate":80,"display_name":"Behe"},"score":0,"creation_date":1391381202,"post_id":21516375,"comment_id":32487119,"body_markdown":"How are you going to use the interface elsewhere?","body":"How are you going to use the interface elsewhere?"},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1391383402,"post_id":21516375,"comment_id":32487727,"body_markdown":"@Behe I won&#39;t and I shouldn&#39;t. That&#39;s exactly the point. ;) I only want to use it inside that method once to create an anonymous class instance of it. Then it&#39;ll never be used again.","body":"@Behe I won&#39;t and I shouldn&#39;t. That&#39;s exactly the point. ;) I only want to use it inside that method once to create an anonymous class instance of it. Then it&#39;ll never be used again."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1391376793,"creation_date":1391376198,"answer_id":21516417,"question_id":21516375,"body_markdown":"The Java Language Specification doesn&#39;t tell you why it was designed the way it was, but it does describe what is and what isn&#39;t allowed.\r\n\r\nA [method body][1] has the following form\r\n\r\n    MethodBody:\r\n        Block \r\n        ;\r\n\r\n[where `Block` is][2]\r\n\r\n    Block:\r\n        { BlockStatementsopt }\r\n    \r\n    BlockStatements:\r\n        BlockStatement\r\n        BlockStatements BlockStatement\r\n    \r\n    BlockStatement:\r\n        LocalVariableDeclarationStatement\r\n        ClassDeclaration\r\n        Statement\r\n\r\nSo a class declaration is allowed, but an interface isn&#39;t.\r\n\r\n\r\n----------\r\n\r\nWe can argue that having a local interface is not very useful from a caller point of view. It doesn&#39;t serve any purpose. An interface is meant to describe behavior, but since the interface would be local, no caller could make use of it. You could just as well define and implement the behavior in a class.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.7\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.2","title":"Is there such a thing as a &quot;local interface&quot; in Java?","body":"<p>The Java Language Specification doesn't tell you why it was designed the way it was, but it does describe what is and what isn't allowed.</p>\n\n<p>A <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.7\" rel=\"nofollow\">method body</a> has the following form</p>\n\n<pre><code>MethodBody:\n    Block \n    ;\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.2\" rel=\"nofollow\">where <code>Block</code> is</a></p>\n\n<pre><code>Block:\n    { BlockStatementsopt }\n\nBlockStatements:\n    BlockStatement\n    BlockStatements BlockStatement\n\nBlockStatement:\n    LocalVariableDeclarationStatement\n    ClassDeclaration\n    Statement\n</code></pre>\n\n<p>So a class declaration is allowed, but an interface isn't.</p>\n\n<hr>\n\n<p>We can argue that having a local interface is not very useful from a caller point of view. It doesn't serve any purpose. An interface is meant to describe behavior, but since the interface would be local, no caller could make use of it. You could just as well define and implement the behavior in a class.</p>\n"},{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1391381294,"creation_date":1391377680,"answer_id":21516677,"question_id":21516375,"body_markdown":"There simply isn&#39;t a definition for it in the JLS. It just doesn&#39;t exist.\r\n\r\nAs for a weak reason, according to the [JLS 14.3](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.3):\r\n\r\n&gt;All local classes are inner classes (&#167;8.1.3).\r\n\r\nAn interface can&#39;t be inner ([JLS 8.1.3](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.3)):\r\n\r\n&gt;Member interfaces (&#167;8.5) are implicitly static so they are never considered to be inner classes.\r\n\r\nSo we can&#39;t have a local interface.\r\n\r\nThis is, I guess, in addition to what @SotiriosDelimanolis has found that InterfaceDeclaration is not a BlockStatement.","title":"Is there such a thing as a &quot;local interface&quot; in Java?","body":"<p>There simply isn't a definition for it in the JLS. It just doesn't exist.</p>\n\n<p>As for a weak reason, according to the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.3\" rel=\"nofollow\">JLS 14.3</a>:</p>\n\n<blockquote>\n  <p>All local classes are inner classes (§8.1.3).</p>\n</blockquote>\n\n<p>An interface can't be inner (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.3\" rel=\"nofollow\">JLS 8.1.3</a>):</p>\n\n<blockquote>\n  <p>Member interfaces (§8.5) are implicitly static so they are never considered to be inner classes.</p>\n</blockquote>\n\n<p>So we can't have a local interface.</p>\n\n<p>This is, I guess, in addition to what @SotiriosDelimanolis has found that InterfaceDeclaration is not a BlockStatement.</p>\n"},{"tags":[],"owner":{"account_id":2628094,"reputation":304,"user_id":2274709,"display_name":"chrosciu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614088121,"creation_date":1614015256,"answer_id":66320618,"question_id":21516375,"body_markdown":"Local interfaces (and enums) have been introduced along record classes feature:\r\n- in JDK 15 as a preview feature (JEP 384) - see https://openjdk.java.net/jeps/384\r\n- in JDK 16 as a permanent feature (JEP 395) - see https://openjdk.java.net/jeps/395\r\n\r\nUnfortunately this feature is a little bit obscured in the documentation - but it works.\r\n\r\nBoth versions allow to write code like below:\r\n\r\n    public class Main {\r\n    \r\n        public int foo() {\r\n    \r\n            interface Experimentable {\r\n                int bar();\r\n            }\r\n    \r\n            Experimentable e = new Experimentable() {\r\n                @Override\r\n                public int bar() {\r\n                    return 0;\r\n                }\r\n            };\r\n    \r\n            return e.bar();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(new Main().foo());\r\n        }\r\n    \r\n    }\r\n\r\n    ","title":"Is there such a thing as a &quot;local interface&quot; in Java?","body":"<p>Local interfaces (and enums) have been introduced along record classes feature:</p>\n<ul>\n<li>in JDK 15 as a preview feature (JEP 384) - see <a href=\"https://openjdk.java.net/jeps/384\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/384</a></li>\n<li>in JDK 16 as a permanent feature (JEP 395) - see <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/395</a></li>\n</ul>\n<p>Unfortunately this feature is a little bit obscured in the documentation - but it works.</p>\n<p>Both versions allow to write code like below:</p>\n<pre><code>public class Main {\n\n    public int foo() {\n\n        interface Experimentable {\n            int bar();\n        }\n\n        Experimentable e = new Experimentable() {\n            @Override\n            public int bar() {\n                return 0;\n            }\n        };\n\n        return e.bar();\n    }\n\n    public static void main(String[] args) {\n        System.out.println(new Main().foo());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2480948,"reputation":1857,"user_id":2160440,"accept_rate":84,"display_name":"wlnirvana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635843867,"creation_date":1635843867,"answer_id":69807746,"question_id":21516375,"body_markdown":"Java now (starting from 16) supports [local interface](https://docs.oracle.com/javase/specs/jls/se16/html/jls-14.html#jls-14.3). \r\n\r\n&gt; A local interface is a nested interface (&#167;9 (Interfaces)) whose declaration is immediately contained by a block.\r\n\r\nAnd your (slightly corrected because `bar` implmentation must be public) code compiles just fine.\r\n\r\n```java\r\npublic class Foo {\r\n\r\n    public void foo() {\r\n        interface Bar {           // Bar was supposed to be a local interface...\r\n            void bar();\r\n        }\r\n\r\n        new Bar() {               // ... to be anonymously instantiated\r\n            public void bar() {\r\n                System.out.println(&quot;Bar!&quot;);\r\n            }\r\n        }.bar();\r\n    }\r\n}\r\n```\r\n\r\nCompilation:\r\n\r\n```bash\r\n~/tmp $ /usr/local/opt/java/bin/javac -version\r\njavac 17\r\n~/tmp $ /usr/local/opt/java/bin/javac Foo.java\r\n```","title":"Is there such a thing as a &quot;local interface&quot; in Java?","body":"<p>Java now (starting from 16) supports <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-14.html#jls-14.3\" rel=\"nofollow noreferrer\">local interface</a>.</p>\n<blockquote>\n<p>A local interface is a nested interface (§9 (Interfaces)) whose declaration is immediately contained by a block.</p>\n</blockquote>\n<p>And your (slightly corrected because <code>bar</code> implmentation must be public) code compiles just fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n\n    public void foo() {\n        interface Bar {           // Bar was supposed to be a local interface...\n            void bar();\n        }\n\n        new Bar() {               // ... to be anonymously instantiated\n            public void bar() {\n                System.out.println(&quot;Bar!&quot;);\n            }\n        }.bar();\n    }\n}\n</code></pre>\n<p>Compilation:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>~/tmp $ /usr/local/opt/java/bin/javac -version\njavac 17\n~/tmp $ /usr/local/opt/java/bin/javac Foo.java\n</code></pre>\n"}],"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2368,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21516677,"answer_count":4,"score":4,"last_activity_date":1635843867,"creation_date":1391375934,"question_id":21516375,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nJava allows me to define local abstract classes, like in this example:\r\n\r\n\tpublic class Foo {\r\n\t\t\r\n\t\tpublic void foo() {\r\n\t\t\tabstract class Bar {          // Bar is a local class in foo() ...\r\n\t\t\t\tabstract void bar();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnew Bar() {                   // ... and can be anonymously instantiated\r\n\t\t\t\tvoid bar() {\r\n\t\t\t\t\tSystem.out.println(&quot;Bar!&quot;);\r\n\t\t\t\t}\r\n\t\t\t}.bar();\r\n\t\t}\r\n\t}\r\n\r\nFor some reason, when I try to define a &quot;local interface&quot; instead of the local class, like this:\r\n\r\n\tpublic class Foo {\r\n\t\t\r\n\t\tpublic void foo() {\r\n\t\t\tinterface Bar {           // Bar was supposed to be a local interface...\r\n\t\t\t\tvoid bar();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnew Bar() {               // ... to be anonymously instantiated\r\n\t\t\t\tvoid bar() {\r\n\t\t\t\t\tSystem.out.println(&quot;Bar!&quot;);\r\n\t\t\t\t}\r\n\t\t\t}.bar();\r\n\t\t}\r\n\t}\r\n\r\nJava complains that &quot;The member interface Bar can only be defined inside a top-level class or interface&quot;. Is there a reason for this? Or am I missing a mistake I made?","title":"Is there such a thing as a &quot;local interface&quot; in Java?","body":"\n\n<p>Java allows me to define local abstract classes, like in this example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n\n    public void foo() {\n        abstract class Bar {          // Bar is a local class in foo() ...\n            abstract void bar();\n        }\n\n        new Bar() {                   // ... and can be anonymously instantiated\n            void bar() {\n                System.out.println(\"Bar!\");\n            }\n        }.bar();\n    }\n}\n</code></pre>\n\n<p>For some reason, when I try to define a \"local interface\" instead of the local class, like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n\n    public void foo() {\n        interface Bar {           // Bar was supposed to be a local interface...\n            void bar();\n        }\n\n        new Bar() {               // ... to be anonymously instantiated\n            void bar() {\n                System.out.println(\"Bar!\");\n            }\n        }.bar();\n    }\n}\n</code></pre>\n\n<p>Java complains that \"The member interface Bar can only be defined inside a top-level class or interface\". Is there a reason for this? Or am I missing a mistake I made?</p>\n"},{"tags":["java","elasticsearch","kibana"],"answers":[{"tags":[],"owner":{"account_id":1088632,"reputation":1422,"user_id":1083775,"accept_rate":60,"display_name":"samy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635843855,"creation_date":1635843855,"answer_id":69807744,"question_id":69805608,"body_markdown":"You could use the [Java Low Level REST Client][1] and pass your query body as string directly via this method:\r\n\r\n    request.setJsonEntity(&quot;{\\&quot;json\\&quot;:\\&quot;text\\&quot;}&quot;);\r\n\r\nIn general, the Low Level REST Client should be a bit faster because it doesn&#39;t serialize requests or parse responses. Drawbacks would be additional code and these query strings might be harder to maintain. That said, i understand that you would prefer passing query bodies directly as strings because the high level rest client is IMHO a bit unintuitive and overengineered. \r\n\r\nThe Low Level REST Client is providing you with load balancing across the available nodes and failover mechanics, and is used by the High Level REST Client under the hood.\r\n\r\nYou could also just use any HTTP client to directly talk to your Elasticsearch instance. I once worked on a c# project where we did just that after we realized that the overhead introduced by the high level .NET client was serious due to it using a lot of reflection. You then have to implement your own load balancing or failover strategies.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-low-usage-requests.html#java-rest-low-usage-requests","title":"Elasticsearch 7 - query with raw JSON of Kibana","body":"<p>You could use the <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-low-usage-requests.html#java-rest-low-usage-requests\" rel=\"nofollow noreferrer\">Java Low Level REST Client</a> and pass your query body as string directly via this method:</p>\n<pre><code>request.setJsonEntity(&quot;{\\&quot;json\\&quot;:\\&quot;text\\&quot;}&quot;);\n</code></pre>\n<p>In general, the Low Level REST Client should be a bit faster because it doesn't serialize requests or parse responses. Drawbacks would be additional code and these query strings might be harder to maintain. That said, i understand that you would prefer passing query bodies directly as strings because the high level rest client is IMHO a bit unintuitive and overengineered.</p>\n<p>The Low Level REST Client is providing you with load balancing across the available nodes and failover mechanics, and is used by the High Level REST Client under the hood.</p>\n<p>You could also just use any HTTP client to directly talk to your Elasticsearch instance. I once worked on a c# project where we did just that after we realized that the overhead introduced by the high level .NET client was serious due to it using a lot of reflection. You then have to implement your own load balancing or failover strategies.</p>\n"}],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69807744,"answer_count":1,"score":1,"last_activity_date":1635843855,"creation_date":1635829427,"question_id":69805608,"body_markdown":"Recently I&#39;ve started using the Elasticsearch (7.6.x) with Java backend (I&#39;m pretty much a beginner in ES) and I have a general question, I&#39;ve searched for that but didn&#39;t find an answer:\r\n\r\nMy workflow goes like this:\r\n\r\n1. I open kibana&#39;s dev tools console and come up with a query to search. Since the syntax is new to me, it takes some time. \r\n\r\n2. Then I have `RestHighLevelClient` in my DAO-s. I&#39;m trying to &quot;translate&quot; the query I&#39;ve created in kibana to numerous builders to build a query with java API. Obviously this also takes some effort.\r\n\r\nSo I was wondering whether there is a convenient API that allows me to execute the JSON query that I&#39;ve prepared during step 1 directly on ElasticSearch via the Java API. If it exists I could use some template engine to fill the placeholders, and execute the compiled template with applied placeholders resolution. I see a big advantage of this method because it will allow me to bypass my step &quot;2&quot; altogether...\r\n\r\nAn Example of Query in Kibana:\r\n\r\n~~~\r\nGET telemetry/_search\r\n{\r\n  \r\n  &quot;aggs&quot;: {\r\n    &quot;value&quot;: {\r\n      &quot;histogram&quot;: {\r\n        &quot;field&quot;: &quot;value&quot;,\r\n        &quot;interval&quot;: 50\r\n      }\r\n    }\r\n  }\r\n} \r\n~~~\r\n\r\nSo I could store the json file in my `src/main/resources` or something and since &quot;interval&quot; is a parameter, it could have looked like this:\r\n\r\n~~~\r\n{\r\n  \r\n  &quot;aggs&quot;: {\r\n    &quot;value&quot;: {\r\n      &quot;histogram&quot;: {\r\n        &quot;field&quot;: &quot;value&quot;,\r\n        &quot;interval&quot;: {{interval_param}}\r\n      }\r\n    }\r\n  }\r\n} \r\n~~~\r\nThen a template engine would compile the query (it can be done only once, but it doesn&#39;t really relate to the question) and the query json could be executed directly:\r\n\r\n~~~\r\nTemplateEngine engine ...\r\nString query = engine.compile(json_resource).execute(Map.of(&quot;interval_param&quot;, 50))\r\nAPI_THAT_IM_LOOKING_FOR.executeQuery(query, &quot;telemetry&quot;)\r\n~~~\r\n\r\nIf such an API exists what are the &quot;pro&quot; and &quot;contra&quot; of this approach? Will it be less performant as opposed to Java API? Will it have some security related constaints (stuff like SQL-like injection, etc)?","title":"Elasticsearch 7 - query with raw JSON of Kibana","body":"<p>Recently I've started using the Elasticsearch (7.6.x) with Java backend (I'm pretty much a beginner in ES) and I have a general question, I've searched for that but didn't find an answer:</p>\n<p>My workflow goes like this:</p>\n<ol>\n<li><p>I open kibana's dev tools console and come up with a query to search. Since the syntax is new to me, it takes some time.</p>\n</li>\n<li><p>Then I have <code>RestHighLevelClient</code> in my DAO-s. I'm trying to &quot;translate&quot; the query I've created in kibana to numerous builders to build a query with java API. Obviously this also takes some effort.</p>\n</li>\n</ol>\n<p>So I was wondering whether there is a convenient API that allows me to execute the JSON query that I've prepared during step 1 directly on ElasticSearch via the Java API. If it exists I could use some template engine to fill the placeholders, and execute the compiled template with applied placeholders resolution. I see a big advantage of this method because it will allow me to bypass my step &quot;2&quot; altogether...</p>\n<p>An Example of Query in Kibana:</p>\n<pre><code>GET telemetry/_search\n{\n  \n  &quot;aggs&quot;: {\n    &quot;value&quot;: {\n      &quot;histogram&quot;: {\n        &quot;field&quot;: &quot;value&quot;,\n        &quot;interval&quot;: 50\n      }\n    }\n  }\n} \n</code></pre>\n<p>So I could store the json file in my <code>src/main/resources</code> or something and since &quot;interval&quot; is a parameter, it could have looked like this:</p>\n<pre><code>{\n  \n  &quot;aggs&quot;: {\n    &quot;value&quot;: {\n      &quot;histogram&quot;: {\n        &quot;field&quot;: &quot;value&quot;,\n        &quot;interval&quot;: {{interval_param}}\n      }\n    }\n  }\n} \n</code></pre>\n<p>Then a template engine would compile the query (it can be done only once, but it doesn't really relate to the question) and the query json could be executed directly:</p>\n<pre><code>TemplateEngine engine ...\nString query = engine.compile(json_resource).execute(Map.of(&quot;interval_param&quot;, 50))\nAPI_THAT_IM_LOOKING_FOR.executeQuery(query, &quot;telemetry&quot;)\n</code></pre>\n<p>If such an API exists what are the &quot;pro&quot; and &quot;contra&quot; of this approach? Will it be less performant as opposed to Java API? Will it have some security related constaints (stuff like SQL-like injection, etc)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1635840566,"post_id":69806986,"comment_id":123393162,"body_markdown":"Why do you have 2 nested loops to print `!!` (so 3 in total)? That should basically work the same as printing `//` and `\\\\ `, just with decreasing frequency, so use just 1 loop.","body":"Why do you have 2 nested loops to print <code>!!</code> (so 3 in total)? That should basically work the same as printing <code>&#47;&#47;</code> and <code>\\\\ </code>, just with decreasing frequency, so use just 1 loop."},{"owner":{"account_id":10120056,"reputation":85,"user_id":7477288,"display_name":"Vens8"},"score":0,"creation_date":1635841400,"post_id":69806986,"comment_id":123393430,"body_markdown":"Please provide us with some sample cases if you have. For some reason, getting patterns of that format seems a little off when compared to the given input of 4 and corresponding output.","body":"Please provide us with some sample cases if you have. For some reason, getting patterns of that format seems a little off when compared to the given input of 4 and corresponding output."},{"owner":{"account_id":22902743,"reputation":21,"user_id":17041210,"display_name":"thorzos"},"score":0,"creation_date":1635841741,"post_id":69806986,"comment_id":123393545,"body_markdown":"@Thomas You&#39;re right... I thought I had to loop once for the length of the !!s and then again for the actual print of the !!s. I&#39;ll try one for-loop!","body":"@Thomas You&#39;re right... I thought I had to loop once for the length of the !!s and then again for the actual print of the !!s. I&#39;ll try one for-loop!"},{"owner":{"account_id":22902743,"reputation":21,"user_id":17041210,"display_name":"thorzos"},"score":0,"creation_date":1635841800,"post_id":69806986,"comment_id":123393579,"body_markdown":"@Vens8 oh my bad, the input is 6 actually with that output. I&#39;m sorry!","body":"@Vens8 oh my bad, the input is 6 actually with that output. I&#39;m sorry!"},{"owner":{"account_id":10120056,"reputation":85,"user_id":7477288,"display_name":"Vens8"},"score":0,"creation_date":1635842599,"post_id":69806986,"comment_id":123393887,"body_markdown":"@thorzos Ahh that makes more sense, cool np","body":"@thorzos Ahh that makes more sense, cool np"}],"answers":[{"tags":[],"owner":{"display_name":"user13963867"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635841351,"creation_date":1635840843,"answer_id":69807162,"question_id":69806986,"body_markdown":"You may use the [repeat method](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#repeat(int)) of class String to simplify the code. Then it&#39;s just a matter of counting how many characters you need.\r\n\r\n    public class Pyramid {\r\n        public static void main(String[] args) {\r\n            int n = 6;\r\n            if (args.length &gt; 0) {\r\n                n = Integer.parseInt(args[0]);\r\n            }\r\n            \r\n            for (int i = 0; i &lt; n; i++) {\r\n                System.out.println(&quot;\\\\\\\\&quot;.repeat(i) + &quot;!!&quot;.repeat(2 * (n - i) - 1) + &quot;//&quot;.repeat(i));\r\n            }\r\n        }\r\n    }\r\n    \r\n    java Pyramid\r\n    \r\n    !!!!!!!!!!!!!!!!!!!!!!\r\n    \\\\!!!!!!!!!!!!!!!!!!//\r\n    \\\\\\\\!!!!!!!!!!!!!!////\r\n    \\\\\\\\\\\\!!!!!!!!!!//////\r\n    \\\\\\\\\\\\\\\\!!!!!!////////\r\n    \\\\\\\\\\\\\\\\\\\\!!//////////\r\n\r\nOf course, you can still replace the calls to `repeat` with `for` loops, and you should see the problem now: you don&#39;t need two nested loops for the middle `!!` characters.\r\n\r\n    public class Pyramid {\r\n        public static void main(String[] args) {\r\n            int n = 6;\r\n            if (args.length &gt; 0) {\r\n                n = Integer.parseInt(args[0]);\r\n            }\r\n     \r\n            for (int i = 0; i &lt; n; i++) {\r\n    \r\n                // Left side slashes\r\n                for (int j = 0; j &lt; i; j++) {\r\n                    System.out.print(&quot;\\\\\\\\&quot;);\r\n                }\r\n                \r\n                for (int j = 2 * (n - i) - 1; j &gt; 0; j--) {\r\n                    System.out.print(&quot;!!&quot;);\r\n                }\r\n    \r\n                // Right side slashes \r\n                for (int j = 0; j &lt; i; j++) {\r\n                    System.out.print(&quot;//&quot;);\r\n                }\r\n    \r\n                // Line break\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Reverse pyramid java pattern with &quot;!!&quot;","body":"<p>You may use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\">repeat method</a> of class String to simplify the code. Then it's just a matter of counting how many characters you need.</p>\n<pre><code>public class Pyramid {\n    public static void main(String[] args) {\n        int n = 6;\n        if (args.length &gt; 0) {\n            n = Integer.parseInt(args[0]);\n        }\n        \n        for (int i = 0; i &lt; n; i++) {\n            System.out.println(&quot;\\\\\\\\&quot;.repeat(i) + &quot;!!&quot;.repeat(2 * (n - i) - 1) + &quot;//&quot;.repeat(i));\n        }\n    }\n}\n\njava Pyramid\n\n!!!!!!!!!!!!!!!!!!!!!!\n\\\\!!!!!!!!!!!!!!!!!!//\n\\\\\\\\!!!!!!!!!!!!!!////\n\\\\\\\\\\\\!!!!!!!!!!//////\n\\\\\\\\\\\\\\\\!!!!!!////////\n\\\\\\\\\\\\\\\\\\\\!!//////////\n</code></pre>\n<p>Of course, you can still replace the calls to <code>repeat</code> with <code>for</code> loops, and you should see the problem now: you don't need two nested loops for the middle <code>!!</code> characters.</p>\n<pre><code>public class Pyramid {\n    public static void main(String[] args) {\n        int n = 6;\n        if (args.length &gt; 0) {\n            n = Integer.parseInt(args[0]);\n        }\n \n        for (int i = 0; i &lt; n; i++) {\n\n            // Left side slashes\n            for (int j = 0; j &lt; i; j++) {\n                System.out.print(&quot;\\\\\\\\&quot;);\n            }\n            \n            for (int j = 2 * (n - i) - 1; j &gt; 0; j--) {\n                System.out.print(&quot;!!&quot;);\n            }\n\n            // Right side slashes \n            for (int j = 0; j &lt; i; j++) {\n                System.out.print(&quot;//&quot;);\n            }\n\n            // Line break\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22902743,"reputation":21,"user_id":17041210,"display_name":"thorzos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635842777,"creation_date":1635842777,"answer_id":69807523,"question_id":69806986,"body_markdown":"I got it right this time. Thanks a lot @Thomas\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n      \tint input = 4;\r\n        for (int i = 0; i &lt; input; i++){\r\n        \t\r\n            for (int j = 1; j &lt;= i; j++){\r\n                System.out.print(&quot;\\\\\\\\&quot;);\r\n            }\r\n            \r\n            for (int j = (input*2-1) - (2*i); j &gt; 0; j--){\r\n            \tSystem.out.print(&quot;!!&quot;);\r\n            }\r\n            \r\n            for (int j = 1; j &lt;= i; j++){\r\n                System.out.print(&quot;//&quot;);\r\n            }\r\n            \r\n            System.out.println();\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Reverse pyramid java pattern with &quot;!!&quot;","body":"<p>I got it right this time. Thanks a lot @Thomas</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    int input = 4;\n    for (int i = 0; i &lt; input; i++){\n        \n        for (int j = 1; j &lt;= i; j++){\n            System.out.print(&quot;\\\\\\\\&quot;);\n        }\n        \n        for (int j = (input*2-1) - (2*i); j &gt; 0; j--){\n            System.out.print(&quot;!!&quot;);\n        }\n        \n        for (int j = 1; j &lt;= i; j++){\n            System.out.print(&quot;//&quot;);\n        }\n        \n        System.out.println();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17223316"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635842858,"creation_date":1635842858,"answer_id":69807542,"question_id":69806986,"body_markdown":"Try this.\r\n\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        int n = 6;\r\n        for (int i = 0, excl = n * 4 - 2, slash = 0; i &lt; n; ++i, excl -= 4, slash += 2)\r\n            System.out.println(&quot;\\\\&quot;.repeat(slash) + &quot;!&quot;.repeat(excl) + &quot;/&quot;.repeat(slash));\r\n    }\r\n\r\n\r\noutput:\r\n\r\n    !!!!!!!!!!!!!!!!!!!!!!\r\n    \\\\!!!!!!!!!!!!!!!!!!//\r\n    \\\\\\\\!!!!!!!!!!!!!!////\r\n    \\\\\\\\\\\\!!!!!!!!!!//////\r\n    \\\\\\\\\\\\\\\\!!!!!!////////\r\n    \\\\\\\\\\\\\\\\\\\\!!//////////\r\n\r\n","title":"Reverse pyramid java pattern with &quot;!!&quot;","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) throws Exception{\n    int n = 6;\n    for (int i = 0, excl = n * 4 - 2, slash = 0; i &lt; n; ++i, excl -= 4, slash += 2)\n        System.out.println(&quot;\\\\&quot;.repeat(slash) + &quot;!&quot;.repeat(excl) + &quot;/&quot;.repeat(slash));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>!!!!!!!!!!!!!!!!!!!!!!\n\\\\!!!!!!!!!!!!!!!!!!//\n\\\\\\\\!!!!!!!!!!!!!!////\n\\\\\\\\\\\\!!!!!!!!!!//////\n\\\\\\\\\\\\\\\\!!!!!!////////\n\\\\\\\\\\\\\\\\\\\\!!//////////\n</code></pre>\n"}],"owner":{"account_id":22902743,"reputation":21,"user_id":17041210,"display_name":"thorzos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1635842858,"creation_date":1635839877,"question_id":69806986,"body_markdown":"I want to make this pattern:\r\n\r\n    !!!!!!!!!!!!!!!!!!!!!!\r\n    \\\\!!!!!!!!!!!!!!!!!!//\r\n    \\\\\\\\!!!!!!!!!!!!!!////\r\n    \\\\\\\\\\\\!!!!!!!!!!//////\r\n    \\\\\\\\\\\\\\\\!!!!!!////////\r\n    \\\\\\\\\\\\\\\\\\\\!!//////////\r\n\r\nHow would you go about it?&lt;br&gt;\r\nI first made the left side like this:&lt;br&gt;\r\n\r\n    for (j = 1; j &lt;= i; j++ ){\r\n        System.out.print(&quot;\\\\\\\\&quot;);\r\n    }\r\nThen I made the right side like this:&lt;br&gt;\r\n\r\n    for (j = 1; j &lt;= i; j++ ){\r\n        System.out.print(&quot;//&quot;);\r\n    }\r\n\r\nBoth for-loops are in a for-loop like this:\r\n\r\n    public static void main(String[] args) {\r\n      \t//input should be customizable, like 4, 6, 8, 43 and so on\r\n        int input = 4;\r\n        for (int i = 0; i &lt; input; i++){\r\n\r\n        \t//left side slashes\r\n            for (int j = 1; j &lt;= i; j++ ){\r\n                System.out.print(&quot;\\\\\\\\&quot;);\r\n            }\r\n            //Here is the problem. It almost works like supposed to, just a on Line 2 appears 1 &quot;!!&quot; to much, then on line 1 there is 2 &quot;!!&quot; too much.\r\n            for (int k = input - i; k &gt; 0; k--){\r\n        \t    for(int l = 0; l &lt; k; l++){\r\n            \t    System.out.print(&quot;!!&quot;);\r\n                }\r\n            }\r\n\r\n            //right side slashes \r\n            for (int j = 1; j &lt;= i; j++ ){\r\n                System.out.print(&quot;//&quot;);\r\n            }\r\n            //Line breaks\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n","title":"Reverse pyramid java pattern with &quot;!!&quot;","body":"<p>I want to make this pattern:</p>\n<pre><code>!!!!!!!!!!!!!!!!!!!!!!\n\\\\!!!!!!!!!!!!!!!!!!//\n\\\\\\\\!!!!!!!!!!!!!!////\n\\\\\\\\\\\\!!!!!!!!!!//////\n\\\\\\\\\\\\\\\\!!!!!!////////\n\\\\\\\\\\\\\\\\\\\\!!//////////\n</code></pre>\n<p>How would you go about it?<br>\nI first made the left side like this:<br></p>\n<pre><code>for (j = 1; j &lt;= i; j++ ){\n    System.out.print(&quot;\\\\\\\\&quot;);\n}\n</code></pre>\n<p>Then I made the right side like this:<br></p>\n<pre><code>for (j = 1; j &lt;= i; j++ ){\n    System.out.print(&quot;//&quot;);\n}\n</code></pre>\n<p>Both for-loops are in a for-loop like this:</p>\n<pre><code>public static void main(String[] args) {\n    //input should be customizable, like 4, 6, 8, 43 and so on\n    int input = 4;\n    for (int i = 0; i &lt; input; i++){\n\n        //left side slashes\n        for (int j = 1; j &lt;= i; j++ ){\n            System.out.print(&quot;\\\\\\\\&quot;);\n        }\n        //Here is the problem. It almost works like supposed to, just a on Line 2 appears 1 &quot;!!&quot; to much, then on line 1 there is 2 &quot;!!&quot; too much.\n        for (int k = input - i; k &gt; 0; k--){\n            for(int l = 0; l &lt; k; l++){\n                System.out.print(&quot;!!&quot;);\n            }\n        }\n\n        //right side slashes \n        for (int j = 1; j &lt;= i; j++ ){\n            System.out.print(&quot;//&quot;);\n        }\n        //Line breaks\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","swt"],"comments":[{"owner":{"account_id":13559602,"reputation":163,"user_id":9781834,"display_name":"Alex"},"score":0,"creation_date":1692897836,"post_id":67438591,"comment_id":135690115,"body_markdown":"Did you end up finding a solution for this issue?","body":"Did you end up finding a solution for this issue?"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635842570,"creation_date":1635842570,"answer_id":69807480,"question_id":67438591,"body_markdown":"CentOS? Install gtk using `yum install gtk3`, it will provide loading of swt.","title":"java.lang.UnsatisfiedLinkError: no swt-pi-gtk-2024 or swt-motif-2024 in java.library.path","body":"<p>CentOS? Install gtk using <code>yum install gtk3</code>, it will provide loading of swt.</p>\n"}],"owner":{"account_id":18067133,"reputation":41,"user_id":13132688,"display_name":"The_Ace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4773,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1635842570,"creation_date":1620404753,"question_id":67438591,"body_markdown":"When running a maven build using the maven surefire plugin I get the following error:\r\n\r\n    java.lang.UnsatisfiedLinkError: Could not load SWT library:\r\n    no swt-pi4-gtk-4934r6 in java.library.path\r\n    \tno swt-pi4-gtk in java.library.path\r\n    \tCan&#39;t load library: /user_directory/.swt/lib/linux/x86_64/libswt-pi4-gtk-4934r6.so\r\n    \tCan&#39;t load library: /user_directory/.swt/lib/linux/x86_64/libswt-pi4-gtk.so\r\n\r\nWhen trying to run integration tests. When I go to /user_directory/.swt/lib/linux/x86_64/ on our linux server I see several libswt-pi3-gtk-xxx.so but no pi4. Is there a way to have it use the pi3 swt that are already available. It&#39;s a company server so I can&#39;t add external software to it.\r\n\r\nIt&#39;s grabbing swt plugins from https://download.eclipse.org/releases/2020-06/202006171000/plugins/ so its grabbing the 3.114.100 version of org.eclipse.swt plugins.\r\n\r\n","title":"java.lang.UnsatisfiedLinkError: no swt-pi-gtk-2024 or swt-motif-2024 in java.library.path","body":"<p>When running a maven build using the maven surefire plugin I get the following error:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: Could not load SWT library:\nno swt-pi4-gtk-4934r6 in java.library.path\n    no swt-pi4-gtk in java.library.path\n    Can't load library: /user_directory/.swt/lib/linux/x86_64/libswt-pi4-gtk-4934r6.so\n    Can't load library: /user_directory/.swt/lib/linux/x86_64/libswt-pi4-gtk.so\n</code></pre>\n<p>When trying to run integration tests. When I go to /user_directory/.swt/lib/linux/x86_64/ on our linux server I see several libswt-pi3-gtk-xxx.so but no pi4. Is there a way to have it use the pi3 swt that are already available. It's a company server so I can't add external software to it.</p>\n<p>It's grabbing swt plugins from <a href=\"https://download.eclipse.org/releases/2020-06/202006171000/plugins/\" rel=\"nofollow noreferrer\">https://download.eclipse.org/releases/2020-06/202006171000/plugins/</a> so its grabbing the 3.114.100 version of org.eclipse.swt plugins.</p>\n"},{"tags":["java","hibernate","jdbc","firebird","jaybird"],"comments":[{"owner":{"account_id":2219344,"reputation":2642,"user_id":1959181,"display_name":"Edgard Leal"},"score":0,"creation_date":1393357114,"post_id":22024153,"comment_id":33387138,"body_markdown":"You lost connection: http://www.firebirdfaq.org/faq96/","body":"You lost connection: <a href=\"http://www.firebirdfaq.org/faq96/\" rel=\"nofollow noreferrer\">firebirdfaq.org/faq96</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1393357232,"post_id":22024153,"comment_id":33387242,"body_markdown":"Check the firebird.log of the server for errors around the time the application threw this error. Also: please include the full stacktrace if possible.","body":"Check the firebird.log of the server for errors around the time the application threw this error. Also: please include the full stacktrace if possible."}],"answers":[{"tags":[],"owner":{"account_id":3925546,"reputation":1220,"user_id":3246177,"accept_rate":25,"display_name":"renke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393356744,"creation_date":1393356744,"answer_id":22024319,"question_id":22024153,"body_markdown":"You&#39;re not being able to connect to the database. The code 335544721 is a result of an active denial of access, that may be caused by a variety of elements, such as bad login, firewall rules avoiding the connection or antivirus blockage","title":"Unexpected GDS Exception: 335544726. Error reading data from the connection","body":"<p>You're not being able to connect to the database. The code 335544721 is a result of an active denial of access, that may be caused by a variety of elements, such as bad login, firewall rules avoiding the connection or antivirus blockage</p>\n"},{"tags":[],"owner":{"account_id":3940173,"reputation":198,"user_id":3254929,"display_name":"Erick Sperandio"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1397836606,"creation_date":1397836606,"answer_id":23157676,"question_id":22024153,"body_markdown":"After some research and tests, I&#39;ve got to understand what was happening.\r\n\r\nThe problem was happening when a user was performing a specific search in the app using a string with size greater than the target table field&#39;s size. So, when the system executed the HQL query with the string input as a parameter, the system crashed down - like when comparing a string with length 20 to a varchar(18) field.\r\n\r\nThe solution was simple: limit the size of the input string in the search field. \r\n\r\nHope this helps anyone in the future.","title":"Unexpected GDS Exception: 335544726. Error reading data from the connection","body":"<p>After some research and tests, I've got to understand what was happening.</p>\n\n<p>The problem was happening when a user was performing a specific search in the app using a string with size greater than the target table field's size. So, when the system executed the HQL query with the string input as a parameter, the system crashed down - like when comparing a string with length 20 to a varchar(18) field.</p>\n\n<p>The solution was simple: limit the size of the input string in the search field. </p>\n\n<p>Hope this helps anyone in the future.</p>\n"},{"tags":[],"owner":{"account_id":7432304,"reputation":714,"user_id":5652797,"display_name":"Maxim Votyakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449557869,"creation_date":1449557869,"answer_id":34149798,"question_id":22024153,"body_markdown":"I also had a similar problem, in my case it happened because I used LIKE condition and together with two &quot;%&quot; signs the length of parameter exceeded the length of the field.\r\n\r\nSo, for example, if I have a table:\r\n\r\n    create table TEST (name varchar(5) default &#39;&#39; not null);\r\n\r\nWhen I try to search by the following condition and have parameter param1 = &#39;%name1%&#39; (as you see &#39;name1&#39; is valid for varchar(5) field):\r\n\r\n    select * from TEST where name like :param1;\r\n\r\nI have the same error in hibernate, and after this error I cannot execute any queries, probably because hibernate session is broken. \r\n\r\nHope it may help somebody.","title":"Unexpected GDS Exception: 335544726. Error reading data from the connection","body":"<p>I also had a similar problem, in my case it happened because I used LIKE condition and together with two \"%\" signs the length of parameter exceeded the length of the field.</p>\n\n<p>So, for example, if I have a table:</p>\n\n<pre><code>create table TEST (name varchar(5) default '' not null);\n</code></pre>\n\n<p>When I try to search by the following condition and have parameter param1 = '%name1%' (as you see 'name1' is valid for varchar(5) field):</p>\n\n<pre><code>select * from TEST where name like :param1;\n</code></pre>\n\n<p>I have the same error in hibernate, and after this error I cannot execute any queries, probably because hibernate session is broken. </p>\n\n<p>Hope it may help somebody.</p>\n"},{"tags":[],"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499779453,"creation_date":1499779453,"answer_id":45035860,"question_id":22024153,"body_markdown":"I solved it by restarting the FirebirdGuardianService on the server. ","title":"Unexpected GDS Exception: 335544726. Error reading data from the connection","body":"<p>I solved it by restarting the FirebirdGuardianService on the server. </p>\n"},{"tags":[],"owner":{"account_id":6450046,"reputation":115,"user_id":4997262,"display_name":"Robson Benedito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635842296,"creation_date":1635842296,"answer_id":69807434,"question_id":22024153,"body_markdown":"you can solve this discarding the connection and not reusing it. \r\n\r\nthe problem happen when you use the same connection sometimes and the driver/firebird stop producing the correct answer. \r\n\r\nIn my experience, if you use the same connection to run more than 500 times (in 500 queryes) even after commiting transaction and keep the transaction open you are a strong candidate to get this problem.\r\n\r\nso what you can do to create a counter and after it gets bigger than 500 close the current transaction and create a new one. \r\n\r\nyou have to pay attention when it has DML commands in the current transactions [e.g. update, delete]. If you close the transaction with those commands you have be careful with the integrity of the whole operation. \r\n","title":"Unexpected GDS Exception: 335544726. Error reading data from the connection","body":"<p>you can solve this discarding the connection and not reusing it.</p>\n<p>the problem happen when you use the same connection sometimes and the driver/firebird stop producing the correct answer.</p>\n<p>In my experience, if you use the same connection to run more than 500 times (in 500 queryes) even after commiting transaction and keep the transaction open you are a strong candidate to get this problem.</p>\n<p>so what you can do to create a counter and after it gets bigger than 500 close the current transaction and create a new one.</p>\n<p>you have to pay attention when it has DML commands in the current transactions [e.g. update, delete]. If you close the transaction with those commands you have be careful with the integrity of the whole operation.</p>\n"}],"owner":{"account_id":3940173,"reputation":198,"user_id":3254929,"display_name":"Erick Sperandio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7966,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23157676,"answer_count":5,"score":1,"last_activity_date":1635842296,"creation_date":1393356306,"question_id":22024153,"body_markdown":"I have a Web app running on Apache Tomcat 6, using ZK, Hibernate and Jaybird JDBC for accessing a Firebird database. For some unknown reason, after a not yet mapped operation in the app that performs a dynamic SQL, it crashes with the following exception:\r\n\r\n&gt;&gt;ERROR: org.springframework.transaction.TransactionSystemException: Could not roll back JPA transaction; nested exception is javax.persistence.PersistenceException: unexpected error when rollbacking\r\n&gt;&gt;    javax.persistence.PersistenceException: unexpected error when rollbacking org.hibernate.TransactionException: JDBC rollback failed [SQL: 335544726, HY000]\r\n&gt;&gt;    org.firebirdsql.jdbc.FBSQLException: GDS Exception. 335544726. Error reading data from the connection.\r\n\r\n&gt;&gt;    Reason: Error reading data from the connection.\r\n&gt;&gt;    ...\r\n\r\nThen, any operation performed by the user after it causes the following error:\r\n\r\n&gt;&gt;    ERROR: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute query\r\n&gt;&gt;org.hibernate.exception.GenericJDBCException: could not execute query\r\n[SQL: 335544721, HY000]\r\n&gt;&gt;org.firebirdsql.jdbc.FBSQLException: GDS Exception. 335544721. Unable to complete network request to host &quot;&quot;.\r\n&gt;&gt;Reason: Unable to complete network request to host &quot;&quot;.\r\n\r\nAnd the system crashes down, like if it had lost the connection with the database.\r\n\r\nHas anyone experienced it before? \r\n\r\n","title":"Unexpected GDS Exception: 335544726. Error reading data from the connection","body":"<p>I have a Web app running on Apache Tomcat 6, using ZK, Hibernate and Jaybird JDBC for accessing a Firebird database. For some unknown reason, after a not yet mapped operation in the app that performs a dynamic SQL, it crashes with the following exception:</p>\n\n<blockquote>\n  <blockquote>\n    <p>ERROR: org.springframework.transaction.TransactionSystemException: Could not roll back JPA transaction; nested exception is javax.persistence.PersistenceException: unexpected error when rollbacking\n       javax.persistence.PersistenceException: unexpected error when rollbacking org.hibernate.TransactionException: JDBC rollback failed [SQL: 335544726, HY000]\n       org.firebirdsql.jdbc.FBSQLException: GDS Exception. 335544726. Error reading data from the connection.</p>\n    \n    <p>Reason: Error reading data from the connection.\n       ...</p>\n  </blockquote>\n</blockquote>\n\n<p>Then, any operation performed by the user after it causes the following error:</p>\n\n<blockquote>\n  <blockquote>\n    <p>ERROR: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute query\n    org.hibernate.exception.GenericJDBCException: could not execute query\n    [SQL: 335544721, HY000]\n    org.firebirdsql.jdbc.FBSQLException: GDS Exception. 335544721. Unable to complete network request to host \"\".\n    Reason: Unable to complete network request to host \"\".</p>\n  </blockquote>\n</blockquote>\n\n<p>And the system crashes down, like if it had lost the connection with the database.</p>\n\n<p>Has anyone experienced it before? </p>\n"},{"tags":["java","sql"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635813489,"creation_date":1635813489,"answer_id":69804207,"question_id":69804111,"body_markdown":"Change &quot;select *&quot; to &quot;select count(*)&quot; and use\r\n`Prepared statement.executeQuery()` instead of \r\n`Prepared statement execute()`\r\n\r\nThen the return value will be a ResultSet, from which you can get the count.\r\n\r\n\r\n```\r\nString sqlCheck = &quot;SELECT count(*) FROM appointments WHERE User_ID = ? and Start BETWEEN NOW() AND ADDDATE(NOW(), INTERVAL 15 MINUTE);&quot;;     \r\n   \r\nPreparedStatement ps = JDBC.getConnection().prepareStatement(sqlCheck);    \r\n\r\nps.setInt(1, userID);        \r\n\r\nResultSet rs = ps.executeQuery();    \r\n\r\nrs.next();\r\n\r\nreturn rs.getInt(1) &gt; 0;\r\n\r\n```","title":"How do I format a method for a SQL query that retrieves 0 rows?","body":"<p>Change &quot;select <em>&quot; to &quot;select count(</em>)&quot; and use\n<code>Prepared statement.executeQuery()</code> instead of\n<code>Prepared statement execute()</code></p>\n<p>Then the return value will be a ResultSet, from which you can get the count.</p>\n<pre><code>String sqlCheck = &quot;SELECT count(*) FROM appointments WHERE User_ID = ? and Start BETWEEN NOW() AND ADDDATE(NOW(), INTERVAL 15 MINUTE);&quot;;     \n   \nPreparedStatement ps = JDBC.getConnection().prepareStatement(sqlCheck);    \n\nps.setInt(1, userID);        \n\nResultSet rs = ps.executeQuery();    \n\nrs.next();\n\nreturn rs.getInt(1) &gt; 0;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635814147,"creation_date":1635813723,"answer_id":69804232,"question_id":69804111,"body_markdown":"In the [Java Doc][1], you have this : \r\n\r\n&gt; `boolean execute() throws SQLException` \r\n&gt; Executes the SQL statement in this PreparedStatement object, which may be any kind of SQL statement. Some\r\n&gt; prepared statements return multiple results; the execute method\r\n&gt; handles these complex statements as well as the simpler form of\r\n&gt; statements handled by the methods executeQuery and executeUpdate. The\r\n&gt; execute method returns a boolean to indicate the form of the first\r\n&gt; result. You must call either the method getResultSet or getUpdateCount\r\n&gt; to retrieve the result; you must call getMoreResults to move to any\r\n&gt; subsequent result(s).\r\n&gt; \r\n&gt; `Returns:` true if the first result is a ResultSet object; false if the\r\n&gt; first result is an update count or there is no result\r\n\r\n\r\nHere you your method could look like this :\r\n\r\n    public static boolean checkUpcomingAppointments(int userID) {\r\n        boolean isResultPresent = false;\r\n        try {\r\n            String sqlCheck = &quot;SELECT * FROM appointments WHERE User_ID = ? and Start BETWEEN NOW() AND ADDDATE(NOW(), INTERVAL 15 MINUTE);&quot;;\r\n            PreparedStatement ps = JDBC.getConnection().prepareStatement(sqlCheck);\r\n            ps.setInt(1, userID);\r\n            isResultPresent = ps.execute();\r\n        } catch (SQLException throwables) {\r\n            throwables.printStackTrace();\r\n        }\r\n        return isResultPresent;\r\n    }\r\n\r\nYou can also use a `SELECT COUNT(*)` and the call the `executeQuery()`. This [tutorial][2] can help you.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute()\r\n  [2]: https://www.tutorialspoint.com/how-to-get-the-row-count-in-jdbc","title":"How do I format a method for a SQL query that retrieves 0 rows?","body":"<p>In the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute()\" rel=\"nofollow noreferrer\">Java Doc</a>, you have this :</p>\n<blockquote>\n<p><code>boolean execute() throws SQLException</code>\nExecutes the SQL statement in this PreparedStatement object, which may be any kind of SQL statement. Some\nprepared statements return multiple results; the execute method\nhandles these complex statements as well as the simpler form of\nstatements handled by the methods executeQuery and executeUpdate. The\nexecute method returns a boolean to indicate the form of the first\nresult. You must call either the method getResultSet or getUpdateCount\nto retrieve the result; you must call getMoreResults to move to any\nsubsequent result(s).</p>\n<p><code>Returns:</code> true if the first result is a ResultSet object; false if the\nfirst result is an update count or there is no result</p>\n</blockquote>\n<p>Here you your method could look like this :</p>\n<pre><code>public static boolean checkUpcomingAppointments(int userID) {\n    boolean isResultPresent = false;\n    try {\n        String sqlCheck = &quot;SELECT * FROM appointments WHERE User_ID = ? and Start BETWEEN NOW() AND ADDDATE(NOW(), INTERVAL 15 MINUTE);&quot;;\n        PreparedStatement ps = JDBC.getConnection().prepareStatement(sqlCheck);\n        ps.setInt(1, userID);\n        isResultPresent = ps.execute();\n    } catch (SQLException throwables) {\n        throwables.printStackTrace();\n    }\n    return isResultPresent;\n}\n</code></pre>\n<p>You can also use a <code>SELECT COUNT(*)</code> and the call the <code>executeQuery()</code>. This <a href=\"https://www.tutorialspoint.com/how-to-get-the-row-count-in-jdbc\" rel=\"nofollow noreferrer\">tutorial</a> can help you.</p>\n"}],"owner":{"account_id":21769576,"reputation":1,"user_id":16072861,"display_name":"dkeys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635842017,"creation_date":1635812285,"question_id":69804111,"body_markdown":"I&#39;m currently trying to retrieve a list of `appointments` that occurs in the next 15 minutes by querying the `User_ID`.\r\nThe query I&#39;m using : \r\n\r\n    SELECT * FROM appointments WHERE User_ID = ? and Start BETWEEN NOW() AND ADDDATE(NOW(), INTERVAL 15 MINUTE);\r\n\r\nHow do I implement, that if it returns any appointments it will be `true` and if it returns 0 rows, it will be `false`?\r\n\r\nI currently have written \r\n\r\n    public static boolean checkUpcomingAppointments(int userID) {\r\n        try {\r\n            String sqlCheck = &quot;SELECT * FROM appointments WHERE User_ID = ? and Start BETWEEN NOW() AND ADDDATE(NOW(), INTERVAL 15 MINUTE);&quot;;\r\n            PreparedStatement ps = JDBC.getConnection().prepareStatement(sqlCheck);\r\n            ps.setInt(1, userID);\r\n            ps.execute();\r\n        } catch (SQLException throwables) {\r\n            throwables.printStackTrace();\r\n        }\r\n        return true;\r\n    }\r\n","title":"How do I format a method for a SQL query that retrieves 0 rows?","body":"<p>I'm currently trying to retrieve a list of <code>appointments</code> that occurs in the next 15 minutes by querying the <code>User_ID</code>.\nThe query I'm using :</p>\n<pre><code>SELECT * FROM appointments WHERE User_ID = ? and Start BETWEEN NOW() AND ADDDATE(NOW(), INTERVAL 15 MINUTE);\n</code></pre>\n<p>How do I implement, that if it returns any appointments it will be <code>true</code> and if it returns 0 rows, it will be <code>false</code>?</p>\n<p>I currently have written</p>\n<pre><code>public static boolean checkUpcomingAppointments(int userID) {\n    try {\n        String sqlCheck = &quot;SELECT * FROM appointments WHERE User_ID = ? and Start BETWEEN NOW() AND ADDDATE(NOW(), INTERVAL 15 MINUTE);&quot;;\n        PreparedStatement ps = JDBC.getConnection().prepareStatement(sqlCheck);\n        ps.setInt(1, userID);\n        ps.execute();\n    } catch (SQLException throwables) {\n        throwables.printStackTrace();\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["java","monitoring","visualvm","jstatd"],"comments":[{"owner":{"account_id":2324956,"reputation":967,"user_id":2039693,"accept_rate":50,"display_name":"Ramesh Subramanian"},"score":0,"creation_date":1635755248,"post_id":69738710,"comment_id":123369507,"body_markdown":"can you check this link - https://stackoverflow.com/questions/16233275/unable-to-view-visual-gc-in-visualvm","body":"can you check this link - <a href=\"https://stackoverflow.com/questions/16233275/unable-to-view-visual-gc-in-visualvm\" title=\"unable to view visual gc in visualvm\">stackoverflow.com/questions/16233275/&hellip;</a>"},{"owner":{"account_id":18689658,"reputation":1,"user_id":13624279,"display_name":"muralcode"},"score":0,"creation_date":1636463490,"post_id":69738710,"comment_id":123559009,"body_markdown":"i have already worked through the solutions provided in the link, no success","body":"i have already worked through the solutions provided in the link, no success"}],"answers":[{"tags":[],"owner":{"account_id":2324956,"reputation":967,"user_id":2039693,"accept_rate":50,"display_name":"Ramesh Subramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635775723,"creation_date":1635775723,"answer_id":69798099,"question_id":69738710,"body_markdown":"Hope your security policy file (tools.policy) missing permission for **tools.jar**\r\n\r\n    grant codebase “file:/usr/lib/jvm/java-8-openjdk-amd64/lib/tools.jar” {\r\n     permission java.security.AllPermission;\r\n    };\r\n\r\nOnce added the above permission run jstatd, \r\n\r\n    sudo jstatd -J-Djava.security.policy=/tmp/tools.policy -J-Djava.rmi.server.hostname=10.101.32.110 -p 7198\r\n\r\nReplace the JDK folder, hostname &amp; port based on your env. ","title":"unable to display jstad monitoring in VisualVM tool","body":"<p>Hope your security policy file (tools.policy) missing permission for <strong>tools.jar</strong></p>\n<pre><code>grant codebase “file:/usr/lib/jvm/java-8-openjdk-amd64/lib/tools.jar” {\n permission java.security.AllPermission;\n};\n</code></pre>\n<p>Once added the above permission run jstatd,</p>\n<pre><code>sudo jstatd -J-Djava.security.policy=/tmp/tools.policy -J-Djava.rmi.server.hostname=10.101.32.110 -p 7198\n</code></pre>\n<p>Replace the JDK folder, hostname &amp; port based on your env.</p>\n"}],"owner":{"account_id":18689658,"reputation":1,"user_id":13624279,"display_name":"muralcode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635841174,"creation_date":1635337803,"question_id":69738710,"body_markdown":"I have EC2 instance hosting Tomcat application. It has JVM installed within.\r\n\r\nI am trying to monitor VisualGC from my workstation.\r\nIn all those application instances we are able to establish the JMX connections in the visual vm tool, but for the plugin - Visual gc, for all the instances it says &quot;Not supported for this JVM&quot;\r\n\r\n- we are able to connect to the instance by adding a JMX connection\r\n- when I try to add jstatd connection, it displays &quot;not supported for this JVM&quot;.\r\n\r\nI have also created a policy file as suggested by other other solutions in the internet- &#39;jstatd.all.policy&#39; and tried starting jstatd like below.\r\nCommand used - \r\n`./jstatd -J-Djava.security.policy=jstatd.all.policy `\r\n\r\nI made sure at that time jstatd was running in the instance, and we were able to get the stats in the instance in the command line, but We are somehow unable to get those stats displayed in the tool, the instance and visual gc plugin of the visual vm tool aren&#39;t connecting each other. Interestingly, we can see other monitor graphs.\r\n\r\nAny reason out there why I am unble to view it?\r\n\r\n\r\nI have already tried this command as well and this was it - `sudo ./jstatd -J-Djava.security.policy=/tmp/jstatd.all.policy -J-Djava.rmi.server.hostname=&lt;host ip&gt; -J-Djava.rmi.server.logCalls=true &amp;`\r\nbut it did not solved the issue","title":"unable to display jstad monitoring in VisualVM tool","body":"<p>I have EC2 instance hosting Tomcat application. It has JVM installed within.</p>\n<p>I am trying to monitor VisualGC from my workstation.\nIn all those application instances we are able to establish the JMX connections in the visual vm tool, but for the plugin - Visual gc, for all the instances it says &quot;Not supported for this JVM&quot;</p>\n<ul>\n<li>we are able to connect to the instance by adding a JMX connection</li>\n<li>when I try to add jstatd connection, it displays &quot;not supported for this JVM&quot;.</li>\n</ul>\n<p>I have also created a policy file as suggested by other other solutions in the internet- 'jstatd.all.policy' and tried starting jstatd like below.\nCommand used -\n<code>./jstatd -J-Djava.security.policy=jstatd.all.policy </code></p>\n<p>I made sure at that time jstatd was running in the instance, and we were able to get the stats in the instance in the command line, but We are somehow unable to get those stats displayed in the tool, the instance and visual gc plugin of the visual vm tool aren't connecting each other. Interestingly, we can see other monitor graphs.</p>\n<p>Any reason out there why I am unble to view it?</p>\n<p>I have already tried this command as well and this was it - <code>sudo ./jstatd -J-Djava.security.policy=/tmp/jstatd.all.policy -J-Djava.rmi.server.hostname=&lt;host ip&gt; -J-Djava.rmi.server.logCalls=true &amp;</code>\nbut it did not solved the issue</p>\n"},{"tags":["java","spring","controller"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1635793383,"post_id":69801456,"comment_id":123383280,"body_markdown":"What do you mean? What would you use instead? Only `@Component` or programmatically registering beans?","body":"What do you mean? What would you use instead? Only <code>@Component</code> or programmatically registering beans?"},{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1635793408,"post_id":69801456,"comment_id":123383288,"body_markdown":"Check this: https://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in\nBasically they are both captured as beans, but are intercepted differently, for example @Repository has an extra layer for exception translation","body":"Check this: <a href=\"https://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in\" title=\"whats the difference between component repository service annotations in\">stackoverflow.com/questions/6827752/&hellip;</a> Basically they are both captured as beans, but are intercepted differently, for example @Repository has an extra layer for exception translation"}],"answers":[{"tags":[],"owner":{"account_id":10839695,"reputation":63,"user_id":7971413,"display_name":"Alejandro Coronado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635798943,"creation_date":1635798943,"answer_id":69802520,"question_id":69801456,"body_markdown":"Basically @Component is a generic annotation stereotype and @Service, @Repository and @Controller are just subtypes with a more semantic meaning, at the end of the day with these annotation you are just registering a bean in the spring container and if you exchange those annotations you application is going to work as good as before.\r\n\r\nOf course if you have a JpaRepository implementation for example you want to use @Repository annotation instead of @Controller, just for mentioning an example.","title":"What will happen if we interchange various annotations like @Service, @Controller and @Repository?","body":"<p>Basically @Component is a generic annotation stereotype and @Service, @Repository and @Controller are just subtypes with a more semantic meaning, at the end of the day with these annotation you are just registering a bean in the spring container and if you exchange those annotations you application is going to work as good as before.</p>\n<p>Of course if you have a JpaRepository implementation for example you want to use @Repository annotation instead of @Controller, just for mentioning an example.</p>\n"}],"owner":{"account_id":19101732,"reputation":21,"user_id":13949856,"display_name":"Saniya Javed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1635853661,"answer_count":1,"score":0,"last_activity_date":1635840451,"creation_date":1635792582,"question_id":69801456,"body_markdown":"What will happen if we interchange various annotations like @Service, @Controller and @Repository?\r\nI know its the best practice to follow to represent the spring component with these annotations but what happen if we are not doing so ?","title":"What will happen if we interchange various annotations like @Service, @Controller and @Repository?","body":"<p>What will happen if we interchange various annotations like @Service, @Controller and @Repository?\nI know its the best practice to follow to represent the spring component with these annotations but what happen if we are not doing so ?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":15281247,"reputation":3448,"user_id":11025582,"display_name":"HTN"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1555943103,"creation_date":1555943103,"answer_id":55795950,"question_id":55795538,"body_markdown":"Java 11 is officially supported from Spring Boot 2.1.x","title":"Spring Boot with JLink JRE","body":"<p>Java 11 is officially supported from Spring Boot 2.1.x</p>\n"},{"tags":[],"owner":{"account_id":8858197,"reputation":111,"user_id":6615265,"display_name":"Thomas Oleksy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635839999,"creation_date":1635839999,"answer_id":69807013,"question_id":55795538,"body_markdown":"The short answer in this case is add the &quot;jdk.unsupported&quot; module to the argumentlist of modules for Jlink.\r\n\r\nI base this on the fact that I had a similar problem (with a similar stackstrace) but while trying to build a custom JRE with a JDK17 and SpringBoot project. This is the Stack overflow post that helped me figure it out:\r\nhttps://stackoverflow.com/questions/51332334/nosuchmethodexception-springframework-boot-autoconfigure-http-httpmessageconver","title":"Spring Boot with JLink JRE","body":"<p>The short answer in this case is add the &quot;jdk.unsupported&quot; module to the argumentlist of modules for Jlink.</p>\n<p>I base this on the fact that I had a similar problem (with a similar stackstrace) but while trying to build a custom JRE with a JDK17 and SpringBoot project. This is the Stack overflow post that helped me figure it out:\n<a href=\"https://stackoverflow.com/questions/51332334/nosuchmethodexception-springframework-boot-autoconfigure-http-httpmessageconver\">NoSuchMethodException: springframework.boot.autoconfigure.http.HttpMessageConverters</a></p>\n"}],"owner":{"account_id":11215090,"reputation":55,"user_id":8227990,"display_name":"ledigiacomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69807013,"answer_count":2,"score":1,"last_activity_date":1635839999,"creation_date":1555941367,"question_id":55795538,"body_markdown":"I am trying to use jlink in Java 11 to create a minimized jre for a Spring Boot application. I have been able to get it to run with the full Java 11 jre, but am getting a stacktrace that I am having a hard time deciphering. I&#39;m assuming the underlying cause is some kind of dependency conflict since it worked with the full jre and not the subset. \r\n\r\nI am using spring-boot 1.5.19, and the modules I have currently included are: java.base, java.logging, java.instrument, java.sql, java.naming, and java.desktop. \r\n\r\nLet me know what other information I can provide. Thanks!\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;propertySourceBootstrapConfiguration&#39;: Unsatisfied dependency expressed through field &#39;propertySourceLocators&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;consulPropertySourceLocator&#39; defined in org.springframework.cloud.consul.config.ConsulConfigBootstrapConfiguration$ConsulPropertySourceConfiguration: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is org.springframework.aop.framework.AopConfigException: Unable to instantiate proxy using Objenesis, and regular proxy instantiation via default constructor fails as well; nested exception is java.lang.InstantiationException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:586)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:364)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1269)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:551)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:187)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:102)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:68)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:122)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:74)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:325)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:296)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\r\n\tat ServiceConfiguration.main(ServiceConfiguration.java:34)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;consulPropertySourceLocator&#39; defined in org.springframework.cloud.consul.config.ConsulConfigBootstrapConfiguration$ConsulPropertySourceConfiguration: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is org.springframework.aop.framework.AopConfigException: Unable to instantiate proxy using Objenesis, and regular proxy instantiation via default constructor fails as well; nested exception is java.lang.InstantiationException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1314)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1280)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1178)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1094)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1064)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:583)\r\n\t... 30 common frames omitted\r\nCaused by: org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is org.springframework.aop.framework.AopConfigException: Unable to instantiate proxy using Objenesis, and regular proxy instantiation via default constructor fails as well; nested exception is java.lang.InstantiationException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:215)\r\n\tat org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:109)\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:466)\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:349)\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:298)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:421)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1635)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n\t... 42 common frames omitted\r\nCaused by: org.springframework.aop.framework.AopConfigException: Unable to instantiate proxy using Objenesis, and regular proxy instantiation via default constructor fails as well; nested exception is java.lang.InstantiationException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1\r\n\tat org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:76)\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:201)\r\n\t... 49 common frames omitted\r\nCaused by: java.lang.InstantiationException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1\r\n\tat java.base/java.lang.Class.newInstance(Unknown Source)\r\n\tat org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:73)\r\n\t... 50 common frames omitted\r\nCaused by: java.lang.NoSuchMethodException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1.&lt;init&gt;()\r\n\tat java.base/java.lang.Class.getConstructor0(Unknown Source)\r\n\t... 52 common frames omitted","title":"Spring Boot with JLink JRE","body":"<p>I am trying to use jlink in Java 11 to create a minimized jre for a Spring Boot application. I have been able to get it to run with the full Java 11 jre, but am getting a stacktrace that I am having a hard time deciphering. I'm assuming the underlying cause is some kind of dependency conflict since it worked with the full jre and not the subset. </p>\n\n<p>I am using spring-boot 1.5.19, and the modules I have currently included are: java.base, java.logging, java.instrument, java.sql, java.naming, and java.desktop. </p>\n\n<p>Let me know what other information I can provide. Thanks!</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'propertySourceBootstrapConfiguration': Unsatisfied dependency expressed through field 'propertySourceLocators'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'consulPropertySourceLocator' defined in org.springframework.cloud.consul.config.ConsulConfigBootstrapConfiguration$ConsulPropertySourceConfiguration: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is org.springframework.aop.framework.AopConfigException: Unable to instantiate proxy using Objenesis, and regular proxy instantiation via default constructor fails as well; nested exception is java.lang.InstantiationException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:586)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:364)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1269)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:551)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:187)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:102)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:68)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:122)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:74)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:325)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:296)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\n    at ServiceConfiguration.main(ServiceConfiguration.java:34)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'consulPropertySourceLocator' defined in org.springframework.cloud.consul.config.ConsulConfigBootstrapConfiguration$ConsulPropertySourceConfiguration: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is org.springframework.aop.framework.AopConfigException: Unable to instantiate proxy using Objenesis, and regular proxy instantiation via default constructor fails as well; nested exception is java.lang.InstantiationException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1314)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1280)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1178)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1094)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1064)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:583)\n    ... 30 common frames omitted\nCaused by: org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is org.springframework.aop.framework.AopConfigException: Unable to instantiate proxy using Objenesis, and regular proxy instantiation via default constructor fails as well; nested exception is java.lang.InstantiationException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:215)\n    at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:109)\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:466)\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:349)\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:298)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:421)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1635)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n    ... 42 common frames omitted\nCaused by: org.springframework.aop.framework.AopConfigException: Unable to instantiate proxy using Objenesis, and regular proxy instantiation via default constructor fails as well; nested exception is java.lang.InstantiationException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1\n    at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:76)\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:201)\n    ... 49 common frames omitted\nCaused by: java.lang.InstantiationException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1\n    at java.base/java.lang.Class.newInstance(Unknown Source)\n    at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:73)\n    ... 50 common frames omitted\nCaused by: java.lang.NoSuchMethodException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$9f7ea6c1.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Unknown Source)\n    ... 52 common frames omitted\n</code></pre>\n"},{"tags":["java","algorithm","recursion","dynamic-programming"],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1504696458,"creation_date":1504696458,"answer_id":46073766,"question_id":46073730,"body_markdown":"Hint: The issue is that each recursive call to `fibonacci()` has its own cache. For every call you create an empty cache, store something in it, and immediately discard it.\r\n\r\nWhat you want is one cache shared by all the calls.\r\n\r\nI&#39;ll let you figure out how best to do it. :)","title":"Fibonacci Sequence using Cache","body":"<p>Hint: The issue is that each recursive call to <code>fibonacci()</code> has its own cache. For every call you create an empty cache, store something in it, and immediately discard it.</p>\n\n<p>What you want is one cache shared by all the calls.</p>\n\n<p>I'll let you figure out how best to do it. :)</p>\n"},{"tags":[],"owner":{"account_id":5321978,"reputation":3708,"user_id":4245174,"accept_rate":100,"display_name":"ifma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504696531,"creation_date":1504696531,"answer_id":46073799,"question_id":46073730,"body_markdown":"There should only be one instance to `fibCache` (it has to be `static`).","title":"Fibonacci Sequence using Cache","body":"<p>There should only be one instance to <code>fibCache</code> (it has to be <code>static</code>).</p>\n"},{"tags":[],"owner":{"account_id":21791571,"reputation":31,"user_id":16091705,"display_name":"Himanshu Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635839993,"creation_date":1635839044,"answer_id":69806858,"question_id":46073730,"body_markdown":"```\r\npublic class FibonacciCache {\r\n\r\n\tprivate int[] cache = new int[1000];\r\n\t\r\n\tpublic FibonacciCache(){\r\n\t\t// n de 1 = 1;\r\n\t\tcache[1] = 1;\r\n\t}\r\n\r\n\tpublic int fibonacciDe(int n){\r\n\t\tif(cache[n] != 0){\r\n\t\t\treturn cache[n];\r\n\t\t}\r\n\t\r\n\t\t// n de 0 = 0\r\n\t\tif(n &lt;= 0){\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t\t\t\t\t\r\n\t\tint result = fibonacciDe(n-1) + fibonacciDe(n-2);\r\n\t\tcache[n] = result;\r\n\t\treturn result;\r\n\t}\r\n```","title":"Fibonacci Sequence using Cache","body":"<pre><code>public class FibonacciCache {\n\n    private int[] cache = new int[1000];\n    \n    public FibonacciCache(){\n        // n de 1 = 1;\n        cache[1] = 1;\n    }\n\n    public int fibonacciDe(int n){\n        if(cache[n] != 0){\n            return cache[n];\n        }\n    \n        // n de 0 = 0\n        if(n &lt;= 0){\n            return 0;\n        }\n                        \n        int result = fibonacciDe(n-1) + fibonacciDe(n-2);\n        cache[n] = result;\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":8206550,"reputation":370,"user_id":7533505,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1987,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1635839993,"creation_date":1504696336,"question_id":46073730,"body_markdown":"I am trying to make use of a cache to improve the performance of my Fibonacci method. However, it is still taking a lot of time to compute even fibonacci(40).\r\n\r\n\timport java.util.Scanner;\r\n\tpublic class FibWithCache {\r\n\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tSystem.out.println(&quot;Enter Fibonacci index: &quot;);\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tint index = sc.nextInt();\r\n\t\t\tsc.close();\r\n\t\r\n\t\t\tSystem.out.println(fibonacci(index));\r\n\t\t}\r\n\t\t\r\n\t\tprivate static long fibonacci(int index) {\r\n\t\t\t\r\n\t\t\tlong result = 0;\r\n\t\t\tlong[] fibCache = new long[200];\r\n\t\r\n\t\t\tif(index==0)\r\n\t\t\t\treturn 0;\r\n\t\t\telse if(index == 1)\r\n\t\t\t\treturn 1;\r\n\t\t\telse if(fibCache[index] != 0)\r\n\t\t\t\treturn fibCache[index];\r\n\t\t\telse {\r\n\t\t\t\tresult = fibonacci(index-1) + fibonacci(index-2);\r\n\t\t\t\tfibCache[index] = result;\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\nWhy am I unable to benefit from the cache?","title":"Fibonacci Sequence using Cache","body":"<p>I am trying to make use of a cache to improve the performance of my Fibonacci method. However, it is still taking a lot of time to compute even fibonacci(40).</p>\n\n<pre><code>import java.util.Scanner;\npublic class FibWithCache {\n\n    public static void main(String args[]) {\n        System.out.println(\"Enter Fibonacci index: \");\n        Scanner sc = new Scanner(System.in);\n        int index = sc.nextInt();\n        sc.close();\n\n        System.out.println(fibonacci(index));\n    }\n\n    private static long fibonacci(int index) {\n\n        long result = 0;\n        long[] fibCache = new long[200];\n\n        if(index==0)\n            return 0;\n        else if(index == 1)\n            return 1;\n        else if(fibCache[index] != 0)\n            return fibCache[index];\n        else {\n            result = fibonacci(index-1) + fibonacci(index-2);\n            fibCache[index] = result;\n            return result;\n        }\n    }\n}\n</code></pre>\n\n<p>Why am I unable to benefit from the cache?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14587195,"reputation":413,"user_id":10535574,"display_name":"RAZAFINARIVO Hanania"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635837602,"creation_date":1635837602,"answer_id":69806654,"question_id":69805530,"body_markdown":"`*` when you use it on command line it refers to file or directory existing in the working directory. Therefore, your args instead of having `2`, `*`, `6` it will be `2`, `file1`, `directory1`, `etc`, `6`.\r\n\r\nThe solution is to escape it by quote or double quote.\r\n\r\n    2 &#39;*&#39; 6\r\n\r\nor \r\n\r\n    2 &quot;*&quot; 6","title":"How to check if &#39;*&#39; exists in an array in java?","body":"<p><code>*</code> when you use it on command line it refers to file or directory existing in the working directory. Therefore, your args instead of having <code>2</code>, <code>*</code>, <code>6</code> it will be <code>2</code>, <code>file1</code>, <code>directory1</code>, <code>etc</code>, <code>6</code>.</p>\n<p>The solution is to escape it by quote or double quote.</p>\n<pre><code>2 '*' 6\n</code></pre>\n<p>or</p>\n<pre><code>2 &quot;*&quot; 6\n</code></pre>\n"}],"owner":{"account_id":20592003,"reputation":1,"user_id":15115392,"display_name":"RgTheGreat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635839960,"creation_date":1635828823,"question_id":69805530,"body_markdown":"I am trying to create a calculator in **Maven** and I got stuck when I was trying to implement multiplication. When I changed the **args array** in `launch.json` to `2 * 6`, it returned nothing.I also tried - `&quot;\\\\*` but nothing happened. Also when I put the multiplication boolean to `boolean mul = Arrays.stream(args).anyMatch(&quot;&quot;.equals);`, It worked.\r\n\r\nHere is my code - \r\n```\r\nimport java.util.Arrays;\r\n/**\r\n * Hello world!\r\n */\r\n\r\npublic final class App {\r\n    \r\n\r\n    /**\r\n     * @param args The arguments of the program.\r\n     */\r\n\r\n\r\n    public static void main(String[] args) {\r\n        boolean plus = Arrays.stream(args).anyMatch(&quot;+&quot;::equals);\r\n        boolean minus = Arrays.stream(args).anyMatch(&quot;-&quot;::equals);\r\n        boolean div = Arrays.stream(args).anyMatch(&quot;/&quot;::equals);\r\n// here -&gt; \r\nboolean mul = Arrays.stream(args).anyMatch(&quot;*&quot;::equals);\r\n/**\r\nOr should I put it like this -&gt;\r\nboolean mul = Arrays.stream(args).anyMatch(&quot;\\\\*&quot;::equals);\r\n*/\r\n        if (plus == true) {\r\n            String plus1 = args[0];\r\n            String plus2 = args[2];\r\n            int plus1_int = Integer.parseInt(plus1);\r\n            int plus2_int = Integer.parseInt(plus2);\r\n            System.out.println(plus1_int + plus2_int);\r\n        }else {\r\n            ;\r\n        }\r\n\r\n        if (minus == true) {\r\n             String min1 = args[0];\r\n             String min2 = args[2];\r\n             int min1_int = Integer.parseInt(min1);\r\n             int min2_int = Integer.parseInt(min2);\r\n             System.out.println(min1_int - min2_int);\r\n        }else {\r\n            ;\r\n        }\r\n        \r\n\r\n        if (div == true) {\r\n            String div2 = args[2];\r\n            String div1 = args[0];\r\n            int div1_int = Integer.parseInt(div1);\r\n            int div2_int = Integer.parseInt(div2);\r\n            System.out.println(div1_int / div2_int);\r\n          }else {\r\n            ;\r\n        }\r\n // and here -&gt;\r\n        if (mul == true) {\r\n            String mul1 = args[0];\r\n            String mul2 = args[2];\r\n            int mul1_int = Integer.parseInt(mul1);\r\n            int mul2_int = Integer.parseInt(mul2);\r\n            System.out.println(mul1_int * mul2_int);\r\n        }else { \r\n            ;\r\n        }\r\n\r\n        \r\n        \r\n\r\n    }\r\n}\r\n```\r\n\r\nHave I done something wrong?\r\nThanks in advance!","title":"How to check if &#39;*&#39; exists in an array in java?","body":"<p>I am trying to create a calculator in <strong>Maven</strong> and I got stuck when I was trying to implement multiplication. When I changed the <strong>args array</strong> in <code>launch.json</code> to <code>2 * 6</code>, it returned nothing.I also tried - <code>&quot;\\\\*</code> but nothing happened. Also when I put the multiplication boolean to <code>boolean mul = Arrays.stream(args).anyMatch(&quot;&quot;.equals);</code>, It worked.</p>\n<p>Here is my code -</p>\n<pre><code>import java.util.Arrays;\n/**\n * Hello world!\n */\n\npublic final class App {\n    \n\n    /**\n     * @param args The arguments of the program.\n     */\n\n\n    public static void main(String[] args) {\n        boolean plus = Arrays.stream(args).anyMatch(&quot;+&quot;::equals);\n        boolean minus = Arrays.stream(args).anyMatch(&quot;-&quot;::equals);\n        boolean div = Arrays.stream(args).anyMatch(&quot;/&quot;::equals);\n// here -&gt; \nboolean mul = Arrays.stream(args).anyMatch(&quot;*&quot;::equals);\n/**\nOr should I put it like this -&gt;\nboolean mul = Arrays.stream(args).anyMatch(&quot;\\\\*&quot;::equals);\n*/\n        if (plus == true) {\n            String plus1 = args[0];\n            String plus2 = args[2];\n            int plus1_int = Integer.parseInt(plus1);\n            int plus2_int = Integer.parseInt(plus2);\n            System.out.println(plus1_int + plus2_int);\n        }else {\n            ;\n        }\n\n        if (minus == true) {\n             String min1 = args[0];\n             String min2 = args[2];\n             int min1_int = Integer.parseInt(min1);\n             int min2_int = Integer.parseInt(min2);\n             System.out.println(min1_int - min2_int);\n        }else {\n            ;\n        }\n        \n\n        if (div == true) {\n            String div2 = args[2];\n            String div1 = args[0];\n            int div1_int = Integer.parseInt(div1);\n            int div2_int = Integer.parseInt(div2);\n            System.out.println(div1_int / div2_int);\n          }else {\n            ;\n        }\n // and here -&gt;\n        if (mul == true) {\n            String mul1 = args[0];\n            String mul2 = args[2];\n            int mul1_int = Integer.parseInt(mul1);\n            int mul2_int = Integer.parseInt(mul2);\n            System.out.println(mul1_int * mul2_int);\n        }else { \n            ;\n        }\n\n        \n        \n\n    }\n}\n</code></pre>\n<p>Have I done something wrong?\nThanks in advance!</p>\n"},{"tags":["java","maven","minecraft"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1635840570,"post_id":69806963,"comment_id":123393164,"body_markdown":"First you should write that you are already using maven-shade-plugin which is the result the maven-shade-plugin produces (so called executable jar)... furthermore why do you like/need the requested structure? Which problem do you exactly have?","body":"First you should write that you are already using maven-shade-plugin which is the result the maven-shade-plugin produces (so called executable jar)... furthermore why do you like/need the requested structure? Which problem do you exactly have?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1635842554,"post_id":69806963,"comment_id":123393870,"body_markdown":"It is possible but the system classloader will not understand it unless you also rewrite the byte code to conform to the new package babes.  This is non trivial.","body":"It is possible but the system classloader will not understand it unless you also rewrite the byte code to conform to the new package babes.  This is non trivial."},{"owner":{"account_id":16735535,"reputation":17,"user_id":12096779,"display_name":"Feniksovich"},"score":0,"creation_date":1635843217,"post_id":69806963,"comment_id":123394155,"body_markdown":"@khmarbaise\nI really don&#39;t have any problems and would just like to structure the contents of the JAR  &#175;\\_(ツ)_/&#175;","body":"@khmarbaise I really don&#39;t have any problems and would just like to structure the contents of the JAR  &#175;_(ツ)_/&#175;"},{"owner":{"account_id":16735535,"reputation":17,"user_id":12096779,"display_name":"Feniksovich"},"score":0,"creation_date":1635843312,"post_id":69806963,"comment_id":123394191,"body_markdown":"@Thorbj&#248;rnRavnAndersen\nGot it. It is not worth it. Thank you.","body":"@Thorbj&#248;rnRavnAndersen Got it. It is not worth it. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635839920,"creation_date":1635839920,"answer_id":69806999,"question_id":69806963,"body_markdown":"No.\r\n\r\nThe structure of the JAR needs to follow the names of the packages.","title":"How can I put all dependencies into one folder inside a JAR file with Maven?","body":"<p>No.</p>\n<p>The structure of the JAR needs to follow the names of the packages.</p>\n"}],"owner":{"account_id":16735535,"reputation":17,"user_id":12096779,"display_name":"Feniksovich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69806999,"answer_count":1,"score":0,"last_activity_date":1635839920,"creation_date":1635839719,"question_id":69806963,"body_markdown":"I&#39;m using Maven and several libraries in my project, some of them are nested in the final JAR file.\r\n\r\n**The file structure inside the JAR file now looks like this:**\r\n```\r\njar\r\n│\r\n├───com\r\n│   ├───feniksovich (my project)\r\n│   └───zaxxer (hikari shaded lib directory)                 \r\n│\r\n├───org\r\n│   ├───apache (commons-io shaded lib directory)\r\n│   └───slf4j (slf4j shaded lib directory)\r\n└───redis (jedis shaded lib directory)\r\n```\r\n\r\n**Is it possible to make it look something like this?**\r\n```\r\njar\r\n│\r\n├───com\r\n│   └───feniksovich (my project)               \r\n│\r\n└───libs\r\n    ├───com\r\n    │   └───zaxxer (hikari shaded lib directory)\r\n    ├───org\r\n    │   ├───apache (commons-io shaded lib directory)\r\n    │   └───slf4j (slf4j shaded lib directory)\r\n    └───redis (jedis shaded lib directory)\r\n```\r\n\r\n\r\nMy current `pom.xml`: https://paste.lucko.me/fgMSBhCtpM\r\n\r\nThanks in advance.","title":"How can I put all dependencies into one folder inside a JAR file with Maven?","body":"<p>I'm using Maven and several libraries in my project, some of them are nested in the final JAR file.</p>\n<p><strong>The file structure inside the JAR file now looks like this:</strong></p>\n<pre><code>jar\n│\n├───com\n│   ├───feniksovich (my project)\n│   └───zaxxer (hikari shaded lib directory)                 \n│\n├───org\n│   ├───apache (commons-io shaded lib directory)\n│   └───slf4j (slf4j shaded lib directory)\n└───redis (jedis shaded lib directory)\n</code></pre>\n<p><strong>Is it possible to make it look something like this?</strong></p>\n<pre><code>jar\n│\n├───com\n│   └───feniksovich (my project)               \n│\n└───libs\n    ├───com\n    │   └───zaxxer (hikari shaded lib directory)\n    ├───org\n    │   ├───apache (commons-io shaded lib directory)\n    │   └───slf4j (slf4j shaded lib directory)\n    └───redis (jedis shaded lib directory)\n</code></pre>\n<p>My current <code>pom.xml</code>: <a href=\"https://paste.lucko.me/fgMSBhCtpM\" rel=\"nofollow noreferrer\">https://paste.lucko.me/fgMSBhCtpM</a></p>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1635673330,"post_id":69785587,"comment_id":123353893,"body_markdown":"To get to code responsible for printing we first need to pass condition described in `if (x &gt; 0 &amp;&amp; y &lt; 0)`. But since `int x=8, y=0` condition `x &gt; 0 &amp;&amp; y &lt; 0` is evaluated as `8 &gt; 0 &amp;&amp; 0 &lt; 0` which is `true &amp;&amp; false` which is `false`.","body":"To get to code responsible for printing we first need to pass condition described in <code>if (x &gt; 0 &amp;&amp; y &lt; 0)</code>. But since <code>int x=8, y=0</code> condition <code>x &gt; 0 &amp;&amp; y &lt; 0</code> is evaluated as <code>8 &gt; 0 &amp;&amp; 0 &lt; 0</code> which is <code>true &amp;&amp; false</code> which is <code>false</code>."}],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635673334,"creation_date":1635673334,"answer_id":69785605,"question_id":69785587,"body_markdown":"```java\r\nif (x &gt; 0 &amp;&amp; y &lt; 0)\r\n```\r\n\r\nYour `y` value is 0, so the test `y &lt; 0` return false, you do not enter in your first if.","title":"Why is this code not working? There is no Output","body":"<pre class=\"lang-java prettyprint-override\"><code>if (x &gt; 0 &amp;&amp; y &lt; 0)\n</code></pre>\n<p>Your <code>y</code> value is 0, so the test <code>y &lt; 0</code> return false, you do not enter in your first if.</p>\n"},{"tags":[],"owner":{"account_id":6168811,"reputation":1,"user_id":4807754,"display_name":"Ali HasaniFar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635704420,"creation_date":1635673425,"answer_id":69785620,"question_id":69785587,"body_markdown":"you should change this line\r\n\r\n    if (x &gt; 0 &amp;&amp; y &lt; 0)\r\n\r\nto this\r\n\r\n    if (x &gt; 0 &amp;&amp; y &lt;= 0)","title":"Why is this code not working? There is no Output","body":"<p>you should change this line</p>\n<pre><code>if (x &gt; 0 &amp;&amp; y &lt; 0)\n</code></pre>\n<p>to this</p>\n<pre><code>if (x &gt; 0 &amp;&amp; y &lt;= 0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635693495,"creation_date":1635693020,"answer_id":69787880,"question_id":69785587,"body_markdown":"&amp;&amp; operator only return true if and only if both of the operands are true \r\nThat is,\r\n \r\n\r\n     true  &amp;&amp; true   = true \r\n     true  &amp;&amp; false  = false\r\n     false &amp;&amp; true  = false\r\n     false &amp;&amp; false = false\r\n\r\n \r\nIn your code since `y= 0` the first if condition itself is not satisfied ,so you have to replace `y&lt;0` with `y&lt;=0`","title":"Why is this code not working? There is no Output","body":"<p>&amp;&amp; operator only return true if and only if both of the operands are true\nThat is,</p>\n<pre><code> true  &amp;&amp; true   = true \n true  &amp;&amp; false  = false\n false &amp;&amp; true  = false\n false &amp;&amp; false = false\n</code></pre>\n<p>In your code since <code>y= 0</code> the first if condition itself is not satisfied ,so you have to replace <code>y&lt;0</code> with <code>y&lt;=0</code></p>\n"},{"tags":[],"owner":{"account_id":23196118,"reputation":1,"user_id":17291731,"display_name":"talal abdullah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635727521,"creation_date":1635699558,"answer_id":69788749,"question_id":69785587,"body_markdown":"You should write it like this to get it to work:\r\n\r\n``` \r\npublic class Main\r\n{\r\n    public static void main(String[] args) \r\n    {\r\n\r\n        int x=8, y=0, z=1; //random integers\r\n    \r\n        if (x &gt; 0 &amp;&amp; y &lt; 0)\r\n            System.out.print(&quot;Yes&quot;);\r\n \r\n        else if (z &gt; 0)\r\n            System.out.print(&quot;No&quot;);\r\n \r\n    }\r\n}\r\n```","title":"Why is this code not working? There is no Output","body":"<p>You should write it like this to get it to work:</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) \n    {\n\n        int x=8, y=0, z=1; //random integers\n    \n        if (x &gt; 0 &amp;&amp; y &lt; 0)\n            System.out.print(&quot;Yes&quot;);\n \n        else if (z &gt; 0)\n            System.out.print(&quot;No&quot;);\n \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23195457,"reputation":1,"user_id":17291165,"display_name":"Turki Aldosari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635839907,"creation_date":1635834395,"answer_id":69806162,"question_id":69785587,"body_markdown":"You should delete the second `if` and delete the block (`{ }`) that was opened above the second `if`.","title":"Why is this code not working? There is no Output","body":"<p>You should delete the second <code>if</code> and delete the block (<code>{ }</code>) that was opened above the second <code>if</code>.</p>\n"}],"owner":{"account_id":23196117,"reputation":1,"user_id":17291730,"display_name":"Mohammed Othman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1635839907,"creation_date":1635673195,"question_id":69785587,"body_markdown":"     public class Main\r\n     {\r\n\t  public static void main(String[] args) {\r\n\r\n\t\tint x=8, y=0, z=1; //random integers\r\n\t\t\r\n      if (x &gt; 0 &amp;&amp; y &lt; 0)\r\n      \r\n     {\r\n      if (x==8)\r\n       System.out.print(&quot;Yes&quot;);\r\n      else if (z &gt; 0)\r\n      System.out.print(&quot;No&quot;);\r\n     }\r\n     \r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\nwhy does this code does not print an output ?\r\n\r\nit should print &quot; yes &quot; or &quot; no &quot; because the first if is wrong ?\r\n\r\n","title":"Why is this code not working? There is no Output","body":"<pre><code> public class Main\n {\n  public static void main(String[] args) {\n\n    int x=8, y=0, z=1; //random integers\n    \n  if (x &gt; 0 &amp;&amp; y &lt; 0)\n  \n {\n  if (x==8)\n   System.out.print(&quot;Yes&quot;);\n  else if (z &gt; 0)\n  System.out.print(&quot;No&quot;);\n }\n \n    }\n}\n</code></pre>\n<p>why does this code does not print an output ?</p>\n<p>it should print &quot; yes &quot; or &quot; no &quot; because the first if is wrong ?</p>\n"},{"tags":["java","math","geometry"],"comments":[{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1635533154,"post_id":69773060,"comment_id":123333087,"body_markdown":"Please show a diagram with `P` and `Q`. How is the second line parametrized? If the lines intersect, the smallest distance is 0. It&#39;s trivial to check if the intersection is between the two points `P` and `Q`. Are you sure that the lines are intersecting?","body":"Please show a diagram with <code>P</code> and <code>Q</code>. How is the second line parametrized? If the lines intersect, the smallest distance is 0. It&#39;s trivial to check if the intersection is between the two points <code>P</code> and <code>Q</code>. Are you sure that the lines are intersecting?"},{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":0,"creation_date":1635533964,"post_id":69773060,"comment_id":123333291,"body_markdown":"Some links: https://math.stackexchange.com/search?q=minimum+3d+distance+lines specially [this Q&amp;A](https://math.stackexchange.com/questions/1993953/closest-points-between-two-lines) or [this wikipedia](https://en.wikipedia.org/wiki/Skew_lines#Nearest_Points)","body":"Some links: <a href=\"https://math.stackexchange.com/search?q=minimum+3d+distance+lines\">math.stackexchange.com/search?q=minimum+3d+distance+lines</a> specially <a href=\"https://math.stackexchange.com/questions/1993953/closest-points-between-two-lines\">this Q&amp;A</a> or <a href=\"https://en.wikipedia.org/wiki/Skew_lines#Nearest_Points\" rel=\"nofollow noreferrer\">this wikipedia</a>"},{"owner":{"account_id":16149234,"reputation":53,"user_id":11658093,"display_name":"Carles Sastre P&#233;rez"},"score":0,"creation_date":1635539569,"post_id":69773060,"comment_id":123334875,"body_markdown":"Lines do not intersect, but cross. For that reason I have no point of intersection.","body":"Lines do not intersect, but cross. For that reason I have no point of intersection."},{"owner":{"account_id":6596239,"reputation":1884,"user_id":9911440,"display_name":"Futurologist"},"score":0,"creation_date":1635654367,"post_id":69773060,"comment_id":123351329,"body_markdown":"The formula you have written in your post is not the formula for the shortest distance between a pair of skew lines (3D lines that do not intersect and are not parallel, i.e. what you call crossed lines). What you have written is the formula for the shortest distance between a point and a line in 3D.","body":"The formula you have written in your post is not the formula for the shortest distance between a pair of skew lines (3D lines that do not intersect and are not parallel, i.e. what you call crossed lines). What you have written is the formula for the shortest distance between a point and a line in 3D."}],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635567086,"creation_date":1635566026,"answer_id":69776666,"question_id":69773060,"body_markdown":"If I understand your question right:\r\n\r\nfor point `P` get orthogonal projections onto both lines (denominator is not needed if `v` and `w` are normalized)  \r\n\r\n    PAproj = A - P + dot(AP, v) / dot(v,v) * v\r\n    PBproj = B - P + dot(BP, w) / dot(w,w) * w\r\n\r\nThen check that these vectors are anticollinear\r\n\r\n     cross(PAproj, PBproj) == 0   \r\n       and \r\n     dot(PAproj, PBproj) has negative sign","title":"How to determine the points belonging to the distance between two not intersecting lines in space","body":"<p>If I understand your question right:</p>\n<p>for point <code>P</code> get orthogonal projections onto both lines (denominator is not needed if <code>v</code> and <code>w</code> are normalized)</p>\n<pre><code>PAproj = A - P + dot(AP, v) / dot(v,v) * v\nPBproj = B - P + dot(BP, w) / dot(w,w) * w\n</code></pre>\n<p>Then check that these vectors are anticollinear</p>\n<pre><code> cross(PAproj, PBproj) == 0   \n   and \n dot(PAproj, PBproj) has negative sign\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6596239,"reputation":1884,"user_id":9911440,"display_name":"Futurologist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635655279,"creation_date":1635655279,"answer_id":69783981,"question_id":69773060,"body_markdown":"Usually, lines in 3D are specified by the coordinates of one point on the line and the coordinates of one vector aligned (or parallel) to the line. So I am going to assume that what you have as input data is:\r\n```\r\n1) line s with point S = [xS, yS, zS] on l and a vector u = [u1, u2, u3] aligned with s\r\n\r\n2) line r defined by the pair of points P = [xP, yP, zP] and Q = [xQ, yQ, zQ] \r\n\r\nYour goal is to check whether the point on r that is closest to line s \r\nis inside the line segment PQ on r or not.\r\n```\r\n\r\n**Algorithm.**\r\n```\r\nn = u x (Q - P)\r\nSP = P - S\r\nSQ = Q - S\r\nproj_SP = SP - ( (n . SP) / (n . n) )  n \r\nproj_SQ = SQ - ( (n . SQ) / (n . n) )  n\r\nw = n x u\r\nif (proj_SP . w) * (proj_SQ . w) &lt; 0\r\n    then the point on r that is closest to line s \r\n         is inside the line segment PQ\r\nelse\r\n         the point on r that is closest to line s \r\n         is outside the line segment PQ\r\n```","title":"How to determine the points belonging to the distance between two not intersecting lines in space","body":"<p>Usually, lines in 3D are specified by the coordinates of one point on the line and the coordinates of one vector aligned (or parallel) to the line. So I am going to assume that what you have as input data is:</p>\n<pre><code>1) line s with point S = [xS, yS, zS] on l and a vector u = [u1, u2, u3] aligned with s\n\n2) line r defined by the pair of points P = [xP, yP, zP] and Q = [xQ, yQ, zQ] \n\nYour goal is to check whether the point on r that is closest to line s \nis inside the line segment PQ on r or not.\n</code></pre>\n<p><strong>Algorithm.</strong></p>\n<pre><code>n = u x (Q - P)\nSP = P - S\nSQ = Q - S\nproj_SP = SP - ( (n . SP) / (n . n) )  n \nproj_SQ = SQ - ( (n . SQ) / (n . n) )  n\nw = n x u\nif (proj_SP . w) * (proj_SQ . w) &lt; 0\n    then the point on r that is closest to line s \n         is inside the line segment PQ\nelse\n         the point on r that is closest to line s \n         is outside the line segment PQ\n</code></pre>\n"}],"owner":{"account_id":16149234,"reputation":53,"user_id":11658093,"display_name":"Carles Sastre P&#233;rez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69783981,"answer_count":2,"score":4,"last_activity_date":1635839524,"creation_date":1635530490,"question_id":69773060,"body_markdown":"I have a question that I would like to share with you in case you could help me. I am working on 3D lines and I need to obtain the exact points at which the minimum distance of two intersecting lines is located. Why do I need these points?\r\n\r\nOf each one of the infinite lines, I would only be interested in knowing if this minimum distance is in a certain range from that of points on the same line. For example, I have the points P (0,0,0) and Q (10,10,10) of a line r and I would only be interested to know if said minimum distance is in that coordinate interval or not.\r\n\r\nTo obtain the distance, I use the formula:\r\n\r\n![](https://i.stack.imgur.com/nwhLg.png)\r\n\r\nBut once said I do not know how to ensure if such a minimum distance is reached within the range of values of P and Q that I comment above.\r\n\r\n![](https://i.stack.imgur.com/EgwC3.png)\r\n\r\nIf anyone has any better ideas on how to check this or knows how to get such points, I would really appreciate it.\r\n\r\n\r\n \r\n\r\n\r\n ","title":"How to determine the points belonging to the distance between two not intersecting lines in space","body":"<p>I have a question that I would like to share with you in case you could help me. I am working on 3D lines and I need to obtain the exact points at which the minimum distance of two intersecting lines is located. Why do I need these points?</p>\n<p>Of each one of the infinite lines, I would only be interested in knowing if this minimum distance is in a certain range from that of points on the same line. For example, I have the points P (0,0,0) and Q (10,10,10) of a line r and I would only be interested to know if said minimum distance is in that coordinate interval or not.</p>\n<p>To obtain the distance, I use the formula:</p>\n<p><img src=\"https://i.stack.imgur.com/nwhLg.png\" alt=\"\" /></p>\n<p>But once said I do not know how to ensure if such a minimum distance is reached within the range of values of P and Q that I comment above.</p>\n<p><img src=\"https://i.stack.imgur.com/EgwC3.png\" alt=\"\" /></p>\n<p>If anyone has any better ideas on how to check this or knows how to get such points, I would really appreciate it.</p>\n"},{"tags":["java","android","validation"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1635844169,"post_id":69806610,"comment_id":123394582,"body_markdown":"`My android studio code built successful but output app crashing` there is a very big difference between compile time errors and runtime errors, you should learn about stack traces and how to read errors to help you debug","body":"<code>My android studio code built successful but output app crashing</code> there is a very big difference between compile time errors and runtime errors, you should learn about stack traces and how to read errors to help you debug"}],"answers":[{"tags":[],"owner":{"account_id":23198541,"reputation":847,"user_id":17293779,"display_name":"MohammadBaqer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635839390,"creation_date":1635839390,"answer_id":69806906,"question_id":69806610,"body_markdown":"you are setting a null date into your `cal` object\r\n`Date now_date = null;`\r\nchange this line to\r\n`Date now_date = new Date();`\r\n","title":"My android studio code built successful but output app crashing","body":"<p>you are setting a null date into your <code>cal</code> object\n<code>Date now_date = null;</code>\nchange this line to\n<code>Date now_date = new Date();</code></p>\n"}],"owner":{"account_id":23213530,"reputation":1,"user_id":17306684,"display_name":"Sathish Gkk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1636019272,"accepted_answer_id":69806906,"answer_count":1,"score":-3,"last_activity_date":1635839390,"creation_date":1635837360,"question_id":69806610,"body_markdown":"Here&#39;s my MainActivity&#39;s XML file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hello World!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.47&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.877&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;404dp&quot;\r\n        android:layout_height=&quot;331dp&quot;\r\n        android:layout_marginStart=&quot;3dp&quot;\r\n        android:layout_marginTop=&quot;94dp&quot;\r\n        android:layout_marginEnd=&quot;4dp&quot;\r\n        android:layout_marginBottom=&quot;199dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textView&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:ignore=&quot;ImageContrastCheck&quot;\r\n        tools:srcCompat=&quot;@tools:sample/avatars&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nAnd here&#39;s the Java file:\r\n```\r\npackage com.wavedevelopers.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.ImageView;\r\n\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ImageView imageView;\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n\r\n        Date now_date = null;\r\n        cal.setTime(now_date);\r\n\r\n        imageView = (ImageView)findViewById(R.id.content);\r\n\r\n        if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY)\r\n        {\r\n            imageView.setImageResource(R.drawable.a1);\r\n        }\r\n        else if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY)\r\n        {\r\n            imageView.setImageResource(R.drawable.a2);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe Above code built successfully but out not displaying in the emulator, verify the above code\r\n next \r\n\r\n**NEED CODE CHANGES :**\r\n\r\n ```If(cal.get(Calendar.DAY_OF_WEEK) == CALENDAR.MONDAY) ```\r\n\r\nThis condition checks the `DAY_OF_WEEK`, but I want to check both `DATE_OF_MONTH` and `MONTH` with the local date.\r\n\r\nExample: If local calender date is equal to given date, display the image \r\n\r\n\r\n","title":"My android studio code built successful but output app crashing","body":"<p>Here's my MainActivity's XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.47&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.877&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;404dp&quot;\n        android:layout_height=&quot;331dp&quot;\n        android:layout_marginStart=&quot;3dp&quot;\n        android:layout_marginTop=&quot;94dp&quot;\n        android:layout_marginEnd=&quot;4dp&quot;\n        android:layout_marginBottom=&quot;199dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textView&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:ignore=&quot;ImageContrastCheck&quot;\n        tools:srcCompat=&quot;@tools:sample/avatars&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And here's the Java file:</p>\n<pre><code>package com.wavedevelopers.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.ImageView;\n\nimport java.util.Calendar;\nimport java.util.Date;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ImageView imageView;\n\n        Calendar cal = Calendar.getInstance();\n\n        Date now_date = null;\n        cal.setTime(now_date);\n\n        imageView = (ImageView)findViewById(R.id.content);\n\n        if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY)\n        {\n            imageView.setImageResource(R.drawable.a1);\n        }\n        else if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY)\n        {\n            imageView.setImageResource(R.drawable.a2);\n        }\n\n    }\n}\n</code></pre>\n<p>The Above code built successfully but out not displaying in the emulator, verify the above code\nnext</p>\n<p><strong>NEED CODE CHANGES :</strong></p>\n<p><code>If(cal.get(Calendar.DAY_OF_WEEK) == CALENDAR.MONDAY) </code></p>\n<p>This condition checks the <code>DAY_OF_WEEK</code>, but I want to check both <code>DATE_OF_MONTH</code> and <code>MONTH</code> with the local date.</p>\n<p>Example: If local calender date is equal to given date, display the image</p>\n"},{"tags":["java","generics","warnings","casting","type-safety"],"comments":[{"owner":{"account_id":395711,"reputation":887,"user_id":758806,"accept_rate":88,"display_name":"Axel"},"score":1,"creation_date":1358245717,"post_id":382,"comment_id":19924487,"body_markdown":"If you want to get rid of the yellow underline in Eclipse, but don&#39;t want to add `@SuppressWarning`, you have the option to ignore the warning in the preferences. In the preferences window, go to _Java &gt; Compiler &gt; Errors/Warnings_, then under the _Generic types_ section, change the option **Unchecked generic type operation** to **Ignore**","body":"If you want to get rid of the yellow underline in Eclipse, but don&#39;t want to add <code>@SuppressWarning</code>, you have the option to ignore the warning in the preferences. In the preferences window, go to <i>Java &gt; Compiler &gt; Errors/Warnings</i>, then under the <i>Generic types</i> section, change the option <b>Unchecked generic type operation</b> to <b>Ignore</b>"}],"answers":[{"tags":[],"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1451370752,"creation_date":1217667528,"answer_id":384,"question_id":382,"body_markdown":"This warning is there because Java is not actually storing type information at run-time in an object that uses generics.  Thus, if `object` is actually a `List&lt;String&gt;`, there will be no `ClassCastException` at run-time except until an item is accessed from the list that doesn&#39;t match the generic type defined in the variable.  \r\n\r\nThis can cause further complications if items are added to the list, with this incorrect generic type information.  Any code still holding a reference to the list but with the correct generic type information will now have an inconsistent list.  \r\n\r\nTo remove the warning, try:\r\n\r\n    List&lt;?&gt; list = (List&lt;?&gt;) object;\r\n\r\nHowever, note that you will not be able to use certain methods such as add because the compiler doesn&#39;t know if you are trying to add an object of incorrect type.  The above will work in a lot of situations, but if you have to use add, or some similarly restricted method, you will just have to suffer the yellow underline in Eclipse (or a `SuppressWarning` annotation).","title":"What is the meaning of the type safety warning in certain Java generics casts?","body":"<p>This warning is there because Java is not actually storing type information at run-time in an object that uses generics.  Thus, if <code>object</code> is actually a <code>List&lt;String&gt;</code>, there will be no <code>ClassCastException</code> at run-time except until an item is accessed from the list that doesn't match the generic type defined in the variable.  </p>\n\n<p>This can cause further complications if items are added to the list, with this incorrect generic type information.  Any code still holding a reference to the list but with the correct generic type information will now have an inconsistent list.  </p>\n\n<p>To remove the warning, try:</p>\n\n<pre><code>List&lt;?&gt; list = (List&lt;?&gt;) object;\n</code></pre>\n\n<p>However, note that you will not be able to use certain methods such as add because the compiler doesn't know if you are trying to add an object of incorrect type.  The above will work in a lot of situations, but if you have to use add, or some similarly restricted method, you will just have to suffer the yellow underline in Eclipse (or a <code>SuppressWarning</code> annotation).</p>\n"}],"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10226,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":384,"answer_count":1,"score":81,"last_activity_date":1635839161,"creation_date":1217667507,"question_id":382,"body_markdown":"What is the meaning of the *Java warning*?\r\n \r\n&gt; Type safety: The cast from Object to List&amp;lt;Integer&amp;gt; is actually checking against the erased type List\r\n \r\nI get this warning when I try to cast an Object to a type with generic information, such as in the following code:\r\n\r\n    Object object = getMyList();\r\n    List&lt;Integer&gt; list = (List&lt;Integer&gt;) object;","title":"What is the meaning of the type safety warning in certain Java generics casts?","body":"<p>What is the meaning of the <em>Java warning</em>?</p>\n\n<blockquote>\n  <p>Type safety: The cast from Object to List&lt;Integer&gt; is actually checking against the erased type List</p>\n</blockquote>\n\n<p>I get this warning when I try to cast an Object to a type with generic information, such as in the following code:</p>\n\n<pre><code>Object object = getMyList();\nList&lt;Integer&gt; list = (List&lt;Integer&gt;) object;\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-ec2","cloud","jclouds"],"answers":[{"tags":[],"owner":{"account_id":70201,"reputation":13278,"user_id":203801,"accept_rate":69,"display_name":"Julio Faerman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439464898,"creation_date":1439464898,"answer_id":31986771,"question_id":31985973,"body_markdown":"By default, EC2 reports to CloudWatch only hypervisor visible metrics, such as CPU and I/O. You can use the &quot;[Monitoring Scripts for Amazon EC2 Instances][1]&quot; to send memory, swap and disk usage as custom metrics to CloudWatch.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/mon-scripts.html","title":"Getting total disk space used and remaining disk space?","body":"<p>By default, EC2 reports to CloudWatch only hypervisor visible metrics, such as CPU and I/O. You can use the \"<a href=\"http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/mon-scripts.html\" rel=\"nofollow\">Monitoring Scripts for Amazon EC2 Instances</a>\" to send memory, swap and disk usage as custom metrics to CloudWatch.</p>\n"},{"tags":[],"owner":{"account_id":4336118,"reputation":1476,"user_id":3540564,"display_name":"Ignasi Barrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439474905,"creation_date":1439474905,"answer_id":31990583,"question_id":31985973,"body_markdown":"You can also use the [Alarm and Metric](http://jclouds.apache.org/reference/javadoc/1.9.x/org/jclouds/cloudwatch/features/package-summary.html) APIs to talk to CloudWatch. You&#39;ll have to create a context using the &quot;cloudwatch&quot; api id.","title":"Getting total disk space used and remaining disk space?","body":"<p>You can also use the <a href=\"http://jclouds.apache.org/reference/javadoc/1.9.x/org/jclouds/cloudwatch/features/package-summary.html\" rel=\"nofollow\">Alarm and Metric</a> APIs to talk to CloudWatch. You'll have to create a context using the \"cloudwatch\" api id.</p>\n"}],"owner":{"account_id":393770,"reputation":6625,"user_id":755806,"accept_rate":55,"display_name":"user755806"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635838805,"creation_date":1439462592,"question_id":31985973,"body_markdown":"I&#39;m using `Apache Jclouds` to get `AWS EC2 CPU` usage metrics. But I do not see any methods to get the total disk space and the remaining disk space. Is there any other API `which provides disk usage information`?","title":"Getting total disk space used and remaining disk space?","body":"<p>I'm using <code>Apache Jclouds</code> to get <code>AWS EC2 CPU</code> usage metrics. But I do not see any methods to get the total disk space and the remaining disk space. Is there any other API <code>which provides disk usage information</code>?</p>\n"},{"tags":["java","maven","intellij-idea","automation","testng"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635839126,"post_id":69806816,"comment_id":123392713,"body_markdown":"you could use a super pom or confihure it in the `~/.m2/settings.xml`.","body":"you could use a super pom or confihure it in the <code>~&#47;.m2&#47;settings.xml</code>."},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635839790,"post_id":69806816,"comment_id":123392908,"body_markdown":"Let me remind you that this repo is include classes, dependencies, settings.\nhow can I do that ?","body":"Let me remind you that this repo is include classes, dependencies, settings. how can I do that ?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635839851,"post_id":69806816,"comment_id":123392928,"body_markdown":"So you want to import all dependencies etc of the repository?","body":"So you want to import all dependencies etc of the repository?"},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635839992,"post_id":69806816,"comment_id":123392968,"body_markdown":"not just importing, also it includes helpers and utils classes, Extent report classes and configs. Config properties files. testng.xml file, and all the infrastructure.\nI want other repositories can fully used this one and will not have to do it over and over (dependencies, utils classes, xmls and so on)","body":"not just importing, also it includes helpers and utils classes, Extent report classes and configs. Config properties files. testng.xml file, and all the infrastructure. I want other repositories can fully used this one and will not have to do it over and over (dependencies, utils classes, xmls and so on)"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635840100,"post_id":69806816,"comment_id":123393005,"body_markdown":"Yes but do you want all dependencies located in one `maven repository` in all project?","body":"Yes but do you want all dependencies located in one <code>maven repository</code> in all project?"},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635840210,"post_id":69806816,"comment_id":123393034,"body_markdown":"I want that the main jar (main project infra repo) will contain all the dependencies and that the other projects can take from him what they need. I other word I want 1 project to role them all .","body":"I want that the main jar (main project infra repo) will contain all the dependencies and that the other projects can take from him what they need. I other word I want 1 project to role them all ."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635840566,"post_id":69806816,"comment_id":123393163,"body_markdown":"Just create the main project using `&lt;packaging&gt;pom&lt;/packaging&gt;`. and include it with `&lt;scope&gt;import&lt;/import&gt;` and `&lt;type&gt;pom&lt;/type&gt;` or add it in the `&lt;parent&gt;` element.","body":"Just create the main project using <code>&lt;packaging&gt;pom&lt;&#47;packaging&gt;</code>. and include it with <code>&lt;scope&gt;import&lt;&#47;import&gt;</code> and <code>&lt;type&gt;pom&lt;&#47;type&gt;</code> or add it in the <code>&lt;parent&gt;</code> element."},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635840673,"post_id":69806816,"comment_id":123393191,"body_markdown":"Do you have any sample? Never tried it","body":"Do you have any sample? Never tried it"},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635850217,"post_id":69806816,"comment_id":123396980,"body_markdown":"I guess that the need is \n1. to work on same workspace with multiple projects / repositories.\n2. To have 1 resource for all of them (dependencies, utils/helpers classes, xml and config files and so on).","body":"I guess that the need is  1. to work on same workspace with multiple projects / repositories. 2. To have 1 resource for all of them (dependencies, utils/helpers classes, xml and config files and so on)."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635850282,"post_id":69806816,"comment_id":123397010,"body_markdown":"util/helper classes and resources can just be put in a dependency.","body":"util/helper classes and resources can just be put in a dependency."},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635850957,"post_id":69806816,"comment_id":123397269,"body_markdown":"but those classes are private, not published in maven central...\nshould work from pipeline","body":"but those classes are private, not published in maven central... should work from pipeline"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635852217,"post_id":69806816,"comment_id":123397731,"body_markdown":"You can install a project to the local repository using `mvn install`.","body":"You can install a project to the local repository using <code>mvn install</code>."},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635855396,"post_id":69806816,"comment_id":123398941,"body_markdown":"That is not helpful because I need a flow to have all the repos getting the settings from super repo","body":"That is not helpful because I need a flow to have all the repos getting the settings from super repo"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635855460,"post_id":69806816,"comment_id":123398969,"body_markdown":"yes, install the super/common repo to the local repository (or deploy it to some private repository) and use it as a dependency","body":"yes, install the super/common repo to the local repository (or deploy it to some private repository) and use it as a dependency"},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1640602351,"post_id":69806816,"comment_id":124612891,"body_markdown":"How about add the project as jar and use it in other repos ?\nwhen I tried it I got this:\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/testng/TestNG","body":"How about add the project as jar and use it in other repos ? when I tried it I got this: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/testng/TestNG"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1640603728,"post_id":69806816,"comment_id":124613247,"body_markdown":"you need to either use a fat JAR/JAR with dependencies or include all dependencies of the project you create the JAR from in the project you use the JAR, too.","body":"you need to either use a fat JAR/JAR with dependencies or include all dependencies of the project you create the JAR from in the project you use the JAR, too."},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1640675788,"post_id":69806816,"comment_id":124629348,"body_markdown":"@dan1st\n I did it!\nI build the project artifact then I used that Jar as library but I got:\njava.lang.NoClassDefFoundError\nor:\nCannot instantiate class.\nSo I need some deep explanation or some sample code. please","body":"@dan1st  I did it! I build the project artifact then I used that Jar as library but I got: java.lang.NoClassDefFoundError or: Cannot instantiate class. So I need some deep explanation or some sample code. please"}],"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635838798,"creation_date":1635838798,"question_id":69806816,"body_markdown":"Using java with maven I have created the automation and it is managed in azure devops pipeline.\r\nI would like to make 1 repository as the infra framework that contains the db connections, utils, helpers, report and dependencies and so on.\r\nThe purpose is to use all other repositories as minimum duplicate code and that they will get all the infra classes and dependencies from the infra repository.\r\n\r\nHow can I do that ? I have tried to convert the infra repo to jar file but it keeps telling me every time that class not found and things like that.\r\n\r\nI appreciate the help here!   ","title":"Git Repositories - Java with maven for Automation pipeline in azure - How can I add repository father for all the repositories?","body":"<p>Using java with maven I have created the automation and it is managed in azure devops pipeline.\nI would like to make 1 repository as the infra framework that contains the db connections, utils, helpers, report and dependencies and so on.\nThe purpose is to use all other repositories as minimum duplicate code and that they will get all the infra classes and dependencies from the infra repository.</p>\n<p>How can I do that ? I have tried to convert the infra repo to jar file but it keeps telling me every time that class not found and things like that.</p>\n<p>I appreciate the help here!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1482046883,"post_id":41206385,"comment_id":69611866,"body_markdown":"`starred.equals(&quot;1&quot;)`","body":"<code>starred.equals(&quot;1&quot;)</code>"},{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":4,"creation_date":1482046911,"post_id":41206385,"comment_id":69611870,"body_markdown":"Possible duplicate of [How do I compare strings in Java?](http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":10671711,"reputation":821,"user_id":7856586,"display_name":"Roman Soviak"},"score":0,"creation_date":1635237579,"post_id":41206385,"comment_id":123236106,"body_markdown":"Small refactoring:\n`isFavorite = starred==&quot;1&quot;`","body":"Small refactoring: <code>isFavorite = starred==&quot;1&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1776193,"reputation":2542,"user_id":1619950,"display_name":"Aleksandr Podkutin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482046891,"creation_date":1482046891,"answer_id":41206397,"question_id":41206385,"body_markdown":"You need to check your result with `equals` method. If you do it with `==`, you try to check if two variables assignment to the same object. And obviously `&quot;1&quot;` and `starred` are different objects.\r\n\r\nTry this:\r\n\r\n    if (&quot;1&quot;.equals(starred) {\r\n","title":"Check if contact is favourite in android","body":"<p>You need to check your result with <code>equals</code> method. If you do it with <code>==</code>, you try to check if two variables assignment to the same object. And obviously <code>\"1\"</code> and <code>starred</code> are different objects.</p>\n\n<p>Try this:</p>\n\n<pre><code>if (\"1\".equals(starred) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21831388,"reputation":81,"user_id":16126283,"display_name":"vaidik limbachiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635838795,"creation_date":1635235276,"answer_id":69719484,"question_id":41206385,"body_markdown":"     public void checkFavorite(){\r\n\r\n        Cursor getContactNumber = getContentResolver().query(\r\n                ContactsContract.Data.CONTENT_URI,\r\n                null,\r\n                ContactsContract.CommonDataKinds.Phone.NUMBER+&quot; LIKE ?&quot;,\r\n                new String[] { &quot;%&quot;+number }, //number is your number to check\r\n                null);\r\n\r\n        if(getContactNumber != null) {\r\n\r\n            while (getContactNumber.moveToNext()) {\r\n                String favcheck = getContactNumber.getString(getContactNumber.getColumnIndex(ContactsContract.CommonDataKinds.Phone.STARRED));\r\n            }\r\n\r\n           if(favcheck.equals(&quot;1&quot;)){\r\n            // contact is fav\r\n           }else{\r\n            // contact is not fav\r\n            }\r\n        }\r\n    }","title":"Check if contact is favourite in android","body":"<pre><code> public void checkFavorite(){\n\n    Cursor getContactNumber = getContentResolver().query(\n            ContactsContract.Data.CONTENT_URI,\n            null,\n            ContactsContract.CommonDataKinds.Phone.NUMBER+&quot; LIKE ?&quot;,\n            new String[] { &quot;%&quot;+number }, //number is your number to check\n            null);\n\n    if(getContactNumber != null) {\n\n        while (getContactNumber.moveToNext()) {\n            String favcheck = getContactNumber.getString(getContactNumber.getColumnIndex(ContactsContract.CommonDataKinds.Phone.STARRED));\n        }\n\n       if(favcheck.equals(&quot;1&quot;)){\n        // contact is fav\n       }else{\n        // contact is not fav\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9873628,"reputation":1,"user_id":7312250,"display_name":"Siranush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1635838795,"creation_date":1482046821,"question_id":41206385,"body_markdown":"I try to check if contact is favorite(starred) in Android. Here what I do:\r\n\r\n    String starred = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.STARRED));\r\n                Boolean isFavorite;\r\n                if(starred==&quot;1&quot;){\r\n                    isFavorite = true;\r\n                }else{\r\n                    isFavorite = false;\r\n                }\r\n\r\nMy isFavorite always returns false, even if starred returns 1.\r\nWhat is wrong with my code?","title":"Check if contact is favourite in android","body":"<p>I try to check if contact is favorite(starred) in Android. Here what I do:</p>\n\n<pre><code>String starred = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.STARRED));\n            Boolean isFavorite;\n            if(starred==\"1\"){\n                isFavorite = true;\n            }else{\n                isFavorite = false;\n            }\n</code></pre>\n\n<p>My isFavorite always returns false, even if starred returns 1.\nWhat is wrong with my code?</p>\n"},{"tags":["java","ssh","jsch","apache-mina"],"comments":[{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1506923404,"post_id":46469328,"comment_id":79994022,"body_markdown":"This is too vague. It&#39;s not clear if you want to keep the &quot;shell&quot; functionality and add a new &quot;shell&quot; command &quot;hello&quot;. Or if you just want to provide some kind of API to return a contents of a file. You should explain your use case, rather than just your imagined implementation.","body":"This is too vague. It&#39;s not clear if you want to keep the &quot;shell&quot; functionality and add a new &quot;shell&quot; command &quot;hello&quot;. Or if you just want to provide some kind of API to return a contents of a file. You should explain your use case, rather than just your imagined implementation."},{"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1506924838,"post_id":46469328,"comment_id":79994441,"body_markdown":"It need to return contents of a file. Sorry for the bad explaining.","body":"It need to return contents of a file. Sorry for the bad explaining."},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1506925120,"post_id":46469328,"comment_id":79994522,"body_markdown":"Edit your question!","body":"Edit your question!"},{"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1506925623,"post_id":46469328,"comment_id":79994674,"body_markdown":"I`ve edited it. Btw the documentation is so low and what I found that maybe is correct it says that i need to create some list of commands that will be accepted... But i have now idea how to make it...","body":"I`ve edited it. Btw the documentation is so low and what I found that maybe is correct it says that i need to create some list of commands that will be accepted... But i have now idea how to make it..."}],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635838662,"creation_date":1506925956,"answer_id":46520501,"question_id":46469328,"body_markdown":"By executing `cmd`, you start a Windows shell. At that moment the session gets out of control of your code. You cannot add a command to the shell using your Java code.\r\n\r\nBut obviously, you can add the command in the Windows shell. Just create a `hello.bat` batch file and make sure it&#39;s in Windows `PATH` for an easy access. Make sure the `PATH` is set for the local (&quot;local&quot; as of the server) account that runs the session.\r\n\r\nThe `hello.bat` batch file can be as trivial as:\r\n\r\n    type c:\\path\\to\\file.txt\r\n\r\n---\r\n\r\nNote that allowing an user to run `cmd.exe` can be pretty dangerous. So make sure you know, what you are doing.\r\n\r\n---\r\n\r\nIn my opinion, you should implement the `CommandFactory` interface.\r\n\r\nMake it create a `Command` that feed the &quot;file&quot; to the stream provided by `setOutputStream`.\r\n\r\nOn client side, with JSch library, use this code:  \r\nhttp://www.jcraft.com/jsch/examples/Exec.java.html","title":"Implement SSH command to return a contents of a file in Apache Mina","body":"<p>By executing <code>cmd</code>, you start a Windows shell. At that moment the session gets out of control of your code. You cannot add a command to the shell using your Java code.</p>\n<p>But obviously, you can add the command in the Windows shell. Just create a <code>hello.bat</code> batch file and make sure it's in Windows <code>PATH</code> for an easy access. Make sure the <code>PATH</code> is set for the local (&quot;local&quot; as of the server) account that runs the session.</p>\n<p>The <code>hello.bat</code> batch file can be as trivial as:</p>\n<pre><code>type c:\\path\\to\\file.txt\n</code></pre>\n<hr />\n<p>Note that allowing an user to run <code>cmd.exe</code> can be pretty dangerous. So make sure you know, what you are doing.</p>\n<hr />\n<p>In my opinion, you should implement the <code>CommandFactory</code> interface.</p>\n<p>Make it create a <code>Command</code> that feed the &quot;file&quot; to the stream provided by <code>setOutputStream</code>.</p>\n<p>On client side, with JSch library, use this code:<br />\n<a href=\"http://www.jcraft.com/jsch/examples/Exec.java.html\" rel=\"nofollow noreferrer\">http://www.jcraft.com/jsch/examples/Exec.java.html</a></p>\n"}],"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46520501,"answer_count":1,"score":2,"last_activity_date":1635838662,"creation_date":1506602118,"question_id":46469328,"body_markdown":"I have created an SSH server which is opening `cmd`. When I connect with Putty `cmd` is open and for example, if I write `dir` (which is the command that I put in the code) everything is okay. \r\n\r\nNow, my question is: How to create some API (for example if i write: `hello` like a command) to return some file content.\r\n\r\nI want to achieve this:\r\n 1. Connect with Putty to the server\r\n 2. write &quot;hello&quot; for example\r\n 3. print in putty console content of some file.\r\n\r\nHere is the code for my SSH server. I am using apache-mina library:\r\n\r\npublic class SshServerMock {\r\n\t\r\n\tpublic static void server() throws IOException, JSchException, SftpException {\r\n\t\tSshServer sshd = SshServer.setUpDefaultServer();\r\n\r\n\t\tsshd.setHost(&quot;127.0.0.1&quot;);\r\n\t\tsshd.setPort(22);\r\n\r\n\t\tsshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(new File(&quot;C://hostkey.ser&quot;)));\r\n\t\tsshd.setPasswordAuthenticator(new PasswordAuthenticator() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic boolean authenticate(String u, String p, ServerSession s) {\t\t\t\t\r\n\t\t\t\treturn (&quot;root&quot;.equals(u) &amp;&amp; &quot;iskratel&quot;.equals(p));\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t});\r\n\r\n\t\tsshd.setShellFactory(new ProcessShellFactory(new String[] { &quot;cmd.exe&quot; }));\r\n\t\tsshd.start();\r\n\t\ttry {\r\n\t\t\tThread.sleep(100000000000l);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n}","title":"Implement SSH command to return a contents of a file in Apache Mina","body":"<p>I have created an SSH server which is opening <code>cmd</code>. When I connect with Putty <code>cmd</code> is open and for example, if I write <code>dir</code> (which is the command that I put in the code) everything is okay. </p>\n\n<p>Now, my question is: How to create some API (for example if i write: <code>hello</code> like a command) to return some file content.</p>\n\n<p>I want to achieve this:\n 1. Connect with Putty to the server\n 2. write \"hello\" for example\n 3. print in putty console content of some file.</p>\n\n<p>Here is the code for my SSH server. I am using apache-mina library:</p>\n\n<p>public class SshServerMock {</p>\n\n<pre><code>public static void server() throws IOException, JSchException, SftpException {\n    SshServer sshd = SshServer.setUpDefaultServer();\n\n    sshd.setHost(\"127.0.0.1\");\n    sshd.setPort(22);\n\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(new File(\"C://hostkey.ser\")));\n    sshd.setPasswordAuthenticator(new PasswordAuthenticator() {\n\n        @Override\n        public boolean authenticate(String u, String p, ServerSession s) {              \n            return (\"root\".equals(u) &amp;&amp; \"iskratel\".equals(p));\n        }   \n\n    });\n\n    sshd.setShellFactory(new ProcessShellFactory(new String[] { \"cmd.exe\" }));\n    sshd.start();\n    try {\n        Thread.sleep(100000000000l);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","console-application","user-input"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1635807750,"post_id":69803651,"comment_id":123387324,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/69803651/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1635811868,"post_id":69803651,"comment_id":123388033,"body_markdown":"Yup, java can&#39;t process that until a newline is pressed in the first place. Nothing you can do about it. Note that if this input came in directly, e.g. via `java yourapp.Main &lt;data`, it would work fine.","body":"Yup, java can&#39;t process that until a newline is pressed in the first place. Nothing you can do about it. Note that if this input came in directly, e.g. via <code>java yourapp.Main &lt;data</code>, it would work fine."}],"owner":{"account_id":20214572,"reputation":13,"user_id":14825783,"display_name":"Jerridan B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635838570,"creation_date":1635807582,"question_id":69803651,"body_markdown":"I have the following code where I am trying to get pairs of two numbers and store them in a 2D list.\r\n\r\n        for (int i = 0; i &lt; numEdges; i++) {\r\n            int x = input.nextInt();\r\n            int y = input.nextInt();\r\n            edges.add(new int[]{x, y});\r\n            System.out.println(&quot;x-y: &quot; + x + &quot; &quot; + y);\r\n        }\r\n\r\nMy code is supposed to accept all input at once in the format below where the first two inputs are used elsewhere.\r\n\r\nMy issue is coming from the sets of pairs in the third line where my for loop is waiting for the \r\nenter key to be pressed before completing its last cycle.\r\n\r\n```\r\n5\r\n5\r\n2 3\r\n3 4\r\n1 2\r\n0 2\r\n2 4\r\n```\r\nThe console output after this code looks like this\r\n```\r\nx-y: 2 3\r\nx-y: 3 4\r\nx-y: 1 2\r\nx-y: 0 2\r\n            //Pauses here on last iteration until enter key pressed\r\nx-y: 2 4    //Then finishes normally\r\n```\r\nI&#39;ve included a screenshot below that shows where the code is waiting for the enter key.\r\n\r\nI&#39;m sure this is a mistake that lies in some misunderstanding of how `nextInt()` works but this is also my first time working with input of this format.\r\n\r\n[![Screenshot of the console output][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FIMa4.png","title":"Using scanner.nextInt() to get 2 integers from multiple lines","body":"<p>I have the following code where I am trying to get pairs of two numbers and store them in a 2D list.</p>\n<pre><code>    for (int i = 0; i &lt; numEdges; i++) {\n        int x = input.nextInt();\n        int y = input.nextInt();\n        edges.add(new int[]{x, y});\n        System.out.println(&quot;x-y: &quot; + x + &quot; &quot; + y);\n    }\n</code></pre>\n<p>My code is supposed to accept all input at once in the format below where the first two inputs are used elsewhere.</p>\n<p>My issue is coming from the sets of pairs in the third line where my for loop is waiting for the\nenter key to be pressed before completing its last cycle.</p>\n<pre><code>5\n5\n2 3\n3 4\n1 2\n0 2\n2 4\n</code></pre>\n<p>The console output after this code looks like this</p>\n<pre><code>x-y: 2 3\nx-y: 3 4\nx-y: 1 2\nx-y: 0 2\n            //Pauses here on last iteration until enter key pressed\nx-y: 2 4    //Then finishes normally\n</code></pre>\n<p>I've included a screenshot below that shows where the code is waiting for the enter key.</p>\n<p>I'm sure this is a mistake that lies in some misunderstanding of how <code>nextInt()</code> works but this is also my first time working with input of this format.</p>\n<p><a href=\"https://i.stack.imgur.com/FIMa4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FIMa4.png\" alt=\"Screenshot of the console output\" /></a></p>\n"},{"tags":["java","android-studio","kotlin","android-mediaplayer","media-player"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1635794046,"post_id":69800380,"comment_id":123383529,"body_markdown":"Have you tried adding some logging to each step in the process, and checking the timestamps to see exactly which part is taking so long, and where it&#39;s different when the screen is on? How long is &quot;a long time&quot;? I&#39;m guessing you&#39;re talking about tracks changing automatically when one ends (so manual skipping works fine) - you should probably post the code that handles that too (whatever `actionPlaying.nextBtnClicked()` does). If I had to guess, when the screen is off the phone is giving your app less priority, and all the work is taking longer- seems like a lot of steps, including external I/O","body":"Have you tried adding some logging to each step in the process, and checking the timestamps to see exactly which part is taking so long, and where it&#39;s different when the screen is on? How long is &quot;a long time&quot;? I&#39;m guessing you&#39;re talking about tracks changing automatically when one ends (so manual skipping works fine) - you should probably post the code that handles that too (whatever <code>actionPlaying.nextBtnClicked()</code> does). If I had to guess, when the screen is off the phone is giving your app less priority, and all the work is taking longer- seems like a lot of steps, including external I/O"},{"owner":{"account_id":23206365,"reputation":21,"user_id":17300538,"display_name":"Alex Goodman"},"score":0,"creation_date":1635834660,"post_id":69800380,"comment_id":123391581,"body_markdown":"@cactustictacs, Hello! Yes, I added Log, removed it so that it wouldn&#39;t be superfluous. Added nextBtnClicked.","body":"@cactustictacs, Hello! Yes, I added Log, removed it so that it wouldn&#39;t be superfluous. Added nextBtnClicked."},{"owner":{"account_id":23206365,"reputation":21,"user_id":17300538,"display_name":"Alex Goodman"},"score":0,"creation_date":1635835534,"post_id":69800380,"comment_id":123391763,"body_markdown":"@cactustictacs, As for how long - it does not play in any way before either turning on the screen or pressing the volume button","body":"@cactustictacs, As for how long - it does not play in any way before either turning on the screen or pressing the volume button"}],"answers":[{"tags":[],"owner":{"account_id":23206365,"reputation":21,"user_id":17300538,"display_name":"Alex Goodman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635837513,"creation_date":1635837513,"answer_id":69806641,"question_id":69800380,"body_markdown":"I found a problem. It was necessary to call `MediaPlayer.setwakemode(getApplicationContext(), PowerManager.PARTIAL_WAKE_LOCK);`","title":"The problem with moving to the next track","body":"<p>I found a problem. It was necessary to call <code>MediaPlayer.setwakemode(getApplicationContext(), PowerManager.PARTIAL_WAKE_LOCK);</code></p>\n"}],"owner":{"account_id":23206365,"reputation":21,"user_id":17300538,"display_name":"Alex Goodman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69806641,"answer_count":1,"score":0,"last_activity_date":1635838415,"creation_date":1635786902,"question_id":69800380,"body_markdown":"I&#39;m making a music player, and there was a problem when switching to the next song. When the phone is in working condition (the screen is on) the tracks switch smoothly, when the screen is off there is a long pause, the song starts only after a long time (very long!!!) or when the screen is turned on. Also, everything works well with a headset (Bluetooth), songs switch smoothly even when the screen is turned off. I use `MediaPlayer.prepare` to prepare the track (music files are taken from the SD card, so I don&#39;t see any point in using `MediaPlayer.prepareAsync()`). Songs are played using Service. Since the player works fine when the screen is turned on and poorly when it is turned off, then this is the problem. I tried everything, searched all the articles about media player in Russian and English, reviewed YouTube. Help is also accepted on Kotlin. \r\n(here is the same question. but there is no answer. https://stackoverflow.com/questions/12329601/how-to-use-wake-lock-for-android-mediaplayer)\r\nBelow is the code:\r\n\r\n    public class MusicService extends Service implements MediaPlayer.OnCompletionListener,\r\n            MediaPlayer.OnPreparedListener {\r\n    \r\n        IBinder mBinder = new MyBinder();\r\n        private MediaPlayer mediaPlayer = null;\r\n        private Uri uri;\r\n        private int position = POSITION_PLAY;\r\n        public static AudioManager audioManager;\r\n        int result;\r\n        private NotificationReceiver notificationReceiver;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n    \r\n            notificationReceiver = new NotificationReceiver();\r\n            audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n            result = audioManager.requestAudioFocus(this, AudioManager.STREAM_MUSIC,\r\n                    AudioManager.AUDIOFOCUS_GAIN);\r\n            if (result != AudioManager.AUDIOFOCUS_REQUEST_GRANTED)\r\n                return;\r\n    \r\n            IntentFilter intentFilter = new IntentFilter(AudioManager.ACTION_AUDIO_BECOMING_NOISY);\r\n            registerReceiver(notificationReceiver, intentFilter);\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            releaseMP();\r\n            unregisterReceiver(notificationReceiver);\r\n            audioManager.abandonAudioFocus(this);\r\n            Log.e(TAG, &quot;onDestroy()&quot;);\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return mBinder;\r\n        }\r\n    \r\n        public class MyBinder extends Binder {\r\n            MusicService getService() {\r\n                return MusicService.this;\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            if(myPosition != -1){\r\n                playMedia(myPosition);\r\n            }\r\n            return START_STICKY;\r\n        }\r\n    \r\n        public void createMediaPlayer(int positionInner) {\r\n            position = positionInner;\r\n            uri = Uri.parse(musicFiles.get(position).getPath());\r\n            mediaPlayer = null;\r\n            mediaPlayer = new MediaPlayer();\r\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n            try {\r\n                mediaPlayer.setDataSource(getApplicationContext(), uri);\r\n            } catch (IOException ioException) {\r\n                ioException.printStackTrace();\r\n            }\r\n            prepare();\r\n        }\r\n    \r\n        private void playMedia(int position) {\r\n            if(mediaPlayer != null) {\r\n                mediaPlayer.stop();\r\n                releaseMP();\r\n            }\r\n            createMediaPlayer(position);\r\n            mediaPlayer.start();\r\n        }\r\n    \r\n        public void prepare() {\r\n            try {\r\n                mediaPlayer.prepare();\r\n            } catch (IOException ioException) {\r\n                ioException.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        void showNotification(int playPauseBtn){\r\n            ...\r\n            startForeground(2, notification);\r\n            if(!isGoing &amp;&amp; IS_LIVE) {\r\n                stopForeground(false);\r\n            }\r\n        }\r\n    \r\n    \r\n        void OnCompleted(){\r\n            mediaPlayer.setOnCompletionListener(this);\r\n        }\r\n    \r\n        void OnPrepared() { mediaPlayer.setOnPreparedListener(this);}\r\n    \r\n        @Override\r\n        public void onCompletion(MediaPlayer mp) {\r\n            if(actionPlaying != null){\r\n                actionPlaying.nextBtnClicked();\r\n                if(mediaPlayer != null){\r\n                    mediaPlayer.start();\r\n                    OnCompleted();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void releaseMP() {\r\n            if (mediaPlayer != null) {\r\n                try {\r\n                    mediaPlayer.release();\r\n                    mediaPlayer = null;\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onPrepared(MediaPlayer mp) {\r\n            mp.start();\r\n        }\r\n        \r\n    \r\n\r\n    public void start() {\r\n        mediaPlayer.start();\r\n    }\r\n    public boolean isPlaying() {\r\n        return mediaPlayer.isPlaying();\r\n    }\r\n    public void stop() {\r\n        mediaPlayer.stop();\r\n    }\r\n    public void pause() {\r\n        mediaPlayer.pause();\r\n    }\r\n    public void release() {\r\n        releaseMP();\r\n    }\r\n    public int getDuration() {\r\n        return mediaPlayer.getDuration();\r\n    }\r\n    public void seekTo(int position) {\r\n        mediaPlayer.seekTo(position);\r\n    }\r\n    public int getCurrentPosition() {\r\n        return mediaPlayer.getCurrentPosition();\r\n    }\r\n    }\r\n\r\nCode for the method:\r\n\r\n    public void nextBtnClicked() {\r\n            if(musicService.isPlaying()) {\r\n                musicService.stop();\r\n                musicService.release();\r\n                if(SHUFFLE &amp;&amp; !REPEAT){\r\n                    POSITION_PLAY = getRandom(ListSongs.size() - 1);\r\n                }\r\n                else if(!SHUFFLE &amp;&amp; !REPEAT){\r\n                    POSITION_PLAY = ((POSITION_PLAY + 1) % ListSongs.size());\r\n                }\r\n                uri = Uri.parse(ListSongs.get(POSITION_PLAY).getPath());\r\n                musicService.createMediaPlayer(POSITION_PLAY);\r\n                if(is_live_player_activity) {\r\n                    metaData(uri);\r\n                }\r\n                musicService.OnCompleted();\r\n                musicService.showNotification(R.drawable.ic_pause);\r\n                playPauseBtn.setBackgroundResource(R.drawable.ic_pause);\r\n                musicService.start();\r\n            }\r\n            else {\r\n                musicService.stop();\r\n                musicService.release();\r\n                if(SHUFFLE &amp;&amp; !REPEAT){\r\n                    POSITION_PLAY = getRandom(ListSongs.size() - 1);\r\n                }\r\n                else if(!SHUFFLE &amp;&amp; !REPEAT){\r\n                    POSITION_PLAY = ((POSITION_PLAY + 1) % ListSongs.size());\r\n                }\r\n                uri = Uri.parse(ListSongs.get(POSITION_PLAY).getPath());\r\n                musicService.createMediaPlayer(POSITION_PLAY);\r\n                if(is_live_player_activity) {\r\n                    metaData(uri);\r\n                }\r\n                musicService.OnCompleted();\r\n                if(FLAG){\r\n                    musicService.showNotification(R.drawable.ic_pause);\r\n                    playPauseBtn.setBackgroundResource(R.drawable.ic_pause);\r\n                } else {\r\n                    musicService.showNotification(R.drawable.ic_play);\r\n                    playPauseBtn.setBackgroundResource(R.drawable.ic_play);\r\n                }\r\n            }\r\n        }\r\n\r\nManifest:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.example.music&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:name=&quot;.ApplicationClass&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/Theme.Music&quot;&gt;\r\n    \r\n            &lt;activity android:name=&quot;.MusicActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:launchMode=&quot;singleTask&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ...\r\n            &lt;service android:name=&quot;.MusicService&quot; android:enabled=&quot;true&quot;/&gt;\r\n            &lt;receiver android:name=&quot;.NotificationReceiver&quot; android:enabled=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.media.AUDIO_BECOMING_NOISY&quot; /&gt;\r\n                    &lt;action android:name=&quot;actionprevious&quot; /&gt;\r\n                    &lt;action android:name=&quot;actionnext&quot; /&gt;\r\n                    &lt;action android:name=&quot;actionplay&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n","title":"The problem with moving to the next track","body":"<p>I'm making a music player, and there was a problem when switching to the next song. When the phone is in working condition (the screen is on) the tracks switch smoothly, when the screen is off there is a long pause, the song starts only after a long time (very long!!!) or when the screen is turned on. Also, everything works well with a headset (Bluetooth), songs switch smoothly even when the screen is turned off. I use <code>MediaPlayer.prepare</code> to prepare the track (music files are taken from the SD card, so I don't see any point in using <code>MediaPlayer.prepareAsync()</code>). Songs are played using Service. Since the player works fine when the screen is turned on and poorly when it is turned off, then this is the problem. I tried everything, searched all the articles about media player in Russian and English, reviewed YouTube. Help is also accepted on Kotlin.\n(here is the same question. but there is no answer. <a href=\"https://stackoverflow.com/questions/12329601/how-to-use-wake-lock-for-android-mediaplayer\">How to use wake lock for android mediaplayer?</a>)\nBelow is the code:</p>\n<pre><code>public class MusicService extends Service implements MediaPlayer.OnCompletionListener,\n        MediaPlayer.OnPreparedListener {\n\n    IBinder mBinder = new MyBinder();\n    private MediaPlayer mediaPlayer = null;\n    private Uri uri;\n    private int position = POSITION_PLAY;\n    public static AudioManager audioManager;\n    int result;\n    private NotificationReceiver notificationReceiver;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        notificationReceiver = new NotificationReceiver();\n        audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n        result = audioManager.requestAudioFocus(this, AudioManager.STREAM_MUSIC,\n                AudioManager.AUDIOFOCUS_GAIN);\n        if (result != AudioManager.AUDIOFOCUS_REQUEST_GRANTED)\n            return;\n\n        IntentFilter intentFilter = new IntentFilter(AudioManager.ACTION_AUDIO_BECOMING_NOISY);\n        registerReceiver(notificationReceiver, intentFilter);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        releaseMP();\n        unregisterReceiver(notificationReceiver);\n        audioManager.abandonAudioFocus(this);\n        Log.e(TAG, &quot;onDestroy()&quot;);\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return mBinder;\n    }\n\n    public class MyBinder extends Binder {\n        MusicService getService() {\n            return MusicService.this;\n        }\n\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        if(myPosition != -1){\n            playMedia(myPosition);\n        }\n        return START_STICKY;\n    }\n\n    public void createMediaPlayer(int positionInner) {\n        position = positionInner;\n        uri = Uri.parse(musicFiles.get(position).getPath());\n        mediaPlayer = null;\n        mediaPlayer = new MediaPlayer();\n        mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n        try {\n            mediaPlayer.setDataSource(getApplicationContext(), uri);\n        } catch (IOException ioException) {\n            ioException.printStackTrace();\n        }\n        prepare();\n    }\n\n    private void playMedia(int position) {\n        if(mediaPlayer != null) {\n            mediaPlayer.stop();\n            releaseMP();\n        }\n        createMediaPlayer(position);\n        mediaPlayer.start();\n    }\n\n    public void prepare() {\n        try {\n            mediaPlayer.prepare();\n        } catch (IOException ioException) {\n            ioException.printStackTrace();\n        }\n    }\n\n    void showNotification(int playPauseBtn){\n        ...\n        startForeground(2, notification);\n        if(!isGoing &amp;&amp; IS_LIVE) {\n            stopForeground(false);\n        }\n    }\n\n\n    void OnCompleted(){\n        mediaPlayer.setOnCompletionListener(this);\n    }\n\n    void OnPrepared() { mediaPlayer.setOnPreparedListener(this);}\n\n    @Override\n    public void onCompletion(MediaPlayer mp) {\n        if(actionPlaying != null){\n            actionPlaying.nextBtnClicked();\n            if(mediaPlayer != null){\n                mediaPlayer.start();\n                OnCompleted();\n            }\n        }\n    }\n\n    private void releaseMP() {\n        if (mediaPlayer != null) {\n            try {\n                mediaPlayer.release();\n                mediaPlayer = null;\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    public void onPrepared(MediaPlayer mp) {\n        mp.start();\n    }\n    \n\n\npublic void start() {\n    mediaPlayer.start();\n}\npublic boolean isPlaying() {\n    return mediaPlayer.isPlaying();\n}\npublic void stop() {\n    mediaPlayer.stop();\n}\npublic void pause() {\n    mediaPlayer.pause();\n}\npublic void release() {\n    releaseMP();\n}\npublic int getDuration() {\n    return mediaPlayer.getDuration();\n}\npublic void seekTo(int position) {\n    mediaPlayer.seekTo(position);\n}\npublic int getCurrentPosition() {\n    return mediaPlayer.getCurrentPosition();\n}\n}\n</code></pre>\n<p>Code for the method:</p>\n<pre><code>public void nextBtnClicked() {\n        if(musicService.isPlaying()) {\n            musicService.stop();\n            musicService.release();\n            if(SHUFFLE &amp;&amp; !REPEAT){\n                POSITION_PLAY = getRandom(ListSongs.size() - 1);\n            }\n            else if(!SHUFFLE &amp;&amp; !REPEAT){\n                POSITION_PLAY = ((POSITION_PLAY + 1) % ListSongs.size());\n            }\n            uri = Uri.parse(ListSongs.get(POSITION_PLAY).getPath());\n            musicService.createMediaPlayer(POSITION_PLAY);\n            if(is_live_player_activity) {\n                metaData(uri);\n            }\n            musicService.OnCompleted();\n            musicService.showNotification(R.drawable.ic_pause);\n            playPauseBtn.setBackgroundResource(R.drawable.ic_pause);\n            musicService.start();\n        }\n        else {\n            musicService.stop();\n            musicService.release();\n            if(SHUFFLE &amp;&amp; !REPEAT){\n                POSITION_PLAY = getRandom(ListSongs.size() - 1);\n            }\n            else if(!SHUFFLE &amp;&amp; !REPEAT){\n                POSITION_PLAY = ((POSITION_PLAY + 1) % ListSongs.size());\n            }\n            uri = Uri.parse(ListSongs.get(POSITION_PLAY).getPath());\n            musicService.createMediaPlayer(POSITION_PLAY);\n            if(is_live_player_activity) {\n                metaData(uri);\n            }\n            musicService.OnCompleted();\n            if(FLAG){\n                musicService.showNotification(R.drawable.ic_pause);\n                playPauseBtn.setBackgroundResource(R.drawable.ic_pause);\n            } else {\n                musicService.showNotification(R.drawable.ic_play);\n                playPauseBtn.setBackgroundResource(R.drawable.ic_play);\n            }\n        }\n    }\n</code></pre>\n<p>Manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.music&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:name=&quot;.ApplicationClass&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:theme=&quot;@style/Theme.Music&quot;&gt;\n\n        &lt;activity android:name=&quot;.MusicActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:launchMode=&quot;singleTask&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ...\n        &lt;service android:name=&quot;.MusicService&quot; android:enabled=&quot;true&quot;/&gt;\n        &lt;receiver android:name=&quot;.NotificationReceiver&quot; android:enabled=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n                &lt;action android:name=&quot;android.media.AUDIO_BECOMING_NOISY&quot; /&gt;\n                &lt;action android:name=&quot;actionprevious&quot; /&gt;\n                &lt;action android:name=&quot;actionnext&quot; /&gt;\n                &lt;action android:name=&quot;actionplay&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","class","lambda","stream","method-reference"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1635436140,"post_id":69757097,"comment_id":123303728,"body_markdown":"`customerInput(Bank::addCustomerTransaction)` is basically translated to `(bank, branchName, customerName, transaction) -&gt; bank.addCustomerTransaction(branchName, customerName, transaction))` as they have the same signature. The catch is that the first parameter `bank` is the bank instance and `addCustomerTransaction(String branchName, String customerName, Transaction transcation)` (guessed the param types) actually has an implicit first `this` parameter which is the bank. So this method is different from the static `addCustomerTransaction()`.","body":"<code>customerInput(Bank::addCustomerTransaction)</code> is basically translated to <code>(bank, branchName, customerName, transaction) -&gt; bank.addCustomerTransaction(branchName, customerName, transaction))</code> as they have the same signature. The catch is that the first parameter <code>bank</code> is the bank instance and <code>addCustomerTransaction(String branchName, String customerName, Transaction transcation)</code> (guessed the param types) actually has an implicit first <code>this</code> parameter which is the bank. So this method is different from the static <code>addCustomerTransaction()</code>."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1635436899,"post_id":69757097,"comment_id":123304064,"body_markdown":"Here&#39;s also a quick find for relevant topic that will hopefully explain different styles of lambdas and method references in Java: https://www.geeksforgeeks.org/method-references-in-java-with-examples/","body":"Here&#39;s also a quick find for relevant topic that will hopefully explain different styles of lambdas and method references in Java: <a href=\"https://www.geeksforgeeks.org/method-references-in-java-with-examples/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/method-references-in-java-with-examples</a>"},{"owner":{"display_name":"user17188729"},"score":0,"creation_date":1635790159,"post_id":69757097,"comment_id":123382165,"body_markdown":"@Thomas Thanks a lot, but could not understand completely. Maybe my example is not a proper example. Could you pls explain by using a proper example as an answer?","body":"@Thomas Thanks a lot, but could not understand completely. Maybe my example is not a proper example. Could you pls explain by using a proper example as an answer?"},{"owner":{"display_name":"user17188729"},"score":0,"creation_date":1635790237,"post_id":69757097,"comment_id":123382196,"body_markdown":"@M.Prokhorov Seems a useful page, thanks a lot.","body":"@M.Prokhorov Seems a useful page, thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635838290,"creation_date":1635838290,"answer_id":69806751,"question_id":69757097,"body_markdown":"No, this won&#39;t be a recursive call since `Bank::addCustomerTransaction` won&#39;t refer to `private static void addCustomerTransaction()` but to a method with the same name and a fitting signature. I&#39;ll provide a simple answer but please look for a proper tutorial on this for details.\r\n\r\nLet&#39;s assume the parameter for `customerInput()` is an interface that has a method like this:\r\n\r\n    void takeInput(Bank bank, String branchName, String customerName, Transaction transaction);\r\n\r\nNow you could pass any method reference that matches this signature and the same method resolution rules apply that Java uses for normal method calls, i.e. if you have 2 methods `void foo(int x)` and `void foo(long x)` and a call `foo(2)` the compiler will need to determine whether you mean to call the 1st or 2nd method (here the 1st method would be chosen because `1` is an `int` literal).\r\n\r\n_With those rules in place, how does the compiler select the method in your case?_\r\n\r\nLet&#39;s assume we have the following class:\r\n\r\n    class Bank {\r\n       void addCustomerTransaction(String branchName, String customerName, Transaction transaction) { ... }\r\n\r\n       static void addCustomerTransaction() {\r\n         customerInput(Bank::addCustomerTransaction);\r\n       }\r\n    }\r\n\r\n\r\n_Why isn&#39;t this a recursive call?_ \r\n\r\nBecause `void addCustomerTransaction()` doesn&#39;t match the signature required for `void takeInput(Bank, String, String, Transaction)` at all.\r\n\r\n_But why does the instance method `void addCustomerTransaction(String, String, Transaction)` match?_\r\n\r\nThat&#39;s because instance methods _implicitly_ get a first parameter which is a reference to the instance (i.e. the `this` reference), so _to the compiler_ that method looks like this (internally there is no difference between static and instance methods):\r\n\r\n     void addCustomerTransaction(Bank, String, String, Transaction)\r\n\r\nNow this matches the required signature and hence the method can be called.\r\n\r\nTo prove this, try to add a static method with the same signature:\r\n\r\n     static void addCustomerTransaction(Bank bank, String branchName, String customerName, Transaction transaction) { ... }\r\n\r\nNow the compiler can&#39;t decide whether to use the static method or the instance method and it will tell you so.","title":"Calling method reference using lambda (:: operator)","body":"<p>No, this won't be a recursive call since <code>Bank::addCustomerTransaction</code> won't refer to <code>private static void addCustomerTransaction()</code> but to a method with the same name and a fitting signature. I'll provide a simple answer but please look for a proper tutorial on this for details.</p>\n<p>Let's assume the parameter for <code>customerInput()</code> is an interface that has a method like this:</p>\n<pre><code>void takeInput(Bank bank, String branchName, String customerName, Transaction transaction);\n</code></pre>\n<p>Now you could pass any method reference that matches this signature and the same method resolution rules apply that Java uses for normal method calls, i.e. if you have 2 methods <code>void foo(int x)</code> and <code>void foo(long x)</code> and a call <code>foo(2)</code> the compiler will need to determine whether you mean to call the 1st or 2nd method (here the 1st method would be chosen because <code>1</code> is an <code>int</code> literal).</p>\n<p><em>With those rules in place, how does the compiler select the method in your case?</em></p>\n<p>Let's assume we have the following class:</p>\n<pre><code>class Bank {\n   void addCustomerTransaction(String branchName, String customerName, Transaction transaction) { ... }\n\n   static void addCustomerTransaction() {\n     customerInput(Bank::addCustomerTransaction);\n   }\n}\n</code></pre>\n<p><em>Why isn't this a recursive call?</em></p>\n<p>Because <code>void addCustomerTransaction()</code> doesn't match the signature required for <code>void takeInput(Bank, String, String, Transaction)</code> at all.</p>\n<p><em>But why does the instance method <code>void addCustomerTransaction(String, String, Transaction)</code> match?</em></p>\n<p>That's because instance methods <em>implicitly</em> get a first parameter which is a reference to the instance (i.e. the <code>this</code> reference), so <em>to the compiler</em> that method looks like this (internally there is no difference between static and instance methods):</p>\n<pre><code> void addCustomerTransaction(Bank, String, String, Transaction)\n</code></pre>\n<p>Now this matches the required signature and hence the method can be called.</p>\n<p>To prove this, try to add a static method with the same signature:</p>\n<pre><code> static void addCustomerTransaction(Bank bank, String branchName, String customerName, Transaction transaction) { ... }\n</code></pre>\n<p>Now the compiler can't decide whether to use the static method or the instance method and it will tell you so.</p>\n"}],"owner":{"display_name":"user17188729"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69806751,"answer_count":1,"score":-1,"last_activity_date":1635838290,"creation_date":1635435634,"question_id":69757097,"body_markdown":"I have seen some approaches as shown below: \r\n\r\n***calling like this:***\r\n\r\n```\r\nprivate static void addCustomerTransaction() {\r\n  customerInput((bank, branchName, customerName, transaction) -&gt;\r\n      bank.addCustomerTransaction(branchName, customerName, transaction));\r\n}\r\n\r\nprivate static void addCustomer() {\r\n  customerInput((bank, branchName, customerName, transaction) -&gt;\r\n      bank.addCustomer(branchName, customerName, transaction));\r\n}\r\n\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***or using method references:***\r\n\r\n\r\n```\r\nprivate static void addCustomerTransaction() {\r\n  customerInput(Bank::addCustomerTransaction);\r\n}\r\n\r\nprivate static void addCustomer() {\r\n  customerInput(Bank::addCustomer);\r\n}\r\n```\r\n\r\nI read that code like that: When calling `addCustomerTransaction()` method, it calls the `customerInput` method by passing `Bank` class&#39;s `addCustomer` method. But it seems to be a recursive call. SO, what is the meaning and could you pls give a brief example? \r\n\r\nThanks in advance. ","title":"Calling method reference using lambda (:: operator)","body":"<p>I have seen some approaches as shown below:</p>\n<p><em><strong>calling like this:</strong></em></p>\n<pre><code>private static void addCustomerTransaction() {\n  customerInput((bank, branchName, customerName, transaction) -&gt;\n      bank.addCustomerTransaction(branchName, customerName, transaction));\n}\n\nprivate static void addCustomer() {\n  customerInput((bank, branchName, customerName, transaction) -&gt;\n      bank.addCustomer(branchName, customerName, transaction));\n}\n\n</code></pre>\n<br/>\n<p><em><strong>or using method references:</strong></em></p>\n<pre><code>private static void addCustomerTransaction() {\n  customerInput(Bank::addCustomerTransaction);\n}\n\nprivate static void addCustomer() {\n  customerInput(Bank::addCustomer);\n}\n</code></pre>\n<p>I read that code like that: When calling <code>addCustomerTransaction()</code> method, it calls the <code>customerInput</code> method by passing <code>Bank</code> class's <code>addCustomer</code> method. But it seems to be a recursive call. SO, what is the meaning and could you pls give a brief example?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-restcontroller","spring-resttemplate"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1635794285,"post_id":69801732,"comment_id":123383610,"body_markdown":"And do you have a question?","body":"And do you have a question?"},{"owner":{"account_id":5990231,"reputation":23,"user_id":4706499,"display_name":"huk12353"},"score":0,"creation_date":1635794645,"post_id":69801732,"comment_id":123383738,"body_markdown":"The question is how can I call the rest endpoint with the concurrent request,? I know how to call single-threaded using rest templates.","body":"The question is how can I call the rest endpoint with the concurrent request,? I know how to call single-threaded using rest templates."},{"owner":{"account_id":442447,"reputation":3141,"user_id":833070,"accept_rate":100,"display_name":"Draken"},"score":0,"creation_date":1635838294,"post_id":69801732,"comment_id":123392499,"body_markdown":"Sharing your research helps everyone. Tell us what you&#39;ve tried and why it didn’t meet your needs. This demonstrates that you’ve taken the time to try to help yourself, it saves us from reiterating obvious answers, and most of all it helps you get a more specific and relevant answer! See also: [ask]","body":"Sharing your research helps everyone. Tell us what you&#39;ve tried and why it didn’t meet your needs. This demonstrates that you’ve taken the time to try to help yourself, it saves us from reiterating obvious answers, and most of all it helps you get a more specific and relevant answer! See also: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635801386,"creation_date":1635798970,"answer_id":69802524,"question_id":69801732,"body_markdown":"**Use `RestTemplate` with `ExecutorService`**\r\n\r\nUsing `ExecutorService` to perform 3 concurrent calls with `RestTemplate`:\r\n\r\n    Strnig url = &quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=1000&quot;;\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    ExecutorService executor = Executors.newFixedThreadPool(3);\r\n    \r\n    Future&lt;String&gt; future1 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\r\n    Future&lt;String&gt; future2 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\r\n    Future&lt;String&gt; future3 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\r\n                    \r\n    String response1 = future1.get();\r\n    String response2 = future2.get();\r\n    String response3 = future3.get();\r\n    \r\n    executor.shutdown();\r\n\r\n\r\n**Use reactive `WebClient`**\r\n\r\nUsing reactive `WebClient` to perform 3 concurrent calls and display the response in `subscribe` callback:\r\n\r\n    String url = &quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=5000&quot;;\r\n    WebClient webClient = WebClient.builder().build();\r\n\r\n    Mono&lt;String&gt; mono1 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\r\n    Mono&lt;String&gt; mono2 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\r\n    Mono&lt;String&gt; mono3 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\r\n                    \r\n    Flux.merge(mono1, mono2, mono3).subscribe(System.out::println);\r\n\r\n","title":"Call Rest end point with concurrent request","body":"<p><strong>Use <code>RestTemplate</code> with <code>ExecutorService</code></strong></p>\n<p>Using <code>ExecutorService</code> to perform 3 concurrent calls with <code>RestTemplate</code>:</p>\n<pre><code>Strnig url = &quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=1000&quot;;\nRestTemplate restTemplate = new RestTemplate();\nExecutorService executor = Executors.newFixedThreadPool(3);\n\nFuture&lt;String&gt; future1 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\nFuture&lt;String&gt; future2 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\nFuture&lt;String&gt; future3 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\n                \nString response1 = future1.get();\nString response2 = future2.get();\nString response3 = future3.get();\n\nexecutor.shutdown();\n</code></pre>\n<p><strong>Use reactive <code>WebClient</code></strong></p>\n<p>Using reactive <code>WebClient</code> to perform 3 concurrent calls and display the response in <code>subscribe</code> callback:</p>\n<pre><code>String url = &quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=5000&quot;;\nWebClient webClient = WebClient.builder().build();\n\nMono&lt;String&gt; mono1 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\nMono&lt;String&gt; mono2 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\nMono&lt;String&gt; mono3 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\n                \nFlux.merge(mono1, mono2, mono3).subscribe(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":5990231,"reputation":23,"user_id":4706499,"display_name":"huk12353"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69802524,"answer_count":1,"score":1,"last_activity_date":1635838267,"creation_date":1635794131,"question_id":69801732,"body_markdown":"    &quot;url&quot;:&quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=1000&quot;  //url that takes 1000 ms to return \t&quot;isParallel&quot;: true, \t&quot;count&quot;: &quot;3&quot; \r\n\r\nisParallel = true means make parallel calls, false means – make a sequential call, count represents the number of parallel or sequential calls to make. \r\n\r\nI have to call the above endpoint and the output should be 1 sec.\r\n\r\nHow can I call the rest endpoint with the concurrent request? I know how to call single-threaded using rest templates.","title":"Call Rest end point with concurrent request","body":"<pre><code>&quot;url&quot;:&quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=1000&quot;  //url that takes 1000 ms to return     &quot;isParallel&quot;: true,     &quot;count&quot;: &quot;3&quot; \n</code></pre>\n<p>isParallel = true means make parallel calls, false means – make a sequential call, count represents the number of parallel or sequential calls to make.</p>\n<p>I have to call the above endpoint and the output should be 1 sec.</p>\n<p>How can I call the rest endpoint with the concurrent request? I know how to call single-threaded using rest templates.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","reactive-programming"],"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":1,"creation_date":1635693491,"post_id":69787788,"comment_id":123357968,"body_markdown":"See https://stackoverflow.com/a/69533407/8909235","body":"See <a href=\"https://stackoverflow.com/a/69533407/8909235\">stackoverflow.com/a/69533407/8909235</a>"},{"owner":{"account_id":23198012,"reputation":1,"user_id":17293340,"display_name":"cafff"},"score":0,"creation_date":1635700861,"post_id":69787788,"comment_id":123359837,"body_markdown":"@lkatiforis i saw the post but I am need to store it in an integer value and i tried that method in the post but it doesn&#39;t work. I am not sure what I am doing wrong..plz help","body":"@lkatiforis i saw the post but I am need to store it in an integer value and i tried that method in the post but it doesn&#39;t work. I am not sure what I am doing wrong..plz help"},{"owner":{"account_id":23198012,"reputation":1,"user_id":17293340,"display_name":"cafff"},"score":0,"creation_date":1635740130,"post_id":69787788,"comment_id":123366570,"body_markdown":"@lkatiforis in the code i wanted to subscribe the result as done in the post but it gives an error. `CustomSequences cs=new CustomSequences();` `counter.subscribe(v-&gt;cs.setSeq(v));` it cannot set it to the cs because it requires an int and custom sequence is provided.","body":"@lkatiforis in the code i wanted to subscribe the result as done in the post but it gives an error. <code>CustomSequences cs=new CustomSequences();</code> <code>counter.subscribe(v-&gt;cs.setSeq(v));</code> it cannot set it to the cs because it requires an int and custom sequence is provided."}],"owner":{"account_id":23198012,"reputation":1,"user_id":17293340,"display_name":"cafff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635818832,"answer_count":0,"score":0,"last_activity_date":1635838185,"creation_date":1635692451,"question_id":69787788,"body_markdown":"I want to return the int value from my Mono class.\r\n```java\r\nint i = counter.map(u -&gt; u.getSeq());\r\n```\r\n\r\nI tried this but it show me error as required type: int, \r\nProvided: Mono&lt;java.lang.Object&gt;\r\n\r\nthis is my Method\r\n```java\r\npublic int getNextSequence(String seqName) {\r\n    Mono&lt;CustomSequences&gt; counter = \r\n        reactiveMongoOperations.findAndModify(\r\n            query(where(&quot;_id&quot;).is(seqName)),\r\n            new Update().inc(&quot;seq&quot;, 1),\r\n            options().returnNew(true).upsert(true),\r\n            CustomSequences.class);\r\n    CustomSequences cs = new CustomSequences();\r\n    counter.subscribe(v -&gt; cs.setSeq(v));\r\n    int i = counter.map(u -&gt; u.getSeq());\r\n    return !Objects.isNull(counter) ? i : &quot;1&quot;;\r\n}","title":"How to return int value from Mono in reactive programming","body":"<p>I want to return the int value from my Mono class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = counter.map(u -&gt; u.getSeq());\n</code></pre>\n<p>I tried this but it show me error as required type: int,\nProvided: Mono&lt;java.lang.Object&gt;</p>\n<p>this is my Method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int getNextSequence(String seqName) {\n    Mono&lt;CustomSequences&gt; counter = \n        reactiveMongoOperations.findAndModify(\n            query(where(&quot;_id&quot;).is(seqName)),\n            new Update().inc(&quot;seq&quot;, 1),\n            options().returnNew(true).upsert(true),\n            CustomSequences.class);\n    CustomSequences cs = new CustomSequences();\n    counter.subscribe(v -&gt; cs.setSeq(v));\n    int i = counter.map(u -&gt; u.getSeq());\n    return !Objects.isNull(counter) ? i : &quot;1&quot;;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15240508,"reputation":1895,"user_id":11143190,"display_name":"Zain Arshad"},"score":0,"creation_date":1635802911,"post_id":69803048,"comment_id":123386204,"body_markdown":"Can you please provide a valid output for the input.dat file given above?","body":"Can you please provide a valid output for the input.dat file given above?"},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1635803145,"post_id":69803048,"comment_id":123386265,"body_markdown":"If you go straight to go to work, would you get home by only doing U-turns?","body":"If you go straight to go to work, would you get home by only doing U-turns?"},{"owner":{"account_id":22809330,"reputation":23,"user_id":16960910,"display_name":"nbhat01"},"score":0,"creation_date":1635804848,"post_id":69803048,"comment_id":123386678,"body_markdown":"You would get home by doing a U-Turn (which is guaranteed, the input always has one), then going straight back","body":"You would get home by doing a U-Turn (which is guaranteed, the input always has one), then going straight back"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1635837975,"creation_date":1635803488,"answer_id":69803149,"question_id":69803048,"body_markdown":"Looks like you have a problem with using `t.replace(&quot;U&quot;, &quot;S&quot;)`. This is not suitable for multiple replacements. It&#39;s much better to use `StringBuilder` (because `String` is immutable) and one time go through the original `String` and build a new one with all required replacements letter by letter.\r\n \r\n```java\r\npublic class DogWalk {\r\n\r\n    public static void main(String... args) throws FileNotFoundException {\r\n        try (Scanner scan = new Scanner(new File(&quot;input.dat&quot;))) {\r\n            int total = scan.nextInt();\r\n            scan.nextLine();\r\n\r\n            for (int i = 0; i &lt; total; i++)\r\n                System.out.println(convert(scan.nextLine()));\r\n        }\r\n    }\r\n\r\n    private static String convert(String str) {\r\n        StringBuilder buf = new StringBuilder(str.length() - 1);\r\n\r\n        for (int i = str.length() - 1; i &gt; 0; i--) {\r\n            char ch = str.charAt(i);\r\n\r\n            if (ch == &#39;U&#39;)\r\n                buf.append(&#39;S&#39;);\r\n            else if (ch == &#39;L&#39;)\r\n                buf.append(&#39;R&#39;);\r\n            else if (ch == &#39;R&#39;)\r\n                buf.append(&#39;L&#39;);\r\n            else\r\n                buf.append(ch);\r\n        }\r\n\r\n        return buf.toString();\r\n    }\r\n\r\n}\r\n```","title":"How to swap two characters (L and R) with each other in a String java","body":"<p>Looks like you have a problem with using <code>t.replace(&quot;U&quot;, &quot;S&quot;)</code>. This is not suitable for multiple replacements. It's much better to use <code>StringBuilder</code> (because <code>String</code> is immutable) and one time go through the original <code>String</code> and build a new one with all required replacements letter by letter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DogWalk {\n\n    public static void main(String... args) throws FileNotFoundException {\n        try (Scanner scan = new Scanner(new File(&quot;input.dat&quot;))) {\n            int total = scan.nextInt();\n            scan.nextLine();\n\n            for (int i = 0; i &lt; total; i++)\n                System.out.println(convert(scan.nextLine()));\n        }\n    }\n\n    private static String convert(String str) {\n        StringBuilder buf = new StringBuilder(str.length() - 1);\n\n        for (int i = str.length() - 1; i &gt; 0; i--) {\n            char ch = str.charAt(i);\n\n            if (ch == 'U')\n                buf.append('S');\n            else if (ch == 'L')\n                buf.append('R');\n            else if (ch == 'R')\n                buf.append('L');\n            else\n                buf.append(ch);\n        }\n\n        return buf.toString();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22809330,"reputation":23,"user_id":16960910,"display_name":"nbhat01"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635837975,"creation_date":1635802657,"question_id":69803048,"body_markdown":"Here are the basics you need to know: \r\n```\r\nL - Left\r\nR - Right\r\nS - Straight\r\nU - U-Turn\r\n```\r\nSo the string is basically a series of movements, and your output must be the retracement of them (will take you back on the same path you came from and reaches the same destination).\r\n\r\nI&#39;ve figured out all the patterns (reverse string, U goes to S, L goes to R, R goes to L, remove first S). I just need to know how I can replace the L&#39;s and R&#39;s with each other.\r\n``` \r\nimport java.io.*;\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\nimport java.lang.*;\r\n\r\npublic class DogWalk {\r\n\tpublic static void main(String [] args) {\r\n\t\tScanner input = null;\r\n\t\ttry {\r\n\t\t\tinput = new Scanner(new File(&quot;input.dat&quot;));\r\n      \t\tString line;\r\n\t\t}\r\n\t\tcatch (FileNotFoundException e) {\r\n      \t\tSystem.out.println(&quot;***  Can&#39;t open input.dat ***&quot;);\r\n      \t\tSystem.exit(1);\r\n\t\t}\r\n\t\tint i = 0;\r\n\t\twhile(input.hasNextInt()) {\r\n\t\t\ti += input.nextInt();\r\n\r\n\t\t}\r\n\t\t\r\n\t\tArrayList&lt;String&gt; n = new ArrayList&lt;String&gt;();\r\n\t\tint count = -1;\r\n\t\t\r\n\t    while(input.hasNextLine()) {\r\n\t\t\tn.add(input.nextLine());\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n\t\t// Loop to parse through string and make changes\r\n\t\tfor (int j = 1; j &lt;= count; j++) {\r\n\t\t    String nstr = &quot;&quot;;\r\n\t\t\tString t = n.get(j); // Getting each string\r\n\t\t\tt = t.substring(1); // Removing first S\r\n\t\t\tchar ch;\r\n\t\t\t\r\n\t\t\tif(t.charAt(t.length() - 1) == &#39;U&#39;) { // Replacing U with S\r\n\t\t\t    t = t.replace(&quot;U&quot;, &quot;S&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (int b=0; b&lt;t.length(); b++) { // Loop to make string backwards\r\n                ch= t.charAt(b);\r\n                nstr= ch+nstr; \r\n            }\r\n            \r\n            t = nstr;\r\n\t\t\tSystem.out.println(t);\r\n        }\r\n\t}\r\n}\r\n\r\n```\r\n\r\nSo that&#39;s the main code, the replacing L and R should occur in the big loop at the bottom. My attempted solution to this was to just go through it with a loop, but it just runs into the problem of replacing itself and then either going full L&#39;s or full R&#39;s. Here&#39;s my input.dat file by the way (this was part of school requirements would&#39;ve rather did it without the data file). \r\nInput:\r\n\r\n``` \r\n3\r\nSRLLRLU\r\nSSLRRRLSLRLU\r\nSSSSSRSLLSRU\r\n```\r\n\r\nFeel like I&#39;m just missing an easy solution. Just need some help.\r\nHere&#39;s the sample output:\r\n```\r\nSRLRRL\r\nSRLRSRLLLRS\r\nSLSRRSLSSSS\r\n```\r\n","title":"How to swap two characters (L and R) with each other in a String java","body":"<p>Here are the basics you need to know:</p>\n<pre><code>L - Left\nR - Right\nS - Straight\nU - U-Turn\n</code></pre>\n<p>So the string is basically a series of movements, and your output must be the retracement of them (will take you back on the same path you came from and reaches the same destination).</p>\n<p>I've figured out all the patterns (reverse string, U goes to S, L goes to R, R goes to L, remove first S). I just need to know how I can replace the L's and R's with each other.</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\nimport java.util.ArrayList;\nimport java.lang.*;\n\npublic class DogWalk {\n    public static void main(String [] args) {\n        Scanner input = null;\n        try {\n            input = new Scanner(new File(&quot;input.dat&quot;));\n            String line;\n        }\n        catch (FileNotFoundException e) {\n            System.out.println(&quot;***  Can't open input.dat ***&quot;);\n            System.exit(1);\n        }\n        int i = 0;\n        while(input.hasNextInt()) {\n            i += input.nextInt();\n\n        }\n        \n        ArrayList&lt;String&gt; n = new ArrayList&lt;String&gt;();\n        int count = -1;\n        \n        while(input.hasNextLine()) {\n            n.add(input.nextLine());\n            count++;\n        }\n        \n        // Loop to parse through string and make changes\n        for (int j = 1; j &lt;= count; j++) {\n            String nstr = &quot;&quot;;\n            String t = n.get(j); // Getting each string\n            t = t.substring(1); // Removing first S\n            char ch;\n            \n            if(t.charAt(t.length() - 1) == 'U') { // Replacing U with S\n                t = t.replace(&quot;U&quot;, &quot;S&quot;);\n            }\n            \n            for (int b=0; b&lt;t.length(); b++) { // Loop to make string backwards\n                ch= t.charAt(b);\n                nstr= ch+nstr; \n            }\n            \n            t = nstr;\n            System.out.println(t);\n        }\n    }\n}\n\n</code></pre>\n<p>So that's the main code, the replacing L and R should occur in the big loop at the bottom. My attempted solution to this was to just go through it with a loop, but it just runs into the problem of replacing itself and then either going full L's or full R's. Here's my input.dat file by the way (this was part of school requirements would've rather did it without the data file).\nInput:</p>\n<pre><code>3\nSRLLRLU\nSSLRRRLSLRLU\nSSSSSRSLLSRU\n</code></pre>\n<p>Feel like I'm just missing an easy solution. Just need some help.\nHere's the sample output:</p>\n<pre><code>SRLRRL\nSRLRSRLLLRS\nSLSRRSLSSSS\n</code></pre>\n"},{"tags":["java","replaceall"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1635829439,"post_id":69805486,"comment_id":123390649,"body_markdown":"You have oldUser and newUser back to front in your code.","body":"You have oldUser and newUser back to front in your code."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1635829472,"post_id":69805486,"comment_id":123390653,"body_markdown":"Either the data isn&#39;t getting replaced, in which case the file-writing is not relevant, or the file-writing isn&#39;t working, in which case the regex replacement is not relevant. You should be able to determine which by debugging your code, and this will help you to narrow down your issue to one specific problem; please see [mcve].","body":"Either the data isn&#39;t getting replaced, in which case the file-writing is not relevant, or the file-writing isn&#39;t working, in which case the regex replacement is not relevant. You should be able to determine which by debugging your code, and this will help you to narrow down your issue to one specific problem; please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":23154774,"reputation":77,"user_id":17256191,"display_name":"Therone Almadin"},"score":0,"creation_date":1635831426,"post_id":69805486,"comment_id":123390975,"body_markdown":"@kaya3 there! i just excerpted it form a larger project and I think it should run as intended.","body":"@kaya3 there! i just excerpted it form a larger project and I think it should run as intended."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1635832536,"post_id":69805486,"comment_id":123391152,"body_markdown":"As tgdavies writes in his comment: you are trying to replace `&quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;` with `&quot;AABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;`, but  `&quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;` cannot be found in your input and is therefore not replaced.","body":"As tgdavies writes in his comment: you are trying to replace <code>&quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12&#47;31&#47;2000,11112223333,8000&quot;</code> with <code>&quot;AABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12&#47;31&#47;2000,11112223333,8000&quot;</code>, but  <code>&quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12&#47;31&#47;2000,11112223333,8000&quot;</code> cannot be found in your input and is therefore not replaced."},{"owner":{"account_id":23154774,"reputation":77,"user_id":17256191,"display_name":"Therone Almadin"},"score":0,"creation_date":1635837275,"post_id":69805486,"comment_id":123392237,"body_markdown":"@ThomasKl&#228;ger oh wait does that mean i have the two parameters switched? I have it attached to a class where it actually finds the user and it returns to me a match, meaning it has found the old user.","body":"@ThomasKl&#228;ger oh wait does that mean i have the two parameters switched? I have it attached to a class where it actually finds the user and it returns to me a match, meaning it has found the old user."},{"owner":{"account_id":23154774,"reputation":77,"user_id":17256191,"display_name":"Therone Almadin"},"score":0,"creation_date":1635837459,"post_id":69805486,"comment_id":123392285,"body_markdown":"okay im dumb so i did switch the two lol. Thanks alot for @ThomasKl&#228;ger and tgdavies","body":"okay im dumb so i did switch the two lol. Thanks alot for @ThomasKl&#228;ger and tgdavies"}],"answers":[{"tags":[],"owner":{"account_id":23154774,"reputation":77,"user_id":17256191,"display_name":"Therone Almadin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635837540,"creation_date":1635837540,"answer_id":69806647,"question_id":69805486,"body_markdown":"Okay so im gonna answer my own question here.\r\n\r\nI had the parameters for replaceAll() switched.\r\n\r\n","title":"replaceAll( ) not working in replacing lines in a CSV txt file","body":"<p>Okay so im gonna answer my own question here.</p>\n<p>I had the parameters for replaceAll() switched.</p>\n"}],"owner":{"account_id":23154774,"reputation":77,"user_id":17256191,"display_name":"Therone Almadin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635837540,"creation_date":1635828303,"question_id":69805486,"body_markdown":"I&#39;m trying to replace a certain line in a text file using the `replaceAll()` method but every time i try to run it, it doesn&#39;t change at all. I even tried to covert the string `oldUser` to a regex (`Pattern.quote(oldUser)`), am I missing something?\r\n\r\nText File Contents (person.txt):\r\n\r\n    ABCDEFG1,THERONE ALMADIN,theronealmadin@gmail.com,DAVAO CITY,06/09/1999,09226217885,8000\r\n    GFEDCBA2,NATHAN ANG,nathanang@gmail.com,BUTUAN CITY,01/02/2000,09451236987,8000\r\n    ADEACAS3,ANTON MARITIREZ,antonmaritirez@gmail.com,GENSAN CITY,02/13/2001,09214561236,8000\r\n    AABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000\r\n\r\nMy code in particular:\r\n\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n    import java.util.regex.Pattern;\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String oldUser = &quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;;\r\n    \r\n            String newUser = &quot;AABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;;\r\n    \r\n            String filepath = &quot;person.txt&quot;;\r\n            Scanner scanner = new Scanner (new File(filepath));\r\n    \r\n            StringBuilder bufferedList = new StringBuilder();\r\n    \r\n            while (scanner.hasNextLine()){\r\n                bufferedList.append(scanner.nextLine()).append(System.lineSeparator());\r\n            }\r\n    \r\n            String personContents = bufferedList.toString();\r\n            System.out.println(&quot;old data: &quot; + personContents);\r\n            scanner.close();\r\n    \r\n            System.out.println(&quot;REGEX&quot; + Pattern.quote(oldUser));\r\n            personContents = personContents.replaceAll(Pattern.quote(oldUser), newUser);\r\n    \r\n            FileWriter writer = new FileWriter(filepath);\r\n    \r\n            System.out.println(&quot;new data: &quot; + personContents);\r\n            writer.append(personContents);\r\n            writer.flush();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"replaceAll( ) not working in replacing lines in a CSV txt file","body":"<p>I'm trying to replace a certain line in a text file using the <code>replaceAll()</code> method but every time i try to run it, it doesn't change at all. I even tried to covert the string <code>oldUser</code> to a regex (<code>Pattern.quote(oldUser)</code>), am I missing something?</p>\n<p>Text File Contents (person.txt):</p>\n<pre><code>ABCDEFG1,THERONE ALMADIN,theronealmadin@gmail.com,DAVAO CITY,06/09/1999,09226217885,8000\nGFEDCBA2,NATHAN ANG,nathanang@gmail.com,BUTUAN CITY,01/02/2000,09451236987,8000\nADEACAS3,ANTON MARITIREZ,antonmaritirez@gmail.com,GENSAN CITY,02/13/2001,09214561236,8000\nAABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000\n</code></pre>\n<p>My code in particular:</p>\n<pre><code>import java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Scanner;\nimport java.util.regex.Pattern;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        String oldUser = &quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;;\n\n        String newUser = &quot;AABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;;\n\n        String filepath = &quot;person.txt&quot;;\n        Scanner scanner = new Scanner (new File(filepath));\n\n        StringBuilder bufferedList = new StringBuilder();\n\n        while (scanner.hasNextLine()){\n            bufferedList.append(scanner.nextLine()).append(System.lineSeparator());\n        }\n\n        String personContents = bufferedList.toString();\n        System.out.println(&quot;old data: &quot; + personContents);\n        scanner.close();\n\n        System.out.println(&quot;REGEX&quot; + Pattern.quote(oldUser));\n        personContents = personContents.replaceAll(Pattern.quote(oldUser), newUser);\n\n        FileWriter writer = new FileWriter(filepath);\n\n        System.out.println(&quot;new data: &quot; + personContents);\n        writer.append(personContents);\n        writer.flush();\n\n    }\n}\n</code></pre>\n"},{"tags":["python","java","distroless"],"comments":[{"owner":{"account_id":13277507,"reputation":5362,"user_id":9586338,"display_name":"Waket Zheng"},"score":0,"creation_date":1635840212,"post_id":69806645,"comment_id":123393035,"body_markdown":"How about install jdk? https://vitux.com/how-to-install-java-on-ubuntu-20-04/","body":"How about install jdk? <a href=\"https://vitux.com/how-to-install-java-on-ubuntu-20-04/\" rel=\"nofollow noreferrer\">vitux.com/how-to-install-java-on-ubuntu-20-04</a>"},{"owner":{"account_id":23182339,"reputation":51,"user_id":17279984,"display_name":"vishweshwar totade"},"score":0,"creation_date":1635843513,"post_id":69806645,"comment_id":123394296,"body_markdown":"hey thanks for the suggestion i copied the /usr/lib/jvm files into the distroless container and it worked","body":"hey thanks for the suggestion i copied the /usr/lib/jvm files into the distroless container and it worked"}],"owner":{"account_id":23182339,"reputation":51,"user_id":17279984,"display_name":"vishweshwar totade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635837535,"creation_date":1635837535,"question_id":69806645,"body_markdown":"I am trying to integrate jdk with a python venv on a distroless docker container for my application \r\n\r\nI am not able to import java modules in the venv created in the distroless container\r\n\r\nHow do i export jdk modules into the distroless container so that the application works\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;sutime_server.py&quot;, line 18, in &lt;module&gt;\r\n    sutime = SUTime(jars=&#39;jars&#39;, mark_time_ranges=True, include_range=True)\r\n  File &quot;/app/sutime/sutime.py&quot;, line 47, in __init__\r\n    self._start_jvm()\r\n  File &quot;/app/sutime/sutime.py&quot;, line 67, in _start_jvm\r\n    jpype.getDefaultJVMPath(),\r\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_core.py&quot;, line 337, in getDefaultJVMPath\r\n    return finder.get_jvm_path()\r\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 160, in get_jvm_path\r\n    jvm = method()\r\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 215, in _get_from_known_locations\r\n    for home in self.find_possible_homes(self._locations):\r\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 120, in find_possible_homes\r\n    for childname in sorted(os.listdir(parent)):\r\nFileNotFoundError: [Errno 2] No such file or directory: &#39;/usr/lib/jvm&#39;\r\n```\r\nthis is the error which i am getting while running the application","title":"integrating jdk with python venv","body":"<p>I am trying to integrate jdk with a python venv on a distroless docker container for my application</p>\n<p>I am not able to import java modules in the venv created in the distroless container</p>\n<p>How do i export jdk modules into the distroless container so that the application works</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;sutime_server.py&quot;, line 18, in &lt;module&gt;\n    sutime = SUTime(jars='jars', mark_time_ranges=True, include_range=True)\n  File &quot;/app/sutime/sutime.py&quot;, line 47, in __init__\n    self._start_jvm()\n  File &quot;/app/sutime/sutime.py&quot;, line 67, in _start_jvm\n    jpype.getDefaultJVMPath(),\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_core.py&quot;, line 337, in getDefaultJVMPath\n    return finder.get_jvm_path()\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 160, in get_jvm_path\n    jvm = method()\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 215, in _get_from_known_locations\n    for home in self.find_possible_homes(self._locations):\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 120, in find_possible_homes\n    for childname in sorted(os.listdir(parent)):\nFileNotFoundError: [Errno 2] No such file or directory: '/usr/lib/jvm'\n</code></pre>\n<p>this is the error which i am getting while running the application</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22699957,"reputation":102,"user_id":16867530,"display_name":"nurmanbetov"},"score":0,"creation_date":1635837298,"post_id":69806545,"comment_id":123392245,"body_markdown":"Try to use annotation @Value and Spring Expression Language to retrieve your properties according to your needs\n\nex: @Value(&quot;#{&#39;${users}&#39;.split(&#39;,&#39;)}&quot;) \nprivate List&lt;String&gt; userList;","body":"Try to use annotation @Value and Spring Expression Language to retrieve your properties according to your needs  ex: @Value(&quot;#{&#39;${users}&#39;.split(&#39;,&#39;)}&quot;)  private List&lt;String&gt; userList;"},{"owner":{"account_id":23212951,"reputation":23,"user_id":17306162,"display_name":"unanonymous56"},"score":0,"creation_date":1635837478,"post_id":69806545,"comment_id":123392288,"body_markdown":"I do not want to use Spring module","body":"I do not want to use Spring module"},{"owner":{"account_id":22699957,"reputation":102,"user_id":16867530,"display_name":"nurmanbetov"},"score":0,"creation_date":1635837764,"post_id":69806545,"comment_id":123392361,"body_markdown":"Then try to use Autowired annotation or through constructor injection to retrieve from Environment, such that:\n@Autowired\nprivate Environment environment;","body":"Then try to use Autowired annotation or through constructor injection to retrieve from Environment, such that: @Autowired private Environment environment;"}],"owner":{"account_id":23212951,"reputation":23,"user_id":17306162,"display_name":"unanonymous56"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":964,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1635839543,"answer_count":0,"score":0,"last_activity_date":1635837521,"creation_date":1635836975,"question_id":69806545,"body_markdown":"In config.properties file, there will be users key will multiple users as property values. There may be n users.\r\n\r\nusers = user1, user2, user3\r\n\r\nHow to split the users by commas using java and retrieve single value in each line and store it as either list or array without using spring framework/module.","title":"How to use multiple values of property key from property file in java","body":"<p>In config.properties file, there will be users key will multiple users as property values. There may be n users.</p>\n<p>users = user1, user2, user3</p>\n<p>How to split the users by commas using java and retrieve single value in each line and store it as either list or array without using spring framework/module.</p>\n"},{"tags":["javascript","java","css","reactjs","react-hooks"],"answers":[{"tags":[],"owner":{"account_id":18919504,"reputation":260,"user_id":13803823,"display_name":"J young"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635837409,"creation_date":1635836433,"answer_id":69806457,"question_id":69806384,"body_markdown":"return them with your customStyle\r\n\r\n```js\r\n\r\n  const customStyle = [{\r\n    position: &quot;absolute&quot;,\r\n    /*top: some random top value,*/\r\n    /*left: some random left value,*/\r\n    zIndex: &quot;initial&quot;,\r\n    color: &quot;green&quot;\r\n  },{\r\n    position: &quot;relative&quot;,\r\n    /*top: some random top value,*/\r\n    /*left: some random left value,*/\r\n    zIndex: &quot;1&quot;,\r\n    color: &quot;red&quot;\r\n  }];\r\n\r\n return (\r\n          &lt;div key={index} style={customStyle[index]}&gt;\r\n            {item}\r\n          &lt;/div&gt;\r\n        );\r\n```","title":"How to get each element inside a map and change its CSS?","body":"<p>return them with your customStyle</p>\n<pre class=\"lang-js prettyprint-override\"><code>\n  const customStyle = [{\n    position: &quot;absolute&quot;,\n    /*top: some random top value,*/\n    /*left: some random left value,*/\n    zIndex: &quot;initial&quot;,\n    color: &quot;green&quot;\n  },{\n    position: &quot;relative&quot;,\n    /*top: some random top value,*/\n    /*left: some random left value,*/\n    zIndex: &quot;1&quot;,\n    color: &quot;red&quot;\n  }];\n\n return (\n          &lt;div key={index} style={customStyle[index]}&gt;\n            {item}\n          &lt;/div&gt;\n        );\n</code></pre>\n"}],"owner":{"account_id":18581664,"reputation":74,"user_id":13541075,"display_name":"Srinivas Murthy. N.A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635837409,"creation_date":1635835913,"question_id":69806384,"body_markdown":"I want to loop through and assign a custom CSS property to each element inside a map called &quot;item&quot;, but I don&#39;t know how to do that. Below is my code:\r\n\r\n    import React from &quot;react&quot;;\r\n    \r\n    // Splitting Letters\r\n    const SplitText = React.memo(({ str }) =&gt; {\r\n      \r\n    \r\n      const customStyle = {\r\n        position: &quot;absolute&quot;,\r\n        /*top: some random top value,*/\r\n        /*left: some random left value,*/\r\n        zIndex: &quot;initial&quot;,\r\n        color: &quot;green&quot;\r\n      };\r\n\r\n      return (\r\n        &lt;div&gt;\r\n          {str.split(&quot;&quot;).map((item, index) =&gt; {\r\n    \r\n            \r\n            return (\r\n              &lt;div key={index}&gt;\r\n                {item}\r\n              &lt;/div&gt;\r\n            );\r\n          })}\r\n        &lt;/div&gt;\r\n      );\r\n    });\r\n    \r\n    export default SplitText;\r\n\r\nMy &quot;item&quot; has a set of letters and I want to catch hold of each letter and somehow map the customStyle CSS property to it.\r\n\r\nAny suggestions would be of great help.","title":"How to get each element inside a map and change its CSS?","body":"<p>I want to loop through and assign a custom CSS property to each element inside a map called &quot;item&quot;, but I don't know how to do that. Below is my code:</p>\n<pre><code>import React from &quot;react&quot;;\n\n// Splitting Letters\nconst SplitText = React.memo(({ str }) =&gt; {\n  \n\n  const customStyle = {\n    position: &quot;absolute&quot;,\n    /*top: some random top value,*/\n    /*left: some random left value,*/\n    zIndex: &quot;initial&quot;,\n    color: &quot;green&quot;\n  };\n\n  return (\n    &lt;div&gt;\n      {str.split(&quot;&quot;).map((item, index) =&gt; {\n\n        \n        return (\n          &lt;div key={index}&gt;\n            {item}\n          &lt;/div&gt;\n        );\n      })}\n    &lt;/div&gt;\n  );\n});\n\nexport default SplitText;\n</code></pre>\n<p>My &quot;item&quot; has a set of letters and I want to catch hold of each letter and somehow map the customStyle CSS property to it.</p>\n<p>Any suggestions would be of great help.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":2,"up_vote_count":70,"is_accepted":true,"score":68,"last_activity_date":1371637584,"creation_date":1371637584,"answer_id":17188878,"question_id":17188773,"body_markdown":"Disable **Compact Empty Middle Packages** option in the `Project View`:\r\n\r\n![compact][1]\r\n\r\nYou will now see `admin` as a separate node and will be able to create a new package inside it.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VjGrZ.png","title":"Create new package in IntelliJ","body":"<p>Disable <strong>Compact Empty Middle Packages</strong> option in the <code>Project View</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/VjGrZ.png\" alt=\"compact\"></p>\n\n<p>You will now see <code>admin</code> as a separate node and will be able to create a new package inside it.</p>\n"},{"tags":[],"owner":{"account_id":137668,"reputation":2972,"user_id":342015,"display_name":"Tharaka"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1560252092,"creation_date":1469772591,"answer_id":38651630,"question_id":17188773,"body_markdown":"You can follow these steps:\r\n\r\n 1. Select the package from Project Pane\r\n\r\n 2. Double click the relevant section from the breadcrumb. Then it will get selected.\r\n\r\n 3. Right click on the same item\r\n\r\n 4. Select &quot;New&quot; &amp;rarr; &quot;Package&quot; from the menu\r\n\r\n [![enter image description here][1]][1]\r\n\r\n  [1]: http://i.stack.imgur.com/eK4NM.png","title":"Create new package in IntelliJ","body":"<p>You can follow these steps:</p>\n\n<ol>\n<li><p>Select the package from Project Pane</p></li>\n<li><p>Double click the relevant section from the breadcrumb. Then it will get selected.</p></li>\n<li><p>Right click on the same item</p></li>\n<li><p>Select \"New\" &rarr; \"Package\" from the menu</p>\n\n<p><a href=\"https://i.stack.imgur.com/eK4NM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eK4NM.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3782477,"reputation":2332,"user_id":3141502,"accept_rate":100,"display_name":"Vaibhav Desai"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1560252077,"creation_date":1494225681,"answer_id":43841295,"question_id":17188773,"body_markdown":"Follow these steps:\r\n\r\n1. First set the folder as a &quot;Sources Root&quot; by right clicking and navigating to &quot;Mark directory&quot;.\r\n\r\n2. Right click on the same item \r\n\r\n3. Select &quot;New&quot; &amp;rarr; &quot;Package&quot;\r\n\r\nIn my case, I was not able to see the create new package option.","title":"Create new package in IntelliJ","body":"<p>Follow these steps:</p>\n\n<ol>\n<li><p>First set the folder as a \"Sources Root\" by right clicking and navigating to \"Mark directory\".</p></li>\n<li><p>Right click on the same item </p></li>\n<li><p>Select \"New\" &rarr; \"Package\"</p></li>\n</ol>\n\n<p>In my case, I was not able to see the create new package option.</p>\n"},{"tags":[],"owner":{"account_id":9883946,"reputation":69,"user_id":7319069,"display_name":"Ramesh Thoutam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635837132,"creation_date":1635837132,"answer_id":69806574,"question_id":17188773,"body_markdown":"To create package the Folder/Directory should be marked as Source or Test.\r\nRight click project-&gt;Project Structure-&gt;Project settings-&gt;Modules-&gt;select the folder where you want to create package and mark its as either Source or Test by clicking the respective colored icons. Then apply and ok.\r\nNow you will see the Folder either in blue(Source) or green(Test) ","title":"Create new package in IntelliJ","body":"<p>To create package the Folder/Directory should be marked as Source or Test.\nRight click project-&gt;Project Structure-&gt;Project settings-&gt;Modules-&gt;select the folder where you want to create package and mark its as either Source or Test by clicking the respective colored icons. Then apply and ok.\nNow you will see the Folder either in blue(Source) or green(Test)</p>\n"}],"owner":{"account_id":2385304,"reputation":7157,"user_id":2086401,"accept_rate":95,"display_name":"StuPointerException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109056,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":17188878,"answer_count":4,"score":59,"last_activity_date":1635837132,"creation_date":1371637215,"question_id":17188773,"body_markdown":"I&#39;ve just moved from years of using Eclipse to the brave new world of IntelliJ and I&#39;m trying to iron out the little (trivial) little things that are slowing me down.\r\n\r\nThe latest is hopefully painfully obvious when you know how to do it.\r\n\r\nI create a new package under my source folder:\r\n\r\n    uk.ac.cam.admin\r\n\r\nI right click on this new package to create another sub-package:\r\n\r\n    uk.ac.cam.admin.domain\r\n\r\nAll well so far, now I want to create a package of `service` at the same level as `domain`.\r\nHowever creating it from `uk.ac.cam.admin.domain` quite rightly results in `uk.ac.cam.admin.domain.service` and creating it on the source just results in `service`.\r\n\r\nObviously I can create a new package from the source and type the fully qualified path, but it&#39;s 2013 and I&#39;m lazy!  ;)\r\n\r\n","title":"Create new package in IntelliJ","body":"<p>I've just moved from years of using Eclipse to the brave new world of IntelliJ and I'm trying to iron out the little (trivial) little things that are slowing me down.</p>\n\n<p>The latest is hopefully painfully obvious when you know how to do it.</p>\n\n<p>I create a new package under my source folder:</p>\n\n<pre><code>uk.ac.cam.admin\n</code></pre>\n\n<p>I right click on this new package to create another sub-package:</p>\n\n<pre><code>uk.ac.cam.admin.domain\n</code></pre>\n\n<p>All well so far, now I want to create a package of <code>service</code> at the same level as <code>domain</code>.\nHowever creating it from <code>uk.ac.cam.admin.domain</code> quite rightly results in <code>uk.ac.cam.admin.domain.service</code> and creating it on the source just results in <code>service</code>.</p>\n\n<p>Obviously I can create a new package from the source and type the fully qualified path, but it's 2013 and I'm lazy!  ;)</p>\n"},{"tags":["java","spring","log4j"],"answers":[{"tags":[],"owner":{"account_id":15372843,"reputation":103,"user_id":15431883,"display_name":"polyackov_ot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635836706,"creation_date":1635836008,"answer_id":69806396,"question_id":69806080,"body_markdown":"You can add `spring.profiles` in your `application.yml` and set new log-name\r\n\r\n    spring.profiles: dev\r\n    logging.file: new-app.log\r\n\r\nMore information you can find get [here][1]\r\n\r\n\r\n  [1]: https://springframework.guru/log4j-2-configuration-using-yaml/","title":"How can I read different log4j.properties file depending on an argument in Spring?","body":"<p>You can add <code>spring.profiles</code> in your <code>application.yml</code> and set new log-name</p>\n<pre><code>spring.profiles: dev\nlogging.file: new-app.log\n</code></pre>\n<p>More information you can find get <a href=\"https://springframework.guru/log4j-2-configuration-using-yaml/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":15253330,"reputation":1225,"user_id":11005990,"display_name":"yoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635836706,"creation_date":1635833729,"question_id":69806080,"body_markdown":"With the same code, I want to run it both as a real mode and a dev mode.\r\n\r\nSo I added a `service-mode` argument, and it decides the port, database name, etc.\r\n\r\nI also want to make a log file for a dev mode.\r\n\r\nBut using log4j, it seems that configuration about logging is decided when app is started.\r\n\r\nIs there a way to change the log file path depending on a given argument?\r\n\r\nI expected something like:\r\n\r\n```\r\n// Main.java\r\nif (args.serviceMode is real) {\r\n  setLogging(log4j.properties)\r\n}\r\nelse {\r\n  setLogging(log4j.properties.dev)\r\n}\r\n```\r\n\r\nor\r\n\r\n```\r\n// log4j.properties\r\nlog4j.appender.file.File=/path/to/real/log\r\nlog4jdev.appender.file.File=/path/to/dev/log\r\n```\r\n\r\n```\r\n// Main.java\r\nif (args.serviceMode is real) {\r\n  setLogPath(log4j.appender.file.File)\r\n}\r\nelse {\r\n  setLogPath(log4jdev.appender.file.File)\r\n}\r\n```\r\n\r\nAny link or comment appreciated.","title":"How can I read different log4j.properties file depending on an argument in Spring?","body":"<p>With the same code, I want to run it both as a real mode and a dev mode.</p>\n<p>So I added a <code>service-mode</code> argument, and it decides the port, database name, etc.</p>\n<p>I also want to make a log file for a dev mode.</p>\n<p>But using log4j, it seems that configuration about logging is decided when app is started.</p>\n<p>Is there a way to change the log file path depending on a given argument?</p>\n<p>I expected something like:</p>\n<pre><code>// Main.java\nif (args.serviceMode is real) {\n  setLogging(log4j.properties)\n}\nelse {\n  setLogging(log4j.properties.dev)\n}\n</code></pre>\n<p>or</p>\n<pre><code>// log4j.properties\nlog4j.appender.file.File=/path/to/real/log\nlog4jdev.appender.file.File=/path/to/dev/log\n</code></pre>\n<pre><code>// Main.java\nif (args.serviceMode is real) {\n  setLogPath(log4j.appender.file.File)\n}\nelse {\n  setLogPath(log4jdev.appender.file.File)\n}\n</code></pre>\n<p>Any link or comment appreciated.</p>\n"},{"tags":["java","micronaut","micronaut-rest"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1635783545,"post_id":69794945,"comment_id":123379807,"body_markdown":"Can&#39;t you just do `return chain.proceed(request.mutate().headers(g -&gt; g.add(&quot;X-Cheese&quot;, &quot;NOW&quot; + UUID.randomUUID())));` in your filter?","body":"Can&#39;t you just do <code>return chain.proceed(request.mutate().headers(g -&gt; g.add(&quot;X-Cheese&quot;, &quot;NOW&quot; + UUID.randomUUID())));</code> in your filter?"},{"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"score":0,"creation_date":1635836292,"post_id":69794945,"comment_id":123391962,"body_markdown":"The interface receives `HttpRequest` which is immutable, calling `mutate()` throws an exception.","body":"The interface receives <code>HttpRequest</code> which is immutable, calling <code>mutate()</code> throws an exception."},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1635844996,"post_id":69794945,"comment_id":123394906,"body_markdown":"Weird...  it worked for me in a test with Micronaut 3.0.1","body":"Weird...  it worked for me in a test with Micronaut 3.0.1"}],"answers":[{"tags":[],"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635836585,"creation_date":1635836585,"answer_id":69806483,"question_id":69794945,"body_markdown":"It is possible to add attributes, not headers. Attributes fulfill the same purpose in the end.\r\n\r\n```java\r\n@Filter(Filter.MATCH_ALL_PATTERN)\r\npublic class SecurityFilter implements HttpServerFilter {\r\n\r\n    public static final String TENANT_ID_ATTRIBUTE_NAME = &quot;tenantId&quot;;\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(SecurityFilter.class);\r\n\r\n    @Override\r\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(final HttpRequest&lt;?&gt; request, final ServerFilterChain chain) {\r\n        return chain.proceed(request.setAttribute(TENANT_ID_ATTRIBUTE_NAME, &quot;tenantId&quot;));\r\n    }\r\n\r\n    @Override\r\n    public int getOrder() {\r\n        return ServerFilterPhase.SECURITY.order();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd then in a controller:\r\n```java\r\n@Get(produces = MediaType.APPLICATION_JSON)\r\npublic List&lt;Item&gt; list(@RequestAttribute(SecurityFilter.TENANT_ID_ATTRIBUTE_NAME) final String tenantId) {\r\n    return service.findAll(tenantId);\r\n}\r\n```","title":"Adding headers to incoming request in Micronaut filters","body":"<p>It is possible to add attributes, not headers. Attributes fulfill the same purpose in the end.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Filter(Filter.MATCH_ALL_PATTERN)\npublic class SecurityFilter implements HttpServerFilter {\n\n    public static final String TENANT_ID_ATTRIBUTE_NAME = &quot;tenantId&quot;;\n\n    private static final Logger LOG = LoggerFactory.getLogger(SecurityFilter.class);\n\n    @Override\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(final HttpRequest&lt;?&gt; request, final ServerFilterChain chain) {\n        return chain.proceed(request.setAttribute(TENANT_ID_ATTRIBUTE_NAME, &quot;tenantId&quot;));\n    }\n\n    @Override\n    public int getOrder() {\n        return ServerFilterPhase.SECURITY.order();\n    }\n\n}\n</code></pre>\n<p>And then in a controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Get(produces = MediaType.APPLICATION_JSON)\npublic List&lt;Item&gt; list(@RequestAttribute(SecurityFilter.TENANT_ID_ATTRIBUTE_NAME) final String tenantId) {\n    return service.findAll(tenantId);\n}\n</code></pre>\n"}],"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2612,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69806483,"answer_count":1,"score":0,"last_activity_date":1635836585,"creation_date":1635758758,"question_id":69794945,"body_markdown":"I am writing a service that, for now, will need to implement its own validation of JWT tokens. This will later be handled by a layer before the services.\r\n\r\nTo do this, I intended to intercept requests using `HttpServerFilter` interface:\r\n\r\n```java\r\n@Filter(Filter.MATCH_ALL_PATTERN)\r\npublic class SecurityFilter implements HttpServerFilter {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(SecurityFilter.class);\r\n\r\n    @Override\r\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(final HttpRequest&lt;?&gt; request, final ServerFilterChain chain) {\r\n        return chain.proceed(request);\r\n    }\r\n\r\n    @Override\r\n    public int getOrder() {\r\n        return ServerFilterPhase.SECURITY.order();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe `HttpFilter` interface states:\r\n\r\n&gt; To modify the request filters can either wrap it (using io.micronaut.http.HttpRequestWrapper or pass it along the chain as is\r\n\r\nSo I try to the wrap the request with this class:\r\n```java\r\nfinal HttpRequestWrapper&lt;?&gt; wrappedRequest = new HttpRequestWrapper&lt;&gt;(request);\r\n// wrappedRequest.getHeaders() Not mutable\r\n// request.mutate().getHeaders() Mutable\r\n// wrappedRequest.mutate().getHeaders() Mutable\r\n```\r\n\r\nHowever, both `mutate` methods above go to the same default implementation in the `HttpRequest` interface:\r\n\r\n```java\r\ndefault MutableHttpRequest&lt;B&gt; mutate() {\r\n    throw new UnsupportedOperationException(&quot;Request is immutable&quot;);\r\n}\r\n```\r\n\r\nThe documentation states that the filters support *decoration* of requests and *modification* of responses. What is the difference between decorating and modifying here?\r\n\r\nThe end result I am after is that I want to parse a JWT token, ensure it is valid, and add a field from the token to a new header and retrieve that header from controllers in the following way:\r\n\r\n```java\r\n@Get(uri = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON)\r\npublic Optional&lt;Item&gt; findById(@PathVariable(&quot;id&quot;) final String id, @Header(&quot;X-Tenant-Id&quot;) final String tenantId) {\r\n    return service.findById(id, tenantId);\r\n}\r\n```\r\n\r\nHow can I achieve this with Micronaut filters?","title":"Adding headers to incoming request in Micronaut filters","body":"<p>I am writing a service that, for now, will need to implement its own validation of JWT tokens. This will later be handled by a layer before the services.</p>\n<p>To do this, I intended to intercept requests using <code>HttpServerFilter</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Filter(Filter.MATCH_ALL_PATTERN)\npublic class SecurityFilter implements HttpServerFilter {\n\n    private static final Logger LOG = LoggerFactory.getLogger(SecurityFilter.class);\n\n    @Override\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(final HttpRequest&lt;?&gt; request, final ServerFilterChain chain) {\n        return chain.proceed(request);\n    }\n\n    @Override\n    public int getOrder() {\n        return ServerFilterPhase.SECURITY.order();\n    }\n\n}\n</code></pre>\n<p>The <code>HttpFilter</code> interface states:</p>\n<blockquote>\n<p>To modify the request filters can either wrap it (using io.micronaut.http.HttpRequestWrapper or pass it along the chain as is</p>\n</blockquote>\n<p>So I try to the wrap the request with this class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final HttpRequestWrapper&lt;?&gt; wrappedRequest = new HttpRequestWrapper&lt;&gt;(request);\n// wrappedRequest.getHeaders() Not mutable\n// request.mutate().getHeaders() Mutable\n// wrappedRequest.mutate().getHeaders() Mutable\n</code></pre>\n<p>However, both <code>mutate</code> methods above go to the same default implementation in the <code>HttpRequest</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>default MutableHttpRequest&lt;B&gt; mutate() {\n    throw new UnsupportedOperationException(&quot;Request is immutable&quot;);\n}\n</code></pre>\n<p>The documentation states that the filters support <em>decoration</em> of requests and <em>modification</em> of responses. What is the difference between decorating and modifying here?</p>\n<p>The end result I am after is that I want to parse a JWT token, ensure it is valid, and add a field from the token to a new header and retrieve that header from controllers in the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Get(uri = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON)\npublic Optional&lt;Item&gt; findById(@PathVariable(&quot;id&quot;) final String id, @Header(&quot;X-Tenant-Id&quot;) final String tenantId) {\n    return service.findById(id, tenantId);\n}\n</code></pre>\n<p>How can I achieve this with Micronaut filters?</p>\n"},{"tags":["java","interface","polymorphism","overloading","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635836582,"creation_date":1635836582,"answer_id":69806481,"question_id":69806401,"body_markdown":"I can think of two reasonable approaches here:\r\n\r\n1. Don&#39;t have a common `DataExporter` interface. The client anyway needs to know the more-specific type of the exporter in order to call it with the appropriate arguments.\r\n2. Give `DataExporter` a type parameter, and give its `export` method a parameter of that type. `ProductExporter` can then be a `DataExporter&lt;Void&gt;`, and its `export` method simply takes `null`, while `CategoryExporter` can be a `DataExporter&lt;String&gt;`.","title":"Overloading abstract method causes unnecessary implementation in Java","body":"<p>I can think of two reasonable approaches here:</p>\n<ol>\n<li>Don't have a common <code>DataExporter</code> interface. The client anyway needs to know the more-specific type of the exporter in order to call it with the appropriate arguments.</li>\n<li>Give <code>DataExporter</code> a type parameter, and give its <code>export</code> method a parameter of that type. <code>ProductExporter</code> can then be a <code>DataExporter&lt;Void&gt;</code>, and its <code>export</code> method simply takes <code>null</code>, while <code>CategoryExporter</code> can be a <code>DataExporter&lt;String&gt;</code>.</li>\n</ol>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635836582,"creation_date":1635836037,"question_id":69806401,"body_markdown":"I have the following interface:\r\n\r\n```\r\npublic interface DataExporter {\r\n    MultipartFile export() throws IOException;\r\n}\r\n```\r\n\r\nAnd the following abstract class inherits from the interface:\r\n\r\n```\r\npublic abstract class AbstractDataExporter&lt;T&gt; implements DataExporter {\r\n    \r\n    @Override\r\n    public MultipartFile export() throws IOException {\r\n        final Iterable&lt;T&gt; entities = getEntities();\r\n        // ...\r\n    }\r\n\r\n    protected abstract Iterable&lt;T&gt; getEntities();\r\n}\r\n```\r\n\r\nThen I implement `export` and `getEntities` methods as shown below:\r\n\r\n```\r\npublic class ProductExporter extends AbstractDataExporter&lt;ProductDTO&gt; {\r\n\r\n    @Override\r\n    protected Iterable&lt;ProductDTO&gt; getEntities() {\r\n        //\r\n    }\r\n}\r\n```\r\n\r\nEverything i working without any problem and I call the export method from Controller as shown below:\r\n\r\n```\r\nprivate final ProductExporter productExporter;\r\n\r\npublic ResponseEntity&lt;Resource&gt; exportProduct() throws IOException {\r\n    final MultipartFile multipartFile = productExporter.export();\r\n    //\r\n}\r\n```\r\n\r\nMy problem is that: When I need another exporter class e.g. CategoryExporter that takes a parameter e.g. an `UUID`, then how should I overload the `export` and `getEntities` methods properly? I overloaded by adding new methods that takes parameter, but in this case all the new methods are also needed to be added ProductExporter unnecessarily. So, how to fix that problem?\r\n \r\n```\r\n// ??? what about passing parameter:\r\nprivate final CategoryExporter categoryExporter ;\r\n\r\npublic ResponseEntity&lt;Resource&gt; exportCategory(UUID uuid) throws IOException {\r\n    final MultipartFile multipartFile = categoryExporter.export(uuid);\r\n    //\r\n}\r\n```","title":"Overloading abstract method causes unnecessary implementation in Java","body":"<p>I have the following interface:</p>\n<pre><code>public interface DataExporter {\n    MultipartFile export() throws IOException;\n}\n</code></pre>\n<p>And the following abstract class inherits from the interface:</p>\n<pre><code>public abstract class AbstractDataExporter&lt;T&gt; implements DataExporter {\n    \n    @Override\n    public MultipartFile export() throws IOException {\n        final Iterable&lt;T&gt; entities = getEntities();\n        // ...\n    }\n\n    protected abstract Iterable&lt;T&gt; getEntities();\n}\n</code></pre>\n<p>Then I implement <code>export</code> and <code>getEntities</code> methods as shown below:</p>\n<pre><code>public class ProductExporter extends AbstractDataExporter&lt;ProductDTO&gt; {\n\n    @Override\n    protected Iterable&lt;ProductDTO&gt; getEntities() {\n        //\n    }\n}\n</code></pre>\n<p>Everything i working without any problem and I call the export method from Controller as shown below:</p>\n<pre><code>private final ProductExporter productExporter;\n\npublic ResponseEntity&lt;Resource&gt; exportProduct() throws IOException {\n    final MultipartFile multipartFile = productExporter.export();\n    //\n}\n</code></pre>\n<p>My problem is that: When I need another exporter class e.g. CategoryExporter that takes a parameter e.g. an <code>UUID</code>, then how should I overload the <code>export</code> and <code>getEntities</code> methods properly? I overloaded by adding new methods that takes parameter, but in this case all the new methods are also needed to be added ProductExporter unnecessarily. So, how to fix that problem?</p>\n<pre><code>// ??? what about passing parameter:\nprivate final CategoryExporter categoryExporter ;\n\npublic ResponseEntity&lt;Resource&gt; exportCategory(UUID uuid) throws IOException {\n    final MultipartFile multipartFile = categoryExporter.export(uuid);\n    //\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14587195,"reputation":413,"user_id":10535574,"display_name":"RAZAFINARIVO Hanania"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635836328,"creation_date":1635836328,"answer_id":69806438,"question_id":69806382,"body_markdown":"Because operator `==` compares the address memory not the value for String variable. You need to use `equals()` method.\r\n\r\n    command.equals(&quot;exit&quot;)","title":"How do Java scanner read string correctly","body":"<p>Because operator <code>==</code> compares the address memory not the value for String variable. You need to use <code>equals()</code> method.</p>\n<pre><code>command.equals(&quot;exit&quot;)\n</code></pre>\n"}],"owner":{"account_id":23213327,"reputation":29,"user_id":17306502,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635836307,"accepted_answer_id":69806438,"answer_count":1,"score":0,"last_activity_date":1635836328,"creation_date":1635835893,"question_id":69806382,"body_markdown":"```\r\n        String command = &quot;&quot;;\r\n\t    Scanner sc = new Scanner(System.in);\r\n\t    while (command!=&quot;exit&quot;)\r\n\t    {\r\n\t        System.out.println(&quot;Please enter command: &quot;);\r\n\t        command = sc.nextLine();\r\n\t        System.out.println(&quot;You enter: &quot;+command);\r\n\t        if (command == &quot;exit&quot;)\r\n\t        {\r\n\t        \tSystem.out.println(&quot;Exit program.&quot;);\r\n\t        }\r\n\t    }\r\n\t    sc.close();\r\n```\r\nHaven&#39;t written java in a year and I forgot how scanner work. The code would never enter the if part when I enter exit. I tried next() and nextLine().\r\n","title":"How do Java scanner read string correctly","body":"<pre><code>        String command = &quot;&quot;;\n        Scanner sc = new Scanner(System.in);\n        while (command!=&quot;exit&quot;)\n        {\n            System.out.println(&quot;Please enter command: &quot;);\n            command = sc.nextLine();\n            System.out.println(&quot;You enter: &quot;+command);\n            if (command == &quot;exit&quot;)\n            {\n                System.out.println(&quot;Exit program.&quot;);\n            }\n        }\n        sc.close();\n</code></pre>\n<p>Haven't written java in a year and I forgot how scanner work. The code would never enter the if part when I enter exit. I tried next() and nextLine().</p>\n"},{"tags":["java","java-7","tls1.2","sha256","sslhandshakeexception"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1635343850,"post_id":69740045,"comment_id":123272964,"body_markdown":"#1 Enable more verbose log `-Djavax.net.debug=ssl,handshake` and try again. Share us if log has new important lines. https://access.redhat.com/solutions/973783 #2 open-jdk 8 is not an option?","body":"#1 Enable more verbose log <code>-Djavax.net.debug=ssl,handshake</code> and try again. Share us if log has new important lines. <a href=\"https://access.redhat.com/solutions/973783\" rel=\"nofollow noreferrer\">access.redhat.com/solutions/973783</a> #2 open-jdk 8 is not an option?"},{"owner":{"account_id":10286269,"reputation":21,"user_id":11946192,"display_name":"Abhiram Tilak Veerapaneni"},"score":0,"creation_date":1635344451,"post_id":69740045,"comment_id":123273284,"body_markdown":"@JRichardsz, Thank you for your response. I added a -D argument and extracted below comments and updated in question. Yes, open-jdk 8 is not an option because the above mentioned code snippet is from a very big project and it is like very major effort to migrate to java 8.","body":"@JRichardsz, Thank you for your response. I added a -D argument and extracted below comments and updated in question. Yes, open-jdk 8 is not an option because the above mentioned code snippet is from a very big project and it is like very major effort to migrate to java 8."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1635345372,"post_id":69740045,"comment_id":123273757,"body_markdown":"try with this `java -Dhttps.protocols=TLSv1.2,TLSv1.1,TLSv1`","body":"try with this <code>java -Dhttps.protocols=TLSv1.2,TLSv1.1,TLSv1</code>"},{"owner":{"account_id":10286269,"reputation":21,"user_id":11946192,"display_name":"Abhiram Tilak Veerapaneni"},"score":0,"creation_date":1635345626,"post_id":69740045,"comment_id":123273886,"body_markdown":"@JRichardsz, we already have that argument. After that argument we are getting hans shake exception. Before that the error is &quot;protocl_version&quot;","body":"@JRichardsz, we already have that argument. After that argument we are getting hans shake exception. Before that the error is &quot;protocl_version&quot;"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1635852490,"post_id":69740045,"comment_id":123397832,"body_markdown":"That server supports only ciphersuites using GCM; Java 7 JSSE supports TLS1.2 if prodded (e.g. with `https.protocols`) but not GCM suites. Bouncy (bctls&amp;bcprov) 1.68 or 1.67 context `&quot;TLSv1.2&quot;` WORKS FOR ME on 7u80 except I have to fix the truststore because that server uses a CA (Comodo RSA) not in 7u80 cacerts. (1.69 seems to have some internal inconsistency; 1.66 and 1.65 don&#39;t offer the GCM suites even though they&#39;re listed; 1.64 and below have some problem with SecureRandom I don&#39;t understand.) But if youi found an alternative, fine.","body":"That server supports only ciphersuites using GCM; Java 7 JSSE supports TLS1.2 if prodded (e.g. with <code>https.protocols</code>) but not GCM suites. Bouncy (bctls&amp;bcprov) 1.68 or 1.67 context <code>&quot;TLSv1.2&quot;</code> WORKS FOR ME on 7u80 except I have to fix the truststore because that server uses a CA (Comodo RSA) not in 7u80 cacerts. (1.69 seems to have some internal inconsistency; 1.66 and 1.65 don&#39;t offer the GCM suites even though they&#39;re listed; 1.64 and below have some problem with SecureRandom I don&#39;t understand.) But if youi found an alternative, fine."}],"answers":[{"tags":[],"owner":{"account_id":10286269,"reputation":21,"user_id":11946192,"display_name":"Abhiram Tilak Veerapaneni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635836274,"creation_date":1635836274,"answer_id":69806435,"question_id":69740045,"body_markdown":"As we didn&#39;t find any solid information to proceed with this using java 7, we had a microservice running on open jdk 11. So we are caling that micro service internally and doing an actual call.","title":"Getting Received fatal alert: handshake_failure exception in java 1.7.0_80","body":"<p>As we didn't find any solid information to proceed with this using java 7, we had a microservice running on open jdk 11. So we are caling that micro service internally and doing an actual call.</p>\n"}],"owner":{"account_id":10286269,"reputation":21,"user_id":11946192,"display_name":"Abhiram Tilak Veerapaneni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635836274,"creation_date":1635343069,"question_id":69740045,"body_markdown":"I am trying to call ups server for some rate related details. Recently they migrated to new Ciphers.\r\nFor some reason we can not update our jdk version, so we need to stick to 1.7.0_80.\r\nI am getting below stack trace when calling ups calls\r\n```\r\ntrigger seeding of SecureRandom\r\ndone seeding SecureRandom\r\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\r\nAllow unsafe renegotiation: false\r\nAllow legacy hello messages: true\r\nIs initial handshake: true\r\nIs secure renegotiation: false\r\nmain, setSoTimeout(0) called\r\nIgnoring disabled protocol: SSLv3\r\n%% No cached client session\r\n*** ClientHello, TLSv1.2\r\nRandomCookie:  GMT: 1635344196 bytes = { 88, 0, 128, 81, 194, 87, 28, 140, 174, 104, 190, 184, 32, 3, 190, 29, 68, 66, 220, 248, 56, 153, 156, 98, 76, 74, 32, 115 }\r\nSession ID:  {}\r\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\nCompression Methods:  { 0 }\r\nExtension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\r\nExtension ec_point_formats, formats: [uncompressed]\r\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA, MD5withRSA\r\nExtension server_name, server_name: [host_name: onlinetools.ups.com]\r\n***\r\nmain, WRITE: TLSv1.2 Handshake, length = 221\r\nmain, READ: TLSv1.2 Alert, length = 2\r\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\r\nmain, called closeSocket()\r\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\nmain, called close()\r\nmain, called closeInternal(true)\r\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n\tat sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1092)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\r\n```\r\nAPI call is as below\r\n```\r\ntry {\r\n\t\t\tOutputStream outputStream = null;\r\n\t\t\tURL url = new URL(&quot;https://onlinetools.ups.com/......&quot;);\r\n\t\t\tHttpURLConnection uc = (HttpURLConnection) url.openConnection();\r\n\t\t\tuc.setDoOutput(true);\r\n\t\t\tuc.setDoInput(true);\r\n\t\t\tuc.setUseCaches(false);\r\n\t\t\toutputStream = uc.getOutputStream(); //Exception getting thrown from here\r\n\t\t\toutputStream.write(xmlInputString.getBytes());\r\n\t\t\toutputStream.flush();\r\n\t\t\toutputStream.close();\r\n\t\t\t\r\n\t\t\tStringBuilder buffer = new StringBuilder();\r\n\t\t\tBufferedReader reader = null;\r\n\t\t\ttry {\r\n\t\t\t\treader = new BufferedReader(new InputStreamReader(uc.getInputStream()));\r\n\t\t\t\tint letter = 0;\r\n\t\t\t\twhile ((letter = reader.read()) != -1) {\r\n\t\t\t\t\tbuffer.append((char) letter);\r\n\t\t\t\t}\r\n\t\t\t\treader.close();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;Error reading UPS response&quot;+ e);\r\n\t\t\t} finally {\r\n\t\t\t\tif (reader != null) {\r\n\t\t\t\t\treader.close();\r\n\t\t\t\t\treader = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;response is :&quot;+ buffer.toString());\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\nxmlInputString is the request string.\r\n\r\nAlready tried with bouncycastle but no luck and updated security jars(local_policies and other jar).\r\nPlease provide the suggestions.\r\nThank you in advance.","title":"Getting Received fatal alert: handshake_failure exception in java 1.7.0_80","body":"<p>I am trying to call ups server for some rate related details. Recently they migrated to new Ciphers.\nFor some reason we can not update our jdk version, so we need to stick to 1.7.0_80.\nI am getting below stack trace when calling ups calls</p>\n<pre><code>trigger seeding of SecureRandom\ndone seeding SecureRandom\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\nAllow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\nmain, setSoTimeout(0) called\nIgnoring disabled protocol: SSLv3\n%% No cached client session\n*** ClientHello, TLSv1.2\nRandomCookie:  GMT: 1635344196 bytes = { 88, 0, 128, 81, 194, 87, 28, 140, 174, 104, 190, 184, 32, 3, 190, 29, 68, 66, 220, 248, 56, 153, 156, 98, 76, 74, 32, 115 }\nSession ID:  {}\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\nCompression Methods:  { 0 }\nExtension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\nExtension ec_point_formats, formats: [uncompressed]\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA, MD5withRSA\nExtension server_name, server_name: [host_name: onlinetools.ups.com]\n***\nmain, WRITE: TLSv1.2 Handshake, length = 221\nmain, READ: TLSv1.2 Alert, length = 2\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\nmain, called closeSocket()\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nmain, called close()\nmain, called closeInternal(true)\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n    at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1092)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\n</code></pre>\n<p>API call is as below</p>\n<pre><code>try {\n            OutputStream outputStream = null;\n            URL url = new URL(&quot;https://onlinetools.ups.com/......&quot;);\n            HttpURLConnection uc = (HttpURLConnection) url.openConnection();\n            uc.setDoOutput(true);\n            uc.setDoInput(true);\n            uc.setUseCaches(false);\n            outputStream = uc.getOutputStream(); //Exception getting thrown from here\n            outputStream.write(xmlInputString.getBytes());\n            outputStream.flush();\n            outputStream.close();\n            \n            StringBuilder buffer = new StringBuilder();\n            BufferedReader reader = null;\n            try {\n                reader = new BufferedReader(new InputStreamReader(uc.getInputStream()));\n                int letter = 0;\n                while ((letter = reader.read()) != -1) {\n                    buffer.append((char) letter);\n                }\n                reader.close();\n            } catch (Exception e) {\n                System.out.println(&quot;Error reading UPS response&quot;+ e);\n            } finally {\n                if (reader != null) {\n                    reader.close();\n                    reader = null;\n                }\n            }\n            System.out.println(&quot;response is :&quot;+ buffer.toString());\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>xmlInputString is the request string.</p>\n<p>Already tried with bouncycastle but no luck and updated security jars(local_policies and other jar).\nPlease provide the suggestions.\nThank you in advance.</p>\n"},{"tags":["java","calendar"],"comments":[{"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"score":3,"creation_date":1345994772,"post_id":12131324,"comment_id":16224875,"body_markdown":"http://stackoverflow.com/questions/6245053/how-to-make-a-static-calendar-thread-safe see that","body":"<a href=\"http://stackoverflow.com/questions/6245053/how-to-make-a-static-calendar-thread-safe\" title=\"how to make a static calendar thread safe\">stackoverflow.com/questions/6245053/&hellip;</a> see that"},{"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"score":0,"creation_date":1345994915,"post_id":12131324,"comment_id":16224899,"body_markdown":"@AlexColeman Note that the first answer says &quot;no&quot;, the second answer says &quot;yes&quot;, and none of all that discussion is backed by anything.","body":"@AlexColeman Note that the first answer says &quot;no&quot;, the second answer says &quot;yes&quot;, and none of all that discussion is backed by anything."},{"owner":{"account_id":1196838,"reputation":6753,"user_id":1168372,"accept_rate":79,"display_name":"Sujay"},"score":1,"creation_date":1345995026,"post_id":12131324,"comment_id":16224920,"body_markdown":"+1 for `Joda Time` though. If thread-safety issues are your concern then using this would be a good option.","body":"+1 for <code>Joda Time</code> though. If thread-safety issues are your concern then using this would be a good option."},{"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"score":0,"creation_date":1345995306,"post_id":12131324,"comment_id":16224980,"body_markdown":"@DanielC.Sobral However, the first was upvoted 8 times and got the correct answer, and seemed to be backed well","body":"@DanielC.Sobral However, the first was upvoted 8 times and got the correct answer, and seemed to be backed well"},{"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"score":0,"creation_date":1345995810,"post_id":12131324,"comment_id":16225104,"body_markdown":"@AlexColeman The first answer is by Jon Skeet, so it&#39;s subject to the Jon Skeet effect. And there&#39;s no backing: is there any code or explanation or reference to official documentation showing it isn&#39;t thread-safe? No. It mentions mutability, which does impact thread safeness, but the question was about the *static* `getInstance`, not about `Calendar` instances themselves. So, no, that isn&#39;t an answer to this question.","body":"@AlexColeman The first answer is by Jon Skeet, so it&#39;s subject to the Jon Skeet effect. And there&#39;s no backing: is there any code or explanation or reference to official documentation showing it isn&#39;t thread-safe? No. It mentions mutability, which does impact thread safeness, but the question was about the <i>static</i> <code>getInstance</code>, not about <code>Calendar</code> instances themselves. So, no, that isn&#39;t an answer to this question."},{"owner":{"account_id":2234326,"reputation":1296,"user_id":1971144,"accept_rate":50,"display_name":"mojoken"},"score":0,"creation_date":1406765126,"post_id":12131324,"comment_id":38962795,"body_markdown":"At the risk of stating the obvious I will point out that each call to Calendar.getInstance() will return a new object. So as long as you use your instance within a single thread, thread safety may not be an issue for you.","body":"At the risk of stating the obvious I will point out that each call to Calendar.getInstance() will return a new object. So as long as you use your instance within a single thread, thread safety may not be an issue for you."},{"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"score":1,"creation_date":1406836755,"post_id":12131324,"comment_id":38998514,"body_markdown":"@mojoken At risk of stating the obvious, thread safety pertains to multiple threads using the same instance.","body":"@mojoken At risk of stating the obvious, thread safety pertains to multiple threads using the same instance."}],"answers":[{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1345997728,"creation_date":1345997728,"answer_id":12131708,"question_id":12131324,"body_markdown":"Documentation from Oracle says nothing about thread-safety: http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html.\r\n\r\nOpenJDK source code (build b147) implements `java.util.Calendar` in a non-thread-safe way, for example:\r\n\r\n    public void setTimeInMillis(long millis) {\r\n      // skipped\r\n      time = millis;\r\n      isTimeSet = true;\r\n      areFieldsSet = false;\r\n      computeFields();\r\n      areAllFieldsSet = areFieldsSet = true;\r\n    }\r\n\r\nI think that it&#39;s safe to assume that the class is **not** thread safe.","title":"Is java.util.Calendar thread safe or not?","body":"<p>Documentation from Oracle says nothing about thread-safety: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html</a>.</p>\n\n<p>OpenJDK source code (build b147) implements <code>java.util.Calendar</code> in a non-thread-safe way, for example:</p>\n\n<pre><code>public void setTimeInMillis(long millis) {\n  // skipped\n  time = millis;\n  isTimeSet = true;\n  areFieldsSet = false;\n  computeFields();\n  areAllFieldsSet = areFieldsSet = true;\n}\n</code></pre>\n\n<p>I think that it's safe to assume that the class is <strong>not</strong> thread safe.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1635835700,"creation_date":1345998016,"answer_id":12131740,"question_id":12131324,"body_markdown":"Here is a link to the source code of [Calendar][1] and [GregorianCalendar][2] in Java 7 \r\n\r\nIf you read the code you will see that none of the instance methods are synchronized, and none of the instance fields are `volatile`.  You will also see that even the field `get` methods can cause a Calendar instance to mutate.  And since there is no synchronization performed, different threads may see stale versions of a Calendar object&#39;s fields following such a mutating operation.  \r\n\r\nFor the record, the mutation action in the field get methods happens in / during a call to this method:\r\n\r\n     1555 protected void complete()\r\n     1556       {\r\n     1557           if (!isTimeSet)\r\n     1558               updateTime();\r\n     1559           if (!areFieldsSet || !areAllFieldsSet) {\r\n     1560               computeFields(); // fills in unset fields\r\n     1561               areAllFieldsSet = areFieldsSet = true;\r\n     1562           }\r\n     1563       }\r\n\r\nIn short, the `Calendar` class is not thread-safe, and `GregorianCalendar` isn&#39;t either because it inherits the non-thread-safe fields and methods.\r\n\r\nBut don&#39;t just take my word for it.  Do your own analysis of the source code.\r\n\r\n-----------------------\r\n\r\n&gt; And, to top it off, the documentation doesn&#39;t say anything one way or another, not for Calendar, nor even for Date.\r\n\r\nIf the javadocs don&#39;t specify the thread-safety of a class, then you should *assume* that it is not thread-safe.  (Especially if the class is mutable *by design*.)\r\n\r\n\r\n  [1]: http://www.docjar.com/html/api/java/util/Calendar.java.html\r\n  [2]: http://www.docjar.com/html/api/java/util/GregorianCalendar.java.html","title":"Is java.util.Calendar thread safe or not?","body":"<p>Here is a link to the source code of <a href=\"http://www.docjar.com/html/api/java/util/Calendar.java.html\" rel=\"nofollow noreferrer\">Calendar</a> and <a href=\"http://www.docjar.com/html/api/java/util/GregorianCalendar.java.html\" rel=\"nofollow noreferrer\">GregorianCalendar</a> in Java 7</p>\n<p>If you read the code you will see that none of the instance methods are synchronized, and none of the instance fields are <code>volatile</code>.  You will also see that even the field <code>get</code> methods can cause a Calendar instance to mutate.  And since there is no synchronization performed, different threads may see stale versions of a Calendar object's fields following such a mutating operation.</p>\n<p>For the record, the mutation action in the field get methods happens in / during a call to this method:</p>\n<pre><code> 1555 protected void complete()\n 1556       {\n 1557           if (!isTimeSet)\n 1558               updateTime();\n 1559           if (!areFieldsSet || !areAllFieldsSet) {\n 1560               computeFields(); // fills in unset fields\n 1561               areAllFieldsSet = areFieldsSet = true;\n 1562           }\n 1563       }\n</code></pre>\n<p>In short, the <code>Calendar</code> class is not thread-safe, and <code>GregorianCalendar</code> isn't either because it inherits the non-thread-safe fields and methods.</p>\n<p>But don't just take my word for it.  Do your own analysis of the source code.</p>\n<hr />\n<blockquote>\n<p>And, to top it off, the documentation doesn't say anything one way or another, not for Calendar, nor even for Date.</p>\n</blockquote>\n<p>If the javadocs don't specify the thread-safety of a class, then you should <em>assume</em> that it is not thread-safe.  (Especially if the class is mutable <em>by design</em>.)</p>\n"}],"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20371,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":12131740,"answer_count":2,"score":26,"last_activity_date":1635835985,"creation_date":1345994677,"question_id":12131324,"body_markdown":"I&#39;ve been working under the assumption that neither `Date` nor `Calendar` are thread-safe, but, during a recent discussion, a co-worker told me `Calendar` was thread-safe.\r\n\r\nSo, I did some research, and came up with nothing. There are plenty people arguing it&#39;s thread-safe, and plenty people arguing it&#39;s not thread-safe. And, to top it off, the documentation doesn&#39;t say anything one way or another, not for `Calendar`, nor even for `Date`.\r\n\r\nSo, which is it?","title":"Is java.util.Calendar thread safe or not?","body":"<p>I've been working under the assumption that neither <code>Date</code> nor <code>Calendar</code> are thread-safe, but, during a recent discussion, a co-worker told me <code>Calendar</code> was thread-safe.</p>\n\n<p>So, I did some research, and came up with nothing. There are plenty people arguing it's thread-safe, and plenty people arguing it's not thread-safe. And, to top it off, the documentation doesn't say anything one way or another, not for <code>Calendar</code>, nor even for <code>Date</code>.</p>\n\n<p>So, which is it?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1635825309,"post_id":69805214,"comment_id":123390070,"body_markdown":"Your Gradle JDK is one thing.  It&#39;s not relevant here.  Your Gradle `sourceCompatibility` and  `targetCompatibility` settings are both &quot;JavaVersion.VERSION_1_8&quot;.  That looks OK.  Your Android/Java source compiler is a different thing. Check &quot;compiler&quot; settings in Android Studio.","body":"Your Gradle JDK is one thing.  It&#39;s not relevant here.  Your Gradle <code>sourceCompatibility</code> and  <code>targetCompatibility</code> settings are both &quot;JavaVersion.VERSION_1_8&quot;.  That looks OK.  Your Android/Java source compiler is a different thing. Check &quot;compiler&quot; settings in Android Studio."},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1635827397,"post_id":69805214,"comment_id":123390341,"body_markdown":"@paulsm4 My &quot;complier&quot; setting is added to the question description, it seems there is nothing I can change. Should I specify the command-line options?","body":"@paulsm4 My &quot;complier&quot; setting is added to the question description, it seems there is nothing I can change. Should I specify the command-line options?"},{"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"score":0,"creation_date":1635828704,"post_id":69805214,"comment_id":123390531,"body_markdown":"I think this will help you https://stackoverflow.com/a/68616770/15005298","body":"I think this will help you <a href=\"https://stackoverflow.com/a/68616770/15005298\">stackoverflow.com/a/68616770/15005298</a>"},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1635832229,"post_id":69805214,"comment_id":123391103,"body_markdown":"@YaqoobBhatti nope, my gradle setting was the same as this before I got this problem, unfottunately I found that I can use lambda like ```threadpool.submit( ()-&gt;{......} )``` but I cannot use lambda in stream.","body":"@YaqoobBhatti nope, my gradle setting was the same as this before I got this problem, unfottunately I found that I can use lambda like <code>threadpool.submit( ()-&gt;{......} )</code> but I cannot use lambda in stream."}],"answers":[{"tags":[],"owner":{"account_id":23212667,"reputation":21,"user_id":17305903,"display_name":"Chiku AI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635830517,"creation_date":1635830517,"answer_id":69805709,"question_id":69805214,"body_markdown":"go to App level build.gradle&gt;\r\n\r\nthen put this code in android {} block \r\n\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n\r\nafter this your code look like this\r\n\r\n\r\n    android {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &quot;30.0.2&quot;\r\n    \r\n    defaultConfig {\r\n        applicationId &quot;in.chikuai.example&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    \r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    \r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    \r\n    }","title":"How to use lambda expression in android?","body":"<p>go to App level build.gradle&gt;</p>\n<p>then put this code in android {} block</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>after this your code look like this</p>\n<pre><code>android {\ncompileSdkVersion 31\nbuildToolsVersion &quot;30.0.2&quot;\n\ndefaultConfig {\n    applicationId &quot;in.chikuai.example&quot;\n    minSdkVersion 19\n    targetSdkVersion 31\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635835769,"creation_date":1635835769,"answer_id":69806363,"question_id":69805214,"body_markdown":"Recently, I have the problem solved by change my build.gradle file according to the [official doc][1].\r\nnow my build.gradle file is :\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.infiai.simplesender&quot;\r\n        minSdk 25\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n    compileOptions {\r\n        coreLibraryDesugaringEnabled true\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation group: &#39;com.squareup.okhttp3&#39;, name: &#39;okhttp&#39;, version: &#39;4.9.2&#39;\r\n    implementation group: &#39;com.alibaba&#39;, name: &#39;fastjson&#39;, version: &#39;1.2.78&#39;\r\n    implementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;31.0.1-android&#39;\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n}\r\n```\r\nI can now using both stream and lambda together, but I didn&#39;t figure out how to use this in debug mode when the expression is in watches window, it will still throw exception even the same expression in my code was running succeed.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support#groovy\r\n  [2]: https://i.stack.imgur.com/AhEvN.png","title":"How to use lambda expression in android?","body":"<p>Recently, I have the problem solved by change my build.gradle file according to the <a href=\"https://developer.android.com/studio/write/java8-support#groovy\" rel=\"nofollow noreferrer\">official doc</a>.\nnow my build.gradle file is :</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.infiai.simplesender&quot;\n        minSdk 25\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n\n    compileOptions {\n        coreLibraryDesugaringEnabled true\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation group: 'com.squareup.okhttp3', name: 'okhttp', version: '4.9.2'\n    implementation group: 'com.alibaba', name: 'fastjson', version: '1.2.78'\n    implementation group: 'com.google.guava', name: 'guava', version: '31.0.1-android'\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n</code></pre>\n<p>I can now using both stream and lambda together, but I didn't figure out how to use this in debug mode when the expression is in watches window, it will still throw exception even the same expression in my code was running succeed.</p>\n<p><a href=\"https://i.stack.imgur.com/AhEvN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AhEvN.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69806363,"answer_count":2,"score":-1,"last_activity_date":1635835769,"creation_date":1635825114,"question_id":69805214,"body_markdown":"I have tried everything I could find from ```StackOverflow``` to make this problem right but none of them succeeded.\r\n&lt;br&gt;&lt;be&gt;\r\n\r\nThe strange thing is : I can use lambda such as \r\n```\r\n activity.runOnUiThread(() -&gt; {\r\n                    activity.startActivity(intent);\r\n                });\r\n```\r\nand stream like this\r\n\r\n```\r\nactivity.getPackageManager().getInstalledPackages(0).stream().collect(Collectors.toList())\r\n\r\n```\r\nbut this will fail :\r\n```\r\nactivity.getPackageManager()\r\n.getInstalledPackages(0)\r\n.stream()\r\n.filter(e -&gt; e.packageName.contains(&quot;com&quot;))\r\n.collect(Collectors.toList())\r\n```\r\n\r\n&lt;br&gt;&lt;be&gt;\r\n\r\nmy build.gradle file:\r\n---------------------\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.mylearn.simplesender&quot;\r\n        minSdk 25\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation group: &#39;com.squareup.okhttp3&#39;, name: &#39;okhttp&#39;, version: &#39;4.9.2&#39;\r\n    implementation group: &#39;com.alibaba&#39;, name: &#39;fastjson&#39;, version: &#39;1.2.78&#39;\r\n    implementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;31.0.1-android&#39;\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n}\r\n```\r\nand also, here is my Gradle setting in ```Android Studio```\r\n\r\n\r\n----------\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n----------\r\n\r\nhere is my compile setting in ```Android Studio```\r\n\r\n----------\r\n\r\n[![enter image description here][2]][2]\r\n&lt;br&gt;&lt;br&gt;\r\n\r\nIt shows an unreadable error, and when I debug this expression in the watcher shows :\r\n```\r\nCompilation failed:\r\n-source 1.6 中不支持 lambda 表达式\r\n  (请使用 -source 8 或更高版本以启用 lambda 表达式)\r\n\r\n```\r\nwhich means I&#39;m using source version 1.6, and it does not support lambda expression and told me to use source 8 or higher to enable lambda expression.\r\n&lt;br&gt;&lt;br&gt;\r\nBut I&#39;m already in java 11, how could this happen?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u96TT.png\r\n  [2]: https://i.stack.imgur.com/b1IkR.png","title":"How to use lambda expression in android?","body":"<p>I have tried everything I could find from <code>StackOverflow</code> to make this problem right but none of them succeeded.\n<br></p>\n<p>The strange thing is : I can use lambda such as</p>\n<pre><code> activity.runOnUiThread(() -&gt; {\n                    activity.startActivity(intent);\n                });\n</code></pre>\n<p>and stream like this</p>\n<pre><code>activity.getPackageManager().getInstalledPackages(0).stream().collect(Collectors.toList())\n\n</code></pre>\n<p>but this will fail :</p>\n<pre><code>activity.getPackageManager()\n.getInstalledPackages(0)\n.stream()\n.filter(e -&gt; e.packageName.contains(&quot;com&quot;))\n.collect(Collectors.toList())\n</code></pre>\n<p><br></p>\n<h2>my build.gradle file:</h2>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.mylearn.simplesender&quot;\n        minSdk 25\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation group: 'com.squareup.okhttp3', name: 'okhttp', version: '4.9.2'\n    implementation group: 'com.alibaba', name: 'fastjson', version: '1.2.78'\n    implementation group: 'com.google.guava', name: 'guava', version: '31.0.1-android'\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n</code></pre>\n<p>and also, here is my Gradle setting in <code>Android Studio</code></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/u96TT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u96TT.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>here is my compile setting in <code>Android Studio</code></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/b1IkR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b1IkR.png\" alt=\"enter image description here\" /></a>\n<br><br></p>\n<p>It shows an unreadable error, and when I debug this expression in the watcher shows :</p>\n<pre><code>Compilation failed:\n-source 1.6 中不支持 lambda 表达式\n  (请使用 -source 8 或更高版本以启用 lambda 表达式)\n\n</code></pre>\n<p>which means I'm using source version 1.6, and it does not support lambda expression and told me to use source 8 or higher to enable lambda expression.\n<br><br>\nBut I'm already in java 11, how could this happen?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3225384,"reputation":9550,"user_id":2721883,"display_name":"clcto"},"score":3,"creation_date":1424213686,"post_id":28572730,"comment_id":45455126,"body_markdown":"One hint: `&#39;6&#39; - &#39;0&#39; = 6`","body":"One hint: <code>&#39;6&#39; - &#39;0&#39; = 6</code>"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":5,"creation_date":1424213721,"post_id":28572730,"comment_id":45455142,"body_markdown":"Take the code in `Integer.parseInt` and copy it to a new method.","body":"Take the code in <code>Integer.parseInt</code> and copy it to a new method."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1424213766,"post_id":28572730,"comment_id":45455160,"body_markdown":"&quot;*without using `Integer.parseInt`*&quot; why? This looks like [XY problem](http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). What are you trying to achieve?","body":"&quot;<i>without using <code>Integer.parseInt</code></i>&quot; why? This looks like <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. What are you trying to achieve?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1424213891,"post_id":28572730,"comment_id":45455213,"body_markdown":"`6 = 6*10^0`; `99 = 9*10^0 + 9*10^1` and so on.","body":"<code>6 = 6*10^0</code>; <code>99 = 9*10^0 + 9*10^1</code> and so on."}],"answers":[{"tags":[],"owner":{"account_id":1403438,"reputation":578,"user_id":1331778,"accept_rate":75,"display_name":"Anil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424214266,"creation_date":1424213720,"answer_id":28572753,"question_id":28572730,"body_markdown":"What about Scanner?\r\n\r\n    int a=new Scanner(s).nextInt();\r\nWithout util.\r\n\r\n  \r\n\r\n    public static int parseInt(String s)\r\n      {\r\n    \r\n        int ans=0;\r\n          for(int i=s.length()-1;i&gt;=0;i--)\r\n          {\r\n              ans+=(s.charAt(i)-&#39;0&#39;);\r\n              ans*=10;\r\n          }\r\n          return ans/10;\r\n      }","title":"how to convert a string value to integer without using Integer.parseInt()?","body":"<p>What about Scanner?</p>\n\n<pre><code>int a=new Scanner(s).nextInt();\n</code></pre>\n\n<p>Without util.</p>\n\n<pre><code>public static int parseInt(String s)\n  {\n\n    int ans=0;\n      for(int i=s.length()-1;i&gt;=0;i--)\n      {\n          ans+=(s.charAt(i)-'0');\n          ans*=10;\n      }\n      return ans/10;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25812,"reputation":1185,"user_id":66654,"accept_rate":50,"display_name":"Makis Arvanitis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424215633,"creation_date":1424215633,"answer_id":28573203,"question_id":28572730,"body_markdown":"Try to get each char from the string and then the value of each char. 0 has a value of 48 so \r\n \r\n\r\n     char c = &#39;9&#39;;\r\n     int i = c - 48;\r\n\r\nNow `i = 9`. After that you only need to multiply this value with the appropriate power of 10 and add it to the total\r\n","title":"how to convert a string value to integer without using Integer.parseInt()?","body":"<p>Try to get each char from the string and then the value of each char. 0 has a value of 48 so </p>\n\n<pre><code> char c = '9';\n int i = c - 48;\n</code></pre>\n\n<p>Now <code>i = 9</code>. After that you only need to multiply this value with the appropriate power of 10 and add it to the total</p>\n"},{"tags":[],"owner":{"account_id":8450370,"reputation":11,"user_id":6339389,"display_name":"Umesh Patidar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635835751,"creation_date":1463379456,"answer_id":37247790,"question_id":28572730,"body_markdown":"    public class MyStringToNumber {\r\n\r\n        public static int convert_String_To_Number(String numStr){\r\n             \r\n            char ch[] = numStr.toCharArray();\r\n            int sum = 0;\r\n            //get ascii value for zero\r\n            int zeroAscii = (int)&#39;0&#39;;\r\n            for(char c:ch){\r\n                int tmpAscii = (int)c;\r\n                sum = (sum*10)+(tmpAscii-zeroAscii);\r\n            }\r\n            return sum;\r\n        }\r\n         \r\n        public static void main(String a[]){\r\n             \r\n            System.out.println(&quot;\\&quot;3256\\&quot; == &quot;+convert_String_To_Number(&quot;3256&quot;));\r\n            System.out.println(&quot;\\&quot;76289\\&quot; == &quot;+convert_String_To_Number(&quot;76289&quot;));\r\n            System.out.println(&quot;\\&quot;90087\\&quot; == &quot;+convert_String_To_Number(&quot;90087&quot;));\r\n        }\r\n    }\r\n\r\nSee more at [this URL][1].\r\n\r\n\r\n  [1]: https://www.java2novice.com/java-interview-programs/string-to-number/#sthash.9OnVBYnU.dpuf","title":"how to convert a string value to integer without using Integer.parseInt()?","body":"<pre><code>public class MyStringToNumber {\n\n    public static int convert_String_To_Number(String numStr){\n         \n        char ch[] = numStr.toCharArray();\n        int sum = 0;\n        //get ascii value for zero\n        int zeroAscii = (int)'0';\n        for(char c:ch){\n            int tmpAscii = (int)c;\n            sum = (sum*10)+(tmpAscii-zeroAscii);\n        }\n        return sum;\n    }\n     \n    public static void main(String a[]){\n         \n        System.out.println(&quot;\\&quot;3256\\&quot; == &quot;+convert_String_To_Number(&quot;3256&quot;));\n        System.out.println(&quot;\\&quot;76289\\&quot; == &quot;+convert_String_To_Number(&quot;76289&quot;));\n        System.out.println(&quot;\\&quot;90087\\&quot; == &quot;+convert_String_To_Number(&quot;90087&quot;));\n    }\n}\n</code></pre>\n<p>See more at <a href=\"https://www.java2novice.com/java-interview-programs/string-to-number/#sthash.9OnVBYnU.dpuf\" rel=\"nofollow noreferrer\">this URL</a>.</p>\n"},{"tags":[],"owner":{"account_id":8450370,"reputation":11,"user_id":6339389,"display_name":"Umesh Patidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463385047,"creation_date":1463382697,"answer_id":37248537,"question_id":28572730,"body_markdown":"    public class ConvertIntoInt {\r\n        public static void main(String []args) {\r\n            String numStr = &quot;3256&quot;;\r\n            char ch[] = numStr.toCharArray();\r\n            int sum = 0;\r\n            // Get ASCII value for zero\r\n            int zeroAscii = (int)&#39;0&#39;;\r\n            for (char c:ch) {\r\n                int tmpAscii = (int)c;\r\n                System.out.println(&quot;Temp Ascii:&quot; + tmpAscii);\r\n                sum = (sum * 10) + (tmpAscii - zeroAscii);\r\n                System.out.println(sum);\r\n            }\r\n            System.out.println(sum);\r\n        }\r\n    }","title":"how to convert a string value to integer without using Integer.parseInt()?","body":"<pre><code>public class ConvertIntoInt {\n    public static void main(String []args) {\n        String numStr = \"3256\";\n        char ch[] = numStr.toCharArray();\n        int sum = 0;\n        // Get ASCII value for zero\n        int zeroAscii = (int)'0';\n        for (char c:ch) {\n            int tmpAscii = (int)c;\n            System.out.println(\"Temp Ascii:\" + tmpAscii);\n            sum = (sum * 10) + (tmpAscii - zeroAscii);\n            System.out.println(sum);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1594,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":4,"score":-3,"last_activity_date":1635835751,"creation_date":1424213614,"question_id":28572730,"body_markdown":"I have this input like \r\n\r\n    String s = &quot;6&quot; , ss=&quot;99 , sss = &quot;99999&quot;;\r\n\r\ni need to store these values in an int reference variable ,\r\nwithout using Integer.parseInt\r\n\r\nany suggestion ? , no full code , just the hints ??","title":"how to convert a string value to integer without using Integer.parseInt()?","body":"<p>I have this input like </p>\n\n<pre><code>String s = \"6\" , ss=\"99 , sss = \"99999\";\n</code></pre>\n\n<p>i need to store these values in an int reference variable ,\nwithout using Integer.parseInt</p>\n\n<p>any suggestion ? , no full code , just the hints ??</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":2932591,"reputation":4163,"user_id":2512399,"display_name":"Michael Markidis"},"score":0,"creation_date":1463119660,"post_id":37202337,"comment_id":61936641,"body_markdown":"Show the code you have tried so far.","body":"Show the code you have tried so far."},{"owner":{"account_id":6818082,"reputation":31,"user_id":5246043,"display_name":"Anoop M L"},"score":0,"creation_date":1463129784,"post_id":37202337,"comment_id":61942621,"body_markdown":"I want to know the way to use the s3-bucket path","body":"I want to know the way to use the s3-bucket path"},{"owner":{"account_id":313901,"reputation":2255,"user_id":628781,"display_name":"Ken Brittain"},"score":0,"creation_date":1463139641,"post_id":37202337,"comment_id":61949193,"body_markdown":"Your bucket name has a space and I don&#39;t think that flies: http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html","body":"Your bucket name has a space and I don&#39;t think that flies: <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":6818082,"reputation":31,"user_id":5246043,"display_name":"Anoop M L"},"score":0,"creation_date":1464333179,"post_id":37202337,"comment_id":62451732,"body_markdown":"Actually &quot;s3-buckt path&quot; this is not the bucket name , its &quot;CVR-TEST&quot;  bucket in the S3 ,but its showing the same issue","body":"Actually &quot;s3-buckt path&quot; this is not the bucket name , its &quot;CVR-TEST&quot;  bucket in the S3 ,but its showing the same issue"}],"answers":[{"tags":[],"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463139750,"creation_date":1463139750,"answer_id":37209195,"question_id":37202337,"body_markdown":"S3 is not like a Linux file system.\n\nYour S3 storage consists of buckets which contain objects in a completely flat space.  The concept of &quot;folder&quot; is artificial: an object with key &quot;foo&quot; lives in the same flat bucket namespace as an object with key &quot;path/to/bar&quot;.  There is no separate step of creating a folder; you just give your object a key whose name contains separators like &#39;/&#39; and you can treat the buckets as having folders through some of the LIST APIs that involve common prefixes.\n\nHowever, *buckets* do have to be created, once, before you can store things in them.  You have to indicate, among other things, what region should host objects which go in that bucket.","title":"Amazon s3 bucket path issue","body":"<p>S3 is not like a Linux file system.</p>\n\n<p>Your S3 storage consists of buckets which contain objects in a completely flat space.  The concept of \"folder\" is artificial: an object with key \"foo\" lives in the same flat bucket namespace as an object with key \"path/to/bar\".  There is no separate step of creating a folder; you just give your object a key whose name contains separators like '/' and you can treat the buckets as having folders through some of the LIST APIs that involve common prefixes.</p>\n\n<p>However, <em>buckets</em> do have to be created, once, before you can store things in them.  You have to indicate, among other things, what region should host objects which go in that bucket.</p>\n"},{"tags":[],"owner":{"account_id":7974145,"reputation":12975,"user_id":6017840,"display_name":"mootmoot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635835741,"creation_date":1463142352,"answer_id":37210036,"question_id":37202337,"body_markdown":"Either the bucket name you given is incorrect or you didn&#39;t create the bucket. \r\n\r\nYou need to check out documentation about [Bucket Restriction][1]. From the documentation \r\n\r\n&gt;  - Bucket names must be at least 3 and no more than 63 characters long.\r\n&gt;  - Bucket names must be a series of one or more labels. Adjacent labels    are separated by a single period (.). Bucket names can\r\n&gt; contain    lowercase letters, numbers, and hyphens. Each label must\r\n&gt; start and    end with a lowercase letter or a number.\r\n&gt;  - Bucket names must not be formatted as an IP address (e.g.,\r\n&gt;    192.168.5.4).\r\n&gt;  - When using virtual hosted–style buckets with SSL, the SSL wildcard    certificate only matches buckets that do not contain periods. To work \r\n&gt; around this, use HTTP or write your own certificate verification logic. We recommend that you do not use periods (&quot;.&quot;) in bucket   \r\n&gt; names.\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/BucketRestrictions.html","title":"Amazon s3 bucket path issue","body":"<p>Either the bucket name you given is incorrect or you didn't create the bucket.</p>\n<p>You need to check out documentation about <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/BucketRestrictions.html\" rel=\"nofollow noreferrer\">Bucket Restriction</a>. From the documentation</p>\n<blockquote>\n<ul>\n<li>Bucket names must be at least 3 and no more than 63 characters long.</li>\n<li>Bucket names must be a series of one or more labels. Adjacent labels    are separated by a single period (.). Bucket names can\ncontain    lowercase letters, numbers, and hyphens. Each label must\nstart and    end with a lowercase letter or a number.</li>\n<li>Bucket names must not be formatted as an IP address (e.g.,\n192.168.5.4).</li>\n<li>When using virtual hosted–style buckets with SSL, the SSL wildcard    certificate only matches buckets that do not contain periods. To work\naround this, use HTTP or write your own certificate verification logic. We recommend that you do not use periods (&quot;.&quot;) in bucket<br />\nnames.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":6818082,"reputation":31,"user_id":5246043,"display_name":"Anoop M L"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635835741,"creation_date":1463119617,"question_id":37202337,"body_markdown":"I am new to amazons3 i want to upload a file to s3 bucket. So i am writing a code in java for that but I don&#39;t how to specify the path of the bucket. Can any one help me in that.\r\nPLease help in finding a solution for getting the correct path of the s3 bucket.\r\n\r\n    public class SampleS3 {\r\n    \r\n    \tprivate static final String SUFFIX = &quot;/&quot;;\r\n    \tprivate static String existingBucketName = &quot;s3-buckt path&quot;;\r\n    \tprivate static String AccessKey = &quot;accesskey&quot;;\r\n    \tprivate static String SecretAccessKey = &quot;SecretAccessKey&quot;;\r\n    \tprivate static String keyName = &quot;mypic.JPG&quot;;\r\n    \tprivate static String filePath = &quot;/home/dll files/samplefile.txt&quot;;\r\n    \tprivate static String amazonFileUploadLocationOriginal = existingBucketName+ &quot;/&quot;;\r\n    \r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\texecuteUpload();\r\n    \t}\r\n    \r\n    \tprivate static void executeUpload() {\r\n    \t\t\r\n    \t\tAWSCredentials credentials = new BasicAWSCredentials(AccessKey,\r\n    \t\t\t\tSecretAccessKey);\r\n    \t\t\r\n    \t\tAmazonS3 s3Client = new AmazonS3Client(credentials);\r\n    \t\tString folderName = &quot;testfolder&quot;;\r\n    \t\tcreateFolder(existingBucketName, folderName, s3Client);\r\n    \t\tString fileName = folderName + SUFFIX + &quot;testvideo.mp4&quot;;\r\n    \t\ts3Client.putObject(new PutObjectRequest(existingBucketName, fileName,\r\n    \t\t\t\tnew File(filePath))\r\n    \t\t\t\t.withCannedAcl(CannedAccessControlList.PublicRead));\r\n    \t}\r\n    \r\n    \tpublic static void createFolder(String bucketName, String folderName,\r\n    \t\t\tAmazonS3 client) {\r\n    \t\tObjectMetadata metadata = new ObjectMetadata();\r\n    \t\tmetadata.setContentLength(0);\r\n    \t\tInputStream emptyContent = new ByteArrayInputStream(new byte[0]);\r\n    \t\tPutObjectRequest putObjectRequest = new PutObjectRequest(bucketName,\r\n    \t\t\t\tfolderName + SUFFIX, emptyContent, metadata);\r\n    \t\tclient.putObject(putObjectRequest);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n When I run the program i get error as:\r\n\r\n    Exception in thread &quot;main&quot; com.amazonaws.services.s3.model.AmazonS3Exception: The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: 2D45010A48E44C42), S3 Extended Request ID: c7zzSgYO8bNUh9HoOVVmAbjjtG7G6w5tQmuSIqTmgf3cGqjclTrJS3WIXvPpV7Mt\r\n        at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1389)\r\n        at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:902)\r\n        at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:607)\r\n        at com.amazonaws.http.AmazonHttpClient.doExecute(AmazonHttpClient.java:376)\r\n        at com.amazonaws.http.AmazonHttpClient.executeWithTimer(AmazonHttpClient.java:338)\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:287)\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3826)\r\n        at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1405)\r\n        at com.qagate.s3.amazons3.SampleS3.createFolder(SampleS3.java:65)\r\n        at com.qagate.s3.amazons3.SampleS3.executeUpload(SampleS3.java:45)\r\n        at com.qagate.s3.amazons3.SampleS3.main(SampleS3.java:33)\r\n\r\n","title":"Amazon s3 bucket path issue","body":"<p>I am new to amazons3 i want to upload a file to s3 bucket. So i am writing a code in java for that but I don't how to specify the path of the bucket. Can any one help me in that.\nPLease help in finding a solution for getting the correct path of the s3 bucket.</p>\n\n<pre><code>public class SampleS3 {\n\n    private static final String SUFFIX = \"/\";\n    private static String existingBucketName = \"s3-buckt path\";\n    private static String AccessKey = \"accesskey\";\n    private static String SecretAccessKey = \"SecretAccessKey\";\n    private static String keyName = \"mypic.JPG\";\n    private static String filePath = \"/home/dll files/samplefile.txt\";\n    private static String amazonFileUploadLocationOriginal = existingBucketName+ \"/\";\n\n\n    public static void main(String[] args) throws IOException {\n\n        executeUpload();\n    }\n\n    private static void executeUpload() {\n\n        AWSCredentials credentials = new BasicAWSCredentials(AccessKey,\n                SecretAccessKey);\n\n        AmazonS3 s3Client = new AmazonS3Client(credentials);\n        String folderName = \"testfolder\";\n        createFolder(existingBucketName, folderName, s3Client);\n        String fileName = folderName + SUFFIX + \"testvideo.mp4\";\n        s3Client.putObject(new PutObjectRequest(existingBucketName, fileName,\n                new File(filePath))\n                .withCannedAcl(CannedAccessControlList.PublicRead));\n    }\n\n    public static void createFolder(String bucketName, String folderName,\n            AmazonS3 client) {\n        ObjectMetadata metadata = new ObjectMetadata();\n        metadata.setContentLength(0);\n        InputStream emptyContent = new ByteArrayInputStream(new byte[0]);\n        PutObjectRequest putObjectRequest = new PutObjectRequest(bucketName,\n                folderName + SUFFIX, emptyContent, metadata);\n        client.putObject(putObjectRequest);\n    }\n\n}\n</code></pre>\n\n<p>When I run the program i get error as:</p>\n\n<pre><code>Exception in thread \"main\" com.amazonaws.services.s3.model.AmazonS3Exception: The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: 2D45010A48E44C42), S3 Extended Request ID: c7zzSgYO8bNUh9HoOVVmAbjjtG7G6w5tQmuSIqTmgf3cGqjclTrJS3WIXvPpV7Mt\n    at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1389)\n    at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:902)\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:607)\n    at com.amazonaws.http.AmazonHttpClient.doExecute(AmazonHttpClient.java:376)\n    at com.amazonaws.http.AmazonHttpClient.executeWithTimer(AmazonHttpClient.java:338)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:287)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3826)\n    at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1405)\n    at com.qagate.s3.amazons3.SampleS3.createFolder(SampleS3.java:65)\n    at com.qagate.s3.amazons3.SampleS3.executeUpload(SampleS3.java:45)\n    at com.qagate.s3.amazons3.SampleS3.main(SampleS3.java:33)\n</code></pre>\n"},{"tags":["java","api","github","commit","github-api"],"comments":[{"owner":{"account_id":4695914,"reputation":635,"user_id":3800789,"accept_rate":67,"display_name":"Zychoo"},"score":0,"creation_date":1635845261,"post_id":69806292,"comment_id":123395026,"body_markdown":"Add more specific information to this question to improve it. We can&#39;t help you if you don&#39;t tell us how you are trying to do this.","body":"Add more specific information to this question to improve it. We can&#39;t help you if you don&#39;t tell us how you are trying to do this."},{"owner":{"account_id":22973602,"reputation":1,"user_id":17101576,"display_name":"Java Sonar"},"score":0,"creation_date":1635878364,"post_id":69806292,"comment_id":123408844,"body_markdown":"For audit purpose we are planning to keep track on the commits performed on all repositories of particular organization on daily basis. So please help me with github api to achieve this.","body":"For audit purpose we are planning to keep track on the commits performed on all repositories of particular organization on daily basis. So please help me with github api to achieve this."}],"owner":{"account_id":22973602,"reputation":1,"user_id":17101576,"display_name":"Java Sonar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635835721,"creation_date":1635835234,"question_id":69806292,"body_markdown":"I want to get all the commits from all the repositories from a Github&#39;s organization for each day. Suggestions please","title":"How to get the commits from all the repositories from a Github&#39;s organization for each day","body":"<p>I want to get all the commits from all the repositories from a Github's organization for each day. Suggestions please</p>\n"},{"tags":["java","spring","eclipse","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635778941,"post_id":69798754,"comment_id":123378008,"body_markdown":"In the project with issues does your project build on plain command line?","body":"In the project with issues does your project build on plain command line?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1635791024,"post_id":69798754,"comment_id":123382460,"body_markdown":"It looks like you have edited the project properties manually (instead of two _JRE System Library_ items there should only be one). To sync and derive the project properties from the `pom.xml`, right-click the project and choose _Maven &gt; Update Project..._","body":"It looks like you have edited the project properties manually (instead of two <i>JRE System Library</i> items there should only be one). To sync and derive the project properties from the <code>pom.xml</code>, right-click the project and choose <i>Maven &gt; Update Project...</i>"},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1635833020,"post_id":69798754,"comment_id":123391249,"body_markdown":"@khmarbaise yes the build works on plain command line as well. I checked.","body":"@khmarbaise yes the build works on plain command line as well. I checked."},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1635833167,"post_id":69798754,"comment_id":123391276,"body_markdown":"@howlger yes I tried and it worked. Great. Thanks a lot. You can put the same thing in Answer section and I can accept the answer.","body":"@howlger yes I tried and it worked. Great. Thanks a lot. You can put the same thing in Answer section and I can accept the answer."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1635835893,"post_id":69798754,"comment_id":123391844,"body_markdown":"Great. Yasser has already given the answer (right-click project + Maven &gt; Update Project...).","body":"Great. Yasser has already given the answer (right-click project + Maven &gt; Update Project...)."}],"answers":[{"tags":[],"owner":{"account_id":2338728,"reputation":54,"user_id":2050494,"display_name":"Yasser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635835709,"creation_date":1635779564,"answer_id":69798925,"question_id":69798754,"body_markdown":"It looks like you have edited the project properties manually (there should only be one *JRE System Library* instead of two *JRE System Library* items).\r\n\r\nTo sync and derive the project properties from the `pom.xml` again, **right-click the project** and choose ***Maven &gt; Update Project...***","title":"&#39;Maven Dependencies&#39; Folder is missing even though build is successful","body":"<p>It looks like you have edited the project properties manually (there should only be one <em>JRE System Library</em> instead of two <em>JRE System Library</em> items).</p>\n<p>To sync and derive the project properties from the <code>pom.xml</code> again, <strong>right-click the project</strong> and choose <em><strong>Maven &gt; Update Project...</strong></em></p>\n"}],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69798925,"answer_count":1,"score":0,"last_activity_date":1635835709,"creation_date":1635778724,"question_id":69798754,"body_markdown":"&#39;Maven Dependencies&#39; Folder is missing even though maven build is successful in Eclipse.\r\n\r\nI have 2 projects. In one project &#39;Maven Dependencies&#39; Folder is visible under the Project parallel to src , target folder etc. Build is successful and all the imports in the classes of that project has no errors. No problem.\r\n\r\nBut in another project the &#39;Maven Dependencies&#39; Folder is missing but build is successful. All the imports are showing errors in the left side and when I hover my mouse it shows like below:\r\n\r\nExample:\r\n The import javax.validation cannot be resolved\r\n ....\r\n The import com.fasterxml cannot be resolved\r\n\r\nWhen I click on the suggestion and do &#39;Fix project setup&#39; and add the jar file manually it works.\r\n\r\nBut it should work when maven build is successful even though we are not adding the jars manually. Also the &#39;Maven Dependencies&#39; Folder itself is missing which supposed to come under Project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3XaAA.png","title":"&#39;Maven Dependencies&#39; Folder is missing even though build is successful","body":"<p>'Maven Dependencies' Folder is missing even though maven build is successful in Eclipse.</p>\n<p>I have 2 projects. In one project 'Maven Dependencies' Folder is visible under the Project parallel to src , target folder etc. Build is successful and all the imports in the classes of that project has no errors. No problem.</p>\n<p>But in another project the 'Maven Dependencies' Folder is missing but build is successful. All the imports are showing errors in the left side and when I hover my mouse it shows like below:</p>\n<p>Example:\nThe import javax.validation cannot be resolved\n....\nThe import com.fasterxml cannot be resolved</p>\n<p>When I click on the suggestion and do 'Fix project setup' and add the jar file manually it works.</p>\n<p>But it should work when maven build is successful even though we are not adding the jars manually. Also the 'Maven Dependencies' Folder itself is missing which supposed to come under Project.</p>\n<p><a href=\"https://i.stack.imgur.com/3XaAA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3XaAA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","nlp","apache-tika"],"answers":[{"tags":[],"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1569942609,"creation_date":1569942609,"answer_id":58187770,"question_id":58187568,"body_markdown":"This will not work in short text. As in documentantion say:\r\n\r\n&gt;  Implementation of the LanguageDetector API that uses\r\n&gt; https://github.com/optimaize/language-detector\r\n\r\nFrom https://tika.apache.org/1.13/api/org/apache/tika/langdetect/OptimaizeLangDetector.html\r\n\r\nGoing to review that github and check the challenges they have some issues with short texts. \r\n\r\n&gt; This software does not work as well when the input text to analyze is\r\n&gt; short, or unclean. For example tweets.\r\n\r\nFrom their https://github.com/optimaize/language-detector Challenges Sector","title":"Apache Tika fails to detect language on short sentence. Why?","body":"<p>This will not work in short text. As in documentantion say:</p>\n\n<blockquote>\n  <p>Implementation of the LanguageDetector API that uses\n  <a href=\"https://github.com/optimaize/language-detector\" rel=\"nofollow noreferrer\">https://github.com/optimaize/language-detector</a></p>\n</blockquote>\n\n<p>From <a href=\"https://tika.apache.org/1.13/api/org/apache/tika/langdetect/OptimaizeLangDetector.html\" rel=\"nofollow noreferrer\">https://tika.apache.org/1.13/api/org/apache/tika/langdetect/OptimaizeLangDetector.html</a></p>\n\n<p>Going to review that github and check the challenges they have some issues with short texts. </p>\n\n<blockquote>\n  <p>This software does not work as well when the input text to analyze is\n  short, or unclean. For example tweets.</p>\n</blockquote>\n\n<p>From their <a href=\"https://github.com/optimaize/language-detector\" rel=\"nofollow noreferrer\">https://github.com/optimaize/language-detector</a> Challenges Sector</p>\n"},{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635835400,"creation_date":1635835400,"answer_id":69806308,"question_id":58187568,"body_markdown":"I could reproduce the issue.\r\nIt may not directly answer the question but be considered as a workaround...\r\n\r\nIt seems that if you know what languages can be expected you can pass them to the detector via `loadModels(models)` method. This approach helps to detect English correctly:\r\n\r\n            try {\r\n                Set&lt;String&gt; models=new HashSet&lt;&gt;();\r\n                models.add(&quot;en&quot;);\r\n                models.add(&quot;ru&quot;);\r\n                models.add(&quot;de&quot;);\r\n                LanguageDetector detector = new OptimaizeLangDetector()\r\n    //            .setShortText(true)\r\n                .loadModels(models);\r\n    //            .loadModels();\r\n                LanguageResult enResult = detector.detect(&quot;Hello, my friend!&quot;);\r\n    //            LanguageResult ruResult = detector.detect(&quot;Привет, мой друг!&quot;);\r\n    //            LanguageResult deResult = detector.detect(&quot;Hallo, mein Freund!&quot;);\r\n                System.out.println(enResult.getLanguage());\r\n            } catch (IOException e) {\r\n                throw new ExceptionInInitializerError(e);\r\n            }\r\n\r\n","title":"Apache Tika fails to detect language on short sentence. Why?","body":"<p>I could reproduce the issue.\nIt may not directly answer the question but be considered as a workaround...</p>\n<p>It seems that if you know what languages can be expected you can pass them to the detector via <code>loadModels(models)</code> method. This approach helps to detect English correctly:</p>\n<pre><code>        try {\n            Set&lt;String&gt; models=new HashSet&lt;&gt;();\n            models.add(&quot;en&quot;);\n            models.add(&quot;ru&quot;);\n            models.add(&quot;de&quot;);\n            LanguageDetector detector = new OptimaizeLangDetector()\n//            .setShortText(true)\n            .loadModels(models);\n//            .loadModels();\n            LanguageResult enResult = detector.detect(&quot;Hello, my friend!&quot;);\n//            LanguageResult ruResult = detector.detect(&quot;Привет, мой друг!&quot;);\n//            LanguageResult deResult = detector.detect(&quot;Hallo, mein Freund!&quot;);\n            System.out.println(enResult.getLanguage());\n        } catch (IOException e) {\n            throw new ExceptionInInitializerError(e);\n        }\n</code></pre>\n"}],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58187770,"answer_count":2,"score":2,"last_activity_date":1635835400,"creation_date":1569941966,"question_id":58187568,"body_markdown":"I tried to detect language on short phrase and was surprised as detection result is wrong. \r\n\r\n        LanguageDetector detector = new OptimaizeLangDetector();\r\n        try {\r\n            detector.loadModels();\r\n        } catch (IOException e) {\r\n            LOG.error(e.getMessage(), e);\r\n            throw new ExceptionInInitializerError(e);\r\n        }\r\n        LanguageResult languageResult = detector.detect(&quot;Hello, my friend!&quot;)\r\n\r\n\r\nThe languageResult contains Norwegian with &quot;medium&quot; probability. Why? I think it have to be English instead. Longer phrases seems to be detected properly. Does this means that Apache Tika should not be used on short text?\r\n","title":"Apache Tika fails to detect language on short sentence. Why?","body":"<p>I tried to detect language on short phrase and was surprised as detection result is wrong. </p>\n\n<pre><code>    LanguageDetector detector = new OptimaizeLangDetector();\n    try {\n        detector.loadModels();\n    } catch (IOException e) {\n        LOG.error(e.getMessage(), e);\n        throw new ExceptionInInitializerError(e);\n    }\n    LanguageResult languageResult = detector.detect(\"Hello, my friend!\")\n</code></pre>\n\n<p>The languageResult contains Norwegian with \"medium\" probability. Why? I think it have to be English instead. Longer phrases seems to be detected properly. Does this means that Apache Tika should not be used on short text?</p>\n"},{"tags":["java","android-studio","button","android-togglebutton"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635834803,"creation_date":1635834803,"answer_id":69806217,"question_id":69797929,"body_markdown":"My answer to your question--*How to find why?* is to see the error stack trace in the **Logcat** window:\r\n\r\n[![screenshot][1]][1]\r\n\r\nYou may find some clues from it.\r\n\r\n  [1]: https://i.stack.imgur.com/sT1fY.jpg","title":"How to find why Toggle button Crashes?","body":"<p>My answer to your question--<em>How to find why?</em> is to see the error stack trace in the <strong>Logcat</strong> window:</p>\n<p><a href=\"https://i.stack.imgur.com/sT1fY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sT1fY.jpg\" alt=\"screenshot\" /></a></p>\n<p>You may find some clues from it.</p>\n"}],"owner":{"account_id":21199311,"reputation":330,"user_id":15590269,"display_name":"Sam Joshua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69806217,"answer_count":1,"score":0,"last_activity_date":1635834803,"creation_date":1635774903,"question_id":69797929,"body_markdown":"How to find why Toggle button Crashes?\r\n-------------------------------------\r\n\r\n\r\n----------\r\n\r\nMy Toggle button crashes when changing it&#39;s state. My situation: If I change the state of toggle button from *Off* to *On* which Suddenly, crashes the whole app and says &quot;YourApp is not Responding&quot;. I don&#39;t know what is the error in the code. I am a newbie in Android App Developing. So, I don&#39;t know how to find and rectify the errors. If anybody know plz help me in my case. Thanks in Advance!\r\n\r\n\r\n----------\r\n\r\nHere&#39;s my Code:\r\n---------------\r\n\r\n**This is my XML file:**\r\n\r\n    &lt;ToggleButton\r\n        android:id=&quot;@+id/toggle_button&quot;\r\n        android:layout_width=&quot;35dp&quot;\r\n        android:layout_height=&quot;35dp&quot;\r\n        android:layout_marginTop=&quot;-2dp&quot;\r\n        android:layout_marginLeft=&quot;-45dp&quot;\r\n        android:background=&quot;@drawable/toggle_selector&quot;\r\n        android:textOff=&quot;&quot;\r\n        android:textOn=&quot;&quot; /&gt;\r\n\r\n**This is my Java code:**\r\n\r\n    /*------------------------------Screen timeout toggle----------------------------------------------------*/\r\n            ToggleButton toggle_button = (ToggleButton) findViewById(R.id.toggle_button);\r\n            toggle_button.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    try {\r\n                        if (isChecked) {\r\n                            getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n                            timeout_on = Toast.makeText(getBaseContext(), &quot;Screen Timeout is Disabled (Your screen will doesn&#39;t sleep from now!)&quot;, Toast.LENGTH_LONG);\r\n                            TextView v = (TextView) timeout_on.getView().findViewById(android.R.id.message);\r\n                            if( v != null) v.setGravity(Gravity.CENTER);\r\n                            timeout_on.show();\r\n                        } else {\r\n                            getWindow().clearFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n                            timeout_off = Toast.makeText(getBaseContext(), &quot;Screen Timeout is Enabled (Your screen will go to sleep as your phone&#39;s timeout!)&quot;, Toast.LENGTH_LONG);\r\n                            TextView v = (TextView) timeout_off.getView().findViewById(android.R.id.message);\r\n                            if( v != null) v.setGravity(Gravity.CENTER);\r\n                            timeout_off.show();\r\n                        }\r\n                    } catch (Exception error) {\r\n                        error.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n    /*------------------------------Screen timeout toggle----------------------------------------------------*/\r\n\r\n","title":"How to find why Toggle button Crashes?","body":"<h2>How to find why Toggle button Crashes?</h2>\n<hr />\n<p>My Toggle button crashes when changing it's state. My situation: If I change the state of toggle button from <em>Off</em> to <em>On</em> which Suddenly, crashes the whole app and says &quot;YourApp is not Responding&quot;. I don't know what is the error in the code. I am a newbie in Android App Developing. So, I don't know how to find and rectify the errors. If anybody know plz help me in my case. Thanks in Advance!</p>\n<hr />\n<h2>Here's my Code:</h2>\n<p><strong>This is my XML file:</strong></p>\n<pre><code>&lt;ToggleButton\n    android:id=&quot;@+id/toggle_button&quot;\n    android:layout_width=&quot;35dp&quot;\n    android:layout_height=&quot;35dp&quot;\n    android:layout_marginTop=&quot;-2dp&quot;\n    android:layout_marginLeft=&quot;-45dp&quot;\n    android:background=&quot;@drawable/toggle_selector&quot;\n    android:textOff=&quot;&quot;\n    android:textOn=&quot;&quot; /&gt;\n</code></pre>\n<p><strong>This is my Java code:</strong></p>\n<pre><code>/*------------------------------Screen timeout toggle----------------------------------------------------*/\n        ToggleButton toggle_button = (ToggleButton) findViewById(R.id.toggle_button);\n        toggle_button.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                try {\n                    if (isChecked) {\n                        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n                        timeout_on = Toast.makeText(getBaseContext(), &quot;Screen Timeout is Disabled (Your screen will doesn't sleep from now!)&quot;, Toast.LENGTH_LONG);\n                        TextView v = (TextView) timeout_on.getView().findViewById(android.R.id.message);\n                        if( v != null) v.setGravity(Gravity.CENTER);\n                        timeout_on.show();\n                    } else {\n                        getWindow().clearFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n                        timeout_off = Toast.makeText(getBaseContext(), &quot;Screen Timeout is Enabled (Your screen will go to sleep as your phone's timeout!)&quot;, Toast.LENGTH_LONG);\n                        TextView v = (TextView) timeout_off.getView().findViewById(android.R.id.message);\n                        if( v != null) v.setGravity(Gravity.CENTER);\n                        timeout_off.show();\n                    }\n                } catch (Exception error) {\n                    error.printStackTrace();\n                }\n            }\n        });\n/*------------------------------Screen timeout toggle----------------------------------------------------*/\n</code></pre>\n"},{"tags":["java","graylog","gelf"],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1497127804,"creation_date":1497127804,"answer_id":44477934,"question_id":44438211,"body_markdown":"You need to send the values according to their data types. There&#39;s a difference in\r\n\r\n    {&#39;cpuTime&#39;:&#39;42&#39;}\r\n\r\nand\r\n\r\n    {&#39;cpuTime&#39;:42}\r\n\r\nI don&#39;t know whether there&#39;s a transformer available in Graylog (you can handle field transformations in logstash via `filters`). If you want to solve the issue at logger level take a look at http://logging.paluch.biz/examples/logback.html, specifically `additionalFieldTypes`.","title":"How can I programmatically log numeric fields into Graylog?","body":"<p>You need to send the values according to their data types. There's a difference in</p>\n\n<pre><code>{'cpuTime':'42'}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>{'cpuTime':42}\n</code></pre>\n\n<p>I don't know whether there's a transformer available in Graylog (you can handle field transformations in logstash via <code>filters</code>). If you want to solve the issue at logger level take a look at <a href=\"http://logging.paluch.biz/examples/logback.html\" rel=\"nofollow noreferrer\">http://logging.paluch.biz/examples/logback.html</a>, specifically <code>additionalFieldTypes</code>.</p>\n"},{"tags":[],"owner":{"account_id":6181339,"reputation":21,"user_id":4816732,"display_name":"Juliusz Ćwiąkalski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635834746,"creation_date":1635425078,"answer_id":69754345,"question_id":44438211,"body_markdown":"I&#39;ve faced same issue and figured out that recent version of https://mvnrepository.com/artifact/de.siegmar/logback-gelf/4.0.0 implements the feature of sending numeric-like values as numbers to Graylog. \r\n\r\nIt&#39;s disabled by default and you can enable it by setting flag `numbersAsString`, for example like that in logback.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\t&lt;include\r\n\t\tresource=&quot;org/springframework/boot/logging/logback/base.xml&quot; /&gt;\r\n\r\n\t&lt;appender name=&quot;GELF&quot;\r\n\t\tclass=&quot;de.siegmar.logbackgelf.GelfUdpAppender&quot;&gt;\r\n\t\t&lt;graylogHost&gt;${graylog-host}&lt;/graylogHost&gt;\r\n\t\t&lt;graylogPort&gt;${graylog-port&gt;&lt;/graylogPort&gt;\r\n\t\t&lt;encoder class=&quot;de.siegmar.logbackgelf.GelfEncoder&quot;&gt;\r\n\t\t\t&lt;numbersAsString&gt;false&lt;/numbersAsString&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t&lt;/appender&gt;\r\n\t&lt;root level=&quot;INFO&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;GELF&quot; /&gt;\r\n\t&lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\nWith above setup parsable values are sent to Graylog as numbers, it&#39;s handled by this piece of code in `de.siegmar.logbackgelf.GelfEncoder` - converts String to BigDecimal\r\n```java\r\n    private Object processValue(final String value) {\r\n        if (!numbersAsString) {\r\n            try {\r\n                return new BigDecimal(value);\r\n            } catch (final NumberFormatException e) {\r\n                return value;\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n```\r\n\r\nThat is later on encoded to Json as number in `de.siegmar.logbackgelf.SimpleJsonEncoder`\r\n\r\n```java\r\n    SimpleJsonEncoder appendToJSON(final String key, final Object value) {\r\n        if (closed) {\r\n            throw new IllegalStateException(&quot;Encoder already closed&quot;);\r\n        }\r\n        if (value != null) {\r\n            appendKey(key);\r\n            if (value instanceof Number) {\r\n                sb.append(value.toString());\r\n            } else {\r\n                sb.append(QUOTE).append(escapeString(value.toString())).append(QUOTE);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n```","title":"How can I programmatically log numeric fields into Graylog?","body":"<p>I've faced same issue and figured out that recent version of <a href=\"https://mvnrepository.com/artifact/de.siegmar/logback-gelf/4.0.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/de.siegmar/logback-gelf/4.0.0</a> implements the feature of sending numeric-like values as numbers to Graylog.</p>\n<p>It's disabled by default and you can enable it by setting flag <code>numbersAsString</code>, for example like that in logback.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;include\n        resource=&quot;org/springframework/boot/logging/logback/base.xml&quot; /&gt;\n\n    &lt;appender name=&quot;GELF&quot;\n        class=&quot;de.siegmar.logbackgelf.GelfUdpAppender&quot;&gt;\n        &lt;graylogHost&gt;${graylog-host}&lt;/graylogHost&gt;\n        &lt;graylogPort&gt;${graylog-port&gt;&lt;/graylogPort&gt;\n        &lt;encoder class=&quot;de.siegmar.logbackgelf.GelfEncoder&quot;&gt;\n            &lt;numbersAsString&gt;false&lt;/numbersAsString&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n        &lt;appender-ref ref=&quot;GELF&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>With above setup parsable values are sent to Graylog as numbers, it's handled by this piece of code in <code>de.siegmar.logbackgelf.GelfEncoder</code> - converts String to BigDecimal</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private Object processValue(final String value) {\n        if (!numbersAsString) {\n            try {\n                return new BigDecimal(value);\n            } catch (final NumberFormatException e) {\n                return value;\n            }\n        }\n        return value;\n    }\n</code></pre>\n<p>That is later on encoded to Json as number in <code>de.siegmar.logbackgelf.SimpleJsonEncoder</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    SimpleJsonEncoder appendToJSON(final String key, final Object value) {\n        if (closed) {\n            throw new IllegalStateException(&quot;Encoder already closed&quot;);\n        }\n        if (value != null) {\n            appendKey(key);\n            if (value instanceof Number) {\n                sb.append(value.toString());\n            } else {\n                sb.append(QUOTE).append(escapeString(value.toString())).append(QUOTE);\n            }\n        }\n        return this;\n    }\n</code></pre>\n"}],"owner":{"account_id":6615281,"reputation":1826,"user_id":5108777,"display_name":"manuelvigarcia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2126,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44477934,"answer_count":2,"score":2,"last_activity_date":1635834746,"creation_date":1496931363,"question_id":44438211,"body_markdown":"The situation\r\n===\r\nI write libraries to work against a computing server.\r\nI am logging computing times (start and stop of a job, for example).\r\nI want to log this values independently of the log framework configuration of the client application. I have achieved this by using Graylog programmatically. So I configure and initialize my logger from my library while the client remain oblivious.\r\n\r\nThis is my initialization code\r\n\r\n    import org.graylog2.log.GelfAppender;\r\n    \r\n    void init() {\r\n        final GelfAppender appender = new GelfAppender();\r\n    \r\n        appender.setName(&quot;MyServerAppender&quot;);\r\n        appender.setGraylogHost(&quot;bigcpuserver&quot;);\r\n        appender.setGraylogPort(2020);\r\n        appender.setExtractStacktrace(true);\r\n        appender.setAddExtendedInformation(true);\r\n        appender.setAdditionalFields(&quot;{&#39;environment&#39;: &#39;TEST&#39;,&quot;\r\n                + &quot;&#39;ip_address&#39;: &#39;10.20.30.40&#39;,&quot;\r\n                + &quot;&#39;serverName&#39;: &#39;devPc&#39;,&quot;\r\n                + &quot;&#39;libVersion&#39;: &#39;1.0.0&#39;,&quot;\r\n                + &quot;&#39;application&#39;: &#39;loggingTestApp&#39;,&quot;\r\n                + &quot;&#39;appversion&#39;: &#39;2.0.7&#39;}&quot;);\r\n        appender.activateOptions();\r\n        final org.apache.log4j.Logger myLog =\r\n            org.apache.log4j.Logger.getLogger(MyHiddenLoggerClass.class);\r\n        myLog.addAppender(appender);\r\n    \r\n    }\r\n\r\n\r\nSo far so good. I can send logs to Graylog from anywhere in my code by means of the following line:\r\n\r\n    org.apache.log4j.Logger.getLogger(MyHiddenLoggerClass.class).info(&quot;message&quot;);\r\n\r\n\r\nThe problem\r\n===\r\nI want to add numeric fields to my logs so Graylog can run statistics on them. Like, for example, find which jobs took longest --might need algorithm optimization-- or shortest --might not need the computation server at all--.\r\n\r\nI can add fields to the MDC in the following fashion:\r\n\r\n    org.apache.log4j.MDC.put(&quot;cpuTime&quot;, startTimeMillis-endTimeMillis);\r\n\r\nAnd, from then on, all logs will include the `cpuTime` field with that value. I do remove it after the specific log entry has been sent to prevent carrying it over the subsequent log entries:\r\n\r\n    org.apache.log4j.MDC.remove(&quot;cpuTime&quot;);\r\n\r\n\r\nBut, to Graylog, those are strings, so it can only count them and see how many different there are.\r\n\r\nThe question\r\n===\r\nHow can I tell Graylog that &quot;cpuTime&quot; will always be a `long`?\r\n\r\nThe attempts so far\r\n===\r\nI tried configuring the fields beforehand, at `init()` time.\r\n\r\nTo do that I tested other class hierarchies too, like `me.moocar`. For example, I have tried the following:\r\n\r\n        final me.moocar.logbackgelf.GelfAppender appender =\r\n            new me.moocar.logbackgelf.GelfAppender();\r\n    \r\n        appender.setName(&quot;MyServerAppender&quot;);\r\n        appender.setIncludeFullMDC(true);\r\n        appender.setGraylog2ServerHost(&quot;bigcpuserver&quot;);\r\n        appender.setGraylog2ServerPort(2020);\r\n        final Map&lt;String, String&gt; additionalFields = new HashMap&lt;String, String&gt;();\r\n        final Map&lt;String, String&gt; fieldTypes = new HashMap&lt;String, String&gt;();\r\n        additionalFields.put(&quot;cpuTime&quot;, &quot;42&quot;);\r\n        fieldTypes.put(&quot;cpuTime&quot;, &quot;long&quot;);\r\n        appender.setAdditionalFields(additionalFields);\r\n        appender.setFieldTypes(fieldTypes);\r\n        appender.start();\r\n    \r\n        final ch.qos.logback.classic.LoggerContext logCtx =\r\n                (LoggerContext) LoggerFactory.getILoggerFactory();\r\n        appender.setContext(logCtx);\r\n    \r\n        ch.qos.logback.classic.Logger logToConfigure =\r\n                logCtx.getLogger(MyHiddenLoggerClass.class);\r\n        logToConfigure.addAppender(appender);\r\n\r\n\r\nSo I can do the following in my test code:\r\n\r\n        final ch.qos.logback.classic.Logger log =\r\n                 logCtx.getLogger(MyHiddenLoggerClass.class);\r\n        MDC.put(&quot;cpuTime&quot;, totalTime);\r\n        log.error(&quot;task finished.&quot;);\r\n\r\nAnd in Graylog, the log &quot;task finished.&quot; will be accompanied by a field named &quot;cpuTime&quot;, and containing _a string_ with the value of `totalTime` at the log moment. I just want the contained value to be a _number_. Anyone can help me with that?\r\n\r\nI can change the whole to the `me.moocar` hierarchy if that helps at all. But so far, neither `me.moocar` nor `org.graylog2.log` have given me the result I want; and with the latter I get an easier task of attaching the appender to the logger.\r\n\r\n### update ###\r\n`me.moocar` seems to be limited to `String` as type of the additional fields. So if I want numeric fields I have to choose other alternative.\r\n","title":"How can I programmatically log numeric fields into Graylog?","body":"<h1>The situation</h1>\n\n<p>I write libraries to work against a computing server.\nI am logging computing times (start and stop of a job, for example).\nI want to log this values independently of the log framework configuration of the client application. I have achieved this by using Graylog programmatically. So I configure and initialize my logger from my library while the client remain oblivious.</p>\n\n<p>This is my initialization code</p>\n\n<pre><code>import org.graylog2.log.GelfAppender;\n\nvoid init() {\n    final GelfAppender appender = new GelfAppender();\n\n    appender.setName(\"MyServerAppender\");\n    appender.setGraylogHost(\"bigcpuserver\");\n    appender.setGraylogPort(2020);\n    appender.setExtractStacktrace(true);\n    appender.setAddExtendedInformation(true);\n    appender.setAdditionalFields(\"{'environment': 'TEST',\"\n            + \"'ip_address': '10.20.30.40',\"\n            + \"'serverName': 'devPc',\"\n            + \"'libVersion': '1.0.0',\"\n            + \"'application': 'loggingTestApp',\"\n            + \"'appversion': '2.0.7'}\");\n    appender.activateOptions();\n    final org.apache.log4j.Logger myLog =\n        org.apache.log4j.Logger.getLogger(MyHiddenLoggerClass.class);\n    myLog.addAppender(appender);\n\n}\n</code></pre>\n\n<p>So far so good. I can send logs to Graylog from anywhere in my code by means of the following line:</p>\n\n<pre><code>org.apache.log4j.Logger.getLogger(MyHiddenLoggerClass.class).info(\"message\");\n</code></pre>\n\n<h1>The problem</h1>\n\n<p>I want to add numeric fields to my logs so Graylog can run statistics on them. Like, for example, find which jobs took longest --might need algorithm optimization-- or shortest --might not need the computation server at all--.</p>\n\n<p>I can add fields to the MDC in the following fashion:</p>\n\n<pre><code>org.apache.log4j.MDC.put(\"cpuTime\", startTimeMillis-endTimeMillis);\n</code></pre>\n\n<p>And, from then on, all logs will include the <code>cpuTime</code> field with that value. I do remove it after the specific log entry has been sent to prevent carrying it over the subsequent log entries:</p>\n\n<pre><code>org.apache.log4j.MDC.remove(\"cpuTime\");\n</code></pre>\n\n<p>But, to Graylog, those are strings, so it can only count them and see how many different there are.</p>\n\n<h1>The question</h1>\n\n<p>How can I tell Graylog that \"cpuTime\" will always be a <code>long</code>?</p>\n\n<h1>The attempts so far</h1>\n\n<p>I tried configuring the fields beforehand, at <code>init()</code> time.</p>\n\n<p>To do that I tested other class hierarchies too, like <code>me.moocar</code>. For example, I have tried the following:</p>\n\n<pre><code>    final me.moocar.logbackgelf.GelfAppender appender =\n        new me.moocar.logbackgelf.GelfAppender();\n\n    appender.setName(\"MyServerAppender\");\n    appender.setIncludeFullMDC(true);\n    appender.setGraylog2ServerHost(\"bigcpuserver\");\n    appender.setGraylog2ServerPort(2020);\n    final Map&lt;String, String&gt; additionalFields = new HashMap&lt;String, String&gt;();\n    final Map&lt;String, String&gt; fieldTypes = new HashMap&lt;String, String&gt;();\n    additionalFields.put(\"cpuTime\", \"42\");\n    fieldTypes.put(\"cpuTime\", \"long\");\n    appender.setAdditionalFields(additionalFields);\n    appender.setFieldTypes(fieldTypes);\n    appender.start();\n\n    final ch.qos.logback.classic.LoggerContext logCtx =\n            (LoggerContext) LoggerFactory.getILoggerFactory();\n    appender.setContext(logCtx);\n\n    ch.qos.logback.classic.Logger logToConfigure =\n            logCtx.getLogger(MyHiddenLoggerClass.class);\n    logToConfigure.addAppender(appender);\n</code></pre>\n\n<p>So I can do the following in my test code:</p>\n\n<pre><code>    final ch.qos.logback.classic.Logger log =\n             logCtx.getLogger(MyHiddenLoggerClass.class);\n    MDC.put(\"cpuTime\", totalTime);\n    log.error(\"task finished.\");\n</code></pre>\n\n<p>And in Graylog, the log \"task finished.\" will be accompanied by a field named \"cpuTime\", and containing <em>a string</em> with the value of <code>totalTime</code> at the log moment. I just want the contained value to be a <em>number</em>. Anyone can help me with that?</p>\n\n<p>I can change the whole to the <code>me.moocar</code> hierarchy if that helps at all. But so far, neither <code>me.moocar</code> nor <code>org.graylog2.log</code> have given me the result I want; and with the latter I get an easier task of attaching the appender to the logger.</p>\n\n<h3>update</h3>\n\n<p><code>me.moocar</code> seems to be limited to <code>String</code> as type of the additional fields. So if I want numeric fields I have to choose other alternative.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635834201,"creation_date":1635828073,"answer_id":69805470,"question_id":69805442,"body_markdown":"You could use `String#matches` with the following regex pattern:\r\n\r\n    ^[A-Z0-9]*(?:[0-9][A-Z0-9]*[A-Z]|[A-Z][A-Z0-9]*[0-9])[A-Z0-9]*$\r\n\r\nSample Java code:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;String&gt; inputs = Arrays.asList(new String[] { &quot;111AB&quot;, &quot;111&quot;, &quot;AB&quot;, &quot;111AB$&quot; });\r\n    for (String input : inputs) {\r\n        if (input.matches(&quot;[A-Z0-9]*(?:[0-9][A-Z0-9]*[A-Z]|[A-Z][A-Z0-9]*[0-9])[A-Z0-9]*&quot;)) {\r\n            System.out.println(input + &quot; =&gt; VALID&quot;);\r\n        }\r\n        else {\r\n            System.out.println(input + &quot; =&gt; INVALID&quot;);\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\n    111AB =&gt; VALID\r\n    111 =&gt; INVALID\r\n    AB =&gt; INVALID\r\n    111AB$ =&gt; INVALID\r\n\r\nNote that the regex pattern actually used with `String#matches` do not have leading/trailing `^/$` anchors.  This is because the `matches` API implicitly applies the regex pattern to the entire string.\r\n\r\nFor an explanation of the regex pattern, it simply tries to match an input with has at least one digit or letter, in any order.","title":"How regex pattern write to check at least one string and number in Java?","body":"<p>You could use <code>String#matches</code> with the following regex pattern:</p>\n<pre><code>^[A-Z0-9]*(?:[0-9][A-Z0-9]*[A-Z]|[A-Z][A-Z0-9]*[0-9])[A-Z0-9]*$\n</code></pre>\n<p>Sample Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; inputs = Arrays.asList(new String[] { &quot;111AB&quot;, &quot;111&quot;, &quot;AB&quot;, &quot;111AB$&quot; });\nfor (String input : inputs) {\n    if (input.matches(&quot;[A-Z0-9]*(?:[0-9][A-Z0-9]*[A-Z]|[A-Z][A-Z0-9]*[0-9])[A-Z0-9]*&quot;)) {\n        System.out.println(input + &quot; =&gt; VALID&quot;);\n    }\n    else {\n        System.out.println(input + &quot; =&gt; INVALID&quot;);\n    }\n}\n</code></pre>\n<p>This prints:</p>\n<pre><code>111AB =&gt; VALID\n111 =&gt; INVALID\nAB =&gt; INVALID\n111AB$ =&gt; INVALID\n</code></pre>\n<p>Note that the regex pattern actually used with <code>String#matches</code> do not have leading/trailing <code>^/$</code> anchors.  This is because the <code>matches</code> API implicitly applies the regex pattern to the entire string.</p>\n<p>For an explanation of the regex pattern, it simply tries to match an input with has at least one digit or letter, in any order.</p>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635833287,"creation_date":1635833287,"answer_id":69806024,"question_id":69805442,"body_markdown":"This would accomplish your goal:\r\n\r\n`^(?:[0-9]+[A-Za-z]|[A-Za-z]+[0-9])[A-Za-z0-9]*$`\r\n\r\nDigits preceding alpha, or alphas preceding a digit, followed by only alphas and digits.","title":"How regex pattern write to check at least one string and number in Java?","body":"<p>This would accomplish your goal:</p>\n<p><code>^(?:[0-9]+[A-Za-z]|[A-Za-z]+[0-9])[A-Za-z0-9]*$</code></p>\n<p>Digits preceding alpha, or alphas preceding a digit, followed by only alphas and digits.</p>\n"}],"owner":{"account_id":18927419,"reputation":55,"user_id":13810224,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69805470,"answer_count":2,"score":0,"last_activity_date":1635834201,"creation_date":1635827754,"question_id":69805442,"body_markdown":"I have an issue related to regex check at least one string and number which exclude any sign like @!#%^&amp;*.\r\nI have read many articles but I still can not find the correct answer as my expectation result.\r\n\r\nExample: I have a string like : 111AB11111\r\n\r\nMy expectation result:\r\nIf input string\r\n 1. &quot;1111&quot;=&gt;false\r\n 2. &quot;AAA&quot; =&gt;false\r\n 3. &quot;1A&quot; =&gt; true\r\n 4. &quot;A1&quot; =&gt; true\r\n 5. &quot;111AAA111&quot;=&gt;true\r\n 6. &quot;AAA11111AA&quot;=&gt;true\r\n 7. &quot;#AA111BBB&quot;=&gt;false\r\n 8. &quot;111AAAA$&quot;=&gt;false\r\n\r\n Which java regex patter can show above mentioned cases\r\n Thank for your value time for checking and suggestion\r\nThank you!!","title":"How regex pattern write to check at least one string and number in Java?","body":"<p>I have an issue related to regex check at least one string and number which exclude any sign like @!#%^&amp;*.\nI have read many articles but I still can not find the correct answer as my expectation result.</p>\n<p>Example: I have a string like : 111AB11111</p>\n<p>My expectation result:\nIf input string</p>\n<ol>\n<li>&quot;1111&quot;=&gt;false</li>\n<li>&quot;AAA&quot; =&gt;false</li>\n<li>&quot;1A&quot; =&gt; true</li>\n<li>&quot;A1&quot; =&gt; true</li>\n<li>&quot;111AAA111&quot;=&gt;true</li>\n<li>&quot;AAA11111AA&quot;=&gt;true</li>\n<li>&quot;#AA111BBB&quot;=&gt;false</li>\n<li>&quot;111AAAA$&quot;=&gt;false</li>\n</ol>\n<p>Which java regex patter can show above mentioned cases\nThank for your value time for checking and suggestion\nThank you!!</p>\n"},{"tags":["java","xslt"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1635805692,"post_id":69803398,"comment_id":123386879,"body_markdown":"If memory serves, isn&#39;t the input to a Transform XML?  And isn&#39;t the output from a Transform also XML?  Couldn&#39;t you just take the XML from the `Result` object, and assign it to the next `Source` object?","body":"If memory serves, isn&#39;t the input to a Transform XML?  And isn&#39;t the output from a Transform also XML?  Couldn&#39;t you just take the XML from the <code>Result</code> object, and assign it to the next <code>Source</code> object?"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1635807256,"post_id":69803398,"comment_id":123387231,"body_markdown":"Create the second XSLT as a SAX TransformerHandler and feed it as a SaxResult to the first Transformer.","body":"Create the second XSLT as a SAX TransformerHandler and feed it as a SaxResult to the first Transformer."}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635834132,"creation_date":1635833728,"answer_id":69806079,"question_id":69803398,"body_markdown":"One way is to set up the second transformation as a Sax `TransformerHandler` being the ContentHandler of the `SAXResult` of the first `Transformer` e.g.:\r\n\r\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n\r\n        String xslt1 = &quot;&lt;xsl:stylesheet xmlns:xsl=&#39;http://www.w3.org/1999/XSL/Transform&#39; version=&#39;1.0&#39;&gt;&lt;xsl:template match=&#39;/&#39;&gt;&lt;xsl:call-template name=&#39;identity&#39;/&gt;&lt;xsl:comment&gt;sheet 1&lt;/xsl:comment&gt;&lt;/xsl:template&gt;&lt;xsl:template name=&#39;identity&#39; match=&#39;@* | node()&#39;&gt;&lt;xsl:copy&gt;&lt;xsl:apply-templates select=&#39;@* | node()&#39;/&gt;&lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;&quot;;\r\n\r\n        String xslt2 = &quot;&lt;xsl:stylesheet xmlns:xsl=&#39;http://www.w3.org/1999/XSL/Transform&#39; version=&#39;1.0&#39;&gt;&lt;xsl:template match=&#39;/&#39;&gt;&lt;xsl:call-template name=&#39;identity&#39;/&gt;&lt;xsl:comment&gt;sheet 2&lt;/xsl:comment&gt;&lt;/xsl:template&gt;&lt;xsl:template name=&#39;identity&#39; match=&#39;@* | node()&#39;&gt;&lt;xsl:copy&gt;&lt;xsl:apply-templates select=&#39;@* | node()&#39;/&gt;&lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;&quot;;\r\n\r\n        Transformer transformer1 = transformerFactory.newTransformer(new StreamSource(new StringReader(xslt1)));\r\n\r\n        TransformerHandler transformer2 = ((SAXTransformerFactory)transformerFactory).newTransformerHandler(new StreamSource(new StringReader(xslt2)));\r\n        transformer2.setResult(new StreamResult(System.out));\r\n        \r\n        transformer1.transform(new StreamSource(new StringReader(&quot;&lt;root&gt;&lt;item&gt;a&lt;/item&gt;&lt;item&gt;b&lt;/item&gt;&lt;/root&gt;&quot;)), new SAXResult(transformer2));\r\n\r\nOr you can chain XSLT transformations as SAX `XMLFilter`s: https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest10/samples/java/he/JAXPExamples.java#L694","title":"How to chain XSLT processors in Java?","body":"<p>One way is to set up the second transformation as a Sax <code>TransformerHandler</code> being the ContentHandler of the <code>SAXResult</code> of the first <code>Transformer</code> e.g.:</p>\n<pre><code>    TransformerFactory transformerFactory = TransformerFactory.newInstance();\n\n    String xslt1 = &quot;&lt;xsl:stylesheet xmlns:xsl='http://www.w3.org/1999/XSL/Transform' version='1.0'&gt;&lt;xsl:template match='/'&gt;&lt;xsl:call-template name='identity'/&gt;&lt;xsl:comment&gt;sheet 1&lt;/xsl:comment&gt;&lt;/xsl:template&gt;&lt;xsl:template name='identity' match='@* | node()'&gt;&lt;xsl:copy&gt;&lt;xsl:apply-templates select='@* | node()'/&gt;&lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;&quot;;\n\n    String xslt2 = &quot;&lt;xsl:stylesheet xmlns:xsl='http://www.w3.org/1999/XSL/Transform' version='1.0'&gt;&lt;xsl:template match='/'&gt;&lt;xsl:call-template name='identity'/&gt;&lt;xsl:comment&gt;sheet 2&lt;/xsl:comment&gt;&lt;/xsl:template&gt;&lt;xsl:template name='identity' match='@* | node()'&gt;&lt;xsl:copy&gt;&lt;xsl:apply-templates select='@* | node()'/&gt;&lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;&quot;;\n\n    Transformer transformer1 = transformerFactory.newTransformer(new StreamSource(new StringReader(xslt1)));\n\n    TransformerHandler transformer2 = ((SAXTransformerFactory)transformerFactory).newTransformerHandler(new StreamSource(new StringReader(xslt2)));\n    transformer2.setResult(new StreamResult(System.out));\n    \n    transformer1.transform(new StreamSource(new StringReader(&quot;&lt;root&gt;&lt;item&gt;a&lt;/item&gt;&lt;item&gt;b&lt;/item&gt;&lt;/root&gt;&quot;)), new SAXResult(transformer2));\n</code></pre>\n<p>Or you can chain XSLT transformations as SAX <code>XMLFilter</code>s: <a href=\"https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest10/samples/java/he/JAXPExamples.java#L694\" rel=\"nofollow noreferrer\">https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest10/samples/java/he/JAXPExamples.java#L694</a></p>\n"}],"owner":{"account_id":7983379,"reputation":300,"user_id":6023830,"display_name":"fml2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69806079,"answer_count":1,"score":0,"last_activity_date":1635834132,"creation_date":1635805433,"question_id":69803398,"body_markdown":"I&#39;d like to perform chained XML processing with several XSLT transformers in Java. The first transformer takes the input as a `javax.xml.transform.Source` and produces a `javax.xml.transform.Result`. Not I&#39;d like to use the result as the input for the next transformation. I.e. I need the source for the second transformation.\r\n\r\nHow is it possible to create a `Source` from a `Result` (if it&#39;s possible at all)? Or is there some other solution for what I&#39;d like to do?","title":"How to chain XSLT processors in Java?","body":"<p>I'd like to perform chained XML processing with several XSLT transformers in Java. The first transformer takes the input as a <code>javax.xml.transform.Source</code> and produces a <code>javax.xml.transform.Result</code>. Not I'd like to use the result as the input for the next transformation. I.e. I need the source for the second transformation.</p>\n<p>How is it possible to create a <code>Source</code> from a <code>Result</code> (if it's possible at all)? Or is there some other solution for what I'd like to do?</p>\n"},{"tags":["java","type-conversion","integer","long-integer"],"comments":[{"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"score":0,"creation_date":1635833827,"post_id":69806004,"comment_id":123391394,"body_markdown":"Does this answer your question? [Multiplying long values?](https://stackoverflow.com/questions/1494862/multiplying-long-values)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1494862/multiplying-long-values\">Multiplying long values?</a>"},{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1635835967,"post_id":69806004,"comment_id":123391870,"body_markdown":"in the first example at the right of the equation sign you have one long `maxDays`, but in the second, after the equation sign you have 5 int values that will cause  `Numeric overflow` exception. you have to define one of the 5 integers as long, lilke: 1000L*24*60*60*377;","body":"in the first example at the right of the equation sign you have one long <code>maxDays</code>, but in the second, after the equation sign you have 5 int values that will cause  <code>Numeric overflow</code> exception. you have to define one of the 5 integers as long, lilke: 1000L*24*60*60*377;"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635833920,"creation_date":1635833920,"answer_id":69806099,"question_id":69806004,"body_markdown":"You&#39;re right: all the numbers (1000, 24, ...) are seen as `int` and producing an overflow during the calculation. Only the result will be implicitely type casted to `long`.\r\n\r\nTo handle the calculation, you can mark all these values as `long` by adding a `L` at the end of the number like this:\r\n\r\n```\r\nlong maxDays = 1000L * 24L * 60L * 60L * 377L;\r\n```\r\nAlso it would be enough to declare only one number as `long` like this:\r\n\r\n```\r\nlong maxDays = 1000L * 24 * 60 * 60 * 377;\r\n```\r\n\r\n","title":"Java multiple numbers in one line","body":"<p>You're right: all the numbers (1000, 24, ...) are seen as <code>int</code> and producing an overflow during the calculation. Only the result will be implicitely type casted to <code>long</code>.</p>\n<p>To handle the calculation, you can mark all these values as <code>long</code> by adding a <code>L</code> at the end of the number like this:</p>\n<pre><code>long maxDays = 1000L * 24L * 60L * 60L * 377L;\n</code></pre>\n<p>Also it would be enough to declare only one number as <code>long</code> like this:</p>\n<pre><code>long maxDays = 1000L * 24 * 60 * 60 * 377;\n</code></pre>\n"}],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635833920,"creation_date":1635833111,"question_id":69806004,"body_markdown":"Please consider below code on java: \r\n```\r\n        long maxDays = 1000;\r\n        maxDays = maxDays * 24;\r\n        maxDays = maxDays * 60;\r\n        maxDays = maxDays * 60;\r\n        maxDays = maxDays * 377;\r\n        System.out.println(maxDays);  // The result is 32572800000\r\n```\r\n\r\nNow I try to do it in one line:\r\n```\r\n        maxDays = 1000 * 24 * 60 * 60 * 377;\r\n        System.out.println(maxDays);  // The result is -1786938368\r\n```\r\n\r\nWhy the result changed !\r\n\r\nI think it must be about type conversion from `int` to `long`, but I don&#39;t know why?\r\n\r\nAND how can I do it in one line in correct way?","title":"Java multiple numbers in one line","body":"<p>Please consider below code on java:</p>\n<pre><code>        long maxDays = 1000;\n        maxDays = maxDays * 24;\n        maxDays = maxDays * 60;\n        maxDays = maxDays * 60;\n        maxDays = maxDays * 377;\n        System.out.println(maxDays);  // The result is 32572800000\n</code></pre>\n<p>Now I try to do it in one line:</p>\n<pre><code>        maxDays = 1000 * 24 * 60 * 60 * 377;\n        System.out.println(maxDays);  // The result is -1786938368\n</code></pre>\n<p>Why the result changed !</p>\n<p>I think it must be about type conversion from <code>int</code> to <code>long</code>, but I don't know why?</p>\n<p>AND how can I do it in one line in correct way?</p>\n"},{"tags":["java","date","parsing","java-time","localdate"],"comments":[{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1635569798,"post_id":69776883,"comment_id":123339468,"body_markdown":"hint: `00:00` does not mean midnight today. It means start of today, so the result you are getting is correct","body":"hint: <code>00:00</code> does not mean midnight today. It means start of today, so the result you are getting is correct"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1635569983,"post_id":69776883,"comment_id":123339489,"body_markdown":"How is 00:00 on Monday _not_ before 23:59 on Monday?","body":"How is 00:00 on Monday <i>not</i> before 23:59 on Monday?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635789446,"post_id":69776883,"comment_id":123381914,"body_markdown":"I got no idea what you are asking. I downvoted and voted to close. Please [edit](https://stackoverflow.com/posts/69776883/edit) your question to answer the question by @chrylis-cautiouslyoptimistic-, and I will seriously consider retracting my votes.","body":"I got no idea what you are asking. I downvoted and voted to close. Please <a href=\"https://stackoverflow.com/posts/69776883/edit\">edit</a> your question to answer the question by @chrylis-cautiouslyoptimistic-, and I will seriously consider retracting my votes."},{"owner":{"account_id":14376350,"reputation":29,"user_id":10413324,"display_name":"user624"},"score":0,"creation_date":1635816931,"post_id":69776883,"comment_id":123388891,"body_markdown":"@OleV.V. Arvind Kumar Avinash got my question and answered it correctly","body":"@OleV.V. Arvind Kumar Avinash got my question and answered it correctly"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635830874,"post_id":69776883,"comment_id":123390873,"body_markdown":"Thanks for replying to my criticism. That’s good for you and bad for the rest of us. Stack Overflow is meant to be a resource for eveyone to enjoy. When we can’t understand the question, it makes things a lot harder for us. I repeat: please edit your question and make it clear what the expected result was and how you got to expect that result. Would that be hard to do?","body":"Thanks for replying to my criticism. That’s good for you and bad for the rest of us. Stack Overflow is meant to be a resource for eveyone to enjoy. When we can’t understand the question, it makes things a lot harder for us. I repeat: please edit your question and make it clear what the expected result was and how you got to expect that result. Would that be hard to do?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635571608,"creation_date":1635571126,"answer_id":69776989,"question_id":69776883,"body_markdown":"Your issue has nothing to do with parsing.\r\n\r\nAnd, the behavior you see is a feature, not a bug.\r\n\r\n[`LocalTime`][1] represent the time of day for a single imaginary generic 24-hours-long day. That day starts at 00:00:00.0. So all other values are *after* that zero time value. \r\n\r\nSo this should return `true`:\r\n\r\n    LocalTime.parse( &quot;00:00&quot; ).isBefore( LocalTime.parse( &quot;23:59&quot; ) )  // true.\r\n\r\nBe aware that in our politically-defined timekeeping systems days are not necessarily 24-hours long, nor do they necessarily start at 00:00. Some days may be 23, 23.5, 25, or other number of hours long. And some dates in some time zones may start at a time such as 01:00.\r\n\r\nBy the way, notice there is no need to specify a `DateTimeFormatter` when the input complies with ISO 8601 standard for date-time textual values.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html","title":"LocalTime does not parse 00:00 correctly","body":"<p>Your issue has nothing to do with parsing.</p>\n<p>And, the behavior you see is a feature, not a bug.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>LocalTime</code></a> represent the time of day for a single imaginary generic 24-hours-long day. That day starts at 00:00:00.0. So all other values are <em>after</em> that zero time value.</p>\n<p>So this should return <code>true</code>:</p>\n<pre><code>LocalTime.parse( &quot;00:00&quot; ).isBefore( LocalTime.parse( &quot;23:59&quot; ) )  // true.\n</code></pre>\n<p>Be aware that in our politically-defined timekeeping systems days are not necessarily 24-hours long, nor do they necessarily start at 00:00. Some days may be 23, 23.5, 25, or other number of hours long. And some dates in some time zones may start at a time such as 01:00.</p>\n<p>By the way, notice there is no need to specify a <code>DateTimeFormatter</code> when the input complies with ISO 8601 standard for date-time textual values.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635616697,"creation_date":1635616697,"answer_id":69780783,"question_id":69776883,"body_markdown":"Note that\r\n\r\n - The modern Date-Time API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and does not require using a `DateTimeFormatter` object explicitly as long as the Date-Time string conforms to the ISO 8601 standards. Your time strings are in ISO 8601 format.\r\n - The local time, `00:00` corresponds to `12:00 AM` whereas `23:59` corresponds to `11:59 PM`, it&#39;s obvious that `00:00` is before `23:59`. So, the results that you have got is correct.\r\n\r\n\r\nTo avoid confusion, I recommend you attach a date with the local time i.e. use `LocalDateTime`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\r\n    \r\n    \t\tLocalTime start = LocalTime.parse(&quot;00:00&quot;);\r\n    \t\tLocalTime end = LocalTime.parse(&quot;23:59&quot;);\r\n    \r\n    \t\tSystem.out.println(start.format(dtf));\r\n    \t\tSystem.out.println(end.format(dtf));\r\n    \r\n    \t\tLocalDate today = LocalDate.now();\r\n    \r\n    \t\tLocalDateTime ldtStart = start.atDate(today);\r\n    \t\tLocalDateTime ldtEnd = end.atDate(today);\r\n    \t\tSystem.out.println(ldtStart);\r\n    \t\tSystem.out.println(ldtEnd);\r\n    \r\n    \t\t// Notice the result when you add a minute to ldtEnd\r\n    \t\tSystem.out.println(ldtEnd.plusMinutes(1));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    12:00 AM\r\n    11:59 PM\r\n    2021-10-30T00:00\r\n    2021-10-30T23:59\r\n    2021-10-31T00:00\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/drOkvV","title":"LocalTime does not parse 00:00 correctly","body":"<p>Note that</p>\n<ul>\n<li>The modern Date-Time API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and does not require using a <code>DateTimeFormatter</code> object explicitly as long as the Date-Time string conforms to the ISO 8601 standards. Your time strings are in ISO 8601 format.</li>\n<li>The local time, <code>00:00</code> corresponds to <code>12:00 AM</code> whereas <code>23:59</code> corresponds to <code>11:59 PM</code>, it's obvious that <code>00:00</code> is before <code>23:59</code>. So, the results that you have got is correct.</li>\n</ul>\n<p>To avoid confusion, I recommend you attach a date with the local time i.e. use <code>LocalDateTime</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\n\n        LocalTime start = LocalTime.parse(&quot;00:00&quot;);\n        LocalTime end = LocalTime.parse(&quot;23:59&quot;);\n\n        System.out.println(start.format(dtf));\n        System.out.println(end.format(dtf));\n\n        LocalDate today = LocalDate.now();\n\n        LocalDateTime ldtStart = start.atDate(today);\n        LocalDateTime ldtEnd = end.atDate(today);\n        System.out.println(ldtStart);\n        System.out.println(ldtEnd);\n\n        // Notice the result when you add a minute to ldtEnd\n        System.out.println(ldtEnd.plusMinutes(1));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>12:00 AM\n11:59 PM\n2021-10-30T00:00\n2021-10-30T23:59\n2021-10-31T00:00\n</code></pre>\n<p><a href=\"https://ideone.com/drOkvV\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"}],"owner":{"account_id":14376350,"reputation":29,"user_id":10413324,"display_name":"user624"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1069,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":69780783,"answer_count":2,"score":0,"last_activity_date":1635832584,"creation_date":1635569566,"question_id":69776883,"body_markdown":"I am trying to parse &quot;Mon 00:00-23:59&quot; using `LocalTime`. \r\n\r\n    LocalTime start = LocalTime.parse(&quot;00:00&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\r\n    LocalTime end = LocalTime.parse(&quot;23:59&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\r\n\r\nBut, `start.isBefore(end)` returns true, how is this possible?\r\n\r\nI am trying to compare the Localtimes to check after parsing the user input that start will always be before end, otherwise it should throw an error to the user. \r\n\r\n**Solved :** I realise that this requires LocalDateTime or Date in order to compare the days as well, since there are corner cases such as 00:00.","title":"LocalTime does not parse 00:00 correctly","body":"<p>I am trying to parse &quot;Mon 00:00-23:59&quot; using <code>LocalTime</code>.</p>\n<pre><code>LocalTime start = LocalTime.parse(&quot;00:00&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\nLocalTime end = LocalTime.parse(&quot;23:59&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\n</code></pre>\n<p>But, <code>start.isBefore(end)</code> returns true, how is this possible?</p>\n<p>I am trying to compare the Localtimes to check after parsing the user input that start will always be before end, otherwise it should throw an error to the user.</p>\n<p><strong>Solved :</strong> I realise that this requires LocalDateTime or Date in order to compare the days as well, since there are corner cases such as 00:00.</p>\n"},{"tags":["java","boolean"],"answers":[{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635774920,"creation_date":1635774920,"answer_id":69797936,"question_id":69797674,"body_markdown":"Assuming pure math, `y &lt; -x` is equivalent to `x &lt; -y`, `5 * x &gt;= y` is equivalent to `x &gt;= y * 0.2` and `whateverBoolean1 ^ whateverBoolean2` is equivalent to `whateverBoolean1 != whateverBoolean2`. Hence you can omit any side of `&amp;&amp;` operator.\r\n\r\nI am neglecting freaks of floating point arithmetics (0.2 is not precise number so some counterexample that original and simplified expression are not equivalent could be perhaps found after some effort.)","title":"Simplify a long boolean expression","body":"<p>Assuming pure math, <code>y &lt; -x</code> is equivalent to <code>x &lt; -y</code>, <code>5 * x &gt;= y</code> is equivalent to <code>x &gt;= y * 0.2</code> and <code>whateverBoolean1 ^ whateverBoolean2</code> is equivalent to <code>whateverBoolean1 != whateverBoolean2</code>. Hence you can omit any side of <code>&amp;&amp;</code> operator.</p>\n<p>I am neglecting freaks of floating point arithmetics (0.2 is not precise number so some counterexample that original and simplified expression are not equivalent could be perhaps found after some effort.)</p>\n"}],"owner":{"account_id":23206171,"reputation":13,"user_id":17300361,"display_name":"Kittanat Assawakiattikun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69797936,"answer_count":1,"score":0,"last_activity_date":1635831284,"creation_date":1635773565,"question_id":69797674,"body_markdown":"Im pretty new to this plattform  and well I have a trouble regarding boolean expression in my CS-class. I have to simplifly this boolean expression and have no clue how to do this.\r\n\r\ndouble x ;\r\ndouble y  ;\r\n\r\n**boolean b = ( (y &lt; -x) ^ (5 * x &gt;= y) ) &amp;&amp; ( (x &lt; -y) != (x &gt;= y * 0.2) )**","title":"Simplify a long boolean expression","body":"<p>Im pretty new to this plattform  and well I have a trouble regarding boolean expression in my CS-class. I have to simplifly this boolean expression and have no clue how to do this.</p>\n<p>double x ;\ndouble y  ;</p>\n<p><strong>boolean b = ( (y &lt; -x) ^ (5 * x &gt;= y) ) &amp;&amp; ( (x &lt; -y) != (x &gt;= y * 0.2) )</strong></p>\n"},{"tags":["java","swing","jbutton","jtextfield","layout-manager"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":3,"creation_date":1635791678,"post_id":69801159,"comment_id":123382694,"body_markdown":"You can&#39;t add both the `JTextField` and the `JButton` to the CENTER of the `JFrame`.  The `setVisible` method should be called last after all other methods.","body":"You can&#39;t add both the <code>JTextField</code> and the <code>JButton</code> to the CENTER of the <code>JFrame</code>.  The <code>setVisible</code> method should be called last after all other methods."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1635793205,"post_id":69801159,"comment_id":123383227,"body_markdown":"Don&#39;t attempt to use setBounds(...).  Swing was designed to be used with layout managers. By default a JFrame uses a `BorderLayout`. Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) for more information.","body":"Don&#39;t attempt to use setBounds(...).  Swing was designed to be used with layout managers. By default a JFrame uses a <code>BorderLayout</code>. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> for more information."}],"answers":[{"tags":[],"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635795610,"creation_date":1635795610,"answer_id":69801995,"question_id":69801159,"body_markdown":"You didn&#39;t mention what&#39;s &quot;not working properly&quot;, but there are a few errors with your code:\r\n\r\n1. Don&#39;t call your class `Frame`, it may confuse you or others about `java.awt.Frame`, something that may work would be `MyFrame`\r\n\r\n2. Right now all your class is inside the `main` method and it&#39;s not placed inside the [Event Dispatch Thread (EDT)](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html), to fix this, create an instance of your class and call a method `createAndShowGUI` (or whatever you want to name it) inside `SwingUtilities.invokeLater()`\r\n\r\n    For Example:\r\n\r\n        public static void main(String args[]) {\r\n            SwingUtilities.invokeLater(new MyFrame()::createAndShowGUI)\r\n        }\r\n\r\n    Or if using Java 7 or lower, use the code inside [this answer](https://stackoverflow.com/questions/42404270/jcomponent-stops-getting-rendered-once-it-goes-off-the-screen/42404808#42404808) in point #2.\r\n\r\n3. `setVisible(true)` should be the last line in your code, otherwise you may find some visual glitches that may be resolved until you move your mouse above your window or something that triggers the call to `repaint()` of your components.\r\n\r\n4. Instead of calling `setSize(...)` directly, you should override `getPreferredSize(...)` of your `JPanel` and then call `pack()` on your `JFrame`, see this question and the answers in it: https://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi\r\n\r\n5. You&#39;re adding 2 components to the `CENTER` of `BorderLayout`, which is a `JFrame`&#39;s default layout manager, there are other [layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) and you can combine them to make complex GUI&#39;s.\r\n\r\n6. `setBounds(...)` might mean that you&#39;re using `null-layout`, which might seem like the easiest way to create complex layouts, however you will find yourself in situations like [this one](https://stackoverflow.com/a/42521097/2180785) if you take that approach, it&#39;s better to let Swing do the calculations for you while you use layout managers. For more, read: https://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing\r\n\r\nWith all the above tips now in mind, you may have a code similar to this one:\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class MyFrame {\r\n    \tprivate JFrame frame;\r\n    \tprivate JPanel pane;\r\n    \tprivate JTextField field;\r\n    \tprivate JButton button;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new MyFrame()::createAndShowGUI);\r\n    \t}\r\n    \r\n    \tprivate void createAndShowGUI() {\r\n    \t\tframe = new JFrame(&quot;Alkalmaz&#225;s&quot;);\r\n    \t\tpane = new JPanel() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic Dimension getPreferredSize() {\r\n    \t\t\t\treturn new Dimension(100, 100);\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tpane.setLayout(new BoxLayout(pane, BoxLayout.PAGE_AXIS));\r\n    \r\n    \t\tfield = new JTextField(10);\r\n    \t\tbutton = new JButton(&quot;Click me&quot;);\r\n    \r\n    \t\tbutton.addActionListener(new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tfield.setText(&quot;something&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tpane.add(field);\r\n    \t\tpane.add(button);\r\n    \r\n    \t\tframe.add(pane);\r\n    \r\n    \t\tframe.setResizable(false);\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t}\r\n    }\r\n\r\nNow you have an output similar to this one:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat about you want the `JTextField` to have a more &quot;normal&quot; size? Like this one: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou&#39;ll have to embed `field` inside another `JPanel` (with `FlowLayout` (the default layout manager of `JPanel`)), and then add that second `JPanel` to `pane`, I&#39;m not writing the code for that as I&#39;m leaving that as an exercise to you so you learn how to use multiple layout managers\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/heWne.png\r\n  [2]: https://i.stack.imgur.com/izChy.png","title":"JButton and JTextField","body":"<p>You didn't mention what's &quot;not working properly&quot;, but there are a few errors with your code:</p>\n<ol>\n<li><p>Don't call your class <code>Frame</code>, it may confuse you or others about <code>java.awt.Frame</code>, something that may work would be <code>MyFrame</code></p>\n</li>\n<li><p>Right now all your class is inside the <code>main</code> method and it's not placed inside the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread (EDT)</a>, to fix this, create an instance of your class and call a method <code>createAndShowGUI</code> (or whatever you want to name it) inside <code>SwingUtilities.invokeLater()</code></p>\n<p>For Example:</p>\n<pre><code> public static void main(String args[]) {\n     SwingUtilities.invokeLater(new MyFrame()::createAndShowGUI)\n }\n</code></pre>\n<p>Or if using Java 7 or lower, use the code inside <a href=\"https://stackoverflow.com/questions/42404270/jcomponent-stops-getting-rendered-once-it-goes-off-the-screen/42404808#42404808\">this answer</a> in point #2.</p>\n</li>\n<li><p><code>setVisible(true)</code> should be the last line in your code, otherwise you may find some visual glitches that may be resolved until you move your mouse above your window or something that triggers the call to <code>repaint()</code> of your components.</p>\n</li>\n<li><p>Instead of calling <code>setSize(...)</code> directly, you should override <code>getPreferredSize(...)</code> of your <code>JPanel</code> and then call <code>pack()</code> on your <code>JFrame</code>, see this question and the answers in it: <a href=\"https://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi\">Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?</a></p>\n</li>\n<li><p>You're adding 2 components to the <code>CENTER</code> of <code>BorderLayout</code>, which is a <code>JFrame</code>'s default layout manager, there are other <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">layout managers</a> and you can combine them to make complex GUI's.</p>\n</li>\n<li><p><code>setBounds(...)</code> might mean that you're using <code>null-layout</code>, which might seem like the easiest way to create complex layouts, however you will find yourself in situations like <a href=\"https://stackoverflow.com/a/42521097/2180785\">this one</a> if you take that approach, it's better to let Swing do the calculations for you while you use layout managers. For more, read: <a href=\"https://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing\">Why is it frowned upon to use a null layout in Swing?</a></p>\n</li>\n</ol>\n<p>With all the above tips now in mind, you may have a code similar to this one:</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BoxLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class MyFrame {\n    private JFrame frame;\n    private JPanel pane;\n    private JTextField field;\n    private JButton button;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new MyFrame()::createAndShowGUI);\n    }\n\n    private void createAndShowGUI() {\n        frame = new JFrame(&quot;Alkalmazás&quot;);\n        pane = new JPanel() {\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(100, 100);\n            }\n        };\n\n        pane.setLayout(new BoxLayout(pane, BoxLayout.PAGE_AXIS));\n\n        field = new JTextField(10);\n        button = new JButton(&quot;Click me&quot;);\n\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                field.setText(&quot;something&quot;);\n            }\n        });\n\n        pane.add(field);\n        pane.add(button);\n\n        frame.add(pane);\n\n        frame.setResizable(false);\n        frame.pack();\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n<p>Now you have an output similar to this one:</p>\n<p><a href=\"https://i.stack.imgur.com/heWne.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/heWne.png\" alt=\"enter image description here\" /></a></p>\n<p>What about you want the <code>JTextField</code> to have a more &quot;normal&quot; size? Like this one:</p>\n<p><a href=\"https://i.stack.imgur.com/izChy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/izChy.png\" alt=\"enter image description here\" /></a></p>\n<p>You'll have to embed <code>field</code> inside another <code>JPanel</code> (with <code>FlowLayout</code> (the default layout manager of <code>JPanel</code>)), and then add that second <code>JPanel</code> to <code>pane</code>, I'm not writing the code for that as I'm leaving that as an exercise to you so you learn how to use multiple layout managers</p>\n"}],"owner":{"account_id":23208672,"reputation":1,"user_id":17302500,"display_name":"B&#225;lint Matus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635831193,"creation_date":1635791053,"question_id":69801159,"body_markdown":"What&#39;s wrong? `ImageIcon` and the frame&#39;s size are working properly.\r\nBut the `JTextField` and the `JButton` aren&#39;t.\r\n\r\nI need the solution.\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.ImageIcon;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    public class Frame {\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame();\r\n            frame.setTitle(&quot;Alkalmaz&#225;s&quot;);\r\n            frame.setVisible(true);\r\n            frame.setSize(500,500);\r\n            frame.setResizable(false);\r\n    \r\n            JTextField field = new JTextField();\r\n            field.setBounds(40,250, 300,35);\r\n    \r\n            JButton button = new JButton(new ImageIcon(&quot;table.png&quot;));\r\n            button.setBounds(40,400, 250,25);\r\n            button.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    tf.setText(&quot;&quot;something);\r\n                }\r\n            });\r\n            frame.add(field);\r\n            frame.add(button);\r\n        }\r\n    \r\n    }\r\n    \r\n\r\n","title":"JButton and JTextField","body":"<p>What's wrong? <code>ImageIcon</code> and the frame's size are working properly.\nBut the <code>JTextField</code> and the <code>JButton</code> aren't.</p>\n<p>I need the solution.</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.ImageIcon;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Frame {\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setTitle(&quot;Alkalmazás&quot;);\n        frame.setVisible(true);\n        frame.setSize(500,500);\n        frame.setResizable(false);\n\n        JTextField field = new JTextField();\n        field.setBounds(40,250, 300,35);\n\n        JButton button = new JButton(new ImageIcon(&quot;table.png&quot;));\n        button.setBounds(40,400, 250,25);\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                tf.setText(&quot;&quot;something);\n            }\n        });\n        frame.add(field);\n        frame.add(button);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","canvas","java-me","deprecated"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635728644,"post_id":69786185,"comment_id":123365170,"body_markdown":"Can you [edit] your question to add full log, show where the log appear and what is your begin data ?","body":"Can you <a href=\"https://stackoverflow.com/posts/69786185/edit\">edit</a> your question to add full log, show where the log appear and what is your begin data ?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635761683,"post_id":69786185,"comment_id":123371466,"body_markdown":"When you edit your question, on the right there is help. Also, it&#39;s markdown, so if you know how to use markdown it&#39;s the same here","body":"When you edit your question, on the right there is help. Also, it&#39;s markdown, so if you know how to use markdown it&#39;s the same here"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635797591,"post_id":69786185,"comment_id":123384648,"body_markdown":"Ok. Why the logs are in upper case ?","body":"Ok. Why the logs are in upper case ?"}],"owner":{"account_id":23027651,"reputation":1,"user_id":17147619,"display_name":"manzil safar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635830071,"creation_date":1635677926,"question_id":69786185,"body_markdown":"The code &quot;Region.Op.REPLACE&quot;, at two places in AndroidDisplayGraphics.java throws illegalArgumentException in android 9 and later versions due to policy change.  \r\nHere is the complete java code of AndroidDisplayGraphics.java:\r\n\r\n\t/**\r\n\t*  MicroEmulator\r\n\t*  Copyright (C) 2008 Bartek Teodorczyk &lt;barteo@barteo.net&gt;\r\n\t*\r\n\t*  It is licensed under the following two licenses as alternatives:\r\n\t*    1. GNU Lesser General Public License (the &quot;LGPL&quot;) version 2.1 or any newer version\r\n\t*    2. Apache License (the &quot;AL&quot;) Version 2.0\r\n\t*\r\n\t*  You may not use this file except in compliance with at least one of\r\n\t*  the above two licenses.\r\n\t*\r\n\t*  You may obtain a copy of the LGPL at\r\n\t*      http://www.gnu.org/licenses/old-licenses/lgpl-2.1.txt\r\n\t*\r\n\t*  You may obtain a copy of the AL at\r\n\t*      http://www.apache.org/licenses/LICENSE-2.0\r\n\t*\r\n\t*  Unless required by applicable law or agreed to in writing, software\r\n\t*  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n\t*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n\t*  See the LGPL or the AL for the specific language governing permissions and\r\n\t*  limitations.\r\n\t*\r\n\t*  @version $Id: AndroidDisplayGraphics.java 2522 2011-11-28 13:44:59Z barteo@gmail.com $\r\n\t*/\r\n\r\n\tpackage org.microemu.android.device;\r\n\r\n\timport javax.microedition.lcdui.Font;\r\n\timport javax.microedition.lcdui.Image;\r\n\timport javax.microedition.lcdui.game.Sprite;\r\n\r\n\timport org.microemu.log.Logger;\r\n\r\n\timport android.graphics.Bitmap;\r\n\timport android.graphics.Canvas;\r\n\timport android.graphics.DashPathEffect;\r\n\timport android.graphics.Matrix;\r\n\timport android.graphics.Paint;\r\n\timport android.graphics.Path;\r\n\timport android.graphics.Rect;\r\n\timport android.graphics.RectF;\r\n\timport android.graphics.Region;\r\n\r\n\tpublic class AndroidDisplayGraphics extends javax.microedition.lcdui.Graphics {\r\n\t\t\r\n\t\tpublic Paint strokePaint = new Paint();\r\n\t\t\r\n\t\tpublic Paint fillPaint = new Paint();\r\n\t\t\r\n\t\tpublic AndroidFont androidFont;\r\n\t\t\r\n\t\tprivate static final DashPathEffect dashPathEffect = new DashPathEffect(new float[] { 5, 5 }, 0);\r\n\t\t\r\n\t\tprivate static final Matrix identityMatrix = new Matrix();\r\n\t\t\r\n\t\tprivate Canvas canvas;\r\n\t\t\r\n\t\tprivate GraphicsDelegate delegate;\r\n\r\n\t\tprivate Rect clip;\r\n\t\t\r\n\t\tprivate Font font;\r\n\t\t\r\n\t\tprivate int strokeStyle = SOLID;\r\n\t\t\r\n\t\tprivate Rect tmpRect = new Rect();\r\n\t\t\r\n\t\tprivate Rect tmpRectSecond = new Rect();\r\n\t\t\r\n\t\tprivate Matrix tmpMatrix = new Matrix();\r\n\t\t\r\n\t\tpublic AndroidDisplayGraphics() {\r\n\t\t\tthis.delegate = null;\r\n\t\t\t\r\n\t\t\tstrokePaint.setAntiAlias(true);\r\n\t\t\tstrokePaint.setStyle(Paint.Style.STROKE);\r\n\t\t\tfillPaint.setAntiAlias(true);\r\n\t\t\tfillPaint.setStyle(Paint.Style.FILL);\r\n\t\t}\r\n\t\t\r\n\t\tpublic AndroidDisplayGraphics(Bitmap bitmap) {\r\n\t\t\tthis.canvas = new Canvas(bitmap);\r\n\t\t\tthis.canvas.clipRect(0, 0, bitmap.getWidth(), bitmap.getHeight());\r\n\t\t\tthis.delegate = null;\r\n\t\t\t\r\n\t\t\tstrokePaint.setAntiAlias(true);\r\n\t\t\tstrokePaint.setStyle(Paint.Style.STROKE);\r\n\t\t\tfillPaint.setAntiAlias(true);\r\n\t\t\tfillPaint.setStyle(Paint.Style.FILL);\r\n\t\t\t\r\n\t\t\treset(this.canvas);\r\n\t\t}\r\n\t\t\r\n\t\tpublic void reset(Canvas canvas) {\r\n\t\t\tthis.canvas = canvas;\r\n\t\t\t\r\n\t\t\tRect tmp = this.canvas.getClipBounds();\r\n\t\t\tthis.canvas.setMatrix(identityMatrix);\r\n\t\t\t// setMatrix changes the clipping too\r\n\t\t\tthis.canvas.clipRect(tmp, Region.Op.REPLACE);\r\n\t\t\tclip = this.canvas.getClipBounds();\r\n\t\t\tsetFont(Font.getDefaultFont());\r\n\t\t}\r\n\t\t\r\n\t\tpublic Canvas getCanvas() {\r\n\t\t\treturn canvas;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setDelegate(GraphicsDelegate delegate) {\r\n\t\t\tthis.delegate = delegate;\r\n\t\t}\r\n\r\n\t\tpublic void clipRect(int x, int y, int width, int height) {\r\n\t\t\tcanvas.clipRect(x, y, x + width, y + height);\r\n\t\t\tclip = canvas.getClipBounds();\r\n\t\t\t\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.setClip(clip.left, clip.top, clip.right - clip.left, clip.bottom - clip.top);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void drawArc(int x, int y, int width, int height, int startAngle, int arcAngle) {\r\n\t\t\tRectF rect = new RectF(x, y, x + width, y + height);\r\n\t\t\tcanvas.drawArc(rect, -startAngle, -arcAngle, false, strokePaint);\r\n\t\t}\r\n\r\n\t\tpublic void drawImage(Image img, int x, int y, int anchor) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.drawImage(img, x, y, anchor);\r\n\t\t\t} else {\r\n\t\t\t\tint newx = x;\r\n\t\t\t\tint newy = y;\r\n\t\t\r\n\t\t\t\tif (anchor == 0) {\r\n\t\t\t\t\tanchor = javax.microedition.lcdui.Graphics.TOP | javax.microedition.lcdui.Graphics.LEFT;\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tif ((anchor &amp; javax.microedition.lcdui.Graphics.RIGHT) != 0) {\r\n\t\t\t\t\tnewx -= img.getWidth();\r\n\t\t\t\t} else if ((anchor &amp; javax.microedition.lcdui.Graphics.HCENTER) != 0) {\r\n\t\t\t\t\tnewx -= img.getWidth() / 2;\r\n\t\t\t\t}\r\n\t\t\t\tif ((anchor &amp; javax.microedition.lcdui.Graphics.BOTTOM) != 0) {\r\n\t\t\t\t\tnewy -= img.getHeight();\r\n\t\t\t\t} else if ((anchor &amp; javax.microedition.lcdui.Graphics.VCENTER) != 0) {\r\n\t\t\t\t\tnewy -= img.getHeight() / 2;\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tif (img.isMutable()) {\r\n\t\t\t\t\tcanvas.drawBitmap(((AndroidMutableImage) img).getBitmap(), newx, newy, strokePaint);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcanvas.drawBitmap(((AndroidImmutableImage) img).getBitmap(), newx, newy, strokePaint);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void drawLine(int x1, int y1, int x2, int y2) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.drawLine(x1, y1, x2, y2);\r\n\t\t\t} else {\r\n\t\t\t\tif (x1 == x2) {\r\n\t\t\t\t\tcanvas.drawLine(x1, y1, x2, y2 + 1, strokePaint);\r\n\t\t\t\t} else if (y1 == y2) {\r\n\t\t\t\t\tcanvas.drawLine(x1, y1, x2 + 1, y2, strokePaint);\r\n\t\t\t\t} else { \r\n\t\t\t\t\tcanvas.drawLine(x1, y1, x2 + 1, y2 + 1, strokePaint);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void drawRect(int x, int y, int width, int height) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.drawRect(x, y, width, height);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.drawRect(x, y, x + width, y + height, strokePaint);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void drawRoundRect(int x, int y, int width, int height, int arcWidth, int arcHeight) {\r\n\t\t\tcanvas.drawRoundRect(new RectF(x, y, x + width, y + height), (float) arcWidth, (float) arcHeight, strokePaint);\r\n\t   }\r\n\r\n\t\tpublic void drawString(String str, int x, int y, int anchor) {\r\n\t\t\tdrawSubstring(str, 0, str.length(), x, y, anchor);\r\n\t\t}\r\n\r\n\t\tpublic void drawSubstring(String str, int offset, int len, int x, int y, int anchor) {\r\n\t\t\tint newx = x;\r\n\t\t\tint newy = y;\r\n\r\n\t\t\tif (anchor == 0) {\r\n\t\t\t\tanchor = javax.microedition.lcdui.Graphics.TOP | javax.microedition.lcdui.Graphics.LEFT;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ((anchor &amp; javax.microedition.lcdui.Graphics.TOP) != 0) {\r\n\t\t\t\tnewy -= androidFont.metrics.ascent;\r\n\t\t\t} else if ((anchor &amp; javax.microedition.lcdui.Graphics.BOTTOM) != 0) {\r\n\t\t\t\tnewy -= androidFont.metrics.descent;\r\n\t\t\t}\r\n\t\t\tif ((anchor &amp; javax.microedition.lcdui.Graphics.HCENTER) != 0) {\r\n\t\t\t\tnewx -= androidFont.paint.measureText(str) / 2;\r\n\t\t\t} else if ((anchor &amp; javax.microedition.lcdui.Graphics.RIGHT) != 0) {\r\n\t\t\t\tnewx -= androidFont.paint.measureText(str);\r\n\t\t\t}\r\n\r\n\t\t\tandroidFont.paint.setColor(strokePaint.getColor());\r\n\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.drawSubstringDelegate(str, offset, len, newx, newy, anchor);\r\n\t\t\t} else {    \r\n\t\t\t\tcanvas.drawText(str, offset, len + offset, newx, newy, androidFont.paint);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void fillArc(int x, int y, int width, int height, int startAngle, int arcAngle) {\r\n\t\t\tRectF rect = new RectF(x, y, x + width, y + height);\r\n\t\t\tcanvas.drawArc(rect, -startAngle, -arcAngle, true, fillPaint);\r\n\t\t}\r\n\r\n\t\tpublic void fillRect(int x, int y, int width, int height) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.fillRect(x, y, width, height);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.drawRect(x, y, x + width, y + height, fillPaint);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void fillRoundRect(int x, int y, int width, int height, int arcWidth, int arcHeight) {\r\n\t\t\tcanvas.drawRoundRect(new RectF(x, y, x + width, y + height), (float) arcWidth, (float) arcHeight, fillPaint);\r\n\t\t}\r\n\r\n\t\tpublic int getClipHeight() {\r\n\t\t\treturn clip.bottom - clip.top;\r\n\t\t}\r\n\r\n\t\tpublic int getClipWidth() {\r\n\t\t\treturn clip.right - clip.left;\r\n\t\t}\r\n\r\n\t\tpublic int getClipX() {\r\n\t\t\treturn clip.left;\r\n\t\t}\r\n\r\n\t\tpublic int getClipY() {\r\n\t\t\treturn clip.top;\r\n\t\t}\r\n\r\n\t\tpublic int getColor() {\r\n\t\t\treturn strokePaint.getColor();\r\n\t\t}\r\n\r\n\t\tpublic Font getFont() {\r\n\t\t\treturn font;\r\n\t\t}\r\n\t\t\r\n\t\tpublic int getStrokeStyle() {\r\n\t\t\treturn strokeStyle;\r\n\t\t}\r\n\r\n\t\tpublic void setClip(int x, int y, int width, int height) {\r\n\t\t\tif (x == clip.left &amp;&amp; x + width == clip.right &amp;&amp; y == clip.top &amp;&amp; y + height == clip.bottom) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.setClip(x, y, width, height);\r\n\t\t\t}\r\n\r\n\t\t\tclip.left = x;\r\n\t\t\tclip.top = y;\r\n\t\t\tclip.right = x + width;\r\n\t\t\tclip.bottom = y + height;\r\n\t\t\tcanvas.clipRect(clip, Region.Op.REPLACE);\r\n\t\t}\r\n\r\n\t\tpublic void setColor(int RGB) {\r\n\t\t\tstrokePaint.setColor(0xff000000 | RGB);\r\n\t\t\tfillPaint.setColor(0xff000000 | RGB);\r\n\t\t}\r\n\r\n\t\tpublic void setFont(Font font) {\r\n\t\t\tthis.font = font;\r\n\t\t\t\r\n\t\t\tandroidFont = AndroidFontManager.getFont(font);\r\n\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setStrokeStyle(int style) {\r\n\t\t\tif (style != SOLID &amp;&amp; style != DOTTED) {\r\n\t\t\t\tthrow new IllegalArgumentException();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.strokeStyle = style;\r\n\t\t\t\r\n\t\t\tif (style == SOLID) {\r\n\t\t\t\tstrokePaint.setPathEffect(null);\r\n\t\t\t\tfillPaint.setPathEffect(null);\r\n\t\t\t} else { // DOTTED\r\n\t\t\t\tstrokePaint.setPathEffect(dashPathEffect);\r\n\t\t\t\tfillPaint.setPathEffect(dashPathEffect);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void translate(int x, int y) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.translate(x, y);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.translate(x, y);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tsuper.translate(x, y);\r\n\t\t\t\t\r\n\t\t\tclip.left -= x;\r\n\t\t\tclip.right -= x;\r\n\t\t\tclip.top -= y;\r\n\t\t\tclip.bottom -= y;\r\n\t\t}\r\n\r\n\t\tpublic void drawRegion(Image src, int x_src, int y_src, int width,\r\n\t\t\t\tint height, int transform, int x_dst, int y_dst, int anchor) {\r\n\t\t\t// may throw NullPointerException, this is ok\r\n\t\t\tif (x_src + width &gt; src.getWidth() || y_src + height &gt; src.getHeight() || width &lt; 0 || height &lt; 0 || x_src &lt; 0\r\n\t\t\t\t\t|| y_src &lt; 0)\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Area out of Image&quot;);\r\n\r\n\t\t\t// this cannot be done on the same image we are drawing\r\n\t\t\t// check this if the implementation of getGraphics change so\r\n\t\t\t// as to return different Graphic Objects on each call to\r\n\t\t\t// getGraphics\r\n\t\t\tif (src.isMutable() &amp;&amp; src.getGraphics() == this)\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Image is source and target&quot;);\r\n\r\n\t\t\tBitmap img;\r\n\t\t\tif (src.isMutable()) {\r\n\t\t\t\timg = ((AndroidMutableImage) src).getBitmap();\r\n\t\t\t} else {\r\n\t\t\t\timg = ((AndroidImmutableImage) src).getBitmap();\r\n\t\t\t}            \r\n\r\n\t\t\ttmpMatrix.reset();\r\n\t\t\tint dW = width, dH = height;\r\n\t\t\tswitch (transform) {\r\n\t\t\tcase Sprite.TRANS_NONE: {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_ROT90: {\r\n\t\t\t\ttmpMatrix.preRotate(90);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tdW = height;\r\n\t\t\t\tdH = width;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_ROT180: {\r\n\t\t\t\ttmpMatrix.preRotate(180);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_ROT270: {\r\n\t\t\t\ttmpMatrix.preRotate(270);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tdW = height;\r\n\t\t\t\tdH = width;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_MIRROR: {\r\n\t\t\t\ttmpMatrix.preScale(-1, 1);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_MIRROR_ROT90: {\r\n\t\t\t\ttmpMatrix.preScale(-1, 1);\r\n\t\t\t\ttmpMatrix.preRotate(-90);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tdW = height;\r\n\t\t\t\tdH = width;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_MIRROR_ROT180: {\r\n\t\t\t\ttmpMatrix.preScale(-1, 1);\r\n\t\t\t\ttmpMatrix.preRotate(-180);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_MIRROR_ROT270: {\r\n\t\t\t\ttmpMatrix.preScale(-1, 1);\r\n\t\t\t\ttmpMatrix.preRotate(-270);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tdW = height;\r\n\t\t\t\tdH = width;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Bad transform&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t// process anchor and correct x and y _dest\r\n\t\t\t// vertical\r\n\t\t\tboolean badAnchor = false;\r\n\r\n\t\t\tif (anchor == 0) {\r\n\t\t\t\tanchor = TOP | LEFT;\r\n\t\t\t}\r\n\r\n\t\t\tif ((anchor &amp; 0x7f) != anchor || (anchor &amp; BASELINE) != 0)\r\n\t\t\t\tbadAnchor = true;\r\n\r\n\t\t\tif ((anchor &amp; TOP) != 0) {\r\n\t\t\t\tif ((anchor &amp; (VCENTER | BOTTOM)) != 0)\r\n\t\t\t\t\tbadAnchor = true;\r\n\t\t\t} else if ((anchor &amp; BOTTOM) != 0) {\r\n\t\t\t\tif ((anchor &amp; VCENTER) != 0)\r\n\t\t\t\t\tbadAnchor = true;\r\n\t\t\t\telse {\r\n\t\t\t\t\ty_dst -= dH - 1;\r\n\t\t\t\t}\r\n\t\t\t} else if ((anchor &amp; VCENTER) != 0) {\r\n\t\t\t\ty_dst -= (dH - 1) &gt;&gt;&gt; 1;\r\n\t\t\t} else {\r\n\t\t\t\t// no vertical anchor\r\n\t\t\t\tbadAnchor = true;\r\n\t\t\t}\r\n\r\n\t\t\t// horizontal\r\n\t\t\tif ((anchor &amp; LEFT) != 0) {\r\n\t\t\t\tif ((anchor &amp; (HCENTER | RIGHT)) != 0)\r\n\t\t\t\t\tbadAnchor = true;\r\n\t\t\t} else if ((anchor &amp; RIGHT) != 0) {\r\n\t\t\t\tif ((anchor &amp; HCENTER) != 0)\r\n\t\t\t\t\tbadAnchor = true;\r\n\t\t\t\telse {\r\n\t\t\t\t\tx_dst -= dW - 1;\r\n\t\t\t\t}\r\n\t\t\t} else if ((anchor &amp; HCENTER) != 0) {\r\n\t\t\t\tx_dst -= (dW - 1) &gt;&gt;&gt; 1;\r\n\t\t\t} else {\r\n\t\t\t\t// no horizontal anchor\r\n\t\t\t\tbadAnchor = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (badAnchor) {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Bad Anchor&quot;);\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\ttmpRect.left = x_src;\r\n\t\t\ttmpRect.top = y_src;\r\n\t\t\ttmpRect.right = x_src + width;\r\n\t\t\ttmpRect.bottom = y_src + height;\r\n\t\t\ttmpRectSecond.left = x_dst;\r\n\t\t\ttmpRectSecond.top = y_dst;\r\n\t\t\ttmpRectSecond.right = x_dst + width;\r\n\t\t\ttmpRectSecond.bottom = y_dst + height;\r\n\t\t\t\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.drawRegionDelegate(img, tmpRect, tmpRectSecond);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.drawBitmap(img, tmpRect, tmpRectSecond, strokePaint);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void drawRGB(int[] rgbData, int offset, int scanlength, int x,\r\n\t\t\t\tint y, int width, int height, boolean processAlpha) {\r\n\t\t\tif (rgbData == null)\r\n\t\t\t\tthrow new NullPointerException();\r\n\r\n\t\t\tif (width == 0 || height == 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tint l = rgbData.length;\r\n\t\t\tif (width &lt; 0 || height &lt; 0 || offset &lt; 0 || offset &gt;= l || (scanlength &lt; 0 &amp;&amp; scanlength * (height - 1) &lt; 0)\r\n\t\t\t\t\t|| (scanlength &gt;= 0 &amp;&amp; scanlength * (height - 1) + width - 1 &gt;= l)) {\r\n\t\t\t\tthrow new ArrayIndexOutOfBoundsException();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// MIDP allows almost any value of scanlength, drawBitmap is more strict with the stride\r\n\t\t\tif (scanlength == 0) {\r\n\t\t\t\tscanlength = width;\r\n\t\t\t}\r\n\t\t\tint rows = rgbData.length / scanlength;\r\n\t\t\tif (rows &lt; height) {\r\n\t\t\t\theight = rows;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcanvas.drawBitmap(rgbData, offset, scanlength, x, y, width, height, processAlpha, strokePaint);\r\n\t\t}\r\n\r\n\t\tpublic void fillTriangle(int x1, int y1, int x2, int y2, int x3, int y3) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.fillTriangle(x1, y1, x2, y2, x3, y3);\r\n\t\t\t} else {\r\n\t\t\t\tPath path = new Path();\r\n\t\t\t\tpath.moveTo(x1, y1);\r\n\t\t\t\tpath.lineTo(x2, y2);\r\n\t\t\t\tpath.lineTo(x3, y3);\r\n\t\t\t\tpath.lineTo(x1, y1);\r\n\t\t\t\tcanvas.drawPath(path, fillPaint);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void copyArea(int x_src, int y_src, int width, int height,\r\n\t\t\t\tint x_dest, int y_dest, int anchor) {\r\n\t\t\tLogger.debug(&quot;copyArea&quot;);\r\n\t\t}\r\n\r\n\t\tpublic int getDisplayColor(int color) {\r\n\t\t\tLogger.debug(&quot;getDisplayColor&quot;);\r\n\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nlogcat shows as follows:\r\n\r\n\t10-10 19:26:13.970 D/AndroidRuntime(20484): Shutting down VM\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): FATAL EXCEPTION: main\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): Process: org.microemu.android.ketabche.QuranSearch, PID: 20484\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): java.lang.IllegalArgumentException: Invalid Region.Op - only INTERSECT and DIFFERENCE are allowed\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.graphics.Canvas.checkValidClipOp(Canvas.java:779)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.graphics.Canvas.clipRect(Canvas.java:826)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat org.microemu.android.device.AndroidDisplayGraphics.reset(AndroidDisplayGraphics.java:101)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat org.microemu.android.device.ui.AndroidCanvasUI$CanvasView.onDraw(AndroidCanvasUI.java:225)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.draw(View.java:20207)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.updateDisplayListIfDirty(View.java:19082)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.draw(View.java:19935)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.drawChild(ViewGroup.java:4333)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.updateDisplayListIfDirty(View.java:19073)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.draw(View.java:19935)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.drawChild(ViewGroup.java:4333)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.updateDisplayListIfDirty(View.java:19073)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.draw(View.java:19935)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.drawChild(ViewGroup.java:4333)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.draw(View.java:20210)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat com.android.internal.policy.DecorView.draw(DecorView.java:780)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.updateDisplayListIfDirty(View.java:19082)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:686)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:692)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ThreadedRenderer.draw(ThreadedRenderer.java:801)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewRootImpl.draw(ViewRootImpl.java:3318)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewRootImpl.performDraw(ViewRootImpl.java:3122)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2481)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1463)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7190)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.Choreographer.doCallbacks(Choreographer.java:761)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.Choreographer.doFrame(Choreographer.java:696)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.os.Handler.handleCallback(Handler.java:873)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.os.Looper.loop(Looper.java:193)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.app.ActivityThread.main(ActivityThread.java:6718)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat java.lang.reflect.Method.invoke(Native Method)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n\t10-10 19:26:13.973 W/s.nexuslaunche( 6826): resources.arsc in APK &#39;/data/app/com.UCMobile.intl-ZgwYkgY4BszTYcMmkf6BuQ==/base.apk&#39; is compressed.\r\n\t10-10 19:26:13.975 W/ActivityManager( 1206):   Force finishing activity org.microemu.android.ketabche.QuranSearch/org.microemu.android.MicroEmulator\r\n\t10-10 19:26:13.979 D/        (  800): ipc_resp_thread: opcode: 0x2, payload_size: 4, resp_buf size\r\n\r\nall experts are requested to help fixing this issue and thanks in advance\r\n\r\n","title":"what is the alternative of java argument: ( Region.Op.REPLACE) in android 9 and higher","body":"<p>The code &quot;Region.Op.REPLACE&quot;, at two places in AndroidDisplayGraphics.java throws illegalArgumentException in android 9 and later versions due to policy change.<br />\nHere is the complete java code of AndroidDisplayGraphics.java:</p>\n<pre><code>/**\n*  MicroEmulator\n*  Copyright (C) 2008 Bartek Teodorczyk &lt;barteo@barteo.net&gt;\n*\n*  It is licensed under the following two licenses as alternatives:\n*    1. GNU Lesser General Public License (the &quot;LGPL&quot;) version 2.1 or any newer version\n*    2. Apache License (the &quot;AL&quot;) Version 2.0\n*\n*  You may not use this file except in compliance with at least one of\n*  the above two licenses.\n*\n*  You may obtain a copy of the LGPL at\n*      http://www.gnu.org/licenses/old-licenses/lgpl-2.1.txt\n*\n*  You may obtain a copy of the AL at\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n*  Unless required by applicable law or agreed to in writing, software\n*  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n*  See the LGPL or the AL for the specific language governing permissions and\n*  limitations.\n*\n*  @version $Id: AndroidDisplayGraphics.java 2522 2011-11-28 13:44:59Z barteo@gmail.com $\n*/\n\npackage org.microemu.android.device;\n\nimport javax.microedition.lcdui.Font;\nimport javax.microedition.lcdui.Image;\nimport javax.microedition.lcdui.game.Sprite;\n\nimport org.microemu.log.Logger;\n\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.graphics.DashPathEffect;\nimport android.graphics.Matrix;\nimport android.graphics.Paint;\nimport android.graphics.Path;\nimport android.graphics.Rect;\nimport android.graphics.RectF;\nimport android.graphics.Region;\n\npublic class AndroidDisplayGraphics extends javax.microedition.lcdui.Graphics {\n    \n    public Paint strokePaint = new Paint();\n    \n    public Paint fillPaint = new Paint();\n    \n    public AndroidFont androidFont;\n    \n    private static final DashPathEffect dashPathEffect = new DashPathEffect(new float[] { 5, 5 }, 0);\n    \n    private static final Matrix identityMatrix = new Matrix();\n    \n    private Canvas canvas;\n    \n    private GraphicsDelegate delegate;\n\n    private Rect clip;\n    \n    private Font font;\n    \n    private int strokeStyle = SOLID;\n    \n    private Rect tmpRect = new Rect();\n    \n    private Rect tmpRectSecond = new Rect();\n    \n    private Matrix tmpMatrix = new Matrix();\n    \n    public AndroidDisplayGraphics() {\n        this.delegate = null;\n        \n        strokePaint.setAntiAlias(true);\n        strokePaint.setStyle(Paint.Style.STROKE);\n        fillPaint.setAntiAlias(true);\n        fillPaint.setStyle(Paint.Style.FILL);\n    }\n    \n    public AndroidDisplayGraphics(Bitmap bitmap) {\n        this.canvas = new Canvas(bitmap);\n        this.canvas.clipRect(0, 0, bitmap.getWidth(), bitmap.getHeight());\n        this.delegate = null;\n        \n        strokePaint.setAntiAlias(true);\n        strokePaint.setStyle(Paint.Style.STROKE);\n        fillPaint.setAntiAlias(true);\n        fillPaint.setStyle(Paint.Style.FILL);\n        \n        reset(this.canvas);\n    }\n    \n    public void reset(Canvas canvas) {\n        this.canvas = canvas;\n        \n        Rect tmp = this.canvas.getClipBounds();\n        this.canvas.setMatrix(identityMatrix);\n        // setMatrix changes the clipping too\n        this.canvas.clipRect(tmp, Region.Op.REPLACE);\n        clip = this.canvas.getClipBounds();\n        setFont(Font.getDefaultFont());\n    }\n    \n    public Canvas getCanvas() {\n        return canvas;\n    }\n    \n    public void setDelegate(GraphicsDelegate delegate) {\n        this.delegate = delegate;\n    }\n\n    public void clipRect(int x, int y, int width, int height) {\n        canvas.clipRect(x, y, x + width, y + height);\n        clip = canvas.getClipBounds();\n        \n        if (delegate != null) {\n            delegate.setClip(clip.left, clip.top, clip.right - clip.left, clip.bottom - clip.top);\n        }\n    }\n\n    public void drawArc(int x, int y, int width, int height, int startAngle, int arcAngle) {\n        RectF rect = new RectF(x, y, x + width, y + height);\n        canvas.drawArc(rect, -startAngle, -arcAngle, false, strokePaint);\n    }\n\n    public void drawImage(Image img, int x, int y, int anchor) {\n        if (delegate != null) {\n            delegate.drawImage(img, x, y, anchor);\n        } else {\n            int newx = x;\n            int newy = y;\n    \n            if (anchor == 0) {\n                anchor = javax.microedition.lcdui.Graphics.TOP | javax.microedition.lcdui.Graphics.LEFT;\n            }\n    \n            if ((anchor &amp; javax.microedition.lcdui.Graphics.RIGHT) != 0) {\n                newx -= img.getWidth();\n            } else if ((anchor &amp; javax.microedition.lcdui.Graphics.HCENTER) != 0) {\n                newx -= img.getWidth() / 2;\n            }\n            if ((anchor &amp; javax.microedition.lcdui.Graphics.BOTTOM) != 0) {\n                newy -= img.getHeight();\n            } else if ((anchor &amp; javax.microedition.lcdui.Graphics.VCENTER) != 0) {\n                newy -= img.getHeight() / 2;\n            }\n    \n            if (img.isMutable()) {\n                canvas.drawBitmap(((AndroidMutableImage) img).getBitmap(), newx, newy, strokePaint);\n            } else {\n                canvas.drawBitmap(((AndroidImmutableImage) img).getBitmap(), newx, newy, strokePaint);\n            }\n        }\n    }\n\n    public void drawLine(int x1, int y1, int x2, int y2) {\n        if (delegate != null) {\n            delegate.drawLine(x1, y1, x2, y2);\n        } else {\n            if (x1 == x2) {\n                canvas.drawLine(x1, y1, x2, y2 + 1, strokePaint);\n            } else if (y1 == y2) {\n                canvas.drawLine(x1, y1, x2 + 1, y2, strokePaint);\n            } else { \n                canvas.drawLine(x1, y1, x2 + 1, y2 + 1, strokePaint);\n            }\n        }\n    }\n\n    public void drawRect(int x, int y, int width, int height) {\n        if (delegate != null) {\n            delegate.drawRect(x, y, width, height);\n        } else {\n            canvas.drawRect(x, y, x + width, y + height, strokePaint);\n        }\n    }\n\n    public void drawRoundRect(int x, int y, int width, int height, int arcWidth, int arcHeight) {\n        canvas.drawRoundRect(new RectF(x, y, x + width, y + height), (float) arcWidth, (float) arcHeight, strokePaint);\n   }\n\n    public void drawString(String str, int x, int y, int anchor) {\n        drawSubstring(str, 0, str.length(), x, y, anchor);\n    }\n\n    public void drawSubstring(String str, int offset, int len, int x, int y, int anchor) {\n        int newx = x;\n        int newy = y;\n\n        if (anchor == 0) {\n            anchor = javax.microedition.lcdui.Graphics.TOP | javax.microedition.lcdui.Graphics.LEFT;\n        }\n        \n        if ((anchor &amp; javax.microedition.lcdui.Graphics.TOP) != 0) {\n            newy -= androidFont.metrics.ascent;\n        } else if ((anchor &amp; javax.microedition.lcdui.Graphics.BOTTOM) != 0) {\n            newy -= androidFont.metrics.descent;\n        }\n        if ((anchor &amp; javax.microedition.lcdui.Graphics.HCENTER) != 0) {\n            newx -= androidFont.paint.measureText(str) / 2;\n        } else if ((anchor &amp; javax.microedition.lcdui.Graphics.RIGHT) != 0) {\n            newx -= androidFont.paint.measureText(str);\n        }\n\n        androidFont.paint.setColor(strokePaint.getColor());\n\n        if (delegate != null) {\n            delegate.drawSubstringDelegate(str, offset, len, newx, newy, anchor);\n        } else {    \n            canvas.drawText(str, offset, len + offset, newx, newy, androidFont.paint);\n        }\n    }\n\n    public void fillArc(int x, int y, int width, int height, int startAngle, int arcAngle) {\n        RectF rect = new RectF(x, y, x + width, y + height);\n        canvas.drawArc(rect, -startAngle, -arcAngle, true, fillPaint);\n    }\n\n    public void fillRect(int x, int y, int width, int height) {\n        if (delegate != null) {\n            delegate.fillRect(x, y, width, height);\n        } else {\n            canvas.drawRect(x, y, x + width, y + height, fillPaint);\n        }\n    }\n\n    public void fillRoundRect(int x, int y, int width, int height, int arcWidth, int arcHeight) {\n        canvas.drawRoundRect(new RectF(x, y, x + width, y + height), (float) arcWidth, (float) arcHeight, fillPaint);\n    }\n\n    public int getClipHeight() {\n        return clip.bottom - clip.top;\n    }\n\n    public int getClipWidth() {\n        return clip.right - clip.left;\n    }\n\n    public int getClipX() {\n        return clip.left;\n    }\n\n    public int getClipY() {\n        return clip.top;\n    }\n\n    public int getColor() {\n        return strokePaint.getColor();\n    }\n\n    public Font getFont() {\n        return font;\n    }\n    \n    public int getStrokeStyle() {\n        return strokeStyle;\n    }\n\n    public void setClip(int x, int y, int width, int height) {\n        if (x == clip.left &amp;&amp; x + width == clip.right &amp;&amp; y == clip.top &amp;&amp; y + height == clip.bottom) {\n            return;\n        }\n\n        if (delegate != null) {\n            delegate.setClip(x, y, width, height);\n        }\n\n        clip.left = x;\n        clip.top = y;\n        clip.right = x + width;\n        clip.bottom = y + height;\n        canvas.clipRect(clip, Region.Op.REPLACE);\n    }\n\n    public void setColor(int RGB) {\n        strokePaint.setColor(0xff000000 | RGB);\n        fillPaint.setColor(0xff000000 | RGB);\n    }\n\n    public void setFont(Font font) {\n        this.font = font;\n        \n        androidFont = AndroidFontManager.getFont(font);\n\n    }\n    \n    public void setStrokeStyle(int style) {\n        if (style != SOLID &amp;&amp; style != DOTTED) {\n            throw new IllegalArgumentException();\n        }\n        \n        this.strokeStyle = style;\n        \n        if (style == SOLID) {\n            strokePaint.setPathEffect(null);\n            fillPaint.setPathEffect(null);\n        } else { // DOTTED\n            strokePaint.setPathEffect(dashPathEffect);\n            fillPaint.setPathEffect(dashPathEffect);\n        }\n    }\n\n    public void translate(int x, int y) {\n        if (delegate != null) {\n            delegate.translate(x, y);\n        } else {\n            canvas.translate(x, y);\n        }\n            \n        super.translate(x, y);\n            \n        clip.left -= x;\n        clip.right -= x;\n        clip.top -= y;\n        clip.bottom -= y;\n    }\n\n    public void drawRegion(Image src, int x_src, int y_src, int width,\n            int height, int transform, int x_dst, int y_dst, int anchor) {\n        // may throw NullPointerException, this is ok\n        if (x_src + width &gt; src.getWidth() || y_src + height &gt; src.getHeight() || width &lt; 0 || height &lt; 0 || x_src &lt; 0\n                || y_src &lt; 0)\n            throw new IllegalArgumentException(&quot;Area out of Image&quot;);\n\n        // this cannot be done on the same image we are drawing\n        // check this if the implementation of getGraphics change so\n        // as to return different Graphic Objects on each call to\n        // getGraphics\n        if (src.isMutable() &amp;&amp; src.getGraphics() == this)\n            throw new IllegalArgumentException(&quot;Image is source and target&quot;);\n\n        Bitmap img;\n        if (src.isMutable()) {\n            img = ((AndroidMutableImage) src).getBitmap();\n        } else {\n            img = ((AndroidImmutableImage) src).getBitmap();\n        }            \n\n        tmpMatrix.reset();\n        int dW = width, dH = height;\n        switch (transform) {\n        case Sprite.TRANS_NONE: {\n            break;\n        }\n        case Sprite.TRANS_ROT90: {\n            tmpMatrix.preRotate(90);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            dW = height;\n            dH = width;\n            break;\n        }\n        case Sprite.TRANS_ROT180: {\n            tmpMatrix.preRotate(180);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            break;\n        }\n        case Sprite.TRANS_ROT270: {\n            tmpMatrix.preRotate(270);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            dW = height;\n            dH = width;\n            break;\n        }\n        case Sprite.TRANS_MIRROR: {\n            tmpMatrix.preScale(-1, 1);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            break;\n        }\n        case Sprite.TRANS_MIRROR_ROT90: {\n            tmpMatrix.preScale(-1, 1);\n            tmpMatrix.preRotate(-90);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            dW = height;\n            dH = width;\n            break;\n        }\n        case Sprite.TRANS_MIRROR_ROT180: {\n            tmpMatrix.preScale(-1, 1);\n            tmpMatrix.preRotate(-180);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            break;\n        }\n        case Sprite.TRANS_MIRROR_ROT270: {\n            tmpMatrix.preScale(-1, 1);\n            tmpMatrix.preRotate(-270);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            dW = height;\n            dH = width;\n            break;\n        }\n        default:\n            throw new IllegalArgumentException(&quot;Bad transform&quot;);\n        }\n\n        // process anchor and correct x and y _dest\n        // vertical\n        boolean badAnchor = false;\n\n        if (anchor == 0) {\n            anchor = TOP | LEFT;\n        }\n\n        if ((anchor &amp; 0x7f) != anchor || (anchor &amp; BASELINE) != 0)\n            badAnchor = true;\n\n        if ((anchor &amp; TOP) != 0) {\n            if ((anchor &amp; (VCENTER | BOTTOM)) != 0)\n                badAnchor = true;\n        } else if ((anchor &amp; BOTTOM) != 0) {\n            if ((anchor &amp; VCENTER) != 0)\n                badAnchor = true;\n            else {\n                y_dst -= dH - 1;\n            }\n        } else if ((anchor &amp; VCENTER) != 0) {\n            y_dst -= (dH - 1) &gt;&gt;&gt; 1;\n        } else {\n            // no vertical anchor\n            badAnchor = true;\n        }\n\n        // horizontal\n        if ((anchor &amp; LEFT) != 0) {\n            if ((anchor &amp; (HCENTER | RIGHT)) != 0)\n                badAnchor = true;\n        } else if ((anchor &amp; RIGHT) != 0) {\n            if ((anchor &amp; HCENTER) != 0)\n                badAnchor = true;\n            else {\n                x_dst -= dW - 1;\n            }\n        } else if ((anchor &amp; HCENTER) != 0) {\n            x_dst -= (dW - 1) &gt;&gt;&gt; 1;\n        } else {\n            // no horizontal anchor\n            badAnchor = true;\n        }\n\n        if (badAnchor) {\n            throw new IllegalArgumentException(&quot;Bad Anchor&quot;);\n        }\n         \n        tmpRect.left = x_src;\n        tmpRect.top = y_src;\n        tmpRect.right = x_src + width;\n        tmpRect.bottom = y_src + height;\n        tmpRectSecond.left = x_dst;\n        tmpRectSecond.top = y_dst;\n        tmpRectSecond.right = x_dst + width;\n        tmpRectSecond.bottom = y_dst + height;\n        \n        if (delegate != null) {\n            delegate.drawRegionDelegate(img, tmpRect, tmpRectSecond);\n        } else {\n            canvas.drawBitmap(img, tmpRect, tmpRectSecond, strokePaint);\n        }\n    }\n\n    public void drawRGB(int[] rgbData, int offset, int scanlength, int x,\n            int y, int width, int height, boolean processAlpha) {\n        if (rgbData == null)\n            throw new NullPointerException();\n\n        if (width == 0 || height == 0) {\n            return;\n        }\n\n        int l = rgbData.length;\n        if (width &lt; 0 || height &lt; 0 || offset &lt; 0 || offset &gt;= l || (scanlength &lt; 0 &amp;&amp; scanlength * (height - 1) &lt; 0)\n                || (scanlength &gt;= 0 &amp;&amp; scanlength * (height - 1) + width - 1 &gt;= l)) {\n            throw new ArrayIndexOutOfBoundsException();\n        }\n        \n        // MIDP allows almost any value of scanlength, drawBitmap is more strict with the stride\n        if (scanlength == 0) {\n            scanlength = width;\n        }\n        int rows = rgbData.length / scanlength;\n        if (rows &lt; height) {\n            height = rows;\n        }\n        \n        canvas.drawBitmap(rgbData, offset, scanlength, x, y, width, height, processAlpha, strokePaint);\n    }\n\n    public void fillTriangle(int x1, int y1, int x2, int y2, int x3, int y3) {\n        if (delegate != null) {\n            delegate.fillTriangle(x1, y1, x2, y2, x3, y3);\n        } else {\n            Path path = new Path();\n            path.moveTo(x1, y1);\n            path.lineTo(x2, y2);\n            path.lineTo(x3, y3);\n            path.lineTo(x1, y1);\n            canvas.drawPath(path, fillPaint);\n        }\n    }\n\n    public void copyArea(int x_src, int y_src, int width, int height,\n            int x_dest, int y_dest, int anchor) {\n        Logger.debug(&quot;copyArea&quot;);\n    }\n\n    public int getDisplayColor(int color) {\n        Logger.debug(&quot;getDisplayColor&quot;);\n\n        return -1;\n    }\n    \n}\n</code></pre>\n<p>logcat shows as follows:</p>\n<pre><code>10-10 19:26:13.970 D/AndroidRuntime(20484): Shutting down VM\n10-10 19:26:13.971 E/AndroidRuntime(20484): FATAL EXCEPTION: main\n10-10 19:26:13.971 E/AndroidRuntime(20484): Process: org.microemu.android.ketabche.QuranSearch, PID: 20484\n10-10 19:26:13.971 E/AndroidRuntime(20484): java.lang.IllegalArgumentException: Invalid Region.Op - only INTERSECT and DIFFERENCE are allowed\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.graphics.Canvas.checkValidClipOp(Canvas.java:779)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.graphics.Canvas.clipRect(Canvas.java:826)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at org.microemu.android.device.AndroidDisplayGraphics.reset(AndroidDisplayGraphics.java:101)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at org.microemu.android.device.ui.AndroidCanvasUI$CanvasView.onDraw(AndroidCanvasUI.java:225)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.draw(View.java:20207)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.updateDisplayListIfDirty(View.java:19082)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.draw(View.java:19935)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.drawChild(ViewGroup.java:4333)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.updateDisplayListIfDirty(View.java:19073)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.draw(View.java:19935)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.drawChild(ViewGroup.java:4333)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.updateDisplayListIfDirty(View.java:19073)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.draw(View.java:19935)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.drawChild(ViewGroup.java:4333)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.draw(View.java:20210)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at com.android.internal.policy.DecorView.draw(DecorView.java:780)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.updateDisplayListIfDirty(View.java:19082)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:686)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:692)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:801)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewRootImpl.draw(ViewRootImpl.java:3318)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:3122)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2481)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1463)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7190)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.Choreographer.doCallbacks(Choreographer.java:761)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.Choreographer.doFrame(Choreographer.java:696)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.os.Handler.handleCallback(Handler.java:873)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.os.Handler.dispatchMessage(Handler.java:99)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.os.Looper.loop(Looper.java:193)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.app.ActivityThread.main(ActivityThread.java:6718)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at java.lang.reflect.Method.invoke(Native Method)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n10-10 19:26:13.973 W/s.nexuslaunche( 6826): resources.arsc in APK '/data/app/com.UCMobile.intl-ZgwYkgY4BszTYcMmkf6BuQ==/base.apk' is compressed.\n10-10 19:26:13.975 W/ActivityManager( 1206):   Force finishing activity org.microemu.android.ketabche.QuranSearch/org.microemu.android.MicroEmulator\n10-10 19:26:13.979 D/        (  800): ipc_resp_thread: opcode: 0x2, payload_size: 4, resp_buf size\n</code></pre>\n<p>all experts are requested to help fixing this issue and thanks in advance</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8101,"page":1891,"page_size":100}
