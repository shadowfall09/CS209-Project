{"items":[{"tags":["java","spring","spring-data-jpa","spring-transactions"],"comments":[{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1603363744,"post_id":64480112,"comment_id":114016721,"body_markdown":"I suppose that it is `PagingAndSortingRepositoryInvoker`.","body":"I suppose that it is <code>PagingAndSortingRepositoryInvoker</code>."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661839829,"creation_date":1603371628,"answer_id":64482805,"question_id":64480112,"body_markdown":"The implementation for the methods declared in the `PagingAndSortingRepository` are defined in `SimpleJpaRepository`.\r\n\r\nIf all what you want to do within a transaction is handled by a single repository call you don&#39;t need any extra `@Transactional`, but typically you do want the transaction to cover more then one call or at least a load operation and the manipulation of an entity afterwards. In those cases you would typically use a method annotated with `@Transactional`. But you could also use for example a `TranactionTemplate` which can be nice for example in certain kind of tests.\r\n\r\n","title":"What implementation will be used for PagingAndSortingRepository in runtime?","body":"<p>The implementation for the methods declared in the <code>PagingAndSortingRepository</code> are defined in <code>SimpleJpaRepository</code>.</p>\n<p>If all what you want to do within a transaction is handled by a single repository call you don't need any extra <code>@Transactional</code>, but typically you do want the transaction to cover more then one call or at least a load operation and the manipulation of an entity afterwards. In those cases you would typically use a method annotated with <code>@Transactional</code>. But you could also use for example a <code>TranactionTemplate</code> which can be nice for example in certain kind of tests.</p>\n"}],"owner":{"account_id":19735537,"reputation":55,"user_id":14450120,"display_name":"Konstantin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":64482805,"answer_count":1,"score":1,"last_activity_date":1661839829,"creation_date":1603361660,"question_id":64480112,"body_markdown":"I&#39;m a bit confused with Spring Data JPA. Could anybody explain the following?\r\n\r\nLet&#39;s imagine I have the interface\r\n```\r\n@Repository\r\npublic interface UserRepository extends PagingAndSortingRepository&lt;User, Long&gt; {\r\n}\r\n```\r\nWhat exactly the implementation of `PagingAndSortingRepository` will be used in runtime?\r\n\r\nAnd I need to put `@Transactional` annotation on class or methods that will be using this repository?","title":"What implementation will be used for PagingAndSortingRepository in runtime?","body":"<p>I'm a bit confused with Spring Data JPA. Could anybody explain the following?</p>\n<p>Let's imagine I have the interface</p>\n<pre><code>@Repository\npublic interface UserRepository extends PagingAndSortingRepository&lt;User, Long&gt; {\n}\n</code></pre>\n<p>What exactly the implementation of <code>PagingAndSortingRepository</code> will be used in runtime?</p>\n<p>And I need to put <code>@Transactional</code> annotation on class or methods that will be using this repository?</p>\n"},{"tags":["java","hibernate","date","spring-mvc"],"comments":[{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":1,"creation_date":1661752772,"post_id":73524447,"comment_id":129837454,"body_markdown":"what is your DB server Timezone? Compare with your pc&#39;s timezone","body":"what is your DB server Timezone? Compare with your pc&#39;s timezone"},{"owner":{"account_id":21067947,"reputation":1,"user_id":15484742,"display_name":"Angel De Jesus"},"score":0,"creation_date":1661756977,"post_id":73524447,"comment_id":129838610,"body_markdown":"I&#39;ve solved!, It was related with the Timezone.The timezone on my pc was right, the issue was the configuration on the jdbc.url. I was using serverTimezone=UTC, Im from Mexico so i needed to use CST. adding serverTimezone=CST to jdbc.url solved my issue. I hope this helps someone in the future. TY","body":"I&#39;ve solved!, It was related with the Timezone.The timezone on my pc was right, the issue was the configuration on the jdbc.url. I was using serverTimezone=UTC, Im from Mexico so i needed to use CST. adding serverTimezone=CST to jdbc.url solved my issue. I hope this helps someone in the future. TY"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1661796210,"post_id":73524447,"comment_id":129851897,"body_markdown":"I strongly recommend you don’t use `Date`. That class is poorly designed and long outdated. Instead use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). Here *local*  means without time zone, so this will automatically eliminate your time zone problem.","body":"I strongly recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. Instead use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Here <i>local</i>  means without time zone, so this will automatically eliminate your time zone problem."}],"answers":[{"tags":[],"owner":{"account_id":21067947,"reputation":1,"user_id":15484742,"display_name":"Angel De Jesus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661839650,"creation_date":1661757447,"answer_id":73525302,"question_id":73524447,"body_markdown":"I&#39;ve solved!, It was related with the Timezone.The timezone on my pc was right, the issue was the configuration on the jdbc.url. I was using serverTimezone=UTC, Im from Mexico so i needed to use CST. adding serverTimezone=CST to jdbc.url solved my issue. I hope this helps someone in the future. TY\r\n\r\nChange\r\n\r\n    jdbc.url=jdbc:mysql://localhost:3306/sge?useSSL=false&amp;serverTimezone=UTC&amp;allowPublicKeyRetrieval=true&amp;zeroDateTimeBehavior=convertToNull\r\n\r\nTo\r\n\r\n    jdbc.url=jdbc:mysql://localhost:3306/sge?useSSL=false&amp;serverTimezone=CST&amp;allowPublicKeyRetrieval=true&amp;zeroDateTimeBehavior=convertToNull","title":"Hibernate getting and saving a date with an extra day than the record on the database","body":"<p>I've solved!, It was related with the Timezone.The timezone on my pc was right, the issue was the configuration on the jdbc.url. I was using serverTimezone=UTC, Im from Mexico so i needed to use CST. adding serverTimezone=CST to jdbc.url solved my issue. I hope this helps someone in the future. TY</p>\n<p>Change</p>\n<pre><code>jdbc.url=jdbc:mysql://localhost:3306/sge?useSSL=false&amp;serverTimezone=UTC&amp;allowPublicKeyRetrieval=true&amp;zeroDateTimeBehavior=convertToNull\n</code></pre>\n<p>To</p>\n<pre><code>jdbc.url=jdbc:mysql://localhost:3306/sge?useSSL=false&amp;serverTimezone=CST&amp;allowPublicKeyRetrieval=true&amp;zeroDateTimeBehavior=convertToNull\n</code></pre>\n"}],"owner":{"account_id":21067947,"reputation":1,"user_id":15484742,"display_name":"Angel De Jesus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661839650,"creation_date":1661751074,"question_id":73524447,"body_markdown":"Im having an issue when I fetch data from the DB with HIBERNATE and SpringMVC, everything works fine except for the dates. When I fetch a field of Date type, I receive the date but with a previous day.\r\n\r\nFor example, Im fetching the date as &quot;**2022-08-28**&quot;, but im receiving &quot;**2022-08-27**&quot;\r\n\r\nAlso have an issue when I update the data, Hibernate saves on the next day that the date that is stored on the DB.\r\n\r\nOn the same example Im fetching the date as &quot;**2022-08-28**&quot;, but when saving the record appears as  &quot;**2022-08-29**&quot;\r\n\r\nThis is my architechture\r\n\r\nEntity\r\n\r\n    @Entity\r\n    @Table(name = &quot;cliente_tickets&quot;)\r\n    public class ClienteTicket {\r\n    \r\n        ... other fields...\r\n\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    \t@Temporal(TemporalType.DATE)\r\n        @Column(name = &quot;created_on&quot;)\r\n        private Date createdOn;\r\n\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        @Temporal(TemporalType.DATE)\r\n        @Column(name = &quot;updated_on&quot;)\r\n        private Date updatedOn;\r\n\r\n       ... other GettersAndSetters...\r\n\r\n       public Date getCreatedOn() {\r\n\t\treturn createdOn;\r\n\t   }\r\n\r\n       public void setCreatedOn(Date createdOn) {\r\n\t   \tthis.createdOn = createdOn;\r\n       }\r\n\r\n       public Date getUpdatedOn() {\r\n\t    return updatedOn;\r\n       }\r\n\r\n       public void setUpdatedOn(Date updatedOn) {\r\n   \t    this.updatedOn = updatedOn;\r\n       }\r\n\r\n    }\r\n\r\nThis is the method in my DAO\r\n\r\n    @Override\r\n    \tpublic ClienteTicket buscarId(long id) {\r\n    \t\ttry {\r\n            \treturn sessionFactory.getCurrentSession().createQuery(&quot;from ClienteTicket ct where ct.idTicket = :id&quot;, ClienteTicket.class)\r\n            \t\t\t.setParameter(&quot;id&quot;, id).getSingleResult(); \r\n            } catch (NoResultException e) {\r\n                return null;\r\n            }\r\n    \t}\r\n\r\nThis is the Service\r\n\r\n    @Override\r\n    \t@Transactional\r\n    \tpublic void guardar(ClienteTicket clienteTicket) {\r\n    \t\tif (clienteTicket.getCreatedBy() == null || clienteTicket.getCreatedBy().length() == 0) {\r\n    \t\t\tclienteTicket.setCreatedOn(new Date());\r\n    \t\t\tclienteTicket.setCreatedBy(Utilidades.currentUser());\r\n    \t\t} else {\r\n    \t\t\tclienteTicket.setUpdatedOn(new Date());\r\n    \t\t\tclienteTicket.setUpdatedBy(Utilidades.currentUser());\r\n    \t\t}\r\n    \t\tthis.clienteTicketDao.guardar(clienteTicket);\r\n    \t}\r\n\r\nThis is my controller for fetching the Object\r\n\r\n    @GetMapping(&quot;/editar&quot;)\r\n    \tModelAndView editar(@RequestParam(&quot;id&quot;) String id) throws ParseException {\r\n    \t\tClienteTicket ticket = this.ticketsService.buscarId(Long.parseLong(id));\r\n    \t\tsuper.mv = new ModelAndView(&quot;/cliente/ticket_formulario&quot;);\r\n    \t\tsuper.mv.addObject(&quot;clienteEncontrado&quot;, true);\r\n    \t\tsuper.mv.addObject(&quot;editar&quot;, true);\r\n    \t\tsuper.mv.addObject(&quot;clienteTicket&quot;, ticket);\r\n    \t\tsuper.mv.addObject(&quot;idClienteActual&quot;, ticket.getCliente().getIdCliente());\r\n    \t\tsuper.mv.addObject(&quot;estadosIncidencia&quot;, this.ticketEstadosService.listar());\r\n    \t\tsuper.mv.addObject(&quot;tiposIncidencia&quot;, this.ticketTiposService.listar());\r\n    \t\tsuper.mv.addObject(&quot;titulo&quot;, &quot;Tickets&quot;);\r\n    \t\t//this.ticketsService.guardar(ticket);\r\n    \t\treturn super.mv;\r\n    \t}\r\n\r\nWhen I Debug I get this [JAVA_DEBUG][1]\r\n\r\nThese are the properties of the DB [TABLE_PROPERTIES][2]\r\n\r\nCurrent data on DB [DATA_TABLE][3]\r\n\r\nDate in JSP is hidden [DATA_JSP][4]\r\n\r\nHTML [EDGE_DEVTOOLS][5]\r\n\r\nOther data is fetched correctly [OTHER_DATA][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XGBWB.png\r\n  [2]: https://i.stack.imgur.com/QgJeT.png\r\n  [3]: https://i.stack.imgur.com/GwJYZ.png\r\n  [4]: https://i.stack.imgur.com/rNfq3.png\r\n  [5]: https://i.stack.imgur.com/UJs3g.png\r\n  [6]: https://i.stack.imgur.com/L1w1b.png","title":"Hibernate getting and saving a date with an extra day than the record on the database","body":"<p>Im having an issue when I fetch data from the DB with HIBERNATE and SpringMVC, everything works fine except for the dates. When I fetch a field of Date type, I receive the date but with a previous day.</p>\n<p>For example, Im fetching the date as &quot;<strong>2022-08-28</strong>&quot;, but im receiving &quot;<strong>2022-08-27</strong>&quot;</p>\n<p>Also have an issue when I update the data, Hibernate saves on the next day that the date that is stored on the DB.</p>\n<p>On the same example Im fetching the date as &quot;<strong>2022-08-28</strong>&quot;, but when saving the record appears as  &quot;<strong>2022-08-29</strong>&quot;</p>\n<p>This is my architechture</p>\n<p>Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;cliente_tickets&quot;)\npublic class ClienteTicket {\n\n    ... other fields...\n\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;created_on&quot;)\n    private Date createdOn;\n\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;updated_on&quot;)\n    private Date updatedOn;\n\n   ... other GettersAndSetters...\n\n   public Date getCreatedOn() {\n    return createdOn;\n   }\n\n   public void setCreatedOn(Date createdOn) {\n    this.createdOn = createdOn;\n   }\n\n   public Date getUpdatedOn() {\n    return updatedOn;\n   }\n\n   public void setUpdatedOn(Date updatedOn) {\n    this.updatedOn = updatedOn;\n   }\n\n}\n</code></pre>\n<p>This is the method in my DAO</p>\n<pre><code>@Override\n    public ClienteTicket buscarId(long id) {\n        try {\n            return sessionFactory.getCurrentSession().createQuery(&quot;from ClienteTicket ct where ct.idTicket = :id&quot;, ClienteTicket.class)\n                    .setParameter(&quot;id&quot;, id).getSingleResult(); \n        } catch (NoResultException e) {\n            return null;\n        }\n    }\n</code></pre>\n<p>This is the Service</p>\n<pre><code>@Override\n    @Transactional\n    public void guardar(ClienteTicket clienteTicket) {\n        if (clienteTicket.getCreatedBy() == null || clienteTicket.getCreatedBy().length() == 0) {\n            clienteTicket.setCreatedOn(new Date());\n            clienteTicket.setCreatedBy(Utilidades.currentUser());\n        } else {\n            clienteTicket.setUpdatedOn(new Date());\n            clienteTicket.setUpdatedBy(Utilidades.currentUser());\n        }\n        this.clienteTicketDao.guardar(clienteTicket);\n    }\n</code></pre>\n<p>This is my controller for fetching the Object</p>\n<pre><code>@GetMapping(&quot;/editar&quot;)\n    ModelAndView editar(@RequestParam(&quot;id&quot;) String id) throws ParseException {\n        ClienteTicket ticket = this.ticketsService.buscarId(Long.parseLong(id));\n        super.mv = new ModelAndView(&quot;/cliente/ticket_formulario&quot;);\n        super.mv.addObject(&quot;clienteEncontrado&quot;, true);\n        super.mv.addObject(&quot;editar&quot;, true);\n        super.mv.addObject(&quot;clienteTicket&quot;, ticket);\n        super.mv.addObject(&quot;idClienteActual&quot;, ticket.getCliente().getIdCliente());\n        super.mv.addObject(&quot;estadosIncidencia&quot;, this.ticketEstadosService.listar());\n        super.mv.addObject(&quot;tiposIncidencia&quot;, this.ticketTiposService.listar());\n        super.mv.addObject(&quot;titulo&quot;, &quot;Tickets&quot;);\n        //this.ticketsService.guardar(ticket);\n        return super.mv;\n    }\n</code></pre>\n<p>When I Debug I get this <a href=\"https://i.stack.imgur.com/XGBWB.png\" rel=\"nofollow noreferrer\">JAVA_DEBUG</a></p>\n<p>These are the properties of the DB <a href=\"https://i.stack.imgur.com/QgJeT.png\" rel=\"nofollow noreferrer\">TABLE_PROPERTIES</a></p>\n<p>Current data on DB <a href=\"https://i.stack.imgur.com/GwJYZ.png\" rel=\"nofollow noreferrer\">DATA_TABLE</a></p>\n<p>Date in JSP is hidden <a href=\"https://i.stack.imgur.com/rNfq3.png\" rel=\"nofollow noreferrer\">DATA_JSP</a></p>\n<p>HTML <a href=\"https://i.stack.imgur.com/UJs3g.png\" rel=\"nofollow noreferrer\">EDGE_DEVTOOLS</a></p>\n<p>Other data is fetched correctly <a href=\"https://i.stack.imgur.com/L1w1b.png\" rel=\"nofollow noreferrer\">OTHER_DATA</a></p>\n"},{"tags":["java","neo4j","spring-data","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661839127,"creation_date":1661839127,"answer_id":73537744,"question_id":73489008,"body_markdown":"You can make use of projections in Spring Data Neo4j. (https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#projections)\r\nThis gives you the option to put a &quot;mask&quot; on the object tree, you want to persist (and what should stay untouched).\r\n\r\nFor example in your case:\r\n\r\n```\r\ninterface ProductProjection {\r\n  // without defining e.g. String getName() here, SDN would not ever touch this property.\r\n  List&lt;BatteryProjection&gt; getBatteryList();\r\n  List&lt;ProductFamilyProjection&gt; getProductFamilyList();\r\n}\r\ninterface BatteryProjection {\r\n  String getName();\r\n}\r\ninterface ProductFamilyProjection {\r\n  String getName();\r\n}\r\n```","title":"Spring Data Neo4J reference related nodes without overwriting them on save","body":"<p>You can make use of projections in Spring Data Neo4j. (<a href=\"https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#projections</a>)\nThis gives you the option to put a &quot;mask&quot; on the object tree, you want to persist (and what should stay untouched).</p>\n<p>For example in your case:</p>\n<pre><code>interface ProductProjection {\n  // without defining e.g. String getName() here, SDN would not ever touch this property.\n  List&lt;BatteryProjection&gt; getBatteryList();\n  List&lt;ProductFamilyProjection&gt; getProductFamilyList();\n}\ninterface BatteryProjection {\n  String getName();\n}\ninterface ProductFamilyProjection {\n  String getName();\n}\n</code></pre>\n"}],"owner":{"account_id":1751488,"reputation":818,"user_id":1600472,"accept_rate":60,"display_name":"Crazy Dino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73537744,"answer_count":1,"score":0,"last_activity_date":1661839127,"creation_date":1661436435,"question_id":73489008,"body_markdown":"I&#39;m struggling to write this, so I may have to give an example to help explain the problem I&#39;m experiencing. \r\n\r\nSay we have nodes of three types (these nodes may have more relationships of their own, e.g. Product Family, has product manager):\r\n\r\n - Product\r\n - Product Family\r\n - Battery\r\n\r\nWith these relationships\r\n\r\n - A product can be be in 0 or more families\r\n - A product can have 0 or more batteries.\r\n\r\n\r\nWhen using spring-data-neo4j and saving a new Product, I wish to include these relatiopnships, such as the batteries they require and the product family they belong to. However if I only supply say an ID rather then a fully populated object, it overwrites this object along with properties and relations accordingly.\r\n\r\nThis isn&#39;t great as it means that I have to end up sending a fully populated object, with all it&#39;s relations everytime I wish to save something, and some of these relations may go quite deep.\r\n\r\nMy domain is as follows:\r\n\r\n```\r\n@Node\r\npublic class Product {\r\n\r\n   @Id\r\n   @GeneratedValue(generatorClass = SnowflakeGenerator.class)\r\n   private Long productId;\r\n\r\n   private String name;\r\n\r\n   @Relationship(type = &quot;REQUIRES_BATTERY&quot;, direction = OUTGOING)\r\n   private List&lt;Battery&gt; batteryList;\r\n\r\n   @Relationship(type = &quot;IN_FAMILY&quot;, direction = OUTGOING)\r\n   private List&lt;ProductFamily&gt; productFamilyList;\r\n}\r\n\r\n@Node\r\npublic class Battery {\r\n\r\n   @Id\r\n   @GeneratedValue(generatorClass = SnowflakeGenerator.class)\r\n   private Long batteryId;\r\n\r\n   private String name;\r\n}\r\n\r\n\r\n\r\n@Node\r\npublic class ProductFamily {\r\n\r\n   @Id\r\n   @GeneratedValue(generatorClass = SnowflakeGenerator.class)\r\n   private Long familyId;\r\n\r\n   private String name;\r\n}\r\n\r\n```\r\n\r\nThis could very well by from coming from a Relational Database mindset and is a &#39;limitation&#39; of using Neo4J.\r\n\r\n**TLDR When persisting somethign in Neo4J using spring-data how can I save just a relationship, rather than a whole related Node.**","title":"Spring Data Neo4J reference related nodes without overwriting them on save","body":"<p>I'm struggling to write this, so I may have to give an example to help explain the problem I'm experiencing.</p>\n<p>Say we have nodes of three types (these nodes may have more relationships of their own, e.g. Product Family, has product manager):</p>\n<ul>\n<li>Product</li>\n<li>Product Family</li>\n<li>Battery</li>\n</ul>\n<p>With these relationships</p>\n<ul>\n<li>A product can be be in 0 or more families</li>\n<li>A product can have 0 or more batteries.</li>\n</ul>\n<p>When using spring-data-neo4j and saving a new Product, I wish to include these relatiopnships, such as the batteries they require and the product family they belong to. However if I only supply say an ID rather then a fully populated object, it overwrites this object along with properties and relations accordingly.</p>\n<p>This isn't great as it means that I have to end up sending a fully populated object, with all it's relations everytime I wish to save something, and some of these relations may go quite deep.</p>\n<p>My domain is as follows:</p>\n<pre><code>@Node\npublic class Product {\n\n   @Id\n   @GeneratedValue(generatorClass = SnowflakeGenerator.class)\n   private Long productId;\n\n   private String name;\n\n   @Relationship(type = &quot;REQUIRES_BATTERY&quot;, direction = OUTGOING)\n   private List&lt;Battery&gt; batteryList;\n\n   @Relationship(type = &quot;IN_FAMILY&quot;, direction = OUTGOING)\n   private List&lt;ProductFamily&gt; productFamilyList;\n}\n\n@Node\npublic class Battery {\n\n   @Id\n   @GeneratedValue(generatorClass = SnowflakeGenerator.class)\n   private Long batteryId;\n\n   private String name;\n}\n\n\n\n@Node\npublic class ProductFamily {\n\n   @Id\n   @GeneratedValue(generatorClass = SnowflakeGenerator.class)\n   private Long familyId;\n\n   private String name;\n}\n\n</code></pre>\n<p>This could very well by from coming from a Relational Database mindset and is a 'limitation' of using Neo4J.</p>\n<p><strong>TLDR When persisting somethign in Neo4J using spring-data how can I save just a relationship, rather than a whole related Node.</strong></p>\n"},{"tags":["java","android","sqlite","kotlin"],"comments":[{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1661813788,"post_id":73535270,"comment_id":129856365,"body_markdown":"Is it a compilation error or a runtime error? What is the error message?","body":"Is it a compilation error or a runtime error? What is the error message?"},{"owner":{"account_id":21526979,"reputation":1,"user_id":15867077,"display_name":"Swerve"},"score":0,"creation_date":1661819711,"post_id":73535270,"comment_id":129857129,"body_markdown":"I belive it&#39;s runtime error but the error message :caused by java.lang.classcastexception:\nAndroid. App. Application cannot be cast to com.example.a7minworkout. WorkoutApp\n\nat com.example.a7minworkout. Finish Activity.on create(Finish. Activity.kt:31)","body":"I belive it&#39;s runtime error but the error message :caused by java.lang.classcastexception: Android. App. Application cannot be cast to com.example.a7minworkout. WorkoutApp  at com.example.a7minworkout. Finish Activity.on create(Finish. Activity.kt:31)"}],"owner":{"account_id":21526979,"reputation":1,"user_id":15867077,"display_name":"Swerve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661838825,"creation_date":1661812002,"question_id":73535270,"body_markdown":"I&#39;m trying to store data to my SQLite database but whenever I  run the code  an error occurs specifically on line 37: as the Logcat demonstrates :\r\n```\r\n     &quot;Caused by: java.lang.ClassCastException: android.app.Application cannot be cast to com.example.a7minworkout.WorkoutApp\r\n        at com.example.a7minworkout.FinishActivity.onCreate(FinishActivity.kt:37)&quot;\r\n ```\r\nand this is the code line :\r\n```\r\n    Val do = (application as WorkoutApp).db.history do()\r\n    addDateToDatabase(dao)\r\n```\r\nwhenever I comment on this line the project runs fine but I won&#39;t be able to store data in my database, but I&#39;m sure the problem is in this line\r\nclass FinishActivity : AppCompatActivity() {\r\n    private var binding: ActivityFinishBinding? = null\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityFinishBinding.inflate(layoutInflater)\r\n        setContentView(binding?.root)\r\n        setSupportActionBar(binding?.toolbarFinishActivity)\r\n        if (supportActionBar != null) {\r\n            supportActionBar?.setDisplayHomeAsUpEnabled(true)\r\n        }\r\n        binding?.toolbarFinishActivity?.setNavigationOnClickListener {\r\n            onBackPressed()\r\n        }\r\n\r\n        binding?.btnFinish?.setOnClickListener {\r\n            finish()\r\n\r\n        }\r\n//error from this line as Logcat shows Line:31\r\n\r\n        val dao = (application as WorkoutApp).db.historyDao()\r\n        addDateToDatabase(dao)\r\n\r\n    }\r\n\r\n    // START\r\n\r\n    private fun addDateToDatabase(historyDao: HistoryDao) {\r\n\r\n        val calendar = Calendar.getInstance() // Calendars Current Instance\r\n        val dateTime = calendar.time // Current Date and Time of the system.\r\n        Log.e(&quot;Date : &quot;, &quot;&quot; + dateTime) // Printed in the log.\r\n\r\n        val sdf = SimpleDateFormat(&quot;dd MMM yyyy HH:mm:ss&quot;, Locale.getDefault()) // Date Formatter\r\n        val date = sdf.format(dateTime) // dateTime is formatted in the given format.\r\n        Log.e(&quot;Formatted Date : &quot;, &quot;&quot; + date) // Formatted date is printed in the log.\r\n        lifecycleScope.launch {\r\n            historyDao.insert(HistoryEntity(date)) // Add date function is called.\r\n            Log.e(\r\n                &quot;Date : &quot;,\r\n                &quot;Added...&quot;\r\n            ) // Printed in log which is printed if the complete execution is done.\r\n        }\r\n    }\r\n    \r\n\r\n*//the workout app code:*\r\n```\r\n class WorkoutApp: Application() {\r\n     val db by lazy {\r\n         HistoryDatabase.getInstance(this)\r\n     }\r\n }\r\n```\r\n\r\n\r\n\r\n","title":"Kotlin Runtime errors ClassCastException: Application","body":"<p>I'm trying to store data to my SQLite database but whenever I  run the code  an error occurs specifically on line 37: as the Logcat demonstrates :</p>\n<pre><code>     &quot;Caused by: java.lang.ClassCastException: android.app.Application cannot be cast to com.example.a7minworkout.WorkoutApp\n        at com.example.a7minworkout.FinishActivity.onCreate(FinishActivity.kt:37)&quot;\n</code></pre>\n<p>and this is the code line :</p>\n<pre><code>    Val do = (application as WorkoutApp).db.history do()\n    addDateToDatabase(dao)\n</code></pre>\n<p>whenever I comment on this line the project runs fine but I won't be able to store data in my database, but I'm sure the problem is in this line\nclass FinishActivity : AppCompatActivity() {\nprivate var binding: ActivityFinishBinding? = null</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    binding = ActivityFinishBinding.inflate(layoutInflater)\n    setContentView(binding?.root)\n    setSupportActionBar(binding?.toolbarFinishActivity)\n    if (supportActionBar != null) {\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\n    }\n    binding?.toolbarFinishActivity?.setNavigationOnClickListener {\n        onBackPressed()\n    }\n\n    binding?.btnFinish?.setOnClickListener {\n        finish()\n\n    }\n</code></pre>\n<p>//error from this line as Logcat shows Line:31</p>\n<pre><code>    val dao = (application as WorkoutApp).db.historyDao()\n    addDateToDatabase(dao)\n\n}\n\n// START\n\nprivate fun addDateToDatabase(historyDao: HistoryDao) {\n\n    val calendar = Calendar.getInstance() // Calendars Current Instance\n    val dateTime = calendar.time // Current Date and Time of the system.\n    Log.e(&quot;Date : &quot;, &quot;&quot; + dateTime) // Printed in the log.\n\n    val sdf = SimpleDateFormat(&quot;dd MMM yyyy HH:mm:ss&quot;, Locale.getDefault()) // Date Formatter\n    val date = sdf.format(dateTime) // dateTime is formatted in the given format.\n    Log.e(&quot;Formatted Date : &quot;, &quot;&quot; + date) // Formatted date is printed in the log.\n    lifecycleScope.launch {\n        historyDao.insert(HistoryEntity(date)) // Add date function is called.\n        Log.e(\n            &quot;Date : &quot;,\n            &quot;Added...&quot;\n        ) // Printed in log which is printed if the complete execution is done.\n    }\n}\n</code></pre>\n<p><em>//the workout app code:</em></p>\n<pre><code> class WorkoutApp: Application() {\n     val db by lazy {\n         HistoryDatabase.getInstance(this)\n     }\n }\n</code></pre>\n"},{"tags":["java","android","kotlin","retrofit2","kanji"],"answers":[{"tags":[],"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661838784,"creation_date":1661838784,"answer_id":73537695,"question_id":73537645,"body_markdown":"Your callback is looking for `list` from API Response, as you used this; ` Callback&lt;List&lt;Kanji&gt;`. \r\n\r\nFirst Observe your API Response, It is `{}` JsonObject, and you casted it into `List` in your API Callback.  \r\n\r\nSo fix this in your API Call like this;\r\n\r\n \r\n\r\n      call.enqueue(object : Callback&lt;Kanji&gt;{\r\n            override fun onResponse(call: Call&lt;Kanji&gt;, response: Response&lt;Kanji&gt;) {\r\n                Log.i(&quot;API&quot;,response.body().toString())\r\n            }\r\n    \r\n            override fun onFailure(call: Call&lt;Kanji&gt;, t: Throwable) {\r\n                t.message?.let { Log.e(&quot;API&quot;, it) }\r\n            }\r\n        })\r\n\r\nalso modify your Interface;\r\n\r\n    @GET(&quot;kanji/蛍&quot;)\r\n    fun getKanji(): Call&lt;Kanji&gt;","title":"retrofit E/API: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $","body":"<p>Your callback is looking for <code>list</code> from API Response, as you used this; <code> Callback&lt;List&lt;Kanji&gt;</code>.</p>\n<p>First Observe your API Response, It is <code>{}</code> JsonObject, and you casted it into <code>List</code> in your API Callback.</p>\n<p>So fix this in your API Call like this;</p>\n<pre><code>  call.enqueue(object : Callback&lt;Kanji&gt;{\n        override fun onResponse(call: Call&lt;Kanji&gt;, response: Response&lt;Kanji&gt;) {\n            Log.i(&quot;API&quot;,response.body().toString())\n        }\n\n        override fun onFailure(call: Call&lt;Kanji&gt;, t: Throwable) {\n            t.message?.let { Log.e(&quot;API&quot;, it) }\n        }\n    })\n</code></pre>\n<p>also modify your Interface;</p>\n<pre><code>@GET(&quot;kanji/蛍&quot;)\nfun getKanji(): Call&lt;Kanji&gt;\n</code></pre>\n"}],"owner":{"account_id":25860868,"reputation":28,"user_id":19593383,"display_name":"Bradboyee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73537695,"answer_count":1,"score":0,"last_activity_date":1661838784,"creation_date":1661838375,"question_id":73537645,"body_markdown":"I can get data form retrofit form this  &lt;https://kanjiapi.dev/#!/&gt;\r\ndata `{&quot;kanji&quot;:&quot;蛍&quot;,&quot;grade&quot;:8,&quot;stroke_count&quot;:11,&quot;meanings&quot;:[&quot;lightning-bug&quot;,&quot;firefly&quot;],&quot;kun_readings&quot;:[&quot;ほたる&quot;],&quot;on_readings&quot;:[&quot;ケイ&quot;],&quot;name_readings&quot;:[],&quot;jlpt&quot;:1,&quot;unicode&quot;:&quot;86cd&quot;,&quot;heisig_en&quot;:&quot;lightning-bug&quot;}`\r\n\r\nMainActivity :\r\n\r\n            val apiService = KanjiService.getInstance()\r\n        val call = apiService.getKanji()\r\n\r\n        call.enqueue(object : Callback&lt;List&lt;Kanji&gt;&gt;{\r\n            override fun onResponse(call: Call&lt;List&lt;Kanji&gt;&gt;, response: Response&lt;List&lt;Kanji&gt;&gt;) {\r\n                Log.i(&quot;API&quot;,response.body().toString())\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;List&lt;Kanji&gt;&gt;, t: Throwable) {\r\n                t.message?.let { Log.e(&quot;API&quot;, it) }\r\n            }\r\n        })\r\n\r\ndata class Kanji :\r\n\r\n    data class Kanji(\r\n    val kanji:String,\r\n    val grade:Int?=null,\r\n    val stroke_count:Int,\r\n    val meanings:List&lt;String&gt;,\r\n    val heisig_en:String?=null,\r\n    val kun_readings:List&lt;String&gt;,\r\n    val on_readings:List&lt;String&gt;,\r\n    val name_readings:List&lt;String&gt;,\r\n    val jlpt:Int?=null,\r\n    val unicode:String,)\r\nKanjiservice :\r\n\r\n    const val BASE_URL = &quot;https://kanjiapi.dev/v1/&quot;\r\n    interface KanjiService {\r\n        @GET(&quot;kanji/蛍&quot;)\r\n        fun getKanji(): Call&lt;List&lt;Kanji&gt;&gt;\r\n\r\n    companion object{\r\n        fun getInstance():KanjiService{\r\n            return Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build()\r\n                .create(KanjiService::class.java)\r\n        }\r\n    }\r\n    }\r\n\r\nthis is the warning : E/API: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\r\n\r\n","title":"retrofit E/API: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $","body":"<p>I can get data form retrofit form this  <a href=\"https://kanjiapi.dev/#!/\" rel=\"nofollow noreferrer\">https://kanjiapi.dev/#!/</a>\ndata <code>{&quot;kanji&quot;:&quot;蛍&quot;,&quot;grade&quot;:8,&quot;stroke_count&quot;:11,&quot;meanings&quot;:[&quot;lightning-bug&quot;,&quot;firefly&quot;],&quot;kun_readings&quot;:[&quot;ほたる&quot;],&quot;on_readings&quot;:[&quot;ケイ&quot;],&quot;name_readings&quot;:[],&quot;jlpt&quot;:1,&quot;unicode&quot;:&quot;86cd&quot;,&quot;heisig_en&quot;:&quot;lightning-bug&quot;}</code></p>\n<p>MainActivity :</p>\n<pre><code>        val apiService = KanjiService.getInstance()\n    val call = apiService.getKanji()\n\n    call.enqueue(object : Callback&lt;List&lt;Kanji&gt;&gt;{\n        override fun onResponse(call: Call&lt;List&lt;Kanji&gt;&gt;, response: Response&lt;List&lt;Kanji&gt;&gt;) {\n            Log.i(&quot;API&quot;,response.body().toString())\n        }\n\n        override fun onFailure(call: Call&lt;List&lt;Kanji&gt;&gt;, t: Throwable) {\n            t.message?.let { Log.e(&quot;API&quot;, it) }\n        }\n    })\n</code></pre>\n<p>data class Kanji :</p>\n<pre><code>data class Kanji(\nval kanji:String,\nval grade:Int?=null,\nval stroke_count:Int,\nval meanings:List&lt;String&gt;,\nval heisig_en:String?=null,\nval kun_readings:List&lt;String&gt;,\nval on_readings:List&lt;String&gt;,\nval name_readings:List&lt;String&gt;,\nval jlpt:Int?=null,\nval unicode:String,)\n</code></pre>\n<p>Kanjiservice :</p>\n<pre><code>const val BASE_URL = &quot;https://kanjiapi.dev/v1/&quot;\ninterface KanjiService {\n    @GET(&quot;kanji/蛍&quot;)\n    fun getKanji(): Call&lt;List&lt;Kanji&gt;&gt;\n\ncompanion object{\n    fun getInstance():KanjiService{\n        return Retrofit.Builder()\n            .baseUrl(BASE_URL)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n            .create(KanjiService::class.java)\n    }\n}\n}\n</code></pre>\n<p>this is the warning : E/API: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661806917,"creation_date":1661806917,"answer_id":73534613,"question_id":73533313,"body_markdown":"The producer will refresh its state every `metadata.max.age.ms`, therefore try to establish connection to the broker and not close without exception during the lifetime of the application. \r\n\r\nIf the producer is closed, then the app itself should probably fatally crash and have a process manager restart the app rather than the app try to only restart the producer client. ","title":"Reconnect KafkaProducer","body":"<p>The producer will refresh its state every <code>metadata.max.age.ms</code>, therefore try to establish connection to the broker and not close without exception during the lifetime of the application.</p>\n<p>If the producer is closed, then the app itself should probably fatally crash and have a process manager restart the app rather than the app try to only restart the producer client.</p>\n"},{"tags":[],"owner":{"account_id":26191569,"reputation":1,"user_id":19873323,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661838700,"creation_date":1661838700,"answer_id":73537687,"question_id":73533313,"body_markdown":"thank you for your answer. will the kafkaproducer be closed automatically if the connection can&#39;t be reestablished? i can&#39;t find a hint in kafka documentation about this.\r\n\r\nand if so, how can i know, if the producer is closed or not? the kafka producer and the producer interface has no &quot;isClosed&quot; method. in the source code i can see, that a illegalstate exception will be thrown, if the producer is used after the producer was closed, but this exception is not unique. \r\n\r\n\r\n","title":"Reconnect KafkaProducer","body":"<p>thank you for your answer. will the kafkaproducer be closed automatically if the connection can't be reestablished? i can't find a hint in kafka documentation about this.</p>\n<p>and if so, how can i know, if the producer is closed or not? the kafka producer and the producer interface has no &quot;isClosed&quot; method. in the source code i can see, that a illegalstate exception will be thrown, if the producer is used after the producer was closed, but this exception is not unique.</p>\n"}],"owner":{"account_id":26191569,"reputation":1,"user_id":19873323,"display_name":"Marc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661838700,"creation_date":1661798442,"question_id":73533313,"body_markdown":"We are about to write an application to send kafka events\r\n* after startup, this application will run for hours/days/weeks\r\n* depending on the load we will send hunderds of events a minute but there also will be periods, where we will send no events for hours\r\n\r\nIs it allowed to create a producer while startup and use the same producer all the time?\r\nin other words: is it guaranteed that the kafka producer can reconnect after every exception (i.E. after network or broker problems, once the resources is available again) (**case A**) or are there exceptions where the application has to close the producer an create a new producer (**case B**)?\r\n\r\n\r\n**case a:**\r\n(shown simplified)\r\n\r\n```KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;String, String&gt;(props);\r\nwhile (true) {\r\n\ttry {\t\t\t\r\n\t  ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;String, String&gt;(topic, key, value);\t\t\r\n      producer.send(record).get(); // producer always can re-establish the connection in case of a prior exception\r\n\t} catch (Exception ex) {\r\n\t  ex.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\n**case b:**\r\n(shown simplified)\r\n\r\n```KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;String, String&gt;(props);\r\nwhile (true) {\r\n\ttry {\t\t\t\r\n\t  ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;String, String&gt;(topic, key, value);\t\t\r\n      producer.send(record).get();\r\n\t} catch (ExceptionAbc? ex) {\r\n\t   // application has to re-create the producer in some cases\r\n\t   producer = new KafkaProducer&lt;String, String&gt;(props);\r\n\t} catch (Exception ex) {\r\n       ex.printStackTrace();\r\n\t}\r\n}\r\n```\r\nThank you for your answer","title":"Reconnect KafkaProducer","body":"<p>We are about to write an application to send kafka events</p>\n<ul>\n<li>after startup, this application will run for hours/days/weeks</li>\n<li>depending on the load we will send hunderds of events a minute but there also will be periods, where we will send no events for hours</li>\n</ul>\n<p>Is it allowed to create a producer while startup and use the same producer all the time?\nin other words: is it guaranteed that the kafka producer can reconnect after every exception (i.E. after network or broker problems, once the resources is available again) (<strong>case A</strong>) or are there exceptions where the application has to close the producer an create a new producer (<strong>case B</strong>)?</p>\n<p><strong>case a:</strong>\n(shown simplified)</p>\n<pre><code>while (true) {\n    try {           \n      ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;String, String&gt;(topic, key, value);        \n      producer.send(record).get(); // producer always can re-establish the connection in case of a prior exception\n    } catch (Exception ex) {\n      ex.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>case b:</strong>\n(shown simplified)</p>\n<pre><code>while (true) {\n    try {           \n      ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;String, String&gt;(topic, key, value);        \n      producer.send(record).get();\n    } catch (ExceptionAbc? ex) {\n       // application has to re-create the producer in some cases\n       producer = new KafkaProducer&lt;String, String&gt;(props);\n    } catch (Exception ex) {\n       ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>Thank you for your answer</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1661794831,"post_id":73532050,"comment_id":129851398,"body_markdown":"I&#39;m not sure I understand the problem. When you step through the code you shared in a debugger, which is the first line that doesnt do what you expect it to do? Is there an error message?","body":"I&#39;m not sure I understand the problem. When you step through the code you shared in a debugger, which is the first line that doesnt do what you expect it to do? Is there an error message?"},{"owner":{"account_id":19452539,"reputation":17,"user_id":14228581,"display_name":"Jawad Khan"},"score":0,"creation_date":1661825768,"post_id":73532050,"comment_id":129857938,"body_markdown":"nope there isn&#39;t any error message. The code I provided is saving data in real time database as vehicleno as a parent node. but I want uid as a parent node","body":"nope there isn&#39;t any error message. The code I provided is saving data in real time database as vehicleno as a parent node. but I want uid as a parent node"}],"answers":[{"tags":[],"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661816862,"creation_date":1661816862,"answer_id":73535723,"question_id":73532050,"body_markdown":"You can get your key by using `getKey()`. Refer here: https://firebase.google.com/docs/database/android/read-and-write#update_specific_fields\r\n\r\n    final String key = root.push().getKey();\r\n\r\n\r\nNext, modify your model class `DriverModel` include the `id`. Example:\r\n\r\n    public class DriverModel{\r\n    \r\n        //Your others attributes...\r\n        private String id;\r\n    \r\n        //Do get set also...\r\n    \r\n    }\r\n\r\n\r\nLast, when you want to store data. You can do like this.\r\n\r\n\r\n    FirebaseDatabase db = FirebaseDatabase.getInstance();\r\n    DatabaseReference root = db.getReference(&quot;Drivers&quot;);\r\n    final String key = root.push().getKey();\r\n    DriverModel driverModel = new DriverModel(key, name,contact,email,licenseNo,vehicleNo,age,bloodGroup,uri.toString(),drowsinessImage,dateTime);\r\n    root.child(vehicleNo).setValue(driverModel);\r\n\r\n","title":"How to put UserDeatils using firebase unique uid in Firebase Realtime Database","body":"<p>You can get your key by using <code>getKey()</code>. Refer here: <a href=\"https://firebase.google.com/docs/database/android/read-and-write#update_specific_fields\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/database/android/read-and-write#update_specific_fields</a></p>\n<pre><code>final String key = root.push().getKey();\n</code></pre>\n<p>Next, modify your model class <code>DriverModel</code> include the <code>id</code>. Example:</p>\n<pre><code>public class DriverModel{\n\n    //Your others attributes...\n    private String id;\n\n    //Do get set also...\n\n}\n</code></pre>\n<p>Last, when you want to store data. You can do like this.</p>\n<pre><code>FirebaseDatabase db = FirebaseDatabase.getInstance();\nDatabaseReference root = db.getReference(&quot;Drivers&quot;);\nfinal String key = root.push().getKey();\nDriverModel driverModel = new DriverModel(key, name,contact,email,licenseNo,vehicleNo,age,bloodGroup,uri.toString(),drowsinessImage,dateTime);\nroot.child(vehicleNo).setValue(driverModel);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661834337,"creation_date":1661834337,"answer_id":73537217,"question_id":73532050,"body_markdown":"There are no error messages, simply because you cannot see them. There is nothing in your code that handles errors. To solve this, you have to attach a listener to the `setValue()` operation, to see if something goes wrong. In code, it will be as simple as:\r\n\r\n    root.child(vehicleNo).setValue(driverModel).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                Log.d(&quot;TAG&quot;, &quot;Data successfully written.&quot;);\r\n            } else {\r\n                Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n            }\r\n        }\r\n    });\r\n\r\nIf you get an error message due to the fact that you have improper security rules, then go to your Firebase console and set them to [allow the write operation][1].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/database/security","title":"How to put UserDeatils using firebase unique uid in Firebase Realtime Database","body":"<p>There are no error messages, simply because you cannot see them. There is nothing in your code that handles errors. To solve this, you have to attach a listener to the <code>setValue()</code> operation, to see if something goes wrong. In code, it will be as simple as:</p>\n<pre><code>root.child(vehicleNo).setValue(driverModel).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n        if (task.isSuccessful()) {\n            Log.d(&quot;TAG&quot;, &quot;Data successfully written.&quot;);\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>If you get an error message due to the fact that you have improper security rules, then go to your Firebase console and set them to <a href=\"https://firebase.google.com/docs/database/security\" rel=\"nofollow noreferrer\">allow the write operation</a>.</p>\n"},{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661838593,"creation_date":1661838593,"answer_id":73537667,"question_id":73532050,"body_markdown":"If the user is signed in with Firebase Authentication, you can get their UID with:\r\n```\r\nString uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n```\r\n\r\nThen you can save the data under their UID with:\r\n```\r\nDriverModel driverModel = new DriverModel(name,contact,email,licenseNo,vehicleNo,age,bloodGroup,uri.toString(),drowsinessImage,dateTime);\r\nroot.child(uid).setValue(driverModel);\r\n```","title":"How to put UserDeatils using firebase unique uid in Firebase Realtime Database","body":"<p>If the user is signed in with Firebase Authentication, you can get their UID with:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n</code></pre>\n<p>Then you can save the data under their UID with:</p>\n<pre><code>DriverModel driverModel = new DriverModel(name,contact,email,licenseNo,vehicleNo,age,bloodGroup,uri.toString(),drowsinessImage,dateTime);\nroot.child(uid).setValue(driverModel);\n</code></pre>\n"}],"owner":{"account_id":19452539,"reputation":17,"user_id":14228581,"display_name":"Jawad Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73537667,"answer_count":3,"score":0,"last_activity_date":1661838593,"creation_date":1661791579,"question_id":73532050,"body_markdown":"I wanted to put a unique id every time when users signups into my apps. below is my code attached which is used to store data currently using vehicleNo:\r\n\r\n    FirebaseDatabase db = FirebaseDatabase.getInstance();\r\n    DatabaseReference root = db.getReference(&quot;Drivers&quot;);\r\n    DriverModel driverModel = new DriverModel(name,contact,email,licenseNo,vehicleNo,age,bloodGroup,uri.toString(),drowsinessImage,dateTime);\r\n    root.child(vehicleNo).setValue(driverModel);","title":"How to put UserDeatils using firebase unique uid in Firebase Realtime Database","body":"<p>I wanted to put a unique id every time when users signups into my apps. below is my code attached which is used to store data currently using vehicleNo:</p>\n<pre><code>FirebaseDatabase db = FirebaseDatabase.getInstance();\nDatabaseReference root = db.getReference(&quot;Drivers&quot;);\nDriverModel driverModel = new DriverModel(name,contact,email,licenseNo,vehicleNo,age,bloodGroup,uri.toString(),drowsinessImage,dateTime);\nroot.child(vehicleNo).setValue(driverModel);\n</code></pre>\n"},{"tags":["java","websocket","jetty","jetty-9","java-websocket"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1660545174,"post_id":73357343,"comment_id":129549371,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":23616470,"reputation":2135,"user_id":17650498,"display_name":"plplmax"},"score":0,"creation_date":1660553679,"post_id":73357343,"comment_id":129551531,"body_markdown":"https://stackoverflow.com/a/15649791/17650498 — is it what are you looking for?","body":"<a href=\"https://stackoverflow.com/a/15649791/17650498\">stackoverflow.com/a/15649791/17650498</a> — is it what are you looking for?"},{"owner":{"account_id":22380128,"reputation":11,"user_id":16593847,"display_name":"Pervinder"},"score":0,"creation_date":1660557217,"post_id":73357343,"comment_id":129552623,"body_markdown":"here in chat if someone left the chat window it will close session as further it is not communicating . in my case client connection will remain open until  i fire a POST request with STOP trigger .","body":"here in chat if someone left the chat window it will close session as further it is not communicating . in my case client connection will remain open until  i fire a POST request with STOP trigger ."}],"answers":[{"tags":[],"owner":{"account_id":10226265,"reputation":376,"user_id":7548747,"display_name":"Lachlan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661838382,"creation_date":1661838382,"answer_id":73537647,"question_id":73357343,"body_markdown":"Calling `Session.close()` will initiate a close handshake where the remote endpoint should reply with a response close frame, and once the close response has been received the WebSocket connection will be closed. You can send custom close status code and reason with `Session.close(int statusCode, String reason)`.\r\n\r\nYou also have the option to call `Session.disconnect()` which will do a hard close of the underlying connection without sending this close frame.\r\n\r\nIn regards to your code, it looks like you are never completing the `closeLatch` in the `OnWebSocketClose` method, so your `awaitClose` method will always timeout.\r\n\r\nAlso, if possible you should try to re-use the same `WebSocketClient` instance for multiple connections because it is a heavy weight object. It is expensive to create a new one for each request.","title":"I have opened multiple websocket client data stream in jetty java with different api and secret calls , how do i close a particular session?","body":"<p>Calling <code>Session.close()</code> will initiate a close handshake where the remote endpoint should reply with a response close frame, and once the close response has been received the WebSocket connection will be closed. You can send custom close status code and reason with <code>Session.close(int statusCode, String reason)</code>.</p>\n<p>You also have the option to call <code>Session.disconnect()</code> which will do a hard close of the underlying connection without sending this close frame.</p>\n<p>In regards to your code, it looks like you are never completing the <code>closeLatch</code> in the <code>OnWebSocketClose</code> method, so your <code>awaitClose</code> method will always timeout.</p>\n<p>Also, if possible you should try to re-use the same <code>WebSocketClient</code> instance for multiple connections because it is a heavy weight object. It is expensive to create a new one for each request.</p>\n"}],"owner":{"account_id":22380128,"reputation":11,"user_id":16593847,"display_name":"Pervinder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661838382,"creation_date":1660542947,"question_id":73357343,"body_markdown":"In my current code i had a servlet from which if i create post to the servlet it will open a new websocket client , that mean 10 client connection each running for same purpose but with different api and secret , so i need to close particular session \r\n\r\nI am using Jetty :: Websocket :: Client v9.4.48.v20220622\r\n\r\nPlease suggest , as i can get the session details but unable to use because it&#39;s not working with String data type . only in Session session it is working and i am unable to store session details anywhere else , as only in String data type i can save .\r\n\r\n\r\nWhereas a is my API and b is my Secret Key ; \r\n\r\nPS : Websocket connection is working fine to send expected data \r\n\r\n\r\n\r\n    class connector  {\r\n    \t\r\n    \tString a;\r\n    \tString b;\r\n    \t\r\n    \t\r\n    \tpublic void start() {\r\n    \r\n    \t        WebSocketClient client = new WebSocketClient();\r\n    \t        MyWebSocket socket = new MyWebSocket();\r\n    \t        \r\n    \t        try {\r\n    \t        \t\r\n    \t\t\t\tclient.start();\r\n    \t\t\t\t\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t        \r\n    \t        URI destUri = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tdestUri = new URI(&quot;wss://socket.delta.exchange&quot;);\r\n    \t\t\t} catch (URISyntaxException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t        \r\n    \t        ClientUpgradeRequest request = new ClientUpgradeRequest();\r\n    \t        System.out.println(&quot;Connecting to: &quot; + destUri);\r\n    \t        try {\r\n    \t\t\t\tclient.connect(socket, destUri, request);\r\n    \t\t\t} catch (IOException e1) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t}\r\n    \t        try {\r\n    \t\t\t\tsocket.awaitClose(3600, TimeUnit.SECONDS);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \r\n    \t        try {\r\n    \t\t\t\tclient.stop();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t    }\r\n    \r\n    \t    @WebSocket\r\n    \t    public class MyWebSocket {\r\n    \t    \r\n    \t        private final CountDownLatch closeLatch = new CountDownLatch(1);\r\n    \r\n    \t        @OnWebSocketConnect\r\n    \t        public void onConnect(Session session) throws IOException {\r\n    \t        \t\r\n    \t        \tsession.getRemoteAddress();\r\n    \t        \t\r\n    \t            System.out.println(&quot;Connection opened&quot;);\r\n    \t            PingPong newObj = new PingPong();\r\n    \t            newObj.session = session;\r\n    \t            Authorization authMe = new Authorization();\r\n    \t            Identifier getSt = new Identifier();\r\n    \t            newObj.enableHeartBeat();\r\n    \t            System.out.println(session);\r\n    \t           \r\n    \t            \r\n    \t            session.getRemote().sendString(authMe.data(a, b));\r\n    \t           \r\n    \t        }\r\n    \r\n    \t        @OnWebSocketMessage\r\n    \t        public void onMessage(String message) {\r\n    \t        \t\r\n    \t        \tMessageHandler objmsg = new  MessageHandler();\r\n    \t        \tobjmsg.check();\r\n    \t        \t\r\n    \t        \t System.out.println(\r\n    \t        \t            &quot;Current Thread ID: &quot;\r\n    \t        \t            + Thread.currentThread().getId());\r\n    \t\t            \r\n    \t            System.out.println(&quot;Message from Server:  -- &quot; + message);\r\n    \t        }\r\n    \t        \r\n    \t        @OnWebSocketClose\r\n    \t        public void onClose(int statusCode, String reason) {\r\n    \t            System.out.println(&quot;WebSocket Closed. Code:&quot; + statusCode);\r\n    \t        }\r\n    \t        \r\n    \r\n    \r\n    \t        public boolean awaitClose(int duration, TimeUnit unit) \r\n    \t                throws InterruptedException {\r\n    \t            return this.closeLatch.await(duration, unit);\r\n    \t        }\r\n    \t    }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nI want to do `session.close()` for a particular session details which i got from \r\n\r\n    session.getRemoteAddress().toString();\r\n\r\n\r\n    Session session ;\r\n    String sessionDetailSaved ;\r\n\r\ni want to search for `sessionDetailSaved`  and compare with all the on running sessions and close it \r\n\r\nOr else any other way i can close particular session with different method may be interrupting session thread but sure it will not completely close connection .  \r\n\r\n\r\nMaven Dependency i am using \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\r\n        &lt;artifactId&gt;websocket-client&lt;/artifactId&gt;\r\n        &lt;version&gt;9.4.48.v20220622&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"I have opened multiple websocket client data stream in jetty java with different api and secret calls , how do i close a particular session?","body":"<p>In my current code i had a servlet from which if i create post to the servlet it will open a new websocket client , that mean 10 client connection each running for same purpose but with different api and secret , so i need to close particular session</p>\n<p>I am using Jetty :: Websocket :: Client v9.4.48.v20220622</p>\n<p>Please suggest , as i can get the session details but unable to use because it's not working with String data type . only in Session session it is working and i am unable to store session details anywhere else , as only in String data type i can save .</p>\n<p>Whereas a is my API and b is my Secret Key ;</p>\n<p>PS : Websocket connection is working fine to send expected data</p>\n<pre><code>class connector  {\n    \n    String a;\n    String b;\n    \n    \n    public void start() {\n\n            WebSocketClient client = new WebSocketClient();\n            MyWebSocket socket = new MyWebSocket();\n            \n            try {\n                \n                client.start();\n                \n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            \n            URI destUri = null;\n            try {\n                destUri = new URI(&quot;wss://socket.delta.exchange&quot;);\n            } catch (URISyntaxException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            \n            ClientUpgradeRequest request = new ClientUpgradeRequest();\n            System.out.println(&quot;Connecting to: &quot; + destUri);\n            try {\n                client.connect(socket, destUri, request);\n            } catch (IOException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n            try {\n                socket.awaitClose(3600, TimeUnit.SECONDS);\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            try {\n                client.stop();\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n\n        @WebSocket\n        public class MyWebSocket {\n        \n            private final CountDownLatch closeLatch = new CountDownLatch(1);\n\n            @OnWebSocketConnect\n            public void onConnect(Session session) throws IOException {\n                \n                session.getRemoteAddress();\n                \n                System.out.println(&quot;Connection opened&quot;);\n                PingPong newObj = new PingPong();\n                newObj.session = session;\n                Authorization authMe = new Authorization();\n                Identifier getSt = new Identifier();\n                newObj.enableHeartBeat();\n                System.out.println(session);\n               \n                \n                session.getRemote().sendString(authMe.data(a, b));\n               \n            }\n\n            @OnWebSocketMessage\n            public void onMessage(String message) {\n                \n                MessageHandler objmsg = new  MessageHandler();\n                objmsg.check();\n                \n                 System.out.println(\n                            &quot;Current Thread ID: &quot;\n                            + Thread.currentThread().getId());\n                    \n                System.out.println(&quot;Message from Server:  -- &quot; + message);\n            }\n            \n            @OnWebSocketClose\n            public void onClose(int statusCode, String reason) {\n                System.out.println(&quot;WebSocket Closed. Code:&quot; + statusCode);\n            }\n            \n\n\n            public boolean awaitClose(int duration, TimeUnit unit) \n                    throws InterruptedException {\n                return this.closeLatch.await(duration, unit);\n            }\n        }\n}\n</code></pre>\n<p>I want to do <code>session.close()</code> for a particular session details which i got from</p>\n<pre><code>session.getRemoteAddress().toString();\n\n\nSession session ;\nString sessionDetailSaved ;\n</code></pre>\n<p>i want to search for <code>sessionDetailSaved</code>  and compare with all the on running sessions and close it</p>\n<p>Or else any other way i can close particular session with different method may be interrupting session thread but sure it will not completely close connection .</p>\n<p>Maven Dependency i am using</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\n    &lt;artifactId&gt;websocket-client&lt;/artifactId&gt;\n    &lt;version&gt;9.4.48.v20220622&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1661833754,"post_id":73537021,"comment_id":129858887,"body_markdown":"The way you&#39;ve written this, you&#39;ll only ever iterate the `for` loop once.  The `return &quot;miss&quot;;` needs to be at the bottom, outside of the loop, so that the program has the chance to check more of the coordinates than just the first one.","body":"The way you&#39;ve written this, you&#39;ll only ever iterate the <code>for</code> loop once.  The <code>return &quot;miss&quot;;</code> needs to be at the bottom, outside of the loop, so that the program has the chance to check more of the coordinates than just the first one."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1661941674,"post_id":73537021,"comment_id":129890029,"body_markdown":"If `shipCoordinates.length` was 0 then nothing in the `for` loop would be run, and execution would reach the end of the method without ever returning anything. You must add code to deal with that case. You must satisfy the compiler that something is always returned.","body":"If <code>shipCoordinates.length</code> was 0 then nothing in the <code>for</code> loop would be run, and execution would reach the end of the method without ever returning anything. You must add code to deal with that case. You must satisfy the compiler that something is always returned."}],"answers":[{"tags":[],"owner":{"account_id":13676073,"reputation":21,"user_id":16749129,"display_name":"N S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661838253,"creation_date":1661832586,"answer_id":73537066,"question_id":73537021,"body_markdown":"Have you tried just separating the NumberofHits If statement from the for loop. The problem may be the for loop iterating the whole &#39;hit check&#39; for each value of &#39;i&#39; which may cause it to put up false values before tallying the full amount of hits. \r\n\r\nI&#39;ve tried throwing in an else if to maybe tighten the parameters. turn it back to else if you want (this is for hit &amp; miss).\r\n\r\n```\r\npublic class SimpleBattleShip {\r\n    int[] shipCoordinates;\r\n    int numOfHits;\r\n\r\n    String updateStatus(int guess) {\r\n        for (int i = 0; i &lt; shipCoordinates.length; i++) {\r\n            if (guess == shipCoordinates[i]) {\r\n                numOfHits++;\r\n            }\r\n        }\r\n            \r\n        if (numOfHits == 3) {\r\n            return &quot;kill&quot;;\r\n        } else if (numOfHits &lt; 3 &amp;&amp; numOfHits &gt;= 1) {\r\n            return &quot;hit&quot;;\r\n        } else {\r\n             return &quot;miss&quot;;\r\n        }\r\n    }\r\n}\r\n","title":"Method won&#39;t run because it returns no string","body":"<p>Have you tried just separating the NumberofHits If statement from the for loop. The problem may be the for loop iterating the whole 'hit check' for each value of 'i' which may cause it to put up false values before tallying the full amount of hits.</p>\n<p>I've tried throwing in an else if to maybe tighten the parameters. turn it back to else if you want (this is for hit &amp; miss).</p>\n<pre><code>public class SimpleBattleShip {\n    int[] shipCoordinates;\n    int numOfHits;\n\n    String updateStatus(int guess) {\n        for (int i = 0; i &lt; shipCoordinates.length; i++) {\n            if (guess == shipCoordinates[i]) {\n                numOfHits++;\n            }\n        }\n            \n        if (numOfHits == 3) {\n            return &quot;kill&quot;;\n        } else if (numOfHits &lt; 3 &amp;&amp; numOfHits &gt;= 1) {\n            return &quot;hit&quot;;\n        } else {\n             return &quot;miss&quot;;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26194364,"reputation":1,"user_id":19875669,"display_name":"Joahveni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661838253,"creation_date":1661832129,"question_id":73537021,"body_markdown":"I&#39;m creating a battleship game where a ship occupies 3 cells and you have to guess which cell. Once they guess it you return &quot;hit&quot; and if not you return &quot;miss&quot;. Once they hit all 3 you return &quot;kill&quot;. I&#39;ve written the code but it states I still haven&#39;t returned a string.\r\n\r\n    public class SimpleBattleShip{\r\n    int[] shipCoordinates;\r\n    int numOfHits;\r\n\r\n    String updateStatus(int guess){\r\n        for(int i=0;i&lt;shipCoordinates.length;i++){\r\n            if(guess == shipCoordinates[i]){\r\n                numOfHits++;\r\n                if(numOfHits ==3){\r\n                    return &quot;kill&quot;;\r\n                }else{\r\n                    return &quot;hit&quot;;\r\n                }\r\n            }else{\r\n                return &quot;miss&quot;;\r\n            }\r\n        }\r\n    }\r\n}","title":"Method won&#39;t run because it returns no string","body":"<p>I'm creating a battleship game where a ship occupies 3 cells and you have to guess which cell. Once they guess it you return &quot;hit&quot; and if not you return &quot;miss&quot;. Once they hit all 3 you return &quot;kill&quot;. I've written the code but it states I still haven't returned a string.</p>\n<pre><code>public class SimpleBattleShip{\nint[] shipCoordinates;\nint numOfHits;\n\nString updateStatus(int guess){\n    for(int i=0;i&lt;shipCoordinates.length;i++){\n        if(guess == shipCoordinates[i]){\n            numOfHits++;\n            if(numOfHits ==3){\n                return &quot;kill&quot;;\n            }else{\n                return &quot;hit&quot;;\n            }\n        }else{\n            return &quot;miss&quot;;\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven","ssl","keystore"],"answers":[{"tags":[],"owner":{"account_id":2610280,"reputation":715,"user_id":2260506,"accept_rate":15,"display_name":"Ulrich"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1479373989,"creation_date":1479373989,"answer_id":40650800,"question_id":39788295,"body_markdown":"Today I found the reason: \r\n\r\nWay back in history I once had set the WINDOWS environment variable MAVEN_OPTS by\r\n    &quot;setx MAVEN_OPTS &quot;-Djavax.net.ssl.trustStore....&quot;. \r\n\r\nThe path specified here does no longer exist. \r\n\r\nIt seems this setting supersedes even the request showed in my question. I consider this behaviour to be at least unexpected but anyway. When I fixed the environment variable (pointing to the new path; but I&#39;m going to delete it anyway) the mvn-requests worked fine.","title":"Maven Error: (repeated) java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty","body":"<p>Today I found the reason: </p>\n\n<p>Way back in history I once had set the WINDOWS environment variable MAVEN_OPTS by\n    \"setx MAVEN_OPTS \"-Djavax.net.ssl.trustStore....\". </p>\n\n<p>The path specified here does no longer exist. </p>\n\n<p>It seems this setting supersedes even the request showed in my question. I consider this behaviour to be at least unexpected but anyway. When I fixed the environment variable (pointing to the new path; but I'm going to delete it anyway) the mvn-requests worked fine.</p>\n"},{"tags":[],"owner":{"account_id":8553262,"reputation":21,"user_id":6409590,"display_name":"JorB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522163175,"creation_date":1522163175,"answer_id":49516461,"question_id":39788295,"body_markdown":"The fact that the invalid parameter in the environment was not overruled with the trustStore setting on the commandline, was probably due to the fact that there is a **typo** in your commandline. It says:\r\n\r\n    -Djava.net.ssl.trustStore=...\r\nBut this should have been:\r\n\r\n    -Djavax.net.ssl.trustStore=...","title":"Maven Error: (repeated) java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty","body":"<p>The fact that the invalid parameter in the environment was not overruled with the trustStore setting on the commandline, was probably due to the fact that there is a <strong>typo</strong> in your commandline. It says:</p>\n\n<pre><code>-Djava.net.ssl.trustStore=...\n</code></pre>\n\n<p>But this should have been:</p>\n\n<pre><code>-Djavax.net.ssl.trustStore=...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3322909,"reputation":766,"user_id":2793594,"display_name":"Jo&#227;o Rodrigues"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1529246067,"creation_date":1529246067,"answer_id":50897628,"question_id":39788295,"body_markdown":"I had the same issue and it took me a day to solve it.\r\nThis a java related issue as you may see in the error stack.\r\nCheck in:\r\n\r\n&lt;b&gt;/etc/ssl/certs/java&lt;/b&gt; for the &lt;b&gt;cacerts&lt;/b&gt; file.&lt;br&gt;\r\n1) If you don&#39;t have this file here that is the reason why your getting this error&lt;br&gt;\r\n2) If you do have this file here it means that this is probably not a valid cacerts file.&lt;br&gt;\r\n\r\n&lt;p&gt;If you want you can update it with:&lt;br&gt;\r\n&lt;b&gt;sudo apt-get install --reinstall ca-certificates&lt;/b&gt;&lt;br&gt;\r\nAnd if it works now, then perfect (in my case it did not work)&lt;/p&gt;\r\n\r\n&lt;b&gt;So to solve this:&lt;/b&gt;&lt;br&gt;\r\n&lt;ol&gt;\r\n&lt;li&gt;Download from open-jdk8 (in my case) directly from oracle&lt;br&lt;/li&gt;\r\n&lt;li&gt;Extract the tar.gz files&lt;/li&gt;\r\n&lt;li&gt;Find the new valid &lt;b&gt;cacerts&lt;/b&gt; file under &lt;b&gt;jre/lib/security&lt;/b&gt;&lt;/li&gt;\r\n&lt;li&gt;Copy this file to &lt;b&gt;/etc/ssl/certs/java&lt;/b&gt; (removing the old one if that is your case)&lt;/li&gt;\r\n&lt;/ol&gt;\r\n\r\nFinally run the comand that caused you this error and hopefully its gone!\r\nHope this helped.\r\n\r\nCheers","title":"Maven Error: (repeated) java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty","body":"<p>I had the same issue and it took me a day to solve it.\nThis a java related issue as you may see in the error stack.\nCheck in:</p>\n\n<p><b>/etc/ssl/certs/java</b> for the <b>cacerts</b> file.<br>\n1) If you don't have this file here that is the reason why your getting this error<br>\n2) If you do have this file here it means that this is probably not a valid cacerts file.<br></p>\n\n<p>If you want you can update it with:<br>\n<b>sudo apt-get install --reinstall ca-certificates</b><br>\nAnd if it works now, then perfect (in my case it did not work)</p>\n\n<p><b>So to solve this:</b><br></p>\n\n<ol>\n<li>Download from open-jdk8 (in my case) directly from oracle\n<li>Extract the tar.gz files</li>\n<li>Find the new valid <b>cacerts</b> file under <b>jre/lib/security</b></li>\n<li>Copy this file to <b>/etc/ssl/certs/java</b> (removing the old one if that is your case)</li>\n</ol>\n\n<p>Finally run the comand that caused you this error and hopefully its gone!\nHope this helped.</p>\n\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":5908315,"reputation":153,"user_id":4649337,"accept_rate":71,"display_name":"wjxiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550475696,"creation_date":1550475696,"answer_id":54742479,"question_id":39788295,"body_markdown":"a more ez way to fix this problem:\r\n1.go to download Corretto OpenJDK published by Amazon\r\n2.install it according to its guide.\r\n3.set to use this Java DK.\r\n\r\nproblem fixed in my Ubuntu 18.","title":"Maven Error: (repeated) java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty","body":"<p>a more ez way to fix this problem:\n1.go to download Corretto OpenJDK published by Amazon\n2.install it according to its guide.\n3.set to use this Java DK.</p>\n\n<p>problem fixed in my Ubuntu 18.</p>\n"},{"tags":[],"owner":{"account_id":2580726,"reputation":1066,"user_id":2237474,"display_name":"Mariano LEANCE"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1584998498,"creation_date":1584998498,"answer_id":60821708,"question_id":39788295,"body_markdown":"I manage manually my jdk and was getting this error with openjdk-8.\r\nI replaced the cacerts with the one of the openjdk-11 and it worked just fine.\r\nIf you try this, make sure to backup your cacerts first.","title":"Maven Error: (repeated) java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty","body":"<p>I manage manually my jdk and was getting this error with openjdk-8.\nI replaced the cacerts with the one of the openjdk-11 and it worked just fine.\nIf you try this, make sure to backup your cacerts first.</p>\n"},{"tags":[],"owner":{"account_id":1402247,"reputation":186,"user_id":1330784,"accept_rate":50,"display_name":"naga headhunter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596641459,"creation_date":1596641459,"answer_id":63268529,"question_id":39788295,"body_markdown":"I faced the same issue on Windows. I had two Java installed. Oracle Java and OpenJDK and Maven was compiling with OpenJDK and it was giving this issue.\r\n\r\nSince I wanted to continue compiling the source code using OpenJDK, to fix the issue, I specified the truststore path to Oracle JRE&#39;s cacerts library in the Maven command as follows.\r\n\r\n    mvn clean install -DskipTests -Djavax.net.ssl.trustStore=/path-to-oracle-java/jre/lib/security/cacerts\r\n","title":"Maven Error: (repeated) java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty","body":"<p>I faced the same issue on Windows. I had two Java installed. Oracle Java and OpenJDK and Maven was compiling with OpenJDK and it was giving this issue.</p>\n<p>Since I wanted to continue compiling the source code using OpenJDK, to fix the issue, I specified the truststore path to Oracle JRE's cacerts library in the Maven command as follows.</p>\n<pre><code>mvn clean install -DskipTests -Djavax.net.ssl.trustStore=/path-to-oracle-java/jre/lib/security/cacerts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15867862,"reputation":11,"user_id":11449475,"display_name":"Saif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626530843,"creation_date":1626421694,"answer_id":68405367,"question_id":39788295,"body_markdown":"For those facing this issue on Windows, I had the same error when compiling build with maven on Windows10, after a lot of searching I came to realize that the **java &gt; jdk-x.x.x** directory is missing **lib/security/cacerts**. \r\n\r\nthe error went away after copying cacerts file from the existing **jre &gt; lib/security** directory (or download if not existing) to  **jdk &gt; lib/security** directory\r\n","title":"Maven Error: (repeated) java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty","body":"<p>For those facing this issue on Windows, I had the same error when compiling build with maven on Windows10, after a lot of searching I came to realize that the <strong>java &gt; jdk-x.x.x</strong> directory is missing <strong>lib/security/cacerts</strong>.</p>\n<p>the error went away after copying cacerts file from the existing <strong>jre &gt; lib/security</strong> directory (or download if not existing) to  <strong>jdk &gt; lib/security</strong> directory</p>\n"},{"tags":[],"owner":{"account_id":25214064,"reputation":1,"user_id":19051400,"display_name":"Jelly Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661837706,"creation_date":1661837706,"answer_id":73537551,"question_id":39788295,"body_markdown":"I use Oracle JDK to replace OpenJDK, this problem was solved. By the way both version is 8.","title":"Maven Error: (repeated) java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty","body":"<p>I use Oracle JDK to replace OpenJDK, this problem was solved. By the way both version is 8.</p>\n"}],"owner":{"account_id":2610280,"reputation":715,"user_id":2260506,"accept_rate":15,"display_name":"Ulrich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34697,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":40650800,"answer_count":8,"score":18,"last_activity_date":1661837706,"creation_date":1475228128,"question_id":39788295,"body_markdown":"Have to ask again. Someone thought it was a [duplicate question][1] and already answered and removed it from the list.\r\n\r\nI&#39;m using maven (mvn) batch command with windows (not m2e with eclipse) to run clean install or resolve dependencies. Sometimes, when pom.xml was changed, it is necessary to download artifacts from our nexus server.\r\nThis used to work for long time for me.\r\n\r\nBut now the connection to the nexus server (https, the server uses a company owned certificate) fails with &quot;**java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty**&quot;\r\nI know, I changed the Java release. But I&#39;m pretty sure I maintained the cacerts keystore the same way I did with the previous releases. (at leased I compared the fingerprints in both of the cacerts; they are the same).\r\n\r\nWhen running the command \r\n&quot;**mvn -s &lt;mySettings.xml&gt; -Djavax.net.debug=all -Djava.net.ssl.trustStore=&quot;C:/Programme/Java/jre1.8.0_102/lib/security/cacerts&quot; -Djavax.net.ssl.trustStorePassword=changeit dependency:resolve**&quot;, the ssl-trace says:\r\n\r\n    keyStore is :    \r\n    keyStore type is : jks\r\n    keyStore provider is : \r\n    init keystore\r\n    init keymanager of type SunX509\r\n    trustStore is: No File Available, using empty keystore.\r\n    trustStore type is : jks\r\n    trustStore provider is : \r\n    init truststore\r\n\r\nEven if specifying the path and the password of the keystore in the command, the answer in the ssl trace is that it could not be found. \r\n\r\nI&#39;ve no idea what I might have changed to get to this trouble. I changed the Windows PATH-Statement, but this should not matter fro the previously described command.\r\nAny hint is appreciated\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty","title":"Maven Error: (repeated) java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty","body":"<p>Have to ask again. Someone thought it was a <a href=\"https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty\">duplicate question</a> and already answered and removed it from the list.</p>\n\n<p>I'm using maven (mvn) batch command with windows (not m2e with eclipse) to run clean install or resolve dependencies. Sometimes, when pom.xml was changed, it is necessary to download artifacts from our nexus server.\nThis used to work for long time for me.</p>\n\n<p>But now the connection to the nexus server (https, the server uses a company owned certificate) fails with \"<strong>java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty</strong>\"\nI know, I changed the Java release. But I'm pretty sure I maintained the cacerts keystore the same way I did with the previous releases. (at leased I compared the fingerprints in both of the cacerts; they are the same).</p>\n\n<p>When running the command \n\"<strong>mvn -s  -Djavax.net.debug=all -Djava.net.ssl.trustStore=\"C:/Programme/Java/jre1.8.0_102/lib/security/cacerts\" -Djavax.net.ssl.trustStorePassword=changeit dependency:resolve</strong>\", the ssl-trace says:</p>\n\n<pre><code>keyStore is :    \nkeyStore type is : jks\nkeyStore provider is : \ninit keystore\ninit keymanager of type SunX509\ntrustStore is: No File Available, using empty keystore.\ntrustStore type is : jks\ntrustStore provider is : \ninit truststore\n</code></pre>\n\n<p>Even if specifying the path and the password of the keystore in the command, the answer in the ssl trace is that it could not be found. </p>\n\n<p>I've no idea what I might have changed to get to this trouble. I changed the Windows PATH-Statement, but this should not matter fro the previously described command.\nAny hint is appreciated</p>\n"},{"tags":["java","asynchronous","jvm","netty"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1661488259,"post_id":73496041,"comment_id":129788969,"body_markdown":"I doubt there&#39;s any foolproof method (unless you have a very narrow definition of &quot;blocking&quot;), but a good start might be to find methods that throw InterruptedException.","body":"I doubt there&#39;s any foolproof method (unless you have a very narrow definition of &quot;blocking&quot;), but a good start might be to find methods that throw InterruptedException."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661496169,"post_id":73496041,"comment_id":129790358,"body_markdown":"Even class loading can trigger a blocking operation. That’s completely outside your control. And what do you gain by putting the code in a special thread group?","body":"Even class loading can trigger a blocking operation. That’s completely outside your control. And what do you gain by putting the code in a special thread group?"}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1661507188,"creation_date":1661507188,"answer_id":73499103,"question_id":73496041,"body_markdown":"Depends on what you mean by a &quot;blocking operation&quot;.\r\n\r\nIn a broad sense, any operation that causes a voluntary context switch is blocking. Trying to do something special about them is absolutely impractical.\r\n\r\nFor example, in Java, any method containing `synchronized` is potentially blocking. This includes\r\n - `ConcurrentHashMap.put`\r\n - `SecureRandom.nextInt`\r\n - `System.getProperty`\r\n\r\n\r\nand many more. I don&#39;t think you really want to avoid calling all these methods that look normal at a first glance.\r\n\r\nEven simple methods without any synchronization primitives can be blocking. E.g., `ByteBuffer.get` may result in a page fault and a blocking read on the OS level. Furthermore, as mentioned in comments, there are JVM level blocking operations that are not under your control.\r\n\r\nIn short, it&#39;s impractical if not impossible to find *all* places in the code where a blocking operation happens.\r\n\r\nIf, however, you are interested in finding particular method calls that you believe are bad (like `Thread.sleep` and `Socket.read`), you can definitely do so. There is a [BlockHound](https://github.com/reactor/BlockHound) project specifically for this purpose. It already has a predefined list of &quot;bad&quot; methods, but can be customized with your own list.","title":"Find out all java code places where a blocking operation happens","body":"<p>Depends on what you mean by a &quot;blocking operation&quot;.</p>\n<p>In a broad sense, any operation that causes a voluntary context switch is blocking. Trying to do something special about them is absolutely impractical.</p>\n<p>For example, in Java, any method containing <code>synchronized</code> is potentially blocking. This includes</p>\n<ul>\n<li><code>ConcurrentHashMap.put</code></li>\n<li><code>SecureRandom.nextInt</code></li>\n<li><code>System.getProperty</code></li>\n</ul>\n<p>and many more. I don't think you really want to avoid calling all these methods that look normal at a first glance.</p>\n<p>Even simple methods without any synchronization primitives can be blocking. E.g., <code>ByteBuffer.get</code> may result in a page fault and a blocking read on the OS level. Furthermore, as mentioned in comments, there are JVM level blocking operations that are not under your control.</p>\n<p>In short, it's impractical if not impossible to find <em>all</em> places in the code where a blocking operation happens.</p>\n<p>If, however, you are interested in finding particular method calls that you believe are bad (like <code>Thread.sleep</code> and <code>Socket.read</code>), you can definitely do so. There is a <a href=\"https://github.com/reactor/BlockHound\" rel=\"noreferrer\">BlockHound</a> project specifically for this purpose. It already has a predefined list of &quot;bad&quot; methods, but can be customized with your own list.</p>\n"},{"tags":[],"owner":{"account_id":5962218,"reputation":91,"user_id":4687036,"display_name":"Ilker Ike kucuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661837568,"creation_date":1661837568,"answer_id":73537537,"question_id":73496041,"body_markdown":"There is a library called BlockHound, that will throw an exception unless you have configured BlockHound to ignore that specific blocking call\r\n\r\nThis is how you configure BlockHound for Netty: https://github.com/violetagg/netty/blob/625f9d5781ed85bfaca6fa4e826d0d46d70fdbd8/common/src/main/java/io/netty/util/internal/Hidden.java\r\n\r\n(You can improve the above code by replacing the last line with     builder.nonBlockingThreadPredicate(\r\n        p -&gt; p.or(thread -&gt; thread instanceof FastThreadLocalThread)); )\r\n\r\nsee https://github.com/reactor/BlockHound\r\nsee https://blog.frankel.ch/blockhound-how-it-works/ \r\n\r\nI personally used it to find all blocking call within our Netty based service.\r\nGood Luck","title":"Find out all java code places where a blocking operation happens","body":"<p>There is a library called BlockHound, that will throw an exception unless you have configured BlockHound to ignore that specific blocking call</p>\n<p>This is how you configure BlockHound for Netty: <a href=\"https://github.com/violetagg/netty/blob/625f9d5781ed85bfaca6fa4e826d0d46d70fdbd8/common/src/main/java/io/netty/util/internal/Hidden.java\" rel=\"nofollow noreferrer\">https://github.com/violetagg/netty/blob/625f9d5781ed85bfaca6fa4e826d0d46d70fdbd8/common/src/main/java/io/netty/util/internal/Hidden.java</a></p>\n<p>(You can improve the above code by replacing the last line with     builder.nonBlockingThreadPredicate(\np -&gt; p.or(thread -&gt; thread instanceof FastThreadLocalThread)); )</p>\n<p>see <a href=\"https://github.com/reactor/BlockHound\" rel=\"nofollow noreferrer\">https://github.com/reactor/BlockHound</a>\nsee <a href=\"https://blog.frankel.ch/blockhound-how-it-works/\" rel=\"nofollow noreferrer\">https://blog.frankel.ch/blockhound-how-it-works/</a></p>\n<p>I personally used it to find all blocking call within our Netty based service.\nGood Luck</p>\n"}],"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73499103,"answer_count":2,"score":1,"last_activity_date":1661837568,"creation_date":1661487483,"question_id":73496041,"body_markdown":"In our *Netty* application. We are moving all blocking calls in our code to run in a special `backgroundThreadGroup`. \r\n\r\n**I&#39;d like to be able to log in production the `threadName` and the `lineNumber` of the java code that is about to execute a blocking operation. (i.e. sync File and Network IO)**\r\n\r\nThat way I can grep for the logs looking at places were we might have missed to move our blocking code to the `backgroundThreadGroup`.\r\n\r\nIs there a way to instrument the JVM so that it can tell me that?","title":"Find out all java code places where a blocking operation happens","body":"<p>In our <em>Netty</em> application. We are moving all blocking calls in our code to run in a special <code>backgroundThreadGroup</code>.</p>\n<p><strong>I'd like to be able to log in production the <code>threadName</code> and the <code>lineNumber</code> of the java code that is about to execute a blocking operation. (i.e. sync File and Network IO)</strong></p>\n<p>That way I can grep for the logs looking at places were we might have missed to move our blocking code to the <code>backgroundThreadGroup</code>.</p>\n<p>Is there a way to instrument the JVM so that it can tell me that?</p>\n"},{"tags":["java","http-post","httpsurlconnection","connectexception"],"comments":[{"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"score":0,"creation_date":1661837351,"post_id":73424402,"comment_id":129859488,"body_markdown":"Are you able to debug your class when you access with the class method? looking at that log it says     SMS_exp.sendPostJson(SMS_exp.java:46) so at least for what we can see the method that is failing is your call to your own class. Is this correct? It seems that you are calling your method in a wrong way","body":"Are you able to debug your class when you access with the class method? looking at that log it says     SMS_exp.sendPostJson(SMS_exp.java:46) so at least for what we can see the method that is failing is your call to your own class. Is this correct? It seems that you are calling your method in a wrong way"},{"owner":{"account_id":25835016,"reputation":1,"user_id":19571548,"display_name":"pawan jangir"},"score":0,"creation_date":1661929652,"post_id":73424402,"comment_id":129885598,"body_markdown":"When we access with the class method, it works perfectly. Could you please suggest where am I going wrong in calling the method from .jsp page?","body":"When we access with the class method, it works perfectly. Could you please suggest where am I going wrong in calling the method from .jsp page?"},{"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"score":0,"creation_date":1661941371,"post_id":73424402,"comment_id":129889923,"body_markdown":"Could you show which params do you have when using  `String a = ok.sendPostJson(msg, add,&quot;&quot;);` what i think is that your error is not in the class per se but in how you access the class","body":"Could you show which params do you have when using  <code>String a = ok.sendPostJson(msg, add,&quot;&quot;);</code> what i think is that your error is not in the class per se but in how you access the class"},{"owner":{"account_id":25835016,"reputation":1,"user_id":19571548,"display_name":"pawan jangir"},"score":0,"creation_date":1661941969,"post_id":73424402,"comment_id":129890131,"body_markdown":"The first parameter is a String i.e. the msg that is to be sent, the second parameter is mobile number, and the third parameter is a blank string. The function works perfectly when the same values are passed with the class method.","body":"The first parameter is a String i.e. the msg that is to be sent, the second parameter is mobile number, and the third parameter is a blank string. The function works perfectly when the same values are passed with the class method."}],"owner":{"account_id":25835016,"reputation":1,"user_id":19571548,"display_name":"pawan jangir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661836851,"creation_date":1660974682,"question_id":73424402,"body_markdown":"I have been trying to use an API with HttpsURLConnection POST method which sends an SMS. **The class works fine when I call the function from the main function of the same class. However when I call the function from another class or jsp, It throws the time out error.** I have done a lot of searching on this issue but couldn&#39;t get a breakthrough.\r\n\r\nBelow is my class:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpCookie;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    \r\n    public class SMS_exp {\r\n    \r\n        public List&lt;HttpCookie&gt; cookies;\r\n        public HttpsURLConnection conn;\r\n        private final String USER_AGENT = &quot;Mozilla/5.0&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String msg = &quot;Hello There. You get the SMS.&quot;;\r\n            String mob = &quot;&lt;Mobile Number&gt;&quot;;\r\n            SMS_exp as = new SMS_exp();\r\n            System.out.println(as.sendPostJson(msg, mob, &quot;&quot;));\r\n        }\r\n    \r\n        public String sendPostJson(String msg, String mob, String postParams) throws Exception {\r\n            String url = &quot;https://server.sms.com/v4/?key&amp;method=sms&amp;message=&quot; + msg + &quot; &amp;to=&quot; + mob + &quot;&amp;sender=XXXXXX&quot;;\r\n            StringBuffer response = new StringBuffer();\r\n            //try {\r\n                URL obj = new URL(url);\r\n                conn = (HttpsURLConnection) obj.openConnection();\r\n                conn.setUseCaches(false);\r\n                System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n                conn.setRequestMethod(&quot;POST&quot;);\r\n                conn.setRequestProperty(&quot;Host&quot;, &quot;https://server.sms.com/&quot;);\r\n                conn.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\r\n                conn.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n                conn.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.8,hi;q=0.6&quot;);\r\n                conn.addRequestProperty(&quot;Cookie&quot;, &quot;&quot;);\r\n                conn.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n                conn.setRequestProperty(&quot;Referer&quot;, &quot;https://server.sms.com/&quot;);\r\n                conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;);\r\n                conn.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(postParams.length()));\r\n                conn.setDoOutput(true);\r\n                conn.setDoInput(true);\r\n                DataOutputStream wr = new DataOutputStream(conn.getOutputStream());\r\n                wr.writeBytes(postParams);\r\n                wr.flush();\r\n                wr.close();\r\n                int responseCode = conn.getResponseCode();\r\n                System.out.println(&quot;\\nSending &#39;POST&#39; request to URL : &quot; + url + &quot; &quot;);\r\n                System.out.println(&quot;Post parameters : &quot; + postParams);\r\n                System.out.println(&quot;Response Code : &quot; + responseCode);\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(conn.getResponseCode() / 100 == 2 ? conn.getInputStream() : conn.getErrorStream(), &quot;UTF-8&quot;));\r\n                String inputLine;\r\n                while ((inputLine = in.readLine()) != null) {\r\n                    response.append(inputLine);\r\n                }\r\n                in.close();\r\n            /*} catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }*/\r\n            return response.toString();\r\n        }\r\n    }\r\n\r\n****Below is the call method:****\r\n\r\n    {SMS_exp ok = new SMS_exp();\r\n        String pass1 = &quot;123456&quot;, add = &quot;1234567890&quot;;\r\n        String msg = pass1 + &quot; Hello There. You get the SMS.&quot;;\r\n        String a = ok.sendPostJson(msg, add,&quot;&quot;);\r\n        System.out.print(a);}\r\n\r\n**Below is the error stack:**\r\n\r\n    java.net.ConnectException: Connection timed out: connect\r\n    \tjava.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n    \tjava.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\r\n    \tjava.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\r\n    \tjava.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\r\n    \tjava.net.AbstractPlainSocketImpl.connect(Unknown Source)\r\n    \tjava.net.PlainSocketImpl.connect(Unknown Source)\r\n    \tjava.net.SocksSocketImpl.connect(Unknown Source)\r\n    \tjava.net.Socket.connect(Unknown Source)\r\n    \tsun.security.ssl.SSLSocketImpl.connect(Unknown Source)\r\n    \tsun.security.ssl.BaseSSLSocketImpl.connect(Unknown Source)\r\n    \tsun.net.NetworkClient.doConnect(Unknown Source)\r\n    \tsun.net.www.http.HttpClient.openServer(Unknown Source)\r\n    \tsun.net.www.http.HttpClient.openServer(Unknown Source)\r\n    \tsun.net.www.protocol.https.HttpsClient.&lt;init&gt;(Unknown Source)\r\n    \tsun.net.www.protocol.https.HttpsClient.New(Unknown Source)\r\n    \tsun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(Unknown Source)\r\n    \tsun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source)\r\n    \tsun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)\r\n    \tsun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n    \tsun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source)\r\n    \tsun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source)\r\n    \tsun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source)\r\n    \tSMS_exp.sendPostJson(SMS_exp.java:46)\r\n\r\nCould you help me out, where its going wrong?","title":"HttpsURLConnection POST method: java.net.ConnectException: Connection timed out: connect","body":"<p>I have been trying to use an API with HttpsURLConnection POST method which sends an SMS. <strong>The class works fine when I call the function from the main function of the same class. However when I call the function from another class or jsp, It throws the time out error.</strong> I have done a lot of searching on this issue but couldn't get a breakthrough.</p>\n<p>Below is my class:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpCookie;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.List;\nimport javax.net.ssl.HttpsURLConnection;\n\npublic class SMS_exp {\n\n    public List&lt;HttpCookie&gt; cookies;\n    public HttpsURLConnection conn;\n    private final String USER_AGENT = &quot;Mozilla/5.0&quot;;\n\n    public static void main(String[] args) throws Exception {\n        String msg = &quot;Hello There. You get the SMS.&quot;;\n        String mob = &quot;&lt;Mobile Number&gt;&quot;;\n        SMS_exp as = new SMS_exp();\n        System.out.println(as.sendPostJson(msg, mob, &quot;&quot;));\n    }\n\n    public String sendPostJson(String msg, String mob, String postParams) throws Exception {\n        String url = &quot;https://server.sms.com/v4/?key&amp;method=sms&amp;message=&quot; + msg + &quot; &amp;to=&quot; + mob + &quot;&amp;sender=XXXXXX&quot;;\n        StringBuffer response = new StringBuffer();\n        //try {\n            URL obj = new URL(url);\n            conn = (HttpsURLConnection) obj.openConnection();\n            conn.setUseCaches(false);\n            System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n            conn.setRequestMethod(&quot;POST&quot;);\n            conn.setRequestProperty(&quot;Host&quot;, &quot;https://server.sms.com/&quot;);\n            conn.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\n            conn.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.8,hi;q=0.6&quot;);\n            conn.addRequestProperty(&quot;Cookie&quot;, &quot;&quot;);\n            conn.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n            conn.setRequestProperty(&quot;Referer&quot;, &quot;https://server.sms.com/&quot;);\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;);\n            conn.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(postParams.length()));\n            conn.setDoOutput(true);\n            conn.setDoInput(true);\n            DataOutputStream wr = new DataOutputStream(conn.getOutputStream());\n            wr.writeBytes(postParams);\n            wr.flush();\n            wr.close();\n            int responseCode = conn.getResponseCode();\n            System.out.println(&quot;\\nSending 'POST' request to URL : &quot; + url + &quot; &quot;);\n            System.out.println(&quot;Post parameters : &quot; + postParams);\n            System.out.println(&quot;Response Code : &quot; + responseCode);\n            BufferedReader in = new BufferedReader(new InputStreamReader(conn.getResponseCode() / 100 == 2 ? conn.getInputStream() : conn.getErrorStream(), &quot;UTF-8&quot;));\n            String inputLine;\n            while ((inputLine = in.readLine()) != null) {\n                response.append(inputLine);\n            }\n            in.close();\n        /*} catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }*/\n        return response.toString();\n    }\n}\n</code></pre>\n<p><strong><strong>Below is the call method:</strong></strong></p>\n<pre><code>{SMS_exp ok = new SMS_exp();\n    String pass1 = &quot;123456&quot;, add = &quot;1234567890&quot;;\n    String msg = pass1 + &quot; Hello There. You get the SMS.&quot;;\n    String a = ok.sendPostJson(msg, add,&quot;&quot;);\n    System.out.print(a);}\n</code></pre>\n<p><strong>Below is the error stack:</strong></p>\n<pre><code>java.net.ConnectException: Connection timed out: connect\n    java.net.DualStackPlainSocketImpl.connect0(Native Method)\n    java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\n    java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\n    java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\n    java.net.AbstractPlainSocketImpl.connect(Unknown Source)\n    java.net.PlainSocketImpl.connect(Unknown Source)\n    java.net.SocksSocketImpl.connect(Unknown Source)\n    java.net.Socket.connect(Unknown Source)\n    sun.security.ssl.SSLSocketImpl.connect(Unknown Source)\n    sun.security.ssl.BaseSSLSocketImpl.connect(Unknown Source)\n    sun.net.NetworkClient.doConnect(Unknown Source)\n    sun.net.www.http.HttpClient.openServer(Unknown Source)\n    sun.net.www.http.HttpClient.openServer(Unknown Source)\n    sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(Unknown Source)\n    sun.net.www.protocol.https.HttpsClient.New(Unknown Source)\n    sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(Unknown Source)\n    sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source)\n    sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)\n    sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n    sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source)\n    sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source)\n    sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source)\n    SMS_exp.sendPostJson(SMS_exp.java:46)\n</code></pre>\n<p>Could you help me out, where its going wrong?</p>\n"},{"tags":["java","spring","spring-mvc","log4j","aspectj"],"comments":[{"owner":{"account_id":1651980,"reputation":3225,"user_id":1522381,"display_name":"Mel Nicholson"},"score":0,"creation_date":1364831725,"post_id":15746676,"comment_id":22376172,"body_markdown":"Side note: In English, &quot;without&quot; is one word.  I hope you get a good answer.","body":"Side note: In English, &quot;without&quot; is one word.  I hope you get a good answer."},{"owner":{"account_id":1983565,"reputation":4164,"user_id":1779504,"accept_rate":69,"display_name":"csharpfolk"},"score":0,"creation_date":1480848102,"post_id":15746676,"comment_id":69124742,"body_markdown":"Aspect tutorial: http://marcin-chwedczuk.github.io/overview-of-spring-annotation-driven-aop","body":"Aspect tutorial: <a href=\"http://marcin-chwedczuk.github.io/overview-of-spring-annotation-driven-aop\" rel=\"nofollow noreferrer\">marcin-chwedczuk.github.io/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":249197,"reputation":3414,"user_id":525096,"accept_rate":67,"display_name":"Markus Coetzee"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1364850614,"creation_date":1364833302,"answer_id":15747155,"question_id":15746676,"body_markdown":"Spring makes it really easy for us to make use of AOP. Here&#39;s a simple logging example:\r\n\r\n\r\n    @Aspect\r\n    public class MyLogger {\r\n \r\n        private Logger log = Logger.getLogger(getClass());\r\n\r\n        @After(&quot;execution(* com.example.web.HomeController.*(..))&quot;)\r\n        public void log(JoinPoint point) {\r\n            log.info(point.getSignature().getName() + &quot; called...&quot;);\r\n        }\r\n    }\r\n\r\nThen simply configure your applicationContext.xml (or equivalent):\r\n\r\n        &lt;aop:aspectj-autoproxy&gt;\r\n            &lt;aop:include name=&quot;myLogger&quot;/&gt;\r\n        &lt;/aop:aspectj-autoproxy&gt;\r\n    \r\n        &lt;bean id=&quot;myLogger&quot; class=&quot;com.example.aspect.MyLogger&quot;/&gt;\r\n\r\nYou&#39;ll notice in the MyLogger class that I specified `@After` right above the method. This is called the advice and it basically specifies that this &#39;log&#39; method will be called **after** the method in question. Other options include `@Before, @Around, @AfterThrowing`. \r\n\r\nThe expression `&quot;execution(* com.example.web.HomeController.*(..))&quot;` is called a pointcut expression and specifies what we&#39;re targeting (in this case all methods of the HomeController class).\r\n\r\nP.S. The `aop` namespace (`xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;`) and the schema location (version dependent) would need to be added to your applicationContext.xml right at the top. Here is my setup:\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd\r\n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\r\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\r\n            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd&quot;&gt;","title":"logging with AOP in spring?","body":"<p>Spring makes it really easy for us to make use of AOP. Here's a simple logging example:</p>\n\n<pre><code>@Aspect\npublic class MyLogger {\n\n    private Logger log = Logger.getLogger(getClass());\n\n    @After(\"execution(* com.example.web.HomeController.*(..))\")\n    public void log(JoinPoint point) {\n        log.info(point.getSignature().getName() + \" called...\");\n    }\n}\n</code></pre>\n\n<p>Then simply configure your applicationContext.xml (or equivalent):</p>\n\n<pre><code>    &lt;aop:aspectj-autoproxy&gt;\n        &lt;aop:include name=\"myLogger\"/&gt;\n    &lt;/aop:aspectj-autoproxy&gt;\n\n    &lt;bean id=\"myLogger\" class=\"com.example.aspect.MyLogger\"/&gt;\n</code></pre>\n\n<p>You'll notice in the MyLogger class that I specified <code>@After</code> right above the method. This is called the advice and it basically specifies that this 'log' method will be called <strong>after</strong> the method in question. Other options include <code>@Before, @Around, @AfterThrowing</code>. </p>\n\n<p>The expression <code>\"execution(* com.example.web.HomeController.*(..))\"</code> is called a pointcut expression and specifies what we're targeting (in this case all methods of the HomeController class).</p>\n\n<p>P.S. The <code>aop</code> namespace (<code>xmlns:aop=\"http://www.springframework.org/schema/aop\"</code>) and the schema location (version dependent) would need to be added to your applicationContext.xml right at the top. Here is my setup:</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2198254,"reputation":3511,"user_id":1943380,"display_name":"Avinash Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632533576,"creation_date":1364833501,"answer_id":15747212,"question_id":15746676,"body_markdown":"You need to perform several steps to integrate Aspectj:\r\n\r\n1. [Install AspectJ][1]\r\n2. Add your aop.xml to META-INF\\aop.xml in your project\r\n3. Add aspectjrt-x.x.0.jar and aspectjweaver-x.x.0.jar in your project classpath\r\n4. Add -javaagent:/path to aspectj installation/aspectjweaver-1.7.0.jar to your server&#39;s JVM.\r\n\r\nHere is a sample aop.xml:\r\n\r\n    &lt;aspectj&gt;\r\n     &lt;aspects&gt;\r\n      &lt;aspect name=&quot;test.MySimpleLoggerAspect&quot; /&gt;\r\n     &lt;/aspects&gt;\r\n     &lt;weaver&gt;\r\n      &lt;include within=&quot;test.myproject.*&quot; /&gt;\r\n     &lt;/weaver&gt;     \r\n    &lt;/aspectj&gt;\r\n\r\n\r\nIf you are already using Spring then it is better to use Spring to simplify your setup.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20131012065443/http://www.cs.utep.edu/cheon/cs3360/project/proj1/installing-aspectj.txt","title":"logging with AOP in spring?","body":"<p>You need to perform several steps to integrate Aspectj:</p>\n<ol>\n<li><a href=\"https://web.archive.org/web/20131012065443/http://www.cs.utep.edu/cheon/cs3360/project/proj1/installing-aspectj.txt\" rel=\"nofollow noreferrer\">Install AspectJ</a></li>\n<li>Add your aop.xml to META-INF\\aop.xml in your project</li>\n<li>Add aspectjrt-x.x.0.jar and aspectjweaver-x.x.0.jar in your project classpath</li>\n<li>Add -javaagent:/path to aspectj installation/aspectjweaver-1.7.0.jar to your server's JVM.</li>\n</ol>\n<p>Here is a sample aop.xml:</p>\n<pre><code>&lt;aspectj&gt;\n &lt;aspects&gt;\n  &lt;aspect name=&quot;test.MySimpleLoggerAspect&quot; /&gt;\n &lt;/aspects&gt;\n &lt;weaver&gt;\n  &lt;include within=&quot;test.myproject.*&quot; /&gt;\n &lt;/weaver&gt;     \n&lt;/aspectj&gt;\n</code></pre>\n<p>If you are already using Spring then it is better to use Spring to simplify your setup.</p>\n"}],"owner":{"account_id":2057943,"reputation":8309,"user_id":1835198,"accept_rate":58,"display_name":"Human Being"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51384,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":15747155,"answer_count":2,"score":20,"last_activity_date":1661836552,"creation_date":1364831334,"question_id":15746676,"body_markdown":"I am new to spring in my office . So there is no  guidance for  me.\r\n\r\nI need to implement the logging with the `AOP` using the `log4j`. \r\n\r\nI have implemented the logging without `AOP` in basic `spring MVC` example ?\r\n\r\nAlso did the small sample in `AOP` using the `aspectJ` without logging (just made the `Sysout`) ?\r\n\r\nI don&#39;t know how to integrate it ?\r\n\r\nCan any one please give me a start up idea?\r\n\r\nGood answers are definitely appreciated ...\r\n","title":"logging with AOP in spring?","body":"<p>I am new to spring in my office . So there is no  guidance for  me.</p>\n\n<p>I need to implement the logging with the <code>AOP</code> using the <code>log4j</code>. </p>\n\n<p>I have implemented the logging without <code>AOP</code> in basic <code>spring MVC</code> example ?</p>\n\n<p>Also did the small sample in <code>AOP</code> using the <code>aspectJ</code> without logging (just made the <code>Sysout</code>) ?</p>\n\n<p>I don't know how to integrate it ?</p>\n\n<p>Can any one please give me a start up idea?</p>\n\n<p>Good answers are definitely appreciated ...</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661835941,"creation_date":1661835941,"answer_id":73537364,"question_id":73537006,"body_markdown":"In your particular case, it would be as simple as:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference userRef = db.child(&quot;User&quot;);\r\n    userRef.child(&quot;ttl_user&quot;).setValue(ServerValue.increment(1));\r\n\r\nAnd to decrement, simply pass a negative value `-1`.","title":"Firebase realtime DB update child","body":"<p>In your particular case, it would be as simple as:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference userRef = db.child(&quot;User&quot;);\nuserRef.child(&quot;ttl_user&quot;).setValue(ServerValue.increment(1));\n</code></pre>\n<p>And to decrement, simply pass a negative value <code>-1</code>.</p>\n"}],"owner":{"account_id":26064609,"reputation":3,"user_id":19765269,"display_name":"Kurokumo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73537364,"answer_count":1,"score":0,"last_activity_date":1661835980,"creation_date":1661831981,"question_id":73537006,"body_markdown":"I have a &quot;Users&quot; data structure [like this][1], I want to increment the value of `ttl_user` by 1 when a user is signed up. And decrement it by 1 when a user has deleted their account.\r\n\r\nHow can I update the value? Thanks.\r\n\r\n  [1]: https://i.stack.imgur.com/ZJ9gd.png","title":"Firebase realtime DB update child","body":"<p>I have a &quot;Users&quot; data structure <a href=\"https://i.stack.imgur.com/ZJ9gd.png\" rel=\"nofollow noreferrer\">like this</a>, I want to increment the value of <code>ttl_user</code> by 1 when a user is signed up. And decrement it by 1 when a user has deleted their account.</p>\n<p>How can I update the value? Thanks.</p>\n"},{"tags":["java","multithreading","threadpool","java-threads"],"answers":[{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661833076,"creation_date":1661833076,"answer_id":73537108,"question_id":73536441,"body_markdown":"You should refactor your code to use CompletableFuture and what we commonly call the continuation pattern.\r\n\r\nInstead of using Future.get, you should use CompletableFuture and call the code that depends on the result of Future.get inside CompletableFuture.thenRun and friends.\r\n\r\nYou can also have a look at ForkJoinPool. It is made for tasks that are collaborating together and that can be interdependent.\r\n\r\nThe ThreadPoolExecutor isn&#39;t designed for that kind of use. It&#39;s rather made for tasks that are mostly independent from eachother.\r\nIt isn&#39;t forbidden, but as you have seen, you can quickly lock up yourself if your pool hasn&#39;t enough threads. If you want to keep using ThreadPoolExecutor in the way you have done in your example, you must have at least as much threads as there are possible recursions.\r\n","title":"How do I have a running task in a thread pool yield to another task that&#39;s currently queued?","body":"<p>You should refactor your code to use CompletableFuture and what we commonly call the continuation pattern.</p>\n<p>Instead of using Future.get, you should use CompletableFuture and call the code that depends on the result of Future.get inside CompletableFuture.thenRun and friends.</p>\n<p>You can also have a look at ForkJoinPool. It is made for tasks that are collaborating together and that can be interdependent.</p>\n<p>The ThreadPoolExecutor isn't designed for that kind of use. It's rather made for tasks that are mostly independent from eachother.\nIt isn't forbidden, but as you have seen, you can quickly lock up yourself if your pool hasn't enough threads. If you want to keep using ThreadPoolExecutor in the way you have done in your example, you must have at least as much threads as there are possible recursions.</p>\n"}],"owner":{"account_id":462189,"reputation":5436,"user_id":864358,"accept_rate":67,"display_name":"Phillip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661833076,"creation_date":1661825570,"question_id":73536441,"body_markdown":"I have a task that does some work, then recursively calls itself:\r\n\r\n    void taskA() {\r\n        // logic\r\n        Future future = pool.submit( () -&gt; taskA() );\r\n        // logic (block on future.get())\r\n    }\r\n\r\nI submit the recursive invocation to a thread pool (size 1), at which point the running task is blocked because the queued-up invocation doesn&#39;t get a chance to run. Is there a way to have the ExecutorService yield its thread to temporarily put aside the blocked task in order to allow the queued up task to run in its place?","title":"How do I have a running task in a thread pool yield to another task that&#39;s currently queued?","body":"<p>I have a task that does some work, then recursively calls itself:</p>\n<pre><code>void taskA() {\n    // logic\n    Future future = pool.submit( () -&gt; taskA() );\n    // logic (block on future.get())\n}\n</code></pre>\n<p>I submit the recursive invocation to a thread pool (size 1), at which point the running task is blocked because the queued-up invocation doesn't get a chance to run. Is there a way to have the ExecutorService yield its thread to temporarily put aside the blocked task in order to allow the queued up task to run in its place?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":7955034,"reputation":2789,"user_id":6004650,"accept_rate":80,"display_name":"MikeJRamsey56"},"score":1,"creation_date":1489544091,"post_id":42794501,"comment_id":72714118,"body_markdown":"Possible duplicate of [Get element at specified position - JavaScript](http://stackoverflow.com/questions/1259585/get-element-at-specified-position-javascript)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1259585/get-element-at-specified-position-javascript\">Get element at specified position - JavaScript</a>"},{"owner":{"account_id":10265409,"reputation":2274,"user_id":7575536,"display_name":"bluehipy"},"score":1,"creation_date":1490951392,"post_id":42794501,"comment_id":73350613,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/31910534/executing-javascript-elementfrompoint-through-selenium-driver","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/31910534/executing-javascript-elementfrompoint-through-selenium-driver\" title=\"executing javascript elementfrompoint through selenium driver\">stackoverflow.com/questions/31910534/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10265409,"reputation":2274,"user_id":7575536,"display_name":"bluehipy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490951103,"creation_date":1490951103,"answer_id":43136691,"question_id":42794501,"body_markdown":"The only possible way is by checking the coordinates against all possible elements (if you don &#39;t know nothing about the element you are looking for, Eg. the tag)\r\n\r\nSo use `findElements` like `driver.findElements(By.cssSelector(&quot;*&quot;))` OR `driver.findElements(By.xpath(&quot;//*&quot;))` then for each of the found elements check if their location `x` , `y` is the ones you are trying to match and return the element if any.\r\n\r\n\r\nOR call the js `elementFromPoint` trough the driver as described [here][1] :)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31910534/executing-javascript-elementfrompoint-through-selenium-driver","title":"Find Element by Coordinates in Selenium (WebDriver)","body":"<p>The only possible way is by checking the coordinates against all possible elements (if you don 't know nothing about the element you are looking for, Eg. the tag)</p>\n\n<p>So use <code>findElements</code> like <code>driver.findElements(By.cssSelector(\"*\"))</code> OR <code>driver.findElements(By.xpath(\"//*\"))</code> then for each of the found elements check if their location <code>x</code> , <code>y</code> is the ones you are trying to match and return the element if any.</p>\n\n<p>OR call the js <code>elementFromPoint</code> trough the driver as described <a href=\"https://stackoverflow.com/questions/31910534/executing-javascript-elementfrompoint-through-selenium-driver\">here</a> :)</p>\n"},{"tags":[],"owner":{"account_id":10921241,"reputation":51,"user_id":8027465,"display_name":"gustavo herrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561608052,"creation_date":1561608052,"answer_id":56783707,"question_id":42794501,"body_markdown":"Using MoveToElement you will be able to find or click in whatever point you want, you have just to define the first parameter, it can be the session(winappdriver) or driver(in other ways) which is created when you instance WindowsDriver&lt;WindowsElement&gt;. Otherwise you can set as first parameter a grid (my case), a list, a panel or whatever you want.\r\n\r\nNote: The top-left of your first parameter element will be the position X = 0 and Y = 0\r\n\r\n    Actions actions = new Actions(this.session);\r\n    int xPosition = this.session.FindElementsByAccessibilityId(&quot;GraphicView&quot;)[0].Size.Width - 530;\r\n    int yPosition = this.session.FindElementsByAccessibilityId(&quot;GraphicView&quot;)[0].Size.Height- 150;\r\n    actions.MoveToElement(this.xecuteClientSession.FindElementsByAccessibilityId(&quot;GraphicView&quot;)[0], xPosition, yPosition).ContextClick().Build().Perform();","title":"Find Element by Coordinates in Selenium (WebDriver)","body":"<p>Using MoveToElement you will be able to find or click in whatever point you want, you have just to define the first parameter, it can be the session(winappdriver) or driver(in other ways) which is created when you instance WindowsDriver. Otherwise you can set as first parameter a grid (my case), a list, a panel or whatever you want.</p>\n\n<p>Note: The top-left of your first parameter element will be the position X = 0 and Y = 0</p>\n\n<pre><code>Actions actions = new Actions(this.session);\nint xPosition = this.session.FindElementsByAccessibilityId(\"GraphicView\")[0].Size.Width - 530;\nint yPosition = this.session.FindElementsByAccessibilityId(\"GraphicView\")[0].Size.Height- 150;\nactions.MoveToElement(this.xecuteClientSession.FindElementsByAccessibilityId(\"GraphicView\")[0], xPosition, yPosition).ContextClick().Build().Perform();\n</code></pre>\n"}],"owner":{"account_id":10432452,"reputation":263,"user_id":7691870,"accept_rate":14,"display_name":"Kevin Little"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14137,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1661832490,"creation_date":1489518297,"question_id":42794501,"body_markdown":"I&#39;m aware how to retrieve the coordinates of a web element in Selenium:\r\n \r\n\r\n    WebElement element = driver.findElement(By.xpath(XPath));\r\n    Point location = element.getLocation();\r\n    location.x + &quot; &quot; + location.y\r\n\r\nHowever I&#39;m trying to do the opposite - locate a web element using its coordinates. \r\n\r\nI understand I could find all elements on a web page, loop through the list of elements, get the x,y coordinates of each element in the list and compare it to the expected coordinates. If both x and y coordinates of an element match the expected web element I could return the given web element. However it seems very inefficient to me to need to loop through every web element on a page to find the one matching element.\r\n\r\nIs there a more of a direct way of finding an element by coordinates?\r\n\r\n**Note:** Although a similar question has been asked over here: https://stackoverflow.com/questions/1259585/get-element-at-specified-position-javascript - my question is different bec I want to be able to do this directly using Selenium without the need to come onto Javscript. ","title":"Find Element by Coordinates in Selenium (WebDriver)","body":"<p>I'm aware how to retrieve the coordinates of a web element in Selenium:</p>\n\n<pre><code>WebElement element = driver.findElement(By.xpath(XPath));\nPoint location = element.getLocation();\nlocation.x + \" \" + location.y\n</code></pre>\n\n<p>However I'm trying to do the opposite - locate a web element using its coordinates. </p>\n\n<p>I understand I could find all elements on a web page, loop through the list of elements, get the x,y coordinates of each element in the list and compare it to the expected coordinates. If both x and y coordinates of an element match the expected web element I could return the given web element. However it seems very inefficient to me to need to loop through every web element on a page to find the one matching element.</p>\n\n<p>Is there a more of a direct way of finding an element by coordinates?</p>\n\n<p><strong>Note:</strong> Although a similar question has been asked over here: <a href=\"https://stackoverflow.com/questions/1259585/get-element-at-specified-position-javascript\">Get element at specified position - JavaScript</a> - my question is different bec I want to be able to do this directly using Selenium without the need to come onto Javscript. </p>\n"},{"tags":["java","android","android-instant-apps"],"comments":[{"owner":{"account_id":7941028,"reputation":6743,"user_id":5995040,"display_name":"Mr.Rebot"},"score":0,"creation_date":1536562496,"post_id":52237942,"comment_id":91452366,"body_markdown":"Can you add any details like: code used, error problem encountered? [How do I ask a good question?](http://stackoverflow.com/help/how-to-ask), [How to create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve) Show the community what you have tried.","body":"Can you add any details like: code used, error problem encountered? <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>, <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> Show the community what you have tried."},{"owner":{"account_id":8938986,"reputation":6328,"user_id":6668797,"accept_rate":60,"display_name":"TWL"},"score":0,"creation_date":1536598795,"post_id":52237942,"comment_id":91472414,"body_markdown":"A couple posts you can check up on: https://stackoverflow.com/a/46003617/6668797, https://stackoverflow.com/a/44633060/6668797, https://stackoverflow.com/a/46138747/6668797","body":"A couple posts you can check up on: <a href=\"https://stackoverflow.com/a/46003617/6668797\">stackoverflow.com/a/46003617/6668797</a>, <a href=\"https://stackoverflow.com/a/44633060/6668797\">stackoverflow.com/a/44633060/6668797</a>, <a href=\"https://stackoverflow.com/a/46138747/6668797\">stackoverflow.com/a/46138747/6668797</a>"}],"answers":[{"tags":[],"owner":{"account_id":7217638,"reputation":11,"user_id":5509471,"display_name":"Pratheep Kanati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543236739,"creation_date":1543236739,"answer_id":53481540,"question_id":52237942,"body_markdown":"I solved this problem after changing digital asset file permissions to public","title":"Digital Assets Link protocol to my website not working","body":"<p>I solved this problem after changing digital asset file permissions to public</p>\n"},{"tags":[],"owner":{"account_id":2879230,"reputation":31,"user_id":2470474,"display_name":"narendra keda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661831494,"creation_date":1661831494,"answer_id":73536949,"question_id":52237942,"body_markdown":"There is some issue in the asset link generator.\r\n\r\nUse below format.\r\n \r\n    [\r\n       { \r\n          &quot;relation&quot;:[ \r\n                      &quot;delegate_permission/common.handle_all_urls&quot;\r\n                     ],\r\n          &quot;target&quot;:{\r\n                      &quot;namespace&quot;:&quot;web&quot;,\r\n                      &quot;site&quot;:&quot;https://abc.xyz.com&quot; \r\n                   }\r\n       },\r\n       {\r\n         &quot;relation&quot;:[\r\n                     &quot;delegate_permission/common.handle_all_urls&quot;\r\n                    ],\r\n         &quot;target&quot;:{\r\n                      &quot;namespace&quot;:&quot;android_app&quot;,\r\n                      &quot;package_name&quot;:&quot;com.ddd.app&quot;,\r\n                      &quot;sha256_cert_fingerprints&quot;:[ &quot;ff:32:58:3A:CD:D8:57:9F:FB:C1:d3:88:33:44:FB:5B:33:15:33:33:8F:8A:3A:27:33:54:BE:33:7D:5D:4r:D7&quot;\r\n                                                  ]\r\n                  }\r\n         }\r\n]","title":"Digital Assets Link protocol to my website not working","body":"<p>There is some issue in the asset link generator.</p>\n<p>Use below format.</p>\n<pre><code>[\n   { \n      &quot;relation&quot;:[ \n                  &quot;delegate_permission/common.handle_all_urls&quot;\n                 ],\n      &quot;target&quot;:{\n                  &quot;namespace&quot;:&quot;web&quot;,\n                  &quot;site&quot;:&quot;https://abc.xyz.com&quot; \n               }\n   },\n   {\n     &quot;relation&quot;:[\n                 &quot;delegate_permission/common.handle_all_urls&quot;\n                ],\n     &quot;target&quot;:{\n                  &quot;namespace&quot;:&quot;android_app&quot;,\n                  &quot;package_name&quot;:&quot;com.ddd.app&quot;,\n                  &quot;sha256_cert_fingerprints&quot;:[ &quot;ff:32:58:3A:CD:D8:57:9F:FB:C1:d3:88:33:44:FB:5B:33:15:33:33:8F:8A:3A:27:33:54:BE:33:7D:5D:4r:D7&quot;\n                                              ]\n              }\n     }\n</code></pre>\n<p>]</p>\n"}],"owner":{"account_id":7217638,"reputation":11,"user_id":5509471,"display_name":"Pratheep Kanati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661831494,"creation_date":1536429423,"question_id":52237942,"body_markdown":"While I try to publish my instant app in play store it showing that \r\n\r\nYour site &#39;app.mydomain.in&#39; has not been linked through the Digital Assets Link protocol to your app. Please link your site through the Digital Assets Link protocol to your app.\r\n\r\nBut I linked the Digital Asset Link to my website But  Still Showing This  error\r\nI am using App sign key which in play console and also  While Test with \r\n[https://developers.google.com/digital-asset-links/tools/generator][1]\r\n\r\nshowing good but trying to Roll to productions  it showing this error please help me \r\n\r\n\r\n\r\n  [1]: https://developers.google.com/digital-asset-links/tools/generator","title":"Digital Assets Link protocol to my website not working","body":"<p>While I try to publish my instant app in play store it showing that </p>\n\n<p>Your site 'app.mydomain.in' has not been linked through the Digital Assets Link protocol to your app. Please link your site through the Digital Assets Link protocol to your app.</p>\n\n<p>But I linked the Digital Asset Link to my website But  Still Showing This  error\nI am using App sign key which in play console and also  While Test with \n<a href=\"https://developers.google.com/digital-asset-links/tools/generator\" rel=\"nofollow noreferrer\">https://developers.google.com/digital-asset-links/tools/generator</a></p>\n\n<p>showing good but trying to Roll to productions  it showing this error please help me </p>\n"},{"tags":["java","android","android-studio","android-gradle-plugin","nine-patch"],"comments":[{"owner":{"account_id":3964023,"reputation":509,"user_id":3270494,"accept_rate":70,"display_name":"Ankit Arora"},"score":0,"creation_date":1497809653,"post_id":44553951,"comment_id":76221997,"body_markdown":"do you have the 9patch and without 9patch image both in the resources ? also have you tried removing .9 from the 9patch image and tried naming it .png ?","body":"do you have the 9patch and without 9patch image both in the resources ? also have you tried removing .9 from the 9patch image and tried naming it .png ?"},{"owner":{"account_id":3964023,"reputation":509,"user_id":3270494,"accept_rate":70,"display_name":"Ankit Arora"},"score":0,"creation_date":1497810460,"post_id":44553951,"comment_id":76222271,"body_markdown":"https://stackoverflow.com/a/4280451/3270494 have you tried this ?\n\n&quot;The resource compiler strips 9-patches one-pixel borders away (and presumably stores the information gained from them in a more efficient way outside of the .9.png file). If you&#39;ve fished these .9.png files out of an .apk, you&#39;ll need to add the border back by hand.&quot;","body":"<a href=\"https://stackoverflow.com/a/4280451/3270494\">stackoverflow.com/a/4280451/3270494</a> have you tried this ?  &quot;The resource compiler strips 9-patches one-pixel borders away (and presumably stores the information gained from them in a more efficient way outside of the .9.png file). If you&#39;ve fished these .9.png files out of an .apk, you&#39;ll need to add the border back by hand.&quot;"},{"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"score":0,"creation_date":1497810869,"post_id":44553951,"comment_id":76222395,"body_markdown":"It&#39;s certainly not logcat, because that&#39;s show run-time errors &amp; info of your phone while your problem is a build time problem if I understand correctly. Keep searching for build-time log files.","body":"It&#39;s certainly not logcat, because that&#39;s show run-time errors &amp; info of your phone while your problem is a build time problem if I understand correctly. Keep searching for build-time log files."},{"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"score":0,"creation_date":1497859889,"post_id":44553951,"comment_id":76236246,"body_markdown":"`Where are the logs???` Perform `./gradlew --debug assembleDebug`","body":"<code>Where are the logs???</code> Perform <code>.&#47;gradlew --debug assembleDebug</code>"},{"owner":{"account_id":7385830,"reputation":1898,"user_id":5620882,"accept_rate":0,"display_name":"PN10"},"score":0,"creation_date":1497867856,"post_id":44553951,"comment_id":76241540,"body_markdown":"@AdamVarhegi put the image in drawable folder try clean project ....whats the extension of your image?","body":"@AdamVarhegi put the image in drawable folder try clean project ....whats the extension of your image?"}],"answers":[{"tags":[],"owner":{"account_id":2854318,"reputation":12308,"user_id":2450855,"accept_rate":62,"display_name":"Farhad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497810424,"creation_date":1497810424,"answer_id":44618179,"question_id":44553951,"body_markdown":"Try adding this to your app `build.gradle` file\r\n\r\n     android {\r\n        aaptOptions {  \r\n                    cruncherEnabled = false  \r\n                } \r\n            }","title":"Error on nine patch image: Some file crunching failed, see logs for details","body":"<p>Try adding this to your app <code>build.gradle</code> file</p>\n\n<pre><code> android {\n    aaptOptions {  \n                cruncherEnabled = false  \n            } \n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1661831149,"creation_date":1497939070,"answer_id":44645112,"question_id":44553951,"body_markdown":"I have collected some sollutions. Please check one by one. Hope it may help you.\r\n\r\nSuggestion#1:\r\n-------------\r\n\r\nThis is caused by the path length restriction. I think it&#39;s 256 characters maximum.\r\n\r\nRelocate your project and the build will succeed.\r\n\r\n**Resource Link:** https://stackoverflow.com/a/25209204\r\n\r\nSuggestion#2:\r\n-------------\r\n\r\nSometimes .9.png images are corrupted. So you can replace it in your drawables directory.\r\n\r\n**Resource Link:** https://stackoverflow.com/a/41380118\r\n\r\nSuggestion#3:\r\n------------\r\n\r\nBest solution is changing the buildDir in build.gradle:\r\n\r\nFor example:\r\n\r\n    allprojects {\r\n        buildDir = &quot;C:/tmp/${rootProject.name}/${project.name}&quot;\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\nRebuild and happy coding.\r\n\r\n**Resource Link:** https://stackoverflow.com/a/41877283\r\n\r\nSuggestion#4:\r\n------------\r\n\r\nYou can diagonse by the following command:\r\n\r\n    ./gradlew :app:mergeIntegrationDebugResources --debug &gt; buildLog.txt\r\n\r\nOnce that finished, Open the buildLog.txt file, and searched for &quot;Error&quot; (no quotes in actual search). Then you will find those files are having problems, and then removed it from the appropriate folder, and then re-run the command above until you didn&#39;t get any errors.\r\n\r\n**Resource Link:** https://stackoverflow.com/a/36648743\r\n\r\nSuggestion#5:\r\n-------------\r\nfile &gt;&gt; invalidate caches/restart\r\n\r\nSuggestion#6:\r\n------------\r\n\r\n1. Go to your build.gradle file in your project.\r\n2. Change:\r\n\r\n&gt;     dependencies {\r\n&gt;         classpath &#39;com.android.tools.build:gradle:1.1.0&#39;\r\n\r\nto:\r\n\r\n&gt;     dependencies {\r\n&gt;         classpath &#39;com.android.tools.build:gradle:1.1.3&#39;\r\n\r\nsame problem is also coming in `&#39;com.android.tools.build:gradle:1.5.0&#39;`. On that case downgrade it.\r\n\r\n3. Then Clean --&gt; Rebuild\r\n\r\n**Resource Link:** https://stackoverflow.com/a/31638208\r\n\r\nSuggestion#7:\r\n-------------\r\nfor anyone having the same problem. this solved the issue for me:\r\n\r\nhttp://stackoverflow.com/questions/22701405/aapt-ioexception-error-2-no-such-file-or-directory-why-cant-i-build-my-grad\r\n\r\nIt&#39;s an issue with 64-bit OS, because aapt isn&#39;t available you have to install these 2 packages:\r\n\r\n&gt; sudo apt-get install lib32stdc++6 lib32z1\r\n\r\n**Resource Link:** https://github.com/facebook/react-native/issues/7320","title":"Error on nine patch image: Some file crunching failed, see logs for details","body":"<p>I have collected some sollutions. Please check one by one. Hope it may help you.</p>\n<h2>Suggestion#1:</h2>\n<p>This is caused by the path length restriction. I think it's 256 characters maximum.</p>\n<p>Relocate your project and the build will succeed.</p>\n<p><strong>Resource Link:</strong> <a href=\"https://stackoverflow.com/a/25209204\">https://stackoverflow.com/a/25209204</a></p>\n<h2>Suggestion#2:</h2>\n<p>Sometimes .9.png images are corrupted. So you can replace it in your drawables directory.</p>\n<p><strong>Resource Link:</strong> <a href=\"https://stackoverflow.com/a/41380118\">https://stackoverflow.com/a/41380118</a></p>\n<h2>Suggestion#3:</h2>\n<p>Best solution is changing the buildDir in build.gradle:</p>\n<p>For example:</p>\n<pre><code>allprojects {\n    buildDir = &quot;C:/tmp/${rootProject.name}/${project.name}&quot;\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n<p>Rebuild and happy coding.</p>\n<p><strong>Resource Link:</strong> <a href=\"https://stackoverflow.com/a/41877283\">https://stackoverflow.com/a/41877283</a></p>\n<h2>Suggestion#4:</h2>\n<p>You can diagonse by the following command:</p>\n<pre><code>./gradlew :app:mergeIntegrationDebugResources --debug &gt; buildLog.txt\n</code></pre>\n<p>Once that finished, Open the buildLog.txt file, and searched for &quot;Error&quot; (no quotes in actual search). Then you will find those files are having problems, and then removed it from the appropriate folder, and then re-run the command above until you didn't get any errors.</p>\n<p><strong>Resource Link:</strong> <a href=\"https://stackoverflow.com/a/36648743\">https://stackoverflow.com/a/36648743</a></p>\n<h2>Suggestion#5:</h2>\n<p>file &gt;&gt; invalidate caches/restart</p>\n<h2>Suggestion#6:</h2>\n<ol>\n<li>Go to your build.gradle file in your project.</li>\n<li>Change:</li>\n</ol>\n<blockquote>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:1.1.0'\n</code></pre>\n</blockquote>\n<p>to:</p>\n<blockquote>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:1.1.3'\n</code></pre>\n</blockquote>\n<p>same problem is also coming in <code>'com.android.tools.build:gradle:1.5.0'</code>. On that case downgrade it.</p>\n<ol start=\"3\">\n<li>Then Clean --&gt; Rebuild</li>\n</ol>\n<p><strong>Resource Link:</strong> <a href=\"https://stackoverflow.com/a/31638208\">https://stackoverflow.com/a/31638208</a></p>\n<h2>Suggestion#7:</h2>\n<p>for anyone having the same problem. this solved the issue for me:</p>\n<p><a href=\"http://stackoverflow.com/questions/22701405/aapt-ioexception-error-2-no-such-file-or-directory-why-cant-i-build-my-grad\">&quot;aapt&quot; IOException error=2, No such file or directory&quot; why can&#39;t I build my gradle on jenkins?</a></p>\n<p>It's an issue with 64-bit OS, because aapt isn't available you have to install these 2 packages:</p>\n<blockquote>\n<p>sudo apt-get install lib32stdc++6 lib32z1</p>\n</blockquote>\n<p><strong>Resource Link:</strong> <a href=\"https://github.com/facebook/react-native/issues/7320\" rel=\"nofollow noreferrer\">https://github.com/facebook/react-native/issues/7320</a></p>\n"},{"tags":[],"owner":{"account_id":5436902,"reputation":1023,"user_id":4326113,"display_name":"M. Chavoshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502029281,"creation_date":1502029281,"answer_id":45532942,"question_id":44553951,"body_markdown":"I had the same problem, deleting the right and the bottom borders of the 9-patch png file fixed the problem.","title":"Error on nine patch image: Some file crunching failed, see logs for details","body":"<p>I had the same problem, deleting the right and the bottom borders of the 9-patch png file fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":8652943,"reputation":22446,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504001817,"creation_date":1504001817,"answer_id":45936511,"question_id":44553951,"body_markdown":"I had similar problem , The Log was shown in **Gradle Console** for me . The problem for me was that the nine patch image was wrong, it  had 2 vertical paddings at right . I removed 1 vertical padding and it worked fine.  ","title":"Error on nine patch image: Some file crunching failed, see logs for details","body":"<p>I had similar problem , The Log was shown in <strong>Gradle Console</strong> for me . The problem for me was that the nine patch image was wrong, it  had 2 vertical paddings at right . I removed 1 vertical padding and it worked fine.  </p>\n"},{"tags":[],"owner":{"account_id":3786272,"reputation":64,"user_id":3144137,"display_name":"Andrus S&#228;de"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544030786,"creation_date":1544030786,"answer_id":53637688,"question_id":44553951,"body_markdown":"I had same problem. Errorenous 9patch was forgotten into mipmap folder..","title":"Error on nine patch image: Some file crunching failed, see logs for details","body":"<p>I had same problem. Errorenous 9patch was forgotten into mipmap folder..</p>\n"}],"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5273,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":44645112,"answer_count":5,"score":1,"last_activity_date":1661831149,"creation_date":1497471245,"question_id":44553951,"body_markdown":"I cannot add a ninepatch png to my project because of this **build error:**\r\n\r\n&gt; Information:Gradle tasks [:app:assembleDebug] Error:Some file\r\n&gt; crunching failed, see logs for details Error:Execution failed for task\r\n&gt; &#39;:app:mergeDebugResources&#39;.\r\n&gt; &gt; Error: Some file crunching failed, see logs for details Information:BUILD FAILED Information:Total time: 11.955 secs\r\n&gt; Information:2 errors Information:0 warnings Information:See complete\r\n&gt; output in console\r\n\r\n\r\n**Fact:** I have already added one which runs perfectly, the other one is made with the very same methodology, same boundaries and stuff yet makes build error.\r\n\r\nI have tried:\r\n\r\n - Clean\r\n - Rebuild project\r\n - Restart AS\r\n - Restart PC\r\n - Made nine patch with Photoshop\r\n - Made nine patch with AS built in nine patch maker\r\n - Various naming conventions\r\n - Shorten the dir path of the project\r\n - Adding crunch: false to gradle\r\n\r\nExtra wtf:\r\n\r\n- If i just copy the pixel contents of the not working nine patch to the working one the error appears.\r\n\r\nAlso, the error says **&quot;see logs&quot;**\r\n\r\n\r\n\r\nWhere are the logs???\r\n---------------------\r\n\r\nBecause its not in logcat thats for sure.\r\n\r\nPlease help if you can. This drives me nuts. \r\nIm really interested why I have to spend half a day with an image import.","title":"Error on nine patch image: Some file crunching failed, see logs for details","body":"<p>I cannot add a ninepatch png to my project because of this <strong>build error:</strong></p>\n\n<blockquote>\n  <p>Information:Gradle tasks [:app:assembleDebug] Error:Some file\n  crunching failed, see logs for details Error:Execution failed for task\n  ':app:mergeDebugResources'.</p>\n  \n  <blockquote>\n    <p>Error: Some file crunching failed, see logs for details Information:BUILD FAILED Information:Total time: 11.955 secs\n    Information:2 errors Information:0 warnings Information:See complete\n    output in console</p>\n  </blockquote>\n</blockquote>\n\n<p><strong>Fact:</strong> I have already added one which runs perfectly, the other one is made with the very same methodology, same boundaries and stuff yet makes build error.</p>\n\n<p>I have tried:</p>\n\n<ul>\n<li>Clean</li>\n<li>Rebuild project</li>\n<li>Restart AS</li>\n<li>Restart PC</li>\n<li>Made nine patch with Photoshop</li>\n<li>Made nine patch with AS built in nine patch maker</li>\n<li>Various naming conventions</li>\n<li>Shorten the dir path of the project</li>\n<li>Adding crunch: false to gradle</li>\n</ul>\n\n<p>Extra wtf:</p>\n\n<ul>\n<li>If i just copy the pixel contents of the not working nine patch to the working one the error appears.</li>\n</ul>\n\n<p>Also, the error says <strong>\"see logs\"</strong></p>\n\n<h2>Where are the logs???</h2>\n\n<p>Because its not in logcat thats for sure.</p>\n\n<p>Please help if you can. This drives me nuts. \nIm really interested why I have to spend half a day with an image import.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1661827629,"post_id":73536547,"comment_id":129858154,"body_markdown":"It all comes down to the design approach. A good design will not need to use `this`. For example a good solution migth be to insert the chapter into the book like so `book.addChapter(new Chapter(Title, Text, etc));` and then store each chapter in an internal list inside the book, which is good because the chapter is within the book, and no longer needs to store the book/this value anywhere. A chapter should not need to know which book it is a part of, because a chapter it is only ever accessed via the book object, and the context will always know which book the chapter belongs to.","body":"It all comes down to the design approach. A good design will not need to use <code>this</code>. For example a good solution migth be to insert the chapter into the book like so <code>book.addChapter(new Chapter(Title, Text, etc));</code> and then store each chapter in an internal list inside the book, which is good because the chapter is within the book, and no longer needs to store the book/this value anywhere. A chapter should not need to know which book it is a part of, because a chapter it is only ever accessed via the book object, and the context will always know which book the chapter belongs to."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":4,"creation_date":1661827819,"post_id":73536547,"comment_id":129858184,"body_markdown":"Why does `Chapter` need an explicit `Book`? It&#39;s an inner class so can&#39;t you just do `Book.this` to access the book that the chapter is in?","body":"Why does <code>Chapter</code> need an explicit <code>Book</code>? It&#39;s an inner class so can&#39;t you just do <code>Book.this</code> to access the book that the chapter is in?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1661828003,"post_id":73536547,"comment_id":129858203,"body_markdown":"Also, you seem to have already answered your question of &quot;is this bad practice&quot;, since you have already identified an &quot;issue&quot; with this, being that &quot;`book.title` is `null` in `Chapter` constructor&quot;","body":"Also, you seem to have already answered your question of &quot;is this bad practice&quot;, since you have already identified an &quot;issue&quot; with this, being that &quot;<code>book.title</code> is <code>null</code> in <code>Chapter</code> constructor&quot;"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661830128,"post_id":73536547,"comment_id":129858456,"body_markdown":"And why would you predefine a book to already have chapters?","body":"And why would you predefine a book to already have chapters?"},{"owner":{"account_id":1416313,"reputation":3862,"user_id":1341921,"accept_rate":77,"display_name":"pmoubed"},"score":0,"creation_date":1661830589,"post_id":73536547,"comment_id":129858490,"body_markdown":"this is just an example - change book and chapter with something else.  Let the chapters be listeners that needs that title to change mode or something.","body":"this is just an example - change book and chapter with something else.  Let the chapters be listeners that needs that title to change mode or something."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661830748,"creation_date":1661830748,"answer_id":73536879,"question_id":73536547,"body_markdown":"Yes, bad practice. In the sense that it is an effectively identical case as passing `this` around in a constructor.\r\n\r\nDuring the initialization of an object, there&#39;s a rather complex rigamarole that the runtime has to go through, considering that [A] the class itself must be available first (and this involves `static` initialization which is also quite complicated), [B] the constructor must run, but in order to do that, the invoked constructor of the parent must run first, and [C] constructor is not all, there&#39;s also the instance initializer block!\r\n\r\nWhenever you have a (non-static) field that is assigned a value, then there are only 2 options:\r\n\r\nA. That value is a compile time constant, such as `private int x = 5;`. There are very few constants - basically, the primitives, and strings.\r\n\r\nB. Anything else.\r\n\r\nConstants as per &#39;A&#39; are stored directly in the class file. But anything else cannot &#39;just&#39; be stored directly in the class file (the block that lists fields has room to state that its value must be initialized to a specific constant from the constant pool, but `System.currentTimeMillis()`, or `new Chapter(this)` is obviously not something you can stick in the constant pool). At the class file level, this is essentially just all moved into the constructor for you. An actual method is made with a funky name (`&lt;init&gt;`, which isn&#39;t a valid identifier so it cannot possibly clash with an actual method named `&lt;init&gt;`, as that wouldn&#39;t be valid java) and that is invoked. You can write initializers yourself, using an exotic bit of java syntax: Just toss braces straight in your class definition:\r\n\r\n```\r\nclass Test {\r\n  public Test() {\r\n    hello(30);\r\n  }\r\n\r\n  int foo = 5; // constant\r\n  int bar = hello(10);\r\n  { System.out.println(&quot;Instance initializer&quot;); }\r\n  int baz = hello(20);\r\n\r\n  static int hello(int in) {\r\n    System.out.println(&quot;Hello: &quot; + in);\r\n    return in;\r\n  }\r\n\r\n  public static void main(String[] args) { new Test(); }\r\n}\r\n```\r\n\r\nYou can compile and run the above and you get:\r\n\r\n```\r\nHello: 10\r\nInstance initializer\r\nHello: 20\r\nHello: 30\r\n```\r\n\r\nwhich shows you exactly how this works: All &#39;instance initializations&#39; are run in &#39;lexical order&#39; (in the order they appear in your source file), and there is no difference between `private int bar = hello(10);` and ` {hello(20);}` - these are both instance initializers.\r\n\r\nThe problem with yelling &#39;bad practice!!!!&#39; is that programming __is just too difficult for that sort of rote application of rules__. If it was that simple we&#39;d just let the computers program themselves.\r\n\r\nNo, strict adherence to a list of bad practices just means you end up with even crappier code. You can&#39;t &quot;rule of thumb&quot; your way to clean code (&#39;clean&#39; defined as: Easy to read (which in turn means: You quickly come to an initial impression about what the code does when glancing at it, and this initial impression is not misleading), easy to test, flexible (defined as: When expectable change requests come in it is not particularly hard to process these and does not require many changes to code that interacts with this code, i.e. few to no API changes for example)).\r\n\r\nSo, you must first understand __why__ &#39;it is bad practice&#39; to pass `this` around in constructors. Failure to understand why means the rule is useless to you.\r\n\r\nThe reason why is - you&#39;re halfway through initialization and variables may not have a value yet. Let&#39;s see it in action!\r\n\r\n```\r\nclass Test {\r\n  final int bar = hello(this, 10);\r\n  final int baz = hello(this, 20);\r\n  final int foo = hello(this, 30);\r\n\r\n  public static int hello(Test t, int v) {\r\n    System.out.println(&quot;BAZ: &quot; + t.baz);\r\n    return v;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    new Test();\r\n  }\r\n}\r\n```\r\n\r\nRunning this prints:\r\n\r\n```\r\nBAZ: 0\r\nBAZ: 0\r\nBAZ: 20\r\n```\r\n\r\nWhich is __utterly, off the wall, nuts__. How in the blazes is a `final` variable, no less, changing value!!?!!!\r\n\r\nAnd that&#39;s the biggest reason why this is a very bad idea. There are quite a few more, but this one is easy to understand and sufficient to show why you should never be doing this. This act generally falls under the &#39;incredibly confusing hackery&#39; category. Which means if you must resort to such a thing, you must add a ton of comments about why, and what&#39;s going to happen, and precisely which pre- and post conditions you expect. Generally however much time you spend on writing and maintaining those comments (and remember, maintaining comments is really difficult, because you cannot unit test them!), surely that&#39;s not worth whatever shortcut you think you are achieving with doing this. But, hey, if truly it _is_ worth it, then by all means. Hack away. Don&#39;t forget those comments.\r\n\r\nEXERCISE FOR THE READER: If you want to learn more, I suggest you write a more extensive example which also involves static initializers (non-constant expressions that initialize static fields, as well as `static { codeGoesHere(); }`, just like that in a `class` definition, e.g. `class Foo { static { System.out.println(&quot;HELLO!&quot;); }}`), and a hierarchy of types. For bonus points, have the constructor of the parent type invoke a method that isn&#39;t final, and then override that method in your subclass and have that method interact with fields. Example:\r\n\r\n```\r\nclass Parent {\r\n  Parent() {\r\n    System.out.println(thisIsWeird());\r\n  }\r\n\r\n  String thisIsWeird() {\r\n    return &quot;Parent&quot;;\r\n  }\r\n}\r\n\r\nclass Child extends Parent {\r\n  private final String field = &quot;Simple&quot;.toLowerCase();\r\n\r\n  @Override String thisIsWeird() {\r\n    return field;\r\n  }\r\n}\r\n```\r\n\r\nThen run it, and start drawing conclusions (and then prepare to forget all these nitty gritty details and remember only the upshot, which is: Don&#39;t do this crazy stuff, it&#39;s not worth it).\r\n","title":"Passing &quot;this&quot; to private final members in Java","body":"<p>Yes, bad practice. In the sense that it is an effectively identical case as passing <code>this</code> around in a constructor.</p>\n<p>During the initialization of an object, there's a rather complex rigamarole that the runtime has to go through, considering that [A] the class itself must be available first (and this involves <code>static</code> initialization which is also quite complicated), [B] the constructor must run, but in order to do that, the invoked constructor of the parent must run first, and [C] constructor is not all, there's also the instance initializer block!</p>\n<p>Whenever you have a (non-static) field that is assigned a value, then there are only 2 options:</p>\n<p>A. That value is a compile time constant, such as <code>private int x = 5;</code>. There are very few constants - basically, the primitives, and strings.</p>\n<p>B. Anything else.</p>\n<p>Constants as per 'A' are stored directly in the class file. But anything else cannot 'just' be stored directly in the class file (the block that lists fields has room to state that its value must be initialized to a specific constant from the constant pool, but <code>System.currentTimeMillis()</code>, or <code>new Chapter(this)</code> is obviously not something you can stick in the constant pool). At the class file level, this is essentially just all moved into the constructor for you. An actual method is made with a funky name (<code>&lt;init&gt;</code>, which isn't a valid identifier so it cannot possibly clash with an actual method named <code>&lt;init&gt;</code>, as that wouldn't be valid java) and that is invoked. You can write initializers yourself, using an exotic bit of java syntax: Just toss braces straight in your class definition:</p>\n<pre><code>class Test {\n  public Test() {\n    hello(30);\n  }\n\n  int foo = 5; // constant\n  int bar = hello(10);\n  { System.out.println(&quot;Instance initializer&quot;); }\n  int baz = hello(20);\n\n  static int hello(int in) {\n    System.out.println(&quot;Hello: &quot; + in);\n    return in;\n  }\n\n  public static void main(String[] args) { new Test(); }\n}\n</code></pre>\n<p>You can compile and run the above and you get:</p>\n<pre><code>Hello: 10\nInstance initializer\nHello: 20\nHello: 30\n</code></pre>\n<p>which shows you exactly how this works: All 'instance initializations' are run in 'lexical order' (in the order they appear in your source file), and there is no difference between <code>private int bar = hello(10);</code> and <code> {hello(20);}</code> - these are both instance initializers.</p>\n<p>The problem with yelling 'bad practice!!!!' is that programming <strong>is just too difficult for that sort of rote application of rules</strong>. If it was that simple we'd just let the computers program themselves.</p>\n<p>No, strict adherence to a list of bad practices just means you end up with even crappier code. You can't &quot;rule of thumb&quot; your way to clean code ('clean' defined as: Easy to read (which in turn means: You quickly come to an initial impression about what the code does when glancing at it, and this initial impression is not misleading), easy to test, flexible (defined as: When expectable change requests come in it is not particularly hard to process these and does not require many changes to code that interacts with this code, i.e. few to no API changes for example)).</p>\n<p>So, you must first understand <strong>why</strong> 'it is bad practice' to pass <code>this</code> around in constructors. Failure to understand why means the rule is useless to you.</p>\n<p>The reason why is - you're halfway through initialization and variables may not have a value yet. Let's see it in action!</p>\n<pre><code>class Test {\n  final int bar = hello(this, 10);\n  final int baz = hello(this, 20);\n  final int foo = hello(this, 30);\n\n  public static int hello(Test t, int v) {\n    System.out.println(&quot;BAZ: &quot; + t.baz);\n    return v;\n  }\n\n  public static void main(String[] args) {\n    new Test();\n  }\n}\n</code></pre>\n<p>Running this prints:</p>\n<pre><code>BAZ: 0\nBAZ: 0\nBAZ: 20\n</code></pre>\n<p>Which is <strong>utterly, off the wall, nuts</strong>. How in the blazes is a <code>final</code> variable, no less, changing value!!?!!!</p>\n<p>And that's the biggest reason why this is a very bad idea. There are quite a few more, but this one is easy to understand and sufficient to show why you should never be doing this. This act generally falls under the 'incredibly confusing hackery' category. Which means if you must resort to such a thing, you must add a ton of comments about why, and what's going to happen, and precisely which pre- and post conditions you expect. Generally however much time you spend on writing and maintaining those comments (and remember, maintaining comments is really difficult, because you cannot unit test them!), surely that's not worth whatever shortcut you think you are achieving with doing this. But, hey, if truly it <em>is</em> worth it, then by all means. Hack away. Don't forget those comments.</p>\n<p>EXERCISE FOR THE READER: If you want to learn more, I suggest you write a more extensive example which also involves static initializers (non-constant expressions that initialize static fields, as well as <code>static { codeGoesHere(); }</code>, just like that in a <code>class</code> definition, e.g. <code>class Foo { static { System.out.println(&quot;HELLO!&quot;); }}</code>), and a hierarchy of types. For bonus points, have the constructor of the parent type invoke a method that isn't final, and then override that method in your subclass and have that method interact with fields. Example:</p>\n<pre><code>class Parent {\n  Parent() {\n    System.out.println(thisIsWeird());\n  }\n\n  String thisIsWeird() {\n    return &quot;Parent&quot;;\n  }\n}\n\nclass Child extends Parent {\n  private final String field = &quot;Simple&quot;.toLowerCase();\n\n  @Override String thisIsWeird() {\n    return field;\n  }\n}\n</code></pre>\n<p>Then run it, and start drawing conclusions (and then prepare to forget all these nitty gritty details and remember only the upshot, which is: Don't do this crazy stuff, it's not worth it).</p>\n"}],"owner":{"account_id":1416313,"reputation":3862,"user_id":1341921,"accept_rate":77,"display_name":"pmoubed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73536879,"answer_count":1,"score":1,"last_activity_date":1661830748,"creation_date":1661826896,"question_id":73536547,"body_markdown":"Based on https://stackoverflow.com/questions/2513597/what-is-an-incompletely-constructed-object and https://stackoverflow.com/questions/2513841/how-do-jvms-implicit-memory-barriers-behave-when-chaining-constructors using `this` in constructor is considered bad practice and should be avoided. Is same also true for initializing `private final` members? \r\n\r\nFor example code below, is passing `this` to `Chapter` considered bad practice? I understand if `Book` title also initialized same way as chapters then this issue won&#39;t show itself, issue being  `book.title` is `null` in `Chapter` constructor. \r\n\r\n    public class Book {\r\n        protected final String title; // = &quot;Title&quot; \r\n    \r\n        private class Chapter {\r\n            private final Book book;\r\n            Chapter(Book b) {\r\n                book = b; // Here book.title is null\r\n            }\r\n        }\r\n        private final Chapter chapter1 = new Chapter(this); // Bad Practice or valid in some cases? \r\n        private final Chapter chapter2 = new Chapter(this);\r\n        Book() {\r\n            title = &quot;Book: 2 Chapters&quot;;\r\n        }\r\n    }\r\n\r\n","title":"Passing &quot;this&quot; to private final members in Java","body":"<p>Based on <a href=\"https://stackoverflow.com/questions/2513597/what-is-an-incompletely-constructed-object\">What is an &quot;incompletely constructed object&quot;?</a> and <a href=\"https://stackoverflow.com/questions/2513841/how-do-jvms-implicit-memory-barriers-behave-when-chaining-constructors\">How do JVM&#39;s implicit memory barriers behave when chaining constructors?</a> using <code>this</code> in constructor is considered bad practice and should be avoided. Is same also true for initializing <code>private final</code> members?</p>\n<p>For example code below, is passing <code>this</code> to <code>Chapter</code> considered bad practice? I understand if <code>Book</code> title also initialized same way as chapters then this issue won't show itself, issue being  <code>book.title</code> is <code>null</code> in <code>Chapter</code> constructor.</p>\n<pre><code>public class Book {\n    protected final String title; // = &quot;Title&quot; \n\n    private class Chapter {\n        private final Book book;\n        Chapter(Book b) {\n            book = b; // Here book.title is null\n        }\n    }\n    private final Chapter chapter1 = new Chapter(this); // Bad Practice or valid in some cases? \n    private final Chapter chapter2 = new Chapter(this);\n    Book() {\n        title = &quot;Book: 2 Chapters&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["elasticsearch","java"],"answers":[{"tags":[],"owner":{"account_id":2105298,"reputation":16079,"user_id":1871769,"accept_rate":60,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1460527792,"creation_date":1460527792,"answer_id":36589979,"question_id":36589645,"body_markdown":"You need to add your query in your `FunctionScoreQueryBuilder` as below :\r\n\r\n        FunctionScoreQueryBuilder fqBuilder = QueryBuilders.functionScoreQuery(querys);\r\n        fqBuilder.boostMode(CombineFunction.REPLACE);\r\n        fqBuilder.scoreMode(ScoreMode.Sum.name().toLowerCase());\r\n        fqBuilder.add(sfb2);\r\n        SearchResponse response = client.prepareSearch().setIndices(&quot;film&quot;).setTypes(&quot;data&quot;).setQuery(fqBuilder).setSize(40).execute().actionGet();\r\n","title":"How to use Elasticsearch FunctionScore query using Java API","body":"<p>You need to add your query in your <code>FunctionScoreQueryBuilder</code> as below :</p>\n\n<pre><code>    FunctionScoreQueryBuilder fqBuilder = QueryBuilders.functionScoreQuery(querys);\n    fqBuilder.boostMode(CombineFunction.REPLACE);\n    fqBuilder.scoreMode(ScoreMode.Sum.name().toLowerCase());\n    fqBuilder.add(sfb2);\n    SearchResponse response = client.prepareSearch().setIndices(\"film\").setTypes(\"data\").setQuery(fqBuilder).setSize(40).execute().actionGet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":304181,"reputation":91,"user_id":613555,"display_name":"USML"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661830667,"creation_date":1506428316,"answer_id":46426371,"question_id":36589645,"body_markdown":"In ElasticSearch 5.x this has been changed, and `FunctionScoreQueryBuilder.add()` method is no longer there (removed, not deprecated). This page has some example: https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/java-compound-queries.html#java-query-dsl-function-score-query","title":"How to use Elasticsearch FunctionScore query using Java API","body":"<p>In ElasticSearch 5.x this has been changed, and <code>FunctionScoreQueryBuilder.add()</code> method is no longer there (removed, not deprecated). This page has some example: <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/java-compound-queries.html#java-query-dsl-function-score-query\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/java-compound-queries.html#java-query-dsl-function-score-query</a></p>\n"}],"owner":{"account_id":8059921,"reputation":67,"user_id":6075768,"display_name":"kevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4255,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36589979,"answer_count":2,"score":2,"last_activity_date":1661830667,"creation_date":1460526629,"question_id":36589645,"body_markdown":"I need to implement the below function_score query using Java APIs. I couldn&#39;t find any official documentation for function_score query in the Java API section of elasticsearch\r\n\r\n    {\r\n      &quot;size&quot;: 40,\r\n      &quot;query&quot;: {\r\n        &quot;function_score&quot;: {\r\n          &quot;functions&quot;: [\r\n            {\r\n              &quot;gauss&quot;: {\r\n                &quot;location&quot;: {\r\n                  &quot;origin&quot;: {\r\n                    &quot;lat&quot;: 39.99606,\r\n                    &quot;lon&quot;: 116.480484\r\n                  },\r\n                  &quot;offset&quot;: &quot;2km&quot;,\r\n                  &quot;scale&quot;: &quot;3km&quot;\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          &quot;score_mode&quot;: &quot;sum&quot;,\r\n          &quot;boost_mode&quot;: &quot;replace&quot;,\r\n          &quot;query&quot;: {\r\n            &quot;bool&quot;: {\r\n              &quot;must&quot;: [\r\n                {\r\n                  &quot;range&quot;: {\r\n                    &quot;startTime&quot;: {\r\n                      &quot;from&quot;: &quot;2016-04-12T12:00:00.000Z&quot;,\r\n                      &quot;to&quot;: &quot;2016-04-12T16:00:00.000Z&quot;,\r\n                      &quot;include_lower&quot;: true,\r\n                      &quot;include_upper&quot;: true\r\n                    }\r\n                  }\r\n                },\r\n                {\r\n                  &quot;range&quot;: {\r\n                    &quot;endTime&quot;: {\r\n                      &quot;from&quot;: &quot;2016-04-12T12:00:00.000Z&quot;,\r\n                      &quot;to&quot;: &quot;2016-04-12T16:00:00.000Z&quot;,\r\n                      &quot;include_lower&quot;: true,\r\n                      &quot;include_upper&quot;: true\r\n                    }\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nI use the Java api like this \r\n\r\n    RangeQueryBuilder queryStartDate = QueryBuilders.rangeQuery(&quot;startTime&quot;).gte(param.getStartTime())\r\n    \t\t\t\t.lte(param.getEndTime());\r\n    \r\n    \t\tRangeQueryBuilder queryEndDate = QueryBuilders.rangeQuery(&quot;endTime&quot;).gte(param.getStartTime())\r\n    \t\t\t\t.lte(param.getEndTime());\r\n    \r\n    // query\r\n    QueryBuilder querys = QueryBuilders.boolQuery().must(queryStartDate).must(queryEndDate);\r\n    \r\n    // function\r\n    Map&lt;String, Double&gt; locationMap = new HashMap&lt;String, Double&gt;();\r\n    \t\tlocationMap.put(&quot;lat&quot;, param.getLat());\r\n    \t\tlocationMap.put(&quot;lon&quot;, param.getLng());\r\n    \t\tScoreFunctionBuilder sfb2 = ScoreFunctionBuilders.gaussDecayFunction(&quot;location&quot;, locationMap, &quot;1km&quot;)\r\n    \t\t\t\t.setOffset(&quot;2km&quot;);\r\n    \r\n    //function_score\r\n    FunctionScoreQueryBuilder sa = new FunctionScoreQueryBuilder().boostMode(&quot;replace&quot;).add(sfb2);\r\n    \r\n    //final search\r\n    SearchResponse response = client.prepareSearch().setIndices(&quot;film&quot;).setTypes(&quot;data&quot;).setQuery(sa)\r\n    \t\t\t\t.setQuery(querys).setSize(40).execute().actionGet();\r\n\r\nbut it dose not work","title":"How to use Elasticsearch FunctionScore query using Java API","body":"<p>I need to implement the below function_score query using Java APIs. I couldn't find any official documentation for function_score query in the Java API section of elasticsearch</p>\n\n<pre><code>{\n  \"size\": 40,\n  \"query\": {\n    \"function_score\": {\n      \"functions\": [\n        {\n          \"gauss\": {\n            \"location\": {\n              \"origin\": {\n                \"lat\": 39.99606,\n                \"lon\": 116.480484\n              },\n              \"offset\": \"2km\",\n              \"scale\": \"3km\"\n            }\n          }\n        }\n      ],\n      \"score_mode\": \"sum\",\n      \"boost_mode\": \"replace\",\n      \"query\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"range\": {\n                \"startTime\": {\n                  \"from\": \"2016-04-12T12:00:00.000Z\",\n                  \"to\": \"2016-04-12T16:00:00.000Z\",\n                  \"include_lower\": true,\n                  \"include_upper\": true\n                }\n              }\n            },\n            {\n              \"range\": {\n                \"endTime\": {\n                  \"from\": \"2016-04-12T12:00:00.000Z\",\n                  \"to\": \"2016-04-12T16:00:00.000Z\",\n                  \"include_lower\": true,\n                  \"include_upper\": true\n                }\n              }\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>I use the Java api like this </p>\n\n<pre><code>RangeQueryBuilder queryStartDate = QueryBuilders.rangeQuery(\"startTime\").gte(param.getStartTime())\n                .lte(param.getEndTime());\n\n        RangeQueryBuilder queryEndDate = QueryBuilders.rangeQuery(\"endTime\").gte(param.getStartTime())\n                .lte(param.getEndTime());\n\n// query\nQueryBuilder querys = QueryBuilders.boolQuery().must(queryStartDate).must(queryEndDate);\n\n// function\nMap&lt;String, Double&gt; locationMap = new HashMap&lt;String, Double&gt;();\n        locationMap.put(\"lat\", param.getLat());\n        locationMap.put(\"lon\", param.getLng());\n        ScoreFunctionBuilder sfb2 = ScoreFunctionBuilders.gaussDecayFunction(\"location\", locationMap, \"1km\")\n                .setOffset(\"2km\");\n\n//function_score\nFunctionScoreQueryBuilder sa = new FunctionScoreQueryBuilder().boostMode(\"replace\").add(sfb2);\n\n//final search\nSearchResponse response = client.prepareSearch().setIndices(\"film\").setTypes(\"data\").setQuery(sa)\n                .setQuery(querys).setSize(40).execute().actionGet();\n</code></pre>\n\n<p>but it dose not work</p>\n"},{"tags":["java","swing","intellij-idea","jdatechooser","jcalendar"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1657620464,"post_id":72931453,"comment_id":128848608,"body_markdown":"_This is not a duplicate question_ curious: how do you know? did you find any similar question? If so, please add a reference and explain why your context is different :)","body":"<i>This is not a duplicate question</i> curious: how do you know? did you find any similar question? If so, please add a reference and explain why your context is different :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1657621255,"post_id":72931453,"comment_id":128848887,"body_markdown":"hmm .. https://stackoverflow.com/questions/69268256/error-add-jdatechooser-to-jpanel-in-jformdesigner-7 shows a similar error (no answer, though) BTW: is the error message above c&amp;p&#39;ed or typed on-the-fly? Just asking, because the spelling of the class name is off ..","body":"hmm .. <a href=\"https://stackoverflow.com/questions/69268256/error-add-jdatechooser-to-jpanel-in-jformdesigner-7\" title=\"error add jdatechooser to jpanel in jformdesigner 7\">stackoverflow.com/questions/69268256/&hellip;</a> shows a similar error (no answer, though) BTW: is the error message above c&amp;p&#39;ed or typed on-the-fly? Just asking, because the spelling of the class name is off .."},{"owner":{"account_id":17462743,"reputation":545,"user_id":12660050,"display_name":"Vatsal Dholakiya"},"score":0,"creation_date":1657622042,"post_id":72931453,"comment_id":128849166,"body_markdown":"@kleopatra I c&amp;p&#39;ed this error. BTW this is unique because whenever I am trying to add this jar as a component then it shows an error, but when I used this jar programmatically runtime then it works fine. However, I didn&#39;t find any similar question and yes, https://stackoverflow.com/q/69268256/12660050 look like but not similar :)","body":"@kleopatra I c&amp;p&#39;ed this error. BTW this is unique because whenever I am trying to add this jar as a component then it shows an error, but when I used this jar programmatically runtime then it works fine. However, I didn&#39;t find any similar question and yes, <a href=\"https://stackoverflow.com/q/69268256/12660050\">stackoverflow.com/q/69268256/12660050</a> look like but not similar :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1657622494,"post_id":72931453,"comment_id":128849299,"body_markdown":"hmm .. when it&#39;s c&amp;p&#39;ed that might hint to the reason: it&#39;s looking for _com.toedter.calendar.Jdatechooser_ but the class name is _com.toedter.calendar.JDateChooser_ (note the capitalization), isn&#39;t it? So could you show a [mcve] that leads to the error?","body":"hmm .. when it&#39;s c&amp;p&#39;ed that might hint to the reason: it&#39;s looking for <i>com.toedter.calendar.Jdatechooser</i> but the class name is <i>com.toedter.calendar.JDateChooser</i> (note the capitalization), isn&#39;t it? So could you show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that leads to the error?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1658339075,"post_id":72931453,"comment_id":129029638,"body_markdown":"Just to be clear: Do you want to add [tag:jcalendar] to the [tag:intellij-idea] GUI editor or just add it as a library dependency.","body":"Just to be clear: Do you want to add <a href=\"https://stackoverflow.com/questions/tagged/jcalendar\">jcalendar</a> to the <a href=\"https://stackoverflow.com/questions/tagged/intellij-idea\">intellij-idea</a> GUI editor or just add it as a library dependency."},{"owner":{"account_id":17462743,"reputation":545,"user_id":12660050,"display_name":"Vatsal Dholakiya"},"score":1,"creation_date":1658498868,"post_id":72931453,"comment_id":129073559,"body_markdown":"@trashgod I want to add to the intellij-idea GUI editor. I don&#39;t have any problem to add jcalendar  As a library dependency.","body":"@trashgod I want to add to the intellij-idea GUI editor. I don&#39;t have any problem to add jcalendar  As a library dependency."}],"answers":[{"tags":[],"owner":{"account_id":26194270,"reputation":1,"user_id":19875586,"display_name":"darwinbeast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661830272,"creation_date":1661830272,"answer_id":73536829,"question_id":72931453,"body_markdown":"Try adding a JPanel and then setting it&#39;s layout to borderlayout in Layout Manager.\r\nThen add the add to your Main Form.\r\n\r\n JDateChooser dateChooser = new JDateChooser(); //initializing the calendar\r\n jpCalendar.add(dateChooser); //adding the calendar component to JPanel","title":"Cannot add JDateChooser to IntelliJ IDEA palette","body":"<p>Try adding a JPanel and then setting it's layout to borderlayout in Layout Manager.\nThen add the add to your Main Form.</p>\n<p>JDateChooser dateChooser = new JDateChooser(); //initializing the calendar\njpCalendar.add(dateChooser); //adding the calendar component to JPanel</p>\n"}],"owner":{"account_id":17462743,"reputation":545,"user_id":12660050,"display_name":"Vatsal Dholakiya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661830272,"creation_date":1657482707,"question_id":72931453,"body_markdown":"I want to add the `JDateChooser` component from [tag:jcalendar] to the [designer palette][1] in [tag:intellij-idea]; but when I&#39;m adding `com.toedter:jcalendar:1.4` through Maven dependency or JAR, I&#39;m getting an error:\r\n\r\n```\r\nclass &quot;com.toedter.calendar.Jdatechooser&quot; cannot be instantiated:\r\nindex 0 out of bound for length 0\r\n```\r\n\r\nSame JAR file works in **Netbeans** GUI editor.\r\n\r\nIf anyone has an idea of how to add `JDateChooser` in **IntelliJ IDEA** then please share your answer.\r\n\r\n**Note:** This is not a duplicate of questions about adding [tag:jcalendar] as a library.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/add-edit-palette-component.html","title":"Cannot add JDateChooser to IntelliJ IDEA palette","body":"<p>I want to add the <code>JDateChooser</code> component from <a href=\"/questions/tagged/jcalendar\" class=\"post-tag\" title=\"show questions tagged &#39;jcalendar&#39;\" rel=\"tag\">jcalendar</a> to the <a href=\"https://www.jetbrains.com/help/idea/add-edit-palette-component.html\" rel=\"nofollow noreferrer\">designer palette</a> in <a href=\"/questions/tagged/intellij-idea\" class=\"post-tag\" title=\"show questions tagged &#39;intellij-idea&#39;\" rel=\"tag\">intellij-idea</a>; but when I'm adding <code>com.toedter:jcalendar:1.4</code> through Maven dependency or JAR, I'm getting an error:</p>\n<pre><code>class &quot;com.toedter.calendar.Jdatechooser&quot; cannot be instantiated:\nindex 0 out of bound for length 0\n</code></pre>\n<p>Same JAR file works in <strong>Netbeans</strong> GUI editor.</p>\n<p>If anyone has an idea of how to add <code>JDateChooser</code> in <strong>IntelliJ IDEA</strong> then please share your answer.</p>\n<p><strong>Note:</strong> This is not a duplicate of questions about adding <a href=\"/questions/tagged/jcalendar\" class=\"post-tag\" title=\"show questions tagged &#39;jcalendar&#39;\" rel=\"tag\">jcalendar</a> as a library.</p>\n"},{"tags":["java","bean-validation","spring-validator"],"comments":[{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1602261550,"post_id":54803388,"comment_id":113674886,"body_markdown":"I think you should accept this wonderful answer.","body":"I think you should accept this wonderful answer."}],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1550822991,"creation_date":1550822991,"answer_id":54822654,"question_id":54803388,"body_markdown":"Just implementing the `ConstraintValidator` interface isn&#39;t enough for your new validator to work. It should be somehow registered so that BeanValidation provider knows about it. This can be done via XML (see for more info [here][1]):\r\n\r\n    &lt;constraint-mappings\r\n            xmlns=&quot;http://xmlns.jcp.org/xml/ns/validation/mapping&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/validation/mapping\r\n                http://xmlns.jcp.org/xml/ns/validation/mapping/validation-mapping-2.0.xsd&quot;\r\n            version=&quot;2.0&quot;&gt;\r\n        &lt;!-- anything else --&gt;\r\n        &lt;constraint-definition annotation=&quot;javax.validation.constraints.PastOrPresent&quot;&gt;\r\n            &lt;validated-by include-existing-validators=&quot;true&quot;&gt;\r\n                &lt;value&gt;org.mycompany.PastOrPresentLongValidator&lt;/value&gt;\r\n            &lt;/validated-by&gt;\r\n        &lt;/constraint-definition&gt;\r\n    &lt;/constraint-mappings&gt;\r\nThen if you are using Hibernate Validator as BeanValidation provider you also have two more options - use service loader or programmatic definition.\r\nUsing Service loader is the easiest way of adding new validator. All you need to do is create a `META-INF/services/javax.validation.ConstraintValidator` file and add a FQCN of your validator to it. See detailed examples in this [post][2] under section &quot;Use standard constraints for non standard classes&quot; or in the [doc][3].\r\nWith [programmatic approach][4] you would have to do something like:\r\n\r\n    ConstraintMapping constraintMapping = configuration.createConstraintMapping();\r\n    \r\n    constraintMapping\r\n            .constraintDefinition( PastOrPresent.class )\r\n            .validatedBy( PastOrPresentLongValidator.class );\r\nAnd then add this constraint mapping to your configuration and create a validator from it:\r\n\r\n    Validator validator = configuration.addMapping( constraintMapping )\r\n            .buildValidatorFactory()\r\n            .getValidator();\r\n\r\nBut as I mentioned earlier - Service Loader is the easiest and quickest way to go.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#example-constraints-car\r\n  [2]: http://in.relation.to/2017/03/02/adding-custom-constraint-definitions-via-the-java-service-loader/\r\n  [3]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#_constraint_definitions_via_code_serviceloader_code\r\n  [4]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-programmatic-constraint-definition","title":"how add custom validator for `javax.validation.constraints` annotation?","body":"<p>Just implementing the <code>ConstraintValidator</code> interface isn't enough for your new validator to work. It should be somehow registered so that BeanValidation provider knows about it. This can be done via XML (see for more info <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#example-constraints-car\" rel=\"noreferrer\">here</a>):</p>\n\n<pre><code>&lt;constraint-mappings\n        xmlns=\"http://xmlns.jcp.org/xml/ns/validation/mapping\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/validation/mapping\n            http://xmlns.jcp.org/xml/ns/validation/mapping/validation-mapping-2.0.xsd\"\n        version=\"2.0\"&gt;\n    &lt;!-- anything else --&gt;\n    &lt;constraint-definition annotation=\"javax.validation.constraints.PastOrPresent\"&gt;\n        &lt;validated-by include-existing-validators=\"true\"&gt;\n            &lt;value&gt;org.mycompany.PastOrPresentLongValidator&lt;/value&gt;\n        &lt;/validated-by&gt;\n    &lt;/constraint-definition&gt;\n&lt;/constraint-mappings&gt;\n</code></pre>\n\n<p>Then if you are using Hibernate Validator as BeanValidation provider you also have two more options - use service loader or programmatic definition.\nUsing Service loader is the easiest way of adding new validator. All you need to do is create a <code>META-INF/services/javax.validation.ConstraintValidator</code> file and add a FQCN of your validator to it. See detailed examples in this <a href=\"http://in.relation.to/2017/03/02/adding-custom-constraint-definitions-via-the-java-service-loader/\" rel=\"noreferrer\">post</a> under section \"Use standard constraints for non standard classes\" or in the <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#_constraint_definitions_via_code_serviceloader_code\" rel=\"noreferrer\">doc</a>.\nWith <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-programmatic-constraint-definition\" rel=\"noreferrer\">programmatic approach</a> you would have to do something like:</p>\n\n<pre><code>ConstraintMapping constraintMapping = configuration.createConstraintMapping();\n\nconstraintMapping\n        .constraintDefinition( PastOrPresent.class )\n        .validatedBy( PastOrPresentLongValidator.class );\n</code></pre>\n\n<p>And then add this constraint mapping to your configuration and create a validator from it:</p>\n\n<pre><code>Validator validator = configuration.addMapping( constraintMapping )\n        .buildValidatorFactory()\n        .getValidator();\n</code></pre>\n\n<p>But as I mentioned earlier - Service Loader is the easiest and quickest way to go.</p>\n"},{"tags":[],"owner":{"account_id":32980,"reputation":476,"user_id":91919,"display_name":"Andrew Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661829613,"creation_date":1661829613,"answer_id":73536779,"question_id":54803388,"body_markdown":"## Simpler Approach ##\r\n\r\nA simpler declarative approach to linking the annotation to the validator is to specify the linkage through a Constraint(validatedBy) annotation.\r\n\r\n    @Retention(RUNTIME)\r\n    @Target({ FIELD, METHOD, PARAMETER, ANNOTATION_TYPE })\r\n    @Constraint(validatedBy = PastOrPrsentValidator.class)\r\n    public class PastOrPresentValidator implements ConstraintValidator&lt;PastOrPresent, Long&gt;{\r\n    ...\r\n","title":"how add custom validator for `javax.validation.constraints` annotation?","body":"<h2>Simpler Approach</h2>\n<p>A simpler declarative approach to linking the annotation to the validator is to specify the linkage through a Constraint(validatedBy) annotation.</p>\n<pre><code>@Retention(RUNTIME)\n@Target({ FIELD, METHOD, PARAMETER, ANNOTATION_TYPE })\n@Constraint(validatedBy = PastOrPrsentValidator.class)\npublic class PastOrPresentValidator implements ConstraintValidator&lt;PastOrPresent, Long&gt;{\n...\n</code></pre>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13512,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661829613,"creation_date":1550740836,"question_id":54803388,"body_markdown":"I have implemented validation for `Long` field and `@PastOrPresent` validation\r\n\r\n    public class PastOrPresentValidator implements ConstraintValidator&lt;PastOrPresent, Long&gt;{\r\n        @Override\r\n        public boolean isValid(Long value, ConstraintValidatorContext context) {\r\n            if (value == null) {\r\n                return false;\r\n            }\r\n            return value &lt;= System.currentTimeMillis();\r\n        }\r\n    }\r\n\r\n    public class MyDto {\r\n        @PastOrPresent\r\n        Long timestamp;    \r\n    }\r\n\r\nAnd got error:\r\n\r\n    HV000030: No validator could be found for constraint &#39;javax.validation.constraints.PastOrPresent&#39; validating type &#39;java.lang.Long&#39;. Check configuration for &#39;push.dto.timestamp&#39;\r\n    \r\nBut when I create custom annotation like `@PastOrPresentLong` and use same validator code everything works.\r\n\r\nIs there a way to add custom validator for `javax.validation.constraints` annotation? ","title":"how add custom validator for `javax.validation.constraints` annotation?","body":"<p>I have implemented validation for <code>Long</code> field and <code>@PastOrPresent</code> validation</p>\n\n<pre><code>public class PastOrPresentValidator implements ConstraintValidator&lt;PastOrPresent, Long&gt;{\n    @Override\n    public boolean isValid(Long value, ConstraintValidatorContext context) {\n        if (value == null) {\n            return false;\n        }\n        return value &lt;= System.currentTimeMillis();\n    }\n}\n\npublic class MyDto {\n    @PastOrPresent\n    Long timestamp;    \n}\n</code></pre>\n\n<p>And got error:</p>\n\n<pre><code>HV000030: No validator could be found for constraint 'javax.validation.constraints.PastOrPresent' validating type 'java.lang.Long'. Check configuration for 'push.dto.timestamp'\n</code></pre>\n\n<p>But when I create custom annotation like <code>@PastOrPresentLong</code> and use same validator code everything works.</p>\n\n<p>Is there a way to add custom validator for <code>javax.validation.constraints</code> annotation? </p>\n"},{"tags":["java","eclipse","eclipse-plugin","jboss-tools"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1661829589,"post_id":73531064,"comment_id":129858388,"body_markdown":"What installation did you start with?","body":"What installation did you start with?"},{"owner":{"account_id":21029424,"reputation":1,"user_id":15454143,"display_name":"HimselfProducer"},"score":0,"creation_date":1661835339,"post_id":73531064,"comment_id":129859146,"body_markdown":"@nitind I have Eclipse IDE for Enterprise Java Developers. Version: 2019-03 (4.11.0); jdk-11.0.2 (windows-x64); And also installed Spring Boot and Tomcat, but them for some reason I don&#39;t see from menu installation. For instal JBoss i&#39;m used panel: Help -&gt; Install New Software and link http://download.jboss.org/jbosstools/photon/stable/updates/","body":"@nitind I have Eclipse IDE for Enterprise Java Developers. Version: 2019-03 (4.11.0); jdk-11.0.2 (windows-x64); And also installed Spring Boot and Tomcat, but them for some reason I don&#39;t see from menu installation. For instal JBoss i&#39;m used panel: Help -&gt; Install New Software and link <a href=\"http://download.jboss.org/jbosstools/photon/stable/updates/\" rel=\"nofollow noreferrer\">download.jboss.org/jbosstools/photon/stable/updates</a>"},{"owner":{"account_id":21029424,"reputation":1,"user_id":15454143,"display_name":"HimselfProducer"},"score":0,"creation_date":1661837828,"post_id":73531064,"comment_id":129859574,"body_markdown":"I made [screenshots step by step with all of errors](https://drive.google.com/drive/folders/1aLOSjbZM8V2T7vlCPIT9ewFXIpK7f5rw?usp=sharing). Available on google drive.","body":"I made <a href=\"https://drive.google.com/drive/folders/1aLOSjbZM8V2T7vlCPIT9ewFXIpK7f5rw?usp=sharing\" rel=\"nofollow noreferrer\">screenshots step by step with all of errors</a>. Available on google drive."},{"owner":{"account_id":2760252,"reputation":426,"user_id":2377293,"display_name":"sbouchet"},"score":0,"creation_date":1662468618,"post_id":73531064,"comment_id":130008156,"body_markdown":"Hi @VitaliyM.V. , you&#39;re using the latest stable update site which is compatible with 2022-06 release, so as you&#39;re using 2019-03, the errors seems legit ( 3 years differences ).\nso two solutions : \n- use eclipse 2022-06\n- use the JBoss update site that is compatible with 2019-03. from the archives (https://tools.jboss.org/downloads/archives.html) it should be the 4.19.1.Final. the offline zip is here https://tools.jboss.org/downloads/jbosstools/2021-03/4.19.1.Final.html#zips. and the update site is https://download.jboss.org/jbosstools/photon/stable/composite/4.19.1/","body":"Hi @VitaliyM.V. , you&#39;re using the latest stable update site which is compatible with 2022-06 release, so as you&#39;re using 2019-03, the errors seems legit ( 3 years differences ). so two solutions :  - use eclipse 2022-06 - use the JBoss update site that is compatible with 2019-03. from the archives (<a href=\"https://tools.jboss.org/downloads/archives.html\" rel=\"nofollow noreferrer\">tools.jboss.org/downloads/archives.html</a>) it should be the 4.19.1.Final. the offline zip is here <a href=\"https://tools.jboss.org/downloads/jbosstools/2021-03/4.19.1.Final.html#zips\" rel=\"nofollow noreferrer\">tools.jboss.org/downloads/jbosstools/2021-03/&hellip;</a>. and the update site is <a href=\"https://download.jboss.org/jbosstools/photon/stable/composite/4.19.1/\" rel=\"nofollow noreferrer\">download.jboss.org/jbosstools/photon/stable/composite/4.19.1</a>"}],"owner":{"account_id":21029424,"reputation":1,"user_id":15454143,"display_name":"HimselfProducer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661829554,"creation_date":1661786713,"question_id":73531064,"body_markdown":"installation JBoss Tools 4.11.0.Final through Eclipse Marketplace does not work. Manually install to give a lot of errors... On the last step installation in the window &quot;Install Details&quot;, I get following message (Details): \r\n\r\n&gt; &quot;Eclipse JSON Editor and Tools&quot; cannot be fully uninstalled because other installed software requires it.  The parts that are not required will be uninstalled.\r\n&quot;Mylyn WikiText AsciiDoc&quot; cannot be fully uninstalled because other installed software requires it.  The parts that are not required will be uninstalled.\r\n&quot;WST JSON Core&quot; cannot be fully uninstalled because other installed software requires it.  The parts that are not required will be uninstalled.\r\n&quot;Mylyn WikiText AsciiDoc UI&quot; cannot be fully uninstalled because other installed software requires it.  The parts that are not required will be uninstalled.\r\n\r\nIf I&#39;m correctly understand, need remove all conflicting plugins? Tell me please, what need to do and how to install JBoss Tools?","title":"How to install JBoss on Eclipse IDE?","body":"<p>installation JBoss Tools 4.11.0.Final through Eclipse Marketplace does not work. Manually install to give a lot of errors... On the last step installation in the window &quot;Install Details&quot;, I get following message (Details):</p>\n<blockquote>\n<p>&quot;Eclipse JSON Editor and Tools&quot; cannot be fully uninstalled because other installed software requires it.  The parts that are not required will be uninstalled.\n&quot;Mylyn WikiText AsciiDoc&quot; cannot be fully uninstalled because other installed software requires it.  The parts that are not required will be uninstalled.\n&quot;WST JSON Core&quot; cannot be fully uninstalled because other installed software requires it.  The parts that are not required will be uninstalled.\n&quot;Mylyn WikiText AsciiDoc UI&quot; cannot be fully uninstalled because other installed software requires it.  The parts that are not required will be uninstalled.</p>\n</blockquote>\n<p>If I'm correctly understand, need remove all conflicting plugins? Tell me please, what need to do and how to install JBoss Tools?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":16237094,"reputation":131,"user_id":11724337,"display_name":"hermanjakobsen"},"score":0,"creation_date":1683829392,"post_id":71222496,"comment_id":134430339,"body_markdown":"Did you find a good solution to your availability problem? We are currently struggling with the same problem :/","body":"Did you find a good solution to your availability problem? We are currently struggling with the same problem :/"}],"answers":[{"tags":[],"owner":{"account_id":1738055,"reputation":925,"user_id":1590168,"display_name":"tchiot.ludo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647202507,"creation_date":1647202507,"answer_id":71460498,"question_id":71222496,"body_markdown":"Some advice general advice for your Kafka Stream app (not a pro but something I observe personally).\r\n\r\n 1. Change your pod from Deployment to StatefulSet and add this configuration `group.instance.id: &quot;${hostname}&quot;`. By this way, the pod will keep the same name of pod and you will be able to use [Kafka Consumer Incremental Rebalance Protocol](https://www.confluent.io/blog/cooperative-rebalancing-in-kafka-streams-consumer-ksqldb/)\r\n 2. While now you are using a StatefulSet, persist the state store in a permanent storage, it will remove the state store reload from Kafka. But take care that you need to properly shutdown the Kafka Stream based on signal received by Kubernetes and tune the `terminationGracePeriodSeconds` to allow proper shutdown. If not, Kafka Stream will detect the checkpoint is not clean and will refetch the states store (not really clear if your state store are persisted but I think it&#39;s already done).\r\n\r\nThe only thing I have observed on my side is a simple consumer group rebalancing is longer that your 2 seconds expected and it&#39;s seems to be complicated goal (like you said a rebalanced take 3 sec). \r\nBut using incremental rebalance, you will have some partition that will be processed during the rebalance I think (not measured this personally for now). \r\n   \r\n\r\n","title":"How to achieve high availability in a Kafka Streams app during deployment?","body":"<p>Some advice general advice for your Kafka Stream app (not a pro but something I observe personally).</p>\n<ol>\n<li>Change your pod from Deployment to StatefulSet and add this configuration <code>group.instance.id: &quot;${hostname}&quot;</code>. By this way, the pod will keep the same name of pod and you will be able to use <a href=\"https://www.confluent.io/blog/cooperative-rebalancing-in-kafka-streams-consumer-ksqldb/\" rel=\"nofollow noreferrer\">Kafka Consumer Incremental Rebalance Protocol</a></li>\n<li>While now you are using a StatefulSet, persist the state store in a permanent storage, it will remove the state store reload from Kafka. But take care that you need to properly shutdown the Kafka Stream based on signal received by Kubernetes and tune the <code>terminationGracePeriodSeconds</code> to allow proper shutdown. If not, Kafka Stream will detect the checkpoint is not clean and will refetch the states store (not really clear if your state store are persisted but I think it's already done).</li>\n</ol>\n<p>The only thing I have observed on my side is a simple consumer group rebalancing is longer that your 2 seconds expected and it's seems to be complicated goal (like you said a rebalanced take 3 sec).\nBut using incremental rebalance, you will have some partition that will be processed during the rebalance I think (not measured this personally for now).</p>\n"},{"tags":[],"owner":{"account_id":25715816,"reputation":322,"user_id":19473610,"display_name":"cmcnealy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661829235,"creation_date":1661829235,"answer_id":73536748,"question_id":71222496,"body_markdown":"I&#39;m unable to comment (due to being relatively new to SO), so I&#39;ll reply here. Your point about StatefulSet&#39;s and rolling restarts is correct, but you can fix that by using `podManagementPolicy: Parallel` in your StatefulSet. This makes it the same as the Deployment in that all pods will come up at the same time.\r\n\r\nhttps://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#pod-management-policies","title":"How to achieve high availability in a Kafka Streams app during deployment?","body":"<p>I'm unable to comment (due to being relatively new to SO), so I'll reply here. Your point about StatefulSet's and rolling restarts is correct, but you can fix that by using <code>podManagementPolicy: Parallel</code> in your StatefulSet. This makes it the same as the Deployment in that all pods will come up at the same time.</p>\n<p><a href=\"https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#pod-management-policies\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#pod-management-policies</a></p>\n"}],"owner":{"account_id":1706949,"reputation":5325,"user_id":1565829,"accept_rate":63,"display_name":"Ismar Slomic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1471,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1661829235,"creation_date":1645537893,"question_id":71222496,"body_markdown":"*Main question*: we run Kafka Streams (Java) apps on Kubernetes to consume, process and produce real time data in our Kafka Cluster (running Confluent Community Edition v7.0/Kafka v3.0). **How can we do a deployment of our apps in a way that limits downtime on consuming records?** Our initial target was approx `2 sec` downtime a single time for each task.\r\n\r\nWe are aiming to do continuous deployments of changes to the production environment, but deployments are too disruptive by causing downtime in record consumption in our apps,  leading to latency in produced real time records.\r\n\r\nWe have tried different strategies to see how it affects latency (downtime).\r\n\r\n*Strategy #1:*\r\n- Terminate all app instances (total of 6)\r\n- Immediately start all new app instances\r\n- Result: measured max latency for consumed records: `85 sec`\r\n\r\n*Strategy #2:*\r\n- Start one new app instance\r\n- Wait `3 minutes` to allow restoring the local state in the new app instance\r\n- After `3 minutes` terminate one old app instance\r\n- Repeat until all old app instances are terminated\r\n- Result: measured max latency for consumed records: `39 sec`\r\n\r\n*Strategy #3:*\r\n- Same as Strategy #2, but increase wait time to `15 minutes`\r\n- Result: measured max latency for consumed records: `7 sec`. However `15 minutes` per app instance will lead to 15 min x 6 instance = `90 minutes` to deploy a change + additional `30 minutes` for the incremental rebalancing protocol to finish. We find the deploy time to be quite excessive.\r\n\r\n\r\nWe have been reading the [KIP-429: Kafka Consumer Incremental Rebalance Protocol][1] and tried to configure the app to support our use case.\r\n\r\nFollowing are the key Kafka Streams configuration we did for Strategy #2 and #3:\r\n\r\n    acceptable.recovery.lag: 6000\r\n    num.standby.replicas: 2\r\n    max.warmup.replicas: 6\r\n    probing.rebalance.interval.ms: 60000\r\n    num.stream.threads: 2\r\n\r\nInput topic has `12 partitions` and message rate of `800 records/s` in average. There are 3 Kafka Streams Key Value State Stores, where two have the same rate as input topic. These two are roughly of `20GB size`. Size of key set is about `4000`. In theory `acceptable.recovery.lag` above should be `~60` sec latency on changelog topic per partition.\r\n\r\nHere are some metrics (up, rate messages received and latency of messages received) per app instance for **Strategy #3**:\r\n[![enter image description here][2]][2]\r\n\r\nNotable observations we did:\r\n\r\n`1a` - first new app instance starts\r\n\r\n`1b` - Kafka immediately rebalance, 2 old app instances gets assigned more tasks and 2 old looses tasks\r\n\r\n`1c` - at the same time max latency recorded increases from `0.2 sec` to `3.5 sec` (this indicates that rebalance takes approx `3 sec`)\r\n\r\n`2` - probing rebalance occurs and Kafka Streams somehow decides to revoke a task from one of the old app instances and give it to one that already has the most tasks\r\n\r\n`3` - last old app instance is terminated\r\n\r\n`4` - all partitions are rebalanced as prior to the upgrade, the incremental rebalance is completed (approx `33 minutes` after last app instance terminated)\r\n\r\n`Other` - it takes approx `40 minutes` for the first new app instance to get assigned a task. In addition every task is re-assigned to multiple times, causing many small disruptions of `3 sec`.\r\n\r\nWe can provide much more details about the topology, topics, configuration and metrics diagrams for the other strategies, if needed (this thread is already huge).\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/KAFKA/KIP-429%3A+Kafka+Consumer+Incremental+Rebalance+Protocol\r\n  [2]: https://i.stack.imgur.com/u85cf.jpg","title":"How to achieve high availability in a Kafka Streams app during deployment?","body":"<p><em>Main question</em>: we run Kafka Streams (Java) apps on Kubernetes to consume, process and produce real time data in our Kafka Cluster (running Confluent Community Edition v7.0/Kafka v3.0). <strong>How can we do a deployment of our apps in a way that limits downtime on consuming records?</strong> Our initial target was approx <code>2 sec</code> downtime a single time for each task.</p>\n<p>We are aiming to do continuous deployments of changes to the production environment, but deployments are too disruptive by causing downtime in record consumption in our apps,  leading to latency in produced real time records.</p>\n<p>We have tried different strategies to see how it affects latency (downtime).</p>\n<p><em>Strategy #1:</em></p>\n<ul>\n<li>Terminate all app instances (total of 6)</li>\n<li>Immediately start all new app instances</li>\n<li>Result: measured max latency for consumed records: <code>85 sec</code></li>\n</ul>\n<p><em>Strategy #2:</em></p>\n<ul>\n<li>Start one new app instance</li>\n<li>Wait <code>3 minutes</code> to allow restoring the local state in the new app instance</li>\n<li>After <code>3 minutes</code> terminate one old app instance</li>\n<li>Repeat until all old app instances are terminated</li>\n<li>Result: measured max latency for consumed records: <code>39 sec</code></li>\n</ul>\n<p><em>Strategy #3:</em></p>\n<ul>\n<li>Same as Strategy #2, but increase wait time to <code>15 minutes</code></li>\n<li>Result: measured max latency for consumed records: <code>7 sec</code>. However <code>15 minutes</code> per app instance will lead to 15 min x 6 instance = <code>90 minutes</code> to deploy a change + additional <code>30 minutes</code> for the incremental rebalancing protocol to finish. We find the deploy time to be quite excessive.</li>\n</ul>\n<p>We have been reading the <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-429%3A+Kafka+Consumer+Incremental+Rebalance+Protocol\" rel=\"noreferrer\">KIP-429: Kafka Consumer Incremental Rebalance Protocol</a> and tried to configure the app to support our use case.</p>\n<p>Following are the key Kafka Streams configuration we did for Strategy #2 and #3:</p>\n<pre><code>acceptable.recovery.lag: 6000\nnum.standby.replicas: 2\nmax.warmup.replicas: 6\nprobing.rebalance.interval.ms: 60000\nnum.stream.threads: 2\n</code></pre>\n<p>Input topic has <code>12 partitions</code> and message rate of <code>800 records/s</code> in average. There are 3 Kafka Streams Key Value State Stores, where two have the same rate as input topic. These two are roughly of <code>20GB size</code>. Size of key set is about <code>4000</code>. In theory <code>acceptable.recovery.lag</code> above should be <code>~60</code> sec latency on changelog topic per partition.</p>\n<p>Here are some metrics (up, rate messages received and latency of messages received) per app instance for <strong>Strategy #3</strong>:\n<a href=\"https://i.stack.imgur.com/u85cf.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/u85cf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Notable observations we did:</p>\n<p><code>1a</code> - first new app instance starts</p>\n<p><code>1b</code> - Kafka immediately rebalance, 2 old app instances gets assigned more tasks and 2 old looses tasks</p>\n<p><code>1c</code> - at the same time max latency recorded increases from <code>0.2 sec</code> to <code>3.5 sec</code> (this indicates that rebalance takes approx <code>3 sec</code>)</p>\n<p><code>2</code> - probing rebalance occurs and Kafka Streams somehow decides to revoke a task from one of the old app instances and give it to one that already has the most tasks</p>\n<p><code>3</code> - last old app instance is terminated</p>\n<p><code>4</code> - all partitions are rebalanced as prior to the upgrade, the incremental rebalance is completed (approx <code>33 minutes</code> after last app instance terminated)</p>\n<p><code>Other</code> - it takes approx <code>40 minutes</code> for the first new app instance to get assigned a task. In addition every task is re-assigned to multiple times, causing many small disruptions of <code>3 sec</code>.</p>\n<p>We can provide much more details about the topology, topics, configuration and metrics diagrams for the other strategies, if needed (this thread is already huge).</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":1049185,"reputation":3599,"user_id":1053496,"accept_rate":41,"display_name":"nantitv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506351350,"creation_date":1506351350,"answer_id":46408262,"question_id":46405454,"body_markdown":"I found a solution https://github.com/bit-twit/poi-shift-column/blob/master/src/main/java/org/bittwit/poi/ExcelOpener.java. It&#39;s working fine.","title":"Insert a new column in between to an existing excel file using apache POI","body":"<p>I found a solution <a href=\"https://github.com/bit-twit/poi-shift-column/blob/master/src/main/java/org/bittwit/poi/ExcelOpener.java\" rel=\"nofollow noreferrer\">https://github.com/bit-twit/poi-shift-column/blob/master/src/main/java/org/bittwit/poi/ExcelOpener.java</a>. It's working fine.</p>\n"},{"tags":[],"owner":{"account_id":14618950,"reputation":91,"user_id":10558255,"display_name":"Fly King"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661829034,"creation_date":1661829034,"answer_id":73536733,"question_id":46405454,"body_markdown":"You can use `sheet.shiftColumns(startColumn, endColumn, n)`\r\nShifts columns between startColumn and endColumn, n number of columns. If you use a negative number, it will shift columns left. Code ensures that columns don&#39;t wrap around.\r\n\r\n 1. startColumn – the column to start shifting\r\n 2. endColumn – the column to end shifting\r\n 3. n – the number of columns to shift","title":"Insert a new column in between to an existing excel file using apache POI","body":"<p>You can use <code>sheet.shiftColumns(startColumn, endColumn, n)</code>\nShifts columns between startColumn and endColumn, n number of columns. If you use a negative number, it will shift columns left. Code ensures that columns don't wrap around.</p>\n<ol>\n<li>startColumn – the column to start shifting</li>\n<li>endColumn – the column to end shifting</li>\n<li>n – the number of columns to shift</li>\n</ol>\n"}],"owner":{"account_id":1049185,"reputation":3599,"user_id":1053496,"accept_rate":41,"display_name":"nantitv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9627,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1661829034,"creation_date":1506342998,"question_id":46405454,"body_markdown":"I have an excel file which have 2 columns. I want to add a new column in between existing first and second using java program.\r\nI am trying to use Apache POI for this purpose. I went through the api docs and some of the related stack over flow questions but I could find examples which only delete/update the cells(not inserting an entire column).\r\n\r\nCan any one share useful pointer to this? The only solution which I can think as if now is create a new sheet with 3 columns copy 1st column and 3rd column value from old","title":"Insert a new column in between to an existing excel file using apache POI","body":"<p>I have an excel file which have 2 columns. I want to add a new column in between existing first and second using java program.\nI am trying to use Apache POI for this purpose. I went through the api docs and some of the related stack over flow questions but I could find examples which only delete/update the cells(not inserting an entire column).</p>\n\n<p>Can any one share useful pointer to this? The only solution which I can think as if now is create a new sheet with 3 columns copy 1st column and 3rd column value from old</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":102492,"reputation":4338,"user_id":275097,"accept_rate":86,"display_name":"Vijay Shanker Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335860487,"creation_date":1335860487,"answer_id":10395253,"question_id":10395204,"body_markdown":"`@asyn` is something part of spring framework, Does your listener usage spring context? If not, I will suggest to start a new thread in your async method.","title":"How to start a daemon on server startup in spring","body":"<p><code>@asyn</code> is something part of spring framework, Does your listener usage spring context? If not, I will suggest to start a new thread in your async method.</p>\n"},{"tags":[],"owner":{"account_id":79514,"reputation":18551,"user_id":225396,"accept_rate":91,"display_name":"danny.lesnik"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1335862725,"creation_date":1335860595,"answer_id":10395275,"question_id":10395204,"body_markdown":"First of all You don&#39;t need to implement `ApplicationListener` interface. You are working with Spring - Application context is enough. \r\n\r\n\r\nSecond you are talking about Spring `@Async`, it means that your task should be started from Application Context and Controller bean is a part of it.\r\n\r\nYou need to make sure that you have `&lt;annotation-driven&gt;` in your spring xml file.\r\n\r\nYou can start your task on @PostConstruct function:\r\n\r\n    @Component\r\n    public class SampleBeanImpl implements SampleBean {\r\n    \r\n      @Async\r\n      void doSomething() { … }\r\n    }\r\n    \r\n    \r\n    @Component\r\n    public class SampleBeanInititalizer {\r\n    \r\n      @Autowired\r\n      private final SampleBean bean;\r\n    \r\n      @PostConstruct\r\n      public void initialize() {\r\n        bean.doSomething();\r\n      }\r\n    }\r\n\r\n ","title":"How to start a daemon on server startup in spring","body":"<p>First of all You don't need to implement <code>ApplicationListener</code> interface. You are working with Spring - Application context is enough. </p>\n\n<p>Second you are talking about Spring <code>@Async</code>, it means that your task should be started from Application Context and Controller bean is a part of it.</p>\n\n<p>You need to make sure that you have <code>&lt;annotation-driven&gt;</code> in your spring xml file.</p>\n\n<p>You can start your task on @PostConstruct function:</p>\n\n<pre><code>@Component\npublic class SampleBeanImpl implements SampleBean {\n\n  @Async\n  void doSomething() { … }\n}\n\n\n@Component\npublic class SampleBeanInititalizer {\n\n  @Autowired\n  private final SampleBean bean;\n\n  @PostConstruct\n  public void initialize() {\n    bean.doSomething();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1335861001,"creation_date":1335861001,"answer_id":10395337,"question_id":10395204,"body_markdown":"Based on Spring&#39;s [reference][1], use of `@Async` has limitations during start-up of the application:\r\n\r\n&gt; `@Async` can not be used in conjunction with lifecycle callbacks such as\r\n&gt; `@PostConstruct`. To asynchronously initialize Spring beans you currently\r\n&gt; have to use a separate initializing Spring bean that invokes the\r\n&gt; `@Async` annotated method on the target then.\r\n\r\nSo, in your case, maybe it&#39;d be good to have an `InitializingBean` implementation with your target bean and then start the daemon through that.\r\n\r\n[1]: http://static.springsource.org/spring/docs/3.0.5.RELEASE/reference/scheduling.html","title":"How to start a daemon on server startup in spring","body":"<p>Based on Spring's <a href=\"http://static.springsource.org/spring/docs/3.0.5.RELEASE/reference/scheduling.html\" rel=\"nofollow\">reference</a>, use of <code>@Async</code> has limitations during start-up of the application:</p>\n\n<blockquote>\n  <p><code>@Async</code> can not be used in conjunction with lifecycle callbacks such as\n  <code>@PostConstruct</code>. To asynchronously initialize Spring beans you currently\n  have to use a separate initializing Spring bean that invokes the\n  <code>@Async</code> annotated method on the target then.</p>\n</blockquote>\n\n<p>So, in your case, maybe it'd be good to have an <code>InitializingBean</code> implementation with your target bean and then start the daemon through that.</p>\n"},{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1335870207,"creation_date":1335862387,"answer_id":10395514,"question_id":10395204,"body_markdown":"Have you added the `&lt;annotation-driven&gt;` tag to your application context? From the [Spring reference doc][1]:\r\n\r\n&gt; To enable both @Scheduled and @Async annotations, simply include the &#39;annotation-driven&#39; element from the task namespace in your configuration.\r\n\r\nNote, you should also consider to configure an *executor* instance. From the [task schema definition][2]:\r\n\r\n&gt; Defines a ThreadPoolTaskExecutor instance with configurable pool size, queue-capacity, keep-alive, and rejection-policy values. See Javadoc for the org.springframework.scheduling.annotation.EnableAsync annotation for information on code-based alternatives to this XML element.\r\n\r\nSo to create an executor that is backed up by a thread pool with 5 threads you have to do the following:\r\n\r\n    &lt;task:annotation-driven executor=&quot;myExecutor&quot;/&gt;\r\n    &lt;task:executor id=&quot;myExecutor&quot; pool-size=&quot;5&quot;/&gt;\r\n\r\nFor more configuration options, see the [@EnableAsync javadoc][3] as stated above.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.1.RELEASE/spring-framework-reference/html/scheduling.html#scheduling-annotation-support-namespace\r\n  [2]: http://www.springframework.org/schema/task/spring-task-3.1.xsd\r\n  [3]: http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/scheduling/annotation/EnableAsync.html","title":"How to start a daemon on server startup in spring","body":"<p>Have you added the <code>&lt;annotation-driven&gt;</code> tag to your application context? From the <a href=\"http://static.springsource.org/spring/docs/3.1.1.RELEASE/spring-framework-reference/html/scheduling.html#scheduling-annotation-support-namespace\" rel=\"nofollow\">Spring reference doc</a>:</p>\n\n<blockquote>\n  <p>To enable both @Scheduled and @Async annotations, simply include the 'annotation-driven' element from the task namespace in your configuration.</p>\n</blockquote>\n\n<p>Note, you should also consider to configure an <em>executor</em> instance. From the <a href=\"http://www.springframework.org/schema/task/spring-task-3.1.xsd\" rel=\"nofollow\">task schema definition</a>:</p>\n\n<blockquote>\n  <p>Defines a ThreadPoolTaskExecutor instance with configurable pool size, queue-capacity, keep-alive, and rejection-policy values. See Javadoc for the org.springframework.scheduling.annotation.EnableAsync annotation for information on code-based alternatives to this XML element.</p>\n</blockquote>\n\n<p>So to create an executor that is backed up by a thread pool with 5 threads you have to do the following:</p>\n\n<pre><code>&lt;task:annotation-driven executor=\"myExecutor\"/&gt;\n&lt;task:executor id=\"myExecutor\" pool-size=\"5\"/&gt;\n</code></pre>\n\n<p>For more configuration options, see the <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/scheduling/annotation/EnableAsync.html\" rel=\"nofollow\">@EnableAsync javadoc</a> as stated above.</p>\n"},{"tags":[],"owner":{"account_id":3536748,"reputation":19,"user_id":2954843,"display_name":"yejianmail"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1383621056,"creation_date":1383621056,"answer_id":19781305,"question_id":10395204,"body_markdown":"my english is pool.\r\nyou must set the Service Class @Lazy(false).","title":"How to start a daemon on server startup in spring","body":"<p>my english is pool.\nyou must set the Service Class @Lazy(false).</p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661828275,"creation_date":1661828275,"answer_id":73536666,"question_id":10395204,"body_markdown":"I use `@PostConstruct` with a thread executor\r\n\r\n```java\r\n@PostConstruct\r\npublic void startServer() {\r\n    final var executorService = Executors.newSingleThreadExecutor();\r\n    executorService.submit(()-&gt; {\r\n      try {\r\n\r\n        // make a call to a service that will not stop on it&#39;s own\r\n        grpcServer.start().awaitTermination();\r\n\r\n      } catch (InterruptedException e) {\r\n        Thread.currentThread().interrupt();\r\n      } catch (IOException e) {\r\n        throw new UncheckedIOException(e);\r\n      }\r\n    });\r\n}\r\n```\r\n\r\nThis works with https://stackoverflow.com/questions/73491376/how-do-you-use-spring-boot-actuator-using-jmx-only-on-a-non-web-spring-boot-app ","title":"How to start a daemon on server startup in spring","body":"<p>I use <code>@PostConstruct</code> with a thread executor</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostConstruct\npublic void startServer() {\n    final var executorService = Executors.newSingleThreadExecutor();\n    executorService.submit(()-&gt; {\n      try {\n\n        // make a call to a service that will not stop on it's own\n        grpcServer.start().awaitTermination();\n\n      } catch (InterruptedException e) {\n        Thread.currentThread().interrupt();\n      } catch (IOException e) {\n        throw new UncheckedIOException(e);\n      }\n    });\n}\n</code></pre>\n<p>This works with <a href=\"https://stackoverflow.com/questions/73491376/how-do-you-use-spring-boot-actuator-using-jmx-only-on-a-non-web-spring-boot-app\">How do you use Spring Boot Actuator using JMX only on a non-web spring boot app</a></p>\n"}],"owner":{"account_id":967943,"reputation":642,"user_id":991026,"accept_rate":56,"display_name":"Dheeraj Kumar Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17386,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":10395275,"answer_count":6,"score":10,"last_activity_date":1661828275,"creation_date":1335860087,"question_id":10395204,"body_markdown":"I want to start a daemon mail service thread on tomcat server startup. So, I have annotated a method with @Async annotation. \r\n\r\nI have a class which implements a ApplicationListener interface. When I call my async method from this class, it never starts asynchronously and blocks the current thread. And When I call my async method from a spring controller class, It never blocks and starts asynchronously.\r\n\r\nWhy async method executed successfully from one class and not from the other class? \r\n\r\nWhat am I doing wrong and How can I execute my async method on server startup??\r\n\r\nThanks in advance.\r\n\r\n**Edit:** I tried using the InitializingBean interface, @PostConstruct, init-method approach to call my async method, but it never executed. Then I realized, my default lazy-init is true, So I make the lazy-init to false for my InitializingBean. Now it execute my asnyc method, but it blocks the current thread and now one more issue, I am facing is that My server didn&#39;t stop gracefully, but I have to stop my server forcefully.","title":"How to start a daemon on server startup in spring","body":"<p>I want to start a daemon mail service thread on tomcat server startup. So, I have annotated a method with @Async annotation.</p>\n<p>I have a class which implements a ApplicationListener interface. When I call my async method from this class, it never starts asynchronously and blocks the current thread. And When I call my async method from a spring controller class, It never blocks and starts asynchronously.</p>\n<p>Why async method executed successfully from one class and not from the other class?</p>\n<p>What am I doing wrong and How can I execute my async method on server startup??</p>\n<p>Thanks in advance.</p>\n<p><strong>Edit:</strong> I tried using the InitializingBean interface, @PostConstruct, init-method approach to call my async method, but it never executed. Then I realized, my default lazy-init is true, So I make the lazy-init to false for my InitializingBean. Now it execute my asnyc method, but it blocks the current thread and now one more issue, I am facing is that My server didn't stop gracefully, but I have to stop my server forcefully.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":1485868,"reputation":676,"user_id":1394172,"display_name":"hillel_guy"},"score":0,"creation_date":1661786118,"post_id":73530344,"comment_id":129848449,"body_markdown":"Did you add the relevant OAuth2 identity provider configuration as documented [here](https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/oauth2.html#oauth2login-sample-application-config)?","body":"Did you add the relevant OAuth2 identity provider configuration as documented <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/oauth2.html#oauth2login-sample-application-config\" rel=\"nofollow noreferrer\">here</a>?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1661790919,"post_id":73530344,"comment_id":129850167,"body_markdown":"did you read the documentation? https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html#oauth2login-register-clientregistrationrepository-bean","body":"did you read the documentation? <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html#oauth2login-register-clientregistrationrepository-bean\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/logi&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1661824642,"post_id":73530344,"comment_id":129857798,"body_markdown":"@Toerktumlare yes. did you read my code? or my question?","body":"@Toerktumlare yes. did you read my code? or my question?"}],"answers":[{"tags":[],"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661826081,"creation_date":1661826081,"answer_id":73536486,"question_id":73530344,"body_markdown":"Whoops, simple mistake. I passed OAuth2AuthorizedClientService as a param instead of autowiring it in the controller.\r\n\r\n    @Autowired\r\n\tprivate OAuth2AuthorizedClientService service;\r\n\r\n    @GetMapping(&quot;/home&quot;)\r\n\tpublic String home() {\r\n\t\treturn &quot;home page&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/test&quot;)\r\n\tpublic OAuth2AuthenticationToken testToken(OAuth2AuthenticationToken token) {\r\n\t\t\r\n\t\tvar t = service.loadAuthorizedClient(token.getAuthorizedClientRegistrationId(), token.getName());\r\n\t\tSystem.out.println(t.getAccessToken().getTokenValue());\r\n\t\t\r\n\t\treturn token;\r\n\t}\r\n}\r\n","title":"No primary or single unique constructor found for interface OAuth2AuthorizedClientService","body":"<p>Whoops, simple mistake. I passed OAuth2AuthorizedClientService as a param instead of autowiring it in the controller.</p>\n<pre><code>@Autowired\nprivate OAuth2AuthorizedClientService service;\n\n@GetMapping(&quot;/home&quot;)\npublic String home() {\n    return &quot;home page&quot;;\n}\n\n@GetMapping(&quot;/test&quot;)\npublic OAuth2AuthenticationToken testToken(OAuth2AuthenticationToken token) {\n    \n    var t = service.loadAuthorizedClient(token.getAuthorizedClientRegistrationId(), token.getName());\n    System.out.println(t.getAccessToken().getTokenValue());\n    \n    return token;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2565,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1661826081,"creation_date":1661783206,"question_id":73530344,"body_markdown":"I&#39;m trying to receive the string form of an access token in a simple OAuth2 Spring application. It appears the best way to do this [is with OAuth2AuthorizedClientService][1]. However, I&#39;m getting the following error whenever trying to use it:\r\n\r\n\r\n    java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.security.oauth2.client.OAuth2AuthorizedClientService\r\n\r\n\tat org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:267) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:219) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:147) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\t...\r\n\r\nMy project couldn&#39;t be simpler, I have a Main class, Config, and Controller. There are two endpoints; /home (permitAll) and /test (authenticated). **The above error occurs when requesting /test**.\r\n\r\nConfig (@Configuration):\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.mvcMatchers(&quot;/test/**&quot;).authenticated()\r\n\t\t\t\t.mvcMatchers(&quot;/home/**&quot;).permitAll()\r\n\t\t\t\t// mvcMatchers more secure than antMatchers as it infers other things in path\r\n\t\t\t\t// regexMatchers allows you to use any regex for matching paths\r\n\t\t\t.and().oauth2Login();\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\t\r\n\tprivate ClientRegistration clientRegistration() {\r\n\t\treturn CommonOAuth2Provider.GITHUB.getBuilder(&quot;github&quot;).clientId(&quot;&lt;not sharing&gt;&quot;)\r\n\t\t\t\t.clientSecret(&quot;&lt;not sharing&gt;&quot;)\r\n\t\t\t\t.scope(&quot;user:email&quot;).build();\r\n\t}\r\n\t\r\n\t@Bean \r\n\tpublic ClientRegistrationRepository clientRepository() {\r\n\t\t ClientRegistration clientReg = clientRegistration();\r\n\t\t \r\n\t\t return new InMemoryClientRegistrationRepository(clientReg); \r\n\t}\r\n\r\nController (@RestController):\r\n\r\n    @GetMapping(&quot;/home&quot;)\r\n\tpublic String home() {\r\n\t\treturn &quot;home page&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/test&quot;)\r\n\tpublic OAuth2AuthenticationToken testToken(OAuth2AuthenticationToken token, \r\n\t\t\tOAuth2AuthorizedClientService svc) {\r\n\t\t\r\n\t\tvar t = svc.loadAuthorizedClient(token.getAuthorizedClientRegistrationId(), token.getName());\r\n\t\tSystem.out.println(t.getAccessToken().getTokenValue());\r\n\t\t\r\n\t\treturn token;\r\n\t}\r\n\r\nI figured my issue might be Maven dependencies. However, using the above article as a reference, it doesn&#39;t appear my dependencies should be an issue. They look as follows:\r\n\r\n\r\n  [1]: https://spring.io/blog/2018/03/06/using-spring-security-5-to-integrate-with-oauth-2-secured-services-such-as-facebook-and-github\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI&#39;m using jdk-16.0.1. Any help is appreciated.","title":"No primary or single unique constructor found for interface OAuth2AuthorizedClientService","body":"<p>I'm trying to receive the string form of an access token in a simple OAuth2 Spring application. It appears the best way to do this <a href=\"https://spring.io/blog/2018/03/06/using-spring-security-5-to-integrate-with-oauth-2-secured-services-such-as-facebook-and-github\" rel=\"nofollow noreferrer\">is with OAuth2AuthorizedClientService</a>. However, I'm getting the following error whenever trying to use it:</p>\n<pre><code>java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.security.oauth2.client.OAuth2AuthorizedClientService\n\nat org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:267) ~[spring-beans-5.3.21.jar:5.3.21]\nat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:219) ~[spring-web-5.3.21.jar:5.3.21]\nat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-5.3.22.jar:5.3.22]\nat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:147) ~[spring-web-5.3.21.jar:5.3.21]\nat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.21.jar:5.3.21]\nat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.21.jar:5.3.21]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.21.jar:5.3.21]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\n...\n</code></pre>\n<p>My project couldn't be simpler, I have a Main class, Config, and Controller. There are two endpoints; /home (permitAll) and /test (authenticated). <strong>The above error occurs when requesting /test</strong>.</p>\n<p>Config (@Configuration):</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeRequests()\n            .mvcMatchers(&quot;/test/**&quot;).authenticated()\n            .mvcMatchers(&quot;/home/**&quot;).permitAll()\n            // mvcMatchers more secure than antMatchers as it infers other things in path\n            // regexMatchers allows you to use any regex for matching paths\n        .and().oauth2Login();\n\n    return http.build();\n}\n\nprivate ClientRegistration clientRegistration() {\n    return CommonOAuth2Provider.GITHUB.getBuilder(&quot;github&quot;).clientId(&quot;&lt;not sharing&gt;&quot;)\n            .clientSecret(&quot;&lt;not sharing&gt;&quot;)\n            .scope(&quot;user:email&quot;).build();\n}\n\n@Bean \npublic ClientRegistrationRepository clientRepository() {\n     ClientRegistration clientReg = clientRegistration();\n     \n     return new InMemoryClientRegistrationRepository(clientReg); \n}\n</code></pre>\n<p>Controller (@RestController):</p>\n<pre><code>@GetMapping(&quot;/home&quot;)\npublic String home() {\n    return &quot;home page&quot;;\n}\n\n@GetMapping(&quot;/test&quot;)\npublic OAuth2AuthenticationToken testToken(OAuth2AuthenticationToken token, \n        OAuth2AuthorizedClientService svc) {\n    \n    var t = svc.loadAuthorizedClient(token.getAuthorizedClientRegistrationId(), token.getName());\n    System.out.println(t.getAccessToken().getTokenValue());\n    \n    return token;\n}\n</code></pre>\n<p>I figured my issue might be Maven dependencies. However, using the above article as a reference, it doesn't appear my dependencies should be an issue. They look as follows:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;5.7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;5.7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I'm using jdk-16.0.1. Any help is appreciated.</p>\n"},{"tags":["java","esper"],"answers":[{"tags":[],"owner":{"account_id":328088,"reputation":2594,"user_id":650839,"display_name":"user650839"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661710693,"creation_date":1661710693,"answer_id":73521139,"question_id":73520689,"body_markdown":"It really depends on the EPL query whether the output has old-events or not, and then by default the runtime doesn&#39;t deliver the old-event stream unless the query selects &quot;irstream&quot; or sets the flag.\r\n\r\nFor example, this query has the new count and the old count:\r\n  `select irstream count(*) from PersonEvent`\r\n\r\nA query &quot;select * from Event&quot; doesn&#39;t keep any events in memory and therefore doesn&#39;t output any prior events.","title":"Get Previous and New EventBean with Esper Continuous Query","body":"<p>It really depends on the EPL query whether the output has old-events or not, and then by default the runtime doesn't deliver the old-event stream unless the query selects &quot;irstream&quot; or sets the flag.</p>\n<p>For example, this query has the new count and the old count:\n<code>select irstream count(*) from PersonEvent</code></p>\n<p>A query &quot;select * from Event&quot; doesn't keep any events in memory and therefore doesn't output any prior events.</p>\n"},{"tags":[],"owner":{"account_id":890118,"reputation":335,"user_id":928563,"accept_rate":90,"display_name":"Sushil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661826026,"creation_date":1661826026,"answer_id":73536480,"question_id":73520689,"body_markdown":"As per the documentation of UpdateListener -\r\n\r\n&gt; Notify that new events are available or old events are removed. If the\r\n&gt; call to update contains new (inserted) events, then the first argument\r\n&gt; will be a non-empty list and the second will be empty. Similarly, if\r\n&gt; the call is a notification of deleted events, then the first argument\r\n&gt; will be empty and the second will be non-empty. Either the newEvents\r\n&gt; or oldEvents will be non-null. This method won&#39;t be called with both\r\n&gt; arguments being null (unless using output rate limiting or\r\n&gt; force-output options), but either one could be null. The same is true\r\n&gt; for zero-length arrays. Either newEvents or oldEvents will be\r\n&gt; non-empty. If both are non-empty, then the update is a modification\r\n&gt; notification. Params: newEvents – is any new events. This will be null\r\n&gt; or empty if the update is for old events only. oldEvents – is any old\r\n&gt; events. This will be null or empty if the update is for new events\r\n&gt; only. statement – is the statement producing the result runtime – is\r\n&gt; the runtime\r\n\r\nI did not find a way to receive both values i.e. oldEvent and newEvent at the same time however we can get data from both events in newEvent.\r\nThe following query is giving me the expected data -\r\n\r\n    select name, age, prev(1, age) as oldAge from PersonEvent#groupwin(name)#length(2)\r\n\r\n","title":"Get Previous and New EventBean with Esper Continuous Query","body":"<p>As per the documentation of UpdateListener -</p>\n<blockquote>\n<p>Notify that new events are available or old events are removed. If the\ncall to update contains new (inserted) events, then the first argument\nwill be a non-empty list and the second will be empty. Similarly, if\nthe call is a notification of deleted events, then the first argument\nwill be empty and the second will be non-empty. Either the newEvents\nor oldEvents will be non-null. This method won't be called with both\narguments being null (unless using output rate limiting or\nforce-output options), but either one could be null. The same is true\nfor zero-length arrays. Either newEvents or oldEvents will be\nnon-empty. If both are non-empty, then the update is a modification\nnotification. Params: newEvents – is any new events. This will be null\nor empty if the update is for old events only. oldEvents – is any old\nevents. This will be null or empty if the update is for new events\nonly. statement – is the statement producing the result runtime – is\nthe runtime</p>\n</blockquote>\n<p>I did not find a way to receive both values i.e. oldEvent and newEvent at the same time however we can get data from both events in newEvent.\nThe following query is giving me the expected data -</p>\n<pre><code>select name, age, prev(1, age) as oldAge from PersonEvent#groupwin(name)#length(2)\n</code></pre>\n"}],"owner":{"account_id":890118,"reputation":335,"user_id":928563,"accept_rate":90,"display_name":"Sushil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73536480,"answer_count":2,"score":1,"last_activity_date":1661826026,"creation_date":1661706844,"question_id":73520689,"body_markdown":"I am new to Esper and trying to get old and new EventBean while updating data. However, I am getting old EventBean is always null. Is there any configuration missing due to the old EventBean being null? \r\n\r\n    public class TestApp1 {\r\n    \r\n        public static void main(String[] arg) throws EPCompileException, EPDeployException {\r\n            EPCompiler compiler = EPCompilerProvider.getCompiler();\r\n            Configuration configuration = new Configuration();\r\n            configuration.getCommon().addEventType(PersonEvent.class);\r\n    \r\n            CompilerArguments args = new CompilerArguments(configuration);\r\n    \r\n            EPCompiled epCompiled = compiler.compile(&quot;@name(&#39;my-statement&#39;) select * from PersonEvent&quot;, args);\r\n    \r\n            EPRuntime runtime = EPRuntimeProvider.getDefaultRuntime(configuration);\r\n            EPDeploymentService deploymentService = runtime.getDeploymentService();\r\n            EPDeployment deployment = deploymentService.deploy(epCompiled);\r\n    \r\n            EPStatement statement = deploymentService.getStatement(deployment.getDeploymentId(), &quot;my-statement&quot;);\r\n    \r\n            statement.addListener((newData, oldData, stmt, rt) -&gt; {\r\n                extracted(newData, &quot;New&quot;);\r\n                extracted(oldData, &quot;Old&quot;);\r\n                sleep(0);\r\n            });\r\n    \r\n    \r\n            publish(runtime);\r\n    \r\n    \r\n        }\r\n    \r\n        private static void extracted(EventBean[] datas, String type) {\r\n            if (datas == null || datas.length == 0) {\r\n                System.out.println(type + &quot; : &quot; + datas);\r\n                return;\r\n            }\r\n            for(EventBean data :  datas) {\r\n                String name = (String) data.get(&quot;name&quot;);\r\n                int age = (int) data.get(&quot;age&quot;);\r\n                System.out.printf(LocalTime.now() + &quot;::&quot; + type + &quot; - Got event ---- Name: %s, Age: %d%n&quot;, name, age);\r\n            }\r\n        }\r\n    \r\n        private static void sleep(int i) {\r\n            try {\r\n                TimeUnit.MILLISECONDS.sleep(i * 500);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        private static void publish(EPRuntime runtime) {\r\n            EPEventService eventService = runtime.getEventService();\r\n            eventService.sendEventBean(new PersonEvent(&quot;Peter&quot;, 10), &quot;PersonEvent&quot;);\r\n            sleep(1);\r\n            eventService.sendEventBean(new PersonEvent(&quot;Peter&quot;, 11), &quot;PersonEvent&quot;);\r\n            sleep(1);\r\n            eventService.sendEventBean(new PersonEvent(&quot;Peter&quot;, 12), &quot;PersonEvent&quot;);\r\n            sleep(1);\r\n            eventService.sendEventBean(new PersonEvent(&quot;Hello&quot;, 6), &quot;PersonEvent&quot;);\r\n            sleep(1);\r\n            eventService.sendEventBean(new PersonEvent(&quot;Peter&quot;, 13), &quot;PersonEvent&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    class PersonEvent {\r\n      private String name;\r\n      private int age;\r\n    \r\n      public PersonEvent(String name, int age) {\r\n        this.name = name;\r\n        this.age = age;\r\n      }\r\n    \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public int getAge() {\r\n        return age;\r\n      }\r\n    }\r\n\r\n\r\n\r\nand output of the above program is -\r\n\r\n&gt; 13:07:47.355::New - Got event ---- Name: Peter, Age: 10 Old : null&lt;br&gt;\r\n&gt; 13:07:47.863::New - Got event ---- Name: Peter, Age: 11 Old : null&lt;br&gt;\r\n&gt; 13:07:48.363::New - Got event ---- Name: Peter, Age: 12 Old : null&lt;br&gt;\r\n&gt; 13:07:48.877::New - Got event ---- Name: Hello, Age: 6 Old : null&lt;br&gt;\r\n&gt; 13:07:49.389::New - Got event ---- Name: Peter, Age: 13 Old : null&lt;br&gt;","title":"Get Previous and New EventBean with Esper Continuous Query","body":"<p>I am new to Esper and trying to get old and new EventBean while updating data. However, I am getting old EventBean is always null. Is there any configuration missing due to the old EventBean being null?</p>\n<pre><code>public class TestApp1 {\n\n    public static void main(String[] arg) throws EPCompileException, EPDeployException {\n        EPCompiler compiler = EPCompilerProvider.getCompiler();\n        Configuration configuration = new Configuration();\n        configuration.getCommon().addEventType(PersonEvent.class);\n\n        CompilerArguments args = new CompilerArguments(configuration);\n\n        EPCompiled epCompiled = compiler.compile(&quot;@name('my-statement') select * from PersonEvent&quot;, args);\n\n        EPRuntime runtime = EPRuntimeProvider.getDefaultRuntime(configuration);\n        EPDeploymentService deploymentService = runtime.getDeploymentService();\n        EPDeployment deployment = deploymentService.deploy(epCompiled);\n\n        EPStatement statement = deploymentService.getStatement(deployment.getDeploymentId(), &quot;my-statement&quot;);\n\n        statement.addListener((newData, oldData, stmt, rt) -&gt; {\n            extracted(newData, &quot;New&quot;);\n            extracted(oldData, &quot;Old&quot;);\n            sleep(0);\n        });\n\n\n        publish(runtime);\n\n\n    }\n\n    private static void extracted(EventBean[] datas, String type) {\n        if (datas == null || datas.length == 0) {\n            System.out.println(type + &quot; : &quot; + datas);\n            return;\n        }\n        for(EventBean data :  datas) {\n            String name = (String) data.get(&quot;name&quot;);\n            int age = (int) data.get(&quot;age&quot;);\n            System.out.printf(LocalTime.now() + &quot;::&quot; + type + &quot; - Got event ---- Name: %s, Age: %d%n&quot;, name, age);\n        }\n    }\n\n    private static void sleep(int i) {\n        try {\n            TimeUnit.MILLISECONDS.sleep(i * 500);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static void publish(EPRuntime runtime) {\n        EPEventService eventService = runtime.getEventService();\n        eventService.sendEventBean(new PersonEvent(&quot;Peter&quot;, 10), &quot;PersonEvent&quot;);\n        sleep(1);\n        eventService.sendEventBean(new PersonEvent(&quot;Peter&quot;, 11), &quot;PersonEvent&quot;);\n        sleep(1);\n        eventService.sendEventBean(new PersonEvent(&quot;Peter&quot;, 12), &quot;PersonEvent&quot;);\n        sleep(1);\n        eventService.sendEventBean(new PersonEvent(&quot;Hello&quot;, 6), &quot;PersonEvent&quot;);\n        sleep(1);\n        eventService.sendEventBean(new PersonEvent(&quot;Peter&quot;, 13), &quot;PersonEvent&quot;);\n    }\n}\n\n\nclass PersonEvent {\n  private String name;\n  private int age;\n\n  public PersonEvent(String name, int age) {\n    this.name = name;\n    this.age = age;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public int getAge() {\n    return age;\n  }\n}\n</code></pre>\n<p>and output of the above program is -</p>\n<blockquote>\n<p>13:07:47.355::New - Got event ---- Name: Peter, Age: 10 Old : null<br>\n13:07:47.863::New - Got event ---- Name: Peter, Age: 11 Old : null<br>\n13:07:48.363::New - Got event ---- Name: Peter, Age: 12 Old : null<br>\n13:07:48.877::New - Got event ---- Name: Hello, Age: 6 Old : null<br>\n13:07:49.389::New - Got event ---- Name: Peter, Age: 13 Old : null<br></p>\n</blockquote>\n"},{"tags":["java","arrays","multidimensional-array","tostring"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661812541,"post_id":73535287,"comment_id":129856163,"body_markdown":"You should add some explanation about your code. What is goal for the code, where does it succeed, where does it fail. Don&#39;t make us study your code to deduce those points.","body":"You should add some explanation about your code. What is goal for the code, where does it succeed, where does it fail. Don&#39;t make us study your code to deduce those points."},{"owner":{"account_id":26190324,"reputation":9,"user_id":19872276,"display_name":"Preston Little"},"score":0,"creation_date":1661812991,"post_id":73535287,"comment_id":129856244,"body_markdown":"I made the edit. Sorry about that!","body":"I made the edit. Sorry about that!"}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661813213,"creation_date":1661813213,"answer_id":73535404,"question_id":73535287,"body_markdown":"Next time please post a runnable example.\r\n\r\nYour problem was that you *always* added a space after the item, no matter if it was the last one in the line. I now check that with a conditional *+ (j == data[i].length - 1 ? &quot;&quot; : &quot; &quot;);*\r\n\r\n**Hint:** It&#39;s not good to concatenate Strings. Use StringBuilder for better performance an memory usage. I added a second method *toString2()* to show how it&#39;s done.\r\n\r\n\r\n    package stackoverflow;\r\n    \r\n    public class Matrix {\r\n    \r\n    \t// the dimensions of the matrix\r\n    \tprivate final int\tnumRows;\r\n    \tprivate int\t\t\tnumColumns;\r\n    \r\n    \t// the internal storage for the matrix elements\r\n    \tprivate final int data[][];\r\n    \r\n    \t/**\r\n    \t * @param d - the raw 2D array containing the initial values for the Matrix.\r\n    \t */\r\n    \tpublic Matrix(final int d[][]) {\r\n    \t\t// d.length is the number of 1D arrays in the 2D array\r\n    \t\tnumRows = d.length;\r\n    \t\tif (numRows == 0)\r\n    \t\t\tnumColumns = 0;\r\n    \t\telse\r\n    \t\t\tnumColumns = d[0].length; // d[0] is the first 1D array\r\n    \r\n    \t\t// create a new matrix to hold the data\r\n    \t\tdata = new int[numRows][numColumns];\r\n    \r\n    \t\t// copy the data over\r\n    \t\tfor (int i = 0; i &lt; numRows; i++)\r\n    \t\t\tfor (int j = 0; j &lt; numColumns; j++)\r\n    \t\t\t\tdata[i][j] = d[i][j];\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a String representation of this Matrix.\r\n    \t */\r\n    \t@Override // instruct the compiler that we intend for this method to override the superclass&#39; (Object) version\r\n    \tpublic String toString() {\r\n    \r\n    \t\t// TODO: replace the below return statement with the correct code.\r\n    \t\tString arrString = &quot;&quot;;\r\n    \t\tfor (int i = 0; i &lt; data.length; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; data[i].length; j++) {\r\n    \t\t\t\tarrString += data[i][j] + (j == data[i].length - 1 ? &quot;&quot; : &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tarrString += &quot;\\n&quot;;\r\n    \t\t}\r\n    \t\treturn arrString;\r\n    \r\n    \t}\r\n    \r\n    \tpublic String toString2() {\r\n    \t\tfinal StringBuilder sb = new StringBuilder();\r\n    \t\tfor (int i = 0; i &lt; data.length; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; data[i].length; j++) {\r\n    \t\t\t\tsb.append(data[i][j] + (j == data[i].length - 1 ? &quot;&quot; : &quot; &quot;));\r\n    \t\t\t}\r\n    \t\t\tsb.append(&quot;\\n&quot;);\r\n    \t\t}\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal int[][] arr = new int[2][3];\r\n    \t\tarr[0][0] = 4;\r\n    \t\tarr[0][1] = 6;\r\n    \t\tarr[0][2] = 8;\r\n    \t\tarr[1][0] = 8;\r\n    \t\tarr[1][1] = 16;\r\n    \t\tarr[1][2] = 23;\r\n    \t\tfinal Matrix m = new Matrix(arr);\r\n    \t\tSystem.out.println(&quot;Matrix:\\n&quot; + m);\r\n    \t\tSystem.out.println(&quot;Matrix 2:\\n&quot; + m.toString2());\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    Matrix:\r\n    4 6 8\r\n    8 16 23\r\n    \r\n    Matrix 2:\r\n    4 6 8\r\n    8 16 23\r\n\r\n","title":"Writing a toString method for 2D arrays","body":"<p>Next time please post a runnable example.</p>\n<p>Your problem was that you <em>always</em> added a space after the item, no matter if it was the last one in the line. I now check that with a conditional <em>+ (j == data[i].length - 1 ? &quot;&quot; : &quot; &quot;);</em></p>\n<p><strong>Hint:</strong> It's not good to concatenate Strings. Use StringBuilder for better performance an memory usage. I added a second method <em>toString2()</em> to show how it's done.</p>\n<pre><code>package stackoverflow;\n\npublic class Matrix {\n\n    // the dimensions of the matrix\n    private final int   numRows;\n    private int         numColumns;\n\n    // the internal storage for the matrix elements\n    private final int data[][];\n\n    /**\n     * @param d - the raw 2D array containing the initial values for the Matrix.\n     */\n    public Matrix(final int d[][]) {\n        // d.length is the number of 1D arrays in the 2D array\n        numRows = d.length;\n        if (numRows == 0)\n            numColumns = 0;\n        else\n            numColumns = d[0].length; // d[0] is the first 1D array\n\n        // create a new matrix to hold the data\n        data = new int[numRows][numColumns];\n\n        // copy the data over\n        for (int i = 0; i &lt; numRows; i++)\n            for (int j = 0; j &lt; numColumns; j++)\n                data[i][j] = d[i][j];\n    }\n\n    /**\n     * Returns a String representation of this Matrix.\n     */\n    @Override // instruct the compiler that we intend for this method to override the superclass' (Object) version\n    public String toString() {\n\n        // TODO: replace the below return statement with the correct code.\n        String arrString = &quot;&quot;;\n        for (int i = 0; i &lt; data.length; i++) {\n            for (int j = 0; j &lt; data[i].length; j++) {\n                arrString += data[i][j] + (j == data[i].length - 1 ? &quot;&quot; : &quot; &quot;);\n            }\n            arrString += &quot;\\n&quot;;\n        }\n        return arrString;\n\n    }\n\n    public String toString2() {\n        final StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; data.length; i++) {\n            for (int j = 0; j &lt; data[i].length; j++) {\n                sb.append(data[i][j] + (j == data[i].length - 1 ? &quot;&quot; : &quot; &quot;));\n            }\n            sb.append(&quot;\\n&quot;);\n        }\n        return sb.toString();\n    }\n\n\n\n    public static void main(final String[] args) {\n        final int[][] arr = new int[2][3];\n        arr[0][0] = 4;\n        arr[0][1] = 6;\n        arr[0][2] = 8;\n        arr[1][0] = 8;\n        arr[1][1] = 16;\n        arr[1][2] = 23;\n        final Matrix m = new Matrix(arr);\n        System.out.println(&quot;Matrix:\\n&quot; + m);\n        System.out.println(&quot;Matrix 2:\\n&quot; + m.toString2());\n    }\n\n\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Matrix:\n4 6 8\n8 16 23\n\nMatrix 2:\n4 6 8\n8 16 23\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661816579,"creation_date":1661815083,"answer_id":73535576,"question_id":73535287,"body_markdown":"The [Answer by JayC667][1] seems to correctly address your Question. \r\n\r\n# Stream, lambda, &amp; method reference\r\n\r\nFor fun, here is an alternative approach using stream, lambda, and method reference.\r\n\r\nDefine the array.\r\n\r\n```java\r\nint[][] input = { { 1 , 2 , 3 } , { 4 , 5 , 6 } };  // Declaration, initialization.\r\n```\r\n\r\nMake a stream where each element is a row, an array of `int` values, from your two-dimensional array. \r\n\r\nFor each of those rows, each being a `int[]`, make a stream of its `int` primitive values (an [`IntStream`][2]), convert each primitive to an [`Integer`][3] object ([*boxing*][4]), call each `Integer` object’s [`toString`][5] method to generate a piece of text. [Collect][6] those pieces of text by [joining][7] them into a longer [`String`][8] with a SPACE character as a delimiter.\r\n\r\nSo we have transformed each row into a `String`. Collect all those strings together, with a LINE FEED character as the delimiter. Then, we are done, with a single `String` object as a result. \r\n\r\nAll that work, in a single line of code!\r\n\r\n```java\r\nString result =\r\n        Arrays\r\n                .stream( input )                         // A series of integer arrays, etc element being a int[]. \r\n                .map(                                    // Convert each integer array into something else, a `String` object. \r\n                        ( int[] row ) -&gt; Arrays.stream( row ).boxed().map( Object :: toString ).collect( Collectors.joining( &quot; &quot; ) )\r\n                )\r\n                .collect( Collectors.joining( &quot;\\n&quot; ) );  // Join each row of text with the next, using Linefeed as delimiter.\r\n```\r\n\r\nResults.\r\n\r\n```none\r\n1 2 3\r\n4 5 6\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73535404/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html\r\n  [4]: https://en.wikipedia.org/wiki/Boxing_(computer_science)\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)\r\n  [8]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html","title":"Writing a toString method for 2D arrays","body":"<p>The <a href=\"https://stackoverflow.com/a/73535404/642706\">Answer by JayC667</a> seems to correctly address your Question.</p>\n<h1>Stream, lambda, &amp; method reference</h1>\n<p>For fun, here is an alternative approach using stream, lambda, and method reference.</p>\n<p>Define the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] input = { { 1 , 2 , 3 } , { 4 , 5 , 6 } };  // Declaration, initialization.\n</code></pre>\n<p>Make a stream where each element is a row, an array of <code>int</code> values, from your two-dimensional array.</p>\n<p>For each of those rows, each being a <code>int[]</code>, make a stream of its <code>int</code> primitive values (an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a>), convert each primitive to an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a> object (<a href=\"https://en.wikipedia.org/wiki/Boxing_(computer_science)\" rel=\"nofollow noreferrer\"><em>boxing</em></a>), call each <code>Integer</code> object’s <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\"><code>toString</code></a> method to generate a piece of text. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\">Collect</a> those pieces of text by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">joining</a> them into a longer <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> with a SPACE character as a delimiter.</p>\n<p>So we have transformed each row into a <code>String</code>. Collect all those strings together, with a LINE FEED character as the delimiter. Then, we are done, with a single <code>String</code> object as a result.</p>\n<p>All that work, in a single line of code!</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result =\n        Arrays\n                .stream( input )                         // A series of integer arrays, etc element being a int[]. \n                .map(                                    // Convert each integer array into something else, a `String` object. \n                        ( int[] row ) -&gt; Arrays.stream( row ).boxed().map( Object :: toString ).collect( Collectors.joining( &quot; &quot; ) )\n                )\n                .collect( Collectors.joining( &quot;\\n&quot; ) );  // Join each row of text with the next, using Linefeed as delimiter.\n</code></pre>\n<p>Results.</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 2 3\n4 5 6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661826009,"creation_date":1661825662,"answer_id":73536452,"question_id":73535287,"body_markdown":"Here is one way to return a formatted 2D array based on the anticipated width of the values.\r\n\r\n- `%nd` - specifies a field width of `n` digits, right aligned.\r\n- `%-nd` - specifies a field width of `n` digits, left aligned (would have spaces at end of line).\r\n- fields will be filled in with spaces where necessary.\r\n\r\n```\r\npublic class TwoDtoString {\r\n\t\r\n\tint[][] mat = { { 11, 222, 3333 }, { 433, 53, 633 }, { 73, 8, 9333 } };\r\n\tstatic String FORMAT = &quot;%5d&quot;; // 5 digit field, right aligned.\r\n\tpublic static void main(String[] args) {\r\n\t\tTwoDtoString tos = new TwoDtoString();\r\n\t\tSystem.out.println(tos.toString());\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (int[] row : mat) {\r\n\t\t\tsb.append(FORMAT.formatted(row[0]));\r\n\t\t\tfor (int i = 1; i &lt; row.length; i++) {\r\n\t\t\t\tsb.append(FORMAT.formatted(row[i]));\r\n\t\t\t} \r\n\t\t\tsb.append(&quot;\\n&quot;);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\t\r\n}\r\n```\r\nprints\r\n```\r\n   11  222 3333\r\n  433   53  633\r\n   73    8 9333\r\n\r\n","title":"Writing a toString method for 2D arrays","body":"<p>Here is one way to return a formatted 2D array based on the anticipated width of the values.</p>\n<ul>\n<li><code>%nd</code> - specifies a field width of <code>n</code> digits, right aligned.</li>\n<li><code>%-nd</code> - specifies a field width of <code>n</code> digits, left aligned (would have spaces at end of line).</li>\n<li>fields will be filled in with spaces where necessary.</li>\n</ul>\n<pre><code>public class TwoDtoString {\n    \n    int[][] mat = { { 11, 222, 3333 }, { 433, 53, 633 }, { 73, 8, 9333 } };\n    static String FORMAT = &quot;%5d&quot;; // 5 digit field, right aligned.\n    public static void main(String[] args) {\n        TwoDtoString tos = new TwoDtoString();\n        System.out.println(tos.toString());\n    }\n    \n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        for (int[] row : mat) {\n            sb.append(FORMAT.formatted(row[0]));\n            for (int i = 1; i &lt; row.length; i++) {\n                sb.append(FORMAT.formatted(row[i]));\n            } \n            sb.append(&quot;\\n&quot;);\n        }\n        return sb.toString();\n    }   \n}\n</code></pre>\n<p>prints</p>\n<pre><code>   11  222 3333\n  433   53  633\n   73    8 9333\n\n</code></pre>\n"}],"owner":{"account_id":26190324,"reputation":9,"user_id":19872276,"display_name":"Preston Little"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1661826009,"creation_date":1661812179,"question_id":73535287,"body_markdown":"I have some code for a 2D array but I don&#39;t want spaces at the end of each row before I start a new row. For some reason, I can&#39;t find where I&#39;m messing up because a space *is* being put at the end of each row. Basically what I&#39;m trying to do is input a 2D array and the output should make it look the same as the input, except for the {}&#39;s and it&#39;ll be a string. For example,\r\n\r\nInput:\r\n\r\n{1, 2, 3},\r\n{4, 5, 6};\r\n\r\nOutput:\r\n\r\n1 2 3\r\n\r\n4 5 6\r\n\r\n    public class Matrix {\r\n\t\r\n\t// the dimensions of the matrix\r\n\tprivate int numRows;\r\n\tprivate int numColumns;\r\n\t\r\n\t// the internal storage for the matrix elements \r\n\tprivate int data[][];\r\n\t\r\n\t/**\r\n\t * @param d - the raw 2D array containing the initial values for the Matrix.\r\n\t */\r\n\tpublic Matrix(int d[][])\r\n\t{\r\n\t\t// d.length is the number of 1D arrays in the 2D array\r\n\t\tnumRows = d.length; \r\n\t\tif(numRows == 0)\r\n\t\t\tnumColumns = 0;\r\n\t\telse\r\n\t\t\tnumColumns = d[0].length; // d[0] is the first 1D array\r\n\t\t\r\n\t\t// create a new matrix to hold the data\r\n\t\tdata = new int[numRows][numColumns]; \r\n\t\t\r\n\t\t// copy the data over\r\n\t\tfor(int i=0; i &lt; numRows; i++) \r\n\t\t\tfor(int j=0; j &lt; numColumns; j++)\r\n\t\t\t\tdata[i][j] = d[i][j];\r\n\t}\r\n\r\n    /**\r\n\t * Returns a String representation of this Matrix.\r\n\t */\r\n\t@Override // instruct the compiler that we intend for this method to override the superclass&#39; (Object) version\r\n\tpublic String toString() {\r\n\t\t\r\n\t\t// TODO: replace the below return statement with the correct code.\r\n\t\tString arrString = &quot;&quot;;\r\n\t\tfor(int i = 0; i &lt; data.length; i++) {\r\n\t\t\tfor(int j = 0; j &lt; data[i].length; j++) {\r\n\t\t\t\tarrString += data[i][j] + &quot; &quot;;\r\n\t\t\t}\r\n\t\t\tarrString += &quot;\\n&quot;;\r\n\t\t}\r\n\t\treturn arrString;\r\n\t\t\r\n\t}","title":"Writing a toString method for 2D arrays","body":"<p>I have some code for a 2D array but I don't want spaces at the end of each row before I start a new row. For some reason, I can't find where I'm messing up because a space <em>is</em> being put at the end of each row. Basically what I'm trying to do is input a 2D array and the output should make it look the same as the input, except for the {}'s and it'll be a string. For example,</p>\n<p>Input:</p>\n<p>{1, 2, 3},\n{4, 5, 6};</p>\n<p>Output:</p>\n<p>1 2 3</p>\n<p>4 5 6</p>\n<pre><code>public class Matrix {\n\n// the dimensions of the matrix\nprivate int numRows;\nprivate int numColumns;\n\n// the internal storage for the matrix elements \nprivate int data[][];\n\n/**\n * @param d - the raw 2D array containing the initial values for the Matrix.\n */\npublic Matrix(int d[][])\n{\n    // d.length is the number of 1D arrays in the 2D array\n    numRows = d.length; \n    if(numRows == 0)\n        numColumns = 0;\n    else\n        numColumns = d[0].length; // d[0] is the first 1D array\n    \n    // create a new matrix to hold the data\n    data = new int[numRows][numColumns]; \n    \n    // copy the data over\n    for(int i=0; i &lt; numRows; i++) \n        for(int j=0; j &lt; numColumns; j++)\n            data[i][j] = d[i][j];\n}\n\n/**\n * Returns a String representation of this Matrix.\n */\n@Override // instruct the compiler that we intend for this method to override the superclass' (Object) version\npublic String toString() {\n    \n    // TODO: replace the below return statement with the correct code.\n    String arrString = &quot;&quot;;\n    for(int i = 0; i &lt; data.length; i++) {\n        for(int j = 0; j &lt; data[i].length; j++) {\n            arrString += data[i][j] + &quot; &quot;;\n        }\n        arrString += &quot;\\n&quot;;\n    }\n    return arrString;\n    \n}\n</code></pre>\n"},{"tags":["java","spring","kotlin"],"comments":[{"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"score":0,"creation_date":1661756165,"post_id":73525046,"comment_id":129838378,"body_markdown":"You are mocking a `TopicV2Service&lt;CustomMessage&gt;` but your Service requires a `TopicV2Service&lt;ShipmentMessage&gt;`. Maybe if you change `CustomMessage` to `ShipmentMessage` as the Generics parameter it will autowire the mocked object correctly.","body":"You are mocking a <code>TopicV2Service&lt;CustomMessage&gt;</code> but your Service requires a <code>TopicV2Service&lt;ShipmentMessage&gt;</code>. Maybe if you change <code>CustomMessage</code> to <code>ShipmentMessage</code> as the Generics parameter it will autowire the mocked object correctly."},{"owner":{"account_id":26164639,"reputation":11,"user_id":19850638,"display_name":"dann.kim"},"score":0,"creation_date":1661825165,"post_id":73525046,"comment_id":129857865,"body_markdown":"@yezper Oops...That&#39;s typo; I edit it. BTW, if I match the Generic parameter and use `@Mockbean`, then the mocked object autowire the origin bean, right?","body":"@yezper Oops...That&#39;s typo; I edit it. BTW, if I match the Generic parameter and use <code>@Mockbean</code>, then the mocked object autowire the origin bean, right?"}],"owner":{"account_id":26164639,"reputation":11,"user_id":19850638,"display_name":"dann.kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661825044,"creation_date":1661755782,"question_id":73525046,"body_markdown":"I tried to mock the external packages bean by `@MockBean` at JPA unit test and successed to mock it. However, the mocking bean calls real method even though it does not call `thenCallRealMethod()`. I knew that `@MockBean` register spring application context and always return null value when calling methods. Are there any missing points?\r\n\r\nHere are the codes.\r\n\r\n- **MyServiceImplTest.kt**\r\n\r\n```kotlin\r\n@ExperimentalCoroutinesApi\r\n@DataJpaTest\r\n@Transactional(propagation = Propagation.NOT_SUPPORTED)\r\n@ContextConfiguration(classes = [TestApplication::class])\r\n@Import(MyServiceImpl::class)\r\n@ExtendWith(SpringExtension::class)\r\ninternal class InventoryAdminApiServiceImplTest {\r\n    @MockBean\r\n    private lateinit var myTopicService: TopicV2Service&lt;CustomMessage&gt;\r\n\r\n    @Suppress(&quot;SpringJavaInjectionPointsAutowiringInspection&quot;)\r\n    @Autowired\r\n    private lateinit var myService: MyServiceImpl\r\n\r\n    @Test\r\n    fun `test foo`() = runTest {\r\n        runBlocking {\r\n            myService.foo(cancelRequest {\r\n                id = 1\r\n                message = &quot;Canceled&quot;\r\n            })\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n- **MyServiceImpl**\r\n```kotlin\r\n@GrpcService\r\nclass MyServiceImpl @Autowired constructor(\r\n    private val myTopicService: TopicV2Service&lt;CustomMessage&gt;,\r\n) : MyServiceGrpcKt.MyServiceCoroutineImplBase() {\r\n    override suspend fun foo(request: CancelRequest): Empty {\r\n        ....\r\n        runBlocking {\r\n            myTopicService.publish(customMessage())\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n- **TopicV2Service**\r\n```kotlin\r\nopen class TopicV2Service&lt;M : Message&gt;(private val topic: TopicV2&lt;M&gt;) {\r\n    @Autowired\r\n    private lateinit var queuesProperties: QueuesProperties\r\n\r\n    private val client = SnsAsyncClient.create()\r\n    private val protobufPrinter = JsonFormat.printer()\r\n\r\n    private val topicArn by lazy {\r\n        client.createTopic { it.name(&quot;${queuesProperties.snsPrefix}${topic.name}&quot;) }\r\n            .join()\r\n            .topicArn()\r\n    }\r\n\r\n    suspend fun publish(message: M) {\r\n        val wrappedMessage = WrappedMessage(topic.name, protobufPrinter.print(message)).let { Json.encodeToString(it) }\r\n        client.publish { it.topicArn(topicArn).message(wrappedMessage) }.await()\r\n    }\r\n}\r\n\r\n```\r\n\r\n- Error message\r\n```sh\r\njava.lang.NullPointerException: Cannot invoke &quot;miniproj.toy1.queues.TopicV2.getName()&quot; because &quot;this.topic&quot; is null\r\n\tat miniproj.toy1.queues.TopicV2Service.publish(TopicV2Service.kt:29)\r\n\tat miniproj.toy1.inv_service.services.MyServiceImpl$foo$3$1$1.invokeSuspend(MyServiceImpl.kt:485)\r\n```","title":"@Mockbean call real method without using thenCallRealMethod()","body":"<p>I tried to mock the external packages bean by <code>@MockBean</code> at JPA unit test and successed to mock it. However, the mocking bean calls real method even though it does not call <code>thenCallRealMethod()</code>. I knew that <code>@MockBean</code> register spring application context and always return null value when calling methods. Are there any missing points?</p>\n<p>Here are the codes.</p>\n<ul>\n<li><strong>MyServiceImplTest.kt</strong></li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@ExperimentalCoroutinesApi\n@DataJpaTest\n@Transactional(propagation = Propagation.NOT_SUPPORTED)\n@ContextConfiguration(classes = [TestApplication::class])\n@Import(MyServiceImpl::class)\n@ExtendWith(SpringExtension::class)\ninternal class InventoryAdminApiServiceImplTest {\n    @MockBean\n    private lateinit var myTopicService: TopicV2Service&lt;CustomMessage&gt;\n\n    @Suppress(&quot;SpringJavaInjectionPointsAutowiringInspection&quot;)\n    @Autowired\n    private lateinit var myService: MyServiceImpl\n\n    @Test\n    fun `test foo`() = runTest {\n        runBlocking {\n            myService.foo(cancelRequest {\n                id = 1\n                message = &quot;Canceled&quot;\n            })\n        }\n    }\n}\n</code></pre>\n<ul>\n<li><strong>MyServiceImpl</strong></li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@GrpcService\nclass MyServiceImpl @Autowired constructor(\n    private val myTopicService: TopicV2Service&lt;CustomMessage&gt;,\n) : MyServiceGrpcKt.MyServiceCoroutineImplBase() {\n    override suspend fun foo(request: CancelRequest): Empty {\n        ....\n        runBlocking {\n            myTopicService.publish(customMessage())\n        }\n    }\n}\n</code></pre>\n<ul>\n<li><strong>TopicV2Service</strong></li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>open class TopicV2Service&lt;M : Message&gt;(private val topic: TopicV2&lt;M&gt;) {\n    @Autowired\n    private lateinit var queuesProperties: QueuesProperties\n\n    private val client = SnsAsyncClient.create()\n    private val protobufPrinter = JsonFormat.printer()\n\n    private val topicArn by lazy {\n        client.createTopic { it.name(&quot;${queuesProperties.snsPrefix}${topic.name}&quot;) }\n            .join()\n            .topicArn()\n    }\n\n    suspend fun publish(message: M) {\n        val wrappedMessage = WrappedMessage(topic.name, protobufPrinter.print(message)).let { Json.encodeToString(it) }\n        client.publish { it.topicArn(topicArn).message(wrappedMessage) }.await()\n    }\n}\n\n</code></pre>\n<ul>\n<li>Error message</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>java.lang.NullPointerException: Cannot invoke &quot;miniproj.toy1.queues.TopicV2.getName()&quot; because &quot;this.topic&quot; is null\n    at miniproj.toy1.queues.TopicV2Service.publish(TopicV2Service.kt:29)\n    at miniproj.toy1.inv_service.services.MyServiceImpl$foo$3$1$1.invokeSuspend(MyServiceImpl.kt:485)\n</code></pre>\n"},{"tags":["java","arrays","switch-statement","chararray"],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661821715,"creation_date":1661740219,"answer_id":73523632,"question_id":73523496,"body_markdown":"For turning left or right you simply need a variable that tracks the direction, and then choose a value for that variable that represents the direction, for example the points of a compass `North, East, South, West`, or `0,1,2,3` where 0=North, 1=East, etc:\r\n\r\n    //Variable to track direction\r\n    public int direction = 0;\r\n\r\nTo turn simply update the variable, here is a turn left example:\r\n\r\n    public void turnLeft(){\r\n        if(direction == 0)\r\n            direction = 3;\r\n        else\r\n            direction = direction-1;\r\n    }\r\n\r\nTo track the car location simply use a Point variable:\r\n\r\n\tPoint location = new Point(0,0);\r\n\r\nAs for how to move forward, you simply adjust the loacation of your car based on the direction variable, we can do this easily with `if` statements:\r\n\r\n    public void moveForward(){\r\n        //North == 0\r\n        if(direction = 0)\r\n            location.y = location.y-1;\r\n        //East  = 1\r\n        else if(direction == 1)\r\n            location.x = location.x+1;\r\n        //And so on...\r\n    }\r\n\r\nAnd finally we store it in the array:\r\n\r\n    //show the new car location\r\n\tpathArray[location.x][location.y] = &#39;X&#39;;\r\n\r\n\r\n----------\r\n\r\n\r\nThe complete code could go in it&#39;s own class a bit like this:\r\n\r\n    public class CarTracker{\r\n        //2d array to store path\r\n        char[][] pathArray = new char[10][10];\r\n        \r\n        //Variable to track direction\r\n        //Start facine east (1)\r\n        int direction = 1;\r\n        \r\n        //Track car location\r\n        Point location = new Point(0,0);\r\n        \r\n        //Car symbol\r\n        char car = &#39;X&#39;;\r\n        char trail = &#39;O&#39;;\r\n        \r\n        public void start(String commands, Point startLocation){\r\n        \t//read input commands\r\n        \tScanner in = new Scanner(commands);\r\n        \t\r\n        \t//Set start location\r\n        \tlocation = startLocation;\r\n        \t\r\n        \t//Fill the array with blanks so that it prints nicely\r\n        \tfor (int y = 0; y &lt; pathArray.length; y++){\r\n        \t    for (int x = 0; x &lt; pathArray[y].length; x++)\r\n        \t\t    pathArray[y][x] = &#39; &#39;;\r\n        \t}\r\n        \t\r\n        \t//Show the initial starting point for the print command\r\n        \tpathArray[location.y][location.x] = car;\r\n        \t\r\n        \t//loop until exit\r\n        \twhile(in.hasNext()){\r\n                String consoleInput = in.nextLine();\r\n                switch (consoleInput){\r\n            \t\tcase &quot;right&quot;:\r\n            \t\t    turnRight();\r\n            \t\t    break;\r\n            \t\tcase &quot;left&quot;:\r\n            \t\t    turnLeft();\r\n            \t\t    break;\r\n            \t\tcase &quot;exit&quot;:\r\n            \t\t    System.exit(0);\r\n            \t\t    break;\r\n            \t\tcase &quot;print&quot;:\r\n            \t\t    print();\r\n            \t\t    break;\r\n            \t\tcase &quot;forward&quot;:\r\n            \t\t    moveForward();\r\n            \t\t    break;\r\n            \t\tdefault:\r\n            \t\t    System.out.println(&quot;Invalid command: &quot;+consoleInput);\r\n            \t\t    break;\r\n                }\r\n        \t}\r\n        }\r\n    \r\n        public void turnLeft(){\r\n    \tif (direction == 0)\r\n    \t    direction = 3;\r\n    \telse\r\n    \t    direction = direction - 1;\r\n        }\r\n        \r\n        public void turnRight(){\r\n    \tif (direction == 3)\r\n    \t    direction = 0;\r\n    \telse\r\n    \t    direction = direction + 1;\r\n        }\r\n        \r\n        public void moveForward(){\r\n        \t//change previous character to a trail or mark the start\r\n        \tpathArray[location.y][location.x] = trail;\r\n        \t\r\n        \t//North = 0\r\n        \tif(direction == 0)\r\n        \t    location.y = location.y-1;\r\n        \t//East  = 1\r\n        \telse if(direction == 1)\r\n        \t    location.x = location.x+1;\r\n        \t//South = 2\r\n        \telse if(direction == 2)\r\n        \t    location.y = location.y+1;\r\n        \t//West = 3\r\n        \telse\r\n        \t    location.x = location.x-1;\r\n        \t\r\n        \t//show the new car location\r\n        \tpathArray[location.y][location.x] = car;\r\n        }\r\n        \r\n        public void print(){\r\n\t        System.out.println(&quot;Current Location:&quot;);\r\n            //loop the array and print\r\n        \tfor (int y = 0; y &lt; pathArray.length; y++){\r\n        \t    for (int x = 0; x &lt; pathArray[y].length; x++)\r\n                    //Print each part of the grid\r\n        \t\t    System.out.print(&quot;[&quot; + pathArray[y][x] + &quot;]&quot;);\r\n                //move to the next row\r\n        \t    System.out.println();\r\n        \t}\r\n        }\r\n    }\r\n\r\nThen using the following input from the main method (Where the car starts facing east in the above code):\r\n\r\n\tCarTracker tracker = new CarTracker();\r\n\t\r\n\tString commands = \r\n\t&quot;print\\n&quot; +\r\n\t&quot;forward\\n&quot; +\r\n\t&quot;forward\\n&quot; +\r\n\t&quot;right\\n&quot; +\r\n\t&quot;forward\\n&quot; +\r\n\t&quot;forward\\n&quot; +\r\n\t&quot;forward\\n&quot; +\r\n\t&quot;left\\n&quot; +\r\n\t&quot;forward\\n&quot; +\r\n\t&quot;forward\\n&quot; +\r\n\t&quot;left\\n&quot; +\r\n\t&quot;forward\\n&quot; +\r\n\t&quot;right\\n&quot; +\r\n\t&quot;forward\\n&quot; +\r\n\t&quot;print&quot;;\r\n\t\r\n\tPoint startLocation = new Point(0, 4);\r\n\t    \r\n\ttracker.start(commands, startLocation);\r\n\r\nWe get this output with the blank grid at the start, and the final printed grid shows the complete path and the final location:\r\n\r\n    Current Location:\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [X][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    Current Location:\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [O][O][O][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][O][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][O][ ][O][X][ ][ ][ ][ ]\r\n    [ ][ ][O][O][O][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n    [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\r\n\r\nYou will need to build in some error checking to make sure the car does not go outside the grid/array, and you will need to fix up a few other things like your input method, but it will get you started.\r\n\r\n\r\n----------\r\n\r\n\r\nEdit: If you want to start outside the area for exampl elike this `Point startLocation = new Point(-1, 0);`, then remove the line that prints the start location:\r\n\r\n\t//The initial starting point\r\n\t//pathArray[location.y][location.x] = car;\r\n\r\nAnd change the moveForward method to not modify the array if the start is outside the left side by adding this `if` check:\r\n\r\n    public void moveForward(){\r\n\t//change previous character to a trail or mark the start\r\n\tif(location.x &gt;= 0){\r\n\t    pathArray[location.y][location.x] = trail;\r\n\t}","title":"2d char array with commands for a car and needs to be tracked java","body":"<p>For turning left or right you simply need a variable that tracks the direction, and then choose a value for that variable that represents the direction, for example the points of a compass <code>North, East, South, West</code>, or <code>0,1,2,3</code> where 0=North, 1=East, etc:</p>\n<pre><code>//Variable to track direction\npublic int direction = 0;\n</code></pre>\n<p>To turn simply update the variable, here is a turn left example:</p>\n<pre><code>public void turnLeft(){\n    if(direction == 0)\n        direction = 3;\n    else\n        direction = direction-1;\n}\n</code></pre>\n<p>To track the car location simply use a Point variable:</p>\n<pre><code>Point location = new Point(0,0);\n</code></pre>\n<p>As for how to move forward, you simply adjust the loacation of your car based on the direction variable, we can do this easily with <code>if</code> statements:</p>\n<pre><code>public void moveForward(){\n    //North == 0\n    if(direction = 0)\n        location.y = location.y-1;\n    //East  = 1\n    else if(direction == 1)\n        location.x = location.x+1;\n    //And so on...\n}\n</code></pre>\n<p>And finally we store it in the array:</p>\n<pre><code>//show the new car location\npathArray[location.x][location.y] = 'X';\n</code></pre>\n<hr />\n<p>The complete code could go in it's own class a bit like this:</p>\n<pre><code>public class CarTracker{\n    //2d array to store path\n    char[][] pathArray = new char[10][10];\n    \n    //Variable to track direction\n    //Start facine east (1)\n    int direction = 1;\n    \n    //Track car location\n    Point location = new Point(0,0);\n    \n    //Car symbol\n    char car = 'X';\n    char trail = 'O';\n    \n    public void start(String commands, Point startLocation){\n        //read input commands\n        Scanner in = new Scanner(commands);\n        \n        //Set start location\n        location = startLocation;\n        \n        //Fill the array with blanks so that it prints nicely\n        for (int y = 0; y &lt; pathArray.length; y++){\n            for (int x = 0; x &lt; pathArray[y].length; x++)\n                pathArray[y][x] = ' ';\n        }\n        \n        //Show the initial starting point for the print command\n        pathArray[location.y][location.x] = car;\n        \n        //loop until exit\n        while(in.hasNext()){\n            String consoleInput = in.nextLine();\n            switch (consoleInput){\n                case &quot;right&quot;:\n                    turnRight();\n                    break;\n                case &quot;left&quot;:\n                    turnLeft();\n                    break;\n                case &quot;exit&quot;:\n                    System.exit(0);\n                    break;\n                case &quot;print&quot;:\n                    print();\n                    break;\n                case &quot;forward&quot;:\n                    moveForward();\n                    break;\n                default:\n                    System.out.println(&quot;Invalid command: &quot;+consoleInput);\n                    break;\n            }\n        }\n    }\n\n    public void turnLeft(){\n    if (direction == 0)\n        direction = 3;\n    else\n        direction = direction - 1;\n    }\n    \n    public void turnRight(){\n    if (direction == 3)\n        direction = 0;\n    else\n        direction = direction + 1;\n    }\n    \n    public void moveForward(){\n        //change previous character to a trail or mark the start\n        pathArray[location.y][location.x] = trail;\n        \n        //North = 0\n        if(direction == 0)\n            location.y = location.y-1;\n        //East  = 1\n        else if(direction == 1)\n            location.x = location.x+1;\n        //South = 2\n        else if(direction == 2)\n            location.y = location.y+1;\n        //West = 3\n        else\n            location.x = location.x-1;\n        \n        //show the new car location\n        pathArray[location.y][location.x] = car;\n    }\n    \n    public void print(){\n        System.out.println(&quot;Current Location:&quot;);\n        //loop the array and print\n        for (int y = 0; y &lt; pathArray.length; y++){\n            for (int x = 0; x &lt; pathArray[y].length; x++)\n                //Print each part of the grid\n                System.out.print(&quot;[&quot; + pathArray[y][x] + &quot;]&quot;);\n            //move to the next row\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Then using the following input from the main method (Where the car starts facing east in the above code):</p>\n<pre><code>CarTracker tracker = new CarTracker();\n\nString commands = \n&quot;print\\n&quot; +\n&quot;forward\\n&quot; +\n&quot;forward\\n&quot; +\n&quot;right\\n&quot; +\n&quot;forward\\n&quot; +\n&quot;forward\\n&quot; +\n&quot;forward\\n&quot; +\n&quot;left\\n&quot; +\n&quot;forward\\n&quot; +\n&quot;forward\\n&quot; +\n&quot;left\\n&quot; +\n&quot;forward\\n&quot; +\n&quot;right\\n&quot; +\n&quot;forward\\n&quot; +\n&quot;print&quot;;\n\nPoint startLocation = new Point(0, 4);\n    \ntracker.start(commands, startLocation);\n</code></pre>\n<p>We get this output with the blank grid at the start, and the final printed grid shows the complete path and the final location:</p>\n<pre><code>Current Location:\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[X][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\nCurrent Location:\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[O][O][O][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][O][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][O][ ][O][X][ ][ ][ ][ ]\n[ ][ ][O][O][O][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]\n</code></pre>\n<p>You will need to build in some error checking to make sure the car does not go outside the grid/array, and you will need to fix up a few other things like your input method, but it will get you started.</p>\n<hr />\n<p>Edit: If you want to start outside the area for exampl elike this <code>Point startLocation = new Point(-1, 0);</code>, then remove the line that prints the start location:</p>\n<pre><code>//The initial starting point\n//pathArray[location.y][location.x] = car;\n</code></pre>\n<p>And change the moveForward method to not modify the array if the start is outside the left side by adding this <code>if</code> check:</p>\n<pre><code>public void moveForward(){\n//change previous character to a trail or mark the start\nif(location.x &gt;= 0){\n    pathArray[location.y][location.x] = trail;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26184303,"reputation":3,"user_id":19867097,"display_name":"MaSu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661753576,"creation_date":1661753576,"answer_id":73524733,"question_id":73523496,"body_markdown":"    public void start(String commands, Point startLocation) {\r\n            //read input commands\r\n            Scanner in = new Scanner(commands);\r\n    \r\n            //Set start location\r\n            location = startLocation;\r\n    \r\n            //Fill the array with blanks so that it prints nicely\r\n            for (int y = 0; y &lt; pathArray.length; y++) {\r\n                for (int x = 0; x &lt; pathArray[y].length; x++)\r\n                    pathArray[y][x] = &#39; &#39;;\r\n            }\r\n    \r\n            //Show the initial starting point for the print command\r\n    //        pathArray[location.x][location.y] = bullDozer;\r\n    \r\n            //loop until exit\r\n            while (in.hasNext()) {\r\n                String consoleInput = in.nextLine();\r\n                switch (consoleInput) {\r\n                    case &quot;right&quot;:\r\n                        turnRight();\r\n                        break;\r\n                    case &quot;left&quot;:\r\n                        turnLeft();\r\n                        break;\r\n                    case &quot;exit&quot;:\r\n                        System.exit(0);\r\n                        break;\r\n                    case &quot;print&quot;:\r\n                        print();\r\n                        break;\r\n                    case &quot;forward&quot;:\r\n                        moveForward();\r\n                        break;\r\n                    default:\r\n                        System.out.println(&quot;Invalid command: &quot; + consoleInput);\r\n                        break;\r\n                }\r\n            }\r\n        }","title":"2d char array with commands for a car and needs to be tracked java","body":"<pre><code>public void start(String commands, Point startLocation) {\n        //read input commands\n        Scanner in = new Scanner(commands);\n\n        //Set start location\n        location = startLocation;\n\n        //Fill the array with blanks so that it prints nicely\n        for (int y = 0; y &lt; pathArray.length; y++) {\n            for (int x = 0; x &lt; pathArray[y].length; x++)\n                pathArray[y][x] = ' ';\n        }\n\n        //Show the initial starting point for the print command\n//        pathArray[location.x][location.y] = bullDozer;\n\n        //loop until exit\n        while (in.hasNext()) {\n            String consoleInput = in.nextLine();\n            switch (consoleInput) {\n                case &quot;right&quot;:\n                    turnRight();\n                    break;\n                case &quot;left&quot;:\n                    turnLeft();\n                    break;\n                case &quot;exit&quot;:\n                    System.exit(0);\n                    break;\n                case &quot;print&quot;:\n                    print();\n                    break;\n                case &quot;forward&quot;:\n                    moveForward();\n                    break;\n                default:\n                    System.out.println(&quot;Invalid command: &quot; + consoleInput);\n                    break;\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26184303,"reputation":3,"user_id":19867097,"display_name":"MaSu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73523632,"answer_count":2,"score":0,"last_activity_date":1661821715,"creation_date":1661738282,"question_id":73523496,"body_markdown":"***Expert&#39;s help needed on Java 2d Array:***\r\n\r\n\t\t\t\tboolean flag = true;\r\n\t\t\t\twhile(true){\r\n\t\t\t\tString consoleInput = in.nextLine();\r\n\t\t\t\tcommands.add(cmd);\r\n\t\t\t\tswitch (consoleInput) {\r\n\t\t\t\t\r\n\t\t\t\tcase &quot;right&quot;:\r\n\t\t\t\t\t//how to turn right in 2d array\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &quot;left&quot;:\r\n\t\t\t\t\t//how to turn left in 2d array\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;exit&quot;:\r\n\t\t\t\t\tflag=false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\r\n\t\t\t\tint moveForward = consoleInput;\r\n\t\t\t\t//how to move forward in 2d array\r\n\t\t\t\t}\r\n\t\t\t\t\r\n Need to capture everything in 2d array\r\n\r\nSo that I can track the path of the car. \r\n\r\nI request for help from some expert here as I am stuck.","title":"2d char array with commands for a car and needs to be tracked java","body":"<p><em><strong>Expert's help needed on Java 2d Array:</strong></em></p>\n<pre><code>            boolean flag = true;\n            while(true){\n            String consoleInput = in.nextLine();\n            commands.add(cmd);\n            switch (consoleInput) {\n            \n            case &quot;right&quot;:\n                //how to turn right in 2d array\n                break;\n\n            case &quot;left&quot;:\n                //how to turn left in 2d array\n                break;\n                \n            case &quot;exit&quot;:\n                flag=false;\n                break;\n                \n            default:\n            \n            int moveForward = consoleInput;\n            //how to move forward in 2d array\n            }\n            \n</code></pre>\n<p>Need to capture everything in 2d array</p>\n<p>So that I can track the path of the car.</p>\n<p>I request for help from some expert here as I am stuck.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1661828471,"post_id":73535833,"comment_id":129858254,"body_markdown":"@KJ merging isn&#39;t GPU related","body":"@KJ merging isn&#39;t GPU related"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1661828524,"post_id":73535833,"comment_id":129858262,"body_markdown":"You could try optimized mode but I think you already did (I remember this question elsewhere)","body":"You could try optimized mode but I think you already did (I remember this question elsewhere)"},{"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"score":0,"creation_date":1661830319,"post_id":73535833,"comment_id":129858467,"body_markdown":"@TilmanHausherr yes its continuing to existing question.. Can we run merge in parallel  like Spiling List into sub lists and running multiple threads for merge","body":"@TilmanHausherr yes its continuing to existing question.. Can we run merge in parallel  like Spiling List into sub lists and running multiple threads for merge"},{"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"score":0,"creation_date":1661831085,"post_id":73535833,"comment_id":129858551,"body_markdown":"@TilmanHausherr   are you referring below as Optimized mode ? \n pdfMerger.setDocumentMergeMode(DocumentMergeMode.OPTIMIZE_RESOURCES_MODE);","body":"@TilmanHausherr   are you referring below as Optimized mode ?   pdfMerger.setDocumentMergeMode(DocumentMergeMode.OPTIMIZE_RE&zwnj;&#8203;SOURCES_MODE);"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1661831857,"post_id":73535833,"comment_id":129858645,"body_markdown":"Yes. But this works only if you call `mergeDocuments`. And this loses certain elements, e.g. structure tree, acroform, etc. You could try to merge in parallel if the documents are unrelated.","body":"Yes. But this works only if you call <code>mergeDocuments</code>. And this loses certain elements, e.g. structure tree, acroform, etc. You could try to merge in parallel if the documents are unrelated."},{"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"score":0,"creation_date":1661833180,"post_id":73535833,"comment_id":129858809,"body_markdown":"hmm  I Need to maintain sequencing  of Docs if done in parallel","body":"hmm  I Need to maintain sequencing  of Docs if done in parallel"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1661842324,"post_id":73535833,"comment_id":129860661,"body_markdown":"You could download a certain amount of PDFs and then merge them in an extra thread of a thread pool, then the next batch, etc.","body":"You could download a certain amount of PDFs and then merge them in an extra thread of a thread pool, then the next batch, etc."},{"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"score":0,"creation_date":1662619216,"post_id":73535833,"comment_id":130048400,"body_markdown":"@TilmanHausherr Can we disable Warnings from pdfbox ?  eg. -  WARN 3164 --- [      Finalizer] org.apache.pdfbox.cos.COSDocument        : Warning: You did not close a PDF Document \n I have closed doc in finally block","body":"@TilmanHausherr Can we disable Warnings from pdfbox ?  eg. -  WARN 3164 --- [      Finalizer] org.apache.pdfbox.cos.COSDocument        : Warning: You did not close a PDF Document   I have closed doc in finally block"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1662629067,"post_id":73535833,"comment_id":130051458,"body_markdown":"You didn&#39;t close a document. You think you did.","body":"You didn&#39;t close a document. You think you did."},{"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"score":0,"creation_date":1662678212,"post_id":73535833,"comment_id":130067662,"body_markdown":"@TilmanHausherr  -- using similar code sample  for append method https://stackoverflow.com/questions/73074763/end-of-file-exception-merge-pdf-using-pdfbox/73103450?noredirect=1#comment129769594_73103450","body":"@TilmanHausherr  -- using similar code sample  for append method <a href=\"https://stackoverflow.com/questions/73074763/end-of-file-exception-merge-pdf-using-pdfbox/73103450?noredirect=1#comment129769594_73103450\" title=\"end of file exception merge pdf using pdfbox\">stackoverflow.com/questions/73074763/&hellip;</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1662695020,"post_id":73535833,"comment_id":130069919,"body_markdown":"destination doesn&#39;t get closed there.","body":"destination doesn&#39;t get closed there."},{"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"score":0,"creation_date":1662986184,"post_id":73535833,"comment_id":130125719,"body_markdown":"@TilmanHausherr Cannot close destination before all file append successfully, it will error out for early file closing :(  do you have any other approach ?","body":"@TilmanHausherr Cannot close destination before all file append successfully, it will error out for early file closing :(  do you have any other approach ?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1663005657,"post_id":73535833,"comment_id":130132855,"body_markdown":"You need to close it when all is done. So you have to hold that object, or the GC will close it for you. Also make sure you have the latest version of your jdk.","body":"You need to close it when all is done. So you have to hold that object, or the GC will close it for you. Also make sure you have the latest version of your jdk."},{"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"score":0,"creation_date":1663024388,"post_id":73535833,"comment_id":130137597,"body_markdown":"Yes thats what i am doing closing destination after for loop {} ... as its doing append in for loop i am getting &quot;Warning: You did not close a PDF Document&quot;  Is there way to disable this runtime Warning","body":"Yes thats what i am doing closing destination after for loop {} ... as its doing append in for loop i am getting &quot;Warning: You did not close a PDF Document&quot;  Is there way to disable this runtime Warning"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1663037191,"post_id":73535833,"comment_id":130139186,"body_markdown":"You could disable it by configuring your logger, but the best solution is to find the cause. What jdk version and what pdfbox version are you using?","body":"You could disable it by configuring your logger, but the best solution is to find the cause. What jdk version and what pdfbox version are you using?"}],"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661819632,"creation_date":1661818054,"question_id":73535833,"body_markdown":"I am doing merge using pdfbox and java , I have input-stream object list which contains pdf files.\r\n\r\nCurrently it&#39;s taking longer time (hours) to merge documents when merging 5000 plus docs.\r\nBasically i need to iterate through all the files and capture any Invalid file as failed response file\r\n\r\nwhat&#39;s the best way to improve performance? \r\n\r\nOption 1: \r\n\r\n    for (PdfFileObjectStream pdfFileObject : pdfFileObjectStream) {\r\n    \t\r\n    \t\t\r\n    \t    try (InputStream is = pdfFileObject.getObjectInputStream())\r\n    \t    {\r\n    \t        source = PDDocument.load(is);\r\n    \t        pdfMerger.appendDocument(destination, source);\r\n    \t    }\r\n    \t    catch (Exception e)\r\n    \t    {\r\n    \t\t\t//Add to failed file\r\n    \t\t}\r\n    \t\t\r\n    \t}\t\r\n\r\n\t\r\n\tLOG.info(&quot;File merged&quot;);\r\n\r\n\r\nOption2:\r\n\r\n    for (PdfFileObjectStream pdfFileObject : pdfFileObjectStream) {\r\n    \t\t\ttry {\r\n    \t\t\t\t\r\n    \t\t\t   pdfMerger.addSource(pdfFileObject.getObjectInputStream());\r\n    \t\t\t   \r\n    \t\t\t}catch(Exception e) {\r\n    \t\t\t\t////Add to failed file\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\tpdfMerger.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\r\n\t\t    LOG.info(&quot;File merged&quot;);\r\n\r\nI have configured good JVM Memory for application.  \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"PDF Box: Merge Documents vs append Documents - performance","body":"<p>I am doing merge using pdfbox and java , I have input-stream object list which contains pdf files.</p>\n<p>Currently it's taking longer time (hours) to merge documents when merging 5000 plus docs.\nBasically i need to iterate through all the files and capture any Invalid file as failed response file</p>\n<p>what's the best way to improve performance?</p>\n<p>Option 1:</p>\n<pre><code>for (PdfFileObjectStream pdfFileObject : pdfFileObjectStream) {\n    \n        \n        try (InputStream is = pdfFileObject.getObjectInputStream())\n        {\n            source = PDDocument.load(is);\n            pdfMerger.appendDocument(destination, source);\n        }\n        catch (Exception e)\n        {\n            //Add to failed file\n        }\n        \n    }   \n\n\nLOG.info(&quot;File merged&quot;);\n</code></pre>\n<p>Option2:</p>\n<pre><code>for (PdfFileObjectStream pdfFileObject : pdfFileObjectStream) {\n            try {\n                \n               pdfMerger.addSource(pdfFileObject.getObjectInputStream());\n               \n            }catch(Exception e) {\n                ////Add to failed file\n                continue;\n            }\n\n        }\n\n        pdfMerger.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\n        LOG.info(&quot;File merged&quot;);\n</code></pre>\n<p>I have configured good JVM Memory for application.</p>\n"},{"tags":["java","rest","http","httpclient"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661824665,"post_id":73535892,"comment_id":129857805,"body_markdown":"Which content type do you want to send?","body":"Which content type do you want to send?"},{"owner":{"account_id":23214084,"reputation":11,"user_id":17307184,"display_name":"jay"},"score":0,"creation_date":1661832824,"post_id":73535892,"comment_id":129858766,"body_markdown":"I would like to send json. ```ObjectMapper objectMapper = new ObjectMapper(); MyDto myDto= objectMapper.readValue(new URL(&quot;file:src/main/resources/myjsonfile.json&quot;), MyDto .class);\nString requestBody = objectMapper.writeValueAsString(myDto);\nreturn requestBody;``` but I wanna skip the part ```writeValueAsString``` and just use myDto Object","body":"I would like to send json. <code>ObjectMapper objectMapper = new ObjectMapper(); MyDto myDto= objectMapper.readValue(new URL(&quot;file:src&#47;main&#47;resources&#47;myjsonfile.json&quot;), MyDto .class); String requestBody = objectMapper.writeValueAsString(myDto); return requestBody;</code> but I wanna skip the part <code>writeValueAsString</code> and just use myDto Object"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1661877176,"post_id":73535892,"comment_id":129874229,"body_markdown":"Implement and use your own `HttpRequest.BodyPublisher` that wraps that JSON serializing code. Spring works by implementing an `HttpMessageConverter` that does the same (for use by the `RestTemplate`).","body":"Implement and use your own <code>HttpRequest.BodyPublisher</code> that wraps that JSON serializing code. Spring works by implementing an <code>HttpMessageConverter</code> that does the same (for use by the <code>RestTemplate</code>)."}],"owner":{"account_id":23214084,"reputation":11,"user_id":17307184,"display_name":"jay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661818739,"creation_date":1661818739,"question_id":73535892,"body_markdown":"I would like to know that I can send Object itself as a body without converting them to String using ```BodyPublishers.ofString(requestBody)``` like below\r\n```\r\nHttpRequest request = HttpRequest.newBuilder(new URI(&quot;http://localhost:8080/api/test&quot;))\r\n        .version(HttpClient.Version.HTTP_2)\r\n        .POST(BodyPublishers.ofString(requestBody))\r\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n        .build();\r\n```\r\nAccording to official doc http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromFile-java.nio.file.Path-\r\nThere&#39;s no method that I can use to just send the object as body.\r\nRequest bodies are sent using one of the request processor implementations below provided in&#160;`HttpRequest`, **or else a custom implementation can be used.**\r\n\r\n- `[fromByteArray(byte[])](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromByteArray-byte:A-)`&#160;from byte array\r\n- `[fromByteArrays(Iterator)](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromByteArrays-java.util.Iterator-)`&#160;from an iterator of byte arrays\r\n- `[fromFile(Path)](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromFile-java.nio.file.Path-)`&#160;from the file located at the given Path\r\n- `[fromString(String)](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromString-java.lang.String-)`&#160;from a String\r\n- `[fromInputStream(InputStream)](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromInputStream-java.io.InputStream-)`&#160;request body from InputStream\r\n- `[noBody()](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#noBody--)`&#160;no request body is sent\r\n\r\nCan I customize BodyPublishers?\r\nI would like to use java 11 httpClient and want to send Object as a body like org.springframework.web.client.RestTemplate&#39;s ```postForEntity()```","title":"Can I just send Object Body using java 11 HttpClient using Custom Body Publisher?","body":"<p>I would like to know that I can send Object itself as a body without converting them to String using <code>BodyPublishers.ofString(requestBody)</code> like below</p>\n<pre><code>HttpRequest request = HttpRequest.newBuilder(new URI(&quot;http://localhost:8080/api/test&quot;))\n        .version(HttpClient.Version.HTTP_2)\n        .POST(BodyPublishers.ofString(requestBody))\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .build();\n</code></pre>\n<p>According to official doc <a href=\"http://cr.openjdk.java.net/%7Eprappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromFile-java.nio.file.Path-\" rel=\"nofollow noreferrer\">http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromFile-java.nio.file.Path-</a>\nThere's no method that I can use to just send the object as body.\nRequest bodies are sent using one of the request processor implementations below provided in <code>HttpRequest</code>, <strong>or else a custom implementation can be used.</strong></p>\n<ul>\n<li><code>[fromByteArray(byte[])](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromByteArray-byte:A-)</code> from byte array</li>\n<li><code>[fromByteArrays(Iterator)](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromByteArrays-java.util.Iterator-)</code> from an iterator of byte arrays</li>\n<li><code>[fromFile(Path)](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromFile-java.nio.file.Path-)</code> from the file located at the given Path</li>\n<li><code>[fromString(String)](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromString-java.lang.String-)</code> from a String</li>\n<li><code>[fromInputStream(InputStream)](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#fromInputStream-java.io.InputStream-)</code> request body from InputStream</li>\n<li><code>[noBody()](http://cr.openjdk.java.net/~prappo/8087113/javadoc.02/java/net/http/HttpRequest.html#noBody--)</code> no request body is sent</li>\n</ul>\n<p>Can I customize BodyPublishers?\nI would like to use java 11 httpClient and want to send Object as a body like org.springframework.web.client.RestTemplate's <code>postForEntity()</code></p>\n"},{"tags":["java","intellij-idea","refactoring"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1661476826,"post_id":73494875,"comment_id":129787501,"body_markdown":"Just to get you started on some research, you may find the &quot;Structural search and replace&quot; feature useful. https://www.jetbrains.com/help/idea/structural-search-and-replace.html It comes with some prebuilt templates that you can explore to build your own queries. Very useful for some super advanced refactoring on large code bases.","body":"Just to get you started on some research, you may find the &quot;Structural search and replace&quot; feature useful. <a href=\"https://www.jetbrains.com/help/idea/structural-search-and-replace.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/structural-search-and-replace.html</a> It comes with some prebuilt templates that you can explore to build your own queries. Very useful for some super advanced refactoring on large code bases."},{"owner":{"account_id":2083786,"reputation":163,"user_id":3858681,"display_name":"Roshan"},"score":0,"creation_date":1661817170,"post_id":73494875,"comment_id":129856859,"body_markdown":"Thank you, @Strelok. I tried using that but it doesn&#39;t look like I can specify a constraint of &quot;LHS is of type A&quot;.\n\nEDIT: In classic form, I was just missing the obvious and right after posting I saw it front of me: it&#39;s the obviously named &quot;Type&quot; filter which you place a fully qualified name after.","body":"Thank you, @Strelok. I tried using that but it doesn&#39;t look like I can specify a constraint of &quot;LHS is of type A&quot;.  EDIT: In classic form, I was just missing the obvious and right after posting I saw it front of me: it&#39;s the obviously named &quot;Type&quot; filter which you place a fully qualified name after."},{"owner":{"account_id":2083786,"reputation":163,"user_id":3858681,"display_name":"Roshan"},"score":0,"creation_date":1661817933,"post_id":73494875,"comment_id":129856949,"body_markdown":"@Strelok I made this an answer. Thanks a bunch for the help.","body":"@Strelok I made this an answer. Thanks a bunch for the help."}],"answers":[{"tags":[],"owner":{"account_id":2083786,"reputation":163,"user_id":3858681,"display_name":"Roshan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661817917,"creation_date":1661817917,"answer_id":73535824,"question_id":73494875,"body_markdown":"The right way to do this is:\r\n\r\n1. Edit &gt; Find &gt; Search Structurally...\r\n\r\n2. Use the following template\r\n\r\n```\r\n$LHS$ == $RHS$\r\n```\r\n\r\n3. Click the `$LHS$` section and add a Filter on the right of `Type` set to your type fully-qualified (in my case `roshan.model.Quantity`) and select &#39;Within Type Hierarchy&#39;\r\n\r\n4. Repeat with the `$RHS$` (you may optionally set the `Type` to `model.Quantity|null` if you want to include null-checks)\r\n\r\n5. Run Find\r\n\r\nThis will find you exactly the set of reference equality checks of type LHS to type RHS including sub-classes on both sides. Ha! Amazing.","title":"Finding all uses of a Java class in reference equality in IntelliJ","body":"<p>The right way to do this is:</p>\n<ol>\n<li><p>Edit &gt; Find &gt; Search Structurally...</p>\n</li>\n<li><p>Use the following template</p>\n</li>\n</ol>\n<pre><code>$LHS$ == $RHS$\n</code></pre>\n<ol start=\"3\">\n<li><p>Click the <code>$LHS$</code> section and add a Filter on the right of <code>Type</code> set to your type fully-qualified (in my case <code>roshan.model.Quantity</code>) and select 'Within Type Hierarchy'</p>\n</li>\n<li><p>Repeat with the <code>$RHS$</code> (you may optionally set the <code>Type</code> to <code>model.Quantity|null</code> if you want to include null-checks)</p>\n</li>\n<li><p>Run Find</p>\n</li>\n</ol>\n<p>This will find you exactly the set of reference equality checks of type LHS to type RHS including sub-classes on both sides. Ha! Amazing.</p>\n"}],"owner":{"account_id":2083786,"reputation":163,"user_id":3858681,"display_name":"Roshan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73535824,"answer_count":1,"score":1,"last_activity_date":1661817917,"creation_date":1661473458,"question_id":73494875,"body_markdown":"I want to identify all instances of reference equality for a particular class and replace them with `equals`. Is there a technique or tool in IntelliJ that I can use for this? Can I filter Find Usages down to &quot;usage in `==`&quot; somehow?\r\n\r\nEssentially, I would like this tool to list:\r\n\r\n1. Instances of this class and sub-classes\r\n\r\n2. That are used in reference equality\r\n\r\nIt is okay if it does not detect reference equality checks of instances of superclasses of this class.","title":"Finding all uses of a Java class in reference equality in IntelliJ","body":"<p>I want to identify all instances of reference equality for a particular class and replace them with <code>equals</code>. Is there a technique or tool in IntelliJ that I can use for this? Can I filter Find Usages down to &quot;usage in <code>==</code>&quot; somehow?</p>\n<p>Essentially, I would like this tool to list:</p>\n<ol>\n<li><p>Instances of this class and sub-classes</p>\n</li>\n<li><p>That are used in reference equality</p>\n</li>\n</ol>\n<p>It is okay if it does not detect reference equality checks of instances of superclasses of this class.</p>\n"},{"tags":["java","android","android-studio","android-cardview"],"comments":[{"owner":{"account_id":19211594,"reputation":1477,"user_id":14037302,"display_name":"sweak"},"score":1,"creation_date":1661711937,"post_id":73521105,"comment_id":129831607,"body_markdown":"Does this answer your question? [loading image but slow speed on android](https://stackoverflow.com/questions/24115519/loading-image-but-slow-speed-on-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24115519/loading-image-but-slow-speed-on-android\">loading image but slow speed on android</a>"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1661712145,"post_id":73521105,"comment_id":129831643,"body_markdown":"Use a `RecyclerView`, as my guess is that you have a layout loading all 30 of those images, when only a couple will be visible at any point in time. Also, make sure these large bitmaps are in a directory like `res/drawable-anydpi/`, not `res/drawable/`.","body":"Use a <code>RecyclerView</code>, as my guess is that you have a layout loading all 30 of those images, when only a couple will be visible at any point in time. Also, make sure these large bitmaps are in a directory like <code>res&#47;drawable-anydpi&#47;</code>, not <code>res&#47;drawable&#47;</code>."},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1661775836,"post_id":73521105,"comment_id":129844531,"body_markdown":"Do you mean that you&#39;re using 30 `card view` to show 30 images? If yes then you `recycler Adapter` to show these images and buttons without creating 30 cards and buttons. Make sure that image size is no more then `1000px`. Load image using picasso or glide.","body":"Do you mean that you&#39;re using 30 <code>card view</code> to show 30 images? If yes then you <code>recycler Adapter</code> to show these images and buttons without creating 30 cards and buttons. Make sure that image size is no more then <code>1000px</code>. Load image using picasso or glide."}],"answers":[{"tags":[],"owner":{"account_id":14683946,"reputation":36,"user_id":13454595,"display_name":"Amaury Ribeiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661817541,"creation_date":1661817541,"answer_id":73535787,"question_id":73521105,"body_markdown":"If the emulator is slow, have you tried disabling your antivirus? Another possibility is to optimize the local images, there are programs such as the free website: https://www.iloveimg.com/ and speed up loading.\r\n\r\nAnother idea would be to distribute the images in other tabs or activities, because your activity may be overloaded, or load them through other libraries like picasso (I believe it has already been mentioned).","title":"Activity is opening very slowly","body":"<p>If the emulator is slow, have you tried disabling your antivirus? Another possibility is to optimize the local images, there are programs such as the free website: <a href=\"https://www.iloveimg.com/\" rel=\"nofollow noreferrer\">https://www.iloveimg.com/</a> and speed up loading.</p>\n<p>Another idea would be to distribute the images in other tabs or activities, because your activity may be overloaded, or load them through other libraries like picasso (I believe it has already been mentioned).</p>\n"}],"owner":{"account_id":25988922,"reputation":21,"user_id":19701477,"display_name":"Scm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661817541,"creation_date":1661710419,"question_id":73521105,"body_markdown":"for some reason my activity is opening slowly, do you think that you can help me here?\r\nNow, this is not the only code in  Java class, I have 30 buttons that are exactly the same like the one below, only their ID is different since I have 30 card views (widget) in the activity, here is the picture of the design. I also reduced the pictures to the right size for the card, but that did not help. May you please help me?\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\n**Java Class:**\r\n\r\n    private Button crkvaspip;\r\n    \r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            setContentView(R.layout.activity_zavrsenilista);\r\n    \r\n    \r\n    \r\n            //Dashboard\r\n    \r\n            crkvaspip = (Button) findViewById(R.id.crkvaspip);\r\n            crkvaspip.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) { openCrkvaSvetogPetraIPavla();\r\n                }\r\n            });\r\n    \r\n     public void openCrkvaSvetogPetraIPavla(){\r\n    \r\n            Intent intent = new Intent(zavrseni_category.this, bioskop_class.class);\r\n            startActivity(intent);\r\n        }\r\n\r\n\r\n**Android widget card view code:**\r\n\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                android:id=&quot;@+id/card_view&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;210dp&quot;\r\n                app:cardCornerRadius=&quot;20dp&quot;\r\n                android:layout_margin=&quot;8dp&quot;&gt;\r\n    \r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/thumbnail&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;170dp&quot;\r\n                        android:layout_alignParentTop=&quot;true&quot;\r\n                        android:scaleType=&quot;centerCrop&quot;\r\n                        android:adjustViewBounds=&quot;true&quot;\r\n                        android:src=&quot;@drawable/bioskop1&quot; /&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/thumbnail&quot;\r\n                        android:maxLines=&quot;1&quot;\r\n                        android:padding=&quot;8dp&quot;\r\n                        android:fontFamily=&quot;@font/baloo&quot;\r\n                        android:text=&quot;3D Bioskop&quot;\r\n                        android:textColor=&quot;#222&quot;\r\n                        android:textSize=&quot;20dp&quot; /&gt;\r\n    \r\n                    &lt;Button\r\n                        android:id=&quot;@+id/crkvaspip&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:background=&quot;#00000000&quot; /&gt;\r\n    \r\n    \r\n                &lt;/RelativeLayout&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n**UPDATE LOGCAT INFO CODE:** \r\n\r\n    2022-08-28 20:21:51.524 4585-4629/com.visit.bp I/OpenGLRenderer: Davey! duration=4111ms; Flags=1, IntendedVsync=38769851610176, Vsync=38773584943360, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=38773585749700, AnimationStart=38773585821500, PerformTraversalsStart=38773586648100, DrawStart=38773756771500, SyncQueued=38773757001800, SyncStart=38773757217800, IssueDrawCommandsStart=38773825367800, SwapBuffers=38773938657200, FrameCompleted=38773963626600, DequeueBufferDuration=332000, QueueBufferDuration=535000, \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PZ2ff.png","title":"Activity is opening very slowly","body":"<p>for some reason my activity is opening slowly, do you think that you can help me here?\nNow, this is not the only code in  Java class, I have 30 buttons that are exactly the same like the one below, only their ID is different since I have 30 card views (widget) in the activity, here is the picture of the design. I also reduced the pictures to the right size for the card, but that did not help. May you please help me?</p>\n<p><a href=\"https://i.stack.imgur.com/PZ2ff.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PZ2ff.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Java Class:</strong></p>\n<pre><code>private Button crkvaspip;\n\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.activity_zavrsenilista);\n\n\n\n        //Dashboard\n\n        crkvaspip = (Button) findViewById(R.id.crkvaspip);\n        crkvaspip.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) { openCrkvaSvetogPetraIPavla();\n            }\n        });\n\n public void openCrkvaSvetogPetraIPavla(){\n\n        Intent intent = new Intent(zavrseni_category.this, bioskop_class.class);\n        startActivity(intent);\n    }\n</code></pre>\n<p><strong>Android widget card view code:</strong></p>\n<pre><code>&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n            android:id=&quot;@+id/card_view&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;210dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_margin=&quot;8dp&quot;&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/thumbnail&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;170dp&quot;\n                    android:layout_alignParentTop=&quot;true&quot;\n                    android:scaleType=&quot;centerCrop&quot;\n                    android:adjustViewBounds=&quot;true&quot;\n                    android:src=&quot;@drawable/bioskop1&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/thumbnail&quot;\n                    android:maxLines=&quot;1&quot;\n                    android:padding=&quot;8dp&quot;\n                    android:fontFamily=&quot;@font/baloo&quot;\n                    android:text=&quot;3D Bioskop&quot;\n                    android:textColor=&quot;#222&quot;\n                    android:textSize=&quot;20dp&quot; /&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/crkvaspip&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:background=&quot;#00000000&quot; /&gt;\n\n\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p><strong>UPDATE LOGCAT INFO CODE:</strong></p>\n<pre><code>2022-08-28 20:21:51.524 4585-4629/com.visit.bp I/OpenGLRenderer: Davey! duration=4111ms; Flags=1, IntendedVsync=38769851610176, Vsync=38773584943360, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=38773585749700, AnimationStart=38773585821500, PerformTraversalsStart=38773586648100, DrawStart=38773756771500, SyncQueued=38773757001800, SyncStart=38773757217800, IssueDrawCommandsStart=38773825367800, SwapBuffers=38773938657200, FrameCompleted=38773963626600, DequeueBufferDuration=332000, QueueBufferDuration=535000, \n</code></pre>\n"},{"tags":["java","math","compression","chess","lossless-compression"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1661803040,"post_id":73533416,"comment_id":129853984,"body_markdown":"It may be possible using some kind of variant of [FEN-Notation](https://en.wikipedia.org/wiki/Forsyth%E2%80%93Edwards_Notation), i.e. instead of using  full bytes to represent a `P` (for pawn) you could assign it some number (possibly less than a byte). Encoding the whole chessboard as just a very long binary sequence","body":"It may be possible using some kind of variant of <a href=\"https://en.wikipedia.org/wiki/Forsyth%E2%80%93Edwards_Notation\" rel=\"nofollow noreferrer\">FEN-Notation</a>, i.e. instead of using  full bytes to represent a <code>P</code> (for pawn) you could assign it some number (possibly less than a byte). Encoding the whole chessboard as just a very long binary sequence"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1661808022,"post_id":73533416,"comment_id":129855296,"body_markdown":"&quot;All figures&quot;? Do you mean all 32 pieces are on the board? How is that useful? You soon need to deal with captures. Also you need to handle promotions.","body":"&quot;All figures&quot;? Do you mean all 32 pieces are on the board? How is that useful? You soon need to deal with captures. Also you need to handle promotions."},{"owner":{"account_id":362976,"reputation":35565,"user_id":706456,"accept_rate":77,"display_name":"oleksii"},"score":0,"creation_date":1661817084,"post_id":73533416,"comment_id":129856846,"body_markdown":"You may be interested in checking out how this is done in [Lila chess engine](https://github.com/LeelaChessZero/lc0/blob/master/src/chess/bitboard.h) and [stockfish](https://codecatalog.org/articles/stockfish-board-representation/). These are real chess engines that account for _valid_ positions/moves/captures, special rules like en passant, castles.","body":"You may be interested in checking out how this is done in <a href=\"https://github.com/LeelaChessZero/lc0/blob/master/src/chess/bitboard.h\" rel=\"nofollow noreferrer\">Lila chess engine</a> and <a href=\"https://codecatalog.org/articles/stockfish-board-representation/\" rel=\"nofollow noreferrer\">stockfish</a>. These are real chess engines that account for <i>valid</i> positions/moves/captures, special rules like en passant, castles."}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661817321,"creation_date":1661808309,"answer_id":73534829,"question_id":73533416,"body_markdown":"For all all 32 pieces still on the board, there is a bound of 1.89x10&lt;sup&gt;33&lt;/sup&gt; states. That could be encoded in 14 bytes. See https://arxiv.org/pdf/2112.09386.pdf . Not sure how that&#39;s useful though, since there is such a thing as captures. You&#39;d also need to handle other possible sets of pieces, due to promotions.","title":"Minimize bytes to save chess state with all figures","body":"<p>For all all 32 pieces still on the board, there is a bound of 1.89x10<sup>33</sup> states. That could be encoded in 14 bytes. See <a href=\"https://arxiv.org/pdf/2112.09386.pdf\" rel=\"nofollow noreferrer\">https://arxiv.org/pdf/2112.09386.pdf</a> . Not sure how that's useful though, since there is such a thing as captures. You'd also need to handle other possible sets of pieces, due to promotions.</p>\n"}],"owner":{"account_id":8001950,"reputation":589,"user_id":6301603,"display_name":"TTho Einthausend"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1661817321,"creation_date":1661799041,"question_id":73533416,"body_markdown":"I want to minimize the bytes need when i save a chess state with all figures:\r\nCurrently i need about 18 bytes to store the full board. I simply encode the possible positions for White King and other figures in some number.\r\n\r\n```\r\nBigInteger big1 = ZERO;\r\nBigInteger small1 = ONE;\r\n\r\n\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(64,1, cache).subtract(ONE))); // White K\r\nsmall1 = small1.multiply(tn.binomialCache(64,1, cache));\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(63,1, cache).subtract(ONE))); // White Q\r\nsmall1 = small1.multiply(tn.binomialCache(63,1, cache));\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(62,1, cache).subtract(ONE))); // Black K\r\nsmall1 = small1.multiply(tn.binomialCache(62,1, cache));\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(61,1, cache).subtract(ONE))); // Black Q\r\nsmall1 = small1.multiply(tn.binomialCache(61,1, cache));\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(60,2, cache).subtract(ONE))); // White T\r\nsmall1 = small1.multiply(tn.binomialCache(60,2, cache));\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(58,2, cache).subtract(ONE))); // Black T\r\nsmall1 = small1.multiply(tn.binomialCache(58,2, cache));\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(56,2, cache).subtract(ONE))); // White H\r\nsmall1 = small1.multiply(tn.binomialCache(56,2, cache));\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(54,2, cache).subtract(ONE))); // Black H\r\nsmall1 = small1.multiply(tn.binomialCache(54,2, cache));\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(52,2, cache).subtract(ONE))); // White R\r\nsmall1 = small1.multiply(tn.binomialCache(52,2, cache));\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(50,2, cache).subtract(ONE))); // Black R \r\nsmall1 = small1.multiply(tn.binomialCache(50,2, cache));\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(48,8, cache).subtract(ONE))); // White P\r\nsmall1 = small1.multiply(tn.binomialCache(48,8, cache));\r\nbig1 = big1.add(small1.multiply(tn.binomialCache(40,8, cache).subtract(ONE))); // Black P\r\n\r\n// nummber of states which a full chessboard can have\r\n// big1 = 4634726695587809641192045982323285670400000\r\n```\r\n\r\nIts possible do encode/decode the state of a chess board with all figures to less to than 18bytes?","title":"Minimize bytes to save chess state with all figures","body":"<p>I want to minimize the bytes need when i save a chess state with all figures:\nCurrently i need about 18 bytes to store the full board. I simply encode the possible positions for White King and other figures in some number.</p>\n<pre><code>BigInteger big1 = ZERO;\nBigInteger small1 = ONE;\n\n\nbig1 = big1.add(small1.multiply(tn.binomialCache(64,1, cache).subtract(ONE))); // White K\nsmall1 = small1.multiply(tn.binomialCache(64,1, cache));\nbig1 = big1.add(small1.multiply(tn.binomialCache(63,1, cache).subtract(ONE))); // White Q\nsmall1 = small1.multiply(tn.binomialCache(63,1, cache));\nbig1 = big1.add(small1.multiply(tn.binomialCache(62,1, cache).subtract(ONE))); // Black K\nsmall1 = small1.multiply(tn.binomialCache(62,1, cache));\nbig1 = big1.add(small1.multiply(tn.binomialCache(61,1, cache).subtract(ONE))); // Black Q\nsmall1 = small1.multiply(tn.binomialCache(61,1, cache));\nbig1 = big1.add(small1.multiply(tn.binomialCache(60,2, cache).subtract(ONE))); // White T\nsmall1 = small1.multiply(tn.binomialCache(60,2, cache));\nbig1 = big1.add(small1.multiply(tn.binomialCache(58,2, cache).subtract(ONE))); // Black T\nsmall1 = small1.multiply(tn.binomialCache(58,2, cache));\nbig1 = big1.add(small1.multiply(tn.binomialCache(56,2, cache).subtract(ONE))); // White H\nsmall1 = small1.multiply(tn.binomialCache(56,2, cache));\nbig1 = big1.add(small1.multiply(tn.binomialCache(54,2, cache).subtract(ONE))); // Black H\nsmall1 = small1.multiply(tn.binomialCache(54,2, cache));\nbig1 = big1.add(small1.multiply(tn.binomialCache(52,2, cache).subtract(ONE))); // White R\nsmall1 = small1.multiply(tn.binomialCache(52,2, cache));\nbig1 = big1.add(small1.multiply(tn.binomialCache(50,2, cache).subtract(ONE))); // Black R \nsmall1 = small1.multiply(tn.binomialCache(50,2, cache));\nbig1 = big1.add(small1.multiply(tn.binomialCache(48,8, cache).subtract(ONE))); // White P\nsmall1 = small1.multiply(tn.binomialCache(48,8, cache));\nbig1 = big1.add(small1.multiply(tn.binomialCache(40,8, cache).subtract(ONE))); // Black P\n\n// nummber of states which a full chessboard can have\n// big1 = 4634726695587809641192045982323285670400000\n</code></pre>\n<p>Its possible do encode/decode the state of a chess board with all figures to less to than 18bytes?</p>\n"},{"tags":["java","libgdx","bullet"],"owner":{"account_id":19015722,"reputation":127,"user_id":13880720,"display_name":"Dominicentek Gaming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661816309,"creation_date":1661816309,"question_id":73535674,"body_markdown":"I am making a LibGDX game using 3D physics. I enabled the Bullet extension when generating the project. For the 3D physics, I was following the tutorial here: https://xoppa.github.io/blog/using-the-libgdx-3d-physics-bullet-wrapper-part1/\r\n\r\nHowever, when I got to gravity, the collision didn&#39;t work.\r\nHere&#39;s my code:\r\n```\r\nbtDefaultCollisionConfiguration collisionConfig = new btDefaultCollisionConfiguration();\r\nworld = new btDiscreteDynamicsWorld(new btCollisionDispatcher(collisionConfig), new btSimpleBroadphase(), new btSequentialImpulseConstraintSolver(), collisionConfig);\r\nworld.setGravity(new Vector3(0, -10f, 0));\r\nobject = new btRigidBody(0, new btDefaultMotionState(), Bullet.obtainStaticNodeShape(model.nodes));\r\nobject.setWorldTransform(model.transform);\r\nobject.setCollisionFlags(object.getCollisionFlags() | btCollisionObject.CollisionFlags.CF_KINEMATIC_OBJECT);\r\nworld.addRigidBody(object);\r\nobject.setContactCallbackFlag(1 &lt;&lt; 8);\r\nobject.setContactCallbackFilter(0);\r\nobject.setActivationState(Collision.DISABLE_DEACTIVATION);\r\n\r\nworld.addRigidBody(Player.collisionObject);\r\nPlayer.collisionObject.setContactCallbackFlag(1 &lt;&lt; 9);\r\nPlayer.collisionObject.setContactCallbackFilter(1 &lt;&lt; 8);\r\n```\r\nAnd here&#39;s the Player class:\r\n```\r\nmodel = new ModelInstance(new ModelBuilder().createSphere(1, 1, 1, 10, 10, new Material(ColorAttribute.createDiffuse(Color.GREEN)), VertexAttributes.Usage.Position | VertexAttributes.Usage.Normal));\r\nbtSphereShape shape = new btSphereShape(0.5f);\r\nshape.calculateLocalInertia(1f, new Vector3(0, 0, 0));\r\ncollisionObject = new btRigidBody(new btRigidBody.btRigidBodyConstructionInfo(1f, null, shape, new Vector3(0, 0, 0)));\r\nmodel.transform = new Matrix4().translate(pos);\r\ncollisionObject.proceedToTransform(model.transform);\r\ncollisionObject.setCollisionFlags(Player.collisionObject.getCollisionFlags() | btCollisionObject.CollisionFlags.CF_CUSTOM_MATERIAL_CALLBACK);\r\ncollisionObject.setUserValue(1);\r\n```","title":"LibGDX Bullet Collision detection not working","body":"<p>I am making a LibGDX game using 3D physics. I enabled the Bullet extension when generating the project. For the 3D physics, I was following the tutorial here: <a href=\"https://xoppa.github.io/blog/using-the-libgdx-3d-physics-bullet-wrapper-part1/\" rel=\"nofollow noreferrer\">https://xoppa.github.io/blog/using-the-libgdx-3d-physics-bullet-wrapper-part1/</a></p>\n<p>However, when I got to gravity, the collision didn't work.\nHere's my code:</p>\n<pre><code>btDefaultCollisionConfiguration collisionConfig = new btDefaultCollisionConfiguration();\nworld = new btDiscreteDynamicsWorld(new btCollisionDispatcher(collisionConfig), new btSimpleBroadphase(), new btSequentialImpulseConstraintSolver(), collisionConfig);\nworld.setGravity(new Vector3(0, -10f, 0));\nobject = new btRigidBody(0, new btDefaultMotionState(), Bullet.obtainStaticNodeShape(model.nodes));\nobject.setWorldTransform(model.transform);\nobject.setCollisionFlags(object.getCollisionFlags() | btCollisionObject.CollisionFlags.CF_KINEMATIC_OBJECT);\nworld.addRigidBody(object);\nobject.setContactCallbackFlag(1 &lt;&lt; 8);\nobject.setContactCallbackFilter(0);\nobject.setActivationState(Collision.DISABLE_DEACTIVATION);\n\nworld.addRigidBody(Player.collisionObject);\nPlayer.collisionObject.setContactCallbackFlag(1 &lt;&lt; 9);\nPlayer.collisionObject.setContactCallbackFilter(1 &lt;&lt; 8);\n</code></pre>\n<p>And here's the Player class:</p>\n<pre><code>model = new ModelInstance(new ModelBuilder().createSphere(1, 1, 1, 10, 10, new Material(ColorAttribute.createDiffuse(Color.GREEN)), VertexAttributes.Usage.Position | VertexAttributes.Usage.Normal));\nbtSphereShape shape = new btSphereShape(0.5f);\nshape.calculateLocalInertia(1f, new Vector3(0, 0, 0));\ncollisionObject = new btRigidBody(new btRigidBody.btRigidBodyConstructionInfo(1f, null, shape, new Vector3(0, 0, 0)));\nmodel.transform = new Matrix4().translate(pos);\ncollisionObject.proceedToTransform(model.transform);\ncollisionObject.setCollisionFlags(Player.collisionObject.getCollisionFlags() | btCollisionObject.CollisionFlags.CF_CUSTOM_MATERIAL_CALLBACK);\ncollisionObject.setUserValue(1);\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383697542,"creation_date":1383693717,"answer_id":19801076,"question_id":19801043,"body_markdown":"The error message says &quot;Binary XML file line #41: You must supply a layout_width attribute.&quot;\r\n\r\nLine 41 is the below one. Your `View` tag here needs to have the `layout_width` and `layout_height` attributes:\r\n\r\n    &lt;View style=&quot;?attr/buttonBarDividerStyle&quot; /&gt;\r\n\r\nFor example:\r\n\r\n    &lt;View android:layout_width=&quot;wrap_content&quot; \r\n         android:layout_height=&quot;wrap_content&quot; \r\n         style=&quot;?attr/buttonBarDividerStyle&quot; /&gt;\r\n","title":"Binary XML file line #41: You must supply a layout_width attribute","body":"<p>The error message says \"Binary XML file line #41: You must supply a layout_width attribute.\"</p>\n\n<p>Line 41 is the below one. Your <code>View</code> tag here needs to have the <code>layout_width</code> and <code>layout_height</code> attributes:</p>\n\n<pre><code>&lt;View style=\"?attr/buttonBarDividerStyle\" /&gt;\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>&lt;View android:layout_width=\"wrap_content\" \n     android:layout_height=\"wrap_content\" \n     style=\"?attr/buttonBarDividerStyle\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1150645,"reputation":720,"user_id":1132448,"accept_rate":81,"display_name":"Foxocube"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1383693848,"creation_date":1383693848,"answer_id":19801102,"question_id":19801043,"body_markdown":"As per the error message, you need to add a layout_width attribute to your buttonBarDividerStyle view.\r\n\r\nTry this:\r\n\r\n    &lt;View style=&quot;?attr/buttonBarDividerStyle&quot; android:layout_width=&quot;match_parent&quot; /&gt;","title":"Binary XML file line #41: You must supply a layout_width attribute","body":"<p>As per the error message, you need to add a layout_width attribute to your buttonBarDividerStyle view.</p>\n\n<p>Try this:</p>\n\n<pre><code>&lt;View style=\"?attr/buttonBarDividerStyle\" android:layout_width=\"match_parent\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446165222,"creation_date":1446165222,"answer_id":33427071,"question_id":19801043,"body_markdown":"For me, inside one of my layout.xml files, I had \r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/row_1_col_0&quot;\r\n        android:layout_width=&quot;@string/default_picture_size&quot;\r\n        android:layout_height=&quot;@string/default_picture_size&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:background=&quot;@drawable/tile&quot;\r\n        android:onClick=&quot;mClickMethod&quot; &gt;\r\n    &lt;/ImageView&gt;\r\n\r\nand inside strings.xml, I had \r\n&lt;string name=&quot;default_picture_size&quot;&gt;wrap_content&lt;/string&gt;\r\n\r\n and so it was showing this in Android Studio:\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/row_1_col_0&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:background=&quot;@drawable/tile&quot;\r\n        android:onClick=&quot;mClickMethod&quot; &gt;\r\n    &lt;/ImageView&gt;\r\n\r\nI thought everything would work because there were no errors and the application compiled and ran. However, there was a run time error that said I didn&#39;t set the layout_width.  \r\n\r\nOnce I changed layout_width and layout_height from \r\n\r\n    android:layout_width=&quot;@string/default_picture_size&quot;\r\n    android:layout_height=&quot;@string/default_picture_size&quot;\r\n\r\nto \r\n\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n\r\neverything worked. \r\n\r\n\r\n\r\n\r\n\r\n","title":"Binary XML file line #41: You must supply a layout_width attribute","body":"<p>For me, inside one of my layout.xml files, I had </p>\n\n<pre><code>&lt;ImageView\n    android:id=\"@+id/row_1_col_0\"\n    android:layout_width=\"@string/default_picture_size\"\n    android:layout_height=\"@string/default_picture_size\"\n    android:layout_weight=\"1\"\n    android:background=\"@drawable/tile\"\n    android:onClick=\"mClickMethod\" &gt;\n&lt;/ImageView&gt;\n</code></pre>\n\n<p>and inside strings.xml, I had \nwrap_content</p>\n\n<p>and so it was showing this in Android Studio:</p>\n\n<pre><code>&lt;ImageView\n    android:id=\"@+id/row_1_col_0\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_weight=\"1\"\n    android:background=\"@drawable/tile\"\n    android:onClick=\"mClickMethod\" &gt;\n&lt;/ImageView&gt;\n</code></pre>\n\n<p>I thought everything would work because there were no errors and the application compiled and ran. However, there was a run time error that said I didn't set the layout_width.  </p>\n\n<p>Once I changed layout_width and layout_height from </p>\n\n<pre><code>android:layout_width=\"@string/default_picture_size\"\nandroid:layout_height=\"@string/default_picture_size\"\n</code></pre>\n\n<p>to </p>\n\n<pre><code>android:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"\n</code></pre>\n\n<p>everything worked. </p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661816143,"creation_date":1661816143,"answer_id":73535662,"question_id":19801043,"body_markdown":"In my case I defined size without `dp` in dimens.xml:\r\n\r\n    &lt;dimen name=&quot;some_width&quot;&gt;100&lt;/dimen&gt;\r\n\r\n(Error: android.view.InflateException: Binary XML file line #59 in app.package.name/fragment_layout: Binary XML file line #25: You must supply a layout_width attribute.\r\n    Caused by: java.lang.UnsupportedOperationException: Binary XML file line #25: You must supply a layout_width attribute.)","title":"Binary XML file line #41: You must supply a layout_width attribute","body":"<p>In my case I defined size without <code>dp</code> in dimens.xml:</p>\n<pre><code>&lt;dimen name=&quot;some_width&quot;&gt;100&lt;/dimen&gt;\n</code></pre>\n<p>(Error: android.view.InflateException: Binary XML file line #59 in app.package.name/fragment_layout: Binary XML file line #25: You must supply a layout_width attribute.\nCaused by: java.lang.UnsupportedOperationException: Binary XML file line #25: You must supply a layout_width attribute.)</p>\n"}],"owner":{"account_id":3128368,"reputation":111,"user_id":2646821,"accept_rate":31,"display_name":"rapsong11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8245,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":4,"score":0,"last_activity_date":1661816143,"creation_date":1383693511,"question_id":19801043,"body_markdown":"hey guys i&#39;m working on a android app when the button equtime is pressed it should open Moainstallerview.java but when I test the app the app crashes :( logcat gives this error:\r\n\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.d4a.stz/jp.yhonda.MOAInstallerActivity}: java.lang.RuntimeException: Binary XML file line #41: You must supply a layout_width attribute.\r\n\r\nheres my code:\r\n\r\n\r\n    moainstallerview.xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MOAInstallerActivity&quot; &gt;\r\n    \r\n        &lt;CheckedTextView\r\n            android:id=&quot;@+id/checkedTextView1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;8dp&quot;\r\n            android:text=&quot;Equation Time on Android installs additional 85MB of data. Please                 choose the install location and press Install.&quot; /&gt;\r\n    \r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/radiogroup&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; &gt;\r\n    \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Internal Storage&quot; /&gt;\r\n    \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioButton2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;External Storage (SD Card)&quot; /&gt;\r\n        &lt;/RadioGroup&gt;\r\n    \r\n        &lt;!-- Push the button bar to the bottom --&gt;\r\n        &lt;View\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n        &lt;!-- Divider above the button bar --&gt;\r\n        &lt;View style=&quot;?attr/buttonBarDividerStyle&quot; /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            style=&quot;?attr/buttonBarStyle&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; &gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/button2&quot;\r\n                style=&quot;?attr/buttonBarButtonStyle&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Cancel&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/equtime&quot;\r\n                style=&quot;?attr/buttonBarButtonStyle&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Install&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\n  \r\n\r\ni&#39;m getting upset so any help would be amazing i&#39;m a android rookie so please don&#39;t judge\r\n\r\nRegards \r\n\r\nRapsong11\r\n","title":"Binary XML file line #41: You must supply a layout_width attribute","body":"<p>hey guys i'm working on a android app when the button equtime is pressed it should open Moainstallerview.java but when I test the app the app crashes :( logcat gives this error:</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.d4a.stz/jp.yhonda.MOAInstallerActivity}: java.lang.RuntimeException: Binary XML file line #41: You must supply a layout_width attribute.\n</code></pre>\n\n<p>heres my code:</p>\n\n<pre><code>moainstallerview.xml\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MOAInstallerActivity\" &gt;\n\n    &lt;CheckedTextView\n        android:id=\"@+id/checkedTextView1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:text=\"Equation Time on Android installs additional 85MB of data. Please                 choose the install location and press Install.\" /&gt;\n\n    &lt;RadioGroup\n        android:id=\"@+id/radiogroup\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\" &gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/radioButton1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Internal Storage\" /&gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/radioButton2\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"External Storage (SD Card)\" /&gt;\n    &lt;/RadioGroup&gt;\n\n    &lt;!-- Push the button bar to the bottom --&gt;\n    &lt;View\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_weight=\"1\" /&gt;\n\n    &lt;!-- Divider above the button bar --&gt;\n    &lt;View style=\"?attr/buttonBarDividerStyle\" /&gt;\n\n    &lt;LinearLayout\n        style=\"?attr/buttonBarStyle\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" &gt;\n\n        &lt;Button\n            android:id=\"@+id/button2\"\n            style=\"?attr/buttonBarButtonStyle\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:text=\"Cancel\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/equtime\"\n            style=\"?attr/buttonBarButtonStyle\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:text=\"Install\" /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>i'm getting upset so any help would be amazing i'm a android rookie so please don't judge</p>\n\n<p>Regards </p>\n\n<p>Rapsong11</p>\n"},{"tags":["java","spring-boot","tar","multipartfile","fileitem"],"comments":[{"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"score":0,"creation_date":1661815997,"post_id":73535601,"comment_id":129856700,"body_markdown":"Just in case it wasnt clear, I am uploading the .tar.gz file from my local to a webpage/ server. Thanks again","body":"Just in case it wasnt clear, I am uploading the .tar.gz file from my local to a webpage/ server. Thanks again"}],"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661815471,"creation_date":1661815471,"question_id":73535601,"body_markdown":"I currently have a **.tar.gz** file with the following files and folders, that I am uploading using springboot\r\n```\r\ndir1/\r\n    -file1\r\n    dir2/\r\n        -file2\r\n        -file3\r\n    dir3/\r\n        -file4\r\n        -file5\r\n\r\n```\r\nWith my current code, I am able to extract all the files and add them to `List&lt;FileItem&gt;`\r\n```\r\n\tprivate List&lt;FileItem&gt; unTarFile(MultipartFile file) throws Exception{\r\n\t\tList&lt;FileItem&gt; files = new ArrayList&lt;FileItem&gt;();\r\n\t\t\r\n\t\tInputStream in = file.getInputStream();\r\n\t\tGzipCompressorInputStream gzipIn = new GzipCompressorInputStream(in);\r\n\t\tTarArchiveInputStream tarIn = new TarArchiveInputStream(gzipIn);\r\n\t\tTarArchiveEntry entry;\r\n\t    \r\n\t   \t// Iterate over every entry in the TarArchive\r\n\t   \twhile ((entry = (TarArchiveEntry) tarIn.getNextEntry()) != null) {\r\n\r\n\t   \t\tString mimeType = URLConnection.guessContentTypeFromName(entry.getName());\r\n\t   \t\t\r\n\t   \t\tFileItem d = new DiskFileItem(&quot;fileData&quot;, mimeType, false, entry.getName(), (int) entry.getSize(), null);\r\n\t   \t\t\r\n\t\t\tOutputStream dfos = d.getOutputStream();\r\n\t   \t\tint size = (int) entry.getSize();\r\n\t   \t\tbyte[] buf = new byte[size];\r\n\t   \t\tint readBytes = tarIn.read(buf, 0, size);\r\n\t   \t\tdfos.write(buf);\r\n\t   \t\t\r\n\t\t\tfiles.add(d);\r\n\t   \t}\r\n\t\treturn files;\r\n\t}\r\n```\r\nHowever, I would like to upload the file/s maintaining the same folder structure as the .tar.gz.\r\nAny suggestions how this can be done? I would still like to add it to `List&lt;FileItem&gt;` Thanks!","title":"UnTar and Upload a .tar.gz file maintaining the same folder structure in SpringBoot","body":"<p>I currently have a <strong>.tar.gz</strong> file with the following files and folders, that I am uploading using springboot</p>\n<pre><code>dir1/\n    -file1\n    dir2/\n        -file2\n        -file3\n    dir3/\n        -file4\n        -file5\n\n</code></pre>\n<p>With my current code, I am able to extract all the files and add them to <code>List&lt;FileItem&gt;</code></p>\n<pre><code>    private List&lt;FileItem&gt; unTarFile(MultipartFile file) throws Exception{\n        List&lt;FileItem&gt; files = new ArrayList&lt;FileItem&gt;();\n        \n        InputStream in = file.getInputStream();\n        GzipCompressorInputStream gzipIn = new GzipCompressorInputStream(in);\n        TarArchiveInputStream tarIn = new TarArchiveInputStream(gzipIn);\n        TarArchiveEntry entry;\n        \n        // Iterate over every entry in the TarArchive\n        while ((entry = (TarArchiveEntry) tarIn.getNextEntry()) != null) {\n\n            String mimeType = URLConnection.guessContentTypeFromName(entry.getName());\n            \n            FileItem d = new DiskFileItem(&quot;fileData&quot;, mimeType, false, entry.getName(), (int) entry.getSize(), null);\n            \n            OutputStream dfos = d.getOutputStream();\n            int size = (int) entry.getSize();\n            byte[] buf = new byte[size];\n            int readBytes = tarIn.read(buf, 0, size);\n            dfos.write(buf);\n            \n            files.add(d);\n        }\n        return files;\n    }\n</code></pre>\n<p>However, I would like to upload the file/s maintaining the same folder structure as the .tar.gz.\nAny suggestions how this can be done? I would still like to add it to <code>List&lt;FileItem&gt;</code> Thanks!</p>\n"},{"tags":["java","eclipse","javafx","e4","efxclipse"],"answers":[{"tags":[],"owner":{"account_id":5997226,"reputation":2503,"user_id":4711547,"accept_rate":100,"display_name":"gaRos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427360129,"creation_date":1427360129,"answer_id":29274344,"question_id":29255591,"body_markdown":"You can set a default styleset for an component by calling:\r\n\r\n    getStylesheets().add(new File(&quot;conf/application.css&quot;).toURI().toURL().toExternalForm());\r\n\r\nDid you try this?","title":"e4-Javafx: How to apply current theme to login dialog","body":"<p>You can set a default styleset for an component by calling:</p>\n\n<pre><code>getStylesheets().add(new File(\"conf/application.css\").toURI().toURL().toExternalForm());\n</code></pre>\n\n<p>Did you try this?</p>\n"},{"tags":[],"owner":{"account_id":1426272,"reputation":543,"user_id":1349700,"accept_rate":73,"display_name":"Y Borys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1427372893,"creation_date":1427372893,"answer_id":29278452,"question_id":29255591,"body_markdown":"I found out how to get stylesheets from current theme\r\n\r\n    import org.eclipse.fx.ui.services.theme.ThemeManager;\r\n\r\n    @Inject\r\n    ThemeManager themeManager;\r\n    \r\n    ObservableList&lt;URL&gt; stylesheets =  themeManager.getCurrentTheme().getStylesheetURL();\r\n\r\nNext is to create dummy stage and add stylesheets to it;\r\n\r\n    Scene scene = new Scene(new HBox());\r\n    Stage stage = new Stage;\r\n    stage.setScene(scene);\r\n    for (URL url : stylesheets) \r\n    {\r\n    \tstage.getScene().getStylesheets().add(url.toExternalForm());\r\n\t}\r\nThen set stage as parent window (first parameter) to dialog\r\n\r\n    LoginDialog dialog = new LoginDialog(stage, &quot;Login&quot;, &quot;Login title&quot;,\r\n      \t    \t\t  &quot;Message&quot;, &quot;&quot;);\r\nDialog will copy stylesheets from parent stage and will add them to its own stage.\r\n\r\nIt works. But i doubt it is a &quot;proper&quot; way. There must be other solutions.","title":"e4-Javafx: How to apply current theme to login dialog","body":"<p>I found out how to get stylesheets from current theme</p>\n\n<pre><code>import org.eclipse.fx.ui.services.theme.ThemeManager;\n\n@Inject\nThemeManager themeManager;\n\nObservableList&lt;URL&gt; stylesheets =  themeManager.getCurrentTheme().getStylesheetURL();\n</code></pre>\n\n<p>Next is to create dummy stage and add stylesheets to it;</p>\n\n<pre><code>Scene scene = new Scene(new HBox());\nStage stage = new Stage;\nstage.setScene(scene);\nfor (URL url : stylesheets) \n{\n    stage.getScene().getStylesheets().add(url.toExternalForm());\n}\n</code></pre>\n\n<p>Then set stage as parent window (first parameter) to dialog</p>\n\n<pre><code>LoginDialog dialog = new LoginDialog(stage, \"Login\", \"Login title\",\n                  \"Message\", \"\");\n</code></pre>\n\n<p>Dialog will copy stylesheets from parent stage and will add them to its own stage.</p>\n\n<p>It works. But i doubt it is a \"proper\" way. There must be other solutions.</p>\n"}],"owner":{"account_id":1426272,"reputation":543,"user_id":1349700,"accept_rate":73,"display_name":"Y Borys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29278452,"answer_count":2,"score":1,"last_activity_date":1661815279,"creation_date":1427286261,"question_id":29255591,"body_markdown":"My `e4 javafx` application displays login dialog before diplaying main window.\r\n\r\nLifeCycleManager class\r\n\r\n    @PostContextCreate\r\n    void postContextCreate(Application app, IEclipseContext econtext){\t\r\n\r\n        //display login dialog extends org.eclipse.fx.ui.dialogs.TitleAreaDialog\r\n        LoginDialog dialog = new LoginDialog(null, &quot;Login&quot;, &quot;Login title&quot;, &quot;Message&quot;, &quot;&quot;);\r\n    \tint response = dialog.open();\t\t      \r\n    \t\t      \r\n    \tif (response != Dialog.OK_BUTTON) {\r\n    \t\t System.exit(0);\r\n    \t}\r\n        ....\r\n    }\r\n\r\nDialog has default javafx styling (modena).\r\n\r\nHow do i get current theme and apply to this dialog?\r\n","title":"e4-Javafx: How to apply current theme to login dialog","body":"<p>My <code>e4 javafx</code> application displays login dialog before diplaying main window.</p>\n\n<p>LifeCycleManager class</p>\n\n<pre><code>@PostContextCreate\nvoid postContextCreate(Application app, IEclipseContext econtext){  \n\n    //display login dialog extends org.eclipse.fx.ui.dialogs.TitleAreaDialog\n    LoginDialog dialog = new LoginDialog(null, \"Login\", \"Login title\", \"Message\", \"\");\n    int response = dialog.open();             \n\n    if (response != Dialog.OK_BUTTON) {\n         System.exit(0);\n    }\n    ....\n}\n</code></pre>\n\n<p>Dialog has default javafx styling (modena).</p>\n\n<p>How do i get current theme and apply to this dialog?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1661816229,"post_id":73535522,"comment_id":129856725,"body_markdown":"Are you using a library that requires these `DTO` classes? This is a lot of boilerplate for what boils down to some simple data substitution and a JSON parser.","body":"Are you using a library that requires these <code>DTO</code> classes? This is a lot of boilerplate for what boils down to some simple data substitution and a JSON parser."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1661826689,"post_id":73535522,"comment_id":129858046,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":21222170,"reputation":1,"user_id":15608493,"display_name":"whype"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661814412,"creation_date":1661814412,"question_id":73535522,"body_markdown":"I got a school assignment asking me to change the content of JSON Response\r\n\r\nfrom\r\n{&quot;name&quot; : &quot;Bob&quot;}\r\n\r\nto\r\n{&quot;greeting&quot; : &quot;Hello, Bob&quot;}\r\n\r\nthis is my ResponseDTO\r\n```\r\npublic class HelloWorldResponseDTO {\r\n    private String name;\r\n}\r\n```\r\n\r\nand this is my Entity\r\n```\r\npublic class HelloWorld {\r\n    private String name;\r\n\r\n    public HelloWorldResponseDTO convertToResponse() {\r\n        return new HelloWorldResponseDTO(this.name);\r\n    }\r\n}\r\n```","title":"how to edit/change POST response?","body":"<p>I got a school assignment asking me to change the content of JSON Response</p>\n<p>from\n{&quot;name&quot; : &quot;Bob&quot;}</p>\n<p>to\n{&quot;greeting&quot; : &quot;Hello, Bob&quot;}</p>\n<p>this is my ResponseDTO</p>\n<pre><code>public class HelloWorldResponseDTO {\n    private String name;\n}\n</code></pre>\n<p>and this is my Entity</p>\n<pre><code>public class HelloWorld {\n    private String name;\n\n    public HelloWorldResponseDTO convertToResponse() {\n        return new HelloWorldResponseDTO(this.name);\n    }\n}\n</code></pre>\n"},{"tags":["java","nested-lists"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1661807221,"post_id":73534589,"comment_id":129855110,"body_markdown":"*&quot;I get a system output of `null`&quot;* - That&#39;s expected because map doesn&#39;t contain *key* `&quot;buildings.buildingid&quot;` according to the code you&#39;ve provided.","body":"<i>&quot;I get a system output of <code>null</code>&quot;</i> - That&#39;s expected because map doesn&#39;t contain <i>key</i> <code>&quot;buildings.buildingid&quot;</code> according to the code you&#39;ve provided."},{"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"score":0,"creation_date":1661807755,"post_id":73534589,"comment_id":129855233,"body_markdown":"You can do `queryMap.get(&quot;building&quot;)` to receive the nested map, then you can manipulate from there moving forward, i.e. loop through the list of maps to print out your results. `for(Map&lt;String, String&gt; map : nestedMap) {System.out.println(map)}`","body":"You can do <code>queryMap.get(&quot;building&quot;)</code> to receive the nested map, then you can manipulate from there moving forward, i.e. loop through the list of maps to print out your results. <code>for(Map&lt;String, String&gt; map : nestedMap) {System.out.println(map)}</code>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1661810344,"post_id":73534589,"comment_id":129855777,"body_markdown":"A `List&lt;Map&gt;` is not a &quot;nested map&quot;. A `Map&lt;String, Map&gt;` is a nested map.","body":"A <code>List&lt;Map&gt;</code> is not a &quot;nested map&quot;. A <code>Map&lt;String, Map&gt;</code> is a nested map."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661809562,"creation_date":1661809562,"answer_id":73535006,"question_id":73534589,"body_markdown":"I think you are making it way too complicated than it should be. you can store your data in a simple map where the ids are the keys for example and the names are the values. So you only need to read the keys or the values from the map to get your result.\r\n\r\n    Map&lt;Integer, String&gt; myMap = new HashMap&lt;&gt;();\r\n    myMap.put(3, &quot;Building 3&quot;);\r\n    myMap.put(31, &quot;Building 31&quot;);\r\n    myMap.put(4, &quot;HFTF&quot;);\r\n\r\n    System.out.println(myMap.keySet());\r\n    System.out.println(myMap.values());\r\n\r\nHowever, Java is an object-oriented language. If it makes sense for your use case you might want to create a custom class &quot;Building&quot; instead of frantically trying to store your data in nested data structures. See below for an example of how it might look using a custom class:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Example {\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            List&lt;Building&gt; buildings = new ArrayList&lt;&gt;();\r\n            buildings.add(new Building(3, &quot;Building 3&quot;));\r\n            buildings.add(new Building(31, &quot;Building 31&quot;));\r\n            buildings.add(new Building(4, &quot;HFTF&quot;));\r\n    \r\n            List&lt;Integer&gt; buildingIds = new ArrayList&lt;&gt;();\r\n            buildings.forEach(building -&gt; buildingIds.add(building.getBuildingId()));\r\n    \r\n            List&lt;String&gt; buildingNames = new ArrayList&lt;&gt;();\r\n            buildings.forEach(building -&gt; buildingNames.add(building.getBuildingName()));\r\n    \r\n            System.out.println(buildingIds);\r\n            System.out.println(buildingNames);\r\n    \r\n        }\r\n    \r\n        public static class Building {\r\n            int buildingId;\r\n            String buildingName;\r\n    \r\n            public Building(final int buildingId, final String buildingName) {\r\n                this.buildingId = buildingId;\r\n                this.buildingName = buildingName;\r\n            }\r\n    \r\n            public int getBuildingId() {\r\n                return buildingId;\r\n            }\r\n    \r\n            public void setBuildingId(final int buildingId) {\r\n                this.buildingId = buildingId;\r\n            }\r\n    \r\n            public String getBuildingName() {\r\n                return buildingName;\r\n            }\r\n    \r\n            public void setBuildingName(final String buildingName) {\r\n                this.buildingName = buildingName;\r\n            }\r\n        }\r\n    }","title":"Retrieving nested key:value pairs in Java","body":"<p>I think you are making it way too complicated than it should be. you can store your data in a simple map where the ids are the keys for example and the names are the values. So you only need to read the keys or the values from the map to get your result.</p>\n<pre><code>Map&lt;Integer, String&gt; myMap = new HashMap&lt;&gt;();\nmyMap.put(3, &quot;Building 3&quot;);\nmyMap.put(31, &quot;Building 31&quot;);\nmyMap.put(4, &quot;HFTF&quot;);\n\nSystem.out.println(myMap.keySet());\nSystem.out.println(myMap.values());\n</code></pre>\n<p>However, Java is an object-oriented language. If it makes sense for your use case you might want to create a custom class &quot;Building&quot; instead of frantically trying to store your data in nested data structures. See below for an example of how it might look using a custom class:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Example {\n\n    public static void main(String args[]) {\n\n        List&lt;Building&gt; buildings = new ArrayList&lt;&gt;();\n        buildings.add(new Building(3, &quot;Building 3&quot;));\n        buildings.add(new Building(31, &quot;Building 31&quot;));\n        buildings.add(new Building(4, &quot;HFTF&quot;));\n\n        List&lt;Integer&gt; buildingIds = new ArrayList&lt;&gt;();\n        buildings.forEach(building -&gt; buildingIds.add(building.getBuildingId()));\n\n        List&lt;String&gt; buildingNames = new ArrayList&lt;&gt;();\n        buildings.forEach(building -&gt; buildingNames.add(building.getBuildingName()));\n\n        System.out.println(buildingIds);\n        System.out.println(buildingNames);\n\n    }\n\n    public static class Building {\n        int buildingId;\n        String buildingName;\n\n        public Building(final int buildingId, final String buildingName) {\n            this.buildingId = buildingId;\n            this.buildingName = buildingName;\n        }\n\n        public int getBuildingId() {\n            return buildingId;\n        }\n\n        public void setBuildingId(final int buildingId) {\n            this.buildingId = buildingId;\n        }\n\n        public String getBuildingName() {\n            return buildingName;\n        }\n\n        public void setBuildingName(final String buildingName) {\n            this.buildingName = buildingName;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661813630,"creation_date":1661813630,"answer_id":73535442,"question_id":73534589,"body_markdown":"`queryMap.get(&quot;buildings.buildingid&quot;)` returns null, because `queryMap` only contains a value under the key \r\n`buildings`. A `HashMap` can only access the value using the same key it was stored under. The key and the value is not processed in any further way.\r\n\r\nA simple alternative could be\r\n\r\n    queryMap.get(&quot;buildings&quot;).stream() // Create a Stream&lt;Map&gt;\r\n        .map(building -&gt; building.get(&quot;buildingid&quot;)) // Create Stream&lt;String&gt; by extracting the buildingid values.\r\n        .collect(Collectors.toList()); // Collect Stream into a List&lt;String&gt; which contains the buildingid&#39;s\r\n\r\nIf you don&#39;t like this solution you could take a deeper look into property expressions, and write your own map implementation that can resolve these expressions. But it will be a lot of work to get it working correctly...","title":"Retrieving nested key:value pairs in Java","body":"<p><code>queryMap.get(&quot;buildings.buildingid&quot;)</code> returns null, because <code>queryMap</code> only contains a value under the key\n<code>buildings</code>. A <code>HashMap</code> can only access the value using the same key it was stored under. The key and the value is not processed in any further way.</p>\n<p>A simple alternative could be</p>\n<pre><code>queryMap.get(&quot;buildings&quot;).stream() // Create a Stream&lt;Map&gt;\n    .map(building -&gt; building.get(&quot;buildingid&quot;)) // Create Stream&lt;String&gt; by extracting the buildingid values.\n    .collect(Collectors.toList()); // Collect Stream into a List&lt;String&gt; which contains the buildingid's\n</code></pre>\n<p>If you don't like this solution you could take a deeper look into property expressions, and write your own map implementation that can resolve these expressions. But it will be a lot of work to get it working correctly...</p>\n"}],"owner":{"account_id":26192282,"reputation":1,"user_id":19873919,"display_name":"DerekYeeter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661813630,"creation_date":1661806765,"question_id":73534589,"body_markdown":"I am wondering how to build a nested Map and then retrieve the nested key:value pairs. This is how I created the map to be nested.\r\n\r\n```java\r\n//Create List of Nested HashMaps\r\nList&lt;Map&gt; nestedMap = new ArrayList&lt;&gt;();\r\nnestedMap.add(building3Map);\r\nnestedMap.add(building31Map);\r\nnestedMap.add(buildingHFTFMap);\r\nSystem.out.println(&quot;The nested map is: &quot; + nestedMap);\r\n```\r\n\r\nThis is the system output for the following code:\r\n\r\n&gt;`The nested map is: [{buildingname=[Building 3], buildingid=[3]}, {buildingname=[Building 31], buildingid=[1]}, {buildingname=[HFTF], buildingid=[4]}]`\r\n\r\nThis is correct as I want a list of maps. But the next step is what is confusing to me. When I try to build the outer layer Map as below:\r\n\r\n    HashMap&lt;String, List&lt;Map&gt;&gt; queryMap = new HashMap&lt;&gt;();\r\n    queryMap.put(&quot;buildings&quot;, nestedMap);\r\n    System.out.println(queryMap.get(&quot;buildings.buildingid&quot;));\r\n\r\nI get a system output of null when attempting the `.get(&quot;buildings.buildingid&quot;)` method. Ideally, I need the output to look like this:\r\n\r\n    [[3, 1, 4]]\r\n\r\nWhere it returns all values with a key of `&quot;buildings.buildingid&quot;` in an array. I am new to coding so please let me know if I&#39;m making any fundamental errors and how I can create a nested Map where I can access the inner layer or if there is another method I should be using.\r\n\r\n","title":"Retrieving nested key:value pairs in Java","body":"<p>I am wondering how to build a nested Map and then retrieve the nested key:value pairs. This is how I created the map to be nested.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Create List of Nested HashMaps\nList&lt;Map&gt; nestedMap = new ArrayList&lt;&gt;();\nnestedMap.add(building3Map);\nnestedMap.add(building31Map);\nnestedMap.add(buildingHFTFMap);\nSystem.out.println(&quot;The nested map is: &quot; + nestedMap);\n</code></pre>\n<p>This is the system output for the following code:</p>\n<blockquote>\n<p><code>The nested map is: [{buildingname=[Building 3], buildingid=[3]}, {buildingname=[Building 31], buildingid=[1]}, {buildingname=[HFTF], buildingid=[4]}]</code></p>\n</blockquote>\n<p>This is correct as I want a list of maps. But the next step is what is confusing to me. When I try to build the outer layer Map as below:</p>\n<pre><code>HashMap&lt;String, List&lt;Map&gt;&gt; queryMap = new HashMap&lt;&gt;();\nqueryMap.put(&quot;buildings&quot;, nestedMap);\nSystem.out.println(queryMap.get(&quot;buildings.buildingid&quot;));\n</code></pre>\n<p>I get a system output of null when attempting the <code>.get(&quot;buildings.buildingid&quot;)</code> method. Ideally, I need the output to look like this:</p>\n<pre><code>[[3, 1, 4]]\n</code></pre>\n<p>Where it returns all values with a key of <code>&quot;buildings.buildingid&quot;</code> in an array. I am new to coding so please let me know if I'm making any fundamental errors and how I can create a nested Map where I can access the inner layer or if there is another method I should be using.</p>\n"},{"tags":["java","list","collections","null"],"comments":[{"owner":{"account_id":316961,"reputation":1038,"user_id":633387,"display_name":"Nick Radford"},"score":1,"creation_date":1308701745,"post_id":6433478,"comment_id":7549951,"body_markdown":"Couldn&#39;t you just subclass the List class and add the functionality you just listed?","body":"Couldn&#39;t you just subclass the List class and add the functionality you just listed?"},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1308701811,"post_id":6433478,"comment_id":7549964,"body_markdown":"This is a pretty bespoke requirement; `null` is a perfectly acceptable value to hold in a container (in most circumstances).  So you&#39;ll probably need to roll your own wrapper.","body":"This is a pretty bespoke requirement; <code>null</code> is a perfectly acceptable value to hold in a container (in most circumstances).  So you&#39;ll probably need to roll your own wrapper."},{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":0,"creation_date":1308702371,"post_id":6433478,"comment_id":7550046,"body_markdown":"@Nick I could, but I would have to override (at least, off the top of my head) `add`, `addAll`, plus a constructor or two. It probably wouldn&#39;t be that hard but I suspect someone (Apache, Google...) has already done it, and has caught a subtle bug somewhere that I would likely miss.","body":"@Nick I could, but I would have to override (at least, off the top of my head) <code>add</code>, <code>addAll</code>, plus a constructor or two. It probably wouldn&#39;t be that hard but I suspect someone (Apache, Google...) has already done it, and has caught a subtle bug somewhere that I would likely miss."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1308704218,"post_id":6433478,"comment_id":7550315,"body_markdown":"@Oli Well the Collections API is quite clear in allowing a Nullpointer exception in case the collection doesn&#39;t support nulls. So clearly the API considers this case and decides otherwise.","body":"@Oli Well the Collections API is quite clear in allowing a Nullpointer exception in case the collection doesn&#39;t support nulls. So clearly the API considers this case and decides otherwise."},{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":0,"creation_date":1308787608,"post_id":6433478,"comment_id":7571156,"body_markdown":"I just happened to discover this: http://www.kiwidoc.com/java/l/p/commons-collections/commons-collections/3.2.1/p/org.apache.commons.collections/c/CollectionUtils#addIgnoreNull%28Ljava%2Futil%2FCollection%3BLjava%2Flang%2FObject%3B%29 which doesn&#39;t really answer my original question but serves a similar purpose.","body":"I just happened to discover this: <a href=\"http://www.kiwidoc.com/java/l/p/commons-collections/commons-collections/3.2.1/p/org.apache.commons.collections/c/CollectionUtils#addIgnoreNull%28Ljava%2Futil%2FCollection%3BLjava%2Flang%2FObject%3B%29\" rel=\"nofollow noreferrer\">kiwidoc.com/java/l/p/commons-collections/commons-collections&zwnj;&#8203;/&hellip;</a> which doesn&#39;t really answer my original question but serves a similar purpose."}],"answers":[{"tags":[],"owner":{"account_id":395869,"reputation":5395,"user_id":759051,"accept_rate":69,"display_name":"Jeremy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1308702503,"creation_date":1308702149,"answer_id":6433516,"question_id":6433478,"body_markdown":"Although this problem sort of yells &quot;delegate&quot;, it&#39;s much easier with subclassing since you intend to inherit almost all the same functionality.\r\n\r\n    class MyList extends List {\r\n\r\n      //Probably need to define the default constructor for the compiler\r\n\r\n      public add(Object  item) {\r\n        if (item == null) throw SomeException();\r\n        else super.add(item);\r\n      }    \r\n\r\n      public addAll(Collection c) {\r\n        if (c.contains(null)) throw SomeException();\r\n        else super.addAll(c);\r\n      }\r\n    }","title":"Is there a standard Java List implementation that doesn&#39;t allow adding null to it?","body":"<p>Although this problem sort of yells \"delegate\", it's much easier with subclassing since you intend to inherit almost all the same functionality.</p>\n\n<pre><code>class MyList extends List {\n\n  //Probably need to define the default constructor for the compiler\n\n  public add(Object  item) {\n    if (item == null) throw SomeException();\n    else super.add(item);\n  }    \n\n  public addAll(Collection c) {\n    if (c.contains(null)) throw SomeException();\n    else super.addAll(c);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42192,"reputation":3454,"user_id":122860,"display_name":"joeslice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308702311,"creation_date":1308702311,"answer_id":6433542,"question_id":6433478,"body_markdown":"You might do this by just wrapping an instance of a List and providing the null-checked add method.  In other words, your class would just have a couple of methods and in inner variable.  \r\n\r\nIf you need the full functionality of a list, you might consider Guava&#39;s (used to be Google Collections) [ForwardingList][1].\r\n\r\nAnother approach is to just extend List, but the gotcha there is that you need to override both `add` and `addAll`.\r\n\r\nInterestingly, guava has a [standardAddAll][2], which can be used as the implementation of addAll, which solves at least part of the problem.\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/ForwardingList.html\r\n  [2]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/ForwardingList.html#standardAddAll%28int,%20java.lang.Iterable%29","title":"Is there a standard Java List implementation that doesn&#39;t allow adding null to it?","body":"<p>You might do this by just wrapping an instance of a List and providing the null-checked add method.  In other words, your class would just have a couple of methods and in inner variable.  </p>\n\n<p>If you need the full functionality of a list, you might consider Guava's (used to be Google Collections) <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/ForwardingList.html\" rel=\"nofollow\">ForwardingList</a>.</p>\n\n<p>Another approach is to just extend List, but the gotcha there is that you need to override both <code>add</code> and <code>addAll</code>.</p>\n\n<p>Interestingly, guava has a <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/ForwardingList.html#standardAddAll%28int,%20java.lang.Iterable%29\" rel=\"nofollow\">standardAddAll</a>, which can be used as the implementation of addAll, which solves at least part of the problem.</p>\n"},{"tags":[],"owner":{"account_id":189564,"reputation":6433,"user_id":428972,"accept_rate":90,"display_name":"Ryan Gross"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523993675,"creation_date":1308702689,"answer_id":6433584,"question_id":6433478,"body_markdown":"AFAIK, there is no standard implementation available in the JDK.  However, the [Collection spec][1] says that NullPointerException should be thrown when a collection does not support nulls. you can use the following wrapper to add the functionality to any Collection (you&#39;ll have to implement the other Collection methods to delegate them to the wrapped instance): \r\n\r\n    class NonNullCollection&lt;T&gt; implements Collection&lt;T&gt; {\r\n\r\n        private Collection&lt;T&gt; wrapped;\r\n        public NonNullCollection(Collection&lt;T&gt; wrapped) {\r\n            this.wrapped = wrapped;\r\n        }\r\n        @Override\r\n        public void add(T item) {\r\n            if (item == null) throw new NullPointerException(&quot;The collection does not support null values&quot;);\r\n            else wrapped.add(item);\r\n        }\r\n        @Override\r\n        public void addAll(Collection&lt;T&gt; items) {\r\n            if (items.contains(null)) throw new NullPointerException(&quot;The collection does not support null values&quot;);\r\n            else wrapped.addAll(item);\r\n        }\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/AbstractCollection.html","title":"Is there a standard Java List implementation that doesn&#39;t allow adding null to it?","body":"<p>AFAIK, there is no standard implementation available in the JDK.  However, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/AbstractCollection.html\" rel=\"nofollow noreferrer\">Collection spec</a> says that NullPointerException should be thrown when a collection does not support nulls. you can use the following wrapper to add the functionality to any Collection (you'll have to implement the other Collection methods to delegate them to the wrapped instance): </p>\n\n<pre><code>class NonNullCollection&lt;T&gt; implements Collection&lt;T&gt; {\n\n    private Collection&lt;T&gt; wrapped;\n    public NonNullCollection(Collection&lt;T&gt; wrapped) {\n        this.wrapped = wrapped;\n    }\n    @Override\n    public void add(T item) {\n        if (item == null) throw new NullPointerException(\"The collection does not support null values\");\n        else wrapped.add(item);\n    }\n    @Override\n    public void addAll(Collection&lt;T&gt; items) {\n        if (items.contains(null)) throw new NullPointerException(\"The collection does not support null values\");\n        else wrapped.addAll(item);\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1308703033,"creation_date":1308703033,"answer_id":6433627,"question_id":6433478,"body_markdown":"try Collections.checkedList().","title":"Is there a standard Java List implementation that doesn&#39;t allow adding null to it?","body":"<p>try Collections.checkedList().</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1308731369,"creation_date":1308731369,"answer_id":6437017,"question_id":6433478,"body_markdown":"This should work\r\n\r\n    List&lt;String&gt; list = Collections.checkedList(new ArrayList&lt;String&gt;(), String.class);\r\n    try {\r\n        list.add(null);\r\n        throw new AssertionError(&quot;Expected a NPE&quot;);\r\n    } catch (NullPointerException expected) {\r\n        System.out.println(&quot;list.add(null); threw &quot;+expected);\r\n    }\r\n    try {\r\n        List&lt;String&gt; list2 = Arrays.asList(&quot;&quot;, null);\r\n        list.addAll(list2);\r\n        throw new AssertionError(&quot;Expected a NPE&quot;);\r\n    } catch (NullPointerException expected) {\r\n        System.out.println(&quot;list.addAll(\\&quot;\\&quot;, null); threw &quot; + expected);\r\n    }\r\n\r\nhowever a bug in the addAll implementation means you need to use the following\r\n\r\n    List&lt;String&gt; list = Collections.checkedList(\r\n       Collections.checkedList(new ArrayList&lt;String&gt;(), String.class), String.class);\r\n\r\nand you get\r\n\r\n    list.add(null); threw java.lang.NullPointerException\r\n    list.addAll(&quot;&quot;, null); threw java.lang.NullPointerException\r\n\r\n","title":"Is there a standard Java List implementation that doesn&#39;t allow adding null to it?","body":"<p>This should work</p>\n\n<pre><code>List&lt;String&gt; list = Collections.checkedList(new ArrayList&lt;String&gt;(), String.class);\ntry {\n    list.add(null);\n    throw new AssertionError(\"Expected a NPE\");\n} catch (NullPointerException expected) {\n    System.out.println(\"list.add(null); threw \"+expected);\n}\ntry {\n    List&lt;String&gt; list2 = Arrays.asList(\"\", null);\n    list.addAll(list2);\n    throw new AssertionError(\"Expected a NPE\");\n} catch (NullPointerException expected) {\n    System.out.println(\"list.addAll(\\\"\\\", null); threw \" + expected);\n}\n</code></pre>\n\n<p>however a bug in the addAll implementation means you need to use the following</p>\n\n<pre><code>List&lt;String&gt; list = Collections.checkedList(\n   Collections.checkedList(new ArrayList&lt;String&gt;(), String.class), String.class);\n</code></pre>\n\n<p>and you get</p>\n\n<pre><code>list.add(null); threw java.lang.NullPointerException\nlist.addAll(\"\", null); threw java.lang.NullPointerException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284516,"reputation":14349,"user_id":582675,"accept_rate":75,"display_name":"Fabian Barney"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1309269483,"creation_date":1308732813,"answer_id":6437282,"question_id":6433478,"body_markdown":"**Use Apache Commons Collection:**\r\n\r\n    ListUtils.predicatedList(new ArrayList(), PredicateUtils.notNullPredicate());\r\n\r\nAdding null to this list throws `IllegalArgumentException`. Furthermore you can back it by any List implementation you like and if necessary you can add more Predicates to be checked.\r\n\r\nSame exists for Collections in general.\r\n\r\n**Use Google Guava:**\r\n\r\n    Constraints.constrainedList(new ArrayList(), Constraints.notNull())\r\n\r\nAdding null to this list throws `NullPointerException`.","title":"Is there a standard Java List implementation that doesn&#39;t allow adding null to it?","body":"<p><strong>Use Apache Commons Collection:</strong></p>\n\n<pre><code>ListUtils.predicatedList(new ArrayList(), PredicateUtils.notNullPredicate());\n</code></pre>\n\n<p>Adding null to this list throws <code>IllegalArgumentException</code>. Furthermore you can back it by any List implementation you like and if necessary you can add more Predicates to be checked.</p>\n\n<p>Same exists for Collections in general.</p>\n\n<p><strong>Use Google Guava:</strong></p>\n\n<pre><code>Constraints.constrainedList(new ArrayList(), Constraints.notNull())\n</code></pre>\n\n<p>Adding null to this list throws <code>NullPointerException</code>.</p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1459186141,"creation_date":1309186082,"answer_id":6494704,"question_id":6433478,"body_markdown":"Watch out -- several answers here are claiming to solve your problem by wrapping a list and checking in `add` and `addAll`, but they&#39;re forgetting you can also add to a `List` via its `listIterator`.  It&#39;s challenging to get a constrained list right, which is why Guava has `Constraints.constrainedList` to do it for you.\r\n\r\nBut before looking at that, first consider whether you only need an *immutable* list, in which case Guava&#39;s `ImmutableList` will do that null checking for you anyway.  And in the off chance that you can use one of the JDK&#39;s `Queue` implementations instead, that&#39;ll do it too.\r\n\r\n(Good list of null-hostile collections: https://github.com/google/guava/wiki/LivingWithNullHostileCollections)\r\n","title":"Is there a standard Java List implementation that doesn&#39;t allow adding null to it?","body":"<p>Watch out -- several answers here are claiming to solve your problem by wrapping a list and checking in <code>add</code> and <code>addAll</code>, but they're forgetting you can also add to a <code>List</code> via its <code>listIterator</code>.  It's challenging to get a constrained list right, which is why Guava has <code>Constraints.constrainedList</code> to do it for you.</p>\n\n<p>But before looking at that, first consider whether you only need an <em>immutable</em> list, in which case Guava's <code>ImmutableList</code> will do that null checking for you anyway.  And in the off chance that you can use one of the JDK's <code>Queue</code> implementations instead, that'll do it too.</p>\n\n<p>(Good list of null-hostile collections: <a href=\"https://github.com/google/guava/wiki/LivingWithNullHostileCollections\" rel=\"noreferrer\">https://github.com/google/guava/wiki/LivingWithNullHostileCollections</a>)</p>\n"},{"tags":[],"owner":{"account_id":2233383,"reputation":427,"user_id":1970670,"display_name":"Piotr Cierpich"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1617805650,"creation_date":1617805650,"answer_id":66988204,"question_id":6433478,"body_markdown":"If it&#39;s ok to create a list and not mutate existing one, [List.of][1] added in Java 9 throws NPE when element added is null \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-","title":"Is there a standard Java List implementation that doesn&#39;t allow adding null to it?","body":"<p>If it's ok to create a list and not mutate existing one, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-\" rel=\"nofollow noreferrer\">List.of</a> added in Java 9 throws NPE when element added is null</p>\n"},{"tags":[],"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661812191,"creation_date":1661812191,"answer_id":73535288,"question_id":6433478,"body_markdown":"This might help you if you want to add an item to the list and silently **ignore** if the value is null:\r\n\r\nYou need `Apache Commons Collections 4`:\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    &lt;version&gt;4.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen, you need to import:\r\n```java\r\nimport org.apache.commons.collections4.CollectionUtils;\r\n```\r\n\r\nNow, use it like:\r\n```java\r\nList&lt;String&gt; someList = new ArrayList&lt;&gt;();\r\nString nullItem = null;\r\nString normalItem = &quot;Text&quot;;\r\n\r\nCollectionUtils.addIgnoreNull(someList, nullItem);\r\nCollectionUtils.addIgnoreNull(someList, normalItem);\r\n```\r\n\r\nEventually, `someList` will just have `1` item. `null` will be ignored.","title":"Is there a standard Java List implementation that doesn&#39;t allow adding null to it?","body":"<p>This might help you if you want to add an item to the list and silently <strong>ignore</strong> if the value is null:</p>\n<p>You need <code>Apache Commons Collections 4</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n    &lt;version&gt;4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then, you need to import:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.collections4.CollectionUtils;\n</code></pre>\n<p>Now, use it like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; someList = new ArrayList&lt;&gt;();\nString nullItem = null;\nString normalItem = &quot;Text&quot;;\n\nCollectionUtils.addIgnoreNull(someList, nullItem);\nCollectionUtils.addIgnoreNull(someList, normalItem);\n</code></pre>\n<p>Eventually, <code>someList</code> will just have <code>1</code> item. <code>null</code> will be ignored.</p>\n"}],"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77094,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"answer_count":9,"score":44,"last_activity_date":1661812191,"creation_date":1308701655,"question_id":6433478,"body_markdown":"Say I have a `List` and I know that I never want to add `null` to it. If I am adding null to it, it means I&#39;m making a mistake. So every time I would otherwise call `list.add(item)` I would instead call `if (item == null) throw SomeException(); else list.add(item);`. Is there an existing `List` class (maybe in Apache Commons or something) that does this for me?\r\n\r\nSimilar question: https://stackoverflow.com/questions/1239579/helper-in-order-to-remove-null-reference-in-java-list but I don&#39;t want to remove all the nulls, I want to make sure they never get added in the first place.","title":"Is there a standard Java List implementation that doesn&#39;t allow adding null to it?","body":"<p>Say I have a <code>List</code> and I know that I never want to add <code>null</code> to it. If I am adding null to it, it means I'm making a mistake. So every time I would otherwise call <code>list.add(item)</code> I would instead call <code>if (item == null) throw SomeException(); else list.add(item);</code>. Is there an existing <code>List</code> class (maybe in Apache Commons or something) that does this for me?</p>\n\n<p>Similar question: <a href=\"https://stackoverflow.com/questions/1239579/helper-in-order-to-remove-null-reference-in-java-list\">Helper to remove null references in a Java List?</a> but I don't want to remove all the nulls, I want to make sure they never get added in the first place.</p>\n"},{"tags":["java","android","xml","android-fragments"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1661812154,"post_id":73535245,"comment_id":129856096,"body_markdown":"You do need to use the child `FragmentManager`, like the one Ian had linked you. You&#39;re also mixing view/data binding with manual layout inflation, so the `ViewPager2` you&#39;re setting the `Adapter` on is not appearing on-screen. Get rid of the manual inflation, and set the `Adapter` on (presumably) `binding.viewPager2`, after the `FragmentProfileBinding.inflate()` call.","body":"You do need to use the child <code>FragmentManager</code>, like the one Ian had linked you. You&#39;re also mixing view/data binding with manual layout inflation, so the <code>ViewPager2</code> you&#39;re setting the <code>Adapter</code> on is not appearing on-screen. Get rid of the manual inflation, and set the <code>Adapter</code> on (presumably) <code>binding.viewPager2</code>, after the <code>FragmentProfileBinding.inflate()</code> call."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1661813026,"post_id":73535245,"comment_id":129856250,"body_markdown":"I forgot to mention the `TabLayout` and stuff, but I&#39;m sure you figured out that it moves, too.","body":"I forgot to mention the <code>TabLayout</code> and stuff, but I&#39;m sure you figured out that it moves, too."},{"owner":{"account_id":20465276,"reputation":29,"user_id":15016926,"display_name":"Avocado"},"score":0,"creation_date":1661846930,"post_id":73535245,"comment_id":129862261,"body_markdown":"@MikeM. Sorry Mr. Mike i dont really figuring out what you told to me. Can you write it down for me in the answer? thanks","body":"@MikeM. Sorry Mr. Mike i dont really figuring out what you told to me. Can you write it down for me in the answer? thanks"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1661895582,"post_id":73535245,"comment_id":129879895,"body_markdown":"The `FragmentProfileBinding` is meant to replace the `inflater.inflate()` and `view.findViewById()` stuff, so it would end up something like: https://drive.google.com/file/d/1DnQfo3VGHFCvNBBZeYkwnYvb1bHNdUwF/view?usp=sharing. (Assuming everything built correctly, and that I&#39;m remembering the details correctly.)","body":"The <code>FragmentProfileBinding</code> is meant to replace the <code>inflater.inflate()</code> and <code>view.findViewById()</code> stuff, so it would end up something like: <a href=\"https://drive.google.com/file/d/1DnQfo3VGHFCvNBBZeYkwnYvb1bHNdUwF/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1DnQfo3VGHFCvNBBZeYkwnYvb1bHNdUwF/&hellip;</a>. (Assuming everything built correctly, and that I&#39;m remembering the details correctly.)"}],"owner":{"account_id":20465276,"reputation":29,"user_id":15016926,"display_name":"Avocado"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661811752,"creation_date":1661811752,"question_id":73535245,"body_markdown":"Im using TabLayout for navigation of the ViewPager2 fragments but the TabLayout and ViewPager2 didnt appear.\r\n\r\nProfileFragments.java:\r\n\r\n    public class ProfileFragment extends Fragment {\r\n\r\n    private FragmentProfileBinding binding;\r\n\r\n    ProfileAdapter profileAdapter;\r\n    TabLayout tabLayout;\r\n    ViewPager2 viewPager2;\r\n    private String[] titles = new String[] {&quot;Personal&quot;, &quot;Employment&quot;, &quot;Education&quot;};\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_profile, container, false);\r\n        tabLayout = (TabLayout) view.findViewById(R.id.tab_layout);\r\n        viewPager2= (ViewPager2) view.findViewById(R.id.view_pager2);\r\n\r\n        profileAdapter = new ProfileAdapter(getParentFragmentManager(), getLifecycle());\r\n\r\n        viewPager2.setAdapter(profileAdapter);\r\n\r\n        new TabLayoutMediator(tabLayout,viewPager2,((tab,position)-&gt; tab.setText(titles[position]))).attach();\r\n\r\n        binding = FragmentProfileBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n        return root;\r\n    }}\r\n\r\n\r\nProfileAdapter.java:\r\n\r\n    public class ProfileAdapter extends FragmentStateAdapter {\r\n\r\n    private String[] titles = new String[] {&quot;Personal&quot;, &quot;Employment&quot;, &quot;Education&quot;};\r\n\r\n    public ProfileAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle){\r\n        super(fragmentManager, lifecycle);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position){\r\n        switch (position){\r\n            case 0:\r\n                return new PersonalFragment();\r\n            case 1:\r\n                return new EmploymentFragment();\r\n            case 2:\r\n                return new EducationFragment();\r\n        }\r\n        return new PersonalFragment();\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return titles.length;\r\n    }}\r\n\r\n\r\nthe id for TabLayout and ViewPager2 are tab_layout and view_pager2.\r\n","title":"Java Android - TabLayout and ViewPager2 including the Fragments inside didn&#39;t appear","body":"<p>Im using TabLayout for navigation of the ViewPager2 fragments but the TabLayout and ViewPager2 didnt appear.</p>\n<p>ProfileFragments.java:</p>\n<pre><code>public class ProfileFragment extends Fragment {\n\nprivate FragmentProfileBinding binding;\n\nProfileAdapter profileAdapter;\nTabLayout tabLayout;\nViewPager2 viewPager2;\nprivate String[] titles = new String[] {&quot;Personal&quot;, &quot;Employment&quot;, &quot;Education&quot;};\n\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n    View view = inflater.inflate(R.layout.fragment_profile, container, false);\n    tabLayout = (TabLayout) view.findViewById(R.id.tab_layout);\n    viewPager2= (ViewPager2) view.findViewById(R.id.view_pager2);\n\n    profileAdapter = new ProfileAdapter(getParentFragmentManager(), getLifecycle());\n\n    viewPager2.setAdapter(profileAdapter);\n\n    new TabLayoutMediator(tabLayout,viewPager2,((tab,position)-&gt; tab.setText(titles[position]))).attach();\n\n    binding = FragmentProfileBinding.inflate(inflater, container, false);\n    View root = binding.getRoot();\n    return root;\n}}\n</code></pre>\n<p>ProfileAdapter.java:</p>\n<pre><code>public class ProfileAdapter extends FragmentStateAdapter {\n\nprivate String[] titles = new String[] {&quot;Personal&quot;, &quot;Employment&quot;, &quot;Education&quot;};\n\npublic ProfileAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle){\n    super(fragmentManager, lifecycle);\n}\n\n@NonNull\n@Override\npublic Fragment createFragment(int position){\n    switch (position){\n        case 0:\n            return new PersonalFragment();\n        case 1:\n            return new EmploymentFragment();\n        case 2:\n            return new EducationFragment();\n    }\n    return new PersonalFragment();\n}\n\n@Override\npublic int getItemCount() {\n    return titles.length;\n}}\n</code></pre>\n<p>the id for TabLayout and ViewPager2 are tab_layout and view_pager2.</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1661804765,"post_id":73534167,"comment_id":129854432,"body_markdown":"The class should be public too.","body":"The class should be public too."},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1661811597,"post_id":73534167,"comment_id":129856007,"body_markdown":"oops. You are absolutely right. Could someone explain to me, why I fiddle around for hours and not see this obvious mistake? :D Thanks for your hint ;)","body":"oops. You are absolutely right. Could someone explain to me, why I fiddle around for hours and not see this obvious mistake? :D Thanks for your hint ;)"}],"answers":[{"tags":[],"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661811654,"creation_date":1661811654,"answer_id":73535232,"question_id":73534167,"body_markdown":"As erickson pointed out in the comment above: the class has to be public as well(of course).","title":"IllegalAccessException on calling constructor after loading class via URLClassLoader","body":"<p>As erickson pointed out in the comment above: the class has to be public as well(of course).</p>\n"}],"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73535232,"answer_count":1,"score":1,"last_activity_date":1661811654,"creation_date":1661803790,"question_id":73534167,"body_markdown":"I try to load a class from file system(which is not in the cp of my main) and then want a new instance of that loaded class like this:\r\n\r\n    try {\r\n    \tFile folder = new File(&quot;/tmp/&quot;);\r\n\t    URLClassLoader loader = URLClassLoader.newInstance(new URL[] {folder.toURI().toURL()});\r\n\t    Class clazz = loader.loadClass(&quot;testpkg.test&quot;);\r\n\t    Constructor constructor = clazz.getConstructor();\r\n    \tObject instance = constructor.newInstance();\r\n    } catch (Exception e) {\r\n\t    e.printStackTrace();\r\n    }\r\n\r\nthe class file exists in the /tmp/testpkg directory and has the name test.class. The code for the uncompiled .java looks like this:\r\n\r\n    package testpkg;\r\n    class test{\r\n        public test(){\r\n                System.out.println(&quot;I am the constructor!&quot;);\r\n        }\r\n    }\r\n\r\nunfortunately I get a runtimeError at the following line:\r\n\r\n    Object instance = constructor.newInstance();\r\nwhich says:\r\n\r\n    java.lang.IllegalAccessException: Class tmp.ClassLoadingFun can not access a member of class testpkg.test with modifiers &quot;public&quot;\r\n\tat sun.reflect.Reflection.ensureMemberAccess(Reflection.java:102)\r\n\tat java.lang.reflect.AccessibleObject.slowCheckMemberAccess(AccessibleObject.java:296)\r\n\tat java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:288)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:413)\r\n\tat tmp.ClassLoadingFun.&lt;init&gt;(ClassLoadingFun.java:16)\r\n\tat tmp.ClassLoadingFun.main(ClassLoadingFun.java:23)\r\nWhen i fuzz around with the package or class name, it will terminate earlier stating, there is no proper class found. So I guess the loading of the class works. Only calling the constructor does not.\r\nWhy can&#39;t I access this public(!) constructor?","title":"IllegalAccessException on calling constructor after loading class via URLClassLoader","body":"<p>I try to load a class from file system(which is not in the cp of my main) and then want a new instance of that loaded class like this:</p>\n<pre><code>try {\n    File folder = new File(&quot;/tmp/&quot;);\n    URLClassLoader loader = URLClassLoader.newInstance(new URL[] {folder.toURI().toURL()});\n    Class clazz = loader.loadClass(&quot;testpkg.test&quot;);\n    Constructor constructor = clazz.getConstructor();\n    Object instance = constructor.newInstance();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>the class file exists in the /tmp/testpkg directory and has the name test.class. The code for the uncompiled .java looks like this:</p>\n<pre><code>package testpkg;\nclass test{\n    public test(){\n            System.out.println(&quot;I am the constructor!&quot;);\n    }\n}\n</code></pre>\n<p>unfortunately I get a runtimeError at the following line:</p>\n<pre><code>Object instance = constructor.newInstance();\n</code></pre>\n<p>which says:</p>\n<pre><code>java.lang.IllegalAccessException: Class tmp.ClassLoadingFun can not access a member of class testpkg.test with modifiers &quot;public&quot;\nat sun.reflect.Reflection.ensureMemberAccess(Reflection.java:102)\nat java.lang.reflect.AccessibleObject.slowCheckMemberAccess(AccessibleObject.java:296)\nat java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:288)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:413)\nat tmp.ClassLoadingFun.&lt;init&gt;(ClassLoadingFun.java:16)\nat tmp.ClassLoadingFun.main(ClassLoadingFun.java:23)\n</code></pre>\n<p>When i fuzz around with the package or class name, it will terminate earlier stating, there is no proper class found. So I guess the loading of the class works. Only calling the constructor does not.\nWhy can't I access this public(!) constructor?</p>\n"},{"tags":["java","generics","type-erasure"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1661783175,"post_id":73530225,"comment_id":129847355,"body_markdown":"You &quot;can&#39;t&quot;, at least in as neat of a way as your example. There&#39;s the notion of a type token in some libraries, or you can use additional type parameters specifically for the case of handling collections, but overall at some point you will be unsafely casting to a generic `Map` and then either manually checking the content&#39;s type or returning that unsafe map.","body":"You &quot;can&#39;t&quot;, at least in as neat of a way as your example. There&#39;s the notion of a type token in some libraries, or you can use additional type parameters specifically for the case of handling collections, but overall at some point you will be unsafely casting to a generic <code>Map</code> and then either manually checking the content&#39;s type or returning that unsafe map."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1661952964,"post_id":73530225,"comment_id":129894143,"body_markdown":"You can not assign a `void` method call to a `Map`, regardless of any Generics issues.","body":"You can not assign a <code>void</code> method call to a <code>Map</code>, regardless of any Generics issues."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661783656,"creation_date":1661783656,"answer_id":73530436,"question_id":73530225,"body_markdown":"You can use getClass method.\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Main{\r\n   public static &lt;T&gt; void foo(Class&lt;T&gt; c){\r\n      System.out.println(c);\r\n   }\r\n\tpublic static void main(String[] args) {\r\n\t\tMap&lt;String,String&gt; m = new HashMap&lt;&gt;();\r\n\t\tfoo(m.getClass());\r\n\t}\r\n}\r\n```\r\nOutput\r\n```\r\nclass java.util.HashMap\r\n```","title":"Pass generic type with actual literal value in type parameter","body":"<p>You can use getClass method.</p>\n<pre><code>import java.util.*;\n\npublic class Main{\n   public static &lt;T&gt; void foo(Class&lt;T&gt; c){\n      System.out.println(c);\n   }\n    public static void main(String[] args) {\n        Map&lt;String,String&gt; m = new HashMap&lt;&gt;();\n        foo(m.getClass());\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>class java.util.HashMap\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661811648,"creation_date":1661789393,"answer_id":73531623,"question_id":73530225,"body_markdown":"Depending on what the receiver is doing, you may be able to get the necessary information from a [`ParameterizedType`][1] instance. `ParameterizedType` is a subclass of [`Type`,][2] as is `Class`, and many libraries that do binding or other reflection-intensive work use `Type` instead of `Class`.\r\n\r\nIn order to obtain a `ParameterizedType` instance, however, you have to define a type with the correct generic parameters. This is called a &quot;type token,&quot; and often an anonymous instance is created.\r\n\r\nRe-write your `foo()` method to inspect the class for generic type information:\r\n```java\r\n&lt;T&gt; void foo(Class&lt;T&gt; clz) {\r\n    Type type = clz.getGenericSuperclass();\r\n    if (type instanceof ParameterizedType) {\r\n        ParameterizedType generic = (ParameterizedType) type;\r\n        for (Type t : generic.getActualTypeArguments()) {\r\n            System.out.println(t);\r\n        }\r\n    } else {\r\n        System.out.println(clz);\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow you can create a type token and pass it to your method:\r\n\r\n```java\r\n/* This doesn&#39;t work; type parameters are erased. */\r\nClass&lt;?&gt; fail = Map&lt;String, Object&gt;.class \r\n/* This works; the type parameters are compiled into the anonymous type. */\r\nclass TypeToken&lt;T&gt; {}\r\nClass&lt;?&gt; okay = new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {}.getClass();\r\nfoo(okay);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/ParameterizedType.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Type.html","title":"Pass generic type with actual literal value in type parameter","body":"<p>Depending on what the receiver is doing, you may be able to get the necessary information from a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/ParameterizedType.html\" rel=\"nofollow noreferrer\"><code>ParameterizedType</code></a> instance. <code>ParameterizedType</code> is a subclass of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Type.html\" rel=\"nofollow noreferrer\"><code>Type</code>,</a> as is <code>Class</code>, and many libraries that do binding or other reflection-intensive work use <code>Type</code> instead of <code>Class</code>.</p>\n<p>In order to obtain a <code>ParameterizedType</code> instance, however, you have to define a type with the correct generic parameters. This is called a &quot;type token,&quot; and often an anonymous instance is created.</p>\n<p>Re-write your <code>foo()</code> method to inspect the class for generic type information:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; void foo(Class&lt;T&gt; clz) {\n    Type type = clz.getGenericSuperclass();\n    if (type instanceof ParameterizedType) {\n        ParameterizedType generic = (ParameterizedType) type;\n        for (Type t : generic.getActualTypeArguments()) {\n            System.out.println(t);\n        }\n    } else {\n        System.out.println(clz);\n    }\n}\n\n</code></pre>\n<p>Now you can create a type token and pass it to your method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* This doesn't work; type parameters are erased. */\nClass&lt;?&gt; fail = Map&lt;String, Object&gt;.class \n/* This works; the type parameters are compiled into the anonymous type. */\nclass TypeToken&lt;T&gt; {}\nClass&lt;?&gt; okay = new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {}.getClass();\nfoo(okay);\n</code></pre>\n"}],"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73531623,"answer_count":2,"score":-2,"last_activity_date":1661811648,"creation_date":1661782658,"question_id":73530225,"body_markdown":"I&#39;m trying to pass a type parameter to a function \r\n\r\n```java\r\npublic void foo(Class&lt;T&gt; class){\r\n// do something\r\n}\r\n```\r\nit&#39;s easy if i have to pass `Integer` or any simple `Class` by just passing `foo(ClassName.class)` but how can i pass this with generic type, i.e those class that have generic types? e.g\r\n\r\n```java\r\n\r\nMap&lt;String,Object&gt; m = foo(Map&lt;String,Object&gt;.class) // achieve something like this\r\nMap&lt;String,Object&gt; m = (Map&lt;String,Object&gt;)foo(Map.class) // instead of something like this\r\n\r\n```\r\n","title":"Pass generic type with actual literal value in type parameter","body":"<p>I'm trying to pass a type parameter to a function</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void foo(Class&lt;T&gt; class){\n// do something\n}\n</code></pre>\n<p>it's easy if i have to pass <code>Integer</code> or any simple <code>Class</code> by just passing <code>foo(ClassName.class)</code> but how can i pass this with generic type, i.e those class that have generic types? e.g</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nMap&lt;String,Object&gt; m = foo(Map&lt;String,Object&gt;.class) // achieve something like this\nMap&lt;String,Object&gt; m = (Map&lt;String,Object&gt;)foo(Map.class) // instead of something like this\n\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"score":0,"creation_date":1575485840,"post_id":59180922,"comment_id":104586664,"body_markdown":"Looking at the stack trace, seems like you are using DirectRunnner not DataflowRunner. Can you refer to following to properly setup your Dataflow pipeline ? https://cloud.google.com/dataflow/docs/quickstarts/quickstart-java-maven Unfortunately seems like provided eclipse plugin does not work for latest versions of Beam if you were trying to use that.","body":"Looking at the stack trace, seems like you are using DirectRunnner not DataflowRunner. Can you refer to following to properly setup your Dataflow pipeline ? <a href=\"https://cloud.google.com/dataflow/docs/quickstarts/quickstart-java-maven\" rel=\"nofollow noreferrer\">cloud.google.com/dataflow/docs/quickstarts/&hellip;</a> Unfortunately seems like provided eclipse plugin does not work for latest versions of Beam if you were trying to use that."}],"answers":[{"tags":[],"owner":{"account_id":14324136,"reputation":1232,"user_id":10346701,"display_name":"IoT user"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1575529948,"creation_date":1575529948,"answer_id":59189982,"question_id":59180922,"body_markdown":"To solve that, I added the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n      &lt;artifactId&gt;beam-runners-direct-java&lt;/artifactId&gt;\r\n      &lt;version&gt;${beam.version}&lt;/version&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Running java dataflow pipeline locally with PubSub","body":"<p>To solve that, I added the following dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n  &lt;artifactId&gt;beam-runners-direct-java&lt;/artifactId&gt;\n  &lt;version&gt;${beam.version}&lt;/version&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14248225,"reputation":657,"user_id":10292570,"display_name":"Sneha Mule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661811548,"creation_date":1661811548,"answer_id":73535218,"question_id":59180922,"body_markdown":"**To Run pipeline in locally(not on dataflow) use following commands in terminal**\r\n \r\n    export GOOGLE_APPLICATION_CREDENTIALS=/GCP CREDENTIAL FULL \r\n    PATH/credential.json\r\n\r\n   then Run this command to Run pipeline in local\r\n\r\n       mvn compile exec:java -Dexec.mainClass=PACKAGENAME.CLASS_NAME &quot;-Dexec.args=--project=PROJECT_NAME --numWorkers=2 --autoscalingAlgorithm=THROUGHPUT_BASED --workerMachineType=n1-standard-8 --jobName=PIPELINE_NAME&quot;\r\n\r\n \r\n\r\n**To Run Pipeline in IntelliJ for Debug or LOCAL** \r\n\r\n    Go to Run Debug Configuration -&gt; Click on Plus -&gt; Select maven -&gt; working directory (select directory of pipeline ) -&gt; command line (add above command) . Then go to Runner -&gt; Uncheck Project Setting -&gt; Select JRE -&gt; add credential path with above export command ","title":"Running java dataflow pipeline locally with PubSub","body":"<p><strong>To Run pipeline in locally(not on dataflow) use following commands in terminal</strong></p>\n<pre><code>export GOOGLE_APPLICATION_CREDENTIALS=/GCP CREDENTIAL FULL \nPATH/credential.json\n</code></pre>\n<p>then Run this command to Run pipeline in local</p>\n<pre><code>   mvn compile exec:java -Dexec.mainClass=PACKAGENAME.CLASS_NAME &quot;-Dexec.args=--project=PROJECT_NAME --numWorkers=2 --autoscalingAlgorithm=THROUGHPUT_BASED --workerMachineType=n1-standard-8 --jobName=PIPELINE_NAME&quot;\n</code></pre>\n<p><strong>To Run Pipeline in IntelliJ for Debug or LOCAL</strong></p>\n<pre><code>Go to Run Debug Configuration -&gt; Click on Plus -&gt; Select maven -&gt; working directory (select directory of pipeline ) -&gt; command line (add above command) . Then go to Runner -&gt; Uncheck Project Setting -&gt; Select JRE -&gt; add credential path with above export command \n</code></pre>\n"}],"owner":{"account_id":14324136,"reputation":1232,"user_id":10346701,"display_name":"IoT user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59189982,"answer_count":2,"score":0,"last_activity_date":1661811548,"creation_date":1575477964,"question_id":59180922,"body_markdown":"I&#39;m trying to run locally (with local runner), in Eclipse, a Java dataflow which use Apache Beam.\r\n\r\nThe problem occurs when I added pubsub as the data source.&lt;br&gt; (If I delete that line and try with a simple pipeline, I can execute it without problem)\r\n\r\n**The pipeline code:**\r\n\r\n    public class StarterPipeline {\r\n\r\n\t public static void main(String[] args) {\r\n\t\tOptions options = PipelineOptionsFactory.fromArgs(args).withValidation().as(Options.class);\r\n\t\trun(options);\r\n\t  }\r\n\r\n\tpublic static PipelineResult run(Options options) {\r\n\r\n\t\tPipeline pipeline = Pipeline.create(options);\r\n\r\n\t\t/*\r\n\t\t * Step 1: Read from PubSub\r\n\t\t */\r\n\t\tPCollection&lt;PubsubMessage&gt; messages = null;\r\n\t\tif (options.getUseSubscription()) {\r\n\t\t\tmessages = pipeline.apply(&quot;ReadPubSubSubscription&quot;, PubsubIO.readMessagesWithAttributes()\r\n\t\t\t\t\t.fromSubscription(options.getInputSubscription()).withIdAttribute(&quot;messageId&quot;));\r\n\t\t} else {\r\n\t\t\tmessages = pipeline.apply(&quot;ReadPubSubTopic&quot;, PubsubIO.readMessagesWithAttributes()\r\n\t\t\t\t\t.fromTopic(options.getInputTopic()).withIdAttribute(&quot;messageId&quot;));\r\n\t\t}\r\n\r\n         &lt;...&gt;\r\n\t\treturn pipeline.run();\r\n\t}\r\n\r\n**And the error message:**\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/beam/sdk/util/DoFnAndMainOutput\r\n    \tat org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation.translateDoFn(ParDoTranslation.java:462)\r\n    \tat org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation$1.translateDoFn(ParDoTranslation.java:160)\r\n    \tat org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation.payloadForParDoLike(ParDoTranslation.java:695)\r\n    \tat org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation.translateParDo(ParDoTranslation.java:156)\r\n    \tat org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation$ParDoPayloadTranslator.translate(ParDoTranslation.java:111)\r\n    \tat org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.PTransformTranslation.toProto(PTransformTranslation.java:206)\r\n    \tat org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation.getParDoPayload(ParDoTranslation.java:547)\r\n    \tat org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation.isSplittable(ParDoTranslation.java:557)\r\n    \tat org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.PTransformMatchers$4.matches(PTransformMatchers.java:194)\r\n    \tat org.apache.beam.sdk.Pipeline$2.visitPrimitiveTransform(Pipeline.java:282)\r\n    \tat org.apache.beam.sdk.runners.TransformHierarchy$Node.visit(TransformHierarchy.java:665)\r\n    \tat org.apache.beam.sdk.runners.TransformHierarchy$Node.visit(TransformHierarchy.java:657)\r\n    \tat org.apache.beam.sdk.runners.TransformHierarchy$Node.visit(TransformHierarchy.java:657)\r\n    \tat org.apache.beam.sdk.runners.TransformHierarchy$Node.visit(TransformHierarchy.java:657)\r\n    \tat org.apache.beam.sdk.runners.TransformHierarchy$Node.visit(TransformHierarchy.java:657)\r\n    \tat org.apache.beam.sdk.runners.TransformHierarchy$Node.access$600(TransformHierarchy.java:317)\r\n    \tat org.apache.beam.sdk.runners.TransformHierarchy.visit(TransformHierarchy.java:251)\r\n    \tat org.apache.beam.sdk.Pipeline.traverseTopologically(Pipeline.java:460)\r\n    \tat org.apache.beam.sdk.Pipeline.replace(Pipeline.java:260)\r\n    \tat org.apache.beam.sdk.Pipeline.replaceAll(Pipeline.java:210)\r\n    \tat org.apache.beam.runners.direct.DirectRunner.run(DirectRunner.java:170)\r\n    \tat org.apache.beam.runners.direct.DirectRunner.run(DirectRunner.java:66)\r\n    \tat org.apache.beam.sdk.Pipeline.run(Pipeline.java:315)\r\n    \tat org.apache.beam.sdk.Pipeline.run(Pipeline.java:301)\r\n    \tat com.accenture.pipeline.StarterPipeline.run(StarterPipeline.java:128)\r\n    \tat com.accenture.pipeline.StarterPipeline.main(StarterPipeline.java:74)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.beam.sdk.util.DoFnAndMainOutput\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 26 more\r\n\r\nTo execute the pipeline locally I have tried to run with:\r\n\r\n - Maven \r\n - Dataflow SDK\r\n\r\nWith the following options:\r\n\r\n**DATAFLOW**\r\n[![maven][1]][1]\r\n\r\n**MAVEN**\r\n[![dataflow][2]][2]\r\n\r\nShould I add any dependency? \r\n\r\n-----------------------\r\n\r\nIf you need any further details, let me know.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QFzpa.jpg\r\n  [2]: https://i.stack.imgur.com/SfcjR.jpg","title":"Running java dataflow pipeline locally with PubSub","body":"<p>I'm trying to run locally (with local runner), in Eclipse, a Java dataflow which use Apache Beam.</p>\n\n<p>The problem occurs when I added pubsub as the data source.<br> (If I delete that line and try with a simple pipeline, I can execute it without problem)</p>\n\n<p><strong>The pipeline code:</strong></p>\n\n<pre><code>public class StarterPipeline {\n\n public static void main(String[] args) {\n    Options options = PipelineOptionsFactory.fromArgs(args).withValidation().as(Options.class);\n    run(options);\n  }\n\npublic static PipelineResult run(Options options) {\n\n    Pipeline pipeline = Pipeline.create(options);\n\n    /*\n     * Step 1: Read from PubSub\n     */\n    PCollection&lt;PubsubMessage&gt; messages = null;\n    if (options.getUseSubscription()) {\n        messages = pipeline.apply(\"ReadPubSubSubscription\", PubsubIO.readMessagesWithAttributes()\n                .fromSubscription(options.getInputSubscription()).withIdAttribute(\"messageId\"));\n    } else {\n        messages = pipeline.apply(\"ReadPubSubTopic\", PubsubIO.readMessagesWithAttributes()\n                .fromTopic(options.getInputTopic()).withIdAttribute(\"messageId\"));\n    }\n\n     &lt;...&gt;\n    return pipeline.run();\n}\n</code></pre>\n\n<p><strong>And the error message:</strong></p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/beam/sdk/util/DoFnAndMainOutput\n    at org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation.translateDoFn(ParDoTranslation.java:462)\n    at org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation$1.translateDoFn(ParDoTranslation.java:160)\n    at org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation.payloadForParDoLike(ParDoTranslation.java:695)\n    at org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation.translateParDo(ParDoTranslation.java:156)\n    at org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation$ParDoPayloadTranslator.translate(ParDoTranslation.java:111)\n    at org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.PTransformTranslation.toProto(PTransformTranslation.java:206)\n    at org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation.getParDoPayload(ParDoTranslation.java:547)\n    at org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.ParDoTranslation.isSplittable(ParDoTranslation.java:557)\n    at org.apache.beam.repackaged.beam_runners_direct_java.runners.core.construction.PTransformMatchers$4.matches(PTransformMatchers.java:194)\n    at org.apache.beam.sdk.Pipeline$2.visitPrimitiveTransform(Pipeline.java:282)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit(TransformHierarchy.java:665)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit(TransformHierarchy.java:657)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit(TransformHierarchy.java:657)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit(TransformHierarchy.java:657)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit(TransformHierarchy.java:657)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.access$600(TransformHierarchy.java:317)\n    at org.apache.beam.sdk.runners.TransformHierarchy.visit(TransformHierarchy.java:251)\n    at org.apache.beam.sdk.Pipeline.traverseTopologically(Pipeline.java:460)\n    at org.apache.beam.sdk.Pipeline.replace(Pipeline.java:260)\n    at org.apache.beam.sdk.Pipeline.replaceAll(Pipeline.java:210)\n    at org.apache.beam.runners.direct.DirectRunner.run(DirectRunner.java:170)\n    at org.apache.beam.runners.direct.DirectRunner.run(DirectRunner.java:66)\n    at org.apache.beam.sdk.Pipeline.run(Pipeline.java:315)\n    at org.apache.beam.sdk.Pipeline.run(Pipeline.java:301)\n    at com.accenture.pipeline.StarterPipeline.run(StarterPipeline.java:128)\n    at com.accenture.pipeline.StarterPipeline.main(StarterPipeline.java:74)\nCaused by: java.lang.ClassNotFoundException: org.apache.beam.sdk.util.DoFnAndMainOutput\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 26 more\n</code></pre>\n\n<p>To execute the pipeline locally I have tried to run with:</p>\n\n<ul>\n<li>Maven </li>\n<li>Dataflow SDK</li>\n</ul>\n\n<p>With the following options:</p>\n\n<p><strong>DATAFLOW</strong>\n<a href=\"https://i.stack.imgur.com/QFzpa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QFzpa.jpg\" alt=\"maven\"></a></p>\n\n<p><strong>MAVEN</strong>\n<a href=\"https://i.stack.imgur.com/SfcjR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SfcjR.jpg\" alt=\"dataflow\"></a></p>\n\n<p>Should I add any dependency? </p>\n\n<hr>\n\n<p>If you need any further details, let me know.</p>\n"},{"tags":["java","java-8","google-cloud-dataflow"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1422822369,"post_id":28267006,"comment_id":44890994,"body_markdown":"possible duplicate of [Can Java 8 code be compiled to run on Java 7 jvm?](http://stackoverflow.com/questions/16143684/can-java-8-code-be-compiled-to-run-on-java-7-jvm)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/16143684/can-java-8-code-be-compiled-to-run-on-java-7-jvm\">Can Java 8 code be compiled to run on Java 7 jvm?</a>"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1422822427,"post_id":28267006,"comment_id":44891015,"body_markdown":"No. While Java 8 uses the same byte codes as Java 7 the verifier will puke because there are different structures (e.g. interfaces having methods).","body":"No. While Java 8 uses the same byte codes as Java 7 the verifier will puke because there are different structures (e.g. interfaces having methods)."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1422822741,"post_id":28267006,"comment_id":44891118,"body_markdown":"That said. You might have some luck rewriting to Java 7 using Guava libraries. It has filters, transformations for collections and function composition. They can act as really poor substitute for map-reduce and functional programming.","body":"That said. You might have some luck rewriting to Java 7 using Guava libraries. It has filters, transformations for collections and function composition. They can act as really poor substitute for map-reduce and functional programming."}],"answers":[{"tags":[],"owner":{"account_id":5693510,"reputation":239,"user_id":4500764,"display_name":"Tudor Marian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422991665,"creation_date":1422991665,"answer_id":28307139,"question_id":28267006,"body_markdown":"Java 8 support is on our roadmap, we will update this thread as soon as we have more information.","title":"Is it possible to run my Dataflow pipeline code with Java 8?","body":"<p>Java 8 support is on our roadmap, we will update this thread as soon as we have more information.</p>\n"},{"tags":[],"owner":{"account_id":5426429,"reputation":1483,"user_id":4318535,"display_name":"rf-"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425700574,"creation_date":1425700574,"answer_id":28911196,"question_id":28267006,"body_markdown":"Google Cloud Dataflow now supports the Java 8 runtime: https://cloud.google.com/dataflow/release-notes/service\r\n\r\nHappy hacking!\r\n","title":"Is it possible to run my Dataflow pipeline code with Java 8?","body":"<p>Google Cloud Dataflow now supports the Java 8 runtime: <a href=\"https://cloud.google.com/dataflow/release-notes/service\" rel=\"nofollow\">https://cloud.google.com/dataflow/release-notes/service</a></p>\n\n<p>Happy hacking!</p>\n"},{"tags":[],"owner":{"account_id":14248225,"reputation":657,"user_id":10292570,"display_name":"Sneha Mule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661810872,"creation_date":1661810872,"answer_id":73535149,"question_id":28267006,"body_markdown":"Apache beam is working with Java8 \r\nDocumentation for reference : \r\nhttps://beam.apache.org/documentation/sdks/java/\r\nhttps://beam.apache.org/documentation/sdks/java/euphoria/","title":"Is it possible to run my Dataflow pipeline code with Java 8?","body":"<p>Apache beam is working with Java8\nDocumentation for reference :\n<a href=\"https://beam.apache.org/documentation/sdks/java/\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/sdks/java/</a>\n<a href=\"https://beam.apache.org/documentation/sdks/java/euphoria/\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/sdks/java/euphoria/</a></p>\n"}],"owner":{"account_id":304214,"reputation":67,"user_id":613594,"display_name":"kwasi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1661810872,"creation_date":1422819770,"question_id":28267006,"body_markdown":"It turns out that I am not able to run any transformations in my pipeline presumably because Cloud Dataflow currently runs only Java 7. All my pre-existing code that runs in my pipeline relies on Java 8 (can only be built with the Java 8 compiler). Is there any way around it? I saw the Java 7 restriction clearly stated here: https://cloud.google.com/dataflow/faq, but I&#39;m hoping there&#39;s some hacky way I could get around it.","title":"Is it possible to run my Dataflow pipeline code with Java 8?","body":"<p>It turns out that I am not able to run any transformations in my pipeline presumably because Cloud Dataflow currently runs only Java 7. All my pre-existing code that runs in my pipeline relies on Java 8 (can only be built with the Java 8 compiler). Is there any way around it? I saw the Java 7 restriction clearly stated here: <a href=\"https://cloud.google.com/dataflow/faq\" rel=\"nofollow\">https://cloud.google.com/dataflow/faq</a>, but I'm hoping there's some hacky way I could get around it.</p>\n"},{"tags":["java","web","jsoup","html-parsing"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1661810123,"post_id":73534930,"comment_id":129855739,"body_markdown":"Have you checked the site policy?","body":"Have you checked the site policy?"},{"owner":{"account_id":26192534,"reputation":1,"user_id":19874136,"display_name":"MvmGsu"},"score":0,"creation_date":1661811717,"post_id":73534930,"comment_id":129856027,"body_markdown":"I tried using /robots.txt but it gave 404 resource not found error. Is there any other way we can check the policy?","body":"I tried using /robots.txt but it gave 404 resource not found error. Is there any other way we can check the policy?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1661814348,"post_id":73534930,"comment_id":129856439,"body_markdown":"If [`userAgent`](https://stackoverflow.com/search?q=%5Bjsoup%5D+403) is ineffective, try some other request attributes, for [example](https://stackoverflow.com/a/37135114/230513), or [ask](https://en.wikipedia.org/wiki/Web_scraping) the owner.","body":"If <a href=\"https://stackoverflow.com/search?q=%5Bjsoup%5D+403\"><code>userAgent</code></a> is ineffective, try some other request attributes, for <a href=\"https://stackoverflow.com/a/37135114/230513\">example</a>, or <a href=\"https://en.wikipedia.org/wiki/Web_scraping\" rel=\"nofollow noreferrer\">ask</a> the owner."}],"owner":{"account_id":26192534,"reputation":1,"user_id":19874136,"display_name":"MvmGsu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661810085,"creation_date":1661809014,"question_id":73534930,"body_markdown":"I have a task to parse through the contents of a website and store it in .fsv file in a local drive. I am using Jsoup to read the contents of the webpage and this is how my program looks like. For some reason, in Java I am getting a 403 Forbidden but I am getting the right results in web browsers. \r\nCode:\r\n    \r\n    String a =&quot;https://ecorp.sos.ga.gov/&quot;;\r\n    Document doc = soup.connect(a).userAgent(&quot;Mozilla/5.0&quot;).get();\r\n\t\t              \r\n    System.out.println(&quot;Title is ::: &quot;+doc.title());\r\n    // System.out.println(&quot;Body is ::: &quot;+doc.body().text());\r\n    Elements newsHeadlines = doc.select(&quot;#mp-left&quot;);\r\n    for (Element headline : newsHeadlines) {\r\n        System.out.println(&quot;title is :::&quot;+headline.attr(&quot;title&quot;)\r\n            +&quot; and url is ::::  &quot;+ headline.absUrl(&quot;href&quot;));\r\n    }\r\n&gt;Error:\r\nException in thread &quot;main&quot; org.jsoup.HttpStatusException: HTTP error fetching URL. Status=403, URL=[https://ecorp.sos.ga.gov/]\r\n\r\nI have gone through some of the existing resolution for similar errors, but it did not helped.","title":"403 Web Parsing Error while parsing Web Content using Jsoup","body":"<p>I have a task to parse through the contents of a website and store it in .fsv file in a local drive. I am using Jsoup to read the contents of the webpage and this is how my program looks like. For some reason, in Java I am getting a 403 Forbidden but I am getting the right results in web browsers.\nCode:</p>\n<pre><code>String a =&quot;https://ecorp.sos.ga.gov/&quot;;\nDocument doc = soup.connect(a).userAgent(&quot;Mozilla/5.0&quot;).get();\n                  \nSystem.out.println(&quot;Title is ::: &quot;+doc.title());\n// System.out.println(&quot;Body is ::: &quot;+doc.body().text());\nElements newsHeadlines = doc.select(&quot;#mp-left&quot;);\nfor (Element headline : newsHeadlines) {\n    System.out.println(&quot;title is :::&quot;+headline.attr(&quot;title&quot;)\n        +&quot; and url is ::::  &quot;+ headline.absUrl(&quot;href&quot;));\n}\n</code></pre>\n<blockquote>\n<p>Error:\nException in thread &quot;main&quot; org.jsoup.HttpStatusException: HTTP error fetching URL. Status=403, URL=[https://ecorp.sos.ga.gov/]</p>\n</blockquote>\n<p>I have gone through some of the existing resolution for similar errors, but it did not helped.</p>\n"},{"tags":["java","postgresql","jpa","jakarta-ee","psql"],"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1568822528,"post_id":57995814,"comment_id":102400067,"body_markdown":"If you want to use `trigger` you have to manage it into the database engine ; if you want to handle it into the `application` level, you may run two SQL request into the same `transaction`, first request will be the job and the second one the job done by the trigger.","body":"If you want to use <code>trigger</code> you have to manage it into the database engine ; if you want to handle it into the <code>application</code> level, you may run two SQL request into the same <code>transaction</code>, first request will be the job and the second one the job done by the trigger."},{"owner":{"account_id":16635858,"reputation":2072,"user_id":12022565,"display_name":"Islingre"},"score":0,"creation_date":1568823435,"post_id":57995814,"comment_id":102400467,"body_markdown":"You have access to the ```OLD``` record (which holds the deleted lines) in such a trigger. Is this what you want?","body":"You have access to the <code>OLD</code> record (which holds the deleted lines) in such a trigger. Is this what you want?"},{"owner":{"account_id":12144439,"reputation":303,"user_id":8867239,"display_name":"yaw"},"score":0,"creation_date":1568874392,"post_id":57995814,"comment_id":102414653,"body_markdown":"@Islingre no, I want to get userId, who delete the record from the application level. I don&#39;t know how to pass it to the postgres, and I can&#39;t access this using `OLD`","body":"@Islingre no, I want to get userId, who delete the record from the application level. I don&#39;t know how to pass it to the postgres, and I can&#39;t access this using <code>OLD</code>"},{"owner":{"account_id":275648,"reputation":21155,"user_id":568635,"accept_rate":100,"display_name":"Eelke"},"score":0,"creation_date":1569338922,"post_id":57995814,"comment_id":102561309,"body_markdown":"Use a custom session variable [see](https://dba.stackexchange.com/questions/97095/set-session-custom-variable-to-store-user-id)","body":"Use a custom session variable <a href=\"https://dba.stackexchange.com/questions/97095/set-session-custom-variable-to-store-user-id\">see</a>"}],"answers":[{"tags":[],"owner":{"account_id":347143,"reputation":17443,"user_id":681084,"display_name":"Kirk Roybal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1569336743,"creation_date":1569336743,"answer_id":58083043,"question_id":57995814,"body_markdown":"You have a couple of choices here.  \r\n 1.  You can set the application_name environment variable to the user name, and then retrieve it in the trigger.\r\n 2.  You can expand the table by a column, and send the user name to the database in the insert/update/delete statements.\r\n\r\n```sql\r\nSET application_name = &#39;user name&#39;;\r\n\r\n-- in the trigger:\r\n\r\nSELECT application_name FROM pg_stat_activity WHERE pid = pg_backend_pid();\r\n```\r\n\r\nor\r\n\r\n```sql\r\nALTER TABLE t ADD COLUMN user_name text;\r\n\r\n-- and in the trigger (depending on context):\r\n\r\nmy_user := NEW.user_name;\r\nor\r\nmy_user := OLD.user_name;\r\n\r\n```\r\n","title":"How should i pass a userId(or other parameter) to PSQL trigger AFTER DELETE?","body":"<p>You have a couple of choices here.<br>\n 1.  You can set the application_name environment variable to the user name, and then retrieve it in the trigger.\n 2.  You can expand the table by a column, and send the user name to the database in the insert/update/delete statements.</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SET application_name = 'user name';\n\n-- in the trigger:\n\nSELECT application_name FROM pg_stat_activity WHERE pid = pg_backend_pid();\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER TABLE t ADD COLUMN user_name text;\n\n-- and in the trigger (depending on context):\n\nmy_user := NEW.user_name;\nor\nmy_user := OLD.user_name;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661809039,"creation_date":1661807534,"answer_id":73534705,"question_id":57995814,"body_markdown":"I found another solution to this problem. My approach is the following:\r\n\r\nI&#39;m passing the username in the delete query as follows:\r\n\r\n    DELETE FROM products_images\r\n    WHERE id = #{id}\r\n    OR (SELECT false WHERE &#39;xusername&#39; = &#39;${xusername}&#39;)\r\n\r\n\r\nThen at the trigger level, I&#39;m extracting the username value using:\r\n\r\n    (SELECT SUBSTRING(current_query(), &#39;&#39;&#39;xusername&#39;&#39; = &#39;&#39;(.*)&#39;&#39;&#39;))\r\n\r\n\r\n---\r\n\r\n    CREATE OR REPLACE FUNCTION version_product_image()\r\n      RETURNS TRIGGER AS $$\r\n    BEGIN\r\n    \tIF TG_OP = &#39;DELETE&#39; THEN\r\n    \t\tINSERT INTO versioning.products_images (id,product_id,relative_location,is_main,creation_time,username,action)\r\n    \t\tVALUES(OLD.id,OLD.product_id,OLD.relative_location,OLD.is_main,CURRENT_TIMESTAMP,(SELECT SUBSTRING(current_query(), &#39;&#39;&#39;xusername&#39;&#39; = &#39;&#39;(.*)&#39;&#39;&#39;)),TG_OP);\r\n    \tELSE\r\n    \t\tINSERT INTO versioning.products_images (id,product_id,relative_location,is_main,creation_time,username,action)\r\n    \t\tVALUES(NEW.id,NEW.product_id,NEW.relative_location,NEW.is_main,CURRENT_TIMESTAMP,NEW.username,TG_OP);\r\n    \tEND IF;\r\n    RETURN NEW;\r\n    END;\r\n    $$\r\n    LANGUAGE &#39;plpgsql&#39;;\r\n\r\nNote that in order for this to work, you have to pass the username as value, not as parameter.\r\n\r\nAlso note that I&#39;ve only tested this with direct delete queries. Haven&#39;t tested it yet with cascades.\r\n","title":"How should i pass a userId(or other parameter) to PSQL trigger AFTER DELETE?","body":"<p>I found another solution to this problem. My approach is the following:</p>\n<p>I'm passing the username in the delete query as follows:</p>\n<pre><code>DELETE FROM products_images\nWHERE id = #{id}\nOR (SELECT false WHERE 'xusername' = '${xusername}')\n</code></pre>\n<p>Then at the trigger level, I'm extracting the username value using:</p>\n<pre><code>(SELECT SUBSTRING(current_query(), '''xusername'' = ''(.*)'''))\n</code></pre>\n<hr />\n<pre><code>CREATE OR REPLACE FUNCTION version_product_image()\n  RETURNS TRIGGER AS $$\nBEGIN\n    IF TG_OP = 'DELETE' THEN\n        INSERT INTO versioning.products_images (id,product_id,relative_location,is_main,creation_time,username,action)\n        VALUES(OLD.id,OLD.product_id,OLD.relative_location,OLD.is_main,CURRENT_TIMESTAMP,(SELECT SUBSTRING(current_query(), '''xusername'' = ''(.*)''')),TG_OP);\n    ELSE\n        INSERT INTO versioning.products_images (id,product_id,relative_location,is_main,creation_time,username,action)\n        VALUES(NEW.id,NEW.product_id,NEW.relative_location,NEW.is_main,CURRENT_TIMESTAMP,NEW.username,TG_OP);\n    END IF;\nRETURN NEW;\nEND;\n$$\nLANGUAGE 'plpgsql';\n</code></pre>\n<p>Note that in order for this to work, you have to pass the username as value, not as parameter.</p>\n<p>Also note that I've only tested this with direct delete queries. Haven't tested it yet with cascades.</p>\n"}],"owner":{"account_id":12144439,"reputation":303,"user_id":8867239,"display_name":"yaw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58083043,"answer_count":2,"score":1,"last_activity_date":1661809039,"creation_date":1568818956,"question_id":57995814,"body_markdown":"I want to pass a parameter into a trigger function, which invokes AFTER DELETE of entity record in my database. Is there any way to do it on application-level? Is there a solution using &quot;SET&quot; operation? Or maybe I can add a parameter to the same transaction, which is used on delete operation?","title":"How should i pass a userId(or other parameter) to PSQL trigger AFTER DELETE?","body":"<p>I want to pass a parameter into a trigger function, which invokes AFTER DELETE of entity record in my database. Is there any way to do it on application-level? Is there a solution using \"SET\" operation? Or maybe I can add a parameter to the same transaction, which is used on delete operation?</p>\n"},{"tags":["java","spring","oracle","hibernate"],"comments":[{"owner":{"account_id":454380,"reputation":4451,"user_id":851930,"display_name":"kevinskio"},"score":0,"creation_date":1427314356,"post_id":29265184,"comment_id":46732905,"body_markdown":"does your hibernate version have a driver for your oracle version?","body":"does your hibernate version have a driver for your oracle version?"}],"answers":[{"tags":[],"owner":{"account_id":4307956,"reputation":141,"user_id":3519855,"display_name":"leolegas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1427319155,"creation_date":1427315442,"answer_id":29265911,"question_id":29265184,"body_markdown":"You should add oracle jdbc driver in your pom.xml.\r\nI could not find it at maven central repository.\r\n\r\nMaybe you need add it manually like described here:\r\nhttp://www.mkyong.com/maven/how-to-add-oracle-jdbc-driver-in-your-maven-local-repository/\r\n\r\nTo install your Oracle jdbc driver, issue following command:\r\n\r\n    mvn install:install-file -Dfile={Path/to/your/ojdbc.jar} -DgroupId=com.oracle -DartifactId=ojdbc6 -Dversion=11.2.0 -Dpackaging=jar\r\n\r\npom.xml\r\n\r\n    &lt;!-- ORACLE database driver --&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;11.2.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nEDIT: or just add oracle jdbc lib in your project and references it.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;sample&lt;/groupId&gt;\r\n        &lt;artifactId&gt;com.sample&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${project.basedir}/custom_libs/yourJar.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;","title":"Change backend: Adapt jpaContext.xml for use with Hibernate and Oracle instead of MYSQL","body":"<p>You should add oracle jdbc driver in your pom.xml.\nI could not find it at maven central repository.</p>\n\n<p>Maybe you need add it manually like described here:\n<a href=\"http://www.mkyong.com/maven/how-to-add-oracle-jdbc-driver-in-your-maven-local-repository/\" rel=\"nofollow\">http://www.mkyong.com/maven/how-to-add-oracle-jdbc-driver-in-your-maven-local-repository/</a></p>\n\n<p>To install your Oracle jdbc driver, issue following command:</p>\n\n<pre><code>mvn install:install-file -Dfile={Path/to/your/ojdbc.jar} -DgroupId=com.oracle -DartifactId=ojdbc6 -Dversion=11.2.0 -Dpackaging=jar\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;!-- ORACLE database driver --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n    &lt;version&gt;11.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>EDIT: or just add oracle jdbc lib in your project and references it.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;sample&lt;/groupId&gt;\n    &lt;artifactId&gt;com.sample&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/custom_libs/yourJar.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":38253,"reputation":23880,"user_id":109676,"accept_rate":80,"display_name":"Chad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29265911,"answer_count":1,"score":0,"last_activity_date":1661808809,"creation_date":1427312971,"question_id":29265184,"body_markdown":"I went through a Pluralsight video Spring with JPA and Hibernate video and got a HelloWorld &quot;FitnessTracker&quot; app to work against a local MySQL instance and now I am trying to convert it over to use an Oracle database. \r\n\r\nI am getting the error show below. I copied the connection-specific information from a working program that used the SimpleJdbcInsert class (not Hibernate), in the event that this is helpful. That program was able to successfully connect to the database.\r\n\r\nHere&#39;s the error I am getting using Hibernate and Oracle:\r\n\r\n    Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\r\n\r\nHere&#39;s my jpaContext.xml file:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd\r\n    \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd&quot;&gt;\r\n    \r\n    \r\n    \t&lt;!-- This says &quot;I want to use Annotations&quot;. We could scan repo and services separately, but let&#39;s do all --&gt;\r\n     \t&lt;context:annotation-config /&gt; \r\n    \t&lt;context:component-scan base-package=&quot;com.pluralsight&quot;/&gt;\r\n    \t\r\n    \t&lt;!-- Tells Spring to use the persistence context annotation&quot; --&gt;\r\n     \t&lt;bean class=&quot;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot; /&gt; \r\n    \t\r\n    \t&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;punit&quot;/&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n    \t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n    \t\t\t\t&lt;property name=&quot;showSql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/property&gt; \r\n    \t\t\r\n    \t\t&lt;!-- Properties specific to Hibernate --&gt;\r\n    \t\t&lt;property name=&quot;jpaPropertyMap&quot;&gt;\r\n    \t\t\t&lt;map&gt;\r\n    &lt;!--  \t\t    &lt;entry key=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;&gt;&lt;/entry&gt;  --&gt;\r\n     \t\t\t\t&lt;entry key=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot;&gt;&lt;/entry&gt; \t\t\t\t\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot;/&gt;\r\n    &lt;!-- \t\t    &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt; --&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;/map&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;!-- We will configure transactions using annotations --&gt;\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n    \t\r\n    \t\r\n    \t&lt;!-- For production purposes we should use a connection pool or a JNDI look up, WTF that is... --&gt;\r\n    \t&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    &lt;!-- \t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; --&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;/&gt;\r\n    \t\t\r\n    \t\t&lt;!-- my schema name was all lowercase unlike demo --&gt;\r\n    &lt;!-- \t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/fitnesstracker?autoReconnect=true&quot;/&gt; --&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@servername.sys.mycompany.com:1600:Service&quot;/&gt;\r\n    \t\t \r\n    &lt;!-- \t\t&lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt; --&gt;\r\n    &lt;!-- \t\t&lt;property name=&quot;password&quot; value=&quot;password&quot;/&gt; --&gt;\r\n    \t\t\r\n    \t\t\t&lt;property name=&quot;username&quot; value=&quot;MyOracleUserId&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;password&quot; value=&quot;MyOraclePassword&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    &lt;/beans&gt;\r\n\r\nMy POM.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.pluralsight&lt;/groupId&gt;\r\n      &lt;artifactId&gt;FitnessTracker&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;FitnessTracker Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.2.6.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.5&lt;/version&gt;\r\n        \t&lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        \t&lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.6.RELEASE&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.1.21&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.1.9.Final&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;classes12&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;12.1.0.1&lt;/version&gt;\r\n    \t\t&lt;scope&gt;system&lt;/scope&gt;\r\n    \t\t&lt;systemPath&gt;C:\\oracle_12101_64bit\\product\\12101_64bit\\CLIENT_1\\dmu\\jlib\\ojdbc6.jar&lt;/systemPath&gt;\t\t\t\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;FitnessTracker&lt;/finalName&gt; \r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe full error log is:\r\n\r\n    Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\r\n    \r\n    \r\n    SEVERE: Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [jpaContext.xml]: Cannot resolve reference to bean &#39;dataSource&#39; while setting bean property &#39;dataSource&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [jpaContext.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\r\n    PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property &#39;driverClassName&#39; threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:326)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1417)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1158)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5016)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5524)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [jpaContext.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\r\n    PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property &#39;driverClassName&#39; threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1453)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1158)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:320)\r\n    \t... 24 more\r\n    Caused by: org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\r\n    PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property &#39;driverClassName&#39; threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\r\n    \tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:101)\r\n    \tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:57)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1450)\r\n    \t... 32 more\r\n    \r\n    Mar 25, 2015 3:39:49 PM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [jpaContext.xml]: Cannot resolve reference to bean &#39;dataSource&#39; while setting bean property &#39;dataSource&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [jpaContext.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\r\n    PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property &#39;driverClassName&#39; threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:326)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1417)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1158)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5016)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5524)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [jpaContext.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\r\n    PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property &#39;driverClassName&#39; threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1453)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1158)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:320)\r\n    \t... 24 more\r\n    Caused by: org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\r\n    PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property &#39;driverClassName&#39; threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\r\n    \tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:101)\r\n    \tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:57)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1450)\r\n    \t... 32 more\r\n    \r\n    Mar 25, 2015 3:39:49 PM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: Error listenerStart\r\n    Mar 25, 2015 3:39:50 PM org.apache.catalina.util.SessionIdGeneratorBase createSecureRandom\r\n    INFO: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [180] milliseconds.\r\n    Mar 25, 2015 3:39:50 PM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: Context [/FitnessTracker] startup failed due to previous errors\r\n    Mar 25, 2015 3:39:50 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Closing Spring root WebApplicationContext\r\n    Mar 25, 2015 3:39:50 PM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-bio-8081&quot;]\r\n    Mar 25, 2015 3:39:50 PM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Mar 25, 2015 3:39:50 PM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 3601 ms\r\n\r\n","title":"Change backend: Adapt jpaContext.xml for use with Hibernate and Oracle instead of MYSQL","body":"<p>I went through a Pluralsight video Spring with JPA and Hibernate video and got a HelloWorld &quot;FitnessTracker&quot; app to work against a local MySQL instance and now I am trying to convert it over to use an Oracle database.</p>\n<p>I am getting the error show below. I copied the connection-specific information from a working program that used the SimpleJdbcInsert class (not Hibernate), in the event that this is helpful. That program was able to successfully connect to the database.</p>\n<p>Here's the error I am getting using Hibernate and Oracle:</p>\n<pre><code>Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\n</code></pre>\n<p>Here's my jpaContext.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd&quot;&gt;\n\n\n    &lt;!-- This says &quot;I want to use Annotations&quot;. We could scan repo and services separately, but let's do all --&gt;\n    &lt;context:annotation-config /&gt; \n    &lt;context:component-scan base-package=&quot;com.pluralsight&quot;/&gt;\n    \n    &lt;!-- Tells Spring to use the persistence context annotation&quot; --&gt;\n    &lt;bean class=&quot;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot; /&gt; \n    \n    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;punit&quot;/&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\n                &lt;property name=&quot;showSql&quot; value=&quot;true&quot; /&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt; \n        \n        &lt;!-- Properties specific to Hibernate --&gt;\n        &lt;property name=&quot;jpaPropertyMap&quot;&gt;\n            &lt;map&gt;\n&lt;!--            &lt;entry key=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;&gt;&lt;/entry&gt;  --&gt;\n                &lt;entry key=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot;&gt;&lt;/entry&gt;              \n                &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot;/&gt;\n&lt;!--            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt; --&gt;\n                &lt;entry key=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\n        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- We will configure transactions using annotations --&gt;\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\n    \n    \n    &lt;!-- For production purposes we should use a connection pool or a JNDI look up, WTF that is... --&gt;\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n&lt;!--    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; --&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;/&gt;\n        \n        &lt;!-- my schema name was all lowercase unlike demo --&gt;\n&lt;!--    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/fitnesstracker?autoReconnect=true&quot;/&gt; --&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@servername.sys.mycompany.com:1600:Service&quot;/&gt;\n         \n&lt;!--        &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt; --&gt;\n&lt;!--        &lt;property name=&quot;password&quot; value=&quot;password&quot;/&gt; --&gt;\n        \n            &lt;property name=&quot;username&quot; value=&quot;MyOracleUserId&quot;/&gt;\n            &lt;property name=&quot;password&quot; value=&quot;MyOraclePassword&quot;/&gt;\n    &lt;/bean&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>My POM.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.pluralsight&lt;/groupId&gt;\n  &lt;artifactId&gt;FitnessTracker&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;FitnessTracker Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;3.2.6.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n        &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n        &lt;version&gt;3.2.6.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.21&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;4.1.9.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n        &lt;artifactId&gt;jta&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;classes12&lt;/artifactId&gt;\n        &lt;version&gt;12.1.0.1&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;C:\\oracle_12101_64bit\\product\\12101_64bit\\CLIENT_1\\dmu\\jlib\\ojdbc6.jar&lt;/systemPath&gt;         \n    &lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;FitnessTracker&lt;/finalName&gt; \n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The full error log is:</p>\n<pre><code>Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\n\n\nSEVERE: Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [jpaContext.xml]: Cannot resolve reference to bean 'dataSource' while setting bean property 'dataSource'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [jpaContext.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'driverClassName' threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:326)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1417)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1158)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5016)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5524)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [jpaContext.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'driverClassName' threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1453)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1158)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:320)\n    ... 24 more\nCaused by: org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'driverClassName' threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:101)\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:57)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1450)\n    ... 32 more\n\nMar 25, 2015 3:39:49 PM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [jpaContext.xml]: Cannot resolve reference to bean 'dataSource' while setting bean property 'dataSource'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [jpaContext.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'driverClassName' threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:326)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1417)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1158)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5016)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5524)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [jpaContext.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'driverClassName' threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1453)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1158)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:320)\n    ... 24 more\nCaused by: org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'driverClassName' threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [oracle.jdbc.driver.OracleDriver]\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:101)\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:57)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1450)\n    ... 32 more\n\nMar 25, 2015 3:39:49 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Error listenerStart\nMar 25, 2015 3:39:50 PM org.apache.catalina.util.SessionIdGeneratorBase createSecureRandom\nINFO: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [180] milliseconds.\nMar 25, 2015 3:39:50 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [/FitnessTracker] startup failed due to previous errors\nMar 25, 2015 3:39:50 PM org.apache.catalina.core.ApplicationContext log\nINFO: Closing Spring root WebApplicationContext\nMar 25, 2015 3:39:50 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [&quot;http-bio-8081&quot;]\nMar 25, 2015 3:39:50 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\nMar 25, 2015 3:39:50 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 3601 ms\n</code></pre>\n"},{"tags":["java","android","android-mediasession"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1661823425,"post_id":73534877,"comment_id":129857642,"body_markdown":"Did you keep reading down that page where it talks about [applying a grid content style](https://developer.android.com/training/cars/media#apply_content_style)?","body":"Did you keep reading down that page where it talks about <a href=\"https://developer.android.com/training/cars/media#apply_content_style\" rel=\"nofollow noreferrer\">applying a grid content style</a>?"},{"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"score":0,"creation_date":1661844377,"post_id":73534877,"comment_id":129861328,"body_markdown":"Of course, but I want the icons in the header. Like Home, Recently, Browse.","body":"Of course, but I want the icons in the header. Like Home, Recently, Browse."}],"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661808662,"creation_date":1661808662,"question_id":73534877,"body_markdown":"I&#39;m working on an android auto media app and want to structure the root menu with icons instead of text.\r\nLike in the documentation see [here][1].\r\nHow can I achieve this? My example below converts an png from drawable into bitmap.\r\nThe tabs of root menu remain black.\r\n\r\nI got the same result, using an `uri` instead of bitmap.\r\n\r\n    Bitmap bitmap = BitmapFactory.decodeResource(getInstance().getResources(), R.drawable.recently_played);\r\n    MediaDescriptionCompat desc =\r\n         new MediaDescriptionCompat.Builder()\r\n              .setMediaId(HEADER)\r\n              .setIconBitmap(bitmap)\r\n              .build();\r\n\r\n\r\nHow can I place an drawable as icon in root menu of android auto?\r\n\r\nMany Thanks,\r\nAlejandro\r\n\r\n  [1]: https://developer.android.com/training/cars/media#root-menu-structure","title":"Android Auto - how to show icons instead of text in root menu","body":"<p>I'm working on an android auto media app and want to structure the root menu with icons instead of text.\nLike in the documentation see <a href=\"https://developer.android.com/training/cars/media#root-menu-structure\" rel=\"nofollow noreferrer\">here</a>.\nHow can I achieve this? My example below converts an png from drawable into bitmap.\nThe tabs of root menu remain black.</p>\n<p>I got the same result, using an <code>uri</code> instead of bitmap.</p>\n<pre><code>Bitmap bitmap = BitmapFactory.decodeResource(getInstance().getResources(), R.drawable.recently_played);\nMediaDescriptionCompat desc =\n     new MediaDescriptionCompat.Builder()\n          .setMediaId(HEADER)\n          .setIconBitmap(bitmap)\n          .build();\n</code></pre>\n<p>How can I place an drawable as icon in root menu of android auto?</p>\n<p>Many Thanks,\nAlejandro</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-kafka","event-listener"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661807746,"creation_date":1661807746,"answer_id":73534736,"question_id":73534595,"body_markdown":"See [Filtering Messages](https://docs.spring.io/spring-kafka/docs/current/reference/html/#filtering-messages).\r\n\r\n&gt;The Spring for Apache Kafka project also provides some assistance by means of the `FilteringMessageListenerAdapter` class, which can wrap your `MessageListener`. This class takes an implementation of `RecordFilterStrategy` in which you implement the filter method to signal that a message is a duplicate and should be discarded. This has an additional property called `ackDiscarded`, which indicates whether the adapter should acknowledge the discarded record. It is false by default.\r\n\r\n&gt;When you use `@KafkaListener`, set the `RecordFilterStrategy` (and optionally ackDiscarded) on the container factory so that the listener is wrapped in the appropriate filtering adapter.\r\n\r\n&gt;In addition, a `FilteringBatchMessageListenerAdapter` is provided, for when you use a batch message listener.\r\n\r\n&gt;Starting with version 2.8.4, you can override the listener container factory’s default `RecordFilterStrategy` (if any) by using the `filter` property on the listener annotations.\r\n\r\n```java\r\n@KafkaListener(id = &quot;filtered&quot;, topics = &quot;topic&quot;, filter = &quot;differentFilter&quot;)\r\npublic void listen(Thing thing) {\r\n    ...\r\n}\r\n```","title":"While using @KafkaListener, is there a way for it to only get triggered based on a key of a message present in a kafka topic?","body":"<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#filtering-messages\" rel=\"nofollow noreferrer\">Filtering Messages</a>.</p>\n<blockquote>\n<p>The Spring for Apache Kafka project also provides some assistance by means of the <code>FilteringMessageListenerAdapter</code> class, which can wrap your <code>MessageListener</code>. This class takes an implementation of <code>RecordFilterStrategy</code> in which you implement the filter method to signal that a message is a duplicate and should be discarded. This has an additional property called <code>ackDiscarded</code>, which indicates whether the adapter should acknowledge the discarded record. It is false by default.</p>\n</blockquote>\n<blockquote>\n<p>When you use <code>@KafkaListener</code>, set the <code>RecordFilterStrategy</code> (and optionally ackDiscarded) on the container factory so that the listener is wrapped in the appropriate filtering adapter.</p>\n</blockquote>\n<blockquote>\n<p>In addition, a <code>FilteringBatchMessageListenerAdapter</code> is provided, for when you use a batch message listener.</p>\n</blockquote>\n<blockquote>\n<p>Starting with version 2.8.4, you can override the listener container factory’s default <code>RecordFilterStrategy</code> (if any) by using the <code>filter</code> property on the listener annotations.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(id = &quot;filtered&quot;, topics = &quot;topic&quot;, filter = &quot;differentFilter&quot;)\npublic void listen(Thing thing) {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":25894026,"reputation":11,"user_id":19620934,"display_name":"crzOne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":936,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661807746,"creation_date":1661806794,"question_id":73534595,"body_markdown":"The below consumerListener() gets triggered for all messages being sent in the topic &#39;test_topic&#39;, but I would like it to only get triggered if the key of the message in the topic is &#39;Initiate&#39;.\r\n\r\nCurrently, I am able to do it as shown below, but is there a better way?\r\n\r\n```\r\n@KafkaListener(topics = &quot;test_topic&quot;, groupId = &quot;group_id&quot;)\r\npublic void consumerListener(ConsumerRecord&lt;String, MessageModel&gt; message) throws IOException {\r\n\t\r\n\tif(message.key().equals(&quot;Initiate&quot;){\r\n\t\tbusinessFunctionality(message.value());\t\r\n\t}\r\n}\r\n```","title":"While using @KafkaListener, is there a way for it to only get triggered based on a key of a message present in a kafka topic?","body":"<p>The below consumerListener() gets triggered for all messages being sent in the topic 'test_topic', but I would like it to only get triggered if the key of the message in the topic is 'Initiate'.</p>\n<p>Currently, I am able to do it as shown below, but is there a better way?</p>\n<pre><code>@KafkaListener(topics = &quot;test_topic&quot;, groupId = &quot;group_id&quot;)\npublic void consumerListener(ConsumerRecord&lt;String, MessageModel&gt; message) throws IOException {\n    \n    if(message.key().equals(&quot;Initiate&quot;){\n        businessFunctionality(message.value()); \n    }\n}\n</code></pre>\n"},{"tags":["java","aspectj","micrometer"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1661244458,"post_id":73455509,"comment_id":129719275,"body_markdown":"`setTimedAspect` is not getting called and thus `TimedAspect timedAspect` property remains `null` which in turn causes NPE","body":"<code>setTimedAspect</code> is not getting called and thus <code>TimedAspect timedAspect</code> property remains <code>null</code> which in turn causes NPE"},{"owner":{"account_id":48178,"reputation":434,"user_id":143013,"display_name":"R. van Twisk"},"score":0,"creation_date":1661247450,"post_id":73455509,"comment_id":129720377,"body_markdown":"@NikolaiShevchenko thank you for your time, I have updated the code and added it to the log. `TimedAspect` is set correctly, the log also shows that the exceptions in the method `TimedAspect.perform(..)`","body":"@NikolaiShevchenko thank you for your time, I have updated the code and added it to the log. <code>TimedAspect</code> is set correctly, the log also shows that the exceptions in the method <code>TimedAspect.perform(..)</code>"}],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661807472,"creation_date":1661472132,"answer_id":73494771,"question_id":73455509,"body_markdown":"So you are getting an exception that the `@Timed` annotation is missing because the third party library does not use the `@Timed` annotation. :)\r\n\r\nYou can do a few things:\r\n 1. Wrap the third party lib and annotate your wrapper with `@Timed`\r\n 2. `timer.record(() -&gt; dontCareAboutReturnValue());` or `timer.recordCallable(() -&gt; returnValue());` see the [docs](https://micrometer.io/docs/concepts#_timers)\r\n 3. Instrument manually with Timer.Sample, see the [docs](https://micrometer.io/docs/concepts#_storing_start_state_in_timer_sample)","title":"Using a TimedAspect/@Timed to time methods in third party libraries using micrometer","body":"<p>So you are getting an exception that the <code>@Timed</code> annotation is missing because the third party library does not use the <code>@Timed</code> annotation. :)</p>\n<p>You can do a few things:</p>\n<ol>\n<li>Wrap the third party lib and annotate your wrapper with <code>@Timed</code></li>\n<li><code>timer.record(() -&gt; dontCareAboutReturnValue());</code> or <code>timer.recordCallable(() -&gt; returnValue());</code> see the <a href=\"https://micrometer.io/docs/concepts#_timers\" rel=\"nofollow noreferrer\">docs</a></li>\n<li>Instrument manually with Timer.Sample, see the <a href=\"https://micrometer.io/docs/concepts#_storing_start_state_in_timer_sample\" rel=\"nofollow noreferrer\">docs</a></li>\n</ol>\n"}],"owner":{"account_id":48178,"reputation":434,"user_id":143013,"display_name":"R. van Twisk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661807472,"creation_date":1661243724,"question_id":73455509,"body_markdown":"I am trying to use micrometer&#39;s `@Timed` to time a few methods in a third party external library.\r\n\r\nFor testing I am using the below Aspect. This works fine and my Pointcut works (see below&#39;s log) \r\nHowever, I am getting a `nullpointer` exception because the `perform` method is looking for the `@Timed` annotation on the method, when this is not available the result is a nullpointer exception.\r\n\r\nQuestion: (By lack of better wording..) Is there a way using a pointcut to add the @Timed information so the perform method will record the metric? \r\n\r\nThis is the location of the nullpointer exception : https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/aop/TimedAspect.java#L192\r\n\r\n\r\n```java\r\n@Aspect\r\npublic class TestAspect {\r\n    private static final Logger log = LoggerFactory.getLogger(TestAspect.class);\r\n\r\n    private TimedAspect timedAspect;\r\n\r\n    public void setTimedAspect(TimedAspect timedAspect) {\r\n        this.timedAspect = timedAspect;\r\n    }\r\n\r\n    @Pointcut(&quot;execution(* com..calledFromPublicMethod(..))&quot;)\r\n    public void calledFromPublicMethod() {\r\n    }\r\n\r\n    @Around(&quot;calledFromPublicMethod()&quot;)\r\n    public Object calledFromPublicMethod(ProceedingJoinPoint pjp) throws Throwable {\r\n        log.info(&quot;promHistogramWithOutcome_Timed run {}&quot;, timedAspect);\r\n        return timedAspect.timedMethod(pjp);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n2022-08-23 11:34:52.671  INFO 12580 --- [nio-8080-exec-1] c.example.springboot.aspects.TestAspect  : promHistogramWithOutcome_Timed run io.micrometer.core.aop.TimedAspect@7d3ca5c\r\n2022-08-23 11:34:52.689 ERROR 12580 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n\r\njava.lang.NullPointerException: null\r\n\tat io.micrometer.core.aop.TimedAspect.perform(TimedAspect.java:192) ~[micrometer-core-1.9.1.jar:1.9.1]\r\n\tat io.micrometer.core.aop.TimedAspect.timedMethod(TimedAspect.java:188) ~[micrometer-core-1.9.1.jar:1.9.1]\r\n\tat com.example.springboot.aspects.TestAspect.calledFromPublicMethod(TestAspect.java:37) ~[unwoven-classes/:na]\r\n\tat com.rvt.test.bare.BareClassExample.calledFromPublicMethod(BareClassExample.java:16) ~[unwoven-classes/:na]\r\n```\r\n","title":"Using a TimedAspect/@Timed to time methods in third party libraries using micrometer","body":"<p>I am trying to use micrometer's <code>@Timed</code> to time a few methods in a third party external library.</p>\n<p>For testing I am using the below Aspect. This works fine and my Pointcut works (see below's log)\nHowever, I am getting a <code>nullpointer</code> exception because the <code>perform</code> method is looking for the <code>@Timed</code> annotation on the method, when this is not available the result is a nullpointer exception.</p>\n<p>Question: (By lack of better wording..) Is there a way using a pointcut to add the @Timed information so the perform method will record the metric?</p>\n<p>This is the location of the nullpointer exception : <a href=\"https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/aop/TimedAspect.java#L192\" rel=\"nofollow noreferrer\">https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/aop/TimedAspect.java#L192</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class TestAspect {\n    private static final Logger log = LoggerFactory.getLogger(TestAspect.class);\n\n    private TimedAspect timedAspect;\n\n    public void setTimedAspect(TimedAspect timedAspect) {\n        this.timedAspect = timedAspect;\n    }\n\n    @Pointcut(&quot;execution(* com..calledFromPublicMethod(..))&quot;)\n    public void calledFromPublicMethod() {\n    }\n\n    @Around(&quot;calledFromPublicMethod()&quot;)\n    public Object calledFromPublicMethod(ProceedingJoinPoint pjp) throws Throwable {\n        log.info(&quot;promHistogramWithOutcome_Timed run {}&quot;, timedAspect);\n        return timedAspect.timedMethod(pjp);\n    }\n}\n</code></pre>\n<pre><code>2022-08-23 11:34:52.671  INFO 12580 --- [nio-8080-exec-1] c.example.springboot.aspects.TestAspect  : promHistogramWithOutcome_Timed run io.micrometer.core.aop.TimedAspect@7d3ca5c\n2022-08-23 11:34:52.689 ERROR 12580 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\n\njava.lang.NullPointerException: null\n    at io.micrometer.core.aop.TimedAspect.perform(TimedAspect.java:192) ~[micrometer-core-1.9.1.jar:1.9.1]\n    at io.micrometer.core.aop.TimedAspect.timedMethod(TimedAspect.java:188) ~[micrometer-core-1.9.1.jar:1.9.1]\n    at com.example.springboot.aspects.TestAspect.calledFromPublicMethod(TestAspect.java:37) ~[unwoven-classes/:na]\n    at com.rvt.test.bare.BareClassExample.calledFromPublicMethod(BareClassExample.java:16) ~[unwoven-classes/:na]\n</code></pre>\n"},{"tags":["java","json","aws-lambda","cloudevents"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1661768243,"post_id":73527234,"comment_id":129842022,"body_markdown":"Please reformat your question as the formatting seems to be incorrect.","body":"Please reformat your question as the formatting seems to be incorrect."},{"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"score":0,"creation_date":1663148333,"post_id":73527234,"comment_id":130168920,"body_markdown":"If you change the code from CloudEvent to String and log the input what does it look like?","body":"If you change the code from CloudEvent to String and log the input what does it look like?"}],"owner":{"account_id":7989209,"reputation":97,"user_id":6027579,"accept_rate":33,"display_name":"krisrr3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661807186,"creation_date":1661767873,"question_id":73527234,"body_markdown":"I a have a Lambda function (java), which get triggered from Confluent Cloud Lambda Connector.\r\n\r\nThe Lambda is being triggered but is failing because of deserialization errors.\r\n\r\nThe signature is as follows\r\n     \r\n    public class App implements RequestHandler&lt;CloudEvent, Map&lt;String, String&gt;&gt; {\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(App.class);\r\n\r\n    public Map&lt;String,String&gt; handleRequest(CloudEvent event, Context context) {\r\n\r\n\r\nThe error is \r\n\r\n```\r\njava.lang.RuntimeException: An error occurred during JSON parsing\r\nCaused by: java.io.UncheckedIOException: &gt;com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of io.cloudevents.CloudEvent (no Creators, like default construct, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n at [Source: (ByteArrayInputStream); line: 1, column: 1]\r\n\tat &gt;com.amazonaws.services.lambda.runtime.serialization.factories.JacksonFactory$InternalSerializer.fromJson(JacksonFactory.java:184)\r\nCaused by: com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of io.cloudevents.CloudEvent (no Creators, like default construct, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n at [Source: (ByteArrayInputStream); line: 1, column: 1]\r\n\tat com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\r\n\tat com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1592)\r\n\tat com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1058)\r\n\tat com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserialize(AbstractDeserializer.java:265)\r\n\tat com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1719)\r\n\tat com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1228)\r\n\tat com.amazonaws.services.lambda.runtime.serialization.factories.JacksonFactory$InternalSerializer.fromJson(JacksonFactory.java:182)\r\n```\r\n\r\n\r\nHas anyone faced this before and knows how I should tackle it?","title":"Lambda, Java and CloudEvents","body":"<p>I a have a Lambda function (java), which get triggered from Confluent Cloud Lambda Connector.</p>\n<p>The Lambda is being triggered but is failing because of deserialization errors.</p>\n<p>The signature is as follows</p>\n<pre><code>public class App implements RequestHandler&lt;CloudEvent, Map&lt;String, String&gt;&gt; {\nprivate static final Logger logger = LoggerFactory.getLogger(App.class);\n\npublic Map&lt;String,String&gt; handleRequest(CloudEvent event, Context context) {\n</code></pre>\n<p>The error is</p>\n<pre><code>java.lang.RuntimeException: An error occurred during JSON parsing\nCaused by: java.io.UncheckedIOException: &gt;com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of io.cloudevents.CloudEvent (no Creators, like default construct, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (ByteArrayInputStream); line: 1, column: 1]\n    at &gt;com.amazonaws.services.lambda.runtime.serialization.factories.JacksonFactory$InternalSerializer.fromJson(JacksonFactory.java:184)\nCaused by: com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of io.cloudevents.CloudEvent (no Creators, like default construct, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (ByteArrayInputStream); line: 1, column: 1]\n    at com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n    at com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1592)\n    at com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1058)\n    at com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserialize(AbstractDeserializer.java:265)\n    at com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1719)\n    at com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1228)\n    at com.amazonaws.services.lambda.runtime.serialization.factories.JacksonFactory$InternalSerializer.fromJson(JacksonFactory.java:182)\n</code></pre>\n<p>Has anyone faced this before and knows how I should tackle it?</p>\n"},{"tags":["java","spring","spring-boot","keycloak"],"answers":[{"tags":[],"owner":{"account_id":251295,"reputation":3747,"user_id":528578,"accept_rate":89,"display_name":"Jerry Saravia"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1503952475,"creation_date":1503952475,"answer_id":45926963,"question_id":45802797,"body_markdown":"I&#39;ve done something similar in our code. \r\n\r\n    public class AuthenticationTokenProcessingFilter extends GenericFilterBean {\r\n    \r\n            @Override\r\n            public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n    \r\n                if (!(request instanceof HttpServletRequest)) {\r\n                    throw new RuntimeException(&quot;Expecting a HTTP request&quot;);\r\n                }\r\n    \r\n                RefreshableKeycloakSecurityContext context = (RefreshableKeycloakSecurityContext) request.getAttribute(KeycloakSecurityContext.class.getName());\r\n    \r\n                if (context == null) {\r\n                    handleNoSecurityContext(request, response, chain);\r\n                    return;\r\n                }\r\n    \r\n                AccessToken accessToken = context.getToken();\r\n                Integer userId = Integer.parseInt(accessToken.getOtherClaims().get(&quot;user_id&quot;).toString());\r\n    \r\n                chain.doFilter(request, response);\r\n            }\r\n    \r\n    }\r\n\r\nBefore you can do this you must add the `user_id` to the access tokens being issued by keycloak. You can do this through a mapper as shown in the screenshot below.\r\n\r\n[![configuration for property mapper][1]][1]\r\n\r\nAlso, don&#39;t forgot to add the processing filter from above to your application lifecycle by adding a `@Bean` method to your application class.\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude = {FallbackWebSecurityAutoConfiguration.class, SpringBootWebSecurityConfiguration.class, DataSourceAutoConfiguration.class})\r\n    @ComponentScan\r\n    @EnableAsync\r\n    public class MyServiceClass {\r\n    \r\n        public static void main(String[] args) {\r\n            Properties properties = new Properties();\r\n            new SpringApplicationBuilder(MyServiceClass.class)\r\n                    .properties(properties)\r\n                    .bannerMode(Banner.Mode.OFF)\r\n                    .run(args);\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public AuthenticationTokenProcessingFilter authFilter() {\r\n            return new AuthenticationTokenProcessingFilter();\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/Vj7x1.png\r\n","title":"Spring Keycloak: Get User ID","body":"<p>I've done something similar in our code. </p>\n\n<pre><code>public class AuthenticationTokenProcessingFilter extends GenericFilterBean {\n\n        @Override\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n\n            if (!(request instanceof HttpServletRequest)) {\n                throw new RuntimeException(\"Expecting a HTTP request\");\n            }\n\n            RefreshableKeycloakSecurityContext context = (RefreshableKeycloakSecurityContext) request.getAttribute(KeycloakSecurityContext.class.getName());\n\n            if (context == null) {\n                handleNoSecurityContext(request, response, chain);\n                return;\n            }\n\n            AccessToken accessToken = context.getToken();\n            Integer userId = Integer.parseInt(accessToken.getOtherClaims().get(\"user_id\").toString());\n\n            chain.doFilter(request, response);\n        }\n\n}\n</code></pre>\n\n<p>Before you can do this you must add the <code>user_id</code> to the access tokens being issued by keycloak. You can do this through a mapper as shown in the screenshot below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vj7x1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Vj7x1.png\" alt=\"configuration for property mapper\"></a></p>\n\n<p>Also, don't forgot to add the processing filter from above to your application lifecycle by adding a <code>@Bean</code> method to your application class.</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude = {FallbackWebSecurityAutoConfiguration.class, SpringBootWebSecurityConfiguration.class, DataSourceAutoConfiguration.class})\n@ComponentScan\n@EnableAsync\npublic class MyServiceClass {\n\n    public static void main(String[] args) {\n        Properties properties = new Properties();\n        new SpringApplicationBuilder(MyServiceClass.class)\n                .properties(properties)\n                .bannerMode(Banner.Mode.OFF)\n                .run(args);\n    }\n\n\n    @Bean\n    public AuthenticationTokenProcessingFilter authFilter() {\n        return new AuthenticationTokenProcessingFilter();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8520141,"reputation":3492,"user_id":6387370,"accept_rate":55,"display_name":"zakaria amine"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1538993554,"creation_date":1538993554,"answer_id":52700002,"question_id":45802797,"body_markdown":"I found a much simpler solution than the above: \r\n\r\n\r\n        @GetMapping\r\n    \tpublic ResponseEntity getEndpoint(String someParam, HttpServletRequest request) {\r\n    \t\tKeycloakAuthenticationToken principal = (KeycloakAuthenticationToken) request.getUserPrincipal();\r\n    \t\tString userId = principal.getAccount().getKeycloakSecurityContext().getIdToken().getSubject();\r\n    \r\n            //....do something\r\n    \t\t\r\n    \t\treturn new ResponseEntity(HttpStatus.OK);\r\n    \t}\r\n\r\n\r\nI think the exception you are getting above is because you are trying to cast `getRequest().getUserPrincipal()` to `KeycloakPrincipal&lt;KeycloakSecurityContext&gt;` while it is of type `KeycloakAuthenticationToken`, so `((KeycloakAuthenticationToken) getRequest().getUserPrincipal())` would work.","title":"Spring Keycloak: Get User ID","body":"<p>I found a much simpler solution than the above: </p>\n\n<pre><code>    @GetMapping\n    public ResponseEntity getEndpoint(String someParam, HttpServletRequest request) {\n        KeycloakAuthenticationToken principal = (KeycloakAuthenticationToken) request.getUserPrincipal();\n        String userId = principal.getAccount().getKeycloakSecurityContext().getIdToken().getSubject();\n\n        //....do something\n\n        return new ResponseEntity(HttpStatus.OK);\n    }\n</code></pre>\n\n<p>I think the exception you are getting above is because you are trying to cast <code>getRequest().getUserPrincipal()</code> to <code>KeycloakPrincipal&lt;KeycloakSecurityContext&gt;</code> while it is of type <code>KeycloakAuthenticationToken</code>, so <code>((KeycloakAuthenticationToken) getRequest().getUserPrincipal())</code> would work.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661806125,"creation_date":1661805684,"answer_id":73534442,"question_id":45802797,"body_markdown":"All solutions above are using the (very) [deprecated Keycloak Spring adapters][1], which was a solution 2 years ago, but isn&#39;t anymore.\r\n\r\n2 Alternatives to Keycloak Spring adapters, both having very easy way to access-token claims from `Authentication` &quot;auto-magically&quot; injected by Spring as `@Controller` method parameter.\r\n\r\n## `spring-addons-webmvc-jwt-resource-server`\r\n[Sample here][2]: almost everything configurable from properties\r\n```java\r\n    @GetMapping\r\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\r\n    public ResponseEntity getEndpoint(OAuthentication&lt;OpenidClaimSet&gt; auth) {\r\n        final var preferredUsername = auth.getClaims().getPreferredUsername();\r\n        final var subject = auth.getClaims().getSubject();\r\n        //....do something\r\n        return new ResponseEntity(HttpStatus.OK);\r\n    }\r\n```\r\n## `spring-boot-starter-oauth2-resource-server`\r\n[Sample there][3]: requires much more Java config \r\n```java\r\n    @GetMapping\r\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\r\n    public ResponseEntity getEndpoint(JwtAuthenticationToken auth) {\r\n        final var preferredUsername = auth.getToken().getClaimAsString(StandardClaimNames.SUB);\r\n        final var subject = auth.getToken().getClaimAsString(StandardClaimNames.PREFERRED_USERNAME);\r\n        //....do something\r\n        return new ResponseEntity(HttpStatus.OK);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/discussions/10187\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken","title":"Spring Keycloak: Get User ID","body":"<p>All solutions above are using the (very) <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">deprecated Keycloak Spring adapters</a>, which was a solution 2 years ago, but isn't anymore.</p>\n<p>2 Alternatives to Keycloak Spring adapters, both having very easy way to access-token claims from <code>Authentication</code> &quot;auto-magically&quot; injected by Spring as <code>@Controller</code> method parameter.</p>\n<h2><code>spring-addons-webmvc-jwt-resource-server</code></h2>\n<p><a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\" rel=\"nofollow noreferrer\">Sample here</a>: almost everything configurable from properties</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\n    public ResponseEntity getEndpoint(OAuthentication&lt;OpenidClaimSet&gt; auth) {\n        final var preferredUsername = auth.getClaims().getPreferredUsername();\n        final var subject = auth.getClaims().getSubject();\n        //....do something\n        return new ResponseEntity(HttpStatus.OK);\n    }\n</code></pre>\n<h2><code>spring-boot-starter-oauth2-resource-server</code></h2>\n<p><a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">Sample there</a>: requires much more Java config</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\n    public ResponseEntity getEndpoint(JwtAuthenticationToken auth) {\n        final var preferredUsername = auth.getToken().getClaimAsString(StandardClaimNames.SUB);\n        final var subject = auth.getToken().getClaimAsString(StandardClaimNames.PREFERRED_USERNAME);\n        //....do something\n        return new ResponseEntity(HttpStatus.OK);\n    }\n</code></pre>\n"}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29623,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1661806125,"creation_date":1503337043,"question_id":45802797,"body_markdown":"I have developed a Spring Boot Webservice and use Keycloak for Access Management. \r\nThe website stores some userdata in a database. I try to connect these data with the user logged in. \r\n\r\nAt the moment I store the username with the data. But I like to store the user id instead the username. How can I do that? \r\n\r\nI try to get SecurityContext by this: \r\n\r\n    @Bean\r\n\t@Scope(scopeName = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n\tpublic KeycloakSecurityContext getKeycloakSecurityContext() {\r\n\t\treturn ((KeycloakPrincipal&lt;KeycloakSecurityContext&gt;) getRequest().getUserPrincipal()).getKeycloakSecurityContext();\r\n\t}\r\n\r\nBut I get an error: \r\n\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    Error creating bean with name &#39;scopedTarget.getKeycloakSecurityContext&#39;\r\n    defined in com.SiteApplication: Bean instantiation via factory method\r\n    failed; nested exception is\r\n    org.springframework.beans.BeanInstantiationException: Failed to\r\n    instantiate [org.keycloak.KeycloakSecurityContext]: Factory method\r\n    &#39;getKeycloakSecurityContext&#39; threw exception; nested exception is\r\n    java.lang.ClassCastException:\r\n    org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken\r\n    cannot be cast to org.keycloak.KeycloakPrincipal\r\n\r\n\r\nIs this the right way? What is missing? \r\n\r\nThank you! ","title":"Spring Keycloak: Get User ID","body":"<p>I have developed a Spring Boot Webservice and use Keycloak for Access Management. \nThe website stores some userdata in a database. I try to connect these data with the user logged in. </p>\n\n<p>At the moment I store the username with the data. But I like to store the user id instead the username. How can I do that? </p>\n\n<p>I try to get SecurityContext by this: </p>\n\n<pre><code>@Bean\n@Scope(scopeName = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic KeycloakSecurityContext getKeycloakSecurityContext() {\n    return ((KeycloakPrincipal&lt;KeycloakSecurityContext&gt;) getRequest().getUserPrincipal()).getKeycloakSecurityContext();\n}\n</code></pre>\n\n<p>But I get an error: </p>\n\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nError creating bean with name 'scopedTarget.getKeycloakSecurityContext'\ndefined in com.SiteApplication: Bean instantiation via factory method\nfailed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate [org.keycloak.KeycloakSecurityContext]: Factory method\n'getKeycloakSecurityContext' threw exception; nested exception is\njava.lang.ClassCastException:\norg.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken\ncannot be cast to org.keycloak.KeycloakPrincipal\n</code></pre>\n\n<p>Is this the right way? What is missing? </p>\n\n<p>Thank you! </p>\n"},{"tags":["java","string","algorithm"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661705600,"creation_date":1661705274,"answer_id":73520504,"question_id":73520290,"body_markdown":"There&#39;s no need to double-check the previous character since it has already been seen.\r\n\r\nThe logic for determining whether a character is a vowel can be extracted into a separate method, that would make the code more readable. To perform this check, we can use [`String.indexOf(char)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int)) method instead of a swarm of conditions.\r\n\r\nAnd it&#39;s highly advisable to avoid string-concatenation when you&#39;re not sure how many times it might take place. The better option would be to use `StringBuidler`.\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static String insertBeforeNonPrecededVowel(String str, String insert) {\r\n        \r\n        StringBuilder result = new StringBuilder();\r\n        boolean isPrecededByVowel = false;\r\n        \r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            char next = str.charAt(i);\r\n            boolean nextIsVowel = isVowel(next);\r\n            \r\n            if (nextIsVowel &amp;&amp; !isPrecededByVowel) result.append(insert); // if current character is Vowel, and it&#39;s not preceded by Vowel\r\n            \r\n            isPrecededByVowel = nextIsVowel;\r\n            result.append(next);\r\n        }\r\n        return result.toString();\r\n    }\r\n    \r\n    public static boolean isVowel(char ch) {\r\n        \r\n        return &quot;aeiou&quot;.indexOf(ch) != -1;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(insertBeforeNonPrecededVowel(&quot;aadeleo&quot;, &quot;av&quot;));\r\n    }\r\n\r\n*Output:*\r\n```\r\navaadavelaveo\r\n```","title":"Insert &quot;av&quot; before any Vowel in the given String which is not preceded by another Vowel","body":"<p>There's no need to double-check the previous character since it has already been seen.</p>\n<p>The logic for determining whether a character is a vowel can be extracted into a separate method, that would make the code more readable. To perform this check, we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int)\" rel=\"nofollow noreferrer\"><code>String.indexOf(char)</code></a> method instead of a swarm of conditions.</p>\n<p>And it's highly advisable to avoid string-concatenation when you're not sure how many times it might take place. The better option would be to use <code>StringBuidler</code>.</p>\n<p>That's how it might be implemented:</p>\n<pre><code>public static String insertBeforeNonPrecededVowel(String str, String insert) {\n    \n    StringBuilder result = new StringBuilder();\n    boolean isPrecededByVowel = false;\n    \n    for (int i = 0; i &lt; str.length(); i++) {\n        char next = str.charAt(i);\n        boolean nextIsVowel = isVowel(next);\n        \n        if (nextIsVowel &amp;&amp; !isPrecededByVowel) result.append(insert); // if current character is Vowel, and it's not preceded by Vowel\n        \n        isPrecededByVowel = nextIsVowel;\n        result.append(next);\n    }\n    return result.toString();\n}\n\npublic static boolean isVowel(char ch) {\n    \n    return &quot;aeiou&quot;.indexOf(ch) != -1;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(insertBeforeNonPrecededVowel(&quot;aadeleo&quot;, &quot;av&quot;));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>avaadavelaveo\n</code></pre>\n"}],"owner":{"account_id":24205119,"reputation":21,"user_id":18162443,"display_name":"Nirjhar Mitra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73520504,"answer_count":1,"score":1,"last_activity_date":1661805814,"creation_date":1661703382,"question_id":73520290,"body_markdown":"I&#39;ve written a code which is intended to insert string `&quot;av&quot;` before **any vowel** in the given `String`, which is **not** be preceded by *another vowel*.\r\n\r\nConsider the `String` as an *input*:\r\n```\r\n&quot;aadeleo&quot;\r\n```\r\nAfter adding `&quot;av&quot;` before each and every vowel which are not preceded by another vowel, the *output* should be:\r\n```\r\n&quot;avaadavelaveo&quot;\r\n```\r\nBut my code produces:\r\n```\r\n&quot;avaavadavelaveavo&quot;\r\n```\r\n\r\n*My code:*\r\n\r\n     public class Main {\r\n        public static void main(String[] args) {\r\n            \r\n            String st = &quot;aadeleo&quot;;\r\n            String word = &quot;&quot;;\r\n            int l = st.length();\r\n            char c, c2;\r\n            \r\n            for (int i = l - 1; i &gt; 0; i--) {\r\n                c = st.charAt(i);\r\n                c2 = st.charAt(i - 1);\r\n                \r\n                if ((c == &#39;a&#39; || c == &#39;e&#39; ||\r\n                    c == &#39;i&#39; || c == &#39;o&#39; ||\r\n                    c == &#39;u&#39;) &amp;&amp; (c2 != &#39;a&#39; || c2 != &#39;e&#39; ||\r\n                    c2 != &#39;i&#39; || c2 != &#39;o&#39; ||\r\n                    c2 != &#39;u&#39;)) {\r\n                    word = &quot;av&quot; + c + word;\r\n                } else\r\n                    word = c + word;\r\n            }\r\n            c = st.charAt(0);\r\n            \r\n            if (c == &#39;a&#39; || c == &#39;e&#39; ||\r\n                c == &#39;i&#39; || c == &#39;o&#39; ||\r\n                c == &#39;u&#39;)\r\n                word = &quot;av&quot; + c + word;\r\n            else\r\n                word = c + word;\r\n            \r\n            System.out.println(word);\r\n        }\r\n    }","title":"Insert &quot;av&quot; before any Vowel in the given String which is not preceded by another Vowel","body":"<p>I've written a code which is intended to insert string <code>&quot;av&quot;</code> before <strong>any vowel</strong> in the given <code>String</code>, which is <strong>not</strong> be preceded by <em>another vowel</em>.</p>\n<p>Consider the <code>String</code> as an <em>input</em>:</p>\n<pre><code>&quot;aadeleo&quot;\n</code></pre>\n<p>After adding <code>&quot;av&quot;</code> before each and every vowel which are not preceded by another vowel, the <em>output</em> should be:</p>\n<pre><code>&quot;avaadavelaveo&quot;\n</code></pre>\n<p>But my code produces:</p>\n<pre><code>&quot;avaavadavelaveavo&quot;\n</code></pre>\n<p><em>My code:</em></p>\n<pre><code> public class Main {\n    public static void main(String[] args) {\n        \n        String st = &quot;aadeleo&quot;;\n        String word = &quot;&quot;;\n        int l = st.length();\n        char c, c2;\n        \n        for (int i = l - 1; i &gt; 0; i--) {\n            c = st.charAt(i);\n            c2 = st.charAt(i - 1);\n            \n            if ((c == 'a' || c == 'e' ||\n                c == 'i' || c == 'o' ||\n                c == 'u') &amp;&amp; (c2 != 'a' || c2 != 'e' ||\n                c2 != 'i' || c2 != 'o' ||\n                c2 != 'u')) {\n                word = &quot;av&quot; + c + word;\n            } else\n                word = c + word;\n        }\n        c = st.charAt(0);\n        \n        if (c == 'a' || c == 'e' ||\n            c == 'i' || c == 'o' ||\n            c == 'u')\n            word = &quot;av&quot; + c + word;\n        else\n            word = c + word;\n        \n        System.out.println(word);\n    }\n}\n</code></pre>\n"},{"tags":["java","php","android","html"],"answers":[{"tags":[],"owner":{"account_id":26112000,"reputation":46,"user_id":19805764,"display_name":"RMP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661805058,"creation_date":1661805058,"answer_id":73534345,"question_id":73533936,"body_markdown":"I think you can put, an event on the click, and open an modal like the image, if the user click on button &#39;open&#39; so you redirect the user to your url `intent://my_host#Intent;scheme=my_scheme;action=my_action;`","title":"How to open an android app from my website with a dialog box?","body":"<p>I think you can put, an event on the click, and open an modal like the image, if the user click on button 'open' so you redirect the user to your url <code>intent://my_host#Intent;scheme=my_scheme;action=my_action;</code></p>\n"}],"owner":{"account_id":26191485,"reputation":1,"user_id":19873257,"display_name":"Anandhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73534345,"answer_count":1,"score":-1,"last_activity_date":1661805058,"creation_date":1661802307,"question_id":73533936,"body_markdown":"I tried this \r\n\r\n&gt; intent://my_host#Intent;scheme=my_scheme;action=my_action;\r\n\r\nand it&#39;s working. \r\nbut i need a dialog box like [this image](https://i.stack.imgur.com/4XQKk.jpg) plz some one help me!\r\n\r\n","title":"How to open an android app from my website with a dialog box?","body":"<p>I tried this</p>\n<blockquote>\n<p>intent://my_host#Intent;scheme=my_scheme;action=my_action;</p>\n</blockquote>\n<p>and it's working.\nbut i need a dialog box like <a href=\"https://i.stack.imgur.com/4XQKk.jpg\" rel=\"nofollow noreferrer\">this image</a> plz some one help me!</p>\n"},{"tags":["java","pass-by-reference"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1661804581,"post_id":73534262,"comment_id":129854392,"body_markdown":"But you&#39;re reassigning a different value to `curr`, which means you&#39;re no longer making it point to the same object, so they&#39;re no longer &quot;aliases&quot;","body":"But you&#39;re reassigning a different value to <code>curr</code>, which means you&#39;re no longer making it point to the same object, so they&#39;re no longer &quot;aliases&quot;"},{"owner":{"account_id":26192155,"reputation":1,"user_id":19873819,"display_name":"Jiya varma"},"score":0,"creation_date":1661804928,"post_id":73534262,"comment_id":129854479,"body_markdown":"Ah, I see. What if I did something like curr.data = 5 right after Node curr = head;, then would head and curr be aliases? and thus cause head.data to also become 5?","body":"Ah, I see. What if I did something like curr.data = 5 right after Node curr = head;, then would head and curr be aliases? and thus cause head.data to also become 5?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1661805284,"post_id":73534262,"comment_id":129854573,"body_markdown":"Yes, because `curr` and `head` still point to the same object by that point.","body":"Yes, because <code>curr</code> and <code>head</code> still point to the same object by that point."}],"owner":{"account_id":26192155,"reputation":1,"user_id":19873819,"display_name":"Jiya varma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661804692,"creation_date":1661804439,"question_id":73534262,"body_markdown":"Consider the following addToBack method in the Linked List class\r\n\r\n```\r\npublic void addToBack(int data) {\r\n    Node newNode = new Node(data);\r\n    if (head == null) {\r\n        head = newNode; \r\n    }\r\n    else {\r\n        Node curr = head; //this is what I&#39;m hung up on\r\n        while (curr.next != null) {\r\n            curr = curr.next;\r\n        }\r\n        curr.next = newNode;\r\n    }\r\n}\r\n```\r\n\r\nWhy are current and head not aliases here? I thought that if two references point to the same object, then they are aliases and altering the contents of one will alter the other as well. So when assigned head to current, and reassigning current to current.next in the while loop, how come head is not also altered?\r\n\r\nbtw, I saw a similar question answered here: https://stackoverflow.com/questions/58175131/why-does-manipulating-linkedlist-node-alias-allow-this-method-to-work , but don&#39;t understand the explanation as to WHY head and current and NOT aliases.","title":"Why are current and head references not considered aliases of each other in LinkedList implementation?","body":"<p>Consider the following addToBack method in the Linked List class</p>\n<pre><code>public void addToBack(int data) {\n    Node newNode = new Node(data);\n    if (head == null) {\n        head = newNode; \n    }\n    else {\n        Node curr = head; //this is what I'm hung up on\n        while (curr.next != null) {\n            curr = curr.next;\n        }\n        curr.next = newNode;\n    }\n}\n</code></pre>\n<p>Why are current and head not aliases here? I thought that if two references point to the same object, then they are aliases and altering the contents of one will alter the other as well. So when assigned head to current, and reassigning current to current.next in the while loop, how come head is not also altered?</p>\n<p>btw, I saw a similar question answered here: <a href=\"https://stackoverflow.com/questions/58175131/why-does-manipulating-linkedlist-node-alias-allow-this-method-to-work\">Why does manipulating LinkedList node alias allow this method to work?</a> , but don't understand the explanation as to WHY head and current and NOT aliases.</p>\n"},{"tags":["java"],"owner":{"account_id":26192135,"reputation":11,"user_id":19873807,"display_name":"MACHON M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661804627,"creation_date":1661804353,"question_id":73534249,"body_markdown":"I&#39;m trying to open bank and credit websites in Webview, they all open for me except for these two websites, I tried to enable the cookies but they still didn&#39;t open. Can someone help me? (start.telebank.co.il/login/#/LOGIN_PAGE, cal4u.cal-online.co.il/digitalwallet/#!/digital/login/dw.myaccount///////// )\r\n             \r\n","title":"webview block cookies in some url","body":"<p>I'm trying to open bank and credit websites in Webview, they all open for me except for these two websites, I tried to enable the cookies but they still didn't open. Can someone help me? (start.telebank.co.il/login/#/LOGIN_PAGE, cal4u.cal-online.co.il/digitalwallet/#!/digital/login/dw.myaccount///////// )</p>\n"},{"tags":["java","maven","jacoco","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1661716654,"post_id":73521728,"comment_id":129832568,"body_markdown":"Can you create a Small public repository demonstrating this behavior?","body":"Can you create a Small public repository demonstrating this behavior?"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661748050,"creation_date":1661748050,"answer_id":73524189,"question_id":73521728,"body_markdown":"You are observing some weird behaviour because plugin&#39;s author didn&#39;t pay much attention to maven internals:\r\n\r\n```\r\nprivate val rootProjectDir: File\r\n  get() = reactorProjects[0].basedir\r\n```\r\n\r\n```\r\nprivate fun collectExecFiles(): Set&lt;File&gt; {\r\n return if (dataFileIncludes == null) {\r\n   setOf(dataFile)\r\n } else {\r\n   FileUtils.getFiles(rootProjectDir, dataFileIncludes, dataFileExcludes).toSet()\r\n }\r\n}\r\n```\r\n\r\nInjecting `reactorProjects` makes sense for [`@aggregator` mojos](https://maven.apache.org/developers/mojo-api-specification.html), because when we are dealing with multi-module project structures and have parent-child relations we need special handling of such cases (for example, there are two mojos in `jacoco-maven-plugin`: `report` and `report-aggregate`). In your case plugin&#39;s author is trying to kill two rabbits with single shot, that in your particular case leads to the following:\r\n\r\nwhen you run maven like `-pl moduleA -am` then when maven executes verify phase of `Module B` reactor projects are `Module A, Module B`, plugin tries to pick up `exec` files from `Module A` directory and fails: `Module A` depends on `Module B` and there are no `exec` files in `Module A` directory.","title":"Maven - why does running a build of multiple packages result in a different result?","body":"<p>You are observing some weird behaviour because plugin's author didn't pay much attention to maven internals:</p>\n<pre><code>private val rootProjectDir: File\n  get() = reactorProjects[0].basedir\n</code></pre>\n<pre><code>private fun collectExecFiles(): Set&lt;File&gt; {\n return if (dataFileIncludes == null) {\n   setOf(dataFile)\n } else {\n   FileUtils.getFiles(rootProjectDir, dataFileIncludes, dataFileExcludes).toSet()\n }\n}\n</code></pre>\n<p>Injecting <code>reactorProjects</code> makes sense for <a href=\"https://maven.apache.org/developers/mojo-api-specification.html\" rel=\"nofollow noreferrer\"><code>@aggregator</code> mojos</a>, because when we are dealing with multi-module project structures and have parent-child relations we need special handling of such cases (for example, there are two mojos in <code>jacoco-maven-plugin</code>: <code>report</code> and <code>report-aggregate</code>). In your case plugin's author is trying to kill two rabbits with single shot, that in your particular case leads to the following:</p>\n<p>when you run maven like <code>-pl moduleA -am</code> then when maven executes verify phase of <code>Module B</code> reactor projects are <code>Module A, Module B</code>, plugin tries to pick up <code>exec</code> files from <code>Module A</code> directory and fails: <code>Module A</code> depends on <code>Module B</code> and there are no <code>exec</code> files in <code>Module A</code> directory.</p>\n"}],"owner":{"account_id":4667123,"reputation":23,"user_id":18805990,"display_name":"Koopa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73524189,"answer_count":1,"score":2,"last_activity_date":1661803832,"creation_date":1661715736,"question_id":73521728,"body_markdown":"Let&#39;s say I have a project with 2 modules, and 3 pom.xml files (1 for Module A, 1 for Module B, 1 parent pom.xml)\r\n\r\nI&#39;ve added the following plugin that verifies the code coverage diff between my changeset and another branch, and fails if it&#39;s below a certain threshold https://github.com/SurpSG/diff-coverage-maven-plugin\r\n\r\nIf I make NO code changes:\r\n\r\n`mvn clean verify` -&gt; success\r\n\r\n`mvn clean verify -T 1C -pl moduleA -am -U` -&gt; success\r\n\r\n`mvn clean verify -T 1C -pl moduleA, moduleB -am -U` -&gt; success\r\n\r\nSo as expected, my builds are passing because I made no code change.\r\n\r\nNow if I make a code change to moduleA without proper unit test code coverage, here are the results.\r\n\r\n`mvn clean verify -T 1C -pl moduleA -am -U` -&gt; fail for moduleB, skipping moduleA\r\n\r\n`mvn clean verify -T 1C -pl moduleB -am -U` -&gt; success\r\n\r\n`mvn clean verify -T 1C -pl moduleA, moduleB -am -U` -&gt; fail for moduleB, skipping moduleA\r\n\r\nThis last case is what is puzzling me, why would moduleB be failing? why is it not running for each module without side-effects?\r\n\r\nThe issue is that the failure message is really not helpful and pointing to the wrong service.","title":"Maven - why does running a build of multiple packages result in a different result?","body":"<p>Let's say I have a project with 2 modules, and 3 pom.xml files (1 for Module A, 1 for Module B, 1 parent pom.xml)</p>\n<p>I've added the following plugin that verifies the code coverage diff between my changeset and another branch, and fails if it's below a certain threshold <a href=\"https://github.com/SurpSG/diff-coverage-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/SurpSG/diff-coverage-maven-plugin</a></p>\n<p>If I make NO code changes:</p>\n<p><code>mvn clean verify</code> -&gt; success</p>\n<p><code>mvn clean verify -T 1C -pl moduleA -am -U</code> -&gt; success</p>\n<p><code>mvn clean verify -T 1C -pl moduleA, moduleB -am -U</code> -&gt; success</p>\n<p>So as expected, my builds are passing because I made no code change.</p>\n<p>Now if I make a code change to moduleA without proper unit test code coverage, here are the results.</p>\n<p><code>mvn clean verify -T 1C -pl moduleA -am -U</code> -&gt; fail for moduleB, skipping moduleA</p>\n<p><code>mvn clean verify -T 1C -pl moduleB -am -U</code> -&gt; success</p>\n<p><code>mvn clean verify -T 1C -pl moduleA, moduleB -am -U</code> -&gt; fail for moduleB, skipping moduleA</p>\n<p>This last case is what is puzzling me, why would moduleB be failing? why is it not running for each module without side-effects?</p>\n<p>The issue is that the failure message is really not helpful and pointing to the wrong service.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1395593290,"post_id":22593801,"comment_id":34398040,"body_markdown":"What does `charAt` returns? What is the datatype of letter?","body":"What does <code>charAt</code> returns? What is the datatype of letter?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1395593411,"post_id":22593801,"comment_id":34398098,"body_markdown":"The error is pretty clear: you can&#39;t compare a String with a char, same as you can&#39;t compare a car with a potato.","body":"The error is pretty clear: you can&#39;t compare a String with a char, same as you can&#39;t compare a car with a potato."}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395593294,"creation_date":1395593294,"answer_id":22593830,"question_id":22593801,"body_markdown":"A `String` is not a `char`. `letter` is a `String`.\r\n\r\nJust test if `word.indexOf(letter)` is not -1. And prior to this you want to test whether `letter` has length 1.\r\n\r\n","title":"Incompatible operand types char and string - JAVA","body":"<p>A <code>String</code> is not a <code>char</code>. <code>letter</code> is a <code>String</code>.</p>\n\n<p>Just test if <code>word.indexOf(letter)</code> is not -1. And prior to this you want to test whether <code>letter</code> has length 1.</p>\n"},{"tags":[],"owner":{"account_id":25463725,"reputation":11,"user_id":19263102,"display_name":"Karim Ahsani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659011136,"creation_date":1659010768,"answer_id":73152805,"question_id":22593801,"body_markdown":"You can not compare a char with a string. So you should modify the *if* part like this:\r\n\r\n```java\r\n    if(word.charAt(i) == letter.charAt(0))\r\n```","title":"Incompatible operand types char and string - JAVA","body":"<p>You can not compare a char with a string. So you should modify the <em>if</em> part like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    if(word.charAt(i) == letter.charAt(0))\n</code></pre>\n"}],"owner":{"account_id":4029951,"reputation":105,"user_id":3316478,"accept_rate":18,"display_name":"MontyMax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13636,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1661803280,"creation_date":1395593177,"question_id":22593801,"body_markdown":"The program compares a character to a String and counts the number of times that character repeats in the String. Line 8 gives error &quot;Incompatible operand types char and string&quot; I can&#39;t seem to figure out a way around this error:\r\n\r\n\t\tScanner input = new java.util.Scanner(System.in); \r\n\t\tSystem.out.println(&quot;Enter a word: &quot; );\r\n\t\tString word = input.next();\r\n\t\tSystem.out.println(&quot;enter a letter: &quot;);\r\n\t\tString letter = input.next();\r\n\t\tint count = 0;\r\n\t\tfor(int i =0; i &lt; word.length(); i++)\r\n\t\t    if(word.charAt(i) == letter)\r\n\t\t        count++;","title":"Incompatible operand types char and string - JAVA","body":"<p>The program compares a character to a String and counts the number of times that character repeats in the String. Line 8 gives error \"Incompatible operand types char and string\" I can't seem to figure out a way around this error:</p>\n\n<pre><code>    Scanner input = new java.util.Scanner(System.in); \n    System.out.println(\"Enter a word: \" );\n    String word = input.next();\n    System.out.println(\"enter a letter: \");\n    String letter = input.next();\n    int count = 0;\n    for(int i =0; i &lt; word.length(); i++)\n        if(word.charAt(i) == letter)\n            count++;\n</code></pre>\n"},{"tags":["java","rx-java","vert.x","reactive-streams","vertx-httpclient"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585221161,"creation_date":1585221161,"answer_id":60865930,"question_id":60865393,"body_markdown":"The Vert.x Web client is not designed to stream the response body. It buffers content by design.\r\n\r\nIf you want to stream the content, you can use the underlying HTTP client which is more flexible.","title":"Reactive streams publisher from Vertx webclient response body","body":"<p>The Vert.x Web client is not designed to stream the response body. It buffers content by design.</p>\n\n<p>If you want to stream the content, you can use the underlying HTTP client which is more flexible.</p>\n"},{"tags":[],"owner":{"account_id":9060448,"reputation":1048,"user_id":6747137,"display_name":"Sammers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585224352,"creation_date":1585222163,"answer_id":60866215,"question_id":60865393,"body_markdown":"I guess you can use [ByteCodec.pipe][1]:\r\n\r\n    import io.reactivex.Flowable;\r\n    import io.vertx.ext.reactivestreams.ReactiveWriteStream;\r\n    import io.vertx.reactivex.core.Vertx;\r\n    import io.vertx.reactivex.core.buffer.Buffer;\r\n    import io.vertx.reactivex.core.streams.WriteStream;\r\n    import io.vertx.reactivex.ext.web.client.WebClient;\r\n    import io.vertx.reactivex.ext.web.codec.BodyCodec;\r\n    import org.reactivestreams.Publisher;\r\n    \r\n    import java.nio.ByteBuffer;\r\n    \r\n    interface Storage {\r\n        Publisher&lt;ByteBuffer&gt; load(String key);\r\n    }\r\n    \r\n    class WebStorage implements Storage {\r\n        private final Vertx vertx = Vertx.vertx();\r\n        private final WebClient client;\r\n    \r\n        public WebStorage(final WebClient client) {\r\n            this.client = client;\r\n        }\r\n    \r\n        @Override\r\n        public Publisher&lt;ByteBuffer&gt; load(final String key) {\r\n            final ReactiveWriteStream&lt;Buffer&gt; stream = ReactiveWriteStream.writeStream(vertx.getDelegate());\r\n            client.get(String.format(&quot;https://myhost/path?query=%s&quot;, key))\r\n                .as(BodyCodec.pipe(WriteStream.newInstance(stream)))\r\n                .rxSend().subscribe();\r\n            return Flowable.fromPublisher(stream).map(buffer -&gt; ByteBuffer.wrap(buffer.getBytes()));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://vertx.io/docs/vertx-web-client/java/#_decoding_responses","title":"Reactive streams publisher from Vertx webclient response body","body":"<p>I guess you can use <a href=\"https://vertx.io/docs/vertx-web-client/java/#_decoding_responses\" rel=\"nofollow noreferrer\">ByteCodec.pipe</a>:</p>\n\n<pre><code>import io.reactivex.Flowable;\nimport io.vertx.ext.reactivestreams.ReactiveWriteStream;\nimport io.vertx.reactivex.core.Vertx;\nimport io.vertx.reactivex.core.buffer.Buffer;\nimport io.vertx.reactivex.core.streams.WriteStream;\nimport io.vertx.reactivex.ext.web.client.WebClient;\nimport io.vertx.reactivex.ext.web.codec.BodyCodec;\nimport org.reactivestreams.Publisher;\n\nimport java.nio.ByteBuffer;\n\ninterface Storage {\n    Publisher&lt;ByteBuffer&gt; load(String key);\n}\n\nclass WebStorage implements Storage {\n    private final Vertx vertx = Vertx.vertx();\n    private final WebClient client;\n\n    public WebStorage(final WebClient client) {\n        this.client = client;\n    }\n\n    @Override\n    public Publisher&lt;ByteBuffer&gt; load(final String key) {\n        final ReactiveWriteStream&lt;Buffer&gt; stream = ReactiveWriteStream.writeStream(vertx.getDelegate());\n        client.get(String.format(\"https://myhost/path?query=%s\", key))\n            .as(BodyCodec.pipe(WriteStream.newInstance(stream)))\n            .rxSend().subscribe();\n        return Flowable.fromPublisher(stream).map(buffer -&gt; ByteBuffer.wrap(buffer.getBytes()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1909497,"reputation":7762,"user_id":1723695,"accept_rate":78,"display_name":"Kirill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661803270,"creation_date":1585219282,"question_id":60865393,"body_markdown":"I&#39;m trying to write a wrapper for the Vert.x [web-client](https://vertx.io/docs/vertx-web-client/java/) to load response body from server using `Publisher` from reactivestreams:\r\n\r\n```java\r\nimport org.reactivestreams.Publisher;\r\nimport io.vertx.reactivex.ext.web.client.WebClient;\r\n\r\ninterface Storage {\r\n  Publisher&lt;ByteBuffer&gt; load(String key);\r\n}\r\n\r\nclass WebStorage implements Storage {\r\n  private final WebClient client;\r\n\r\n  public WebStorage(final WebClient client) {\r\n    this.client = client;\r\n  }\r\n\r\n  @Override\r\n  public Publisher&lt;ByteBuffer&gt; load(final String key) {\r\n    return client.get(String.format(&quot;https://myhost/path?query=%s&quot;, key))\r\n      .rxSend()\r\n      .toFlowable()\r\n      .map(resp -&gt; ByteBuffer.wrap(resp.body().getBytes()));\r\n  }\r\n}\r\n```\r\nThis solution is not correct, since it&#39;s reading all body bytes in a blocking way with `getBytes()` call.\r\n\r\nIs it possible to read response from Vert.x `WebClient` by chunks and convert it to `Publisher` (or Rx `Flowable`)?","title":"Reactive streams publisher from Vertx webclient response body","body":"<p>I'm trying to write a wrapper for the Vert.x <a href=\"https://vertx.io/docs/vertx-web-client/java/\" rel=\"nofollow noreferrer\">web-client</a> to load response body from server using <code>Publisher</code> from reactivestreams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.reactivestreams.Publisher;\nimport io.vertx.reactivex.ext.web.client.WebClient;\n\ninterface Storage {\n  Publisher&lt;ByteBuffer&gt; load(String key);\n}\n\nclass WebStorage implements Storage {\n  private final WebClient client;\n\n  public WebStorage(final WebClient client) {\n    this.client = client;\n  }\n\n  @Override\n  public Publisher&lt;ByteBuffer&gt; load(final String key) {\n    return client.get(String.format(&quot;https://myhost/path?query=%s&quot;, key))\n      .rxSend()\n      .toFlowable()\n      .map(resp -&gt; ByteBuffer.wrap(resp.body().getBytes()));\n  }\n}\n</code></pre>\n<p>This solution is not correct, since it's reading all body bytes in a blocking way with <code>getBytes()</code> call.</p>\n<p>Is it possible to read response from Vert.x <code>WebClient</code> by chunks and convert it to <code>Publisher</code> (or Rx <code>Flowable</code>)?</p>\n"},{"tags":["java","shell","runtime.exec"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1349935964,"post_id":12833208,"comment_id":17362203,"body_markdown":"You should be use the `ProcessBuilder` as mentioned in your previous question http://stackoverflow.com/questions/12812345/running-shell-script-from-java-code-and-pass-arguments/12812473#12812473","body":"You should be use the <code>ProcessBuilder</code> as mentioned in your previous question <a href=\"http://stackoverflow.com/questions/12812345/running-shell-script-from-java-code-and-pass-arguments/12812473#12812473\" title=\"running shell script from java code and pass arguments\">stackoverflow.com/questions/12812345/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1349935801,"creation_date":1349935801,"answer_id":12833242,"question_id":12833208,"body_markdown":"First string became the command. There is no file &#39;sh test.sh&#39; to be executed.\r\n\r\nChange \r\n\r\n     String[] cmd = {&quot;sh test.sh&quot;, &quot;/Path/to my/resource file&quot;};\r\n\r\nto \r\n   \r\n\r\n    String[] cmd = {&quot;sh&quot;,  &quot;test.sh&quot;, &quot;/Path/to my/resource file&quot;};\r\n\r\n\r\n(In general use [process builder API][1]) \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/ProcessBuilder.html","title":"java Runtime.exec to run shell script","body":"<p>First string became the command. There is no file 'sh test.sh' to be executed.</p>\n\n<p>Change </p>\n\n<pre><code> String[] cmd = {\"sh test.sh\", \"/Path/to my/resource file\"};\n</code></pre>\n\n<p>to </p>\n\n<pre><code>String[] cmd = {\"sh\",  \"test.sh\", \"/Path/to my/resource file\"};\n</code></pre>\n\n<p>(In general use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/ProcessBuilder.html\" rel=\"noreferrer\">process builder API</a>) </p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22097,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12833242,"answer_count":1,"score":2,"last_activity_date":1661803235,"creation_date":1349935660,"question_id":12833208,"body_markdown":"I am using Runtime.getRuntime().exec() to run a shell script from Java code. The code works fine when I pass the parameter as string\r\n\r\n          Runtime.getRuntime().exec(&quot;sh test.sh&quot;)\r\n\r\nSince I have to pass additional arguments which are paths with spaces, so I replaced String with String array.\r\n\r\n          String[] cmd = {&quot;sh test.sh&quot;, &quot;/Path/to my/resource file&quot;};\r\n          Runtime.getRuntime().exec(cmd)\r\n\r\nI also tried with\r\n\r\n          String[] cmd = {&quot;sh test.sh&quot;};\r\n          Runtime.getRuntime().exec(cmd)\r\n\r\nBut neither of them worked. It&#39;s throwing an exception:\r\n\r\n       java.io.IOException: Cannot run program &quot;sh test.sh&quot;:\r\n       java.io.IOException: error=2, No such file or directory\r\n\r\nWhy is the same script file when passed as String worked and when used with String array is throwing exception? How can I make this work with string array as argument to `Runtime.exec()`?\r\n","title":"java Runtime.exec to run shell script","body":"<p>I am using Runtime.getRuntime().exec() to run a shell script from Java code. The code works fine when I pass the parameter as string</p>\n<pre><code>      Runtime.getRuntime().exec(&quot;sh test.sh&quot;)\n</code></pre>\n<p>Since I have to pass additional arguments which are paths with spaces, so I replaced String with String array.</p>\n<pre><code>      String[] cmd = {&quot;sh test.sh&quot;, &quot;/Path/to my/resource file&quot;};\n      Runtime.getRuntime().exec(cmd)\n</code></pre>\n<p>I also tried with</p>\n<pre><code>      String[] cmd = {&quot;sh test.sh&quot;};\n      Runtime.getRuntime().exec(cmd)\n</code></pre>\n<p>But neither of them worked. It's throwing an exception:</p>\n<pre><code>   java.io.IOException: Cannot run program &quot;sh test.sh&quot;:\n   java.io.IOException: error=2, No such file or directory\n</code></pre>\n<p>Why is the same script file when passed as String worked and when used with String array is throwing exception? How can I make this work with string array as argument to <code>Runtime.exec()</code>?</p>\n"},{"tags":["java","spring-boot","jpa","liquibase"],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661802812,"creation_date":1661802812,"answer_id":73534015,"question_id":73235411,"body_markdown":"There are a couple of different sample databases included with Liquibase. Since you don&#39;t have a database to test against, you can try using one of those to test your configuration. Here is a link with details about running the included H2 database, and another to our course about using the Liquibase Test Harness. \r\n\r\nhttps://docs.liquibase.com/commands/init/start-h2.html?Highlight=h2\r\nhttps://learn.liquibase.com/catalog/info/id:130\r\n","title":"liquibaseGenerateChangelog changeSets count 0 when trying to create initial change log from JPA classes","body":"<p>There are a couple of different sample databases included with Liquibase. Since you don't have a database to test against, you can try using one of those to test your configuration. Here is a link with details about running the included H2 database, and another to our course about using the Liquibase Test Harness.</p>\n<p><a href=\"https://docs.liquibase.com/commands/init/start-h2.html?Highlight=h2\" rel=\"nofollow noreferrer\">https://docs.liquibase.com/commands/init/start-h2.html?Highlight=h2</a>\n<a href=\"https://learn.liquibase.com/catalog/info/id:130\" rel=\"nofollow noreferrer\">https://learn.liquibase.com/catalog/info/id:130</a></p>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661802812,"creation_date":1659613595,"question_id":73235411,"body_markdown":"I have a Gradle based project, containing a number of JPA entity classes.\r\n\r\nI do not have a database yet, but I would like to generate the collection of liquibase `changesets` in XML.\r\n\r\nSo I can then populate an empty database with an initial schema definition.\r\n\r\nThe problem is using the `liquibaseGenerateChangelog` Gradle task, even though I provide the package containing the classes, the resulting XML `changeset` file doesn&#39;t contain any `changesets`\r\n\r\nCommand to generate change log from my JPA entities:\r\n```\r\n./gradlew liquibaseGenerateChangelog\r\n--changeLogFile=src/main/resources/config/liquibase/master.xml\r\n--url=hibernate:spring:com.company.project.domain?dialect=liquibase.ext.hibernate.database.HibernateGenericDialect\r\n--driver=liquibase.ext.hibernate.database.connection.HibernateDriver\r\n```\r\n\r\n\r\nEmpty file that liquibase creates:\r\n```\r\n&lt;?xml version=&quot;1.1&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot; xmlns:ext=&quot;http://www.liquibase.org/xml/ns/dbchangelog-ext&quot; xmlns:pro=&quot;http://www.liquibase.org/xml/ns/pro&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.1.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd&quot;/&gt;\r\n```\r\n\r\nI have classes inside `com.company.project.domain` e.g:\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User implements Serializable {\r\n\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n  @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n  private Long id;\r\n\r\n  // etc\r\n```\r\n\r\nI have the following inside `build.gradle`:\r\n```\r\n..\r\nimplementation &quot;org.hibernate:hibernate-core&quot;\r\nimplementation &quot;org.liquibase:liquibase-core&quot;\r\nliquibaseRuntime &quot;org.liquibase:liquibase-core&quot;\r\nliquibaseRuntime &quot;org.liquibase.ext:liquibase-hibernate5:4.6.1&quot;\r\nliquibaseRuntime sourceSets.main.compileClasspath\r\nimplementation &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\r\n```","title":"liquibaseGenerateChangelog changeSets count 0 when trying to create initial change log from JPA classes","body":"<p>I have a Gradle based project, containing a number of JPA entity classes.</p>\n<p>I do not have a database yet, but I would like to generate the collection of liquibase <code>changesets</code> in XML.</p>\n<p>So I can then populate an empty database with an initial schema definition.</p>\n<p>The problem is using the <code>liquibaseGenerateChangelog</code> Gradle task, even though I provide the package containing the classes, the resulting XML <code>changeset</code> file doesn't contain any <code>changesets</code></p>\n<p>Command to generate change log from my JPA entities:</p>\n<pre><code>./gradlew liquibaseGenerateChangelog\n--changeLogFile=src/main/resources/config/liquibase/master.xml\n--url=hibernate:spring:com.company.project.domain?dialect=liquibase.ext.hibernate.database.HibernateGenericDialect\n--driver=liquibase.ext.hibernate.database.connection.HibernateDriver\n</code></pre>\n<p>Empty file that liquibase creates:</p>\n<pre><code>&lt;?xml version=&quot;1.1&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot; xmlns:ext=&quot;http://www.liquibase.org/xml/ns/dbchangelog-ext&quot; xmlns:pro=&quot;http://www.liquibase.org/xml/ns/pro&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.1.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd&quot;/&gt;\n</code></pre>\n<p>I have classes inside <code>com.company.project.domain</code> e.g:</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n  @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n  private Long id;\n\n  // etc\n</code></pre>\n<p>I have the following inside <code>build.gradle</code>:</p>\n<pre><code>..\nimplementation &quot;org.hibernate:hibernate-core&quot;\nimplementation &quot;org.liquibase:liquibase-core&quot;\nliquibaseRuntime &quot;org.liquibase:liquibase-core&quot;\nliquibaseRuntime &quot;org.liquibase.ext:liquibase-hibernate5:4.6.1&quot;\nliquibaseRuntime sourceSets.main.compileClasspath\nimplementation &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\n</code></pre>\n"},{"tags":["java","mysql","blob"],"answers":[{"tags":[],"owner":{"account_id":58992,"reputation":15767,"user_id":176569,"accept_rate":70,"display_name":"bpgergo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1304499268,"creation_date":1304499268,"answer_id":5880925,"question_id":5880878,"body_markdown":"psmnt.setBinaryStream(**3**, \r\n\r\nJennifer, you&#39;re trying to set the third parameter but you only have two in your insert:\r\n\r\n    psmnt = conn.prepareStatement(&quot;INSERT INTO upload_data(user_id,photo,audio) &quot;\r\n                            + &quot;values(?,?)&quot;);","title":"ArrayIndexOutOfBoundsException while saving a 3gp file in MySQL","body":"<p>psmnt.setBinaryStream(<strong>3</strong>, </p>\n\n<p>Jennifer, you're trying to set the third parameter but you only have two in your insert:</p>\n\n<pre><code>psmnt = conn.prepareStatement(\"INSERT INTO upload_data(user_id,photo,audio) \"\n                        + \"values(?,?)\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":226469,"reputation":12047,"user_id":487534,"accept_rate":90,"display_name":"jabal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1304499538,"creation_date":1304499538,"answer_id":5880978,"question_id":5880878,"body_markdown":"you have only two parameters (question marks) in your SQL statement, but you&#39;re trying to bind the binary stream to the 3rd, not existing one. change your SQL statement like this:\r\n\r\n    psmnt = conn.prepareStatement(&quot;INSERT INTO upload_data(user_id,photo,audio) &quot;\r\n                            + &quot;values(?,?,?)&quot;);\r\n    \r\n    fisAudio =  new FileInputStream(audioFile);\r\n    // you should bind something to the first and second ? marks too!\r\n    psmnt.setLong(1, 12345L);\r\n    psmnt.setString(2, &quot;this is my photo&quot;);\r\n    psmnt.setBinaryStream(3, (InputStream) fisAudio, (int) (audioFile.length()));\r\n    int s = psmnt.executeUpdate();\r\n\r\n\r\n","title":"ArrayIndexOutOfBoundsException while saving a 3gp file in MySQL","body":"<p>you have only two parameters (question marks) in your SQL statement, but you're trying to bind the binary stream to the 3rd, not existing one. change your SQL statement like this:</p>\n\n<pre><code>psmnt = conn.prepareStatement(\"INSERT INTO upload_data(user_id,photo,audio) \"\n                        + \"values(?,?,?)\");\n\nfisAudio =  new FileInputStream(audioFile);\n// you should bind something to the first and second ? marks too!\npsmnt.setLong(1, 12345L);\npsmnt.setString(2, \"this is my photo\");\npsmnt.setBinaryStream(3, (InputStream) fisAudio, (int) (audioFile.length()));\nint s = psmnt.executeUpdate();\n</code></pre>\n"}],"owner":{"account_id":262963,"reputation":8173,"user_id":548218,"accept_rate":79,"display_name":"jennifer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5880978,"answer_count":2,"score":0,"last_activity_date":1661802728,"creation_date":1304499014,"question_id":5880878,"body_markdown":"My code is:\r\n\r\n    psmnt = conn.prepareStatement(&quot;INSERT INTO upload_data(user_id,photo,audio) &quot; + &quot;values(?,?)&quot;);\r\n    psmnt.setLong(1, userId);   \r\n    fis = new FileInputStream(photoFile);\r\n    psmnt.setBinaryStream(2, (InputStream) fis, (int) (photoFile.length()));\r\n    fisAudio =  new FileInputStream(audioFile);\r\n    psmnt.setBinaryStream(3, (InputStream) fisAudio, (int) (audioFile.length()));\r\n    int s = psmnt.executeUpdate();\r\n\r\nThe type of audio in the MySQL database is a blob.\r\n\r\nException is: \r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: 2\r\n    \tat com.mysql.jdbc.PreparedStatement.setBinaryStream(PreparedStatement.java:2089)\r\n    \tat com.test.dao.TestDao.saveTestDetails1(TestDAo.java:154)\r\n    \tat com.test.servlet.UploadImage.doPost(UploadImage.java:131)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\r\n    \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)\r\n    \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nHow to resolve this?\r\n","title":"ArrayIndexOutOfBoundsException while saving a 3gp file in MySQL","body":"<p>My code is:</p>\n<pre><code>psmnt = conn.prepareStatement(&quot;INSERT INTO upload_data(user_id,photo,audio) &quot; + &quot;values(?,?)&quot;);\npsmnt.setLong(1, userId);   \nfis = new FileInputStream(photoFile);\npsmnt.setBinaryStream(2, (InputStream) fis, (int) (photoFile.length()));\nfisAudio =  new FileInputStream(audioFile);\npsmnt.setBinaryStream(3, (InputStream) fisAudio, (int) (audioFile.length()));\nint s = psmnt.executeUpdate();\n</code></pre>\n<p>The type of audio in the MySQL database is a blob.</p>\n<p>Exception is:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: 2\n    at com.mysql.jdbc.PreparedStatement.setBinaryStream(PreparedStatement.java:2089)\n    at com.test.dao.TestDao.saveTestDetails1(TestDAo.java:154)\n    at com.test.servlet.UploadImage.doPost(UploadImage.java:131)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>How to resolve this?</p>\n"},{"tags":["java","reference","constants","symbolic-references"],"answers":[{"tags":[],"owner":{"account_id":2991890,"reputation":336,"user_id":2539310,"display_name":"parsifal"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1372697424,"creation_date":1372688006,"answer_id":17406592,"question_id":17406159,"body_markdown":"It would be helpful if you would quote the exact piece of the documentation that&#39;s giving you trouble. Since you haven&#39;t, I&#39;m going to take a guess at what you might have quoted, from the doc for [ldc][1]:\r\n\r\n&gt; Otherwise, if the run-time constant pool entry is a symbolic reference\r\n&gt; to a class (&#167;5.1), then the named class is resolved (&#167;5.4.3.1) and a\r\n&gt; reference to the Class object representing that class, value, is\r\n&gt; pushed onto the operand stack.\r\n&gt; \r\n&gt; Otherwise, the run-time constant pool entry must be a symbolic\r\n&gt; reference to a method type or a method handle (&#167;5.1). ...\r\n\r\nThis quote has a link to another section of the JVM spec (5.1), which describes the run-time constant pool:\r\n\r\n&gt; a run-time data structure that serves many of the purposes of the\r\n&gt; symbol table of a conventional programming language implementation\r\n\r\nWhat this means is that the run-time constant pool contains information about the pieces of a class in symbolic form: as text values.\r\n\r\nSo, when `ldc` is given a &quot;symbolic reference&quot; to a class, it&#39;s given the index of a `CONSTANT_Class_info ` structure within the constant pool. If you look at the definition of this structure, you&#39;ll see that it contains a reference to the name of the class, also held within the constant pool.\r\n\r\n**TL;DR:** &quot;symbolic references&quot; are strings that can be used to retrieve the actual object.\r\n\r\n---\r\n\r\nAn example:\r\n\r\n    if (obj.getClass() == String.class) {\r\n        // do something\r\n    }\r\n\r\nBecomes the following bytecode:\r\n\r\n    aload_1\r\n    invokevirtual   #21; //Method java/lang/Object.getClass:()Ljava/lang/Class;\r\n    ldc     #25; //class java/lang/String\r\n    if_acmpne       20\r\n\r\nIn this case, the `ldc` operation refers to a class that is stored symbolically. When the JVM executes this opcode, it will use the symbolic reference to identify the actual class within the current classloader, and return a reference to the class instance.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.ldc","title":"Symbolic references in Java","body":"<p>It would be helpful if you would quote the exact piece of the documentation that's giving you trouble. Since you haven't, I'm going to take a guess at what you might have quoted, from the doc for <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.ldc\">ldc</a>:</p>\n\n<blockquote>\n  <p>Otherwise, if the run-time constant pool entry is a symbolic reference\n  to a class (§5.1), then the named class is resolved (§5.4.3.1) and a\n  reference to the Class object representing that class, value, is\n  pushed onto the operand stack.</p>\n  \n  <p>Otherwise, the run-time constant pool entry must be a symbolic\n  reference to a method type or a method handle (§5.1). ...</p>\n</blockquote>\n\n<p>This quote has a link to another section of the JVM spec (5.1), which describes the run-time constant pool:</p>\n\n<blockquote>\n  <p>a run-time data structure that serves many of the purposes of the\n  symbol table of a conventional programming language implementation</p>\n</blockquote>\n\n<p>What this means is that the run-time constant pool contains information about the pieces of a class in symbolic form: as text values.</p>\n\n<p>So, when <code>ldc</code> is given a \"symbolic reference\" to a class, it's given the index of a <code>CONSTANT_Class_info</code> structure within the constant pool. If you look at the definition of this structure, you'll see that it contains a reference to the name of the class, also held within the constant pool.</p>\n\n<p><strong>TL;DR:</strong> \"symbolic references\" are strings that can be used to retrieve the actual object.</p>\n\n<hr>\n\n<p>An example:</p>\n\n<pre><code>if (obj.getClass() == String.class) {\n    // do something\n}\n</code></pre>\n\n<p>Becomes the following bytecode:</p>\n\n<pre><code>aload_1\ninvokevirtual   #21; //Method java/lang/Object.getClass:()Ljava/lang/Class;\nldc     #25; //class java/lang/String\nif_acmpne       20\n</code></pre>\n\n<p>In this case, the <code>ldc</code> operation refers to a class that is stored symbolically. When the JVM executes this opcode, it will use the symbolic reference to identify the actual class within the current classloader, and return a reference to the class instance.</p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661802706,"creation_date":1661802706,"answer_id":73533995,"question_id":17406159,"body_markdown":"To add to the other answer for parts 1&amp;2 only of the question:\r\n\r\nCurrently, the JVM uses run-time data areas that can be divided into six areas:\r\n•\tThe program counter (PC) register\r\n•\tJava Virtual Machine (JVM) stacks\r\n•\tNative method stacks\r\n•\tHeap Area\r\n•\tMethod area\r\n•\tRun-Time Constant Pool\r\n\r\nThe PC register is used to store the address of the next instruction, which is the instruction code to be executed. The execution engine reads the next instruction and the JVM uses this to keep track of the executions of threads, because the CPU will constantly switch between them.\r\n\r\nThe stack frame has three parts: the Local Variable Array, the Operand Stack and the Frame Data.  \r\n\r\n 1. The purpose of the Operand Stack is for any intermediate operations that may be required, such as addition or subtraction of numbers.  The operand stack acts as runtime workspace to perform the operation.\r\n 2. The Local Variable Array contains all parameters and local variables of the method.\r\n 3. Frame Data: contains all symbolic references (constant pool resolution) and normal method returns related to that particular method.\r\n\r\nNative Stacks are used when an implementation of the Java Virtual Machine is using conventional stacks, colloquially called &quot;C stacks,&quot; to support native methods (methods written in a language other than the Java programming language).\r\n\r\nThe heap is the run-time data area from which memory for all class instances and arrays is allocated.\r\n\r\nThe Java Virtual Machine has a method area that is shared among all Java Virtual Machine threads. The method area is analogous to the storage area for compiled code of a conventional language or analogous to the &quot;text&quot; segment in an operating system process. It stores per-class structures such as the run-time constant pool, field and method data, and the code for methods and constructors, including the special methods used in class and interface initialization and in instance initialization (&#167;2.9).\r\n\r\n&gt; A run-time constant pool is a per-class or per-interface run-time\r\n&gt; representation of the constant_pool table in a class file (&#167;4.4)\r\n\r\nSo what does that mean in practical terms?  My understanding is that it is an abstraction to reference classes without any side effects.\r\n\r\nFor example, what if you were using the Class object instead of the constant pool symbols for storing class structures at runtime and it didn&#39;t load properly?  I&#39;ve seen a code base with multiple jars of the same name, type, and version all loaded from different areas of the code, because multiple teams worked on separate sections of a large code base and didn&#39;t bother to clean up the mess.  I also worked with tuples of strings as a means of constructing a unique location in a transportation program.  It worked, but it seemed to be a clunky mechanism for handling the use case. So my point is, the symbolic representations for classes and interfaces fill that need and create a standard procedure to reference classes during runtime, without side effects, to my knowledge.\r\n\r\nTo quote [Brian Goetz][1] on this: \r\n\r\n&gt; Activities such as bytecode generation have a frequent need to\r\n&gt; describe constants such as classes. However, a Class object is a poor\r\n&gt; description for an arbitrary class. Producing a Class instance has\r\n&gt; many environmental dependencies and failure modes; loading may fail in\r\n&gt; because the desired class does not exist or may not be accessible to\r\n&gt; the requestor, the result of loading varies with class loading\r\n&gt; context, loading classes has side-effects, and sometimes may not be\r\n&gt; possible at all (such as when the classes being described do not yet\r\n&gt; exist or are otherwise not loadable, as in during compilation of those\r\n&gt; same classes, or during jlink-time transformation.) So, while the\r\n&gt; String class is a fine description for a Constant_String_info, the\r\n&gt; Class type is not a very good description for a Constant_Class_info. \r\n&gt;\r\n&gt; A number of activities share the need to deal with classes, methods, and\r\n&gt; other entities in a purely nominal form. Bytecode parsing and\r\n&gt; generation libraries must describe classes and method handles in\r\n&gt; symbolic form. Without an official mechanism, they must resort to\r\n&gt; ad-hoc mechanisms, whether descriptor types like ASM&#39;s Handle, or\r\n&gt; tuples of strings (method owner, method name, method descriptor), or\r\n&gt; ad-hoc (and error-prone) encodings of these into a single string.\r\n&gt; Bootstraps for invokedynamic that operate by spinning bytecode (such\r\n&gt; as LambdaMetafactory) would prefer to work in a symbolic domain rather\r\n&gt; than with live classes and method handles. Compilers and offline\r\n&gt; transformers (such as jlink plugins) need to describe classes and\r\n&gt; members for classes that cannot be loaded into the running VM.\r\n&gt; Compiler plugins (such as annotation processors) similarly need to\r\n&gt; describe program elements in symbolic terms. They would all benefit\r\n&gt; from having a single, official way to describe such constants.\r\n\r\nThe Java docs quoted and elaborated on were from [Java SE 12][2].  \r\n\r\nThere are diagrams to illustrate this: [the JVM Architecture from Dzone.][3]\r\n\r\nLast of all is [An Introduction to the Constant Pool in the JVM][4] by Baeldung that illustrates a simple Hello World program with bytecode.\r\n\r\n\r\n  [1]: https://cr.openjdk.java.net/~briangoetz/amber/constables.html\r\n  [2]: https://docs.oracle.com/javase/specs/jvms/se12/html/jvms-2.html\r\n  [3]: https://dzone.com/articles/jvm-architecture-explained\r\n  [4]: https://www.baeldung.com/jvm-constant-pool","title":"Symbolic references in Java","body":"<p>To add to the other answer for parts 1&amp;2 only of the question:</p>\n<p>Currently, the JVM uses run-time data areas that can be divided into six areas:\n•   The program counter (PC) register\n•   Java Virtual Machine (JVM) stacks\n•   Native method stacks\n•   Heap Area\n•   Method area\n•   Run-Time Constant Pool</p>\n<p>The PC register is used to store the address of the next instruction, which is the instruction code to be executed. The execution engine reads the next instruction and the JVM uses this to keep track of the executions of threads, because the CPU will constantly switch between them.</p>\n<p>The stack frame has three parts: the Local Variable Array, the Operand Stack and the Frame Data.</p>\n<ol>\n<li>The purpose of the Operand Stack is for any intermediate operations that may be required, such as addition or subtraction of numbers.  The operand stack acts as runtime workspace to perform the operation.</li>\n<li>The Local Variable Array contains all parameters and local variables of the method.</li>\n<li>Frame Data: contains all symbolic references (constant pool resolution) and normal method returns related to that particular method.</li>\n</ol>\n<p>Native Stacks are used when an implementation of the Java Virtual Machine is using conventional stacks, colloquially called &quot;C stacks,&quot; to support native methods (methods written in a language other than the Java programming language).</p>\n<p>The heap is the run-time data area from which memory for all class instances and arrays is allocated.</p>\n<p>The Java Virtual Machine has a method area that is shared among all Java Virtual Machine threads. The method area is analogous to the storage area for compiled code of a conventional language or analogous to the &quot;text&quot; segment in an operating system process. It stores per-class structures such as the run-time constant pool, field and method data, and the code for methods and constructors, including the special methods used in class and interface initialization and in instance initialization (§2.9).</p>\n<blockquote>\n<p>A run-time constant pool is a per-class or per-interface run-time\nrepresentation of the constant_pool table in a class file (§4.4)</p>\n</blockquote>\n<p>So what does that mean in practical terms?  My understanding is that it is an abstraction to reference classes without any side effects.</p>\n<p>For example, what if you were using the Class object instead of the constant pool symbols for storing class structures at runtime and it didn't load properly?  I've seen a code base with multiple jars of the same name, type, and version all loaded from different areas of the code, because multiple teams worked on separate sections of a large code base and didn't bother to clean up the mess.  I also worked with tuples of strings as a means of constructing a unique location in a transportation program.  It worked, but it seemed to be a clunky mechanism for handling the use case. So my point is, the symbolic representations for classes and interfaces fill that need and create a standard procedure to reference classes during runtime, without side effects, to my knowledge.</p>\n<p>To quote <a href=\"https://cr.openjdk.java.net/%7Ebriangoetz/amber/constables.html\" rel=\"nofollow noreferrer\">Brian Goetz</a> on this:</p>\n<blockquote>\n<p>Activities such as bytecode generation have a frequent need to\ndescribe constants such as classes. However, a Class object is a poor\ndescription for an arbitrary class. Producing a Class instance has\nmany environmental dependencies and failure modes; loading may fail in\nbecause the desired class does not exist or may not be accessible to\nthe requestor, the result of loading varies with class loading\ncontext, loading classes has side-effects, and sometimes may not be\npossible at all (such as when the classes being described do not yet\nexist or are otherwise not loadable, as in during compilation of those\nsame classes, or during jlink-time transformation.) So, while the\nString class is a fine description for a Constant_String_info, the\nClass type is not a very good description for a Constant_Class_info.</p>\n<p>A number of activities share the need to deal with classes, methods, and\nother entities in a purely nominal form. Bytecode parsing and\ngeneration libraries must describe classes and method handles in\nsymbolic form. Without an official mechanism, they must resort to\nad-hoc mechanisms, whether descriptor types like ASM's Handle, or\ntuples of strings (method owner, method name, method descriptor), or\nad-hoc (and error-prone) encodings of these into a single string.\nBootstraps for invokedynamic that operate by spinning bytecode (such\nas LambdaMetafactory) would prefer to work in a symbolic domain rather\nthan with live classes and method handles. Compilers and offline\ntransformers (such as jlink plugins) need to describe classes and\nmembers for classes that cannot be loaded into the running VM.\nCompiler plugins (such as annotation processors) similarly need to\ndescribe program elements in symbolic terms. They would all benefit\nfrom having a single, official way to describe such constants.</p>\n</blockquote>\n<p>The Java docs quoted and elaborated on were from <a href=\"https://docs.oracle.com/javase/specs/jvms/se12/html/jvms-2.html\" rel=\"nofollow noreferrer\">Java SE 12</a>.</p>\n<p>There are diagrams to illustrate this: <a href=\"https://dzone.com/articles/jvm-architecture-explained\" rel=\"nofollow noreferrer\">the JVM Architecture from Dzone.</a></p>\n<p>Last of all is <a href=\"https://www.baeldung.com/jvm-constant-pool\" rel=\"nofollow noreferrer\">An Introduction to the Constant Pool in the JVM</a> by Baeldung that illustrates a simple Hello World program with bytecode.</p>\n"}],"owner":{"account_id":551032,"reputation":6317,"user_id":948909,"accept_rate":86,"display_name":"user35443"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11079,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":17406592,"answer_count":2,"score":18,"last_activity_date":1661802706,"creation_date":1372686789,"question_id":17406159,"body_markdown":"In these days I have been playing with Java reflection and `.class` format. I&#39;m currently studying `ldc` instruction. \r\n\r\nIn JVM Specification I found term I don&#39;t understand: **symbolic reference**, and I have the following questions.\r\n\r\n 1. What does it mean?\r\n\r\n \r\n\r\n 1. Where is it used?\r\n 2. In which cases does the `ldc` instruction load a symbolic reference?\r\n 3. Is there any code in Java corresponding to that action?","title":"Symbolic references in Java","body":"<p>In these days I have been playing with Java reflection and <code>.class</code> format. I'm currently studying <code>ldc</code> instruction. </p>\n\n<p>In JVM Specification I found term I don't understand: <strong>symbolic reference</strong>, and I have the following questions.</p>\n\n<ol>\n<li><p>What does it mean?</p></li>\n<li><p>Where is it used?</p></li>\n<li>In which cases does the <code>ldc</code> instruction load a symbolic reference?</li>\n<li>Is there any code in Java corresponding to that action?</li>\n</ol>\n"},{"tags":["java","jackson","amazon-dynamodb"],"comments":[{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":0,"creation_date":1434114339,"post_id":30793481,"comment_id":49655954,"body_markdown":"How come youryour marshaller does not implement `DynamoDBMarshaller`? Can you provide an [MCVE](http://stackoverflow.com/help/mcve) to reproduce the exception?","body":"How come youryour marshaller does not implement <code>DynamoDBMarshaller</code>? Can you provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> to reproduce the exception?"},{"owner":{"account_id":3245795,"reputation":315,"user_id":2737427,"accept_rate":100,"display_name":"is.magl"},"score":0,"creation_date":1434131142,"post_id":30793481,"comment_id":49666546,"body_markdown":"Added the MCVE. Since the ``JsonMarshaller`` has implement the ``DynamoDBMarshaller``, you don&#39;t need to implement it again.","body":"Added the MCVE. Since the <code>JsonMarshaller</code> has implement the <code>DynamoDBMarshaller</code>, you don&#39;t need to implement it again."}],"answers":[{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1434592855,"creation_date":1434515013,"answer_id":30882309,"question_id":30793481,"body_markdown":"Part of the problem here is how the whole DynamoDB Mapper SDK deals with generics. The `interface DynamoDBMarshaller&lt;T extends Object&gt;` has a method `T unmarshall(Class&lt;T&gt; clazz, String obj)`, in which the class to deserialize to is passed as a parameter. The problem is that there is [type erasure][1], and the SDK doesn&#39;t provide an easy to deal with this. Jackson is smarter in some cases (the `JsonMarshaller` uses Jackson), which explains why the `serialize` method works correctly. \r\n\r\nYou need to provide a better implementation for your deserialization. One way you could do this would be to implement the `DynamoDBMarshaller` interface rather than extending the other one (my opinion) so you have better control over how the type is serialized.\r\n\r\nHere is an example that is essentially copy/paste of the `JsonMarshaller`, with minor tweaks in deserialization for the `List` to give you an idea:\r\n\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMarshaller;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.ObjectWriter;\r\n    import com.fasterxml.jackson.databind.type.CollectionType;\r\n    \r\n    import java.util.List;\r\n    \r\n    import static com.amazonaws.util.Throwables.failure;\r\n    \r\n    public class MyCustomMarshaller implements DynamoDBMarshaller&lt;List&lt;MyObject&gt;&gt; {\r\n    \r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n        private static final ObjectWriter writer = mapper.writer();\r\n    \r\n        @Override\r\n        public String marshall(List&lt;MyObject&gt; obj) {\r\n    \r\n            try {\r\n                return writer.writeValueAsString(obj);\r\n            } catch (JsonProcessingException e) {\r\n                throw failure(e,\r\n                              &quot;Unable to marshall the instance of &quot; + obj.getClass()\r\n                              + &quot;into a string&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;MyObject&gt; unmarshall(Class&lt;List&lt;MyObject&gt;&gt; clazz, String json) {\r\n            final CollectionType\r\n                type =\r\n                mapper.getTypeFactory().constructCollectionType(List.class, MyObject.class);\r\n            try {\r\n                return mapper.readValue(json, type);\r\n            } catch (Exception e) {\r\n                throw failure(e, &quot;Unable to unmarshall the string &quot; + json\r\n                                 + &quot;into &quot; + clazz);\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/339708/627727","title":"DynamoDB JsonMarshaller cannot Deserialize List of Object","body":"<p>Part of the problem here is how the whole DynamoDB Mapper SDK deals with generics. The <code>interface DynamoDBMarshaller&lt;T extends Object&gt;</code> has a method <code>T unmarshall(Class&lt;T&gt; clazz, String obj)</code>, in which the class to deserialize to is passed as a parameter. The problem is that there is <a href=\"https://stackoverflow.com/a/339708/627727\">type erasure</a>, and the SDK doesn't provide an easy to deal with this. Jackson is smarter in some cases (the <code>JsonMarshaller</code> uses Jackson), which explains why the <code>serialize</code> method works correctly. </p>\n\n<p>You need to provide a better implementation for your deserialization. One way you could do this would be to implement the <code>DynamoDBMarshaller</code> interface rather than extending the other one (my opinion) so you have better control over how the type is serialized.</p>\n\n<p>Here is an example that is essentially copy/paste of the <code>JsonMarshaller</code>, with minor tweaks in deserialization for the <code>List</code> to give you an idea:</p>\n\n<pre><code>import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMarshaller;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ObjectWriter;\nimport com.fasterxml.jackson.databind.type.CollectionType;\n\nimport java.util.List;\n\nimport static com.amazonaws.util.Throwables.failure;\n\npublic class MyCustomMarshaller implements DynamoDBMarshaller&lt;List&lt;MyObject&gt;&gt; {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n    private static final ObjectWriter writer = mapper.writer();\n\n    @Override\n    public String marshall(List&lt;MyObject&gt; obj) {\n\n        try {\n            return writer.writeValueAsString(obj);\n        } catch (JsonProcessingException e) {\n            throw failure(e,\n                          \"Unable to marshall the instance of \" + obj.getClass()\n                          + \"into a string\");\n        }\n    }\n\n    @Override\n    public List&lt;MyObject&gt; unmarshall(Class&lt;List&lt;MyObject&gt;&gt; clazz, String json) {\n        final CollectionType\n            type =\n            mapper.getTypeFactory().constructCollectionType(List.class, MyObject.class);\n        try {\n            return mapper.readValue(json, type);\n        } catch (Exception e) {\n            throw failure(e, \"Unable to unmarshall the string \" + json\n                             + \"into \" + clazz);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6980449,"reputation":2835,"user_id":5353589,"display_name":"Weidian Huang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626447022,"creation_date":1477535214,"answer_id":40275134,"question_id":30793481,"body_markdown":"`Interface DynamoDBMarshaller&lt;T extends Object&gt;` is deprecated already, the replacement is `Interface DynamoDBTypeConverter&lt;S,T&gt;`.\r\n\r\nInside your model class, add the annotation to your list of objects.\r\n\r\n    @DynamoDBTypeConverted(converter = PhoneNumberConverter.class)\r\n       public List&lt;MyObject&gt; getObjects() { return this.objects; }\r\n  public void setObjects(List&lt;MyObject&gt; objects) { this.objects = objects; }\r\n\r\nAnd this is the implementation of `DynamoDBTypeConverter`.\r\n\r\n    public class PhoneNumberConverter implements DynamoDBTypeConverter&lt;String, PhoneNumber&gt;\r\n    {\r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n        private static final ObjectWriter writer = mapper.writerWithType(new TypeReference&lt;List&lt;MyObject&gt;&gt;(){});\r\n        @Override\r\n        public String convert(List&lt;MyObject&gt; obj) {\r\n                   try {\r\n                return writer.writeValueAsString(obj);\r\n            } catch (JsonProcessingException e) {\r\n                System.out.println(\r\n                        &quot;Unable to marshall the instance of &quot; + obj.getClass()\r\n                        + &quot;into a string&quot;);\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;MyObject&gt; unconvert(String s) {\r\n            TypeReference&lt;List&lt;MyObject&gt;&gt; type = new TypeReference&lt;List&lt;MyObject&gt;&gt;() {};\r\n            try {\r\n                List&lt;MyObject&gt; list = mapper.readValue(s, type);\r\n                return list;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Unable to unmarshall the string &quot; + s\r\n                                 + &quot;into &quot; + s);\r\n                return null;\r\n            }\r\n        }  \r\n    }\r\n\r\n\r\n","title":"DynamoDB JsonMarshaller cannot Deserialize List of Object","body":"<p><code>Interface DynamoDBMarshaller&lt;T extends Object&gt;</code> is deprecated already, the replacement is <code>Interface DynamoDBTypeConverter&lt;S,T&gt;</code>.</p>\n<p>Inside your model class, add the annotation to your list of objects.</p>\n<pre><code>@DynamoDBTypeConverted(converter = PhoneNumberConverter.class)\n   public List&lt;MyObject&gt; getObjects() { return this.objects; }\n</code></pre>\n<p>public void setObjects(List objects) { this.objects = objects; }</p>\n<p>And this is the implementation of <code>DynamoDBTypeConverter</code>.</p>\n<pre><code>public class PhoneNumberConverter implements DynamoDBTypeConverter&lt;String, PhoneNumber&gt;\n{\n    private static final ObjectMapper mapper = new ObjectMapper();\n    private static final ObjectWriter writer = mapper.writerWithType(new TypeReference&lt;List&lt;MyObject&gt;&gt;(){});\n    @Override\n    public String convert(List&lt;MyObject&gt; obj) {\n               try {\n            return writer.writeValueAsString(obj);\n        } catch (JsonProcessingException e) {\n            System.out.println(\n                    &quot;Unable to marshall the instance of &quot; + obj.getClass()\n                    + &quot;into a string&quot;);\n            return null;\n        }\n    }\n\n    @Override\n    public List&lt;MyObject&gt; unconvert(String s) {\n        TypeReference&lt;List&lt;MyObject&gt;&gt; type = new TypeReference&lt;List&lt;MyObject&gt;&gt;() {};\n        try {\n            List&lt;MyObject&gt; list = mapper.readValue(s, type);\n            return list;\n        } catch (Exception e) {\n            System.out.println(&quot;Unable to unmarshall the string &quot; + s\n                             + &quot;into &quot; + s);\n            return null;\n        }\n    }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10739,"reputation":8001,"user_id":20417,"accept_rate":100,"display_name":"Aleris"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1548156932,"creation_date":1482254085,"answer_id":41247823,"question_id":30793481,"body_markdown":"In newer versions simply works with:\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;things&quot;)\r\n    public List&lt;Thing&gt; getThings() {\r\n        return things;\r\n    }\r\n\r\n    public void setThings(final List&lt;Thing&gt; things) {\r\n        this.things = things;\r\n    }\r\n\r\ngiven that the Thing is adnotated with:\r\n\r\n    @DynamoDBDocument\r\n    public class Thing {\r\n    }\r\n\r\n\r\n","title":"DynamoDB JsonMarshaller cannot Deserialize List of Object","body":"<p>In newer versions simply works with:</p>\n\n<pre><code>@DynamoDBAttribute(attributeName = \"things\")\npublic List&lt;Thing&gt; getThings() {\n    return things;\n}\n\npublic void setThings(final List&lt;Thing&gt; things) {\n    this.things = things;\n}\n</code></pre>\n\n<p>given that the Thing is adnotated with:</p>\n\n<pre><code>@DynamoDBDocument\npublic class Thing {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6433233,"reputation":13876,"user_id":4985580,"display_name":"F_SO_K"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510045749,"creation_date":1510045749,"answer_id":47153880,"question_id":30793481,"body_markdown":"DynamoDBMarshaller is now deprecated but I get exactly the same problem with DynamoDBTypeConvertedJson. If you want to store a collection as JSON within a DynamoDBMapper class, use DynamoDBTypeConverted and write a custom converter class (do not use DynamoDBTypeConvertedJson which will not return your collection on unconvert).\r\n\r\nHere is the solution using DynamoDBTypeConverted \r\n\r\n    // Model.java\r\n    @DynamoDBTable(tableName = &quot;...&quot;)\r\n    public class Model {\r\n      private String id;\r\n      private List&lt;MyObject&gt; objects;\r\n    \r\n      public Model(String id, List&lt;MyObject&gt; objects) {\r\n        this.id = id;\r\n        this.objects = objects;\r\n      }\r\n    \r\n      @DynamoDBHashKey(attributeName = &quot;id&quot;)\r\n      public String getId() { return this.id; }\r\n      public void setId(String id) { this.id = id; }\r\n    \r\n      @DynamoDBTypeConverted(converter = MyObjectConverter.class)\r\n      public List&lt;MyObject&gt; getObjects() { return this.objects; }\r\n      public void setObjects(List&lt;MyObject&gt; objects) { this.objects = objects; }\r\n    }\r\n\r\n-\r\n\r\n    public class MyObjectConverter implements DynamoDBTypeConverter&lt;String, List&lt;MyObject&gt;&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic String convert(List&lt;Object&gt; objects) {\r\n            //Jackson object mapper\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\ttry {\r\n    \t\t\tString objectsString = objectMapper.writeValueAsString(objects);\r\n    \t\t\treturn objectsString;\r\n    \t\t} catch (JsonProcessingException e) {\r\n    \t\t\t//do something\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Object&gt; unconvert(String objectssString) {\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\ttry {\r\n    \t\t\tList&lt;Object&gt; objects = objectMapper.readValue(objectsString, new TypeReference&lt;List&lt;Object&gt;&gt;(){});\r\n    \t\t\treturn objects;\r\n    \t\t} catch (JsonParseException e) {\r\n    \t\t\t//do something\r\n    \t\t} catch (JsonMappingException e) {\r\n    \t\t\t//do something\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t//do something\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n","title":"DynamoDB JsonMarshaller cannot Deserialize List of Object","body":"<p>DynamoDBMarshaller is now deprecated but I get exactly the same problem with DynamoDBTypeConvertedJson. If you want to store a collection as JSON within a DynamoDBMapper class, use DynamoDBTypeConverted and write a custom converter class (do not use DynamoDBTypeConvertedJson which will not return your collection on unconvert).</p>\n\n<p>Here is the solution using DynamoDBTypeConverted </p>\n\n<pre><code>// Model.java\n@DynamoDBTable(tableName = \"...\")\npublic class Model {\n  private String id;\n  private List&lt;MyObject&gt; objects;\n\n  public Model(String id, List&lt;MyObject&gt; objects) {\n    this.id = id;\n    this.objects = objects;\n  }\n\n  @DynamoDBHashKey(attributeName = \"id\")\n  public String getId() { return this.id; }\n  public void setId(String id) { this.id = id; }\n\n  @DynamoDBTypeConverted(converter = MyObjectConverter.class)\n  public List&lt;MyObject&gt; getObjects() { return this.objects; }\n  public void setObjects(List&lt;MyObject&gt; objects) { this.objects = objects; }\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>public class MyObjectConverter implements DynamoDBTypeConverter&lt;String, List&lt;MyObject&gt;&gt; {\n\n    @Override\n    public String convert(List&lt;Object&gt; objects) {\n        //Jackson object mapper\n        ObjectMapper objectMapper = new ObjectMapper();\n        try {\n            String objectsString = objectMapper.writeValueAsString(objects);\n            return objectsString;\n        } catch (JsonProcessingException e) {\n            //do something\n        }\n        return null;\n    }\n\n    @Override\n    public List&lt;Object&gt; unconvert(String objectssString) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        try {\n            List&lt;Object&gt; objects = objectMapper.readValue(objectsString, new TypeReference&lt;List&lt;Object&gt;&gt;(){});\n            return objects;\n        } catch (JsonParseException e) {\n            //do something\n        } catch (JsonMappingException e) {\n            //do something\n        } catch (IOException e) {\n            //do something\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3121578,"reputation":1,"user_id":8374207,"display_name":"David Young"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517296029,"creation_date":1517296029,"answer_id":48515753,"question_id":30793481,"body_markdown":"I&#39;ve found that the response by Aleris works fine. In my example, I have a dynamo db table that contains two collections, both of non-primitive classes.\r\n\r\nAfter trying various flavours of DBTypeConverters (taking {String, MyObject}, {Collection&lt;String&gt;, Collection&lt;MyObject&gt;}, {String, Collection&lt;MyObject&gt;}) and also trying Set rather than Collection, by merely annotating the referred to class as a DynamoDBDocument, that I could pass a json array of data for those child classes and the data was persisted correctly.\r\n\r\nmy &quot;parent class&quot; looks like this (names altered to protect the innocent);\r\n\r\n    @DynamoDBTable(tableName = &quot;SomeTable&quot;)\r\n    public class ParentClass {\r\n    \r\n      @NotNull(message = &quot;Key must be specified&quot;)\r\n      @Size(min = 12, max = 20)\r\n      @DynamoDBHashKey\r\n      private String key;\r\n    \r\n      private String type;\r\n\r\n      @NotNull(message = &quot;name must be specified.&quot;)\r\n      private String name;\r\n\r\n      @NotNull(message = &quot;Type code must be specified&quot;)\r\n      @DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.S)\r\n      private TypeCode typeCode;\r\n\r\n      private List&lt;ImageRef&gt; images;\r\n\r\n      /**\r\n       * Optional physical dimensions\r\n       */\r\n      private Dimensions productDimensions;\r\n\r\n      /**\r\n        * Optional presentations.\r\n        */\r\n      private Set&lt;Presentation&gt; presentations;\r\n    }\r\n\r\nTypeCode is an enumeration.\r\nImageRef, Presentation and Dimensions classes are all tagged with the DynamoDBDocument annotation.","title":"DynamoDB JsonMarshaller cannot Deserialize List of Object","body":"<p>I've found that the response by Aleris works fine. In my example, I have a dynamo db table that contains two collections, both of non-primitive classes.</p>\n\n<p>After trying various flavours of DBTypeConverters (taking {String, MyObject}, {Collection, Collection}, {String, Collection}) and also trying Set rather than Collection, by merely annotating the referred to class as a DynamoDBDocument, that I could pass a json array of data for those child classes and the data was persisted correctly.</p>\n\n<p>my \"parent class\" looks like this (names altered to protect the innocent);</p>\n\n<pre><code>@DynamoDBTable(tableName = \"SomeTable\")\npublic class ParentClass {\n\n  @NotNull(message = \"Key must be specified\")\n  @Size(min = 12, max = 20)\n  @DynamoDBHashKey\n  private String key;\n\n  private String type;\n\n  @NotNull(message = \"name must be specified.\")\n  private String name;\n\n  @NotNull(message = \"Type code must be specified\")\n  @DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.S)\n  private TypeCode typeCode;\n\n  private List&lt;ImageRef&gt; images;\n\n  /**\n   * Optional physical dimensions\n   */\n  private Dimensions productDimensions;\n\n  /**\n    * Optional presentations.\n    */\n  private Set&lt;Presentation&gt; presentations;\n}\n</code></pre>\n\n<p>TypeCode is an enumeration.\nImageRef, Presentation and Dimensions classes are all tagged with the DynamoDBDocument annotation.</p>\n"},{"tags":[],"owner":{"account_id":5014301,"reputation":49,"user_id":4029537,"display_name":"SRI PREM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626209893,"creation_date":1626209893,"answer_id":68369237,"question_id":30793481,"body_markdown":"Just come through the same issue today and fixed it. It can be fixed by below ways. These might be plenty others too.\r\n\r\n**Approach 1:** Using @DynamoDBTypeConvertedJson. It stores the whole `List&lt;Object&gt;` as a single String and retrieves it as `List&lt;Object&gt;`. Add this Annotation to your field DynamoDB will handle the conversion.\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;userDetails&quot;)\r\n    @DynamoDBTypeConvertedJson\r\n    public List&lt;UserDetail&gt; getUserDetails() {\r\n    \treturn userDetails;\r\n    }\r\n\r\n**Approach 2:** Having a Custom converter. This Stores `List&lt;Object&gt;` as `List&lt;String&gt;` in DB and retrieves them back as `List&lt;Object&gt;`\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;userDetails&quot;)\r\n    @DynamoDBTypeConverted(converter = UserDetailConverter.class)\r\n    public List&lt;UserDetail&gt; getUserDetails() {\r\n    \treturn userDetails;\r\n    }\r\n\t\r\n    public class UserDetailConverter implements DynamoDBTypeConverter&lt;List&lt;String&gt;, List&lt;UserDetail&gt;&gt; {\r\n    \t\r\n    \tprivate static final ObjectMapper mapper = new ObjectMapper();\r\n        static {\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;String&gt; convert(List&lt;UserDetail&gt; object) {\r\n    \t\tList&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n    \t\tfor (UserDetail string : object) {\r\n    \t\t\ttry {\r\n    \t\t\t\tdetails.add(mapper.writeValueAsString(string));\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\tthrow new UncheckedIOException(&quot;Unable to serialize object&quot;, e);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn details;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;UserDetail&gt; unconvert(List&lt;String&gt; object) {\r\n    \t\tList&lt;UserDetail&gt; details = new ArrayList&lt;&gt;();\r\n    \t\tfor (String string : object) {\r\n    \t\t\tUserDetail detail;\r\n    \t\t\ttry {\r\n    \t\t\t\tdetail = mapper.readValue(string, UserDetail.class);\r\n    \t\t\t\tdetails.add(detail);\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\tthrow new UncheckedIOException(&quot;Unable to serialize object&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn details;\r\n\t}\r\n\r\n*Hope it helps somebody.*\r\n","title":"DynamoDB JsonMarshaller cannot Deserialize List of Object","body":"<p>Just come through the same issue today and fixed it. It can be fixed by below ways. These might be plenty others too.</p>\n<p><strong>Approach 1:</strong> Using @DynamoDBTypeConvertedJson. It stores the whole <code>List&lt;Object&gt;</code> as a single String and retrieves it as <code>List&lt;Object&gt;</code>. Add this Annotation to your field DynamoDB will handle the conversion.</p>\n<pre><code>@DynamoDBAttribute(attributeName = &quot;userDetails&quot;)\n@DynamoDBTypeConvertedJson\npublic List&lt;UserDetail&gt; getUserDetails() {\n    return userDetails;\n}\n</code></pre>\n<p><strong>Approach 2:</strong> Having a Custom converter. This Stores <code>List&lt;Object&gt;</code> as <code>List&lt;String&gt;</code> in DB and retrieves them back as <code>List&lt;Object&gt;</code></p>\n<pre><code>@DynamoDBAttribute(attributeName = &quot;userDetails&quot;)\n@DynamoDBTypeConverted(converter = UserDetailConverter.class)\npublic List&lt;UserDetail&gt; getUserDetails() {\n    return userDetails;\n}\n\npublic class UserDetailConverter implements DynamoDBTypeConverter&lt;List&lt;String&gt;, List&lt;UserDetail&gt;&gt; {\n    \n    private static final ObjectMapper mapper = new ObjectMapper();\n    static {\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    }\n\n    @Override\n    public List&lt;String&gt; convert(List&lt;UserDetail&gt; object) {\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        for (UserDetail string : object) {\n            try {\n                details.add(mapper.writeValueAsString(string));\n            } catch (IOException e) {\n                throw new UncheckedIOException(&quot;Unable to serialize object&quot;, e);\n            }\n        }\n        return details;\n    }\n\n    @Override\n    public List&lt;UserDetail&gt; unconvert(List&lt;String&gt; object) {\n        List&lt;UserDetail&gt; details = new ArrayList&lt;&gt;();\n        for (String string : object) {\n            UserDetail detail;\n            try {\n                detail = mapper.readValue(string, UserDetail.class);\n                details.add(detail);\n            } catch (IOException e) {\n                throw new UncheckedIOException(&quot;Unable to serialize object&quot;, e);\n        }\n    }\n    return details;\n}\n</code></pre>\n<p><em>Hope it helps somebody.</em></p>\n"}],"owner":{"account_id":3245795,"reputation":315,"user_id":2737427,"accept_rate":100,"display_name":"is.magl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23603,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":30882309,"answer_count":6,"score":15,"last_activity_date":1661802605,"creation_date":1434068351,"question_id":30793481,"body_markdown":"I have a Java class which is the data-model of a table in DynamoDB. I want to use the ``DynamoDBMapper`` to ``save`` and ``load`` items from Dynamo. One member of the class is a ``List&lt;MyObject&gt;``. So I used the ``JsonMarshaller&lt;List&lt;MyObject&gt;&gt;`` to serialize and de-serialize this field. \r\n\r\nThe list can be successfully serialized by the ``JsonMarshaller``. However, when I try to retrieve the entry back and read the list, it throws an exception: ``java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject``. It looks like that the ``JsonMarshaller`` de-serialize the data into the ``LinkedHashMap`` instead of ``MyObject``. How can I get rid of this problem?\r\n\r\nThe MCVE:\r\n\r\n&lt;!-- language : java --&gt;\r\n\r\n    // Model.java\r\n    @DynamoDBTable(tableName = &quot;...&quot;)\r\n    public class Model {\r\n      private String id;\r\n      private List&lt;MyObject&gt; objects;\r\n\r\n      public Model(String id, List&lt;MyObject&gt; objects) {\r\n        this.id = id;\r\n        this.objects = objects;\r\n      }\r\n      \r\n      @DynamoDBHashKey(attributeName = &quot;id&quot;)\r\n      public String getId() { return this.id; }\r\n      public void setId(String id) { this.id = id; }\r\n\r\n      @DynamoDBMarshalling(marshallerClass = ObjectListMarshaller.class)\r\n      public List&lt;MyObject&gt; getObjects() { return this.objects; }\r\n      public void setObjects(List&lt;MyObject&gt; objects) { this.objects = objects; }\r\n    }\r\n\r\n-----\r\n\r\n    // MyObject.java\r\n    public class MyObject {\r\n      private String name;\r\n      private String property;\r\n\r\n      public MyObject() { }\r\n      public MyObject(String name, String property) {\r\n        this.name = name;\r\n        this.property = property;\r\n      }\r\n\r\n      public String getName() { return this.name; }\r\n      public void setName(String name) { this.name = name; }\r\n\r\n      public String getProperty() { return this.property; }\r\n      public void setProperty(String property) { this.property = property; }\r\n    }\r\n\r\n------\r\n\r\n    // ObjectListMarshaller.java\r\n    public class ObjectListMarshaller extends JsonMarshaller&lt;List&lt;MyObject&gt;&gt; {}\r\n\r\n------\r\n\r\n    // Test.java\r\n    public class Test {\r\n      private static DynamoDBMapper mapper;\r\n      \r\n      static {\r\n        AmazonDynamoDBClient client = new AmazonDynamoDBClient(new ProfileCredentialsProvider()\r\n        mapper = new DynamoDBMapper(client);\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        MyObject obj1 = new MyObject(&quot;name1&quot;, &quot;property1&quot;);\r\n        MyObject obj2 = new MyObject(&quot;name2&quot;, &quot;property2&quot;);\r\n        List&lt;MyObject&gt; objs = Arrays.asList(obj1, obj2);\r\n\r\n        Model model = new Model(&quot;id1&quot;, objs);\r\n        mapper.save(model); // success\r\n\r\n        Model retrieved = mapper.load(Model.class, &quot;id1&quot;);\r\n        for (MyObject obj : retrieved.getObjects()) { // exception\r\n        }\r\n      }\r\n    }","title":"DynamoDB JsonMarshaller cannot Deserialize List of Object","body":"<p>I have a Java class which is the data-model of a table in DynamoDB. I want to use the <code>DynamoDBMapper</code> to <code>save</code> and <code>load</code> items from Dynamo. One member of the class is a <code>List&lt;MyObject&gt;</code>. So I used the <code>JsonMarshaller&lt;List&lt;MyObject&gt;&gt;</code> to serialize and de-serialize this field. </p>\n\n<p>The list can be successfully serialized by the <code>JsonMarshaller</code>. However, when I try to retrieve the entry back and read the list, it throws an exception: <code>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject</code>. It looks like that the <code>JsonMarshaller</code> de-serialize the data into the <code>LinkedHashMap</code> instead of <code>MyObject</code>. How can I get rid of this problem?</p>\n\n<p>The MCVE:</p>\n\n\n\n<pre><code>// Model.java\n@DynamoDBTable(tableName = \"...\")\npublic class Model {\n  private String id;\n  private List&lt;MyObject&gt; objects;\n\n  public Model(String id, List&lt;MyObject&gt; objects) {\n    this.id = id;\n    this.objects = objects;\n  }\n\n  @DynamoDBHashKey(attributeName = \"id\")\n  public String getId() { return this.id; }\n  public void setId(String id) { this.id = id; }\n\n  @DynamoDBMarshalling(marshallerClass = ObjectListMarshaller.class)\n  public List&lt;MyObject&gt; getObjects() { return this.objects; }\n  public void setObjects(List&lt;MyObject&gt; objects) { this.objects = objects; }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>// MyObject.java\npublic class MyObject {\n  private String name;\n  private String property;\n\n  public MyObject() { }\n  public MyObject(String name, String property) {\n    this.name = name;\n    this.property = property;\n  }\n\n  public String getName() { return this.name; }\n  public void setName(String name) { this.name = name; }\n\n  public String getProperty() { return this.property; }\n  public void setProperty(String property) { this.property = property; }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>// ObjectListMarshaller.java\npublic class ObjectListMarshaller extends JsonMarshaller&lt;List&lt;MyObject&gt;&gt; {}\n</code></pre>\n\n<hr>\n\n<pre><code>// Test.java\npublic class Test {\n  private static DynamoDBMapper mapper;\n\n  static {\n    AmazonDynamoDBClient client = new AmazonDynamoDBClient(new ProfileCredentialsProvider()\n    mapper = new DynamoDBMapper(client);\n  }\n\n  public static void main(String[] args) {\n    MyObject obj1 = new MyObject(\"name1\", \"property1\");\n    MyObject obj2 = new MyObject(\"name2\", \"property2\");\n    List&lt;MyObject&gt; objs = Arrays.asList(obj1, obj2);\n\n    Model model = new Model(\"id1\", objs);\n    mapper.save(model); // success\n\n    Model retrieved = mapper.load(Model.class, \"id1\");\n    for (MyObject obj : retrieved.getObjects()) { // exception\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","pom.xml","maven-bom"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1661800059,"post_id":73533512,"comment_id":129853212,"body_markdown":"maven works exactly like you expect, and I suggest to not argue with that until you  provide actual pom.","body":"maven works exactly like you expect, and I suggest to not argue with that until you  provide actual pom."},{"owner":{"account_id":14618603,"reputation":1,"user_id":10558008,"display_name":"youknowwho"},"score":0,"creation_date":1661801985,"post_id":73533512,"comment_id":129853705,"body_markdown":"@AndreyB.Panfilov I am not sure what else do you need? Also, not arguing with anything, just trying to understand how maven works and if the version for the dependency can be pulled from the BOM which is imported in dependency injection.","body":"@AndreyB.Panfilov I am not sure what else do you need? Also, not arguing with anything, just trying to understand how maven works and if the version for the dependency can be pulled from the BOM which is imported in dependency injection."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661826438,"post_id":73533512,"comment_id":129858022,"body_markdown":"modern (at least three years old) maven does import managed dependencies recursively, if you are observing another behaviour that means there is something wrong with your poms, which you do not want to provide.","body":"modern (at least three years old) maven does import managed dependencies recursively, if you are observing another behaviour that means there is something wrong with your poms, which you do not want to provide."}],"owner":{"account_id":14618603,"reputation":1,"user_id":10558008,"display_name":"youknowwho"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661801781,"creation_date":1661799661,"question_id":73533512,"body_markdown":"I have a parent platform BOM like this:\r\n\r\n\r\n    &lt;project&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.company&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;platform-bom&lt;/artifactId&gt;\r\n\t&lt;version&gt;7.0.LTS.9&lt;/version&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;!-- Third Party Dependencies Managed Via third-party BOM --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.company&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;third-party&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;7.0.LTS.9&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.company&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;7.0.LTS.9&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\nI am importing it like this in my project:\r\n\r\n    &lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.company&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;platform-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;7.0.LTS.9&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\r\nWhen I am importing api dependency like below, it automatically pulls the version from the imported BOM.\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nHowever when I try to do the same for the third party bom, it is not able to pull the version from the imported BOM.\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n            &lt;artifactId&gt;third-party&lt;/artifactId&gt;\r\n            &lt;type&gt;pom&lt;/pom&gt;\r\n     &lt;/dependency&gt;\r\n\r\n\r\nError I get is:  Unresolved dependency: &#39;com.company:third-party:pom:unknown&#39;. Is there a way to pull the version from the BOM which is imported? If not, I think it defeats the purpose of having a BOM in the first place.","title":"Automatically import nested BOMs version numbers in java project","body":"<p>I have a parent platform BOM like this:</p>\n<pre><code>&lt;project&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.company&lt;/groupId&gt;\n&lt;artifactId&gt;platform-bom&lt;/artifactId&gt;\n&lt;version&gt;7.0.LTS.9&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Third Party Dependencies Managed Via third-party BOM --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.company&lt;/groupId&gt;\n            &lt;artifactId&gt;third-party&lt;/artifactId&gt;\n            &lt;version&gt;7.0.LTS.9&lt;/version&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.company&lt;/groupId&gt;\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\n            &lt;version&gt;7.0.LTS.9&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I am importing it like this in my project:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.company&lt;/groupId&gt;\n            &lt;artifactId&gt;platform-bom&lt;/artifactId&gt;\n            &lt;version&gt;7.0.LTS.9&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>When I am importing api dependency like below, it automatically pulls the version from the imported BOM.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.company&lt;/groupId&gt;\n        &lt;artifactId&gt;api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However when I try to do the same for the third party bom, it is not able to pull the version from the imported BOM.</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.company&lt;/groupId&gt;\n        &lt;artifactId&gt;third-party&lt;/artifactId&gt;\n        &lt;type&gt;pom&lt;/pom&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>Error I get is:  Unresolved dependency: 'com.company:third-party:pom:unknown'. Is there a way to pull the version from the BOM which is imported? If not, I think it defeats the purpose of having a BOM in the first place.</p>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":2185225,"reputation":123,"user_id":1933771,"display_name":"Justin Grant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661695799,"creation_date":1661695799,"answer_id":73519384,"question_id":73513441,"body_markdown":"Personally, I would use something like [Apache Tika][1] to make an educated guess on the file type and slap a Content-Type in the camel headers. Then you can handle any number of types of files by using the [Choice][2] Enterprise Integration Pattern.  This relies heavily on the [Camel Direct Component][3], which I suggest learning about as it often used in Camel development for composable routes.  This would looks something like the following:\r\n\r\n    from(inputFilePath)\r\n    \t.process(exchange -&gt; {\r\n            Metadata metadata = new Metadata();\r\n            File f = exchange.getIn().getBody(File.class)\r\n    \t\tString mimetype = tika.getDetector().detect(TikaInputStream.get(f, metadata), metadata);\r\n     \t\texchange.setHeader(&quot;Content-Type&quot;, mimetype)\r\n     \t})\r\n        .to(&quot;direct:content-type-chooser&quot;)\r\n    \r\n    // route that just determines routing using the \r\n    from(&quot;direct:content-type-choose&quot;)\r\n    \t.choice()\r\n    \t\t.when(header(&quot;Content-Type&quot;).contains(&quot;application/xml&quot;)).to(&quot;direct:process-xml&quot;)\r\n    \t\t.when(header(&quot;Content-Type&quot;).contains(&quot;application/json&quot;)).to(&quot;direct:process-json&quot;)\r\n    \t.otherwise()\r\n    \t\t.to(&quot;direct:unsupported-type&quot;)\r\n    \r\n    // route for processing xml\r\n    from(&quot;direct:process-xml&quot;)\r\n    \t...\r\n\r\n    // route for processing json    \r\n    from(&quot;direct:process-json&quot;)\r\n    \t...\r\n    \r\n    // route for giving an error because we don&#39;t support it, or doing whatever you do (like move it to another folder for later processing)\r\n    from(&quot;direct:unsupported-type&quot;)\r\n    \t...\r\n\r\nOnce you have gotten to a specific type, you can leverage [Marshallers][4] and [Unmarhallers][5].\r\n\r\n\r\nUnfortunately, the only way to learn camel is to read the docs (thoroughly) and use it.  Because camel is really just an extension of java, using standardized communication patterns, it really can do anything, so the amount that it can do could fill the internet. This problem is prevalent in all frameworks. For example, if you learn Spring, there are a lot of &quot;Hello World&quot; projects, but not a ton that do really complicated things. For that, you might have to scour GitHub codebases or do really targeted google searches.\r\n\r\n  [1]: https://tika.apache.org/2.4.1/detection.html\r\n  [2]: https://camel.apache.org/components/3.18.x/eips/choice-eip.html\r\n  [3]: https://camel.apache.org/components/3.18.x/direct-component.html\r\n  [4]: https://camel.apache.org/components/3.18.x/eips/marshal-eip.html\r\n  [5]: https://camel.apache.org/components/3.18.x/eips/unmarshal-eip.html","title":"How to write a Apache Camel route to check and convert XML contents to JSON and vice-versa for a Spring boot service","body":"<p>Personally, I would use something like <a href=\"https://tika.apache.org/2.4.1/detection.html\" rel=\"nofollow noreferrer\">Apache Tika</a> to make an educated guess on the file type and slap a Content-Type in the camel headers. Then you can handle any number of types of files by using the <a href=\"https://camel.apache.org/components/3.18.x/eips/choice-eip.html\" rel=\"nofollow noreferrer\">Choice</a> Enterprise Integration Pattern.  This relies heavily on the <a href=\"https://camel.apache.org/components/3.18.x/direct-component.html\" rel=\"nofollow noreferrer\">Camel Direct Component</a>, which I suggest learning about as it often used in Camel development for composable routes.  This would looks something like the following:</p>\n<pre><code>from(inputFilePath)\n    .process(exchange -&gt; {\n        Metadata metadata = new Metadata();\n        File f = exchange.getIn().getBody(File.class)\n        String mimetype = tika.getDetector().detect(TikaInputStream.get(f, metadata), metadata);\n        exchange.setHeader(&quot;Content-Type&quot;, mimetype)\n    })\n    .to(&quot;direct:content-type-chooser&quot;)\n\n// route that just determines routing using the \nfrom(&quot;direct:content-type-choose&quot;)\n    .choice()\n        .when(header(&quot;Content-Type&quot;).contains(&quot;application/xml&quot;)).to(&quot;direct:process-xml&quot;)\n        .when(header(&quot;Content-Type&quot;).contains(&quot;application/json&quot;)).to(&quot;direct:process-json&quot;)\n    .otherwise()\n        .to(&quot;direct:unsupported-type&quot;)\n\n// route for processing xml\nfrom(&quot;direct:process-xml&quot;)\n    ...\n\n// route for processing json    \nfrom(&quot;direct:process-json&quot;)\n    ...\n\n// route for giving an error because we don't support it, or doing whatever you do (like move it to another folder for later processing)\nfrom(&quot;direct:unsupported-type&quot;)\n    ...\n</code></pre>\n<p>Once you have gotten to a specific type, you can leverage <a href=\"https://camel.apache.org/components/3.18.x/eips/marshal-eip.html\" rel=\"nofollow noreferrer\">Marshallers</a> and <a href=\"https://camel.apache.org/components/3.18.x/eips/unmarshal-eip.html\" rel=\"nofollow noreferrer\">Unmarhallers</a>.</p>\n<p>Unfortunately, the only way to learn camel is to read the docs (thoroughly) and use it.  Because camel is really just an extension of java, using standardized communication patterns, it really can do anything, so the amount that it can do could fill the internet. This problem is prevalent in all frameworks. For example, if you learn Spring, there are a lot of &quot;Hello World&quot; projects, but not a ton that do really complicated things. For that, you might have to scour GitHub codebases or do really targeted google searches.</p>\n"},{"tags":[],"owner":{"account_id":24082535,"reputation":11,"user_id":18057015,"display_name":"Prabhpreet Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661801621,"creation_date":1661801621,"answer_id":73533822,"question_id":73513441,"body_markdown":"I won&#39;t say its a good answer but an easy alternative I would say. \r\n\r\nWhat I did is, I created a processor which will check first character of file and if its &quot;{&quot;, then its json and if its &quot;&lt;&quot;, then its XML. So, after detecting, I would add a header to camel route exchange as &quot;Type&quot;: json or xml or unknown\r\n\r\nAnd using camel&#39;s &quot;simple&quot; language,I will check the header and based on that, in the route, I will do the processing. I am adding below files for better reference.\r\n\r\nPredicates used in route:\r\n```\r\nprivate Predicate notNull=body().isNotNull();\r\n\r\n    private Predicate notEmpty=body().isNotEqualTo(&quot;&quot;);\r\n\r\n    private Predicate checkEmptyFile=PredicateBuilder.and(notNull,notEmpty);\r\n\r\n\r\n    private Predicate checkIfJsonContents=header(&quot;Type&quot;).isEqualTo(&quot;json&quot;);\r\n\r\n    private Predicate checkIfXmlContents=header(&quot;Type&quot;).isEqualTo(&quot;xml&quot;);\r\n\r\n    private Predicate checkIfFileHasJsonContents=PredicateBuilder.and(checkEmptyFile,checkIfJsonContents);\r\n\r\n    private Predicate checkIfFileHasXmlContents=PredicateBuilder.and(checkEmptyFile,checkIfXmlContents);\r\n\r\n```\r\n\r\nRoute:\r\n```\r\nfrom(inputFilePath)\r\n                    .routeId(&quot;readingJsonFromFile&quot;)\r\n                    .routeDescription(&quot;This route will assign a file type to file based on contents and then save it in different folder based on contents.&quot;)\r\n                .process(fileTypeDetectionProcessor)\r\n                .log(&quot;Added file type to header as: ${header.Type}&quot;)\r\n                .choice()\r\n                .when(checkIfFileHasJsonContents)\r\n                    .log(&quot;Payload before converting to XML: ${body}&quot;)\r\n                    .unmarshal().json(JsonLibrary.Jackson, Message.class)\r\n                    .marshal().jacksonXml(true)\r\n                    .log(LoggingLevel.INFO, &quot;Payload after converting to xml = ${body}&quot;)\r\n                    .to(outputFilePathForXml)\r\n                .when(checkIfFileHasXmlContents)\r\n                    .log(&quot;Payload before converting to JSON: ${body}&quot;)\r\n                    .unmarshal().jacksonXml(Message.class,true)\r\n                    .marshal().json(true)\r\n                    .log(LoggingLevel.INFO, &quot;Payload after converting to JSON = ${body}&quot;)\r\n                    .to(outputFilePathForJson)\r\n                .otherwise()\r\n                    .log(&quot;Unreadable format or empty file!!&quot;)\r\n                    .to(outputFilePathForBadFile)\r\n                .end();\r\n```\r\n\r\nProcessor:\r\n```\r\npublic class FileTypeDetectionProcessor implements Processor {\r\n\r\n\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n\r\n        if(exchange.getIn().getBody(String.class).startsWith(&quot;{&quot;))\r\n            exchange.getIn().setHeader(&quot;Type&quot;,&quot;json&quot;);\r\n        else if(exchange.getIn().getBody(String.class).startsWith(&quot;&lt;&quot;))\r\n            exchange.getIn().setHeader(&quot;Type&quot;,&quot;xml&quot;);\r\n        else\r\n            exchange.getIn().setHeader(&quot;Type&quot;,&quot;unknown&quot;);\r\n    }\r\n}\r\n```","title":"How to write a Apache Camel route to check and convert XML contents to JSON and vice-versa for a Spring boot service","body":"<p>I won't say its a good answer but an easy alternative I would say.</p>\n<p>What I did is, I created a processor which will check first character of file and if its &quot;{&quot;, then its json and if its &quot;&lt;&quot;, then its XML. So, after detecting, I would add a header to camel route exchange as &quot;Type&quot;: json or xml or unknown</p>\n<p>And using camel's &quot;simple&quot; language,I will check the header and based on that, in the route, I will do the processing. I am adding below files for better reference.</p>\n<p>Predicates used in route:</p>\n<pre><code>private Predicate notNull=body().isNotNull();\n\n    private Predicate notEmpty=body().isNotEqualTo(&quot;&quot;);\n\n    private Predicate checkEmptyFile=PredicateBuilder.and(notNull,notEmpty);\n\n\n    private Predicate checkIfJsonContents=header(&quot;Type&quot;).isEqualTo(&quot;json&quot;);\n\n    private Predicate checkIfXmlContents=header(&quot;Type&quot;).isEqualTo(&quot;xml&quot;);\n\n    private Predicate checkIfFileHasJsonContents=PredicateBuilder.and(checkEmptyFile,checkIfJsonContents);\n\n    private Predicate checkIfFileHasXmlContents=PredicateBuilder.and(checkEmptyFile,checkIfXmlContents);\n\n</code></pre>\n<p>Route:</p>\n<pre><code>from(inputFilePath)\n                    .routeId(&quot;readingJsonFromFile&quot;)\n                    .routeDescription(&quot;This route will assign a file type to file based on contents and then save it in different folder based on contents.&quot;)\n                .process(fileTypeDetectionProcessor)\n                .log(&quot;Added file type to header as: ${header.Type}&quot;)\n                .choice()\n                .when(checkIfFileHasJsonContents)\n                    .log(&quot;Payload before converting to XML: ${body}&quot;)\n                    .unmarshal().json(JsonLibrary.Jackson, Message.class)\n                    .marshal().jacksonXml(true)\n                    .log(LoggingLevel.INFO, &quot;Payload after converting to xml = ${body}&quot;)\n                    .to(outputFilePathForXml)\n                .when(checkIfFileHasXmlContents)\n                    .log(&quot;Payload before converting to JSON: ${body}&quot;)\n                    .unmarshal().jacksonXml(Message.class,true)\n                    .marshal().json(true)\n                    .log(LoggingLevel.INFO, &quot;Payload after converting to JSON = ${body}&quot;)\n                    .to(outputFilePathForJson)\n                .otherwise()\n                    .log(&quot;Unreadable format or empty file!!&quot;)\n                    .to(outputFilePathForBadFile)\n                .end();\n</code></pre>\n<p>Processor:</p>\n<pre><code>public class FileTypeDetectionProcessor implements Processor {\n\n\n    @Override\n    public void process(Exchange exchange) throws Exception {\n\n        if(exchange.getIn().getBody(String.class).startsWith(&quot;{&quot;))\n            exchange.getIn().setHeader(&quot;Type&quot;,&quot;json&quot;);\n        else if(exchange.getIn().getBody(String.class).startsWith(&quot;&lt;&quot;))\n            exchange.getIn().setHeader(&quot;Type&quot;,&quot;xml&quot;);\n        else\n            exchange.getIn().setHeader(&quot;Type&quot;,&quot;unknown&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24082535,"reputation":11,"user_id":18057015,"display_name":"Prabhpreet Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73533822,"answer_count":2,"score":0,"last_activity_date":1661801621,"creation_date":1661624839,"question_id":73513441,"body_markdown":"I am new to using Apache camel with Spring boot and try to implement a basic route in which, I want to filter out first whether the file has json contents or xml contents and based upon it, I want to save the file in some specific folder.\r\n\r\nI make my service instance up and then hit its post endpoint using postman with JSON content. My service saves that file to some folder location with txt extension. I have created the route in the service which picks up the file and checks if it is not empty, it will transform the contents in to XML format and store it to some folder. Route for this thing is below:\r\n\r\n```\r\npublic class OutboundRoute extends RouteBuilder {\r\n\r\n    Predicate p1=body().isNotNull();\r\n    Predicate p2=body().isNotEqualTo(&quot;&quot;);\r\n\r\n    Predicate predicateGroup=PredicateBuilder.and(p1,p2);\r\n\r\n    String inputFilePath=&quot;file:C:\\\\Users\\\\StorageFolder\\\\Input?noop=true&quot;;\r\n\r\n    String outputFilePathForJson=&quot;file:C:\\\\Users\\\\StorageFolder\\\\JsonFolderOutput?delete=true&quot;;\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(inputFilePath)\r\n                .routeId(&quot;readingJsonFromFile&quot;)\r\n                .choice()\r\n                .when(predicateGroup)\r\n                        .log(&quot;Before converting to XML: ${body}&quot;)\r\n                        .unmarshal().json(JsonLibrary.Jackson, Message.class)\r\n                        .marshal().jacksonXml(true)\r\n                        .log(LoggingLevel.INFO, &quot;Payload after converting to xml = ${body}&quot;)\r\n                        .to(outputFilePathForJson)\r\n                .otherwise()\r\n                .log(&quot;Body is Empty!!&quot;)\r\n        .end();\r\n    }\r\n}\r\n```\r\n\r\nNow I want to implement this thing for xml also for better understanding. I want that I can hit my service using postman with either XML or JSON content. The route should pick the file and check it. If it has XML contents, route should convert its contents to JSON and store it to JSON folder but if it has JSON contents, route should convert its contents to XML and store it to XML folder. I need help with this thing.\r\n\r\nMain thing is that when I hit the service using postman, service will always store the file with txt extension only. So, I need help with a way to find that content of file is of JSON format or XML format.\r\n\r\nAlso, I tried finding some content about learning apache camel but everywhere found basic tutorials only. Can someone recommend some platform where I can learn how to write complex routes?","title":"How to write a Apache Camel route to check and convert XML contents to JSON and vice-versa for a Spring boot service","body":"<p>I am new to using Apache camel with Spring boot and try to implement a basic route in which, I want to filter out first whether the file has json contents or xml contents and based upon it, I want to save the file in some specific folder.</p>\n<p>I make my service instance up and then hit its post endpoint using postman with JSON content. My service saves that file to some folder location with txt extension. I have created the route in the service which picks up the file and checks if it is not empty, it will transform the contents in to XML format and store it to some folder. Route for this thing is below:</p>\n<pre><code>public class OutboundRoute extends RouteBuilder {\n\n    Predicate p1=body().isNotNull();\n    Predicate p2=body().isNotEqualTo(&quot;&quot;);\n\n    Predicate predicateGroup=PredicateBuilder.and(p1,p2);\n\n    String inputFilePath=&quot;file:C:\\\\Users\\\\StorageFolder\\\\Input?noop=true&quot;;\n\n    String outputFilePathForJson=&quot;file:C:\\\\Users\\\\StorageFolder\\\\JsonFolderOutput?delete=true&quot;;\n\n    @Override\n    public void configure() throws Exception {\n        from(inputFilePath)\n                .routeId(&quot;readingJsonFromFile&quot;)\n                .choice()\n                .when(predicateGroup)\n                        .log(&quot;Before converting to XML: ${body}&quot;)\n                        .unmarshal().json(JsonLibrary.Jackson, Message.class)\n                        .marshal().jacksonXml(true)\n                        .log(LoggingLevel.INFO, &quot;Payload after converting to xml = ${body}&quot;)\n                        .to(outputFilePathForJson)\n                .otherwise()\n                .log(&quot;Body is Empty!!&quot;)\n        .end();\n    }\n}\n</code></pre>\n<p>Now I want to implement this thing for xml also for better understanding. I want that I can hit my service using postman with either XML or JSON content. The route should pick the file and check it. If it has XML contents, route should convert its contents to JSON and store it to JSON folder but if it has JSON contents, route should convert its contents to XML and store it to XML folder. I need help with this thing.</p>\n<p>Main thing is that when I hit the service using postman, service will always store the file with txt extension only. So, I need help with a way to find that content of file is of JSON format or XML format.</p>\n<p>Also, I tried finding some content about learning apache camel but everywhere found basic tutorials only. Can someone recommend some platform where I can learn how to write complex routes?</p>\n"},{"tags":["java","spring","spring-boot","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":2,"creation_date":1636214757,"post_id":69865333,"comment_id":123499275,"body_markdown":"That Dockerfile can&#39;t be used as a live-reloading environment; it doesn&#39;t include any of the original Java source files, PNG renderings of them, or a JDK.  I&#39;d recommend using an ordinary non-Docker Java development environment here.","body":"That Dockerfile can&#39;t be used as a live-reloading environment; it doesn&#39;t include any of the original Java source files, PNG renderings of them, or a JDK.  I&#39;d recommend using an ordinary non-Docker Java development environment here."}],"answers":[{"tags":[],"owner":{"account_id":23005761,"reputation":39,"user_id":17129091,"display_name":"Helth"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1636448792,"creation_date":1636361234,"answer_id":69880735,"question_id":69865333,"body_markdown":"I found [this article](https://medium.com/trantor-inc/developing-spring-boot-applications-in-docker-locally-4ec922f4cb45) to be helpful when setting up a Docker environment. \r\n\r\nDockerfile:\r\n\r\n```\r\nFROM eclipse-temurin:11\r\nRUN apt-get update &amp;&amp; apt-get -y upgrade\r\nRUN apt-get install -y inotify-tools dos2unix\r\nENV HOME=/app\r\nRUN mkdir -p $HOME\r\nWORKDIR $HOME\r\n```\r\n\r\nrun.sh\r\n```\r\n#!/bin/bash\r\ndos2unix mvnw\r\n./mvnw spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot; &amp;\r\nwhile true; do\r\n  inotifywait -e modify,create,delete,move -r ./src/ &amp;&amp; ./mvnw compile\r\ndone\r\n```\r\n\r\ndocker-compose.yml\r\n```\r\nversion: &#39;3.3&#39;\r\nservices:\r\n  api:\r\n    build:\r\n      context: ./\r\n      dockerfile: Dockerfile\r\n    volumes:\r\n      - ./:/app\r\n      - ./.m2:/root/.m2\r\n    working_dir: /app\r\n    command: sh run.sh\r\n    ports:\r\n      - 8080:8080\r\n      - 35729:35729\r\n      - 5005:5005\r\n```\r\n","title":"Spring boot docker autoreload using devtools","body":"<p>I found <a href=\"https://medium.com/trantor-inc/developing-spring-boot-applications-in-docker-locally-4ec922f4cb45\" rel=\"nofollow noreferrer\">this article</a> to be helpful when setting up a Docker environment.</p>\n<p>Dockerfile:</p>\n<pre><code>FROM eclipse-temurin:11\nRUN apt-get update &amp;&amp; apt-get -y upgrade\nRUN apt-get install -y inotify-tools dos2unix\nENV HOME=/app\nRUN mkdir -p $HOME\nWORKDIR $HOME\n</code></pre>\n<p>run.sh</p>\n<pre><code>#!/bin/bash\ndos2unix mvnw\n./mvnw spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot; &amp;\nwhile true; do\n  inotifywait -e modify,create,delete,move -r ./src/ &amp;&amp; ./mvnw compile\ndone\n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>version: '3.3'\nservices:\n  api:\n    build:\n      context: ./\n      dockerfile: Dockerfile\n    volumes:\n      - ./:/app\n      - ./.m2:/root/.m2\n    working_dir: /app\n    command: sh run.sh\n    ports:\n      - 8080:8080\n      - 35729:35729\n      - 5005:5005\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15830303,"reputation":17,"user_id":11421836,"display_name":"Minh Trần"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1661801428,"creation_date":1661795802,"answer_id":73532844,"question_id":69865333,"body_markdown":"I think you should add delegated to docker compose.\r\n\r\n*The problem is miss config delegated*:\r\n\r\n    volumes:\r\n      ...  \r\n      - ./authorization-server:/authorization-server:delegated\r\n\r\n**DockerFile**\r\n\r\n    # FROM openjdk:18-alpine\r\n    FROM openjdk:18-alpine\r\n    FROM maven:latest\r\n\r\n    RUN mkdir /authorization-server\r\n    WORKDIR /authorization-server\r\n\r\n    COPY .mvn/ .mvn\r\n    COPY mvnw pom.xml ./\r\n\r\n    RUN mvn dependency:go-offline\r\n\r\n    COPY src ./src\r\n\r\n    CMD [ &quot;mvn&quot;, &quot;spring-boot:run&quot; ]\r\n\r\n**Pom.xml add plugin devtool**\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t  &lt;excludeDevtools&gt;false&lt;/excludeDevtools&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n**docker-compose.yml**\r\n\r\n    version: &quot;3.8&quot;\r\n\r\n    networks:\r\n      # networks\r\n      spring-boot-network:\r\n        driver: bridge\r\n\r\n    services:\r\n      micro-service-mysql:\r\n        container_name: micro-service-mysql\r\n        image: mysql:latest\r\n        environment:\r\n            MYSQL_DATABASE: &#39;authorization-server&#39;\r\n            # We cannot set user as &#39;root&#39; if mysql is below version of 5.x: https://github.com/docker-library/mysql/issues/129\r\n            MYSQL_USER: &#39;admin&#39;\r\n            MYSQL_PASSWORD: &#39;311094&#39;\r\n            MYSQL_ROOT_PASSWORD: &#39;311094&#39;\r\n        ports:\r\n            - &quot;3110:3306&quot;\r\n        networks:\r\n            - spring-boot-network\r\n        volumes:\r\n            - ./data/conf.d:/etc/mysql/conf.d\r\n            - ./data/logs:/logs\r\n            - spring_boot_db:/var/lib/mysql\r\n      # spring boot\r\n      authorization-server:\r\n        container_name: authorization-server\r\n        build:\r\n            context: ./authorization-server\r\n            dockerfile: Dockerfile\r\n        ports:\r\n            - 9003:9003\r\n        networks:\r\n            - spring-boot-network\r\n        volumes:\r\n            - ./authorization-server:/authorization-server:delegated\r\n        privileged: true\r\n        # deploy:\r\n        #     resources:\r\n        #         limits:\r\n        #             cpus: &#39;0.50&#39;\r\n        #             memory: 1500M\r\n        #         reservations:\r\n        #             cpus: &#39;0.25&#39;\r\n        #             memory: 20M\r\n    volumes:\r\n      spring_boot_db:\r\n\r\n    networks:\r\n      spring-boot-network:","title":"Spring boot docker autoreload using devtools","body":"<p>I think you should add delegated to docker compose.</p>\n<p><em>The problem is miss config delegated</em>:</p>\n<pre><code>volumes:\n  ...  \n  - ./authorization-server:/authorization-server:delegated\n</code></pre>\n<p><strong>DockerFile</strong></p>\n<pre><code># FROM openjdk:18-alpine\nFROM openjdk:18-alpine\nFROM maven:latest\n\nRUN mkdir /authorization-server\nWORKDIR /authorization-server\n\nCOPY .mvn/ .mvn\nCOPY mvnw pom.xml ./\n\nRUN mvn dependency:go-offline\n\nCOPY src ./src\n\nCMD [ &quot;mvn&quot;, &quot;spring-boot:run&quot; ]\n</code></pre>\n<p><strong>Pom.xml add plugin devtool</strong></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;excludeDevtools&gt;false&lt;/excludeDevtools&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><strong>docker-compose.yml</strong></p>\n<pre><code>version: &quot;3.8&quot;\n\nnetworks:\n  # networks\n  spring-boot-network:\n    driver: bridge\n\nservices:\n  micro-service-mysql:\n    container_name: micro-service-mysql\n    image: mysql:latest\n    environment:\n        MYSQL_DATABASE: 'authorization-server'\n        # We cannot set user as 'root' if mysql is below version of 5.x: https://github.com/docker-library/mysql/issues/129\n        MYSQL_USER: 'admin'\n        MYSQL_PASSWORD: '311094'\n        MYSQL_ROOT_PASSWORD: '311094'\n    ports:\n        - &quot;3110:3306&quot;\n    networks:\n        - spring-boot-network\n    volumes:\n        - ./data/conf.d:/etc/mysql/conf.d\n        - ./data/logs:/logs\n        - spring_boot_db:/var/lib/mysql\n  # spring boot\n  authorization-server:\n    container_name: authorization-server\n    build:\n        context: ./authorization-server\n        dockerfile: Dockerfile\n    ports:\n        - 9003:9003\n    networks:\n        - spring-boot-network\n    volumes:\n        - ./authorization-server:/authorization-server:delegated\n    privileged: true\n    # deploy:\n    #     resources:\n    #         limits:\n    #             cpus: '0.50'\n    #             memory: 1500M\n    #         reservations:\n    #             cpus: '0.25'\n    #             memory: 20M\nvolumes:\n  spring_boot_db:\n\nnetworks:\n  spring-boot-network:\n</code></pre>\n"}],"owner":{"account_id":23005761,"reputation":39,"user_id":17129091,"display_name":"Helth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69880735,"answer_count":2,"score":1,"last_activity_date":1661801428,"creation_date":1636212398,"question_id":69865333,"body_markdown":"I am working with Spring boot and I am trying to setup an docker environment that updates the application, when I make changes on my own computer. \r\n\r\nI have found the Spring boot dev tools is what I need to use, and I have setup this already. But the application never updates the code even when I hit save and can see in the console that it updates. \r\n\r\nThis is my Dockerfile:\r\n```\r\n#### Stage 1: Build the application\r\nFROM openjdk:8-jdk-alpine as build\r\n\r\n# Set the current working directory inside the image\r\nWORKDIR /app\r\n\r\n# Copy maven executable to the image\r\nCOPY mvnw .\r\nCOPY .mvn .mvn\r\n\r\n# Copy the pom.xml file\r\nCOPY pom.xml .\r\n\r\n# Build all the dependencies in preparation to go offline. \r\n# This is a separate step so the dependencies will be cached unless \r\n# the pom.xml file has changed.\r\nRUN ./mvnw dependency:go-offline -B\r\n\r\n# Copy the project source\r\nCOPY src src\r\n\r\n# Package the application\r\nRUN ./mvnw package -DskipTests\r\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\r\n\r\n#### Stage 2: A minimal docker image with command to run the app \r\nFROM openjdk:8-jre-alpine\r\n\r\nARG DEPENDENCY=/app/target/dependency\r\n\r\n# Copy project dependencies from the build stage\r\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/lib /app/lib\r\nCOPY --from=build ${DEPENDENCY}/META-INF /app/META-INF\r\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/classes /app\r\n\r\nENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;app:app/lib/*&quot;,&quot;com.example.polls.PollsApplication&quot;]\r\n```\r\n\r\nThis is what I have In my **POM.xml** and seems to be working\r\n\r\n[![spring-boot-devtools][1]][1]\r\n\r\nAnd as you can see, when I hit save, this is the output in the console.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zZDQL.png\r\n  [2]: https://i.stack.imgur.com/iKYr0.png\r\n\r\nI have checked inside the container, that the files are updated, and they are.\r\nSo my question is - Why is my application not updating with the new code, even tho it says it has changed and the files IS changed? Is it something with my docker?","title":"Spring boot docker autoreload using devtools","body":"<p>I am working with Spring boot and I am trying to setup an docker environment that updates the application, when I make changes on my own computer.</p>\n<p>I have found the Spring boot dev tools is what I need to use, and I have setup this already. But the application never updates the code even when I hit save and can see in the console that it updates.</p>\n<p>This is my Dockerfile:</p>\n<pre><code>#### Stage 1: Build the application\nFROM openjdk:8-jdk-alpine as build\n\n# Set the current working directory inside the image\nWORKDIR /app\n\n# Copy maven executable to the image\nCOPY mvnw .\nCOPY .mvn .mvn\n\n# Copy the pom.xml file\nCOPY pom.xml .\n\n# Build all the dependencies in preparation to go offline. \n# This is a separate step so the dependencies will be cached unless \n# the pom.xml file has changed.\nRUN ./mvnw dependency:go-offline -B\n\n# Copy the project source\nCOPY src src\n\n# Package the application\nRUN ./mvnw package -DskipTests\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\n\n#### Stage 2: A minimal docker image with command to run the app \nFROM openjdk:8-jre-alpine\n\nARG DEPENDENCY=/app/target/dependency\n\n# Copy project dependencies from the build stage\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/lib /app/lib\nCOPY --from=build ${DEPENDENCY}/META-INF /app/META-INF\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/classes /app\n\nENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;app:app/lib/*&quot;,&quot;com.example.polls.PollsApplication&quot;]\n</code></pre>\n<p>This is what I have In my <strong>POM.xml</strong> and seems to be working</p>\n<p><a href=\"https://i.stack.imgur.com/zZDQL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zZDQL.png\" alt=\"spring-boot-devtools\" /></a></p>\n<p>And as you can see, when I hit save, this is the output in the console.</p>\n<p><a href=\"https://i.stack.imgur.com/iKYr0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iKYr0.png\" alt=\"enter image description here\" /></a></p>\n<p>I have checked inside the container, that the files are updated, and they are.\nSo my question is - Why is my application not updating with the new code, even tho it says it has changed and the files IS changed? Is it something with my docker?</p>\n"},{"tags":["java","android","eclipse","java-native-interface"],"comments":[{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1339310701,"post_id":10966830,"comment_id":14319404,"body_markdown":"Have you checked if the file exists?","body":"Have you checked if the file exists?"}],"answers":[{"tags":[],"owner":{"account_id":395253,"reputation":27958,"user_id":758104,"accept_rate":65,"display_name":"Vipul"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1661801184,"creation_date":1339310772,"answer_id":10966854,"question_id":10966830,"body_markdown":"\r\nFrom this what i am seeing is you are using 32 bit version of java.\r\n\r\n**To overcome this issue you must install 64-bit version of Java.**","title":"Eclipse error: Failed to load the JNI shared library &quot;C:\\Program Files (x86)\\Java\\jre6\\bin\\client\\jvm.dll","body":"<p>From this what i am seeing is you are using 32 bit version of java.</p>\n<p><strong>To overcome this issue you must install 64-bit version of Java.</strong></p>\n"},{"tags":[],"owner":{"account_id":1521184,"reputation":1592,"user_id":1420773,"accept_rate":91,"display_name":"ninge"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1339310884,"creation_date":1339310884,"answer_id":10966863,"question_id":10966830,"body_markdown":"Try to set your computer&#39;s path (in environmental variables) to the bin file of your Java JDK ( C:\\Program Files (x86)\\Java\\jre6\\bin\\).","title":"Eclipse error: Failed to load the JNI shared library &quot;C:\\Program Files (x86)\\Java\\jre6\\bin\\client\\jvm.dll","body":"<p>Try to set your computer's path (in environmental variables) to the bin file of your Java JDK ( C:\\Program Files (x86)\\Java\\jre6\\bin).</p>\n"}],"owner":{"account_id":1468128,"reputation":3,"user_id":1380412,"display_name":"Prashant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16191,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1342993994,"answer_count":2,"score":-2,"last_activity_date":1661801184,"creation_date":1339310367,"question_id":10966830,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [Failed to Load the JNI shared Library (JDK)](https://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nI have download new classic eclipse 64 bits\r\ni also changed in eclipse.ini and android jdk tools also install \r\nbut still getting below error.\r\nFailed to load the JNI shared library &quot;C:\\Program Files (x86)\\Java\\jre6\\bin\\client\\jvm.dll \r\nhow to solve problem? \r\n\r\nPlease Help me.","title":"Eclipse error: Failed to load the JNI shared library &quot;C:\\Program Files (x86)\\Java\\jre6\\bin\\client\\jvm.dll","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk\">Failed to Load the JNI shared Library (JDK)</a>  </p>\n</blockquote>\n\n\n\n<p>I have download new classic eclipse 64 bits\ni also changed in eclipse.ini and android jdk tools also install \nbut still getting below error.\nFailed to load the JNI shared library \"C:\\Program Files (x86)\\Java\\jre6\\bin\\client\\jvm.dll \nhow to solve problem? </p>\n\n<p>Please Help me.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1661801463,"post_id":73533680,"comment_id":129853585,"body_markdown":"You need to read about Tasks and Threads, you are trying to make a &quot;linear&quot; programming, that doesn&#39;t work like that on Android.,","body":"You need to read about Tasks and Threads, you are trying to make a &quot;linear&quot; programming, that doesn&#39;t work like that on Android.,"},{"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"score":0,"creation_date":1661888711,"post_id":73533680,"comment_id":129878081,"body_markdown":"I take a look but I can&#39;t find a way I try with Threads, with handler post delay and I  can find a way when I click on the button progressBar to display till sendLink function return a valur.Any help will be welcomed","body":"I take a look but I can&#39;t find a way I try with Threads, with handler post delay and I  can find a way when I click on the button progressBar to display till sendLink function return a valur.Any help will be welcomed"}],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661800749,"creation_date":1661800749,"question_id":73533680,"body_markdown":"     progressBar = findViewById(R.id.progressBar);\r\n\r\n        share.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String linkText;\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                try {\r\n                    linkText = generateLink.sendLink(&quot;1234&quot;);\r\n                } catch (IOException | InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                progressBar.setVisibility(View.GONE);\r\n                dialog.show();\r\n        });\r\n\r\nWhen I click the button share and the listener is triggered, I see the dialog open and no pregressBar is visible before this. If I remove dialog.show() and setVisibility(View.GONE) the progressBar showing after 2-3 second.generateLink.sendLink() function need 2 second to return a value I want the progress bar to be visible till generateLink.sendLink() function return the value to the linkText string any help will be welcome.I am new in Android.","title":"ProgressBar does not show before dialog open Android Java","body":"<pre><code> progressBar = findViewById(R.id.progressBar);\n\n    share.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String linkText;\n            progressBar.setVisibility(View.VISIBLE);\n            try {\n                linkText = generateLink.sendLink(&quot;1234&quot;);\n            } catch (IOException | InterruptedException e) {\n                e.printStackTrace();\n            }\n            progressBar.setVisibility(View.GONE);\n            dialog.show();\n    });\n</code></pre>\n<p>When I click the button share and the listener is triggered, I see the dialog open and no pregressBar is visible before this. If I remove dialog.show() and setVisibility(View.GONE) the progressBar showing after 2-3 second.generateLink.sendLink() function need 2 second to return a value I want the progress bar to be visible till generateLink.sendLink() function return the value to the linkText string any help will be welcome.I am new in Android.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"score":0,"creation_date":1661797001,"post_id":73532920,"comment_id":129852168,"body_markdown":"Duplicate: https://stackoverflow.com/questions/20995664/how-to-find-max-date-in-listobject","body":"Duplicate: <a href=\"https://stackoverflow.com/questions/20995664/how-to-find-max-date-in-listobject\" title=\"how to find max date in listobject\">stackoverflow.com/questions/20995664/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661796659,"creation_date":1661796659,"answer_id":73533007,"question_id":73532920,"body_markdown":"```\r\nOptional&lt;LocalDate&gt; result = persons.stream()\r\n        .map(Person::getDateOfBirth)\r\n        .filter(date -&gt; !myDob.isBefore(date)) // so date &lt;= myDob\r\n        .max(Comparator.naturalOrder());\r\n```","title":"How to find maximum date from a list of object which is smaller than or equal to another date using Java 8","body":"<pre><code>Optional&lt;LocalDate&gt; result = persons.stream()\n        .map(Person::getDateOfBirth)\n        .filter(date -&gt; !myDob.isBefore(date)) // so date &lt;= myDob\n        .max(Comparator.naturalOrder());\n</code></pre>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1661800607,"creation_date":1661796196,"question_id":73532920,"body_markdown":"I have a list of Object Person, which has a dateOfBirth. I want to find the maximum dateOfBirth from the list which is smaller than or equal to some other date using Java 8 streams API. Below is my code using standard for-each loop.\r\n\r\n```java\r\nimport java.time.LocalDate;\r\n\r\npublic class Person {\r\n    LocalDate dateOfBirth;\r\n\r\n    public LocalDate getDateOfBirth() {\r\n        return dateOfBirth;\r\n    }\r\n\r\n    public void setDateOfBirth(LocalDate dateOfBirth) {\r\n        this.dateOfBirth = dateOfBirth;\r\n    }\r\n}\r\n\r\n\r\n//Driver Class\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Person&gt; persons = getPersonList();\r\n        LocalDate myDob = LocalDate.of(2022, 9, 30);\r\n        LocalDate maxDate = null;\r\n        for(Person p : persons) {\r\n            if(p.getDateOfBirth().compareTo(myDob) &lt;= 0) {\r\n                if(maxDate == null || maxDate.compareTo(p.getDateOfBirth()) &lt;= 0) {\r\n                    maxDate = p.getDateOfBirth();\r\n                }\r\n            }\r\n        }\r\n        System.out.println(maxDate);\r\n    }\r\n\r\n    private static List&lt;Person&gt; getPersonList() {\r\n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n        Person p1 = new Person();\r\n        p1.setDateOfBirth(LocalDate.now());\r\n\r\n        Person p2 = new Person();\r\n        p2.setDateOfBirth(LocalDate.of(2022, 9, 29));\r\n\r\n        Person p3 = new Person();\r\n        p3.setDateOfBirth(LocalDate.of(2022, 9, 12));\r\n\r\n        Person p4 = new Person();\r\n        p4.setDateOfBirth(LocalDate.of(2022, 10, 29));\r\n\r\n        persons.add(p1);\r\n        persons.add(p2);\r\n        persons.add(p3);\r\n        persons.add(p4);\r\n\r\n        return persons;\r\n    }\r\n}\r\n\r\n```\r\n","title":"How to find maximum date from a list of object which is smaller than or equal to another date using Java 8","body":"<p>I have a list of Object Person, which has a dateOfBirth. I want to find the maximum dateOfBirth from the list which is smaller than or equal to some other date using Java 8 streams API. Below is my code using standard for-each loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDate;\n\npublic class Person {\n    LocalDate dateOfBirth;\n\n    public LocalDate getDateOfBirth() {\n        return dateOfBirth;\n    }\n\n    public void setDateOfBirth(LocalDate dateOfBirth) {\n        this.dateOfBirth = dateOfBirth;\n    }\n}\n\n\n//Driver Class\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Person&gt; persons = getPersonList();\n        LocalDate myDob = LocalDate.of(2022, 9, 30);\n        LocalDate maxDate = null;\n        for(Person p : persons) {\n            if(p.getDateOfBirth().compareTo(myDob) &lt;= 0) {\n                if(maxDate == null || maxDate.compareTo(p.getDateOfBirth()) &lt;= 0) {\n                    maxDate = p.getDateOfBirth();\n                }\n            }\n        }\n        System.out.println(maxDate);\n    }\n\n    private static List&lt;Person&gt; getPersonList() {\n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n        Person p1 = new Person();\n        p1.setDateOfBirth(LocalDate.now());\n\n        Person p2 = new Person();\n        p2.setDateOfBirth(LocalDate.of(2022, 9, 29));\n\n        Person p3 = new Person();\n        p3.setDateOfBirth(LocalDate.of(2022, 9, 12));\n\n        Person p4 = new Person();\n        p4.setDateOfBirth(LocalDate.of(2022, 10, 29));\n\n        persons.add(p1);\n        persons.add(p2);\n        persons.add(p3);\n        persons.add(p4);\n\n        return persons;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-viewpager"],"comments":[{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1661796134,"post_id":73532622,"comment_id":129851855,"body_markdown":"Have  a look here http://looksok.wordpress.com/2013/11/02/viewpager-with-detailed-fragment-lifecycle-onresumefragment-including-source-code/","body":"Have  a look here <a href=\"http://looksok.wordpress.com/2013/11/02/viewpager-with-detailed-fragment-lifecycle-onresumefragment-including-source-code/\" rel=\"nofollow noreferrer\">looksok.wordpress.com/2013/11/02/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18917158,"reputation":37,"user_id":13801982,"display_name":"Unknownscl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661799846,"creation_date":1661799846,"answer_id":73533536,"question_id":73532622,"body_markdown":"If anyone has the same problem I found the solution. I replaced my SectionsPagerAdapter Constructor with \r\n\r\n    public SectionsPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n        super(fragmentManager, lifecycle);\r\n    }\r\n    \r\nNow it works fine! ","title":"How to trigger onCreateView inside Viewpager when navigating through BottomNavigation?","body":"<p>If anyone has the same problem I found the solution. I replaced my SectionsPagerAdapter Constructor with</p>\n<pre><code>public SectionsPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n    super(fragmentManager, lifecycle);\n}\n</code></pre>\n<p>Now it works fine!</p>\n"}],"owner":{"account_id":18917158,"reputation":37,"user_id":13801982,"display_name":"Unknownscl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661799846,"creation_date":1661794630,"question_id":73532622,"body_markdown":"Problem:\r\nWhenever I navigate through my BottomNavigation &quot;onCreateView&quot; is only triggered first time once on my green child fragment. However it works flawlessly on my ParentFragment.\r\n\r\n[![This is a screenshot of my application][1]][1]\r\n\r\nRed is the Main Activity with the BottomNavigation. Blue is the ParentFragment with the viewpager inside and the green one is the ChildFragment which changes according to the date. So if I swipe right I get different times for &quot;August 30&quot;.\r\n\r\nNow if I navigate to &quot;Settings Section&quot; and then navigate again to &quot;Home Section&quot;, &quot;onCreateView&quot; is only triggered on blue ParentFragment but not on green ChildFragment. However what I want to achieve is everytime when &quot;onCreateView&quot; is triggered on blue ParentFragment it should also be triggered on green ChildFragment. \r\nAnd if I set &quot;OffscreenPageLimit to 1 it should also be triggered on the Fragments right and left to ChildFragment.\r\nI couldn&#39;t find a solution for my problem.\r\n\r\nThat&#39;s the code snippet of my blue ParentFragment:\r\n\r\n        SectionsPagerAdapter sectionsPagerAdapter = new SectionsPagerAdapter(requireActivity());\r\n        ViewPager2 viewPager = binding.viewPager;\r\n        viewPager.setAdapter(sectionsPagerAdapter);\r\n\r\n        viewPager.setCurrentItem(1000, false);\r\n        viewPager.post(new Runnable() {\r\n            public void run() {\r\n                // always start at item 1000, so I can swipe left to previous days and swipe right to next days\r\n                viewPager.setCurrentItem(1000, false);\r\n                //notifyDataSetChanged doesnt trigger &quot;onCreateView&quot; sadly\r\n                sectionsPagerAdapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n\r\n        viewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                super.onPageSelected(position);\r\n                // If I swipe right Date changes to August 30 and vice versa it changes to August 28\r\n                LocalDate pagerdate = LocalDate.now();\r\n                LocalDate days = pagerdate.plusDays(position - 1000);\r\n                String month2 = days.getMonth().getDisplayName(TextStyle.FULL, Locale.getDefault());\r\n                String dayOfMonth2 = String.valueOf(days.getDayOfMonth());\r\n                String monthAndDay2 = month2 + &quot; &quot; + dayOfMonth2;\r\n                monthDayText.setText(monthAndDay2);\r\n            }\r\n        });\r\n\r\n\r\n        viewPager.setOffscreenPageLimit(1);\r\n\r\n\r\nThats the code of my Adapter:\r\n\r\n    public class SectionsPagerAdapter extends FragmentStateAdapter {\r\n\r\n\r\n    public SectionsPagerAdapter(@NonNull FragmentActivity fragmentActivity) {\r\n        super(fragmentActivity);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        // I have 2000 items to &quot;pretend&quot; to have unlimited items because nobody will swipe 1000 times to the left or right side\r\n        return 2000;\r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        LocalDate pagerdate = LocalDate.now();\r\n        LocalDate days = pagerdate.plusDays(position - 1000);\r\n        //I am passing the date to my Fragment because the time is set according to the date\r\n        return TabTodayFragment.newInstance(days.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)));\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V3aTT.png","title":"How to trigger onCreateView inside Viewpager when navigating through BottomNavigation?","body":"<p>Problem:\nWhenever I navigate through my BottomNavigation &quot;onCreateView&quot; is only triggered first time once on my green child fragment. However it works flawlessly on my ParentFragment.</p>\n<p><a href=\"https://i.stack.imgur.com/V3aTT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V3aTT.png\" alt=\"This is a screenshot of my application\" /></a></p>\n<p>Red is the Main Activity with the BottomNavigation. Blue is the ParentFragment with the viewpager inside and the green one is the ChildFragment which changes according to the date. So if I swipe right I get different times for &quot;August 30&quot;.</p>\n<p>Now if I navigate to &quot;Settings Section&quot; and then navigate again to &quot;Home Section&quot;, &quot;onCreateView&quot; is only triggered on blue ParentFragment but not on green ChildFragment. However what I want to achieve is everytime when &quot;onCreateView&quot; is triggered on blue ParentFragment it should also be triggered on green ChildFragment.\nAnd if I set &quot;OffscreenPageLimit to 1 it should also be triggered on the Fragments right and left to ChildFragment.\nI couldn't find a solution for my problem.</p>\n<p>That's the code snippet of my blue ParentFragment:</p>\n<pre><code>    SectionsPagerAdapter sectionsPagerAdapter = new SectionsPagerAdapter(requireActivity());\n    ViewPager2 viewPager = binding.viewPager;\n    viewPager.setAdapter(sectionsPagerAdapter);\n\n    viewPager.setCurrentItem(1000, false);\n    viewPager.post(new Runnable() {\n        public void run() {\n            // always start at item 1000, so I can swipe left to previous days and swipe right to next days\n            viewPager.setCurrentItem(1000, false);\n            //notifyDataSetChanged doesnt trigger &quot;onCreateView&quot; sadly\n            sectionsPagerAdapter.notifyDataSetChanged();\n        }\n    });\n\n    viewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n        @Override\n        public void onPageSelected(int position) {\n            super.onPageSelected(position);\n            // If I swipe right Date changes to August 30 and vice versa it changes to August 28\n            LocalDate pagerdate = LocalDate.now();\n            LocalDate days = pagerdate.plusDays(position - 1000);\n            String month2 = days.getMonth().getDisplayName(TextStyle.FULL, Locale.getDefault());\n            String dayOfMonth2 = String.valueOf(days.getDayOfMonth());\n            String monthAndDay2 = month2 + &quot; &quot; + dayOfMonth2;\n            monthDayText.setText(monthAndDay2);\n        }\n    });\n\n\n    viewPager.setOffscreenPageLimit(1);\n</code></pre>\n<p>Thats the code of my Adapter:</p>\n<pre><code>public class SectionsPagerAdapter extends FragmentStateAdapter {\n\n\npublic SectionsPagerAdapter(@NonNull FragmentActivity fragmentActivity) {\n    super(fragmentActivity);\n}\n\n@Override\npublic int getItemCount() {\n    // I have 2000 items to &quot;pretend&quot; to have unlimited items because nobody will swipe 1000 times to the left or right side\n    return 2000;\n}\n\n@NonNull\n@Override\npublic Fragment createFragment(int position) {\n    LocalDate pagerdate = LocalDate.now();\n    LocalDate days = pagerdate.plusDays(position - 1000);\n    //I am passing the date to my Fragment because the time is set according to the date\n    return TabTodayFragment.newInstance(days.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)));\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1661617610,"post_id":73512376,"comment_id":129816811,"body_markdown":"If the 3rd party API is sending some custom exception, you can centralise all the exceptions using controller advice. https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","body":"If the 3rd party API is sending some custom exception, you can centralise all the exceptions using controller advice. <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a>"}],"answers":[{"tags":[],"owner":{"account_id":15302648,"reputation":92,"user_id":11042152,"display_name":"knowNothing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661799780,"creation_date":1661799780,"answer_id":73533527,"question_id":73512376,"body_markdown":"You have to create advice for your rest controller with @RestControllerAdvice annotation this will catch your exceptions and then you can handle all exceptions in this advice. Just debug and see what type of exceptions thrown from 3rd party and handle all of them in advice. Here is the sample\r\n\r\n    @RestControllerAdvice\r\n    public class ProductExceptionHandler {\r\n\r\n    @ExceptionHandler(ConstraintViolationException.class)\r\n    public ResponseEntity&lt;ErrorMessage&gt; handleInvalidArgument(ConstraintViolationException ex, WebRequest webRequest) {\r\n        return generateErrorMessage(ex, webRequest);\r\n    }\r\n\r\n    private ResponseEntity&lt;ErrorMessage&gt; generateErrorMessage(Throwable ex, WebRequest request){\r\n        ErrorMessage errorMessage = new ErrorMessage.ErrorMessageBuilder()\r\n                .statusCode(HttpStatus.BAD_REQUEST.value())\r\n                .timeStamp(DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;).format(LocalDateTime.now()))\r\n                .message(ex.getMessage())\r\n                .description(request.getDescription(false))\r\n                .build();\r\n        return new ResponseEntity&lt;&gt;(errorMessage, HttpStatus.BAD_REQUEST);\r\n    }\r\n}","title":"Spring REST API - Return HTTP status from 3rd party","body":"<p>You have to create advice for your rest controller with @RestControllerAdvice annotation this will catch your exceptions and then you can handle all exceptions in this advice. Just debug and see what type of exceptions thrown from 3rd party and handle all of them in advice. Here is the sample</p>\n<pre><code>@RestControllerAdvice\npublic class ProductExceptionHandler {\n\n@ExceptionHandler(ConstraintViolationException.class)\npublic ResponseEntity&lt;ErrorMessage&gt; handleInvalidArgument(ConstraintViolationException ex, WebRequest webRequest) {\n    return generateErrorMessage(ex, webRequest);\n}\n\nprivate ResponseEntity&lt;ErrorMessage&gt; generateErrorMessage(Throwable ex, WebRequest request){\n    ErrorMessage errorMessage = new ErrorMessage.ErrorMessageBuilder()\n            .statusCode(HttpStatus.BAD_REQUEST.value())\n            .timeStamp(DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;).format(LocalDateTime.now()))\n            .message(ex.getMessage())\n            .description(request.getDescription(false))\n            .build();\n    return new ResponseEntity&lt;&gt;(errorMessage, HttpStatus.BAD_REQUEST);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":26174516,"reputation":19,"user_id":19858917,"display_name":"unknown1101"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73533527,"answer_count":1,"score":0,"last_activity_date":1661799780,"creation_date":1661615068,"question_id":73512376,"body_markdown":"I have a REST API written in Java 8 with Spring Boot. It makes calls to a 3rd party service and returns the JSON response to end user.\r\n\r\nWhat is the most efficient way to return appropriate HTTP status codes with description from 3rd party service to end user dynamically. For example 401, 403, 404 etc...","title":"Spring REST API - Return HTTP status from 3rd party","body":"<p>I have a REST API written in Java 8 with Spring Boot. It makes calls to a 3rd party service and returns the JSON response to end user.</p>\n<p>What is the most efficient way to return appropriate HTTP status codes with description from 3rd party service to end user dynamically. For example 401, 403, 404 etc...</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1661787696,"post_id":73530302,"comment_id":129849018,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":22744234,"reputation":23,"user_id":16905213,"display_name":"Marcelee"},"score":0,"creation_date":1661788144,"post_id":73530302,"comment_id":129849173,"body_markdown":"Thank you and sorry for that, I added the Logcat.","body":"Thank you and sorry for that, I added the Logcat."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661799613,"creation_date":1661788557,"answer_id":73531457,"question_id":73530302,"body_markdown":"When you attach a listener to the following reference:\r\n\r\n&gt; rootRef.child(&quot;Users&quot;).child(userName).child(userName + &quot;Shipments&quot;);\r\n\r\nAnd you&#39;re looping through the results, you aren&#39;t getting `ShippingDetail` objects, you&#39;re getting just a string called  `details`, and hence the error. Why? Because under `johnnyShipments` node, there is a single direct child called `details`.\r\n\r\nTo solve this, you have to remove the extra `details` level, which in my opinion is not required, and this error will go away.","title":"DataBaseException: Can&#39;t convert object of type java.lang.String to type com.example.testingeverything.ShippingDetail, I tried everything to fix it","body":"<p>When you attach a listener to the following reference:</p>\n<blockquote>\n<p>rootRef.child(&quot;Users&quot;).child(userName).child(userName + &quot;Shipments&quot;);</p>\n</blockquote>\n<p>And you're looping through the results, you aren't getting <code>ShippingDetail</code> objects, you're getting just a string called  <code>details</code>, and hence the error. Why? Because under <code>johnnyShipments</code> node, there is a single direct child called <code>details</code>.</p>\n<p>To solve this, you have to remove the extra <code>details</code> level, which in my opinion is not required, and this error will go away.</p>\n"}],"owner":{"account_id":22744234,"reputation":23,"user_id":16905213,"display_name":"Marcelee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73531457,"answer_count":1,"score":1,"last_activity_date":1661799613,"creation_date":1661783004,"question_id":73530302,"body_markdown":"I&#39;ve searched everything for this error and this is my first time asking a question.\r\nAnd I&#39;m trying to do a Nested RecyclerView for my Shipments Page on my app\r\nI don&#39;t know what&#39;s to my problem with my code. I tried everything and it keeps saying that&#39;s the error. I don&#39;t know what to do\r\n\r\nHere is the error at the Logcat\r\n\r\n    2022-08-29 23:31:23.029 16114-16114/com.example.testingeverything E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.testingeverything, PID: 16114\r\n    com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.testingeverything.ShippingDetail\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToParameterizedType(CustomClassMapper.java:265)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:177)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n        at com.example.testingeverything.ShipmentsActivity$1.onDataChange(ShipmentsActivity.java:42)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n\r\nShipmentsActivity.java\r\n\r\n    public class ShipmentsActivity extends AppCompatActivity {\r\n    String userName = MainActivity.userName;\r\n    RecyclerView shipmentsRecyclerView;\r\n    ShipmentsActivityAdapter shipmentsActivityAdapter;\r\n    ArrayList&lt;Shipments&gt; shipments_list;\r\n    DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference databaseReference = rootRef.child(&quot;Users&quot;).child(userName).child(userName + &quot;Shipments&quot;);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.shipments);\r\n\r\n        shipmentsRecyclerView = findViewById(R.id.shipments_recycler_view);\r\n        shipmentsRecyclerView.setHasFixedSize(true);\r\n        shipments_list = new ArrayList&lt;&gt;();\r\n\r\n        shipmentsActivityAdapter = new ShipmentsActivityAdapter(this);\r\n        shipmentsActivityAdapter.setShipments(shipments_list);\r\n        shipmentsRecyclerView.setAdapter(shipmentsActivityAdapter);\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot snapshot1 : snapshot.getChildren()) {\r\n                    //This is where the error is\r\n                    Shipments shipments = snapshot1.getValue(Shipments.class);\r\n                    shipments_list.add(shipments);\r\n                }\r\n                shipmentsActivityAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\nShipments.java\r\n\r\n    public class Shipments {\r\n\r\n    private Map&lt;String, ShippingDetail&gt; details;\r\n    private Map&lt;String, ShippingProduct&gt; products;\r\n\r\n    public Shipments(Map&lt;String, ShippingDetail&gt; details, Map&lt;String, ShippingProduct&gt; products) {\r\n        this.details = details;\r\n        this.products = products;\r\n    }\r\n\r\n    public Shipments() {\r\n    }\r\n\r\n    public Map&lt;String, ShippingDetail&gt; getDetails() {\r\n        return details;\r\n    }\r\n\r\n    public void setDetails(Map&lt;String, ShippingDetail&gt; details) {\r\n        this.details = details;\r\n    }\r\n\r\n    public Map&lt;String, ShippingProduct&gt; getProducts() {\r\n        return products;\r\n    }\r\n\r\n    public void setProducts(Map&lt;String, ShippingProduct&gt; products) {\r\n        this.products = products;\r\n    }\r\n}\r\n\r\nShippingDetail.java\r\n\r\n    public class ShippingDetail {\r\n    private String emailaddress;\r\n    private String facebook;\r\n    private String fulladdress;\r\n    private String fullname;\r\n    private String paymentmethod;\r\n    private String phonenumber;\r\n    private String postalcode;\r\n    private String schedule;\r\n    private String region;\r\n    private boolean setenablebutton;\r\n    private String status;\r\n    private int totalprice;\r\n    private String tracknumber;\r\n\r\n    public ShippingDetail(String emailaddress, String facebook, String fulladdress, String fullname, String paymentmethod, String phonenumber, String postalcode, String schedule, String region, boolean setenablebutton, String status, int totalprice, String tracknumber) {\r\n        this.emailaddress = emailaddress;\r\n        this.facebook = facebook;\r\n        this.fulladdress = fulladdress;\r\n        this.fullname = fullname;\r\n        this.paymentmethod = paymentmethod;\r\n        this.phonenumber = phonenumber;\r\n        this.postalcode = postalcode;\r\n        this.schedule = schedule;\r\n        this.region = region;\r\n        this.setenablebutton = setenablebutton;\r\n        this.status = status;\r\n        this.totalprice = totalprice;\r\n        this.tracknumber = tracknumber;\r\n    }\r\n\r\n    public ShippingDetail(){} //Below are getters and setters\r\n\r\nShipmentsActivityAdapter.java\r\n\r\n    public class ShipmentsActivityAdapter extends RecyclerView.Adapter&lt;ShipmentsActivityAdapter.ViewHolder&gt; {\r\n    private String userName = MainActivity.userName;\r\n    private List&lt;Shipments&gt; shipments = new ArrayList&lt;&gt;();\r\n    private Context context;\r\n\r\n    public ShipmentsActivityAdapter (Context context){this.context = context;}\r\n    public void setShipments (List&lt;Shipments&gt; shipments){\r\n        this.shipments = shipments;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public class ViewHolder extends  RecyclerView.ViewHolder{\r\n        private RecyclerView productsRecyclerView;\r\n        private RecyclerView detailsRecyclerView;\r\n        private Button cancelButton;\r\n        private List&lt;ShippingProduct&gt; shippingProducts_list;\r\n        private List&lt;ShippingDetail&gt; shipmentsDetail_list;\r\n\r\n        private DatabaseReference databaseForDetailsReference = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userName).child(userName+&quot;Shipments&quot;);\r\n        private DatabaseReference databaseForProductsReference = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userName).child(userName+&quot;Shipments&quot;);\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            productsRecyclerView = itemView.findViewById(R.id.products_recyclerView);\r\n            detailsRecyclerView = itemView.findViewById(R.id.details_recyclerView);\r\n            cancelButton = itemView.findViewById(R.id.cancel_btn);\r\n        }\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fourth_activity_item, parent, false);\r\n        ViewHolder holder = new ViewHolder(view);\r\n        return holder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        ShippingDetailAdapter detailAdapter = new ShippingDetailAdapter(context);\r\n        ShippingProductAdapter productAdapter = new ShippingProductAdapter(context);\r\n        holder.shippingProducts_list = new ArrayList&lt;&gt;();\r\n        holder.shipmentsDetail_list = new ArrayList&lt;&gt;();\r\n        holder.detailsRecyclerView.setHasFixedSize(true);\r\n        holder.productsRecyclerView.setHasFixedSize(true);\r\n        holder.detailsRecyclerView.setLayoutManager(new LinearLayoutManager(context));\r\n        holder.productsRecyclerView.setLayoutManager(new LinearLayoutManager(context));\r\n        holder.detailsRecyclerView.setAdapter(detailAdapter);\r\n        holder.productsRecyclerView.setAdapter(productAdapter);\r\n\r\n        holder.databaseForDetailsReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot snapshot1 : snapshot.getChildren()){\r\n                    String getTheKey = snapshot1.getKey();\r\n                    ShippingDetail shippingDetail = snapshot1.child(getTheKey).getValue(ShippingDetail.class);\r\n                    holder.shipmentsDetail_list.add(shippingDetail);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n\r\n        holder.databaseForProductsReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot snapshot1 : snapshot.getChildren()){\r\n                    String getTheKey = snapshot1.getKey();\r\n                    ShippingProduct shippingProduct = snapshot1.child(getTheKey).getValue(ShippingProduct.class);\r\n                    holder.shippingProducts_list.add(shippingProduct);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return shipments.size();\r\n    }\r\n\r\n}\r\n\r\n[This is the Database Structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ilIdm.png","title":"DataBaseException: Can&#39;t convert object of type java.lang.String to type com.example.testingeverything.ShippingDetail, I tried everything to fix it","body":"<p>I've searched everything for this error and this is my first time asking a question.\nAnd I'm trying to do a Nested RecyclerView for my Shipments Page on my app\nI don't know what's to my problem with my code. I tried everything and it keeps saying that's the error. I don't know what to do</p>\n<p>Here is the error at the Logcat</p>\n<pre><code>2022-08-29 23:31:23.029 16114-16114/com.example.testingeverything E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.testingeverything, PID: 16114\ncom.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.testingeverything.ShippingDetail\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToParameterizedType(CustomClassMapper.java:265)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:177)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n    at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\n    at com.example.testingeverything.ShipmentsActivity$1.onDataChange(ShipmentsActivity.java:42)\n    at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n    at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n    at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n    at android.os.Handler.handleCallback(Handler.java:790)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n<p>ShipmentsActivity.java</p>\n<pre><code>public class ShipmentsActivity extends AppCompatActivity {\nString userName = MainActivity.userName;\nRecyclerView shipmentsRecyclerView;\nShipmentsActivityAdapter shipmentsActivityAdapter;\nArrayList&lt;Shipments&gt; shipments_list;\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference databaseReference = rootRef.child(&quot;Users&quot;).child(userName).child(userName + &quot;Shipments&quot;);\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.shipments);\n\n    shipmentsRecyclerView = findViewById(R.id.shipments_recycler_view);\n    shipmentsRecyclerView.setHasFixedSize(true);\n    shipments_list = new ArrayList&lt;&gt;();\n\n    shipmentsActivityAdapter = new ShipmentsActivityAdapter(this);\n    shipmentsActivityAdapter.setShipments(shipments_list);\n    shipmentsRecyclerView.setAdapter(shipmentsActivityAdapter);\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot snapshot1 : snapshot.getChildren()) {\n                //This is where the error is\n                Shipments shipments = snapshot1.getValue(Shipments.class);\n                shipments_list.add(shipments);\n            }\n            shipmentsActivityAdapter.notifyDataSetChanged();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n</code></pre>\n<p>Shipments.java</p>\n<pre><code>public class Shipments {\n\nprivate Map&lt;String, ShippingDetail&gt; details;\nprivate Map&lt;String, ShippingProduct&gt; products;\n\npublic Shipments(Map&lt;String, ShippingDetail&gt; details, Map&lt;String, ShippingProduct&gt; products) {\n    this.details = details;\n    this.products = products;\n}\n\npublic Shipments() {\n}\n\npublic Map&lt;String, ShippingDetail&gt; getDetails() {\n    return details;\n}\n\npublic void setDetails(Map&lt;String, ShippingDetail&gt; details) {\n    this.details = details;\n}\n\npublic Map&lt;String, ShippingProduct&gt; getProducts() {\n    return products;\n}\n\npublic void setProducts(Map&lt;String, ShippingProduct&gt; products) {\n    this.products = products;\n}\n</code></pre>\n<p>}</p>\n<p>ShippingDetail.java</p>\n<pre><code>public class ShippingDetail {\nprivate String emailaddress;\nprivate String facebook;\nprivate String fulladdress;\nprivate String fullname;\nprivate String paymentmethod;\nprivate String phonenumber;\nprivate String postalcode;\nprivate String schedule;\nprivate String region;\nprivate boolean setenablebutton;\nprivate String status;\nprivate int totalprice;\nprivate String tracknumber;\n\npublic ShippingDetail(String emailaddress, String facebook, String fulladdress, String fullname, String paymentmethod, String phonenumber, String postalcode, String schedule, String region, boolean setenablebutton, String status, int totalprice, String tracknumber) {\n    this.emailaddress = emailaddress;\n    this.facebook = facebook;\n    this.fulladdress = fulladdress;\n    this.fullname = fullname;\n    this.paymentmethod = paymentmethod;\n    this.phonenumber = phonenumber;\n    this.postalcode = postalcode;\n    this.schedule = schedule;\n    this.region = region;\n    this.setenablebutton = setenablebutton;\n    this.status = status;\n    this.totalprice = totalprice;\n    this.tracknumber = tracknumber;\n}\n\npublic ShippingDetail(){} //Below are getters and setters\n</code></pre>\n<p>ShipmentsActivityAdapter.java</p>\n<pre><code>public class ShipmentsActivityAdapter extends RecyclerView.Adapter&lt;ShipmentsActivityAdapter.ViewHolder&gt; {\nprivate String userName = MainActivity.userName;\nprivate List&lt;Shipments&gt; shipments = new ArrayList&lt;&gt;();\nprivate Context context;\n\npublic ShipmentsActivityAdapter (Context context){this.context = context;}\npublic void setShipments (List&lt;Shipments&gt; shipments){\n    this.shipments = shipments;\n    notifyDataSetChanged();\n}\n\npublic class ViewHolder extends  RecyclerView.ViewHolder{\n    private RecyclerView productsRecyclerView;\n    private RecyclerView detailsRecyclerView;\n    private Button cancelButton;\n    private List&lt;ShippingProduct&gt; shippingProducts_list;\n    private List&lt;ShippingDetail&gt; shipmentsDetail_list;\n\n    private DatabaseReference databaseForDetailsReference = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userName).child(userName+&quot;Shipments&quot;);\n    private DatabaseReference databaseForProductsReference = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userName).child(userName+&quot;Shipments&quot;);\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n        productsRecyclerView = itemView.findViewById(R.id.products_recyclerView);\n        detailsRecyclerView = itemView.findViewById(R.id.details_recyclerView);\n        cancelButton = itemView.findViewById(R.id.cancel_btn);\n    }\n}\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fourth_activity_item, parent, false);\n    ViewHolder holder = new ViewHolder(view);\n    return holder;\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    ShippingDetailAdapter detailAdapter = new ShippingDetailAdapter(context);\n    ShippingProductAdapter productAdapter = new ShippingProductAdapter(context);\n    holder.shippingProducts_list = new ArrayList&lt;&gt;();\n    holder.shipmentsDetail_list = new ArrayList&lt;&gt;();\n    holder.detailsRecyclerView.setHasFixedSize(true);\n    holder.productsRecyclerView.setHasFixedSize(true);\n    holder.detailsRecyclerView.setLayoutManager(new LinearLayoutManager(context));\n    holder.productsRecyclerView.setLayoutManager(new LinearLayoutManager(context));\n    holder.detailsRecyclerView.setAdapter(detailAdapter);\n    holder.productsRecyclerView.setAdapter(productAdapter);\n\n    holder.databaseForDetailsReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot snapshot1 : snapshot.getChildren()){\n                String getTheKey = snapshot1.getKey();\n                ShippingDetail shippingDetail = snapshot1.child(getTheKey).getValue(ShippingDetail.class);\n                holder.shipmentsDetail_list.add(shippingDetail);\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n        }\n    });\n\n    holder.databaseForProductsReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot snapshot1 : snapshot.getChildren()){\n                String getTheKey = snapshot1.getKey();\n                ShippingProduct shippingProduct = snapshot1.child(getTheKey).getValue(ShippingProduct.class);\n                holder.shippingProducts_list.add(shippingProduct);\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n        }\n    });\n\n}\n\n@Override\npublic int getItemCount() {\n    return shipments.size();\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/ilIdm.png\" rel=\"nofollow noreferrer\">This is the Database Structure</a></p>\n"},{"tags":["java","sql","hibernate","postgresql"],"answers":[{"tags":[],"owner":{"account_id":171331,"reputation":310904,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1559106849,"creation_date":1401097362,"answer_id":23867243,"question_id":23865603,"body_markdown":"Hibernate won&#39;t usually generate standalone `nextval` calls that look like that, so I won&#39;t be too surprised if it&#39;s your application doing the multiple fetches. You&#39;ll need to collect more tracing information to be sure.\r\n\r\nI think you may have a bigger problem though. If you care about sequences skipping values or leaving holes then you&#39;re using the wrong tool for the job, you should be using a counter in a table that you `UPDATE`, probably `UPDATE my_id_generator SET id = id + 1 RETURNING id`. This *locks out concurrent transactions* and also ensures that *if the transaction rolls back, the update is undone*. \r\n\r\nSequences by contrast operate in parallel, which means that it&#39;s impossible to roll back a sequence increment when a transaction rolls back (see the PostgreSQL documentation). So they&#39;re generally not suitable for accounting purposes like invoice numbering and other things where you require a gapless sequence.\r\n\r\n---\r\n\r\nFor other readers who don&#39;t have the specific requirement to only sometimes generate a value: don&#39;t generate the sequence values manually; use a `@GeneratedValue` annotation.\r\n\r\nIn Hibernate 3.6 and newer, you should set `hibernate.id.new_generator_mappings` in your Hibernate properties.\r\n\r\nAssuming you&#39;re mapping a generated key from a PostgreSQL `SERIAL` column, use the mapping:\r\n\r\n    @Id\r\n    @SequenceGenerator(name=&quot;mytable_id_seq&quot;,sequenceName=&quot;mytable_id_seq&quot;, allocationSize=1)\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;mytable_id_seq&quot;)\r\n\r\nIf you omit the `allocationSize` then Hibernate assumes it&#39;s bizarre default of `50` and *fails to check that the sequence actually increments by 50* so it tries to insert already-used IDs and fails.\r\n\r\nHibernate/JPA isn&#39;t able to automatically create a value for your non-id-properties. The @GeneratedValue annotation is only used in conjunction with @Id to create auto-numbering\r\n\r\n\r\n","title":"nextVal from PostgreSQL sequence in Hibernate fetch sequence multiple times","body":"<p>Hibernate won't usually generate standalone <code>nextval</code> calls that look like that, so I won't be too surprised if it's your application doing the multiple fetches. You'll need to collect more tracing information to be sure.</p>\n\n<p>I think you may have a bigger problem though. If you care about sequences skipping values or leaving holes then you're using the wrong tool for the job, you should be using a counter in a table that you <code>UPDATE</code>, probably <code>UPDATE my_id_generator SET id = id + 1 RETURNING id</code>. This <em>locks out concurrent transactions</em> and also ensures that <em>if the transaction rolls back, the update is undone</em>. </p>\n\n<p>Sequences by contrast operate in parallel, which means that it's impossible to roll back a sequence increment when a transaction rolls back (see the PostgreSQL documentation). So they're generally not suitable for accounting purposes like invoice numbering and other things where you require a gapless sequence.</p>\n\n<hr>\n\n<p>For other readers who don't have the specific requirement to only sometimes generate a value: don't generate the sequence values manually; use a <code>@GeneratedValue</code> annotation.</p>\n\n<p>In Hibernate 3.6 and newer, you should set <code>hibernate.id.new_generator_mappings</code> in your Hibernate properties.</p>\n\n<p>Assuming you're mapping a generated key from a PostgreSQL <code>SERIAL</code> column, use the mapping:</p>\n\n<pre><code>@Id\n@SequenceGenerator(name=\"mytable_id_seq\",sequenceName=\"mytable_id_seq\", allocationSize=1)\n@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=\"mytable_id_seq\")\n</code></pre>\n\n<p>If you omit the <code>allocationSize</code> then Hibernate assumes it's bizarre default of <code>50</code> and <em>fails to check that the sequence actually increments by 50</em> so it tries to insert already-used IDs and fails.</p>\n\n<p>Hibernate/JPA isn't able to automatically create a value for your non-id-properties. The @GeneratedValue annotation is only used in conjunction with @Id to create auto-numbering</p>\n"},{"tags":[],"owner":{"account_id":465839,"reputation":6552,"user_id":870207,"accept_rate":0,"display_name":"teknopaul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661799490,"creation_date":1661799490,"answer_id":73533490,"question_id":23865603,"body_markdown":"Hibernate caches query results.\r\n\r\nNotice the &quot;as num&quot;, looks like hibernate is altering the SQL as well.\r\n\r\nYou should be able to tell Hibernate not to cache results with\r\n\r\n    query.setCacheable(false);\r\n\r\n","title":"nextVal from PostgreSQL sequence in Hibernate fetch sequence multiple times","body":"<p>Hibernate caches query results.</p>\n<p>Notice the &quot;as num&quot;, looks like hibernate is altering the SQL as well.</p>\n<p>You should be able to tell Hibernate not to cache results with</p>\n<pre><code>query.setCacheable(false);\n</code></pre>\n"}],"owner":{"account_id":361098,"reputation":187,"user_id":703487,"accept_rate":100,"display_name":"hespresati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9334,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23867243,"answer_count":2,"score":2,"last_activity_date":1661799490,"creation_date":1401091858,"question_id":23865603,"body_markdown":"For business logic we need to update a record with the next value from a sequence defined directly in database and not in Hibernate (because is not always applied on insert / updates)\r\n\r\nFor this purpose we have a sequence defined in PostgreSQL witch DDL is:\r\n\r\n    CREATE SEQUENCE public.facturaproveedor_numeracionperiodofiscal_seq\r\n    INCREMENT 1 MINVALUE 1\r\n    MAXVALUE 9223372036854775807 START 1\r\n    CACHE 1;\r\n\r\nThen in DAO, when some conditions are true, we get the nextVal via:\r\n\r\n    Query query = sesion.createSQLQuery(&quot;SELECT nextval(&#39;facturaproveedor_numeracionperiodofiscal_seq&#39;)&quot;);\r\n    Long siguiente = ((BigInteger) query.uniqueResult()).longValue();\r\n\r\nBut the values asigned aren&#39;t consecutive. Looking the Hibernate output log we see four fetchs to the sequence in the same transaction:\r\n\r\n    Hibernate: SELECT nextval(&#39;facturaproveedor_numeracionperiodofiscal_seq&#39;) as num\r\n    Hibernate: SELECT nextval(&#39;facturaproveedor_numeracionperiodofiscal_seq&#39;) as num\r\n    Hibernate: SELECT nextval(&#39;facturaproveedor_numeracionperiodofiscal_seq&#39;) as num\r\n    Hibernate: SELECT nextval(&#39;facturaproveedor_numeracionperiodofiscal_seq&#39;) as num\r\n\r\nWhy is this happening? Is this for catching purposes? There is a way to disable this? Or this workaround is not correct?","title":"nextVal from PostgreSQL sequence in Hibernate fetch sequence multiple times","body":"<p>For business logic we need to update a record with the next value from a sequence defined directly in database and not in Hibernate (because is not always applied on insert / updates)</p>\n\n<p>For this purpose we have a sequence defined in PostgreSQL witch DDL is:</p>\n\n<pre><code>CREATE SEQUENCE public.facturaproveedor_numeracionperiodofiscal_seq\nINCREMENT 1 MINVALUE 1\nMAXVALUE 9223372036854775807 START 1\nCACHE 1;\n</code></pre>\n\n<p>Then in DAO, when some conditions are true, we get the nextVal via:</p>\n\n<pre><code>Query query = sesion.createSQLQuery(\"SELECT nextval('facturaproveedor_numeracionperiodofiscal_seq')\");\nLong siguiente = ((BigInteger) query.uniqueResult()).longValue();\n</code></pre>\n\n<p>But the values asigned aren't consecutive. Looking the Hibernate output log we see four fetchs to the sequence in the same transaction:</p>\n\n<pre><code>Hibernate: SELECT nextval('facturaproveedor_numeracionperiodofiscal_seq') as num\nHibernate: SELECT nextval('facturaproveedor_numeracionperiodofiscal_seq') as num\nHibernate: SELECT nextval('facturaproveedor_numeracionperiodofiscal_seq') as num\nHibernate: SELECT nextval('facturaproveedor_numeracionperiodofiscal_seq') as num\n</code></pre>\n\n<p>Why is this happening? Is this for catching purposes? There is a way to disable this? Or this workaround is not correct?</p>\n"},{"tags":["java","http","multipart"],"answers":[{"tags":[],"owner":{"account_id":9538,"reputation":18044,"user_id":2204759,"accept_rate":91,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1231429348,"creation_date":1231429348,"answer_id":424722,"question_id":419850,"body_markdown":"Try HttpClient from Apache Commons. The source code has a couple classes that show how to read in a multipart in a stream fashion.","title":"Java: Receive a multipart HTTP response","body":"<p>Try HttpClient from Apache Commons. The source code has a couple classes that show how to read in a multipart in a stream fashion.</p>\n"},{"tags":[],"owner":{"account_id":17447,"reputation":30170,"user_id":39057,"accept_rate":89,"display_name":"Loki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1231445318,"creation_date":1231442285,"answer_id":425507,"question_id":419850,"body_markdown":"This project: [http://fmj-sf.net][1], does have a class to parse multipart/x-mixed-replace responses: [http://fmj-sf.net/doc/fmj/net/sf/fmj/media/parser/MultipartMixedReplaceParser.html][2]\r\n\r\nSearching google code with: multipart/x-mixed-replace lang:java\r\n\r\nI found some other examples like: [http://www.google.com/codesearch?as_q=multipart%2Fx-mixed-replace&amp;btnG=Search+Code&amp;hl=en&amp;as_lang=java&amp;as_license_restrict=i&amp;as_license=&amp;as_package=&amp;as_filename=&amp;as_case=][3]\r\n\r\n[http://www.google.com/codesearch/p?hl=en#FCmBlvKk1MA/cambozola-0.50/src/com/charliemouse/cambozola/shared/CamStream.java&amp;q=multipart/x-mixed-replace%20lang:java][4]\r\n\r\n[http://www.google.com/codesearch/p?hl=en#Xnnd-VJLMBY/src/Grabber.java&amp;q=multipart/x-mixed-replace%20lang:java][5]\r\n\r\n\r\n  [1]: http://fmj-sf.net/\r\n  [2]: http://fmj-sf.net/doc/fmj/net/sf/fmj/media/parser/MultipartMixedReplaceParser.html\r\n  [3]: http://www.google.com/codesearch?as_q=multipart%2Fx-mixed-replace&amp;btnG=Search+Code&amp;hl=en&amp;as_lang=java&amp;as_license_restrict=i&amp;as_license=&amp;as_package=&amp;as_filename=&amp;as_case=\r\n  [4]: http://www.google.com/codesearch/p?hl=en#FCmBlvKk1MA/cambozola-0.50/src/com/charliemouse/cambozola/shared/CamStream.java&amp;q=multipart/x-mixed-replace%20lang:java\r\n  [5]: http://www.google.com/codesearch/p?hl=en#Xnnd-VJLMBY/src/Grabber.java&amp;q=multipart/x-mixed-replace%20lang:java","title":"Java: Receive a multipart HTTP response","body":"<p>This project: <a href=\"http://fmj-sf.net/\" rel=\"nofollow noreferrer\">http://fmj-sf.net</a>, does have a class to parse multipart/x-mixed-replace responses: <a href=\"http://fmj-sf.net/doc/fmj/net/sf/fmj/media/parser/MultipartMixedReplaceParser.html\" rel=\"nofollow noreferrer\">http://fmj-sf.net/doc/fmj/net/sf/fmj/media/parser/MultipartMixedReplaceParser.html</a></p>\n\n<p>Searching google code with: multipart/x-mixed-replace lang:java</p>\n\n<p>I found some other examples like: <a href=\"http://www.google.com/codesearch?as_q=multipart%2Fx-mixed-replace&amp;btnG=Search+Code&amp;hl=en&amp;as_lang=java&amp;as_license_restrict=i&amp;as_license=&amp;as_package=&amp;as_filename=&amp;as_case=\" rel=\"nofollow noreferrer\">http://www.google.com/codesearch?as_q=multipart%2Fx-mixed-replace&amp;btnG=Search+Code&amp;hl=en&amp;as_lang=java&amp;as_license_restrict=i&amp;as_license=&amp;as_package=&amp;as_filename=&amp;as_case=</a></p>\n\n<p><a href=\"http://www.google.com/codesearch/p?hl=en#FCmBlvKk1MA/cambozola-0.50/src/com/charliemouse/cambozola/shared/CamStream.java&amp;q=multipart/x-mixed-replace%20lang:java\" rel=\"nofollow noreferrer\">http://www.google.com/codesearch/p?hl=en#FCmBlvKk1MA/cambozola-0.50/src/com/charliemouse/cambozola/shared/CamStream.java&amp;q=multipart/x-mixed-replace%20lang:java</a></p>\n\n<p><a href=\"http://www.google.com/codesearch/p?hl=en#Xnnd-VJLMBY/src/Grabber.java&amp;q=multipart/x-mixed-replace%20lang:java\" rel=\"nofollow noreferrer\">http://www.google.com/codesearch/p?hl=en#Xnnd-VJLMBY/src/Grabber.java&amp;q=multipart/x-mixed-replace%20lang:java</a></p>\n"},{"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304544875,"creation_date":1304544875,"answer_id":5890128,"question_id":419850,"body_markdown":"I have written classes that process multipart requests for my project [Sceye-Fi][1], an HTTP server that uses the `com.sun.net.httpserver` classes that come with java 6, to receive photo uploads from an [Eye-Fi][2] card.\r\nIn theory, nothing should prevent it to work on an endless multipart request.\r\nHope it will help.\r\n\r\n\r\n  [1]: http://code.google.com/p/sceye-fi/\r\n  [2]: http://www.eye.fi","title":"Java: Receive a multipart HTTP response","body":"<p>I have written classes that process multipart requests for my project <a href=\"http://code.google.com/p/sceye-fi/\" rel=\"nofollow\">Sceye-Fi</a>, an HTTP server that uses the <code>com.sun.net.httpserver</code> classes that come with java 6, to receive photo uploads from an <a href=\"http://www.eye.fi\" rel=\"nofollow\">Eye-Fi</a> card.\nIn theory, nothing should prevent it to work on an endless multipart request.\nHope it will help.</p>\n"},{"tags":[],"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661799022,"creation_date":1661796206,"answer_id":73532923,"question_id":419850,"body_markdown":"Since the question and the existing answers are a bit old, I&#39;d like to suggest a more recent answer. \r\n\r\nNowadays there is the [Spring Webflux][1] project. Your use case can be easily implemented in a reactive fashion. So in your case the class [MultipartHttpMessageReader][2] would be doing all the heavy lifting. \r\n\r\n**In case** it does not behave exactly how you need it to, you can easily extend it and overwrite the methods to your liking. Your custom Reader can then be registered as a bean like so:\r\n\r\n```java\r\n@Configuration\r\npublic class MultipartMessageConverterConfiguration {\r\n\r\n  @Bean\r\n  public CodecCustomizer myCustomMultipartHttpMessageWriter() {\r\n      return configurer -&gt; configurer.customCodecs()\r\n                                     .register(new MyCustomMultipartHttpMessageWriter());\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-integration/reference/html/webflux.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/multipart/MultipartHttpMessageReader.html","title":"Java: Receive a multipart HTTP response","body":"<p>Since the question and the existing answers are a bit old, I'd like to suggest a more recent answer.</p>\n<p>Nowadays there is the <a href=\"https://docs.spring.io/spring-integration/reference/html/webflux.html\" rel=\"nofollow noreferrer\">Spring Webflux</a> project. Your use case can be easily implemented in a reactive fashion. So in your case the class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/multipart/MultipartHttpMessageReader.html\" rel=\"nofollow noreferrer\">MultipartHttpMessageReader</a> would be doing all the heavy lifting.</p>\n<p><strong>In case</strong> it does not behave exactly how you need it to, you can easily extend it and overwrite the methods to your liking. Your custom Reader can then be registered as a bean like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MultipartMessageConverterConfiguration {\n\n  @Bean\n  public CodecCustomizer myCustomMultipartHttpMessageWriter() {\n      return configurer -&gt; configurer.customCodecs()\n                                     .register(new MyCustomMultipartHttpMessageWriter());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21518,"reputation":111,"user_id":52386,"display_name":"user52386"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11067,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1661799022,"creation_date":1231324632,"question_id":419850,"body_markdown":"I&#39;m writing a Java client application to receive live M-JPEG video from an IP camera. The video is sent by the camera as an endless multipart HTTP message where each part is a single JPEG frame. I need to process each of these frames as they arrive, so I&#39;m hoping there&#39;s a way to make an HTTP request that asynchronously triggers an event as each message part/video frame is received.\r\n\r\nIs anyone aware of any libraries that can do this? All the examples I can find on Google won&#39;t work because they use blocking calls that only parse the response and break it up into parts after the entire response has finished being received (which obviously won&#39;t work for an endless response).\r\n\r\nI realise I could manually break up the data into parts as it arrives by searching for the message boundary but it just feels like I would be reinventing the wheel.","title":"Java: Receive a multipart HTTP response","body":"<p>I'm writing a Java client application to receive live M-JPEG video from an IP camera. The video is sent by the camera as an endless multipart HTTP message where each part is a single JPEG frame. I need to process each of these frames as they arrive, so I'm hoping there's a way to make an HTTP request that asynchronously triggers an event as each message part/video frame is received.</p>\n\n<p>Is anyone aware of any libraries that can do this? All the examples I can find on Google won't work because they use blocking calls that only parse the response and break it up into parts after the entire response has finished being received (which obviously won't work for an endless response).</p>\n\n<p>I realise I could manually break up the data into parts as it arrives by searching for the message boundary but it just feels like I would be reinventing the wheel.</p>\n"},{"tags":["java","android","dagger-2"],"comments":[{"owner":{"account_id":2650303,"reputation":1790,"user_id":2292163,"accept_rate":29,"display_name":"Kapil"},"score":0,"creation_date":1527066802,"post_id":50483569,"comment_id":87981673,"body_markdown":"@named qualifier does not work as you are excepting. When you mention @named(&quot;Child3-tag&quot;) in your activity it goes and search in the provider for same &quot;child3-tag&quot; and initialise the  objects. In other way we can say that its job is to match a specific method of Providers which match the child3-tag.","body":"@named qualifier does not work as you are excepting. When you mention @named(&quot;Child3-tag&quot;) in your activity it goes and search in the provider for same &quot;child3-tag&quot; and initialise the  objects. In other way we can say that its job is to match a specific method of Providers which match the child3-tag."},{"owner":{"account_id":12794738,"reputation":212,"user_id":9258121,"display_name":"Mohammed Daoud"},"score":0,"creation_date":1527067490,"post_id":50483569,"comment_id":87982198,"body_markdown":"Yes If no match is found then how can I return base class instance?","body":"Yes If no match is found then how can I return base class instance?"},{"owner":{"account_id":2650303,"reputation":1790,"user_id":2292163,"accept_rate":29,"display_name":"Kapil"},"score":0,"creation_date":1527069657,"post_id":50483569,"comment_id":87983671,"body_markdown":"you can not do that directly. I will suggest you to tweak you logic part so that you don&#39;t end-up in this problem. OR you can write decision layer(if condition) in provides method and based on condition you either return Child1 or Child 2 or Base object.","body":"you can not do that directly. I will suggest you to tweak you logic part so that you don&#39;t end-up in this problem. OR you can write decision layer(if condition) in provides method and based on condition you either return Child1 or Child 2 or Base object."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661798533,"creation_date":1527201280,"answer_id":50519110,"question_id":50483569,"body_markdown":"Unfortunately, qualified bindings (bindings using qualifier annotations like `@Named`) don&#39;t really have a fallback or default. Each binding is different, and the different bindings aren&#39;t considered to be related. This is also the same for bindings lacking any sort of qualifier: `@Named(&quot;Child3&quot;) BaseClass` and `BaseClass` are completely different bindings to Dagger.\r\n\r\nThis makes sense, too: `@Named(&quot;Porsche&quot;) Engine` and `@Named(&quot;Lawnmower&quot;) Engine` are never really going to substitute for one another, despite sharing a base type. They&#39;re entirely different dependencies, and if you&#39;re missing a `@Named(&quot;Porsche&quot;) Engine`, Dagger follows the policy that it should _fail at compile time_ rather than scrounging around for a mismatched or unqualified Engine.\r\n\r\nIf this is known at compile time, you can bind your own default:\r\n\r\n```java\r\n@Binds @Named(&quot;Child3&quot;) BaseClass bindChild3(BaseClass baseClass);\r\n\r\n// or the reverse, if BaseClass weren&#39;t bound and you wanted it to default\r\n// to @Named(&quot;Child1&quot;) BaseClass\r\n\r\n@Binds BaseClass bindBaseClass(@Named(&quot;Child1&quot;) BaseClass child1);\r\n```\r\n\r\nYou could also bind a Map or use [Multibindings](https://google.github.io/dagger/multibindings) to indicate the substitutability or flexibility you&#39;re looking for. Rather than injecting the binding itself, you&#39;d inject a Map, or inject a Factory that encapsulates the map and pulls out the right binding for you.\r\n\r\n    // This uses Multibindings, but you could manually create a Map instead.\r\n\r\n    @Binds @IntoMap @StringKey(&quot;Child1&quot;)\r\n    abstract BaseClass provideChild1(Child1 child1);\r\n\r\n    @Binds @IntoMap @StringKey(&quot;Child2&quot;)\r\n    abstract BaseClass provideChild2(Child2 child2);\r\n\r\n    // Then in your consumer...\r\n\r\n    @Inject Map&lt;String, BaseClass&gt; mapOfBaseClasses;\r\n    @Inject BaseClass baseClass;\r\n\r\n    // Or make an injectable Factory:\r\n\r\n    public class YourClassFactory {\r\n      private final Map&lt;String, Provider&lt;BaseClass&gt;&gt; baseClassMap;\r\n      private final Provider&lt;BaseClass&gt; baseClassProvider;\r\n\r\n      @Inject public YourClassFactory(/* ... */) { /* set fields */ }\r\n\r\n      public BaseClass get(String key) { /* write fallback logic here */ }\r\n    }\r\n\r\nIf you have a specific binding that may be present or absent, you can also use [`@BindsOptionalOf`](https://google.github.io/dagger/users-guide.html#optional-bindings) to indicate that the binding is allowed to be missing at compile time, and then you can detect it at runtime.\r\n\r\n    @BindsOptionalOf @Named(&quot;Child3&quot;)\r\n    abstract BaseClass provideOptionalOfChild3();\r\n\r\n    // Then in your consumer:\r\n\r\n    private final BaseClass baseClass;\r\n\r\n    @Inject public YourConsumer(\r\n        @Named(&quot;Child3&quot;) Optional&lt;BaseClass&gt; optionalChild3,\r\n        Provider&lt;BaseClass&gt; defaultBaseClass) {\r\n      baseClass =\r\n          optionalChild3.isPresent()\r\n          ? optionalChild3.get()\r\n          : defaultBaseClass.get();\r\n    }","title":"Default implementation using dagger if @Named not found","body":"<p>Unfortunately, qualified bindings (bindings using qualifier annotations like <code>@Named</code>) don't really have a fallback or default. Each binding is different, and the different bindings aren't considered to be related. This is also the same for bindings lacking any sort of qualifier: <code>@Named(&quot;Child3&quot;) BaseClass</code> and <code>BaseClass</code> are completely different bindings to Dagger.</p>\n<p>This makes sense, too: <code>@Named(&quot;Porsche&quot;) Engine</code> and <code>@Named(&quot;Lawnmower&quot;) Engine</code> are never really going to substitute for one another, despite sharing a base type. They're entirely different dependencies, and if you're missing a <code>@Named(&quot;Porsche&quot;) Engine</code>, Dagger follows the policy that it should <em>fail at compile time</em> rather than scrounging around for a mismatched or unqualified Engine.</p>\n<p>If this is known at compile time, you can bind your own default:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Binds @Named(&quot;Child3&quot;) BaseClass bindChild3(BaseClass baseClass);\n\n// or the reverse, if BaseClass weren't bound and you wanted it to default\n// to @Named(&quot;Child1&quot;) BaseClass\n\n@Binds BaseClass bindBaseClass(@Named(&quot;Child1&quot;) BaseClass child1);\n</code></pre>\n<p>You could also bind a Map or use <a href=\"https://google.github.io/dagger/multibindings\" rel=\"nofollow noreferrer\">Multibindings</a> to indicate the substitutability or flexibility you're looking for. Rather than injecting the binding itself, you'd inject a Map, or inject a Factory that encapsulates the map and pulls out the right binding for you.</p>\n<pre><code>// This uses Multibindings, but you could manually create a Map instead.\n\n@Binds @IntoMap @StringKey(&quot;Child1&quot;)\nabstract BaseClass provideChild1(Child1 child1);\n\n@Binds @IntoMap @StringKey(&quot;Child2&quot;)\nabstract BaseClass provideChild2(Child2 child2);\n\n// Then in your consumer...\n\n@Inject Map&lt;String, BaseClass&gt; mapOfBaseClasses;\n@Inject BaseClass baseClass;\n\n// Or make an injectable Factory:\n\npublic class YourClassFactory {\n  private final Map&lt;String, Provider&lt;BaseClass&gt;&gt; baseClassMap;\n  private final Provider&lt;BaseClass&gt; baseClassProvider;\n\n  @Inject public YourClassFactory(/* ... */) { /* set fields */ }\n\n  public BaseClass get(String key) { /* write fallback logic here */ }\n}\n</code></pre>\n<p>If you have a specific binding that may be present or absent, you can also use <a href=\"https://google.github.io/dagger/users-guide.html#optional-bindings\" rel=\"nofollow noreferrer\"><code>@BindsOptionalOf</code></a> to indicate that the binding is allowed to be missing at compile time, and then you can detect it at runtime.</p>\n<pre><code>@BindsOptionalOf @Named(&quot;Child3&quot;)\nabstract BaseClass provideOptionalOfChild3();\n\n// Then in your consumer:\n\nprivate final BaseClass baseClass;\n\n@Inject public YourConsumer(\n    @Named(&quot;Child3&quot;) Optional&lt;BaseClass&gt; optionalChild3,\n    Provider&lt;BaseClass&gt; defaultBaseClass) {\n  baseClass =\n      optionalChild3.isPresent()\n      ? optionalChild3.get()\n      : defaultBaseClass.get();\n}\n</code></pre>\n"}],"owner":{"account_id":12794738,"reputation":212,"user_id":9258121,"display_name":"Mohammed Daoud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2301,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50519110,"answer_count":1,"score":3,"last_activity_date":1661798533,"creation_date":1527064478,"question_id":50483569,"body_markdown":"The problem I am facing is that I have a  base class and multiple child class. For resolving the particular child class I am using @Named annotation in Dagger 2. What I am trying to achieve is if I Inject with @Named(&quot;Child3&quot;) and there is not Provide with @Named(&quot;Child3&quot;) then I should get instance of Base class by default. \r\n    \r\n    public class BaseClass {\r\n    \r\n        public void haveFun(){\r\n            System.out.print(&quot;Having fun base&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n    public class Child1 extends BaseClass {\r\n        @Override\r\n        public void haveFun() {\r\n            System.out.print(&quot;Having fun Child1&quot;);\r\n        }\r\n    }\r\n\r\n    public class Child2 extends BaseClass {\r\n        @Override\r\n        public void haveFun() {\r\n            System.out.print(&quot;Having fun Child2&quot;);\r\n        }\r\n    }\r\nNow in the module I am providing the objects like this:\r\n\r\n    @Provides\r\n    @Named(&quot;Child1&quot;)\r\n    static BaseClass provideChild1(){\r\n        return new Child1();\r\n    }\r\n\r\n    @Provides\r\n    @Named(&quot;Child2&quot;)\r\n    static BaseClass provideChild2(){\r\n        return new Child2();\r\n    }\r\n       \r\n    @Provides\r\n    static BaseClass provideBaseClass(){\r\n        return new BaseClass();\r\n    }\r\n\r\nNow in my activity I am injecting like this:\r\n\r\n    public class ReceiptActivity extends AppCompatActivity {\r\n\r\n        @Inject @Named(&quot;Child1&quot;) BaseClass child1;\r\n        @Inject @Named(&quot;Child2&quot;) BaseClass child2;\r\n        @Inject @Named(&quot;Child3&quot;) BaseClass child3;\r\n\r\n        // ...\r\n\r\n    }\r\n\r\nAs `@Named(&quot;Child3&quot;)` is not provided there is a compile time error, but what I want is if `@Named(&quot;Child3&quot;)` is not there I should get a `BaseClass` instance.\r\n\r\nHow can I achieve this? \r\n\r\n\r\n\r\n","title":"Default implementation using dagger if @Named not found","body":"<p>The problem I am facing is that I have a  base class and multiple child class. For resolving the particular child class I am using @Named annotation in Dagger 2. What I am trying to achieve is if I Inject with @Named(\"Child3\") and there is not Provide with @Named(\"Child3\") then I should get instance of Base class by default. </p>\n\n<pre><code>public class BaseClass {\n\n    public void haveFun(){\n        System.out.print(\"Having fun base\");\n    }\n\n}\n\npublic class Child1 extends BaseClass {\n    @Override\n    public void haveFun() {\n        System.out.print(\"Having fun Child1\");\n    }\n}\n\npublic class Child2 extends BaseClass {\n    @Override\n    public void haveFun() {\n        System.out.print(\"Having fun Child2\");\n    }\n}\n</code></pre>\n\n<p>Now in the module I am providing the objects like this:</p>\n\n<pre><code>@Provides\n@Named(\"Child1\")\nstatic BaseClass provideChild1(){\n    return new Child1();\n}\n\n@Provides\n@Named(\"Child2\")\nstatic BaseClass provideChild2(){\n    return new Child2();\n}\n\n@Provides\nstatic BaseClass provideBaseClass(){\n    return new BaseClass();\n}\n</code></pre>\n\n<p>Now in my activity I am injecting like this:</p>\n\n<pre><code>public class ReceiptActivity extends AppCompatActivity {\n\n    @Inject @Named(\"Child1\") BaseClass child1;\n    @Inject @Named(\"Child2\") BaseClass child2;\n    @Inject @Named(\"Child3\") BaseClass child3;\n\n    // ...\n\n}\n</code></pre>\n\n<p>As <code>@Named(\"Child3\")</code> is not provided there is a compile time error, but what I want is if <code>@Named(\"Child3\")</code> is not there I should get a <code>BaseClass</code> instance.</p>\n\n<p>How can I achieve this? </p>\n"},{"tags":["java","maven","selenium","cucumber","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":7857241,"reputation":553,"user_id":5938634,"display_name":"SteroidKing666"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532076837,"creation_date":1532074733,"answer_id":51438107,"question_id":51437433,"body_markdown":"    java -Dcucumber.options=&quot;--tags @all&quot; -jar your-test-jar.jar\r\n\r\nTry this. Although I am not sure why you don&#39;t want to use the main method. If you don&#39;t use the main method it will just become too complicated.\r\n\r\n**Update:**\r\n\r\nWrite a main method and run Cucumber main method from it. The arguments are what you would pass in as your Cucumber command line arguments. \r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        String[] arguments = {&quot;a&quot;, &quot;b&quot;};\r\n        cucumber.api.cli.Main.main(arguments);\r\n    }\r\n\r\nIf I have understood your question clearly, this might do your work.\r\n\r\nThis should help you run Cucumber from your executable.","title":"How to run mvn cucumber test using jar file?","body":"<pre><code>java -Dcucumber.options=\"--tags @all\" -jar your-test-jar.jar\n</code></pre>\n\n<p>Try this. Although I am not sure why you don't want to use the main method. If you don't use the main method it will just become too complicated.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Write a main method and run Cucumber main method from it. The arguments are what you would pass in as your Cucumber command line arguments. </p>\n\n<pre><code>public static void main(String[] args) throws Throwable {\n    String[] arguments = {\"a\", \"b\"};\n    cucumber.api.cli.Main.main(arguments);\n}\n</code></pre>\n\n<p>If I have understood your question clearly, this might do your work.</p>\n\n<p>This should help you run Cucumber from your executable.</p>\n"},{"tags":[],"owner":{"account_id":2121802,"reputation":28,"user_id":1884890,"display_name":"sadakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661798468,"creation_date":1661798468,"answer_id":73533318,"question_id":51437433,"body_markdown":"The below code worked for me to execute the cucumber tests from runnable jar with test frame work as TestNG.\r\n\r\nExecuting jar: java -jar ProductsAutomation-0.0.1-SNAPSHOT-jar-with-dependencies.jar\r\n\r\n    import io.cucumber.core.cli.Main;\r\n    public static void main(String args[]) throws Throwable {\r\n    try {\r\n        Main.main(new String[] { \r\n    \r\n\r\n        &quot;-g&quot;,&quot;com.sadakar.cucumber.common&quot;,\r\n        &quot;-g&quot;,&quot;com.sadakar.cucumber.runner&quot;,\r\n                    \r\n        &quot;classpath:features&quot;, \r\n        \r\n        &quot;-t&quot;,&quot;@SmokeTest&quot;,\r\n        \r\n                \r\n        &quot;-p&quot;, &quot;pretty&quot;, \r\n        &quot;-p&quot;, &quot;json:target/cucumber-reports/cucumber.json&quot;, \r\n        &quot;-p&quot;, &quot;html:target/cucumber-reports/cucumberreport.html&quot;,\r\n        \r\n        &quot;-m&quot;\r\n    }\r\n    );\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        System.out.println(&quot;Main method exception : &quot; + e);\r\n    }\r\n    }","title":"How to run mvn cucumber test using jar file?","body":"<p>The below code worked for me to execute the cucumber tests from runnable jar with test frame work as TestNG.</p>\n<p>Executing jar: java -jar ProductsAutomation-0.0.1-SNAPSHOT-jar-with-dependencies.jar</p>\n<pre><code>import io.cucumber.core.cli.Main;\npublic static void main(String args[]) throws Throwable {\ntry {\n    Main.main(new String[] { \n\n\n    &quot;-g&quot;,&quot;com.sadakar.cucumber.common&quot;,\n    &quot;-g&quot;,&quot;com.sadakar.cucumber.runner&quot;,\n                \n    &quot;classpath:features&quot;, \n    \n    &quot;-t&quot;,&quot;@SmokeTest&quot;,\n    \n            \n    &quot;-p&quot;, &quot;pretty&quot;, \n    &quot;-p&quot;, &quot;json:target/cucumber-reports/cucumber.json&quot;, \n    &quot;-p&quot;, &quot;html:target/cucumber-reports/cucumberreport.html&quot;,\n    \n    &quot;-m&quot;\n}\n);\n} catch (Exception e) {\n    e.printStackTrace();\n    System.out.println(&quot;Main method exception : &quot; + e);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":2897548,"reputation":3686,"user_id":2484967,"accept_rate":26,"display_name":"bugCracker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3013,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661798468,"creation_date":1532072243,"question_id":51437433,"body_markdown":"I have created a test automation framework using maven and cucumber.\r\n\r\n1) I want to create a jar file which includes everything (all project files)\r\n\r\n2) Then I want to run a test from the command line using above created jar like using the command\r\n\r\n(`mvn clean test -Dcucumber.options=&#39;--tags @all&#39;`)\r\n\r\nI don&#39;t want to use the main method or anything.","title":"How to run mvn cucumber test using jar file?","body":"<p>I have created a test automation framework using maven and cucumber.</p>\n\n<p>1) I want to create a jar file which includes everything (all project files)</p>\n\n<p>2) Then I want to run a test from the command line using above created jar like using the command</p>\n\n<p>(<code>mvn clean test -Dcucumber.options='--tags @all'</code>)</p>\n\n<p>I don't want to use the main method or anything.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1661797598,"post_id":73533081,"comment_id":129852385,"body_markdown":"Well, your `Pho` constructor does not take parameters, so you cannot do that with simply calling the constructor. You could do several things: 1) create a constructor with all those parameters and then call it with the appropriate arguments; or 2) reassign them (e.g. `phoChay.shape = &quot;inflated&quot;`); or 3) use a method which mutates the field (e.g. `phoChay.setShape(&quot;inflated&quot;)`).","body":"Well, your <code>Pho</code> constructor does not take parameters, so you cannot do that with simply calling the constructor. You could do several things: 1) create a constructor with all those parameters and then call it with the appropriate arguments; or 2) reassign them (e.g. <code>phoChay.shape = &quot;inflated&quot;</code>); or 3) use a method which mutates the field (e.g. <code>phoChay.setShape(&quot;inflated&quot;)</code>)."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661797775,"creation_date":1661797775,"answer_id":73533193,"question_id":73533081,"body_markdown":"Extend the `Noodle` class, have a no parameter constructor in the child class that calls the parent `super` constructor with the desired parameters.\r\n\r\nHere is some sample code:\r\n```java\r\nclass Pho extends Noodle\r\n{\r\n\tpublic Pho()\r\n\t{\r\n\t\tsuper(20.0, .85, &quot;inflated&quot;, &quot;wheat flour&quot;);\r\n\t}\r\n}\r\n```","title":"How do i create multiple objects for child classes using parent class constructor(super())?","body":"<p>Extend the <code>Noodle</code> class, have a no parameter constructor in the child class that calls the parent <code>super</code> constructor with the desired parameters.</p>\n<p>Here is some sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Pho extends Noodle\n{\n    public Pho()\n    {\n        super(20.0, .85, &quot;inflated&quot;, &quot;wheat flour&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26191523,"reputation":29,"user_id":19873289,"display_name":"Oleksandr Bielov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661798238,"creation_date":1661797981,"answer_id":73533228,"question_id":73533081,"body_markdown":"Just create required args constructor matching super:\r\n\r\n    public class Pho extends Noodle{\r\n    \r\n        public Pho(double lenInCent, double wthInCent, String shp, String ingr) {\r\n            super(lenInCent, wthInCent, shp, ingr);\r\n        }\r\n    }\r\n\r\nSo you can create all kinds of noodles you need:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Noodle pho = new Pho(30.0,0.64,&quot;flat&quot;,&quot;rice flour&quot;);\r\n            Noodle anotherPho = new Pho(11.0,0.33,&quot;round&quot;,&quot;bone flour&quot;);\r\n        }\r\n    }","title":"How do i create multiple objects for child classes using parent class constructor(super())?","body":"<p>Just create required args constructor matching super:</p>\n<pre><code>public class Pho extends Noodle{\n\n    public Pho(double lenInCent, double wthInCent, String shp, String ingr) {\n        super(lenInCent, wthInCent, shp, ingr);\n    }\n}\n</code></pre>\n<p>So you can create all kinds of noodles you need:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Noodle pho = new Pho(30.0,0.64,&quot;flat&quot;,&quot;rice flour&quot;);\n        Noodle anotherPho = new Pho(11.0,0.33,&quot;round&quot;,&quot;bone flour&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26191349,"reputation":1,"user_id":19873150,"display_name":"PRIEST676"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1661798238,"creation_date":1661797124,"question_id":73533081,"body_markdown":"   ```\r\nclass Noodle {\r\n  \r\n  double lengthInCentimeters;\r\n  double widthInCentimeters;\r\n  String shape;\r\n  String ingredients;\r\n  String texture = &quot;brittle&quot;;\r\n  \r\n  Noodle(double lenInCent, double wthInCent, String shp, String ingr) {\r\n    \r\n    this.lengthInCentimeters = lenInCent;\r\n    this.widthInCentimeters = wthInCent;\r\n    this.shape = shp;\r\n    this.ingredients = ingr;\r\n    \r\n  }\r\n  \r\n  public void cook() {\r\n    \r\n    this.texture = &quot;cooked&quot;;\r\n    \r\n  }\r\n  \r\n  public static void main(String[] args) {\r\n    Pho phoChay = new Pho();\r\n    System.out.println(phoChay.shape);\r\n    \r\n    }\r\n}\r\nclass Pho extends Noodle {\r\n   Pho(){\r\n    super(30.0,0.64,&quot;flat&quot;,&quot;rice flour&quot;);\r\n  }\r\n}\r\n```\r\nI want to create one more Pho object with different parameters how do I do it?\r\nfor eg \r\n\r\nA lengthInCentimeters of 20.0.\r\n\r\nA widthInCentimeters of 0.85\r\n\r\nA shape of &quot;inflated\r\n\r\ningredients of &quot;wheat flour&quot;","title":"How do i create multiple objects for child classes using parent class constructor(super())?","body":"<pre><code>class Noodle {\n\ndouble lengthInCentimeters;\ndouble widthInCentimeters;\nString shape;\nString ingredients;\nString texture = &quot;brittle&quot;;\n\nNoodle(double lenInCent, double wthInCent, String shp, String ingr) {\n \n this.lengthInCentimeters = lenInCent;\n this.widthInCentimeters = wthInCent;\n this.shape = shp;\n this.ingredients = ingr;\n \n}\n\npublic void cook() {\n \n this.texture = &quot;cooked&quot;;\n \n}\n\npublic static void main(String[] args) {\n Pho phoChay = new Pho();\n System.out.println(phoChay.shape);\n \n }\n}\nclass Pho extends Noodle {\nPho(){\n super(30.0,0.64,&quot;flat&quot;,&quot;rice flour&quot;);\n}\n}\n</code></pre>\n<p>I want to create one more Pho object with different parameters how do I do it?\nfor eg</p>\n<p>A lengthInCentimeters of 20.0.</p>\n<p>A widthInCentimeters of 0.85</p>\n<p>A shape of &quot;inflated</p>\n<p>ingredients of &quot;wheat flour&quot;</p>\n"},{"tags":["java","multithreading","audio","lag","javasound"],"comments":[{"owner":{"account_id":26144535,"reputation":33,"user_id":19833345,"display_name":"Moyen Medium"},"score":0,"creation_date":1661398475,"post_id":73480648,"comment_id":129764242,"body_markdown":"I did figure out a way to unfreeze the application, although it is not pretty. I create a new thread and send it to die by closing the audio clip. This prevents me from accessing the clip for 2 seconds, but I&#39;m at least not stuck waiting for the main thread.","body":"I did figure out a way to unfreeze the application, although it is not pretty. I create a new thread and send it to die by closing the audio clip. This prevents me from accessing the clip for 2 seconds, but I&#39;m at least not stuck waiting for the main thread."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1661418776,"post_id":73480648,"comment_id":129769558,"body_markdown":"Why do you need to wait at all? Can you not use `Clip.addLineListener` to add a listener which watches for `LineEvent.Type.STOP`  events and triggers whatever you want to do next there. If this is a GUI program you should avoid any sort of wait.","body":"Why do you need to wait at all? Can you not use <code>Clip.addLineListener</code> to add a listener which watches for <code>LineEvent.Type.STOP</code>  events and triggers whatever you want to do next there. If this is a GUI program you should avoid any sort of wait."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1661447683,"post_id":73480648,"comment_id":129781003,"body_markdown":"Could you indicate whether the code you show being called by `clip.close()` is either system code or code that you have written? I&#39;m guessing the former but am not sure. On my system, I&#39;m only seeing the interface for `Line` when I drill down, not the implementation. AFAIK, `line.close()` should send a request to the line to release resources, and this should happen behind the scenes (executing in a fire-and-forget manner, returning immediately). There are no guarantees on how long it will take. Can you indicate how the lag manifests? It shouldn&#39;t cause a control flow block.","body":"Could you indicate whether the code you show being called by <code>clip.close()</code> is either system code or code that you have written? I&#39;m guessing the former but am not sure. On my system, I&#39;m only seeing the interface for <code>Line</code> when I drill down, not the implementation. AFAIK, <code>line.close()</code> should send a request to the line to release resources, and this should happen behind the scenes (executing in a fire-and-forget manner, returning immediately). There are no guarantees on how long it will take. Can you indicate how the lag manifests? It shouldn&#39;t cause a control flow block."},{"owner":{"account_id":26144535,"reputation":33,"user_id":19833345,"display_name":"Moyen Medium"},"score":0,"creation_date":1661452412,"post_id":73480648,"comment_id":129782515,"body_markdown":"@greg-449\nThe code shown in my question is unfortunately not mine. I have no power over it. I simply ran the debugger and followed it to these methods.","body":"@greg-449 The code shown in my question is unfortunately not mine. I have no power over it. I simply ran the debugger and followed it to these methods."},{"owner":{"account_id":26144535,"reputation":33,"user_id":19833345,"display_name":"Moyen Medium"},"score":0,"creation_date":1661452590,"post_id":73480648,"comment_id":129782568,"body_markdown":"@PhilFreihofner It is unfortunately not my code. All that can be seen here is code that I found through the java debugger. \n&quot;Can you indicate how the lag manifests?&quot; As soon as I call close, the API tries to kill the thread that was used to run the audio clip and it freezes the main thread in the process (because of the join method). This causes my entire application to freeze for the whole 2 seconds.","body":"@PhilFreihofner It is unfortunately not my code. All that can be seen here is code that I found through the java debugger.  &quot;Can you indicate how the lag manifests?&quot; As soon as I call close, the API tries to kill the thread that was used to run the audio clip and it freezes the main thread in the process (because of the join method). This causes my entire application to freeze for the whole 2 seconds."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1661465548,"post_id":73480648,"comment_id":129785772,"body_markdown":"Thanks, have verified the debug path. I have the same. OK. Given the warning about synchronization in `implClose`, I wonder if there is something that you have done with the `Clip` or a thread containing the `Clip` that pertains to synchronization. Normally, a `Clip` creates a daemon thread that holds the play back code. Can you show how you configured the Clip and the code that plays it? Perhaps it is in a wrapper that is synchronized?","body":"Thanks, have verified the debug path. I have the same. OK. Given the warning about synchronization in <code>implClose</code>, I wonder if there is something that you have done with the <code>Clip</code> or a thread containing the <code>Clip</code> that pertains to synchronization. Normally, a <code>Clip</code> creates a daemon thread that holds the play back code. Can you show how you configured the Clip and the code that plays it? Perhaps it is in a wrapper that is synchronized?"},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1661466196,"post_id":73480648,"comment_id":129785877,"body_markdown":"Recapping: (1) `Clip.close()` method blocking is not normal. (2) The debug code you show is all &quot;normal&quot;. THEREFORE: if the clip is in a container, is being managed, that is next likely cause of the issue. So can you show that code? You say the problem behavior only occurs when there is less that one second left to play. So in the case where there is more than one second left to play, playback stops immediately and the system doesn&#39;t hang? Or are you doing something to allow the sound to play to completion? This kind of suggests something going on with a container code for the clip.","body":"Recapping: (1) <code>Clip.close()</code> method blocking is not normal. (2) The debug code you show is all &quot;normal&quot;. THEREFORE: if the clip is in a container, is being managed, that is next likely cause of the issue. So can you show that code? You say the problem behavior only occurs when there is less that one second left to play. So in the case where there is more than one second left to play, playback stops immediately and the system doesn&#39;t hang? Or are you doing something to allow the sound to play to completion? This kind of suggests something going on with a container code for the clip."},{"owner":{"account_id":26144535,"reputation":33,"user_id":19833345,"display_name":"Moyen Medium"},"score":0,"creation_date":1661540589,"post_id":73480648,"comment_id":129805015,"body_markdown":"@PhilFreihofner Sure thing, I&#39;ll update the post with how I instantiate the clip. Thank you for the help!","body":"@PhilFreihofner Sure thing, I&#39;ll update the post with how I instantiate the clip. Thank you for the help!"},{"owner":{"account_id":26144535,"reputation":33,"user_id":19833345,"display_name":"Moyen Medium"},"score":0,"creation_date":1661541734,"post_id":73480648,"comment_id":129805333,"body_markdown":"@PhilFreihofner And to answer your last question: \n&quot;So in the case where there is more than one second left to play, playback stops immediately and the system doesn&#39;t hang?(1) Or are you doing something to allow the sound to play to completion?(2)&quot;\n\n1. Exactly, no hanging as long as I have more than one second of audio left to play.\n2.As soon as I click stop, my code stops the audio using clip.close(), then hangs at the &quot;join&quot; method shown above.","body":"@PhilFreihofner And to answer your last question:  &quot;So in the case where there is more than one second left to play, playback stops immediately and the system doesn&#39;t hang?(1) Or are you doing something to allow the sound to play to completion?(2)&quot;  1. Exactly, no hanging as long as I have more than one second of audio left to play. 2.As soon as I click stop, my code stops the audio using clip.close(), then hangs at the &quot;join&quot; method shown above."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1661542389,"post_id":73480648,"comment_id":129805489,"body_markdown":"When there is more than a second, does the audio stop immediately on close or does it play out a second or two then stop?","body":"When there is more than a second, does the audio stop immediately on close or does it play out a second or two then stop?"},{"owner":{"account_id":26144535,"reputation":33,"user_id":19833345,"display_name":"Moyen Medium"},"score":0,"creation_date":1661543312,"post_id":73480648,"comment_id":129805723,"body_markdown":"@PhilFreihofner It stops immediately. It hangs as soon as it reaches the implClose(); method. Before that, it manages to run the stop() and setOpen(False) method without any delay. I forgot to save my edit, I&#39;ve got new code to show.","body":"@PhilFreihofner It stops immediately. It hangs as soon as it reaches the implClose(); method. Before that, it manages to run the stop() and setOpen(False) method without any delay. I forgot to save my edit, I&#39;ve got new code to show."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1661544789,"post_id":73480648,"comment_id":129806107,"body_markdown":"Sorry to keep asking for more code. Can you show the custom class that holds the clip? You refer to it with the method `audioPlayback.setClip(clip)`. Is synchronization ever used with this class? Does this class exist on its own thread? Meanwhile, I&#39;ll try again to create a simple case that recreates the problem.","body":"Sorry to keep asking for more code. Can you show the custom class that holds the clip? You refer to it with the method <code>audioPlayback.setClip(clip)</code>. Is synchronization ever used with this class? Does this class exist on its own thread? Meanwhile, I&#39;ll try again to create a simple case that recreates the problem."},{"owner":{"account_id":26144535,"reputation":33,"user_id":19833345,"display_name":"Moyen Medium"},"score":0,"creation_date":1661545167,"post_id":73480648,"comment_id":129806204,"body_markdown":"@PhilFreihofner Of course! I tried not to show too much of it to keep it more concise, but that&#39;s no problem. It is not on its own thread and synchronization is not used within it. https://github.com/LouisBouch/SpectrumAnalyzer/blob/master/SpectrumAnalyzer/src/soundProcessing/AudioPlayback.java","body":"@PhilFreihofner Of course! I tried not to show too much of it to keep it more concise, but that&#39;s no problem. It is not on its own thread and synchronization is not used within it. <a href=\"https://github.com/LouisBouch/SpectrumAnalyzer/blob/master/SpectrumAnalyzer/src/soundProcessing/AudioPlayback.java\" rel=\"nofollow noreferrer\">github.com/LouisBouch/SpectrumAnalyzer/blob/master/&hellip;</a>"},{"owner":{"account_id":26144535,"reputation":33,"user_id":19833345,"display_name":"Moyen Medium"},"score":0,"creation_date":1661545491,"post_id":73480648,"comment_id":129806277,"body_markdown":"@PhilFreihofner This problem might be windows exclusive. I think I remember you saying that you were on Linux. If you want to save some time trying to recreate the issue, I can send you the github link to the project. If you&#39;ve got no problem, I&#39;ll know that this issue is exclusive to my operating system.\n\nAnd thank you so much for your time, it is really appreciated.","body":"@PhilFreihofner This problem might be windows exclusive. I think I remember you saying that you were on Linux. If you want to save some time trying to recreate the issue, I can send you the github link to the project. If you&#39;ve got no problem, I&#39;ll know that this issue is exclusive to my operating system.  And thank you so much for your time, it is really appreciated."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661797795,"creation_date":1661550892,"answer_id":73506818,"question_id":73480648,"body_markdown":"The following is is intended to be a more minimal case that demonstrates the problem. I *am* able to recreate the problem with this code.\r\n\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\timport java.io.IOException;\r\n\timport java.net.URL;\r\n\t\r\n\timport javax.sound.sampled.AudioInputStream;\r\n\timport javax.sound.sampled.AudioSystem;\r\n\timport javax.sound.sampled.Clip;\r\n\timport javax.sound.sampled.DataLine;\r\n\timport javax.sound.sampled.LineUnavailableException;\r\n\timport javax.sound.sampled.UnsupportedAudioFileException;\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\t\r\n\t\r\n\tpublic class ClipCloseTest {\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t \r\n\t\t    EventQueue.invokeLater(new Runnable(){\r\n\t\t    \r\n\t\t    \tpublic void run()\r\n\t\t    \t{\t\r\n\t\t    \t\tClipTestFrame frame = new ClipTestFrame();\r\n\t\t    \t\tframe.pack();\r\n\t\t    \t\tframe.setVisible(true);\r\n\t\t    \t}\r\n\t\t    });\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tclass ClipTestFrame extends JFrame {\r\n\t\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t\tprivate Clip clip;\r\n\t\tprivate JButton btnPlay, btnClose, btnReopen;\r\n\t\tprivate long timeStamp;\r\n\t\t\r\n\t\tpublic ClipTestFrame(){\r\n\t\t\t\r\n\t\t\tJPanel panel = new JPanel();\r\n\t\t\tbtnPlay = new JButton(&quot;Play clip&quot;);\r\n\t\t\tbtnPlay.addActionListener(new ActionListener() {\r\n\t\t\t\t\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tclip.start();\r\n\t\t\t\t\tbtnPlay.setEnabled(false);\r\n\t\t\t\t\tbtnClose.setEnabled(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\r\n\t\t\tbtnClose = new JButton(&quot;Close Clip&quot;);\r\n\t\t\tbtnClose.addActionListener(new ActionListener() {\r\n\t\t\t\t\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\ttimeStamp = System.currentTimeMillis();\r\n\t\t\t\t\t//clip.stop();  // this line make no difference\r\n\t\t\t\t\tclip.close();\r\n\t\t\t\t\ttimeStamp = System.currentTimeMillis();\r\n\t\t\t\t\tSystem.out.println(&quot;Elapsed time:&quot; + (System.currentTimeMillis() - timeStamp0));\r\n\t\t\t\t\tbtnClose.setEnabled(false);\r\n\t\t\t\t\tbtnReopen.setEnabled(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tbtnReopen = new JButton(&quot;Reopen Clip&quot;);\r\n\t\t\tbtnReopen.addActionListener(new ActionListener() {\r\n\t\t\t\t\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\topenClip();\r\n\t\t\t\t\tbtnReopen.setEnabled(false);\r\n\t\t\t\t\tbtnPlay.setEnabled(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\topenClip();\r\n\t\t\tbtnClose.setEnabled(false);\r\n\t\t\tbtnReopen.setEnabled(false);\r\n\t\t\t\r\n\t\t\tpanel.add(btnPlay);\r\n\t\t\tpanel.add(btnClose);\r\n\t\t\tpanel.add(btnReopen);\r\n\t\t\tadd(panel);\r\n\t\t}\r\n\t\t\r\n\t\tprivate void openClip() {\r\n\t\t\t// Set up the AudioCue\r\n\t\t\tURL url = this.getClass().getResource(&quot;sineticking3secs.wav&quot;);\r\n\t\t\ttry {\r\n\t\t\t    AudioInputStream ais = AudioSystem.getAudioInputStream(url);\r\n\t\t\t    DataLine.Info info = new DataLine.Info(Clip.class, ais.getFormat());\r\n\t\t\t    clip = (Clip) AudioSystem.getLine(info);\r\n\t\t\t\tclip.open(ais);\r\n\t\t\t\tSystem.out.println(&quot;clip.open executed&quot;);\r\n\t\t\t\t\r\n\t\t\t} catch ( Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThe resource **sineticking3secs.wav**, was made using *Audacity*. Format: 16-bit, 44100 fps, stereo, little-endian. It was made by appending 500 millisecond length sine tones using the *Generate* tool, at 220, 330, 220, 330, 440, 660 Hz. The segments make it easier to tell how close to the end we are when we close the clip. Can be downloaded from [http://adonax.com/audio/sineticking3secs.wav][1]\r\n\r\nFor both Java 11 and Java 18 running on Windows 11, the elapsed time listed on the console when the *Close Clip* button is pressed confirms that there is a 2-second pause when the button calls the `clip.close()` method, but only when the `Clip` has less than one second&#39;s worth of data left to play.\r\n\r\nI tried looking at bug reports on Clip, but I can&#39;t figure out how to find the documentation on the details. There are a couple that mention the timing of closing in the title, for example [https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8207506][2]. How does one navigate to the details? [EDIT: I tried a search on the bug ID and found this: [https://bugs.openjdk.org/browse/JDK-8207210][3], so it isn&#39;t the same bug. I will try posting a bug report later in the day if I get a chance.]\r\n\r\nI experimented with using a `SourceDataLine` instead of a `Clip`. There was no problem closing the `SourceDataLine`.\r\n\r\nI wrote a library called [AudioCue-maven][4] that has a Clip &quot;improvement&quot;. *AudioCue* uses `SourceDataLine` for output and causes no pauses when closing. It&#39;s available via maven.org, (groupid is com.adonax, artifactID is audiocue).\r\n\r\nIf you decide to try it, the code for instantiating is as follows:\r\n\r\n\t\tprivate void makeAudioCue() {\r\n\t\t\t// Set up the AudioCue\r\n\t\t\tURL url = this.getClass().getResource(&quot;sineticking3secs.wav&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tclip = AudioCue.makeStereoCue(url, 1);\r\n\t\t\t\tclip.open();\r\n\t\t\t}\r\n\t\t\tcatch (Exception e) {\r\n\t\t\t}\r\n\t\t}\r\n\r\nClosing will close the associated `SourceDataLine` but won&#39;t remove the AudioCue&#39;s internal PCM array from memory. You&#39;ll have to set the variable to null for that. But if you simply reopen the AudioCue after closing it, it will play from the point where it was closed, so one has to reposition it back to the start `clip.setFramePosition(0)`. \r\n\r\n\r\n  [1]: http://adonax.com/audio/sineticking3secs.wav\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8207506\r\n  [3]: https://bugs.openjdk.org/browse/JDK-8207210\r\n  [4]: https://github.com/philfrei/AudioCue-maven","title":"Closing audio line causes 2 sec lag when only 1 second of audio data remains","body":"<p>The following is is intended to be a more minimal case that demonstrates the problem. I <em>am</em> able to recreate the problem with this code.</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.IOException;\nimport java.net.URL;\n\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.sound.sampled.DataLine;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.UnsupportedAudioFileException;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n\npublic class ClipCloseTest {\n    \n    public static void main(String[] args) {\n \n        EventQueue.invokeLater(new Runnable(){\n        \n            public void run()\n            {   \n                ClipTestFrame frame = new ClipTestFrame();\n                frame.pack();\n                frame.setVisible(true);\n            }\n        });\n    }   \n}\n\nclass ClipTestFrame extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n\n    private Clip clip;\n    private JButton btnPlay, btnClose, btnReopen;\n    private long timeStamp;\n    \n    public ClipTestFrame(){\n        \n        JPanel panel = new JPanel();\n        btnPlay = new JButton(&quot;Play clip&quot;);\n        btnPlay.addActionListener(new ActionListener() {\n            \n            public void actionPerformed(ActionEvent e) {\n                clip.start();\n                btnPlay.setEnabled(false);\n                btnClose.setEnabled(true);\n            }\n        });\n\n        btnClose = new JButton(&quot;Close Clip&quot;);\n        btnClose.addActionListener(new ActionListener() {\n            \n            public void actionPerformed(ActionEvent e) {\n                timeStamp = System.currentTimeMillis();\n                //clip.stop();  // this line make no difference\n                clip.close();\n                timeStamp = System.currentTimeMillis();\n                System.out.println(&quot;Elapsed time:&quot; + (System.currentTimeMillis() - timeStamp0));\n                btnClose.setEnabled(false);\n                btnReopen.setEnabled(true);\n            }\n        });\n        \n        btnReopen = new JButton(&quot;Reopen Clip&quot;);\n        btnReopen.addActionListener(new ActionListener() {\n            \n            public void actionPerformed(ActionEvent e) {\n                openClip();\n                btnReopen.setEnabled(false);\n                btnPlay.setEnabled(true);\n            }\n        });\n        \n        openClip();\n        btnClose.setEnabled(false);\n        btnReopen.setEnabled(false);\n        \n        panel.add(btnPlay);\n        panel.add(btnClose);\n        panel.add(btnReopen);\n        add(panel);\n    }\n    \n    private void openClip() {\n        // Set up the AudioCue\n        URL url = this.getClass().getResource(&quot;sineticking3secs.wav&quot;);\n        try {\n            AudioInputStream ais = AudioSystem.getAudioInputStream(url);\n            DataLine.Info info = new DataLine.Info(Clip.class, ais.getFormat());\n            clip = (Clip) AudioSystem.getLine(info);\n            clip.open(ais);\n            System.out.println(&quot;clip.open executed&quot;);\n            \n        } catch ( Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The resource <strong>sineticking3secs.wav</strong>, was made using <em>Audacity</em>. Format: 16-bit, 44100 fps, stereo, little-endian. It was made by appending 500 millisecond length sine tones using the <em>Generate</em> tool, at 220, 330, 220, 330, 440, 660 Hz. The segments make it easier to tell how close to the end we are when we close the clip. Can be downloaded from <a href=\"http://adonax.com/audio/sineticking3secs.wav\" rel=\"nofollow noreferrer\">http://adonax.com/audio/sineticking3secs.wav</a></p>\n<p>For both Java 11 and Java 18 running on Windows 11, the elapsed time listed on the console when the <em>Close Clip</em> button is pressed confirms that there is a 2-second pause when the button calls the <code>clip.close()</code> method, but only when the <code>Clip</code> has less than one second's worth of data left to play.</p>\n<p>I tried looking at bug reports on Clip, but I can't figure out how to find the documentation on the details. There are a couple that mention the timing of closing in the title, for example <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8207506\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8207506</a>. How does one navigate to the details? [EDIT: I tried a search on the bug ID and found this: <a href=\"https://bugs.openjdk.org/browse/JDK-8207210\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8207210</a>, so it isn't the same bug. I will try posting a bug report later in the day if I get a chance.]</p>\n<p>I experimented with using a <code>SourceDataLine</code> instead of a <code>Clip</code>. There was no problem closing the <code>SourceDataLine</code>.</p>\n<p>I wrote a library called <a href=\"https://github.com/philfrei/AudioCue-maven\" rel=\"nofollow noreferrer\">AudioCue-maven</a> that has a Clip &quot;improvement&quot;. <em>AudioCue</em> uses <code>SourceDataLine</code> for output and causes no pauses when closing. It's available via maven.org, (groupid is com.adonax, artifactID is audiocue).</p>\n<p>If you decide to try it, the code for instantiating is as follows:</p>\n<pre><code>    private void makeAudioCue() {\n        // Set up the AudioCue\n        URL url = this.getClass().getResource(&quot;sineticking3secs.wav&quot;);\n        try {\n            clip = AudioCue.makeStereoCue(url, 1);\n            clip.open();\n        }\n        catch (Exception e) {\n        }\n    }\n</code></pre>\n<p>Closing will close the associated <code>SourceDataLine</code> but won't remove the AudioCue's internal PCM array from memory. You'll have to set the variable to null for that. But if you simply reopen the AudioCue after closing it, it will play from the point where it was closed, so one has to reposition it back to the start <code>clip.setFramePosition(0)</code>.</p>\n"}],"owner":{"account_id":26144535,"reputation":33,"user_id":19833345,"display_name":"Moyen Medium"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661797795,"creation_date":1661386561,"question_id":73480648,"body_markdown":"I&#39;ve been trying to implement a way to play audio in my Java application using java&#39;s sound API. I&#39;ve got a few problems here and there, but the most annoying one right now is that closing a channel `clip.close()` when there is less than one second remaining of audio lags my application for 2 seconds. \r\n\r\nI dug around and figured out that, for some reason, when the line is trying to terminate its thread with the command `thread.join(2000)`, the thread is still alive and it causes it to wait for that whole 2 second to end. \r\n\r\nThe thread just so happens to stay alive only if there is less than 1 second of audio left. At any other time, when I try to stop the audio, no problems occur.\r\n\r\nHere&#39;s the code that&#39;s being called:\r\n```java\r\nclip.close();\r\n```\r\nWhich goes to\r\n```java\r\n/**\r\n* This should also stop the line.  The closed line should not be running or active.\r\n* After we close the line, we reset the format and buffer size to the defaults.\r\n*/\r\n@Override\r\npublic final void close() {\r\n    //$$fb 2001-10-09: Bug #4517739: avoiding deadlock by synchronizing to mixer !\r\n    synchronized (mixer) {\r\n        if (isOpen()) {\r\n            // stop\r\n            stop();\r\n\r\n            // set the open state to false and send events\r\n            setOpen(false);\r\n\r\n            // close resources for this line\r\n            implClose();\r\n            //... more code\r\n        }\r\n    }\r\n}\r\n```\r\n`implClose` then goes to\r\n```java\r\n@Override\r\nvoid implClose() {\r\n    // dispose of thread\r\n    Thread oldThread = thread;\r\n    thread = null;\r\n    doIO = false;\r\n    if (oldThread != null) {\r\n        // wake up the thread if it&#39;s in wait()\r\n        synchronized(lock) {\r\n            lock.notifyAll();\r\n        }\r\n        // wait for the thread to terminate itself,\r\n        // but max. 2 seconds. Must not be synchronized!\r\n        try {\r\n            oldThread.join(2000); //This is where the problem occurs. The thread is still alive and the application is forced to wait 2 seconds.\r\n        } catch (InterruptedException ie) {}\r\n    }\r\n}\r\n```\r\nHere is the join method\r\n```java\r\npublic final synchronized void join(final long millis)\r\nthrows InterruptedException {\r\n    if (millis &gt; 0) {\r\n        if (isAlive()) {\r\n            final long startTime = System.nanoTime();\r\n            long delay = millis;\r\n            do {\r\n                wait(delay);\r\n            } while (isAlive() &amp;&amp; (delay = millis -\r\n                    TimeUnit.NANOSECONDS.toMillis(System.nanoTime() - startTime)) &gt; 0);\r\n        }\r\n    } else if (millis == 0) {\r\n        while (isAlive()) {\r\n            wait(0);\r\n        }\r\n    } else {\r\n        throw new IllegalArgumentException(&quot;timeout value is negative&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve been trying to figure it out for the last 4 hours, but with an internet connection that is down 80% of the time and inadequate java knowledge, I haven&#39;t been able to yet.\r\n\r\nThank you for your time!\r\n\r\n**Edit:**\r\n\r\nHere is how the clip is instantiated and closed:\r\n\r\nI first get a clip from a list of lines offered by the mixer: \r\n\r\n    //This is done with the main thread\r\n    for (Line.Info lineInfo : linesInfo) {\r\n\t\t\tif (lineInfo.getLineClass().isAssignableFrom(Clip.class)) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tline =  AudioSystem.getLine(lineInfo);\r\n\t\t\t\t\tclip = (Clip) line;\r\n\t\t\t\t\taudioPlayback.setClip(clip);//This is a custom class that holds the clip\r\n\t\t\t\t}\r\n\t\t\t\tcatch(LineUnavailableException e) {\r\n\t\t\t\t\tSystem.out.println(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\nThis code is ran from the custom class when I press on a button to start the clip:\r\n\r\n    //Main thread is used here too\r\n    try {\r\n\t    //Code to get format, data and data length\r\n\t\t\t\t\t\r\n\t\tclip.open(format, data, 0, length);\r\n\t}\r\n\tcatch (LineUnavailableException e) {\r\n\t\tSystem.out.println(e);\r\n\t}\r\n\r\nAnd finally, to close the clip:\r\n\r\n    //Main thread executes this as well\r\n    clip.close();\r\n\r\nEverything is done using the initial thread. I even removed all other thread instantiations from my code to make sure no other threads could cause the issue, but to no avail. \r\n\r\n**Edit 2:**[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1AB1R.png\r\n\r\nThe red thread hangs for two seconds when stop is pressed(when there is less than a second of audio left).","title":"Closing audio line causes 2 sec lag when only 1 second of audio data remains","body":"<p>I've been trying to implement a way to play audio in my Java application using java's sound API. I've got a few problems here and there, but the most annoying one right now is that closing a channel <code>clip.close()</code> when there is less than one second remaining of audio lags my application for 2 seconds.</p>\n<p>I dug around and figured out that, for some reason, when the line is trying to terminate its thread with the command <code>thread.join(2000)</code>, the thread is still alive and it causes it to wait for that whole 2 second to end.</p>\n<p>The thread just so happens to stay alive only if there is less than 1 second of audio left. At any other time, when I try to stop the audio, no problems occur.</p>\n<p>Here's the code that's being called:</p>\n<pre class=\"lang-java prettyprint-override\"><code>clip.close();\n</code></pre>\n<p>Which goes to</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n* This should also stop the line.  The closed line should not be running or active.\n* After we close the line, we reset the format and buffer size to the defaults.\n*/\n@Override\npublic final void close() {\n    //$$fb 2001-10-09: Bug #4517739: avoiding deadlock by synchronizing to mixer !\n    synchronized (mixer) {\n        if (isOpen()) {\n            // stop\n            stop();\n\n            // set the open state to false and send events\n            setOpen(false);\n\n            // close resources for this line\n            implClose();\n            //... more code\n        }\n    }\n}\n</code></pre>\n<p><code>implClose</code> then goes to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nvoid implClose() {\n    // dispose of thread\n    Thread oldThread = thread;\n    thread = null;\n    doIO = false;\n    if (oldThread != null) {\n        // wake up the thread if it's in wait()\n        synchronized(lock) {\n            lock.notifyAll();\n        }\n        // wait for the thread to terminate itself,\n        // but max. 2 seconds. Must not be synchronized!\n        try {\n            oldThread.join(2000); //This is where the problem occurs. The thread is still alive and the application is forced to wait 2 seconds.\n        } catch (InterruptedException ie) {}\n    }\n}\n</code></pre>\n<p>Here is the join method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final synchronized void join(final long millis)\nthrows InterruptedException {\n    if (millis &gt; 0) {\n        if (isAlive()) {\n            final long startTime = System.nanoTime();\n            long delay = millis;\n            do {\n                wait(delay);\n            } while (isAlive() &amp;&amp; (delay = millis -\n                    TimeUnit.NANOSECONDS.toMillis(System.nanoTime() - startTime)) &gt; 0);\n        }\n    } else if (millis == 0) {\n        while (isAlive()) {\n            wait(0);\n        }\n    } else {\n        throw new IllegalArgumentException(&quot;timeout value is negative&quot;);\n    }\n}\n</code></pre>\n<p>I've been trying to figure it out for the last 4 hours, but with an internet connection that is down 80% of the time and inadequate java knowledge, I haven't been able to yet.</p>\n<p>Thank you for your time!</p>\n<p><strong>Edit:</strong></p>\n<p>Here is how the clip is instantiated and closed:</p>\n<p>I first get a clip from a list of lines offered by the mixer:</p>\n<pre><code>//This is done with the main thread\nfor (Line.Info lineInfo : linesInfo) {\n        if (lineInfo.getLineClass().isAssignableFrom(Clip.class)) {\n            try {\n                line =  AudioSystem.getLine(lineInfo);\n                clip = (Clip) line;\n                audioPlayback.setClip(clip);//This is a custom class that holds the clip\n            }\n            catch(LineUnavailableException e) {\n                System.out.println(e);\n            }\n        }\n    }\n</code></pre>\n<p>This code is ran from the custom class when I press on a button to start the clip:</p>\n<pre><code>//Main thread is used here too\ntry {\n    //Code to get format, data and data length\n                \n    clip.open(format, data, 0, length);\n}\ncatch (LineUnavailableException e) {\n    System.out.println(e);\n}\n</code></pre>\n<p>And finally, to close the clip:</p>\n<pre><code>//Main thread executes this as well\nclip.close();\n</code></pre>\n<p>Everything is done using the initial thread. I even removed all other thread instantiations from my code to make sure no other threads could cause the issue, but to no avail.</p>\n<p><strong>Edit 2:</strong><a href=\"https://i.stack.imgur.com/1AB1R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1AB1R.png\" alt=\"enter image description here\" /></a></p>\n<p>The red thread hangs for two seconds when stop is pressed(when there is less than a second of audio left).</p>\n"},{"tags":["java","kotlin","image-processing","bufferedimage"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661791036,"post_id":73531872,"comment_id":129850207,"body_markdown":"You&#39;re writing meta with ```ImageIO``` as well as raw pixel data. ```getRGB``` would solve that","body":"You&#39;re writing meta with <code>ImageIO</code> as well as raw pixel data. <code>getRGB</code> would solve that"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1661799840,"post_id":73531872,"comment_id":129853134,"body_markdown":"`ImageIO.read` returns a `BufferedImage`. What do you need the pixels for? If you need them, use `bImage.getRGB(0, 0, width, height, arr)` (don&#39;t use the TIFF-compressed data in `data`). Otherwise, just write `bImage` directly, using `ImageIO.write(bImage, &quot;JPEG&quot;, File(...))`.","body":"<code>ImageIO.read</code> returns a <code>BufferedImage</code>. What do you need the pixels for? If you need them, use <code>bImage.getRGB(0, 0, width, height, arr)</code> (don&#39;t use the TIFF-compressed data in <code>data</code>). Otherwise, just write <code>bImage</code> directly, using <code>ImageIO.write(bImage, &quot;JPEG&quot;, File(...))</code>."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661797777,"creation_date":1661797777,"answer_id":73533195,"question_id":73531872,"body_markdown":"This line is not returning the RGB image data:\r\n\r\nval data = bos.toByteArray()\r\n\r\nit is returning the compressed stream of the image in tiff format, surely it is not the correct image.\r\n\r\nTo get the pixels, use Image.getPixel(), alternatively you can get the buffer of the image directly, but to this you need to know what is the underlying buffer type - this is broad topic. \r\n\r\nTake a look at this answer, it should give you idea how to do it: https://stackoverflow.com/questions/9131678/convert-a-rgb-image-to-grayscale-image-reducing-the-memory-in-java","title":"From image to BufferedImage to image","body":"<p>This line is not returning the RGB image data:</p>\n<p>val data = bos.toByteArray()</p>\n<p>it is returning the compressed stream of the image in tiff format, surely it is not the correct image.</p>\n<p>To get the pixels, use Image.getPixel(), alternatively you can get the buffer of the image directly, but to this you need to know what is the underlying buffer type - this is broad topic.</p>\n<p>Take a look at this answer, it should give you idea how to do it: <a href=\"https://stackoverflow.com/questions/9131678/convert-a-rgb-image-to-grayscale-image-reducing-the-memory-in-java\">convert a RGB image to grayscale Image reducing the memory in java</a></p>\n"}],"owner":{"account_id":29187,"reputation":12575,"user_id":78640,"accept_rate":65,"display_name":"Sergi Mansilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73533195,"answer_count":1,"score":0,"last_activity_date":1661797777,"creation_date":1661790688,"question_id":73531872,"body_markdown":"I&#39;m trying to read a 256x256 image using `ImageIO.read`, transform it into a `ByteArray`, then into a `BufferedImage`, and back into an image file using `ImageIO.write`. It all seems to work as it should, but the final image is quite corrupted (although clearly still based on the original image. I can&#39;t find what&#39;s wrong in the process, I am suspicious of the `scansize` parameter, which I don&#39;t completely understand.\r\n\r\nThe idea is to manipulate pixels in between the reading and writing, but at the moment I can&#39;t even recreate the original image back into itself.\r\n\r\nI attach the original image and the processed one below:\r\n\r\n    import java.awt.image.BufferedImage\r\n    import java.io.ByteArrayOutputStream\r\n    import java.io.File\r\n    import java.io.IOException\r\n    import javax.imageio.ImageIO\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        val bImage = ImageIO.read(File(&quot;original.tiff&quot;))\r\n        val bos = ByteArrayOutputStream()\r\n        ImageIO.write(bImage, &quot;tiff&quot;, bos)\r\n        val data = bos.toByteArray()\r\n        val width = 256\r\n        val height = 256\r\n        val bytesPerPixel = 3\r\n        val len = width * height * bytesPerPixel\r\n        val image = BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\r\n        val arr = IntArray(len)\r\n    \r\n        for (i in 0 until len) arr[i] = data.get(i).toInt()\r\n    \r\n        image.setRGB(0, 0, width, height, arr, 0, 256) // Seems like something is wrong here\r\n    \r\n        try {\r\n            ImageIO.write(image, &quot;jpg&quot;, File(&quot;converted-grayscale-002.jpg&quot;))\r\n        } catch (e: IOException) {\r\n            System.err.println(&quot;IOException: $e&quot;)\r\n        }\r\n    }\r\n\r\n[![Original][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WV4Dg.jpg\r\n  [2]: https://i.stack.imgur.com/OjZjI.jpg","title":"From image to BufferedImage to image","body":"<p>I'm trying to read a 256x256 image using <code>ImageIO.read</code>, transform it into a <code>ByteArray</code>, then into a <code>BufferedImage</code>, and back into an image file using <code>ImageIO.write</code>. It all seems to work as it should, but the final image is quite corrupted (although clearly still based on the original image. I can't find what's wrong in the process, I am suspicious of the <code>scansize</code> parameter, which I don't completely understand.</p>\n<p>The idea is to manipulate pixels in between the reading and writing, but at the moment I can't even recreate the original image back into itself.</p>\n<p>I attach the original image and the processed one below:</p>\n<pre><code>import java.awt.image.BufferedImage\nimport java.io.ByteArrayOutputStream\nimport java.io.File\nimport java.io.IOException\nimport javax.imageio.ImageIO\n\nfun main(args: Array&lt;String&gt;) {\n    val bImage = ImageIO.read(File(&quot;original.tiff&quot;))\n    val bos = ByteArrayOutputStream()\n    ImageIO.write(bImage, &quot;tiff&quot;, bos)\n    val data = bos.toByteArray()\n    val width = 256\n    val height = 256\n    val bytesPerPixel = 3\n    val len = width * height * bytesPerPixel\n    val image = BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\n    val arr = IntArray(len)\n\n    for (i in 0 until len) arr[i] = data.get(i).toInt()\n\n    image.setRGB(0, 0, width, height, arr, 0, 256) // Seems like something is wrong here\n\n    try {\n        ImageIO.write(image, &quot;jpg&quot;, File(&quot;converted-grayscale-002.jpg&quot;))\n    } catch (e: IOException) {\n        System.err.println(&quot;IOException: $e&quot;)\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WV4Dg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WV4Dg.jpg\" alt=\"Original\" /></a>\n<a href=\"https://i.stack.imgur.com/OjZjI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OjZjI.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","duplicates","queue"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1661792363,"post_id":73532151,"comment_id":129850586,"body_markdown":"You will have to loop through the queue and use Arrays.equals.  There&#39;s no reason to use `toString`.","body":"You will have to loop through the queue and use Arrays.equals.  There&#39;s no reason to use <code>toString</code>."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661798076,"post_id":73532151,"comment_id":129852542,"body_markdown":"what do you mean under &quot;efficient&quot;? is packing two integers into long efficient?","body":"what do you mean under &quot;efficient&quot;? is packing two integers into long efficient?"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661792591,"creation_date":1661792591,"answer_id":73532257,"question_id":73532151,"body_markdown":"Instead of a queue of Integer[], you should create a subclass and use that for your queue.\r\n\r\n    public class MyInts {\r\n      public int[] myInts;\r\n      public int[] getInts() {\r\n        return myInts;\r\n      }\r\n      public boolean equals(MyInts ints) {\r\n        if (!myInts.length == ints.myInts.length) return false;\r\n        int i = 0;\r\n        while (myInts[i] == ints.myInts[i] &amp;&amp; i &lt; myInts.length) {\r\n          i++;\r\n        }\r\n        return i == myInts.length;\r\n      }\r\n    }","title":"check if an element exists in queue of array in Java","body":"<p>Instead of a queue of Integer[], you should create a subclass and use that for your queue.</p>\n<pre><code>public class MyInts {\n  public int[] myInts;\n  public int[] getInts() {\n    return myInts;\n  }\n  public boolean equals(MyInts ints) {\n    if (!myInts.length == ints.myInts.length) return false;\n    int i = 0;\n    while (myInts[i] == ints.myInts[i] &amp;&amp; i &lt; myInts.length) {\n      i++;\n    }\n    return i == myInts.length;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661797527,"creation_date":1661794787,"answer_id":73532658,"question_id":73532151,"body_markdown":"What you can do is write a wrapper for your object.  I am using a `record` here but a regular class would work as well.  The record needs to override `equals` to use `Arrays.equals()` for the comparison.  I also overrode `toString` to display the array when the object is printed.\r\n```\r\nrecord MyInt(int[] val) {\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\t return Arrays.hashCode(val);\r\n\t}\t\r\n\t@Override\r\n\tpublic boolean equals(Object ob) {\r\n\t\tif (!(ob instanceof MyInt)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tMyInt myOb = (MyInt)ob;\r\n\t\treturn Arrays.equals(val, myOb.val);\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn Arrays.toString(val);\r\n\t}\r\n}\r\n```\r\nDefine the queue and some data\r\n```\r\nQueue&lt;MyInt&gt; queue =\r\n\t\tnew LinkedList&lt;&gt;();\r\n\r\nList&lt;MyInt&gt; data = List.of(\r\n\t\tnew MyInt(new int[] {1,2}),\r\n\t\tnew MyInt(new int[] {2,3}),\r\n\t\tnew MyInt(new int[] {3,4}),\r\n\t\tnew MyInt(new int[] {4,5}),\r\n\t\tnew MyInt(new int[] {1,2}),\r\n\t\tnew MyInt(new int[] {2,3}),\r\n\t\tnew MyInt(new int[] {3,4}),\r\n\t\tnew MyInt(new int[] {5,6}));\r\n```\r\nAdd the data as in your question.\r\n```\r\nfor (MyInt mi : data) {\r\n\tif(!queue.contains(mi)) {\r\n\t\tqueue.add(mi);\r\n\t}\r\n}\r\n\t\t\t\t\r\nqueue.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n[1, 2]\r\n[2, 3]\r\n[3, 4]\r\n[4, 5]\r\n[5, 6]\r\n```\r\nA more efficient solution (as the values are hashed) would be to use a set which also by its nature doesn&#39;t permit duplicates.  The down side is that sets don&#39;t allow random access of their values.\r\n```\r\nSet&lt;MyInt&gt; set =  new HashSet&lt;&gt;();\r\n\r\nfor (MyInt mi : data) {\r\n\tset.add(mi);\r\n}\r\n\t\t\t\t\r\nset.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n[1, 2]\r\n[2, 3]\r\n[3, 4]\r\n[4, 5]\r\n[5, 6]\r\n```\r\nFor the above to work, both `equals()` and `hashCode()` must be overridden.","title":"check if an element exists in queue of array in Java","body":"<p>What you can do is write a wrapper for your object.  I am using a <code>record</code> here but a regular class would work as well.  The record needs to override <code>equals</code> to use <code>Arrays.equals()</code> for the comparison.  I also overrode <code>toString</code> to display the array when the object is printed.</p>\n<pre><code>record MyInt(int[] val) {\n    @Override\n    public int hashCode() {\n         return Arrays.hashCode(val);\n    }   \n    @Override\n    public boolean equals(Object ob) {\n        if (!(ob instanceof MyInt)) {\n            return false;\n        }\n        MyInt myOb = (MyInt)ob;\n        return Arrays.equals(val, myOb.val);\n    }\n    @Override\n    public String toString() {\n        return Arrays.toString(val);\n    }\n}\n</code></pre>\n<p>Define the queue and some data</p>\n<pre><code>Queue&lt;MyInt&gt; queue =\n        new LinkedList&lt;&gt;();\n\nList&lt;MyInt&gt; data = List.of(\n        new MyInt(new int[] {1,2}),\n        new MyInt(new int[] {2,3}),\n        new MyInt(new int[] {3,4}),\n        new MyInt(new int[] {4,5}),\n        new MyInt(new int[] {1,2}),\n        new MyInt(new int[] {2,3}),\n        new MyInt(new int[] {3,4}),\n        new MyInt(new int[] {5,6}));\n</code></pre>\n<p>Add the data as in your question.</p>\n<pre><code>for (MyInt mi : data) {\n    if(!queue.contains(mi)) {\n        queue.add(mi);\n    }\n}\n                \nqueue.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>[1, 2]\n[2, 3]\n[3, 4]\n[4, 5]\n[5, 6]\n</code></pre>\n<p>A more efficient solution (as the values are hashed) would be to use a set which also by its nature doesn't permit duplicates.  The down side is that sets don't allow random access of their values.</p>\n<pre><code>Set&lt;MyInt&gt; set =  new HashSet&lt;&gt;();\n\nfor (MyInt mi : data) {\n    set.add(mi);\n}\n                \nset.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>[1, 2]\n[2, 3]\n[3, 4]\n[4, 5]\n[5, 6]\n</code></pre>\n<p>For the above to work, both <code>equals()</code> and <code>hashCode()</code> must be overridden.</p>\n"}],"owner":{"account_id":7106999,"reputation":381,"user_id":5436341,"accept_rate":44,"display_name":"Mounika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73532658,"answer_count":2,"score":1,"last_activity_date":1661797527,"creation_date":1661792065,"question_id":73532151,"body_markdown":"I have a queue of arrays in Java. What is the easiest way to check if the array already exists in the queue? \r\n\r\n    Queue&lt;Integer[]&gt; q = new LinkedList&lt;&gt;();\r\n    if(!q.contains(new Integer[]{r,c})) {\r\n        q.add(new Integer[]{r, c});\r\n    }\r\n\r\nI know what I am checking for is an object and even if an array with same values as r and c already exists in the queue, it will be considered as a different object and returns false.\r\n\r\nBrute force way is to convert the array to string using `Arrays.toString(arr)` and loop through the queue and check if the value exists. \r\n\r\nI am looking for any other efficient way to do the same.","title":"check if an element exists in queue of array in Java","body":"<p>I have a queue of arrays in Java. What is the easiest way to check if the array already exists in the queue?</p>\n<pre><code>Queue&lt;Integer[]&gt; q = new LinkedList&lt;&gt;();\nif(!q.contains(new Integer[]{r,c})) {\n    q.add(new Integer[]{r, c});\n}\n</code></pre>\n<p>I know what I am checking for is an object and even if an array with same values as r and c already exists in the queue, it will be considered as a different object and returns false.</p>\n<p>Brute force way is to convert the array to string using <code>Arrays.toString(arr)</code> and loop through the queue and check if the value exists.</p>\n<p>I am looking for any other efficient way to do the same.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":1,"creation_date":1661666613,"post_id":73516145,"comment_id":129823164,"body_markdown":"Take a look at this article: [Spring JPA @Embedded and @EmbeddedId](https://www.baeldung.com/spring-jpa-embedded-method-parameters)","body":"Take a look at this article: <a href=\"https://www.baeldung.com/spring-jpa-embedded-method-parameters\" rel=\"nofollow noreferrer\">Spring JPA @Embedded and @EmbeddedId</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1661719441,"post_id":73516145,"comment_id":129833075,"body_markdown":"This will work according to section 2.4.1 of the JPA specification (2.1 that I checked). Verify you are using JPA provider versions that support the spec and you don&#39;t have to make any changes.","body":"This will work according to section 2.4.1 of the JPA specification (2.1 that I checked). Verify you are using JPA provider versions that support the spec and you don&#39;t have to make any changes."}],"answers":[{"tags":[],"owner":{"account_id":15111705,"reputation":26,"user_id":10905574,"display_name":"Sourav Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661797186,"creation_date":1661797186,"answer_id":73533091,"question_id":73516145,"body_markdown":"Try using the MapsId like below and add id which has the same data structure like the first entity&#39;s id, it will work fine.\r\n\r\n    \r\n    @Entity\r\n    @Table(name=&quot;InstituteVerificationStatus&quot;)\r\n    public class instituteVerificationStatus implements Serializable {\r\n\r\n        /**\r\n         *\r\n         */\r\n        private static final long serialVersionUID = -1603576445855941895L;\r\n\r\n\r\n        @Id\r\n        @Column(name =&quot;instituteId&quot;)\r\n        private String id;\r\n\r\n        @JoinColumn(name =&quot;instituteId&quot;)\r\n        @OneToOne\r\n        @MapsId\r\n        private institute institute;\r\n\r\n\r\n        @Column(name=&quot;verifiedByUserId&quot;)\r\n        private String verifiedByUserId;\r\n\r\n        @Column(name=&quot;status&quot;)\r\n        private Character status;\r\n\r\n        @Column(name=&quot;verificationTs&quot;)\r\n        private Timestamp verificationTs;\r\n\r\n\r\n        public instituteVerificationStatus(institute institute) {\r\n            this.institute = institute;\r\n            this.status=&#39;N&#39;;\r\n        }\r\n\r\n        public institute getInstitute() {\r\n            return institute;\r\n        }\r\n\r\n        public void setInstitute(institute institute) {\r\n            this.institute = institute;\r\n        }\r\n\r\n        public String getVerifiedByUserId() {\r\n            return verifiedByUserId;\r\n        }\r\n\r\n        public void setVerifiedByUserId(String verifiedByUserId) {\r\n            this.verifiedByUserId = verifiedByUserId;\r\n        }\r\n\r\n        public Character getStatus() {\r\n            return status;\r\n        }\r\n\r\n        public void setStatus(Character status) {\r\n            this.status = status;\r\n        }\r\n\r\n        public Timestamp getVerificationTs() {\r\n            return verificationTs;\r\n        }\r\n\r\n        public void setVerificationTs(Timestamp verificationTs) {\r\n            this.verificationTs = verificationTs;\r\n        }\r\n\r\n    }","title":"How to make an entity as a primary key for the other entity","body":"<p>Try using the MapsId like below and add id which has the same data structure like the first entity's id, it will work fine.</p>\n<pre><code>@Entity\n@Table(name=&quot;InstituteVerificationStatus&quot;)\npublic class instituteVerificationStatus implements Serializable {\n\n    /**\n     *\n     */\n    private static final long serialVersionUID = -1603576445855941895L;\n\n\n    @Id\n    @Column(name =&quot;instituteId&quot;)\n    private String id;\n\n    @JoinColumn(name =&quot;instituteId&quot;)\n    @OneToOne\n    @MapsId\n    private institute institute;\n\n\n    @Column(name=&quot;verifiedByUserId&quot;)\n    private String verifiedByUserId;\n\n    @Column(name=&quot;status&quot;)\n    private Character status;\n\n    @Column(name=&quot;verificationTs&quot;)\n    private Timestamp verificationTs;\n\n\n    public instituteVerificationStatus(institute institute) {\n        this.institute = institute;\n        this.status='N';\n    }\n\n    public institute getInstitute() {\n        return institute;\n    }\n\n    public void setInstitute(institute institute) {\n        this.institute = institute;\n    }\n\n    public String getVerifiedByUserId() {\n        return verifiedByUserId;\n    }\n\n    public void setVerifiedByUserId(String verifiedByUserId) {\n        this.verifiedByUserId = verifiedByUserId;\n    }\n\n    public Character getStatus() {\n        return status;\n    }\n\n    public void setStatus(Character status) {\n        this.status = status;\n    }\n\n    public Timestamp getVerificationTs() {\n        return verificationTs;\n    }\n\n    public void setVerificationTs(Timestamp verificationTs) {\n        this.verificationTs = verificationTs;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19656070,"reputation":185,"user_id":14388691,"display_name":"Aayush Saini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661797186,"creation_date":1661663298,"question_id":73516145,"body_markdown":"I have two entities Institute and the InstituteVerificationStatus. I want to make the Institute as a Primary key for the InstituteVerificationStatus Entity. I add @Id annotation, but it is giving me an error. \r\n\r\nThe InstituteVerficationStatus Class doesn&#39;t have ID class.\r\n**Institute:**\r\n\r\n    @Entity\r\n    @Table(name=&quot;Institute&quot;)\r\n    public class institute implements Serializable {\r\n\r\n\r\n      /**\r\n       *\r\n       */\r\n      private static final long serialVersionUID = 617543973484435246L;\r\n\r\n\r\n      @Id\r\n      @Column(name = &quot;id&quot;)\r\n      private String id;\r\n\r\n\r\n      @Column(name = &quot;vendorId&quot;)\r\n      private String vendorId;\r\n\r\n\r\n      @Column(name = &quot;name&quot;)\r\n      private String name;\r\n\r\n      @Column(name = &quot;profilePicPath&quot;)\r\n      private String profilePicPath;\r\n\r\n\r\n      @Column(name = &quot;contactNumber&quot;)\r\n      private String contactNumber;\r\n\r\n      @Column(name = &quot;email&quot;)\r\n      private String email;\r\n\r\n      @Column(name = &quot;gstNo&quot;)\r\n      private String gstNo;\r\n\r\n      @Column(name = &quot;address&quot;)\r\n      private String address;\r\n\r\n      @OneToOne(mappedBy = &quot;institute&quot;)\r\n      private instituteVerificationStatus instituteVerificationStatus;\r\n\r\n    }\r\n\r\n**InstituteVerificationStatus:**\r\n\r\n    @Entity\r\n    @Table(name=&quot;InstituteVerificationStatus&quot;)\r\n    public class instituteVerificationStatus implements Serializable {\r\n    \r\n    \t/**\r\n    \t *\r\n    \t */\r\n    \tprivate static final long serialVersionUID = -1603576445855941895L;\r\n    \r\n    \t@Id\r\n    \t@JoinColumn(name =&quot;instituteId&quot;)\r\n        @OneToOne\r\n        private institute institute;\r\n    \r\n    \r\n    \t@Column(name=&quot;verifiedByUserId&quot;)\r\n        private String verifiedByUserId;\r\n    \r\n    \t@Column(name=&quot;status&quot;)\r\n        private Character status;\r\n    \r\n    \t@Column(name=&quot;verificationTs&quot;)\r\n        private Timestamp verificationTs;\r\n    \r\n    \r\n    \tpublic instituteVerificationStatus(institute institute) {\r\n    \t\tthis.institute = institute;\r\n    \t\tthis.status=&#39;N&#39;;\r\n    \t}\r\n    \r\n    \tpublic institute getInstitute() {\r\n    \t\treturn institute;\r\n    \t}\r\n    \r\n    \tpublic void setInstitute(institute institute) {\r\n    \t\tthis.institute = institute;\r\n    \t}\r\n    \r\n    \tpublic String getVerifiedByUserId() {\r\n    \t\treturn verifiedByUserId;\r\n    \t}\r\n    \r\n    \tpublic void setVerifiedByUserId(String verifiedByUserId) {\r\n    \t\tthis.verifiedByUserId = verifiedByUserId;\r\n    \t}\r\n    \r\n    \tpublic Character getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \r\n    \tpublic void setStatus(Character status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tpublic Timestamp getVerificationTs() {\r\n    \t\treturn verificationTs;\r\n    \t}\r\n    \r\n    \tpublic void setVerificationTs(Timestamp verificationTs) {\r\n    \t\tthis.verificationTs = verificationTs;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to make an entity as a primary key for the other entity","body":"<p>I have two entities Institute and the InstituteVerificationStatus. I want to make the Institute as a Primary key for the InstituteVerificationStatus Entity. I add @Id annotation, but it is giving me an error.</p>\n<p>The InstituteVerficationStatus Class doesn't have ID class.\n<strong>Institute:</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;Institute&quot;)\npublic class institute implements Serializable {\n\n\n  /**\n   *\n   */\n  private static final long serialVersionUID = 617543973484435246L;\n\n\n  @Id\n  @Column(name = &quot;id&quot;)\n  private String id;\n\n\n  @Column(name = &quot;vendorId&quot;)\n  private String vendorId;\n\n\n  @Column(name = &quot;name&quot;)\n  private String name;\n\n  @Column(name = &quot;profilePicPath&quot;)\n  private String profilePicPath;\n\n\n  @Column(name = &quot;contactNumber&quot;)\n  private String contactNumber;\n\n  @Column(name = &quot;email&quot;)\n  private String email;\n\n  @Column(name = &quot;gstNo&quot;)\n  private String gstNo;\n\n  @Column(name = &quot;address&quot;)\n  private String address;\n\n  @OneToOne(mappedBy = &quot;institute&quot;)\n  private instituteVerificationStatus instituteVerificationStatus;\n\n}\n</code></pre>\n<p><strong>InstituteVerificationStatus:</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;InstituteVerificationStatus&quot;)\npublic class instituteVerificationStatus implements Serializable {\n\n    /**\n     *\n     */\n    private static final long serialVersionUID = -1603576445855941895L;\n\n    @Id\n    @JoinColumn(name =&quot;instituteId&quot;)\n    @OneToOne\n    private institute institute;\n\n\n    @Column(name=&quot;verifiedByUserId&quot;)\n    private String verifiedByUserId;\n\n    @Column(name=&quot;status&quot;)\n    private Character status;\n\n    @Column(name=&quot;verificationTs&quot;)\n    private Timestamp verificationTs;\n\n\n    public instituteVerificationStatus(institute institute) {\n        this.institute = institute;\n        this.status='N';\n    }\n\n    public institute getInstitute() {\n        return institute;\n    }\n\n    public void setInstitute(institute institute) {\n        this.institute = institute;\n    }\n\n    public String getVerifiedByUserId() {\n        return verifiedByUserId;\n    }\n\n    public void setVerifiedByUserId(String verifiedByUserId) {\n        this.verifiedByUserId = verifiedByUserId;\n    }\n\n    public Character getStatus() {\n        return status;\n    }\n\n    public void setStatus(Character status) {\n        this.status = status;\n    }\n\n    public Timestamp getVerificationTs() {\n        return verificationTs;\n    }\n\n    public void setVerificationTs(Timestamp verificationTs) {\n        this.verificationTs = verificationTs;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jtable"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661789894,"post_id":73531645,"comment_id":129849769,"body_markdown":"Please post the code you have","body":"Please post the code you have"}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661796794,"creation_date":1661796794,"answer_id":73533033,"question_id":73531645,"body_markdown":"First create an object to represent each row in the table.\r\n\r\n    public class MyData {\r\n        private String name;\r\n        private String desc;\r\n        \r\n        //add getters/setters\r\n    }\r\n\r\nThen you should create a table model\r\n\r\n    public class MyTableModel extends AbstractTableModel {\r\n       List&lt;MyData&gt; list = new ArrayList&lt;&gt;();\r\n\r\n       public void addRow(MyData data) {\r\n          list.add(data);\r\n          fireTableRowsInserted(list.size()-1, list.size()-1);\r\n       }\r\n\r\n       //then fill in the required method\r\n       public String getColumnName(int col) {\r\n          switch (col) {\r\n              case 0:\r\n                return &quot;Name&quot;;\r\n              case 1:\r\n                return &quot;Description&quot;;\r\n          }\r\n          return &quot;&quot;;\r\n       }\r\n\r\n       public int getRowCount() {\r\n           return list.size();\r\n       }\r\n\r\n       public int getColumnCount() {\r\n           return 2; //or however many columns you need\r\n       }\r\n\r\n       public Object getValueAt(int row, int col) {\r\n           MyData data = list.get(row);\r\n           if (col == 0) {\r\n              return data.getName();\r\n           } else if (col == 1) {\r\n              return data.getDesc();\r\n           }\r\n           return null;\r\n       }\r\n    }\r\n\r\nThen use that model in your table;\r\n\r\n    MyTableModel tableModel = new MyTableModel();\r\n    JTable table = new JTable(tableModel);\r\n\r\nThen you you can read data from the database you just have to call\r\n\r\n    tableModel.add(data);","title":"How to make a JTable entries from outside data?","body":"<p>First create an object to represent each row in the table.</p>\n<pre><code>public class MyData {\n    private String name;\n    private String desc;\n    \n    //add getters/setters\n}\n</code></pre>\n<p>Then you should create a table model</p>\n<pre><code>public class MyTableModel extends AbstractTableModel {\n   List&lt;MyData&gt; list = new ArrayList&lt;&gt;();\n\n   public void addRow(MyData data) {\n      list.add(data);\n      fireTableRowsInserted(list.size()-1, list.size()-1);\n   }\n\n   //then fill in the required method\n   public String getColumnName(int col) {\n      switch (col) {\n          case 0:\n            return &quot;Name&quot;;\n          case 1:\n            return &quot;Description&quot;;\n      }\n      return &quot;&quot;;\n   }\n\n   public int getRowCount() {\n       return list.size();\n   }\n\n   public int getColumnCount() {\n       return 2; //or however many columns you need\n   }\n\n   public Object getValueAt(int row, int col) {\n       MyData data = list.get(row);\n       if (col == 0) {\n          return data.getName();\n       } else if (col == 1) {\n          return data.getDesc();\n       }\n       return null;\n   }\n}\n</code></pre>\n<p>Then use that model in your table;</p>\n<pre><code>MyTableModel tableModel = new MyTableModel();\nJTable table = new JTable(tableModel);\n</code></pre>\n<p>Then you you can read data from the database you just have to call</p>\n<pre><code>tableModel.add(data);\n</code></pre>\n"}],"owner":{"account_id":26181711,"reputation":1,"user_id":19864991,"display_name":"Srav86"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661796794,"creation_date":1661789496,"question_id":73531645,"body_markdown":"I&#39;m looking for a way to make data entries for a table from data collected from a SQL database. I have the code made for grabbing the data from the database but I need help with turning that data into table entries","title":"How to make a JTable entries from outside data?","body":"<p>I'm looking for a way to make data entries for a table from data collected from a SQL database. I have the code made for grabbing the data from the database but I need help with turning that data into table entries</p>\n"},{"tags":["java","maven","intellij-idea","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":6788971,"reputation":1856,"user_id":5226711,"display_name":"Lars Gendner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440674333,"creation_date":1440674333,"answer_id":32247997,"question_id":32013337,"body_markdown":"The messages originates from [Line 43 in /org/jetbrains/jps/maven/compiler/MavenResourcesBuilder.java](http://git.jetbrains.org/?p=idea/community.git;a=blob;f=plugins/maven/jps-plugin/src/org/jetbrains/jps/maven/compiler/MavenResourcesBuilder.java;hb=889cab3094e6d8b89e8242597dea8a0a4a44a894#l43), so my guess is that it is no pom.xml issue but rather IntelliJ Idea related. \r\n\r\nIf you dig further into the code, it looks for a file called `maven/configuration.xml` and from what I see, it searches in some temporary directory.\r\n\r\nMaybe you should try and start your build as clean as possible.","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>The messages originates from <a href=\"http://git.jetbrains.org/?p=idea/community.git;a=blob;f=plugins/maven/jps-plugin/src/org/jetbrains/jps/maven/compiler/MavenResourcesBuilder.java;hb=889cab3094e6d8b89e8242597dea8a0a4a44a894#l43\" rel=\"nofollow\">Line 43 in /org/jetbrains/jps/maven/compiler/MavenResourcesBuilder.java</a>, so my guess is that it is no pom.xml issue but rather IntelliJ Idea related. </p>\n\n<p>If you dig further into the code, it looks for a file called <code>maven/configuration.xml</code> and from what I see, it searches in some temporary directory.</p>\n\n<p>Maybe you should try and start your build as clean as possible.</p>\n"},{"tags":[],"owner":{"account_id":7090878,"reputation":1,"user_id":5426077,"display_name":"user5426077"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444368610,"creation_date":1444368243,"answer_id":33030483,"question_id":32013337,"body_markdown":"modify .idea/compiler.xml,add config(should change module name to yourself):\r\n&lt;profile default=&quot;false&quot; name=&quot;Maven default annotation processors profile&quot; enabled=&quot;true&quot;&gt;\r\n        &lt;sourceOutputDir name=&quot;target/generated-sources/annotations&quot; /&gt;\r\n        &lt;sourceTestOutputDir name=&quot;target/generated-test-sources/test-annotations&quot; /&gt;\r\n        &lt;outputRelativeToContentRoot value=&quot;true&quot; /&gt;\r\n        &lt;processorPath useClasspath=&quot;true&quot; /&gt;\r\n        &lt;module name=&quot;your module name&quot; /&gt;\r\n      &lt;/profile&gt;","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>modify .idea/compiler.xml,add config(should change module name to yourself):\n\n        \n        \n        \n        \n        \n      </p>\n"},{"tags":[],"owner":{"account_id":262137,"reputation":970,"user_id":546792,"display_name":"Ojitha"},"down_vote_count":1,"up_vote_count":66,"is_accepted":true,"score":65,"last_activity_date":1444616308,"creation_date":1444616308,"answer_id":33072302,"question_id":32013337,"body_markdown":"Right click the module and select the Make Module &quot;project module name&quot; option from the pop up menu. The messages will be shown. But go to Problems and see now. This will clear and correct this problem.","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>Right click the module and select the Make Module \"project module name\" option from the pop up menu. The messages will be shown. But go to Problems and see now. This will clear and correct this problem.</p>\n"},{"tags":[],"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467276535,"creation_date":1467276535,"answer_id":38118181,"question_id":32013337,"body_markdown":"In my case I got this error message, because my Maven configuration in IntelliJ was broken. I had entered invalid options into `VM options for importer` at `Preferences:Build,Execution,Deployment-&gt;Build Tools-&gt;Maven-&gt;Importing`. \r\n\r\nAfter deleting these options IntelliJ started to behave normal again.","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>In my case I got this error message, because my Maven configuration in IntelliJ was broken. I had entered invalid options into <code>VM options for importer</code> at <code>Preferences:Build,Execution,Deployment-&gt;Build Tools-&gt;Maven-&gt;Importing</code>. </p>\n\n<p>After deleting these options IntelliJ started to behave normal again.</p>\n"},{"tags":[],"owner":{"account_id":3940110,"reputation":5031,"user_id":3254898,"display_name":"Maksymilian Wojakowski"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1475139468,"creation_date":1475139468,"answer_id":39765816,"question_id":32013337,"body_markdown":"In my case the problem ocurred after uprgrading IJ from 14.x to 15.x and disappeared when I issued Build -&gt; Rebuild Project","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>In my case the problem ocurred after uprgrading IJ from 14.x to 15.x and disappeared when I issued Build -> Rebuild Project</p>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492606837,"creation_date":1492606837,"answer_id":43496515,"question_id":32013337,"body_markdown":"I have the same error after a Intellij Idea version upgrade (2016.3 to 2017.1):\r\n\r\n&gt; Error:Maven Resources Compiler: Maven project configuration required\r\n&gt; for module &#39;MODULE_NAKE&#39; isn&#39;t available. Compilation of Maven\r\n&gt; projects is supported only if external build is started from an IDE.\r\n\r\nBut my solution was another. Somehow, I think the Intellij lost the maven version used in my project. I was using maven 2.2.1 but Intellij was trying to use maven 3.x.\r\n\r\nSo, my solution was adjust this configuration in: \r\n\r\n    File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven \r\n\r\nAnd set the maven version to 2.2.1.\r\n\r\n\r\n\r\n","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>I have the same error after a Intellij Idea version upgrade (2016.3 to 2017.1):</p>\n\n<blockquote>\n  <p>Error:Maven Resources Compiler: Maven project configuration required\n  for module 'MODULE_NAKE' isn't available. Compilation of Maven\n  projects is supported only if external build is started from an IDE.</p>\n</blockquote>\n\n<p>But my solution was another. Somehow, I think the Intellij lost the maven version used in my project. I was using maven 2.2.1 but Intellij was trying to use maven 3.x.</p>\n\n<p>So, my solution was adjust this configuration in: </p>\n\n<pre><code>File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven \n</code></pre>\n\n<p>And set the maven version to 2.2.1.</p>\n"},{"tags":[],"owner":{"account_id":1159362,"reputation":1056,"user_id":1139197,"accept_rate":75,"display_name":"Will Brode"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499360548,"creation_date":1499360548,"answer_id":44955025,"question_id":32013337,"body_markdown":"I had this problem after an Intellij Idea version upgrade.  The fix was to wait for it to finish indexing.  Then I think it downloaded some stuff it needed. \r\n\r\nMakes me think that the other answers on this thread about the IJ version upgrade probably just needed to wait as well - by the time they finished trying a few things the problem was fixed by itself.","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>I had this problem after an Intellij Idea version upgrade.  The fix was to wait for it to finish indexing.  Then I think it downloaded some stuff it needed. </p>\n\n<p>Makes me think that the other answers on this thread about the IJ version upgrade probably just needed to wait as well - by the time they finished trying a few things the problem was fixed by itself.</p>\n"},{"tags":[],"owner":{"account_id":382725,"reputation":81,"user_id":5453818,"display_name":"Pro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508425061,"creation_date":1508425061,"answer_id":46832889,"question_id":32013337,"body_markdown":"Quick solution (IntelliJ IDEA):\r\nRight-click on the project, the select Maven-&gt;Reimport","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>Quick solution (IntelliJ IDEA):\nRight-click on the project, the select Maven->Reimport</p>\n"},{"tags":[],"owner":{"account_id":1309871,"reputation":2186,"user_id":1258091,"accept_rate":78,"display_name":"Kajzer"},"down_vote_count":0,"up_vote_count":104,"is_accepted":false,"score":104,"last_activity_date":1510038190,"creation_date":1510038190,"answer_id":47151819,"question_id":32013337,"body_markdown":"Right-click on pom.xml and then click on &quot;Add as Maven Project&quot;.","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>Right-click on pom.xml and then click on \"Add as Maven Project\".</p>\n"},{"tags":[],"owner":{"account_id":1685307,"reputation":1623,"user_id":1548776,"display_name":"ᴠɪɴᴄᴇɴᴛ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535390330,"creation_date":1535390330,"answer_id":52044135,"question_id":32013337,"body_markdown":"In my case this was caused by a misconfiguration of IntelliJ. A long time ago I had been experimenting with the `Lifecycle` options within the `Maven Projects` view and had left a few phases in a sub module checked as `Execute Before Build`.\r\n\r\n[![Screen dump of Maven Projects view in IntelliJ][1]][1]\r\n\r\nBecause I had completely forgotten having checked these, it took me quite some time to understand the connection with the error messages in the `Problems` view. After unchecking the `Execute Before Build` switches of the affected phases everything went back to normal and particularly running unit tests became much faster.\r\n\r\n  [1]: https://i.stack.imgur.com/De038.png","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>In my case this was caused by a misconfiguration of IntelliJ. A long time ago I had been experimenting with the <code>Lifecycle</code> options within the <code>Maven Projects</code> view and had left a few phases in a sub module checked as <code>Execute Before Build</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/De038.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/De038.png\" alt=\"Screen dump of Maven Projects view in IntelliJ\"></a></p>\n\n<p>Because I had completely forgotten having checked these, it took me quite some time to understand the connection with the error messages in the <code>Problems</code> view. After unchecking the <code>Execute Before Build</code> switches of the affected phases everything went back to normal and particularly running unit tests became much faster.</p>\n"},{"tags":[],"owner":{"account_id":456226,"reputation":175,"user_id":854901,"accept_rate":43,"display_name":"HZhang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552601905,"creation_date":1552601905,"answer_id":55172850,"question_id":32013337,"body_markdown":"In my case, I had to use the following trick:\r\n\r\n 1. Right click the module name in the project panel\r\n\r\n 2. Select &quot;Open Module Settings&quot;\r\n\r\n 3. In the pop-up window, click Dependencies\r\n\r\n 4. Select java version 1.8.0_151","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>In my case, I had to use the following trick:</p>\n\n<ol>\n<li><p>Right click the module name in the project panel</p></li>\n<li><p>Select \"Open Module Settings\"</p></li>\n<li><p>In the pop-up window, click Dependencies</p></li>\n<li><p>Select java version 1.8.0_151</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":160773,"reputation":4709,"user_id":381083,"accept_rate":60,"display_name":"AmanicA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652435227,"creation_date":1571152157,"answer_id":58397795,"question_id":32013337,"body_markdown":"I chose the bundled maven installation which helped me.\r\n\r\n&lt;strike&gt;It could also be something to do with using a symlink to reference the maven installation..&lt;/strike&gt;\r\n\r\nit turns out the version of intelliJ I use (2018.3) can&#39;t import maven projects using apache-maven-3.6.2\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WcPzt.png","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>I chose the bundled maven installation which helped me.</p>\n<p><strike>It could also be something to do with using a symlink to reference the maven installation..</strike></p>\n<p>it turns out the version of intelliJ I use (2018.3) can't import maven projects using apache-maven-3.6.2</p>\n<p><a href=\"https://i.stack.imgur.com/WcPzt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WcPzt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":306132,"reputation":414,"user_id":616703,"display_name":"Will"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1584995143,"creation_date":1584995143,"answer_id":60821052,"question_id":32013337,"body_markdown":"My problem with this error under 2019.3.4 is related to the build delegating to Maven. Idea is letting Maven build my project first and that build is failing because I broke a test. I get around this problem by not allowing IDEA to delegate to Maven. On Mac OS Catalina: **Intellij** -&gt; **Preferences** -&gt; **Build, Execution, Deployment** -&gt; **Build Tools** -&gt; **Runner** and uncheck **Delegate IDE Build/run actions to Maven**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hNV9h.png","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>My problem with this error under 2019.3.4 is related to the build delegating to Maven. Idea is letting Maven build my project first and that build is failing because I broke a test. I get around this problem by not allowing IDEA to delegate to Maven. On Mac OS Catalina: <strong>Intellij</strong> -> <strong>Preferences</strong> -> <strong>Build, Execution, Deployment</strong> -> <strong>Build Tools</strong> -> <strong>Runner</strong> and uncheck <strong>Delegate IDE Build/run actions to Maven</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/hNV9h.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hNV9h.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3062523,"reputation":597,"user_id":2594893,"display_name":"harsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625014094,"creation_date":1624211990,"answer_id":68058664,"question_id":32013337,"body_markdown":"In my case, I invalidated the cache and restarted the IDE. It worked, not sure why though.","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>In my case, I invalidated the cache and restarted the IDE. It worked, not sure why though.</p>\n"},{"tags":[],"owner":{"account_id":10466881,"reputation":166,"user_id":7716050,"display_name":"hugoalexandremf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638872650,"creation_date":1635420272,"answer_id":69753234,"question_id":32013337,"body_markdown":"In my case I had all configured to execute the hot reload with devtools after each file change namely:\r\n\r\n 1. File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Enable &quot;Build project automatically&quot;;\r\n 2. File -&gt; Settings -&gt; Advanced Settings -&gt; Allow auto-make to start even if developed application is currently running.\r\n\r\nThe maven related error in the Auto-build tab was being displayed and only went away when I deleted .idea folder in the root directory, opened the project again, built the project without maven config (build as Ant project), and configured all again.\r\nAfter the reset the error disappeared and the maven build was executed without errors.","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>In my case I had all configured to execute the hot reload with devtools after each file change namely:</p>\n<ol>\n<li>File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Enable &quot;Build project automatically&quot;;</li>\n<li>File -&gt; Settings -&gt; Advanced Settings -&gt; Allow auto-make to start even if developed application is currently running.</li>\n</ol>\n<p>The maven related error in the Auto-build tab was being displayed and only went away when I deleted .idea folder in the root directory, opened the project again, built the project without maven config (build as Ant project), and configured all again.\nAfter the reset the error disappeared and the maven build was executed without errors.</p>\n"},{"tags":[],"owner":{"account_id":13110843,"reputation":77,"user_id":9471941,"display_name":"54138qqqq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636001182,"creation_date":1636001182,"answer_id":69834626,"question_id":32013337,"body_markdown":"I am using IDEA with WSL2 and Windows10.\r\nMy problem occurred when IDEA automatically set the JDK in WSL2 as project JDK.\r\nAfter Setting my JDK back to Windows JDK, the error disappearred.","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>I am using IDEA with WSL2 and Windows10.\nMy problem occurred when IDEA automatically set the JDK in WSL2 as project JDK.\nAfter Setting my JDK back to Windows JDK, the error disappearred.</p>\n"},{"tags":[],"owner":{"account_id":12699846,"reputation":11,"user_id":9226997,"display_name":"Kris_Jiaqi_Xie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639469821,"creation_date":1639469821,"answer_id":70345705,"question_id":32013337,"body_markdown":"I was troubled by this problem all afternoon,the solution in stackoverflow is not usefull for me.But I just solved this problem by accident,i don&#39;t kown how it worked,but it is effective.If you have the same project structure.\r\n[project structure][1]\r\n\r\nyou can try this \r\n[try this button][2]\r\n\r\nand you will found all children project is build success. then you can run all project normally.\r\n\r\n  [1]: https://i.stack.imgur.com/P1FjF.png\r\n  [2]: https://i.stack.imgur.com/Mi4Xp.png","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>I was troubled by this problem all afternoon,the solution in stackoverflow is not usefull for me.But I just solved this problem by accident,i don't kown how it worked,but it is effective.If you have the same project structure.\n<a href=\"https://i.stack.imgur.com/P1FjF.png\" rel=\"nofollow noreferrer\">project structure</a></p>\n<p>you can try this\n<a href=\"https://i.stack.imgur.com/Mi4Xp.png\" rel=\"nofollow noreferrer\">try this button</a></p>\n<p>and you will found all children project is build success. then you can run all project normally.</p>\n"},{"tags":[],"owner":{"account_id":6598439,"reputation":131,"user_id":5097454,"display_name":"Venkat Adapa"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1655365764,"creation_date":1655365764,"answer_id":72642257,"question_id":32013337,"body_markdown":"In case of IntelliJ , Right click on the POM.xml file of your project and click on the option &quot;Add as Maven Project&quot;.","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>In case of IntelliJ , Right click on the POM.xml file of your project and click on the option &quot;Add as Maven Project&quot;.</p>\n"},{"tags":[],"owner":{"account_id":5946120,"reputation":37,"user_id":4675567,"display_name":"Manish Patil"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1661796743,"creation_date":1660919108,"answer_id":73418277,"question_id":32013337,"body_markdown":"- Go to event log and from there you will see options, what need to fix it\r\n\r\n\r\n","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<ul>\n<li>Go to event log and from there you will see options, what need to fix it</li>\n</ul>\n"}],"owner":{"account_id":3524340,"reputation":799,"user_id":2948490,"accept_rate":88,"display_name":"Nat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73991,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":33072302,"answer_count":19,"score":56,"last_activity_date":1661796743,"creation_date":1439565305,"question_id":32013337,"body_markdown":"I keep getting this error when I try to compile my code. I have the pom.xml file in my directories but I am not sure if there is something wrong in there. I found only one link on the internet regarding this and that was not my case: https://stackoverflow.com/questions/30810169/maven-project-configuration-required-for-module\r\n\r\n&gt; Error:Maven Resources Compiler: Maven project configuration required for module &#39;updater&#39; isn&#39;t available. Compilation of Maven projects is supported only if external build is started from an IDE.\r\n\r\nHere is the content of my pom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0     http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;groupId&gt;com.nothing.updater&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Updater&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\r\n        &lt;!--&lt;dependencies&gt;--&gt;\r\n            &lt;!--&lt;dependency&gt;--&gt;\r\n                &lt;!--&lt;groupId&gt;com.nothing.toolbox&lt;/groupId&gt;--&gt;\r\n                &lt;!--&lt;artifactId&gt;Toolbox&lt;/artifactId&gt;--&gt;\r\n                &lt;!--&lt;version&gt;1.1&lt;/version&gt;--&gt;\r\n            &lt;!--&lt;/dependency&gt;--&gt;\r\n\r\n        &lt;!--&lt;/dependencies&gt;--&gt;\r\n    &lt;/project&gt;\r\n\r\nI am using a multi-module project.","title":"Maven Error : Maven Project Configuration for Module isn&#39;t available","body":"<p>I keep getting this error when I try to compile my code. I have the pom.xml file in my directories but I am not sure if there is something wrong in there. I found only one link on the internet regarding this and that was not my case: <a href=\"https://stackoverflow.com/questions/30810169/maven-project-configuration-required-for-module\">Maven project configuration required for module</a></p>\n<blockquote>\n<p>Error:Maven Resources Compiler: Maven project configuration required for module 'updater' isn't available. Compilation of Maven projects is supported only if external build is started from an IDE.</p>\n</blockquote>\n<p>Here is the content of my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0     http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.nothing.updater&lt;/groupId&gt;\n    &lt;artifactId&gt;Updater&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n\n    &lt;!--&lt;dependencies&gt;--&gt;\n        &lt;!--&lt;dependency&gt;--&gt;\n            &lt;!--&lt;groupId&gt;com.nothing.toolbox&lt;/groupId&gt;--&gt;\n            &lt;!--&lt;artifactId&gt;Toolbox&lt;/artifactId&gt;--&gt;\n            &lt;!--&lt;version&gt;1.1&lt;/version&gt;--&gt;\n        &lt;!--&lt;/dependency&gt;--&gt;\n\n    &lt;!--&lt;/dependencies&gt;--&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I am using a multi-module project.</p>\n"},{"tags":["java","flutter","qr-code","flutter-method-channel"],"comments":[{"owner":{"account_id":23257088,"reputation":1402,"user_id":17343976,"display_name":"Vishal Zaveri"},"score":0,"creation_date":1661823046,"post_id":73532959,"comment_id":129857589,"body_markdown":"Check one time both android &amp; iOS platform integration required steps added correctly, and then flutter clean, flutter pub get &amp; uninstall app &amp; re-install it again.","body":"Check one time both android &amp; iOS platform integration required steps added correctly, and then flutter clean, flutter pub get &amp; uninstall app &amp; re-install it again."},{"owner":{"account_id":26191331,"reputation":1,"user_id":19873136,"display_name":"Rodrigo Reveron"},"score":0,"creation_date":1661911490,"post_id":73532959,"comment_id":129882422,"body_markdown":"The integration is added correctly, the problem occurs when I start a flutter activity as the flutter documentation says, here -&gt; https://docs.flutter.dev/development/add-to-app/android/add-flutter-screen\n\nOnce I do that, the white screen appears, but if I dont do that, everything work correctly","body":"The integration is added correctly, the problem occurs when I start a flutter activity as the flutter documentation says, here -&gt; <a href=\"https://docs.flutter.dev/development/add-to-app/android/add-flutter-screen\" rel=\"nofollow noreferrer\">docs.flutter.dev/development/add-to-app/android/&hellip;</a>  Once I do that, the white screen appears, but if I dont do that, everything work correctly"}],"owner":{"account_id":26191331,"reputation":1,"user_id":19873136,"display_name":"Rodrigo Reveron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661796487,"creation_date":1661796367,"question_id":73532959,"body_markdown":"I&#39;m openning the scanner of qr_code_scanner plugin and getting a white screen and this error:\r\n\r\nE/MethodChannel#flutter/platform_views(27605): Failed to handle method call\r\nE/MethodChannel#flutter/platform_views(27605): java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.res.Resources android.content.Context.getResources()&#39; on a null object reference\r\nE/MethodChannel#flutter/platform_views(27605):  at android.view.ViewConfiguration.get(ViewConfiguration.java:521)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.view.View.&lt;init&gt;(View.java:5216)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.view.View.&lt;init&gt;(View.java:5358)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:709)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:705)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:701)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:697)\r\nE/MethodChannel#flutter/platform_views(27605):  at com.journeyapps.barcodescanner.CameraPreview.&lt;init&gt;(CameraPreview.java:228)\r\nE/MethodChannel#flutter/platform_views(27605):  at com.journeyapps.barcodescanner.BarcodeView.&lt;init&gt;(BarcodeView.java:76)\r\nE/MethodChannel#flutter/platform_views(27605):  at net.touchcapture.qr.flutterqr.CustomFramingRectBarcodeView.&lt;init&gt;(CustomFramingRectBarcodeView.kt:12)\r\nE/MethodChannel#flutter/platform_views(27605):  at net.touchcapture.qr.flutterqr.QRView.initBarCodeView(QRView.kt:197)\r\nE/MethodChannel#flutter/platform_views(27605):  at net.touchcapture.qr.flutterqr.QRView.getView(QRView.kt:191)\r\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.plugin.platform.SingleViewPresentation.onCreate(SingleViewPresentation.java:188)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.app.Dialog.dispatchOnCreate(Dialog.java:874)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.app.Dialog.show(Dialog.java:521)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.app.Presentation.show(Presentation.java:257)\r\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.plugin.platform.VirtualDisplayController.&lt;init&gt;(VirtualDisplayController.java:95)\r\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.plugin.platform.VirtualDisplayController.create(VirtualDisplayController.java:48)\r\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.plugin.platform.PlatformViewsController$1.createVirtualDisplayForPlatformView(PlatformViewsController.java:214)\r\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.create(PlatformViewsChannel.java:107)\r\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.onMethodCall(PlatformViewsChannel.java:59)\r\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:262)\r\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.embedding.engine.dart.DartMessenger.invokeHandler(DartMessenger.java:296)\r\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.embedding.engine.dart.DartMessenger.lambda$dispatchMessageToQueue$0$DartMessenger(DartMessenger.java:320)\r\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.embedding.engine.dart.-$$Lambda$DartMessenger$TsixYUB5E6FpKhMtCSQVHKE89gQ.run(Unknown Source:12)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.os.Handler.handleCallback(Handler.java:900)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.os.Handler.dispatchMessage(Handler.java:103)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.os.Looper.loop(Looper.java:219)\r\nE/MethodChannel#flutter/platform_views(27605):  at android.app.ActivityThread.main(ActivityThread.java:8668)\r\nE/MethodChannel#flutter/platform_views(27605):  at java.lang.reflect.Method.invoke(Native Method)\r\nE/MethodChannel#flutter/platform_views(27605):  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\r\nE/MethodChannel#flutter/platform_views(27605):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109)\r\n\r\n\r\nflutter doctor: \r\n[image][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Ky6x7.png","title":"White Screen on open qr_code_scanner: ^1.0.1","body":"<p>I'm openning the scanner of qr_code_scanner plugin and getting a white screen and this error:</p>\n<p>E/MethodChannel#flutter/platform_views(27605): Failed to handle method call\nE/MethodChannel#flutter/platform_views(27605): java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference\nE/MethodChannel#flutter/platform_views(27605):  at android.view.ViewConfiguration.get(ViewConfiguration.java:521)\nE/MethodChannel#flutter/platform_views(27605):  at android.view.View.(View.java:5216)\nE/MethodChannel#flutter/platform_views(27605):  at android.view.View.(View.java:5358)\nE/MethodChannel#flutter/platform_views(27605):  at android.view.ViewGroup.(ViewGroup.java:709)\nE/MethodChannel#flutter/platform_views(27605):  at android.view.ViewGroup.(ViewGroup.java:705)\nE/MethodChannel#flutter/platform_views(27605):  at android.view.ViewGroup.(ViewGroup.java:701)\nE/MethodChannel#flutter/platform_views(27605):  at android.view.ViewGroup.(ViewGroup.java:697)\nE/MethodChannel#flutter/platform_views(27605):  at com.journeyapps.barcodescanner.CameraPreview.(CameraPreview.java:228)\nE/MethodChannel#flutter/platform_views(27605):  at com.journeyapps.barcodescanner.BarcodeView.(BarcodeView.java:76)\nE/MethodChannel#flutter/platform_views(27605):  at net.touchcapture.qr.flutterqr.CustomFramingRectBarcodeView.(CustomFramingRectBarcodeView.kt:12)\nE/MethodChannel#flutter/platform_views(27605):  at net.touchcapture.qr.flutterqr.QRView.initBarCodeView(QRView.kt:197)\nE/MethodChannel#flutter/platform_views(27605):  at net.touchcapture.qr.flutterqr.QRView.getView(QRView.kt:191)\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.plugin.platform.SingleViewPresentation.onCreate(SingleViewPresentation.java:188)\nE/MethodChannel#flutter/platform_views(27605):  at android.app.Dialog.dispatchOnCreate(Dialog.java:874)\nE/MethodChannel#flutter/platform_views(27605):  at android.app.Dialog.show(Dialog.java:521)\nE/MethodChannel#flutter/platform_views(27605):  at android.app.Presentation.show(Presentation.java:257)\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.plugin.platform.VirtualDisplayController.(VirtualDisplayController.java:95)\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.plugin.platform.VirtualDisplayController.create(VirtualDisplayController.java:48)\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.plugin.platform.PlatformViewsController$1.createVirtualDisplayForPlatformView(PlatformViewsController.java:214)\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.create(PlatformViewsChannel.java:107)\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.onMethodCall(PlatformViewsChannel.java:59)\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:262)\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.embedding.engine.dart.DartMessenger.invokeHandler(DartMessenger.java:296)\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.embedding.engine.dart.DartMessenger.lambda$dispatchMessageToQueue$0$DartMessenger(DartMessenger.java:320)\nE/MethodChannel#flutter/platform_views(27605):  at io.flutter.embedding.engine.dart.-$$Lambda$DartMessenger$TsixYUB5E6FpKhMtCSQVHKE89gQ.run(Unknown Source:12)\nE/MethodChannel#flutter/platform_views(27605):  at android.os.Handler.handleCallback(Handler.java:900)\nE/MethodChannel#flutter/platform_views(27605):  at android.os.Handler.dispatchMessage(Handler.java:103)\nE/MethodChannel#flutter/platform_views(27605):  at android.os.Looper.loop(Looper.java:219)\nE/MethodChannel#flutter/platform_views(27605):  at android.app.ActivityThread.main(ActivityThread.java:8668)\nE/MethodChannel#flutter/platform_views(27605):  at java.lang.reflect.Method.invoke(Native Method)\nE/MethodChannel#flutter/platform_views(27605):  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\nE/MethodChannel#flutter/platform_views(27605):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109)</p>\n<p>flutter doctor:\n<a href=\"https://i.stack.imgur.com/Ky6x7.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":["java","collections","stream"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661796199,"creation_date":1661796199,"answer_id":73532921,"question_id":73532459,"body_markdown":"Use `flatMap`:\r\n```\r\nList&lt;CarFlattened&gt; flattened = cars.stream()\r\n        .flatMap(car -&gt; car.carSN().stream().map(sn -&gt; new CarFlattened(car.carId(), sn)))\r\n        .toList();\r\n```\r\nNote that I created some records for `Car` and `CarFlattened` for quick testing; replae the `carSN()` and `carId()` methods as needed.","title":"How to Convert a Set to another flattened Set using Java Stream","body":"<p>Use <code>flatMap</code>:</p>\n<pre><code>List&lt;CarFlattened&gt; flattened = cars.stream()\n        .flatMap(car -&gt; car.carSN().stream().map(sn -&gt; new CarFlattened(car.carId(), sn)))\n        .toList();\n</code></pre>\n<p>Note that I created some records for <code>Car</code> and <code>CarFlattened</code> for quick testing; replae the <code>carSN()</code> and <code>carId()</code> methods as needed.</p>\n"}],"owner":{"account_id":8176076,"reputation":11,"user_id":6154756,"display_name":"Omar Attareefy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661796199,"creation_date":1661793701,"question_id":73532459,"body_markdown":"I have a ``Set`` of object ``Car`` which has two attributes ``int carId, Set&lt;Long&gt; carSN``\r\n\r\n```\r\n1, [123, 789]\r\n2, [456]\r\n3, [123]\r\n```\r\nI need to convert that to a ``Set`` of new object called ``CarFlattened`` which has two attributes ``int carId, Long carSN`` such that the new set of ``CarFlattened`` will be\r\n\r\n```\r\n1, 123\r\n2, 456\r\n3, 123\r\n1, 789\r\n```\r\n\r\nWhat is the easiest way to do that using Java Streams ?","title":"How to Convert a Set to another flattened Set using Java Stream","body":"<p>I have a <code>Set</code> of object <code>Car</code> which has two attributes <code>int carId, Set&lt;Long&gt; carSN</code></p>\n<pre><code>1, [123, 789]\n2, [456]\n3, [123]\n</code></pre>\n<p>I need to convert that to a <code>Set</code> of new object called <code>CarFlattened</code> which has two attributes <code>int carId, Long carSN</code> such that the new set of <code>CarFlattened</code> will be</p>\n<pre><code>1, 123\n2, 456\n3, 123\n1, 789\n</code></pre>\n<p>What is the easiest way to do that using Java Streams ?</p>\n"},{"tags":["java","spring-boot","data-structures"],"comments":[{"owner":{"account_id":4190788,"reputation":782,"user_id":3433452,"accept_rate":100,"display_name":"bob0the0mighty"},"score":0,"creation_date":1661788737,"post_id":73531426,"comment_id":129849391,"body_markdown":"Please provide code examples. This is needed to help with your specific problem.","body":"Please provide code examples. This is needed to help with your specific problem."},{"owner":{"account_id":25116729,"reputation":1,"user_id":18965661,"display_name":"Dr.M"},"score":0,"creation_date":1661795959,"post_id":73531426,"comment_id":129851791,"body_markdown":"@bob0the0mighty, I added what I could. I can&#39;t seem to wrap my head around how to do it though so there isn&#39;t much code, just basic class fields.","body":"@bob0the0mighty, I added what I could. I can&#39;t seem to wrap my head around how to do it though so there isn&#39;t much code, just basic class fields."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1661796423,"post_id":73531426,"comment_id":129851969,"body_markdown":"@Dr.M - One approach is to have each node hold a map from reader choice to next node. One way to do that is to have each SceneNode hold a HashMap&lt;String,SceneNode&gt;. This leaves open the possibility of cycles in your story *graph*.","body":"@Dr.M - One approach is to have each node hold a map from reader choice to next node. One way to do that is to have each SceneNode hold a HashMap&lt;String,SceneNode&gt;. This leaves open the possibility of cycles in your story <i>graph</i>."},{"owner":{"account_id":25116729,"reputation":1,"user_id":18965661,"display_name":"Dr.M"},"score":0,"creation_date":1661796967,"post_id":73531426,"comment_id":129852151,"body_markdown":"Possible solution: \tThe Insert method in node (SceneNode) just creates a new node and adds it to the List&lt;SceneNode&gt;.  It would be the insert method in the StoryTree class that is passed the node ID to add children node to as parameter, first finding that node in the tree, then running the insert method for that particular node.\n// This means I&#39;d need to first code a findNode(String id) method first AND need to either get an ID generated from MongoDB or generate within Java and pass to MongoDB. ??? thoughts","body":"Possible solution: \tThe Insert method in node (SceneNode) just creates a new node and adds it to the List&lt;SceneNode&gt;.  It would be the insert method in the StoryTree class that is passed the node ID to add children node to as parameter, first finding that node in the tree, then running the insert method for that particular node. // This means I&#39;d need to first code a findNode(String id) method first AND need to either get an ID generated from MongoDB or generate within Java and pass to MongoDB. ??? thoughts"},{"owner":{"account_id":25116729,"reputation":1,"user_id":18965661,"display_name":"Dr.M"},"score":0,"creation_date":1661797148,"post_id":73531426,"comment_id":129852212,"body_markdown":"@AndyThomas, I really like the idea of using a HashMap and the potential for cyclic story lines, a feature I wanted, but wasn&#39;t sure how I would implement while keeping with the assignment of a &quot;tree&quot;.","body":"@AndyThomas, I really like the idea of using a HashMap and the potential for cyclic story lines, a feature I wanted, but wasn&#39;t sure how I would implement while keeping with the assignment of a &quot;tree&quot;."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1661815425,"post_id":73531426,"comment_id":129856616,"body_markdown":"@Dr.M - A tree is a directed, acyclic graph. If your representation can support a graph, it can also support a tree. One type of tree is binary, but it&#39;s not the only type. One representation is for a node to hold other nodes as fields, but it&#39;s not the only representation. It&#39;s a reasonable representation for a node to hold a map of other nodes, but you are the best judge of whether your teacher will accept it. Another approach is parallel arrays or lists, one with user actions, one with corresponding nodes.","body":"@Dr.M - A tree is a directed, acyclic graph. If your representation can support a graph, it can also support a tree. One type of tree is binary, but it&#39;s not the only type. One representation is for a node to hold other nodes as fields, but it&#39;s not the only representation. It&#39;s a reasonable representation for a node to hold a map of other nodes, but you are the best judge of whether your teacher will accept it. Another approach is parallel arrays or lists, one with user actions, one with corresponding nodes."}],"owner":{"account_id":25116729,"reputation":1,"user_id":18965661,"display_name":"Dr.M"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661795891,"creation_date":1661788429,"question_id":73531426,"body_markdown":"I am building a java web app (Spring Boot, MongoDB) and need to use a tree to structure some of the data. The web app will facilitate creating and reading adventure stories and each &#39;scene&#39; in the story is a node in the tree leading to other nodes. Each node contains multiple Strings.\r\n\r\nI have written a basic binary tree, but the recursive and automatic sorting nature of binary trees doesn&#39;t seem to work here and any node can have 0-5 child nodes.\r\n\r\nHow do I add a new node? If I were just putting this all in one class I could add each one, but this is a dynamic application where users will create and edit stories.\r\n\r\nIn a binary tree I can compare a value and it will automatically add it for me, but in this case, each node must be attached to specific parent nodes. Will I have to use an int or double of some sort?\r\n\r\nI realize this is trivial to some, but nearly all the data I find on trees are for binary trees or naturally ordered trees.\r\n\r\nThanks for your time and resources!\r\n\r\nAs I cannot think of how to access a particular node to add another node to the List of childNodes, I don&#39;t have much code... Below is what I do have.\r\n\r\npublic class SceneNode {\r\n\r\n\t@Id\r\n\tprivate String storyId;\r\n\t\r\n\tprivate String parentId;\r\n\tprivate String option;\r\n\tprivate String description;\r\n\tprivate List&lt;SceneNode&gt; childNodes;\r\n\t\r\n\t//constructors\r\n\tpublic SceneNode() {};\r\n\tpublic SceneNode(String parentId, String option, String descrtion) {\r\n\t\tthis.parentId = parentId;\r\n\t\tthis.option = option;\r\n\t\tthis.description = descrtion;\r\n\t}\r\n\t\r\n\t//methods\r\n\tpublic void insert(String parentId, String option, String description) {\r\n\t\tSceneNode newScene = new SceneNode(parentId, option, description);\r\n\r\n// getters setters . . .\r\n}\r\n\r\n\r\npublic class StoryTree {\r\n\r\n\tprivate SceneNode root;\r\n\r\n\t\r\n\t//methods\r\n\tpublic void insert(String parentId, String option, String description) {\r\n\t\tif (root == null) {\r\n\t\t\troot = new SceneNode(parentId, option, description);\r\n\t\t} \r\n\t}\r\n}\r\n\t\r\n\t\r\n\t// getters &amp; setters...\r\n\r\n","title":"Non-Binary Tree Insertion (not natural order) Java","body":"<p>I am building a java web app (Spring Boot, MongoDB) and need to use a tree to structure some of the data. The web app will facilitate creating and reading adventure stories and each 'scene' in the story is a node in the tree leading to other nodes. Each node contains multiple Strings.</p>\n<p>I have written a basic binary tree, but the recursive and automatic sorting nature of binary trees doesn't seem to work here and any node can have 0-5 child nodes.</p>\n<p>How do I add a new node? If I were just putting this all in one class I could add each one, but this is a dynamic application where users will create and edit stories.</p>\n<p>In a binary tree I can compare a value and it will automatically add it for me, but in this case, each node must be attached to specific parent nodes. Will I have to use an int or double of some sort?</p>\n<p>I realize this is trivial to some, but nearly all the data I find on trees are for binary trees or naturally ordered trees.</p>\n<p>Thanks for your time and resources!</p>\n<p>As I cannot think of how to access a particular node to add another node to the List of childNodes, I don't have much code... Below is what I do have.</p>\n<p>public class SceneNode {</p>\n<pre><code>@Id\nprivate String storyId;\n\nprivate String parentId;\nprivate String option;\nprivate String description;\nprivate List&lt;SceneNode&gt; childNodes;\n\n//constructors\npublic SceneNode() {};\npublic SceneNode(String parentId, String option, String descrtion) {\n    this.parentId = parentId;\n    this.option = option;\n    this.description = descrtion;\n}\n\n//methods\npublic void insert(String parentId, String option, String description) {\n    SceneNode newScene = new SceneNode(parentId, option, description);\n</code></pre>\n<p>// getters setters . . .\n}</p>\n<p>public class StoryTree {</p>\n<pre><code>private SceneNode root;\n\n\n//methods\npublic void insert(String parentId, String option, String description) {\n    if (root == null) {\n        root = new SceneNode(parentId, option, description);\n    } \n}\n</code></pre>\n<p>}</p>\n<pre><code>// getters &amp; setters...\n</code></pre>\n"},{"tags":["java","gstreamer"],"comments":[{"owner":{"account_id":3092245,"reputation":1045,"user_id":2618142,"accept_rate":36,"display_name":"user2618142"},"score":0,"creation_date":1377438911,"post_id":18424423,"comment_id":27076675,"body_markdown":"Please provide some important code snippets and comments","body":"Please provide some important code snippets and comments"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1377444214,"post_id":18424423,"comment_id":27078250,"body_markdown":"updated the question with my example","body":"updated the question with my example"}],"answers":[{"tags":[],"owner":{"account_id":2445910,"reputation":1153,"user_id":2133310,"display_name":"jhauris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661795818,"creation_date":1412176334,"answer_id":26144604,"question_id":18424423,"body_markdown":"You&#39;re pushing the bytes for an encoded JPEG file, but with the srcfilter you are telling gstreamer to interpret the JPEG stream as raw video frames:\r\n\r\n    src (jpegs) -&gt; srcfilter(call it raw rgb) -&gt; videorate -&gt; ratefilter -&gt; videosink (expects raw video)\r\n\r\nWhat you **should** do is decode the JPEGs to raw video before sending it to elements that only operate on raw video:\r\n\r\n    src (jpegs) -&gt; jpegdec (decodes jpeg files) -&gt; ffmpegcolorspace -&gt; videorate -&gt; ratefilter -&gt; videosink\r\n\r\nTo create an mjpeg, run decoded video into the mjpeg encoder:\r\n\r\n    src (jpegs) -&gt; jpegdec -&gt; ffmpegcolorspace -&gt; videorate -&gt; ratefilter -&gt; ffenc_mjpeg\r\n\r\nIt&#39;s usually easiest to test your pipeline structure using gst-launch before you try implementing in code, especially if your using java. See the multifilesrc element.\r\n\r\nSince you are using GStreamer there&#39;s really no reason to encode it to a JPEG before pushing it into the pipeline anyway; get the raw bytes for your buffered image and push those in as raw video. Then you can set the capsfilter to reflect the image format and skip the jpegdec element.","title":"Gstreamer&#39;s AppSrc in java binding api","body":"<p>You're pushing the bytes for an encoded JPEG file, but with the srcfilter you are telling gstreamer to interpret the JPEG stream as raw video frames:</p>\n<pre><code>src (jpegs) -&gt; srcfilter(call it raw rgb) -&gt; videorate -&gt; ratefilter -&gt; videosink (expects raw video)\n</code></pre>\n<p>What you <strong>should</strong> do is decode the JPEGs to raw video before sending it to elements that only operate on raw video:</p>\n<pre><code>src (jpegs) -&gt; jpegdec (decodes jpeg files) -&gt; ffmpegcolorspace -&gt; videorate -&gt; ratefilter -&gt; videosink\n</code></pre>\n<p>To create an mjpeg, run decoded video into the mjpeg encoder:</p>\n<pre><code>src (jpegs) -&gt; jpegdec -&gt; ffmpegcolorspace -&gt; videorate -&gt; ratefilter -&gt; ffenc_mjpeg\n</code></pre>\n<p>It's usually easiest to test your pipeline structure using gst-launch before you try implementing in code, especially if your using java. See the multifilesrc element.</p>\n<p>Since you are using GStreamer there's really no reason to encode it to a JPEG before pushing it into the pipeline anyway; get the raw bytes for your buffered image and push those in as raw video. Then you can set the capsfilter to reflect the image format and skip the jpegdec element.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1923,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26144604,"answer_count":1,"score":1,"last_activity_date":1661795818,"creation_date":1377389548,"question_id":18424423,"body_markdown":"I&#39;m planning to write some java test utility that generate some images in app&#39;s memory, and push them as a source to the gstreamer pipeline, thus generating mjpeg stream. The only example of gstreamer-java usage of AppSrc is http://code.google.com/p/gstreamer-java/source/browse/trunk/gstreamer-java/src/org/gstreamer/example/AppSrcTest.java?r=480 and it is too straightforward - the values that are placed to buffer are just incremented colour value. What if we want to push the real jpeg image.\r\n\r\nWhen I try to push some jpeg, that was taken as BufferedImage and then converted to byte[] I&#39;m getting trouble with output stream - some digital noise is displayed instead of image I&#39;m taking as a buffered. The first thing I have noticed that the byte array size taken after BufferedImage is lesser despite of the same 640x480 image size with buffer in the AppSrcTest example. It looks like I need a way to make it being exactly the same size the buffer accepts. So the question is what kind of data I should push to buffer, and how can obtain this format in java.\r\n\r\nUPD. Since code is good thing to start explaining my mistakes, here it is:\r\n\r\npom.xml:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n       &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n       &lt;groupId&gt;gstreamer&lt;/groupId&gt;\r\n       &lt;artifactId&gt;gstreamer&lt;/artifactId&gt;\r\n       &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.googlecode.gstreamer-java&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;gstreamer-java&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.5&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n     &lt;/project&gt;\r\n\r\n\r\nRun.java:\r\n\r\n    import org.gstreamer.Gst;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.SwingUtilities;\r\n    import org.gstreamer.Buffer;\r\n    import org.gstreamer.Caps;\r\n    import org.gstreamer.Element;\r\n    import org.gstreamer.ElementFactory;\r\n    import org.gstreamer.Gst;\r\n    import org.gstreamer.Pipeline;\r\n    import org.gstreamer.State;\r\n    import org.gstreamer.TagList;\r\n    import org.gstreamer.elements.AppSrc;\r\n    import org.gstreamer.swing.VideoComponent;\r\n\r\n    public class Run {\r\n        private static Pipeline pipeline;\r\n        static TagList tags;\r\n\r\n     public static void main(String[] args) {\r\n\r\n        args = Gst.init(&quot;AppSrcTest&quot;, args);\r\n        final int width = 640, height = 480;\r\n        /* setup pipeline */\r\n        pipeline = new Pipeline(&quot;pipeline&quot;);\r\n        final AppSrc appsrc = (AppSrc) ElementFactory.make(&quot;appsrc&quot;, &quot;source&quot;);\r\n        final Element srcfilter = ElementFactory.make(&quot;capsfilter&quot;, &quot;srcfilter&quot;);\r\n        Caps fltcaps = new Caps(&quot;video/x-raw-rgb, framerate=2/1&quot;\r\n                + &quot;, width=&quot; + width + &quot;, height=&quot; + height\r\n                + &quot;, bpp=16, depth=16&quot;);\r\n        srcfilter.setCaps(fltcaps);\r\n        final Element videorate = ElementFactory.make(&quot;videorate&quot;, &quot;videorate&quot;);\r\n        final Element ratefilter = ElementFactory.make(&quot;capsfilter&quot;, &quot;RateFilter&quot;);\r\n        final Element autovideosink = ElementFactory.make(&quot;autovideosink&quot;, &quot;autovideosink&quot;);\r\n        ratefilter.setCaps(Caps.fromString(&quot;video/x-raw-rgb, framerate=2/1&quot;));\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            int widthF;\r\n            int heightF;\r\n\r\n\r\n            public void run() {\r\n\r\n                JFrame frame = new JFrame(&quot;FakeSrcTest&quot;);\r\n                VideoComponent panel = new VideoComponent();\r\n                panel.setPreferredSize(new Dimension(width, height));\r\n                frame.add(panel, BorderLayout.CENTER);\r\n                Element videosink = panel.getElement();\r\n                pipeline.addMany(appsrc, srcfilter, videorate, ratefilter, videosink);\r\n                Element.linkMany(appsrc, srcfilter, videorate, ratefilter, videosink);\r\n\r\n                //pipeline.addMany(appsrc, autovideosink);\r\n                //Element.linkMany(appsrc, autovideosink);\r\n                appsrc.set(&quot;emit-signals&quot;, true);\r\n                appsrc.connect(new AppSrc.NEED_DATA() {\r\n                    byte color = 0;\r\n                    byte[] data = new byte[width * height * 2];\r\n\r\n\r\n                    public void needData(AppSrc elem, int size) {\r\n                        System.out.println(&quot;NEED_DATA: Element=&quot; + elem.getNativeAddress()\r\n                                + &quot; size=&quot; + size);\r\n                        Arrays.fill(data, color++);\r\n\r\n                        byte[] imageInByte=data;\r\n                        ///File img = new File(&quot;file.jpg&quot;);\r\n\r\n\r\n                        BufferedImage originalImage = null;\r\n                        try {\r\n                            originalImage = ImageIO.read(new File(&quot;file.jpg&quot;));\r\n                            heightF=originalImage.getHeight();\r\n                            widthF=originalImage.getWidth();\r\n                            System.out.println(heightF+&quot;x&quot;+widthF);\r\n                            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                            ImageIO.write( originalImage, &quot;jpg&quot;, baos );\r\n                            baos.flush();\r\n                            //Arrays.fill(imageInByte,color);\r\n\r\n                            for (int i=0;i&lt;baos.toByteArray().length;i++)\r\n                            {\r\n                            imageInByte[i] = baos.toByteArray()[i];\r\n                            }\r\n\r\n                            //imageInByte = baos.toByteArray();\r\n                            baos.close();\r\n                        } catch (IOException e) {\r\n\r\n                        }\r\n\r\n\r\n                        //Buffer buffer = new Buffer(data.length);\r\n                        //buffer.getByteBuffer().put(data);\r\n                        //System.out.println(data.length);\r\n\r\n                        //Buffer buffer = new Buffer(imageInByte.length);\r\n                        Buffer buffer = new Buffer(614400);\r\n                        System.out.println(imageInByte.length);\r\n                        buffer.getByteBuffer().put(imageInByte);\r\n                        appsrc.pushBuffer(buffer);\r\n                    }\r\n                });\r\n                appsrc.connect(new AppSrc.ENOUGH_DATA() {\r\n                    public void enoughData(AppSrc elem) {\r\n                        System.out.println(&quot;NEED_DATA: Element=&quot; + elem.getNativeAddress());\r\n                    }\r\n                });\r\n                //frame.setSize(640, 480);\r\n\r\n\r\n                frame.setSize(widthF, heightF);\r\n                frame.pack();\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.setVisible(true);\r\n\r\n                pipeline.setState(State.PLAYING);\r\n            }\r\n        });\r\n\r\n    }\r\n    }\r\n\r\nPlease don&#39;t point me that my code is bad (I know it :) ), but please say me where it is wrong. My assumption that Jpeg - &gt; BuffredImage - &gt; byte[] that should be pushed seems to be wrong. As can be seen at the screen shot the data coming to the videosink element is wrong. What I should place there? ![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/80i1M.png\r\n\r\n\r\nUPD 2:\r\nIf I replace videosink with filesink, I&#39;m able to record some file that looks to be dependand on some buffered image; however, it sims to be incorrect - vlc plays it as 10 seconds single frame (displaying the only BuffredImage from java code; if I alternate the image in my code, the first buffered image is still displayed as an only frame), other players doesn&#39;t recognize it at all. However, it looks like bites are stored to the video file - I see the buffer flush work increazing the file size.\r\n\r\nI supposed that the problem is that I ignore muxing and added avimux to the pipeline, however, after adding the avimux needData(AppSrc elem, int size) is no longer called and nothing is written to the file.","title":"Gstreamer&#39;s AppSrc in java binding api","body":"<p>I'm planning to write some java test utility that generate some images in app's memory, and push them as a source to the gstreamer pipeline, thus generating mjpeg stream. The only example of gstreamer-java usage of AppSrc is <a href=\"http://code.google.com/p/gstreamer-java/source/browse/trunk/gstreamer-java/src/org/gstreamer/example/AppSrcTest.java?r=480\" rel=\"nofollow noreferrer\">http://code.google.com/p/gstreamer-java/source/browse/trunk/gstreamer-java/src/org/gstreamer/example/AppSrcTest.java?r=480</a> and it is too straightforward - the values that are placed to buffer are just incremented colour value. What if we want to push the real jpeg image.</p>\n\n<p>When I try to push some jpeg, that was taken as BufferedImage and then converted to byte[] I'm getting trouble with output stream - some digital noise is displayed instead of image I'm taking as a buffered. The first thing I have noticed that the byte array size taken after BufferedImage is lesser despite of the same 640x480 image size with buffer in the AppSrcTest example. It looks like I need a way to make it being exactly the same size the buffer accepts. So the question is what kind of data I should push to buffer, and how can obtain this format in java.</p>\n\n<p>UPD. Since code is good thing to start explaining my mistakes, here it is:</p>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n   &lt;groupId&gt;gstreamer&lt;/groupId&gt;\n   &lt;artifactId&gt;gstreamer&lt;/artifactId&gt;\n   &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.googlecode.gstreamer-java&lt;/groupId&gt;\n                &lt;artifactId&gt;gstreamer-java&lt;/artifactId&gt;\n                &lt;version&gt;1.5&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n &lt;/project&gt;\n</code></pre>\n\n<p>Run.java:</p>\n\n<pre><code>import org.gstreamer.Gst;\nimport java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.SwingUtilities;\nimport org.gstreamer.Buffer;\nimport org.gstreamer.Caps;\nimport org.gstreamer.Element;\nimport org.gstreamer.ElementFactory;\nimport org.gstreamer.Gst;\nimport org.gstreamer.Pipeline;\nimport org.gstreamer.State;\nimport org.gstreamer.TagList;\nimport org.gstreamer.elements.AppSrc;\nimport org.gstreamer.swing.VideoComponent;\n\npublic class Run {\n    private static Pipeline pipeline;\n    static TagList tags;\n\n public static void main(String[] args) {\n\n    args = Gst.init(\"AppSrcTest\", args);\n    final int width = 640, height = 480;\n    /* setup pipeline */\n    pipeline = new Pipeline(\"pipeline\");\n    final AppSrc appsrc = (AppSrc) ElementFactory.make(\"appsrc\", \"source\");\n    final Element srcfilter = ElementFactory.make(\"capsfilter\", \"srcfilter\");\n    Caps fltcaps = new Caps(\"video/x-raw-rgb, framerate=2/1\"\n            + \", width=\" + width + \", height=\" + height\n            + \", bpp=16, depth=16\");\n    srcfilter.setCaps(fltcaps);\n    final Element videorate = ElementFactory.make(\"videorate\", \"videorate\");\n    final Element ratefilter = ElementFactory.make(\"capsfilter\", \"RateFilter\");\n    final Element autovideosink = ElementFactory.make(\"autovideosink\", \"autovideosink\");\n    ratefilter.setCaps(Caps.fromString(\"video/x-raw-rgb, framerate=2/1\"));\n    SwingUtilities.invokeLater(new Runnable() {\n        int widthF;\n        int heightF;\n\n\n        public void run() {\n\n            JFrame frame = new JFrame(\"FakeSrcTest\");\n            VideoComponent panel = new VideoComponent();\n            panel.setPreferredSize(new Dimension(width, height));\n            frame.add(panel, BorderLayout.CENTER);\n            Element videosink = panel.getElement();\n            pipeline.addMany(appsrc, srcfilter, videorate, ratefilter, videosink);\n            Element.linkMany(appsrc, srcfilter, videorate, ratefilter, videosink);\n\n            //pipeline.addMany(appsrc, autovideosink);\n            //Element.linkMany(appsrc, autovideosink);\n            appsrc.set(\"emit-signals\", true);\n            appsrc.connect(new AppSrc.NEED_DATA() {\n                byte color = 0;\n                byte[] data = new byte[width * height * 2];\n\n\n                public void needData(AppSrc elem, int size) {\n                    System.out.println(\"NEED_DATA: Element=\" + elem.getNativeAddress()\n                            + \" size=\" + size);\n                    Arrays.fill(data, color++);\n\n                    byte[] imageInByte=data;\n                    ///File img = new File(\"file.jpg\");\n\n\n                    BufferedImage originalImage = null;\n                    try {\n                        originalImage = ImageIO.read(new File(\"file.jpg\"));\n                        heightF=originalImage.getHeight();\n                        widthF=originalImage.getWidth();\n                        System.out.println(heightF+\"x\"+widthF);\n                        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                        ImageIO.write( originalImage, \"jpg\", baos );\n                        baos.flush();\n                        //Arrays.fill(imageInByte,color);\n\n                        for (int i=0;i&lt;baos.toByteArray().length;i++)\n                        {\n                        imageInByte[i] = baos.toByteArray()[i];\n                        }\n\n                        //imageInByte = baos.toByteArray();\n                        baos.close();\n                    } catch (IOException e) {\n\n                    }\n\n\n                    //Buffer buffer = new Buffer(data.length);\n                    //buffer.getByteBuffer().put(data);\n                    //System.out.println(data.length);\n\n                    //Buffer buffer = new Buffer(imageInByte.length);\n                    Buffer buffer = new Buffer(614400);\n                    System.out.println(imageInByte.length);\n                    buffer.getByteBuffer().put(imageInByte);\n                    appsrc.pushBuffer(buffer);\n                }\n            });\n            appsrc.connect(new AppSrc.ENOUGH_DATA() {\n                public void enoughData(AppSrc elem) {\n                    System.out.println(\"NEED_DATA: Element=\" + elem.getNativeAddress());\n                }\n            });\n            //frame.setSize(640, 480);\n\n\n            frame.setSize(widthF, heightF);\n            frame.pack();\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setVisible(true);\n\n            pipeline.setState(State.PLAYING);\n        }\n    });\n\n}\n}\n</code></pre>\n\n<p>Please don't point me that my code is bad (I know it :) ), but please say me where it is wrong. My assumption that Jpeg - > BuffredImage - > byte[] that should be pushed seems to be wrong. As can be seen at the screen shot the data coming to the videosink element is wrong. What I should place there? <img src=\"https://i.stack.imgur.com/80i1M.png\" alt=\"enter image description here\"></p>\n\n<p>UPD 2:\nIf I replace videosink with filesink, I'm able to record some file that looks to be dependand on some buffered image; however, it sims to be incorrect - vlc plays it as 10 seconds single frame (displaying the only BuffredImage from java code; if I alternate the image in my code, the first buffered image is still displayed as an only frame), other players doesn't recognize it at all. However, it looks like bites are stored to the video file - I see the buffer flush work increazing the file size.</p>\n\n<p>I supposed that the problem is that I ignore muxing and added avimux to the pipeline, however, after adding the avimux needData(AppSrc elem, int size) is no longer called and nothing is written to the file.</p>\n"},{"tags":["java","maven","tomcat","web-applications","build"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1654007115,"post_id":72449515,"comment_id":127986432,"body_markdown":"is there a good reason to do that on your own instead of using soemthing like Spring Boot, Micronaut or Quarkus  ?","body":"is there a good reason to do that on your own instead of using soemthing like Spring Boot, Micronaut or Quarkus  ?"},{"owner":{"account_id":22418528,"reputation":35,"user_id":16626211,"display_name":"thorald_"},"score":0,"creation_date":1654007622,"post_id":72449515,"comment_id":127986689,"body_markdown":"@khmarbaise Well I would love to use SpringBoot and consorts, but ultimetly it is a project for Uni and we have a limited pool of technology that we are allowed to use. So sadly this is technologically the best I can do","body":"@khmarbaise Well I would love to use SpringBoot and consorts, but ultimetly it is a project for Uni and we have a limited pool of technology that we are allowed to use. So sadly this is technologically the best I can do"}],"owner":{"account_id":22418528,"reputation":35,"user_id":16626211,"display_name":"thorald_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661795767,"creation_date":1654006826,"question_id":72449515,"body_markdown":"I have a little problem with a project idea I have (project has to be done for Uni, hence the backwards seeming approach).\r\n\r\nYou probably get the gist from the title, but let me explain in a little more detail. I want to create a little webApp from scratch, which should run in a embedded Tomcat or even Jetty if it doesn&#39;t work like I want it to.\r\n\r\nThe project structure I have now, would look something like this:\r\n\r\n    Root\r\n    |_ Module1\r\n    |_ Module2\r\n    |_ Setup\r\n    |_ ...\r\n\r\nRoot should just be the parent nothing interesting there. Module1 will contain some servlets and Module2 some JSPs. \r\n\r\nMy plan was to build both modules as WARs and in the Setup Module somehow deploy them into a new JAR that has an embedded Tomcat or Jetty instance in it. So that I am ultimately left with one JAR or WAR that I can just &quot;start&quot;, get the server running and have my endpoints available.\r\n\r\nI tried multiple things now with build tools and whatnot, but I guess my Maven game isn&#39;t as good as would like it to be, or I just think to complicated although it is easy, I just won&#39;t get it to work.\r\n\r\nHow can I get this to work? If it makes it easier I could merge Module1 and Module2 into one, but that isn&#39;t preferred. The Setup Module can also be removed of course.\r\n","title":"Maven build executable jar/war from multi module Maven project with embedded Apache Tomcat","body":"<p>I have a little problem with a project idea I have (project has to be done for Uni, hence the backwards seeming approach).</p>\n<p>You probably get the gist from the title, but let me explain in a little more detail. I want to create a little webApp from scratch, which should run in a embedded Tomcat or even Jetty if it doesn't work like I want it to.</p>\n<p>The project structure I have now, would look something like this:</p>\n<pre><code>Root\n|_ Module1\n|_ Module2\n|_ Setup\n|_ ...\n</code></pre>\n<p>Root should just be the parent nothing interesting there. Module1 will contain some servlets and Module2 some JSPs.</p>\n<p>My plan was to build both modules as WARs and in the Setup Module somehow deploy them into a new JAR that has an embedded Tomcat or Jetty instance in it. So that I am ultimately left with one JAR or WAR that I can just &quot;start&quot;, get the server running and have my endpoints available.</p>\n<p>I tried multiple things now with build tools and whatnot, but I guess my Maven game isn't as good as would like it to be, or I just think to complicated although it is easy, I just won't get it to work.</p>\n<p>How can I get this to work? If it makes it easier I could merge Module1 and Module2 into one, but that isn't preferred. The Setup Module can also be removed of course.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4369606,"reputation":166,"user_id":6558325,"display_name":"Adnan"},"score":0,"creation_date":1661791582,"post_id":73529637,"comment_id":129850365,"body_markdown":"I tried your code but the result is still the same. Only the last column is getting merged, previous merged cells are becoming one-line cells.","body":"I tried your code but the result is still the same. Only the last column is getting merged, previous merged cells are becoming one-line cells."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1661792294,"post_id":73529637,"comment_id":129850566,"body_markdown":"What Apache POI version used? What Word version displays this table?","body":"What Apache POI version used? What Word version displays this table?"},{"owner":{"account_id":4369606,"reputation":166,"user_id":6558325,"display_name":"Adnan"},"score":0,"creation_date":1661792723,"post_id":73529637,"comment_id":129850685,"body_markdown":"Apache POI 5.2.2, LibreOffice 7.3.5.2 on Ubuntu 22.02","body":"Apache POI 5.2.2, LibreOffice 7.3.5.2 on Ubuntu 22.02"},{"owner":{"account_id":4369606,"reputation":166,"user_id":6558325,"display_name":"Adnan"},"score":0,"creation_date":1661792849,"post_id":73529637,"comment_id":129850727,"body_markdown":"I can see three `restart` and nine `continue` in document&#39;s XML, yet the resultant document isn&#39;t what it should be.","body":"I can see three <code>restart</code> and nine <code>continue</code> in document&#39;s XML, yet the resultant document isn&#39;t what it should be."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1661795739,"creation_date":1661795739,"answer_id":73532832,"question_id":73529637,"body_markdown":"Your code has following disadvantage: Using `cell.getCTTc().addNewTcPr()` the code always adds new `TcPr`. But what if the table cell has table cell properties already? A table cell must have only one `TcPr`. \r\n\r\nMy code in https://stackoverflow.com/questions/34647624/how-to-colspan-a-table-in-word-with-apache-poi/34663420#34663420 considers this. The method `mergeCellVertically(XWPFTable table, int col, int fromRow, int toRow)` always trie to get the `TcPr` first and only if that gets `null` then it adds a new `TcPr`.\r\n\r\nBut LibreOffice and OpenOffice are own things. As also told in my code in linked answer, LibreOffice and OpenOffice need table grids to fully accept the tables. The aim of the grid is to define the the ratio of column widths. So if the table width is set &quot;100%&quot;, then the correct grid widths do not matter. Only the ratio matters.\r\n\r\nComplete example again:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import java.math.BigInteger;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.apache.poi.xwpf.usermodel.XWPFTable;\r\n    import org.apache.poi.xwpf.usermodel.XWPFTableCell;\r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\n    import org.apache.poi.xwpf.usermodel.XWPFRun;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTcPr;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTVMerge;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.STMerge;\r\n    \r\n    public class CreateWordTableMergeTest {\r\n    \r\n     static void mergeCellVertically(XWPFTable table, int col, int fromRow, int toRow) {\r\n      for(int rowIndex = fromRow; rowIndex &lt;= toRow; rowIndex++) {\r\n       XWPFTableCell cell = table.getRow(rowIndex).getCell(col);\r\n       CTVMerge vmerge = CTVMerge.Factory.newInstance();\r\n       if(rowIndex == fromRow){\r\n        // The first merged cell is set with RESTART merge value\r\n        vmerge.setVal(STMerge.RESTART);\r\n       } else {\r\n        // Cells which join (merge) the first one, are set with CONTINUE\r\n        vmerge.setVal(STMerge.CONTINUE);\r\n        // and the content should be removed\r\n        for (int i = cell.getParagraphs().size(); i &gt; 0; i--) {\r\n         cell.removeParagraph(0);\r\n        }\r\n        cell.addParagraph();\r\n       }\r\n       // Try getting the TcPr. Not simply setting an new one every time.\r\n       CTTcPr tcPr = cell.getCTTc().getTcPr();\r\n       if (tcPr == null) tcPr = cell.getCTTc().addNewTcPr();\r\n       tcPr.setVMerge(vmerge);\r\n      }\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document= new XWPFDocument();\r\n    \r\n      XWPFParagraph paragraph = document.createParagraph();\r\n      XWPFRun run=paragraph.createRun();  \r\n      run.setText(&quot;The table:&quot;);\r\n    \r\n      //create table\r\n      XWPFTable table = document.createTable(4,4);\r\n      table.setWidth(&quot;100%&quot;);\r\n    \r\n      //create CTTblGrid for this table with widths of the 4 columns. \r\n      //necessary for Libreoffice/Openoffice to accept the column widths.\r\n      //values are in unit twentieths of a point (1/1440 of an inch)\r\n      //first column = 1 inches width\r\n      table.getCTTbl().addNewTblGrid().addNewGridCol().setW(BigInteger.valueOf(1*1440));\r\n      //other columns (3 in this case) also each 1 inches width\r\n      for (int col = 1 ; col &lt; 4; col++) {\r\n       table.getCTTbl().getTblGrid().addNewGridCol().setW(BigInteger.valueOf(1*1440));\r\n      }\r\n    \r\n      //using the merge methods\r\n      mergeCellVertically(table, 0, 0, 3); \r\n      mergeCellVertically(table, 1, 0, 3); \r\n      mergeCellVertically(table, 2, 0, 3); \r\n    \r\n      paragraph = document.createParagraph();\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;./create_table.docx&quot;); \r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n     }\r\n    }\r\n\r\nShould lead o following table in LibreOffice too:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZKTdI.png","title":"Vertically merging multiple rows in POI XWPFTable results in malformed table","body":"<p>Your code has following disadvantage: Using <code>cell.getCTTc().addNewTcPr()</code> the code always adds new <code>TcPr</code>. But what if the table cell has table cell properties already? A table cell must have only one <code>TcPr</code>.</p>\n<p>My code in <a href=\"https://stackoverflow.com/questions/34647624/how-to-colspan-a-table-in-word-with-apache-poi/34663420#34663420\">How to colspan a table in word with APACHE POI</a> considers this. The method <code>mergeCellVertically(XWPFTable table, int col, int fromRow, int toRow)</code> always trie to get the <code>TcPr</code> first and only if that gets <code>null</code> then it adds a new <code>TcPr</code>.</p>\n<p>But LibreOffice and OpenOffice are own things. As also told in my code in linked answer, LibreOffice and OpenOffice need table grids to fully accept the tables. The aim of the grid is to define the the ratio of column widths. So if the table width is set &quot;100%&quot;, then the correct grid widths do not matter. Only the ratio matters.</p>\n<p>Complete example again:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport java.math.BigInteger;\n\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFTable;\nimport org.apache.poi.xwpf.usermodel.XWPFTableCell;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\nimport org.apache.poi.xwpf.usermodel.XWPFRun;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTcPr;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTVMerge;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.STMerge;\n\npublic class CreateWordTableMergeTest {\n\n static void mergeCellVertically(XWPFTable table, int col, int fromRow, int toRow) {\n  for(int rowIndex = fromRow; rowIndex &lt;= toRow; rowIndex++) {\n   XWPFTableCell cell = table.getRow(rowIndex).getCell(col);\n   CTVMerge vmerge = CTVMerge.Factory.newInstance();\n   if(rowIndex == fromRow){\n    // The first merged cell is set with RESTART merge value\n    vmerge.setVal(STMerge.RESTART);\n   } else {\n    // Cells which join (merge) the first one, are set with CONTINUE\n    vmerge.setVal(STMerge.CONTINUE);\n    // and the content should be removed\n    for (int i = cell.getParagraphs().size(); i &gt; 0; i--) {\n     cell.removeParagraph(0);\n    }\n    cell.addParagraph();\n   }\n   // Try getting the TcPr. Not simply setting an new one every time.\n   CTTcPr tcPr = cell.getCTTc().getTcPr();\n   if (tcPr == null) tcPr = cell.getCTTc().addNewTcPr();\n   tcPr.setVMerge(vmerge);\n  }\n }\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document= new XWPFDocument();\n\n  XWPFParagraph paragraph = document.createParagraph();\n  XWPFRun run=paragraph.createRun();  \n  run.setText(&quot;The table:&quot;);\n\n  //create table\n  XWPFTable table = document.createTable(4,4);\n  table.setWidth(&quot;100%&quot;);\n\n  //create CTTblGrid for this table with widths of the 4 columns. \n  //necessary for Libreoffice/Openoffice to accept the column widths.\n  //values are in unit twentieths of a point (1/1440 of an inch)\n  //first column = 1 inches width\n  table.getCTTbl().addNewTblGrid().addNewGridCol().setW(BigInteger.valueOf(1*1440));\n  //other columns (3 in this case) also each 1 inches width\n  for (int col = 1 ; col &lt; 4; col++) {\n   table.getCTTbl().getTblGrid().addNewGridCol().setW(BigInteger.valueOf(1*1440));\n  }\n\n  //using the merge methods\n  mergeCellVertically(table, 0, 0, 3); \n  mergeCellVertically(table, 1, 0, 3); \n  mergeCellVertically(table, 2, 0, 3); \n\n  paragraph = document.createParagraph();\n\n  FileOutputStream out = new FileOutputStream(&quot;./create_table.docx&quot;); \n  document.write(out);\n  out.close();\n  document.close();\n }\n}\n</code></pre>\n<p>Should lead o following table in LibreOffice too:</p>\n<p><a href=\"https://i.stack.imgur.com/ZKTdI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZKTdI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4369606,"reputation":166,"user_id":6558325,"display_name":"Adnan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73532832,"answer_count":1,"score":0,"last_activity_date":1661795739,"creation_date":1661779949,"question_id":73529637,"body_markdown":"I have a XWPFTable `sampleTable` of size 4x4, and I want first three columns to be merged like [![this][1]][1]. However, after running the code here:\r\n\r\n```lang-java\r\nXWPFTable sampleTable=sampleDOCX.createTable(4, 4);\r\n             for(int col=0;col&lt;3;col++){\r\n                for(int row=0;row&lt;4;row++){\r\n                    XWPFTableCell cell=sampleTable.getRow(row).getCell(col);\r\n                    if(row==0){\r\n                        cell.getCTTc().addNewTcPr().addNewVMerge().setVal(STMerge.RESTART);\r\n                    }else{\r\n                        cell.getCTTc().addNewTcPr().addNewVMerge().setVal(STMerge.CONTINUE);\r\n                    }\r\n                }\r\n            }\r\n```\r\nThe table I&#39;m getting is [![this][2]][2]. The first two columns are getting their rows deleted somehow.\r\n\r\n\r\nEDIT: on close inspection, the value `&lt;w:vMerge w:val=&quot;restart&quot;/&gt;` isn&#39;t added to Cells 0 and 1 of the XML, meaning `STMerge.RESTART` wasn&#39;t added to them. Why isn&#39;t the tag getting written in them?\r\n\r\n  [1]: https://i.stack.imgur.com/ZDbzc.png\r\n  [2]: https://i.stack.imgur.com/f3mmK.png","title":"Vertically merging multiple rows in POI XWPFTable results in malformed table","body":"<p>I have a XWPFTable <code>sampleTable</code> of size 4x4, and I want first three columns to be merged like <a href=\"https://i.stack.imgur.com/ZDbzc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZDbzc.png\" alt=\"this\" /></a>. However, after running the code here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>XWPFTable sampleTable=sampleDOCX.createTable(4, 4);\n             for(int col=0;col&lt;3;col++){\n                for(int row=0;row&lt;4;row++){\n                    XWPFTableCell cell=sampleTable.getRow(row).getCell(col);\n                    if(row==0){\n                        cell.getCTTc().addNewTcPr().addNewVMerge().setVal(STMerge.RESTART);\n                    }else{\n                        cell.getCTTc().addNewTcPr().addNewVMerge().setVal(STMerge.CONTINUE);\n                    }\n                }\n            }\n</code></pre>\n<p>The table I'm getting is <a href=\"https://i.stack.imgur.com/f3mmK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f3mmK.png\" alt=\"this\" /></a>. The first two columns are getting their rows deleted somehow.</p>\n<p>EDIT: on close inspection, the value <code>&lt;w:vMerge w:val=&quot;restart&quot;/&gt;</code> isn't added to Cells 0 and 1 of the XML, meaning <code>STMerge.RESTART</code> wasn't added to them. Why isn't the tag getting written in them?</p>\n"},{"tags":["java","string","null","equals","conditional-operator"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1270747033,"post_id":2601978,"comment_id":2611271,"body_markdown":"`null` doesn&#39;t have any methods, so also not `equals()`. If `myString` were `null`, how would you ever invoke a method on it? :)","body":"<code>null</code> doesn&#39;t have any methods, so also not <code>equals()</code>. If <code>myString</code> were <code>null</code>, how would you ever invoke a method on it? :)"},{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1270747357,"post_id":2601978,"comment_id":2611319,"body_markdown":"May I suggest that you `System.out.println(myString)` immediately before the if-block so you can see what&#39;s there?","body":"May I suggest that you <code>System.out.println(myString)</code> immediately before the if-block so you can see what&#39;s there?"},{"owner":{"account_id":90083,"reputation":28474,"user_id":248129,"accept_rate":75,"display_name":"Richard JP Le Guen"},"score":1,"creation_date":1270747453,"post_id":2601978,"comment_id":2611334,"body_markdown":"How do you know that &quot;it equals to `null`&quot;?","body":"How do you know that &quot;it equals to <code>null</code>&quot;?"},{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":7,"creation_date":1270748442,"post_id":2601978,"comment_id":2611466,"body_markdown":"`null` assigned to this variable was transformed to `&quot;null&quot;` -- this is a terrible idea. Try to change this design if at all possible.","body":"<code>null</code> assigned to this variable was transformed to <code>&quot;null&quot;</code> -- this is a terrible idea. Try to change this design if at all possible."},{"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"score":9,"creation_date":1270748506,"post_id":2601978,"comment_id":2611477,"body_markdown":"Yuck - I don&#39;t think checking whether (!myString.equals(&quot;null&quot;)) is the best solution.  I suspect most would consider the point at which the string &quot;null&quot; was assigned to myString to be a bug.","body":"Yuck - I don&#39;t think checking whether (!myString.equals(&quot;null&quot;)) is the best solution.  I suspect most would consider the point at which the string &quot;null&quot; was assigned to myString to be a bug."},{"owner":{"account_id":3419263,"reputation":592,"user_id":2867356,"accept_rate":81,"display_name":"Atlantis"},"score":1,"creation_date":1413110156,"post_id":2601978,"comment_id":41312976,"body_markdown":"I don&#39;t want anyone to get confused like I did so, for clarification:when no value is assigned to a string it does not get a value of &quot;null&quot; but a value of null (with no paranthesis, which basically means nothing is in there) the solution provided in the &quot;added section of the question is very specific to Roman&#39;s program.","body":"I don&#39;t want anyone to get confused like I did so, for clarification:when no value is assigned to a string it does not get a value of &quot;null&quot; but a value of null (with no paranthesis, which basically means nothing is in there) the solution provided in the &quot;added section of the question is very specific to Roman&#39;s program."}],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":255,"is_accepted":false,"score":255,"last_activity_date":1270747627,"creation_date":1270747004,"answer_id":2601987,"question_id":2601978,"body_markdown":"    if (myString != null &amp;&amp; !myString.isEmpty()) {\r\n      // doSomething\r\n    }\r\n\r\n---\r\n\r\nAs further comment, you should be aware of this term in the `equals` contract:\r\n\r\nFrom [`Object.equals(Object)`](http://java.sun.com/javase/6/docs/api/java/lang/Object.html#equals%28java.lang.Object%29):\r\n&gt;For any non-null reference value `x`, `x.equals(null)` should `return false`. \r\n\r\nThe way to compare with `null` is to use `x == null` and `x != null`.\r\n\r\nMoreover, `x.field` and `x.method()` throws `NullPointerException` if `x == null`.","title":"How to check if my string is equal to null?","body":"<pre><code>if (myString != null &amp;&amp; !myString.isEmpty()) {\n  // doSomething\n}\n</code></pre>\n\n<hr>\n\n<p>As further comment, you should be aware of this term in the <code>equals</code> contract:</p>\n\n<p>From <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>Object.equals(Object)</code></a>:</p>\n\n<blockquote>\n  <p>For any non-null reference value <code>x</code>, <code>x.equals(null)</code> should <code>return false</code>. </p>\n</blockquote>\n\n<p>The way to compare with <code>null</code> is to use <code>x == null</code> and <code>x != null</code>.</p>\n\n<p>Moreover, <code>x.field</code> and <code>x.method()</code> throws <code>NullPointerException</code> if <code>x == null</code>.</p>\n"},{"tags":[],"owner":{"account_id":114492,"reputation":14044,"user_id":301023,"display_name":"WhirlWind"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1463992920,"creation_date":1270747028,"answer_id":2601995,"question_id":2601978,"body_markdown":"You need to check that the `myString` object is `null`:\r\n\r\n    if (myString != null) {\r\n        doSomething\r\n    }","title":"How to check if my string is equal to null?","body":"<p>You need to check that the <code>myString</code> object is <code>null</code>:</p>\n\n<pre><code>if (myString != null) {\n    doSomething\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92026,"reputation":35050,"user_id":1977903,"accept_rate":96,"display_name":"bragboy"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1270747037,"creation_date":1270747037,"answer_id":2601998,"question_id":2601978,"body_markdown":"Try,\r\n\r\n    myString!=null &amp;&amp; myString.length()&gt;0","title":"How to check if my string is equal to null?","body":"<p>Try,</p>\n\n<pre><code>myString!=null &amp;&amp; myString.length()&gt;0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1270747065,"creation_date":1270747065,"answer_id":2602000,"question_id":2601978,"body_markdown":"If `myString` is `null`, then calling `myString.equals(null)` or `myString.equals(&quot;&quot;)` will fail with a `NullPointerException`. You cannot call any instance methods on a null variable.\r\n\r\nCheck for null first like this:\r\n\r\n    if (myString != null &amp;&amp; !myString.equals(&quot;&quot;)) {\r\n        //do something\r\n    }\r\n\r\nThis makes use of [short-circuit evaluation][1] to not attempt the `.equals` if `myString` fails the null check.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Short-circuit_evaluation","title":"How to check if my string is equal to null?","body":"<p>If <code>myString</code> is <code>null</code>, then calling <code>myString.equals(null)</code> or <code>myString.equals(\"\")</code> will fail with a <code>NullPointerException</code>. You cannot call any instance methods on a null variable.</p>\n\n<p>Check for null first like this:</p>\n\n<pre><code>if (myString != null &amp;&amp; !myString.equals(\"\")) {\n    //do something\n}\n</code></pre>\n\n<p>This makes use of <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"noreferrer\">short-circuit evaluation</a> to not attempt the <code>.equals</code> if <code>myString</code> fails the null check.</p>\n"},{"tags":[],"owner":{"account_id":23836,"reputation":86762,"user_id":60096,"accept_rate":89,"display_name":"Andy White"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1270747114,"creation_date":1270747114,"answer_id":2602004,"question_id":2601978,"body_markdown":"If your string is null, calls like this should throw a NullReferenceException:\r\n\r\nmyString.equals(null)\r\n\r\nBut anyway, I think a method like this is what you want:\r\n\r\n    public static class StringUtils\r\n    {\r\n        public static bool isNullOrEmpty(String myString)\r\n        {\r\n             return myString == null || &quot;&quot;.equals(myString);\r\n        }\r\n    }\r\n\r\n\r\nThen in your code, you can do things like this:\r\n\r\n    if (!StringUtils.isNullOrEmpty(myString))\r\n    {\r\n        doSomething();\r\n    }","title":"How to check if my string is equal to null?","body":"<p>If your string is null, calls like this should throw a NullReferenceException:</p>\n\n<p>myString.equals(null)</p>\n\n<p>But anyway, I think a method like this is what you want:</p>\n\n<pre><code>public static class StringUtils\n{\n    public static bool isNullOrEmpty(String myString)\n    {\n         return myString == null || \"\".equals(myString);\n    }\n}\n</code></pre>\n\n<p>Then in your code, you can do things like this:</p>\n\n<pre><code>if (!StringUtils.isNullOrEmpty(myString))\n{\n    doSomething();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94919,"reputation":1178,"user_id":258851,"accept_rate":83,"display_name":"elduff"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1270747291,"creation_date":1270747291,"answer_id":2602034,"question_id":2601978,"body_markdown":"This should work:\r\n\r\n    if (myString != null &amp;&amp; !myString.equals(&quot;&quot;))\r\n        doSomething\r\n    }\r\n\r\nIf not, then myString likely has a value that you are not expecting.  Try printing it out like this:\r\n\r\n    System.out.println(&quot;+&quot; + myString + &quot;+&quot;);\r\n\r\nUsing the &#39;+&#39; symbols to surround the string will show you if there is extra whitespace in there that you&#39;re not accounting for.\r\n\r\n\r\n\r\n","title":"How to check if my string is equal to null?","body":"<p>This should work:</p>\n\n<pre><code>if (myString != null &amp;&amp; !myString.equals(\"\"))\n    doSomething\n}\n</code></pre>\n\n<p>If not, then myString likely has a value that you are not expecting.  Try printing it out like this:</p>\n\n<pre><code>System.out.println(\"+\" + myString + \"+\");\n</code></pre>\n\n<p>Using the '+' symbols to surround the string will show you if there is extra whitespace in there that you're not accounting for.</p>\n"},{"tags":[],"owner":{"account_id":61630,"reputation":38237,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1270747417,"creation_date":1270747417,"answer_id":2602059,"question_id":2601978,"body_markdown":"     if (myString != null &amp;&amp; myString.length() &gt; 0) {\r\n\r\n            // your magic here\r\n\r\n     }\r\n\r\nIncidently, if you are doing much string manipulation, there&#39;s a great Spring class with all sorts of useful methods: \r\n\r\nhttp://static.springsource.org/spring/docs/2.5.x/api/org/springframework/util/StringUtils.html","title":"How to check if my string is equal to null?","body":"<pre><code> if (myString != null &amp;&amp; myString.length() &gt; 0) {\n\n        // your magic here\n\n }\n</code></pre>\n\n<p>Incidently, if you are doing much string manipulation, there's a great Spring class with all sorts of useful methods: </p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/util/StringUtils.html\" rel=\"noreferrer\">http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/util/StringUtils.html</a></p>\n"},{"tags":[],"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1270753090,"creation_date":1270753090,"answer_id":2602625,"question_id":2601978,"body_markdown":"I&#39;d do something like this:\r\n\r\n    ( myString != null &amp;&amp; myString.length() &gt; 0 )\r\n        ? doSomething() : System.out.println(&quot;Non valid String&quot;);\r\n\r\n - Testing for null checks whether myString contains an instance of String.\r\n - length() returns the length and is equivalent to equals(&quot;&quot;).\r\n - Checking if myString is null first will avoid a NullPointerException.\r\n\r\n","title":"How to check if my string is equal to null?","body":"<p>I'd do something like this:</p>\n\n<pre><code>( myString != null &amp;&amp; myString.length() &gt; 0 )\n    ? doSomething() : System.out.println(\"Non valid String\");\n</code></pre>\n\n<ul>\n<li>Testing for null checks whether myString contains an instance of String.</li>\n<li>length() returns the length and is equivalent to equals(\"\").</li>\n<li>Checking if myString is null first will avoid a NullPointerException.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1404204,"reputation":197,"user_id":1332366,"display_name":"Moe"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1336577767,"creation_date":1336577767,"answer_id":10519362,"question_id":2601978,"body_markdown":"`if(str.isEmpty() || str==null){\r\ndo whatever you want\r\n}`","title":"How to check if my string is equal to null?","body":"<p><code>if(str.isEmpty() || str==null){\ndo whatever you want\n}</code></p>\n"},{"tags":[],"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1336601795,"creation_date":1336601795,"answer_id":10524870,"question_id":2601978,"body_markdown":"I would encourage using an existing utility, or creating your own method:\r\n\r\n    public static boolean isEmpty(String string) {\r\n        return string == null || string.length() == 0;\r\n    }\r\n\r\n\r\nThen just use it when you need it:\r\n\r\n    if (! StringUtils.isEmpty(string)) {\r\n      // do something\r\n    }\r\n\r\nAs noted above, the || and &amp;&amp; operators short circuit.  That means as soon as they can determine their value they stop.  So if (string == null) is true, the length part does not need to be evaluated, as the expression would always be true.  Likewise with &amp;&amp;, where if the left side is false, the expression is always false and need not be evaluated further.\r\n\r\nAs an additional note, using length is generally a better idea than using .equals.  The performance is slightly better (not much), and doesn&#39;t require object creation (though most compilers might optimize this out).\r\n\r\n","title":"How to check if my string is equal to null?","body":"<p>I would encourage using an existing utility, or creating your own method:</p>\n\n<pre><code>public static boolean isEmpty(String string) {\n    return string == null || string.length() == 0;\n}\n</code></pre>\n\n<p>Then just use it when you need it:</p>\n\n<pre><code>if (! StringUtils.isEmpty(string)) {\n  // do something\n}\n</code></pre>\n\n<p>As noted above, the || and &amp;&amp; operators short circuit.  That means as soon as they can determine their value they stop.  So if (string == null) is true, the length part does not need to be evaluated, as the expression would always be true.  Likewise with &amp;&amp;, where if the left side is false, the expression is always false and need not be evaluated further.</p>\n\n<p>As an additional note, using length is generally a better idea than using .equals.  The performance is slightly better (not much), and doesn't require object creation (though most compilers might optimize this out).</p>\n"},{"tags":[],"owner":{"account_id":2063632,"reputation":151,"user_id":1839662,"display_name":"corm"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1577739665,"creation_date":1353432791,"answer_id":13478793,"question_id":2601978,"body_markdown":"If myString is in fact null, then any call to the reference will fail with a Null Pointer Exception (NPE). \r\nSince java 6, use [#isEmpty][1] instead of length check (in any case NEVER create a new empty String with the check).\r\n\r\n    if (myString != null &amp;&amp;  !myString.isEmpty()){\r\n        doSomething();\r\n    }\r\n\r\nIncidentally if comparing with String literals as you do, would reverse the statement so as not to have to have a null check, i.e,\r\n\r\n    if (&quot;some string to check&quot;.equals(myString)){\r\n      doSomething();\r\n    } \r\n\r\ninstead of :\r\n\r\n    if (myString != null &amp;&amp;  myString.equals(&quot;some string to check&quot;)){\r\n        doSomething();\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#isEmpty--","title":"How to check if my string is equal to null?","body":"<p>If myString is in fact null, then any call to the reference will fail with a Null Pointer Exception (NPE). \nSince java 6, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#isEmpty--\" rel=\"noreferrer\">#isEmpty</a> instead of length check (in any case NEVER create a new empty String with the check).</p>\n\n<pre><code>if (myString != null &amp;&amp;  !myString.isEmpty()){\n    doSomething();\n}\n</code></pre>\n\n<p>Incidentally if comparing with String literals as you do, would reverse the statement so as not to have to have a null check, i.e,</p>\n\n<pre><code>if (\"some string to check\".equals(myString)){\n  doSomething();\n} \n</code></pre>\n\n<p>instead of :</p>\n\n<pre><code>if (myString != null &amp;&amp;  myString.equals(\"some string to check\")){\n    doSomething();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2554818,"reputation":51,"user_id":2217050,"display_name":"ldsant"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1373294965,"creation_date":1373294965,"answer_id":17529651,"question_id":2601978,"body_markdown":"Every time i have to deal with strings (almost every time) I stop and wonder which way is really the fastest way to check for an empty string. Of course the string.Length == 0 check should be the fastest since Length is a property and there shouldn&#39;t be any processing other than retrieving the value of the property. But then I ask myself, why is there a String.Empty? It should be faster to check for String.Empty than for length, I tell myself. Well i finnaly decided to test it out. I coded a small Windows Console app that tells me how long it takes to do a certain check for 10 million repitions. I checked 3 different strings: a NULL string, an Empty string, and a &quot;&quot; string. I used 5 different methods: String.IsNullOrEmpty(), str == null, str == null || str == String.Empty, str == null || str == &quot;&quot;, str == null || str.length == 0. Below are the results:\r\n\r\n    String.IsNullOrEmpty()\r\n    NULL = 62 milliseconds\r\n    Empty = 46 milliseconds\r\n    &quot;&quot; = 46 milliseconds\r\n\r\n    str == null\r\n    NULL = 31 milliseconds\r\n    Empty = 46 milliseconds\r\n    &quot;&quot; = 31 milliseconds\r\n\r\n    str == null || str == String.Empty\r\n    NULL = 46 milliseconds\r\n    Empty = 62 milliseconds\r\n    &quot;&quot; = 359 milliseconds\r\n\r\n    str == null || str == &quot;&quot;\r\n    NULL = 46 milliseconds\r\n    Empty = 343 milliseconds\r\n    &quot;&quot; = 78 milliseconds\r\n\r\n    str == null || str.length == 0\r\n    NULL = 31 milliseconds\r\n    Empty = 63 milliseconds\r\n    &quot;&quot; = 62 milliseconds\r\n\r\nAccording to these results, on average checking for `str == null` is the fastest, but might not always yield what we&#39;re looking for. `if str = String.Empty` or `str = &quot;&quot;`, it results in false. Then you have 2 that are tied in second place: `String.IsNullOrEmpty()` and `str == null || str.length == 0`. Since `String.IsNullOrEmpty()` looks nicer and is easier (and faster) to write I would recommend using it over the other solution.","title":"How to check if my string is equal to null?","body":"<p>Every time i have to deal with strings (almost every time) I stop and wonder which way is really the fastest way to check for an empty string. Of course the string.Length == 0 check should be the fastest since Length is a property and there shouldn't be any processing other than retrieving the value of the property. But then I ask myself, why is there a String.Empty? It should be faster to check for String.Empty than for length, I tell myself. Well i finnaly decided to test it out. I coded a small Windows Console app that tells me how long it takes to do a certain check for 10 million repitions. I checked 3 different strings: a NULL string, an Empty string, and a \"\" string. I used 5 different methods: String.IsNullOrEmpty(), str == null, str == null || str == String.Empty, str == null || str == \"\", str == null || str.length == 0. Below are the results:</p>\n\n<pre><code>String.IsNullOrEmpty()\nNULL = 62 milliseconds\nEmpty = 46 milliseconds\n\"\" = 46 milliseconds\n\nstr == null\nNULL = 31 milliseconds\nEmpty = 46 milliseconds\n\"\" = 31 milliseconds\n\nstr == null || str == String.Empty\nNULL = 46 milliseconds\nEmpty = 62 milliseconds\n\"\" = 359 milliseconds\n\nstr == null || str == \"\"\nNULL = 46 milliseconds\nEmpty = 343 milliseconds\n\"\" = 78 milliseconds\n\nstr == null || str.length == 0\nNULL = 31 milliseconds\nEmpty = 63 milliseconds\n\"\" = 62 milliseconds\n</code></pre>\n\n<p>According to these results, on average checking for <code>str == null</code> is the fastest, but might not always yield what we're looking for. <code>if str = String.Empty</code> or <code>str = \"\"</code>, it results in false. Then you have 2 that are tied in second place: <code>String.IsNullOrEmpty()</code> and <code>str == null || str.length == 0</code>. Since <code>String.IsNullOrEmpty()</code> looks nicer and is easier (and faster) to write I would recommend using it over the other solution.</p>\n"},{"tags":[],"owner":{"account_id":2338720,"reputation":273,"user_id":2050488,"display_name":"kedar"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1420055105,"creation_date":1378735630,"answer_id":18700147,"question_id":2601978,"body_markdown":"Apache commons `StringUtils.isNotEmpty` is the best way to go.","title":"How to check if my string is equal to null?","body":"<p>Apache commons <code>StringUtils.isNotEmpty</code> is the best way to go.</p>\n"},{"tags":[],"owner":{"account_id":3785343,"reputation":1148,"user_id":3143460,"accept_rate":98,"display_name":"A.A"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1411819445,"creation_date":1411819445,"answer_id":26074479,"question_id":2601978,"body_markdown":"I had this problem in android and i use this way (Work for me):\r\n\r\n    String test = null;\r\n    if(test == &quot;null&quot;){\r\n    // Do work\r\n    }\r\n\r\nBut in java code I use :\r\n\r\n    String test = null;\r\n    if(test == null){\r\n    // Do work\r\n    }\r\nAnd : \r\n\r\n    private Integer compareDateStrings(BeanToDoTask arg0, BeanToDoTask arg1, String strProperty) {\r\n        String strDate0 = BeanUtils.getProperty(arg0, strProperty);_logger.debug(&quot;strDate0 = &quot; + strDate0);\r\n        String strDate1 = BeanUtils.getProperty(arg1, strProperty);_logger.debug(&quot;strDate1 = &quot; + strDate1);\r\n        return compareDateStrings(strDate0, strDate1);\r\n    }\r\n    \r\n    private Integer compareDateStrings(String strDate0, String strDate1) {\r\n        int cmp = 0;\r\n        if (isEmpty(strDate0)) {\r\n            if (isNotEmpty(strDate1)) {\r\n                cmp = -1;\r\n            } else {\r\n                cmp = 0;\r\n            }\r\n        } else if (isEmpty(strDate1)) {\r\n            cmp = 1;\r\n        } else {\r\n            cmp = strDate0.compareTo(strDate1);\r\n        }\r\n        return cmp;\r\n    }\r\n    \r\n    private boolean isEmpty(String str) {\r\n        return str == null || str.isEmpty();\r\n    }\r\n    private boolean isNotEmpty(String str) {\r\n        return !isEmpty(str);\r\n    }\r\n\r\n","title":"How to check if my string is equal to null?","body":"<p>I had this problem in android and i use this way (Work for me):</p>\n\n<pre><code>String test = null;\nif(test == \"null\"){\n// Do work\n}\n</code></pre>\n\n<p>But in java code I use :</p>\n\n<pre><code>String test = null;\nif(test == null){\n// Do work\n}\n</code></pre>\n\n<p>And : </p>\n\n<pre><code>private Integer compareDateStrings(BeanToDoTask arg0, BeanToDoTask arg1, String strProperty) {\n    String strDate0 = BeanUtils.getProperty(arg0, strProperty);_logger.debug(\"strDate0 = \" + strDate0);\n    String strDate1 = BeanUtils.getProperty(arg1, strProperty);_logger.debug(\"strDate1 = \" + strDate1);\n    return compareDateStrings(strDate0, strDate1);\n}\n\nprivate Integer compareDateStrings(String strDate0, String strDate1) {\n    int cmp = 0;\n    if (isEmpty(strDate0)) {\n        if (isNotEmpty(strDate1)) {\n            cmp = -1;\n        } else {\n            cmp = 0;\n        }\n    } else if (isEmpty(strDate1)) {\n        cmp = 1;\n    } else {\n        cmp = strDate0.compareTo(strDate1);\n    }\n    return cmp;\n}\n\nprivate boolean isEmpty(String str) {\n    return str == null || str.isEmpty();\n}\nprivate boolean isNotEmpty(String str) {\n    return !isEmpty(str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4708163,"reputation":39,"user_id":3809593,"display_name":"mimit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431270366,"creation_date":1431270366,"answer_id":30152982,"question_id":2601978,"body_markdown":"I think that myString is not a string but an array of strings. Here is what you need to do:\r\n\r\n    String myNewString = join(myString, &quot;&quot;)\r\n    if (!myNewString.equals(&quot;&quot;))\r\n    {\r\n        //Do something\r\n    }","title":"How to check if my string is equal to null?","body":"<p>I think that myString is not a string but an array of strings. Here is what you need to do:</p>\n\n<pre><code>String myNewString = join(myString, \"\")\nif (!myNewString.equals(\"\"))\n{\n    //Do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6847718,"reputation":11,"user_id":5265929,"display_name":"Harrouchi Taher"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1441813442,"creation_date":1440534671,"answer_id":32213489,"question_id":2601978,"body_markdown":"You can check string equal to null using this:\r\n\r\n    String Test = null;\r\n    (Test+&quot;&quot;).compareTo(&quot;null&quot;)\r\n\r\nIf the result is 0 then (Test+&quot;&quot;) = &quot;null&quot;.","title":"How to check if my string is equal to null?","body":"<p>You can check string equal to null using this:</p>\n\n<pre><code>String Test = null;\n(Test+\"\").compareTo(\"null\")\n</code></pre>\n\n<p>If the result is 0 then (Test+\"\") = \"null\".</p>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443199926,"creation_date":1443199926,"answer_id":32787078,"question_id":2601978,"body_markdown":"I prefer to use:\r\n\r\n    if(!StringUtils.isBlank(myString)) { // checks if myString is whitespace, empty, or null\r\n        // do something\r\n    }\r\nRead [StringUtils.isBlank() vs String.isEmpty()][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23419087/stringutils-isblank-vs-string-isempty","title":"How to check if my string is equal to null?","body":"<p>I prefer to use:</p>\n\n<pre><code>if(!StringUtils.isBlank(myString)) { // checks if myString is whitespace, empty, or null\n    // do something\n}\n</code></pre>\n\n<p>Read <a href=\"https://stackoverflow.com/questions/23419087/stringutils-isblank-vs-string-isempty\">StringUtils.isBlank() vs String.isEmpty()</a>.</p>\n"},{"tags":[],"owner":{"account_id":6997391,"reputation":17,"user_id":5364626,"display_name":"rawa rawandze"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1463986973,"creation_date":1463985574,"answer_id":37384136,"question_id":2601978,"body_markdown":"You have to check with null `if(str != null).`","title":"How to check if my string is equal to null?","body":"<p>You have to check with null <code>if(str != null).</code></p>\n"},{"tags":[],"owner":{"account_id":4496792,"reputation":251,"user_id":3656411,"display_name":"NSK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464157249,"creation_date":1464155512,"answer_id":37428786,"question_id":2601978,"body_markdown":"In Android you can check this with utility method `isEmpty` from `TextUtils`,\r\n\r\n\r\n    public static boolean isEmpty(CharSequence str) {\r\n        return str == null || str.length() == 0;\r\n    }\r\n\r\n`isEmpty(CharSequence str)` method check both condition, for `null` and length.\r\n\r\n","title":"How to check if my string is equal to null?","body":"<p>In Android you can check this with utility method <code>isEmpty</code> from <code>TextUtils</code>,</p>\n\n<pre><code>public static boolean isEmpty(CharSequence str) {\n    return str == null || str.length() == 0;\n}\n</code></pre>\n\n<p><code>isEmpty(CharSequence str)</code> method check both condition, for <code>null</code> and length.</p>\n"},{"tags":[],"owner":{"account_id":459077,"reputation":1090,"user_id":859330,"display_name":"CanCoder"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1469801946,"creation_date":1469801946,"answer_id":38661130,"question_id":2601978,"body_markdown":"I tried most of the examples given above for a null in an android app l was building and IT ALL FAILED. So l came up with a solution that worked anytime for me.\r\n\r\n    String test = null+&quot;&quot;;\r\n    If(!test.equals(&quot;null&quot;){\r\n           //go ahead string is not null\r\n\r\n    }\r\n\r\nSo simply concatenate an empty string as l did above and test against &quot;null&quot; and it works fine. In fact no exception is thrown","title":"How to check if my string is equal to null?","body":"<p>I tried most of the examples given above for a null in an android app l was building and IT ALL FAILED. So l came up with a solution that worked anytime for me.</p>\n\n<pre><code>String test = null+\"\";\nIf(!test.equals(\"null\"){\n       //go ahead string is not null\n\n}\n</code></pre>\n\n<p>So simply concatenate an empty string as l did above and test against \"null\" and it works fine. In fact no exception is thrown</p>\n"},{"tags":[],"owner":{"account_id":5259491,"reputation":2767,"user_id":4201378,"accept_rate":60,"display_name":"Salman Nazir"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1598437158,"creation_date":1472795871,"answer_id":39285245,"question_id":2601978,"body_markdown":"**WORKING !!!!**\r\n\r\n\r\n     if (myString != null &amp;&amp; !myString.isEmpty()) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n\r\n**Updated**\r\n\r\nFor Kotlin we check if the string is null or not by following\r\n\r\n    return myString.isNullOrEmpty() // Returns `true` if this nullable String is either `null` or empty, false otherwise\r\n\r\n    return myString.isEmpty() // Returns `true` if this char sequence is empty (contains no characters), false otherwise","title":"How to check if my string is equal to null?","body":"<p><strong>WORKING !!!!</strong></p>\n<pre><code> if (myString != null &amp;&amp; !myString.isEmpty()) {\n        return true;\n    }\n    else {\n        return false;\n    }\n</code></pre>\n<p><strong>Updated</strong></p>\n<p>For Kotlin we check if the string is null or not by following</p>\n<pre><code>return myString.isNullOrEmpty() // Returns `true` if this nullable String is either `null` or empty, false otherwise\n\nreturn myString.isEmpty() // Returns `true` if this char sequence is empty (contains no characters), false otherwise\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4061727,"reputation":14535,"user_id":5699956,"accept_rate":70,"display_name":"Atiq"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1476427837,"creation_date":1476427837,"answer_id":40036706,"question_id":2601978,"body_markdown":"I been using `StringUtil.isBlank(string)` \r\n\r\n**It tests if a string is blank: null, emtpy, or only whitespace.**\r\n\r\nSo this one is the best so far\r\n\r\nHere is the orignal method from the docs\r\n\r\n\t/**\r\n\t\t* Tests if a string is blank: null, emtpy, or only whitespace (&quot; &quot;, \\r\\n, \\t, etc)\r\n\t\t* @param string string to test\r\n\t\t* @return if string is blank\r\n\t\t*/\r\n\t\tpublic static boolean isBlank(String string) {\r\n\t\t\tif (string == null || string.length() == 0)\r\n\t\t\t\treturn true;\r\n\t\r\n\t\t\tint l = string.length();\r\n\t\t\tfor (int i = 0; i &lt; l; i++) {\r\n\t\t\t\tif (!StringUtil.isWhitespace(string.codePointAt(i)))\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t} ","title":"How to check if my string is equal to null?","body":"<p>I been using <code>StringUtil.isBlank(string)</code> </p>\n\n<p><strong>It tests if a string is blank: null, emtpy, or only whitespace.</strong></p>\n\n<p>So this one is the best so far</p>\n\n<p>Here is the orignal method from the docs</p>\n\n<pre><code>/**\n    * Tests if a string is blank: null, emtpy, or only whitespace (\" \", \\r\\n, \\t, etc)\n    * @param string string to test\n    * @return if string is blank\n    */\n    public static boolean isBlank(String string) {\n        if (string == null || string.length() == 0)\n            return true;\n\n        int l = string.length();\n        for (int i = 0; i &lt; l; i++) {\n            if (!StringUtil.isWhitespace(string.codePointAt(i)))\n                return false;\n        }\n        return true;\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4294641,"reputation":51,"user_id":3510009,"accept_rate":71,"display_name":"Herimanitra Ranaivoson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486747393,"creation_date":1486747393,"answer_id":42165215,"question_id":2601978,"body_markdown":"Exception may also help:\r\n\r\n    try {\r\n       //define your myString\r\n    }\r\n    catch (Exception e) {\r\n       //in that case, you may affect &quot;&quot; to myString\r\n       myString=&quot;&quot;;\r\n    }","title":"How to check if my string is equal to null?","body":"<p>Exception may also help:</p>\n\n<pre><code>try {\n   //define your myString\n}\ncatch (Exception e) {\n   //in that case, you may affect \"\" to myString\n   myString=\"\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7754525,"reputation":160,"user_id":5869379,"accept_rate":80,"display_name":"Luecx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486749077,"creation_date":1486749077,"answer_id":42165695,"question_id":2601978,"body_markdown":"Okay this is how datatypes work in Java. (You have to excuse my English, I am prob. not using the right vocab.\r\nYou have to differentiate between two of them. The base datatypes and the normal datatypes. Base data types pretty much make up everything that exists.\r\nFor example, there are all numbers, char, boolean etc. \r\nThe normal data types or complex data types is everything else. \r\nA String is an array of chars, therefore a complex data type.\r\n\r\nEvery variable that you create is actually a pointer on the value in your memory.\r\nFor example:\r\n\r\n    String s = new String(&quot;This is just a test&quot;);\r\n\r\nthe variable &quot;s&quot; does NOT contain a String. It is a pointer. This pointer points on the variable in your memory.\r\nWhen you call `System.out.println(anyObject)`, the `toString()` method of that object is called. If it did not override `toString` from Object, it will print the pointer.\r\nFor example:\r\n   \r\n    public class Foo{\r\n        public static void main(String[] args) {\r\n            Foo f = new Foo();\r\n            System.out.println(f);\r\n        }\r\n    }\r\n\r\n    &gt;&gt;&gt;&gt;\r\n    &gt;&gt;&gt;&gt;\r\n    &gt;&gt;&gt;&gt;Foo@330bedb4\r\n\r\nEverything behind the &quot;@&quot; is the pointer. This only works for complex data types. Primitive datatypes are DIRECTLY saved in their pointer. So actually there is no pointer and the values are stored directly.\r\n\r\nFor example:\r\n    \r\n    int i = 123;\r\n\r\ni does NOT store a pointer in this case. i will store the integer value 123 (in byte ofc).\r\n\r\n\r\nOkay so lets come back to the `==` operator.\r\nIt always compares the pointer and not the content saved at the pointer&#39;s position in the memory.\r\n\r\nExample:\r\n\r\n    String s1 = new String(&quot;Hallo&quot;);\r\n    String s2 = new String(&quot;Hallo&quot;);\r\n\r\n    System.out.println(s1 == s2);\r\n    \r\n    &gt;&gt;&gt;&gt;&gt; false\r\n\r\n\r\nThis both String have a different pointer. String.equals(String other) however compares the content. You can compare primitive data types with the &#39;==&#39; operator because the pointer of two different objects with the same content is equal.\r\n\r\nNull would mean that the pointer is empty. An empty primitive data type by default is 0 (for numbers). Null for any complex object however means, that object does not exist.\r\n\r\nGreetings","title":"How to check if my string is equal to null?","body":"<p>Okay this is how datatypes work in Java. (You have to excuse my English, I am prob. not using the right vocab.\nYou have to differentiate between two of them. The base datatypes and the normal datatypes. Base data types pretty much make up everything that exists.\nFor example, there are all numbers, char, boolean etc. \nThe normal data types or complex data types is everything else. \nA String is an array of chars, therefore a complex data type.</p>\n\n<p>Every variable that you create is actually a pointer on the value in your memory.\nFor example:</p>\n\n<pre><code>String s = new String(\"This is just a test\");\n</code></pre>\n\n<p>the variable \"s\" does NOT contain a String. It is a pointer. This pointer points on the variable in your memory.\nWhen you call <code>System.out.println(anyObject)</code>, the <code>toString()</code> method of that object is called. If it did not override <code>toString</code> from Object, it will print the pointer.\nFor example:</p>\n\n<pre><code>public class Foo{\n    public static void main(String[] args) {\n        Foo f = new Foo();\n        System.out.println(f);\n    }\n}\n\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;Foo@330bedb4\n</code></pre>\n\n<p>Everything behind the \"@\" is the pointer. This only works for complex data types. Primitive datatypes are DIRECTLY saved in their pointer. So actually there is no pointer and the values are stored directly.</p>\n\n<p>For example:</p>\n\n<pre><code>int i = 123;\n</code></pre>\n\n<p>i does NOT store a pointer in this case. i will store the integer value 123 (in byte ofc).</p>\n\n<p>Okay so lets come back to the <code>==</code> operator.\nIt always compares the pointer and not the content saved at the pointer's position in the memory.</p>\n\n<p>Example:</p>\n\n<pre><code>String s1 = new String(\"Hallo\");\nString s2 = new String(\"Hallo\");\n\nSystem.out.println(s1 == s2);\n\n&gt;&gt;&gt;&gt;&gt; false\n</code></pre>\n\n<p>This both String have a different pointer. String.equals(String other) however compares the content. You can compare primitive data types with the '==' operator because the pointer of two different objects with the same content is equal.</p>\n\n<p>Null would mean that the pointer is empty. An empty primitive data type by default is 0 (for numbers). Null for any complex object however means, that object does not exist.</p>\n\n<p>Greetings</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508441852,"creation_date":1508441852,"answer_id":46837622,"question_id":2601978,"body_markdown":"For me the best check if a string has any meaningful content in Java is this one:\r\n\r\n    string != null &amp;&amp; !string.trim().isEmpty()\r\n\r\nFirst you check if the string is `null` to avoid `NullPointerException` and then you trim all space characters to avoid checking strings that only have whitespaces and finally you check if the trimmed string is not empty, i.e has length 0.","title":"How to check if my string is equal to null?","body":"<p>For me the best check if a string has any meaningful content in Java is this one:</p>\n\n<pre><code>string != null &amp;&amp; !string.trim().isEmpty()\n</code></pre>\n\n<p>First you check if the string is <code>null</code> to avoid <code>NullPointerException</code> and then you trim all space characters to avoid checking strings that only have whitespaces and finally you check if the trimmed string is not empty, i.e has length 0.</p>\n"},{"tags":[],"owner":{"account_id":2610832,"reputation":6512,"user_id":2260963,"display_name":"Manmohan Soni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545998989,"creation_date":1545998989,"answer_id":53958401,"question_id":2601978,"body_markdown":"If you are working in Android then you can use the simple TextUtils class.\r\nCheck the following code:\r\n\r\n    if(!TextUtils.isEmpty(myString)){\r\n     //do something\r\n    }\r\n\r\nThis is simple usage of code. Answer may be repeated. But is simple to have single and simple check for you. ","title":"How to check if my string is equal to null?","body":"<p>If you are working in Android then you can use the simple TextUtils class.\nCheck the following code:</p>\n\n<pre><code>if(!TextUtils.isEmpty(myString)){\n //do something\n}\n</code></pre>\n\n<p>This is simple usage of code. Answer may be repeated. But is simple to have single and simple check for you. </p>\n"},{"tags":[],"owner":{"account_id":3643680,"reputation":406,"user_id":3037246,"accept_rate":80,"display_name":"Web.11"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572686812,"creation_date":1572686812,"answer_id":58669777,"question_id":2601978,"body_markdown":"I always use like this: \r\n\r\n    if (mystr != null &amp;&amp; !mystr.isEmpty()){\r\n      //DO WHATEVER YOU WANT OR LEAVE IT EMPTY\r\n    }else {\r\n      //DO WHATEVER YOU WANT OR LEAVE IT EMPTY\r\n    }\r\nor you can copy this to your project:\r\n\r\n    private boolean isEmptyOrNull(String mystr){\r\n        if (mystr != null &amp;&amp; !mystr.isEmpty()){ return true; }\r\n        else { return false; }\r\n    }\r\nand just call it like : \r\n\r\n    boolean b = isEmptyOrNull(yourString);\r\nit will return true if is empty or null.&lt;br&gt;`b=true` if is empty or null\r\n\r\nor you can use try catch and catch when it is null.","title":"How to check if my string is equal to null?","body":"<p>I always use like this: </p>\n\n<pre><code>if (mystr != null &amp;&amp; !mystr.isEmpty()){\n  //DO WHATEVER YOU WANT OR LEAVE IT EMPTY\n}else {\n  //DO WHATEVER YOU WANT OR LEAVE IT EMPTY\n}\n</code></pre>\n\n<p>or you can copy this to your project:</p>\n\n<pre><code>private boolean isEmptyOrNull(String mystr){\n    if (mystr != null &amp;&amp; !mystr.isEmpty()){ return true; }\n    else { return false; }\n}\n</code></pre>\n\n<p>and just call it like : </p>\n\n<pre><code>boolean b = isEmptyOrNull(yourString);\n</code></pre>\n\n<p>it will return true if is empty or null.<br><code>b=true</code> if is empty or null</p>\n\n<p>or you can use try catch and catch when it is null.</p>\n"},{"tags":[],"owner":{"account_id":24603396,"reputation":21,"user_id":18505954,"display_name":"BoonBucket"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661795270,"creation_date":1661795270,"answer_id":73532751,"question_id":2601978,"body_markdown":"I&#39;m using a function like this where I pass the get string result into it so I don&#39;t have to constantly check null and it either returns the string you passed back or empty if it&#39;s null:\r\n\r\n    public static String safeGet(String str) {\r\n        try {\r\n            if (str == null) throw new Exception();\r\n            return &quot;&quot; + str;\r\n        } catch (Exception e) {\r\n            return &quot;&quot;;\r\n        }\r\n    }","title":"How to check if my string is equal to null?","body":"<p>I'm using a function like this where I pass the get string result into it so I don't have to constantly check null and it either returns the string you passed back or empty if it's null:</p>\n<pre><code>public static String safeGet(String str) {\n    try {\n        if (str == null) throw new Exception();\n        return &quot;&quot; + str;\n    } catch (Exception e) {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":88863,"reputation":126149,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":606771,"favorite_count":0,"down_vote_count":3,"up_vote_count":196,"answer_count":28,"score":193,"last_activity_date":1661795270,"creation_date":1270746911,"question_id":2601978,"body_markdown":"I want to perform some action ONLY IF my string has a meaningful value. So, I tried this.\r\n\r\n    if (!myString.equals(&quot;&quot;)) {\r\n    doSomething\r\n    }\r\n\r\nand this\r\n\r\n    if (!myString.equals(null)) {\r\n    doSomething\r\n    }\r\n\r\nand this\r\n\r\n    if ( (!myString.equals(&quot;&quot;)) &amp;&amp; (!myString.equals(null))) {\r\n    doSomething\r\n    }\r\n\r\nand this\r\n\r\n    if ( (!myString.equals(&quot;&quot;)) &amp;&amp; (myString!=null)) {\r\n    doSomething\r\n    }\r\n\r\nand this\r\n\r\n    if ( myString.length()&gt;0) {\r\n    doSomething\r\n    }\r\n\r\nAnd in all cases my program `doSomething` in spite on the fact that my string IS EMPTY. It equals to `null`. So, what is wrong with that?\r\n\r\n**ADDED:**\r\n\r\nI found the reason of the problem. The variable was declared as a string and, as a consequence, `null` assigned to this variable was transformed to `&quot;null&quot;`! So, `if (!myString.equals(&quot;null&quot;))` works.\r\n\r\n","title":"How to check if my string is equal to null?","body":"<p>I want to perform some action ONLY IF my string has a meaningful value. So, I tried this.</p>\n\n<pre><code>if (!myString.equals(\"\")) {\ndoSomething\n}\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>if (!myString.equals(null)) {\ndoSomething\n}\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>if ( (!myString.equals(\"\")) &amp;&amp; (!myString.equals(null))) {\ndoSomething\n}\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>if ( (!myString.equals(\"\")) &amp;&amp; (myString!=null)) {\ndoSomething\n}\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>if ( myString.length()&gt;0) {\ndoSomething\n}\n</code></pre>\n\n<p>And in all cases my program <code>doSomething</code> in spite on the fact that my string IS EMPTY. It equals to <code>null</code>. So, what is wrong with that?</p>\n\n<p><strong>ADDED:</strong></p>\n\n<p>I found the reason of the problem. The variable was declared as a string and, as a consequence, <code>null</code> assigned to this variable was transformed to <code>\"null\"</code>! So, <code>if (!myString.equals(\"null\"))</code> works.</p>\n"},{"tags":["java","lambda","getter-setter","getter","setter"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1661794774,"post_id":73532601,"comment_id":129851384,"body_markdown":"I&#39;m not sure what you&#39;re hoping for.  You&#39;ve clearly recognized what those lambdas are actually doing.","body":"I&#39;m not sure what you&#39;re hoping for.  You&#39;ve clearly recognized what those lambdas are actually doing."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661794653,"creation_date":1661794653,"answer_id":73532628,"question_id":73532601,"body_markdown":"1. Exactly, a `BiConsumer` consumes 2 things. [A] An instance of the `Person` class, and [B] the value for the `name` field to set.\r\n\r\n2. Yup. The input is an instance of `Person`, the output is the name of that person.\r\n\r\nThe key realization is that the `getter` lambda represents the getter itself __without__ an actual person instance associated with it. If you do want that, you can; something like `somePersonInstance::getName` is a `Producer` (takes no inputs and provides an output), whereas something like `Person::getName` is a Function, takes 1 `Person` instance and provides an output.\r\n","title":"Java - method reference for setter and getter","body":"<ol>\n<li><p>Exactly, a <code>BiConsumer</code> consumes 2 things. [A] An instance of the <code>Person</code> class, and [B] the value for the <code>name</code> field to set.</p>\n</li>\n<li><p>Yup. The input is an instance of <code>Person</code>, the output is the name of that person.</p>\n</li>\n</ol>\n<p>The key realization is that the <code>getter</code> lambda represents the getter itself <strong>without</strong> an actual person instance associated with it. If you do want that, you can; something like <code>somePersonInstance::getName</code> is a <code>Producer</code> (takes no inputs and provides an output), whereas something like <code>Person::getName</code> is a Function, takes 1 <code>Person</code> instance and provides an output.</p>\n"}],"owner":{"account_id":5782621,"reputation":13,"user_id":4562784,"display_name":"Jaya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73532628,"answer_count":1,"score":0,"last_activity_date":1661794653,"creation_date":1661794499,"question_id":73532601,"body_markdown":"**A Pojo class:**\r\n\r\n```\r\npackage com.lambda.jay;\r\n\r\npublic class Person {\r\n    private String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\n**Another class for initiating &#39;Person&#39; objects:**\r\n```\r\npackage com.fi.lambda.jay;\r\nimport java.util.function.BiConsumer;\r\nimport java.util.function.Function;\r\n\r\npublic class Actor {\r\n    public &lt;T,R&gt; void printField(T obj, Function&lt;? super T,? extends R&gt; getter1) {\r\n        System.out.println(getter1.apply(obj).toString());\r\n    }\r\n\r\n    public &lt;T,R&gt; void setField(T obj, R value, BiConsumer&lt;T, R&gt; setter) {\r\n        setter.accept(obj, value);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Person person = new Person();\r\n        Actor actor = new Actor();\r\n\r\n        actor.setField(person, &quot;Bob&quot;, Person::setName);// (a,b) -&gt; a.setB(b);\r\n        actor.printField(person, Person::getName);\r\n    }\r\n}\r\n```\r\n   \r\n 1. How do we interpret the java lambda used for setter?\r\n    **BiConsumer&lt;T, R&gt;** functional interface has been used for parameter type for **setField** and **Person::setName** was passed as parameter value for the method.\r\nMy understanding of **BiConsumer&lt;T, R&gt;** is that its a functional interface used to denote the lambda function with two input parameters and no return parameter i.e., (a,b) -&gt; a+b;\r\nwhere *a+b* could be any logic(sequence of steps that uses  a and b parameters).\r\nBut in the above code example BiConsumer&lt;T, R&gt; denotes the lambda function (personObject,nameValue) -&gt; personObject.set(nameValue);\r\n 2. How do we interpret the java lambda used for getter?\r\n    My understanding  **Function&lt;T,R&gt;** = (a) -&gt; return math(a);\r\n    Whereas in the above code example **Function&lt;T,R&gt;** = (personObject) -&gt; return personObject.getName();\r\n\r\nCan I get help to understand that above two interpretations please. \r\n \r\n\r\n\r\n\r\n\r\n\r\n","title":"Java - method reference for setter and getter","body":"<p><strong>A Pojo class:</strong></p>\n<pre><code>package com.lambda.jay;\n\npublic class Person {\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p><strong>Another class for initiating 'Person' objects:</strong></p>\n<pre><code>package com.fi.lambda.jay;\nimport java.util.function.BiConsumer;\nimport java.util.function.Function;\n\npublic class Actor {\n    public &lt;T,R&gt; void printField(T obj, Function&lt;? super T,? extends R&gt; getter1) {\n        System.out.println(getter1.apply(obj).toString());\n    }\n\n    public &lt;T,R&gt; void setField(T obj, R value, BiConsumer&lt;T, R&gt; setter) {\n        setter.accept(obj, value);\n    }\n\n    public static void main(String[] args) {\n        Person person = new Person();\n        Actor actor = new Actor();\n\n        actor.setField(person, &quot;Bob&quot;, Person::setName);// (a,b) -&gt; a.setB(b);\n        actor.printField(person, Person::getName);\n    }\n}\n</code></pre>\n<ol>\n<li>How do we interpret the java lambda used for setter?\n<strong>BiConsumer&lt;T, R&gt;</strong> functional interface has been used for parameter type for <strong>setField</strong> and <strong>Person::setName</strong> was passed as parameter value for the method.\nMy understanding of <strong>BiConsumer&lt;T, R&gt;</strong> is that its a functional interface used to denote the lambda function with two input parameters and no return parameter i.e., (a,b) -&gt; a+b;\nwhere <em>a+b</em> could be any logic(sequence of steps that uses  a and b parameters).\nBut in the above code example BiConsumer&lt;T, R&gt; denotes the lambda function (personObject,nameValue) -&gt; personObject.set(nameValue);</li>\n<li>How do we interpret the java lambda used for getter?\nMy understanding  <strong>Function&lt;T,R&gt;</strong> = (a) -&gt; return math(a);\nWhereas in the above code example <strong>Function&lt;T,R&gt;</strong> = (personObject) -&gt; return personObject.getName();</li>\n</ol>\n<p>Can I get help to understand that above two interpretations please.</p>\n"},{"tags":["java","android","file","android-studio","project"],"answers":[{"tags":[],"owner":{"account_id":11531813,"reputation":740,"user_id":8450534,"display_name":"Deep Lathia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594877984,"creation_date":1594877659,"answer_id":62928095,"question_id":62927867,"body_markdown":"&gt; IML is a module file created by IntelliJ IDEA, an IDE used to develop Java applications. It stores information about a development module, which may be a Java, Plugin, Android, or Maven component; saves the module paths, dependencies, and other settings.\r\n\r\nIn case if an .iml file is not generated on your project, there \r\nare two ways to do that,\r\n\r\nFirst:\r\n1. Go to Android Studio and open your project.\r\n2. Go to Files\r\n3. Select Sync Project with Gradle Files\r\n\r\nSecond:\r\n 1. Close your Android Studio\r\n 2. Go to your root project directory\r\n 3. Delete the .idea folder. If not visible you can check the hidden folders\r\n 4. Import the same project again.\r\n\r\nThis should re-generate your .iml files","title":"android studio not generating iml file?","body":"<blockquote>\n<p>IML is a module file created by IntelliJ IDEA, an IDE used to develop Java applications. It stores information about a development module, which may be a Java, Plugin, Android, or Maven component; saves the module paths, dependencies, and other settings.</p>\n</blockquote>\n<p>In case if an .iml file is not generated on your project, there\nare two ways to do that,</p>\n<p>First:</p>\n<ol>\n<li>Go to Android Studio and open your project.</li>\n<li>Go to Files</li>\n<li>Select Sync Project with Gradle Files</li>\n</ol>\n<p>Second:</p>\n<ol>\n<li>Close your Android Studio</li>\n<li>Go to your root project directory</li>\n<li>Delete the .idea folder. If not visible you can check the hidden folders</li>\n<li>Import the same project again.</li>\n</ol>\n<p>This should re-generate your .iml files</p>\n"},{"tags":[],"owner":{"account_id":3023327,"reputation":94,"user_id":2563847,"display_name":"Chetankumar Akarte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661794559,"creation_date":1661794559,"answer_id":73532607,"question_id":62927867,"body_markdown":"**To generate a new `.iml` file**\r\n\r\n1. You have to delete all the folder starting with the dot(.) like `.idea`, `.dart_tool` and `pubspec.lock` file\r\n\r\n2. The project folder name should be all lowercase, with underscores to separate words, `just_like_this`. \r\n\r\n3. Open your project in the Android Studio from terminal run this command `flutter create --platforms=android .` \r\n\r\n4. This will generate `just_like_this.iml` file for you. If your package name is different then delete a new directory generated in your project file if needed. \r\n\r\n","title":"android studio not generating iml file?","body":"<p><strong>To generate a new <code>.iml</code> file</strong></p>\n<ol>\n<li><p>You have to delete all the folder starting with the dot(.) like <code>.idea</code>, <code>.dart_tool</code> and <code>pubspec.lock</code> file</p>\n</li>\n<li><p>The project folder name should be all lowercase, with underscores to separate words, <code>just_like_this</code>.</p>\n</li>\n<li><p>Open your project in the Android Studio from terminal run this command <code>flutter create --platforms=android .</code></p>\n</li>\n<li><p>This will generate <code>just_like_this.iml</code> file for you. If your package name is different then delete a new directory generated in your project file if needed.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":18973185,"reputation":3,"user_id":13846228,"display_name":"mohitkacha1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661794559,"creation_date":1594876333,"question_id":62927867,"body_markdown":"hi i am android developer and i am getting some problem , usually i do not care about .iml file in project folder but my senior said me that i do not have .iml file in my project . i do not know what the usage of .iml file and how to use it .\r\n\r\nbut the main thing is that android studio is not generating .iml file for my any project . for example in other developers project , if project name is apple than there would be apple.iml in project folder but it is not happening in my case . i have also updated my Android Studio in hope that it would get fix but it didn&#39;t .\r\n\r\nwell , please help me how to fix this problem and also tell me what is the usage of .iml file in android projects ","title":"android studio not generating iml file?","body":"<p>hi i am android developer and i am getting some problem , usually i do not care about .iml file in project folder but my senior said me that i do not have .iml file in my project . i do not know what the usage of .iml file and how to use it .</p>\n<p>but the main thing is that android studio is not generating .iml file for my any project . for example in other developers project , if project name is apple than there would be apple.iml in project folder but it is not happening in my case . i have also updated my Android Studio in hope that it would get fix but it didn't .</p>\n<p>well , please help me how to fix this problem and also tell me what is the usage of .iml file in android projects</p>\n"},{"tags":["java","eclipse","ssl","gitlab","egit"],"answers":[{"tags":[],"owner":{"account_id":12624894,"reputation":165,"user_id":9178956,"display_name":"John Aronson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661794247,"creation_date":1661794247,"answer_id":73532551,"question_id":73532221,"body_markdown":"I found my answer. I had changed eclipse to use jdk 11 instead of the jre 17 that it came with. When I changed eclipse it back to using jdk 17 it worked again. There must be something about gitlab&#39;s git repo and it&#39;s SSL requirements thats requiring the higher java version.","title":"SSL error when access gitlab&#39;s git thru eclipse &quot;... Secure connection to https://gitlab.com/... could not be established because of SSL problems&quot;","body":"<p>I found my answer. I had changed eclipse to use jdk 11 instead of the jre 17 that it came with. When I changed eclipse it back to using jdk 17 it worked again. There must be something about gitlab's git repo and it's SSL requirements thats requiring the higher java version.</p>\n"}],"owner":{"account_id":12624894,"reputation":165,"user_id":9178956,"display_name":"John Aronson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661794247,"creation_date":1661792386,"question_id":73532221,"body_markdown":"Here&#39;s the full eclipse stacktrace\r\n\r\n    org.eclipse.jgit.api.errors.TransportException: https://gitlab.com/reddognetworks/mutts.git: Secure connection to https://gitlab.com/reddognetworks/mutts.git could not be established because of SSL problems\r\n\tat org.eclipse.jgit.api.LsRemoteCommand.execute(LsRemoteCommand.java:192)\r\n\tat org.eclipse.jgit.api.LsRemoteCommand.call(LsRemoteCommand.java:131)\r\n\tat org.eclipse.egit.core.op.ListRemoteOperation.run(ListRemoteOperation.java:116)\r\n\tat org.eclipse.egit.ui.internal.clone.SourceBranchPage$9.run(SourceBranchPage.java:377)\r\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\r\n    Caused by: org.eclipse.jgit.errors.TransportException: https://gitlab.com/reddognetworks/mutts.git: Secure connection to https://gitlab.com/reddognetworks/mutts.git could not be established because of SSL problems\r\n\tat org.eclipse.jgit.transport.TransportHttp.handleSslFailure(TransportHttp.java:831)\r\n\tat org.eclipse.jgit.transport.TransportHttp.connect(TransportHttp.java:732)\r\n\tat org.eclipse.jgit.transport.TransportHttp.openFetch(TransportHttp.java:465)\r\n\tat org.eclipse.jgit.api.LsRemoteCommand.execute(LsRemoteCommand.java:170)\r\n\t... 4 more\r\n    Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:128)\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\r\n\tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:279)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:181)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n\tat org.apache.http.impl.conn.BasicHttpClientConnectionManager.connect(BasicHttpClientConnectionManager.java:313)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat org.eclipse.jgit.transport.http.apache.HttpClientConnection.execute(HttpClientConnection.java:274)\r\n\tat org.eclipse.jgit.transport.http.apache.HttpClientConnection.getResponseCode(HttpClientConnection.java:251)\r\n\tat org.eclipse.jgit.util.HttpSupport.response(HttpSupport.java:205)\r\n\tat org.eclipse.jgit.transport.TransportHttp.connect(TransportHttp.java:654)\r\n\t... 6 more\r\n\r\nI&#39;m using eclipse 2022.06 and Git integration for eclipse 6.0.0 (egit)\r\nI saw other issues with the handshake error message but they were years old and on Java 7 .\r\nI&#39;m using\r\n\r\n    eclipse.buildId=4.24.0.I20220607-0700\r\n    java.version=11\r\n    java.vendor=Oracle Corporation\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\r\n    Framework arguments:  -product org.eclipse.epp.package.jee.product\r\n    Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product\r\n\r\n - I tried setting http.sslVerify=false already. \r\n - I also tried changing\r\n   the HTTP client and the SSL agent in eclipse preferences | git  and\r\n   that didn&#39;t help. \r\n - command line git to gitlab will work \r\n - using egit to github will work too, but not to gitlab \r\n - the last time I connected to\r\n   gitlab successfully thru egit was before I upgraded to eclipse\r\n   2022.06","title":"SSL error when access gitlab&#39;s git thru eclipse &quot;... Secure connection to https://gitlab.com/... could not be established because of SSL problems&quot;","body":"<p>Here's the full eclipse stacktrace</p>\n<pre><code>org.eclipse.jgit.api.errors.TransportException: https://gitlab.com/reddognetworks/mutts.git: Secure connection to https://gitlab.com/reddognetworks/mutts.git could not be established because of SSL problems\nat org.eclipse.jgit.api.LsRemoteCommand.execute(LsRemoteCommand.java:192)\nat org.eclipse.jgit.api.LsRemoteCommand.call(LsRemoteCommand.java:131)\nat org.eclipse.egit.core.op.ListRemoteOperation.run(ListRemoteOperation.java:116)\nat org.eclipse.egit.ui.internal.clone.SourceBranchPage$9.run(SourceBranchPage.java:377)\nat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\nCaused by: org.eclipse.jgit.errors.TransportException: https://gitlab.com/reddognetworks/mutts.git: Secure connection to https://gitlab.com/reddognetworks/mutts.git could not be established because of SSL problems\nat org.eclipse.jgit.transport.TransportHttp.handleSslFailure(TransportHttp.java:831)\nat org.eclipse.jgit.transport.TransportHttp.connect(TransportHttp.java:732)\nat org.eclipse.jgit.transport.TransportHttp.openFetch(TransportHttp.java:465)\nat org.eclipse.jgit.api.LsRemoteCommand.execute(LsRemoteCommand.java:170)\n... 4 more\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:128)\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\nat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:279)\nat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:181)\nat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\nat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\nat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\nat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\nat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\nat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\nat org.apache.http.impl.conn.BasicHttpClientConnectionManager.connect(BasicHttpClientConnectionManager.java:313)\nat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\nat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\nat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\nat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\nat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\nat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\nat org.eclipse.jgit.transport.http.apache.HttpClientConnection.execute(HttpClientConnection.java:274)\nat org.eclipse.jgit.transport.http.apache.HttpClientConnection.getResponseCode(HttpClientConnection.java:251)\nat org.eclipse.jgit.util.HttpSupport.response(HttpSupport.java:205)\nat org.eclipse.jgit.transport.TransportHttp.connect(TransportHttp.java:654)\n... 6 more\n</code></pre>\n<p>I'm using eclipse 2022.06 and Git integration for eclipse 6.0.0 (egit)\nI saw other issues with the handshake error message but they were years old and on Java 7 .\nI'm using</p>\n<pre><code>eclipse.buildId=4.24.0.I20220607-0700\njava.version=11\njava.vendor=Oracle Corporation\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\nFramework arguments:  -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product\n</code></pre>\n<ul>\n<li>I tried setting http.sslVerify=false already.</li>\n<li>I also tried changing\nthe HTTP client and the SSL agent in eclipse preferences | git  and\nthat didn't help.</li>\n<li>command line git to gitlab will work</li>\n<li>using egit to github will work too, but not to gitlab</li>\n<li>the last time I connected to\ngitlab successfully thru egit was before I upgraded to eclipse\n2022.06</li>\n</ul>\n"},{"tags":["java","maven","google-cloud-run"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1661794097,"post_id":73532514,"comment_id":129851129,"body_markdown":"Can you connect at all? For example using telnet or netcat?","body":"Can you connect at all? For example using telnet or netcat?"},{"owner":{"account_id":8701580,"reputation":31,"user_id":6511242,"display_name":"scottynoshotty"},"score":0,"creation_date":1661812852,"post_id":73532514,"comment_id":129856215,"body_markdown":"Total noob here, never used either of those tools. When I hit the url in the browser I get\n\nContent-Type is missing from the request","body":"Total noob here, never used either of those tools. When I hit the url in the browser I get  Content-Type is missing from the request"},{"owner":{"account_id":10486084,"reputation":449,"user_id":7729578,"display_name":"Ben K"},"score":0,"creation_date":1661813016,"post_id":73532514,"comment_id":129856249,"body_markdown":"It looks like you&#39;re trying to connect to port 8080. Did you try port 443 (the standard https port)?","body":"It looks like you&#39;re trying to connect to port 8080. Did you try port 443 (the standard https port)?"},{"owner":{"account_id":23493595,"reputation":471,"user_id":17544309,"display_name":"Osvaldo"},"score":0,"creation_date":1661963868,"post_id":73532514,"comment_id":129898349,"body_markdown":"Does the app run [locally](https://cloud.google.com/run/docs/testing/local), start and it is [listening](https://cloud.google.com/run/docs/container-contract#port) on the declared port? Please, take a look at [error reporting](https://cloud.google.com/run/docs/error-reporting) and share any other one related error.","body":"Does the app run <a href=\"https://cloud.google.com/run/docs/testing/local\" rel=\"nofollow noreferrer\">locally</a>, start and it is <a href=\"https://cloud.google.com/run/docs/container-contract#port\" rel=\"nofollow noreferrer\">listening</a> on the declared port? Please, take a look at <a href=\"https://cloud.google.com/run/docs/error-reporting\" rel=\"nofollow noreferrer\">error reporting</a> and share any other one related error."},{"owner":{"account_id":8701580,"reputation":31,"user_id":6511242,"display_name":"scottynoshotty"},"score":0,"creation_date":1663770719,"post_id":73532514,"comment_id":130318191,"body_markdown":"Note: I was able to successfully ping my service using grpcurl\n\ngrpcurl my-hobby-service-vxkahalqoq-an.a.run.app:8080 list\n----&gt;\nFailed to dial target host &quot;my-hobby-service-vxkahalqoq-an.a.run.app:8080&quot;: context deadline exceeded\n\n\ngrpcurl my-hobby-service-vxkahalqoq-an.a.run.app:443 list\n-----&gt;\ngrpc.health.v1.Health\ngrpc.reflection.v1alpha.ServerReflection\nhelloworld.Greeter\n\nSo apparently the issue was I was trying to ping port 8080 and Google cloud was actually exposing on port 443.","body":"Note: I was able to successfully ping my service using grpcurl  grpcurl my-hobby-service-vxkahalqoq-an.a.run.app:8080 list ----&gt; Failed to dial target host &quot;my-hobby-service-vxkahalqoq-an.a.run.app:8080&quot;: context deadline exceeded   grpcurl my-hobby-service-vxkahalqoq-an.a.run.app:443 list -----&gt; grpc.health.v1.Health grpc.reflection.v1alpha.ServerReflection helloworld.Greeter  So apparently the issue was I was trying to ping port 8080 and Google cloud was actually exposing on port 443."}],"owner":{"account_id":8701580,"reputation":31,"user_id":6511242,"display_name":"scottynoshotty"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661794001,"creation_date":1661794001,"question_id":73532514,"body_markdown":"I have copied a simple grpc java service from this repo.\r\n\r\nhttps://github.com/grpc/grpc-java/tree/master/examples/example-hostname\r\n\r\nI have deployed this service to Google cloud run. I am trying to verify the service is setup correctly. Any grpcurl request sent to the service returns.\r\n\r\nFailed to dial target host &quot;my-hobby-service-vxkahalqoq-an.a.run.app:8080&quot;: context deadline exceeded","title":"grpcurl to Google Cloud Run Java grpc server always returns context deadline exceeded","body":"<p>I have copied a simple grpc java service from this repo.</p>\n<p><a href=\"https://github.com/grpc/grpc-java/tree/master/examples/example-hostname\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/tree/master/examples/example-hostname</a></p>\n<p>I have deployed this service to Google cloud run. I am trying to verify the service is setup correctly. Any grpcurl request sent to the service returns.</p>\n<p>Failed to dial target host &quot;my-hobby-service-vxkahalqoq-an.a.run.app:8080&quot;: context deadline exceeded</p>\n"},{"tags":["java","design-patterns","refactoring"],"answers":[{"tags":[],"owner":{"account_id":12404133,"reputation":208,"user_id":9039919,"display_name":"Luca Scarcia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661528173,"creation_date":1661528173,"answer_id":73503443,"question_id":73503217,"body_markdown":"the simpliest thing it comes to mind is to overload the function:\r\n\r\n    public Object doTheFinalMove(var1, var2) {\r\n        return doTheFinalMove(var1, null, null, var2, null);\r\n    }\r\n\r\nWhere, instead of null you place the values that are correct for your implementation.\r\n\r\nI placed that as public because protected methods are usually ment only for internal use, while public methods are for common use.\r\n\r\nAlso you cannot directly change the overridden method, because it could \r\nbe used inside the parent class or in other applications. That&#39;s why override works only if you use the exact same format (and possibly behave as intended in the main class).","title":"How to reduce the number of variables in the signature of method in child class? Java refactoring","body":"<p>the simpliest thing it comes to mind is to overload the function:</p>\n<pre><code>public Object doTheFinalMove(var1, var2) {\n    return doTheFinalMove(var1, null, null, var2, null);\n}\n</code></pre>\n<p>Where, instead of null you place the values that are correct for your implementation.</p>\n<p>I placed that as public because protected methods are usually ment only for internal use, while public methods are for common use.</p>\n<p>Also you cannot directly change the overridden method, because it could\nbe used inside the parent class or in other applications. That's why override works only if you use the exact same format (and possibly behave as intended in the main class).</p>\n"},{"tags":[],"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661793996,"creation_date":1661534945,"answer_id":73504643,"question_id":73503217,"body_markdown":"As suggested you can overload many form of your method in the abstract.\r\nYou call from the more specific to the less specific in the abstract, then only override the needed method. \r\n\r\n    public abstract class A {\r\n\r\n        public Object aMethod() {\r\n            Integer var1 = calculateVar1();\r\n            String var2 = calculateVar2();\r\n            Boolean var3 = calculateVar3();\r\n            Object var4 = calculateVar4();\r\n            Object var5 = calculateVar5();\r\n\r\n            return doTheFinalMove(var1,\r\n                    var2,\r\n                    var3,\r\n                    var4,\r\n                    var5\r\n            );\r\n        }    \r\n\r\n        protected Object doTheFinalMove(Integer var1,\r\n                                             String var2,\r\n                                             Boolean var3,\r\n                                             Object var4,\r\n                                             Object var5){\r\n             return doTheFinalMove(var1,var2);\r\n        }\r\n\r\n        protected Object doTheFinalMove(Integer var1,\r\n                                             String var2){\r\n            throw new UnsupportedOperationException(&quot;You have to override one of the doTheFinalMove method&quot;);\r\n        }\r\n    \r\n\r\n    }\r\n    \r\n\r\n    public class B extends A {\r\n\r\n        @Override\r\n        protected Object doTheFinalMove(Integer var1,\r\n                                    String var2,\r\n                                    Boolean var3,\r\n                                    Object var4,\r\n                                    Object var5) {\r\n        return doMyStaff(\r\n                var1,\r\n                var2,\r\n                var3,\r\n                var4,\r\n                var5);\r\n         }\r\n    }\r\n\r\n    public class C extends A {\r\n\r\n        @Override\r\n        protected Object doTheFinalMove(Integer var1,\r\n                                    String var2) {\r\n            return doMyStaff(var1, var2);\r\n        }\r\n    }\r\n\r\nIf you want to avoid the exception and force the implementation of the method by the compiler, you may add Abstract levels, but the complexity augmentation is only usefull if you have more than 1 implementation imho (i.e. more than only B and C)\r\n\r\nVariant with 1 more abstraction:\r\n\r\n    public abstract class A {\r\n\r\n        public Object aMethod() {\r\n            Integer var1 = calculateVar1();\r\n            String var2 = calculateVar2();\r\n            Boolean var3 = calculateVar3();\r\n            Object var4 = calculateVar4();\r\n            Object var5 = calculateVar5();\r\n\r\n            return doTheFinalMove(var1,\r\n                    var2,\r\n                    var3,\r\n                    var4,\r\n                    var5\r\n            );\r\n        }    \r\n\r\n        protected Object doTheFinalMove(Integer var1,\r\n                                             String var2,\r\n                                             Boolean var3,\r\n                                             Object var4,\r\n                                             Object var5);\r\n\r\n\r\n\r\n    }\r\n\r\n   public abstract class A2 extends A {\r\n\r\n        protected Object doTheFinalMove(Integer var1,\r\n                                             String var2,\r\n                                             Boolean var3,\r\n                                             Object var4,\r\n                                             Object var5){\r\n             return doTheFinalMove(var1,var2);\r\n        }\r\n\r\n        protected abstract Object doTheFinalMove(Integer var1,\r\n                                             String var2);\r\n    \r\n    }\r\n    // Then C should extends A2 instead of A\r\n    \r\n\r\n","title":"How to reduce the number of variables in the signature of method in child class? Java refactoring","body":"<p>As suggested you can overload many form of your method in the abstract.\nYou call from the more specific to the less specific in the abstract, then only override the needed method.</p>\n<pre><code>public abstract class A {\n\n    public Object aMethod() {\n        Integer var1 = calculateVar1();\n        String var2 = calculateVar2();\n        Boolean var3 = calculateVar3();\n        Object var4 = calculateVar4();\n        Object var5 = calculateVar5();\n\n        return doTheFinalMove(var1,\n                var2,\n                var3,\n                var4,\n                var5\n        );\n    }    \n\n    protected Object doTheFinalMove(Integer var1,\n                                         String var2,\n                                         Boolean var3,\n                                         Object var4,\n                                         Object var5){\n         return doTheFinalMove(var1,var2);\n    }\n\n    protected Object doTheFinalMove(Integer var1,\n                                         String var2){\n        throw new UnsupportedOperationException(&quot;You have to override one of the doTheFinalMove method&quot;);\n    }\n\n\n}\n\n\npublic class B extends A {\n\n    @Override\n    protected Object doTheFinalMove(Integer var1,\n                                String var2,\n                                Boolean var3,\n                                Object var4,\n                                Object var5) {\n    return doMyStaff(\n            var1,\n            var2,\n            var3,\n            var4,\n            var5);\n     }\n}\n\npublic class C extends A {\n\n    @Override\n    protected Object doTheFinalMove(Integer var1,\n                                String var2) {\n        return doMyStaff(var1, var2);\n    }\n}\n</code></pre>\n<p>If you want to avoid the exception and force the implementation of the method by the compiler, you may add Abstract levels, but the complexity augmentation is only usefull if you have more than 1 implementation imho (i.e. more than only B and C)</p>\n<p>Variant with 1 more abstraction:</p>\n<pre><code>public abstract class A {\n\n    public Object aMethod() {\n        Integer var1 = calculateVar1();\n        String var2 = calculateVar2();\n        Boolean var3 = calculateVar3();\n        Object var4 = calculateVar4();\n        Object var5 = calculateVar5();\n\n        return doTheFinalMove(var1,\n                var2,\n                var3,\n                var4,\n                var5\n        );\n    }    \n\n    protected Object doTheFinalMove(Integer var1,\n                                         String var2,\n                                         Boolean var3,\n                                         Object var4,\n                                         Object var5);\n\n\n\n}\n</code></pre>\n<p>public abstract class A2 extends A {</p>\n<pre><code>    protected Object doTheFinalMove(Integer var1,\n                                         String var2,\n                                         Boolean var3,\n                                         Object var4,\n                                         Object var5){\n         return doTheFinalMove(var1,var2);\n    }\n\n    protected abstract Object doTheFinalMove(Integer var1,\n                                         String var2);\n\n}\n// Then C should extends A2 instead of A\n</code></pre>\n"}],"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73504643,"answer_count":2,"score":0,"last_activity_date":1661793996,"creation_date":1661526994,"question_id":73503217,"body_markdown":"I have an abstract class `A` which does the main work, and also there are classes `B` and `C` which extend class A and implements the method doTheFinalMove().\r\n\r\n    public abstract class A {\r\n    \r\n        public Object aMethod() {\r\n            Integer var1 = calculateVar1();\r\n            String var2 = calculateVar2();\r\n            Boolean var3 = calculateVar3();\r\n            Object var4 = calculateVar4();\r\n            Object var5 = calculateVar5();\r\n    \r\n            return doTheFinalMove(var1,\r\n                    var2,\r\n                    var3,\r\n                    var4,\r\n                    var5\r\n            );\r\n        }\r\n    \r\n        protected abstract Object doTheFinalMove(Integer var1,\r\n                                                 String var2,\r\n                                                 Boolean var3,\r\n                                                 Object var4,\r\n                                                 Object var5);\r\n    \r\n    }\r\n\r\n    public class B extends A {\r\n    \r\n        @Override\r\n        protected Object doTheFinalMove(Integer var1,\r\n                                        String var2,\r\n                                        Boolean var3,\r\n                                        Object var4,\r\n                                        Object var5) {\r\n            return doMyStaff(\r\n                    var1,\r\n                    var2,\r\n                    var3,\r\n                    var4,\r\n                    var5);\r\n        }\r\n    }\r\n\r\n    public class C extends A {\r\n    \r\n        @Override\r\n        protected Object doTheFinalMove(Integer var1,\r\n                                        String var2,\r\n                                        Boolean var3,\r\n                                        Object var4,\r\n                                        Object var5) {\r\n            return doMyStaff(var1, var2);\r\n        }\r\n    }\r\n\r\nSo, class `C` unlike class `B` needs only two of the five variables to do its job, but in order to keep the inheritance of the class `A`, I should use all the five variables in the signature of `doTheFinalMove()` in `A` and `C` classes. I would like to refactor this code in the way that class `C` keep in its signature only those variables that it really needs (var1 and var2). I want to avoid using `Object... args` stuff, so I thought about wrapping these variables into an Object(I mean some inheritance like BasicParams and ExtendedParams) and then using an AbstractFactory or smth like that, but I don&#39;t know how to do it properly.\r\nI would be grateful for any advice.","title":"How to reduce the number of variables in the signature of method in child class? Java refactoring","body":"<p>I have an abstract class <code>A</code> which does the main work, and also there are classes <code>B</code> and <code>C</code> which extend class A and implements the method doTheFinalMove().</p>\n<pre><code>public abstract class A {\n\n    public Object aMethod() {\n        Integer var1 = calculateVar1();\n        String var2 = calculateVar2();\n        Boolean var3 = calculateVar3();\n        Object var4 = calculateVar4();\n        Object var5 = calculateVar5();\n\n        return doTheFinalMove(var1,\n                var2,\n                var3,\n                var4,\n                var5\n        );\n    }\n\n    protected abstract Object doTheFinalMove(Integer var1,\n                                             String var2,\n                                             Boolean var3,\n                                             Object var4,\n                                             Object var5);\n\n}\n\npublic class B extends A {\n\n    @Override\n    protected Object doTheFinalMove(Integer var1,\n                                    String var2,\n                                    Boolean var3,\n                                    Object var4,\n                                    Object var5) {\n        return doMyStaff(\n                var1,\n                var2,\n                var3,\n                var4,\n                var5);\n    }\n}\n\npublic class C extends A {\n\n    @Override\n    protected Object doTheFinalMove(Integer var1,\n                                    String var2,\n                                    Boolean var3,\n                                    Object var4,\n                                    Object var5) {\n        return doMyStaff(var1, var2);\n    }\n}\n</code></pre>\n<p>So, class <code>C</code> unlike class <code>B</code> needs only two of the five variables to do its job, but in order to keep the inheritance of the class <code>A</code>, I should use all the five variables in the signature of <code>doTheFinalMove()</code> in <code>A</code> and <code>C</code> classes. I would like to refactor this code in the way that class <code>C</code> keep in its signature only those variables that it really needs (var1 and var2). I want to avoid using <code>Object... args</code> stuff, so I thought about wrapping these variables into an Object(I mean some inheritance like BasicParams and ExtendedParams) and then using an AbstractFactory or smth like that, but I don't know how to do it properly.\nI would be grateful for any advice.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8918,"page":1074,"page_size":100}
