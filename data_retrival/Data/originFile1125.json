{"items":[{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1660033345,"post_id":73282795,"comment_id":129430818,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":25868371,"reputation":1,"user_id":19599620,"display_name":"RAndroid"},"score":0,"creation_date":1660047437,"post_id":73282795,"comment_id":129435765,"body_markdown":"@AlexMamo Image is picked from the gallery. After clicking on the send button its getting uploaded in the firebase but that image is not going to user chat room and not getting displayed.","body":"@AlexMamo Image is picked from the gallery. After clicking on the send button its getting uploaded in the firebase but that image is not going to user chat room and not getting displayed."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1660050063,"post_id":73282795,"comment_id":129436834,"body_markdown":"Are you using the correct URL?","body":"Are you using the correct URL?"},{"owner":{"account_id":25868371,"reputation":1,"user_id":19599620,"display_name":"RAndroid"},"score":0,"creation_date":1660055639,"post_id":73282795,"comment_id":129439301,"body_markdown":"@AlexMamo Yes it&#39;s the same.","body":"@AlexMamo Yes it&#39;s the same."}],"owner":{"account_id":25868371,"reputation":1,"user_id":19599620,"display_name":"RAndroid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659985187,"creation_date":1659985090,"question_id":73282795,"body_markdown":"I created the chat application where I&#39;m trying to share the media, Its not appearing the chat room. But its getting saved in the firebase with the url in the database.\r\n\r\nCan anyone help me to figure out this.\r\n\r\n\r\n\r\n     if (task.isSuccessful()) {\r\n        Uri downloadUri = task.getResult();\r\n\r\n        Calendar cdate = Calendar.getInstance();\r\n        SimpleDateFormat currentdate = new SimpleDateFormat(&quot;dd-MMMM-yyyy&quot;);\r\n        final String savedate = currentdate.format(cdate.getTime());\r\n\r\n        Calendar ctime = Calendar.getInstance();\r\n        SimpleDateFormat currenttime = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n        final String savetime = currenttime.format(ctime.getTime());\r\n\r\n        String timeStamp = savedate + &quot; &quot; + savetime;\r\n\r\n        messages.setMessage(downloadUri.toString());\r\n        messages.setSenderID(sender_uid);\r\n        messages.setReceiverID(receiver_uid);\r\n        messages.setType(&quot;image&quot;);\r\n        messages.setTimeStamp(timeStamp);\r\n\r\n        String id = rootRef1.push().getKey();\r\n        rootRef1.child(id).setValue(messages);\r\n\r\n        String id1 = rootRef2.push().getKey();\r\n        rootRef2.child(id1).setValue(messages);\r\n        progressBar.setVisibility(View.INVISIBLE);\r\n        textView.setVisibility(View.INVISIBLE);\r\n    }","title":"Shared Image is not visible in chat room","body":"<p>I created the chat application where I'm trying to share the media, Its not appearing the chat room. But its getting saved in the firebase with the url in the database.</p>\n<p>Can anyone help me to figure out this.</p>\n<pre><code> if (task.isSuccessful()) {\n    Uri downloadUri = task.getResult();\n\n    Calendar cdate = Calendar.getInstance();\n    SimpleDateFormat currentdate = new SimpleDateFormat(&quot;dd-MMMM-yyyy&quot;);\n    final String savedate = currentdate.format(cdate.getTime());\n\n    Calendar ctime = Calendar.getInstance();\n    SimpleDateFormat currenttime = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n    final String savetime = currenttime.format(ctime.getTime());\n\n    String timeStamp = savedate + &quot; &quot; + savetime;\n\n    messages.setMessage(downloadUri.toString());\n    messages.setSenderID(sender_uid);\n    messages.setReceiverID(receiver_uid);\n    messages.setType(&quot;image&quot;);\n    messages.setTimeStamp(timeStamp);\n\n    String id = rootRef1.push().getKey();\n    rootRef1.child(id).setValue(messages);\n\n    String id1 = rootRef2.push().getKey();\n    rootRef2.child(id1).setValue(messages);\n    progressBar.setVisibility(View.INVISIBLE);\n    textView.setVisibility(View.INVISIBLE);\n}\n</code></pre>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1659468081,"post_id":73212509,"comment_id":129300741,"body_markdown":"The reason the list is present but empty, is because it&#39;s initialized as an empty `ArrayList` and never changed.  See https://stackoverflow.com/a/43353867/1180351 for an answer (the one I expected myself).","body":"The reason the list is present but empty, is because it&#39;s initialized as an empty <code>ArrayList</code> and never changed.  See <a href=\"https://stackoverflow.com/a/43353867/1180351\">stackoverflow.com/a/43353867/1180351</a> for an answer (the one I expected myself)."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1659468111,"post_id":73212509,"comment_id":129300749,"body_markdown":"Does this answer your question? [Set null to target using mastruct](https://stackoverflow.com/questions/43347620/set-null-to-target-using-mastruct)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43347620/set-null-to-target-using-mastruct\">Set null to target using mastruct</a>"},{"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"score":0,"creation_date":1659469287,"post_id":73212509,"comment_id":129301118,"body_markdown":"sorry i updated my attempts, yes before posting i did tried with expression = &quot;java(null)&quot; but that doesnt worked","body":"sorry i updated my attempts, yes before posting i did tried with expression = &quot;java(null)&quot; but that doesnt worked"},{"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"score":0,"creation_date":1659469590,"post_id":73212509,"comment_id":129301224,"body_markdown":"classDestination  .setInstructions( null ); the generated class assigning  null but it retuns empty list","body":"classDestination  .setInstructions( null ); the generated class assigning  null but it retuns empty list"},{"owner":{"account_id":3161095,"reputation":76,"user_id":2672193,"display_name":"frenky"},"score":0,"creation_date":1659478854,"post_id":73212509,"comment_id":129303743,"body_markdown":"You can ignore property in MapStrcut by using `ignore = true` in the `@Mapping` annotation, for example `@Mapping(target = &quot;instructions&quot;, ignore = true)`.\nMapStruct will [generate](https://gist.github.com/fpecek/0b3c20a27b9f95f52994acaccf130142) method that doesn&#39;t set instructions field. The problem here is that instructions list is always initialized, as Rob Spoor already pointed out, and when MapStruct creating new instance of ClassDestination object, it will have list already initialized.","body":"You can ignore property in MapStrcut by using <code>ignore = true</code> in the <code>@Mapping</code> annotation, for example <code>@Mapping(target = &quot;instructions&quot;, ignore = true)</code>. MapStruct will <a href=\"https://gist.github.com/fpecek/0b3c20a27b9f95f52994acaccf130142\" rel=\"nofollow noreferrer\">generate</a> method that doesn&#39;t set instructions field. The problem here is that instructions list is always initialized, as Rob Spoor already pointed out, and when MapStruct creating new instance of ClassDestination object, it will have list already initialized."},{"owner":{"account_id":3161095,"reputation":76,"user_id":2672193,"display_name":"frenky"},"score":0,"creation_date":1659479068,"post_id":73212509,"comment_id":129303798,"body_markdown":"You can try without default initialization, only `private List&lt;Instructions&gt; instructions;` and then add `@JsonInclude(Include.NON_NULL)` on field or if you never want to serialize this field, you can use `@JsonIgnore` on field.","body":"You can try without default initialization, only <code>private List&lt;Instructions&gt; instructions;</code> and then add <code>@JsonInclude(Include.NON_NULL)</code> on field or if you never want to serialize this field, you can use <code>@JsonIgnore</code> on field."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659985139,"creation_date":1659985139,"answer_id":73282801,"question_id":73212509,"body_markdown":"As others suggest to you, you obtain an empty list instead of null because it is initialized as a new ArrayList in the ClassDestination.\r\n\r\nIf you don&#39;t want to remove the initialization from ClassDestination, but still want a null value, maybe you can try:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot; ,  unmappedTargetPolicy = ReportingPolicy.WARN)\r\n    public interface PersonMapper {\r\n\r\n        @Mapping(target = &quot;instructions&quot;, ignore = true)\r\n        ClassDestination  map(ClassSource source);\r\n    \r\n        @AfterMapping\r\n        default void setNullValue(ClassSource source, @MappingTarget ClassDestination destination) {        \r\n            destination.setInstructions(null); \r\n        }\r\n    \r\n    }\r\n\r\n","title":"how can we ignore the collections in MapStructs target response","body":"<p>As others suggest to you, you obtain an empty list instead of null because it is initialized as a new ArrayList in the ClassDestination.</p>\n<p>If you don't want to remove the initialization from ClassDestination, but still want a null value, maybe you can try:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot; ,  unmappedTargetPolicy = ReportingPolicy.WARN)\npublic interface PersonMapper {\n\n    @Mapping(target = &quot;instructions&quot;, ignore = true)\n    ClassDestination  map(ClassSource source);\n\n    @AfterMapping\n    default void setNullValue(ClassSource source, @MappingTarget ClassDestination destination) {        \n        destination.setInstructions(null); \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659985139,"creation_date":1659466934,"question_id":73212509,"body_markdown":"how can we ignore the collections in target response.\r\n\r\n    public class ClassSource{\r\n      private int id;\r\n    }\r\n    \r\n    \r\n    Destination :\r\n    \r\n     public class ClassDestination {\r\n      private int id;\r\n      @JsonProperty(&quot;instructions&quot;)\r\n      @Valid\r\n      private List&lt;Instructions&gt; instructions = new ArrayList&lt;&gt;();\r\n    }\r\n    \r\n    \r\nin Target want to ignore instructions list completely in the result but its returning empty array...how can we ignore the collections. \r\n    \r\n    Output :\r\n     &quot;id&quot;: &quot;1245&quot;,\r\n     &quot;instructions&quot;: []\r\n    \r\n    expecting output like,\r\n    Output :\r\n     &quot;id&quot;: &quot;1245&quot;\r\n    \r\n\r\n    @Mapper(componentModel = &quot;spring&quot; ,  unmappedTargetPolicy = ReportingPolicy.WARN)\r\n\r\n     public interface PersonMapper {\r\n      @Mapping(target = &quot;instructions, expression = &quot;java(null)&quot;&quot;)\r\n     ClassDestination  map(ClassSource source);\r\n    }\r\n    \r\n    attempt2:\r\n    \r\n    public interface PersonMapper {\r\n      @Mapping(target = &quot;instructions, igonore =true&quot;)\r\n     ClassDestination  map(ClassSource source);\r\n    }\r\n\r\n","title":"how can we ignore the collections in MapStructs target response","body":"<p>how can we ignore the collections in target response.</p>\n<pre><code>public class ClassSource{\n  private int id;\n}\n\n\nDestination :\n\n public class ClassDestination {\n  private int id;\n  @JsonProperty(&quot;instructions&quot;)\n  @Valid\n  private List&lt;Instructions&gt; instructions = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>in Target want to ignore instructions list completely in the result but its returning empty array...how can we ignore the collections.</p>\n<pre><code>Output :\n &quot;id&quot;: &quot;1245&quot;,\n &quot;instructions&quot;: []\n\nexpecting output like,\nOutput :\n &quot;id&quot;: &quot;1245&quot;\n\n\n@Mapper(componentModel = &quot;spring&quot; ,  unmappedTargetPolicy = ReportingPolicy.WARN)\n\n public interface PersonMapper {\n  @Mapping(target = &quot;instructions, expression = &quot;java(null)&quot;&quot;)\n ClassDestination  map(ClassSource source);\n}\n\nattempt2:\n\npublic interface PersonMapper {\n  @Mapping(target = &quot;instructions, igonore =true&quot;)\n ClassDestination  map(ClassSource source);\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1533032392,"creation_date":1533032392,"answer_id":51611069,"question_id":51608371,"body_markdown":"You shouldn&#39;t mix `@Value` and `@ConfigurationProperties` in the same class. If you want to have default values in a `@ConfigurationProperties`-annotated class, you can configure the fields with a default value:\r\n\r\n    @ConfigurationProperties(&quot;foo&quot;)\r\n    public class FooConfig {\r\n\r\n        private Integer iterations = 999;\r\n\r\n        // getter / setter\r\n\r\n    }\r\n\r\nThis change brings with it the added benefit of including the default value in the metadata that&#39;s generated by `spring-boot-configuration-processor`. The metadata is used by your IDE to provide auto-completion when you&#39;re editing `application.properties` and `application.yaml` files.\r\n\r\nLastly, and not directly related to your problem, a `@ConfigurationProperties`-annotated class should not be annotated with `@Configuration`. An `@Configuration`-annotated class is used to configure beans via `@Bean` methods. Your `FooConfig` class should either be annotated with `@Component` or you should use `@EnableConfigurationProperties(FooConfig.class)` on the `@Configuration` class that wants to use `FooConfig`.","title":"@ConfigurationProperties: Default value in bound class","body":"<p>You shouldn't mix <code>@Value</code> and <code>@ConfigurationProperties</code> in the same class. If you want to have default values in a <code>@ConfigurationProperties</code>-annotated class, you can configure the fields with a default value:</p>\n\n<pre><code>@ConfigurationProperties(\"foo\")\npublic class FooConfig {\n\n    private Integer iterations = 999;\n\n    // getter / setter\n\n}\n</code></pre>\n\n<p>This change brings with it the added benefit of including the default value in the metadata that's generated by <code>spring-boot-configuration-processor</code>. The metadata is used by your IDE to provide auto-completion when you're editing <code>application.properties</code> and <code>application.yaml</code> files.</p>\n\n<p>Lastly, and not directly related to your problem, a <code>@ConfigurationProperties</code>-annotated class should not be annotated with <code>@Configuration</code>. An <code>@Configuration</code>-annotated class is used to configure beans via <code>@Bean</code> methods. Your <code>FooConfig</code> class should either be annotated with <code>@Component</code> or you should use <code>@EnableConfigurationProperties(FooConfig.class)</code> on the <code>@Configuration</code> class that wants to use <code>FooConfig</code>.</p>\n"},{"tags":[],"owner":{"account_id":937794,"reputation":29,"user_id":8064920,"display_name":"Ian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605737077,"creation_date":1605730086,"answer_id":64900592,"question_id":51608371,"body_markdown":"Put default values in the `resources/application.yml` \r\nThen you can override them by supplying an external `application.yml` (outside packaged jar) file.","title":"@ConfigurationProperties: Default value in bound class","body":"<p>Put default values in the <code>resources/application.yml</code>\nThen you can override them by supplying an external <code>application.yml</code> (outside packaged jar) file.</p>\n"}],"owner":{"account_id":466701,"reputation":3379,"user_id":871611,"accept_rate":80,"display_name":"user871611"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54756,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":2,"score":32,"last_activity_date":1659985096,"creation_date":1533024222,"question_id":51608371,"body_markdown":"I have a config class `FooConfig`, in which i have a bound class &#39;Foo&#39;.\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(&quot;foo&quot;)\r\n    public class FooConfig {\r\n    \r\n      @Value(&quot;${foo.default.iterations}&quot;)\r\n      private Integer iterations;\r\n    \r\n      private Foo foo;\r\n    \r\n      // getter / setter\r\n    \r\n    }\r\n\r\nIn my class `Foo` I want the iterations-variable set with an existing default configuration-value, when not explicitly set in the properties-file.\r\n\r\n    public class Foo {\r\n    \r\n      private String name;\r\n    \r\n      @Value(&quot;${foo.default.iterations}&quot;)\r\n      private Integer iterations;\r\n    \r\n      // getter / setter\r\n    \r\n    }\r\n\r\n\r\nMy properties file\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    foo.default.iterations=999\r\n    \r\n    # if this is set this config is bound (wins) in FooConfig-class as expected\r\n    # foo.iterations=111\r\n    \r\n    foo.foo.name=foo\r\n\r\nSetting a default value in `FooConfig` works, but not in my bound class `Foo`. \r\n \r\nWhat am I missing here?\r\n\r\n","title":"@ConfigurationProperties: Default value in bound class","body":"<p>I have a config class <code>FooConfig</code>, in which i have a bound class 'Foo'.</p>\n<pre><code>@Configuration\n@ConfigurationProperties(&quot;foo&quot;)\npublic class FooConfig {\n\n  @Value(&quot;${foo.default.iterations}&quot;)\n  private Integer iterations;\n\n  private Foo foo;\n\n  // getter / setter\n\n}\n</code></pre>\n<p>In my class <code>Foo</code> I want the iterations-variable set with an existing default configuration-value, when not explicitly set in the properties-file.</p>\n<pre><code>public class Foo {\n\n  private String name;\n\n  @Value(&quot;${foo.default.iterations}&quot;)\n  private Integer iterations;\n\n  // getter / setter\n\n}\n</code></pre>\n<p>My properties file</p>\n<pre class=\"lang-none prettyprint-override\"><code>foo.default.iterations=999\n\n# if this is set this config is bound (wins) in FooConfig-class as expected\n# foo.iterations=111\n\nfoo.foo.name=foo\n</code></pre>\n<p>Setting a default value in <code>FooConfig</code> works, but not in my bound class <code>Foo</code>.</p>\n<p>What am I missing here?</p>\n"},{"tags":["java","postgresql","jpa","criteria"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659981385,"post_id":73282159,"comment_id":129419732,"body_markdown":"create your own postresql  function which won&#39;t require &#39;as varchar()&#39; tail  and call it","body":"create your own postresql  function which won&#39;t require &#39;as varchar()&#39; tail  and call it"},{"owner":{"account_id":7853217,"reputation":533,"user_id":5936192,"display_name":"HaroldH"},"score":0,"creation_date":1659981442,"post_id":73282159,"comment_id":129419753,"body_markdown":"You may need to implement a custom Dialect for postgres, registering the standard cast function. This would not require a PostgreSQL function in the database but only a new class registered against your application","body":"You may need to implement a custom Dialect for postgres, registering the standard cast function. This would not require a PostgreSQL function in the database but only a new class registered against your application"},{"owner":{"account_id":7853217,"reputation":533,"user_id":5936192,"display_name":"HaroldH"},"score":0,"creation_date":1659981705,"post_id":73282159,"comment_id":129419849,"body_markdown":"I just noticed you want to run a &quot;like&quot; against an UUID - think twice if that&#39;s what you want to achieve, as it makes no sense I think unless you have a very awkward business requirement and UUID generator (so they are not UUID&#39;s really)","body":"I just noticed you want to run a &quot;like&quot; against an UUID - think twice if that&#39;s what you want to achieve, as it makes no sense I think unless you have a very awkward business requirement and UUID generator (so they are not UUID&#39;s really)"},{"owner":{"account_id":9439337,"reputation":464,"user_id":7020354,"display_name":"Purport Tees"},"score":0,"creation_date":1659983358,"post_id":73282159,"comment_id":129420408,"body_markdown":"@AndreyB.Panfilov it&#39;s a possible solution. But I think that the project CTO will not like this approach.","body":"@AndreyB.Panfilov it&#39;s a possible solution. But I think that the project CTO will not like this approach."},{"owner":{"account_id":9439337,"reputation":464,"user_id":7020354,"display_name":"Purport Tees"},"score":0,"creation_date":1659983507,"post_id":73282159,"comment_id":129420463,"body_markdown":"Thanks @HaroldH. I was investigating this option, together with possibility to create a custom function as suggested by @@Andrey. But I found a workaround. I will post the solution. Thank you all for the help.","body":"Thanks @HaroldH. I was investigating this option, together with possibility to create a custom function as suggested by @@Andrey. But I found a workaround. I will post the solution. Thank you all for the help."},{"owner":{"account_id":9439337,"reputation":464,"user_id":7020354,"display_name":"Purport Tees"},"score":0,"creation_date":1659983720,"post_id":73282159,"comment_id":129420525,"body_markdown":"@HaroldH You are right. It&#39;s very crazy to do LIKE in a UUID. But it&#39;s a project requirement. We are doing a new system to replace a previous one and they said that users do a lot of filtering by parts of the UUID. Crazy, but they want.","body":"@HaroldH You are right. It&#39;s very crazy to do LIKE in a UUID. But it&#39;s a project requirement. We are doing a new system to replace a previous one and they said that users do a lot of filtering by parts of the UUID. Crazy, but they want."},{"owner":{"account_id":1383892,"reputation":879,"user_id":1316324,"accept_rate":50,"display_name":"Alexander Palamarchuk"},"score":0,"creation_date":1661424654,"post_id":73282159,"comment_id":129771841,"body_markdown":"Sounds like your managers completely miss the point of what UUID is made for. But anyways, if you need to implement substring search on this attribute, just store it as varchar. If you can&#39;t change the original column, just add it as an extra (copy) one.","body":"Sounds like your managers completely miss the point of what UUID is made for. But anyways, if you need to implement substring search on this attribute, just store it as varchar. If you can&#39;t change the original column, just add it as an extra (copy) one."}],"answers":[{"tags":[],"owner":{"account_id":9439337,"reputation":464,"user_id":7020354,"display_name":"Purport Tees"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659984649,"creation_date":1659984649,"answer_id":73282722,"question_id":73282159,"body_markdown":"After investigating some possible solutions (I&#39;m avoiding to create custom database routines) I found something interesting in a answer from another question:\r\n\r\n&gt; Currently JPA does not have APIs for replace() and cast(string as numeric). But you can use CriteriaBuilder.function(...) to create database native functions if database portability is not critical.\r\n\r\nSource: https://stackoverflow.com/questions/52069928/jpa-criteria-builder-how-to-replace-and-cast-a-string-to-numeric-in-order-by\r\n\r\nI don&#39;t know if this is documented is some place, but assuming that there is no way to call `CAST(x AS y)` using Criteria, I tried a workaround to force the `UUID` to `VARCHAR` cast without using the probably unsupported `CAST` function.\r\n\r\nI tested this direct SQL query to database:\r\n```\r\nSELECT * FROM my_table WHERE concat(uuid, &#39;&#39;) like &#39;%123%&#39;;\r\n```\r\n\r\nAnd it works. This `CONCAT` forces the cast to `VARCHAR` and the `LIKE` function does his job. Knowing this, I did:\r\n```\r\nfinal Path&lt;UUID&gt; uuidField = from.get(&quot;uuid&quot;);\r\nvar cast = cb.function(&quot;concat&quot;, String.class, uuidField, cb.literal(&quot;&quot;));\r\ncb.like(cast, String.format(&quot;%%%s%%&quot;, stringValue));\r\n```\r\n\r\nWorked perfectly. I hope this help someone else.\r\n\r\nAs @HaroldH said, it&#39;s a weird requirement, but happened in my project.\r\n ","title":"Criteria JPA - Call Postgres CAST function","body":"<p>After investigating some possible solutions (I'm avoiding to create custom database routines) I found something interesting in a answer from another question:</p>\n<blockquote>\n<p>Currently JPA does not have APIs for replace() and cast(string as numeric). But you can use CriteriaBuilder.function(...) to create database native functions if database portability is not critical.</p>\n</blockquote>\n<p>Source: <a href=\"https://stackoverflow.com/questions/52069928/jpa-criteria-builder-how-to-replace-and-cast-a-string-to-numeric-in-order-by\">JPA criteria builder: how to replace and cast a string to numeric in order-by?</a></p>\n<p>I don't know if this is documented is some place, but assuming that there is no way to call <code>CAST(x AS y)</code> using Criteria, I tried a workaround to force the <code>UUID</code> to <code>VARCHAR</code> cast without using the probably unsupported <code>CAST</code> function.</p>\n<p>I tested this direct SQL query to database:</p>\n<pre><code>SELECT * FROM my_table WHERE concat(uuid, '') like '%123%';\n</code></pre>\n<p>And it works. This <code>CONCAT</code> forces the cast to <code>VARCHAR</code> and the <code>LIKE</code> function does his job. Knowing this, I did:</p>\n<pre><code>final Path&lt;UUID&gt; uuidField = from.get(&quot;uuid&quot;);\nvar cast = cb.function(&quot;concat&quot;, String.class, uuidField, cb.literal(&quot;&quot;));\ncb.like(cast, String.format(&quot;%%%s%%&quot;, stringValue));\n</code></pre>\n<p>Worked perfectly. I hope this help someone else.</p>\n<p>As @HaroldH said, it's a weird requirement, but happened in my project.</p>\n"}],"owner":{"account_id":9439337,"reputation":464,"user_id":7020354,"display_name":"Purport Tees"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1053,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659984649,"creation_date":1659981192,"question_id":73282159,"body_markdown":"I&#39;m trying to call a Postgres function with Criteria but it&#39;s not working. I need to use the `LIKE` clause in a UUID field, so I need to convert into `VARCHAR` first.\r\n\r\nThe result I need:\r\n```sql\r\nSELECT * FROM my_table WHERE cast(uuid as varchar(36)) like &#39;%1234%&#39;;\r\n```\r\n\r\nWhat I&#39;m doing in Criteria:\r\n```java\r\nfinal Path&lt;UUID&gt; uuidField = from.get(&quot;uuid&quot;);\r\nvar cast = cb.function(&quot;cast&quot;, String.class, uuidField, cb.literal(&quot;as varchar(36)&quot;));\r\ncb.like(cast, String.format(&quot;%%%s%%&quot;, stringValue));\r\n```\r\n\r\nThe query which is being generated:\r\n```\r\nHQL: select generatedAlias0 from com.MyTable as generatedAlias0 where function(&#39;cast&#39;, generatedAlias0.uuid, &#39;as varchar(36)&#39;) like &#39;%1234%&#39; order by generatedAlias0.name asc\r\n```\r\n\r\nError:\r\n```\r\n2022-08-08 18:38:48,549 WARN  [io.ver.cor.imp.BlockedThreadChecker] (vertx-blocked-thread-checker) Thread Thread[vert.x-eventloop-thread-9,5,main] has been blocked for 2393 ms, time limit is 2000 ms: io.vertx.core.VertxException: Thread blocked\r\n\tat antlr.ASTFactory.make(ASTFactory.java:342)\r\n\tat antlr.ASTFactory.make(ASTFactory.java:352)\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.jpaFunctionSyntax(HqlBaseParser.java:4633)\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1075)\r\n```\r\n\r\nThe log is not so clear (I&#39;m using Quarkus + Hibernate Reactive), but I suspect it crashed in database because the `function(&#39;cast&#39;, generatedAlias0.uuid, &#39;as varchar(36)&#39;)`.\r\n\r\nI think it should be something like: `function(&#39;cast&#39;, generatedAlias0.uuid, as varchar(36))` (without quotes). But I don&#39;t know how to achieve this result to test my theory.\r\n\r\nHow can I call this `CAST` function?","title":"Criteria JPA - Call Postgres CAST function","body":"<p>I'm trying to call a Postgres function with Criteria but it's not working. I need to use the <code>LIKE</code> clause in a UUID field, so I need to convert into <code>VARCHAR</code> first.</p>\n<p>The result I need:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM my_table WHERE cast(uuid as varchar(36)) like '%1234%';\n</code></pre>\n<p>What I'm doing in Criteria:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Path&lt;UUID&gt; uuidField = from.get(&quot;uuid&quot;);\nvar cast = cb.function(&quot;cast&quot;, String.class, uuidField, cb.literal(&quot;as varchar(36)&quot;));\ncb.like(cast, String.format(&quot;%%%s%%&quot;, stringValue));\n</code></pre>\n<p>The query which is being generated:</p>\n<pre><code>HQL: select generatedAlias0 from com.MyTable as generatedAlias0 where function('cast', generatedAlias0.uuid, 'as varchar(36)') like '%1234%' order by generatedAlias0.name asc\n</code></pre>\n<p>Error:</p>\n<pre><code>2022-08-08 18:38:48,549 WARN  [io.ver.cor.imp.BlockedThreadChecker] (vertx-blocked-thread-checker) Thread Thread[vert.x-eventloop-thread-9,5,main] has been blocked for 2393 ms, time limit is 2000 ms: io.vertx.core.VertxException: Thread blocked\n    at antlr.ASTFactory.make(ASTFactory.java:342)\n    at antlr.ASTFactory.make(ASTFactory.java:352)\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.jpaFunctionSyntax(HqlBaseParser.java:4633)\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1075)\n</code></pre>\n<p>The log is not so clear (I'm using Quarkus + Hibernate Reactive), but I suspect it crashed in database because the <code>function('cast', generatedAlias0.uuid, 'as varchar(36)')</code>.</p>\n<p>I think it should be something like: <code>function('cast', generatedAlias0.uuid, as varchar(36))</code> (without quotes). But I don't know how to achieve this result to test my theory.</p>\n<p>How can I call this <code>CAST</code> function?</p>\n"},{"tags":["java","netbeans","netbeans-platform","netbeans-plugins"],"answers":[{"tags":[],"owner":{"account_id":11312373,"reputation":271,"user_id":8295173,"display_name":"Mehdi Varse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1573445348,"creation_date":1573445348,"answer_id":58795438,"question_id":56280662,"body_markdown":"after adding DiffView to the panel, call below code to resolve the problem\r\n\r\n    panel.revalidate();\r\n    \r\n    //or\r\n    panel.repaint();","title":"Trying to add a DiffView to a JPanel","body":"<p>after adding DiffView to the panel, call below code to resolve the problem</p>\n\n<pre><code>panel.revalidate();\n\n//or\npanel.repaint();\n</code></pre>\n"}],"owner":{"display_name":"user9341636"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58795438,"answer_count":1,"score":0,"last_activity_date":1659983640,"creation_date":1558634357,"question_id":56280662,"body_markdown":"I&#39;m developing an application based on netbeans platform, and I&#39;m reusing the diff component. I have the next code: \r\n```\r\npanel = new javax.swing.JPanel();\r\npanel.setLayout(new java.awt.BorderLayout());\r\nDiffView view = Diff.getDefault().createDiff(original, processed);\r\npanel.add(view.getComponent(), BorderLayout.CENTER);\r\n```\r\n\r\nBut the Diff component its not added to the panel. If I add another panel instead of the Diff component it works. At the same time if I use the next code:\r\n```\r\nDiffView view = Diff.getDefault().createDiff(original, processed);\r\nTopComponent tc = new TopComponent();\r\ntc.setDisplayName(&quot;Diff Viewer&quot;);\r\ntc.setLayout(new BorderLayout());\r\ntc.add(view.getComponent(), BorderLayout.CENTER);\r\ntc.open();\r\ntc.requestActive();\r\n```\r\nIt works but shows the component in another window, which its not what I want to do.\r\n\r\nWhat is wrong with my code and how can I add the Diff component to the panel?","title":"Trying to add a DiffView to a JPanel","body":"<p>I'm developing an application based on netbeans platform, and I'm reusing the diff component. I have the next code:</p>\n<pre><code>panel = new javax.swing.JPanel();\npanel.setLayout(new java.awt.BorderLayout());\nDiffView view = Diff.getDefault().createDiff(original, processed);\npanel.add(view.getComponent(), BorderLayout.CENTER);\n</code></pre>\n<p>But the Diff component its not added to the panel. If I add another panel instead of the Diff component it works. At the same time if I use the next code:</p>\n<pre><code>DiffView view = Diff.getDefault().createDiff(original, processed);\nTopComponent tc = new TopComponent();\ntc.setDisplayName(&quot;Diff Viewer&quot;);\ntc.setLayout(new BorderLayout());\ntc.add(view.getComponent(), BorderLayout.CENTER);\ntc.open();\ntc.requestActive();\n</code></pre>\n<p>It works but shows the component in another window, which its not what I want to do.</p>\n<p>What is wrong with my code and how can I add the Diff component to the panel?</p>\n"},{"tags":["java","netbeans","glassfish"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1659983961,"post_id":73282538,"comment_id":129420583,"body_markdown":"Notice the Java versions in the [documentation](https://glassfish.org/). It looks like it wasn&#39;t until GlassFish 6.2.2 that it became at least somewhat compatible with Java 18 (at least early-access versions). Your version of GlassFish (6.2.1) is only compatible with Java 11 to 17 (not 18). Either downgrade Java to 17 (which is an LTS version), or upgrade GlassFish (the latest appears to be 6.2.5).","body":"Notice the Java versions in the <a href=\"https://glassfish.org/\" rel=\"nofollow noreferrer\">documentation</a>. It looks like it wasn&#39;t until GlassFish 6.2.2 that it became at least somewhat compatible with Java 18 (at least early-access versions). Your version of GlassFish (6.2.1) is only compatible with Java 11 to 17 (not 18). Either downgrade Java to 17 (which is an LTS version), or upgrade GlassFish (the latest appears to be 6.2.5)."},{"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"score":0,"creation_date":1659984523,"post_id":73282538,"comment_id":129420751,"body_markdown":"downgrade? Do you mean install jdk 11 to 17?","body":"downgrade? Do you mean install jdk 11 to 17?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1659987617,"post_id":73282538,"comment_id":129421803,"body_markdown":"No, I mean install one of Java 11, 12, 13, 14, 15, 16, or 17. Preferably 17, as it&#39;s the latest LTS release. But Java 11 is also an LTS release. Note LTS stands for &quot;long term service&quot;.","body":"No, I mean install one of Java 11, 12, 13, 14, 15, 16, or 17. Preferably 17, as it&#39;s the latest LTS release. But Java 11 is also an LTS release. Note LTS stands for &quot;long term service&quot;."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1660008524,"post_id":73282538,"comment_id":129425987,"body_markdown":"NetBeans 14 running with JDK 17 and GlassFish 6.1.0 is definitely a working combination. See [this answer](https://stackoverflow.com/a/72795916/2985643) to [Cannot add Glassfish server to Netbeans IDE 14](https://stackoverflow.com/q/72793527/2985643). Since Java 18 was released on 3/2/22, it&#39;s unwise and unreasonable to expect GlassFish versions released prior to that date to support JDK 18.","body":"NetBeans 14 running with JDK 17 and GlassFish 6.1.0 is definitely a working combination. See <a href=\"https://stackoverflow.com/a/72795916/2985643\">this answer</a> to <a href=\"https://stackoverflow.com/q/72793527/2985643\">Cannot add Glassfish server to Netbeans IDE 14</a>. Since Java 18 was released on 3/2/22, it&#39;s unwise and unreasonable to expect GlassFish versions released prior to that date to support JDK 18."},{"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"score":0,"creation_date":1660055439,"post_id":73282538,"comment_id":129439224,"body_markdown":"Yes after installing jdk 17 and setting it as default it worked.","body":"Yes after installing jdk 17 and setting it as default it worked."}],"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659983390,"creation_date":1659983390,"question_id":73282538,"body_markdown":"I&#39;m trying to make a web application in the netbeans ide, after writing my code and running the project I get the error &quot;Glassfish server could not be started with JDK 18 (Default). Please select another Java SE platform&quot;. Should I install another version of java? Which version of java should I install? Or what should I do to solve this error","title":"Start Glassfish 6.2.1 in netbeans 14 with jdk 18","body":"<p>I'm trying to make a web application in the netbeans ide, after writing my code and running the project I get the error &quot;Glassfish server could not be started with JDK 18 (Default). Please select another Java SE platform&quot;. Should I install another version of java? Which version of java should I install? Or what should I do to solve this error</p>\n"},{"tags":["java","rest","reddit","redditkit","reddit-access-token"],"comments":[{"owner":{"account_id":2458401,"reputation":729,"user_id":2143023,"accept_rate":11,"display_name":"Yosefarr"},"score":0,"creation_date":1563792275,"post_id":57143291,"comment_id":100803641,"body_markdown":"i cannot find it , can you tell?","body":"i cannot find it , can you tell?"},{"owner":{"account_id":6154133,"reputation":643,"user_id":4797662,"accept_rate":80,"display_name":"Ishank Gulati"},"score":0,"creation_date":1563792828,"post_id":57143291,"comment_id":100803942,"body_markdown":"Please try these steps:\nhttps://www.reddit.com/r/redditdev/comments/9li6le/reddit_api_how_do_i_authenticate_trying_to_do/","body":"Please try these steps: <a href=\"https://www.reddit.com/r/redditdev/comments/9li6le/reddit_api_how_do_i_authenticate_trying_to_do/\" rel=\"nofollow noreferrer\">reddit.com/r/redditdev/comments/9li6le/&hellip;</a>"},{"owner":{"account_id":2458401,"reputation":729,"user_id":2143023,"accept_rate":11,"display_name":"Yosefarr"},"score":0,"creation_date":1563793266,"post_id":57143291,"comment_id":100804181,"body_markdown":"Already did the same but still getting:{&quot;error&quot;: {&quot;message&quot;: &quot;This account is not allowed to use the API.&quot;}}","body":"Already did the same but still getting:{&quot;error&quot;: {&quot;message&quot;: &quot;This account is not allowed to use the API.&quot;}}"},{"owner":{"account_id":2458401,"reputation":729,"user_id":2143023,"accept_rate":11,"display_name":"Yosefarr"},"score":0,"creation_date":1564036615,"post_id":57143291,"comment_id":100900015,"body_markdown":"To use the Ads API do i need to register to &quot;Reddit API Terms of Use&quot;at https://docs.google.com/forms/d/e/1FAIpQLSezNdDNK1-P8mspSbmtC2r86Ee9ZRbC66u929cG2GX0T9UMyw/viewform  ?\nif yes , how much time will take Reddit to approve my registration and start using the API ?","body":"To use the Ads API do i need to register to &quot;Reddit API Terms of Use&quot;at <a href=\"https://docs.google.com/forms/d/e/1FAIpQLSezNdDNK1-P8mspSbmtC2r86Ee9ZRbC66u929cG2GX0T9UMyw/viewform\" rel=\"nofollow noreferrer\">docs.google.com/forms/d/e/&hellip;</a>  ? if yes , how much time will take Reddit to approve my registration and start using the API ?"}],"answers":[{"tags":[],"owner":{"account_id":21479055,"reputation":11,"user_id":15826780,"display_name":"Pavan3196 M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659983309,"creation_date":1659983309,"answer_id":73282524,"question_id":57143291,"body_markdown":"In my case, I have reached out to the Reddit sales rep, who had white-listed my Reddit account. here both the user account and the ads accounts need to be whitelisted","title":"Reddit get ads report API","body":"<p>In my case, I have reached out to the Reddit sales rep, who had white-listed my Reddit account. here both the user account and the ads accounts need to be whitelisted</p>\n"}],"owner":{"account_id":2458401,"reputation":729,"user_id":2143023,"accept_rate":11,"display_name":"Yosefarr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659983309,"creation_date":1563788804,"question_id":57143291,"body_markdown":"I&#39;m trying to get the report for an account from Reddit using their ads API.\r\n\r\nI did the authentication process according to: https://ads-api.reddit.com/docs/#section/Authentication\r\n\r\nWhen I invoked the report API, https://ads-api.reddit.com/api/v2.0/accounts/t2_3nkpasz3/reports?start_date=2019-07-16&amp;end_date=2019-07-22&amp;group_by=date, I got the error:\r\n\r\n```json\r\n\r\n{\r\n  &quot;error&quot;: {\r\n    &quot;message&quot;: &quot;This account is not allowed to use the API.&quot;\r\n  }\r\n}\r\n```\r\n\r\nThe reporting API documents can be found in https://ads-api.reddit.com/docs/#tag/Reporting\r\n\r\nHow can I fix this problem?\r\n","title":"Reddit get ads report API","body":"<p>I'm trying to get the report for an account from Reddit using their ads API.</p>\n\n<p>I did the authentication process according to: <a href=\"https://ads-api.reddit.com/docs/#section/Authentication\" rel=\"nofollow noreferrer\">https://ads-api.reddit.com/docs/#section/Authentication</a></p>\n\n<p>When I invoked the report API, <a href=\"https://ads-api.reddit.com/api/v2.0/accounts/t2_3nkpasz3/reports?start_date=2019-07-16&amp;end_date=2019-07-22&amp;group_by=date\" rel=\"nofollow noreferrer\">https://ads-api.reddit.com/api/v2.0/accounts/t2_3nkpasz3/reports?start_date=2019-07-16&amp;end_date=2019-07-22&amp;group_by=date</a>, I got the error:</p>\n\n<pre><code>\n{\n  \"error\": {\n    \"message\": \"This account is not allowed to use the API.\"\n  }\n}\n</code></pre>\n\n<p>The reporting API documents can be found in <a href=\"https://ads-api.reddit.com/docs/#tag/Reporting\" rel=\"nofollow noreferrer\">https://ads-api.reddit.com/docs/#tag/Reporting</a></p>\n\n<p>How can I fix this problem?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1659962006,"post_id":73277906,"comment_id":129412246,"body_markdown":"Sort the input. Iterate backwards through the sorted input. The first triple you find is the greatest.","body":"Sort the input. Iterate backwards through the sorted input. The first triple you find is the greatest."},{"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"score":0,"creation_date":1659962193,"post_id":73277906,"comment_id":129412323,"body_markdown":"It doesn&#39;t seem they are allowed to sort the array, as the triplets are ordered. Can you clarify, OP?","body":"It doesn&#39;t seem they are allowed to sort the array, as the triplets are ordered. Can you clarify, OP?"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1659962259,"post_id":73277906,"comment_id":129412353,"body_markdown":"@ElliottFrisch, if sorted the middle element positions will change, so sorting is not allowed for my task.","body":"@ElliottFrisch, if sorted the middle element positions will change, so sorting is not allowed for my task."},{"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"score":0,"creation_date":1659972423,"post_id":73277906,"comment_id":129416470,"body_markdown":"Is there repetition, or is the list a permutation of the integers from 1 to 10^5?","body":"Is there repetition, or is the list a permutation of the integers from 1 to 10^5?"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1659974863,"post_id":73277906,"comment_id":129417511,"body_markdown":"@Dave, repetitions are allowed for my input list","body":"@Dave, repetitions are allowed for my input list"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1660134335,"post_id":73277906,"comment_id":129460357,"body_markdown":"@learner Did our answers work?","body":"@learner Did our answers work?"}],"answers":[{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659962526,"creation_date":1659962526,"answer_id":73278075,"question_id":73277906,"body_markdown":"Instead of using multiple for loops use single for loop and a HashMap to keep the modulo results for each position and with that you can do the same thing with O(n) time complexity ","title":"Find maximum triplet in an array","body":"<p>Instead of using multiple for loops use single for loop and a HashMap to keep the modulo results for each position and with that you can do the same thing with O(n) time complexity</p>\n"},{"tags":[],"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659977769,"creation_date":1659968052,"answer_id":73279310,"question_id":73277906,"body_markdown":"`c % b = 0` and `b % a = 0` means `a` is the lowest factor OR a possible GCD of both `b` and `c`. However, since we need to find the maximum greatest value of the middle element, we will take a different route. \r\n\r\n* We put all the elements of the array in the hashMap with a boolean falsy value by default. \r\n\r\n* For each element in `arr`, we check with all it&#39;s factors by iterating till square root of this number.\r\n\r\n* If any of the factor exists already in the map, we perform one more check as to whether this factor has a factor of it&#39;s own present in the array. This way, the current factor at hand makes it the _middle element_ of the triplet. \r\n\r\n* We keep taking maximum of those and return the answer. We return `-1` if no such triplet exists.\r\n\r\n**Snippet:**\r\n\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n          int[] arr = { 1,2,6,4,105,111,1024};\r\n          System.out.println(solve(arr));\r\n      }\r\n      \r\n      private static int solve(int[] arr){\r\n        Map&lt;Integer,Boolean&gt; map = new HashMap&lt;&gt;();\r\n        int max = -1;\r\n        for(int i = 0 ; i &lt; arr.length; ++i){\r\n          boolean factorExists = false;\r\n          \r\n          for(int j = 1; j * j &lt;= arr[i]; ++j){\r\n            if(arr[i] % j == 0 &amp;&amp; map.getOrDefault(j, false)){\r\n              max = Math.max(max, j);\r\n            }\r\n            \r\n            int cousin = arr[i] / j;\r\n            if(arr[i] % j == 0 &amp;&amp; arr[i] % cousin == 0 &amp;&amp; map.getOrDefault(cousin, false)){\r\n              max = Math.max(max, cousin);\r\n            }\r\n            \r\n            factorExists = factorExists || arr[i] % j == 0 &amp;&amp; map.containsKey(j) || arr[i] % j == 0 &amp;&amp; arr[i] % cousin == 0 &amp;&amp; map.containsKey(cousin);\r\n          }\r\n          \r\n          map.putIfAbsent(arr[i], false);\r\n          map.put(arr[i], map.get(arr[i]) || factorExists);\r\n        }\r\n        \r\n        return max;\r\n      }\r\n    }\r\n\r\n\r\n[**Online Demo**](https://onecompiler.com/java/3yce4f4jz)\r\n\r\n**Time Complexity:** O(n&lt;sup&gt;1.5&lt;/sup&gt;) since we walk through till square root of each element.\r\n\r\n\r\n**Space Complexity:** O(n) since we store all the elements of the array in the map.\r\n","title":"Find maximum triplet in an array","body":"<p><code>c % b = 0</code> and <code>b % a = 0</code> means <code>a</code> is the lowest factor OR a possible GCD of both <code>b</code> and <code>c</code>. However, since we need to find the maximum greatest value of the middle element, we will take a different route.</p>\n<ul>\n<li><p>We put all the elements of the array in the hashMap with a boolean falsy value by default.</p>\n</li>\n<li><p>For each element in <code>arr</code>, we check with all it's factors by iterating till square root of this number.</p>\n</li>\n<li><p>If any of the factor exists already in the map, we perform one more check as to whether this factor has a factor of it's own present in the array. This way, the current factor at hand makes it the <em>middle element</em> of the triplet.</p>\n</li>\n<li><p>We keep taking maximum of those and return the answer. We return <code>-1</code> if no such triplet exists.</p>\n</li>\n</ul>\n<p><strong>Snippet:</strong></p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n      int[] arr = { 1,2,6,4,105,111,1024};\n      System.out.println(solve(arr));\n  }\n  \n  private static int solve(int[] arr){\n    Map&lt;Integer,Boolean&gt; map = new HashMap&lt;&gt;();\n    int max = -1;\n    for(int i = 0 ; i &lt; arr.length; ++i){\n      boolean factorExists = false;\n      \n      for(int j = 1; j * j &lt;= arr[i]; ++j){\n        if(arr[i] % j == 0 &amp;&amp; map.getOrDefault(j, false)){\n          max = Math.max(max, j);\n        }\n        \n        int cousin = arr[i] / j;\n        if(arr[i] % j == 0 &amp;&amp; arr[i] % cousin == 0 &amp;&amp; map.getOrDefault(cousin, false)){\n          max = Math.max(max, cousin);\n        }\n        \n        factorExists = factorExists || arr[i] % j == 0 &amp;&amp; map.containsKey(j) || arr[i] % j == 0 &amp;&amp; arr[i] % cousin == 0 &amp;&amp; map.containsKey(cousin);\n      }\n      \n      map.putIfAbsent(arr[i], false);\n      map.put(arr[i], map.get(arr[i]) || factorExists);\n    }\n    \n    return max;\n  }\n}\n</code></pre>\n<p><a href=\"https://onecompiler.com/java/3yce4f4jz\" rel=\"nofollow noreferrer\"><strong>Online Demo</strong></a></p>\n<p><strong>Time Complexity:</strong> O(n<sup>1.5</sup>) since we walk through till square root of each element.</p>\n<p><strong>Space Complexity:</strong> O(n) since we store all the elements of the array in the map.</p>\n"},{"tags":[],"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659983119,"creation_date":1659983119,"answer_id":73282495,"question_id":73277906,"body_markdown":"Here is a more efficient approach based on what @nice_dev already did.  The improvement is to create a table of factors instead of checking up to the square root of each number.\r\n\r\nIf you have `n` numbers of size at most `m`, this approach is `O((n+m) log(m))`.\r\n\r\n    def find_max_mid(numbers):\r\n        # Find all potential factors.\r\n        max_n = max(numbers)\r\n        factors = {}\r\n        saw_n = set()\r\n        for n in numbers:\r\n            if n not in saw_n:\r\n                for m in range(n, max_n+1, n):\r\n                    if m in factors:\r\n                        factors[m].append(n)\r\n                    else:\r\n                        factors[m] = [n]\r\n                saw_n.add(n)\r\n    \r\n        max_mid = -1\r\n        has_factor = set()\r\n        saw_n = set() # Reset\r\n    \r\n        for n in numbers:\r\n            for f in factors[n]:\r\n                if f in saw_n:\r\n                    if max_mid &lt; f and f in has_factor:\r\n                        max_mid = f\r\n                    has_factor.add(n)\r\n            saw_n.add(n)\r\n    \r\n        return max_mid\r\n    \r\n    \r\n    print(find_max_mid([1,2,6,4,105,111,1024]))\r\n    print(find_max_mid([3,9,27,32,64]))\r\n    print(find_max_mid([1,2,3]))\r\n    \r\n    print(find_max_mid(list(range(1, 100000))))","title":"Find maximum triplet in an array","body":"<p>Here is a more efficient approach based on what @nice_dev already did.  The improvement is to create a table of factors instead of checking up to the square root of each number.</p>\n<p>If you have <code>n</code> numbers of size at most <code>m</code>, this approach is <code>O((n+m) log(m))</code>.</p>\n<pre><code>def find_max_mid(numbers):\n    # Find all potential factors.\n    max_n = max(numbers)\n    factors = {}\n    saw_n = set()\n    for n in numbers:\n        if n not in saw_n:\n            for m in range(n, max_n+1, n):\n                if m in factors:\n                    factors[m].append(n)\n                else:\n                    factors[m] = [n]\n            saw_n.add(n)\n\n    max_mid = -1\n    has_factor = set()\n    saw_n = set() # Reset\n\n    for n in numbers:\n        for f in factors[n]:\n            if f in saw_n:\n                if max_mid &lt; f and f in has_factor:\n                    max_mid = f\n                has_factor.add(n)\n        saw_n.add(n)\n\n    return max_mid\n\n\nprint(find_max_mid([1,2,6,4,105,111,1024]))\nprint(find_max_mid([3,9,27,32,64]))\nprint(find_max_mid([1,2,3]))\n\nprint(find_max_mid(list(range(1, 100000))))\n</code></pre>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":3,"score":0,"last_activity_date":1659983119,"creation_date":1659961810,"question_id":73277906,"body_markdown":"I have an array of numbers `[1,2,6,4,105,111,1024]` I want to check all possible triplets `a,b,c` such that `b%a ==0 and c%b ==0`. For such triplets get the middle element b. Now I want to return the maximum possible b for such triplets.\r\n\r\nFor this array the valid triplets are :\r\n\r\nindices:\r\n\r\n    (0,1,2) = middle item = 2\r\n    (0,1,3) = middle item = 2\r\n    (0,1,6) = middle item = 2\r\n    (0,3,6) = middle item = 4\r\n    (1,3,6) = middle item = 4\r\n\r\nSo the maximum value is 4 is the answer.\r\n\r\nHere is my code:\r\n\r\n    int process(List&lt;Integer&gt; list) {\r\n       int n = list.size();\r\n       int max = -1;\r\n       for(int i=0; i&lt;n-2; i++) {\r\n    \tint a = list.get(i);\r\n    \tboolean valid = true;\r\n    \tfor(int j=i+1; j&lt;n-1; j++) {\r\n    \t\tint b = list.get(j);\r\n    \t\tvalid = b % a == 0;\r\n    \t\tfor(int k=j+1; valid &amp;&amp; k&lt;n; k++) {\r\n    \t\t\tint c = list.get(k);\r\n    \t\t\tif(c % b ==0) {\r\n    \t\t\t\tmax = Math.max(max, b);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \treturn max;\r\n    }\r\n\r\nHow to reduce the time complexity for this code.\r\n\r\n**constraints:**\r\n\r\nsize of the input list is 1 to 10^5.\r\nEach element in the list is also 1 to 10^5\r\nRepetitions are allowed for input elements.","title":"Find maximum triplet in an array","body":"<p>I have an array of numbers <code>[1,2,6,4,105,111,1024]</code> I want to check all possible triplets <code>a,b,c</code> such that <code>b%a ==0 and c%b ==0</code>. For such triplets get the middle element b. Now I want to return the maximum possible b for such triplets.</p>\n<p>For this array the valid triplets are :</p>\n<p>indices:</p>\n<pre><code>(0,1,2) = middle item = 2\n(0,1,3) = middle item = 2\n(0,1,6) = middle item = 2\n(0,3,6) = middle item = 4\n(1,3,6) = middle item = 4\n</code></pre>\n<p>So the maximum value is 4 is the answer.</p>\n<p>Here is my code:</p>\n<pre><code>int process(List&lt;Integer&gt; list) {\n   int n = list.size();\n   int max = -1;\n   for(int i=0; i&lt;n-2; i++) {\n    int a = list.get(i);\n    boolean valid = true;\n    for(int j=i+1; j&lt;n-1; j++) {\n        int b = list.get(j);\n        valid = b % a == 0;\n        for(int k=j+1; valid &amp;&amp; k&lt;n; k++) {\n            int c = list.get(k);\n            if(c % b ==0) {\n                max = Math.max(max, b);\n            }\n        }\n    }\n    return max;\n}\n</code></pre>\n<p>How to reduce the time complexity for this code.</p>\n<p><strong>constraints:</strong></p>\n<p>size of the input list is 1 to 10^5.\nEach element in the list is also 1 to 10^5\nRepetitions are allowed for input elements.</p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":25539720,"reputation":446,"user_id":19326039,"display_name":"Nikolay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659982981,"creation_date":1659982981,"answer_id":73282470,"question_id":73282192,"body_markdown":"You are configuring the reactor, but not executing it.\r\n\r\nIf this is the end of the reactive part, you can change it to\r\n\r\n```\r\nreturn shift.map(u-&gt; { \r\n   System.out.println(&quot;gets to here&quot;);\r\n\r\n   if(u.getId()!=null){\r\n      return u.getId()\r\n   }\r\n\r\n   return null;\r\n\r\n   })\r\n   .block();\r\n```\r\n\r\nOtherwise, consider changing the return type of the method to `Mono&lt;String&gt;`","title":"Function block not getting called in webflux?","body":"<p>You are configuring the reactor, but not executing it.</p>\n<p>If this is the end of the reactive part, you can change it to</p>\n<pre><code>return shift.map(u-&gt; { \n   System.out.println(&quot;gets to here&quot;);\n\n   if(u.getId()!=null){\n      return u.getId()\n   }\n\n   return null;\n\n   })\n   .block();\n</code></pre>\n<p>Otherwise, consider changing the return type of the method to <code>Mono&lt;String&gt;</code></p>\n"}],"owner":{"account_id":15906218,"reputation":83,"user_id":11477360,"display_name":"Hassan Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73282470,"answer_count":1,"score":0,"last_activity_date":1659982981,"creation_date":1659981406,"question_id":73282192,"body_markdown":"I am trying to map through a mono and return a value from its field but that block is not getting called for some reason? I am trying to return a string from the method, I wonder if that is where I am going wrong and if it should be something else?\r\n\r\n```\r\npublic String function getId(String name, Flux&lt;Shift&gt; shifts){\r\nMono&lt;Shift&gt; shift= shifts.filter(s-&gt; s.getName().equals(name)).singleOrEmpty();\r\n\r\nshift.map(u-&gt; { \r\n   System.out.println(&quot;gets to here&quot;);\r\n\r\n   if(u.getId()!=null){\r\n      return u.getId()\r\n   }\r\n\r\n   return null;\r\n\r\n   })\r\n\r\nreturn null;\r\n}\r\n\r\n```\r\nI dont see the print statement which means that bit of the code is not reached. Any help would be appreciated...\r\n","title":"Function block not getting called in webflux?","body":"<p>I am trying to map through a mono and return a value from its field but that block is not getting called for some reason? I am trying to return a string from the method, I wonder if that is where I am going wrong and if it should be something else?</p>\n<pre><code>public String function getId(String name, Flux&lt;Shift&gt; shifts){\nMono&lt;Shift&gt; shift= shifts.filter(s-&gt; s.getName().equals(name)).singleOrEmpty();\n\nshift.map(u-&gt; { \n   System.out.println(&quot;gets to here&quot;);\n\n   if(u.getId()!=null){\n      return u.getId()\n   }\n\n   return null;\n\n   })\n\nreturn null;\n}\n\n</code></pre>\n<p>I dont see the print statement which means that bit of the code is not reached. Any help would be appreciated...</p>\n"},{"tags":["java","multithreading","jdbc","resultset"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1589269216,"post_id":61744853,"comment_id":109218172,"body_markdown":"ResultSets are not threadsafe (the data structure holds one item at a time).  Why is the serial solution not fast enough?","body":"ResultSets are not threadsafe (the data structure holds one item at a time).  Why is the serial solution not fast enough?"},{"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"score":0,"creation_date":1589271975,"post_id":61744853,"comment_id":109219445,"body_markdown":"Inside each thread we are calling webservices where we are passing the values from resultset one at a time and we have applied certain validations also which is getting checked for each record.So i think thats why it is taking time. Can i use Listof Hashmap instead of ResultSet and pass it to the Thread as argument , will it be thread safe then??","body":"Inside each thread we are calling webservices where we are passing the values from resultset one at a time and we have applied certain validations also which is getting checked for each record.So i think thats why it is taking time. Can i use Listof Hashmap instead of ResultSet and pass it to the Thread as argument , will it be thread safe then??"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1589273170,"post_id":61744853,"comment_id":109220110,"body_markdown":"I would strongly suggest you use a profiler to understand where time is spent.","body":"I would strongly suggest you use a profiler to understand where time is spent."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1589288758,"post_id":61744853,"comment_id":109228742,"body_markdown":"@Thorbj&#248;rnRavnAndersen JDBC requires that result sets are thread safe, it is just that without external synchronization, the operations on a result set might not make sense and be one big race condition (eg one thread trying to process a row, while another thread calls `rs.next()`, so the first thread sees parts of the original and the next row).","body":"@Thorbj&#248;rnRavnAndersen JDBC requires that result sets are thread safe, it is just that without external synchronization, the operations on a result set might not make sense and be one big race condition (eg one thread trying to process a row, while another thread calls <code>rs.next()</code>, so the first thread sees parts of the original and the next row)."},{"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"score":0,"creation_date":1589291066,"post_id":61744853,"comment_id":109230216,"body_markdown":"@Mark Rotteveel Thanks for the detailed explaination. So you are saying with each while loop iteration when rs.next() is getting executed it reflects in all th thread as we are sharing the same object of ResultSet so all threads might start seeing the same data.Please correct me if my understanding is wrong","body":"@Mark Rotteveel Thanks for the detailed explaination. So you are saying with each while loop iteration when rs.next() is getting executed it reflects in all th thread as we are sharing the same object of ResultSet so all threads might start seeing the same data.Please correct me if my understanding is wrong"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1589304636,"post_id":61744853,"comment_id":109238827,"body_markdown":"Yes, you will need to extract the data in a single thread, and then push the extracted data to the worker-threads .Also, consider carefully if using multiple threads will actually speed up processing, in a lot of cases, single-threaded processing is simpler, and using multiple threads will not always speed things up.","body":"Yes, you will need to extract the data in a single thread, and then push the extracted data to the worker-threads .Also, consider carefully if using multiple threads will actually speed up processing, in a lot of cases, single-threaded processing is simpler, and using multiple threads will not always speed things up."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1589354016,"post_id":61744853,"comment_id":109256522,"body_markdown":"@MarkRotteveel I am aware that the ResultSet alters atomically and in that sense is thread safe, but the problem is not that, but that a single ResultSet cannot be used simultaneously in multiple threads like OP would like to due to its design.","body":"@MarkRotteveel I am aware that the ResultSet alters atomically and in that sense is thread safe, but the problem is not that, but that a single ResultSet cannot be used simultaneously in multiple threads like OP would like to due to its design."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1589354103,"post_id":61744853,"comment_id":109256562,"body_markdown":"@ManishKumar I still strongly recommend that you get actual numbers on where the time is spent.  You might be able to optimize in a different way than you expect, when you know.","body":"@ManishKumar I still strongly recommend that you get actual numbers on where the time is spent.  You might be able to optimize in a different way than you expect, when you know."},{"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"score":0,"creation_date":1589374459,"post_id":61744853,"comment_id":109267705,"body_markdown":"@Thorbj&#248;rn Ravn Andersen,@Mark Rotteveel Instead of using ResultSet i have copy pasted the resultset data to ListOfHashMap and then passed each object to the Task assigned.Now it is taliking less time but is there any other way of doing it. Please let me know.","body":"@Thorbj&#248;rn Ravn Andersen,@Mark Rotteveel Instead of using ResultSet i have copy pasted the resultset data to ListOfHashMap and then passed each object to the Task assigned.Now it is taliking less time but is there any other way of doing it. Please let me know."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1589391382,"post_id":61744853,"comment_id":109278382,"body_markdown":"Where did the profiler tell you the time was spent?","body":"Where did the profiler tell you the time was spent?"}],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589264341,"creation_date":1589264341,"answer_id":61745042,"question_id":61744853,"body_markdown":"you are calling `rs.next` outside the worker threads, so they all process the same record. additionally, you are iterating on the result set outside the worker threads, so they all process just one record? . \r\n\r\nhere&#39;s what you should do:\r\n \r\n 1. execute the select statement into a `RowSet` . unlike `ResultSet`, `RowSet` can be disconnected from the SQL connection, allowing you freedom to iterate over the set several times. `RowSet` is also serializeable, allowing it to be passed over networks.\r\n\r\n 1. for each woring thread, you determine its working &#39;shard&#39;: if you have 1000 records to process and 3 working threads, than thread #1 will process records 0-333, thread #2 will process records 334-666 and so on. \r\n\r\n 1. Pass the `RowSet` to the working threads with respective shard (start and end indices). each thread will iterate and skip until start index, and process the records of its shard.\r\n\r\nTo get you started, Here is the official tutorial on `RowSet` from Oracle documentation. https://docs.oracle.com/javase/tutorial/jdbc/basics/rowset.html","title":"Multiple threads processing same record of ResultSet","body":"<p>you are calling <code>rs.next</code> outside the worker threads, so they all process the same record. additionally, you are iterating on the result set outside the worker threads, so they all process just one record? . </p>\n\n<p>here's what you should do:</p>\n\n<ol>\n<li><p>execute the select statement into a <code>RowSet</code> . unlike <code>ResultSet</code>, <code>RowSet</code> can be disconnected from the SQL connection, allowing you freedom to iterate over the set several times. <code>RowSet</code> is also serializeable, allowing it to be passed over networks.</p></li>\n<li><p>for each woring thread, you determine its working 'shard': if you have 1000 records to process and 3 working threads, than thread #1 will process records 0-333, thread #2 will process records 334-666 and so on. </p></li>\n<li><p>Pass the <code>RowSet</code> to the working threads with respective shard (start and end indices). each thread will iterate and skip until start index, and process the records of its shard.</p></li>\n</ol>\n\n<p>To get you started, Here is the official tutorial on <code>RowSet</code> from Oracle documentation. <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/rowset.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/jdbc/basics/rowset.html</a></p>\n"},{"tags":[],"owner":{"account_id":15005641,"reputation":1,"user_id":19720488,"display_name":"santosh kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659981913,"creation_date":1659981882,"answer_id":73282262,"question_id":61744853,"body_markdown":"    while(rs.next()) {\r\n     var1= rs.getblob(); \r\n     var2 = rs.getstring(); \r\n     es.execute(() -&gt;{ \r\n         print var1; \r\n         print var2; \r\n         calllogic();\r\n     }); \r\n    }\r\n     rs.close(); \r\n     st.close(); \r\n     es.shutdown();\r\n\r\n","title":"Multiple threads processing same record of ResultSet","body":"<pre><code>while(rs.next()) {\n var1= rs.getblob(); \n var2 = rs.getstring(); \n es.execute(() -&gt;{ \n     print var1; \n     print var2; \n     calllogic();\n }); \n}\n rs.close(); \n st.close(); \n es.shutdown();\n</code></pre>\n"}],"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1964,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1659981913,"creation_date":1589263386,"question_id":61744853,"body_markdown":"I have to process almost 40k records and pass them to my webservice to push data.Without using Multithreading it is working fine but is taking too much of time which is not acceptable. I am trying to apply multithreading here but the issue is that i can see in the logger that multiple threads are processing same record of resultset(even though i am passing it after doing resultset.next)\r\n\r\nI am new to Java Multithreading any help will be appreciated.\r\n\r\nThis is the thread creation and job assingning  part.\r\n\r\n     ExecutorService exservice =Executors.newFixedThreadPool(3);\r\n          \r\n                   \r\n           while(rs.next()){\r\n             \r\n            exservice.execute(new EmployeeThread(rs,userservice,logger));\r\n       \r\n             }\r\n       \r\n        exservice.shutdown(); ","title":"Multiple threads processing same record of ResultSet","body":"<p>I have to process almost 40k records and pass them to my webservice to push data.Without using Multithreading it is working fine but is taking too much of time which is not acceptable. I am trying to apply multithreading here but the issue is that i can see in the logger that multiple threads are processing same record of resultset(even though i am passing it after doing resultset.next)</p>\n\n<p>I am new to Java Multithreading any help will be appreciated.</p>\n\n<p>This is the thread creation and job assingning  part.</p>\n\n<pre><code> ExecutorService exservice =Executors.newFixedThreadPool(3);\n\n\n       while(rs.next()){\n\n        exservice.execute(new EmployeeThread(rs,userservice,logger));\n\n         }\n\n    exservice.shutdown(); \n</code></pre>\n"},{"tags":["java","deserialization","objectmapper"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1659981544,"post_id":73282199,"comment_id":129419792,"body_markdown":"Deserialize it like normal and the filter the resulting list. No sense in adding complexity to the former.","body":"Deserialize it like normal and the filter the resulting list. No sense in adding complexity to the former."},{"owner":{"account_id":22432343,"reputation":23,"user_id":16638017,"display_name":"xuxu"},"score":0,"creation_date":1659981828,"post_id":73282199,"comment_id":129419882,"body_markdown":"I know but I want to ignore null value and don&#39;t allow it to map to Student object if it is null due to personal reason.","body":"I know but I want to ignore null value and don&#39;t allow it to map to Student object if it is null due to personal reason."},{"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"score":0,"creation_date":1659982234,"post_id":73282199,"comment_id":129420008,"body_markdown":"the feature in jackson to omit null values is just for serialisation, for deserialisation there is no such feature, you have to filter the list after reading","body":"the feature in jackson to omit null values is just for serialisation, for deserialisation there is no such feature, you have to filter the list after reading"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659982963,"post_id":73282199,"comment_id":129420267,"body_markdown":"If neither Jackson nor your code sets the age, then it is null by default.  If you dont want to see that, change the toString method of Student (or whatever code youre using to print the Student instances).  By the way, getFile() will fail if you try to run this program as a .jar file, because entries inside .jar files are just compressed data, not actual files.","body":"If neither Jackson nor your code sets the age, then it is null by default.  If you dont want to see that, change the toString method of Student (or whatever code youre using to print the Student instances).  By the way, getFile() will fail if you try to run this program as a .jar file, because entries inside .jar files are just compressed data, not actual files."}],"owner":{"account_id":22432343,"reputation":23,"user_id":16638017,"display_name":"xuxu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659981469,"creation_date":1659981469,"question_id":73282199,"body_markdown":"I have a ```student.json``` and ```Student.java``` as follows:\r\n```\r\npublic class Student {\r\n\r\n    private String name;\r\n\r\n    private String age;\r\n}\r\n\r\n[{&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 18}, {&quot;name&quot;: &quot;Alex&quot;}]\r\n```\r\nI read the json file and map to ```List&lt;Student&gt;``` as follows:\r\n```\r\nFile inRulesFile = (new ClassPathResource(&quot;Student.json&quot;)).getFile();\r\nObjectMapper mapper = new ObjectMapper();\r\nList&lt;Student&gt; students = Arrays.asList(mapper.readValue(inRulesFile, Student[].class));\r\n```\r\nSo the output is ```[{John - 18},{Alex - null}]```\r\nI don&#39;t want DE-serialize null value. How can I do this? \r\n","title":"Omit null value when DE-serializing json file","body":"<p>I have a <code>student.json</code> and <code>Student.java</code> as follows:</p>\n<pre><code>public class Student {\n\n    private String name;\n\n    private String age;\n}\n\n[{&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 18}, {&quot;name&quot;: &quot;Alex&quot;}]\n</code></pre>\n<p>I read the json file and map to <code>List&lt;Student&gt;</code> as follows:</p>\n<pre><code>File inRulesFile = (new ClassPathResource(&quot;Student.json&quot;)).getFile();\nObjectMapper mapper = new ObjectMapper();\nList&lt;Student&gt; students = Arrays.asList(mapper.readValue(inRulesFile, Student[].class));\n</code></pre>\n<p>So the output is <code>[{John - 18},{Alex - null}]</code>\nI don't want DE-serialize null value. How can I do this?</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659980289,"creation_date":1659980289,"answer_id":73281981,"question_id":73280695,"body_markdown":"Verifying the email address happens outside of your application (typically in the user&#39;s default browser) and does not immediately update the user profile in your app.\r\n\r\nThe user profile is only updated when:\r\n\r\n* The user signs out and in again.\r\n* Once every hour, when the ID token is about to expire.\r\n* When you [call `reload` on the user object](https://firebase.google.com/docs/reference/kotlin/com/google/firebase/auth/FirebaseUser#reload). You can put a button in your UI to do this, or automatically call that, for example in the onResume of the activity.\r\n\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/73263990/firebase-auth-emailverified-doesnt-updated/73264070#73264070\r\n","title":"isEmailVerified does not perform its task properly. Verified email, still returning false","body":"<p>Verifying the email address happens outside of your application (typically in the user's default browser) and does not immediately update the user profile in your app.</p>\n<p>The user profile is only updated when:</p>\n<ul>\n<li>The user signs out and in again.</li>\n<li>Once every hour, when the ID token is about to expire.</li>\n<li>When you <a href=\"https://firebase.google.com/docs/reference/kotlin/com/google/firebase/auth/FirebaseUser#reload\" rel=\"nofollow noreferrer\">call <code>reload</code> on the user object</a>. You can put a button in your UI to do this, or automatically call that, for example in the onResume of the activity.</li>\n</ul>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/73263990/firebase-auth-emailverified-doesnt-updated/73264070#73264070\">Firebase Auth emailVerified doesn&#39;t updated</a></li>\n</ul>\n"}],"owner":{"account_id":20511303,"reputation":27,"user_id":15053006,"display_name":"Mike Chilled"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659980289,"creation_date":1659973683,"question_id":73280695,"body_markdown":"I am trying to do email verification with the help of firebase, this after you have registered. This code is then executed and then a new scene is applied with a button inside which checks if the email got verified. Here are both codes. Thanks in advance for any answer!!\r\nI gladly accept any advice!\r\n\r\nMore detailed error description: \r\nAfter checking the email by clicking on the link, it is not yet verified. I found that you had to use `signInWithEmailAndPassword` before using `isEmailVerified` in [this][1] post but, it still doesnt work.\r\n\r\nRegistration:\r\n\r\n    public void registerByEmail(AppCompatActivity activity, Context context, String email, String password) {\r\n            System.out.println(email + &quot; &quot; + password);\r\n            AuthSupport.firebaseAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(task -&gt; {\r\n                if(task.isSuccessful()) {\r\n                    AuthSupport.firebaseAuth.signInWithEmailAndPassword(email, password);\r\n                    FirebaseUser firebaseUser = AuthSupport.firebaseAuth.getCurrentUser();\r\n                    Task&lt;Void&gt; voidTask = firebaseUser.sendEmailVerification()\r\n                            .addOnSuccessListener(unused -&gt; {\r\n                                Toast.makeText(context, &quot;Verification Email has been sent.&quot;, Toast.LENGTH_SHORT).show();\r\n                                new VerificationEmailSupport().updateUIVerification(activity);\r\n                            })\r\n                            .addOnFailureListener(e -&gt; Log.d(&quot;Error&quot;, &quot;Cannot send verification email&quot;));\r\n        \r\n                    Toast.makeText(context, &quot;Registration successful&quot;, Toast.LENGTH_SHORT).show();\r\n        \r\n        \r\n                } else Toast.makeText(context, &quot;Registration failed, try again later...&quot;, Toast.LENGTH_SHORT).show();\r\n            });\r\n        }\r\n\r\nVerify button click-action code:\r\n\r\n    public void verifyEmail(View view, AuthSupport authSupport) {\r\n        System.out.println(&quot;EXECUTING!&quot;);\r\n        System.out.println(AuthSupport.firebaseAuth.getCurrentUser().getEmail() + &quot; im checking for him! &quot;);\r\n        if(!AuthSupport.firebaseAuth.getCurrentUser().isEmailVerified()) {\r\n            Toast.makeText(view.getContext(), &quot;Check the email and retry again...&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(view.getContext(), &quot;Email verified successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n            authSupport.updateUI(view.getContext(), AuthSupport.firebaseAuth.getCurrentUser());\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40644733/firebase-isemailverified-returns-false-even-after-verifying-email","title":"isEmailVerified does not perform its task properly. Verified email, still returning false","body":"<p>I am trying to do email verification with the help of firebase, this after you have registered. This code is then executed and then a new scene is applied with a button inside which checks if the email got verified. Here are both codes. Thanks in advance for any answer!!\nI gladly accept any advice!</p>\n<p>More detailed error description:\nAfter checking the email by clicking on the link, it is not yet verified. I found that you had to use <code>signInWithEmailAndPassword</code> before using <code>isEmailVerified</code> in <a href=\"https://stackoverflow.com/questions/40644733/firebase-isemailverified-returns-false-even-after-verifying-email\">this</a> post but, it still doesnt work.</p>\n<p>Registration:</p>\n<pre><code>public void registerByEmail(AppCompatActivity activity, Context context, String email, String password) {\n        System.out.println(email + &quot; &quot; + password);\n        AuthSupport.firebaseAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(task -&gt; {\n            if(task.isSuccessful()) {\n                AuthSupport.firebaseAuth.signInWithEmailAndPassword(email, password);\n                FirebaseUser firebaseUser = AuthSupport.firebaseAuth.getCurrentUser();\n                Task&lt;Void&gt; voidTask = firebaseUser.sendEmailVerification()\n                        .addOnSuccessListener(unused -&gt; {\n                            Toast.makeText(context, &quot;Verification Email has been sent.&quot;, Toast.LENGTH_SHORT).show();\n                            new VerificationEmailSupport().updateUIVerification(activity);\n                        })\n                        .addOnFailureListener(e -&gt; Log.d(&quot;Error&quot;, &quot;Cannot send verification email&quot;));\n    \n                Toast.makeText(context, &quot;Registration successful&quot;, Toast.LENGTH_SHORT).show();\n    \n    \n            } else Toast.makeText(context, &quot;Registration failed, try again later...&quot;, Toast.LENGTH_SHORT).show();\n        });\n    }\n</code></pre>\n<p>Verify button click-action code:</p>\n<pre><code>public void verifyEmail(View view, AuthSupport authSupport) {\n    System.out.println(&quot;EXECUTING!&quot;);\n    System.out.println(AuthSupport.firebaseAuth.getCurrentUser().getEmail() + &quot; im checking for him! &quot;);\n    if(!AuthSupport.firebaseAuth.getCurrentUser().isEmailVerified()) {\n        Toast.makeText(view.getContext(), &quot;Check the email and retry again...&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        Toast.makeText(view.getContext(), &quot;Email verified successfully.&quot;, Toast.LENGTH_SHORT).show();\n        authSupport.updateUI(view.getContext(), AuthSupport.firebaseAuth.getCurrentUser());\n    }\n}\n</code></pre>\n"},{"tags":["java","jwt"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1653667080,"post_id":72408057,"comment_id":127914256,"body_markdown":"See this: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","body":"See this: <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653667469,"creation_date":1653667469,"answer_id":72408172,"question_id":72408057,"body_markdown":"The WebSecurityConfigurerAdapter become deprecated in the version 5.7.0-M2 of  Spring Security.\r\n\r\nFor more details you can read the blog posted by Spring io &lt;a href=&quot;https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter&quot;&gt;here !&lt;/a&gt;.\r\n","title":"The type WebSecurityConfigurerAdapter is deprecated","body":"<p>The WebSecurityConfigurerAdapter become deprecated in the version 5.7.0-M2 of  Spring Security.</p>\n<p>For more details you can read the blog posted by Spring io <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">here !</a>.</p>\n"},{"tags":[],"owner":{"account_id":25974568,"reputation":56,"user_id":19689190,"display_name":"Amar kumar Nayak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1659979384,"creation_date":1659598376,"answer_id":73231973,"question_id":72408057,"body_markdown":"WebSecurityConfigAdapter is now deprecated you can use this one\r\n=================================================================\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeHttpRequests((authz) -&gt; authz\r\n                    .anyRequest().authenticated()\r\n                )\r\n                .httpBasic();\r\n            return http.build();\r\n        }\r\n    \r\n    }","title":"The type WebSecurityConfigurerAdapter is deprecated","body":"<h1>WebSecurityConfigAdapter is now deprecated you can use this one</h1>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((authz) -&gt; authz\n                .anyRequest().authenticated()\n            )\n            .httpBasic();\n        return http.build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25406820,"reputation":21,"user_id":19215376,"display_name":"AndrielDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3481,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1659979384,"creation_date":1653666869,"question_id":72408057,"body_markdown":"I&#39;m working on a project and my problem is the WebSecurityConfigurerAdapter. It&#39;s doesn&#39;t work. It&#39;s say &quot;The type WebSecurityConfigurerAdapter is deprecated&quot; do you know why? \r\nCan you help me please? I don&#39;t know what to do\r\n\r\n","title":"The type WebSecurityConfigurerAdapter is deprecated","body":"<p>I'm working on a project and my problem is the WebSecurityConfigurerAdapter. It's doesn't work. It's say &quot;The type WebSecurityConfigurerAdapter is deprecated&quot; do you know why?\nCan you help me please? I don't know what to do</p>\n"},{"tags":["java","return"],"answers":[{"tags":[],"owner":{"account_id":19720197,"reputation":483,"user_id":14438712,"display_name":"null_awe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1605744110,"creation_date":1605744110,"answer_id":64903317,"question_id":64903272,"body_markdown":"The `return i + 1` is returning how many unique integers are there. I believe this is a Leetcode problem, and since its in place, the `int[]` is passed in by reference, Leetcode wants to know how many numbers to check (you&#39;re supposed to put the unique numbers in the first `i + 1` spots).\r\n\r\nIf you look at the question, it says:\r\n[![enter image description here][1]][1]\r\nWhich means that you return the length of the array.\r\n\r\nSo, if you have the array `[1,1,2,3,4,4]`, you would turn that into `[1,2,3,4,...]`, where the `...` is the rest of the array. However, you return `4` because the length of the new array should be `4`.\r\n\r\nHope this clears things up for you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OgRzv.png","title":"26. Remove Duplicates from Sorted Array - Java","body":"<p>The <code>return i + 1</code> is returning how many unique integers are there. I believe this is a Leetcode problem, and since its in place, the <code>int[]</code> is passed in by reference, Leetcode wants to know how many numbers to check (you're supposed to put the unique numbers in the first <code>i + 1</code> spots).</p>\n<p>If you look at the question, it says:\n<a href=\"https://i.stack.imgur.com/OgRzv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OgRzv.png\" alt=\"enter image description here\" /></a>\nWhich means that you return the length of the array.</p>\n<p>So, if you have the array <code>[1,1,2,3,4,4]</code>, you would turn that into <code>[1,2,3,4,...]</code>, where the <code>...</code> is the rest of the array. However, you return <code>4</code> because the length of the new array should be <code>4</code>.</p>\n<p>Hope this clears things up for you!</p>\n"},{"tags":[],"owner":{"account_id":8764366,"reputation":27439,"user_id":6553328,"display_name":"Emma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605750284,"creation_date":1605750284,"answer_id":64904156,"question_id":64903272,"body_markdown":"Your question has been already answered [here](https://stackoverflow.com/a/64903317/6553328); in addition to that, we can also start from zero and remove the first `if` statement:\r\n\r\n\r\n### Test with a `b.java` file:\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass Solution {\r\n    public static final int removeDuplicates(\r\n        final int[] nums\r\n    ) {\r\n\r\n        int i = 0;\r\n\r\n        for (int num : nums)\r\n            if (i == 0 || num &gt; nums[i - 1]) {\r\n                nums[i++] = num;\r\n            }\r\n\r\n        return i;\r\n    }\r\n}\r\n\r\n\r\nclass b {\r\n    public static void main(String[] args) {\r\n        System.out.println(new Solution().removeDuplicates(new int[] { 1, 1, 2}));\r\n        System.out.println(new Solution().removeDuplicates(new int[] { 0, 0, 1, 1, 1, 2, 2, 3, 3, 4}));\r\n    }\r\n}\r\n```\r\n\r\n### prints\r\n\r\n```\r\n2\r\n5\r\n```","title":"26. Remove Duplicates from Sorted Array - Java","body":"<p>Your question has been already answered <a href=\"https://stackoverflow.com/a/64903317/6553328\">here</a>; in addition to that, we can also start from zero and remove the first <code>if</code> statement:</p>\n<h3>Test with a <code>b.java</code> file:</h3>\n<pre><code>import java.util.*;\n\nclass Solution {\n    public static final int removeDuplicates(\n        final int[] nums\n    ) {\n\n        int i = 0;\n\n        for (int num : nums)\n            if (i == 0 || num &gt; nums[i - 1]) {\n                nums[i++] = num;\n            }\n\n        return i;\n    }\n}\n\n\nclass b {\n    public static void main(String[] args) {\n        System.out.println(new Solution().removeDuplicates(new int[] { 1, 1, 2}));\n        System.out.println(new Solution().removeDuplicates(new int[] { 0, 0, 1, 1, 1, 2, 2, 3, 3, 4}));\n    }\n}\n</code></pre>\n<h3>prints</h3>\n<pre><code>2\n5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20506220,"reputation":1455,"user_id":15048947,"display_name":"Md. Shahariar Hossen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635912157,"creation_date":1635912157,"answer_id":69819536,"question_id":64903272,"body_markdown":" - I tried in this easy way.  Here Time complexity is O(n) and space\r\n   complexity: O(1).\r\n\r\n    ``` \r\n        static int removeDuplicates(int[] nums){\r\n        if(nums.length == 0) {\r\n            return 0;\r\n        }\r\n        int value = nums[0];\r\n        int lastIndex = 0;\r\n        int count = 1;\r\n        for (int i = 1; i &lt; nums.length; i++) {\r\n            if(nums[i] &gt; value) {\r\n                value = nums[i];\r\n                lastIndex = lastIndex+1;\r\n                nums[lastIndex] = value;\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n      }","title":"26. Remove Duplicates from Sorted Array - Java","body":"<ul>\n<li><p>I tried in this easy way.  Here Time complexity is O(n) and space\ncomplexity: O(1).</p>\n<pre><code>    static int removeDuplicates(int[] nums){\n    if(nums.length == 0) {\n        return 0;\n    }\n    int value = nums[0];\n    int lastIndex = 0;\n    int count = 1;\n    for (int i = 1; i &lt; nums.length; i++) {\n        if(nums[i] &gt; value) {\n            value = nums[i];\n            lastIndex = lastIndex+1;\n            nums[lastIndex] = value;\n            count++;\n        }\n    }\n    return count;\n  }\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19956212,"reputation":1,"user_id":14624802,"display_name":"Sabbir Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642843115,"creation_date":1642843115,"answer_id":70811469,"question_id":64903272,"body_markdown":"    class Solution {\r\n    public int removeDuplicates(int[] nums) {\r\n        int n = nums.length;\r\n        if (n == 0 || n == 1)\r\n            return n;\r\n        \r\n        int j = 0;\r\n        for (int i=0; i&lt;n-1; i++)\r\n                if (nums[i]!= nums[i+1])\r\n                    nums[j++] = nums[i];\r\n                \r\n            \r\n        nums[j++]=nums[n-1];\r\n        return j;\r\n    }\r\n}","title":"26. Remove Duplicates from Sorted Array - Java","body":"<pre><code>class Solution {\npublic int removeDuplicates(int[] nums) {\n    int n = nums.length;\n    if (n == 0 || n == 1)\n        return n;\n    \n    int j = 0;\n    for (int i=0; i&lt;n-1; i++)\n            if (nums[i]!= nums[i+1])\n                nums[j++] = nums[i];\n            \n        \n    nums[j++]=nums[n-1];\n    return j;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8925855,"reputation":125,"user_id":6660402,"display_name":"Nirmal Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659979330,"creation_date":1659979330,"answer_id":73281809,"question_id":64903272,"body_markdown":"    public class RemoveDuplicateSortedArray {\r\n        //Remove Duplicates from Sorted Array\r\n        public static void main(String[] args) {\r\n            int[] intArray = new int[]{0, 0, 1, 1, 1, 2, 2, 3, 3, 4};\r\n            int count = extracted(intArray);\r\n            for (int i = 0; i &lt; count; i++) {\r\n                System.out.println(intArray[i]);\r\n            }\r\n        }\r\n    \r\n        private static int extracted(int[] intArray) {\r\n            int size = intArray.length;\r\n            int count = 1;\r\n            if (size == 1) {\r\n                return 1;\r\n            } else if (size == 2) {\r\n                if (intArray[0] == intArray[1]) {\r\n                    return 1;\r\n                } else {\r\n                    return 2;\r\n                }\r\n            } else {\r\n                for (int i = 0, j = i + 1; j &lt; size; j++) {\r\n                    if (intArray[i] &lt; intArray[j]) {\r\n                        i++;\r\n                        intArray[i] = intArray[j];\r\n                        count++;\r\n                    }\r\n                }\r\n                return count;\r\n            }\r\n        }\r\n    }","title":"26. Remove Duplicates from Sorted Array - Java","body":"<pre><code>public class RemoveDuplicateSortedArray {\n    //Remove Duplicates from Sorted Array\n    public static void main(String[] args) {\n        int[] intArray = new int[]{0, 0, 1, 1, 1, 2, 2, 3, 3, 4};\n        int count = extracted(intArray);\n        for (int i = 0; i &lt; count; i++) {\n            System.out.println(intArray[i]);\n        }\n    }\n\n    private static int extracted(int[] intArray) {\n        int size = intArray.length;\n        int count = 1;\n        if (size == 1) {\n            return 1;\n        } else if (size == 2) {\n            if (intArray[0] == intArray[1]) {\n                return 1;\n            } else {\n                return 2;\n            }\n        } else {\n            for (int i = 0, j = i + 1; j &lt; size; j++) {\n                if (intArray[i] &lt; intArray[j]) {\n                    i++;\n                    intArray[i] = intArray[j];\n                    count++;\n                }\n            }\n            return count;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19758331,"reputation":11,"user_id":14468097,"display_name":"Bubbles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":884,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":64903317,"answer_count":5,"score":-1,"last_activity_date":1659979330,"creation_date":1605743841,"question_id":64903272,"body_markdown":"Question : Given a sorted array nums, remove the duplicates in-place such that each element appears only once and returns the new length.\r\n\r\nDo not allocate extra space for another array, you must do this by modifying the input array in-place with O(1) extra memory.\r\n\r\n    public int removeDuplicates(int[] nums) {\r\n    if (nums.length == 0) return 0;\r\n    int i = 0;\r\n    for (int j = 1; j &lt; nums.length; j++) {\r\n        if (nums[j] != nums[i]) {\r\n            i++;\r\n            nums[i] = nums[j];\r\n        }\r\n    }\r\n    return i + 1;\r\n}\r\n\r\nWhat exactly does the return statement do here. What does `return i + 1` mean here ?\r\n\r\n","title":"26. Remove Duplicates from Sorted Array - Java","body":"<p>Question : Given a sorted array nums, remove the duplicates in-place such that each element appears only once and returns the new length.</p>\n<p>Do not allocate extra space for another array, you must do this by modifying the input array in-place with O(1) extra memory.</p>\n<pre><code>public int removeDuplicates(int[] nums) {\nif (nums.length == 0) return 0;\nint i = 0;\nfor (int j = 1; j &lt; nums.length; j++) {\n    if (nums[j] != nums[i]) {\n        i++;\n        nums[i] = nums[j];\n    }\n}\nreturn i + 1;\n</code></pre>\n<p>}</p>\n<p>What exactly does the return statement do here. What does <code>return i + 1</code> mean here ?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1659972382,"post_id":73280310,"comment_id":129416447,"body_markdown":"`src/main/img.png` is unlikely to be a valid location at runtime.","body":"<code>src&#47;main&#47;img.png</code> is unlikely to be a valid location at runtime."},{"owner":{"account_id":7556865,"reputation":169,"user_id":5736157,"display_name":"Rakozay"},"score":1,"creation_date":1659972399,"post_id":73280310,"comment_id":129416456,"body_markdown":"Try frame.setVisible(true); before frame.onCloseExit(true); and what is a GFrame is it a typo?","body":"Try frame.setVisible(true); before frame.onCloseExit(true); and what is a GFrame is it a typo?"},{"owner":{"account_id":25466703,"reputation":1,"user_id":19265633,"display_name":"Spreest"},"score":0,"creation_date":1659972631,"post_id":73280310,"comment_id":129416589,"body_markdown":"GFrame is a class that extends JFrame i used that to simplify some work, and doing for last setVisible worked thanks you! Now i remember, am an idiot, thank you anyways!","body":"GFrame is a class that extends JFrame i used that to simplify some work, and doing for last setVisible worked thanks you! Now i remember, am an idiot, thank you anyways!"},{"owner":{"account_id":7556865,"reputation":169,"user_id":5736157,"display_name":"Rakozay"},"score":0,"creation_date":1659973203,"post_id":73280310,"comment_id":129416855,"body_markdown":"No worries, you&#39;re welcome I also had trouble with visibility six years ago haha https://stackoverflow.com/questions/34557283/java-color-or-image-cannot-be-set-as-background just took a wild guess of why it had happened :)","body":"No worries, you&#39;re welcome I also had trouble with visibility six years ago haha <a href=\"https://stackoverflow.com/questions/34557283/java-color-or-image-cannot-be-set-as-background\" title=\"java color or image cannot be set as background\">stackoverflow.com/questions/34557283/&hellip;</a> just took a wild guess of why it had happened :)"}],"answers":[{"tags":[],"owner":{"account_id":25466703,"reputation":1,"user_id":19265633,"display_name":"Spreest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659972992,"creation_date":1659972861,"answer_id":73280500,"question_id":73280310,"body_markdown":"I put `setVisible(true)` at the bottom of the code, and now it works, I&#39;m kinda stupid, because I remembered it later. Thanks for making me remember.","title":"Why doesnt this ImageIcon show up?","body":"<p>I put <code>setVisible(true)</code> at the bottom of the code, and now it works, I'm kinda stupid, because I remembered it later. Thanks for making me remember.</p>\n"}],"owner":{"account_id":25466703,"reputation":1,"user_id":19265633,"display_name":"Spreest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73280500,"answer_count":1,"score":0,"last_activity_date":1659978508,"creation_date":1659972134,"question_id":73280310,"body_markdown":"I tried everything, but the image won&#39;t show up, I tried to make the image smaller but it was useless, I tried to change the paths, I tried to change the position of the image but it didn&#39;t help, I tried to search on the internet but nothing.\r\n\r\nWhat I see is just the blank GUI, without the text and without the image.\r\nIf you could help me, you would do me a great pleasure.\r\n\r\nHere is the code:\r\n\r\n    package main;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Creating a new frame\r\n            GFrame frame = new GFrame(&quot;JFrame&quot;,true);\r\n            frame.lock(true);\r\n    \r\n            // Setting the size of the frame\r\n            frame.setSize(500, 500);\r\n    \r\n            // Creating images\r\n            ImageIcon icon = new ImageIcon(&quot;src/main/img.png&quot;);\r\n            frame.setIconImage(icon.getImage());\r\n    \r\n            // Creating labels\r\n            JLabel title = new JLabel(&quot;A java GUI!&quot;,icon,0);\r\n            title.setVerticalAlignment(1);\r\n            title.setFont(new Font(Font.SANS_SERIF,Font.PLAIN,30));\r\n    \r\n            // Adding the labels\r\n            frame.add(title);\r\n    \r\n            // Stopping the program if the frame gets closed\r\n            frame.onCloseExit(true);\r\n        }\r\n    \r\n        public static Image getScaledImage(Image srcImg, int w, int h){\r\n            BufferedImage resizedImg = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n            Graphics2D g2 = resizedImg.createGraphics();\r\n    \r\n            g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n            g2.drawImage(srcImg, 0, 0, w, h, null);\r\n            g2.dispose();\r\n    \r\n            return resizedImg;\r\n        }\r\n    }","title":"Why doesnt this ImageIcon show up?","body":"<p>I tried everything, but the image won't show up, I tried to make the image smaller but it was useless, I tried to change the paths, I tried to change the position of the image but it didn't help, I tried to search on the internet but nothing.</p>\n<p>What I see is just the blank GUI, without the text and without the image.\nIf you could help me, you would do me a great pleasure.</p>\n<p>Here is the code:</p>\n<pre><code>package main;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Creating a new frame\n        GFrame frame = new GFrame(&quot;JFrame&quot;,true);\n        frame.lock(true);\n\n        // Setting the size of the frame\n        frame.setSize(500, 500);\n\n        // Creating images\n        ImageIcon icon = new ImageIcon(&quot;src/main/img.png&quot;);\n        frame.setIconImage(icon.getImage());\n\n        // Creating labels\n        JLabel title = new JLabel(&quot;A java GUI!&quot;,icon,0);\n        title.setVerticalAlignment(1);\n        title.setFont(new Font(Font.SANS_SERIF,Font.PLAIN,30));\n\n        // Adding the labels\n        frame.add(title);\n\n        // Stopping the program if the frame gets closed\n        frame.onCloseExit(true);\n    }\n\n    public static Image getScaledImage(Image srcImg, int w, int h){\n        BufferedImage resizedImg = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2 = resizedImg.createGraphics();\n\n        g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n        g2.drawImage(srcImg, 0, 0, w, h, null);\n        g2.dispose();\n\n        return resizedImg;\n    }\n}\n</code></pre>\n"},{"tags":["java","jboss","ejb","jndi","ejb-3.0"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1659714278,"post_id":73248395,"comment_id":129367946,"body_markdown":"Is there a reason not to inject it directly with `@Inject` or `@EJB`? As for the static `InitialContext`, that may not work as it needs different contexts per component dependency on the deployment.","body":"Is there a reason not to inject it directly with <code>@Inject</code> or <code>@EJB</code>? As for the static <code>InitialContext</code>, that may not work as it needs different contexts per component dependency on the deployment."},{"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"score":0,"creation_date":1659870355,"post_id":73248395,"comment_id":129393074,"body_markdown":"Besides the main point, but you can save 1 line of code and a cast by using `javax.naming.InitialContext.doLookup(String)`","body":"Besides the main point, but you can save 1 line of code and a cast by using <code>javax.naming.InitialContext.doLookup(String)</code>"},{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1660107969,"post_id":73248395,"comment_id":129451687,"body_markdown":"@JamesR.Perkins The class where I am calling the lookup method is a normal Java class and not an EJB. As per my knowledge, Injection annotation EJB works only in EJB beans","body":"@JamesR.Perkins The class where I am calling the lookup method is a normal Java class and not an EJB. As per my knowledge, Injection annotation EJB works only in EJB beans"},{"owner":{"account_id":17962835,"reputation":151,"user_id":13053600,"display_name":"motzmann"},"score":0,"creation_date":1660492626,"post_id":73248395,"comment_id":129541103,"body_markdown":"So why is it necessary to access EJBs of any kind from a non-EJB-context (normal Java class)? If there isn&#39;t a request based context, e.g. driven by user interaction I&#39;d always use @Scheduled-annotation or any similar EJB-way of invoking things. From my point of view this is the only way to stay on the safe side and avoid any leakage. (You cannot simply replicate state changes from non-EJB parts through application server magic into multi instance setups.)","body":"So why is it necessary to access EJBs of any kind from a non-EJB-context (normal Java class)? If there isn&#39;t a request based context, e.g. driven by user interaction I&#39;d always use @Scheduled-annotation or any similar EJB-way of invoking things. From my point of view this is the only way to stay on the safe side and avoid any leakage. (You cannot simply replicate state changes from non-EJB parts through application server magic into multi instance setups.)"},{"owner":{"account_id":17962835,"reputation":151,"user_id":13053600,"display_name":"motzmann"},"score":0,"creation_date":1660493414,"post_id":73248395,"comment_id":129541305,"body_markdown":"Aside from that I urge you to improve your interface. Upon any Exception that method returns `null` with only a log message. The caller does not receive any useful information if this is a recoverable or finalizing error. What if a set of JNDI names must be orchestrated with some missing completely, one failing because of an IOException/ network error and two others successfully returned? You approach is https://en.wikipedia.org/wiki/Leaky_abstraction.","body":"Aside from that I urge you to improve your interface. Upon any Exception that method returns <code>null</code> with only a log message. The caller does not receive any useful information if this is a recoverable or finalizing error. What if a set of JNDI names must be orchestrated with some missing completely, one failing because of an IOException/ network error and two others successfully returned? You approach is <a href=\"https://en.wikipedia.org/wiki/Leaky_abstraction\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Leaky_abstraction</a>."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659978478,"creation_date":1659968347,"answer_id":73279380,"question_id":73248395,"body_markdown":"Note that javadoc for `InitialContext` warns that:\r\n\r\n    An InitialContext instance is not synchronized against concurrent\r\n    access by multiple threads. Multiple threads each manipulating a\r\n    different InitialContext instance need not synchronize.\r\n    Threads that need to access a single InitialContext instance\r\n    concurrently should synchronize amongst themselves and provide the\r\n    necessary locking.\r\n\r\nSo, making the field static isn&#39;t necessarily a good idea as you&#39;ll need to synchronize each `lookup(jndiName)` call, and this may cause other issues as per comment by `James R. Perkins`. \r\n\r\nHowever as you have shown that `getAuthenticationProfile(String credId)` calls `lookup` twice, there is no reason why you can&#39;t make a `BeanFactory` hold one `InitialContext` to reduce the number of instances by re-using `InitialContext` within same calling methods.\r\n\r\n    public class BeanFactory {\r\n    \r\n        private final InitialContext ctx;\r\n        private BeanFactory(InitialContext initialContext) {\r\n            this.ctx = initialContext;\r\n        }\r\n        private static final Logger logger = LogManager.getLogger(BeanFactory.class.getName());\r\n        /** JNDI lookup*/\r\n        public &lt;T&gt; T lookup(String jndiName){\r\n            // logger.info(&quot;Inside bean BeanFactory lookup: &quot; + jndiName);\r\n            try {\r\n                return (T) ctx.lookup(jndiName);\r\n            } catch (Exception e) {\r\n                RuntimeException re = new RuntimeException(&quot;Could not find jndi: &quot;+jndiName, e);\r\n                logger.error(re);\r\n                throw re;\r\n            }\r\n        }\r\n        /** Setup a new BeanFactory */\r\n        public static BeanFactory create() {\r\n           try {\r\n                return new BeanFactory(new InitialContext());\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(&quot;Could not create a new context&quot;, e);\r\n                logger.error(re);\r\n                throw re;\r\n            }\r\n        }\r\n\r\nThis allows `getAuthenticationProfile` to use a single `InitialContext` for 2 lookups:\r\n\r\n    BeanFactory ctx = BeanFactory.create();\r\n    ResourceProceduresDao            dao = ctx.lookup(ResourceProceduresDao.JNDI_NAME);\r\n    AuthenticationProfileRemote apRemote = ctx.lookup(AuthenticationProfileRemote.JNDI_NAME);\r\n\r\nYou might also consider whether saving `BeanFactory` as a thread local would help though I would be **very** concerned about doing this an application server because you may have little control over which and how many threads instantiate `InitialContext` and what from what context they run.  However it might be suitable within a standalone client program accessing your EJB server logic:\r\n\r\n    private static final ThreadLocal&lt;BeanFactory&gt; BEANS = ThreadLocal.withInitial(BeanFactory::create);\r\n    private static BeanFactory local() {\r\n        return BEANS.get();\r\n    }\r\n    // Example lookups:\r\n    ResourceProceduresDao            dao = BeanFactory.local().lookup(ResourceProceduresDao.JNDI_NAME);\r\n    AuthenticationProfileRemote apRemote = BeanFactory.local().lookup(AuthenticationProfileRemote.JNDI_NAME);\r\n","title":"JNDI lookup of EJB with new InitialContext each time?","body":"<p>Note that javadoc for <code>InitialContext</code> warns that:</p>\n<pre><code>An InitialContext instance is not synchronized against concurrent\naccess by multiple threads. Multiple threads each manipulating a\ndifferent InitialContext instance need not synchronize.\nThreads that need to access a single InitialContext instance\nconcurrently should synchronize amongst themselves and provide the\nnecessary locking.\n</code></pre>\n<p>So, making the field static isn't necessarily a good idea as you'll need to synchronize each <code>lookup(jndiName)</code> call, and this may cause other issues as per comment by <code>James R. Perkins</code>.</p>\n<p>However as you have shown that <code>getAuthenticationProfile(String credId)</code> calls <code>lookup</code> twice, there is no reason why you can't make a <code>BeanFactory</code> hold one <code>InitialContext</code> to reduce the number of instances by re-using <code>InitialContext</code> within same calling methods.</p>\n<pre><code>public class BeanFactory {\n\n    private final InitialContext ctx;\n    private BeanFactory(InitialContext initialContext) {\n        this.ctx = initialContext;\n    }\n    private static final Logger logger = LogManager.getLogger(BeanFactory.class.getName());\n    /** JNDI lookup*/\n    public &lt;T&gt; T lookup(String jndiName){\n        // logger.info(&quot;Inside bean BeanFactory lookup: &quot; + jndiName);\n        try {\n            return (T) ctx.lookup(jndiName);\n        } catch (Exception e) {\n            RuntimeException re = new RuntimeException(&quot;Could not find jndi: &quot;+jndiName, e);\n            logger.error(re);\n            throw re;\n        }\n    }\n    /** Setup a new BeanFactory */\n    public static BeanFactory create() {\n       try {\n            return new BeanFactory(new InitialContext());\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Could not create a new context&quot;, e);\n            logger.error(re);\n            throw re;\n        }\n    }\n</code></pre>\n<p>This allows <code>getAuthenticationProfile</code> to use a single <code>InitialContext</code> for 2 lookups:</p>\n<pre><code>BeanFactory ctx = BeanFactory.create();\nResourceProceduresDao            dao = ctx.lookup(ResourceProceduresDao.JNDI_NAME);\nAuthenticationProfileRemote apRemote = ctx.lookup(AuthenticationProfileRemote.JNDI_NAME);\n</code></pre>\n<p>You might also consider whether saving <code>BeanFactory</code> as a thread local would help though I would be <strong>very</strong> concerned about doing this an application server because you may have little control over which and how many threads instantiate <code>InitialContext</code> and what from what context they run.  However it might be suitable within a standalone client program accessing your EJB server logic:</p>\n<pre><code>private static final ThreadLocal&lt;BeanFactory&gt; BEANS = ThreadLocal.withInitial(BeanFactory::create);\nprivate static BeanFactory local() {\n    return BEANS.get();\n}\n// Example lookups:\nResourceProceduresDao            dao = BeanFactory.local().lookup(ResourceProceduresDao.JNDI_NAME);\nAuthenticationProfileRemote apRemote = BeanFactory.local().lookup(AuthenticationProfileRemote.JNDI_NAME);\n</code></pre>\n"}],"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73279380,"answer_count":1,"score":2,"last_activity_date":1659978478,"creation_date":1659695713,"question_id":73248395,"body_markdown":"We use `EJB3` and `JBOSS` application Server in our Application. I have a Bean lookup utility method where its a generic method written to lookup stateless EJB Beans by JNDI name:\r\n\r\n    public class BeanFactory {\r\n    \r\n    \tstatic\tLogger logger = LogManager.getLogger(BeanFactory.class.getName());\r\n    \t/**\r\n    \t * \r\n    \t * @param jndiName\r\n    \t * @return\r\n    \t */\r\n    \tpublic static &lt;T&gt; T lookup(String jndiName){\r\n    \r\n    \t\tlogger.info(&quot;Inside bean BeanFactory lookup: &quot; + jndiName);\r\n    \t\t\r\n    \t\tT handle = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\tInitialContext ctx = new InitialContext();\r\n    \t\t\thandle = (T) ctx.lookup(jndiName);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlogger.error(e, e.fillInStackTrace());\r\n    \t\t}\r\n    \t\treturn handle;\r\n    \t}\r\n\r\nSo there are classes which have dependencies on Beans and they use lookup method to invoke the methods of the Bean. For Example\r\n\r\n   \r\n\r\n     private AuthenticationProfileDTO getAuthenticationProfile(String credId) throws OneM2MException {\r\n        \t\t\r\n        \t\tResourceProceduresDao dao = BeanFactory.lookup(ResourceProceduresDao.JNDI_NAME);\r\n        \t\t\r\n                AuthenticationProfileRemote apRemote = BeanFactory.lookup(AuthenticationProfileRemote.JNDI_NAME);\r\n        \t\t\r\n                AuthenticationProfileDTO authenticationProfileDTO;\r\n        \r\n        \t\tif (isKpsaId(credId))\r\n        \t\t\tauthenticationProfileDTO = apRemote.getAuthenticationProfileDTOForSymmKeyID(credId);\r\n        \t\telse\r\n        \t\t\tauthenticationProfileDTO = apRemote.getAuthenticationProfileDTOForCredentialID(credId);\r\n        \t\treturn authenticationProfileDTO;\r\n        \t}\r\n\r\n\r\nSo now when we ran **JProfiler** on the code the `lookup` method is coming to be time consuming because every time `lookup` is called a new `InitialContext` is instantiated.\r\n\r\nI was thinking of making the InitialContext static so that only once it&#39;s initialized in a static block, but I don&#39;t know what implications will it have in terms of getting Bean instances. Since this piece of code is managed by EJB Container, the run time impacts are unknown. After looking up some articles online not much clarity was there.\r\n\r\nAny help is appreciated.\r\n\r\n ","title":"JNDI lookup of EJB with new InitialContext each time?","body":"<p>We use <code>EJB3</code> and <code>JBOSS</code> application Server in our Application. I have a Bean lookup utility method where its a generic method written to lookup stateless EJB Beans by JNDI name:</p>\n<pre><code>public class BeanFactory {\n\n    static  Logger logger = LogManager.getLogger(BeanFactory.class.getName());\n    /**\n     * \n     * @param jndiName\n     * @return\n     */\n    public static &lt;T&gt; T lookup(String jndiName){\n\n        logger.info(&quot;Inside bean BeanFactory lookup: &quot; + jndiName);\n        \n        T handle = null;\n\n        try {\n            InitialContext ctx = new InitialContext();\n            handle = (T) ctx.lookup(jndiName);\n        } catch (Exception e) {\n            logger.error(e, e.fillInStackTrace());\n        }\n        return handle;\n    }\n</code></pre>\n<p>So there are classes which have dependencies on Beans and they use lookup method to invoke the methods of the Bean. For Example</p>\n<pre><code> private AuthenticationProfileDTO getAuthenticationProfile(String credId) throws OneM2MException {\n            \n            ResourceProceduresDao dao = BeanFactory.lookup(ResourceProceduresDao.JNDI_NAME);\n            \n            AuthenticationProfileRemote apRemote = BeanFactory.lookup(AuthenticationProfileRemote.JNDI_NAME);\n            \n            AuthenticationProfileDTO authenticationProfileDTO;\n    \n            if (isKpsaId(credId))\n                authenticationProfileDTO = apRemote.getAuthenticationProfileDTOForSymmKeyID(credId);\n            else\n                authenticationProfileDTO = apRemote.getAuthenticationProfileDTOForCredentialID(credId);\n            return authenticationProfileDTO;\n        }\n</code></pre>\n<p>So now when we ran <strong>JProfiler</strong> on the code the <code>lookup</code> method is coming to be time consuming because every time <code>lookup</code> is called a new <code>InitialContext</code> is instantiated.</p>\n<p>I was thinking of making the InitialContext static so that only once it's initialized in a static block, but I don't know what implications will it have in terms of getting Bean instances. Since this piece of code is managed by EJB Container, the run time impacts are unknown. After looking up some articles online not much clarity was there.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","android","ksoap2"],"answers":[{"tags":[],"owner":{"account_id":15410136,"reputation":152,"user_id":11271104,"display_name":"MathematicsBeginner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659978102,"creation_date":1659978102,"answer_id":73281585,"question_id":73280724,"body_markdown":"The reason is because my stream is oversized with 1000. So, s2 just equals 123. s1, s2 is the reason indeed. Just change byte[] login_info = new byte[1000] to byte[] login_info = new byte[(int)f.size()];. That solves my problem. Thank you your time : D","title":"KSoap2 throws Attempt to invoke virtual method &#39;int java.io.InputStream.read(byte[], int, int)&#39; on a null object reference for some reason","body":"<p>The reason is because my stream is oversized with 1000. So, s2 just equals 123. s1, s2 is the reason indeed. Just change byte[] login_info = new byte[1000] to byte[] login_info = new byte[(int)f.size()];. That solves my problem. Thank you your time : D</p>\n"}],"owner":{"account_id":15410136,"reputation":152,"user_id":11271104,"display_name":"MathematicsBeginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659978102,"creation_date":1659973810,"question_id":73280724,"body_markdown":"    Login_btn.setOnClickListener((View v) -&gt;\r\n            {\r\n                byte[] login_info = new byte[1000];\r\n    \r\n                FileInputStream fIn;\r\n                try {\r\n                    fIn = new FileInputStream(f);\r\n                    fIn.read(login_info);\r\n                    fIn.close();\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                String str =  new String(login_info);\r\n                login_info = null;\r\n    \r\n                int index = str.indexOf(&#39;-&#39;);\r\n                String s1 = str.substring(0, index);\r\n                String s2 = str.substring(index + 1);\r\n    \r\n                List&lt;Parameter&gt; parameters = new ArrayList&lt;&gt;();\r\n                parameters.add(new Parameter(&quot;user_name&quot;, s1));\r\n                parameters.add(new Parameter(&quot;pass&quot;, s2));\r\n    \r\n                SoapObject that_user =\r\n                        Connector.Send_request( &quot;Login&quot;, null, null, parameters);\r\n    \r\n            });\r\n\r\n\r\nclass Connector and MyRunnable:\r\n    \r\n    lass MyRunnable implements Runnable\r\n    {\r\n        public static final String NAME_SPACE = &quot;http://tempuri.org/&quot;;\r\n        public static final String URL = &quot;https://192.168.1.176:44383/Messenger_service.asmx&quot;;\r\n    \r\n        private SoapObject obj;\r\n        private String Class_name, method_name;\r\n        private Class class_obj;\r\n        private List&lt;Parameter&gt; parameters;\r\n    \r\n        public MyRunnable(String method_name, String Class_name, Class class_obj,\r\n                          List&lt;Parameter&gt; parameters)\r\n        {\r\n            this.Class_name = Class_name;\r\n            this.class_obj = class_obj;\r\n            this.method_name = method_name;\r\n            this.parameters = parameters;\r\n        }\r\n    \r\n        @Override\r\n        public void run()\r\n        {\r\n            SoapObject request = new SoapObject(NAME_SPACE, method_name);\r\n    \r\n            for(Parameter par : parameters)\r\n                request.addProperty(par.getName(), par.getObj());\r\n    \r\n            SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n            envelope.dotNet = true;\r\n            envelope.setOutputSoapObject(request);\r\n    \r\n            if(Class_name != null)\r\n            {\r\n                envelope.addMapping(NAME_SPACE, Class_name, class_obj);\r\n            }\r\n    \r\n            HttpTransportSE transporter = new HttpTransportSE(URL);\r\n            transporter.debug = true;\r\n    \r\n            try\r\n            {\r\n                transporter.call(NAME_SPACE + method_name, envelope);\r\n                obj = (SoapObject) envelope.getResponse();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (XmlPullParserException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public SoapObject getObj()\r\n        {\r\n            return obj;\r\n        }\r\n    }\r\n    \r\n    public class Connector\r\n    {\r\n        public static final String NAME_SPACE = &quot;http://tempuri.org/&quot;;\r\n    \r\n        public static SoapObject Send_request(String method_name, String Class_name, Class class_obj,\r\n                                              List&lt;Parameter&gt; parameters)\r\n        {\r\n            MyRunnable r = new MyRunnable(method_name, Class_name, class_obj, parameters);\r\n            Thread t = new Thread(r);\r\n    \r\n            t.start();\r\n            try {\r\n                t.join();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return r.getObj();\r\n        }\r\n    }\r\n\r\nI can&#39;t figure out why it throws this error! My guess is because of me passing a &quot;local reference&quot; of s1, s2 from main thread to another thread. But it seems weird because I&#39;ve done these many times and they all work. What&#39;s wrong here!  \r\n\r\nI&#39;m using:  \r\n\r\n&gt; implementation &#39;com.google.code.ksoap2-android:ksoap2-android:3.6.2&#39;\r\n\r\nI also use these lines to bypass security:  \r\n\r\n    public class ByPasser\r\n    {\r\n        public static void disableSSLCertificateChecking()\r\n        {\r\n            TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\r\n                public X509Certificate[] getAcceptedIssuers() {\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                public void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n                    // Not implemented\r\n                }\r\n    \r\n                @Override\r\n                public void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n                    // Not implemented\r\n                }\r\n            } };\r\n    \r\n            try {\r\n                SSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \r\n                sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n    \r\n                HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n                HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier()\r\n                {\r\n                    @Override\r\n                    public boolean verify(String hostname, SSLSession session) { return true; }\r\n                });\r\n            }\r\n            catch (KeyManagementException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n            catch (NoSuchAlgorithmException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nMy manifest is also given: \r\n&gt; &lt; uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nIt&#39;s okay when i replace s1, s2 with string literals. I can claim that s1, s2 are not the prolems  \r\n\r\nMy Logcat:  \r\n\r\n&gt; Process: com.example.messenger, PID: 6942\r\n&gt;     java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.io.InputStream.read(byte[], int, int)&#39; on a null object\r\n&gt; reference\r\n&gt;         at org.ksoap2.transport.HttpTransportSE.readDebug(HttpTransportSE.java:320)\r\n&gt;         at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:271)\r\n&gt;         at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:118)\r\n&gt;         at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:113)\r\n&gt;         at com.example.messenger.Connector.MyRunnable.run(Connector.java:62)\r\n\r\n","title":"KSoap2 throws Attempt to invoke virtual method &#39;int java.io.InputStream.read(byte[], int, int)&#39; on a null object reference for some reason","body":"<pre><code>Login_btn.setOnClickListener((View v) -&gt;\n        {\n            byte[] login_info = new byte[1000];\n\n            FileInputStream fIn;\n            try {\n                fIn = new FileInputStream(f);\n                fIn.read(login_info);\n                fIn.close();\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            String str =  new String(login_info);\n            login_info = null;\n\n            int index = str.indexOf('-');\n            String s1 = str.substring(0, index);\n            String s2 = str.substring(index + 1);\n\n            List&lt;Parameter&gt; parameters = new ArrayList&lt;&gt;();\n            parameters.add(new Parameter(&quot;user_name&quot;, s1));\n            parameters.add(new Parameter(&quot;pass&quot;, s2));\n\n            SoapObject that_user =\n                    Connector.Send_request( &quot;Login&quot;, null, null, parameters);\n\n        });\n</code></pre>\n<p>class Connector and MyRunnable:</p>\n<pre><code>lass MyRunnable implements Runnable\n{\n    public static final String NAME_SPACE = &quot;http://tempuri.org/&quot;;\n    public static final String URL = &quot;https://192.168.1.176:44383/Messenger_service.asmx&quot;;\n\n    private SoapObject obj;\n    private String Class_name, method_name;\n    private Class class_obj;\n    private List&lt;Parameter&gt; parameters;\n\n    public MyRunnable(String method_name, String Class_name, Class class_obj,\n                      List&lt;Parameter&gt; parameters)\n    {\n        this.Class_name = Class_name;\n        this.class_obj = class_obj;\n        this.method_name = method_name;\n        this.parameters = parameters;\n    }\n\n    @Override\n    public void run()\n    {\n        SoapObject request = new SoapObject(NAME_SPACE, method_name);\n\n        for(Parameter par : parameters)\n            request.addProperty(par.getName(), par.getObj());\n\n        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n        envelope.dotNet = true;\n        envelope.setOutputSoapObject(request);\n\n        if(Class_name != null)\n        {\n            envelope.addMapping(NAME_SPACE, Class_name, class_obj);\n        }\n\n        HttpTransportSE transporter = new HttpTransportSE(URL);\n        transporter.debug = true;\n\n        try\n        {\n            transporter.call(NAME_SPACE + method_name, envelope);\n            obj = (SoapObject) envelope.getResponse();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (XmlPullParserException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public SoapObject getObj()\n    {\n        return obj;\n    }\n}\n\npublic class Connector\n{\n    public static final String NAME_SPACE = &quot;http://tempuri.org/&quot;;\n\n    public static SoapObject Send_request(String method_name, String Class_name, Class class_obj,\n                                          List&lt;Parameter&gt; parameters)\n    {\n        MyRunnable r = new MyRunnable(method_name, Class_name, class_obj, parameters);\n        Thread t = new Thread(r);\n\n        t.start();\n        try {\n            t.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        return r.getObj();\n    }\n}\n</code></pre>\n<p>I can't figure out why it throws this error! My guess is because of me passing a &quot;local reference&quot; of s1, s2 from main thread to another thread. But it seems weird because I've done these many times and they all work. What's wrong here!</p>\n<p>I'm using:</p>\n<blockquote>\n<p>implementation 'com.google.code.ksoap2-android:ksoap2-android:3.6.2'</p>\n</blockquote>\n<p>I also use these lines to bypass security:</p>\n<pre><code>public class ByPasser\n{\n    public static void disableSSLCertificateChecking()\n    {\n        TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\n            public X509Certificate[] getAcceptedIssuers() {\n                return null;\n            }\n\n            @Override\n            public void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n                // Not implemented\n            }\n\n            @Override\n            public void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n                // Not implemented\n            }\n        } };\n\n        try {\n            SSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);\n\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\n\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n            HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier()\n            {\n                @Override\n                public boolean verify(String hostname, SSLSession session) { return true; }\n            });\n        }\n        catch (KeyManagementException e)\n        {\n            e.printStackTrace();\n        }\n        catch (NoSuchAlgorithmException e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>My manifest is also given:</p>\n<blockquote>\n<p>&lt; uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</p>\n</blockquote>\n<p>It's okay when i replace s1, s2 with string literals. I can claim that s1, s2 are not the prolems</p>\n<p>My Logcat:</p>\n<blockquote>\n<p>Process: com.example.messenger, PID: 6942\njava.lang.NullPointerException: Attempt to invoke virtual method 'int java.io.InputStream.read(byte[], int, int)' on a null object\nreference\nat org.ksoap2.transport.HttpTransportSE.readDebug(HttpTransportSE.java:320)\nat org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:271)\nat org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:118)\nat org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:113)\nat com.example.messenger.Connector.MyRunnable.run(Connector.java:62)</p>\n</blockquote>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1658987116,"post_id":73147589,"comment_id":129189164,"body_markdown":"Basically, you are better off not using `Date` and `SimpleDateFormat`.  The javadoc is unclear, but when you call `DateFormat.parse`, the timezone that you set previously is overridden.  It doesn&#39;t determine the zone used to parse the date.  Use the Java 8+ date/time APIs: https://www.baeldung.com/java-8-date-time-intro","body":"Basically, you are better off not using <code>Date</code> and <code>SimpleDateFormat</code>.  The javadoc is unclear, but when you call <code>DateFormat.parse</code>, the timezone that you set previously is overridden.  It doesn&#39;t determine the zone used to parse the date.  Use the Java 8+ date/time APIs: <a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">baeldung.com/java-8-date-time-intro</a>"}],"answers":[{"tags":[],"owner":{"account_id":25913901,"reputation":1,"user_id":19637563,"display_name":"Sakthi Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659977850,"creation_date":1658987509,"answer_id":73147850,"question_id":73147589,"body_markdown":"you can use Instant data type. It stores the date and time in UTC format, and then converts it into LocalDateTime with timeZone.\r\n\r\nfor example:\r\n\r\n        Instant instantDateTime = Instant.now(); // 2022-07-28T05:46:07.652147008Z\r\n        LocalDateTime localDateTime = LocalDateTime.ofInstant(instantDateTime, ZoneOffset.UTC); //2022-07-28T05:46:07.652147008\r\n        LocalDate localDate = LocalDateTime.ofInstant(instantDateTime, ZoneOffset.UTC).toLocalDate(); //2022-07-28\r\n\r\nNow you get your local date and time. I think this can help you, Thank you.  ","title":"Setting the correct specific Time Zone in the Philippines","body":"<p>you can use Instant data type. It stores the date and time in UTC format, and then converts it into LocalDateTime with timeZone.</p>\n<p>for example:</p>\n<pre><code>    Instant instantDateTime = Instant.now(); // 2022-07-28T05:46:07.652147008Z\n    LocalDateTime localDateTime = LocalDateTime.ofInstant(instantDateTime, ZoneOffset.UTC); //2022-07-28T05:46:07.652147008\n    LocalDate localDate = LocalDateTime.ofInstant(instantDateTime, ZoneOffset.UTC).toLocalDate(); //2022-07-28\n</code></pre>\n<p>Now you get your local date and time. I think this can help you, Thank you.</p>\n"}],"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659977850,"creation_date":1658985429,"question_id":73147589,"body_markdown":"so I have a DateFormat function in my android app which calculate and show the date and time of the &quot;data&quot; that has been posted on my database. Surely enough, It shows on my app, but not the correct time. &quot;GMT&quot; isn&#39;t the right one, and &quot;GMT+8&quot; doesn&#39;t work, i also tried &quot;Asia/Manila&quot; but with no avail. Any help is appreciated.\r\n\r\n      private String calculateTimeAgo(String date) {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-M-yyyy hh:mm:ss&quot;);\r\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;Manila&quot;));\r\n        try{\r\n            long time = sdf.parse(date).getTime();\r\n            long now = System.currentTimeMillis();\r\n            CharSequence ago =\r\n                    DateUtils.getRelativeTimeSpanString(time, now, DateUtils.MINUTE_IN_MILLIS);\r\n            return ago+&quot;&quot;;\r\n        }\r\n        catch (ParseException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }","title":"Setting the correct specific Time Zone in the Philippines","body":"<p>so I have a DateFormat function in my android app which calculate and show the date and time of the &quot;data&quot; that has been posted on my database. Surely enough, It shows on my app, but not the correct time. &quot;GMT&quot; isn't the right one, and &quot;GMT+8&quot; doesn't work, i also tried &quot;Asia/Manila&quot; but with no avail. Any help is appreciated.</p>\n<pre><code>  private String calculateTimeAgo(String date) {\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-M-yyyy hh:mm:ss&quot;);\n    sdf.setTimeZone(TimeZone.getTimeZone(&quot;Manila&quot;));\n    try{\n        long time = sdf.parse(date).getTime();\n        long now = System.currentTimeMillis();\n        CharSequence ago =\n                DateUtils.getRelativeTimeSpanString(time, now, DateUtils.MINUTE_IN_MILLIS);\n        return ago+&quot;&quot;;\n    }\n    catch (ParseException e)\n    {\n        e.printStackTrace();\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659977796,"creation_date":1659977796,"answer_id":73281517,"question_id":73281313,"body_markdown":"Try this code:\r\n\r\n   \r\n\r\n     SearchRequest request = new SearchRequest.Builder().index(&quot;movies&quot;)\r\n            .from(0)\r\n            .query(new Query.Builder().match(new MatchQuery.Builder().field(&quot;message&quot;).query(&quot;any_text&quot;).build()).build())\r\n            .collapse(new FieldCollapse.Builder().field(&quot;user.id&quot;).build())\r\n            .build();","title":"How to do collpose in new Java API for ElasticSerch 8.x","body":"<p>Try this code:</p>\n<pre><code> SearchRequest request = new SearchRequest.Builder().index(&quot;movies&quot;)\n        .from(0)\n        .query(new Query.Builder().match(new MatchQuery.Builder().field(&quot;message&quot;).query(&quot;any_text&quot;).build()).build())\n        .collapse(new FieldCollapse.Builder().field(&quot;user.id&quot;).build())\n        .build();\n</code></pre>\n"}],"owner":{"account_id":26010803,"reputation":13,"user_id":19719895,"display_name":"IanIsAFK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73281517,"answer_count":1,"score":1,"last_activity_date":1659977796,"creation_date":1659976628,"question_id":73281313,"body_markdown":"In the past, I used RestClient+SearchSourceBuilder to implement the followings.\r\n\r\n```json\r\nGET my-index-000001/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;match&quot;: {\r\n      &quot;message&quot;: &quot;GET /search&quot;\r\n    }\r\n  },\r\n  &quot;collapse&quot;: {\r\n    &quot;field&quot;: &quot;user.id&quot;         \r\n  },\r\n  &quot;from&quot;: 0                    \r\n}\r\n```\r\n\r\ncode like following:\r\n```java\r\nimport org.elasticsearch.action.search.SearchRequest;\r\n\r\n        SearchRequest searchRequest = new SearchRequest(&quot;xxx(index)&quot;);\r\n        SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\r\n        sourceBuilder.collapse(new CollapseBuilder(&quot;user.id&quot;));\r\n        searchRequest.source(sourceBuilder);\r\n        SearchResponse search = restClient.getRestHighLevelClient().search(searchRequest);\r\n```\r\n\r\nHowever, after I update to ES 8.x and adapt new Java API, \r\n```xml\r\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n```\r\n\r\nIm unable to accomplish the same task by this. The new query code like this\r\n```java \r\nimport co.elastic.clients.elasticsearch.core.SearchRequest;\r\n        SearchRequest request = new SearchRequest.Builder().index(&quot;products&quot;).build();\r\n\r\n        SearchResponse&lt;Product&gt; search =\r\n                client.search(\r\n                        request,\r\n                        Product.class\r\n                );\r\n        List&lt;Hit&lt;Product&gt;&gt; hits = search.hits().hits();\r\n```\r\nSince it used different different SearchRequest from different denpendency, I dont know how to create a collapse builder for it and I searched the &quot;whole&quot; internet but got nothing for this new Java Client API.\r\n\r\nBTW, the reason I want to use `collapse` is because I want to remove the duplicate results from the query.  \r\n","title":"How to do collpose in new Java API for ElasticSerch 8.x","body":"<p>In the past, I used RestClient+SearchSourceBuilder to implement the followings.</p>\n<pre class=\"lang-json prettyprint-override\"><code>GET my-index-000001/_search\n{\n  &quot;query&quot;: {\n    &quot;match&quot;: {\n      &quot;message&quot;: &quot;GET /search&quot;\n    }\n  },\n  &quot;collapse&quot;: {\n    &quot;field&quot;: &quot;user.id&quot;         \n  },\n  &quot;from&quot;: 0                    \n}\n</code></pre>\n<p>code like following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.elasticsearch.action.search.SearchRequest;\n\n        SearchRequest searchRequest = new SearchRequest(&quot;xxx(index)&quot;);\n        SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\n        sourceBuilder.collapse(new CollapseBuilder(&quot;user.id&quot;));\n        searchRequest.source(sourceBuilder);\n        SearchResponse search = restClient.getRestHighLevelClient().search(searchRequest);\n</code></pre>\n<p>However, after I update to ES 8.x and adapt new Java API,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n</code></pre>\n<p>Im unable to accomplish the same task by this. The new query code like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>import co.elastic.clients.elasticsearch.core.SearchRequest;\n        SearchRequest request = new SearchRequest.Builder().index(&quot;products&quot;).build();\n\n        SearchResponse&lt;Product&gt; search =\n                client.search(\n                        request,\n                        Product.class\n                );\n        List&lt;Hit&lt;Product&gt;&gt; hits = search.hits().hits();\n</code></pre>\n<p>Since it used different different SearchRequest from different denpendency, I dont know how to create a collapse builder for it and I searched the &quot;whole&quot; internet but got nothing for this new Java Client API.</p>\n<p>BTW, the reason I want to use <code>collapse</code> is because I want to remove the duplicate results from the query.</p>\n"},{"tags":["java","android","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":1584882,"reputation":717,"user_id":1469481,"display_name":"smora"},"score":0,"creation_date":1508937930,"post_id":46933522,"comment_id":80814304,"body_markdown":"What do you mean by &quot;if dependency exists or not&quot; ?","body":"What do you mean by &quot;if dependency exists or not&quot; ?"},{"owner":{"account_id":4069517,"reputation":2118,"user_id":3343174,"accept_rate":65,"display_name":"Fakher"},"score":0,"creation_date":1508941776,"post_id":46933522,"comment_id":80817373,"body_markdown":"You already know at execution if this lib exists or not since you know weither you added or not !!","body":"You already know at execution if this lib exists or not since you know weither you added or not !!"}],"answers":[{"tags":[],"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1508937604,"creation_date":1508937604,"answer_id":46933563,"question_id":46933522,"body_markdown":"You would not be able to run the App in the first place, because if the dependency does not exist you can not build the `.apk`. There is no run-time checking for gradle dependencies. ","title":"Android check dependency availability at runtime","body":"<p>You would not be able to run the App in the first place, because if the dependency does not exist you can not build the <code>.apk</code>. There is no run-time checking for gradle dependencies. </p>\n"},{"tags":[],"owner":{"account_id":1602180,"reputation":414,"user_id":1483028,"accept_rate":17,"display_name":"cesarmax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659977706,"creation_date":1659064777,"answer_id":73161267,"question_id":46933522,"body_markdown":"I was looking for the same and I couldn&#39;t find the answer. What I would do is the following:\r\n\r\nA- if you do have the dependency at compilation time, then I would call any method from that library surrounded by try/catch:\r\n\r\n    try {\r\n      Retrofit().whateverRetrofitApi()\r\n      // if you get to this line it means the library is present    \r\n    } catch(e: Throwable) {\r\n      // if you get to this line it means the library is not present\r\n    }\r\n\r\nProbably some other exception/error like NoClassDefFoundError would be better to catch.\r\n\r\nB- if you do not have the dependency at compilation time, and you do want to check if it&#39;s present at runtime, then you could perform the same thing, but using reflection instead.\r\n\r\nHope it helps","title":"Android check dependency availability at runtime","body":"<p>I was looking for the same and I couldn't find the answer. What I would do is the following:</p>\n<p>A- if you do have the dependency at compilation time, then I would call any method from that library surrounded by try/catch:</p>\n<pre><code>try {\n  Retrofit().whateverRetrofitApi()\n  // if you get to this line it means the library is present    \n} catch(e: Throwable) {\n  // if you get to this line it means the library is not present\n}\n</code></pre>\n<p>Probably some other exception/error like NoClassDefFoundError would be better to catch.</p>\n<p>B- if you do not have the dependency at compilation time, and you do want to check if it's present at runtime, then you could perform the same thing, but using reflection instead.</p>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":441430,"reputation":855,"user_id":831519,"accept_rate":50,"display_name":"Fouad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659977706,"creation_date":1508937462,"question_id":46933522,"body_markdown":"Let&#39;s say I add the following dependency to my app level `build.gradle` file:\r\n\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.3.0&#39;\r\n\r\nHow can I check at runtime that a certain dependency exists or not?","title":"Android check dependency availability at runtime","body":"<p>Let's say I add the following dependency to my app level <code>build.gradle</code> file:</p>\n\n<pre><code>compile 'com.squareup.retrofit2:retrofit:2.3.0'\n</code></pre>\n\n<p>How can I check at runtime that a certain dependency exists or not?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659042400,"creation_date":1659042400,"answer_id":73159173,"question_id":73158990,"body_markdown":"onLongClick returns a boolean, not a void.  Change that and make it return true (assuming you want to consume the touch).","title":"OnLongClickListener() error Method does not override method from its superclass","body":"<p>onLongClick returns a boolean, not a void.  Change that and make it return true (assuming you want to consume the touch).</p>\n"},{"tags":[],"owner":{"account_id":3066848,"reputation":46,"user_id":2598344,"display_name":"erwandy92"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659977503,"creation_date":1659058955,"answer_id":73160790,"question_id":73158990,"body_markdown":"I guessed you have typed it manually. I found ..View.OnCLongClickListener() .. which should be View.OnLongClickListener() without &#39;C&#39;, you may try using the suggestion popping up while typing by the IDE directly, it will reduce our typo mistake. Another one, the method inside the LongClickListener should be &#39;boolean&#39; instead of &#39;void&#39;, which will return either TRUE or FALSE. True, means that your event will just be handled within that code, no other events will be fired after this point, false otherwise. \r\n\r\nI provided the code as below, you may refer to it and try it out. Hope it works for you. :) \r\n\r\n    button.setOnLongClickListener(new OnLongClickListener() {\r\n        public boolean onLongClick(View v) {\r\n            openWebsite();\r\n            return true;\r\n        }\r\n    });\r\n\r\nHappy coding!! :D","title":"OnLongClickListener() error Method does not override method from its superclass","body":"<p>I guessed you have typed it manually. I found ..View.OnCLongClickListener() .. which should be View.OnLongClickListener() without 'C', you may try using the suggestion popping up while typing by the IDE directly, it will reduce our typo mistake. Another one, the method inside the LongClickListener should be 'boolean' instead of 'void', which will return either TRUE or FALSE. True, means that your event will just be handled within that code, no other events will be fired after this point, false otherwise.</p>\n<p>I provided the code as below, you may refer to it and try it out. Hope it works for you. :)</p>\n<pre><code>button.setOnLongClickListener(new OnLongClickListener() {\n    public boolean onLongClick(View v) {\n        openWebsite();\n        return true;\n    }\n});\n</code></pre>\n<p>Happy coding!! :D</p>\n"}],"owner":{"account_id":25916181,"reputation":1,"user_id":19639547,"display_name":"Xtra 514"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73160790,"answer_count":2,"score":0,"last_activity_date":1659977503,"creation_date":1659041227,"question_id":73158990,"body_markdown":"**Idk what to do so basically i was creating a button which opens new activity on long press\r\ncould u fix this?**\r\n\r\n\r\n      @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        button = (Button) findViewById(R.id.button);\r\n\r\n        defineView();\r\n        handleIntent();\r\n        defineActionBar();\r\n        checkPermission();\r\n\r\n        button.setOnLongClickListener(new View.OnCLongClickListener() {\r\n            @Override\r\n            public void onLongClick(View v) {\r\n                openWebsite();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    public void openWebsite() {\r\n        Intent intent = new Intent(this, Website.class);\r\n        startActivity(intent);\r\n    }","title":"OnLongClickListener() error Method does not override method from its superclass","body":"<p><strong>Idk what to do so basically i was creating a button which opens new activity on long press\ncould u fix this?</strong></p>\n<pre><code>  @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    button = (Button) findViewById(R.id.button);\n\n    defineView();\n    handleIntent();\n    defineActionBar();\n    checkPermission();\n\n    button.setOnLongClickListener(new View.OnCLongClickListener() {\n        @Override\n        public void onLongClick(View v) {\n            openWebsite();\n        }\n    });\n}\n\n\n\npublic void openWebsite() {\n    Intent intent = new Intent(this, Website.class);\n    startActivity(intent);\n}\n</code></pre>\n"},{"tags":["java","android","admob"],"answers":[{"tags":[],"owner":{"account_id":25967133,"reputation":21,"user_id":19682928,"display_name":"Azira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659977499,"creation_date":1659977499,"answer_id":73281459,"question_id":73271432,"body_markdown":"You will be fully clear if u look into this web page : https://developer.android.com/codelabs/admob-rewarded-video-android","title":"Admob RewardedAd how to know if the user closed the video before receiving the award?","body":"<p>You will be fully clear if u look into this web page : <a href=\"https://developer.android.com/codelabs/admob-rewarded-video-android\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/admob-rewarded-video-android</a></p>\n"}],"owner":{"account_id":14240321,"reputation":162,"user_id":10286896,"display_name":"Will V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659977499,"creation_date":1659910670,"question_id":73271432,"body_markdown":"I&#39;m migrating the app to new version of **&#39;com.google.firebase:firebase-ads:21.1.0&#39;**\r\n\r\nBefore, I used the &quot;`onRewardedVideoAdClosed`&quot; method to find out if the user had finished displaying the video.\r\n\r\nNow I check if the user received the award in the listener:\r\n\r\n \r\n\r\n    if (mRewardedAd != null) {\r\n                    Activity activityContext = MainActivity.this;\r\n                    mRewardedAd.show(activityContext, new OnUserEarnedRewardListener() {\r\n                        @Override\r\n                        public void onUserEarnedReward(@NonNull RewardItem rewardItem) {\r\n                            // Handle the reward.\r\n                            Log.d(&quot;TAG&quot;, &quot;The user earned the reward.&quot;);\r\n                            int rewardAmount = rewardItem.getAmount();\r\n                            String rewardType = rewardItem.getType();\r\n            \r\n                            Toast.makeText(activityContext, &quot;Amount: &quot;+rewardAmount+&quot;\\nType: &quot;+rewardType, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n        } else {\r\n               Log.d(&quot;TAG&quot;, &quot;The rewarded ad wasn&#39;t ready yet.&quot;);\r\n        }\r\n\r\n\r\n\r\nMy question is how can I know if the user watched the video until the end to receive the award?\r\nIn fact, my prize is a media file download, so if the user clicked on the X in the ad, I need to send a message to watch the video until the end!","title":"Admob RewardedAd how to know if the user closed the video before receiving the award?","body":"<p>I'm migrating the app to new version of <strong>'com.google.firebase:firebase-ads:21.1.0'</strong></p>\n<p>Before, I used the &quot;<code>onRewardedVideoAdClosed</code>&quot; method to find out if the user had finished displaying the video.</p>\n<p>Now I check if the user received the award in the listener:</p>\n<pre><code>if (mRewardedAd != null) {\n                Activity activityContext = MainActivity.this;\n                mRewardedAd.show(activityContext, new OnUserEarnedRewardListener() {\n                    @Override\n                    public void onUserEarnedReward(@NonNull RewardItem rewardItem) {\n                        // Handle the reward.\n                        Log.d(&quot;TAG&quot;, &quot;The user earned the reward.&quot;);\n                        int rewardAmount = rewardItem.getAmount();\n                        String rewardType = rewardItem.getType();\n        \n                        Toast.makeText(activityContext, &quot;Amount: &quot;+rewardAmount+&quot;\\nType: &quot;+rewardType, Toast.LENGTH_SHORT).show();\n                    }\n                });\n    } else {\n           Log.d(&quot;TAG&quot;, &quot;The rewarded ad wasn't ready yet.&quot;);\n    }\n</code></pre>\n<p>My question is how can I know if the user watched the video until the end to receive the award?\nIn fact, my prize is a media file download, so if the user clicked on the X in the ad, I need to send a message to watch the video until the end!</p>\n"},{"tags":["java","android-studio","kotlin","intellij-idea","indentation"],"comments":[{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":1,"creation_date":1658743718,"post_id":73092489,"comment_id":129118492,"body_markdown":"I don&#39;t think it&#39;s possible atm. You can file a feature request for &quot;Group declarations&quot; to be appleid to enums and Kotlin in https://youtrack.jetbrains.com/issues/IDEA","body":"I don&#39;t think it&#39;s possible atm. You can file a feature request for &quot;Group declarations&quot; to be appleid to enums and Kotlin in <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>"}],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1659977461,"creation_date":1658594356,"question_id":73092489,"body_markdown":"Say I have an enum like this:\r\n    \r\n    public enum TestEnum {\r\n        TEST1(5, 6, 18, 9, 3),\r\n        TEST2(10, 21, 4, 5, 34),\r\n        TEST3(4, 5, 8, 2, 16),\r\n        TEST4(3, 1, 92, 67, 22);\r\n    \r\n        TestEnum(int i1, int i2, int i3, int i4, int i5) {\r\n        }\r\n    }\r\n\r\nHow can I automatically (or by clicking `Ctrl`+`Alt`+`L`) format the enum like this:\r\n\r\n    public enum TestEnum {\r\n        TEST1   (5,     6,      18,     9,      3),\r\n        TEST2   (10,    21,     4,      5,      34),\r\n        TEST3   (4,     5,      8,      2,      16),\r\n        TEST4   (3,     1,      92,     67,     22);\r\n        \r\n        TestEnum(int i1, int i2, int i3, int i4, int i5) {\r\n        }\r\n    }\r\n\r\nIt should optimally use tabs, so that the columns start at indexes divisible by 4 (0, 4, 8, 12 ...)\r\n\r\n---\r\n\r\nI tried these workarounds:\r\n\r\n- Formatting myself using `@formatter:off`, which is\r\n    - a lot of work\r\n    - disables all kinds of formatting like lambda arguments and double spaces\r\n\r\nI tried these settings:\r\n\r\n- This setting, which did not do anything:\r\n\r\n&gt; Settings/Editor/Code Style/Detect and use existing file indents for editing\r\n\r\n- This setting, which only works for fields, variables, assignments and simple methods. It doesn&#39;t seem to exist for Kotlin:\r\n\r\n&gt; Settings/Editor/Code Style/Java/Wrapping and Braces/Group declarations\r\n\r\nI tried these plugins:\r\n\r\n- [Vertical Align][1] goes into the right direction, but doesn&#39;t solve the problem either. It still isn&#39;t automatic and doesn&#39;t work together with code formatting at all: When pressing `Ctrl`+`Alt`+`L`, the code goes back to normal\r\n\r\n- Same thing for [Smart Align][2], and commas are also being aligned, which looks very weird\r\n\r\n- [Edit] Same thing for [Column Align][3]. It is glitched, but doesn&#39;t have any other compatibility issues (works in Kotlin, Android Studio and with enums)\r\n\r\n- [Tabifier][4] is old and thus doesn&#39;t work on Android\r\n\r\n- [Java Code Aligner][5] neither works for Kotlin nor enums\r\n\r\nEdit:\r\n\r\nAs suggested by [quickfix][6], I added a [YouTrack suggestion][7].\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/13382\r\n  [2]: https://plugins.jetbrains.com/plugin/13903\r\n  [3]: https://plugins.jetbrains.com/plugin/14274\r\n  [4]: https://plugins.jetbrains.com/plugin/178\r\n  [5]: https://plugins.jetbrains.com/plugin/17939\r\n  [6]: https://stackoverflow.com/users/18430882\r\n  [7]: https://youtrack.jetbrains.com/issue/IDEA-298519","title":"Automatically indent align enum parameters in columns (table-like) in IntelliJ","body":"<p>Say I have an enum like this:</p>\n<pre><code>public enum TestEnum {\n    TEST1(5, 6, 18, 9, 3),\n    TEST2(10, 21, 4, 5, 34),\n    TEST3(4, 5, 8, 2, 16),\n    TEST4(3, 1, 92, 67, 22);\n\n    TestEnum(int i1, int i2, int i3, int i4, int i5) {\n    }\n}\n</code></pre>\n<p>How can I automatically (or by clicking <code>Ctrl</code>+<code>Alt</code>+<code>L</code>) format the enum like this:</p>\n<pre><code>public enum TestEnum {\n    TEST1   (5,     6,      18,     9,      3),\n    TEST2   (10,    21,     4,      5,      34),\n    TEST3   (4,     5,      8,      2,      16),\n    TEST4   (3,     1,      92,     67,     22);\n    \n    TestEnum(int i1, int i2, int i3, int i4, int i5) {\n    }\n}\n</code></pre>\n<p>It should optimally use tabs, so that the columns start at indexes divisible by 4 (0, 4, 8, 12 ...)</p>\n<hr />\n<p>I tried these workarounds:</p>\n<ul>\n<li>Formatting myself using <code>@formatter:off</code>, which is\n<ul>\n<li>a lot of work</li>\n<li>disables all kinds of formatting like lambda arguments and double spaces</li>\n</ul>\n</li>\n</ul>\n<p>I tried these settings:</p>\n<ul>\n<li>This setting, which did not do anything:</li>\n</ul>\n<blockquote>\n<p>Settings/Editor/Code Style/Detect and use existing file indents for editing</p>\n</blockquote>\n<ul>\n<li>This setting, which only works for fields, variables, assignments and simple methods. It doesn't seem to exist for Kotlin:</li>\n</ul>\n<blockquote>\n<p>Settings/Editor/Code Style/Java/Wrapping and Braces/Group declarations</p>\n</blockquote>\n<p>I tried these plugins:</p>\n<ul>\n<li><p><a href=\"https://plugins.jetbrains.com/plugin/13382\" rel=\"nofollow noreferrer\">Vertical Align</a> goes into the right direction, but doesn't solve the problem either. It still isn't automatic and doesn't work together with code formatting at all: When pressing <code>Ctrl</code>+<code>Alt</code>+<code>L</code>, the code goes back to normal</p>\n</li>\n<li><p>Same thing for <a href=\"https://plugins.jetbrains.com/plugin/13903\" rel=\"nofollow noreferrer\">Smart Align</a>, and commas are also being aligned, which looks very weird</p>\n</li>\n<li><p>[Edit] Same thing for <a href=\"https://plugins.jetbrains.com/plugin/14274\" rel=\"nofollow noreferrer\">Column Align</a>. It is glitched, but doesn't have any other compatibility issues (works in Kotlin, Android Studio and with enums)</p>\n</li>\n<li><p><a href=\"https://plugins.jetbrains.com/plugin/178\" rel=\"nofollow noreferrer\">Tabifier</a> is old and thus doesn't work on Android</p>\n</li>\n<li><p><a href=\"https://plugins.jetbrains.com/plugin/17939\" rel=\"nofollow noreferrer\">Java Code Aligner</a> neither works for Kotlin nor enums</p>\n</li>\n</ul>\n<p>Edit:</p>\n<p>As suggested by <a href=\"https://stackoverflow.com/users/18430882\">quickfix</a>, I added a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-298519\" rel=\"nofollow noreferrer\">YouTrack suggestion</a>.</p>\n"},{"tags":["java","jpanel","springlayout"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1659980755,"post_id":73281441,"comment_id":129419512,"body_markdown":"Easiest way is to create a panel with all your buttons and a JLabel with an empty Icon. Then when you click on the button you just set the Icon of the JLabel with your new image. Check out the section from the Swing tutorial on [How to Use Combo Boxes](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html). One of the examples shows how to change the image of the selected animal. Your code would be very similar.","body":"Easiest way is to create a panel with all your buttons and a JLabel with an empty Icon. Then when you click on the button you just set the Icon of the JLabel with your new image. Check out the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html\" rel=\"nofollow noreferrer\">How to Use Combo Boxes</a>. One of the examples shows how to change the image of the selected animal. Your code would be very similar."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1660052691,"post_id":73281441,"comment_id":129438058,"body_markdown":"Usually, if you want to make something appear and disappear, you want to place the component in a [CardLayout](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/CardLayout.html).  Side note:  Never, ever catch NullPointerExceptionNullPointerException is designed to expose programmer mistakes and should never be caught.  Use `if (resource != null)` instead.","body":"Usually, if you want to make something appear and disappear, you want to place the component in a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/CardLayout.html\" rel=\"nofollow noreferrer\">CardLayout</a>.  Side note:  Never, ever catch NullPointerExceptionNullPointerException is designed to expose programmer mistakes and should never be caught.  Use <code>if (resource != null)</code> instead."}],"owner":{"account_id":26010971,"reputation":11,"user_id":19720036,"display_name":"Todu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659977395,"creation_date":1659977395,"question_id":73281441,"body_markdown":"I have been having trouble with creating ActionListeners that don&#39;t break my entire program. I want an image of a rock to show up when the user presses the rock button. \r\n\r\nHere is the code I have in my Panel class (excluding imports &amp; class header):\r\n\t\r\n\t\r\n\tpublic MainPanel(controller controller) {\r\n\t\tsuper();\r\n\t\tthis.controller = controller;\r\n\t\tthis.layout = new SpringLayout();\r\n\t\tthis.menuPanel = new JPanel(new GridLayout(0, 1));\r\n\t\tthis.scissorsImage = new ImageIcon();\r\n\t\tthis.scissorsImageLabel = new JLabel(&quot;&quot;);\r\n\t\tthis.paperImage = new ImageIcon();\r\n\t\tthis.paperImageLabel = new JLabel(&quot;&quot;);\r\n\t\r\n\t\t\r\n\t\trockImage = new ImageIcon (getClass().getResource(&quot;&quot;));\r\n\t\trockImageLabel = new JLabel(rockImage);\r\n\t\tadd(rockImageLabel);\r\n\t\t\r\n\t\tsetupListeners(null);\r\n\t\tsetupPanel();\r\n\t\tsetupLayout();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void showRock() {\r\n\t\tString path = &quot;/rps/view/images/&quot;;\r\n\t\tString defaultName = &quot;Rock&quot;;\r\n\t\tString extension = &quot;.png&quot;;\r\n\t\t\r\n\t\ttry {\r\n\t\t\trockImage = new ImageIcon(getClass().getResource(path + extension));\r\n\t\t}\r\n\t\tcatch(NullPointerException missingFile){\r\n\t\t\trockImage = new ImageIcon(getClass().getResource(path + defaultName + extension));\r\n\t\t}\r\n\t\t\r\n\t\trockImageLabel.setIcon(rockImage);\r\n\t}\r\n\t\r\n\tpublic void setupPanel() {\r\n\t\tthis.setLayout(layout);\r\n\t\tthis.add(menuPanel);\r\n\t\tthis.rock = new JButton(&quot;Rock&quot;);\r\n\t\tlayout.putConstraint(SpringLayout.NORTH, rock, 1, SpringLayout.SOUTH, paperImageLabel);\r\n\t\tlayout.putConstraint(SpringLayout.SOUTH, rock, -175, SpringLayout.SOUTH, this);\r\n\t\tthis.paper = new JButton(&quot;Paper&quot;);\r\n\t\tthis.scissors = new JButton(&quot;Scissors&quot;);\r\n\t\tthis.add(paperImageLabel);\r\n\t\tthis.add(scissorsImageLabel);\r\n\t\tthis.add(rockImageLabel);\r\n\t\tthis.setBackground(new java.awt.Color(255, 248, 186));\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic void setupListeners(ActionEvent e) {\r\n\t\t\r\n\t}\r\n\t\r\n\r\n","title":"How do I make an image appear when you press a button in JPanel w/ SpringLayout?","body":"<p>I have been having trouble with creating ActionListeners that don't break my entire program. I want an image of a rock to show up when the user presses the rock button.</p>\n<p>Here is the code I have in my Panel class (excluding imports &amp; class header):</p>\n<pre><code>public MainPanel(controller controller) {\n    super();\n    this.controller = controller;\n    this.layout = new SpringLayout();\n    this.menuPanel = new JPanel(new GridLayout(0, 1));\n    this.scissorsImage = new ImageIcon();\n    this.scissorsImageLabel = new JLabel(&quot;&quot;);\n    this.paperImage = new ImageIcon();\n    this.paperImageLabel = new JLabel(&quot;&quot;);\n\n    \n    rockImage = new ImageIcon (getClass().getResource(&quot;&quot;));\n    rockImageLabel = new JLabel(rockImage);\n    add(rockImageLabel);\n    \n    setupListeners(null);\n    setupPanel();\n    setupLayout();\n    \n}\n\npublic void showRock() {\n    String path = &quot;/rps/view/images/&quot;;\n    String defaultName = &quot;Rock&quot;;\n    String extension = &quot;.png&quot;;\n    \n    try {\n        rockImage = new ImageIcon(getClass().getResource(path + extension));\n    }\n    catch(NullPointerException missingFile){\n        rockImage = new ImageIcon(getClass().getResource(path + defaultName + extension));\n    }\n    \n    rockImageLabel.setIcon(rockImage);\n}\n\npublic void setupPanel() {\n    this.setLayout(layout);\n    this.add(menuPanel);\n    this.rock = new JButton(&quot;Rock&quot;);\n    layout.putConstraint(SpringLayout.NORTH, rock, 1, SpringLayout.SOUTH, paperImageLabel);\n    layout.putConstraint(SpringLayout.SOUTH, rock, -175, SpringLayout.SOUTH, this);\n    this.paper = new JButton(&quot;Paper&quot;);\n    this.scissors = new JButton(&quot;Scissors&quot;);\n    this.add(paperImageLabel);\n    this.add(scissorsImageLabel);\n    this.add(rockImageLabel);\n    this.setBackground(new java.awt.Color(255, 248, 186));\n    \n    \n}\n\n\n\npublic void setupListeners(ActionEvent e) {\n    \n}\n</code></pre>\n"},{"tags":["java","mongodb","docker","ssl","tls1.2"],"comments":[{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1634240545,"post_id":69575771,"comment_id":122979196,"body_markdown":"If by Mongo Cloud you mean MongoDB Atlas, then TLS is required and will not allow connections without.","body":"If by Mongo Cloud you mean MongoDB Atlas, then TLS is required and will not allow connections without."}],"answers":[{"tags":[],"owner":{"account_id":26003368,"reputation":11,"user_id":19713492,"display_name":"vvvvvv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659977365,"creation_date":1659977365,"answer_id":73281438,"question_id":69575771,"body_markdown":"This issue is very likely to be connected with this (already fixed) bug https://jira.mongodb.org/browse/JAVA-4656 (driver fails to parse `java.version` property if it contains only dashes and no dots, `15`, `15.0.1` or `15.0.1-something` works fine, but `15-whatever` fails)\r\n\r\nSo the solution is to update your mongo driver to the latest version or maybe to update your java version to version with some dots","title":"MongoDB Atlas Java Driver TLS Issue","body":"<p>This issue is very likely to be connected with this (already fixed) bug <a href=\"https://jira.mongodb.org/browse/JAVA-4656\" rel=\"nofollow noreferrer\">https://jira.mongodb.org/browse/JAVA-4656</a> (driver fails to parse <code>java.version</code> property if it contains only dashes and no dots, <code>15</code>, <code>15.0.1</code> or <code>15.0.1-something</code> works fine, but <code>15-whatever</code> fails)</p>\n<p>So the solution is to update your mongo driver to the latest version or maybe to update your java version to version with some dots</p>\n"}],"owner":{"account_id":5680514,"reputation":37,"user_id":4491895,"display_name":"Alexander Lock-Achilleos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659977365,"creation_date":1634236686,"question_id":69575771,"body_markdown":"I have a Java based server running in Docker using openjdk:15-jdk-alpine. It connects to MongoDB Atlas using the mongodb-driver-reactivestreams driver. Similarly I have a second SpringBoot based server running in Docker that connects using the same credentials and runs just fine.\r\n\r\nWhen I run my code in in IntelliJ it runs without errors, connects to MongoDB and I can query, insert documents ect...\r\n\r\nWhen I put it in a Docker container and spin up the server, I get the following error message: `Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.mongodb.internal.connection.tlschannel.TlsChannel`\r\n\r\nWhen I disable tls using `tls=false` in the connection string I get the message `MongoSocketReadException: Prematurely reached end of stream`. \r\n\r\nIn both instances, when looking through the log I can see that the server was able to identify all the shards in my MongoDB cluster, so it is connecting to Mongo Atlas and receiving information back. \r\n\r\nMy current theory is that 1) Tls is required to connect 2) Tls is not working in my docker container for some reason to do with the JVM key store/truststore.\r\n\r\nI dont know enough about TLS or Java key store stuff to debug this, and dont know what to search to get to an answer. If anyone can point me in the right direction it will be much appreciated...\r\n\r\n```\r\n2021-10-14 17:58:53.730 DEBUG c608e84d3bb5 --- [           main] u.s.PropertiesServiceImpl : Looking for profiles.\r\n\r\n2021-10-14 17:58:53.734  INFO c608e84d3bb5 --- [           main] u.s.PropertiesServiceImpl : Profile found: dev\r\n\r\n2021-10-14 17:58:53.773 DEBUG c608e84d3bb5 --- [           main] c.p.s.c.SocketAcceptor    : Creating server Socket at port: 6666\r\n\r\n2021-10-14 17:58:53.788 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Connecting to Redis: localhost/6379\r\n\r\n2021-10-14 17:58:53.872 DEBUG c608e84d3bb5 --- [           main] r.u.Loggers               : Using Slf4j logging framework\r\n\r\n2021-10-14 17:58:54.249 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\r\n\r\n2021-10-14 17:58:54.764 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\r\n\r\n2021-10-14 17:58:55.273 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\r\n\r\n2021-10-14 17:58:55.783 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\r\n\r\n2021-10-14 17:58:56.298 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\r\n\r\n2021-10-14 17:58:56.810 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\r\n\r\n2021-10-14 17:58:57.322 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\r\n\r\n2021-10-14 17:58:57.834 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\r\n\r\n2021-10-14 17:58:58.347 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\r\n\r\n2021-10-14 17:58:58.857 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\r\n\r\n2021-10-14 17:58:59.358 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection could not be established!\r\n\r\n2021-10-14 17:58:59.554 DEBUG c608e84d3bb5 --- [           main] .s.r.s.GameControllerImpl : Starting Room Manager\r\n\r\n2021-10-14 17:58:59.646  INFO c608e84d3bb5 --- [           main] c.p.s.m.s.MongoDB         : Mongodb target is: mongodb+srv://XXXXX:XXXXX@XXXXXX.erble.gcp.mongodb.net/xxxxxxx?retryWrites=true&amp;w=majority\r\n\r\n2021-10-14 17:58:59.667 DEBUG c608e84d3bb5 --- [           main] c.p.s.m.s.MongoDB         : Starting MongoDb database...\r\n\r\n2021-10-14 17:58:59.680  INFO c608e84d3bb5 --- [           main] o.m.d.cluster             : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=XXXXXX.erble.gcp.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout=&#39;30000 ms&#39;, requiredReplicaSetName=&#39;XXXXXX-shard-0&#39;}\r\n\r\n2021-10-14 17:58:59.699 DEBUG c608e84d3bb5 --- [           main] c.p.s.m.s.MongoDB         : MongoDb client initialised.\r\n\r\n2021-10-14 17:58:59.699 DEBUG c608e84d3bb5 --- [           main] c.p.s.m.s.MongoDB         : MongoDb client initialised.\r\n\r\n2021-10-14 17:58:59.699 DEBUG c608e84d3bb5 --- [           main] c.p.s.Application         : Starting server...\r\n\r\n2021-10-14 17:58:59.700 DEBUG c608e84d3bb5 --- [ AcceptorThread] c.p.s.c.SocketAcceptor    : Starting Socket acceptor loop...\r\n\r\n2021-10-14 17:58:59.700 DEBUG c608e84d3bb5 --- [ProcessorThread] c.p.s.c.SocketProcessor   : Starting Socket processor loop...\r\n\r\n2021-10-14 17:58:59.700 DEBUG c608e84d3bb5 --- [   ReaderThread] c.p.s.c.SocketReader      : Starting Socket reader loop...\r\n\r\n2021-10-14 17:58:59.701 DEBUG c608e84d3bb5 --- [   WriterThread] c.p.s.c.SocketWriter      : Starting Socket writer loop...\r\n\r\n2021-10-14 17:58:59.702 DEBUG c608e84d3bb5 --- [       Thread-5] c.p.s.c.MessageReceiver   : Starting loop.\r\n\r\n2021-10-14 17:58:59.702 DEBUG c608e84d3bb5 --- [           main] c.p.s.m.s.MongoDB         : MongoDb client initialised.\r\n\r\n2021-10-14 17:58:59.744  INFO c608e84d3bb5 --- [gcp.mongodb.net] o.m.d.cluster             : Adding discovered server XXXXXX-shard-00-01.erble.gcp.mongodb.net:27017 to client view of cluster\r\n\r\n2021-10-14 17:58:59.766  INFO c608e84d3bb5 --- [gcp.mongodb.net] o.m.d.cluster             : Adding discovered server XXXXXX-shard-00-02.erble.gcp.mongodb.net:27017 to client view of cluster\r\n\r\n2021-10-14 17:58:59.768  INFO c608e84d3bb5 --- [gcp.mongodb.net] o.m.d.cluster             : Adding discovered server XXXXXX-shard-00-00.erble.gcp.mongodb.net:27017 to client view of cluster\r\n\r\n2021-10-14 17:58:59.770 DEBUG c608e84d3bb5 --- [gcp.mongodb.net] o.m.d.cluster             : Updating cluster description to  {type=REPLICA_SET, servers=[{address=XXXXXX-shard-00-00.erble.gcp.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=XXXXXX-shard-00-01.erble.gcp.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=XXXXXX-shard-00-02.erble.gcp.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]\r\n\r\n2021-10-14 17:59:00.093 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:6}\r\n\r\n2021-10-14 17:59:00.093 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:2}\r\n\r\n2021-10-14 17:59:00.094 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:5}\r\n\r\n2021-10-14 17:59:00.095 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:3}\r\n\r\n2021-10-14 17:59:00.095 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:1}\r\n\r\n2021-10-14 17:59:00.096 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:4}\r\n\r\n2021-10-14 17:59:00.095  INFO c608e84d3bb5 --- [ngodb.net:27017] o.m.d.cluster             : Exception in monitor thread while connecting to server XXXXXX-shard-00-00.erble.gcp.mongodb.net:27017\r\n\r\ncom.mongodb.MongoInternalException: Opening the TlsChannelStream failed\r\n\r\nat com.mongodb.internal.connection.AsynchronousChannelStream$FutureAsyncCompletionHandler.get(AsynchronousChannelStream.java:328)\r\n\r\nat com.mongodb.internal.connection.AsynchronousChannelStream$FutureAsyncCompletionHandler.getOpen(AsynchronousChannelStream.java:304)\r\n\r\nat com.mongodb.internal.connection.AsynchronousChannelStream.open(AsynchronousChannelStream.java:125)\r\n\r\nat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:165)\r\n\r\nat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:195)\r\n\r\nat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:151)\r\n\r\nat java.base/java.lang.Thread.run(Thread.java:832)\r\n\r\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.mongodb.internal.connection.tlschannel.TlsChannel\r\n\r\nat com.mongodb.internal.connection.tlschannel.TlsChannelBuilder.&lt;init&gt;(TlsChannelBuilder.java:37)\r\n\r\nat com.mongodb.internal.connection.tlschannel.ClientTlsChannel$Builder.&lt;init&gt;(ClientTlsChannel.java:45)\r\n\r\nat com.mongodb.internal.connection.tlschannel.ClientTlsChannel$Builder.&lt;init&gt;(ClientTlsChannel.java:40)\r\n\r\nat com.mongodb.internal.connection.tlschannel.ClientTlsChannel.newBuilder(ClientTlsChannel.java:87)\r\n\r\nat com.mongodb.connection.TlsChannelStreamFactoryFactory$TlsChannelStream.lambda$openAsync$0(TlsChannelStreamFactoryFactory.java:236)\r\n\r\nat com.mongodb.connection.TlsChannelStreamFactoryFactory$SelectorMonitor.lambda$start$0(TlsChannelStreamFactoryFactory.java:141)\r\n\r\n... 1 more\r\n```","title":"MongoDB Atlas Java Driver TLS Issue","body":"<p>I have a Java based server running in Docker using openjdk:15-jdk-alpine. It connects to MongoDB Atlas using the mongodb-driver-reactivestreams driver. Similarly I have a second SpringBoot based server running in Docker that connects using the same credentials and runs just fine.</p>\n<p>When I run my code in in IntelliJ it runs without errors, connects to MongoDB and I can query, insert documents ect...</p>\n<p>When I put it in a Docker container and spin up the server, I get the following error message: <code>Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.mongodb.internal.connection.tlschannel.TlsChannel</code></p>\n<p>When I disable tls using <code>tls=false</code> in the connection string I get the message <code>MongoSocketReadException: Prematurely reached end of stream</code>.</p>\n<p>In both instances, when looking through the log I can see that the server was able to identify all the shards in my MongoDB cluster, so it is connecting to Mongo Atlas and receiving information back.</p>\n<p>My current theory is that 1) Tls is required to connect 2) Tls is not working in my docker container for some reason to do with the JVM key store/truststore.</p>\n<p>I dont know enough about TLS or Java key store stuff to debug this, and dont know what to search to get to an answer. If anyone can point me in the right direction it will be much appreciated...</p>\n<pre><code>2021-10-14 17:58:53.730 DEBUG c608e84d3bb5 --- [           main] u.s.PropertiesServiceImpl : Looking for profiles.\n\n2021-10-14 17:58:53.734  INFO c608e84d3bb5 --- [           main] u.s.PropertiesServiceImpl : Profile found: dev\n\n2021-10-14 17:58:53.773 DEBUG c608e84d3bb5 --- [           main] c.p.s.c.SocketAcceptor    : Creating server Socket at port: 6666\n\n2021-10-14 17:58:53.788 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Connecting to Redis: localhost/6379\n\n2021-10-14 17:58:53.872 DEBUG c608e84d3bb5 --- [           main] r.u.Loggers               : Using Slf4j logging framework\n\n2021-10-14 17:58:54.249 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\n\n2021-10-14 17:58:54.764 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\n\n2021-10-14 17:58:55.273 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\n\n2021-10-14 17:58:55.783 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\n\n2021-10-14 17:58:56.298 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\n\n2021-10-14 17:58:56.810 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\n\n2021-10-14 17:58:57.322 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\n\n2021-10-14 17:58:57.834 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\n\n2021-10-14 17:58:58.347 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\n\n2021-10-14 17:58:58.857 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection failed, retrying...\n\n2021-10-14 17:58:59.358 DEBUG c608e84d3bb5 --- [           main] s.r.s.RedisConnectionImpl : Redis connection could not be established!\n\n2021-10-14 17:58:59.554 DEBUG c608e84d3bb5 --- [           main] .s.r.s.GameControllerImpl : Starting Room Manager\n\n2021-10-14 17:58:59.646  INFO c608e84d3bb5 --- [           main] c.p.s.m.s.MongoDB         : Mongodb target is: mongodb+srv://XXXXX:XXXXX@XXXXXX.erble.gcp.mongodb.net/xxxxxxx?retryWrites=true&amp;w=majority\n\n2021-10-14 17:58:59.667 DEBUG c608e84d3bb5 --- [           main] c.p.s.m.s.MongoDB         : Starting MongoDb database...\n\n2021-10-14 17:58:59.680  INFO c608e84d3bb5 --- [           main] o.m.d.cluster             : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=XXXXXX.erble.gcp.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='XXXXXX-shard-0'}\n\n2021-10-14 17:58:59.699 DEBUG c608e84d3bb5 --- [           main] c.p.s.m.s.MongoDB         : MongoDb client initialised.\n\n2021-10-14 17:58:59.699 DEBUG c608e84d3bb5 --- [           main] c.p.s.m.s.MongoDB         : MongoDb client initialised.\n\n2021-10-14 17:58:59.699 DEBUG c608e84d3bb5 --- [           main] c.p.s.Application         : Starting server...\n\n2021-10-14 17:58:59.700 DEBUG c608e84d3bb5 --- [ AcceptorThread] c.p.s.c.SocketAcceptor    : Starting Socket acceptor loop...\n\n2021-10-14 17:58:59.700 DEBUG c608e84d3bb5 --- [ProcessorThread] c.p.s.c.SocketProcessor   : Starting Socket processor loop...\n\n2021-10-14 17:58:59.700 DEBUG c608e84d3bb5 --- [   ReaderThread] c.p.s.c.SocketReader      : Starting Socket reader loop...\n\n2021-10-14 17:58:59.701 DEBUG c608e84d3bb5 --- [   WriterThread] c.p.s.c.SocketWriter      : Starting Socket writer loop...\n\n2021-10-14 17:58:59.702 DEBUG c608e84d3bb5 --- [       Thread-5] c.p.s.c.MessageReceiver   : Starting loop.\n\n2021-10-14 17:58:59.702 DEBUG c608e84d3bb5 --- [           main] c.p.s.m.s.MongoDB         : MongoDb client initialised.\n\n2021-10-14 17:58:59.744  INFO c608e84d3bb5 --- [gcp.mongodb.net] o.m.d.cluster             : Adding discovered server XXXXXX-shard-00-01.erble.gcp.mongodb.net:27017 to client view of cluster\n\n2021-10-14 17:58:59.766  INFO c608e84d3bb5 --- [gcp.mongodb.net] o.m.d.cluster             : Adding discovered server XXXXXX-shard-00-02.erble.gcp.mongodb.net:27017 to client view of cluster\n\n2021-10-14 17:58:59.768  INFO c608e84d3bb5 --- [gcp.mongodb.net] o.m.d.cluster             : Adding discovered server XXXXXX-shard-00-00.erble.gcp.mongodb.net:27017 to client view of cluster\n\n2021-10-14 17:58:59.770 DEBUG c608e84d3bb5 --- [gcp.mongodb.net] o.m.d.cluster             : Updating cluster description to  {type=REPLICA_SET, servers=[{address=XXXXXX-shard-00-00.erble.gcp.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=XXXXXX-shard-00-01.erble.gcp.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=XXXXXX-shard-00-02.erble.gcp.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]\n\n2021-10-14 17:59:00.093 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:6}\n\n2021-10-14 17:59:00.093 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:2}\n\n2021-10-14 17:59:00.094 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:5}\n\n2021-10-14 17:59:00.095 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:3}\n\n2021-10-14 17:59:00.095 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:1}\n\n2021-10-14 17:59:00.096 DEBUG c608e84d3bb5 --- [ngodb.net:27017] o.m.d.connection          : Closing connection connectionId{localValue:4}\n\n2021-10-14 17:59:00.095  INFO c608e84d3bb5 --- [ngodb.net:27017] o.m.d.cluster             : Exception in monitor thread while connecting to server XXXXXX-shard-00-00.erble.gcp.mongodb.net:27017\n\ncom.mongodb.MongoInternalException: Opening the TlsChannelStream failed\n\nat com.mongodb.internal.connection.AsynchronousChannelStream$FutureAsyncCompletionHandler.get(AsynchronousChannelStream.java:328)\n\nat com.mongodb.internal.connection.AsynchronousChannelStream$FutureAsyncCompletionHandler.getOpen(AsynchronousChannelStream.java:304)\n\nat com.mongodb.internal.connection.AsynchronousChannelStream.open(AsynchronousChannelStream.java:125)\n\nat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:165)\n\nat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:195)\n\nat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:151)\n\nat java.base/java.lang.Thread.run(Thread.java:832)\n\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.mongodb.internal.connection.tlschannel.TlsChannel\n\nat com.mongodb.internal.connection.tlschannel.TlsChannelBuilder.&lt;init&gt;(TlsChannelBuilder.java:37)\n\nat com.mongodb.internal.connection.tlschannel.ClientTlsChannel$Builder.&lt;init&gt;(ClientTlsChannel.java:45)\n\nat com.mongodb.internal.connection.tlschannel.ClientTlsChannel$Builder.&lt;init&gt;(ClientTlsChannel.java:40)\n\nat com.mongodb.internal.connection.tlschannel.ClientTlsChannel.newBuilder(ClientTlsChannel.java:87)\n\nat com.mongodb.connection.TlsChannelStreamFactoryFactory$TlsChannelStream.lambda$openAsync$0(TlsChannelStreamFactoryFactory.java:236)\n\nat com.mongodb.connection.TlsChannelStreamFactoryFactory$SelectorMonitor.lambda$start$0(TlsChannelStreamFactoryFactory.java:141)\n\n... 1 more\n</code></pre>\n"},{"tags":["java","maven","dependencies","pom.xml"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1659962916,"post_id":73278139,"comment_id":129412602,"body_markdown":"Create a release yourself?","body":"Create a release yourself?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659963153,"post_id":73278139,"comment_id":129412685,"body_markdown":"First thought create a release of it because it&#39;s needed for building your code... furthermore I would ask why do you use such code which is needed for compilation but not used for production env. Sounds like a strange thing to be honest?? can you explain that more in detail?","body":"First thought create a release of it because it&#39;s needed for building your code... furthermore I would ask why do you use such code which is needed for compilation but not used for production env. Sounds like a strange thing to be honest?? can you explain that more in detail?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659963214,"post_id":73278139,"comment_id":129412708,"body_markdown":"Depending on the license of Project B, you could &quot;unpack&quot; it&#39;s contents and re-package it with a new (release) version. Or copy the classes you need into Project A.","body":"Depending on the license of Project B, you could &quot;unpack&quot; it&#39;s contents and re-package it with a new (release) version. Or copy the classes you need into Project A."},{"owner":{"account_id":1929456,"reputation":601,"user_id":1739193,"display_name":"btafarelo"},"score":0,"creation_date":1659963441,"post_id":73278139,"comment_id":129412808,"body_markdown":"as you don&#39;t need it on production, could you create a profile in your maven file and run 2 builds? One build for your non-production propouses and the release one.","body":"as you don&#39;t need it on production, could you create a profile in your maven file and run 2 builds? One build for your non-production propouses and the release one."},{"owner":{"account_id":22385773,"reputation":86,"user_id":16598611,"display_name":"fko"},"score":0,"creation_date":1660032885,"post_id":73278139,"comment_id":129430661,"body_markdown":"Same module used in two different computer. In one computer, that dependency is provided by the environment and dependency will be used in my project actively. In other computer, that dependency will not be referenced in my module and also environment will not provide that jar.","body":"Same module used in two different computer. In one computer, that dependency is provided by the environment and dependency will be used in my project actively. In other computer, that dependency will not be referenced in my module and also environment will not provide that jar."},{"owner":{"account_id":22385773,"reputation":86,"user_id":16598611,"display_name":"fko"},"score":0,"creation_date":1660032957,"post_id":73278139,"comment_id":129430690,"body_markdown":"@btafarelo release still not gonna let me use snapshot in any profile.","body":"@btafarelo release still not gonna let me use snapshot in any profile."},{"owner":{"account_id":1929456,"reputation":601,"user_id":1739193,"display_name":"btafarelo"},"score":0,"creation_date":1660117813,"post_id":73278139,"comment_id":129454266,"body_markdown":"Put the snapshot in a profile is trackable and it limit its usage. Anything else from their sight will be bypassing their policy as the dependency isn&#39;t provided as a release officially. Repack the lib inside your app might be the only solution possible but I considere it as a &quot;cheat&quot;. It will depend if they will accept or just no one cares since there&#39;s no snapshot in a pom.","body":"Put the snapshot in a profile is trackable and it limit its usage. Anything else from their sight will be bypassing their policy as the dependency isn&#39;t provided as a release officially. Repack the lib inside your app might be the only solution possible but I considere it as a &quot;cheat&quot;. It will depend if they will accept or just no one cares since there&#39;s no snapshot in a pom."}],"owner":{"account_id":22385773,"reputation":86,"user_id":16598611,"display_name":"fko"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659977330,"creation_date":1659962832,"question_id":73278139,"body_markdown":"I have a project that uses a dependency only for compilation and it will not use it on the production environment for some configurations (Never make reference to those classes in that dependecy). That dependency has only snapshot version and I cannot use snapshot on release versions on Jenkins jobs (company rules). How can I achieve this? Is there work-arounds to handle this? \r\nSetting scope to provided has no effect on build process. \r\n\r\nProject A (release) -- depends --&gt; Project B (snapshot)\r\n\r\nThere is no way of getting release of project B.\r\n","title":"Java compile time needed dependency causing problem in job","body":"<p>I have a project that uses a dependency only for compilation and it will not use it on the production environment for some configurations (Never make reference to those classes in that dependecy). That dependency has only snapshot version and I cannot use snapshot on release versions on Jenkins jobs (company rules). How can I achieve this? Is there work-arounds to handle this?\nSetting scope to provided has no effect on build process.</p>\n<p>Project A (release) -- depends --&gt; Project B (snapshot)</p>\n<p>There is no way of getting release of project B.</p>\n"},{"tags":["java","maven","jar"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1659545088,"post_id":73224767,"comment_id":129321425,"body_markdown":"When your executable JAR uses libraries, you must add them to the classpath [specified in the JAR&#39;s manifest file](https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html) and those JAR files must also be in the right location at runtime. If you want to have a single JAR file with all the dependencies included, then you can use the [Maven Shade Plugin](https://maven.apache.org/plugins/maven-shade-plugin/) to make a &quot;fat JAR&quot; = a single JAR file with all the dependencies included inside it.","body":"When your executable JAR uses libraries, you must add them to the classpath <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\" rel=\"nofollow noreferrer\">specified in the JAR&#39;s manifest file</a> and those JAR files must also be in the right location at runtime. If you want to have a single JAR file with all the dependencies included, then you can use the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Maven Shade Plugin</a> to make a &quot;fat JAR&quot; = a single JAR file with all the dependencies included inside it."}],"answers":[{"tags":[],"owner":{"account_id":4312800,"reputation":2232,"user_id":3523464,"accept_rate":88,"display_name":"sdgaw erzswer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659977330,"creation_date":1659977330,"answer_id":73281428,"question_id":73224767,"body_markdown":"As suggested by @Jesper, using https://maven.apache.org/plugins/maven-shade-plugin/ did the trick. ","title":"Using commons-codec in a stand-alone JAR via Maven","body":"<p>As suggested by @Jesper, using <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-shade-plugin/</a> did the trick.</p>\n"}],"owner":{"account_id":4312800,"reputation":2232,"user_id":3523464,"accept_rate":88,"display_name":"sdgaw erzswer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659977330,"creation_date":1659544291,"question_id":73224767,"body_markdown":"I&#39;ve been recently trying to create a simple CLI tool. My flow is as follows:\r\n1. created the project with Maven from the default archetype \r\n```mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4 -DinteractiveMode=false```\r\n2. I build the project with `mvn clean install`. This creates a `targets` folder, containing the `.jar`.\r\n3. To run as `java -jar ./someJar.jar {INPUT}`, I&#39;ve had to add a few things to `pom.xml`, e.g., \r\n```\r\n\t\t&lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n\t\t\t&lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t&lt;/descriptorRefs&gt;\r\n          &lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n```\r\nbut this works fine, *until* I try to add an external library. For example, I&#39;ve been trying to add murmur3 hashing capability via `commons-codec`, by adding\r\n```\r\n\t&lt;dependency&gt;\r\n\t  &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t  &lt;version&gt;1.15&lt;/version&gt;\r\n\t&lt;/dependency&gt;\t\r\n```\r\nto the `pom.xml`. Source using this is as simple as it gets:\r\n```\r\npackage com.someRandomString.app;\r\nimport org.apache.commons.codec.digest.MurmurHash3;\r\n\r\npublic class hasherServiceOfSorts {\r\n\tpublic static int murmur3_hash(final String data) {\r\n\t\treturn MurmurHash3.hash32(data);\r\n\t}\r\n}\r\n\r\n```\r\nand, upon invoking `mvn clean install`, actually builds fine. the issue is, when running the `jar`. It fails when invoking this method with \r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/codec/digest/MurmurHash3\r\n```\r\nindicating the origin `commons-codec` is not part of the baked JAR. My question is, what am I doing wrong/how does one force maven to include external JARs in the final package (if possible). I guess the alternative would be to run via `java -cp some.jar some.class.app`, which I&#39;m trying to avoid (having a single &quot;binary&quot; is very attractive. Thanks!","title":"Using commons-codec in a stand-alone JAR via Maven","body":"<p>I've been recently trying to create a simple CLI tool. My flow is as follows:</p>\n<ol>\n<li>created the project with Maven from the default archetype\n<code>mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4 -DinteractiveMode=false</code></li>\n<li>I build the project with <code>mvn clean install</code>. This creates a <code>targets</code> folder, containing the <code>.jar</code>.</li>\n<li>To run as <code>java -jar ./someJar.jar {INPUT}</code>, I've had to add a few things to <code>pom.xml</code>, e.g.,</li>\n</ol>\n<pre><code>        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>but this works fine, <em>until</em> I try to add an external library. For example, I've been trying to add murmur3 hashing capability via <code>commons-codec</code>, by adding</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n      &lt;version&gt;1.15&lt;/version&gt;\n    &lt;/dependency&gt;   \n</code></pre>\n<p>to the <code>pom.xml</code>. Source using this is as simple as it gets:</p>\n<pre><code>package com.someRandomString.app;\nimport org.apache.commons.codec.digest.MurmurHash3;\n\npublic class hasherServiceOfSorts {\n    public static int murmur3_hash(final String data) {\n        return MurmurHash3.hash32(data);\n    }\n}\n\n</code></pre>\n<p>and, upon invoking <code>mvn clean install</code>, actually builds fine. the issue is, when running the <code>jar</code>. It fails when invoking this method with</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/codec/digest/MurmurHash3\n</code></pre>\n<p>indicating the origin <code>commons-codec</code> is not part of the baked JAR. My question is, what am I doing wrong/how does one force maven to include external JARs in the final package (if possible). I guess the alternative would be to run via <code>java -cp some.jar some.class.app</code>, which I'm trying to avoid (having a single &quot;binary&quot; is very attractive. Thanks!</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":1363919,"reputation":912,"user_id":1300757,"accept_rate":55,"display_name":"anupamD"},"score":1,"creation_date":1659965842,"post_id":73277907,"comment_id":129413707,"body_markdown":"You may have to write another serializer that returns formatted String. Then use `DecimalFormat df = new DecimalFormat(&quot;####0.00&quot;);\nString tax = df.format(value);`","body":"You may have to write another serializer that returns formatted String. Then use <code>DecimalFormat df = new DecimalFormat(&quot;####0.00&quot;); String tax = df.format(value);</code>"},{"owner":{"account_id":17166830,"reputation":25,"user_id":12424935,"display_name":"DjWarWick"},"score":0,"creation_date":1659969337,"post_id":73277907,"comment_id":129415113,"body_markdown":"I have also tried using a serializer (which btw, from what i can see now, i have made a confusion between serializing and deserializing). My problem right now is that i need to send a JSON response body, and the tax value should be numeric in the JSON, while keeping the scale format of 2.20.","body":"I have also tried using a serializer (which btw, from what i can see now, i have made a confusion between serializing and deserializing). My problem right now is that i need to send a JSON response body, and the tax value should be numeric in the JSON, while keeping the scale format of 2.20."}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659977127,"creation_date":1659977127,"answer_id":73281387,"question_id":73277907,"body_markdown":"It is possible if you create a custom serializer extending the `StdSerializer` class and include in its `serialize` method the [`BigDecimal#setScale-int-java.math.RoundingMode`](https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-) method:\r\n\r\n~~~\r\npublic class CustomSerializer extends StdSerializer&lt;BigDecimal&gt; {\r\n\r\n    public CustomSerializer() {\r\n        super(BigDecimal.class);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(BigDecimal t, JsonGenerator jg, SerializerProvider sp) throws IOException {\r\n        BigDecimal value = t.setScale(2, RoundingMode.HALF_EVEN);\r\n        jg.writeNumber(value);\r\n    }\r\n}\r\n~~~\r\n\r\nThen you can annotate the `BigDecimal` field with the [`JsonSerialize`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/annotation/JsonSerialize.html) annotation obtaining the expected result:\r\n\r\n~~~\r\npublic class ResponseObjectDto {\r\n\r\n    @JsonSerialize(using = CustomSerializer.class)\r\n    private BigDecimal tax;\r\n}\r\n~~~","title":"Serialize BigDecimal attribute from a webservice to have a scale of 2","body":"<p>It is possible if you create a custom serializer extending the <code>StdSerializer</code> class and include in its <code>serialize</code> method the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-\" rel=\"nofollow noreferrer\"><code>BigDecimal#setScale-int-java.math.RoundingMode</code></a> method:</p>\n<pre><code>public class CustomSerializer extends StdSerializer&lt;BigDecimal&gt; {\n\n    public CustomSerializer() {\n        super(BigDecimal.class);\n    }\n\n    @Override\n    public void serialize(BigDecimal t, JsonGenerator jg, SerializerProvider sp) throws IOException {\n        BigDecimal value = t.setScale(2, RoundingMode.HALF_EVEN);\n        jg.writeNumber(value);\n    }\n}\n</code></pre>\n<p>Then you can annotate the <code>BigDecimal</code> field with the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/annotation/JsonSerialize.html\" rel=\"nofollow noreferrer\"><code>JsonSerialize</code></a> annotation obtaining the expected result:</p>\n<pre><code>public class ResponseObjectDto {\n\n    @JsonSerialize(using = CustomSerializer.class)\n    private BigDecimal tax;\n}\n</code></pre>\n"}],"owner":{"account_id":17166830,"reputation":25,"user_id":12424935,"display_name":"DjWarWick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73281387,"answer_count":1,"score":1,"last_activity_date":1659977127,"creation_date":1659961812,"question_id":73277907,"body_markdown":"The consumer of the SpringBoot webservice needs to receive a response JSON representing an object with multiple properties, one which represents tax with a BigDecimal type. The current implementation returns a value of \r\n\r\n    {\r\n    ...\r\n    tax: 2.2\r\n    ...\r\n    }\r\n\r\nbut the consumer wants the value to be represented like this:\r\n\r\n    {\r\n    ...\r\n    tax: 2.20\r\n    ...\r\n    }\r\n\r\nIs there a way to do this serialization of the value, without making it a String in the JSON response?\r\n\r\n### BEFORE EDIT ###\r\nI have tried creating a custom Deserializer like so:\r\n\r\n    public class BigDecimal2JsonDeserializer extends NumberDeserializers.BigDecimalDeserializer {\r\n    \r\n        @Override\r\n        public BigDecimal deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            BigDecimal value = super.deserialize(p, ctxt);\r\n            value = value.setScale(2, BigDecimal.ROUND_HALF_EVEN);\r\n            return value;\r\n        }\r\n    }\r\n\r\nand then implement it like so:\r\n\r\n    public class ResponseObjectDto {\r\n    @JsonDeserialize(using = BigDecimal2JsonDeserializer.class)\r\n    private BigDecimal tax;\r\n    }\r\n\r\nbut it was unsuccessfull.\r\n\r\n### AFTER EDIT ###\r\nI have also tried using a serializer but i haven&#39;t found a way to output a numeric value in the JSON, with the correct scale of 2.20\r\n\r\n**Note**: yes, i&#39;m aware that 2.2 = 2.20 and that it will be read correctly by the deserializer, it&#39;s just what the consumer asked me to implement ","title":"Serialize BigDecimal attribute from a webservice to have a scale of 2","body":"<p>The consumer of the SpringBoot webservice needs to receive a response JSON representing an object with multiple properties, one which represents tax with a BigDecimal type. The current implementation returns a value of</p>\n<pre><code>{\n...\ntax: 2.2\n...\n}\n</code></pre>\n<p>but the consumer wants the value to be represented like this:</p>\n<pre><code>{\n...\ntax: 2.20\n...\n}\n</code></pre>\n<p>Is there a way to do this serialization of the value, without making it a String in the JSON response?</p>\n<h3>BEFORE EDIT</h3>\n<p>I have tried creating a custom Deserializer like so:</p>\n<pre><code>public class BigDecimal2JsonDeserializer extends NumberDeserializers.BigDecimalDeserializer {\n\n    @Override\n    public BigDecimal deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        BigDecimal value = super.deserialize(p, ctxt);\n        value = value.setScale(2, BigDecimal.ROUND_HALF_EVEN);\n        return value;\n    }\n}\n</code></pre>\n<p>and then implement it like so:</p>\n<pre><code>public class ResponseObjectDto {\n@JsonDeserialize(using = BigDecimal2JsonDeserializer.class)\nprivate BigDecimal tax;\n}\n</code></pre>\n<p>but it was unsuccessfull.</p>\n<h3>AFTER EDIT</h3>\n<p>I have also tried using a serializer but i haven't found a way to output a numeric value in the JSON, with the correct scale of 2.20</p>\n<p><strong>Note</strong>: yes, i'm aware that 2.2 = 2.20 and that it will be read correctly by the deserializer, it's just what the consumer asked me to implement</p>\n"},{"tags":["java","spring","spring-boot","junit","autowired"],"comments":[{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1586184927,"post_id":61062570,"comment_id":108028106,"body_markdown":"Does this answer your question? [Spring not autowiring in unit tests with JUnit](https://stackoverflow.com/questions/17623694/spring-not-autowiring-in-unit-tests-with-junit)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17623694/spring-not-autowiring-in-unit-tests-with-junit\">Spring not autowiring in unit tests with JUnit</a>"},{"owner":{"account_id":12720719,"reputation":505,"user_id":9241242,"display_name":"victor dabija"},"score":0,"creation_date":1586185274,"post_id":61062570,"comment_id":108028302,"body_markdown":"no it doesn&#39;t my the @autowired variable is correctly set in test class, the nested one is still null","body":"no it doesn&#39;t my the @autowired variable is correctly set in test class, the nested one is still null"},{"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"score":0,"creation_date":1648057143,"post_id":61062570,"comment_id":126530206,"body_markdown":"check this working solution : https://stackoverflow.com/a/71591567/5108695","body":"check this working solution : <a href=\"https://stackoverflow.com/a/71591567/5108695\">stackoverflow.com/a/71591567/5108695</a>"}],"answers":[{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586186819,"creation_date":1586186322,"answer_id":61063103,"question_id":61062570,"body_markdown":"First you need to annotate your test class with:\r\n\r\n    @RunWith( SpringJUnit4ClassRunner.class )\r\n\r\nThen about MyClass:\r\n\r\n    @Autowired \r\n    MyClass testedInstance;\r\n\r\nyou need to delete the `= new MyClass();` because you are autowiring it.\r\n\r\nThen since now you are injecting `MyClass` if there is available for injection instance of MyClass2 it will be injected in MyClass, if not it will not.\r\n\r\nYou need to configure your application context so that such bean MyClass2 exists,\r\n","title":"The @Autowired field is null during tests with Junit, how can i mock/instantiate it?","body":"<p>First you need to annotate your test class with:</p>\n\n<pre><code>@RunWith( SpringJUnit4ClassRunner.class )\n</code></pre>\n\n<p>Then about MyClass:</p>\n\n<pre><code>@Autowired \nMyClass testedInstance;\n</code></pre>\n\n<p>you need to delete the <code>= new MyClass();</code> because you are autowiring it.</p>\n\n<p>Then since now you are injecting <code>MyClass</code> if there is available for injection instance of MyClass2 it will be injected in MyClass, if not it will not.</p>\n\n<p>You need to configure your application context so that such bean MyClass2 exists,</p>\n"},{"tags":[],"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648057222,"creation_date":1648057222,"answer_id":71591699,"question_id":61062570,"body_markdown":"you can check the original answer\r\n\r\nhttps://stackoverflow.com/a/71591567/5108695\r\n\r\nBut this is very common problem so I posted the answer here also\r\n\r\n\r\nIn my opinion, we are writing unit test cases and we should not initialize the spring context in order to test a piece of code.\r\n\r\nSo,\r\n\r\nI used Mockito to mock the `Autowired` beans in my main target test class and injected those mock beans in my main test class Object\r\n\r\nmaybe sounds confusing, see the following example &#128165;\r\n\r\nDependencies I used\r\n\r\n```\r\n    testImplementation(&quot;org.mockito:mockito-core:2.28.2&quot;)\r\n    testImplementation(&quot;org.mockito:mockito-inline:2.13.0&quot;)\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.8.2&quot;)\r\n    testImplementation(&quot;org.mockito:mockito-junit-jupiter:4.0.0&quot;)\r\n```\r\n\r\n\r\nMy main class is Maths and Calculator bean is autowired \r\n\r\n\r\n```\r\n\r\nclass Maths{\r\n\r\n   @Autowired Calculator cal;\r\n\r\n   .........\r\n   .........\r\n\r\n   public void randomAddMethod(){\r\n      cal.addTwoNumbers(1,2); // will return 3;\r\n   }\r\n}\r\n\r\n```\r\n\r\nTest class\r\n\r\n```\r\n\r\n@ExtendWith(MockitoExtension.class)\r\n\r\nclass MathsTest{\r\n\r\n   @Mock(answer = Answers.RETURNS_DEEP_STUBS) Calculator cal;\r\n\r\n   @InjectMocks Maths maths = new Maths();\r\n\r\n   @Test testMethodToCheckCalObjectIsNotNull(){\r\n      maths.randomAddMethod();\r\n   }\r\n}\r\n\r\n```\r\n\r\nNow `cal` will not be null in Maths class and will work as expected","title":"The @Autowired field is null during tests with Junit, how can i mock/instantiate it?","body":"<p>you can check the original answer</p>\n<p><a href=\"https://stackoverflow.com/a/71591567/5108695\">https://stackoverflow.com/a/71591567/5108695</a></p>\n<p>But this is very common problem so I posted the answer here also</p>\n<p>In my opinion, we are writing unit test cases and we should not initialize the spring context in order to test a piece of code.</p>\n<p>So,</p>\n<p>I used Mockito to mock the <code>Autowired</code> beans in my main target test class and injected those mock beans in my main test class Object</p>\n<p>maybe sounds confusing, see the following example </p>\n<p>Dependencies I used</p>\n<pre><code>    testImplementation(&quot;org.mockito:mockito-core:2.28.2&quot;)\n    testImplementation(&quot;org.mockito:mockito-inline:2.13.0&quot;)\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.8.2&quot;)\n    testImplementation(&quot;org.mockito:mockito-junit-jupiter:4.0.0&quot;)\n</code></pre>\n<p>My main class is Maths and Calculator bean is autowired</p>\n<pre><code>\nclass Maths{\n\n   @Autowired Calculator cal;\n\n   .........\n   .........\n\n   public void randomAddMethod(){\n      cal.addTwoNumbers(1,2); // will return 3;\n   }\n}\n\n</code></pre>\n<p>Test class</p>\n<pre><code>\n@ExtendWith(MockitoExtension.class)\n\nclass MathsTest{\n\n   @Mock(answer = Answers.RETURNS_DEEP_STUBS) Calculator cal;\n\n   @InjectMocks Maths maths = new Maths();\n\n   @Test testMethodToCheckCalObjectIsNotNull(){\n      maths.randomAddMethod();\n   }\n}\n\n</code></pre>\n<p>Now <code>cal</code> will not be null in Maths class and will work as expected</p>\n"},{"tags":[],"owner":{"account_id":114848,"reputation":134179,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659976918,"creation_date":1659976918,"answer_id":73281354,"question_id":61062570,"body_markdown":"Something that can bite is if you&#39;re using the implementation class for autowiring purposes in tests, but the operational code is using an interface instead _and there is proxying_. This can happen if, for example, you are using `@PreAuthorize` annotations from Spring Security, or pointcuts from Spring AOP. I&#39;m not 100% sure if this happens with CGLIB proxies, but it definitely happens with JDK proxies.\r\n\r\nYou have to get exactly the correct bean or things will not work and you will get very strange (&quot;impossible&quot;) null pointer exceptions due to the bean you&#39;re testing being in a half-configured state.","title":"The @Autowired field is null during tests with Junit, how can i mock/instantiate it?","body":"<p>Something that can bite is if you're using the implementation class for autowiring purposes in tests, but the operational code is using an interface instead <em>and there is proxying</em>. This can happen if, for example, you are using <code>@PreAuthorize</code> annotations from Spring Security, or pointcuts from Spring AOP. I'm not 100% sure if this happens with CGLIB proxies, but it definitely happens with JDK proxies.</p>\n<p>You have to get exactly the correct bean or things will not work and you will get very strange (&quot;impossible&quot;) null pointer exceptions due to the bean you're testing being in a half-configured state.</p>\n"}],"owner":{"account_id":12720719,"reputation":505,"user_id":9241242,"display_name":"victor dabija"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4717,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1659976918,"creation_date":1586184751,"question_id":61062570,"body_markdown":"I Have no access to `MyClass2` code and can&#39;t change it. How do i mock/instantiate `MyClass2 myClass2`?\r\n\r\nClasses and code test:\r\n\r\n    @RunWith(JUnit4.class)//can&#39;t change thisone\r\n    public class MyTest\r\n    {\r\n    \t@Autowired // or not, tried both ways\r\n    \tMyClass testedInstance= new MyClass();\r\n    \t@Test\r\n    \tpublic void boot() throws Exception{\r\n    \t\ttestedInstance.boot();\r\n    \t\tassertTrue(true);\r\n    \t}\r\n    }\r\n    \r\n    public class MyClass\r\n    {\r\n    \t@Autowired \r\n    \tprivate MyClass2 myClass2;\r\n    \r\n    \tvoid boot()\r\n    \t{\r\n    \t\tmyClass2.foo();//getting a null pointer here\r\n    \t}\r\n    }","title":"The @Autowired field is null during tests with Junit, how can i mock/instantiate it?","body":"<p>I Have no access to <code>MyClass2</code> code and can't change it. How do i mock/instantiate <code>MyClass2 myClass2</code>?</p>\n\n<p>Classes and code test:</p>\n\n<pre><code>@RunWith(JUnit4.class)//can't change thisone\npublic class MyTest\n{\n    @Autowired // or not, tried both ways\n    MyClass testedInstance= new MyClass();\n    @Test\n    public void boot() throws Exception{\n        testedInstance.boot();\n        assertTrue(true);\n    }\n}\n\npublic class MyClass\n{\n    @Autowired \n    private MyClass2 myClass2;\n\n    void boot()\n    {\n        myClass2.foo();//getting a null pointer here\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","hibernate-criteria"],"comments":[{"owner":{"account_id":10380162,"reputation":13,"user_id":7655224,"display_name":"arturPabjanczyk"},"score":0,"creation_date":1654586072,"post_id":72489135,"comment_id":128119218,"body_markdown":"For now, I gave up, while saving I extract the attribute to the column and filter it.","body":"For now, I gave up, while saving I extract the attribute to the column and filter it."}],"answers":[{"tags":[],"owner":{"account_id":11961317,"reputation":670,"user_id":8752286,"display_name":"Georg Moser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659976533,"creation_date":1659976533,"answer_id":73281283,"question_id":72489135,"body_markdown":"I have described how to filter using  the `jsonb_path_exists` function in the following answer. For details check: https://stackoverflow.com/a/73280813/8752286\r\n\r\nTLDR: I called the function like this:\r\n\r\n            return criteriaBuilder.function(&quot;jsonb_filter&quot;,\r\n                String.class,\r\n                entityRoot.get(&quot;json&quot;),\r\n                jsonPathExpression\r\n        ).in(Boolean.TRUE);\r\n\r\n\r\nHowever I had to create a wrapper function `jsonb_filter` for `jsonb_path_exists` which accepts a `varchar` parameter instead of a `jsonpath`","title":"Criteria builder function using jsonb_path_exists","body":"<p>I have described how to filter using  the <code>jsonb_path_exists</code> function in the following answer. For details check: <a href=\"https://stackoverflow.com/a/73280813/8752286\">https://stackoverflow.com/a/73280813/8752286</a></p>\n<p>TLDR: I called the function like this:</p>\n<pre><code>        return criteriaBuilder.function(&quot;jsonb_filter&quot;,\n            String.class,\n            entityRoot.get(&quot;json&quot;),\n            jsonPathExpression\n    ).in(Boolean.TRUE);\n</code></pre>\n<p>However I had to create a wrapper function <code>jsonb_filter</code> for <code>jsonb_path_exists</code> which accepts a <code>varchar</code> parameter instead of a <code>jsonpath</code></p>\n"}],"owner":{"account_id":10380162,"reputation":13,"user_id":7655224,"display_name":"arturPabjanczyk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1798,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659976533,"creation_date":1654256723,"question_id":72489135,"body_markdown":"I am trying to filter data with criteria builder. Simple date filtering works as below. The problem appears in the column containing the json array as below. \r\nI want to remain records having pair {&quot;key&quot;: &quot;market&quot;, &quot;value&quot;: &quot;australia&quot;}.\r\nSql query filters correctly: records 1 and 3 remain. How to implement this query in Java?\r\n\r\n| id\t| attributes \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t| date\t\t\t\t\t\t\t|\r\n|-------|-----------------------------------------------------------------------------------|-------------------------------|\r\n| 1\t\t| [{&quot;key&quot;: &quot;market&quot;, &quot;value&quot;: &quot;australia&quot;}, {&quot;key&quot;: &quot;language&quot;, &quot;value&quot;: &quot;polish&quot;}]\t| 2022-05-24 17:30:04.046000\t|\r\n| 2\t\t| [{&quot;key&quot;: &quot;country&quot;, &quot;value&quot;: &quot;australia&quot;}, {&quot;key&quot;: &quot;language&quot;, &quot;value&quot;: &quot;polish&quot;}]| 2022-05-24 17:30:04.046000\t|\r\n| 3\t\t| [{&quot;key&quot;: &quot;market&quot;, &quot;value&quot;: &quot;australia&quot;}, {&quot;key&quot;: &quot;language&quot;, &quot;value&quot;: &quot;polish&quot;}]\t| 2022-05-24 17:30:04.046000\t|\r\n| 4\t\t| [{&quot;key&quot;: &quot;market&quot;, &quot;value&quot;: &quot;brazil&quot;}, {&quot;key&quot;: &quot;language&quot;, &quot;value&quot;: &quot;polish&quot;}]\t| 2022-05-24 17:30:04.046000\t|\r\n| 5\t\t| [{&quot;key&quot;: &quot;market&quot;, &quot;value&quot;: &quot;brazil&quot;}, {&quot;key&quot;: &quot;language&quot;, &quot;value&quot;: &quot;australia&quot;}]\t| 2022-05-24 17:30:04.046000\t|\r\n\r\n`\r\nSELECT * FROM run WHERE jsonb_path_exists(&quot;attributes&quot;, &#39;$[*] ? ((@.key == &quot;market&quot;) &amp;&amp; (@.value == &quot;australia&quot;))&#39;)\r\n`\r\n\r\n\r\n```\r\npublic static Specification&lt;Run&gt; andGreaterThanFromDate(Specification&lt;Run&gt; specification, LocalDateTime fromDate) {\r\n\treturn specification.and((Root&lt;Run&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) -&gt; cb\r\n    \t.greaterThanOrEqualTo(root.get(LAUNCH_START_DATE), fromDate));\r\n}\t\r\n```\r\n```\r\npublic static Specification&lt;Run&gt; andAttributeContains(Specification&lt;Run&gt; specification, String attribute) {\r\n\treturn specification.and((Root&lt;Run&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) -&gt; cb\r\n\t\t.function(\r\n\t\t\t???\r\n}\r\n```\r\nI found only the use of simple sql functions whose arguments are fields of the record. I can&#39;t use this function because the argument is json array.\r\nThank you in advance for your help.\r\n\r\nI&#39;ve tried sth like that:\r\n```\r\npublic static Specification&lt;Run&gt; andDynamicAttributeContains(Specification&lt;Run&gt; specification) {\r\n    return specification.and((Root&lt;Run&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) -&gt; cb.isTrue(\r\n        cb.function(\r\n            &quot;jsonb_path_exists&quot;,\r\n            Boolean.class,\r\n            cb.parameter(Path.class, &quot;launch_attributes&quot;),\r\n            cb.parameter(Boolean.class, &quot;$[*] ? ((@.key == \\&quot;market\\&quot;) &amp;&amp; (@.value == \\&quot;australia\\&quot;))&quot;))));\r\n  }\r\n```\r\nbut I got error `org.hibernate.QueryException: unexpected char: &#39;@&#39;`","title":"Criteria builder function using jsonb_path_exists","body":"<p>I am trying to filter data with criteria builder. Simple date filtering works as below. The problem appears in the column containing the json array as below.\nI want to remain records having pair {&quot;key&quot;: &quot;market&quot;, &quot;value&quot;: &quot;australia&quot;}.\nSql query filters correctly: records 1 and 3 remain. How to implement this query in Java?</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>attributes</th>\n<th>date</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>[{&quot;key&quot;: &quot;market&quot;, &quot;value&quot;: &quot;australia&quot;}, {&quot;key&quot;: &quot;language&quot;, &quot;value&quot;: &quot;polish&quot;}]</td>\n<td>2022-05-24 17:30:04.046000</td>\n</tr>\n<tr>\n<td>2</td>\n<td>[{&quot;key&quot;: &quot;country&quot;, &quot;value&quot;: &quot;australia&quot;}, {&quot;key&quot;: &quot;language&quot;, &quot;value&quot;: &quot;polish&quot;}]</td>\n<td>2022-05-24 17:30:04.046000</td>\n</tr>\n<tr>\n<td>3</td>\n<td>[{&quot;key&quot;: &quot;market&quot;, &quot;value&quot;: &quot;australia&quot;}, {&quot;key&quot;: &quot;language&quot;, &quot;value&quot;: &quot;polish&quot;}]</td>\n<td>2022-05-24 17:30:04.046000</td>\n</tr>\n<tr>\n<td>4</td>\n<td>[{&quot;key&quot;: &quot;market&quot;, &quot;value&quot;: &quot;brazil&quot;}, {&quot;key&quot;: &quot;language&quot;, &quot;value&quot;: &quot;polish&quot;}]</td>\n<td>2022-05-24 17:30:04.046000</td>\n</tr>\n<tr>\n<td>5</td>\n<td>[{&quot;key&quot;: &quot;market&quot;, &quot;value&quot;: &quot;brazil&quot;}, {&quot;key&quot;: &quot;language&quot;, &quot;value&quot;: &quot;australia&quot;}]</td>\n<td>2022-05-24 17:30:04.046000</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><code>SELECT * FROM run WHERE jsonb_path_exists(&quot;attributes&quot;, '$[*] ? ((@.key == &quot;market&quot;) &amp;&amp; (@.value == &quot;australia&quot;))')</code></p>\n<pre><code>public static Specification&lt;Run&gt; andGreaterThanFromDate(Specification&lt;Run&gt; specification, LocalDateTime fromDate) {\n    return specification.and((Root&lt;Run&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) -&gt; cb\n        .greaterThanOrEqualTo(root.get(LAUNCH_START_DATE), fromDate));\n}   \n</code></pre>\n<pre><code>public static Specification&lt;Run&gt; andAttributeContains(Specification&lt;Run&gt; specification, String attribute) {\n    return specification.and((Root&lt;Run&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) -&gt; cb\n        .function(\n            ???\n}\n</code></pre>\n<p>I found only the use of simple sql functions whose arguments are fields of the record. I can't use this function because the argument is json array.\nThank you in advance for your help.</p>\n<p>I've tried sth like that:</p>\n<pre><code>public static Specification&lt;Run&gt; andDynamicAttributeContains(Specification&lt;Run&gt; specification) {\n    return specification.and((Root&lt;Run&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) -&gt; cb.isTrue(\n        cb.function(\n            &quot;jsonb_path_exists&quot;,\n            Boolean.class,\n            cb.parameter(Path.class, &quot;launch_attributes&quot;),\n            cb.parameter(Boolean.class, &quot;$[*] ? ((@.key == \\&quot;market\\&quot;) &amp;&amp; (@.value == \\&quot;australia\\&quot;))&quot;))));\n  }\n</code></pre>\n<p>but I got error <code>org.hibernate.QueryException: unexpected char: '@'</code></p>\n"},{"tags":["java","json","spring","spring-boot","pojo"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1659942747,"post_id":73273748,"comment_id":129405711,"body_markdown":"this dynamic `job_*` naming is not a good practice, you should use lists and maybe an id field for that","body":"this dynamic <code>job_*</code> naming is not a good practice, you should use lists and maybe an id field for that"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1659943497,"post_id":73273748,"comment_id":129405963,"body_markdown":"same holds for `score_*`, you could do something like `{&quot;score_type&quot;: &quot;A&quot;, &quot;value&quot;: [1,2,3]}`","body":"same holds for <code>score_*</code>, you could do something like <code>{&quot;score_type&quot;: &quot;A&quot;, &quot;value&quot;: [1,2,3]}</code>"}],"answers":[{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659950659,"creation_date":1659941754,"answer_id":73273881,"question_id":73273748,"body_markdown":"I modified the request so that each job is unlabeled in request body to be considered as an object in the list  \r\n\r\nThe request is like this :\r\n\r\n    {\r\n    &quot;jobs&quot;:[\r\n     {\r\n        &quot;metaData&quot;: {},\r\n        &quot;extractedData&quot;: {\r\n            &quot;score_a&quot;: [\r\n                1,\r\n                2,\r\n                3,\r\n                4\r\n            ],\r\n            &quot;score_b&quot;: [\r\n                40,\r\n                40,\r\n                72,\r\n                136\r\n            ],\r\n            &quot;score_c&quot;: [\r\n                3,\r\n                3.5,\r\n                3,\r\n                2,\r\n                3,\r\n                9\r\n            ],\r\n            &quot;score_d&quot;: [\r\n                1659752409254420,\r\n                1659752416354536,\r\n                1659752424695028,\r\n                1659752431823242\r\n            ]\r\n        }\r\n    },\r\n         {\r\n        &quot;metaData&quot;: {},\r\n        &quot;extractedData&quot;: {\r\n            &quot;score_a&quot;: [\r\n                1,\r\n                2,\r\n                3,\r\n                4\r\n            ],\r\n            &quot;score_b&quot;: [\r\n                40,\r\n                40,\r\n                72,\r\n                136\r\n            ],\r\n            &quot;score_c&quot;: [\r\n                3,\r\n                3.5,\r\n                3,\r\n                2,\r\n                3,\r\n                9\r\n            ],\r\n            &quot;score_d&quot;: [\r\n                1659752409254420,\r\n                1659752416354536,\r\n                1659752424695028,\r\n                1659752431823242\r\n            ]\r\n        }\r\n    }\r\n    ]\r\n    }\r\n\r\nWith the addition annotation **@JsonSerialize** to metadata to allow display of an object that does not contain elements\r\n\r\n\r\n\r\n    public class response {\r\n      List&lt;job&gt; jobs;\r\n\r\n      public static class job {\r\n\r\n        MetaData metaData;\r\n        ExtractedData extractedData;\r\n\r\n      @JsonSerialize\r\n      public static class MetaData {\r\n\r\n        //insert code\r\n\r\n      }\r\n\r\n      public static class ExtractedData {\r\n\r\n         List&lt;Integer&gt; score_a;\r\n         List&lt;Integer&gt; score_b;\r\n         List&lt;Integer&gt; score_c;\r\n         List&lt;Long&gt; score_d;\r\n\r\n      }\r\n     }\r\n    }\r\n\r\nI tried it like this\r\n\r\n    @Controller\r\n    public class test {\r\n\r\n\t  @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST,consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public ResponseEntity&lt;response&gt; testPost(@RequestBody response res) {\r\n\r\n\t    return ResponseEntity.ok(res);\r\n\r\n      }\r\n\r\n    }","title":"How to create a pojo file for json response in java with jackson","body":"<p>I modified the request so that each job is unlabeled in request body to be considered as an object in the list</p>\n<p>The request is like this :</p>\n<pre><code>{\n&quot;jobs&quot;:[\n {\n    &quot;metaData&quot;: {},\n    &quot;extractedData&quot;: {\n        &quot;score_a&quot;: [\n            1,\n            2,\n            3,\n            4\n        ],\n        &quot;score_b&quot;: [\n            40,\n            40,\n            72,\n            136\n        ],\n        &quot;score_c&quot;: [\n            3,\n            3.5,\n            3,\n            2,\n            3,\n            9\n        ],\n        &quot;score_d&quot;: [\n            1659752409254420,\n            1659752416354536,\n            1659752424695028,\n            1659752431823242\n        ]\n    }\n},\n     {\n    &quot;metaData&quot;: {},\n    &quot;extractedData&quot;: {\n        &quot;score_a&quot;: [\n            1,\n            2,\n            3,\n            4\n        ],\n        &quot;score_b&quot;: [\n            40,\n            40,\n            72,\n            136\n        ],\n        &quot;score_c&quot;: [\n            3,\n            3.5,\n            3,\n            2,\n            3,\n            9\n        ],\n        &quot;score_d&quot;: [\n            1659752409254420,\n            1659752416354536,\n            1659752424695028,\n            1659752431823242\n        ]\n    }\n}\n]\n}\n</code></pre>\n<p>With the addition annotation <strong>@JsonSerialize</strong> to metadata to allow display of an object that does not contain elements</p>\n<pre><code>public class response {\n  List&lt;job&gt; jobs;\n\n  public static class job {\n\n    MetaData metaData;\n    ExtractedData extractedData;\n\n  @JsonSerialize\n  public static class MetaData {\n\n    //insert code\n\n  }\n\n  public static class ExtractedData {\n\n     List&lt;Integer&gt; score_a;\n     List&lt;Integer&gt; score_b;\n     List&lt;Integer&gt; score_c;\n     List&lt;Long&gt; score_d;\n\n  }\n }\n}\n</code></pre>\n<p>I tried it like this</p>\n<pre><code>@Controller\npublic class test {\n\n  @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST,consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;response&gt; testPost(@RequestBody response res) {\n\n    return ResponseEntity.ok(res);\n\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268201,"reputation":419,"user_id":1573368,"display_name":"Sheel Prabhakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659976098,"creation_date":1659976098,"answer_id":73281187,"question_id":73273748,"body_markdown":"Use HashMap to handle dynamic keys job_1 can vary. maybe it&#39;s job_3 or job_4.\r\n```\r\npublic class response {\r\n  HashMap&lt;String, job&gt; jobs;\r\n\r\n  public static class job {\r\n\r\n    MetaData metaData;\r\n    ExtractedData extractedData;\r\n\r\n  @JsonSerialize\r\n  public static class MetaData {\r\n\r\n    //insert code\r\n\r\n  }\r\n\r\n  public static class ExtractedData {\r\n\r\n     List&lt;Integer&gt; score_a;\r\n     List&lt;Integer&gt; score_b;\r\n     List&lt;Integer&gt; score_c;\r\n     List&lt;Long&gt; score_d;\r\n\r\n  }\r\n }\r\n}\r\n```","title":"How to create a pojo file for json response in java with jackson","body":"<p>Use HashMap to handle dynamic keys job_1 can vary. maybe it's job_3 or job_4.</p>\n<pre><code>public class response {\n  HashMap&lt;String, job&gt; jobs;\n\n  public static class job {\n\n    MetaData metaData;\n    ExtractedData extractedData;\n\n  @JsonSerialize\n  public static class MetaData {\n\n    //insert code\n\n  }\n\n  public static class ExtractedData {\n\n     List&lt;Integer&gt; score_a;\n     List&lt;Integer&gt; score_b;\n     List&lt;Integer&gt; score_c;\n     List&lt;Long&gt; score_d;\n\n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":13411681,"reputation":1092,"user_id":9677878,"display_name":"Ashwanth Madhav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659976098,"creation_date":1659940871,"question_id":73273748,"body_markdown":"Here is my json response from an API.\r\n\r\n    {\r\n      &quot;job_1&quot;: {\r\n      &quot;metaData&quot;: {},\r\n      &quot;extractedData&quot;: {\r\n          &quot;score_a&quot;: [1,2,3,4],\r\n          &quot;score_b&quot;: [40,40,72,136],\r\n          &quot;score_c&quot;: [3,3.5,3,2,3,9],\r\n          &quot;score_d&quot;: [1659752409254420,1659752416354536,1659752424695028,1659752431823242 ]\r\n      }\r\n      }\r\n    }\r\n\r\n\r\n\r\nIn response job_1 can be vary. maybe its job_3 or job_4.\r\n\r\nHow to create a pojo file for this response?\r\n\r\nThanks in advance.\r\n","title":"How to create a pojo file for json response in java with jackson","body":"<p>Here is my json response from an API.</p>\n<pre><code>{\n  &quot;job_1&quot;: {\n  &quot;metaData&quot;: {},\n  &quot;extractedData&quot;: {\n      &quot;score_a&quot;: [1,2,3,4],\n      &quot;score_b&quot;: [40,40,72,136],\n      &quot;score_c&quot;: [3,3.5,3,2,3,9],\n      &quot;score_d&quot;: [1659752409254420,1659752416354536,1659752424695028,1659752431823242 ]\n  }\n  }\n}\n</code></pre>\n<p>In response job_1 can be vary. maybe its job_3 or job_4.</p>\n<p>How to create a pojo file for this response?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659982514,"post_id":73280937,"comment_id":129420100,"body_markdown":"Do you absolutely have to use a single `split` call?  I imagine doing `Pattern.compile(&quot;\\\\w+:\\\\s*\\\\w+&quot;).matcher(s)` followed by repeated `find()` calls would give you the start and end indices of each command.  Much cleaner than a complex lookahead/lookbehind, in my opinion.","body":"Do you absolutely have to use a single <code>split</code> call?  I imagine doing <code>Pattern.compile(&quot;\\\\w+:\\\\s*\\\\w+&quot;).matcher(s)</code> followed by repeated <code>find()</code> calls would give you the start and end indices of each command.  Much cleaner than a complex lookahead/lookbehind, in my opinion."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659975606,"creation_date":1659975051,"answer_id":73280981,"question_id":73280937,"body_markdown":"If you only want to match word characters and whitespace character, you could write the pattern as:\r\n\r\n    \\w+:\\s*\\w+(?:\\s+\\w+)*(?=\\s+\\w+:|$)\r\n\r\n**Explanation**\r\n\r\n- `\\w+:\\s*\\w+` Match 1+ word chars, `:` optional whitespace chars and 1+ word chars\r\n- `(?:\\s+\\w+)*` Optionally repeat 1+ whitespace chars and 1+ word chars\r\n- `(?=` Positive lookahead, assert what is to the right is\r\n  - `\\s+\\w+:` Match 1+ whitespace chars followed by 1+ word chars and `:`\r\n  - `|` Or\r\n  - `$` Assert end of string\r\n- `)` Close lookahead\r\n\r\nIn Java\r\n\r\n    String regex = &quot;\\\\w+:\\\\s*\\\\w+(?:\\\\s+\\\\w+)*(?=\\\\s+\\\\w+:|$)&quot;;\r\n\r\n[Regex demo](https://regex101.com/r/h915Sp/1)\r\n\r\nA bit more broader variant:\r\n\r\n    [^\\s:]+:.*?(?=\\s*[^\\s:]+:|$)\r\n\r\n[Regex demo](https://regex101.com/r/OlpqZ8/1)","title":"Regex splitting by colon up until a word containing a colon java","body":"<p>If you only want to match word characters and whitespace character, you could write the pattern as:</p>\n<pre><code>\\w+:\\s*\\w+(?:\\s+\\w+)*(?=\\s+\\w+:|$)\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>\\w+:\\s*\\w+</code> Match 1+ word chars, <code>:</code> optional whitespace chars and 1+ word chars</li>\n<li><code>(?:\\s+\\w+)*</code> Optionally repeat 1+ whitespace chars and 1+ word chars</li>\n<li><code>(?=</code> Positive lookahead, assert what is to the right is\n<ul>\n<li><code>\\s+\\w+:</code> Match 1+ whitespace chars followed by 1+ word chars and <code>:</code></li>\n<li><code>|</code> Or</li>\n<li><code>$</code> Assert end of string</li>\n</ul>\n</li>\n<li><code>)</code> Close lookahead</li>\n</ul>\n<p>In Java</p>\n<pre><code>String regex = &quot;\\\\w+:\\\\s*\\\\w+(?:\\\\s+\\\\w+)*(?=\\\\s+\\\\w+:|$)&quot;;\n</code></pre>\n<p><a href=\"https://regex101.com/r/h915Sp/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>A bit more broader variant:</p>\n<pre><code>[^\\s:]+:.*?(?=\\s*[^\\s:]+:|$)\n</code></pre>\n<p><a href=\"https://regex101.com/r/OlpqZ8/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"}],"owner":{"account_id":11940959,"reputation":5,"user_id":8737784,"display_name":"maxy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73280981,"answer_count":1,"score":0,"last_activity_date":1659975606,"creation_date":1659974788,"question_id":73280937,"body_markdown":"I am trying to split between commands denoted with colons in regex.\r\n\r\nI think it&#39;s best to explain using an example:\r\n\r\nGiven the string:\r\n\r\n&gt; `alfa bravo charlie:delta echo foxtrot golf:hotel india juliett: kilo`\r\n\r\nI want to match the following sections:\r\n\r\n`charlie:delta echo foxtrot` `golf:hotel india` and `juliett: kilo`\r\n\r\nI am able to match the first one with:\r\n\r\n`(\\w+:.*?)\\s+\\w+:.*` and I figure there is someway to check for the final one using `$` but so far I haven&#39;t figured out the trick.\r\nIf this isn&#39;t clear please comment","title":"Regex splitting by colon up until a word containing a colon java","body":"<p>I am trying to split between commands denoted with colons in regex.</p>\n<p>I think it's best to explain using an example:</p>\n<p>Given the string:</p>\n<blockquote>\n<p><code>alfa bravo charlie:delta echo foxtrot golf:hotel india juliett: kilo</code></p>\n</blockquote>\n<p>I want to match the following sections:</p>\n<p><code>charlie:delta echo foxtrot</code> <code>golf:hotel india</code> and <code>juliett: kilo</code></p>\n<p>I am able to match the first one with:</p>\n<p><code>(\\w+:.*?)\\s+\\w+:.*</code> and I figure there is someway to check for the final one using <code>$</code> but so far I haven't figured out the trick.\nIf this isn't clear please comment</p>\n"},{"tags":["java","json","maven"],"owner":{"account_id":13509992,"reputation":41,"user_id":9746671,"display_name":"Ara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1213,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1659975270,"creation_date":1659975117,"question_id":73280996,"body_markdown":"I have got this code to parse json:\r\n\r\n    package com.mycompany.post1;\r\n    import java.util.*;\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    import com.fasterxml.jackson.databind.*;\r\n    \r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import org.apache.commons.codec.binary.Base64;\r\n    \r\n    \r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.StringEntity;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.util.EntityUtils;\r\n    //import org.apache.commons.logging.*;\r\n    import org.json.*;\r\n    public class Post1 {\r\n    \r\n        public static String generateAuthHeader(String dataToSign, String secret)\r\n       {      \r\n        String hash = &quot;&quot;;\r\n          try { \r\n    \r\n        \t  Mac sha256_HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n        \t  SecretKeySpec secret_key = new SecretKeySpec(secret.getBytes(), &quot;HmacSHA256&quot;);\r\n        \t  sha256_HMAC.init(secret_key);\r\n        \t  hash = Base64.encodeBase64String(sha256_HMAC.doFinal(dataToSign.getBytes()));\r\n          }\r\n          catch (Exception e){\r\n        \t  System.out.println(&quot;Error&quot;);\r\n          }\r\n        \treturn(hash);\r\n       }\r\n        \r\n    \r\n        // A simple request to create a Case using Http Post\r\n        public static void main(String[] args) throws Exception {\r\n            CloseableHttpClient httpclient = HttpClients.createDefault();\r\n            try {\r\n            \tDate now = new Date();\r\n            \t\r\n            \t//format for date string Mon, 27 Mar 2017 15:19:36 GMT \r\n            \tDateFormat df = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;);\r\n            \tdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n            \t\r\n            \tString date = df.format(now);\r\n                String gatewayurl = &quot;/v2/&quot;;\r\n                String gatewayhost = &quot;api-worldcheck.refinitiv.com&quot;;\r\n                String apikey = &quot;XXXXXXXXXXX-10fd-XXXX1-a5b5-XXXXXXXXXX&quot;;//ganarated from company\r\n                String apisecret = &quot;YYYYYYYYYYYYYVVVVVVVVVVVVVVVVVVVV==&quot;;//ganarated from company\r\n            \tString groupid = &quot;Ksgknsdkfgs-fsdg-dsfdgs-dfgsdc&quot;;\r\n    \r\n            \t//create a JSON string \r\n            \tString jsonBody =  &quot;{\\&quot;secondaryFields\\&quot;:[],\\&quot;entityType\\&quot;:\\&quot;INDIVIDUAL\\&quot;,\\&quot;customFields\\&quot;:[],\\&quot;groupId\\&quot;:\\&quot;VVVVVVVVVVVVVVV-KKKKK-LLLLLLLLLL&quot;,\\&quot;providerTypes\\&quot;:[\\&quot;WATCHLIST\\&quot;],\\&quot;name\\&quot;:\\&quot;george bush\\&quot;}&quot;;\r\n            \t\r\n            \t// create a JSON object from the JSON string\r\n            \tJSONObject jo = new JSONObject(jsonBody);\r\n    \r\n            \t//System.out.println(jo.toString());\r\n    \r\n            \tString jlen = String.valueOf(jo.toString().length());\r\n                String dataToSign = &quot;(request-target): post &quot; + gatewayurl + &quot;cases\\n&quot; +\r\n                \t\t&quot;host: &quot; + gatewayhost + &quot;\\n&quot; +\r\n                \t\t&quot;date: &quot; + date + &quot;\\n&quot; +\r\n                \t\t&quot;content-type: &quot; +  &quot;application/json&quot; +&quot;\\n&quot; + \r\n                \t\t&quot;content-length: &quot; + jlen + &quot;\\n&quot; + \r\n                \t\tjo;\r\n                \r\n                String hmac = generateAuthHeader(dataToSign, apisecret);\r\n                String authorisation = &quot;Signature keyId=\\&quot;&quot; + apikey  + &quot;\\&quot;,algorithm=\\&quot;hmac-sha256\\&quot;,headers=\\&quot;(request-target) host date content-type content-length\\&quot;,signature=\\&quot;&quot; + hmac + &quot;\\&quot;&quot;;\r\n                \r\n                System.out.println(jlen);\r\n                System.out.println(dataToSign);\r\n            \t//System.out.println(hmac);\r\n            \tSystem.out.println(authorisation);\r\n            \tString msg = jo.toString();\r\n            \t\r\n                //HttpPost httpPost = new HttpPost(&quot;https://rms-world-check-one-api-pilot.thomsonreuters.com/v1/cases&quot;);\r\n                //HttpPost httpPost = new HttpPost(&quot;https://rms-world-check-one-api-pilot.thomsonreuters.com/v2/cases&quot;);\r\n                HttpPost httpPost = new HttpPost(&quot;https://api-worldcheck.refinitiv.com/v2/groups&quot;);  \r\n    \r\n                HttpEntity entity = new StringEntity(msg);\r\n                httpPost.setEntity(entity);\r\n                \r\n                httpPost.addHeader(&quot;Date&quot;, date);\r\n                httpPost.addHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);         \r\n                httpPost.addHeader(&quot;Content-Type&quot;,  &quot;application/json&quot; );\r\n                httpPost.addHeader(&quot;Authorization&quot;, authorisation);        \r\n                \r\n                // send the POST request\r\n                CloseableHttpResponse response1 = httpclient.execute(httpPost);\r\n    \r\n                try {\r\n                \r\n                    HttpEntity entity1 = response1.getEntity();\r\n                    System.out.println(response1.getStatusLine());\r\n                    \r\n                    String json = EntityUtils.toString(response1.getEntity());\r\n                    System.out.println(entity1);\r\n                    // json string returned\r\n                    System.out.println(json);\r\n                    ObjectMapper mapper = new ObjectMapper();\r\n                    \r\n                    // printout in Pretty format\r\n                    Object jsonObj = mapper.readValue(json, Object.class);\r\n                    String indented = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(jsonObj);\r\n                    System.out.println(indented);\r\n    \r\n                    EntityUtils.consume(entity1);\r\n                    \r\n                } \r\n                finally {\r\n                    response1.close();\r\n                }\r\n    \r\n    \r\n            } finally {\r\n                httpclient.close();\r\n            }\r\n        }\r\n    }\r\nI got this exception:\r\n\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\r\n     at [Source: (String)&quot;&quot;; line: 1, column: 0]\r\n    \tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4765)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4667)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\r\n    \tat com.mycompany.post1.Post1.main(Post1.java:116)\r\n    Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\r\n        at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n        at java.lang.reflect.Method.invoke (Method.java:577)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    ------------------------------------------------------------------------\r\n    BUILD FAILURE\r\n    ------------------------------------------------------------------------\r\n    Total time:  3.734 s\r\n    Finished at: 2022-08-08T21:37:25+06:00\r\n    ------------------------------------------------------------------------\r\n    Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project post1: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n    \r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n    \r\n    For more information about the errors and possible solutions, please read the following articles:\r\n    [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\npom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n        &lt;artifactId&gt;post1&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n            &lt;exec.mainClass&gt;com.mycompany.post1.Post1&lt;/exec.mainClass&gt;\r\n        &lt;/properties&gt;\r\n        \r\n        &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.cedarsoftware&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-util&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20220320&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nCould you please tell, what I have done incorrect. Netbeans details:\r\nProduct Version: Apache NetBeans IDE 14\r\nJava: 18.0.2; Java HotSpot(TM) 64-Bit Server VM 18.0.2+9-61\r\nRuntime: Java(TM) SE Runtime Environment 18.0.2+9-61\r\nSystem: Windows 10 version 10.0 running on amd64; UTF-8; ru_RU (nb)\r\nUser directory: C:\\Users\\SAPPI_WorkBech\\AppData\\Roaming\\NetBeans\\14\r\nCache directory: C:\\Users\\SAPPI_WorkBech\\AppData\\Local\\NetBeans\\Cache\\14\r\n\r\n\r\n\r\n\r\n","title":"MismatchedInputException: No content to map due to end-of-input","body":"<p>I have got this code to parse json:</p>\n<pre><code>package com.mycompany.post1;\nimport java.util.*;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport com.fasterxml.jackson.databind.*;\n\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport org.apache.commons.codec.binary.Base64;\n\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\n//import org.apache.commons.logging.*;\nimport org.json.*;\npublic class Post1 {\n\n    public static String generateAuthHeader(String dataToSign, String secret)\n   {      \n    String hash = &quot;&quot;;\n      try { \n\n          Mac sha256_HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\n          SecretKeySpec secret_key = new SecretKeySpec(secret.getBytes(), &quot;HmacSHA256&quot;);\n          sha256_HMAC.init(secret_key);\n          hash = Base64.encodeBase64String(sha256_HMAC.doFinal(dataToSign.getBytes()));\n      }\n      catch (Exception e){\n          System.out.println(&quot;Error&quot;);\n      }\n        return(hash);\n   }\n    \n\n    // A simple request to create a Case using Http Post\n    public static void main(String[] args) throws Exception {\n        CloseableHttpClient httpclient = HttpClients.createDefault();\n        try {\n            Date now = new Date();\n            \n            //format for date string Mon, 27 Mar 2017 15:19:36 GMT \n            DateFormat df = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;);\n            df.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\n            \n            String date = df.format(now);\n            String gatewayurl = &quot;/v2/&quot;;\n            String gatewayhost = &quot;api-worldcheck.refinitiv.com&quot;;\n            String apikey = &quot;XXXXXXXXXXX-10fd-XXXX1-a5b5-XXXXXXXXXX&quot;;//ganarated from company\n            String apisecret = &quot;YYYYYYYYYYYYYVVVVVVVVVVVVVVVVVVVV==&quot;;//ganarated from company\n            String groupid = &quot;Ksgknsdkfgs-fsdg-dsfdgs-dfgsdc&quot;;\n\n            //create a JSON string \n            String jsonBody =  &quot;{\\&quot;secondaryFields\\&quot;:[],\\&quot;entityType\\&quot;:\\&quot;INDIVIDUAL\\&quot;,\\&quot;customFields\\&quot;:[],\\&quot;groupId\\&quot;:\\&quot;VVVVVVVVVVVVVVV-KKKKK-LLLLLLLLLL&quot;,\\&quot;providerTypes\\&quot;:[\\&quot;WATCHLIST\\&quot;],\\&quot;name\\&quot;:\\&quot;george bush\\&quot;}&quot;;\n            \n            // create a JSON object from the JSON string\n            JSONObject jo = new JSONObject(jsonBody);\n\n            //System.out.println(jo.toString());\n\n            String jlen = String.valueOf(jo.toString().length());\n            String dataToSign = &quot;(request-target): post &quot; + gatewayurl + &quot;cases\\n&quot; +\n                    &quot;host: &quot; + gatewayhost + &quot;\\n&quot; +\n                    &quot;date: &quot; + date + &quot;\\n&quot; +\n                    &quot;content-type: &quot; +  &quot;application/json&quot; +&quot;\\n&quot; + \n                    &quot;content-length: &quot; + jlen + &quot;\\n&quot; + \n                    jo;\n            \n            String hmac = generateAuthHeader(dataToSign, apisecret);\n            String authorisation = &quot;Signature keyId=\\&quot;&quot; + apikey  + &quot;\\&quot;,algorithm=\\&quot;hmac-sha256\\&quot;,headers=\\&quot;(request-target) host date content-type content-length\\&quot;,signature=\\&quot;&quot; + hmac + &quot;\\&quot;&quot;;\n            \n            System.out.println(jlen);\n            System.out.println(dataToSign);\n            //System.out.println(hmac);\n            System.out.println(authorisation);\n            String msg = jo.toString();\n            \n            //HttpPost httpPost = new HttpPost(&quot;https://rms-world-check-one-api-pilot.thomsonreuters.com/v1/cases&quot;);\n            //HttpPost httpPost = new HttpPost(&quot;https://rms-world-check-one-api-pilot.thomsonreuters.com/v2/cases&quot;);\n            HttpPost httpPost = new HttpPost(&quot;https://api-worldcheck.refinitiv.com/v2/groups&quot;);  \n\n            HttpEntity entity = new StringEntity(msg);\n            httpPost.setEntity(entity);\n            \n            httpPost.addHeader(&quot;Date&quot;, date);\n            httpPost.addHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);         \n            httpPost.addHeader(&quot;Content-Type&quot;,  &quot;application/json&quot; );\n            httpPost.addHeader(&quot;Authorization&quot;, authorisation);        \n            \n            // send the POST request\n            CloseableHttpResponse response1 = httpclient.execute(httpPost);\n\n            try {\n            \n                HttpEntity entity1 = response1.getEntity();\n                System.out.println(response1.getStatusLine());\n                \n                String json = EntityUtils.toString(response1.getEntity());\n                System.out.println(entity1);\n                // json string returned\n                System.out.println(json);\n                ObjectMapper mapper = new ObjectMapper();\n                \n                // printout in Pretty format\n                Object jsonObj = mapper.readValue(json, Object.class);\n                String indented = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(jsonObj);\n                System.out.println(indented);\n\n                EntityUtils.consume(entity1);\n                \n            } \n            finally {\n                response1.close();\n            }\n\n\n        } finally {\n            httpclient.close();\n        }\n    }\n}\n</code></pre>\n<p>I got this exception:</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\n at [Source: (String)&quot;&quot;; line: 1, column: 0]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4765)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4667)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\n    at com.mycompany.post1.Post1.main(Post1.java:116)\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\n    at java.lang.reflect.Method.invoke (Method.java:577)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\nTotal time:  3.734 s\nFinished at: 2022-08-08T21:37:25+06:00\n------------------------------------------------------------------------\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project post1: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;post1&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n        &lt;exec.mainClass&gt;com.mycompany.post1.Post1&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.cedarsoftware&lt;/groupId&gt;\n        &lt;artifactId&gt;java-util&lt;/artifactId&gt;\n        &lt;version&gt;1.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.15&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20220320&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Could you please tell, what I have done incorrect. Netbeans details:\nProduct Version: Apache NetBeans IDE 14\nJava: 18.0.2; Java HotSpot(TM) 64-Bit Server VM 18.0.2+9-61\nRuntime: Java(TM) SE Runtime Environment 18.0.2+9-61\nSystem: Windows 10 version 10.0 running on amd64; UTF-8; ru_RU (nb)\nUser directory: C:\\Users\\SAPPI_WorkBech\\AppData\\Roaming\\NetBeans\\14\nCache directory: C:\\Users\\SAPPI_WorkBech\\AppData\\Local\\NetBeans\\Cache\\14</p>\n"},{"tags":["java","unit-testing","javafx","junit","testfx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1659975213,"post_id":73279538,"comment_id":129417655,"body_markdown":"Is there more to the error? How are you starting and stopping the JavaFX platform? Are you using _TestFX_? Instead of providing code snippets, can you provide a [mre]?","body":"Is there more to the error? How are you starting and stopping the JavaFX platform? Are you using <i>TestFX</i>? Instead of providing code snippets, can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":4068705,"reputation":1,"user_id":4758184,"display_name":"chandrayog yadav"},"score":0,"creation_date":1659982859,"post_id":73279538,"comment_id":129420222,"body_markdown":"I am using import org.testfx.framework.junit5.ApplicationTest;","body":"I am using import org.testfx.framework.junit5.ApplicationTest;"},{"owner":{"account_id":4068705,"reputation":1,"user_id":4758184,"display_name":"chandrayog yadav"},"score":0,"creation_date":1659982908,"post_id":73279538,"comment_id":129420247,"body_markdown":"Error:\n\n--- Exception in Async Thread ---\njavafx.fxml.LoadException: \n/..../build/resources/main/com/../../UI/ImageUI.fxml\n\n\tjavafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)","body":"Error:  --- Exception in Async Thread --- javafx.fxml.LoadException:  /..../build/resources/main/com/../../UI/ImageUI.fxml  \tjavafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(F&zwnj;&#8203;XMLLoader.java:2707)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1659982979,"post_id":73279538,"comment_id":129420272,"body_markdown":"Please [edit] your question to add more information. Comments are hard to read and cannot be formatted as elegantly.","body":"Please <a href=\"https://stackoverflow.com/posts/73279538/edit\">edit</a> your question to add more information. Comments are hard to read and cannot be formatted as elegantly."},{"owner":{"account_id":4068705,"reputation":1,"user_id":4758184,"display_name":"chandrayog yadav"},"score":0,"creation_date":1659983041,"post_id":73279538,"comment_id":129420294,"body_markdown":"This is Start method:\n public void start(Stage stage) throws IOException {\n        PlatformImpl.setImplicitExit(false);\n        URL fxmlResource = this.getClass().getResource(&quot;../UI/ImageUI.fxml&quot;);\n        if (fxmlResource != null) {\n            final var loader = new FXMLLoader(fxmlResource);\n            final var mainApp = (Pane) loader.load();\n            controller = loader.getController();\n            stage.setScene(new Scene(mainApp, 1200, 1000));\n            stage.show();\n            stage.toFront();\n        } else {        \n        }\n    }","body":"This is Start method:  public void start(Stage stage) throws IOException {         PlatformImpl.setImplicitExit(false);         URL fxmlResource = this.getClass().getResource(&quot;../UI/ImageUI.fxml&quot;);         if (fxmlResource != null) {             final var loader = new FXMLLoader(fxmlResource);             final var mainApp = (Pane) loader.load();             controller = loader.getController();             stage.setScene(new Scene(mainApp, 1200, 1000));             stage.show();             stage.toFront();         } else {                 }     }"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1659997122,"post_id":73279538,"comment_id":129424309,"body_markdown":"&quot;Please [edit] your question to add more information. Comments are hard to read and cannot be formatted as elegantly.&quot;@Slaw","body":"&quot;Please <a href=\"https://stackoverflow.com/posts/73279538/edit\">edit</a> your question to add more information. Comments are hard to read and cannot be formatted as elegantly.&quot;@Slaw"}],"owner":{"account_id":4068705,"reputation":1,"user_id":4758184,"display_name":"chandrayog yadav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659975160,"creation_date":1659968954,"question_id":73279538,"body_markdown":"I am currently facing an exception while loading the UI controller. \r\n\r\nHave written two separate methods for testing client requests for a server while loading files.\r\n\r\nI have start methods which loads UI controller-\r\n\r\n```lang-java  \r\n@Override\r\npublic void start(Stage stage) throws IOException {\r\n```\r\n\r\nand test methods are as follows:\r\n\r\n1. First test\r\n\r\n    ```lang-java\r\n    @Test\r\n    @DisplayName(&quot;load the files&quot;)\r\n    public void testRoutineA() throws URISyntaxException, NullPointerException, IOException {\r\n    ```\r\n\r\n2. Second test\r\n\r\n    ```lang-java\r\n    @Test\r\n    public static void testRoutineB() throws IOException {\r\n    ```\r\n\r\n \r\n\r\n\r\nIssue: \r\n\r\n- testRoutineA runs fine and load the UI. \r\n- But when testRoutineB runs it again call the Sart method and throws exception:\r\n\r\nException in Async Thread ---\r\nFailed to load FXML files.\r\n\r\nAny suggestion how to use both methods ?","title":"How can I use two test methods in single Test Class for JavaFx UI testing?","body":"<p>I am currently facing an exception while loading the UI controller.</p>\n<p>Have written two separate methods for testing client requests for a server while loading files.</p>\n<p>I have start methods which loads UI controller-</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void start(Stage stage) throws IOException {\n</code></pre>\n<p>and test methods are as follows:</p>\n<ol>\n<li><p>First test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@DisplayName(&quot;load the files&quot;)\npublic void testRoutineA() throws URISyntaxException, NullPointerException, IOException {\n</code></pre>\n</li>\n<li><p>Second test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic static void testRoutineB() throws IOException {\n</code></pre>\n</li>\n</ol>\n<p>Issue:</p>\n<ul>\n<li>testRoutineA runs fine and load the UI.</li>\n<li>But when testRoutineB runs it again call the Sart method and throws exception:</li>\n</ul>\n<p>Exception in Async Thread ---\nFailed to load FXML files.</p>\n<p>Any suggestion how to use both methods ?</p>\n"},{"tags":["java","eclipse","maven","java-8","compilation"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1624040918,"post_id":68039780,"comment_id":120258467,"body_markdown":"Artifact `org.eclipse.jdt.core` version `3.23.0` hasn&#39;t changed since 2020-09-14, so it can&#39;t have suddenly changed in the past few days. Re-think what you&#39;ve been doing. Did you perhaps change the version you depend on?","body":"Artifact <code>org.eclipse.jdt.core</code> version <code>3.23.0</code> hasn&#39;t changed since 2020-09-14, so it can&#39;t have suddenly changed in the past few days. Re-think what you&#39;ve been doing. Did you perhaps change the version you depend on?"},{"owner":{"account_id":2922140,"reputation":482,"user_id":2504156,"accept_rate":70,"display_name":"Gana"},"score":0,"creation_date":1624041697,"post_id":68039780,"comment_id":120258725,"body_markdown":"Did you perhaps change the version you depend on? - which version are you referring to? I didnt change this in the past couple of months. My latest maven update resulted into these issues. Are you saying that if I do clean and do maven force update artifacts, It should be solved?","body":"Did you perhaps change the version you depend on? - which version are you referring to? I didnt change this in the past couple of months. My latest maven update resulted into these issues. Are you saying that if I do clean and do maven force update artifacts, It should be solved?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1624041973,"post_id":68039780,"comment_id":120258810,"body_markdown":"I was referring to `3.23.0`, and I&#39;m saying that the artifacts of that are from 2020-09-14. See for youself: https://repo1.maven.org/maven2/org/eclipse/jdt/org.eclipse.jdt.core/3.23.0/","body":"I was referring to <code>3.23.0</code>, and I&#39;m saying that the artifacts of that are from 2020-09-14. See for youself: <a href=\"https://repo1.maven.org/maven2/org/eclipse/jdt/org.eclipse.jdt.core/3.23.0/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/eclipse/jdt/org.eclipse.jdt.core/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":2922140,"reputation":482,"user_id":2504156,"accept_rate":70,"display_name":"Gana"},"score":0,"creation_date":1624042083,"post_id":68039780,"comment_id":120258839,"body_markdown":"No, I changed this version down to 3.18 also but facing the same issue.","body":"No, I changed this version down to 3.18 also but facing the same issue."},{"owner":{"account_id":2922140,"reputation":482,"user_id":2504156,"accept_rate":70,"display_name":"Gana"},"score":0,"creation_date":1624042207,"post_id":68039780,"comment_id":120258871,"body_markdown":"Are they same artifacts available from maven repository also? If so, I should not see this error!!","body":"Are they same artifacts available from maven repository also? If so, I should not see this error!!"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1624042440,"post_id":68039780,"comment_id":120258931,"body_markdown":"Ahh, `org.eclipse.jdt &#187; org.eclipse.jdt.core &#187; 3.23.0` (Sep 16, 2020) depends on `org.eclipse.platform &#187; org.eclipse.core.resources &#187; 3.12.0` (Oct 17, 2017), but the error message shows that you seem to have gotten `org.eclipse.platform &#187; org.eclipse.core.resources &#187; 3.15.0` (Jun 15, 2021). You might need to force that back to version `3.12.0`.","body":"Ahh, <code>org.eclipse.jdt &#187; org.eclipse.jdt.core &#187; 3.23.0</code> (Sep 16, 2020) depends on <code>org.eclipse.platform &#187; org.eclipse.core.resources &#187; 3.12.0</code> (Oct 17, 2017), but the error message shows that you seem to have gotten <code>org.eclipse.platform &#187; org.eclipse.core.resources &#187; 3.15.0</code> (Jun 15, 2021). You might need to force that back to version <code>3.12.0</code>."},{"owner":{"account_id":2922140,"reputation":482,"user_id":2504156,"accept_rate":70,"display_name":"Gana"},"score":0,"creation_date":1624088625,"post_id":68039780,"comment_id":120266778,"body_markdown":"@Andreas: You are right. I tried your suggestion. Added details in Edit.","body":"@Andreas: You are right. I tried your suggestion. Added details in Edit."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1624090364,"post_id":68039780,"comment_id":120267160,"body_markdown":"Eclipse changed to use Java 11. You might want to do that, too.","body":"Eclipse changed to use Java 11. You might want to do that, too."},{"owner":{"account_id":2922140,"reputation":482,"user_id":2504156,"accept_rate":70,"display_name":"Gana"},"score":0,"creation_date":1624248155,"post_id":68039780,"comment_id":120296674,"body_markdown":"@Andreas: Based on your suggestion, I have managed to control the dependency versions. If you post it as answer, I will be able to accept it as a possible solution for the people in need. Thanks","body":"@Andreas: Based on your suggestion, I have managed to control the dependency versions. If you post it as answer, I will be able to accept it as a possible solution for the people in need. Thanks"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1624286353,"post_id":68039780,"comment_id":120310588,"body_markdown":"@Gana Nah, but feel free to go ahead and self-answer your question.","body":"@Gana Nah, but feel free to go ahead and self-answer your question."},{"owner":{"account_id":1932498,"reputation":155,"user_id":1741604,"accept_rate":67,"display_name":"grubi"},"score":0,"creation_date":1625228565,"post_id":68039780,"comment_id":120578608,"body_markdown":"The problem is, that eclipse is using version ranges instead of fixed versions in their dependencies. After switching to Java 11 they did not change their versions to something higher than the used version ranges to not created conflicts between Java &lt;11 and &gt;=11 projects. Short: They broke nearly all build systems that still use Java &lt;11 and depend on such eclipse projects (In my case they broke the usage of Hibernate Tools). They even have different certificates in their dependencies which causes other exceptions. I downgraded org.eclipse.platform:org.eclipse.equinox.common to 3.14.100","body":"The problem is, that eclipse is using version ranges instead of fixed versions in their dependencies. After switching to Java 11 they did not change their versions to something higher than the used version ranges to not created conflicts between Java &lt;11 and &gt;=11 projects. Short: They broke nearly all build systems that still use Java &lt;11 and depend on such eclipse projects (In my case they broke the usage of Hibernate Tools). They even have different certificates in their dependencies which causes other exceptions. I downgraded org.eclipse.platform:org.eclipse.equinox.common to 3.14.100"},{"owner":{"account_id":10296819,"reputation":163,"user_id":7596701,"display_name":"KC_911723"},"score":2,"creation_date":1628607842,"post_id":68039780,"comment_id":121463492,"body_markdown":"Have faced the same problem recently, actually `org.eclipse.jdt &gt; org.eclipse.jdt.core` depends on other eclipse artifacts of `org.eclipse.platform`. Now, there&#39;s no update in the `org.eclipse.jdt.core &gt; 3.23.0`  but there is update in artifacts of `org.eclipse.platform` like `org.eclipse.equinox.common, org.eclipse.core.runtime, etc.` and I guess this artifacts are compiled using java 11 which basically causing the issue. So added exclusions for these artifacts in the dependency of `org.eclipse.jdt.core` &amp; added dependency for the excluded artifacts with older versions in pom.xml, it fixed.","body":"Have faced the same problem recently, actually <code>org.eclipse.jdt &gt; org.eclipse.jdt.core</code> depends on other eclipse artifacts of <code>org.eclipse.platform</code>. Now, there&#39;s no update in the <code>org.eclipse.jdt.core &gt; 3.23.0</code>  but there is update in artifacts of <code>org.eclipse.platform</code> like <code>org.eclipse.equinox.common, org.eclipse.core.runtime, etc.</code> and I guess this artifacts are compiled using java 11 which basically causing the issue. So added exclusions for these artifacts in the dependency of <code>org.eclipse.jdt.core</code> &amp; added dependency for the excluded artifacts with older versions in pom.xml, it fixed."}],"answers":[{"tags":[],"owner":{"account_id":6089770,"reputation":724,"user_id":4752488,"display_name":"Kevin Hern&#225;ndez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656476748,"creation_date":1656476748,"answer_id":72795787,"question_id":68039780,"body_markdown":"Based on the answer of [@KC_911723][1] and [@grubi][2] you can use this configuration:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.eclipse.jdt.core&lt;/artifactId&gt;\r\n        &lt;version&gt;3.23.0&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;!-- declare the exclusion here --&gt;\r\n                &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.core.runtime&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;!-- declare the exclusion here --&gt;\r\n                &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.equinox.common&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.eclipse.core.runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;3.13.0&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;!-- declare the exclusion here --&gt;\r\n                &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.equinox.common&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.eclipse.equinox.common&lt;/artifactId&gt;\r\n        &lt;version&gt;3.14.100&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nor use this gradle configuration:\r\n\r\n```gradle\r\ndependencies {\r\n    implementation (&#39;org.eclipse.jdt:org.eclipse.jdt.core:3.23.0&#39;){\r\n        exclude group: &#39;org.eclipse.platform&#39;, module: &#39;org.eclipse.core.runtime&#39;\r\n        exclude group: &#39;org.eclipse.platform&#39;, module: &#39;org.eclipse.equinox.common&#39;\r\n    }\r\n    implementation (&#39;org.eclipse.platform:org.eclipse.core.runtime:3.13.0&#39;){\r\n        exclude group: &#39;org.eclipse.platform&#39;, module: &#39;org.eclipse.equinox.common&#39;\r\n    }\r\n    implementation &#39;org.eclipse.platform:org.eclipse.equinox.common:3.14.100&#39;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68039780/how-to-get-eclipse-libraries-compiled-on-java-8#comment121463492_68039780\r\n[2]: https://stackoverflow.com/questions/68039780/how-to-get-eclipse-libraries-compiled-on-java-8#comment120578608_68039780","title":"How to get eclipse libraries compiled on Java 8","body":"<p>Based on the answer of <a href=\"https://stackoverflow.com/questions/68039780/how-to-get-eclipse-libraries-compiled-on-java-8#comment121463492_68039780\">@KC_911723</a> and <a href=\"https://stackoverflow.com/questions/68039780/how-to-get-eclipse-libraries-compiled-on-java-8#comment120578608_68039780\">@grubi</a> you can use this configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.jdt.core&lt;/artifactId&gt;\n        &lt;version&gt;3.23.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;!-- declare the exclusion here --&gt;\n                &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.core.runtime&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;!-- declare the exclusion here --&gt;\n                &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.equinox.common&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.core.runtime&lt;/artifactId&gt;\n        &lt;version&gt;3.13.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;!-- declare the exclusion here --&gt;\n                &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.equinox.common&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.equinox.common&lt;/artifactId&gt;\n        &lt;version&gt;3.14.100&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>or use this gradle configuration:</p>\n<pre><code>dependencies {\n    implementation ('org.eclipse.jdt:org.eclipse.jdt.core:3.23.0'){\n        exclude group: 'org.eclipse.platform', module: 'org.eclipse.core.runtime'\n        exclude group: 'org.eclipse.platform', module: 'org.eclipse.equinox.common'\n    }\n    implementation ('org.eclipse.platform:org.eclipse.core.runtime:3.13.0'){\n        exclude group: 'org.eclipse.platform', module: 'org.eclipse.equinox.common'\n    }\n    implementation 'org.eclipse.platform:org.eclipse.equinox.common:3.14.100'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22224473,"reputation":63,"user_id":16641419,"display_name":"xogoxec344"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659975015,"creation_date":1659975015,"answer_id":73280974,"question_id":68039780,"body_markdown":"I just ran into a very similar issue. Managed to get it working again by downgrading from\r\n````\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.eclipse.jdt.core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.27.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n````\r\n(which worked fine under java 8 up to a few weeks ago) to:\r\n````\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.eclipse.jdt.core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n````\r\nwhich seems to still work fine with java 8, at least for the AST functionality I&#39;m using in my project.","title":"How to get eclipse libraries compiled on Java 8","body":"<p>I just ran into a very similar issue. Managed to get it working again by downgrading from</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\n            &lt;artifactId&gt;org.eclipse.jdt.core&lt;/artifactId&gt;\n            &lt;version&gt;3.27.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>(which worked fine under java 8 up to a few weeks ago) to:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\n            &lt;artifactId&gt;org.eclipse.jdt.core&lt;/artifactId&gt;\n            &lt;version&gt;3.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>which seems to still work fine with java 8, at least for the AST functionality I'm using in my project.</p>\n"}],"owner":{"account_id":2922140,"reputation":482,"user_id":2504156,"accept_rate":70,"display_name":"Gana"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1038,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1659975015,"creation_date":1624039991,"question_id":68039780,"body_markdown":"Let me begin with the error I see and then I will explain the case followed by:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;p style=&quot;color:red&quot;&gt;\r\n    EclipseJDTUtil.java:[3,34] cannot access org.eclipse.core.resources.IProject\r\n      bad class file: C:\\Users\\ram\\.m2\\repository\\org\\eclipse\\platform\\org.eclipse.core.resources\\3.15.0\\org.eclipse.core.resources-3.15.0.jar(org/eclipse/core/resources/IProject.class)\r\n        class file has wrong version 55.0, should be 52.0\r\n        Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n    &lt;/p&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy project has a dependency on ***org.eclipse.jdt.core*** library. \r\n\r\n    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;org.eclipse.jdt.core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.23.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI built my project with JRE8. I used maven plugin to point to the right version at compilation like below.\r\n\r\n    &lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nIt has been OK all these days but suddenly from past few days, I see below error. I understand that this library is now available with source compiled on java 11 which is causing issues to my project. But, how is that possible? When the project source is at java 8, the dependencies should not be downloaded for java 11.\r\n\r\nI am not in a position to update my whole project to new java version!\r\n\r\nWhat I need is the eclipse libraries compiled on java 8. How should I get them on maven build? What configuration will make it possible?\r\n\r\n***Edit 1: (Response to Andreas comment):***\r\n\r\n@Andreas: Superb. As you pointed out correctly, it is pulling org.eclipse.core.resources: 3.15.0, as shown in the error. As you suggested I have added version for &quot;resources&quot; like below:\r\n\r\n    &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.eclipse.core.resources&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\nAfter I maven build I see below error now. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;p style=&quot;color:red&quot;&gt;\r\n    EclipseJDTUtil.java:[8,32] cannot access org.eclipse.core.runtime.IPath\r\n      bad class file: C:\\Users\\ram\\.m2\\repository\\org\\eclipse\\platform\\org.eclipse.equinox.common\\3.15.0\\org.eclipse.equinox.common-3.15.0.jar(org/eclipse/core/runtime/IPath.class)\r\n        class file has wrong version 55.0, should be 52.0\r\n    &lt;/p&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI am also attaching Dependency Hierarchy screenshots.\r\n\r\n[![enter image description here][1]][1]\r\n[![after adding version for resources][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TMTof.png\r\n  [2]: https://i.stack.imgur.com/qPzR4.png","title":"How to get eclipse libraries compiled on Java 8","body":"<p>Let me begin with the error I see and then I will explain the case followed by:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p style=\"color:red\"&gt;\nEclipseJDTUtil.java:[3,34] cannot access org.eclipse.core.resources.IProject\n  bad class file: C:\\Users\\ram\\.m2\\repository\\org\\eclipse\\platform\\org.eclipse.core.resources\\3.15.0\\org.eclipse.core.resources-3.15.0.jar(org/eclipse/core/resources/IProject.class)\n    class file has wrong version 55.0, should be 52.0\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My project has a dependency on <em><strong>org.eclipse.jdt.core</strong></em> library.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.jdt.core&lt;/artifactId&gt;\n        &lt;version&gt;3.23.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I built my project with JRE8. I used maven plugin to point to the right version at compilation like below.</p>\n<pre><code>&lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It has been OK all these days but suddenly from past few days, I see below error. I understand that this library is now available with source compiled on java 11 which is causing issues to my project. But, how is that possible? When the project source is at java 8, the dependencies should not be downloaded for java 11.</p>\n<p>I am not in a position to update my whole project to new java version!</p>\n<p>What I need is the eclipse libraries compiled on java 8. How should I get them on maven build? What configuration will make it possible?</p>\n<p><em><strong>Edit 1: (Response to Andreas comment):</strong></em></p>\n<p>@Andreas: Superb. As you pointed out correctly, it is pulling org.eclipse.core.resources: 3.15.0, as shown in the error. As you suggested I have added version for &quot;resources&quot; like below:</p>\n<pre><code>&lt;dependencyManagement&gt;\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;org.eclipse.core.resources&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n  \n<p>After I maven build I see below error now.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p style=\"color:red\"&gt;\nEclipseJDTUtil.java:[8,32] cannot access org.eclipse.core.runtime.IPath\n  bad class file: C:\\Users\\ram\\.m2\\repository\\org\\eclipse\\platform\\org.eclipse.equinox.common\\3.15.0\\org.eclipse.equinox.common-3.15.0.jar(org/eclipse/core/runtime/IPath.class)\n    class file has wrong version 55.0, should be 52.0\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I am also attaching Dependency Hierarchy screenshots.</p>\n<p><a href=\"https://i.stack.imgur.com/TMTof.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TMTof.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/qPzR4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qPzR4.png\" alt=\"after adding version for resources\" /></a></p>\n"},{"tags":["java","interface","instanceof"],"comments":[{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1558819310,"post_id":56308781,"comment_id":99227851,"body_markdown":"Note that it&#39;s `implements`, not `implement`","body":"Note that it&#39;s <code>implements</code>, not <code>implement</code>"},{"owner":{"account_id":3960214,"reputation":7032,"user_id":3267497,"accept_rate":18,"display_name":"Mshnik"},"score":1,"creation_date":1558819477,"post_id":56308781,"comment_id":99227885,"body_markdown":"Can you explain the method specification of add, delete, modify, and show? Add and delete are probably guessable; I assume they mean &quot;add/remove the given object to/from this container&quot;. I&#39;m not sure what show and modify are supposed to do though.","body":"Can you explain the method specification of add, delete, modify, and show? Add and delete are probably guessable; I assume they mean &quot;add/remove the given object to/from this container&quot;. I&#39;m not sure what show and modify are supposed to do though."},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":1,"creation_date":1558819746,"post_id":56308781,"comment_id":99227939,"body_markdown":"Were you _given_ the `Iactions` interface you posted above or did you write that yourself? It will help us help you. Based on what you said the professor asked you to do, it sounds like yes `Person` should implement that interface, and each person should do `add(department)`, `delete(department)`, `modify(person)`, and `show(null)` but really, there&#39;s a lot we don&#39;t know and even if my guess were right, it&#39;s not an easy-to-use model IMHO. :)","body":"Were you <i>given</i> the <code>Iactions</code> interface you posted above or did you write that yourself? It will help us help you. Based on what you said the professor asked you to do, it sounds like yes <code>Person</code> should implement that interface, and each person should do <code>add(department)</code>, <code>delete(department)</code>, <code>modify(person)</code>, and <code>show(null)</code> but really, there&#39;s a lot we don&#39;t know and even if my guess were right, it&#39;s not an easy-to-use model IMHO. :)"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1558821431,"post_id":56308781,"comment_id":99228287,"body_markdown":"Using `instanceof` is no more a bad practice than using other features of Java. The point is to use the features when they make sense.  Using `instanceof` is most commonly used in overriding equals which takes an argument of type Object.","body":"Using <code>instanceof</code> is no more a bad practice than using other features of Java. The point is to use the features when they make sense.  Using <code>instanceof</code> is most commonly used in overriding equals which takes an argument of type Object."}],"answers":[{"tags":[],"owner":{"account_id":13292157,"reputation":19,"user_id":9596323,"display_name":"Gustav W"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1558821266,"creation_date":1558820964,"answer_id":56309000,"question_id":56308781,"body_markdown":"Instanceof is not bad to use but generaly highligths bad design.\r\n\r\nthe Person class can be abstract and have a method modify.\r\nIn student and profesor you have their own implementation of the method.\r\nthis way you dont need to use \r\n\r\n```\r\nif (Object instanceof Student){\r\n//code\r\n}\r\n```\r\n\r\nbut instead:\r\n\r\n```\r\nObject.modify();\r\n```\r\n\r\nAbout the interface part it works the same way.\r\n```\r\npublic class Person implements Iactions {\r\n\r\npublic void modify(){\r\n//code\r\n}\r\n}\r\n\r\n//then call this\r\nstudent.modify();\r\n```","title":"How to avoid using instanceof in this homework?","body":"<p>Instanceof is not bad to use but generaly highligths bad design.</p>\n\n<p>the Person class can be abstract and have a method modify.\nIn student and profesor you have their own implementation of the method.\nthis way you dont need to use </p>\n\n<pre><code>if (Object instanceof Student){\n//code\n}\n</code></pre>\n\n<p>but instead:</p>\n\n<pre><code>Object.modify();\n</code></pre>\n\n<p>About the interface part it works the same way.</p>\n\n<pre><code>public class Person implements Iactions {\n\npublic void modify(){\n//code\n}\n}\n\n//then call this\nstudent.modify();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2442113,"reputation":576,"user_id":2130309,"display_name":"Bng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558821180,"creation_date":1558821180,"answer_id":56309023,"question_id":56308781,"body_markdown":"I suggest you can use generics in java. Something like:\r\n\r\n    public class People {\r\n    \tString name;\r\n    \t\r\n    \tpublic People() {\r\n    \t}\r\n    }\r\n\r\n\r\n    public interface IAction&lt;T&gt; {\r\n    \tvoid add(T o);\r\n    \tvoid delete(T o);\r\n    \tvoid modify(T o);\r\n    }\r\n\r\n\r\n    public class Departement  implements IAction&lt;People&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic void add(People o) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void delete(People o) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void modify(People o) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"How to avoid using instanceof in this homework?","body":"<p>I suggest you can use generics in java. Something like:</p>\n\n<pre><code>public class People {\n    String name;\n\n    public People() {\n    }\n}\n\n\npublic interface IAction&lt;T&gt; {\n    void add(T o);\n    void delete(T o);\n    void modify(T o);\n}\n\n\npublic class Departement  implements IAction&lt;People&gt; {\n\n    @Override\n    public void add(People o) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void delete(People o) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void modify(People o) {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15767383,"reputation":51,"user_id":11377312,"display_name":"Surf all day"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659974490,"creation_date":1558819062,"question_id":56308781,"body_markdown":"So my professor gave me a UML like this.. The other day I was talking to a friend, and he said that using  instanceOf is a bad practice.. \r\n\r\nIn this example, how can avoid using it? \r\n\r\nIn the method modify, I have to use instanceOf to check if I have the instance of a professor or a student and then I made a switch to modify each attributes of the object.\r\n\r\nAlso he told me that implementing the interface in the class department make no sense. And it should be implement it in the class Person.\r\n\r\nAny help or direction on how to improve this exercise it will be great!\r\n\r\n    public interface Iactions{\r\n      void add(Object o);\r\n      void delete(Object o);\r\n      void modify(Object o);\r\n      void show(Object o);\r\n    }\r\n    \r\n    \r\n        public class Department implement Iactions{\r\n        // Attributes\r\n        ArrayList&lt;Person&gt; myGroupPersons;\r\n          \r\n        // Implementing the methods from interface Iactions\r\n         \r\n        @Override\r\n        public void modify(Object o) {\r\n            if (o instanceof Professor) {\r\n                modifyProfessor((Professor) o);\r\n            } else if (o instanceof Student) {\r\n                modifyStudent((Student) o);\r\n            }\r\n          }\r\n       }\r\n\r\n    public class Person {\r\n      // code\r\n    }\r\n    \r\n    public class Profesor extends Person{\r\n      // code\r\n    }\r\n    \r\n    public class Student extends Person{\r\n      // code\r\n    }\r\n\r\nSorry for the lack of info:\r\nAdd and remove,  a method that insert an object and delete an object from the arrayList. \r\nFor show, I think is just a print of the arrayList.\r\nAnd modify, I need to have like a menu, where I can select which attributes of my object I want to modify.\r\n\r\nThis is me guessing because he only give us the UML (I didn&#39;t write this uml) and he didn&#39;t say anything else.","title":"How to avoid using instanceof in this homework?","body":"<p>So my professor gave me a UML like this.. The other day I was talking to a friend, and he said that using  instanceOf is a bad practice..</p>\n<p>In this example, how can avoid using it?</p>\n<p>In the method modify, I have to use instanceOf to check if I have the instance of a professor or a student and then I made a switch to modify each attributes of the object.</p>\n<p>Also he told me that implementing the interface in the class department make no sense. And it should be implement it in the class Person.</p>\n<p>Any help or direction on how to improve this exercise it will be great!</p>\n<pre><code>public interface Iactions{\n  void add(Object o);\n  void delete(Object o);\n  void modify(Object o);\n  void show(Object o);\n}\n\n\n    public class Department implement Iactions{\n    // Attributes\n    ArrayList&lt;Person&gt; myGroupPersons;\n      \n    // Implementing the methods from interface Iactions\n     \n    @Override\n    public void modify(Object o) {\n        if (o instanceof Professor) {\n            modifyProfessor((Professor) o);\n        } else if (o instanceof Student) {\n            modifyStudent((Student) o);\n        }\n      }\n   }\n\npublic class Person {\n  // code\n}\n\npublic class Profesor extends Person{\n  // code\n}\n\npublic class Student extends Person{\n  // code\n}\n</code></pre>\n<p>Sorry for the lack of info:\nAdd and remove,  a method that insert an object and delete an object from the arrayList.\nFor show, I think is just a print of the arrayList.\nAnd modify, I need to have like a menu, where I can select which attributes of my object I want to modify.</p>\n<p>This is me guessing because he only give us the UML (I didn't write this uml) and he didn't say anything else.</p>\n"},{"tags":["java","android","filter","drop-down-menu"],"answers":[{"tags":[],"owner":{"account_id":25967133,"reputation":21,"user_id":19682928,"display_name":"Azira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659974457,"creation_date":1659974457,"answer_id":73280878,"question_id":73278632,"body_markdown":"In Spinner to call a method when a item is selected you can use setOnItemSelectedListener()\r\n\r\n    spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                    // code which needs to be executed when item selected\r\n                }\r\n    \r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n    \r\n                }\r\n            });\r\n\r\nFor more details you can visit : https://developer.android.com/reference/android/widget/AdapterView.OnItemSelectedListener","title":"how to trigger function on dropdownlist item selection","body":"<p>In Spinner to call a method when a item is selected you can use setOnItemSelectedListener()</p>\n<pre><code>spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                // code which needs to be executed when item selected\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n</code></pre>\n<p>For more details you can visit : <a href=\"https://developer.android.com/reference/android/widget/AdapterView.OnItemSelectedListener\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/widget/AdapterView.OnItemSelectedListener</a></p>\n"}],"owner":{"account_id":25440337,"reputation":3,"user_id":19243390,"display_name":"Shahzad Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659974457,"creation_date":1659965212,"question_id":73278632,"body_markdown":"i am new to android studio and I am stuck in a scenario, I have a recylerview where all data visible and i want to show data only base on selected city from downlist. any suggestion that how i can achieve that. also guide me that how can I use spinner for filtering \r\n","title":"how to trigger function on dropdownlist item selection","body":"<p>i am new to android studio and I am stuck in a scenario, I have a recylerview where all data visible and i want to show data only base on selected city from downlist. any suggestion that how i can achieve that. also guide me that how can I use spinner for filtering</p>\n"},{"tags":["java","json","jakarta-ee","jackson","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1659549387,"post_id":73219391,"comment_id":129322937,"body_markdown":"There is no global setting. You&#39;d have to use something like a `JsonSerializer` and register it in the `ObjectMapper` with a `ContextResolver&lt;ObjectMapper&gt;` marked as a `@Provider`.","body":"There is no global setting. You&#39;d have to use something like a <code>JsonSerializer</code> and register it in the <code>ObjectMapper</code> with a <code>ContextResolver&lt;ObjectMapper&gt;</code> marked as a <code>@Provider</code>."},{"owner":{"account_id":432653,"reputation":6817,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1659933444,"post_id":73219391,"comment_id":129403909,"body_markdown":"@JamesR.Perkins If you switch this to an answer, I&#39;ll accept it.","body":"@JamesR.Perkins If you switch this to an answer, I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659974403,"creation_date":1659974403,"answer_id":73280869,"question_id":73219391,"body_markdown":"There is no global setting. You&#39;d have to use something like a `JsonSerializer` and register it with the `ObjectMapper`. Something like the following should work:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class TimestampJsonSerializer extends JsonSerializer&lt;Timestamp&gt; {\r\n        @Override\r\n        public void serialize(final Timestamp value, final JsonGenerator gen, final SerializerProvider serializers) throws IOException {\r\n            if (value != null) {\r\n                gen.writeNumber(value.getTime());\r\n            } else {\r\n                gen.writeNull();\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Provider\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public class JacksonProducer implements ContextResolver&lt;ObjectMapper&gt; {\r\n\r\n        private final ObjectMapper json;\r\n\r\n\r\n        public JacksonProducer() throws Exception {\r\n            final SimpleModule module = new SimpleModule(&quot;TimestampSerializer&quot;);\r\n            module.addSerializer(new TimestampJsonSerializer());\r\n            this.json = new ObjectMapper()\r\n                    .findAndRegisterModules()\r\n                    .registerModule(module);\r\n\r\n        }\r\n\r\n        @Override\r\n        public ObjectMapper getContext(Class&lt;?&gt; objectType) {\r\n            return json;\r\n        }\r\n    }","title":"How to define Timestamp serialization to JSON globally in WildFly 26?","body":"<p>There is no global setting. You'd have to use something like a <code>JsonSerializer</code> and register it with the <code>ObjectMapper</code>. Something like the following should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TimestampJsonSerializer extends JsonSerializer&lt;Timestamp&gt; {\n    @Override\n    public void serialize(final Timestamp value, final JsonGenerator gen, final SerializerProvider serializers) throws IOException {\n        if (value != null) {\n            gen.writeNumber(value.getTime());\n        } else {\n            gen.writeNull();\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class JacksonProducer implements ContextResolver&lt;ObjectMapper&gt; {\n\n    private final ObjectMapper json;\n\n\n    public JacksonProducer() throws Exception {\n        final SimpleModule module = new SimpleModule(&quot;TimestampSerializer&quot;);\n        module.addSerializer(new TimestampJsonSerializer());\n        this.json = new ObjectMapper()\n                .findAndRegisterModules()\n                .registerModule(module);\n\n    }\n\n    @Override\n    public ObjectMapper getContext(Class&lt;?&gt; objectType) {\n        return json;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":432653,"reputation":6817,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73280869,"answer_count":1,"score":0,"last_activity_date":1659974403,"creation_date":1659519122,"question_id":73219391,"body_markdown":"We migrated from an older WildFly version to the current 26.\r\nWith that came the transition from codehouse Jackson to fasterxml.\r\n\r\nWe experienced, that timestamps are no longer serialized into JSON as unix miliseconds, but as a formated String. \r\nThis works fine between server and client, but if you expect this format in the JSON intermediate format, other processes and tests do not work anymore.\r\n\r\nI tried to find a global parameter to set to configure the old behavior, but it always was about having to implement something, like custom serializer or object mapper. Additionally, since the output comes from a generic SQL result, there is no possibility to set an annotation in some entity.\r\n\r\nIs there a way to set a parameter in WildFly to globally set the output format back to the integer number without having to implement something?\r\n ","title":"How to define Timestamp serialization to JSON globally in WildFly 26?","body":"<p>We migrated from an older WildFly version to the current 26.\nWith that came the transition from codehouse Jackson to fasterxml.</p>\n<p>We experienced, that timestamps are no longer serialized into JSON as unix miliseconds, but as a formated String.\nThis works fine between server and client, but if you expect this format in the JSON intermediate format, other processes and tests do not work anymore.</p>\n<p>I tried to find a global parameter to set to configure the old behavior, but it always was about having to implement something, like custom serializer or object mapper. Additionally, since the output comes from a generic SQL result, there is no possibility to set an annotation in some entity.</p>\n<p>Is there a way to set a parameter in WildFly to globally set the output format back to the integer number without having to implement something?</p>\n"},{"tags":["java","generics","casting"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659970714,"post_id":73279745,"comment_id":129415682,"body_markdown":"Does `Identifiable` extend or implement `Identity`?","body":"Does <code>Identifiable</code> extend or implement <code>Identity</code>?"},{"owner":{"account_id":2381622,"reputation":21322,"user_id":2083523,"accept_rate":68,"display_name":"Avi"},"score":0,"creation_date":1659970827,"post_id":73279745,"comment_id":129415745,"body_markdown":"@E-Riz - Sorry, no `Identifiable` it&#39;s all `Identity`. Fixed the question","body":"@E-Riz - Sorry, no <code>Identifiable</code> it&#39;s all <code>Identity</code>. Fixed the question"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659971279,"post_id":73279745,"comment_id":129415951,"body_markdown":"Is there a specific reason you&#39;re using the bounded wilcard form in `&lt;? extends Identity&gt;` and `&lt;? extends T&gt;`. Can you control those signatures and use a non-wildcard form?","body":"Is there a specific reason you&#39;re using the bounded wilcard form in <code>&lt;? extends Identity&gt;</code> and <code>&lt;? extends T&gt;</code>. Can you control those signatures and use a non-wildcard form?"},{"owner":{"account_id":2381622,"reputation":21322,"user_id":2083523,"accept_rate":68,"display_name":"Avi"},"score":0,"creation_date":1659973103,"post_id":73279745,"comment_id":129416810,"body_markdown":"@E-Riz - It&#39;s not code I originally wrote but I can change signatures. How is it supposed to be defined?","body":"@E-Riz - It&#39;s not code I originally wrote but I can change signatures. How is it supposed to be defined?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1659974215,"post_id":73279745,"comment_id":129417264,"body_markdown":"Apparently you have both `com.mypackage.ReadApiResponse` and `com.mypackage.model.ReadApiResponse` (notice the model subpackage in the second name).  They are not the same class, so you will have to pick one and use it in both places.","body":"Apparently you have both <code>com.mypackage.ReadApiResponse</code> and <code>com.mypackage.model.ReadApiResponse</code> (notice the model subpackage in the second name).  They are not the same class, so you will have to pick one and use it in both places."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659990122,"post_id":73279745,"comment_id":129422550,"body_markdown":"@VGR might be right, if that&#39;s not just a typo in your code/message. Do you have 2 different classes named `ReadApiResponse`?","body":"@VGR might be right, if that&#39;s not just a typo in your code/message. Do you have 2 different classes named <code>ReadApiResponse</code>?"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659974234,"creation_date":1659974234,"answer_id":73280814,"question_id":73279745,"body_markdown":"If you change the wildcard generic type constraints like follows, it should be easier to work with:\r\n\r\n```java\r\npublic interface MyApi&lt;T extends Identity&gt; {\r\n    List&lt;ReadApiResponse&lt;T&gt;&gt; read(ReadApiRequest request);\r\n}\r\n\r\npublic class MyClass&lt;T extends Identity&gt; {\r\n\r\n    private List&lt;T&gt; sortResults(List&lt;ReadApiResponse&lt;T&gt;&gt; response) {\r\n         // Do something here\r\n      }\r\n\r\n}\r\n```\r\n\r\nNote that, depending on the usage and the type `Identity`, this might eliminate some flexibility that you get by using wildcard type constraints. Without more context, it&#39;s impossible to say for sure if that will matter.","title":"Can&#39;t pass parameter to a method when wildcard is in the form &lt;? extends capture of ? extends Identity&gt;","body":"<p>If you change the wildcard generic type constraints like follows, it should be easier to work with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyApi&lt;T extends Identity&gt; {\n    List&lt;ReadApiResponse&lt;T&gt;&gt; read(ReadApiRequest request);\n}\n\npublic class MyClass&lt;T extends Identity&gt; {\n\n    private List&lt;T&gt; sortResults(List&lt;ReadApiResponse&lt;T&gt;&gt; response) {\n         // Do something here\n      }\n\n}\n</code></pre>\n<p>Note that, depending on the usage and the type <code>Identity</code>, this might eliminate some flexibility that you get by using wildcard type constraints. Without more context, it's impossible to say for sure if that will matter.</p>\n"}],"owner":{"account_id":2381622,"reputation":21322,"user_id":2083523,"accept_rate":68,"display_name":"Avi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659974234,"creation_date":1659969822,"question_id":73279745,"body_markdown":"I have an  interface that&#39;ss defined as follows:\r\n\r\n    public interface MyApi&lt;T extends Identity&gt;\r\n\r\nAnd a method read:\r\n\r\n    List&lt;ReadApiResponse&lt;? extends T&gt;&gt; read(ReadApiRequest request);\r\n\r\n\r\nIn my calling class I have a private method that should operate on the `read` result and its signature is:\r\n\r\n    public MyClass&lt;T extends Identity&gt; {\r\n\r\n        private List&lt;T&gt; sortResults(List&lt;ReadApiResponse&lt;? extends Identity&gt;&gt; response) {\r\n             // Do something here\r\n          }\r\n\r\n    }\r\n\r\n\r\nI try to call the private method:\r\n\r\n\r\n    var results = read(request);\r\n    List&lt;T&gt; sortedResults = sortResults(results);\r\n\r\n\r\nBut I get the message:\r\n\r\n\r\n    &#39;sortResults(java.util.List&lt;com.mypackage.ReadApiResponse&lt;? extends com.mypackage.Identity&gt;&gt;)&#39; in &#39;...&#39; cannot be applied to &#39;(java.util.List&lt;com.mypackage.model.ReadApiResponse&lt;? extends capture&lt;? extends com.mypackage.Identity&gt;&gt;&gt;)&#39;\r\n\r\n\r\nWhat am I doing wrong here? I tried to cast it with Intellij&#39;s problem-solver suggestions and it also throws an error","title":"Can&#39;t pass parameter to a method when wildcard is in the form &lt;? extends capture of ? extends Identity&gt;","body":"<p>I have an  interface that'ss defined as follows:</p>\n<pre><code>public interface MyApi&lt;T extends Identity&gt;\n</code></pre>\n<p>And a method read:</p>\n<pre><code>List&lt;ReadApiResponse&lt;? extends T&gt;&gt; read(ReadApiRequest request);\n</code></pre>\n<p>In my calling class I have a private method that should operate on the <code>read</code> result and its signature is:</p>\n<pre><code>public MyClass&lt;T extends Identity&gt; {\n\n    private List&lt;T&gt; sortResults(List&lt;ReadApiResponse&lt;? extends Identity&gt;&gt; response) {\n         // Do something here\n      }\n\n}\n</code></pre>\n<p>I try to call the private method:</p>\n<pre><code>var results = read(request);\nList&lt;T&gt; sortedResults = sortResults(results);\n</code></pre>\n<p>But I get the message:</p>\n<pre><code>'sortResults(java.util.List&lt;com.mypackage.ReadApiResponse&lt;? extends com.mypackage.Identity&gt;&gt;)' in '...' cannot be applied to '(java.util.List&lt;com.mypackage.model.ReadApiResponse&lt;? extends capture&lt;? extends com.mypackage.Identity&gt;&gt;&gt;)'\n</code></pre>\n<p>What am I doing wrong here? I tried to cast it with Intellij's problem-solver suggestions and it also throws an error</p>\n"},{"tags":["java","android","android-studio","android-emulator"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1659970885,"post_id":73279246,"comment_id":129415774,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":11698358,"reputation":21,"user_id":9365712,"display_name":"Yaseen Latiff"},"score":0,"creation_date":1659971080,"post_id":73279246,"comment_id":129415869,"body_markdown":"No problem I just want to know if I can fix the issue of my application not working on phones with a higher API level.","body":"No problem I just want to know if I can fix the issue of my application not working on phones with a higher API level."}],"answers":[{"tags":[],"owner":{"account_id":25967133,"reputation":21,"user_id":19682928,"display_name":"Azira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659974127,"creation_date":1659974127,"answer_id":73280798,"question_id":73279246,"body_markdown":"I don&#39;t use Android Studio&#39;s Emulator as it makes my pc slow and most of the times cpu is at 100% so I would use third party emulator and connect that emulator to Android Studio using adb and It works fine for me.","title":"Android studio using emulators with higher API versions","body":"<p>I don't use Android Studio's Emulator as it makes my pc slow and most of the times cpu is at 100% so I would use third party emulator and connect that emulator to Android Studio using adb and It works fine for me.</p>\n"}],"owner":{"account_id":11698358,"reputation":21,"user_id":9365712,"display_name":"Yaseen Latiff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659974127,"creation_date":1659967775,"question_id":73279246,"body_markdown":"so I more or less know my way around android studio there&#39;s one issue I don&#39;t understand. Why is it when I am working with a project and I try to test it on a higher API version emulator it doesn&#39;t really work properly. It just does nothing. Sometimes it will provide the desired output, but that may take a long time and sometimes it is able to provide the desired output. I tried the application on an emulator with the minimum API and it worked fine with no issues.","title":"Android studio using emulators with higher API versions","body":"<p>so I more or less know my way around android studio there's one issue I don't understand. Why is it when I am working with a project and I try to test it on a higher API version emulator it doesn't really work properly. It just does nothing. Sometimes it will provide the desired output, but that may take a long time and sometimes it is able to provide the desired output. I tried the application on an emulator with the minimum API and it worked fine with no issues.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":25816585,"reputation":1,"user_id":19556452,"display_name":"Franklin Gualtiere"},"score":0,"creation_date":1659971421,"post_id":73280098,"comment_id":129416022,"body_markdown":"i believe that this will help :) https://stackoverflow.com/questions/1129795/what-is-suppresswarnings-unchecked-in-java","body":"i believe that this will help :) <a href=\"https://stackoverflow.com/questions/1129795/what-is-suppresswarnings-unchecked-in-java\" title=\"what is suppresswarnings unchecked in java\">stackoverflow.com/questions/1129795/&hellip;</a>"},{"owner":{"account_id":7138893,"reputation":103,"user_id":5457383,"display_name":"Willempie"},"score":0,"creation_date":1659971905,"post_id":73280098,"comment_id":129416235,"body_markdown":"Due to type erasure Java cannot determine the type of the class at runtime. I usually get around this by adding the class as a parameter. Like this `private &lt;T&gt; void someMethod(T object, Class&lt;T&gt; class)`","body":"Due to type erasure Java cannot determine the type of the class at runtime. I usually get around this by adding the class as a parameter. Like this <code>private &lt;T&gt; void someMethod(T object, Class&lt;T&gt; class)</code>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1659971957,"post_id":73280098,"comment_id":129416247,"body_markdown":"If you have a `List&lt;...&gt; ex = new ArrayList&lt;&gt;()` and do `getClass` on it, then what type is the `Class`? As for the `Class&lt;T&gt;`, when you erase the generics information (aka when you evaluate this function at compile-time), what method would work for any possible input?","body":"If you have a <code>List&lt;...&gt; ex = new ArrayList&lt;&gt;()</code> and do <code>getClass</code> on it, then what type is the <code>Class</code>? As for the <code>Class&lt;T&gt;</code>, when you erase the generics information (aka when you evaluate this function at compile-time), what method would work for any possible input?"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659972262,"creation_date":1659971780,"answer_id":73280235,"question_id":73280098,"body_markdown":"`getClass` follows some specific rules that are a bit unusual. The *declared* return type of Object::getClass is simply `Class&lt;?&gt;`, i.e. a class of some type. But as per [the docs](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--)\r\n\r\n&gt; The actual result type is `Class&lt;? extends |X|&gt;` where |X| is the\r\n&gt; erasure of the static type of the expression on which `getClass` is\r\n&gt; called.\r\n\r\nThe erasure for T in your example is simply Object, so the return is `Class&lt;? extends Object&gt;`. Everything extends Object, so that&#39;s the same as `Class&lt;?&gt;`.\r\n\r\nWhen the parameter is the specific type String, the erasure is also String, and the result is `Class&lt;? extends String&gt;`.\r\n\r\n[Oracle tutorial on type erasure](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html)\r\n\r\nI guess what happens under the hood is that the compiler effectively &quot;overrides&quot; Object::getClass with a more specific return type. Child classes are allowed to return more specific types than their parents, but *not* less specific. Consider this valid code:\r\n\r\n    class Foo {\r\n        public Class&lt;? extends List&lt;?&gt;&gt; foo() { return null; } \r\n    }\r\n    \r\n    class Bar extends Foo {\r\n        @Override\r\n        public Class&lt;? extends ArrayList&lt;?&gt;&gt; foo() { return null; }\r\n    }\r\n\r\nBecause of how this is implemented, `T obj; obj.getClass();` will return `Class&lt;?&gt;`, rather than what you&#39;re expecting which is `Class&lt;? extends T&gt;`.\r\n\r\nIn your case, the cast is safe.\r\n","title":"Java required type &lt;T&gt; provided &lt;?&gt; generic compilation error","body":"<p><code>getClass</code> follows some specific rules that are a bit unusual. The <em>declared</em> return type of Object::getClass is simply <code>Class&lt;?&gt;</code>, i.e. a class of some type. But as per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--\" rel=\"nofollow noreferrer\">the docs</a></p>\n<blockquote>\n<p>The actual result type is <code>Class&lt;? extends |X|&gt;</code> where |X| is the\nerasure of the static type of the expression on which <code>getClass</code> is\ncalled.</p>\n</blockquote>\n<p>The erasure for T in your example is simply Object, so the return is <code>Class&lt;? extends Object&gt;</code>. Everything extends Object, so that's the same as <code>Class&lt;?&gt;</code>.</p>\n<p>When the parameter is the specific type String, the erasure is also String, and the result is <code>Class&lt;? extends String&gt;</code>.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">Oracle tutorial on type erasure</a></p>\n<p>I guess what happens under the hood is that the compiler effectively &quot;overrides&quot; Object::getClass with a more specific return type. Child classes are allowed to return more specific types than their parents, but <em>not</em> less specific. Consider this valid code:</p>\n<pre><code>class Foo {\n    public Class&lt;? extends List&lt;?&gt;&gt; foo() { return null; } \n}\n\nclass Bar extends Foo {\n    @Override\n    public Class&lt;? extends ArrayList&lt;?&gt;&gt; foo() { return null; }\n}\n</code></pre>\n<p>Because of how this is implemented, <code>T obj; obj.getClass();</code> will return <code>Class&lt;?&gt;</code>, rather than what you're expecting which is <code>Class&lt;? extends T&gt;</code>.</p>\n<p>In your case, the cast is safe.</p>\n"},{"tags":[],"owner":{"account_id":25171650,"reputation":18,"user_id":19014404,"display_name":"EffectiveIvana"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1659972588,"creation_date":1659972588,"answer_id":73280436,"question_id":73280098,"body_markdown":"You can salve that problem like this:\r\n\r\n    private &lt;T&gt; Class&lt;T&gt; getClass(T object) {\r\n       return (Class&lt;T&gt;)object.getClass();\r\n    }","title":"Java required type &lt;T&gt; provided &lt;?&gt; generic compilation error","body":"<p>You can salve that problem like this:</p>\n<pre><code>private &lt;T&gt; Class&lt;T&gt; getClass(T object) {\n   return (Class&lt;T&gt;)object.getClass();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659974113,"creation_date":1659974113,"answer_id":73280795,"question_id":73280098,"body_markdown":"As types are still erase you just have an `Object object`.\r\n\r\n    Class&lt;?&gt; type = object.getClass();\r\n\r\nIt is the other way around, one may use:\r\n\r\n    private &lt;T&gt; T getObject(Object object, Class&lt;T&gt; type) {\r\n       return type.cast(object);\r\n    }\r\n\r\nThe above does a dynamic runtime cast. This might be useful:\r\n\r\n    private final Map&lt;Class&lt;?&gt;, Object&gt; singletonsByType = new HashMap&lt;&gt;();\r\n\r\n    public &lt;T&gt; void store(Class&lt;T&gt; type, T object) {\r\n        singletonsByType.put(type, object);\r\n    }\r\n\r\n    public &lt;S&gt; S lookup(Class&lt;S&gt; type) {\r\n        return type.cast(singletonsByType.get(type));\r\n    }","title":"Java required type &lt;T&gt; provided &lt;?&gt; generic compilation error","body":"<p>As types are still erase you just have an <code>Object object</code>.</p>\n<pre><code>Class&lt;?&gt; type = object.getClass();\n</code></pre>\n<p>It is the other way around, one may use:</p>\n<pre><code>private &lt;T&gt; T getObject(Object object, Class&lt;T&gt; type) {\n   return type.cast(object);\n}\n</code></pre>\n<p>The above does a dynamic runtime cast. This might be useful:</p>\n<pre><code>private final Map&lt;Class&lt;?&gt;, Object&gt; singletonsByType = new HashMap&lt;&gt;();\n\npublic &lt;T&gt; void store(Class&lt;T&gt; type, T object) {\n    singletonsByType.put(type, object);\n}\n\npublic &lt;S&gt; S lookup(Class&lt;S&gt; type) {\n    return type.cast(singletonsByType.get(type));\n}\n</code></pre>\n"}],"owner":{"account_id":19159657,"reputation":327,"user_id":13995718,"display_name":"Sam Gregory"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73280235,"answer_count":3,"score":0,"last_activity_date":1659974113,"creation_date":1659971252,"question_id":73280098,"body_markdown":"How is Java unable to interpret this code:\r\n\r\n```java\r\n    private &lt;T&gt; Class&lt;T&gt; getClass(T object) {\r\n       return object.getClass();\r\n    }\r\n```\r\nI&#39;m trying to visualise this and when I substitute in for an exmaple\r\n\r\n```java\r\n    private Class&lt;String&gt; getClass(String s) {\r\n        return s.getClass();\r\n    } \r\n```\r\n\r\nI get the same sort of error: `required type &lt;String&gt;` `provided type &lt;? extends String&gt;`. I&#39;ve seen code that gets around this error by doing:\r\n\r\n```java\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Class&lt;T&gt; clazz = (Class&lt;T&gt;) object.getClass();\r\n```\r\n\r\nWhat does this mean? What am I not understanding about this generics problem?","title":"Java required type &lt;T&gt; provided &lt;?&gt; generic compilation error","body":"<p>How is Java unable to interpret this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private &lt;T&gt; Class&lt;T&gt; getClass(T object) {\n       return object.getClass();\n    }\n</code></pre>\n<p>I'm trying to visualise this and when I substitute in for an exmaple</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private Class&lt;String&gt; getClass(String s) {\n        return s.getClass();\n    } \n</code></pre>\n<p>I get the same sort of error: <code>required type &lt;String&gt;</code> <code>provided type &lt;? extends String&gt;</code>. I've seen code that gets around this error by doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @SuppressWarnings(&quot;unchecked&quot;)\n        Class&lt;T&gt; clazz = (Class&lt;T&gt;) object.getClass();\n</code></pre>\n<p>What does this mean? What am I not understanding about this generics problem?</p>\n"},{"tags":["java","spring","spring-boot","rest","gson"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1659723491,"post_id":73253382,"comment_id":129370647,"body_markdown":"Replace the JSON library with Jackson and use [@JsonPropertyOrder](https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonPropertyOrder.html).","body":"Replace the JSON library with Jackson and use <a href=\"https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonPropertyOrder.html\" rel=\"nofollow noreferrer\">@JsonPropertyOrder</a>."},{"owner":{"account_id":11301263,"reputation":49,"user_id":8287126,"display_name":"sleepy_soul"},"score":0,"creation_date":1659762715,"post_id":73253382,"comment_id":129376825,"body_markdown":"I did this.....but the moment after after theb loop ends and puts into JSONObject.... JSONObject out = new JSONObject(); out.put(&quot;total_Items&quot;, arr1); return out.toString(); // this is org.json.JSONObject .......the order of members is lost foreach object(as seen on the API response on postman).","body":"I did this.....but the moment after after theb loop ends and puts into JSONObject.... JSONObject out = new JSONObject(); out.put(&quot;total_Items&quot;, arr1); return out.toString(); // this is org.json.JSONObject .......the order of members is lost foreach object(as seen on the API response on postman)."},{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1659763163,"post_id":73253382,"comment_id":129376880,"body_markdown":"I meant get rid of Gson and use Jackson for all your JSON processing. If you really want to keep Gson, then you need to create a [custom JSON serializer](https://stackoverflow.com/questions/6365851/how-to-keep-fields-sequence-in-gson-serialization).","body":"I meant get rid of Gson and use Jackson for all your JSON processing. If you really want to keep Gson, then you need to create a <a href=\"https://stackoverflow.com/questions/6365851/how-to-keep-fields-sequence-in-gson-serialization\">custom JSON serializer</a>."},{"owner":{"account_id":11301263,"reputation":49,"user_id":8287126,"display_name":"sleepy_soul"},"score":0,"creation_date":1659765129,"post_id":73253382,"comment_id":129377085,"body_markdown":"I tried using the @JsonPropertOrder in the first implementation show here....without GSON","body":"I tried using the @JsonPropertOrder in the first implementation show here....without GSON"}],"answers":[{"tags":[],"owner":{"account_id":268201,"reputation":419,"user_id":1573368,"display_name":"Sheel Prabhakar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659974007,"creation_date":1659790606,"answer_id":73259915,"question_id":73253382,"body_markdown":"If you want to do using DataStructure use LinkedHashMap as given below. It will serialize in inserted order.\r\n\r\n```\r\npublic static void main(String args[]){\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Map&lt;String, String&gt; itemObj = new LinkedHashMap&lt;&gt;();\r\n        itemObj.put(&quot;s91&quot;,&quot;Value1&quot;);\r\n        itemObj.put(&quot;s2&quot;,&quot;Value2&quot;);\r\n        itemObj.put(&quot;s3&quot;,&quot;Value3&quot;);\r\n        itemObj.put(&quot;s4&quot;,&quot;Value4&quot;);\r\n        try {\r\n\r\n            String jsonString = mapper\r\n                    .writerWithDefaultPrettyPrinter()\r\n                    .writeValueAsString(itemObj);\r\n            System.out.println(jsonString);\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n{\r\n  &quot;s91&quot; : &quot;Value1&quot;,\r\n  &quot;s2&quot; : &quot;Value2&quot;,\r\n  &quot;s3&quot; : &quot;Value3&quot;,\r\n  &quot;s4&quot; : &quot;Value4&quot;\r\n}\r\n```\r\nIf you want to serialize in sorted order the use TreeMap, it will serialize in sorted key\r\n```\r\n Map&lt;String, String&gt; itemObj = new TreeMap&lt;&gt;();\r\n...\r\n```\r\n```\r\n{\r\n  &quot;s2&quot; : &quot;Value2&quot;,\r\n  &quot;s3&quot; : &quot;Value3&quot;,\r\n  &quot;s4&quot; : &quot;Value4&quot;,\r\n  &quot;s91&quot; : &quot;Value1&quot;\r\n}\r\n\r\n```\r\nThis can be done using Jackson library using the @JsonPropertyOrder annotation.\r\n\r\nYou can define the order of elements as given below above class\r\n@JsonPropertyOrder({ &quot;s3&quot;, &quot;s2&quot;, &quot;s1&quot;, &quot;s4&quot;})\r\n\r\nRefer to below a working example\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.sun.istack.NotNull;\r\nimport java.io.IOException;\r\nimport java.util.UUID;\r\n\r\n@JsonPropertyOrder({ &quot;id&quot;, &quot;password&quot;, &quot;name&quot;, &quot;email&quot;, &quot;enabled&quot; })\r\npublic class UserResource {\r\n    private UUID id;\r\n    @NotNull\r\n    private String name;\r\n    @NotNull\r\n    private String email;\r\n    private boolean enabled;\r\n    private String password;\r\n\r\n    public UserResource(UUID id, String name, String email, boolean enabled, String password) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.email = email;\r\n        this.enabled = enabled;\r\n        this.password = password;\r\n    }\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public boolean isEnabled() {\r\n        return enabled;\r\n    }\r\n\r\n    public void setEnabled(boolean enabled) {\r\n        this.enabled = enabled;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public static void main(String args[]){\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            UserResource student = new UserResource(UUID.randomUUID(), &quot;sheel&quot;, &quot;sheel@c4c.com&quot;,true, &quot;$$$$$$%%##^^$DSGHHH&quot;);\r\n            String jsonString = mapper\r\n                    .writerWithDefaultPrettyPrinter()\r\n                    .writeValueAsString(student);\r\n            System.out.println(jsonString);\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand output as given below\r\n\r\n```\r\n{\r\n  &quot;id&quot; : &quot;fbfcd21d-731e-4acb-9fec-90a499e47cc9&quot;,\r\n  &quot;password&quot; : &quot;$$$$$$%%##^^$DSGHHH&quot;,\r\n  &quot;name&quot; : &quot;sheel&quot;,\r\n  &quot;email&quot; : &quot;sheel@c4c.com&quot;,\r\n  &quot;enabled&quot; : true\r\n}\r\n```","title":"How to keep the JSON&#39;s order preserved while sending to frontend application from SpringBoot Application&#39;s service?","body":"<p>If you want to do using DataStructure use LinkedHashMap as given below. It will serialize in inserted order.</p>\n<pre><code>public static void main(String args[]){\n        ObjectMapper mapper = new ObjectMapper();\n        Map&lt;String, String&gt; itemObj = new LinkedHashMap&lt;&gt;();\n        itemObj.put(&quot;s91&quot;,&quot;Value1&quot;);\n        itemObj.put(&quot;s2&quot;,&quot;Value2&quot;);\n        itemObj.put(&quot;s3&quot;,&quot;Value3&quot;);\n        itemObj.put(&quot;s4&quot;,&quot;Value4&quot;);\n        try {\n\n            String jsonString = mapper\n                    .writerWithDefaultPrettyPrinter()\n                    .writeValueAsString(itemObj);\n            System.out.println(jsonString);\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<pre><code>{\n  &quot;s91&quot; : &quot;Value1&quot;,\n  &quot;s2&quot; : &quot;Value2&quot;,\n  &quot;s3&quot; : &quot;Value3&quot;,\n  &quot;s4&quot; : &quot;Value4&quot;\n}\n</code></pre>\n<p>If you want to serialize in sorted order the use TreeMap, it will serialize in sorted key</p>\n<pre><code> Map&lt;String, String&gt; itemObj = new TreeMap&lt;&gt;();\n...\n</code></pre>\n<pre><code>{\n  &quot;s2&quot; : &quot;Value2&quot;,\n  &quot;s3&quot; : &quot;Value3&quot;,\n  &quot;s4&quot; : &quot;Value4&quot;,\n  &quot;s91&quot; : &quot;Value1&quot;\n}\n\n</code></pre>\n<p>This can be done using Jackson library using the @JsonPropertyOrder annotation.</p>\n<p>You can define the order of elements as given below above class\n@JsonPropertyOrder({ &quot;s3&quot;, &quot;s2&quot;, &quot;s1&quot;, &quot;s4&quot;})</p>\n<p>Refer to below a working example</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.sun.istack.NotNull;\nimport java.io.IOException;\nimport java.util.UUID;\n\n@JsonPropertyOrder({ &quot;id&quot;, &quot;password&quot;, &quot;name&quot;, &quot;email&quot;, &quot;enabled&quot; })\npublic class UserResource {\n    private UUID id;\n    @NotNull\n    private String name;\n    @NotNull\n    private String email;\n    private boolean enabled;\n    private String password;\n\n    public UserResource(UUID id, String name, String email, boolean enabled, String password) {\n        this.id = id;\n        this.name = name;\n        this.email = email;\n        this.enabled = enabled;\n        this.password = password;\n    }\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public void setEnabled(boolean enabled) {\n        this.enabled = enabled;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public static void main(String args[]){\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            UserResource student = new UserResource(UUID.randomUUID(), &quot;sheel&quot;, &quot;sheel@c4c.com&quot;,true, &quot;$$$$$$%%##^^$DSGHHH&quot;);\n            String jsonString = mapper\n                    .writerWithDefaultPrettyPrinter()\n                    .writeValueAsString(student);\n            System.out.println(jsonString);\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>and output as given below</p>\n<pre><code>{\n  &quot;id&quot; : &quot;fbfcd21d-731e-4acb-9fec-90a499e47cc9&quot;,\n  &quot;password&quot; : &quot;$$$$$$%%##^^$DSGHHH&quot;,\n  &quot;name&quot; : &quot;sheel&quot;,\n  &quot;email&quot; : &quot;sheel@c4c.com&quot;,\n  &quot;enabled&quot; : true\n}\n</code></pre>\n"}],"owner":{"account_id":11301263,"reputation":49,"user_id":8287126,"display_name":"sleepy_soul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659974007,"creation_date":1659720279,"question_id":73253382,"body_markdown":"I&#39;m developing a springboot application.\r\n\r\nI&#39;ve a class with the following fields\r\n\r\n    class MyClass\r\n    {\r\n      String s1;\r\n      String s2;\r\n      String s3;\r\n      String s4;\r\n    \r\n      //getters setters constructors\r\n    }\r\n\r\nI&#39;m calling an API which in turn calls a service.\r\n\r\n    public String myService()\r\n    {\r\n        JSONArray arr1 = new JSONArray();\r\n    \tfor (Items item : itemsList) \r\n        {\r\n    \t  JSONObject itemObj = new JSONObject();\r\n          itemObj.put(&quot;s1&quot;,&quot;Value1&quot;);\r\n          itemObj.put(&quot;s2&quot;,&quot;Value2&quot;);\r\n          itemObj.put(&quot;s3&quot;,&quot;Value3&quot;)\r\n          itemObj.put(&quot;s4&quot;,&quot;Value4&quot;);\r\n    \r\n          arr1.put(itemObj);\r\n        }\r\n    \r\n        JSONObject out = new JSONObject();\r\n    \tout.put(&quot;total_Items&quot;, arr1);\r\n    \treturn out.toString();  // this is org.json.JSONObject\r\n    }\r\n\r\nThis way I&#39;m able to get the excel with the reordered members as the columns when a button is clicked at the frontend angular app.\r\n\r\n\r\nWhat I want is the order of the the members in the columns remains preserved when exporting into an excel sheet.\r\n\r\n**s1|s2|s3|s4**     //as per the above example\r\n\r\nI&#39;ve many other services as well, which return different types of Objects(apart from the MyClass mentioned here) so I wanted to return the elements in the order defined (as per the order of members in the class) from the backend itself. \r\n\r\nI know that JSON does not allow us to preserve the order as it internally uses a HASHMAP.\r\n\r\nIs there a way to return a JSON response such that the order remains same as that of the class members?\r\n\r\nI also tried using GSON in the below way.\r\n\r\n    public String myService()\r\n    {\r\n      MyClass itemsArray[] = new MyClass[itemsList.size()];\r\n      int i=0;\r\n      for (Items item : itemsList) \r\n      {\r\n        MyClass itemObj = new MyClass();\r\n        itemObj.setS1(&quot;Value1&quot;);\r\n        itemObj.setS2(&quot;Value2&quot;);\r\n        itemObj.setS3(&quot;Value3&quot;)\r\n        itemObj.setS4(&quot;Value4&quot;);\r\n    \r\n        itemsArray[i]=itemObj;\r\n      }\r\n      Gson gson = new Gson();\r\n      return gson.toJson(itemsArray);  // this is java.lang.String\r\n    }\r\n\r\nIn this scenario I&#39;m able to get the API response(on POSTMAN) with the elements in ordered fashion but when exporting on the frontend angular app it freezes at the downloading screen.\r\n\r\nI tried doing conversion to JSONObject and other things randomly but was not able to make the code work properly.\r\n\r\nIs there anyway the problem can be resolved at the backend...or something needs to be done at the frontend only?\r\n\r\n\r\nThanks in advance.","title":"How to keep the JSON&#39;s order preserved while sending to frontend application from SpringBoot Application&#39;s service?","body":"<p>I'm developing a springboot application.</p>\n<p>I've a class with the following fields</p>\n<pre><code>class MyClass\n{\n  String s1;\n  String s2;\n  String s3;\n  String s4;\n\n  //getters setters constructors\n}\n</code></pre>\n<p>I'm calling an API which in turn calls a service.</p>\n<pre><code>public String myService()\n{\n    JSONArray arr1 = new JSONArray();\n    for (Items item : itemsList) \n    {\n      JSONObject itemObj = new JSONObject();\n      itemObj.put(&quot;s1&quot;,&quot;Value1&quot;);\n      itemObj.put(&quot;s2&quot;,&quot;Value2&quot;);\n      itemObj.put(&quot;s3&quot;,&quot;Value3&quot;)\n      itemObj.put(&quot;s4&quot;,&quot;Value4&quot;);\n\n      arr1.put(itemObj);\n    }\n\n    JSONObject out = new JSONObject();\n    out.put(&quot;total_Items&quot;, arr1);\n    return out.toString();  // this is org.json.JSONObject\n}\n</code></pre>\n<p>This way I'm able to get the excel with the reordered members as the columns when a button is clicked at the frontend angular app.</p>\n<p>What I want is the order of the the members in the columns remains preserved when exporting into an excel sheet.</p>\n<p><strong>s1|s2|s3|s4</strong>     //as per the above example</p>\n<p>I've many other services as well, which return different types of Objects(apart from the MyClass mentioned here) so I wanted to return the elements in the order defined (as per the order of members in the class) from the backend itself.</p>\n<p>I know that JSON does not allow us to preserve the order as it internally uses a HASHMAP.</p>\n<p>Is there a way to return a JSON response such that the order remains same as that of the class members?</p>\n<p>I also tried using GSON in the below way.</p>\n<pre><code>public String myService()\n{\n  MyClass itemsArray[] = new MyClass[itemsList.size()];\n  int i=0;\n  for (Items item : itemsList) \n  {\n    MyClass itemObj = new MyClass();\n    itemObj.setS1(&quot;Value1&quot;);\n    itemObj.setS2(&quot;Value2&quot;);\n    itemObj.setS3(&quot;Value3&quot;)\n    itemObj.setS4(&quot;Value4&quot;);\n\n    itemsArray[i]=itemObj;\n  }\n  Gson gson = new Gson();\n  return gson.toJson(itemsArray);  // this is java.lang.String\n}\n</code></pre>\n<p>In this scenario I'm able to get the API response(on POSTMAN) with the elements in ordered fashion but when exporting on the frontend angular app it freezes at the downloading screen.</p>\n<p>I tried doing conversion to JSONObject and other things randomly but was not able to make the code work properly.</p>\n<p>Is there anyway the problem can be resolved at the backend...or something needs to be done at the frontend only?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","unity-game-engine"],"owner":{"account_id":17931643,"reputation":97,"user_id":13028931,"display_name":"JanSmutn&#253;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659973931,"creation_date":1659973931,"question_id":73280755,"body_markdown":"I am trying to see debug logs from an Android app which I have been told can be achieved by android device monitor (adm). When I click monitor.bat in order to turn on the adm, I will just get this popup window: [![error][1]][1]\r\n\r\nThe log looks like this:\r\n\r\n        !SESSION 2022-08-08 17:36:14.680 -----------------------------------------------\r\n    eclipse.buildId=unknown\r\n    java.version=17.0.4\r\n    java.vendor=Eclipse Adoptium\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=cs_CZ\r\n    Command-line arguments:  -os win32 -ws win32 -arch x86_64 -data @noDefault\r\n\r\n    !ENTRY org.eclipse.osgi 4 0 2022-08-08 17:36:14.916\r\n    !MESSAGE error loading hook: org.eclipse.osgi.internal.baseadaptor.BaseHookConfigurator\r\n    !STACK 0\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @668bc3d5\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n        at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n        at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.findMethod(BaseStorage.java:174)\r\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.findMethod(BaseStorage.java:181)\r\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.findAddURLMethod(BaseStorage.java:165)\r\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.&lt;init&gt;(BaseStorage.java:135)\r\n        at org.eclipse.osgi.internal.baseadaptor.BaseHookConfigurator.addHooks(BaseHookConfigurator.java:24)\r\n        at org.eclipse.osgi.baseadaptor.HookRegistry.loadConfigurators(HookRegistry.java:178)\r\n        at org.eclipse.osgi.baseadaptor.HookRegistry.initialize(HookRegistry.java:100)\r\n        at org.eclipse.osgi.baseadaptor.BaseAdaptor.&lt;init&gt;(BaseAdaptor.java:98)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.createAdaptor(EclipseStarter.java:737)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:258)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\r\n        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\r\n        at org.eclipse.equinox.launcher.Main.run(Main.java:1438)\r\n\r\n    !ENTRY org.eclipse.osgi 4 0 2022-08-08 17:36:14.947\r\n    !MESSAGE Startup error\r\n    !STACK 1\r\n    java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.osgi.internal.baseadaptor.BaseStorage.initialize(org.eclipse.osgi.baseadaptor.BaseAdaptor)&quot; because &quot;this.storage&quot; is null\r\n        at org.eclipse.osgi.baseadaptor.BaseAdaptor.initializeStorage(BaseAdaptor.java:123)\r\n        at org.eclipse.osgi.framework.internal.core.Framework.&lt;init&gt;(Framework.java:192)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:262)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\r\n        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\r\n        at org.eclipse.equinox.launcher.Main.run(Main.java:1438)\r\n\r\nDoes anyone know how to fix this issue? I am using SDK installed with Unity Hub. Thank you for help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dcR4g.png","title":"monitor.bat does not do anything but error with error logs","body":"<p>I am trying to see debug logs from an Android app which I have been told can be achieved by android device monitor (adm). When I click monitor.bat in order to turn on the adm, I will just get this popup window: <a href=\"https://i.stack.imgur.com/dcR4g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dcR4g.png\" alt=\"error\" /></a></p>\n<p>The log looks like this:</p>\n<pre><code>    !SESSION 2022-08-08 17:36:14.680 -----------------------------------------------\neclipse.buildId=unknown\njava.version=17.0.4\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=cs_CZ\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -data @noDefault\n\n!ENTRY org.eclipse.osgi 4 0 2022-08-08 17:36:14.916\n!MESSAGE error loading hook: org.eclipse.osgi.internal.baseadaptor.BaseHookConfigurator\n!STACK 0\njava.lang.reflect.InaccessibleObjectException: Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @668bc3d5\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.eclipse.osgi.internal.baseadaptor.BaseStorage.findMethod(BaseStorage.java:174)\n    at org.eclipse.osgi.internal.baseadaptor.BaseStorage.findMethod(BaseStorage.java:181)\n    at org.eclipse.osgi.internal.baseadaptor.BaseStorage.findAddURLMethod(BaseStorage.java:165)\n    at org.eclipse.osgi.internal.baseadaptor.BaseStorage.&lt;init&gt;(BaseStorage.java:135)\n    at org.eclipse.osgi.internal.baseadaptor.BaseHookConfigurator.addHooks(BaseHookConfigurator.java:24)\n    at org.eclipse.osgi.baseadaptor.HookRegistry.loadConfigurators(HookRegistry.java:178)\n    at org.eclipse.osgi.baseadaptor.HookRegistry.initialize(HookRegistry.java:100)\n    at org.eclipse.osgi.baseadaptor.BaseAdaptor.&lt;init&gt;(BaseAdaptor.java:98)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.createAdaptor(EclipseStarter.java:737)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:258)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)\n\n!ENTRY org.eclipse.osgi 4 0 2022-08-08 17:36:14.947\n!MESSAGE Startup error\n!STACK 1\njava.lang.NullPointerException: Cannot invoke &quot;org.eclipse.osgi.internal.baseadaptor.BaseStorage.initialize(org.eclipse.osgi.baseadaptor.BaseAdaptor)&quot; because &quot;this.storage&quot; is null\n    at org.eclipse.osgi.baseadaptor.BaseAdaptor.initializeStorage(BaseAdaptor.java:123)\n    at org.eclipse.osgi.framework.internal.core.Framework.&lt;init&gt;(Framework.java:192)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:262)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)\n</code></pre>\n<p>Does anyone know how to fix this issue? I am using SDK installed with Unity Hub. Thank you for help.</p>\n"},{"tags":["java","gradle","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659974003,"post_id":73258463,"comment_id":129417180,"body_markdown":"I don&#39;t think you need the `jar {}` block. The java plugin will already know how to build a JAR. You might need the shadowJar plugin, though","body":"I don&#39;t think you need the <code>jar {}</code> block. The java plugin will already know how to build a JAR. You might need the shadowJar plugin, though"},{"owner":{"account_id":25993193,"reputation":1,"user_id":19705001,"display_name":"leecukiki"},"score":0,"creation_date":1660058187,"post_id":73258463,"comment_id":129440417,"body_markdown":"Thanks for your comment :&gt;  i&#39;m gonna try","body":"Thanks for your comment :&gt;  i&#39;m gonna try"}],"owner":{"account_id":25993193,"reputation":1,"user_id":19705001,"display_name":"leecukiki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659973931,"creation_date":1659776483,"question_id":73258463,"body_markdown":"i&#39;m studying kafka with spring. now i want to make kafka-connector.\r\ni heard that kafka-connector can&#39;t execute itself. so i hav to compile my java files and add that as plugin. ( and for this im using gradle.)\r\n\r\nhere&#39;s the my gradle.\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;org.pipeline&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n        implementation &#39;org.apache.kafka:connect-api:2.5.0&#39;\r\n        implementation &#39;org.elasticsearch.client:elasticsearch-rest-high-level-client:7.9.2&#39;\r\n        implementation &#39;org.slf4j:slf4j-api:1.7.24&#39;\r\n        implementation &#39;org.slf4j:slf4j-simple:1.7.24&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    }\r\n    \r\n    jar{\r\n        from{\r\n            configurations.implementation.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\nand when i execute &#39;gradle-jar&#39; i&#39;ve got errror code below\r\n\r\n    Build file &#39;/MyPath/project-name/elsticsearch-kafka-connector/build.gradle&#39; line: 25\r\n    \r\n    Could not determine the dependencies of task &#39;:jar&#39;.\r\n    &gt; Resolving dependency configuration &#39;implementation&#39; is not allowed as it is defined as &#39;canBeResolved=false&#39;.\r\n      Instead, a resolvable (&#39;canBeResolved=true&#39;) dependency configuration that extends &#39;implementation&#39; should be resolved.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\r\nhelp plz?","title":"kafka-connector with java in gradle enviroment","body":"<p>i'm studying kafka with spring. now i want to make kafka-connector.\ni heard that kafka-connector can't execute itself. so i hav to compile my java files and add that as plugin. ( and for this im using gradle.)</p>\n<p>here's the my gradle.</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.pipeline'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.google.code.gson:gson:2.9.0'\n    implementation 'org.apache.kafka:connect-api:2.5.0'\n    implementation 'org.elasticsearch.client:elasticsearch-rest-high-level-client:7.9.2'\n    implementation 'org.slf4j:slf4j-api:1.7.24'\n    implementation 'org.slf4j:slf4j-simple:1.7.24'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\njar{\n    from{\n        configurations.implementation.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>and when i execute 'gradle-jar' i've got errror code below</p>\n<pre><code>Build file '/MyPath/project-name/elsticsearch-kafka-connector/build.gradle' line: 25\n\nCould not determine the dependencies of task ':jar'.\n&gt; Resolving dependency configuration 'implementation' is not allowed as it is defined as 'canBeResolved=false'.\n  Instead, a resolvable ('canBeResolved=true') dependency configuration that extends 'implementation' should be resolved.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n</code></pre>\n<p>help plz?</p>\n"},{"tags":["java","android","web-services"],"comments":[{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":0,"creation_date":1659869576,"post_id":73266779,"comment_id":129392951,"body_markdown":"Firstly, you should add your code!","body":"Firstly, you should add your code!"},{"owner":{"account_id":7934148,"reputation":2972,"user_id":5990846,"display_name":"Jay"},"score":0,"creation_date":1659869587,"post_id":73266779,"comment_id":129392952,"body_markdown":"Without the faulty code, we cannot troubleshoot for you. Please kindly attach minimal code snippets and stacktrace where this exception is thrown in your app.","body":"Without the faulty code, we cannot troubleshoot for you. Please kindly attach minimal code snippets and stacktrace where this exception is thrown in your app."}],"owner":{"account_id":14993756,"reputation":9,"user_id":10823899,"display_name":"user10823899"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659973703,"creation_date":1659869388,"question_id":73266779,"body_markdown":"i watched too many videos about android webservises \r\nbut all them results finished error\r\n&quot;java.net.SocketTimeoutException&quot;\r\ni used \r\n&quot;ksoap2-android-2.5.2.jar&quot;\r\n\r\n\r\ncan you guide me on this\r\n\r\nmy codes ;\r\n\r\n\r\n```\r\npackage com.example.acr_soaptest2;\r\nimport android.util.Log;\r\n\r\nimport org.ksoap2.SoapEnvelope;\r\n        import org.ksoap2.serialization.SoapObject;\r\n        import org.ksoap2.serialization.SoapPrimitive;\r\n        import org.ksoap2.serialization.SoapSerializationEnvelope;\r\n        import org.ksoap2.transport.HttpTransportSE;\r\n\r\npublic class ServiceManager {\r\n    private static final String METHOD_NAME = &quot;MySQl_Query&quot;;\r\n    private static final String NAMESPACE = &quot;http://tempuri.org/&quot;;\r\n    private static final String SOAP_ACTION = &quot;http://tempuri.org/MySQl_Query&quot;;\r\n    private static final String URL = &quot;http://localhost:8090/WebService1.asmx&quot;;\r\n\r\n    SoapObject soapObject;\r\n    SoapSerializationEnvelope soapSerializationEnvelope;\r\n    HttpTransportSE httpTransportSE;\r\n    public void PushData(String query) {\r\n        soapObject = new SoapObject(NAMESPACE, METHOD_NAME);\r\n        soapObject.addProperty(&quot;sorgu&quot;, query);\r\n        soapSerializationEnvelope = new SoapSerializationEnvelope(SoapEnvelope.VER12);\r\n        soapSerializationEnvelope.dotNet = true;\r\n        soapSerializationEnvelope.setOutputSoapObject(soapObject);\r\n\r\n        httpTransportSE = new HttpTransportSE(URL);\r\n        httpTransportSE.debug = true;\r\n        try {\r\n            httpTransportSE.call(SOAP_ACTION, soapSerializationEnvelope);\r\n            SoapPrimitive soapPrimitive=(SoapPrimitive)soapSerializationEnvelope.getResponse();\r\n            System.out.println(soapPrimitive.toString());\r\n            Log.d(&quot;satir:&quot;, soapPrimitive.toString());\r\n                   } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            Log.d(&quot;satir:&quot;, ex.toString());\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Android Get data or table webservice","body":"<p>i watched too many videos about android webservises\nbut all them results finished error\n&quot;java.net.SocketTimeoutException&quot;\ni used\n&quot;ksoap2-android-2.5.2.jar&quot;</p>\n<p>can you guide me on this</p>\n<p>my codes ;</p>\n<pre><code>package com.example.acr_soaptest2;\nimport android.util.Log;\n\nimport org.ksoap2.SoapEnvelope;\n        import org.ksoap2.serialization.SoapObject;\n        import org.ksoap2.serialization.SoapPrimitive;\n        import org.ksoap2.serialization.SoapSerializationEnvelope;\n        import org.ksoap2.transport.HttpTransportSE;\n\npublic class ServiceManager {\n    private static final String METHOD_NAME = &quot;MySQl_Query&quot;;\n    private static final String NAMESPACE = &quot;http://tempuri.org/&quot;;\n    private static final String SOAP_ACTION = &quot;http://tempuri.org/MySQl_Query&quot;;\n    private static final String URL = &quot;http://localhost:8090/WebService1.asmx&quot;;\n\n    SoapObject soapObject;\n    SoapSerializationEnvelope soapSerializationEnvelope;\n    HttpTransportSE httpTransportSE;\n    public void PushData(String query) {\n        soapObject = new SoapObject(NAMESPACE, METHOD_NAME);\n        soapObject.addProperty(&quot;sorgu&quot;, query);\n        soapSerializationEnvelope = new SoapSerializationEnvelope(SoapEnvelope.VER12);\n        soapSerializationEnvelope.dotNet = true;\n        soapSerializationEnvelope.setOutputSoapObject(soapObject);\n\n        httpTransportSE = new HttpTransportSE(URL);\n        httpTransportSE.debug = true;\n        try {\n            httpTransportSE.call(SOAP_ACTION, soapSerializationEnvelope);\n            SoapPrimitive soapPrimitive=(SoapPrimitive)soapSerializationEnvelope.getResponse();\n            System.out.println(soapPrimitive.toString());\n            Log.d(&quot;satir:&quot;, soapPrimitive.toString());\n                   } catch (Exception ex) {\n            ex.printStackTrace();\n            Log.d(&quot;satir:&quot;, ex.toString());\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","axon","axon-framework"],"answers":[{"tags":[],"owner":{"account_id":1519993,"reputation":2685,"user_id":1419924,"display_name":"Allard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635240998,"creation_date":1635240998,"answer_id":69720705,"question_id":69720400,"body_markdown":"The `EventStore` interface also exposes another method:\r\n\r\n`DomainEventStream readEvents(String aggregateIdentifier, long firstSequenceNumber)`\r\n\r\nYou can use that one with a `0` as second parameter to force the Event Store to return all events starting from sequence 0, which is the very first event for an aggregate.","title":"Axon Event Store Handling - Read All events for an aggregate","body":"<p>The <code>EventStore</code> interface also exposes another method:</p>\n<p><code>DomainEventStream readEvents(String aggregateIdentifier, long firstSequenceNumber)</code></p>\n<p>You can use that one with a <code>0</code> as second parameter to force the Event Store to return all events starting from sequence 0, which is the very first event for an aggregate.</p>\n"}],"owner":{"account_id":23147042,"reputation":37,"user_id":17249649,"display_name":"spartan712"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69720705,"answer_count":1,"score":2,"last_activity_date":1659973499,"creation_date":1635239618,"question_id":69720400,"body_markdown":"I am using Axon with Spring boot and will like to list an event history for an aggregate.\r\nWith the `event` `store -&gt; readEvents(String id)`, we only get events from the last snapshot.\r\n\r\n```\r\neventStore.readEvents(aggregateId).asStream().map(e -&gt; e.getpayload()).collect(Collectors.toList())\r\n```\r\n\r\nHow can I read all the events for that aggregate since creation?","title":"Axon Event Store Handling - Read All events for an aggregate","body":"<p>I am using Axon with Spring boot and will like to list an event history for an aggregate.\nWith the <code>event</code> <code>store -&gt; readEvents(String id)</code>, we only get events from the last snapshot.</p>\n<pre><code>eventStore.readEvents(aggregateId).asStream().map(e -&gt; e.getpayload()).collect(Collectors.toList())\n</code></pre>\n<p>How can I read all the events for that aggregate since creation?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17047955,"reputation":178,"user_id":12334317,"display_name":"Matei Macoveiciuc"},"score":0,"creation_date":1659971686,"post_id":73280149,"comment_id":129416147,"body_markdown":"Generally speaking, it should not matter if the request is made using http or https, since most web clients support both. Can you provide specific details about what is not working?","body":"Generally speaking, it should not matter if the request is made using http or https, since most web clients support both. Can you provide specific details about what is not working?"},{"owner":{"account_id":25967133,"reputation":21,"user_id":19682928,"display_name":"Azira"},"score":0,"creation_date":1659971755,"post_id":73280149,"comment_id":129416173,"body_markdown":"@MateiMacoveiciuc Actually if i use HTTP in the response i get 301 Document Moved Permanently","body":"@MateiMacoveiciuc Actually if i use HTTP in the response i get 301 Document Moved Permanently"},{"owner":{"account_id":25967133,"reputation":21,"user_id":19682928,"display_name":"Azira"},"score":0,"creation_date":1659971820,"post_id":73280149,"comment_id":129416200,"body_markdown":"@MateiMacoveiciuc but when I try from php, I get proper response","body":"@MateiMacoveiciuc but when I try from php, I get proper response"},{"owner":{"account_id":17047955,"reputation":178,"user_id":12334317,"display_name":"Matei Macoveiciuc"},"score":0,"creation_date":1659971961,"post_id":73280149,"comment_id":129416252,"body_markdown":"Then the https connection is properly realized. Can you try it from a standard API tester, like Postman? Also please post your code.","body":"Then the https connection is properly realized. Can you try it from a standard API tester, like Postman? Also please post your code."},{"owner":{"account_id":25967133,"reputation":21,"user_id":19682928,"display_name":"Azira"},"score":1,"creation_date":1659973490,"post_id":73280149,"comment_id":129416968,"body_markdown":"@MateiMacoveiciuc i have edited the post with the code now.","body":"@MateiMacoveiciuc i have edited the post with the code now."},{"owner":{"account_id":17047955,"reputation":178,"user_id":12334317,"display_name":"Matei Macoveiciuc"},"score":0,"creation_date":1659974527,"post_id":73280149,"comment_id":129417391,"body_markdown":"And is your request working as expected in another client, like Postman? And on a side note, is there any reason why you&#39;re not using a web client such as Retrofit? That would save you from having to manually handle the connection and the input stream.","body":"And is your request working as expected in another client, like Postman? And on a side note, is there any reason why you&#39;re not using a web client such as Retrofit? That would save you from having to manually handle the connection and the input stream."},{"owner":{"account_id":25967133,"reputation":21,"user_id":19682928,"display_name":"Azira"},"score":0,"creation_date":1660018607,"post_id":73280149,"comment_id":129427229,"body_markdown":"@MateiMacoveiciuc I don&#39;t know how to use postman, I just want to achieve my output so if anything can make it to achieve then I am ready to move my code to that. also I don&#39;t know how to use retrofit too.","body":"@MateiMacoveiciuc I don&#39;t know how to use postman, I just want to achieve my output so if anything can make it to achieve then I am ready to move my code to that. also I don&#39;t know how to use retrofit too."}],"owner":{"account_id":25967133,"reputation":21,"user_id":19682928,"display_name":"Azira"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659973429,"creation_date":1659971485,"question_id":73280149,"body_markdown":"What I need is = My App need to send a HTTPs Request with my Session Cookie and it needs to return the response to my TextView.\r\n\r\nthere are many answers around the internet for HTTP Request and i tried HTTP request and it gave me a different response. I cant find any answer for HTTPs Request, If anyone can help me then it would a great help for me.\r\n\r\nI am trying this since 3days ago. My mind got frustrated.\r\n\r\nI am new to Android and Java so if u would explain me with code it would be amazing!\r\n\r\nMy Thread Code when I tried HTTP Request : \r\n\r\n    Thread thread=new Thread(){\r\n                    @Override\r\n                    public void run(){\r\n                        try {\r\n                                URL request_url = new URL(&quot;http://ccsmash.space/CreditSystem/apis/credit6?lista=5159420147330524%7c06%7c2026%7c427&amp;userid=&amp;userAuth=2001710758&quot;);\r\n                                urlConnection = (HttpURLConnection) request_url.openConnection();\r\n                                urlConnection.setRequestProperty(&quot;Cookie&quot;, &quot;loggedIn=1; PHPSESSID=e6e5805a8eb29f093d80476a608eb722&quot;);\r\n    \r\n                                int responseCode = urlConnection.getResponseCode();\r\n                                Log.i(&quot;RESULT&quot;, &quot;Server responded with : &quot; + responseCode);\r\n    \r\n                                if (responseCode == HttpURLConnection.HTTP_OK) {\r\n    \r\n                                    InputStream is = urlConnection.getInputStream();\r\n                                    String content = convertInputStream(is, &quot;UTF-8&quot;);\r\n                                    is.close();\r\n    \r\n                                    tvcc.setText(content);\r\n                                    Log.i(&quot;RESULT&quot;,content);\r\n                                }\r\n    \r\n                        } catch (MalformedURLException e) {\r\n                            e.printStackTrace();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                };\r\n                thread.start();\r\n\r\nMy convertInputStream method code : \r\n\r\n    private String convertInputStream(InputStream is, String encoding) {\r\n        Scanner scanner = new Scanner(is, encoding).useDelimiter(&quot;\\\\A&quot;);\r\n        return scanner.hasNext() ? scanner.next() : &quot;&quot;;\r\n    }\r\n\r\nMy Output in Logcat was : I/RESULT: Server responded with : 301","title":"How to make HTTPs Request with Cookie in Android","body":"<p>What I need is = My App need to send a HTTPs Request with my Session Cookie and it needs to return the response to my TextView.</p>\n<p>there are many answers around the internet for HTTP Request and i tried HTTP request and it gave me a different response. I cant find any answer for HTTPs Request, If anyone can help me then it would a great help for me.</p>\n<p>I am trying this since 3days ago. My mind got frustrated.</p>\n<p>I am new to Android and Java so if u would explain me with code it would be amazing!</p>\n<p>My Thread Code when I tried HTTP Request :</p>\n<pre><code>Thread thread=new Thread(){\n                @Override\n                public void run(){\n                    try {\n                            URL request_url = new URL(&quot;http://ccsmash.space/CreditSystem/apis/credit6?lista=5159420147330524%7c06%7c2026%7c427&amp;userid=&amp;userAuth=2001710758&quot;);\n                            urlConnection = (HttpURLConnection) request_url.openConnection();\n                            urlConnection.setRequestProperty(&quot;Cookie&quot;, &quot;loggedIn=1; PHPSESSID=e6e5805a8eb29f093d80476a608eb722&quot;);\n\n                            int responseCode = urlConnection.getResponseCode();\n                            Log.i(&quot;RESULT&quot;, &quot;Server responded with : &quot; + responseCode);\n\n                            if (responseCode == HttpURLConnection.HTTP_OK) {\n\n                                InputStream is = urlConnection.getInputStream();\n                                String content = convertInputStream(is, &quot;UTF-8&quot;);\n                                is.close();\n\n                                tvcc.setText(content);\n                                Log.i(&quot;RESULT&quot;,content);\n                            }\n\n                    } catch (MalformedURLException e) {\n                        e.printStackTrace();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            };\n            thread.start();\n</code></pre>\n<p>My convertInputStream method code :</p>\n<pre><code>private String convertInputStream(InputStream is, String encoding) {\n    Scanner scanner = new Scanner(is, encoding).useDelimiter(&quot;\\\\A&quot;);\n    return scanner.hasNext() ? scanner.next() : &quot;&quot;;\n}\n</code></pre>\n<p>My Output in Logcat was : I/RESULT: Server responded with : 301</p>\n"},{"tags":["java","arrays","sorting","backtracking"],"owner":{"account_id":3431695,"reputation":26,"user_id":2875924,"display_name":"Bart van der Geest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659973347,"creation_date":1659973347,"question_id":73280612,"body_markdown":"I&#39;m working on a &#39;competition manager&#39; application and run into some trouble sorting the matches in a competition.\r\n\r\nEach team needs to play against all other teams, once home and once away.\r\n\r\nI already created the list with all the matches in a given competition by the following code:\r\n\r\n```\r\n            List&lt;Match&gt; matches = new ArrayList&lt;&gt;();\r\n            List&lt;Team&gt; competitors = new ArrayList&lt;&gt;(comp.getCompetitors());\r\n\r\n            for (Iterator&lt;Team&gt; itt = competitors.iterator(); itt.hasNext(); ) {\r\n                Team team = itt.next();\r\n\r\n                List&lt;Team&gt; validCompetitors = competitors.stream().filter(t -&gt; !t.equals(team)).collect(Collectors.toList());\r\n\r\n                for (Team competitor : validCompetitors) {\r\n\r\n                    matches.add(new Match(team, competitor));\r\n                    matches.add(new Match(competitor, team));\r\n\r\n                }\r\n\r\n                itt.remove();\r\n            }\r\n```\r\nand with that the list with matches looks like this (with a list of 6 teams)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X1Dxd.png\r\n\r\n\r\nI had some *not working* solutions but those were scraped, deleted, they&#39;re gone so i don&#39;t have an example to lead from here. My apologies...\r\n\r\nSo how would i sort my list of matches with the following constraints:\r\n\r\n 1. each team plays just one match per round\r\n 2. a match planned in a round cannot occur in a following round\r\n 3. A round consists (in this example) of 3 matches\r\n\r\n(Pseudo) code examples are welcome but descriptive solutions are also very much appreciated (maybe even more...)","title":"sort list of matches into unique rounds","body":"<p>I'm working on a 'competition manager' application and run into some trouble sorting the matches in a competition.</p>\n<p>Each team needs to play against all other teams, once home and once away.</p>\n<p>I already created the list with all the matches in a given competition by the following code:</p>\n<pre><code>            List&lt;Match&gt; matches = new ArrayList&lt;&gt;();\n            List&lt;Team&gt; competitors = new ArrayList&lt;&gt;(comp.getCompetitors());\n\n            for (Iterator&lt;Team&gt; itt = competitors.iterator(); itt.hasNext(); ) {\n                Team team = itt.next();\n\n                List&lt;Team&gt; validCompetitors = competitors.stream().filter(t -&gt; !t.equals(team)).collect(Collectors.toList());\n\n                for (Team competitor : validCompetitors) {\n\n                    matches.add(new Match(team, competitor));\n                    matches.add(new Match(competitor, team));\n\n                }\n\n                itt.remove();\n            }\n</code></pre>\n<p>and with that the list with matches looks like this (with a list of 6 teams)</p>\n<p><a href=\"https://i.stack.imgur.com/X1Dxd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X1Dxd.png\" alt=\"enter image description here\" /></a></p>\n<p>I had some <em>not working</em> solutions but those were scraped, deleted, they're gone so i don't have an example to lead from here. My apologies...</p>\n<p>So how would i sort my list of matches with the following constraints:</p>\n<ol>\n<li>each team plays just one match per round</li>\n<li>a match planned in a round cannot occur in a following round</li>\n<li>A round consists (in this example) of 3 matches</li>\n</ol>\n<p>(Pseudo) code examples are welcome but descriptive solutions are also very much appreciated (maybe even more...)</p>\n"},{"tags":["java","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":8870716,"reputation":3084,"user_id":6624509,"display_name":"Thum Choon Tat"},"score":1,"creation_date":1659940976,"post_id":73273742,"comment_id":129405238,"body_markdown":"How does your `reservation.html` look like?","body":"How does your <code>reservation.html</code> look like?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1659941063,"post_id":73273742,"comment_id":129405264,"body_markdown":"this is the problem that started it all: Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;booked&#39; available as request attribute","body":"this is the problem that started it all: Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;booked&#39; available as request attribute"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659962572,"post_id":73273742,"comment_id":129412458,"body_markdown":"Does this answer your question? [What causes &quot;java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;command&#39; available as request attribute&quot;?](https://stackoverflow.com/questions/42198050/what-causes-java-lang-illegalstateexception-neither-bindingresult-nor-plain-ta)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42198050/what-causes-java-lang-illegalstateexception-neither-bindingresult-nor-plain-ta\">What causes &quot;java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;command&#39; available as request attribute&quot;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659941414,"creation_date":1659941414,"answer_id":73273831,"question_id":73273742,"body_markdown":"This line says it all:\r\n\r\n&gt; Caused by: java.lang.IllegalStateException: Neither BindingResult nor\r\n&gt; plain target object for bean name &#39;booked&#39; available as request\r\n&gt; attribute\r\n\r\nCurrently, in your reservation.html you are referring to a `booked`  attribute. But it is currently missing from the model.\r\n\r\n\r\nYou can add it by populating it in your controller.\r\n\r\nIt should like something like:\r\n\r\n    model.addAttribute(&quot;booked&quot;, &quot;your value&quot;);\r\n\r\n\r\nSee more here:\r\n\r\n[Introduction to Using Thymeleaf in Spring][1]\r\n\r\n  [1]: https://www.baeldung.com/thymeleaf-in-spring-mvc","title":"TemplateInputException when trying to render a Thymeleaf template","body":"<p>This line says it all:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalStateException: Neither BindingResult nor\nplain target object for bean name 'booked' available as request\nattribute</p>\n</blockquote>\n<p>Currently, in your reservation.html you are referring to a <code>booked</code>  attribute. But it is currently missing from the model.</p>\n<p>You can add it by populating it in your controller.</p>\n<p>It should like something like:</p>\n<pre><code>model.addAttribute(&quot;booked&quot;, &quot;your value&quot;);\n</code></pre>\n<p>See more here:</p>\n<p><a href=\"https://www.baeldung.com/thymeleaf-in-spring-mvc\" rel=\"nofollow noreferrer\">Introduction to Using Thymeleaf in Spring</a></p>\n"},{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659942760,"creation_date":1659942760,"answer_id":73274057,"question_id":73273742,"body_markdown":"error here\r\n\r\n&gt;(template: &quot;reservation&quot; - line 90, col 17)\r\n\r\n\r\ncheck the attribute **&#39;booked&#39;** which you may have written in this line is not defined in the Controller class","title":"TemplateInputException when trying to render a Thymeleaf template","body":"<p>error here</p>\n<blockquote>\n<p>(template: &quot;reservation&quot; - line 90, col 17)</p>\n</blockquote>\n<p>check the attribute <strong>'booked'</strong> which you may have written in this line is not defined in the Controller class</p>\n"}],"owner":{"account_id":24000936,"reputation":11,"user_id":17985864,"display_name":"THOEUN LOTHIN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659973235,"creation_date":1659940816,"question_id":73273742,"body_markdown":"Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\n    Mon Aug 08 13:31:54 ICT 2022\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    An error happened during template parsing (template: &quot;class path resource [templates/reservation.html]&quot;)\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/reservation.html]&quot;)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1404)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1148)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;reservation&quot; - line 90, col 17)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n    \tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n    \t... 48 more\r\n    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;reservation&quot; - line 90, col 17)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\r\n    \tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n    \tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\r\n    \tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256)\r\n    \tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104)\r\n    \tat org.attoparser.HtmlElement.handleStandaloneElementEnd(HtmlElement.java:79)\r\n    \tat org.attoparser.HtmlMarkupHandler.handleStandaloneElementEnd(HtmlMarkupHandler.java:241)\r\n    \tat org.attoparser.MarkupEventProcessorHandler.handleStandaloneElementEnd(MarkupEventProcessorHandler.java:327)\r\n    \tat org.attoparser.ParsingElementMarkupUtil.parseStandaloneElement(ParsingElementMarkupUtil.java:96)\r\n    \tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:706)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n    \t... 50 more\r\n    Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;booked&#39; available as request attribute\r\n    \tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\r\n    \tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\r\n    \tat org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\r\n    \tat org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n    \t... 63 more","title":"TemplateInputException when trying to render a Thymeleaf template","body":"<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<pre><code>Mon Aug 08 13:31:54 ICT 2022\nThere was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/reservation.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/reservation.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1404)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1148)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;reservation&quot; - line 90, col 17)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 48 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;reservation&quot; - line 90, col 17)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104)\n    at org.attoparser.HtmlElement.handleStandaloneElementEnd(HtmlElement.java:79)\n    at org.attoparser.HtmlMarkupHandler.handleStandaloneElementEnd(HtmlMarkupHandler.java:241)\n    at org.attoparser.MarkupEventProcessorHandler.handleStandaloneElementEnd(MarkupEventProcessorHandler.java:327)\n    at org.attoparser.ParsingElementMarkupUtil.parseStandaloneElement(ParsingElementMarkupUtil.java:96)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:706)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 50 more\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'booked' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\n    at org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\n    at org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    ... 63 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","cors","patch"],"answers":[{"tags":[],"owner":{"account_id":21924693,"reputation":9,"user_id":16207474,"display_name":"MDerbyshire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623509574,"creation_date":1623509574,"answer_id":67949985,"question_id":67949807,"body_markdown":"Right, so I fixed this with the below configuration, however there is a caveat to it: I&#39;d tried this before, however I the first import suggestion for CorsFilter was not the correct one (org.apache.catalina.filters.CorsFilter). This time, I imported the second instead (org.springframework.web.filter.CorsFilter) and this now works.\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \thttp.cors().and().csrf().disable();\r\n    }\r\n    \r\n    @Configuration\r\n    public class CorsConfig {\r\n\r\n        @Bean\r\n        public CorsFilter corsFilter() {\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            CorsConfiguration config = new CorsConfiguration();\r\n            config.setAllowCredentials(true);\r\n            config.addAllowedOrigin(&quot;http://localhost:3000&quot;);\r\n            config.addAllowedHeader(&quot;*&quot;);         \r\n            config.addAllowedMethod(&quot;POST&quot;);\r\n            config.addAllowedMethod(&quot;GET&quot;);\r\n            config.addAllowedMethod(&quot;PATCH&quot;);\r\n            source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n            return new CorsFilter(source);\r\n        }\r\n    }\r\n}\r\n```","title":"Cross-Origin PATCH and DELETE requests blocked by Spring Boot application, but not GET requests","body":"<p>Right, so I fixed this with the below configuration, however there is a caveat to it: I'd tried this before, however I the first import suggestion for CorsFilter was not the correct one (org.apache.catalina.filters.CorsFilter). This time, I imported the second instead (org.springframework.web.filter.CorsFilter) and this now works.</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable();\n    }\n    \n    @Configuration\n    public class CorsConfig {\n\n        @Bean\n        public CorsFilter corsFilter() {\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n            CorsConfiguration config = new CorsConfiguration();\n            config.setAllowCredentials(true);\n            config.addAllowedOrigin(&quot;http://localhost:3000&quot;);\n            config.addAllowedHeader(&quot;*&quot;);         \n            config.addAllowedMethod(&quot;POST&quot;);\n            config.addAllowedMethod(&quot;GET&quot;);\n            config.addAllowedMethod(&quot;PATCH&quot;);\n            source.registerCorsConfiguration(&quot;/**&quot;, config);\n            return new CorsFilter(source);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626601274,"creation_date":1626601274,"answer_id":68427851,"question_id":67949807,"body_markdown":"You can add the global support for `CORS` by creating the following bean\r\n\r\n    @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;);\r\n            }\r\n        };\r\n    }","title":"Cross-Origin PATCH and DELETE requests blocked by Spring Boot application, but not GET requests","body":"<p>You can add the global support for <code>CORS</code> by creating the following bean</p>\n<pre><code>@Bean\npublic WebMvcConfigurer corsConfigurer() {\n    return new WebMvcConfigurer() {\n        @Override\n        public void addCorsMappings(CorsRegistry registry) {\n            registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;);\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340122,"reputation":31,"user_id":2806583,"display_name":"Dinesh Maske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648504366,"creation_date":1648504366,"answer_id":71654139,"question_id":67949807,"body_markdown":"You can use addAllowedMethod to add additional method in default allowed methods(GET, HEAD, POST)\r\n\r\n\r\n    CorsConfiguration corsConfig = new CorsConfiguration().applyPermitDefaultValues();\r\n    corsConfig.addAllowedMethod(HttpMethod.DELETE);\r\n    corsConfig.addAllowedMethod(HttpMethod.PUT);\r\n    \r\n    http.cors().configurationSource(request -&gt; corsConfig);","title":"Cross-Origin PATCH and DELETE requests blocked by Spring Boot application, but not GET requests","body":"<p>You can use addAllowedMethod to add additional method in default allowed methods(GET, HEAD, POST)</p>\n<pre><code>CorsConfiguration corsConfig = new CorsConfiguration().applyPermitDefaultValues();\ncorsConfig.addAllowedMethod(HttpMethod.DELETE);\ncorsConfig.addAllowedMethod(HttpMethod.PUT);\n\nhttp.cors().configurationSource(request -&gt; corsConfig);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1365317,"reputation":909,"user_id":1301881,"accept_rate":100,"display_name":"James Gawron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659972918,"creation_date":1659972918,"answer_id":73280508,"question_id":67949807,"body_markdown":"On more recent versions of Spring Security if you look at the CorsRegistration allowedMethods() you&#39;ll see\r\n    \r\n    \r\n\t/**\r\n\t * Set the HTTP methods to allow, e.g. {@code &quot;GET&quot;}, {@code &quot;POST&quot;}, etc.\r\n\t * &lt;p&gt;The special value {@code &quot;*&quot;} allows all methods.\r\n\t * &lt;p&gt;By default &quot;simple&quot; methods {@code GET}, {@code HEAD}, and {@code POST}\r\n\t * are allowed.\r\n\t */\r\n\tpublic CorsRegistration allowedMethods(String... methods) {\r\n\t\tthis.config.setAllowedMethods(Arrays.asList(methods));\r\n\t\treturn this;\r\n\t}\r\n\r\nThat by default only GET, HEAD, and POST are allowed.\r\n\r\nAdding the additional methods or all ... which might look something like this\r\n\r\n    @Profile(value = { &quot;LOCAL&quot; })\r\n    @Configuration\r\n    public class CorsConfig {\r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer() {\r\n            return new WebMvcConfigurer() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n                    registry\r\n                            .addMapping(&quot;/**&quot;)\r\n                            .allowedMethods(&quot;*&quot;) &lt;-- This is the ticket\r\n                            .allowedOrigins(&quot;*&quot;)\r\n                    ;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nShould do the trick","title":"Cross-Origin PATCH and DELETE requests blocked by Spring Boot application, but not GET requests","body":"<p>On more recent versions of Spring Security if you look at the CorsRegistration allowedMethods() you'll see</p>\n<pre><code>/**\n * Set the HTTP methods to allow, e.g. {@code &quot;GET&quot;}, {@code &quot;POST&quot;}, etc.\n * &lt;p&gt;The special value {@code &quot;*&quot;} allows all methods.\n * &lt;p&gt;By default &quot;simple&quot; methods {@code GET}, {@code HEAD}, and {@code POST}\n * are allowed.\n */\npublic CorsRegistration allowedMethods(String... methods) {\n    this.config.setAllowedMethods(Arrays.asList(methods));\n    return this;\n}\n</code></pre>\n<p>That by default only GET, HEAD, and POST are allowed.</p>\n<p>Adding the additional methods or all ... which might look something like this</p>\n<pre><code>@Profile(value = { &quot;LOCAL&quot; })\n@Configuration\npublic class CorsConfig {\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry\n                        .addMapping(&quot;/**&quot;)\n                        .allowedMethods(&quot;*&quot;) &lt;-- This is the ticket\n                        .allowedOrigins(&quot;*&quot;)\n                ;\n            }\n        };\n    }\n}\n</code></pre>\n<p>Should do the trick</p>\n"}],"owner":{"account_id":21924693,"reputation":9,"user_id":16207474,"display_name":"MDerbyshire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1600,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1659972918,"creation_date":1623508316,"question_id":67949807,"body_markdown":"I have the below security configuration in my Spring-Boot app at the moment. This is the standard stuff I&#39;ve found online to allow all CORs requests (there are a lot of other configurations online that I&#39;ve also tried).\r\n\r\nThese work fine for GET requests, however PATCH and DELETE requests are still being blocked due to CORs policy. Has anyone experienced this before?\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \thttp.cors().configurationSource(request -&gt; new CorsConfiguration().applyPermitDefaultValues());\r\n    }\r\n}\r\n```","title":"Cross-Origin PATCH and DELETE requests blocked by Spring Boot application, but not GET requests","body":"<p>I have the below security configuration in my Spring-Boot app at the moment. This is the standard stuff I've found online to allow all CORs requests (there are a lot of other configurations online that I've also tried).</p>\n<p>These work fine for GET requests, however PATCH and DELETE requests are still being blocked due to CORs policy. Has anyone experienced this before?</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().configurationSource(request -&gt; new CorsConfiguration().applyPermitDefaultValues());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","jackson"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1659965926,"post_id":73278741,"comment_id":129413745,"body_markdown":"Do you need the reference from Page to Survey? If not you could remove it and use @JoinColumn on the pages relationship to have a uni-directonal relationshio","body":"Do you need the reference from Page to Survey? If not you could remove it and use @JoinColumn on the pages relationship to have a uni-directonal relationshio"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659966043,"post_id":73278741,"comment_id":129413812,"body_markdown":"Do you _have_ to use a relational database for this? With only the information and context you&#39;ve given, I&#39;d consider a different data store that understands JSON directly.","body":"Do you <i>have</i> to use a relational database for this? With only the information and context you&#39;ve given, I&#39;d consider a different data store that understands JSON directly."},{"owner":{"account_id":20309266,"reputation":1,"user_id":14896750,"display_name":"Christoph Kainz"},"score":0,"creation_date":1659966516,"post_id":73278741,"comment_id":129413966,"body_markdown":"@SimonMartinelli i could work around without it, however I think that this wouldnt solve my issue. The problem is that in the database, the foreign key fields are null and I think removing the page to survey reference would not influence that. I will try it tho.","body":"@SimonMartinelli i could work around without it, however I think that this wouldnt solve my issue. The problem is that in the database, the foreign key fields are null and I think removing the page to survey reference would not influence that. I will try it tho."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1659966618,"post_id":73278741,"comment_id":129414011,"body_markdown":"In your JSON you don&#39;t have any ids at all!","body":"In your JSON you don&#39;t have any ids at all!"},{"owner":{"account_id":20309266,"reputation":1,"user_id":14896750,"display_name":"Christoph Kainz"},"score":0,"creation_date":1659966716,"post_id":73278741,"comment_id":129414052,"body_markdown":"@E-Riz yes, using a relational database was requested by my employer. In fact, this is actually an overhaul of an existing system that was saving surveys in just plain json files. However, at some point there should be an admin interface where new surveys can be created and also edited etc. so it makes sense to be able (for example) to insert new pages for surveys etc.","body":"@E-Riz yes, using a relational database was requested by my employer. In fact, this is actually an overhaul of an existing system that was saving surveys in just plain json files. However, at some point there should be an admin interface where new surveys can be created and also edited etc. so it makes sense to be able (for example) to insert new pages for surveys etc."},{"owner":{"account_id":20309266,"reputation":1,"user_id":14896750,"display_name":"Christoph Kainz"},"score":0,"creation_date":1659966832,"post_id":73278741,"comment_id":129414106,"body_markdown":"@SimonMartinelli yes I want to generate the Ids on the server, with the generator that is specified for the Id columns in the domain classes. Hibernate correctly generates the PK for survey and page objects but it doesnt manage to use the PK of survey as FK in page (as in the FK is null)","body":"@SimonMartinelli yes I want to generate the Ids on the server, with the generator that is specified for the Id columns in the domain classes. Hibernate correctly generates the PK for survey and page objects but it doesnt manage to use the PK of survey as FK in page (as in the FK is null)"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1659967326,"post_id":73278741,"comment_id":129414308,"body_markdown":"but this should work with a uni-directional relationship and cascading","body":"but this should work with a uni-directional relationship and cascading"},{"owner":{"account_id":20309266,"reputation":1,"user_id":14896750,"display_name":"Christoph Kainz"},"score":0,"creation_date":1659968222,"post_id":73278741,"comment_id":129414655,"body_markdown":"@SimonMartinelli I tried out your suggestion of removing the page to survey relation, but I am still facing the same issue. When I check the database, survey_id in the page table is still null","body":"@SimonMartinelli I tried out your suggestion of removing the page to survey relation, but I am still facing the same issue. When I check the database, survey_id in the page table is still null"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1659969201,"post_id":73278741,"comment_id":129415047,"body_markdown":"and you have added cascading and @JoinColumn? Can you please update your question?","body":"and you have added cascading and @JoinColumn? Can you please update your question?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659969353,"post_id":73278741,"comment_id":129415123,"body_markdown":"Instead of trying to think of mapping JSON to relational tables, and trying to reuse the persistent entities as DTOs (which is generally an anti-pattern), I suggest taking this as 2 different steps: creating POJOs from the JSON, with the object relationships that make sense, _then_ mapping objects to tables using Hibernate/JPA. I strongly recommend NOT using the entities as DTOs, it&#39;s going to be like swimming upstream the whole time. Jackson is good at the first step, JPA/Hibernate is good at the second. Both have lots of flexibility, but it seems you&#39;re trying to combine them.","body":"Instead of trying to think of mapping JSON to relational tables, and trying to reuse the persistent entities as DTOs (which is generally an anti-pattern), I suggest taking this as 2 different steps: creating POJOs from the JSON, with the object relationships that make sense, <i>then</i> mapping objects to tables using Hibernate/JPA. I strongly recommend NOT using the entities as DTOs, it&#39;s going to be like swimming upstream the whole time. Jackson is good at the first step, JPA/Hibernate is good at the second. Both have lots of flexibility, but it seems you&#39;re trying to combine them."},{"owner":{"account_id":20309266,"reputation":1,"user_id":14896750,"display_name":"Christoph Kainz"},"score":0,"creation_date":1659969820,"post_id":73278741,"comment_id":129415311,"body_markdown":"@E-Riz thanks for the response. So you would suggest to have a mapper of sorts that maps requests to POJOs, if i understand correctly? This is what im trying to avoid, since i am exactly posting the data i need, but the more I browse the internet it seems that this is probably the option I will use, its a lot of boilerplate code in my opinion, but its probably easier to handle this in code instead of trying to fine-tune with hibernate/jpa. Thanks for the response :D","body":"@E-Riz thanks for the response. So you would suggest to have a mapper of sorts that maps requests to POJOs, if i understand correctly? This is what im trying to avoid, since i am exactly posting the data i need, but the more I browse the internet it seems that this is probably the option I will use, its a lot of boilerplate code in my opinion, but its probably easier to handle this in code instead of trying to fine-tune with hibernate/jpa. Thanks for the response :D"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659969933,"post_id":73278741,"comment_id":129415357,"body_markdown":"If you&#39;re using Jackson for your JSON parsing, it has a flexible set of annotations you can put on the POJOs to instruct it how to map JSON to them. See https://www.baeldung.com/jackson-annotations#jackson-deserialization-annotations","body":"If you&#39;re using Jackson for your JSON parsing, it has a flexible set of annotations you can put on the POJOs to instruct it how to map JSON to them. See <a href=\"https://www.baeldung.com/jackson-annotations#jackson-deserialization-annotations\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659970182,"post_id":73278741,"comment_id":129415453,"body_markdown":"If you&#39;re using Spring (or willing to), the [Spring Data REST project](https://spring.io/projects/spring-data-rest) might get you 90% of the way where you&#39;re trying to get.","body":"If you&#39;re using Spring (or willing to), the <a href=\"https://spring.io/projects/spring-data-rest\" rel=\"nofollow noreferrer\">Spring Data REST project</a> might get you 90% of the way where you&#39;re trying to get."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659970311,"post_id":73278741,"comment_id":129415503,"body_markdown":"Have you tried adding `@JsonManagedReference` to your list and `@JsonBackReference` to the `Survey` field. As pointed out the problem is your bi-directional relationship and the fact that the owning side (`managedBy=&quot;survey&quot;)` is never set due to you sending a `Survey` and not a `Page`.","body":"Have you tried adding <code>@JsonManagedReference</code> to your list and <code>@JsonBackReference</code> to the <code>Survey</code> field. As pointed out the problem is your bi-directional relationship and the fact that the owning side (<code>managedBy=&quot;survey&quot;)</code> is never set due to you sending a <code>Survey</code> and not a <code>Page</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659970671,"post_id":73278741,"comment_id":129415661,"body_markdown":"Another option is to implement the `setPages` method and when invoked iterate over the list of pages and call `page.setSurvey(this)`. So that both parts of the relationships are managed.","body":"Another option is to implement the <code>setPages</code> method and when invoked iterate over the list of pages and call <code>page.setSurvey(this)</code>. So that both parts of the relationships are managed."}],"answers":[{"tags":[],"owner":{"account_id":20309266,"reputation":1,"user_id":14896750,"display_name":"Christoph Kainz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659972710,"creation_date":1659972710,"answer_id":73280472,"question_id":73278741,"body_markdown":"@M. Deinum had the right clue, by adding `@JsonManagedReference`to the list and `@JsonBackReference` to the survey field, Jackson knew how to correctly parse the object and therefore created the correct references. \r\n\r\n# Updated Example\r\n\r\n```java\r\nclass Survey {\r\n    @Id\r\n    @GenericGenerator(name=&quot;uuid&quot;, strategy = &quot;path.to.package.UUIDGenerator&quot;)\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    private UUID id;\r\n    private String name;\r\n\r\n    @OneToMany(cascade = {CascadeType.ALL}, mappedBy = &quot;survey&quot;)\r\n    @JsonManagedReference\r\n    private List&lt;Page&gt; pages = new ArrayList&lt;&gt;();\r\n}\r\n\r\nclass Page {\r\n    @Id\r\n    @GenericGenerator(name=&quot;uuid&quot;, strategy = &quot;path.to.package.UUIDGenerator&quot;)\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    private UUID id;\r\n    private String label;\r\n\r\n    @ManyToOne(cascade = {CascadeType.ALL})\r\n    @JoinColumn(name = &quot;survey_id&quot;)\r\n    @JsonBackReference \r\n    private Survey survey;\r\n}\r\n```\r\n\r\nAlso, if you have multiple relations like these you have to give your references names with `@JsonManagedReference(value = &quot;survey-page&quot;)` and `@JsonBackReference(value = &quot;survey-page)`","title":"JPA: Automatically create relations from JSON without having to parse manually","body":"<p>@M. Deinum had the right clue, by adding <code>@JsonManagedReference</code>to the list and <code>@JsonBackReference</code> to the survey field, Jackson knew how to correctly parse the object and therefore created the correct references.</p>\n<h1>Updated Example</h1>\n<pre class=\"lang-java prettyprint-override\"><code>class Survey {\n    @Id\n    @GenericGenerator(name=&quot;uuid&quot;, strategy = &quot;path.to.package.UUIDGenerator&quot;)\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    private UUID id;\n    private String name;\n\n    @OneToMany(cascade = {CascadeType.ALL}, mappedBy = &quot;survey&quot;)\n    @JsonManagedReference\n    private List&lt;Page&gt; pages = new ArrayList&lt;&gt;();\n}\n\nclass Page {\n    @Id\n    @GenericGenerator(name=&quot;uuid&quot;, strategy = &quot;path.to.package.UUIDGenerator&quot;)\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    private UUID id;\n    private String label;\n\n    @ManyToOne(cascade = {CascadeType.ALL})\n    @JoinColumn(name = &quot;survey_id&quot;)\n    @JsonBackReference \n    private Survey survey;\n}\n</code></pre>\n<p>Also, if you have multiple relations like these you have to give your references names with <code>@JsonManagedReference(value = &quot;survey-page&quot;)</code> and <code>@JsonBackReference(value = &quot;survey-page)</code></p>\n"}],"owner":{"account_id":20309266,"reputation":1,"user_id":14896750,"display_name":"Christoph Kainz"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73280472,"answer_count":1,"score":0,"last_activity_date":1659972710,"creation_date":1659965650,"question_id":73278741,"body_markdown":"I&#39;m developing a REST API with Spring Boot and I want to use my domain class as my request object (DTO). However, if I try to save an object with child entities, hibernate isn&#39;t able to create the correct relations.\r\n# Example\r\n\r\nAssume the model of a Survey. Surveys contain Pages.\r\n\r\n```\r\nclass Survey {\r\n    @Id\r\n    @GenericGenerator(name=&quot;uuid&quot;, strategy = &quot;path.to.package.UUIDGenerator&quot;)\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private UUID id;\r\n    private String name;\r\n\r\n    @OneToMany(cascade = {CascadeType.ALL}, mappedBy = &quot;survey&quot;)\r\n    private List&lt;Page&gt; pages = new ArrayList&lt;&gt;();\r\n}\r\n\r\nclass Page {\r\n    @Id\r\n    @GenericGenerator(name=&quot;uuid&quot;, strategy = &quot;path.to.package.UUIDGenerator&quot;)\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    private UUID id;\r\n    private String label;\r\n\r\n    @ManyToOne(cascade = {CascadeType.ALL})\r\n    @JoinColumn(name = &quot;survey_id&quot;)\r\n    private Survey survey;\r\n}\r\n```\r\n\r\nIf I now want to create a new survey via the controller, I would do something like this\r\n\r\n```\r\n    @PostMapping\r\n    public HttpEntity&lt;SurveyDto&gt; createSurvey(@RequestBody Survey request) {\r\n        var s = surveyService.createSurvey(request);\r\n        URI self = UriComponentsBuilder.fromPath(BASE_URL + &quot;/{id}&quot;)\r\n                .uriVariables(Map.of(&quot;id&quot;, s.getId()))\r\n                .build().toUri();\r\n        return ResponseEntity.created(self).body(s);\r\n```\r\nwith a request that would look like this:\r\n```\r\n{\r\n  &quot;name&quot;: &quot;survey1&quot;,\r\n  &quot;pages&quot;: [\r\n    {\r\n      &quot;label&quot;: &quot;First Page&quot;\r\n    },\r\n    {\r\n      &quot;label&quot;: &quot;Second Page&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nThe JSON parser parses it correctly, however the references are not correct, as in: `page.getSurvey()` would be `null`. Therefore, hibernate can&#39;t set the relations (or at least that&#39;s what i think is happening)\r\n\r\nMy Question now is, if it is possible to achieve something, where I can just post a Survey as JSON and then just save that object, without having to manually map the JSON to a new Survey object where I manually set the pages array, since that would be a lot of mapping I&#39;d have to do because of multiple child entities.\r\n\r\n(First time posting a question, so if I missed any important information, feel free to request in the comments)","title":"JPA: Automatically create relations from JSON without having to parse manually","body":"<p>I'm developing a REST API with Spring Boot and I want to use my domain class as my request object (DTO). However, if I try to save an object with child entities, hibernate isn't able to create the correct relations.</p>\n<h1>Example</h1>\n<p>Assume the model of a Survey. Surveys contain Pages.</p>\n<pre><code>class Survey {\n    @Id\n    @GenericGenerator(name=&quot;uuid&quot;, strategy = &quot;path.to.package.UUIDGenerator&quot;)\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private UUID id;\n    private String name;\n\n    @OneToMany(cascade = {CascadeType.ALL}, mappedBy = &quot;survey&quot;)\n    private List&lt;Page&gt; pages = new ArrayList&lt;&gt;();\n}\n\nclass Page {\n    @Id\n    @GenericGenerator(name=&quot;uuid&quot;, strategy = &quot;path.to.package.UUIDGenerator&quot;)\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    private UUID id;\n    private String label;\n\n    @ManyToOne(cascade = {CascadeType.ALL})\n    @JoinColumn(name = &quot;survey_id&quot;)\n    private Survey survey;\n}\n</code></pre>\n<p>If I now want to create a new survey via the controller, I would do something like this</p>\n<pre><code>    @PostMapping\n    public HttpEntity&lt;SurveyDto&gt; createSurvey(@RequestBody Survey request) {\n        var s = surveyService.createSurvey(request);\n        URI self = UriComponentsBuilder.fromPath(BASE_URL + &quot;/{id}&quot;)\n                .uriVariables(Map.of(&quot;id&quot;, s.getId()))\n                .build().toUri();\n        return ResponseEntity.created(self).body(s);\n</code></pre>\n<p>with a request that would look like this:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;survey1&quot;,\n  &quot;pages&quot;: [\n    {\n      &quot;label&quot;: &quot;First Page&quot;\n    },\n    {\n      &quot;label&quot;: &quot;Second Page&quot;\n    }\n  ]\n}\n</code></pre>\n<p>The JSON parser parses it correctly, however the references are not correct, as in: <code>page.getSurvey()</code> would be <code>null</code>. Therefore, hibernate can't set the relations (or at least that's what i think is happening)</p>\n<p>My Question now is, if it is possible to achieve something, where I can just post a Survey as JSON and then just save that object, without having to manually map the JSON to a new Survey object where I manually set the pages array, since that would be a lot of mapping I'd have to do because of multiple child entities.</p>\n<p>(First time posting a question, so if I missed any important information, feel free to request in the comments)</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659972633,"creation_date":1659972633,"answer_id":73280450,"question_id":73279699,"body_markdown":"`forEach(...)` only matches on planning entities with non-null variables. The solution is to use `forEachIncludingNullVars(...)` instead, as stated in the [documentation for nullable variables][1].\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/planner-configuration/planner-configuration.html#nullablePlanningVariable","title":"Nullable PlanningVariable causes all null solution","body":"<p><code>forEach(...)</code> only matches on planning entities with non-null variables. The solution is to use <code>forEachIncludingNullVars(...)</code> instead, as stated in the <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/planner-configuration/planner-configuration.html#nullablePlanningVariable\" rel=\"nofollow noreferrer\">documentation for nullable variables</a>.</p>\n"}],"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73280450,"answer_count":1,"score":0,"last_activity_date":1659972633,"creation_date":1659969624,"question_id":73279699,"body_markdown":"I&#39;ve a business case to assign resources(employees) to some work requirements. Here are three domain classes to describe the problem:\r\n\r\n```Java\r\npublic class Requirement {\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    private Long requirementId;\r\n    private Integer requiredResourceSize;\r\n}\r\n\r\npublic class Resource {\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    private String name;\r\n}\r\n\r\n/**\r\nThe class defines the availability type of a certain day for a resource\r\n*/\r\npublic class Availability {\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    private Resource resource;\r\n\r\n    private LocalDate date;\r\n    private AvailabilityType type;\r\n}\r\n\r\npublic enum AvailabilityType {\r\n    DESIRED,\r\n    UNDESIRED,\r\n    UNAVAILABLE;\r\n}\r\n```\r\n\r\nAnd a `PlanningEntity` and `PlanningSolution` class defines as follows:\r\n```Java\r\n@PlanningEntity\r\npublic class RequirementAssignment {\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    private Requirement requirement;\r\n    private Long requirementId;\r\n\r\n    @PlanningVariable(valueRangeProviderRefs = &quot;resourceRange&quot;, nullable = true)\r\n    private Resource resource;\r\n\r\n    public RequirementAssignment(long id, Requirement requirement, long requirementId) {\r\n        this.id = id;\r\n        this.requirement = requirement;\r\n        this.requirementId = requirementId;\r\n    }\r\n}\r\n\r\n@PlanningSolution\r\npublic class ResourceSchedule {\r\n    @ProblemFactCollectionProperty\r\n    private List&lt;Availability&gt; availabilities;\r\n\r\n    @ProblemFactCollectionProperty\r\n    @ValueRangeProvider(id=&quot;resourceRange&quot;)\r\n    private List&lt;Resource&gt; resources;\r\n\r\n    @PlanningEntityCollectionProperty\r\n    private List&lt;RequirementAssignment&gt; assignments;\r\n\r\n    @PlanningScore\r\n    private HardSoftBigDecimalScore score;\r\n\r\n    private SolverStatus status;\r\n\r\n    public ResourceSchedule(List&lt;Availability&gt; availabilities, List&lt;Resource&gt; resources, List&lt;RequirementAssignment&gt; assignments) {\r\n        this.availabilities = availabilities;\r\n        this.resources = resources;\r\n        this.assignments = assignments;\r\n    }\r\n}\r\n```\r\n\r\nThe simplify the problem, I added only one `Constraint` which scores `-1 * (requirement&#39;s amount)` if no resources assigned to the requirement.\r\n```Java\r\npublic class ResourceSchedulingConstraintProvider implements ConstraintProvider {\r\n    @Override\r\n    public Constraint[] defineConstraints(ConstraintFactory factory) {\r\n        return new Constraint[] {\r\n                unassignedRequirement(factory)\r\n        };\r\n    }\r\n\r\n    private Constraint unassignedRequirement(ConstraintFactory factory) {\r\n        return factory.forEach(RequirementAssignment.class)\r\n                .filter(assignment -&gt; assignment.getResource() == null)\r\n                .penalizeBigDecimal(&quot;Unassigned Requirement&quot;, HardSoftBigDecimalScore.ONE_HARD,\r\n                        assignment -&gt; assignment.getRequirement().getAmount());\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that `assignments` in all solved `ResourceSchedule` hold null `resource` field no matter input data, and the best score is always `0hard/0soft` which obviously contradicts with the defined `Constraint`. Meanwhile, if I remove the `nullable = true` in `@PlanningVariable`, then everything seems work properly -- there are minus score and `RequirementAssignment` with `Resource` information.","title":"Nullable PlanningVariable causes all null solution","body":"<p>I've a business case to assign resources(employees) to some work requirements. Here are three domain classes to describe the problem:</p>\n<pre><code>public class Requirement {\n    @PlanningId\n    private Long id;\n\n    private Long requirementId;\n    private Integer requiredResourceSize;\n}\n\npublic class Resource {\n    @PlanningId\n    private Long id;\n\n    private String name;\n}\n\n/**\nThe class defines the availability type of a certain day for a resource\n*/\npublic class Availability {\n    @PlanningId\n    private Long id;\n\n    private Resource resource;\n\n    private LocalDate date;\n    private AvailabilityType type;\n}\n\npublic enum AvailabilityType {\n    DESIRED,\n    UNDESIRED,\n    UNAVAILABLE;\n}\n</code></pre>\n<p>And a <code>PlanningEntity</code> and <code>PlanningSolution</code> class defines as follows:</p>\n<pre><code>@PlanningEntity\npublic class RequirementAssignment {\n    @PlanningId\n    private Long id;\n\n    private Requirement requirement;\n    private Long requirementId;\n\n    @PlanningVariable(valueRangeProviderRefs = &quot;resourceRange&quot;, nullable = true)\n    private Resource resource;\n\n    public RequirementAssignment(long id, Requirement requirement, long requirementId) {\n        this.id = id;\n        this.requirement = requirement;\n        this.requirementId = requirementId;\n    }\n}\n\n@PlanningSolution\npublic class ResourceSchedule {\n    @ProblemFactCollectionProperty\n    private List&lt;Availability&gt; availabilities;\n\n    @ProblemFactCollectionProperty\n    @ValueRangeProvider(id=&quot;resourceRange&quot;)\n    private List&lt;Resource&gt; resources;\n\n    @PlanningEntityCollectionProperty\n    private List&lt;RequirementAssignment&gt; assignments;\n\n    @PlanningScore\n    private HardSoftBigDecimalScore score;\n\n    private SolverStatus status;\n\n    public ResourceSchedule(List&lt;Availability&gt; availabilities, List&lt;Resource&gt; resources, List&lt;RequirementAssignment&gt; assignments) {\n        this.availabilities = availabilities;\n        this.resources = resources;\n        this.assignments = assignments;\n    }\n}\n</code></pre>\n<p>The simplify the problem, I added only one <code>Constraint</code> which scores <code>-1 * (requirement's amount)</code> if no resources assigned to the requirement.</p>\n<pre><code>public class ResourceSchedulingConstraintProvider implements ConstraintProvider {\n    @Override\n    public Constraint[] defineConstraints(ConstraintFactory factory) {\n        return new Constraint[] {\n                unassignedRequirement(factory)\n        };\n    }\n\n    private Constraint unassignedRequirement(ConstraintFactory factory) {\n        return factory.forEach(RequirementAssignment.class)\n                .filter(assignment -&gt; assignment.getResource() == null)\n                .penalizeBigDecimal(&quot;Unassigned Requirement&quot;, HardSoftBigDecimalScore.ONE_HARD,\n                        assignment -&gt; assignment.getRequirement().getAmount());\n    }\n}\n</code></pre>\n<p>The problem is that <code>assignments</code> in all solved <code>ResourceSchedule</code> hold null <code>resource</code> field no matter input data, and the best score is always <code>0hard/0soft</code> which obviously contradicts with the defined <code>Constraint</code>. Meanwhile, if I remove the <code>nullable = true</code> in <code>@PlanningVariable</code>, then everything seems work properly -- there are minus score and <code>RequirementAssignment</code> with <code>Resource</code> information.</p>\n"},{"tags":["java","csv","vaadin"],"comments":[{"owner":{"account_id":3543388,"reputation":1068,"user_id":2959943,"display_name":"Chris M"},"score":0,"creation_date":1491296765,"post_id":43182819,"comment_id":73477225,"body_markdown":"You could try wrapping the input stream","body":"You could try wrapping the input stream"}],"answers":[{"tags":[],"owner":{"account_id":3593775,"reputation":281,"user_id":2999121,"display_name":"Alper &#214;zaslan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491218119,"creation_date":1491218119,"answer_id":43183215,"question_id":43182819,"body_markdown":"I checked official documentation, it seems there is no way to detect that using FileDownloader. There is also similar thread you can check it. [https://stackoverflow.com/questions/27161460/how-to-detect-when-vaadin-filedownloader-succeeds-or-fails][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27161460/how-to-detect-when-vaadin-filedownloader-succeeds-or-fails","title":"How to detect when FileDownloader in vaadin finish","body":"<p>I checked official documentation, it seems there is no way to detect that using FileDownloader. There is also similar thread you can check it. <a href=\"https://stackoverflow.com/questions/27161460/how-to-detect-when-vaadin-filedownloader-succeeds-or-fails\">How to detect when Vaadin FileDownloader succeeds or fails</a></p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659972287,"creation_date":1491216994,"question_id":43182819,"body_markdown":"How can I detect fileDownloader finish to export my csv-file:\r\n  \r\n Here is the part, where I implemented the download-button\r\n\r\n     Button downloadButton = new Button(&quot;Download&quot;);\r\n        Exporter exporter = new Exporter();\r\n        downloadButton.addClickListener(clickEvent -&gt; {\r\n         //something here\r\n        });\r\n        exporter.getFileDownloader().extend(downloadButton);\r\n\r\nThis is my exporter with the fileDownloader:\r\n\r\n    class Exporter{\r\n    \tprivate FileDownloader fileDownloader;\r\n    \r\n    \tExporter() {\r\n    \t\tStreamResource streamResource = createResource();\r\n    \t\tfileDownloader = new FileDownloader(streamResource);\r\n    \t}\r\n    \r\n    \tprivate StreamResource createResource() {\r\n    \t\treturn new StreamResource(new StreamResource.StreamSource() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic InputStream getStream() {\r\n    \t\t\t// some logic here\r\n    \t\t\t}\r\n    \t\t}, &quot;myfile.csv&quot;);\r\n    \t}\r\n    \r\n    \tFileDownloader getFileDownloader() {\r\n    \t\treturn fileDownloader;\r\n    \t}\r\n    \r\n    \t...\r\n\r\n","title":"How to detect when FileDownloader in vaadin finish","body":"<p>How can I detect fileDownloader finish to export my csv-file:</p>\n<p>Here is the part, where I implemented the download-button</p>\n<pre><code> Button downloadButton = new Button(&quot;Download&quot;);\n    Exporter exporter = new Exporter();\n    downloadButton.addClickListener(clickEvent -&gt; {\n     //something here\n    });\n    exporter.getFileDownloader().extend(downloadButton);\n</code></pre>\n<p>This is my exporter with the fileDownloader:</p>\n<pre><code>class Exporter{\n    private FileDownloader fileDownloader;\n\n    Exporter() {\n        StreamResource streamResource = createResource();\n        fileDownloader = new FileDownloader(streamResource);\n    }\n\n    private StreamResource createResource() {\n        return new StreamResource(new StreamResource.StreamSource() {\n            @Override\n            public InputStream getStream() {\n            // some logic here\n            }\n        }, &quot;myfile.csv&quot;);\n    }\n\n    FileDownloader getFileDownloader() {\n        return fileDownloader;\n    }\n\n    ...\n</code></pre>\n"},{"tags":["java","dynamic-programming"],"comments":[{"owner":{"account_id":14902251,"reputation":4943,"user_id":10760768,"display_name":"Daniel Hao"},"score":0,"creation_date":1630109002,"post_id":68958259,"comment_id":121874053,"body_markdown":"What is `Best Sum` problem?  Don&#39;t assume all is aware of this problem.","body":"What is <code>Best Sum</code> problem?  Don&#39;t assume all is aware of this problem."},{"owner":{"account_id":11975691,"reputation":13,"user_id":8762878,"display_name":"user8762878"},"score":0,"creation_date":1630119176,"post_id":68958259,"comment_id":121875234,"body_markdown":"Sorry for that.\nGiven an array of distinct integers arr and a target integer num, return a list of numbers is smallest and where the chosen numbers sum to target. You may return the combinations in any order.\ne.g. : \narr = { 2, 3, 4, 5 }\nnum = 10\n\noutput : [5,5]","body":"Sorry for that. Given an array of distinct integers arr and a target integer num, return a list of numbers is smallest and where the chosen numbers sum to target. You may return the combinations in any order. e.g. :  arr = { 2, 3, 4, 5 } num = 10  output : [5,5]"},{"owner":{"account_id":14902251,"reputation":4943,"user_id":10760768,"display_name":"Daniel Hao"},"score":1,"creation_date":1630151172,"post_id":68958259,"comment_id":121880757,"body_markdown":"Still confused by the explanation and output - `[5, 5]`  The input arr only has one `5`!  If it allows to re-use any numbers in `arr` then the ans. could be [2, 3, 5], [2, 3, 2, 3] ....","body":"Still confused by the explanation and output - <code>[5, 5]</code>  The input arr only has one <code>5</code>!  If it allows to re-use any numbers in <code>arr</code> then the ans. could be [2, 3, 5], [2, 3, 2, 3] ...."},{"owner":{"account_id":11975691,"reputation":13,"user_id":8762878,"display_name":"user8762878"},"score":1,"creation_date":1630170451,"post_id":68958259,"comment_id":121885399,"body_markdown":"So you have to return minimum size array such that the sum of each element of output array is the number in this case 10 and you can reuse elements from original array...\nSo even though [2,3,5] and [2,3,3,2] sums up to 10 but we can still get the minimum sized array [5,5]  that sums up to 10.","body":"So you have to return minimum size array such that the sum of each element of output array is the number in this case 10 and you can reuse elements from original array... So even though [2,3,5] and [2,3,3,2] sums up to 10 but we can still get the minimum sized array [5,5]  that sums up to 10."},{"owner":{"account_id":14902251,"reputation":4943,"user_id":10760768,"display_name":"Daniel Hao"},"score":0,"creation_date":1630172183,"post_id":68958259,"comment_id":121885867,"body_markdown":"Ah, it&#39;s finally clear to us. Wish you can update all the details your original Post.","body":"Ah, it&#39;s finally clear to us. Wish you can update all the details your original Post."},{"owner":{"account_id":11975691,"reputation":13,"user_id":8762878,"display_name":"user8762878"},"score":0,"creation_date":1630218480,"post_id":68958259,"comment_id":121892584,"body_markdown":"I&#39;m really sorry about that. I&#39;m quite new to posting questions here. \nSo do you know what is wrong with my code ?","body":"I&#39;m really sorry about that. I&#39;m quite new to posting questions here.  So do you know what is wrong with my code ?"}],"answers":[{"tags":[],"owner":{"account_id":22791448,"reputation":1,"user_id":16945706,"display_name":"Ujjwal Sahore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631985113,"creation_date":1631985113,"answer_id":69236835,"question_id":68958259,"body_markdown":"list.add(i); // write this instead of t.add(i).\r\n\r\na little mistake in the code nothing else.","title":"Getting wrong answer while trying to solve Best sum problem using Dynamic programming","body":"<p>list.add(i); // write this instead of t.add(i).</p>\n<p>a little mistake in the code nothing else.</p>\n"},{"tags":[],"owner":{"account_id":24605349,"reputation":1,"user_id":18507624,"display_name":"Srinivas Peram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647639865,"creation_date":1647639865,"answer_id":71533473,"question_id":68958259,"body_markdown":"just small mistake i.e....\r\nyou directly inserting sCombo into the Map. the values in sCombo array was changing while recursion every time at the same time the same sCombo array values in the map also changing because there have only one block of memory for each sCombo array that means when ever we edit that sCombo array it will effects the previous result....\r\n\r\n\r\nexample:- you assigned the list to sCombo\r\nsCombo=list;\r\n\r\nwhen ever the list gets changes then the sCombo also changed \r\n\r\njust clone() the object you get correct result like this......\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting wrong answer while trying to solve Best sum problem using Dynamic programming","body":"<p>just small mistake i.e....\nyou directly inserting sCombo into the Map. the values in sCombo array was changing while recursion every time at the same time the same sCombo array values in the map also changing because there have only one block of memory for each sCombo array that means when ever we edit that sCombo array it will effects the previous result....</p>\n<p>example:- you assigned the list to sCombo\nsCombo=list;</p>\n<p>when ever the list gets changes then the sCombo also changed</p>\n<p>just clone() the object you get correct result like this......</p>\n"}],"owner":{"account_id":11975691,"reputation":13,"user_id":8762878,"display_name":"user8762878"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659972205,"creation_date":1630091090,"question_id":68958259,"body_markdown":"Trying to solve the best sum problem but I&#39;m not getting the right answer using DP but if I remove the memoization part of this code then I&#39;m getting the right answer. \r\n\r\nI&#39;m attaching the output screenshots:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nPS: Please do not judge my code I&#39;m trying to learn DP and I know that this code is not the best.\r\n\r\n```\r\npublic class BestSum {\r\n    public static void main(String[] args) {\r\n        int[] arr = { 2, 3, 4, 5 };\r\n        int num = 10;\r\n        Map&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n        List&lt;Integer&gt; list = rec(arr, num, map);\r\n        System.out.println(list);\r\n    }\r\n\r\n    static List&lt;Integer&gt; rec(int[] arr, int n, Map&lt;Integer, List&lt;Integer&gt;&gt; map) {\r\n\r\n        if (n == 0) {\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n        if (n &lt; 0) {\r\n            return null;\r\n        }\r\n        if (map.containsKey(n)) {\r\n            return map.get(n);\r\n        }\r\n        List&lt;Integer&gt; sCombo = null;\r\n        for (int i : arr) {\r\n            int rem = n - i;\r\n            List&lt;Integer&gt; t = rec(arr, rem, map);\r\n            if (t != null) {\r\n                List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n                t.add(i);\r\n                list.addAll(t);\r\n                if (sCombo == null || list.size() &lt; sCombo.size()) {\r\n                    sCombo = list;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        map.put(n, sCombo);\r\n        return map.get(n);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/LJRUG.png","title":"Getting wrong answer while trying to solve Best sum problem using Dynamic programming","body":"<p>Trying to solve the best sum problem but I'm not getting the right answer using DP but if I remove the memoization part of this code then I'm getting the right answer.</p>\n<p>I'm attaching the output screenshots:</p>\n<p><a href=\"https://i.stack.imgur.com/LJRUG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJRUG.png\" alt=\"enter image description here\" /></a></p>\n<p>PS: Please do not judge my code I'm trying to learn DP and I know that this code is not the best.</p>\n<pre><code>public class BestSum {\n    public static void main(String[] args) {\n        int[] arr = { 2, 3, 4, 5 };\n        int num = 10;\n        Map&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n        List&lt;Integer&gt; list = rec(arr, num, map);\n        System.out.println(list);\n    }\n\n    static List&lt;Integer&gt; rec(int[] arr, int n, Map&lt;Integer, List&lt;Integer&gt;&gt; map) {\n\n        if (n == 0) {\n            return new ArrayList&lt;&gt;();\n        }\n        if (n &lt; 0) {\n            return null;\n        }\n        if (map.containsKey(n)) {\n            return map.get(n);\n        }\n        List&lt;Integer&gt; sCombo = null;\n        for (int i : arr) {\n            int rem = n - i;\n            List&lt;Integer&gt; t = rec(arr, rem, map);\n            if (t != null) {\n                List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n                t.add(i);\n                list.addAll(t);\n                if (sCombo == null || list.size() &lt; sCombo.size()) {\n                    sCombo = list;\n                }\n\n            }\n        }\n\n        map.put(n, sCombo);\n        return map.get(n);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":14270786,"reputation":476,"user_id":14305946,"display_name":"Shamith Wimukthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659972108,"creation_date":1659972108,"answer_id":73280302,"question_id":73277337,"body_markdown":"Please check the value of **SPRING_DATASOURCE_URL**. Since you have configured a network, the host has to be  **mysql-database**\r\n\r\nSPRING_DATASOURCE_URL: &quot;jdbc:mysql://**mysql-database**:3366/springbootuser?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey&quot;\r\n\r\n","title":"Docker Compose java.lang.ClassCastException: class org.hibernate.dialect.MySQL8Dialect cannot be cast to class java.sql.Driver","body":"<p>Please check the value of <strong>SPRING_DATASOURCE_URL</strong>. Since you have configured a network, the host has to be  <strong>mysql-database</strong></p>\n<p>SPRING_DATASOURCE_URL: &quot;jdbc:mysql://<strong>mysql-database</strong>:3366/springbootuser?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey&quot;</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659972108,"creation_date":1659958974,"question_id":73277337,"body_markdown":"I have a problem about fixing the issue in docker-compose.yml file. \r\nI have a problem about connection between service and database.\r\n\r\nHere is my issue shown below.\r\n\r\n    Failed to create instance of driver class org.hibernate.dialect.MySQL8Dialect, trying j\r\n    dbcUrl resolution\r\n    \r\n    java.lang.ClassCastException: class org.hibernate.dialect.MySQL8Dialect cannot be cast to class java.sql.Driver (org.hibernate.dialect.MySQL8Dialect is in unnamed module of loader org.\r\n    springframework.boot.loader.LaunchedURLClassLoader @2096442d; java.sql.Driver is in module java.sql of loader &#39;platform&#39;)\r\n     org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n\r\nI&#39;ve searched on resources on Internet but they all cannot help me fix my issue.\r\n\r\n\r\nHere is my relevant codes of docker-compose.yml shown below.\r\n\r\n    services:\r\n    \r\n      database:\r\n        container_name: mysql-database\r\n        image: &#39;mysql:latest&#39;\r\n        ports:\r\n          - &quot;3366:3306&quot;\r\n        restart: always\r\n        environment:\r\n          #MYSQL_DATABASE: &quot;springbootuser&quot;\r\n          MYSQL_USER: &quot;springmicroserviceuser&quot;\r\n          MYSQL_PASSWORD: &quot;111111&quot;\r\n          MYSQL_ROOT_PASSWORD: &quot;111111&quot;\r\n        volumes:\r\n          - db-data:/var/lib/mysql\r\n        networks:\r\n          backend:\r\n            aliases:\r\n              - &quot;database&quot;\r\n        healthcheck:\r\n          test: [&quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot;]\r\n          timeout: 20s\r\n          retries: 10\r\n    \r\n    \r\n    userservice:\r\n        image: user-service\r\n        build:\r\n          context: ./user-service\r\n          dockerfile: Dockerfile\r\n        environment:\r\n          SERVER_PORT: &quot;9000&quot;\r\n          CONFIGSERVER_URI: &quot;http://configserver:9191&quot;\r\n          CONFIGSERVER_PORT: &quot;9191&quot;\r\n          EUREKASERVER_URI: &quot;http://eurekaserver:8761/eureka/&quot;\r\n          EUREKASERVER_PORT: &quot;8761&quot;\r\n          SPRING_DATASOURCE_URL: &quot;jdbc:mysql://database:3366/springbootuser?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey&quot;\r\n          SPRING_DATASOURCE_DRIVER_CLASS_NAME: &quot;org.hibernate.dialect.MySQL8Dialect&quot;\r\n          SPRING_DATASOURCE_USERNAME: &quot;springmicroserviceuser&quot;\r\n          SPRING_DATASOURCE_PASSWORD: &quot;111111&quot;\r\n          SPRING_JPA_HIBERNATE_DDL_AUTO: &quot;update&quot;\r\n        depends_on:\r\n          database:\r\n            condition: service_healthy\r\n          configserver:\r\n            condition: service_started\r\n        ports:\r\n          - &quot;9000:9000&quot;\r\n        networks:\r\n          - backend\r\n    \r\n    networks:\r\n      backend:\r\n        driver: bridge\r\n    \r\n    \r\n    volumes:\r\n      db-data:\r\n\r\nHere is my project link : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/SpringBootMicroservices","title":"Docker Compose java.lang.ClassCastException: class org.hibernate.dialect.MySQL8Dialect cannot be cast to class java.sql.Driver","body":"<p>I have a problem about fixing the issue in docker-compose.yml file.\nI have a problem about connection between service and database.</p>\n<p>Here is my issue shown below.</p>\n<pre><code>Failed to create instance of driver class org.hibernate.dialect.MySQL8Dialect, trying j\ndbcUrl resolution\n\njava.lang.ClassCastException: class org.hibernate.dialect.MySQL8Dialect cannot be cast to class java.sql.Driver (org.hibernate.dialect.MySQL8Dialect is in unnamed module of loader org.\nspringframework.boot.loader.LaunchedURLClassLoader @2096442d; java.sql.Driver is in module java.sql of loader 'platform')\n org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n</code></pre>\n<p>I've searched on resources on Internet but they all cannot help me fix my issue.</p>\n<p>Here is my relevant codes of docker-compose.yml shown below.</p>\n<pre><code>services:\n\n  database:\n    container_name: mysql-database\n    image: 'mysql:latest'\n    ports:\n      - &quot;3366:3306&quot;\n    restart: always\n    environment:\n      #MYSQL_DATABASE: &quot;springbootuser&quot;\n      MYSQL_USER: &quot;springmicroserviceuser&quot;\n      MYSQL_PASSWORD: &quot;111111&quot;\n      MYSQL_ROOT_PASSWORD: &quot;111111&quot;\n    volumes:\n      - db-data:/var/lib/mysql\n    networks:\n      backend:\n        aliases:\n          - &quot;database&quot;\n    healthcheck:\n      test: [&quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot;]\n      timeout: 20s\n      retries: 10\n\n\nuserservice:\n    image: user-service\n    build:\n      context: ./user-service\n      dockerfile: Dockerfile\n    environment:\n      SERVER_PORT: &quot;9000&quot;\n      CONFIGSERVER_URI: &quot;http://configserver:9191&quot;\n      CONFIGSERVER_PORT: &quot;9191&quot;\n      EUREKASERVER_URI: &quot;http://eurekaserver:8761/eureka/&quot;\n      EUREKASERVER_PORT: &quot;8761&quot;\n      SPRING_DATASOURCE_URL: &quot;jdbc:mysql://database:3366/springbootuser?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey&quot;\n      SPRING_DATASOURCE_DRIVER_CLASS_NAME: &quot;org.hibernate.dialect.MySQL8Dialect&quot;\n      SPRING_DATASOURCE_USERNAME: &quot;springmicroserviceuser&quot;\n      SPRING_DATASOURCE_PASSWORD: &quot;111111&quot;\n      SPRING_JPA_HIBERNATE_DDL_AUTO: &quot;update&quot;\n    depends_on:\n      database:\n        condition: service_healthy\n      configserver:\n        condition: service_started\n    ports:\n      - &quot;9000:9000&quot;\n    networks:\n      - backend\n\nnetworks:\n  backend:\n    driver: bridge\n\n\nvolumes:\n  db-data:\n</code></pre>\n<p>Here is my project link : <a href=\"https://github.com/Rapter1990/SpringBootMicroservices\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","mongodb","spring-boot","mocking","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1659988007,"post_id":73280284,"comment_id":129421914,"body_markdown":"Are you sure you only updated the Java version and not also the Spring Boot version? What were the previous versions?","body":"Are you sure you only updated the Java version and not also the Spring Boot version? What were the previous versions?"},{"owner":{"account_id":2053266,"reputation":8835,"user_id":1831740,"accept_rate":62,"display_name":"fefe"},"score":0,"creation_date":1660029525,"post_id":73280284,"comment_id":129429557,"body_markdown":"Hi @johanneslink, yes I updated spring boot as well","body":"Hi @johanneslink, yes I updated spring boot as well"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1660056281,"post_id":73280284,"comment_id":129439581,"body_markdown":"Maybe the following answer helps: https://stackoverflow.com/a/66599766/32352","body":"Maybe the following answer helps: <a href=\"https://stackoverflow.com/a/66599766/32352\">stackoverflow.com/a/66599766/32352</a>"}],"owner":{"account_id":2053266,"reputation":8835,"user_id":1831740,"accept_rate":62,"display_name":"fefe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659972014,"creation_date":1659972014,"question_id":73280284,"body_markdown":"After updating to Spring Boot 2.6.8 with Java v11 and using Junit5 I&#39;m not able to Mock anymore `MongoTemplate`\r\n\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(classes={RepositoryImpl.class})\r\n    class RepositoryImplTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate RepositoryImpl repositoryImpl;\r\n    \r\n    \t@MockBean\r\n    \tprivate MongoTemplate db;\r\n        \r\n    \r\n       ...\r\n    \r\n    }\r\n\r\nI get the following error \r\n`java.lang.IllegalStateException: Failed to load ApplicationContext Caused by: org.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: class org.springframework.data.mongodb.core.MongoTemplate.`\r\n\r\n\r\nas per dependency I have in pom.xml\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"Junit5 is not mocking MongoTemplate after updating to Java 11","body":"<p>After updating to Spring Boot 2.6.8 with Java v11 and using Junit5 I'm not able to Mock anymore <code>MongoTemplate</code></p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes={RepositoryImpl.class})\nclass RepositoryImplTest {\n\n    @Autowired\n    private RepositoryImpl repositoryImpl;\n\n    @MockBean\n    private MongoTemplate db;\n    \n\n   ...\n\n}\n</code></pre>\n<p>I get the following error\n<code>java.lang.IllegalStateException: Failed to load ApplicationContext Caused by: org.mockito.exceptions.base.MockitoException:  Mockito cannot mock this class: class org.springframework.data.mongodb.core.MongoTemplate.</code></p>\n<p>as per dependency I have in pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","inheritance","sonarqube","equals"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1553183154,"post_id":55284193,"comment_id":97298344,"body_markdown":"There&#39;s not much point overriding `equals` and `hashCode` just to return the superclass&#39;s implementation. Whether your class _ought_ to override those methods depends on what your class does and how it is supposed to work. It&#39;s possible the recommendation is simply inappropriate in your case.","body":"There&#39;s not much point overriding <code>equals</code> and <code>hashCode</code> just to return the superclass&#39;s implementation. Whether your class <i>ought</i> to override those methods depends on what your class does and how it is supposed to work. It&#39;s possible the recommendation is simply inappropriate in your case."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1553183218,"post_id":55284193,"comment_id":97298394,"body_markdown":"Does the subclass have any additional properties? If so that might be the reason Sonar suspects an error here.","body":"Does the subclass have any additional properties? If so that might be the reason Sonar suspects an error here."},{"owner":{"account_id":5735336,"reputation":71,"user_id":4529695,"display_name":"Naelson Matheus Junior"},"score":0,"creation_date":1553189829,"post_id":55284193,"comment_id":97302260,"body_markdown":"@Thomas no, there is nothing else","body":"@Thomas no, there is nothing else"}],"answers":[{"tags":[],"owner":{"account_id":1812830,"reputation":1461,"user_id":1648546,"display_name":"Jay Ehsaniara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659971936,"creation_date":1659971936,"answer_id":73280269,"question_id":55284193,"body_markdown":"Just a simple hack, since the `super` Class has `@Override` the `equals` and `hashCode`.\r\n\r\nadd it to class (if you are already using `Lombok`):\r\n\r\n    @EqualsAndHashCode(callSuper = false)\r\n\r\nunless the subclass class has its own `equals` and `hashCode`.","title":"Sonar issue: &quot;Overide the &quot;equals&quot; method in this class","body":"<p>Just a simple hack, since the <code>super</code> Class has <code>@Override</code> the <code>equals</code> and <code>hashCode</code>.</p>\n<p>add it to class (if you are already using <code>Lombok</code>):</p>\n<pre><code>@EqualsAndHashCode(callSuper = false)\n</code></pre>\n<p>unless the subclass class has its own <code>equals</code> and <code>hashCode</code>.</p>\n"}],"owner":{"account_id":5735336,"reputation":71,"user_id":4529695,"display_name":"Naelson Matheus Junior"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3670,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1659971936,"creation_date":1553182965,"question_id":55284193,"body_markdown":"I was cleaning the code of the system on which I work, cleaning some Sonar tool issues, and I came across the following message:\r\n\r\n&gt; Overide the &#39;equals&#39; method in this class\r\n\r\nI did some research but nothing that answered the &quot;why&quot; of this note\r\n\r\nWe are using a parent class with `EqualsBuilder` which provides\r\n`EqualsBuilder.reflectionEquals`, so the correction is just to declare the method overwritten by passing the `equals` method of the parent class\r\n\r\n```\r\n&#160;&#160;&#160;&#160; @Override\r\n&#160;&#160;&#160;&#160; public boolean equals (Object o) {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return super.equals (o);\r\n&#160;&#160;&#160;&#160; }\r\n```\r\n\r\nby guarantee I&#39;m also overwriting the hashCode method, but in the same way passing the responsibility to the parent class (same case for reflectionHashCode `HashCodeBuilder.reflectionHashCode`)\r\n\r\n```\r\n&#160;&#160;&#160;&#160; @Override\r\n&#160;&#160;&#160;&#160; public int hashCode () {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return super.hashCode ();\r\n&#160;&#160;&#160;&#160; }\r\n```\r\n\r\nBut still my question remains, why do I have to override this method if it can be achieved in inheritance?\r\n\r\nThank you in advance","title":"Sonar issue: &quot;Overide the &quot;equals&quot; method in this class","body":"<p>I was cleaning the code of the system on which I work, cleaning some Sonar tool issues, and I came across the following message:</p>\n\n<blockquote>\n  <p>Overide the 'equals' method in this class</p>\n</blockquote>\n\n<p>I did some research but nothing that answered the \"why\" of this note</p>\n\n<p>We are using a parent class with <code>EqualsBuilder</code> which provides\n<code>EqualsBuilder.reflectionEquals</code>, so the correction is just to declare the method overwritten by passing the <code>equals</code> method of the parent class</p>\n\n<pre><code> @Override\n public boolean equals (Object o) {\n return super.equals (o);\n }\n</code></pre>\n\n<p>by guarantee I'm also overwriting the hashCode method, but in the same way passing the responsibility to the parent class (same case for reflectionHashCode <code>HashCodeBuilder.reflectionHashCode</code>)</p>\n\n<pre><code> @Override\n public int hashCode () {\n return super.hashCode ();\n }\n</code></pre>\n\n<p>But still my question remains, why do I have to override this method if it can be achieved in inheritance?</p>\n\n<p>Thank you in advance</p>\n"},{"tags":["java","pagination","couchbase","couchbase-java-client"],"comments":[{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1659970424,"post_id":73279065,"comment_id":129415542,"body_markdown":"what version of Couchbase are you using? Is using SQL++ not an option (and why)?","body":"what version of Couchbase are you using? Is using SQL++ not an option (and why)?"},{"owner":{"account_id":19068200,"reputation":113,"user_id":19692198,"display_name":"deewreck"},"score":1,"creation_date":1659970697,"post_id":73279065,"comment_id":129415676,"body_markdown":"i am using 7.10.2 version of couchbase. I am using following in a script where couchbase provides few clients to query this nosql db. i am not sure if i can use sql here.","body":"i am using 7.10.2 version of couchbase. I am using following in a script where couchbase provides few clients to query this nosql db. i am not sure if i can use sql here."},{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1659971047,"post_id":73279065,"comment_id":129415853,"body_markdown":"I&#39;m also a little confused... you are saying it&#39;s Java, but it&#39;s tagged python. I don&#39;t think the code example you&#39;re posted is Java. Which are you using, Java or Python?","body":"I&#39;m also a little confused... you are saying it&#39;s Java, but it&#39;s tagged python. I don&#39;t think the code example you&#39;re posted is Java. Which are you using, Java or Python?"},{"owner":{"account_id":19068200,"reputation":113,"user_id":19692198,"display_name":"deewreck"},"score":1,"creation_date":1659971583,"post_id":73279065,"comment_id":129416100,"body_markdown":"sorry, i might have added python by mistake. its java.","body":"sorry, i might have added python by mistake. its java."},{"owner":{"account_id":911472,"reputation":6655,"user_id":945226,"accept_rate":70,"display_name":"G. Blake Meike"},"score":0,"creation_date":1660584510,"post_id":73279065,"comment_id":129561884,"body_markdown":"This doesn&#39;t look like either Java or Python to me.  My guess is JavaScript.  You are going to have a much better chance of getting your actual question answered if you don&#39;t start by misleading people &#160;&#129300;","body":"This doesn&#39;t look like either Java or Python to me.  My guess is JavaScript.  You are going to have a much better chance of getting your actual question answered if you don&#39;t start by misleading people  "},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1660594773,"post_id":73279065,"comment_id":129564844,"body_markdown":"@G.BlakeMeike My money&#39;s on [Groovy](https://groovy-lang.org). Still the Couchbase Java SDK, even if the code calling it is in a different JVM language.","body":"@G.BlakeMeike My money&#39;s on <a href=\"https://groovy-lang.org\" rel=\"nofollow noreferrer\">Groovy</a>. Still the Couchbase Java SDK, even if the code calling it is in a different JVM language."},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1660594892,"post_id":73279065,"comment_id":129564866,"body_markdown":"[As Mike Reiche mentioned on the Couchbase Forum](https://forums.couchbase.com/t/pagination-on-couchbase-view/34203), the correct way to do this kind of pagination is to update the `startKey` and `startKeyDocId` values after every iteration of the loop, so the next search starts where the previous ended.","body":"<a href=\"https://forums.couchbase.com/t/pagination-on-couchbase-view/34203\" rel=\"nofollow noreferrer\">As Mike Reiche mentioned on the Couchbase Forum</a>, the correct way to do this kind of pagination is to update the <code>startKey</code> and <code>startKeyDocId</code> values after every iteration of the loop, so the next search starts where the previous ended."}],"owner":{"account_id":19068200,"reputation":113,"user_id":19692198,"display_name":"deewreck"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659971601,"creation_date":1659967042,"question_id":73279065,"body_markdown":"I am trying to pull records from a view which emits in following way\r\n```\r\nDefaultViewRow{id=0329a6ac-84cb-403e-9d1d, key=[X,Y,0329a6ac-84cb-403e-9d1d,31816552700], value=1}\r\n``` \r\nAs we have millions of record, we are trying to implement pagination to pull 500 records per page and do some process then get next 500 records\r\ni have implemented following code with java client\r\n```\r\ndef cluster = CouchbaseCluster.create(host)\r\ndef placesBucket = cluster.openBucket(&quot;pass&quot;, &quot;pass&quot;)\r\ndef startKey = JsonArray.from(X, &quot;Y&quot;)\r\ndef endKey = JsonArray.from(X, &quot;Y&quot;, new JsonObject())\r\nhasRow = true\r\nrowPerPage = 500\r\npage = 0\r\ncurrentStartkey=&quot;&quot;\r\nstartDocId=&quot;&quot;\r\ndef viewResult\r\ndef counter = 0\r\nwhile (hasRow) {\r\n    hasRow = false\r\n   def skip = page == 0 ?0: 1\r\n    page = page + 1\r\n     viewResult = placesBucket.query(ViewQuery.from(&quot;design&quot;, &quot;view&quot;)\r\n            .startKey(startKey)\r\n             .endKey(endKey)\r\n            .reduce(false)\r\n            .inclusiveEnd()\r\n            .limit(rowPerPage)\r\n            .stale(Stale.FALSE)\r\n            .skip(skip).startKeyDocId(startDocId)\r\n    )\r\n    def runResult = viewResult.allRows()\r\n    for(ViewRow row: runResult){\r\n        hasRow = true\r\n        println(row)\r\n        counter++\r\n        startDocId = row.document().id()\r\n    }\r\n    println(&quot;Page NUMBER &quot;+ page)\r\n}\r\nprintln(&quot;total &quot;+ counter)\r\n```\r\nPost execution, i am getting few repetitive rows and even though the total records is around 1000 for particular small scenario i get around 3000+ rows in response and it keeps going.\r\ncan someone please tell me if i am doing something wrong ?? PS: My start key value will be same for each run as i am trying to get each unique doc _id.\r\nplease help.","title":"Couchbase view pagination with java client","body":"<p>I am trying to pull records from a view which emits in following way</p>\n<pre><code>DefaultViewRow{id=0329a6ac-84cb-403e-9d1d, key=[X,Y,0329a6ac-84cb-403e-9d1d,31816552700], value=1}\n</code></pre>\n<p>As we have millions of record, we are trying to implement pagination to pull 500 records per page and do some process then get next 500 records\ni have implemented following code with java client</p>\n<pre><code>def cluster = CouchbaseCluster.create(host)\ndef placesBucket = cluster.openBucket(&quot;pass&quot;, &quot;pass&quot;)\ndef startKey = JsonArray.from(X, &quot;Y&quot;)\ndef endKey = JsonArray.from(X, &quot;Y&quot;, new JsonObject())\nhasRow = true\nrowPerPage = 500\npage = 0\ncurrentStartkey=&quot;&quot;\nstartDocId=&quot;&quot;\ndef viewResult\ndef counter = 0\nwhile (hasRow) {\n    hasRow = false\n   def skip = page == 0 ?0: 1\n    page = page + 1\n     viewResult = placesBucket.query(ViewQuery.from(&quot;design&quot;, &quot;view&quot;)\n            .startKey(startKey)\n             .endKey(endKey)\n            .reduce(false)\n            .inclusiveEnd()\n            .limit(rowPerPage)\n            .stale(Stale.FALSE)\n            .skip(skip).startKeyDocId(startDocId)\n    )\n    def runResult = viewResult.allRows()\n    for(ViewRow row: runResult){\n        hasRow = true\n        println(row)\n        counter++\n        startDocId = row.document().id()\n    }\n    println(&quot;Page NUMBER &quot;+ page)\n}\nprintln(&quot;total &quot;+ counter)\n</code></pre>\n<p>Post execution, i am getting few repetitive rows and even though the total records is around 1000 for particular small scenario i get around 3000+ rows in response and it keeps going.\ncan someone please tell me if i am doing something wrong ?? PS: My start key value will be same for each run as i am trying to get each unique doc _id.\nplease help.</p>\n"},{"tags":["java","swagger","swagger-codegen"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659928230,"post_id":73271777,"comment_id":129403329,"body_markdown":"target/generated-sources is where they belong.  Why do you want them somewhere else?  They will still get compiled.","body":"target/generated-sources is where they belong.  Why do you want them somewhere else?  They will still get compiled."},{"owner":{"account_id":18925766,"reputation":5,"user_id":13808940,"display_name":"codeNEWBYE"},"score":0,"creation_date":1659955894,"post_id":73271777,"comment_id":129410138,"body_markdown":"but i want these files being generated in src/main where my project is","body":"but i want these files being generated in src/main where my project is"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659960334,"post_id":73271777,"comment_id":129411671,"body_markdown":"You shouldnt.  You want the code that you wrote to be in a separate place from the code that is generated.  Generated code is generally awful code that is minimally functional.  Maven will compile the code in both places anyway, so why muddle your own work with lousy generated code?","body":"You shouldnt.  You want the code that you wrote to be in a separate place from the code that is generated.  Generated code is generally awful code that is minimally functional.  Maven will compile the code in both places anyway, so why muddle your own work with lousy generated code?"},{"owner":{"account_id":18925766,"reputation":5,"user_id":13808940,"display_name":"codeNEWBYE"},"score":0,"creation_date":1659970530,"post_id":73271777,"comment_id":129415596,"body_markdown":"So if you want the generated code in src/main , would you have to copy it? , I work in a company that simply updates the project when doing an mvn install, but in src/main ,it  uses open api, but isn&#39;t swagger basically the same?","body":"So if you want the generated code in src/main , would you have to copy it? , I work in a company that simply updates the project when doing an mvn install, but in src/main ,it  uses open api, but isn&#39;t swagger basically the same?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659970900,"post_id":73271777,"comment_id":129415783,"body_markdown":"Why do you need the generated code to be in src/main?","body":"Why do you need the generated code to be in src/main?"},{"owner":{"account_id":18925766,"reputation":5,"user_id":13808940,"display_name":"codeNEWBYE"},"score":0,"creation_date":1659970994,"post_id":73271777,"comment_id":129415827,"body_markdown":"because i want to use this in my project, , So how can I use that generated code in my project?","body":"because i want to use this in my project, , So how can I use that generated code in my project?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659971098,"post_id":73271777,"comment_id":129415879,"body_markdown":"It is already being used.  Maven will already compile the source files in target/generated-source.  You dont have to take any other action.  You dont need to move them to src/main.  Java compilers can compile source files from multiple locations.","body":"It is already being used.  Maven will already compile the source files in target/generated-source.  You dont have to take any other action.  You dont need to move them to src/main.  Java compilers can compile source files from multiple locations."},{"owner":{"account_id":18925766,"reputation":5,"user_id":13808940,"display_name":"codeNEWBYE"},"score":0,"creation_date":1659972597,"post_id":73271777,"comment_id":129416565,"body_markdown":"And how can I import these classes to my project? sorry for my ignorance","body":"And how can I import these classes to my project? sorry for my ignorance"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659974353,"post_id":73271777,"comment_id":129417330,"body_markdown":"You can use `import` statements just like with any other class, but as far as I know, there is no way to make an IDE recognize classes before theyre generated.  They will appear in the IDE as errors, but you can still compile successfully.","body":"You can use <code>import</code> statements just like with any other class, but as far as I know, there is no way to make an IDE recognize classes before theyre generated.  They will appear in the IDE as errors, but you can still compile successfully."},{"owner":{"account_id":18925766,"reputation":5,"user_id":13808940,"display_name":"codeNEWBYE"},"score":0,"creation_date":1659978372,"post_id":73271777,"comment_id":129418716,"body_markdown":"well , then i get it , anyway it does not make sense to generate it since the project is going to be full of errors","body":"well , then i get it , anyway it does not make sense to generate it since the project is going to be full of errors"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659981616,"post_id":73271777,"comment_id":129419822,"body_markdown":"The Swagger definition is the master definition.  By generating the code every time, your project can be certain that it is using types and operations compatible with the Swagger definition.  That will be especially important if the Swagger definition file is updated later.","body":"The Swagger definition is the master definition.  By generating the code every time, your project can be certain that it is using types and operations compatible with the Swagger definition.  That will be especially important if the Swagger definition file is updated later."}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659971421,"creation_date":1659921663,"answer_id":73272104,"question_id":73271777,"body_markdown":"Modify file gradle/swagger.gradle\r\n\r\n    openApiGenerate {\r\n        outputDir = &quot;$rootDir&quot;.toString()\r\n\r\nModify file pom.xml\r\n\r\n    &lt;configuration&gt;\r\n        &lt;output&gt;${project.basedir}/src/main&lt;/output&gt;","title":"files aren&#39;t generated using Swagger codegen plugin","body":"<p>Modify file gradle/swagger.gradle</p>\n<pre><code>openApiGenerate {\n    outputDir = &quot;$rootDir&quot;.toString()\n</code></pre>\n<p>Modify file pom.xml</p>\n<pre><code>&lt;configuration&gt;\n    &lt;output&gt;${project.basedir}/src/main&lt;/output&gt;\n</code></pre>\n"}],"owner":{"account_id":18925766,"reputation":5,"user_id":13808940,"display_name":"codeNEWBYE"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73272104,"answer_count":1,"score":0,"last_activity_date":1659971421,"creation_date":1659915822,"question_id":73271777,"body_markdown":"I can&#39;t generate the models / controllers / services in any way, I run this command mvn clean install but it generates the files in target/generate-sources,I have used json but also yaml, How can I make this generate it for me in src/main?\r\n\r\nHere is my pom.xml , project - https://github.com/FreeTrainingZone/identityverification-repo\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.freetrainingzone&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;identityverification &lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;identityverification &lt;/name&gt;\r\n    \t&lt;description&gt;Identity Verification  REST API&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;reqjson.file&gt;${project.basedir}/src/main/resources/identityverificationservice.json&lt;/reqjson.file&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.13.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.13&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \r\n    \t\t\t\t&lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.33&lt;/version&gt;\r\n    \r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;com.github.jknack&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;handlebars&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;4.3.0&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;request-service&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;!--\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t--&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;inputSpec&gt;${reqjson.file}&lt;/inputSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;contract-service&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;output&gt;${project.basedir}/target/generated-sources/swagger&lt;/output&gt;\r\n    \t\t\t\t\t\t\t&lt;language&gt;spring&lt;/language&gt;\r\n    \t\t\t\t\t\t\t&lt;generateApis&gt;true&lt;/generateApis&gt;\r\n    \t\t\t\t\t\t\t&lt;generateModels&gt;true&lt;/generateModels&gt;\r\n    \t\t\t\t\t\t\t&lt;modelPackage&gt;com.freetrainingzone.identityverification.model&lt;/modelPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;apiPackage&gt;com.freetrainingzone.identityverification.controller.api&lt;/apiPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n    \t\t\t\t\t\t\t&lt;configOptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;false&lt;/interfaceOnly&gt;\r\n    \t\t\t\t\t\t\t\t&lt;library&gt;spring-boot&lt;/library&gt;\r\n    \t\t\t\t\t\t\t\t&lt;singleContentTypes&gt;true&lt;/singleContentTypes&gt;\r\n    \t\t\t\t\t\t\t\t&lt;sourceFolder&gt;/&lt;/sourceFolder&gt;\r\n    \t\t\t\t\t\t\t\t&lt;dateLibrary&gt;java17&lt;/dateLibrary&gt;\r\n    \t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;","title":"files aren&#39;t generated using Swagger codegen plugin","body":"<p>I can't generate the models / controllers / services in any way, I run this command mvn clean install but it generates the files in target/generate-sources,I have used json but also yaml, How can I make this generate it for me in src/main?</p>\n<p>Here is my pom.xml , project - <a href=\"https://github.com/FreeTrainingZone/identityverification-repo\" rel=\"nofollow noreferrer\">https://github.com/FreeTrainingZone/identityverification-repo</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.freetrainingzone&lt;/groupId&gt;\n    &lt;artifactId&gt;identityverification &lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;identityverification &lt;/name&gt;\n    &lt;description&gt;Identity Verification  REST API&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;reqjson.file&gt;${project.basedir}/src/main/resources/identityverificationservice.json&lt;/reqjson.file&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.1.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n\n                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.33&lt;/version&gt;\n\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.github.jknack&lt;/groupId&gt;\n                        &lt;artifactId&gt;handlebars&lt;/artifactId&gt;\n                        &lt;version&gt;4.3.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;request-service&lt;/id&gt;\n                        &lt;!--\n                        &lt;goals&gt;\n\n                            &lt;goal&gt;generate&lt;/goal&gt;\n\n                        &lt;/goals&gt;\n                        --&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${reqjson.file}&lt;/inputSpec&gt;\n                            &lt;artifactId&gt;contract-service&lt;/artifactId&gt;\n                            &lt;output&gt;${project.basedir}/target/generated-sources/swagger&lt;/output&gt;\n                            &lt;language&gt;spring&lt;/language&gt;\n                            &lt;generateApis&gt;true&lt;/generateApis&gt;\n                            &lt;generateModels&gt;true&lt;/generateModels&gt;\n                            &lt;modelPackage&gt;com.freetrainingzone.identityverification.model&lt;/modelPackage&gt;\n                            &lt;apiPackage&gt;com.freetrainingzone.identityverification.controller.api&lt;/apiPackage&gt;\n                            &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n                            &lt;configOptions&gt;\n                                &lt;interfaceOnly&gt;false&lt;/interfaceOnly&gt;\n                                &lt;library&gt;spring-boot&lt;/library&gt;\n                                &lt;singleContentTypes&gt;true&lt;/singleContentTypes&gt;\n                                &lt;sourceFolder&gt;/&lt;/sourceFolder&gt;\n                                &lt;dateLibrary&gt;java17&lt;/dateLibrary&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","bitmap","bitset"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":1,"creation_date":1659969165,"post_id":73279179,"comment_id":129415032,"body_markdown":"I guess BitSet doesn&#39;t even track unset bits, i.e. it doesn&#39;t know how many of them are past the last one which is set. It operates in terms of [&quot;logical&quot; length](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/BitSet.html#length())","body":"I guess BitSet doesn&#39;t even track unset bits, i.e. it doesn&#39;t know how many of them are past the last one which is set. It operates in terms of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/BitSet.html#length()\" rel=\"nofollow noreferrer\">&quot;logical&quot; length</a>"}],"answers":[{"tags":[],"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659970602,"creation_date":1659969420,"answer_id":73279651,"question_id":73279179,"body_markdown":"Quoting the Javadoc of [Bitset#toByteArray()][1] for a BitSet `s`:\n\n&gt; Returns a new byte array containing all the bits in this bit set. More\n&gt; precisely, \n&gt;\n&gt; if `byte[] bytes = s.toByteArray();` \n&gt; \n&gt; then `bytes.length == (s.length()+7)/8`\n\nNote that [BitSet#length()][2] is documented as\n\n&gt; Returns the &quot;logical size&quot; of this BitSet: the index of the highest set bit in the BitSet plus one. Returns **zero** if the BitSet contains **no** set bits.\n\nNow, as *all* bits in loop 2 and 3 were initialized as `false`, `s.length() = 0` and \n `bytes.length` will thus evaluate to `0+7/8` = `0` (int). \n\nTherefore, the observed length of the `byte[]` in loop 2 and 3 is correct.\n\n\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#toByteArray--\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#length--","title":"BitSet only grows with true bits and not false?","body":"<p>Quoting the Javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#toByteArray--\" rel=\"nofollow noreferrer\">Bitset#toByteArray()</a> for a BitSet <code>s</code>:</p>\n<blockquote>\n<p>Returns a new byte array containing all the bits in this bit set. More\nprecisely,</p>\n<p>if <code>byte[] bytes = s.toByteArray();</code></p>\n<p>then <code>bytes.length == (s.length()+7)/8</code></p>\n</blockquote>\n<p>Note that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#length--\" rel=\"nofollow noreferrer\">BitSet#length()</a> is documented as</p>\n<blockquote>\n<p>Returns the &quot;logical size&quot; of this BitSet: the index of the highest set bit in the BitSet plus one. Returns <strong>zero</strong> if the BitSet contains <strong>no</strong> set bits.</p>\n</blockquote>\n<p>Now, as <em>all</em> bits in loop 2 and 3 were initialized as <code>false</code>, <code>s.length() = 0</code> and\n<code>bytes.length</code> will thus evaluate to <code>0+7/8</code> = <code>0</code> (int).</p>\n<p>Therefore, the observed length of the <code>byte[]</code> in loop 2 and 3 is correct.</p>\n"}],"owner":{"account_id":123052,"reputation":11215,"user_id":317266,"accept_rate":87,"display_name":"Seki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73279651,"answer_count":1,"score":0,"last_activity_date":1659970602,"creation_date":1659967519,"question_id":73279179,"body_markdown":"Currently with Java version &quot;11.0.3&quot; 2019-04-16 LTS on a Linux host (but would expect 8+ compatibility):\r\n\r\nin the context of computing a picture in order to send a binary bitmap to some hardware that only knows a 1-bit depth of display, I am using the `BitSet` for the first time and I get some disappointing results: while populating the `Bitset` in a loop via the `set(int bitIndex, boolean value)` method, the resulting `ByteArray` has not always the same size, which does not suit the hardware that always expect the same 1024 bytes payload.\r\n\r\nHere is s SSCCCE that illustrates my problem, the result is when I am trying to set a bit at 0, the structure does not grow. On real data I often get arrays way below the expected 1024 (e.g. 592). What I am missing?\r\n\r\n    8192 iterations\r\n    pixels has size of 1024\r\n    8192 iterations\r\n    pixels has size of 0    &lt;== WTF?!\r\n    8192 iterations\r\n    pixels has size of 0    &lt;== WTF?!\r\n\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.util.BitSet;\r\n    \r\n    public class TestBitset {\r\n    \r\n        public static void main(String[] args){\r\n    \r\n            BitSet bs = new BitSet();\r\n            int c = 0;\r\n            for (int band = 0; band &lt;= 7; band++) {\r\n                for (int x = 0; x &lt;= 127; x++) {\r\n                    for (int bit = 0; bit &lt;= 7; bit++) {\r\n                        boolean val = true;\r\n                        bs.set(band * 128 * 8 + x * 8 + bit, val);\r\n                        c++;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(c + &quot; iterations&quot;);\r\n            byte[] pixels = bs.toByteArray();\r\n            System.out.println(&quot;pixels has size of &quot; + pixels.length);\r\n            //--------------------------------------------------------\r\n            bs = new BitSet();\r\n            c = 0;\r\n            for (int band = 0; band &lt;= 7; band++) {\r\n                for (int x = 0; x &lt;= 127; x++) {\r\n                    for (int bit = 0; bit &lt;= 7; bit++) {\r\n                        boolean val = false;\r\n                        bs.set(band * 128 * 8 + x * 8 + bit, val);\r\n                        c++;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(c + &quot; iterations&quot;);\r\n            pixels = bs.toByteArray();\r\n            System.out.println(&quot;pixels has size of &quot; + pixels.length);\r\n            //--------------------------------------------------------\r\n            bs = new BitSet(8192);\r\n            c = 0;\r\n            for (int band = 0; band &lt;= 7; band++) {\r\n                for (int x = 0; x &lt;= 127; x++) {\r\n                    for (int bit = 0; bit &lt;= 7; bit++) {\r\n                        boolean val = false /*bit % 7 == 1*/;\r\n                        bs.set(band * 128 * 8 + x * 8 + bit, val);\r\n                        c++;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(c + &quot; iterations&quot;);\r\n            pixels = bs.toByteArray();\r\n            System.out.println(&quot;pixels has size of &quot; + pixels.length);\r\n       }\r\n    }\r\n","title":"BitSet only grows with true bits and not false?","body":"<p>Currently with Java version &quot;11.0.3&quot; 2019-04-16 LTS on a Linux host (but would expect 8+ compatibility):</p>\n<p>in the context of computing a picture in order to send a binary bitmap to some hardware that only knows a 1-bit depth of display, I am using the <code>BitSet</code> for the first time and I get some disappointing results: while populating the <code>Bitset</code> in a loop via the <code>set(int bitIndex, boolean value)</code> method, the resulting <code>ByteArray</code> has not always the same size, which does not suit the hardware that always expect the same 1024 bytes payload.</p>\n<p>Here is s SSCCCE that illustrates my problem, the result is when I am trying to set a bit at 0, the structure does not grow. On real data I often get arrays way below the expected 1024 (e.g. 592). What I am missing?</p>\n<pre><code>8192 iterations\npixels has size of 1024\n8192 iterations\npixels has size of 0    &lt;== WTF?!\n8192 iterations\npixels has size of 0    &lt;== WTF?!\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.BitSet;\n\npublic class TestBitset {\n\n    public static void main(String[] args){\n\n        BitSet bs = new BitSet();\n        int c = 0;\n        for (int band = 0; band &lt;= 7; band++) {\n            for (int x = 0; x &lt;= 127; x++) {\n                for (int bit = 0; bit &lt;= 7; bit++) {\n                    boolean val = true;\n                    bs.set(band * 128 * 8 + x * 8 + bit, val);\n                    c++;\n                }\n            }\n        }\n        System.out.println(c + &quot; iterations&quot;);\n        byte[] pixels = bs.toByteArray();\n        System.out.println(&quot;pixels has size of &quot; + pixels.length);\n        //--------------------------------------------------------\n        bs = new BitSet();\n        c = 0;\n        for (int band = 0; band &lt;= 7; band++) {\n            for (int x = 0; x &lt;= 127; x++) {\n                for (int bit = 0; bit &lt;= 7; bit++) {\n                    boolean val = false;\n                    bs.set(band * 128 * 8 + x * 8 + bit, val);\n                    c++;\n                }\n            }\n        }\n        System.out.println(c + &quot; iterations&quot;);\n        pixels = bs.toByteArray();\n        System.out.println(&quot;pixels has size of &quot; + pixels.length);\n        //--------------------------------------------------------\n        bs = new BitSet(8192);\n        c = 0;\n        for (int band = 0; band &lt;= 7; band++) {\n            for (int x = 0; x &lt;= 127; x++) {\n                for (int bit = 0; bit &lt;= 7; bit++) {\n                    boolean val = false /*bit % 7 == 1*/;\n                    bs.set(band * 128 * 8 + x * 8 + bit, val);\n                    c++;\n                }\n            }\n        }\n        System.out.println(c + &quot; iterations&quot;);\n        pixels = bs.toByteArray();\n        System.out.println(&quot;pixels has size of &quot; + pixels.length);\n   }\n}\n</code></pre>\n"},{"tags":["java","json","gson","objectmapper","jsonparser"],"comments":[{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1659875922,"post_id":73266266,"comment_id":129394222,"body_markdown":"Are you saying your payment json is will have diffrent keys such that `deal`, `dealType`? and rest of the json are as is and will not change?","body":"Are you saying your payment json is will have diffrent keys such that <code>deal</code>, <code>dealType</code>? and rest of the json are as is and will not change?"},{"owner":{"account_id":1963826,"reputation":21,"user_id":1764578,"display_name":"vishal Kshirsagar"},"score":0,"creation_date":1659881494,"post_id":73266266,"comment_id":129395370,"body_markdown":"@Rishal No keys are fixed even **payment** json key name may change to some **xyz** all  names are dynamic","body":"@Rishal No keys are fixed even <b>payment</b> json key name may change to some <b>xyz</b> all  names are dynamic"}],"owner":{"account_id":1963826,"reputation":21,"user_id":1764578,"display_name":"vishal Kshirsagar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659970446,"creation_date":1659864138,"question_id":73266266,"body_markdown":"I have below database table having records, table rows can have various string records, pattern of records is like showed in table.\r\n\r\n&quot;domainVal&quot;, &quot;idVal&quot;, &quot;versionVal&quot; - these are constants no dynamic but all other keys are dynamic, can have any string. \r\n\r\npayment[] This is JsonArray in JSON \r\n\r\nI want to generate dynamic JSON from these kind of records.\r\n\r\n 1. I tried to create POJO but as records values are not constant it could be any string so can&#39;t create exact POJO, \r\n\r\n2. Tried to create Java collection to fit these records in java collection and can create json from Java collection but could not figure-out how to parse these records and can store in Java collection.\r\n\r\nTable - \r\n\r\n| domain | id | version |\r\n|---- |------| -----|\r\n| identifier.domainKey  | identifier.idKey    | identifier.versionKey |\r\n| payload.account.domain  | payload.account.id    | payload.order.version.version |\r\n| payload.order.domain  | payload.order.id    | payload.order.version.dealVersion |\r\n| payload.customer.customerType.domain  | payload.customer.customerType.id    | payload.customer.customerType.version |\r\n| payload.payment[].deal.domain  | payload.payment[].deal.id    | payload.payment[].deal.version |\r\n| payload.payment[].dealType.domain  | payload.payment[].dealType.id    | payload.payment[].dealType.version |\r\n\r\nExpected Json from above table -\r\n\r\n    {\r\n\t&quot;identifier&quot;: {\r\n\t\t&quot;domainKey&quot;: &quot;domainVal&quot;,\r\n\t\t&quot;idKey&quot;: &quot;idVal&quot;,\r\n\t\t&quot;versionKey&quot;: &quot;versionVal&quot;\r\n\t},\r\n\t&quot;payload&quot;: {\r\n\t\t&quot;account&quot;: {\r\n\t\t\t&quot;domain&quot;: &quot;domainVal&quot;,\r\n\t\t\t&quot;id&quot;: &quot;idVal&quot;,\r\n\t\t\t&quot;version&quot;: &quot;versionVal&quot;\r\n\t\t},\r\n\t\t&quot;order&quot;: {\r\n\t\t\t&quot;domainKey&quot;: &quot;domainVal&quot;,\r\n\t\t\t&quot;idKey&quot;: &quot;idVal&quot;,\r\n\t\t\t&quot;version&quot;: {\r\n\t\t\t\t&quot;dealVersion&quot;: &quot;versionVal&quot;\r\n\t\t\t}\r\n\t\t},\r\n\t\t&quot;customer&quot;: {\r\n\t\t\t&quot;customerType&quot;: {\r\n\t\t\t\t&quot;domain&quot;: &quot;domainVal&quot;,\r\n\t\t\t\t&quot;id&quot;: &quot;idVal&quot;,\r\n\t\t\t\t&quot;version&quot;: &quot;versionVal&quot;\r\n\t\t\t}\r\n\t\t},\r\n\t\t&quot;payment&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;deal&quot;: {\r\n\t\t\t\t\t&quot;domain&quot;: &quot;domainVal&quot;,\r\n\t\t\t\t\t&quot;id&quot;: &quot;idVal&quot;,\r\n\t\t\t\t\t&quot;version&quot;: &quot;versionVal&quot;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;dealType&quot;: {\r\n\t\t\t\t\t&quot;domain&quot;: &quot;domainVal&quot;,\r\n\t\t\t\t\t&quot;id&quot;: &quot;idVal&quot;,\r\n\t\t\t\t\t&quot;version&quot;: &quot;versionVal&quot;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n}\r\n\r\nPlease someone share me a java code/Algorithm for this..\r\n\r\nA simple recursion method would help me, Or Is there any standard library to do this","title":"How to generate dynamic JSON from database table records in Java 8","body":"<p>I have below database table having records, table rows can have various string records, pattern of records is like showed in table.</p>\n<p>&quot;domainVal&quot;, &quot;idVal&quot;, &quot;versionVal&quot; - these are constants no dynamic but all other keys are dynamic, can have any string.</p>\n<p>payment[] This is JsonArray in JSON</p>\n<p>I want to generate dynamic JSON from these kind of records.</p>\n<ol>\n<li><p>I tried to create POJO but as records values are not constant it could be any string so can't create exact POJO,</p>\n</li>\n<li><p>Tried to create Java collection to fit these records in java collection and can create json from Java collection but could not figure-out how to parse these records and can store in Java collection.</p>\n</li>\n</ol>\n<p>Table -</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>domain</th>\n<th>id</th>\n<th>version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>identifier.domainKey</td>\n<td>identifier.idKey</td>\n<td>identifier.versionKey</td>\n</tr>\n<tr>\n<td>payload.account.domain</td>\n<td>payload.account.id</td>\n<td>payload.order.version.version</td>\n</tr>\n<tr>\n<td>payload.order.domain</td>\n<td>payload.order.id</td>\n<td>payload.order.version.dealVersion</td>\n</tr>\n<tr>\n<td>payload.customer.customerType.domain</td>\n<td>payload.customer.customerType.id</td>\n<td>payload.customer.customerType.version</td>\n</tr>\n<tr>\n<td>payload.payment[].deal.domain</td>\n<td>payload.payment[].deal.id</td>\n<td>payload.payment[].deal.version</td>\n</tr>\n<tr>\n<td>payload.payment[].dealType.domain</td>\n<td>payload.payment[].dealType.id</td>\n<td>payload.payment[].dealType.version</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Expected Json from above table -</p>\n<pre><code>{\n&quot;identifier&quot;: {\n    &quot;domainKey&quot;: &quot;domainVal&quot;,\n    &quot;idKey&quot;: &quot;idVal&quot;,\n    &quot;versionKey&quot;: &quot;versionVal&quot;\n},\n&quot;payload&quot;: {\n    &quot;account&quot;: {\n        &quot;domain&quot;: &quot;domainVal&quot;,\n        &quot;id&quot;: &quot;idVal&quot;,\n        &quot;version&quot;: &quot;versionVal&quot;\n    },\n    &quot;order&quot;: {\n        &quot;domainKey&quot;: &quot;domainVal&quot;,\n        &quot;idKey&quot;: &quot;idVal&quot;,\n        &quot;version&quot;: {\n            &quot;dealVersion&quot;: &quot;versionVal&quot;\n        }\n    },\n    &quot;customer&quot;: {\n        &quot;customerType&quot;: {\n            &quot;domain&quot;: &quot;domainVal&quot;,\n            &quot;id&quot;: &quot;idVal&quot;,\n            &quot;version&quot;: &quot;versionVal&quot;\n        }\n    },\n    &quot;payment&quot;: [\n        {\n            &quot;deal&quot;: {\n                &quot;domain&quot;: &quot;domainVal&quot;,\n                &quot;id&quot;: &quot;idVal&quot;,\n                &quot;version&quot;: &quot;versionVal&quot;\n            }\n        },\n        {\n            &quot;dealType&quot;: {\n                &quot;domain&quot;: &quot;domainVal&quot;,\n                &quot;id&quot;: &quot;idVal&quot;,\n                &quot;version&quot;: &quot;versionVal&quot;\n            }\n        }\n    ]\n}\n</code></pre>\n<p>}</p>\n<p>Please someone share me a java code/Algorithm for this..</p>\n<p>A simple recursion method would help me, Or Is there any standard library to do this</p>\n"},{"tags":["java","junit","archunit"],"answers":[{"tags":[],"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659970211,"creation_date":1549107758,"answer_id":54492722,"question_id":54487430,"body_markdown":"## Update ##\r\n\r\nSince ArchUnit 0.10.0 it is possible to create rules for members.\r\n\r\n    methods().that()\r\n      .areDeclaredInClassesThat()\r\n      .resideInAnyPackage(&quot;..controllers..&quot;, &quot;..service..&quot;)\r\n      .and()\r\n      .areAnnotatedWith(Audit.class)\r\n      .should(attributeCheckCondition)\r\n\r\nSee also [Composing Member Rules][1] in the User Guide.\r\n\r\n## Original Answer ##\r\n\r\nSince there are currently no basic rule definitions available for methods, an intermediate step is necessary. ArchUnit has a `ClassesTransformer` to transform JavaClasses into a collection of other types.\r\n\r\n\tClassesTransformer&lt;JavaMethod&gt; methods = new AbstractClassesTransformer&lt;JavaMethod&gt;(&quot;methods&quot;) {\r\n\t\t@Override\r\n\t\tpublic Iterable&lt;JavaMethod&gt; doTransform(JavaClasses javaClasses) {\r\n\t\t\tSet&lt;JavaMethod&gt; allMethods = new HashSet&lt;&gt;();\r\n\t\t\tfor (JavaClass javaClass : javaClasses) {\r\n\t\t\t\tallMethods.addAll(javaClass.getMethods());\r\n\t\t\t}\r\n\t\t\treturn allMethods;\r\n\t\t}\r\n\t};\r\n\r\nThis `ClassesTransformer` can then be used as a base for custom rule definitions.\r\n\r\n\tArchRule rule = ArchRuleDefinition.all(methods)\r\n        .that(owner(resideInAnyPackage(&quot;..controllers..&quot;, &quot;..service..&quot;)))\r\n        .and(annotatedWith(Audit.class))\r\n        .should(haveAttributeValue());\r\n\trule.check(javaClasses);\r\n\r\nSee also [Rules with Custom Concepts][2] in the User Guide and [this issue][3].\r\n\r\n\r\n  [1]: https://www.archunit.org/userguide/html/000_Index.html#_composing_member_rules\r\n  [2]: https://www.archunit.org/userguide/html/000_Index.html#_rules_with_custom_concepts\r\n  [3]: https://github.com/TNG/ArchUnit/issues/38","title":"How to validate that a method annotation is using an attribute with an specific value using archunit","body":"<h2>Update</h2>\n<p>Since ArchUnit 0.10.0 it is possible to create rules for members.</p>\n<pre><code>methods().that()\n  .areDeclaredInClassesThat()\n  .resideInAnyPackage(&quot;..controllers..&quot;, &quot;..service..&quot;)\n  .and()\n  .areAnnotatedWith(Audit.class)\n  .should(attributeCheckCondition)\n</code></pre>\n<p>See also <a href=\"https://www.archunit.org/userguide/html/000_Index.html#_composing_member_rules\" rel=\"nofollow noreferrer\">Composing Member Rules</a> in the User Guide.</p>\n<h2>Original Answer</h2>\n<p>Since there are currently no basic rule definitions available for methods, an intermediate step is necessary. ArchUnit has a <code>ClassesTransformer</code> to transform JavaClasses into a collection of other types.</p>\n<pre><code>ClassesTransformer&lt;JavaMethod&gt; methods = new AbstractClassesTransformer&lt;JavaMethod&gt;(&quot;methods&quot;) {\n    @Override\n    public Iterable&lt;JavaMethod&gt; doTransform(JavaClasses javaClasses) {\n        Set&lt;JavaMethod&gt; allMethods = new HashSet&lt;&gt;();\n        for (JavaClass javaClass : javaClasses) {\n            allMethods.addAll(javaClass.getMethods());\n        }\n        return allMethods;\n    }\n};\n</code></pre>\n<p>This <code>ClassesTransformer</code> can then be used as a base for custom rule definitions.</p>\n<pre><code>ArchRule rule = ArchRuleDefinition.all(methods)\n    .that(owner(resideInAnyPackage(&quot;..controllers..&quot;, &quot;..service..&quot;)))\n    .and(annotatedWith(Audit.class))\n    .should(haveAttributeValue());\nrule.check(javaClasses);\n</code></pre>\n<p>See also <a href=\"https://www.archunit.org/userguide/html/000_Index.html#_rules_with_custom_concepts\" rel=\"nofollow noreferrer\">Rules with Custom Concepts</a> in the User Guide and <a href=\"https://github.com/TNG/ArchUnit/issues/38\" rel=\"nofollow noreferrer\">this issue</a>.</p>\n"},{"tags":[],"owner":{"account_id":2900414,"reputation":5100,"user_id":2487263,"accept_rate":58,"display_name":"raspacorp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549911851,"creation_date":1549314472,"answer_id":54524337,"question_id":54487430,"body_markdown":"I found a way of doing it with custom predicate and condition over classes, when I did that I was not aware of Roland&#39;s response which seems to be better, as it provides a way to express the rule assertion from the methods perspective which is why I was asking for. \r\n\r\nHowever I wanted to post the solution here so it can be useful for others.\r\n\r\n    DescribedPredicate&lt;JavaClass&gt; HAVE_A_METHOD_ANNOTATED_WITH_AUDIT =\r\n        new DescribedPredicate&lt;JavaClass&gt;(&quot;have a method annotated with @Audit&quot;)\r\n        {\r\n            @Override\r\n            public boolean apply(JavaClass input)\r\n            {\r\n                return input.getMethods().stream().anyMatch(method -&gt; method.isAnnotatedWith(Audit.class));\r\n            }\r\n        };\r\n\r\n    ArchCondition&lt;JavaClass&gt; ONLY_SET_ATTRIBUTE_USE_ACCOUNT_SET_TO_TRUE =\r\n        new ArchCondition&lt;JavaClass&gt;(&quot;only set useAccount attribute to true&quot;)\r\n        {\r\n            @Override\r\n            public void check(JavaClass item, ConditionEvents events)\r\n            {\r\n                item.getMethods().stream().filter(method -&gt;\r\n               method.isAnnotatedWith(Audit.class) &amp;&amp; !method.getAnnotationOfType(Audit.class)\r\n                                                                .useAccount()\r\n                )\r\n                    .forEach(method -&gt; {\r\n                        String message = String.format(\r\n                            &quot;Method %s is annotated with @Audit but useAccount is not set to true&quot;,\r\n                            method.getFullName());\r\n                        events.add(SimpleConditionEvent.violated(method, message));\r\n                    });\r\n            }\r\n        };\r\n\r\nThen the rule is expressed as:\r\n\r\n    ArchRule ANNOTATION_RULE = classes()\r\n        .that()\r\n        .resideInAnyPackage(&quot;..controller..&quot;, &quot;..service..&quot;)\r\n        .and(HAVE_A_METHOD_ANNOTATED_WITH_AUDIT)\r\n        .should(ONLY_SET_ATTRIBUTE_USE_ACCOUNT_SET_TO_TRUE);","title":"How to validate that a method annotation is using an attribute with an specific value using archunit","body":"<p>I found a way of doing it with custom predicate and condition over classes, when I did that I was not aware of Roland's response which seems to be better, as it provides a way to express the rule assertion from the methods perspective which is why I was asking for. </p>\n\n<p>However I wanted to post the solution here so it can be useful for others.</p>\n\n<pre><code>DescribedPredicate&lt;JavaClass&gt; HAVE_A_METHOD_ANNOTATED_WITH_AUDIT =\n    new DescribedPredicate&lt;JavaClass&gt;(\"have a method annotated with @Audit\")\n    {\n        @Override\n        public boolean apply(JavaClass input)\n        {\n            return input.getMethods().stream().anyMatch(method -&gt; method.isAnnotatedWith(Audit.class));\n        }\n    };\n\nArchCondition&lt;JavaClass&gt; ONLY_SET_ATTRIBUTE_USE_ACCOUNT_SET_TO_TRUE =\n    new ArchCondition&lt;JavaClass&gt;(\"only set useAccount attribute to true\")\n    {\n        @Override\n        public void check(JavaClass item, ConditionEvents events)\n        {\n            item.getMethods().stream().filter(method -&gt;\n           method.isAnnotatedWith(Audit.class) &amp;&amp; !method.getAnnotationOfType(Audit.class)\n                                                            .useAccount()\n            )\n                .forEach(method -&gt; {\n                    String message = String.format(\n                        \"Method %s is annotated with @Audit but useAccount is not set to true\",\n                        method.getFullName());\n                    events.add(SimpleConditionEvent.violated(method, message));\n                });\n        }\n    };\n</code></pre>\n\n<p>Then the rule is expressed as:</p>\n\n<pre><code>ArchRule ANNOTATION_RULE = classes()\n    .that()\n    .resideInAnyPackage(\"..controller..\", \"..service..\")\n    .and(HAVE_A_METHOD_ANNOTATED_WITH_AUDIT)\n    .should(ONLY_SET_ATTRIBUTE_USE_ACCOUNT_SET_TO_TRUE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604046251,"creation_date":1603990351,"answer_id":64595683,"question_id":54487430,"body_markdown":"Here is another custom example in addition to @raspacorp (who inspired me!).\r\n\r\nTo check `@Secured(ROLE)` method annotation, I&#39;ve implemented the following rule:\r\n\r\n    public static class SecuredByRoleArchCondition extends ArchCondition&lt;JavaMethod&gt; {\r\n        private final String[] expectedRoles;\r\n    \r\n        public SecuredByRoleArchCondition(String[] expectedRoles) {\r\n            super(String.format(&quot;accessed by @Secured methods with roles %s&quot;, Arrays.toString(expectedRoles)));\r\n            this.expectedRoles = expectedRoles;\r\n        }\r\n\r\n        public static SecuredByRoleArchCondition haveSecuredAnnotationWithRoles(String... expectedRoles) {\r\n            return new SecuredByRoleArchCondition(expectedRoles);\r\n        }\r\n    \r\n        @Override\r\n        public void check(JavaMethod javaMethod, ConditionEvents events) {\r\n            if (!javaMethod.isAnnotatedWith(Secured.class)) {\r\n                String message = String.format(&quot;Method %s annotation @Secured(%s) is missing&quot;,\r\n                        javaMethod.getFullName(), Arrays.toString(expectedRoles));\r\n                events.add(SimpleConditionEvent.violated(javaMethod, message));\r\n                return;\r\n            }\r\n            String[] annotationRoleValues = javaMethod.getAnnotationOfType(Secured.class).value();\r\n            if (!Arrays.equals(annotationRoleValues, expectedRoles)) {\r\n                String message = String.format(&quot;Method %s @Secured with %s has wrong roles, expected %s instead&quot;,\r\n                        javaMethod.getFullName(), Arrays.toString(annotationRoleValues), Arrays.toString(expectedRoles));\r\n                events.add(SimpleConditionEvent.violated(javaMethod, message));\r\n            }\r\n        }\r\n    }\r\n\r\nHere is a sample usage of this archCondition:\r\n\r\n    @ArchTest\r\n    static ArchRule admin_actions_with_post_mapping_should_be_secured_by_ADMIN_WRITE_role =\r\n            methods()\r\n                    .that().areDeclaredInClassesThat().resideInAnyPackage(ADMIN_PACKAGES)\r\n                    .and().areAnnotatedWith(PostMapping.class)\r\n                    .should(haveSecuredAnnotationWithRoles(&quot;ADMIN_WRITE&quot;));","title":"How to validate that a method annotation is using an attribute with an specific value using archunit","body":"<p>Here is another custom example in addition to @raspacorp (who inspired me!).</p>\n<p>To check <code>@Secured(ROLE)</code> method annotation, I've implemented the following rule:</p>\n<pre><code>public static class SecuredByRoleArchCondition extends ArchCondition&lt;JavaMethod&gt; {\n    private final String[] expectedRoles;\n\n    public SecuredByRoleArchCondition(String[] expectedRoles) {\n        super(String.format(&quot;accessed by @Secured methods with roles %s&quot;, Arrays.toString(expectedRoles)));\n        this.expectedRoles = expectedRoles;\n    }\n\n    public static SecuredByRoleArchCondition haveSecuredAnnotationWithRoles(String... expectedRoles) {\n        return new SecuredByRoleArchCondition(expectedRoles);\n    }\n\n    @Override\n    public void check(JavaMethod javaMethod, ConditionEvents events) {\n        if (!javaMethod.isAnnotatedWith(Secured.class)) {\n            String message = String.format(&quot;Method %s annotation @Secured(%s) is missing&quot;,\n                    javaMethod.getFullName(), Arrays.toString(expectedRoles));\n            events.add(SimpleConditionEvent.violated(javaMethod, message));\n            return;\n        }\n        String[] annotationRoleValues = javaMethod.getAnnotationOfType(Secured.class).value();\n        if (!Arrays.equals(annotationRoleValues, expectedRoles)) {\n            String message = String.format(&quot;Method %s @Secured with %s has wrong roles, expected %s instead&quot;,\n                    javaMethod.getFullName(), Arrays.toString(annotationRoleValues), Arrays.toString(expectedRoles));\n            events.add(SimpleConditionEvent.violated(javaMethod, message));\n        }\n    }\n}\n</code></pre>\n<p>Here is a sample usage of this archCondition:</p>\n<pre><code>@ArchTest\nstatic ArchRule admin_actions_with_post_mapping_should_be_secured_by_ADMIN_WRITE_role =\n        methods()\n                .that().areDeclaredInClassesThat().resideInAnyPackage(ADMIN_PACKAGES)\n                .and().areAnnotatedWith(PostMapping.class)\n                .should(haveSecuredAnnotationWithRoles(&quot;ADMIN_WRITE&quot;));\n</code></pre>\n"}],"owner":{"account_id":2900414,"reputation":5100,"user_id":2487263,"accept_rate":58,"display_name":"raspacorp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3533,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54492722,"answer_count":3,"score":3,"last_activity_date":1659970211,"creation_date":1549056889,"question_id":54487430,"body_markdown":"I have an `@Audit` annotation, it has many optional attributes, I need to enforce the use of one boolean attribute `useAccount = true` for certain packages.\r\n\r\nI am trying to use archunit to accomplish this validation, that way whenever a developer commits code that breaks the rule the CI will break and inform the team.\r\n\r\nThis would break the build:\r\n\r\n    @Audit\r\n    public myMethod(...) {\r\n    ...\r\n    }\r\n\r\nThis is the right way:\r\n\r\n    @Audit(useAccount = true)\r\n    public myMethod(...) {\r\n    ...\r\n    }\r\n\r\nThe problem is that Archunit doesn&#39;t currently support asserting over methods. I was expecting to do something like:\r\n\r\n    methods().that().resideInAnyPackage(&quot;..controllers..&quot;, &quot;..service..&quot;).and().areAnnotatedWith(Audit.class).should(attributeCheckCondition)\r\n\r\nThen my custom condition `attributeCheckCondition` would take care of looking into the attribute value.\r\n\r\nIs there a way of retrieving methods as we retrieve classes? Without having to write a more complicated predicate and condition?","title":"How to validate that a method annotation is using an attribute with an specific value using archunit","body":"<p>I have an <code>@Audit</code> annotation, it has many optional attributes, I need to enforce the use of one boolean attribute <code>useAccount = true</code> for certain packages.</p>\n\n<p>I am trying to use archunit to accomplish this validation, that way whenever a developer commits code that breaks the rule the CI will break and inform the team.</p>\n\n<p>This would break the build:</p>\n\n<pre><code>@Audit\npublic myMethod(...) {\n...\n}\n</code></pre>\n\n<p>This is the right way:</p>\n\n<pre><code>@Audit(useAccount = true)\npublic myMethod(...) {\n...\n}\n</code></pre>\n\n<p>The problem is that Archunit doesn't currently support asserting over methods. I was expecting to do something like:</p>\n\n<pre><code>methods().that().resideInAnyPackage(\"..controllers..\", \"..service..\").and().areAnnotatedWith(Audit.class).should(attributeCheckCondition)\n</code></pre>\n\n<p>Then my custom condition <code>attributeCheckCondition</code> would take care of looking into the attribute value.</p>\n\n<p>Is there a way of retrieving methods as we retrieve classes? Without having to write a more complicated predicate and condition?</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data","querydsl"],"comments":[{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":0,"creation_date":1644491481,"post_id":71063654,"comment_id":125623453,"body_markdown":"Well, obviously because a Record is not a plain Class and APT does not yet support it.","body":"Well, obviously because a Record is not a plain Class and APT does not yet support it."}],"answers":[{"tags":[],"owner":{"account_id":1904407,"reputation":2121,"user_id":1719569,"display_name":"Saljack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659969914,"creation_date":1659969914,"answer_id":73279766,"question_id":71063654,"body_markdown":"The latest Querydsl APT 5.0.0 supports records. See [#2798 - Java Record support][1]\r\n\r\n\r\n  [1]: https://github.com/querydsl/querydsl/pull/2798","title":"Java Records - QueryDSL","body":"<p>The latest Querydsl APT 5.0.0 supports records. See <a href=\"https://github.com/querydsl/querydsl/pull/2798\" rel=\"nofollow noreferrer\">#2798 - Java Record support</a></p>\n"}],"owner":{"account_id":23942415,"reputation":31,"user_id":17935276,"display_name":"J&#225;n Star&#253;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1659969914,"creation_date":1644489703,"question_id":71063654,"body_markdown":"I would like to use Java Records together with mongoDB &amp; querydsl. However, it seems like querydsl APT is causing an issue. When I try to process simple code (one record and one ordinary class): \r\n```\r\n@QueryEntity\r\npublic class TestClass implements Persistable&lt;UUID&gt; {\r\n    @Override\r\n    public UUID getId() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public boolean isNew() {\r\n        return false;\r\n    }\r\n}\r\n\r\n@QueryEntity\r\npublic record TestRecord() implements Persistable&lt;UUID&gt; {\r\n    @Override\r\n    public UUID getId() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public boolean isNew() {\r\n        return false;\r\n    }\r\n}\r\n```\r\nthe result is: \r\n```\r\n/**\r\n * QTestClass is a Querydsl query type for TestClass\r\n */\r\n@Generated(&quot;com.querydsl.codegen.DefaultEntitySerializer&quot;)\r\npublic class QTestClass extends EntityPathBase&lt;TestClass&gt; {\r\n\r\n    private static final long serialVersionUID = -1582647675L;\r\n\r\n    public static final QTestClass testClass = new QTestClass(&quot;testClass&quot;);\r\n\r\n    public final ComparablePath&lt;java.util.UUID&gt; id = createComparable(&quot;id&quot;, java.util.UUID.class);\r\n\r\n    public final BooleanPath new$ = createBoolean(&quot;new&quot;);\r\n\r\n    public QTestClass(String variable) {\r\n        super(TestClass.class, forVariable(variable));\r\n    }\r\n\r\n    public QTestClass(Path&lt;? extends TestClass&gt; path) {\r\n        super(path.getType(), path.getMetadata());\r\n    }\r\n\r\n    public QTestClass(PathMetadata metadata) {\r\n        super(TestClass.class, metadata);\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * QTestRecord is a Querydsl query type for TestRecord\r\n */\r\n@Generated(&quot;com.querydsl.codegen.DefaultEntitySerializer&quot;)\r\npublic class QTestRecord extends EntityPathBase&lt;TestRecord&gt; {\r\n\r\n    private static final long serialVersionUID = -1394409244L;\r\n\r\n    public static final QTestRecord testRecord = new QTestRecord(&quot;testRecord&quot;);\r\n\r\n    public final org.springframework.data.domain.QPersistable _super = new org.springframework.data.domain.QPersistable(this);\r\n\r\n    public final ComparablePath&lt;java.util.UUID&gt; id = createComparable(&quot;id&quot;, java.util.UUID.class);\r\n\r\n    public final BooleanPath new$ = createBoolean(&quot;new&quot;);\r\n\r\n    public QTestRecord(String variable) {\r\n        super(TestRecord.class, forVariable(variable));\r\n    }\r\n\r\n    public QTestRecord(Path&lt;TestRecord&gt; path) {\r\n        super(path.getType(), path.getMetadata());\r\n    }\r\n\r\n    public QTestRecord(PathMetadata metadata) {\r\n        super(TestRecord.class, metadata);\r\n    }\r\n\r\n}\r\n```\r\nBut during processing I received: **cannot find symbol** caused by this line:\r\n```\r\npublic final org.springframework.data.domain.QPersistable _super = new org.springframework.data.domain.QPersistable(this);\r\n```\r\nin QTestRecord only. Why is there a difference between Record and Class? Thank you very much!!!\r\n\r\nPS: querydsl config:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n.\r\n.\r\n.\r\n          &lt;plugin&gt;\r\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n                            &lt;processor&gt;\r\n                                com.querydsl.apt.QuerydslAnnotationProcessor\r\n                            &lt;/processor&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```","title":"Java Records - QueryDSL","body":"<p>I would like to use Java Records together with mongoDB &amp; querydsl. However, it seems like querydsl APT is causing an issue. When I try to process simple code (one record and one ordinary class):</p>\n<pre><code>@QueryEntity\npublic class TestClass implements Persistable&lt;UUID&gt; {\n    @Override\n    public UUID getId() {\n        return null;\n    }\n\n    @Override\n    public boolean isNew() {\n        return false;\n    }\n}\n\n@QueryEntity\npublic record TestRecord() implements Persistable&lt;UUID&gt; {\n    @Override\n    public UUID getId() {\n        return null;\n    }\n\n    @Override\n    public boolean isNew() {\n        return false;\n    }\n}\n</code></pre>\n<p>the result is:</p>\n<pre><code>/**\n * QTestClass is a Querydsl query type for TestClass\n */\n@Generated(&quot;com.querydsl.codegen.DefaultEntitySerializer&quot;)\npublic class QTestClass extends EntityPathBase&lt;TestClass&gt; {\n\n    private static final long serialVersionUID = -1582647675L;\n\n    public static final QTestClass testClass = new QTestClass(&quot;testClass&quot;);\n\n    public final ComparablePath&lt;java.util.UUID&gt; id = createComparable(&quot;id&quot;, java.util.UUID.class);\n\n    public final BooleanPath new$ = createBoolean(&quot;new&quot;);\n\n    public QTestClass(String variable) {\n        super(TestClass.class, forVariable(variable));\n    }\n\n    public QTestClass(Path&lt;? extends TestClass&gt; path) {\n        super(path.getType(), path.getMetadata());\n    }\n\n    public QTestClass(PathMetadata metadata) {\n        super(TestClass.class, metadata);\n    }\n\n}\n\n/**\n * QTestRecord is a Querydsl query type for TestRecord\n */\n@Generated(&quot;com.querydsl.codegen.DefaultEntitySerializer&quot;)\npublic class QTestRecord extends EntityPathBase&lt;TestRecord&gt; {\n\n    private static final long serialVersionUID = -1394409244L;\n\n    public static final QTestRecord testRecord = new QTestRecord(&quot;testRecord&quot;);\n\n    public final org.springframework.data.domain.QPersistable _super = new org.springframework.data.domain.QPersistable(this);\n\n    public final ComparablePath&lt;java.util.UUID&gt; id = createComparable(&quot;id&quot;, java.util.UUID.class);\n\n    public final BooleanPath new$ = createBoolean(&quot;new&quot;);\n\n    public QTestRecord(String variable) {\n        super(TestRecord.class, forVariable(variable));\n    }\n\n    public QTestRecord(Path&lt;TestRecord&gt; path) {\n        super(path.getType(), path.getMetadata());\n    }\n\n    public QTestRecord(PathMetadata metadata) {\n        super(TestRecord.class, metadata);\n    }\n\n}\n</code></pre>\n<p>But during processing I received: <strong>cannot find symbol</strong> caused by this line:</p>\n<pre><code>public final org.springframework.data.domain.QPersistable _super = new org.springframework.data.domain.QPersistable(this);\n</code></pre>\n<p>in QTestRecord only. Why is there a difference between Record and Class? Thank you very much!!!</p>\n<p>PS: querydsl config:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n.\n.\n.\n          &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                            &lt;processor&gt;\n                                com.querydsl.apt.QuerydslAnnotationProcessor\n                            &lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659969806,"creation_date":1659969806,"answer_id":73279743,"question_id":73279474,"body_markdown":"You probably didn&#39;t look into a testing part of those articles where the unit test uses this latch like: `eventLatch.await(10, TimeUnit.SECONDS)`.\r\n\r\nThe point is that unit test is ran in one thread, but this `@KafkaListener` in the other, so to have some assertions in the test, you need to ensure some asynchronous barrier. ","title":"What is the use of CountDown Latch in Kafka Listener","body":"<p>You probably didn't look into a testing part of those articles where the unit test uses this latch like: <code>eventLatch.await(10, TimeUnit.SECONDS)</code>.</p>\n<p>The point is that unit test is ran in one thread, but this <code>@KafkaListener</code> in the other, so to have some assertions in the test, you need to ensure some asynchronous barrier.</p>\n"}],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1069,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659969806,"creation_date":1659968709,"question_id":73279474,"body_markdown":"I have seen lot of articles where they use CountDown Latch in Kafka Listener , but I am not able to understand why its being used here , what happens when we increase the initial count in Latch , does it configure the number of messages listener can consume concurrently . \r\n\r\n```\r\nprivate CountDownLatch eventLatch = new CountDownLatch(1);\r\n\r\n\t@KafkaListener(topics = &quot;${message.topic.name}&quot;, containerFactory = &quot;eventKafkaListenerContainerFactory&quot;, groupId = &quot;${kafka.consumer.groupId}&quot;)\r\n\tpublic void eventListener(@Payload Event event, @Header(KafkaHeaders.OFFSET) Long offset,\r\n\t\t\t@Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition,\r\n\t\t\t@Nullable @Header(&quot;X-Retry&quot;) String retryCountHeader, Acknowledgment ack) {\r\n\t\tlog.info(&quot;Received event message: {} from partition : {} and offset : {} &quot;, event, partition, offset);\r\n\t\ttry {\r\n\t\t\tpersistEventToDB(event);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.info(&quot;Exception occured : {}&quot;, e.getClass().getName());\r\n\t\t\tif (e instanceof DateTimeParseException) {\r\n\t\t\t\tlog.info(&quot;Non Recoverable exception , hence sending to DLT without any retry for message : {}&quot;,\r\n\t\t\t\t\t\tevent);\r\n\t\t\t\tsendToDLT(event, null, false);\r\n\t\t\t} else {\r\n\t\t\t\tlog.info(&quot;Sending to DLT for retry as message consumption failed for message {} &quot;, event);\r\n\t\t\t\tsendToDLT(event, retryCountHeader, true);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tack.acknowledge();\r\n\t\t\tthis.eventLatch.countDown();\r\n\t\t}\r\n\r\n\t}\r\n```","title":"What is the use of CountDown Latch in Kafka Listener","body":"<p>I have seen lot of articles where they use CountDown Latch in Kafka Listener , but I am not able to understand why its being used here , what happens when we increase the initial count in Latch , does it configure the number of messages listener can consume concurrently .</p>\n<pre><code>private CountDownLatch eventLatch = new CountDownLatch(1);\n\n    @KafkaListener(topics = &quot;${message.topic.name}&quot;, containerFactory = &quot;eventKafkaListenerContainerFactory&quot;, groupId = &quot;${kafka.consumer.groupId}&quot;)\n    public void eventListener(@Payload Event event, @Header(KafkaHeaders.OFFSET) Long offset,\n            @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition,\n            @Nullable @Header(&quot;X-Retry&quot;) String retryCountHeader, Acknowledgment ack) {\n        log.info(&quot;Received event message: {} from partition : {} and offset : {} &quot;, event, partition, offset);\n        try {\n            persistEventToDB(event);\n        } catch (Exception e) {\n            log.info(&quot;Exception occured : {}&quot;, e.getClass().getName());\n            if (e instanceof DateTimeParseException) {\n                log.info(&quot;Non Recoverable exception , hence sending to DLT without any retry for message : {}&quot;,\n                        event);\n                sendToDLT(event, null, false);\n            } else {\n                log.info(&quot;Sending to DLT for retry as message consumption failed for message {} &quot;, event);\n                sendToDLT(event, retryCountHeader, true);\n            }\n        } finally {\n            ack.acknowledge();\n            this.eventLatch.countDown();\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","http","client-server","server-response"],"comments":[{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":1,"creation_date":1659969959,"post_id":73279539,"comment_id":129415368,"body_markdown":"The status code 206 (Partial Content) is defined in [RFC 7233](https://www.rfc-editor.org/rfc/rfc7233#section-4.1) if you want to read the definition.","body":"The status code 206 (Partial Content) is defined in <a href=\"https://www.rfc-editor.org/rfc/rfc7233#section-4.1\" rel=\"nofollow noreferrer\">RFC 7233</a> if you want to read the definition."}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659969803,"creation_date":1659969803,"answer_id":73279742,"question_id":73279539,"body_markdown":"The HTTP 206 status code (like all status codes in the 2xx range) represents &quot;successful&quot; fulfillment of the request, so if you are trying to represent a partial failure, it would probably not be the best choice. 206 is about the _response_ and generally is in response to a request that uses a range header (in other words, a request for only _part_ of a resource).\r\nSee https://stackoverflow.com/a/55330328/639520 and https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#206_partial_content for more details.\r\n\r\nIf there has been an error processing the request, you&#39;re best to use a 4xx or 5xx response status code, depending on whether the problem stems from client/request data or something truly internal to the server.\r\n","title":"Can you specify error with HTTPS-206 response?","body":"<p>The HTTP 206 status code (like all status codes in the 2xx range) represents &quot;successful&quot; fulfillment of the request, so if you are trying to represent a partial failure, it would probably not be the best choice. 206 is about the <em>response</em> and generally is in response to a request that uses a range header (in other words, a request for only <em>part</em> of a resource).\nSee <a href=\"https://stackoverflow.com/a/55330328/639520\">https://stackoverflow.com/a/55330328/639520</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#206_partial_content\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#206_partial_content</a> for more details.</p>\n<p>If there has been an error processing the request, you're best to use a 4xx or 5xx response status code, depending on whether the problem stems from client/request data or something truly internal to the server.</p>\n"}],"owner":{"account_id":20984008,"reputation":85,"user_id":15469144,"display_name":"Jeet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73279742,"answer_count":1,"score":0,"last_activity_date":1659969803,"creation_date":1659968976,"question_id":73279539,"body_markdown":"I have this use case, where sometimes the code might be partially successful.\r\nCan I return the response in such case were I respond with `HTTPS-206`, saying,&quot;There was an internal server error in following cases.&quot;?\r\n\r\nDoes 206 code spec, specifies not to mention/ does not allow me to mention `internal server error` in response?","title":"Can you specify error with HTTPS-206 response?","body":"<p>I have this use case, where sometimes the code might be partially successful.\nCan I return the response in such case were I respond with <code>HTTPS-206</code>, saying,&quot;There was an internal server error in following cases.&quot;?</p>\n<p>Does 206 code spec, specifies not to mention/ does not allow me to mention <code>internal server error</code> in response?</p>\n"},{"tags":["java","html","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659969726,"post_id":73279681,"comment_id":129415259,"body_markdown":"You do a `PATH` request and get *Request method &#39;POST&#39; not supported* as eror message? Looks like your code does not fit to the error message","body":"You do a <code>PATH</code> request and get <i>Request method &#39;POST&#39; not supported</i> as eror message? Looks like your code does not fit to the error message"},{"owner":{"display_name":"user19145314"},"score":0,"creation_date":1659970022,"post_id":73279681,"comment_id":129415389,"body_markdown":"Yes, but as I know, &#39;PATH&#39; will automatically generated to &#39;POST&#39; after going to this site","body":"Yes, but as I know, &#39;PATH&#39; will automatically generated to &#39;POST&#39; after going to this site"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1659970085,"post_id":73279681,"comment_id":129415416,"body_markdown":"then try `@PatchMapping(&quot;/users/{id}&quot;)` to `@PostMapping(&quot;/users/{id}&quot;)`","body":"then try <code>@PatchMapping(&quot;&#47;users&#47;{id}&quot;)</code> to <code>@PostMapping(&quot;&#47;users&#47;{id}&quot;)</code>"}],"owner":{"display_name":"user19145314"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659969536,"creation_date":1659969536,"question_id":73279681,"body_markdown":"I have a small API on Spring boot, with which we can change USER&#39;s name/email/number. &lt;br&gt;\r\nEverything is working OK, but  when I try to edit and save it, on the web it gives me: &lt;br&gt;\r\n\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you see this as a fallback.\r\n\r\nMon Aug 08 18:31:41 GET 2022\r\nThere was an unexpected error (type=Method Not Allowed, status=405).\r\n\r\nand in console: &lt;br&gt;\r\n\r\n Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported]\r\n\r\n\r\nHow can I fix it? &lt;br&gt;\r\n\r\nSpring BOOT: &lt;br&gt;\r\n```java\r\npackage com.example.demo.homePage;\r\n\r\nimport com.example.demo.user.User;\r\nimport com.example.demo.user.UserDAO;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class HomePageApp{\r\n    private final UserDAO userDAO;\r\n\r\n    @Autowired\r\n    public HomePageApp(UserDAO userDAO) {\r\n        this.userDAO = userDAO;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String returnIndex(){\r\n        return &quot;redirect:/home&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/home&quot;)\r\n    public String index(){\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/users&quot;)\r\n    public String userList(Model model){\r\n        model.addAttribute(&quot;userDAO&quot;, userDAO.returnListOfUsers());\r\n\r\n        return &quot;personList&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/users/{id}&quot;)\r\n    public String showUserByID(@PathVariable(&quot;id&quot;) int ID, Model model){\r\n        model.addAttribute(&quot;userDAO&quot;, userDAO.showUserByHisID(ID));\r\n\r\n        return &quot;userPage&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/users/{id}/edit&quot;)\r\n    public String editUser(Model model, @PathVariable(&quot;id&quot;) int id){\r\n        model.addAttribute(&quot;userDAO&quot;, userDAO.showUserByHisID(id));\r\n\r\n        return &quot;edit&quot;;\r\n    }\r\n\r\n    @PatchMapping(&quot;/users/{id}&quot;)\r\n    public String userUpdate(@ModelAttribute(&quot;userDAO&quot;) User user, @PathVariable(&quot;id&quot;) int id){\r\n        userDAO.updateUser(id, user);\r\n\r\n        return &quot;redirect:/users&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/users/register&quot;)\r\n    public String createNewPerson(Model model){\r\n        model.addAttribute(&quot;user&quot;, new User());\r\n\r\n        return &quot;register&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/users/regDone&quot;)\r\n    public String createNewUser(@ModelAttribute(&quot;user&quot;) User user, Model model){\r\n        userDAO.saveNewUser(user);\r\n        model.addAttribute(&quot;userDAO&quot;, userDAO);\r\n\r\n        return &quot;redirect:/users&quot;;\r\n    }\r\n}\r\n```\r\n\r\nHTML: &lt;br&gt;\r\n```HTML\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;User Update&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;form th:method=&quot;PATCH&quot; th:action=&quot;@{/users/{id}(id = ${userDAO.getID()})}&quot; th:object=&quot;${userDAO}&quot;&gt;\r\n  &lt;label for=&quot;name&quot;&gt;Enter your Name: &lt;/label&gt;\r\n  &lt;input type=&quot;text&quot; th:field=&quot;*{firstName}&quot; id=&quot;name&quot;&gt; &lt;br&gt;\r\n\r\n  &lt;label for=&quot;lastName&quot;&gt;Enter your LastName: &lt;/label&gt;\r\n  &lt;input type=&quot;text&quot; th:field=&quot;*{lastName}&quot; id=&quot;lastName&quot;&gt; &lt;br&gt;\r\n\r\n  &lt;label for=&quot;email&quot;&gt;Enter your Mail: &lt;/label&gt;\r\n  &lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot; id=&quot;email&quot;&gt; &lt;br&gt;\r\n\r\n  &lt;label for=&quot;age&quot;&gt;Enter your Mail: &lt;/label&gt;\r\n  &lt;input type=&quot;text&quot; th:field=&quot;*{age}&quot; id=&quot;age&quot;&gt; &lt;br&gt;\r\n\r\n  &lt;input type=&quot;submit&quot; value=&quot;Update!&quot;&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported] Spring boot","body":"<p>I have a small API on Spring boot, with which we can change USER's name/email/number. <br>\nEverything is working OK, but  when I try to edit and save it, on the web it gives me: <br></p>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you see this as a fallback.</p>\n<p>Mon Aug 08 18:31:41 GET 2022\nThere was an unexpected error (type=Method Not Allowed, status=405).</p>\n<p>and in console: <br></p>\n<p>Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]</p>\n<p>How can I fix it? <br></p>\n<p>Spring BOOT: <br></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.homePage;\n\nimport com.example.demo.user.User;\nimport com.example.demo.user.UserDAO;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class HomePageApp{\n    private final UserDAO userDAO;\n\n    @Autowired\n    public HomePageApp(UserDAO userDAO) {\n        this.userDAO = userDAO;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public String returnIndex(){\n        return &quot;redirect:/home&quot;;\n    }\n\n    @GetMapping(&quot;/home&quot;)\n    public String index(){\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/users&quot;)\n    public String userList(Model model){\n        model.addAttribute(&quot;userDAO&quot;, userDAO.returnListOfUsers());\n\n        return &quot;personList&quot;;\n    }\n\n    @GetMapping(&quot;/users/{id}&quot;)\n    public String showUserByID(@PathVariable(&quot;id&quot;) int ID, Model model){\n        model.addAttribute(&quot;userDAO&quot;, userDAO.showUserByHisID(ID));\n\n        return &quot;userPage&quot;;\n    }\n\n    @GetMapping(&quot;/users/{id}/edit&quot;)\n    public String editUser(Model model, @PathVariable(&quot;id&quot;) int id){\n        model.addAttribute(&quot;userDAO&quot;, userDAO.showUserByHisID(id));\n\n        return &quot;edit&quot;;\n    }\n\n    @PatchMapping(&quot;/users/{id}&quot;)\n    public String userUpdate(@ModelAttribute(&quot;userDAO&quot;) User user, @PathVariable(&quot;id&quot;) int id){\n        userDAO.updateUser(id, user);\n\n        return &quot;redirect:/users&quot;;\n    }\n\n    @GetMapping(&quot;/users/register&quot;)\n    public String createNewPerson(Model model){\n        model.addAttribute(&quot;user&quot;, new User());\n\n        return &quot;register&quot;;\n    }\n\n    @PostMapping(&quot;/users/regDone&quot;)\n    public String createNewUser(@ModelAttribute(&quot;user&quot;) User user, Model model){\n        userDAO.saveNewUser(user);\n        model.addAttribute(&quot;userDAO&quot;, userDAO);\n\n        return &quot;redirect:/users&quot;;\n    }\n}\n</code></pre>\n<p>HTML: <br></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;User Update&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;form th:method=&quot;PATCH&quot; th:action=&quot;@{/users/{id}(id = ${userDAO.getID()})}&quot; th:object=&quot;${userDAO}&quot;&gt;\n  &lt;label for=&quot;name&quot;&gt;Enter your Name: &lt;/label&gt;\n  &lt;input type=&quot;text&quot; th:field=&quot;*{firstName}&quot; id=&quot;name&quot;&gt; &lt;br&gt;\n\n  &lt;label for=&quot;lastName&quot;&gt;Enter your LastName: &lt;/label&gt;\n  &lt;input type=&quot;text&quot; th:field=&quot;*{lastName}&quot; id=&quot;lastName&quot;&gt; &lt;br&gt;\n\n  &lt;label for=&quot;email&quot;&gt;Enter your Mail: &lt;/label&gt;\n  &lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot; id=&quot;email&quot;&gt; &lt;br&gt;\n\n  &lt;label for=&quot;age&quot;&gt;Enter your Mail: &lt;/label&gt;\n  &lt;input type=&quot;text&quot; th:field=&quot;*{age}&quot; id=&quot;age&quot;&gt; &lt;br&gt;\n\n  &lt;input type=&quot;submit&quot; value=&quot;Update!&quot;&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","svn","ftp","monitoring","polling"],"answers":[{"tags":[],"owner":{"account_id":996974,"reputation":1146,"user_id":1012682,"accept_rate":45,"display_name":"etxalpo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1381078903,"creation_date":1381059357,"answer_id":19208434,"question_id":16146707,"body_markdown":"The **Remote Directory Poller for Java** (rdp4j) library can help you out with polling an FTP location and notify you with events (such as file added/modified/removed in directory). See [User Guide](https://github.com/drapostolos/rdp4j/wiki/User-Guide) for implementations of `FtpDirectory` and `MyListener` in below quick tutorial:\r\n\r\n    package example\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    import com.github.drapostolos.rdp4j.DirectoryPoller;\r\n    import com.github.drapostolos.rdp4j.spi.PolledDirectory;\r\n    \r\n    public class FtpExample {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String host = &quot;ftp.mozilla.org&quot;;\r\n            String workingDirectory = &quot;pub/addons&quot;;\r\n            String username = &quot;anonymous&quot;;\r\n            String password = &quot;anonymous&quot;;\r\n            PolledDirectory polledDirectory = new FtpDirectory(host, workingDirectory, username, password);\r\n            \r\n            DirectoryPoller dp = DirectoryPoller.newBuilder()\r\n            .addPolledDirectory(polledDirectory)\r\n            .addListener(new MyListener())\r\n            .setPollingInterval(10, TimeUnit.MINUTES)\r\n            .start();\r\n            \r\n            TimeUnit.HOURS.sleep(2);\r\n            \r\n            dp.stop();\r\n        }\r\n    }\r\n","title":"Watching/Polling FTP location","body":"<p>The <strong>Remote Directory Poller for Java</strong> (rdp4j) library can help you out with polling an FTP location and notify you with events (such as file added/modified/removed in directory). See <a href=\"https://github.com/drapostolos/rdp4j/wiki/User-Guide\" rel=\"noreferrer\">User Guide</a> for implementations of <code>FtpDirectory</code> and <code>MyListener</code> in below quick tutorial:</p>\n\n<pre><code>package example\n\nimport java.util.concurrent.TimeUnit;\nimport com.github.drapostolos.rdp4j.DirectoryPoller;\nimport com.github.drapostolos.rdp4j.spi.PolledDirectory;\n\npublic class FtpExample {\n\n    public static void main(String[] args) throws Exception {\n        String host = \"ftp.mozilla.org\";\n        String workingDirectory = \"pub/addons\";\n        String username = \"anonymous\";\n        String password = \"anonymous\";\n        PolledDirectory polledDirectory = new FtpDirectory(host, workingDirectory, username, password);\n\n        DirectoryPoller dp = DirectoryPoller.newBuilder()\n        .addPolledDirectory(polledDirectory)\n        .addListener(new MyListener())\n        .setPollingInterval(10, TimeUnit.MINUTES)\n        .start();\n\n        TimeUnit.HOURS.sleep(2);\n\n        dp.stop();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17850963,"reputation":27,"user_id":12966727,"display_name":"TheUnborn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659969346,"creation_date":1659968946,"answer_id":73279536,"question_id":16146707,"body_markdown":"There is a Spring Integration Solution for this Problem . We will be using [FTP Inbound Channel Adapter][1] for this problem. Java WatchService works in Local but not in remote location. Well we be polling and finding out the changes and print the event. \r\n\r\nJust Follow this documentation [Spring integration documentation for FTP ][1]\r\n \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-integration/reference/html/ftp.html#ftp-inbound","title":"Watching/Polling FTP location","body":"<p>There is a Spring Integration Solution for this Problem . We will be using <a href=\"https://docs.spring.io/spring-integration/reference/html/ftp.html#ftp-inbound\" rel=\"nofollow noreferrer\">FTP Inbound Channel Adapter</a> for this problem. Java WatchService works in Local but not in remote location. Well we be polling and finding out the changes and print the event.</p>\n<p>Just Follow this documentation <a href=\"https://docs.spring.io/spring-integration/reference/html/ftp.html#ftp-inbound\" rel=\"nofollow noreferrer\">Spring integration documentation for FTP </a></p>\n"}],"owner":{"account_id":1904126,"reputation":161,"user_id":1719325,"accept_rate":20,"display_name":"Amu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3073,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1659969346,"creation_date":1366632308,"question_id":16146707,"body_markdown":"Could anyone suggest an open source library in JAVA to monitor FTP location changes? I&#39;m trying to monitor the changes in FTP location and once the changes are detected, changed files are to be copied to a SVN location for commitment.","title":"Watching/Polling FTP location","body":"<p>Could anyone suggest an open source library in JAVA to monitor FTP location changes? I'm trying to monitor the changes in FTP location and once the changes are detected, changed files are to be copied to a SVN location for commitment.</p>\n"},{"tags":["java",".net","aspose","aspose.words"],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659969244,"creation_date":1659959649,"answer_id":73277477,"question_id":73275816,"body_markdown":"You should simply change alignment of paragraph in the inserted header using [ParagraphFormat.Alignment][1]. If you insert ViewMaster header as the primary header, you can use code like this to change alignment of paragraphs in it:\r\n```cs\r\nforeach (Paragraph p in doc.FirstSection.HeadersFooters[HeaderFooterType.HeaderPrimary].Paragraphs)\r\n    p.ParagraphFormat.Alignment = ParagraphAlignment.Left;\r\n```\r\n\r\nIn case of ViewMaster (Vertical) footer, vertical contetn is represented using shape and group shape in footer. So you can use code like this to change position of these shapes:\r\n```cs\r\nDocument doc = new Document(@&quot;C:\\Temp\\in.docx&quot;);\r\n\r\nMoveShapesLeft(doc.FirstSection.HeadersFooters[HeaderFooterType.FooterPrimary].GetChildNodes(NodeType.Shape, true));\r\nMoveShapesLeft(doc.FirstSection.HeadersFooters[HeaderFooterType.FooterPrimary].GetChildNodes(NodeType.GroupShape, true));\r\n\r\ndoc.Save(@&quot;C:\\Temp\\out.docx&quot;);\r\n```\r\n```cs\r\nprivate static void MoveShapesLeft(NodeCollection shapes)\r\n{\r\n    foreach (ShapeBase shape in shapes)\r\n    {\r\n        if (!shape.IsTopLevel)\r\n            continue;\r\n\r\n        shape.RelativeHorizontalPosition = RelativeHorizontalPosition.Margin;\r\n        shape.HorizontalAlignment = HorizontalAlignment.Left;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://reference.aspose.com/words/net/aspose.words/paragraphformat/alignment/","title":"How to align ViewMaster (Vertical) to LEFT side of the page in the word/pdf","body":"<p>You should simply change alignment of paragraph in the inserted header using <a href=\"https://reference.aspose.com/words/net/aspose.words/paragraphformat/alignment/\" rel=\"nofollow noreferrer\">ParagraphFormat.Alignment</a>. If you insert ViewMaster header as the primary header, you can use code like this to change alignment of paragraphs in it:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>foreach (Paragraph p in doc.FirstSection.HeadersFooters[HeaderFooterType.HeaderPrimary].Paragraphs)\n    p.ParagraphFormat.Alignment = ParagraphAlignment.Left;\n</code></pre>\n<p>In case of ViewMaster (Vertical) footer, vertical contetn is represented using shape and group shape in footer. So you can use code like this to change position of these shapes:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>Document doc = new Document(@&quot;C:\\Temp\\in.docx&quot;);\n\nMoveShapesLeft(doc.FirstSection.HeadersFooters[HeaderFooterType.FooterPrimary].GetChildNodes(NodeType.Shape, true));\nMoveShapesLeft(doc.FirstSection.HeadersFooters[HeaderFooterType.FooterPrimary].GetChildNodes(NodeType.GroupShape, true));\n\ndoc.Save(@&quot;C:\\Temp\\out.docx&quot;);\n</code></pre>\n<pre class=\"lang-cs prettyprint-override\"><code>private static void MoveShapesLeft(NodeCollection shapes)\n{\n    foreach (ShapeBase shape in shapes)\n    {\n        if (!shape.IsTopLevel)\n            continue;\n\n        shape.RelativeHorizontalPosition = RelativeHorizontalPosition.Margin;\n        shape.HorizontalAlignment = HorizontalAlignment.Left;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7038407,"reputation":35,"user_id":5391609,"display_name":"suresh sadanala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73277477,"answer_count":1,"score":0,"last_activity_date":1659969244,"creation_date":1659951659,"question_id":73275816,"body_markdown":"How to align ViewMaster (Vertical) to LEFT side of the page in the word/pdf ?\r\n\r\nWe have achieved inserting ViewMaster (vertical) in the document by following below link \r\n[How to apply built-in footer style using Aspose Word?][1]\r\n\r\n#aspose.words #aspose\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31826078/how-to-apply-built-in-footer-style-using-aspose-word/73275734#73275734\r\n  [2]: https://i.stack.imgur.com/yXV3P.png","title":"How to align ViewMaster (Vertical) to LEFT side of the page in the word/pdf","body":"<p>How to align ViewMaster (Vertical) to LEFT side of the page in the word/pdf ?</p>\n<p>We have achieved inserting ViewMaster (vertical) in the document by following below link\n<a href=\"https://stackoverflow.com/questions/31826078/how-to-apply-built-in-footer-style-using-aspose-word/73275734#73275734\">How to apply built-in footer style using Aspose Word?</a></p>\n<p>#aspose.words #aspose</p>\n<p><a href=\"https://i.stack.imgur.com/yXV3P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yXV3P.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","gradle","junit5","spring-boot-test"],"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":1,"creation_date":1659651178,"post_id":73192875,"comment_id":129351449,"body_markdown":"See https://stackoverflow.com/questions/48815550/how-to-order-unit-test-execution-from-gradle","body":"See <a href=\"https://stackoverflow.com/questions/48815550/how-to-order-unit-test-execution-from-gradle\" title=\"how to order unit test execution from gradle\">stackoverflow.com/questions/48815550/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5043223,"reputation":908,"user_id":4049983,"display_name":"Yiao SUN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659619951,"creation_date":1659618884,"answer_id":73236643,"question_id":73192875,"body_markdown":"Need to review the tests why you need to do this.\r\n\r\nGradle simply delegates execution to the JUnit runner.\r\n\r\nSo if you want specific test class ordering, you will need to create a Suite (with @SelectClasses:) and specify the test classes in the order you want\r\n\r\nYou can fellow this doc to create test suite \r\nhttps://howtoprogram.xyz/2016/08/16/junit-5-test-suite/\r\n\r\n\r\n\r\n\r\nIf all the tests are in the same test file, you could use @Order with junit5 to give the order ex&#233;cution for each test:\r\nhttps://www.baeldung.com/junit-5-test-order","title":"How to run test in gradle based on condition on Spring Boot application","body":"<p>Need to review the tests why you need to do this.</p>\n<p>Gradle simply delegates execution to the JUnit runner.</p>\n<p>So if you want specific test class ordering, you will need to create a Suite (with @SelectClasses:) and specify the test classes in the order you want</p>\n<p>You can fellow this doc to create test suite\n<a href=\"https://howtoprogram.xyz/2016/08/16/junit-5-test-suite/\" rel=\"nofollow noreferrer\">https://howtoprogram.xyz/2016/08/16/junit-5-test-suite/</a></p>\n<p>If all the tests are in the same test file, you could use @Order with junit5 to give the order excution for each test:\n<a href=\"https://www.baeldung.com/junit-5-test-order\" rel=\"nofollow noreferrer\">https://www.baeldung.com/junit-5-test-order</a></p>\n"},{"tags":[],"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659894185,"creation_date":1659894185,"answer_id":73269723,"question_id":73192875,"body_markdown":"There is an option based on your question, so you can create `additional task` for testing `SampleTest` run.\r\n\r\n    task testLast(type: Test) {\r\n        include &#39;**/SampleTest.*&#39;\r\n    }\r\n    \r\n    test {\r\n        exclude &#39;**/SampleTest.*&#39;\r\n    }\r\n\r\n    test.dependsOn testLast","title":"How to run test in gradle based on condition on Spring Boot application","body":"<p>There is an option based on your question, so you can create <code>additional task</code> for testing <code>SampleTest</code> run.</p>\n<pre><code>task testLast(type: Test) {\n    include '**/SampleTest.*'\n}\n\ntest {\n    exclude '**/SampleTest.*'\n}\n\ntest.dependsOn testLast\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21489082,"reputation":419,"user_id":15835162,"display_name":"Garikina Rajesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659969151,"creation_date":1659968737,"answer_id":73279482,"question_id":73192875,"body_markdown":"You can order the tests I guess.\r\n[Junit][1]\r\n\r\nyou can group all 9 tests in to one group. try running this group and then last test\r\n\r\n\r\n  [1]: https://www.baeldung.com/junit-5-test-order","title":"How to run test in gradle based on condition on Spring Boot application","body":"<p>You can order the tests I guess.\n<a href=\"https://www.baeldung.com/junit-5-test-order\" rel=\"nofollow noreferrer\">Junit</a></p>\n<p>you can group all 9 tests in to one group. try running this group and then last test</p>\n"}],"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1659969151,"creation_date":1659352948,"question_id":73192875,"body_markdown":"I am using Spring Boot application with gradle. Currently there are 9 tests will be executed during **build** and **test** gradle task. One test is excluded as it will affect the other tests. So I have excluded the SampleTest as below in build.gradle\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    \r\n        filter {\r\n            excludeTestsMatching &quot;com.test.func.SampleTest&quot;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nNow I want to run all the tests in the following order. My **SampleTest** should be run at end of all tests. How should I achieve it? Any help would be appreciated.\r\n\r\n1. Other 9 tests\r\n2. com.test.func.SampleTest","title":"How to run test in gradle based on condition on Spring Boot application","body":"<p>I am using Spring Boot application with gradle. Currently there are 9 tests will be executed during <strong>build</strong> and <strong>test</strong> gradle task. One test is excluded as it will affect the other tests. So I have excluded the SampleTest as below in build.gradle</p>\n<pre><code>test {\n    useJUnitPlatform()\n\n    filter {\n        excludeTestsMatching &quot;com.test.func.SampleTest&quot;\n    }\n\n}\n</code></pre>\n<p>Now I want to run all the tests in the following order. My <strong>SampleTest</strong> should be run at end of all tests. How should I achieve it? Any help would be appreciated.</p>\n<ol>\n<li>Other 9 tests</li>\n<li>com.test.func.SampleTest</li>\n</ol>\n"},{"tags":["java","swing","user-interface","graphstream"],"comments":[{"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"score":0,"creation_date":1659952800,"post_id":73268908,"comment_id":129409079,"body_markdown":"@kleopatra Thanks, sure! can you please elaborate on where I did not work according to the convention? or maybe even suggest an edit?","body":"@kleopatra Thanks, sure! can you please elaborate on where I did not work according to the convention? or maybe even suggest an edit?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1659952879,"post_id":73268908,"comment_id":129409112,"body_markdown":"the class name jumps into attention, doesn&#39;t it ;)","body":"the class name jumps into attention, doesn&#39;t it ;)"},{"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"score":0,"creation_date":1659953548,"post_id":73268908,"comment_id":129409327,"body_markdown":"@kleopatra my bad. fixed!","body":"@kleopatra my bad. fixed!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1659957717,"post_id":73268908,"comment_id":129410750,"body_markdown":"thanks for editing, should be also done in the answer :)","body":"thanks for editing, should be also done in the answer :)"}],"answers":[{"tags":[],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659968961,"creation_date":1659895961,"answer_id":73269926,"question_id":73268908,"body_markdown":"In order to initialize swing components using `com.IntelliJ.uiDesigner` one \r\nmust use the  \r\nmethod `private void createUIComponents()`.  \r\nYou can check out the example [here][1].\r\n\r\nAnd in this case, this have fixed it.\r\n\r\n```java\r\npublic class Demo extends JFrame{\r\n    private JPanel graphPanel;\r\n    private JPanel label;\r\n\r\n    public Demo(){ }\r\n\r\n    private void createUIComponents() {\r\n        System.setProperty(&quot;org.graphstream.ui.renderer&quot;, &quot;org.graphstream.ui.j2dviewer.J2DGraphRenderer&quot;);\r\n\r\n        Graph graph = new MultiGraph(&quot;Tutorial 1&quot;);\r\n\r\n        Viewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_ANOTHER_THREAD);\r\n        graphPanel = viewer.addDefaultView(false);\r\n\r\n        ViewerPipe pipeIn = viewer.newViewerPipe();\r\n        pipeIn.addAttributeSink( graph );\r\n        pipeIn.pump();\r\n\r\n        graph.addNode(&quot;A&quot;);\r\n        graph.addNode(&quot;B&quot;);\r\n        graph.addNode(&quot;C&quot;);\r\n        graph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\r\n        graph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\r\n        graph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        demo demo = new demo();\r\n\r\n        demo.setContentPane(demo.graphPanel);\r\n        demo.setTitle(&quot;Kfir Demo&quot;);\r\n        demo.setSize(300, 400);\r\n\r\n        demo.setVisible(true);\r\n        demo.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/creating-form-initialization-code.html#328675c3","title":"Add graphstream graph to jpanel with &#39;intellij.uiDesigner&#39;","body":"<p>In order to initialize swing components using <code>com.IntelliJ.uiDesigner</code> one\nmust use the<br />\nmethod <code>private void createUIComponents()</code>.<br />\nYou can check out the example <a href=\"https://www.jetbrains.com/help/idea/creating-form-initialization-code.html#328675c3\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>And in this case, this have fixed it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Demo extends JFrame{\n    private JPanel graphPanel;\n    private JPanel label;\n\n    public Demo(){ }\n\n    private void createUIComponents() {\n        System.setProperty(&quot;org.graphstream.ui.renderer&quot;, &quot;org.graphstream.ui.j2dviewer.J2DGraphRenderer&quot;);\n\n        Graph graph = new MultiGraph(&quot;Tutorial 1&quot;);\n\n        Viewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_ANOTHER_THREAD);\n        graphPanel = viewer.addDefaultView(false);\n\n        ViewerPipe pipeIn = viewer.newViewerPipe();\n        pipeIn.addAttributeSink( graph );\n        pipeIn.pump();\n\n        graph.addNode(&quot;A&quot;);\n        graph.addNode(&quot;B&quot;);\n        graph.addNode(&quot;C&quot;);\n        graph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\n        graph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\n        graph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\n    }\n\n    public static void main(String[] args) {\n        demo demo = new demo();\n\n        demo.setContentPane(demo.graphPanel);\n        demo.setTitle(&quot;Kfir Demo&quot;);\n        demo.setSize(300, 400);\n\n        demo.setVisible(true);\n        demo.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73269926,"answer_count":1,"score":1,"last_activity_date":1659968961,"creation_date":1659887481,"question_id":73268908,"body_markdown":"I&#39;m trying to add a `GraphStreams` graph to a `JPanel` using `com.IntelliJ.uiDesigner`, and I&#39;m not sure how to initialize the graph&#39;s panel without getting the warning \r\n```\r\nAssignment to UI-bound field will overwrite field generated by UI Designer.\r\nInspection info: Reports assignments to fields which are bound to components in UI Designer forms.  \r\nSuch assignments will cause the component setup code generated by UI Designer for such fields to be ignored.\r\n```\r\n\r\nThis is my code:\r\n```java\r\npublic class Demo extends JFrame{\r\n    private JPanel graphPanel;\r\n    private JPanel label;\r\n\r\n    public Demo(){\r\n        System.setProperty(&quot;org.graphstream.ui.renderer&quot;, &quot;org.graphstream.ui.j2dviewer.J2DGraphRenderer&quot;);\r\n\r\n        Graph graph = new MultiGraph(&quot;Tutorial 1&quot;);\r\n\r\n        Viewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_ANOTHER_THREAD);\r\n        graphPanel = viewer.addDefaultView(false);  //    &lt;====   this is the line that throws the warning\r\n\r\n        ViewerPipe pipeIn = viewer.newViewerPipe();\r\n        pipeIn.addAttributeSink( graph );\r\n        pipeIn.pump();\r\n\r\n        graph.addNode(&quot;A&quot;);\r\n        graph.addNode(&quot;B&quot;);\r\n        graph.addNode(&quot;C&quot;);\r\n        graph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\r\n        graph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\r\n        graph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        demo demo = new demo();\r\n\r\n        demo.setContentPane(demo.graphPanel);\r\n        demo.setTitle(&quot;Kfir Demo&quot;);\r\n        demo.setSize(300, 400);\r\n\r\n        demo.setVisible(true);\r\n        demo.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n}\r\n```","title":"Add graphstream graph to jpanel with &#39;intellij.uiDesigner&#39;","body":"<p>I'm trying to add a <code>GraphStreams</code> graph to a <code>JPanel</code> using <code>com.IntelliJ.uiDesigner</code>, and I'm not sure how to initialize the graph's panel without getting the warning</p>\n<pre><code>Assignment to UI-bound field will overwrite field generated by UI Designer.\nInspection info: Reports assignments to fields which are bound to components in UI Designer forms.  \nSuch assignments will cause the component setup code generated by UI Designer for such fields to be ignored.\n</code></pre>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Demo extends JFrame{\n    private JPanel graphPanel;\n    private JPanel label;\n\n    public Demo(){\n        System.setProperty(&quot;org.graphstream.ui.renderer&quot;, &quot;org.graphstream.ui.j2dviewer.J2DGraphRenderer&quot;);\n\n        Graph graph = new MultiGraph(&quot;Tutorial 1&quot;);\n\n        Viewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_ANOTHER_THREAD);\n        graphPanel = viewer.addDefaultView(false);  //    &lt;====   this is the line that throws the warning\n\n        ViewerPipe pipeIn = viewer.newViewerPipe();\n        pipeIn.addAttributeSink( graph );\n        pipeIn.pump();\n\n        graph.addNode(&quot;A&quot;);\n        graph.addNode(&quot;B&quot;);\n        graph.addNode(&quot;C&quot;);\n        graph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\n        graph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\n        graph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\n    }\n\n    public static void main(String[] args) {\n        demo demo = new demo();\n\n        demo.setContentPane(demo.graphPanel);\n        demo.setTitle(&quot;Kfir Demo&quot;);\n        demo.setSize(300, 400);\n\n        demo.setVisible(true);\n        demo.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n"},{"tags":["java","protocol-buffers","proto3"],"comments":[{"owner":{"account_id":11975,"reputation":1033812,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"score":1,"creation_date":1534692114,"post_id":51918871,"comment_id":90787938,"body_markdown":"AFAIK, that simply isn&#39;t tracked in the default proto3 implementations. Fields are either zero (and not sent) or are non-zero (and are sent), and *that&#39;s it*.","body":"AFAIK, that simply isn&#39;t tracked in the default proto3 implementations. Fields are either zero (and not sent) or are non-zero (and are sent), and <i>that&#39;s it</i>."},{"owner":{"account_id":5784993,"reputation":2858,"user_id":4564515,"display_name":"jschultz410"},"score":3,"creation_date":1582315749,"post_id":51918871,"comment_id":106748832,"body_markdown":"Yeah, proto3 screwed up with their optimization that scalars with default value aren&#39;t serialized.  Now, a reader can&#39;t distinguish between &quot;field not specified&quot; and &quot;field specified but with default value.&quot;  You can claw back this functionality by wrapping your scalar inside a oneof or inside a submessage with the attendant cruftiness that incurs in your preferred language.","body":"Yeah, proto3 screwed up with their optimization that scalars with default value aren&#39;t serialized.  Now, a reader can&#39;t distinguish between &quot;field not specified&quot; and &quot;field specified but with default value.&quot;  You can claw back this functionality by wrapping your scalar inside a oneof or inside a submessage with the attendant cruftiness that incurs in your preferred language."}],"answers":[{"tags":[],"owner":{"account_id":13892778,"reputation":26464,"user_id":10190237,"display_name":"P.W"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1534743950,"creation_date":1534743950,"answer_id":51924737,"question_id":51918871,"body_markdown":"One of the suggested approaches is given [here][1]:\r\n\r\n    # NOTE: As of proto3, HasField() only works for message fields, not for\r\n    #       singular (non-message) fields. First try to use HasField and\r\n    #       if it fails (with a ValueError) we manually consult the fields.\r\n    try:\r\n        return message_pb.HasField(property_name)\r\n    except ValueError:\r\n        all_fields = set([field.name for field in message_pb._fields])\r\n        return property_name in all_fields\r\n\r\n\r\nAlso, from the same page:\r\n\r\n&gt;In proto3, field presence for scalar fields simply doesn&#39;t exist. Your mental model for proto3 should be that it&#39;s a C++ or Go struct. For integers and strings, there is no such thing as being set or not, it always has a value. For submessages, it&#39;s a pointer to the submessage instance which can be NULL, that&#39;s why you can test presence for it.\r\n\r\n\r\n  [1]: https://github.com/GoogleCloudPlatform/google-cloud-python/issues/1402","title":"Check if a field has been set in protocol buffer 3","body":"<p>One of the suggested approaches is given <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-python/issues/1402\" rel=\"noreferrer\">here</a>:</p>\n\n<pre><code># NOTE: As of proto3, HasField() only works for message fields, not for\n#       singular (non-message) fields. First try to use HasField and\n#       if it fails (with a ValueError) we manually consult the fields.\ntry:\n    return message_pb.HasField(property_name)\nexcept ValueError:\n    all_fields = set([field.name for field in message_pb._fields])\n    return property_name in all_fields\n</code></pre>\n\n<p>Also, from the same page:</p>\n\n<blockquote>\n  <p>In proto3, field presence for scalar fields simply doesn't exist. Your mental model for proto3 should be that it's a C++ or Go struct. For integers and strings, there is no such thing as being set or not, it always has a value. For submessages, it's a pointer to the submessage instance which can be NULL, that's why you can test presence for it.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8398535,"reputation":150,"user_id":6304695,"display_name":"Gigi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1553222165,"creation_date":1553222165,"answer_id":55292089,"question_id":51918871,"body_markdown":"I think the recommended approach, which is not ideal because of design decisions made in proto3, is to check standard values. You cannot explicitly check whether a field is set or not. As access to `msg._fields` is not recommended as described [here][1] the only thing that is left is to check whether the field is set to its standard value:\r\n```\r\nif msg.textfield.isEmpty() {\r\n    //assume textfield is not set\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/googleapis/google-cloud-python/issues/1402#issuecomment-183009502","title":"Check if a field has been set in protocol buffer 3","body":"<p>I think the recommended approach, which is not ideal because of design decisions made in proto3, is to check standard values. You cannot explicitly check whether a field is set or not. As access to <code>msg._fields</code> is not recommended as described <a href=\"https://github.com/googleapis/google-cloud-python/issues/1402#issuecomment-183009502\" rel=\"nofollow noreferrer\">here</a> the only thing that is left is to check whether the field is set to its standard value:</p>\n\n<pre><code>if msg.textfield.isEmpty() {\n    //assume textfield is not set\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5784993,"reputation":2858,"user_id":4564515,"display_name":"jschultz410"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631567272,"creation_date":1582315267,"answer_id":60345496,"question_id":51918871,"body_markdown":"The best suggestion I&#39;ve seen for this in proto3 is to wrap your field in a singleton oneof.  This will allow you to check for presence / absence again, similar to proto2.\r\n\r\n    message blah\r\n    {\r\n        oneof foo_ { sint32 foo = 1; }\r\n    }\r\n\r\n\r\nIn Python generated code this is extremely smooth as `foo` can be directly operated on as a scalar as if it wasn&#39;t inside a oneof.  \r\n\r\nUnfortunately, for Java I think support for oneof&#39;s is far uglier.  Google also purposely removed the hasFoo() generated class function in proto3.  So you would need to consult the getFooCase() of the oneof instead to check for presence or absence.\r\n\r\nhttps://developers.google.com/protocol-buffers/docs/reference/java-generated#oneof-fields\r\n\r\nYes, I realize this means tons of oneof&#39;s and any attendant hassle they bring.  On the plus side, there is no overhead on the wire.\r\n\r\nThe second best suggestion I&#39;ve seen is to use a submessage to wrap your scalar because presence / absence of submessages is still supported.  There are the Well Known Types (WKT) in google.protobuf.wrappers.proto.  If you use those, then you may even get extra special treatment in your preferred language where the wrapped scalar can be easily operated on as if the containing submessage didn&#39;t exist (or so I&#39;ve read, not entirely sure on this point myself).","title":"Check if a field has been set in protocol buffer 3","body":"<p>The best suggestion I've seen for this in proto3 is to wrap your field in a singleton oneof.  This will allow you to check for presence / absence again, similar to proto2.</p>\n<pre><code>message blah\n{\n    oneof foo_ { sint32 foo = 1; }\n}\n</code></pre>\n<p>In Python generated code this is extremely smooth as <code>foo</code> can be directly operated on as a scalar as if it wasn't inside a oneof.</p>\n<p>Unfortunately, for Java I think support for oneof's is far uglier.  Google also purposely removed the hasFoo() generated class function in proto3.  So you would need to consult the getFooCase() of the oneof instead to check for presence or absence.</p>\n<p><a href=\"https://developers.google.com/protocol-buffers/docs/reference/java-generated#oneof-fields\" rel=\"nofollow noreferrer\">https://developers.google.com/protocol-buffers/docs/reference/java-generated#oneof-fields</a></p>\n<p>Yes, I realize this means tons of oneof's and any attendant hassle they bring.  On the plus side, there is no overhead on the wire.</p>\n<p>The second best suggestion I've seen is to use a submessage to wrap your scalar because presence / absence of submessages is still supported.  There are the Well Known Types (WKT) in google.protobuf.wrappers.proto.  If you use those, then you may even get extra special treatment in your preferred language where the wrapped scalar can be easily operated on as if the containing submessage didn't exist (or so I've read, not entirely sure on this point myself).</p>\n"},{"tags":[],"owner":{"account_id":5987348,"reputation":4295,"user_id":4704510,"display_name":"UsamaAmjad"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1616024173,"creation_date":1614255716,"answer_id":66368383,"question_id":51918871,"body_markdown":"Use Proto Wrappers `hasField()`\r\n======\r\n\r\nI see some people are suggesting to use `oneof` to wrap your field in it but `proto3` already provides built-in `wrappers` with `hasField` kind of methods for primitive data types which **will allow you to check if the field has been set or not**.\r\n\r\nThis is how you can declare it (see more [Value types here][1]):\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\nimport &quot;google/protobuf/wrappers.proto&quot;;\r\n\r\nmessage MyProtoMessage {\r\n    google.protobuf.BoolValue enabled = 1;\r\n    google.protobuf.StringValue name = 2;\r\n    google.protobuf.Int32Value age = 3;\r\n}\r\n```\r\nand this in Java code to check it:\r\n```\r\nMyProtoMessage myProtoMessage = getItFromSomewhere();\r\nif (myProtoMessage.hasName()) {\r\n    // field is set by client\r\n    myProtoMessage.getName();\r\n} else {\r\n    // field is not set by the client\r\n    // but you can still call `myProtoMessage.getName()` which will `return` default value &quot;&quot;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#index","title":"Check if a field has been set in protocol buffer 3","body":"<h1>Use Proto Wrappers <code>hasField()</code></h1>\n<p>I see some people are suggesting to use <code>oneof</code> to wrap your field in it but <code>proto3</code> already provides built-in <code>wrappers</code> with <code>hasField</code> kind of methods for primitive data types which <strong>will allow you to check if the field has been set or not</strong>.</p>\n<p>This is how you can declare it (see more <a href=\"https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#index\" rel=\"noreferrer\">Value types here</a>):</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\nimport &quot;google/protobuf/wrappers.proto&quot;;\n\nmessage MyProtoMessage {\n    google.protobuf.BoolValue enabled = 1;\n    google.protobuf.StringValue name = 2;\n    google.protobuf.Int32Value age = 3;\n}\n</code></pre>\n<p>and this in Java code to check it:</p>\n<pre><code>MyProtoMessage myProtoMessage = getItFromSomewhere();\nif (myProtoMessage.hasName()) {\n    // field is set by client\n    myProtoMessage.getName();\n} else {\n    // field is not set by the client\n    // but you can still call `myProtoMessage.getName()` which will `return` default value &quot;&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118763,"reputation":22824,"user_id":1015678,"accept_rate":67,"display_name":"Lahiru Chandima"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1615270329,"creation_date":1615270329,"answer_id":66541707,"question_id":51918871,"body_markdown":"Protobuf [3.15.0][1] now has the support for optional fields. You can use `hasField` methods again.\r\n\r\n\r\n  [1]: https://github.com/protocolbuffers/protobuf/releases/tag/v3.15.0","title":"Check if a field has been set in protocol buffer 3","body":"<p>Protobuf <a href=\"https://github.com/protocolbuffers/protobuf/releases/tag/v3.15.0\" rel=\"noreferrer\">3.15.0</a> now has the support for optional fields. You can use <code>hasField</code> methods again.</p>\n"}],"owner":{"account_id":2009886,"reputation":271,"user_id":1798617,"display_name":"user1798617"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63359,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":5,"score":27,"last_activity_date":1659968672,"creation_date":1534690321,"question_id":51918871,"body_markdown":"I am migrating a java application from protocol buffers 2 to protocol buffer 3.\r\n\r\nIn proto 2 to check if a field is set you have `hasfield()` method \r\nfor which an example Java code generated is:\r\n\r\n    public boolean hasText() {\r\n      return ((bitField0_ &amp; 0x00000004) == 0x00000004);\r\n    }\r\n\r\nHowever in proto 3 there it has been removed. \r\nHow do you check if a field has been set in proto 3?\r\n","title":"Check if a field has been set in protocol buffer 3","body":"<p>I am migrating a java application from protocol buffers 2 to protocol buffer 3.</p>\n\n<p>In proto 2 to check if a field is set you have <code>hasfield()</code> method \nfor which an example Java code generated is:</p>\n\n<pre><code>public boolean hasText() {\n  return ((bitField0_ &amp; 0x00000004) == 0x00000004);\n}\n</code></pre>\n\n<p>However in proto 3 there it has been removed. \nHow do you check if a field has been set in proto 3?</p>\n"},{"tags":["java","html","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659968535,"creation_date":1659968535,"answer_id":73279423,"question_id":73277438,"body_markdown":"A `*{}` annotation is relative the the encapsulating `th:object` so you would have to use `*{title}` and `*{isCompleted}` in your example.\r\n\r\nAs it is now thymeleaf looks for a task parameter within your task object which does not exist","title":"Html post request using spring mvc and thymeleaf","body":"<p>A <code>*{}</code> annotation is relative the the encapsulating <code>th:object</code> so you would have to use <code>*{title}</code> and <code>*{isCompleted}</code> in your example.</p>\n<p>As it is now thymeleaf looks for a task parameter within your task object which does not exist</p>\n"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73279423,"answer_count":1,"score":0,"last_activity_date":1659968535,"creation_date":1659959458,"question_id":73277438,"body_markdown":"I&#39;m writing a simple web-application using Spring MVC,postgreSQL,thymeleaf and some javascript scripts and css styles. It is something like a weekly task manager, and my goal is to perform CRUD operations and display information in html page.\r\nThis is my controllers(main, which just redirects user from home page to application page, and application controller):\r\n```\r\npackage com.example.inobitectest.controllers;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class MainController {\r\n\r\n    @GetMapping(&quot;/home&quot;)\r\n    public String getHomePage(){\r\n        return &quot;home&quot;;\r\n    }\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String getTestPage(){\r\n        return &quot;TestTask&quot;;\r\n    }\r\n}\r\n\r\n```\r\n```\r\npackage com.example.inobitectest.controllers;\r\nimport com.example.inobitectest.dto.TaskDto;\r\nimport com.example.inobitectest.models.Task;\r\nimport com.example.inobitectest.service.TaskService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/test&quot;)\r\npublic class TaskController {\r\n    TaskService taskService;\r\n\r\n    @Autowired\r\n    public TaskController(TaskService taskService) {\r\n        this.taskService = taskService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Task&gt; createTask(@RequestBody TaskDto taskDto) {\r\n        Task task = taskService.createTask(taskDto.getTitle(),taskDto.isCompleted());\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(task);\r\n    }\r\n    @PutMapping\r\n    @ResponseBody\r\n    public ResponseEntity&lt;Task&gt; updateTask(@RequestBody TaskDto taskDto){\r\n        Task task = taskService.updateTask(taskDto.getId(),taskDto.getTitle(),taskDto.isCompleted());\r\n        return ResponseEntity.ok(task);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/{id}&quot; )\r\n    public ResponseEntity&lt;Task&gt; getTaskById(@PathVariable(&quot;id&quot;) Long id ){\r\n        Task task = taskService.getTaskById(id);\r\n        return ResponseEntity.ok(task);\r\n    }\r\n\r\n    @DeleteMapping(value = &quot;/{id}&quot;)\r\n    @ResponseBody\r\n    public void deleteTask(@PathVariable(&quot;id&quot;) Long id){\r\n        taskService.deleteTaskById(id);\r\n    }\r\n}\r\n```\r\nTask entity:\r\n```\r\npackage com.example.inobitectest.models;\r\nimport lombok.Data;\r\nimport javax.persistence.*;\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@Data\r\n@Table(name = &quot;tasks&quot;)\r\npublic class Task {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String title;\r\n    private boolean isCompleted;\r\n    private LocalDate creationDate;\r\n}\r\n```\r\nService layer:\r\n```\r\npackage com.example.inobitectest.service.TaskServiceImpl;\r\n\r\nimport com.example.inobitectest.models.Task;\r\nimport com.example.inobitectest.service.TaskService;\r\nimport com.example.inobitectest.taskRepository.TaskRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.time.LocalDate;\r\n\r\n@Service\r\npublic class TaskServiceImpl implements TaskService {\r\n    TaskRepository taskRepository;\r\n\r\n    @Autowired\r\n    public TaskServiceImpl(TaskRepository taskRepository) {\r\n        this.taskRepository = taskRepository;\r\n    }\r\n\r\n    @Override\r\n    public Task createTask(String title,boolean isCompleted){\r\n        Task task = mapTask(title,isCompleted);\r\n\r\n        return taskRepository.save(task);\r\n    }\r\n\r\n    @Override\r\n    public Task updateTask(Long id, String title, boolean isCompleted) {\r\n        Task task = mapTask(title, isCompleted);\r\n        task.setId(id);\r\n        return taskRepository.save(task);\r\n    }\r\n\r\n    @Override\r\n    public Task getTaskById(Long id) {\r\n        return  taskRepository.findById(id).get();\r\n    }\r\n\r\n    @Override\r\n    public void deleteTaskById(Long id) {\r\n        taskRepository.deleteById(id);\r\n    }\r\n\r\n    private Task mapTask(String title, boolean isCompleted) {\r\n        Task task = new Task();\r\n        task.setTitle(title);\r\n        task.setCompleted(isCompleted);\r\n        task.setCreationDate(LocalDate.now());\r\n        return task;\r\n    }\r\n}\r\n```\r\nAnd HTML pop-up form:\r\n```\r\n&lt;div class=&quot;modal fade&quot; id=&quot;exampleModal&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;exampleModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n    &lt;div class=&quot;modal-dialog&quot;&gt;\r\n        &lt;div class=&quot;modal-content&quot;&gt;\r\n            &lt;div class=&quot;modal-header&quot;&gt;\r\n                &lt;h5 class=&quot;modal-title&quot; id=&quot;exampleModalLabel&quot;&gt;Modal title&lt;/h5&gt;\r\n                &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;modal-body&quot;&gt;\r\n                &lt;form th:action=&quot;@{/test}&quot; th:method=&quot;POST&quot; th:object=&quot;${task}&quot;&gt;\r\n                    &lt;input type=&quot;text&quot; th:field=&quot;*{task.title}&quot; placeholder=&quot;Task name&quot;&gt;\r\n                    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{task.isCompleted}&quot; placeholder=&quot;Done?&quot;&gt;\r\n                    &lt;input type=&quot;submit&quot; value=&quot;AddTask&quot;&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;modal-footer&quot;&gt;\r\n                &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\nHowever I got TemplateProcessingExeption when i enter application page","title":"Html post request using spring mvc and thymeleaf","body":"<p>I'm writing a simple web-application using Spring MVC,postgreSQL,thymeleaf and some javascript scripts and css styles. It is something like a weekly task manager, and my goal is to perform CRUD operations and display information in html page.\nThis is my controllers(main, which just redirects user from home page to application page, and application controller):</p>\n<pre><code>package com.example.inobitectest.controllers;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class MainController {\n\n    @GetMapping(&quot;/home&quot;)\n    public String getHomePage(){\n        return &quot;home&quot;;\n    }\n    @GetMapping(&quot;/test&quot;)\n    public String getTestPage(){\n        return &quot;TestTask&quot;;\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.inobitectest.controllers;\nimport com.example.inobitectest.dto.TaskDto;\nimport com.example.inobitectest.models.Task;\nimport com.example.inobitectest.service.TaskService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\n@RequestMapping(&quot;/test&quot;)\npublic class TaskController {\n    TaskService taskService;\n\n    @Autowired\n    public TaskController(TaskService taskService) {\n        this.taskService = taskService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Task&gt; createTask(@RequestBody TaskDto taskDto) {\n        Task task = taskService.createTask(taskDto.getTitle(),taskDto.isCompleted());\n        return ResponseEntity.status(HttpStatus.CREATED).body(task);\n    }\n    @PutMapping\n    @ResponseBody\n    public ResponseEntity&lt;Task&gt; updateTask(@RequestBody TaskDto taskDto){\n        Task task = taskService.updateTask(taskDto.getId(),taskDto.getTitle(),taskDto.isCompleted());\n        return ResponseEntity.ok(task);\n    }\n\n    @GetMapping(value = &quot;/{id}&quot; )\n    public ResponseEntity&lt;Task&gt; getTaskById(@PathVariable(&quot;id&quot;) Long id ){\n        Task task = taskService.getTaskById(id);\n        return ResponseEntity.ok(task);\n    }\n\n    @DeleteMapping(value = &quot;/{id}&quot;)\n    @ResponseBody\n    public void deleteTask(@PathVariable(&quot;id&quot;) Long id){\n        taskService.deleteTaskById(id);\n    }\n}\n</code></pre>\n<p>Task entity:</p>\n<pre><code>package com.example.inobitectest.models;\nimport lombok.Data;\nimport javax.persistence.*;\nimport java.time.LocalDate;\n\n@Entity\n@Data\n@Table(name = &quot;tasks&quot;)\npublic class Task {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String title;\n    private boolean isCompleted;\n    private LocalDate creationDate;\n}\n</code></pre>\n<p>Service layer:</p>\n<pre><code>package com.example.inobitectest.service.TaskServiceImpl;\n\nimport com.example.inobitectest.models.Task;\nimport com.example.inobitectest.service.TaskService;\nimport com.example.inobitectest.taskRepository.TaskRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDate;\n\n@Service\npublic class TaskServiceImpl implements TaskService {\n    TaskRepository taskRepository;\n\n    @Autowired\n    public TaskServiceImpl(TaskRepository taskRepository) {\n        this.taskRepository = taskRepository;\n    }\n\n    @Override\n    public Task createTask(String title,boolean isCompleted){\n        Task task = mapTask(title,isCompleted);\n\n        return taskRepository.save(task);\n    }\n\n    @Override\n    public Task updateTask(Long id, String title, boolean isCompleted) {\n        Task task = mapTask(title, isCompleted);\n        task.setId(id);\n        return taskRepository.save(task);\n    }\n\n    @Override\n    public Task getTaskById(Long id) {\n        return  taskRepository.findById(id).get();\n    }\n\n    @Override\n    public void deleteTaskById(Long id) {\n        taskRepository.deleteById(id);\n    }\n\n    private Task mapTask(String title, boolean isCompleted) {\n        Task task = new Task();\n        task.setTitle(title);\n        task.setCompleted(isCompleted);\n        task.setCreationDate(LocalDate.now());\n        return task;\n    }\n}\n</code></pre>\n<p>And HTML pop-up form:</p>\n<pre><code>&lt;div class=&quot;modal fade&quot; id=&quot;exampleModal&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;exampleModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n    &lt;div class=&quot;modal-dialog&quot;&gt;\n        &lt;div class=&quot;modal-content&quot;&gt;\n            &lt;div class=&quot;modal-header&quot;&gt;\n                &lt;h5 class=&quot;modal-title&quot; id=&quot;exampleModalLabel&quot;&gt;Modal title&lt;/h5&gt;\n                &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;modal-body&quot;&gt;\n                &lt;form th:action=&quot;@{/test}&quot; th:method=&quot;POST&quot; th:object=&quot;${task}&quot;&gt;\n                    &lt;input type=&quot;text&quot; th:field=&quot;*{task.title}&quot; placeholder=&quot;Task name&quot;&gt;\n                    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{task.isCompleted}&quot; placeholder=&quot;Done?&quot;&gt;\n                    &lt;input type=&quot;submit&quot; value=&quot;AddTask&quot;&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;modal-footer&quot;&gt;\n                &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>However I got TemplateProcessingExeption when i enter application page</p>\n"},{"tags":["java","android","hotspot","tethering"],"answers":[{"tags":[],"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633513561,"creation_date":1633513561,"answer_id":69463380,"question_id":66156332,"body_markdown":"just this morning I tried that command &quot;ip neigh show&quot; using Termux app on an Android 11 phone and it worked and gave me results of neighbours....","title":"List of connected hotspot devices","body":"<p>just this morning I tried that command &quot;ip neigh show&quot; using Termux app on an Android 11 phone and it worked and gave me results of neighbours....</p>\n"},{"tags":[],"owner":{"account_id":1500469,"reputation":347,"user_id":1405320,"display_name":"mihai71"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659968358,"creation_date":1659968358,"answer_id":73279383,"question_id":66156332,"body_markdown":"Life-saving solution, considering that Android 10 + won&#39;t give you access to &quot;/proc/net/arp&quot; file anymore.\r\nWorking on Android11, Samsung S10 and Samsung M12.\r\n","title":"List of connected hotspot devices","body":"<p>Life-saving solution, considering that Android 10 + won't give you access to &quot;/proc/net/arp&quot; file anymore.\nWorking on Android11, Samsung S10 and Samsung M12.</p>\n"}],"owner":{"account_id":6881895,"reputation":134,"user_id":5288359,"display_name":"Dieter27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1659968358,"creation_date":1613052570,"question_id":66156332,"body_markdown":"I would like to retrieve the IP addresses of all devices connected to the WiFi hotspot of my smartphone.\r\nIn Android 10 and below, I was able to get this list by executing the following piece of code:\r\n\r\n    Runtime runtime = Runtime.getRuntime();\r\n    Process proc = runtime.exec(&quot;ip neigh show&quot;);\r\n    proc.waitFor();\r\n    int exit = proc.exitValue();\r\n    InputStreamReader reader = new InputStreamReader(proc.getInputStream());\r\n    BufferedReader buffer = new BufferedReader(reader);\r\n    String line;\r\n    while ((line = buffer.readLine()) != null) {\r\n         String[] splits = line.split(&quot; &quot;);\r\n         if (splits.length &lt; 4) {\r\n             continue;\r\n         }\r\n         if(!splits[0].contains(&quot;192.168.43.&quot;)) {\r\n             Log.d(&quot;IP&quot;, splits[0]);\r\n             continue;\r\n         }\r\n    }\r\n\r\nHowever, it seems the IP command is no longer working in Android 11 (https://developer.android.com/training/articles/user-data-ids#mac-11-plus)\r\n\r\n    The ip command does not return information about interfaces.\r\n\r\nIs there any other way to obtain the IP address of a connected client in Android 11?\r\n\r\n","title":"List of connected hotspot devices","body":"<p>I would like to retrieve the IP addresses of all devices connected to the WiFi hotspot of my smartphone.\nIn Android 10 and below, I was able to get this list by executing the following piece of code:</p>\n<pre><code>Runtime runtime = Runtime.getRuntime();\nProcess proc = runtime.exec(&quot;ip neigh show&quot;);\nproc.waitFor();\nint exit = proc.exitValue();\nInputStreamReader reader = new InputStreamReader(proc.getInputStream());\nBufferedReader buffer = new BufferedReader(reader);\nString line;\nwhile ((line = buffer.readLine()) != null) {\n     String[] splits = line.split(&quot; &quot;);\n     if (splits.length &lt; 4) {\n         continue;\n     }\n     if(!splits[0].contains(&quot;192.168.43.&quot;)) {\n         Log.d(&quot;IP&quot;, splits[0]);\n         continue;\n     }\n}\n</code></pre>\n<p>However, it seems the IP command is no longer working in Android 11 (<a href=\"https://developer.android.com/training/articles/user-data-ids#mac-11-plus\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/user-data-ids#mac-11-plus</a>)</p>\n<pre><code>The ip command does not return information about interfaces.\n</code></pre>\n<p>Is there any other way to obtain the IP address of a connected client in Android 11?</p>\n"},{"tags":["java","apache-kafka","utf-8","utf8mb4"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659379337,"post_id":73173262,"comment_id":129276076,"body_markdown":"_have a java extractor which extracts data from mongo and put into kafka_ - Why not use [Debezium](https://debezium.io/documentation/reference/stable/connectors/mongodb.html) for this?","body":"<i>have a java extractor which extracts data from mongo and put into kafka</i> - Why not use <a href=\"https://debezium.io/documentation/reference/stable/connectors/mongodb.html\" rel=\"nofollow noreferrer\">Debezium</a> for this?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659446794,"creation_date":1659203365,"answer_id":73177871,"question_id":73173262,"body_markdown":"Since you&#39;re using ByteArraySerializer to preserve the data exactly as written rather than StringSerializer, for example, which defaults to utf8 encoding, then you&#39;re going to potentially get those database control characters, which cannot be displayed as ASCII, so you end up with `&#1113109;` instead. \r\n\r\n&gt; The same message in the target topic is like,\r\n\r\n&gt; &quot;&#1113109;COMPANY&quot;\r\n\r\nUnclear what you&#39;re using to view this data, but perhaps the issue exists in the encoding of that program, not Kafka itself, or your choice of serializer ","title":"UTF8-mb4 in Kafka","body":"<p>Since you're using ByteArraySerializer to preserve the data exactly as written rather than StringSerializer, for example, which defaults to utf8 encoding, then you're going to potentially get those database control characters, which cannot be displayed as ASCII, so you end up with <code></code> instead.</p>\n<blockquote>\n<p>The same message in the target topic is like,</p>\n</blockquote>\n<blockquote>\n<p>&quot;COMPANY&quot;</p>\n</blockquote>\n<p>Unclear what you're using to view this data, but perhaps the issue exists in the encoding of that program, not Kafka itself, or your choice of serializer</p>\n"},{"tags":[],"owner":{"account_id":21489082,"reputation":419,"user_id":15835162,"display_name":"Garikina Rajesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659968297,"creation_date":1659968297,"answer_id":73279371,"question_id":73173262,"body_markdown":"You can try other serializers.\r\nI think this would be useful[mongodb][1]\r\n\r\n\r\n  [1]: https://www.mongodb.com/community/forums/t/control-characters-at-the-beginning-of-kafka-value/8988/3","title":"UTF8-mb4 in Kafka","body":"<p>You can try other serializers.\nI think this would be useful<a href=\"https://www.mongodb.com/community/forums/t/control-characters-at-the-beginning-of-kafka-value/8988/3\" rel=\"nofollow noreferrer\">mongodb</a></p>\n"}],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1659968297,"creation_date":1659161271,"question_id":73173262,"body_markdown":"I have a UTF8-mb4 char in mongo and have a java extractor which extracts data from mongo and put into kafka. When the data goes to Kafka the special char has been replaced with \\u...\r\n \r\n    Sample text:- &quot;\\uDBFF\\uDC15COMPANY&quot;\r\n\r\nI have another Java program which reads from one kafka topic and put it into another kafka topic after some operation. When the data is read from the actual topic, the \\u... is been decoded to an actual special char and when the data is pushed to the target topic, it is is like some junk char. How to put the data back to the target topic as \\u ...\r\n\r\nThe same message in the target topic is like,\r\n\r\n&gt; &quot;&#1113109;COMPANY&quot;\r\n\r\n**Note:-**\r\n\r\nThe message has lots of data(JSON data) and there could be a special char in any json value.\r\n\r\nWhile reading from the source topic,\r\n\r\nFor consumer to consume from the source topic,\r\n\r\n \r\n\r\n    key.deserializer = &quot;org.apache.kafka.common.serialization.ByteArrayDeserializer&quot;\r\n    value.deserializer = &quot;org.apache.kafka.common.serialization.ByteArrayDeserializer&quot;\r\n\r\nFor produce to produce in the target topic,\r\n\r\n    key.serializer = &quot;org.apache.kafka.common.serialization.ByteArraySerializer&quot;\r\n    value.serializer = &quot;org.apache.kafka.common.serialization.ByteArraySerializer&quot;\r\n\r\n","title":"UTF8-mb4 in Kafka","body":"<p>I have a UTF8-mb4 char in mongo and have a java extractor which extracts data from mongo and put into kafka. When the data goes to Kafka the special char has been replaced with \\u...</p>\n<pre><code>Sample text:- &quot;\\uDBFF\\uDC15COMPANY&quot;\n</code></pre>\n<p>I have another Java program which reads from one kafka topic and put it into another kafka topic after some operation. When the data is read from the actual topic, the \\u... is been decoded to an actual special char and when the data is pushed to the target topic, it is is like some junk char. How to put the data back to the target topic as \\u ...</p>\n<p>The same message in the target topic is like,</p>\n<blockquote>\n<p>&quot;COMPANY&quot;</p>\n</blockquote>\n<p><strong>Note:-</strong></p>\n<p>The message has lots of data(JSON data) and there could be a special char in any json value.</p>\n<p>While reading from the source topic,</p>\n<p>For consumer to consume from the source topic,</p>\n<pre><code>key.deserializer = &quot;org.apache.kafka.common.serialization.ByteArrayDeserializer&quot;\nvalue.deserializer = &quot;org.apache.kafka.common.serialization.ByteArrayDeserializer&quot;\n</code></pre>\n<p>For produce to produce in the target topic,</p>\n<pre><code>key.serializer = &quot;org.apache.kafka.common.serialization.ByteArraySerializer&quot;\nvalue.serializer = &quot;org.apache.kafka.common.serialization.ByteArraySerializer&quot;\n</code></pre>\n"},{"tags":["java","jenkins","jenkins-pipeline","jenkins-plugins"],"answers":[{"tags":[],"owner":{"account_id":15253172,"reputation":155,"user_id":11005875,"display_name":"Quentin Genet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659968293,"creation_date":1659617940,"answer_id":73236406,"question_id":73236070,"body_markdown":"I think there is maybe a mistake in your initial PATH.\r\nLogin to your account and open `.bash_profile` file in your `/home`. You can use vi or nano to edit it from your terminal...\r\n\r\n     nano ~/.bash_profile\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-2.el8_6.x86_64\r\n\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\nDon&#39;t forget to update your current user sesssion from a terminal to activate the new path settings : `source ~/.bash_profile` \r\n","title":"Jenkins Java_Home path doesnt look like a JDK directory","body":"<p>I think there is maybe a mistake in your initial PATH.\nLogin to your account and open <code>.bash_profile</code> file in your <code>/home</code>. You can use vi or nano to edit it from your terminal...</p>\n<pre><code> nano ~/.bash_profile\n\nexport JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-2.el8_6.x86_64\n\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<p>Don't forget to update your current user sesssion from a terminal to activate the new path settings : <code>source ~/.bash_profile</code></p>\n"}],"owner":{"account_id":7086132,"reputation":57,"user_id":5422898,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73236406,"answer_count":1,"score":2,"last_activity_date":1659968293,"creation_date":1659616649,"question_id":73236070,"body_markdown":"I have configured Jenkins on AWS RHEL-8.6 EC2 instance. Also setup the java path variable in \r\nbash profile. I am getting below error while configuring JDK path in Jenkins.\r\n\r\n    /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-2.el8_6.x86_64 doesnt look like a JDK directory\r\n    JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-2.el8_6.x86_64\r\n    PATH=$PATH:$JAVA_HOME:$HOME/bin\r\n    [root@ip-172-31-0-152 ~]# find /usr/lib/jvm/java-1.8* |head -n 20\r\n    /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-2.el8_6.x86_64\r\n","title":"Jenkins Java_Home path doesnt look like a JDK directory","body":"<p>I have configured Jenkins on AWS RHEL-8.6 EC2 instance. Also setup the java path variable in\nbash profile. I am getting below error while configuring JDK path in Jenkins.</p>\n<pre><code>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-2.el8_6.x86_64 doesnt look like a JDK directory\nJAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-2.el8_6.x86_64\nPATH=$PATH:$JAVA_HOME:$HOME/bin\n[root@ip-172-31-0-152 ~]# find /usr/lib/jvm/java-1.8* |head -n 20\n/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-2.el8_6.x86_64\n</code></pre>\n"},{"tags":["java","eclipse","file-io"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1659967047,"post_id":73279009,"comment_id":129414194,"body_markdown":"Does this answer your question? [How to append text to an existing file in Java?](https://stackoverflow.com/questions/1625234/how-to-append-text-to-an-existing-file-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1625234/how-to-append-text-to-an-existing-file-in-java\">How to append text to an existing file in Java?</a>"},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":0,"creation_date":1659967738,"post_id":73279009,"comment_id":129414469,"body_markdown":"Note: I guess no need of `if(firstPassword != secondPassword)`","body":"Note: I guess no need of <code>if(firstPassword != secondPassword)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659967492,"creation_date":1659967492,"answer_id":73279168,"question_id":73279009,"body_markdown":"Your programs works well. The only change is this.&lt;br&gt;\r\nYou should use this constructor. Just add `true` as the last parameter\r\n\r\n    FileWriter myWriter = new FileWriter(&quot;Passwords.txt&quot;, true);\r\n\r\n\r\nHere&#39;s the description\r\n\r\n    /**\r\n     * Constructs a FileWriter object given a file name with a boolean\r\n     * indicating whether or not to append the data written.\r\n     *\r\n     * @param fileName  String The system-dependent filename.\r\n     * @param append    boolean if &lt;code&gt;true&lt;/code&gt;, then data will be written\r\n     *                  to the end of the file rather than the beginning.\r\n     * @throws IOException  if the named file exists but is a directory rather\r\n     *                  than a regular file, does not exist but cannot be\r\n     *                  created, or cannot be opened for any other reason\r\n     */\r\n    public FileWriter(String fileName, boolean append) throws IOException {\r\n        super(new FileOutputStream(fileName, append));\r\n    }","title":"How do I add text from a string to a pre-existing txt file?","body":"<p>Your programs works well. The only change is this.<br>\nYou should use this constructor. Just add <code>true</code> as the last parameter</p>\n<pre><code>FileWriter myWriter = new FileWriter(&quot;Passwords.txt&quot;, true);\n</code></pre>\n<p>Here's the description</p>\n<pre><code>/**\n * Constructs a FileWriter object given a file name with a boolean\n * indicating whether or not to append the data written.\n *\n * @param fileName  String The system-dependent filename.\n * @param append    boolean if &lt;code&gt;true&lt;/code&gt;, then data will be written\n *                  to the end of the file rather than the beginning.\n * @throws IOException  if the named file exists but is a directory rather\n *                  than a regular file, does not exist but cannot be\n *                  created, or cannot be opened for any other reason\n */\npublic FileWriter(String fileName, boolean append) throws IOException {\n    super(new FileOutputStream(fileName, append));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26009624,"reputation":1,"user_id":19718903,"display_name":"sitaram v"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659967974,"creation_date":1659967974,"answer_id":73279290,"question_id":73279009,"body_markdown":"**public FileWriter(String fileName, boolean append)** should work for you.","title":"How do I add text from a string to a pre-existing txt file?","body":"<p><strong>public FileWriter(String fileName, boolean append)</strong> should work for you.</p>\n"}],"owner":{"account_id":24743156,"reputation":43,"user_id":18629654,"display_name":"CoderInNeed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73279168,"answer_count":2,"score":-1,"last_activity_date":1659967974,"creation_date":1659966791,"question_id":73279009,"body_markdown":"I am writing a Java program that is a password authenticator. The user enters a password and then is asked to confirm the password by re-entering it. If the second password matches the first the password will be confirmed and set to the password variable. But if the passwords don&#39;t match then the second password entered should be recorded and logged in a pre-existing txt file. As well as this the loop will start again and the user will be asked to re-enter their passwords and confirm them.\r\n\r\nI have tried creating a file and then writing to it in the else if condition, however then that means the each time the user enters a wrong password the txt file is created again and only the last entered password is recorded instead of the entire list of wrong passwords that were entered.\r\n\r\n\r\nHere is my code below. \r\n\r\n```\r\npackage passwordAuthenticator.java;\r\n\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\nimport java.util.Formatter;\r\n\r\npublic class passwordAuthenticator {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tString password;\r\n\t\t\r\n\t\ttry {\r\n\t\t      File myObj = new File(&quot;Passwords.txt&quot;);\r\n\t\t      if (myObj.createNewFile()) {\r\n\t\t        System.out.println(&quot;File created: &quot; + myObj.getName());\r\n\t\t      } else {\r\n\t\t        System.out.println(&quot;File already exists.&quot;);\r\n\t\t      }\r\n\t\t    } catch (IOException e) {\r\n\t\t      System.out.println(&quot;An error occurred.&quot;);\r\n\t\t      e.printStackTrace();\r\n\t\t    }\r\n\t\t\r\n\r\n\t\twhile(true){\r\n\t\t\tSystem.out.println(&quot;Please enter password: &quot;);\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tString firstPassword = sc.nextLine();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Please confirm password: &quot;);\r\n\t\t\tScanner sc1 = new Scanner(System.in);\r\n\t\t\tString secondPassword = sc.nextLine();\r\n\t\t\t\r\n\t\t        if(firstPassword.equals(secondPassword)) {\r\n\t\t            System.out.println(&quot;Password confirmed.&quot;);\r\n\t\t            password = secondPassword;\r\n\t\t            break;\r\n\t\t        } else if(firstPassword != secondPassword) {\r\n\t\t        \ttry {\r\n\t\t        \t\t  FileWriter myWriter = new FileWriter(&quot;Passwords.txt&quot;);\r\n\t\t        \t      myWriter.write(secondPassword);\r\n\t\t        \t      myWriter.close();\r\n\t\t        \t    } catch (IOException e) {\r\n\t\t        \t      System.out.println(&quot;An error occurred.&quot;);\r\n\t\t        \t      e.printStackTrace();\r\n\t\t        \t    }\r\n\t\t        \tSystem.out.println(&quot;\\nPasswords are not a match. Retry!\\n&quot;);\r\n\t\t        }\r\n\t\t            \r\n\t\t    }\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThank you for your time looking at this with me.\r\n ","title":"How do I add text from a string to a pre-existing txt file?","body":"<p>I am writing a Java program that is a password authenticator. The user enters a password and then is asked to confirm the password by re-entering it. If the second password matches the first the password will be confirmed and set to the password variable. But if the passwords don't match then the second password entered should be recorded and logged in a pre-existing txt file. As well as this the loop will start again and the user will be asked to re-enter their passwords and confirm them.</p>\n<p>I have tried creating a file and then writing to it in the else if condition, however then that means the each time the user enters a wrong password the txt file is created again and only the last entered password is recorded instead of the entire list of wrong passwords that were entered.</p>\n<p>Here is my code below.</p>\n<pre><code>package passwordAuthenticator.java;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Scanner;\nimport java.util.Formatter;\n\npublic class passwordAuthenticator {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        String password;\n        \n        try {\n              File myObj = new File(&quot;Passwords.txt&quot;);\n              if (myObj.createNewFile()) {\n                System.out.println(&quot;File created: &quot; + myObj.getName());\n              } else {\n                System.out.println(&quot;File already exists.&quot;);\n              }\n            } catch (IOException e) {\n              System.out.println(&quot;An error occurred.&quot;);\n              e.printStackTrace();\n            }\n        \n\n        while(true){\n            System.out.println(&quot;Please enter password: &quot;);\n            Scanner sc = new Scanner(System.in);\n            String firstPassword = sc.nextLine();\n            \n            System.out.println(&quot;Please confirm password: &quot;);\n            Scanner sc1 = new Scanner(System.in);\n            String secondPassword = sc.nextLine();\n            \n                if(firstPassword.equals(secondPassword)) {\n                    System.out.println(&quot;Password confirmed.&quot;);\n                    password = secondPassword;\n                    break;\n                } else if(firstPassword != secondPassword) {\n                    try {\n                          FileWriter myWriter = new FileWriter(&quot;Passwords.txt&quot;);\n                          myWriter.write(secondPassword);\n                          myWriter.close();\n                        } catch (IOException e) {\n                          System.out.println(&quot;An error occurred.&quot;);\n                          e.printStackTrace();\n                        }\n                    System.out.println(&quot;\\nPasswords are not a match. Retry!\\n&quot;);\n                }\n                    \n            }\n            \n        }\n    }\n</code></pre>\n<p>Thank you for your time looking at this with me.</p>\n"},{"tags":["java","file","save","polygon"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654580939,"post_id":72509511,"comment_id":128117900,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3297248,"reputation":666,"user_id":2774232,"accept_rate":95,"display_name":"corneliu"},"score":0,"creation_date":1659972419,"post_id":72509511,"comment_id":129416465,"body_markdown":"Your IDE seems unable to find those classes. If they come from a library, make sure you link it to your project.","body":"Your IDE seems unable to find those classes. If they come from a library, make sure you link it to your project."}],"owner":{"account_id":25418479,"reputation":1,"user_id":19224940,"display_name":"alon facebo0k1wallacoil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659967952,"creation_date":1654449346,"question_id":72509511,"body_markdown":"so im trying to save the paint of my polygon shapes and got this constructor error. Are there suppose to be any values in them? \r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hvRI3.png","title":"How to read the file to my polygon shapes","body":"<p>so im trying to save the paint of my polygon shapes and got this constructor error. Are there suppose to be any values in them?</p>\n<p><a href=\"https://i.stack.imgur.com/hvRI3.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","libgdx","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":10790216,"reputation":1,"user_id":8239642,"display_name":"pj5772"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659967952,"creation_date":1659967952,"answer_id":73279284,"question_id":38768739,"body_markdown":"Looks like [http://libgdx.badlogicgames.com](http://libgdx.badlogicgames.com) is down. After some search online it looks like the new url is [http://libgdx.com](http://libgdx.com). The line above can be changed to the following. \r\n\r\n    ant.get(src: &#39;http://libgdx.com/service/versions.json&#39;, dest: &#39;versions.json&#39;)","title":"LibGDX: Unable to find valid certification path to requested target","body":"<p>Looks like <a href=\"http://libgdx.badlogicgames.com\" rel=\"nofollow noreferrer\">http://libgdx.badlogicgames.com</a> is down. After some search online it looks like the new url is <a href=\"http://libgdx.com\" rel=\"nofollow noreferrer\">http://libgdx.com</a>. The line above can be changed to the following.</p>\n<pre><code>ant.get(src: 'http://libgdx.com/service/versions.json', dest: 'versions.json')\n</code></pre>\n"}],"owner":{"account_id":3046172,"reputation":1190,"user_id":2581760,"accept_rate":74,"display_name":"csnewb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659967952,"creation_date":1470317357,"question_id":38768739,"body_markdown":"All of a sudden I got an error in Android Studio using LibGDX and Intel MOE for multi OS mobile development. I&#180;ve done the sample `LibGDXMiddileCommand` multiple times before, without any problem. Now, an error comes up with this message: `&quot;Cause: unable to find valid certification path to requested target&quot;`. It is pointing to this line: \r\n\r\n    ant.get(src: &#39;http://libgdx.badlogicgames.com/libgdx-site/service/getVersions?release=false&#39;, dest: &#39;versions.json&#39;)\r\n\r\nHowever, the given URL works fine in the browser. \r\n\r\nIn addition, something is wrong in the same gradle script. There are problems to import groovy.json.JsonSlurper.\r\n\r\nI haven&#39;t changed anything in my machine, neither in Java nor in any other configurations. Just left my Machine like it is for about 1 month.\r\n\r\nI am using Mac OS El Capitan 10.11.5 with Java 8.   ","title":"LibGDX: Unable to find valid certification path to requested target","body":"<p>All of a sudden I got an error in Android Studio using LibGDX and Intel MOE for multi OS mobile development. Ive done the sample <code>LibGDXMiddileCommand</code> multiple times before, without any problem. Now, an error comes up with this message: <code>\"Cause: unable to find valid certification path to requested target\"</code>. It is pointing to this line: </p>\n\n<pre><code>ant.get(src: 'http://libgdx.badlogicgames.com/libgdx-site/service/getVersions?release=false', dest: 'versions.json')\n</code></pre>\n\n<p>However, the given URL works fine in the browser. </p>\n\n<p>In addition, something is wrong in the same gradle script. There are problems to import groovy.json.JsonSlurper.</p>\n\n<p>I haven't changed anything in my machine, neither in Java nor in any other configurations. Just left my Machine like it is for about 1 month.</p>\n\n<p>I am using Mac OS El Capitan 10.11.5 with Java 8.   </p>\n"},{"tags":["java","android","broadcastreceiver","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":1353734,"reputation":5840,"user_id":1292557,"accept_rate":65,"display_name":"Abu Yousuf"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1578973052,"creation_date":1511233250,"answer_id":47404489,"question_id":47404018,"body_markdown":"&gt;  I am wondering how this can be achieved\r\n\r\nTo achieve multiple BLE connection you have to store multiple `BluetoothGatt` object and use those object for different device. To store multiple connection object of `BluetoothGatt` you can use `Map&lt;&gt;` \r\n\r\n    private Map&lt;String, BluetoothGatt&gt; connectedDeviceMap; \r\n\r\nOn Service `onCreate` initialize the `Map` \r\n\r\n    connectedDeviceMap = new HashMap&lt;String, BluetoothGatt&gt;();\r\n\r\nThen before calling `device.connectGatt(this, false, mGattCallbacks);` to connect to **GATT Server** check that device is already connected.\r\n\r\n      BluetoothDevice device = mBluetoothAdapter.getRemoteDevice(deviceAddress);\r\n      int connectionState = mBluetoothManager.getConnectionState(device, BluetoothProfile.GATT);\r\n\r\n      if(connectionState == BluetoothProfile.STATE_DISCONNECTED ){\r\n       // connect your device\r\n       device.connectGatt(this, false, mGattCallbacks);\r\n      }else if( connectionState == BluetoothProfile.STATE_CONNECTED ){\r\n       // already connected . send Broadcast if needed\r\n      }\r\n       \r\n       \r\nOn `BluetoothGattCallback` if connection state is **CONNECTED** then store `BluetoothGatt` object on `Map` and if connection state is **DISCONNECTED** then remove it form `Map`\r\n\r\n            @Override\r\n        public void onConnectionStateChange(BluetoothGatt gatt, int status,\r\n                int newState) {\r\n            \r\n            BluetoothDevice device = gatt.getDevice();\r\n            String address = device.getAddress();\r\n\r\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\r\n\r\n                Log.i(TAG, &quot;Connected to GATT server.&quot;);\r\n\r\n                if (!connectedDeviceMap.containsKey(address)) {\r\n                      connectedDeviceMap.put(address, gatt);\r\n                  }\r\n                 // Broadcast if needed\r\n                Log.i(TAG, &quot;Attempting to start service discovery:&quot; +\r\n                        gatt.discoverServices());\r\n\r\n            } else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\r\n                Log.i(TAG, &quot;Disconnected from GATT server.&quot;);\r\n                if (connectedDeviceMap.containsKey(address)){\r\n                  BluetoothGatt bluetoothGatt = connectedDeviceMap.get(address);\r\n                  if( bluetoothGatt != null ){\r\n                       bluetoothGatt.close();\r\n                       bluetoothGatt = null;\r\n                  } \r\n                  connectedDeviceMap.remove(address);                \r\n                }\r\n                // Broadcast if needed\r\n            }\r\n        }\r\n\r\nSimilarly `onServicesDiscovered(BluetoothGatt gatt, int status)` method you have `BluetoothGatt` connection object on parameter and you can get device from that `BluetoothGatt`. And other callback method like ` public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic)` you will get the device form `gatt` . \r\n\r\nWhen you need to **writeCharacteristic** or **writeDescriptor**, get `BluetoothGatt` object from `Map` and use that `BluetoothGatt` object to call `gatt.writeCharacteristic(characteristic)` `gatt.writeDescriptor(descriptor)` for different connection.\r\n\r\n&gt; Do I need a separate thread for each connection?\r\n\r\nI think you don&#39;t need to use separate **Thread** for each connection. Just run the `Service` on a Background Thread. \r\n\r\n \r\n\r\nHope this help you.  \r\n","title":"Android BLE multiple connections","body":"<blockquote>\n  <p>I am wondering how this can be achieved</p>\n</blockquote>\n\n<p>To achieve multiple BLE connection you have to store multiple <code>BluetoothGatt</code> object and use those object for different device. To store multiple connection object of <code>BluetoothGatt</code> you can use <code>Map&lt;&gt;</code> </p>\n\n<pre><code>private Map&lt;String, BluetoothGatt&gt; connectedDeviceMap; \n</code></pre>\n\n<p>On Service <code>onCreate</code> initialize the <code>Map</code> </p>\n\n<pre><code>connectedDeviceMap = new HashMap&lt;String, BluetoothGatt&gt;();\n</code></pre>\n\n<p>Then before calling <code>device.connectGatt(this, false, mGattCallbacks);</code> to connect to <strong>GATT Server</strong> check that device is already connected.</p>\n\n<pre><code>  BluetoothDevice device = mBluetoothAdapter.getRemoteDevice(deviceAddress);\n  int connectionState = mBluetoothManager.getConnectionState(device, BluetoothProfile.GATT);\n\n  if(connectionState == BluetoothProfile.STATE_DISCONNECTED ){\n   // connect your device\n   device.connectGatt(this, false, mGattCallbacks);\n  }else if( connectionState == BluetoothProfile.STATE_CONNECTED ){\n   // already connected . send Broadcast if needed\n  }\n</code></pre>\n\n<p>On <code>BluetoothGattCallback</code> if connection state is <strong>CONNECTED</strong> then store <code>BluetoothGatt</code> object on <code>Map</code> and if connection state is <strong>DISCONNECTED</strong> then remove it form <code>Map</code></p>\n\n<pre><code>        @Override\n    public void onConnectionStateChange(BluetoothGatt gatt, int status,\n            int newState) {\n\n        BluetoothDevice device = gatt.getDevice();\n        String address = device.getAddress();\n\n        if (newState == BluetoothProfile.STATE_CONNECTED) {\n\n            Log.i(TAG, \"Connected to GATT server.\");\n\n            if (!connectedDeviceMap.containsKey(address)) {\n                  connectedDeviceMap.put(address, gatt);\n              }\n             // Broadcast if needed\n            Log.i(TAG, \"Attempting to start service discovery:\" +\n                    gatt.discoverServices());\n\n        } else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\n            Log.i(TAG, \"Disconnected from GATT server.\");\n            if (connectedDeviceMap.containsKey(address)){\n              BluetoothGatt bluetoothGatt = connectedDeviceMap.get(address);\n              if( bluetoothGatt != null ){\n                   bluetoothGatt.close();\n                   bluetoothGatt = null;\n              } \n              connectedDeviceMap.remove(address);                \n            }\n            // Broadcast if needed\n        }\n    }\n</code></pre>\n\n<p>Similarly <code>onServicesDiscovered(BluetoothGatt gatt, int status)</code> method you have <code>BluetoothGatt</code> connection object on parameter and you can get device from that <code>BluetoothGatt</code>. And other callback method like <code>public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic)</code> you will get the device form <code>gatt</code> . </p>\n\n<p>When you need to <strong>writeCharacteristic</strong> or <strong>writeDescriptor</strong>, get <code>BluetoothGatt</code> object from <code>Map</code> and use that <code>BluetoothGatt</code> object to call <code>gatt.writeCharacteristic(characteristic)</code> <code>gatt.writeDescriptor(descriptor)</code> for different connection.</p>\n\n<blockquote>\n  <p>Do I need a separate thread for each connection?</p>\n</blockquote>\n\n<p>I think you don't need to use separate <strong>Thread</strong> for each connection. Just run the <code>Service</code> on a Background Thread. </p>\n\n<p>Hope this help you.  </p>\n"},{"tags":[],"owner":{"account_id":10250845,"reputation":31,"user_id":7565148,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557473949,"creation_date":1557473949,"answer_id":56072886,"question_id":47404018,"body_markdown":"Abu Yousuf&#39;s answer really helped me, also because I couldn&#39;t find anything similiar on the Internet.\r\nI&#39;d like to add one thing I struggled with: Better **not** save your BluetoothGattCharacteristic in a global variable because it is unique and different for every connected device.\r\nSo rather retrieve it in every action, e.g. when you want to write a new value:\r\n\r\n    BluetoothGatt gatt = connectedDeviceMap.get(address);\r\n    BluetoothGattCharacteristic localChar = gatt.getService(SERVICE_UUID).getCharacteristic(CHAR_UUID);\r\n    localChar.setValue(value);\r\n    gatt.writeCharacteristic(localChar);","title":"Android BLE multiple connections","body":"<p>Abu Yousuf's answer really helped me, also because I couldn't find anything similiar on the Internet.\nI'd like to add one thing I struggled with: Better <strong>not</strong> save your BluetoothGattCharacteristic in a global variable because it is unique and different for every connected device.\nSo rather retrieve it in every action, e.g. when you want to write a new value:</p>\n\n<pre><code>BluetoothGatt gatt = connectedDeviceMap.get(address);\nBluetoothGattCharacteristic localChar = gatt.getService(SERVICE_UUID).getCharacteristic(CHAR_UUID);\nlocalChar.setValue(value);\ngatt.writeCharacteristic(localChar);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19047160,"reputation":342,"user_id":13906110,"display_name":"SHANNAX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659967894,"creation_date":1659967894,"answer_id":73279265,"question_id":47404018,"body_markdown":"\r\nI saw [the answer][1] from the Gatt Client (Central) side. But the solution to this problem is even easier if you&#39;re on the peripheral side and need to connect multiple central. \r\n\r\nJust retain their addresses in a `arrayListOf` as mentioned below:\r\n```\r\nvar connectedDevices = arrayListOf&lt;BluetoothDevice&gt;()\r\n```\r\n\r\nand when notifying about changes of characteristics (sending), just point out to the particular device you want to send it to:\r\n```\r\nfun send(content: String, deviceIndex: Int) {\r\n    characteristic.setValue(content)\r\n    Log.i(&quot;NOTIFY&quot;,\r\n        &quot;notifyCharacteristicChanged called: ${\r\n        gattServer.notifyCharacteristicChanged(connectedDevicesArray[deviceIndex], \r\n            characteristics, \r\n            true)}&quot;)\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/47404489/13906110","title":"Android BLE multiple connections","body":"<p>I saw <a href=\"https://stackoverflow.com/a/47404489/13906110\">the answer</a> from the Gatt Client (Central) side. But the solution to this problem is even easier if you're on the peripheral side and need to connect multiple central.</p>\n<p>Just retain their addresses in a <code>arrayListOf</code> as mentioned below:</p>\n<pre><code>var connectedDevices = arrayListOf&lt;BluetoothDevice&gt;()\n</code></pre>\n<p>and when notifying about changes of characteristics (sending), just point out to the particular device you want to send it to:</p>\n<pre><code>fun send(content: String, deviceIndex: Int) {\n    characteristic.setValue(content)\n    Log.i(&quot;NOTIFY&quot;,\n        &quot;notifyCharacteristicChanged called: ${\n        gattServer.notifyCharacteristicChanged(connectedDevicesArray[deviceIndex], \n            characteristics, \n            true)}&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":5147181,"reputation":140,"user_id":4122831,"display_name":"IceManStan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10634,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":47404489,"answer_count":3,"score":9,"last_activity_date":1659967894,"creation_date":1511229390,"question_id":47404018,"body_markdown":"I am trying to create an application that connects and receives notifications from multiple bluetooth low energy devices. I am wondering how this can be achieved. Do I need a separate thread for each connection? How can I make sure the services get discovered and notifications get set in an order that works given the asynchronous nature of the API. I am currently using the same structure provided here:\r\nhttps://developer.android.com/guide/topics/connectivity/bluetooth-le.html. This is setup for a single connection only. Would I be able to keep this structure i.e. extending the Service class in the BluetoothLeService class and binding to the service. I have recently discovered that The Service class is a singleton so how would I go about creating different instances of my BluetootLeService class and receiving broadcast and registering the Broadcast Receiver/Receivers to handle changes from the appropriate devices. \r\n","title":"Android BLE multiple connections","body":"<p>I am trying to create an application that connects and receives notifications from multiple bluetooth low energy devices. I am wondering how this can be achieved. Do I need a separate thread for each connection? How can I make sure the services get discovered and notifications get set in an order that works given the asynchronous nature of the API. I am currently using the same structure provided here:\n<a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth-le.html\" rel=\"noreferrer\">https://developer.android.com/guide/topics/connectivity/bluetooth-le.html</a>. This is setup for a single connection only. Would I be able to keep this structure i.e. extending the Service class in the BluetoothLeService class and binding to the service. I have recently discovered that The Service class is a singleton so how would I go about creating different instances of my BluetootLeService class and receiving broadcast and registering the Broadcast Receiver/Receivers to handle changes from the appropriate devices. </p>\n"},{"tags":["java","java-stream","collectors","groupingby"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1659964257,"post_id":73277649,"comment_id":129413098,"body_markdown":"Note: if you want to find which teams belong to a *particular* league, then you could simply use `list.stream().filter(team -&gt; Objects.equals(team.getLeague(), yourParticularLeague)).map(FootBallTeam::getName).toList()`.","body":"Note: if you want to find which teams belong to a <i>particular</i> league, then you could simply use <code>list.stream().filter(team -&gt; Objects.equals(team.getLeague(), yourParticularLeague)).map(FootBallTeam::getName).toList()</code>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659960977,"creation_date":1659960977,"answer_id":73277750,"question_id":73277649,"body_markdown":"&gt; I just want the names of FootTeams i.e. `FootBallTeam.name`\r\n\r\nYou need to apply additional *collector* [`mapping()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)) as a *downstream collector* of `groupingBy()`\r\n\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; teamNamesByLeague = list.stream()\r\n    .collect(Collectors.groupingBy(\r\n        FootBallTeam::getLeague,\r\n        Collectors.mapping(FootBallTeam::getName,\r\n            Collectors.toList())\r\n    ));\r\n```","title":"Collectors.groupingBy - collecting to list of some property of Object instead of list of Object itself","body":"<blockquote>\n<p>I just want the names of FootTeams i.e. <code>FootBallTeam.name</code></p>\n</blockquote>\n<p>You need to apply additional <em>collector</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>mapping()</code></a> as a <em>downstream collector</em> of <code>groupingBy()</code></p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; teamNamesByLeague = list.stream()\n    .collect(Collectors.groupingBy(\n        FootBallTeam::getLeague,\n        Collectors.mapping(FootBallTeam::getName,\n            Collectors.toList())\n    ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659961060,"creation_date":1659961060,"answer_id":73277771,"question_id":73277649,"body_markdown":"Use `Collectors.mapping:`\r\n\r\n \r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; total = footBallTeamList\r\n                    .stream()\r\n                    .collect(Collectors.groupingBy(\r\n                            FootBallTeam::getLeague,\r\n                            Collectors.mapping(FootBallTeam::getName, Collectors.toList())));;","title":"Collectors.groupingBy - collecting to list of some property of Object instead of list of Object itself","body":"<p>Use <code>Collectors.mapping:</code></p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; total = footBallTeamList\n                .stream()\n                .collect(Collectors.groupingBy(\n                        FootBallTeam::getLeague,\n                        Collectors.mapping(FootBallTeam::getName, Collectors.toList())));;\n</code></pre>\n"}],"owner":{"account_id":25591139,"reputation":75,"user_id":19367829,"display_name":"Save Soil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1659964197,"accepted_answer_id":73277750,"answer_count":2,"score":2,"last_activity_date":1659967531,"creation_date":1659960569,"question_id":73277649,"body_markdown":"Lets say I have a class\r\n\r\n```java\r\npublic class FootBallTeam {\r\n    private String name; // team name\r\n    private String league;\r\n\r\n    //getters, setters, etc.\r\n}\r\n```\r\n\r\nI&#39;m trying to group *Teams names* according to their *League*.   \r\nFor example:\r\n\r\n```lang-none\r\nLeague A -&gt; [nameOfTeam2, nameOfTeam5]\r\nLeague B -&gt; [nameOfTeam1, nameOfTeam3, nameOfTeam4]\r\n```\r\n\r\nWith below code I am getting `Map&lt;String, List&lt;FootBallTeam&gt;&gt;` which is pointing to list of team objects `List&lt;FootBallTeam&gt;`.  \r\n\r\n```java\r\nMap&lt;String, List&lt;FootBallTeam&gt;&gt; teamsGroupedByLeague = list\r\n    .stream()\r\n    .collect(Collectors.groupingBy(FootBallTeam::getLeague));\r\n```\r\n\r\nInstead I just want the names of FootBallTeams i.e. FootBallTeam.name.  \r\nIn other words `Map&lt;String, List&lt;String&gt;&gt;` where `List&lt;String&gt;` holds *teams names* .\r\n\r\nHow to achieve that?","title":"Collectors.groupingBy - collecting to list of some property of Object instead of list of Object itself","body":"<p>Lets say I have a class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FootBallTeam {\n    private String name; // team name\n    private String league;\n\n    //getters, setters, etc.\n}\n</code></pre>\n<p>I'm trying to group <em>Teams names</em> according to their <em>League</em>.<br />\nFor example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>League A -&gt; [nameOfTeam2, nameOfTeam5]\nLeague B -&gt; [nameOfTeam1, nameOfTeam3, nameOfTeam4]\n</code></pre>\n<p>With below code I am getting <code>Map&lt;String, List&lt;FootBallTeam&gt;&gt;</code> which is pointing to list of team objects <code>List&lt;FootBallTeam&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;FootBallTeam&gt;&gt; teamsGroupedByLeague = list\n    .stream()\n    .collect(Collectors.groupingBy(FootBallTeam::getLeague));\n</code></pre>\n<p>Instead I just want the names of FootBallTeams i.e. FootBallTeam.name.<br />\nIn other words <code>Map&lt;String, List&lt;String&gt;&gt;</code> where <code>List&lt;String&gt;</code> holds <em>teams names</em> .</p>\n<p>How to achieve that?</p>\n"},{"tags":["java","web-services","wsdl","apache-axis","axis"],"answers":[{"tags":[],"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1337739497,"creation_date":1337739497,"answer_id":10712641,"question_id":10712099,"body_markdown":"Axis 2 was a ***significant*** rewrite of the framework. There is no real shortcut around the upgrade, you will need to deal with it or remain on Axis 1 (as some people actually decided to do).  The [official migration guide](http://axis.apache.org/axis2/java/core/docs/migration.html) provides some helpful tips, though it does not detail everything you will need to know in order to successfully complete the migration.\r\n\r\nSince you will be going through the pains of an upgrade, I would be remiss if I didn&#39;t suggest you take a look at [Apache CXF](http://cxf.apache.org/). It is a more modern web service framework, with support for JAX-WS ***and*** JAX-RS. And if you do contract first development then your clients will not have to be upgraded (just the server implementation side).","title":"Migrating from Axis to Axis2","body":"<p>Axis 2 was a <strong><em>significant</em></strong> rewrite of the framework. There is no real shortcut around the upgrade, you will need to deal with it or remain on Axis 1 (as some people actually decided to do).  The <a href=\"http://axis.apache.org/axis2/java/core/docs/migration.html\" rel=\"nofollow\">official migration guide</a> provides some helpful tips, though it does not detail everything you will need to know in order to successfully complete the migration.</p>\n\n<p>Since you will be going through the pains of an upgrade, I would be remiss if I didn't suggest you take a look at <a href=\"http://cxf.apache.org/\" rel=\"nofollow\">Apache CXF</a>. It is a more modern web service framework, with support for JAX-WS <strong><em>and</em></strong> JAX-RS. And if you do contract first development then your clients will not have to be upgraded (just the server implementation side).</p>\n"}],"owner":{"account_id":1501691,"reputation":115,"user_id":1406126,"accept_rate":50,"display_name":"user1406126"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8868,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10712641,"answer_count":1,"score":5,"last_activity_date":1659967184,"creation_date":1337734303,"question_id":10712099,"body_markdown":"I need help migrating an Axis project to Axis2. \r\n\r\nI&#39;m working on an older Axis project, and some of the Java classes were generated from WSDL using the older WSDL2Java tool. \r\nThe problem now is, Java sees that as an error, since I have the latest Axis2 version 1.6. \r\n\r\nI&#39;ve been told to regenerate the Java classes from the the WSDL file using the WSDL2Java tool found in Axis2, however, the classes \r\ngenerated are completely different to the older WSDL2Java. \r\n\r\nHow would I rework my way around this? I don&#39;t feel the project would work if I replace the older classes with the newer. ","title":"Migrating from Axis to Axis2","body":"<p>I need help migrating an Axis project to Axis2. </p>\n\n<p>I'm working on an older Axis project, and some of the Java classes were generated from WSDL using the older WSDL2Java tool. \nThe problem now is, Java sees that as an error, since I have the latest Axis2 version 1.6. </p>\n\n<p>I've been told to regenerate the Java classes from the the WSDL file using the WSDL2Java tool found in Axis2, however, the classes \ngenerated are completely different to the older WSDL2Java. </p>\n\n<p>How would I rework my way around this? I don't feel the project would work if I replace the older classes with the newer. </p>\n"},{"tags":["java","maven","jenkins","maven-deploy-plugin"],"comments":[{"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"score":0,"creation_date":1659966987,"post_id":73279006,"comment_id":129414164,"body_markdown":"You could run maven with `-X` parameter. Maybe you&#39;ll get more information why the step is skipped.","body":"You could run maven with <code>-X</code> parameter. Maybe you&#39;ll get more information why the step is skipped."},{"owner":{"account_id":9094430,"reputation":495,"user_id":6768856,"display_name":"Kivi"},"score":0,"creation_date":1659968428,"post_id":73279006,"comment_id":129414740,"body_markdown":"I have tried that already and I&#39;m getting this - org.eclipse.aether.transfer.ChecksumFailureException: Checksum validation failed, no checksums available","body":"I have tried that already and I&#39;m getting this - org.eclipse.aether.transfer.ChecksumFailureException: Checksum validation failed, no checksums available"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659970778,"post_id":73279006,"comment_id":129415714,"body_markdown":"Please show the full log output ?","body":"Please show the full log output ?"},{"owner":{"account_id":1071596,"reputation":66,"user_id":1070707,"display_name":"Greg Pelcha"},"score":0,"creation_date":1667540849,"post_id":73279006,"comment_id":131194976,"body_markdown":"Resolution to the problem would greatly be appreciated.","body":"Resolution to the problem would greatly be appreciated."}],"owner":{"account_id":9094430,"reputation":495,"user_id":6768856,"display_name":"Kivi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659966772,"creation_date":1659966772,"question_id":73279006,"body_markdown":"I having a Java project and I&#39;m trying to compile it using Maven and deploying the Jar file into Nexus.\r\n\r\nI tried it as a Jenkins Maven job and Jenkins pipeline job, and in both the scenarios I&#39;m getting the below issue in console output:\r\n\r\n    [INFO] --- maven-deploy-plugin:2.7:deploy (default-deploy) @ myproject.test ---\r\n    [INFO] Skipping artifact deployment\r\n\r\nThe Jar file is created and placed in the Jenkins slave machine, but the deployment to Nexus alone is not happening. I have checked for **maven.skip.deploy** parameter in pom.xml and that has been set as false. Not getting sure like what could be the reason for this error, can someone provide your inputs regarding the issue ? thanks !","title":"Deploying of Java project not happening in Jenkins using Maven","body":"<p>I having a Java project and I'm trying to compile it using Maven and deploying the Jar file into Nexus.</p>\n<p>I tried it as a Jenkins Maven job and Jenkins pipeline job, and in both the scenarios I'm getting the below issue in console output:</p>\n<pre><code>[INFO] --- maven-deploy-plugin:2.7:deploy (default-deploy) @ myproject.test ---\n[INFO] Skipping artifact deployment\n</code></pre>\n<p>The Jar file is created and placed in the Jenkins slave machine, but the deployment to Nexus alone is not happening. I have checked for <strong>maven.skip.deploy</strong> parameter in pom.xml and that has been set as false. Not getting sure like what could be the reason for this error, can someone provide your inputs regarding the issue ? thanks !</p>\n"},{"tags":["java","complexity-theory","java-memory-model","language-specifications"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1609536429,"post_id":65533803,"comment_id":115862885,"body_markdown":"FWIW, the quoted text is describing a recognizer, not a decider.","body":"FWIW, the quoted text is describing a recognizer, not a decider."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1609536665,"post_id":65533803,"comment_id":115862933,"body_markdown":"Also, I won&#39;t venture an opinion on this specific question, but this topic is wandering into the territory more usual on CS.SE, as it seems more about computation theory than a particular programming challenge.","body":"Also, I won&#39;t venture an opinion on this specific question, but this topic is wandering into the territory more usual on CS.SE, as it seems more about computation theory than a particular programming challenge."},{"owner":{"account_id":12642689,"reputation":421,"user_id":9398584,"display_name":"Just Me"},"score":0,"creation_date":1609540382,"post_id":65533803,"comment_id":115863721,"body_markdown":"Thanks @chrylis-cautiouslyoptimistic- for both your comments- I&#39;ve edited my question accordingly. My intention was not to get into technical complexity-theory territory (which I know very little about anyway :-). Though from &quot;The memory model ... *determines whether*...&quot; I get the impression they&#39;re describing a decider.","body":"Thanks @chrylis-cautiouslyoptimistic- for both your comments- I&#39;ve edited my question accordingly. My intention was not to get into technical complexity-theory territory (which I know very little about anyway :-). Though from &quot;The memory model ... <i>determines whether</i>...&quot; I get the impression they&#39;re describing a decider."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1609639252,"post_id":65533803,"comment_id":115884913,"body_markdown":"[here](https://stackoverflow.com/a/65016214/1059372) is an explanation I gave how a program correctness is build/proved using `PO`(program order), `SW` (syncronizes-with) and `HB` (happens before) rules according to the JLS. I _think_ this is what you are asking for, no?","body":"<a href=\"https://stackoverflow.com/a/65016214/1059372\">here</a> is an explanation I gave how a program correctness is build/proved using <code>PO</code>(program order), <code>SW</code> (syncronizes-with) and <code>HB</code> (happens before) rules according to the JLS. I <i>think</i> this is what you are asking for, no?"},{"owner":{"account_id":12642689,"reputation":421,"user_id":9398584,"display_name":"Just Me"},"score":0,"creation_date":1609659839,"post_id":65533803,"comment_id":115887703,"body_markdown":"@Eugene I think the bit I&#39;m referring to is checking something about possible JVM implementations, not possible programs. The question this algo addresses is roughly: &quot;does this execution fit what the program says?&quot; not &quot;is this program well synchronized?&quot; (which is what you seem to be referring to). In particular, the algo should apply also to programs which are *not* well-synchronized. It takes as an input an execution (not a program) and should spew out a sequence of subsets of actions meeting the causality requirements (not a proof of being well-sync&#39;ed)","body":"@Eugene I think the bit I&#39;m referring to is checking something about possible JVM implementations, not possible programs. The question this algo addresses is roughly: &quot;does this execution fit what the program says?&quot; not &quot;is this program well synchronized?&quot; (which is what you seem to be referring to). In particular, the algo should apply also to programs which are <i>not</i> well-synchronized. It takes as an input an execution (not a program) and should spew out a sequence of subsets of actions meeting the causality requirements (not a proof of being well-sync&#39;ed)"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1609792952,"post_id":65533803,"comment_id":115928666,"body_markdown":"hmm, how about [this, then](https://stackoverflow.com/questions/56273136/xxstresslcm-xxstressgcm-options-for-jvm)? I am still trying to understand what _exactly_ you mean, it might be just me because I am not a native english speaker and hard to grasp.","body":"hmm, how about <a href=\"https://stackoverflow.com/questions/56273136/xxstresslcm-xxstressgcm-options-for-jvm\">this, then</a>? I am still trying to understand what <i>exactly</i> you mean, it might be just me because I am not a native english speaker and hard to grasp."},{"owner":{"account_id":12642689,"reputation":421,"user_id":9398584,"display_name":"Just Me"},"score":0,"creation_date":1609796576,"post_id":65533803,"comment_id":115930126,"body_markdown":"@Eugene this is cool stuff (and potentially useful for me). But I don&#39;t think it&#39;s directly relevant here... basically I myself am trying to understand *exactly* what the authors of JLS mean (in the specific paragraph I pointed to), so you and I are both in the same boat.","body":"@Eugene this is cool stuff (and potentially useful for me). But I don&#39;t think it&#39;s directly relevant here... basically I myself am trying to understand <i>exactly</i> what the authors of JLS mean (in the specific paragraph I pointed to), so you and I are both in the same boat."}],"answers":[{"tags":[],"owner":{"account_id":20502955,"reputation":31,"user_id":15046468,"display_name":"snxsbwmr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611162444,"creation_date":1611162444,"answer_id":65814213,"question_id":65533803,"body_markdown":"&gt; _I&#39;m trying to understand if there&#39;s a polynomial-time algorithm for proving or disproving that this is the case._\r\n\r\nThe closest thing I can find is an algorithm in [Verification of the Java Causality Feature](https://www.research.ibm.com/haifa/Workshops/PADTAD2005/papers/jmm.pdf) by S. Polyakov and A. Schuster.  \r\nThe algorithm is used on java program execution traces (i.e. after the program finishes).  \r\nIts complexity is polynomial if the trace provides a commitment order of Reads for each thread (which requires some support computer architecture support).\r\n\r\n&gt; _Indeed, the wording of [the blue box](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.8-A) seems to imply that the authors did have a practical way of sifting through the space of chains of subsets of actions called for in the formal definition - which I do not understand_\r\n\r\nThe blue box contains a very condensed version of the JMM developers&#39; reasoning behind the formal model of the JMM causality (which is located in the JLS right above the blue box).  \r\nIf you want to see more detailed and easy-to-understand explanations, then I would recommend papers and articles by the [creators of JMM](https://jcp.org/en/jsr/detail?id=133): Jeremy Manson, William Pugh, Sarita Adve and Doug Lea.  \r\nFor example these ones:\r\n1. [The Java Memory Model](http://rsim.cs.uiuc.edu/Pubs/popl05.pdf) by J. Manson, W. Pugh and S. Adve, 2005.  \r\n   A nice short paper to start with.\r\n2. [The Java Memory Model](https://drum.lib.umd.edu/bitstream/handle/1903/1949/umi-umd-1898.pdf) by J. Manson, Ph.D. Thesis, 2004.  \r\n   This paper contains the most detailed explanations.  \r\n   The paper includes chapter about simulator, which is what was used for JMM verification.\r\n3. [Memory Models: A Case for Rethinking Parallel Languages and Hardware](http://rsim.cs.uiuc.edu/Pubs/10-cacm-memory-models.pdf) by S. Adve and H. Boehm, 2010.  \r\n   This is an overview paper:\r\n   - it shows how the JMM compares to other memory models (both in hardware and in other programming languages)\r\n   - it discusses what strong and weak sides of JMMs were discovered during the 5 years of its usage\r\n   - it gives some potential directions of memory models development in the future","title":"is deciding the causality requirements of the java memory model tractable?","body":"<blockquote>\n<p><em>I'm trying to understand if there's a polynomial-time algorithm for proving or disproving that this is the case.</em></p>\n</blockquote>\n<p>The closest thing I can find is an algorithm in <a href=\"https://www.research.ibm.com/haifa/Workshops/PADTAD2005/papers/jmm.pdf\" rel=\"nofollow noreferrer\">Verification of the Java Causality Feature</a> by S. Polyakov and A. Schuster.<br />\nThe algorithm is used on java program execution traces (i.e. after the program finishes).<br />\nIts complexity is polynomial if the trace provides a commitment order of Reads for each thread (which requires some support computer architecture support).</p>\n<blockquote>\n<p><em>Indeed, the wording of <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.8-A\" rel=\"nofollow noreferrer\">the blue box</a> seems to imply that the authors did have a practical way of sifting through the space of chains of subsets of actions called for in the formal definition - which I do not understand</em></p>\n</blockquote>\n<p>The blue box contains a very condensed version of the JMM developers' reasoning behind the formal model of the JMM causality (which is located in the JLS right above the blue box).<br />\nIf you want to see more detailed and easy-to-understand explanations, then I would recommend papers and articles by the <a href=\"https://jcp.org/en/jsr/detail?id=133\" rel=\"nofollow noreferrer\">creators of JMM</a>: Jeremy Manson, William Pugh, Sarita Adve and Doug Lea.<br />\nFor example these ones:</p>\n<ol>\n<li><a href=\"http://rsim.cs.uiuc.edu/Pubs/popl05.pdf\" rel=\"nofollow noreferrer\">The Java Memory Model</a> by J. Manson, W. Pugh and S. Adve, 2005.<br />\nA nice short paper to start with.</li>\n<li><a href=\"https://drum.lib.umd.edu/bitstream/handle/1903/1949/umi-umd-1898.pdf\" rel=\"nofollow noreferrer\">The Java Memory Model</a> by J. Manson, Ph.D. Thesis, 2004.<br />\nThis paper contains the most detailed explanations.<br />\nThe paper includes chapter about simulator, which is what was used for JMM verification.</li>\n<li><a href=\"http://rsim.cs.uiuc.edu/Pubs/10-cacm-memory-models.pdf\" rel=\"nofollow noreferrer\">Memory Models: A Case for Rethinking Parallel Languages and Hardware</a> by S. Adve and H. Boehm, 2010.<br />\nThis is an overview paper:\n<ul>\n<li>it shows how the JMM compares to other memory models (both in hardware and in other programming languages)</li>\n<li>it discusses what strong and weak sides of JMMs were discovered during the 5 years of its usage</li>\n<li>it gives some potential directions of memory models development in the future</li>\n</ul>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22846653,"reputation":1,"user_id":16992888,"display_name":"user16992888"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632478699,"creation_date":1632478699,"answer_id":69313358,"question_id":65533803,"body_markdown":"You might want to look at research on JMM by Andreas Lochbihler at http://www.andreas-lochbihler.de/\r\n\r\nParticularly in [his PhD Thesis](http://dx.doi.org/10.5445/KSP/1000028867) you can find this:\r\n&gt; In this thesis, I build a machine-checked model of Java concurrency called JinjaThreads for both Java source code and bytecode\r\n\r\n&gt; Like its predecessor, JinjaThreads omits some sequential features from Java to remain tractable","title":"is deciding the causality requirements of the java memory model tractable?","body":"<p>You might want to look at research on JMM by Andreas Lochbihler at <a href=\"http://www.andreas-lochbihler.de/\" rel=\"nofollow noreferrer\">http://www.andreas-lochbihler.de/</a></p>\n<p>Particularly in <a href=\"http://dx.doi.org/10.5445/KSP/1000028867\" rel=\"nofollow noreferrer\">his PhD Thesis</a> you can find this:</p>\n<blockquote>\n<p>In this thesis, I build a machine-checked model of Java concurrency called JinjaThreads for both Java source code and bytecode</p>\n</blockquote>\n<blockquote>\n<p>Like its predecessor, JinjaThreads omits some sequential features from Java to remain tractable</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25944168,"reputation":11,"user_id":19663120,"display_name":"user19663120"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659326990,"creation_date":1659326990,"answer_id":73188753,"question_id":65533803,"body_markdown":"Yes, I think it&#39;s possible.\r\n\r\n[The algorithm][jls-causality] accepts [an execution][jls-execution] as input and outputs `true` if the execution is valid (i.e. satisfies the causality requirements), and `false` otherwise.  \r\nIt works by committing step-by-step actions, executed by the program, according to [the 9 rules][jls-causality].  \r\nIf all the actions can be committed, then the execution is valid.\r\n\r\nPersonally, I would try to implement the algorithm backwards: it would start with the full execution, and then it would keep removing actions until none remains.  \r\nI&#39;m not 100% sure, but it seems like at every step it&#39;s enough to test for deletion the last action in each thread.  \r\nThis should be possible in polynomial time.\r\n\r\nIn practice the most frequent problem is probably: How to record an execution?  \r\nFor example, for every read the execution should store the corresponding write action, which wrote the value returned by the read.  \r\nI don&#39;t think OpenJDK offers this functionality.  \r\nMy guess would be that Java model checking tools like [Java Pathfinder][java-pathfinder] and [Lincheck][lincheck] might be capable of something like that.\r\n\r\nP.S. [here](https://stackoverflow.com/a/66329398) is an example of how to apply [the algorithm][jls-causality] to an execution.\r\n\r\n[jls-execution]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.6\r\n[jls-causality]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.8\r\n[java-pathfinder]: https://github.com/javapathfinder/jpf-core/wiki\r\n[lincheck]: https://github.com/Kotlin/kotlinx-lincheck","title":"is deciding the causality requirements of the java memory model tractable?","body":"<p>Yes, I think it's possible.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.8\" rel=\"nofollow noreferrer\">The algorithm</a> accepts <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.6\" rel=\"nofollow noreferrer\">an execution</a> as input and outputs <code>true</code> if the execution is valid (i.e. satisfies the causality requirements), and <code>false</code> otherwise.<br />\nIt works by committing step-by-step actions, executed by the program, according to <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.8\" rel=\"nofollow noreferrer\">the 9 rules</a>.<br />\nIf all the actions can be committed, then the execution is valid.</p>\n<p>Personally, I would try to implement the algorithm backwards: it would start with the full execution, and then it would keep removing actions until none remains.<br />\nI'm not 100% sure, but it seems like at every step it's enough to test for deletion the last action in each thread.<br />\nThis should be possible in polynomial time.</p>\n<p>In practice the most frequent problem is probably: How to record an execution?<br />\nFor example, for every read the execution should store the corresponding write action, which wrote the value returned by the read.<br />\nI don't think OpenJDK offers this functionality.<br />\nMy guess would be that Java model checking tools like <a href=\"https://github.com/javapathfinder/jpf-core/wiki\" rel=\"nofollow noreferrer\">Java Pathfinder</a> and <a href=\"https://github.com/Kotlin/kotlinx-lincheck\" rel=\"nofollow noreferrer\">Lincheck</a> might be capable of something like that.</p>\n<p>P.S. <a href=\"https://stackoverflow.com/a/66329398\">here</a> is an example of how to apply <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.8\" rel=\"nofollow noreferrer\">the algorithm</a> to an execution.</p>\n"},{"tags":[],"owner":{"account_id":26002512,"reputation":21,"user_id":19712778,"display_name":"user19712778"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659966555,"creation_date":1659895439,"answer_id":73269861,"question_id":65533803,"body_markdown":"To add to [the answer above](https://stackoverflow.com/a/65814213), in 2008 another paper demonstrated a case when the algorithm proposed by [Verification of the Java Causality Feature](https://web.archive.org/web/20210612124010/https://www.research.ibm.com/haifa/Workshops/PADTAD2005/papers/jmm.pdf) doesn&#39;t complete in polynomial time.\r\n\r\nThe paper is [Verification of Causality Requirements in Java\r\nMemory Model is Undecidable](https://web.archive.org/web/20170922022122/https://web.math.pmf.unizg.hr/~mabotinc/downloads/ppam09.pdf) by Matko Botin, Paola Glavan, and Davor Runje.  \r\nThe conclusion in the paper:\r\n&gt; the problem of verifying the JMM\r\ncausality requirements for a finite execution of an arbitrary Java program is undecidable. \r\n\r\nIn short, the authors noticed that the original paper implicitly assumed that all intermediate executions used for justification are finite and polynomially bounded.  \r\nBut in reality that is not always true, which was demonstrated by example.\r\n\r\nThe example can be simplified to the following.  \r\nThe program:\r\n```java\r\nInitially: y = 0, x = 0\r\n\r\nThread1  |  Thread2          \r\n-----------------------------\r\ny = x;   |  S;               \r\n         |  x = 1;           \r\n```\r\n`S` is an arbitrary sequential program, which doesn&#39;t access `x` and `y`.   \r\nThe execution that we need to verify produces result `y == 1`.  \r\nThe reasoning:\r\n* in order to get the result `y == 1`, `x = 1;` should be committed first\r\n* `x = 1;` could be committed only if `S` doesn&#39;t execute infinitely.  \r\n  From the [JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.9):\r\n  &gt; An execution may result in a thread being blocked indefinitely and the execution&#39;s not terminating. In such cases, the actions generated by the blocked thread must consist of all actions generated by that thread up to and including the action that caused the thread to be blocked, and no actions that would be generated by the thread after that action. \r\n* determining if `S` executes infinitely is undecidable, because it&#39;s [the halting problem](https://en.wikipedia.org/wiki/Halting_problem)\r\n\r\n\r\n","title":"is deciding the causality requirements of the java memory model tractable?","body":"<p>To add to <a href=\"https://stackoverflow.com/a/65814213\">the answer above</a>, in 2008 another paper demonstrated a case when the algorithm proposed by <a href=\"https://web.archive.org/web/20210612124010/https://www.research.ibm.com/haifa/Workshops/PADTAD2005/papers/jmm.pdf\" rel=\"nofollow noreferrer\">Verification of the Java Causality Feature</a> doesn't complete in polynomial time.</p>\n<p>The paper is <a href=\"https://web.archive.org/web/20170922022122/https://web.math.pmf.unizg.hr/%7Emabotinc/downloads/ppam09.pdf\" rel=\"nofollow noreferrer\">Verification of Causality Requirements in Java\nMemory Model is Undecidable</a> by Matko Botin, Paola Glavan, and Davor Runje.<br />\nThe conclusion in the paper:</p>\n<blockquote>\n<p>the problem of verifying the JMM\ncausality requirements for a finite execution of an arbitrary Java program is undecidable.</p>\n</blockquote>\n<p>In short, the authors noticed that the original paper implicitly assumed that all intermediate executions used for justification are finite and polynomially bounded.<br />\nBut in reality that is not always true, which was demonstrated by example.</p>\n<p>The example can be simplified to the following.<br />\nThe program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Initially: y = 0, x = 0\n\nThread1  |  Thread2          \n-----------------------------\ny = x;   |  S;               \n         |  x = 1;           \n</code></pre>\n<p><code>S</code> is an arbitrary sequential program, which doesn't access <code>x</code> and <code>y</code>.<br />\nThe execution that we need to verify produces result <code>y == 1</code>.<br />\nThe reasoning:</p>\n<ul>\n<li>in order to get the result <code>y == 1</code>, <code>x = 1;</code> should be committed first</li>\n<li><code>x = 1;</code> could be committed only if <code>S</code> doesn't execute infinitely.<br />\nFrom the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.9\" rel=\"nofollow noreferrer\">JLS</a>:\n<blockquote>\n<p>An execution may result in a thread being blocked indefinitely and the execution's not terminating. In such cases, the actions generated by the blocked thread must consist of all actions generated by that thread up to and including the action that caused the thread to be blocked, and no actions that would be generated by the thread after that action.</p>\n</blockquote>\n</li>\n<li>determining if <code>S</code> executes infinitely is undecidable, because it's <a href=\"https://en.wikipedia.org/wiki/Halting_problem\" rel=\"nofollow noreferrer\">the halting problem</a></li>\n</ul>\n"}],"owner":{"account_id":12642689,"reputation":421,"user_id":9398584,"display_name":"Just Me"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1659966555,"creation_date":1609536011,"question_id":65533803,"body_markdown":"The Java Language Specification provides [criteria](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.8) for determining whether a (well-formed) execution satisfies &quot;the causality requirement for the Java memory model&quot;. Let&#39;s assume that the execution is finite. I&#39;m trying to understand if there&#39;s a polynomial-time algorithm for proving or disproving that this is the case.\r\n\r\nReally, I&#39;m not looking for a detailed complexity-theory type analysis, the question can be paraphrased more loosely as:\r\n**Do these causality requirements actually provide a practical definition that can be applied to executions of programs in practice - and if so, how?** \r\n\r\nIndeed, the wording of [the blue box](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.8-A) seems to imply that the authors did have a practical way of sifting through the space of chains of subsets of actions called for in the formal definition - which I do not understand:\r\n\r\n&gt;The memory model takes as input a given execution, and a program, and determines whether that execution is a legal execution of the program. It does this by gradually building a set of &quot;committed&quot; actions that reflect which actions were executed by the program. Usually, the next action to be committed will reflect the next action that can be performed by a sequentially consistent execution. However, to reflect reads that need to see later writes, we allow some actions to be committed earlier than other actions that happen-before them...   \r\n&gt;Informally, we allow an action to be committed early if we know that the action can occur without assuming some data race occurs.&quot;\r\n\r\nIf someone can apply this sketch to a simple example - that would be very helpful too.\r\n\r\n**EDIT:** it was pointed out that perhaps the authors had in mind a recognizer, not a decider. I&#39;m good with either - the whole complexity angle is just a way to ask if / how this definition can be applied in practice.","title":"is deciding the causality requirements of the java memory model tractable?","body":"<p>The Java Language Specification provides <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.8\" rel=\"nofollow noreferrer\">criteria</a> for determining whether a (well-formed) execution satisfies &quot;the causality requirement for the Java memory model&quot;. Let's assume that the execution is finite. I'm trying to understand if there's a polynomial-time algorithm for proving or disproving that this is the case.</p>\n<p>Really, I'm not looking for a detailed complexity-theory type analysis, the question can be paraphrased more loosely as:\n<strong>Do these causality requirements actually provide a practical definition that can be applied to executions of programs in practice - and if so, how?</strong></p>\n<p>Indeed, the wording of <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.8-A\" rel=\"nofollow noreferrer\">the blue box</a> seems to imply that the authors did have a practical way of sifting through the space of chains of subsets of actions called for in the formal definition - which I do not understand:</p>\n<blockquote>\n<p>The memory model takes as input a given execution, and a program, and determines whether that execution is a legal execution of the program. It does this by gradually building a set of &quot;committed&quot; actions that reflect which actions were executed by the program. Usually, the next action to be committed will reflect the next action that can be performed by a sequentially consistent execution. However, to reflect reads that need to see later writes, we allow some actions to be committed earlier than other actions that happen-before them...<br />\nInformally, we allow an action to be committed early if we know that the action can occur without assuming some data race occurs.&quot;</p>\n</blockquote>\n<p>If someone can apply this sketch to a simple example - that would be very helpful too.</p>\n<p><strong>EDIT:</strong> it was pointed out that perhaps the authors had in mind a recognizer, not a decider. I'm good with either - the whole complexity angle is just a way to ask if / how this definition can be applied in practice.</p>\n"},{"tags":["java","hibernate","jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":20453332,"reputation":305,"user_id":15007593,"display_name":"Fotis Kolytoumpas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659966239,"creation_date":1659966239,"answer_id":73278900,"question_id":73278633,"body_markdown":"An if/else statement might work for you.\r\n\r\n    List&lt;Student&gt; allStudents(String inputDob){\r\n        List&lt;Student&gt; resultList = null;\r\n        if (inputDob == null || inputDob.isEmpty()) {\r\n             resultList = jpaQuery.from(student)\r\n                    .where(student.age.eq(25))\r\n                    .fetch();\r\n        } else {\r\n            resultList = jpaQuery.from(student)\r\n                    .where(student.dob.eq(inputDob)\r\n                            .and(student.age.eq(25)))\r\n                    .fetch();\r\n        }\r\n    }\r\n\r\nYou initialize the resultList before the if/else statement, so you can avoid compilation errors later. Then you run the appropriate query, depending on the input.\r\n\r\nPlease let me know if this was helpful for your case.","title":"How to check null and apply filter in JPA Querydsl?","body":"<p>An if/else statement might work for you.</p>\n<pre><code>List&lt;Student&gt; allStudents(String inputDob){\n    List&lt;Student&gt; resultList = null;\n    if (inputDob == null || inputDob.isEmpty()) {\n         resultList = jpaQuery.from(student)\n                .where(student.age.eq(25))\n                .fetch();\n    } else {\n        resultList = jpaQuery.from(student)\n                .where(student.dob.eq(inputDob)\n                        .and(student.age.eq(25)))\n                .fetch();\n    }\n}\n</code></pre>\n<p>You initialize the resultList before the if/else statement, so you can avoid compilation errors later. Then you run the appropriate query, depending on the input.</p>\n<p>Please let me know if this was helpful for your case.</p>\n"}],"owner":{"account_id":15272562,"reputation":9,"user_id":13573572,"display_name":"Ajit Barik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659966239,"creation_date":1659965212,"question_id":73278633,"body_markdown":"I have a scenario like below and i am using JPA Query DSL:\r\n```\r\nList&lt;Student&gt; allStudents(String inputDob){\r\n     List&lt;Student&gt; resultList = jpaQuery.from(student)\r\n                    .where(student.dob.eq(inputDob) //how to skip this condition in case inputdob is null\r\n                    .and(student.age.eq(25)))    \r\n                    .fetch(); \r\n}\r\n//My question is suppose : inputDob is null then how to skip the where clause if parameter is comming as null?","title":"How to check null and apply filter in JPA Querydsl?","body":"<p>I have a scenario like below and i am using JPA Query DSL:</p>\n<pre><code>List&lt;Student&gt; allStudents(String inputDob){\n     List&lt;Student&gt; resultList = jpaQuery.from(student)\n                    .where(student.dob.eq(inputDob) //how to skip this condition in case inputdob is null\n                    .and(student.age.eq(25)))    \n                    .fetch(); \n}\n//My question is suppose : inputDob is null then how to skip the where clause if parameter is comming as null?\n</code></pre>\n"},{"tags":["java","aws-lambda","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":20589760,"reputation":21,"user_id":15113740,"display_name":"juske xd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659965650,"creation_date":1659965650,"answer_id":73278740,"question_id":73276894,"body_markdown":"Well, just needed to change ArrayList to List :- )","title":"DynamoDBTypeConverted doesn&#39;t work in Java","body":"<p>Well, just needed to change ArrayList to List :- )</p>\n"}],"owner":{"account_id":20589760,"reputation":21,"user_id":15113740,"display_name":"juske xd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659965650,"creation_date":1659956757,"question_id":73276894,"body_markdown":"Logs throw \r\n```\r\nConverter not found for EnhancedType(java.util.ArrayList&lt;domains.requirementsAndDefinitionForTracingEvents.Event&gt;)\r\n```\r\nerror.\r\nI decided to write a custom converter \r\n```\r\npackage converters;\r\n\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter;\r\nimport domains.requirementsAndDefinitionForTracingEvents.Event;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class EventListToMapConverter implements DynamoDBTypeConverter&lt;List&lt;Map&lt;String, ?&gt;&gt;, List&lt;Event&gt;&gt; {\r\n\r\n\r\n    @Override\r\n    public List&lt;Map&lt;String, ?&gt;&gt; convert(List&lt;Event&gt; events) {\r\n        List&lt;Map&lt;String, ?&gt;&gt; convertedList = new ArrayList&lt;&gt;();\r\n        for(Event e: events) {\r\n            Map map = new HashMap&lt;&gt;();\r\n            map.put(&quot;eventCode&quot;, e.getEventCode());\r\n            map.put(&quot;remark&quot;, e.getRemark());\r\n            map.put(&quot;requiredOwn&quot;, e.isRequiredOwn());\r\n            convertedList.add(map);\r\n        }\r\n        return convertedList;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Event&gt; unconvert(List&lt;Map&lt;String, ?&gt;&gt; stringStringMap) {\r\n        List&lt;Event&gt; convertedList = new ArrayList&lt;&gt;();\r\n        for(Map&lt;String, ?&gt; map: stringStringMap) {\r\n            Event e = new Event();\r\n            e.setEventCode((String) map.get(&quot;eventCode&quot;));\r\n            e.setRemark((String) map.get(&quot;remark&quot;));\r\n            e.setRequiredOwn((Boolean) map.get(&quot;requiredOwn&quot;));\r\n            convertedList.add(e);\r\n        }\r\n        return convertedList;\r\n    }\r\n}\r\n```\r\nI added it like this\r\n\r\n```\r\npackage domains.requirementsAndDefinitionForTracingEvents;\r\n\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverted;\r\nimport converters.EventListToMapConverter;\r\nimport software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbBean;\r\n\r\nimport java.util.ArrayList;\r\n\r\n@DynamoDbBean\r\npublic class RequirementsAndDefinitionForTracingEvents {\r\n    public RequirementsAndDefinitionForTracingEvents() {\r\n    }\r\n\r\n    public RequirementsAndDefinitionForTracingEvents(ArrayList&lt;Event&gt; tracingEventCodes, AdditionalRules additionalRules) {\r\n        this.tracingEventCodes = tracingEventCodes;\r\n        this.additionalRules = additionalRules;\r\n    }\r\n    @DynamoDBTypeConverted(converter = EventListToMapConverter.class)\r\n    private ArrayList&lt;Event&gt; tracingEventCodes;\r\n\r\n    private AdditionalRules additionalRules;\r\n\r\n    public AdditionalRules getAdditionalRules() {\r\n        return additionalRules;\r\n    }\r\n\r\n    public ArrayList&lt;Event&gt; getTracingEventCodes() {\r\n        return tracingEventCodes;\r\n    }\r\n\r\n    public void setTracingEventCodes(ArrayList&lt;Event&gt; tracingEventCodes) {\r\n        this.tracingEventCodes = tracingEventCodes;\r\n    }\r\n\r\n    public void setAdditionalRules(AdditionalRules additionalRules) {\r\n        this.additionalRules = additionalRules;\r\n    }\r\n}\r\n```\r\nbut actually nothing changed. Still the same error. What&#39;s the problem in here?\r\nI heard of another thing which are converted properties in\r\n@DynamoDBBean attribute but it is quite hard to understand for me if I want to map List&lt;Map&lt;String, ?&gt;&gt;\r\n\r\nAlso I have seen that @DynamoDBConvertedType is usually used with @DynamoDBDocument but couldn&#39;t find any proper for me documentation. I have template.yaml file where I define table name which can be &#39;TABLE_NAME&#39;. Then do I define @DynamoDBTable attribute on the main object with TableName = &#39;TABLE_NAME&#39; ?\r\nShould I mark every child class as @DynamoDBDocument? Will it work or it doesn&#39;t matter if I use dynamodbbean or dynamodbdocument if I still parse my JSON file with a gson parser?","title":"DynamoDBTypeConverted doesn&#39;t work in Java","body":"<p>Logs throw</p>\n<pre><code>Converter not found for EnhancedType(java.util.ArrayList&lt;domains.requirementsAndDefinitionForTracingEvents.Event&gt;)\n</code></pre>\n<p>error.\nI decided to write a custom converter</p>\n<pre><code>package converters;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter;\nimport domains.requirementsAndDefinitionForTracingEvents.Event;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class EventListToMapConverter implements DynamoDBTypeConverter&lt;List&lt;Map&lt;String, ?&gt;&gt;, List&lt;Event&gt;&gt; {\n\n\n    @Override\n    public List&lt;Map&lt;String, ?&gt;&gt; convert(List&lt;Event&gt; events) {\n        List&lt;Map&lt;String, ?&gt;&gt; convertedList = new ArrayList&lt;&gt;();\n        for(Event e: events) {\n            Map map = new HashMap&lt;&gt;();\n            map.put(&quot;eventCode&quot;, e.getEventCode());\n            map.put(&quot;remark&quot;, e.getRemark());\n            map.put(&quot;requiredOwn&quot;, e.isRequiredOwn());\n            convertedList.add(map);\n        }\n        return convertedList;\n    }\n\n    @Override\n    public List&lt;Event&gt; unconvert(List&lt;Map&lt;String, ?&gt;&gt; stringStringMap) {\n        List&lt;Event&gt; convertedList = new ArrayList&lt;&gt;();\n        for(Map&lt;String, ?&gt; map: stringStringMap) {\n            Event e = new Event();\n            e.setEventCode((String) map.get(&quot;eventCode&quot;));\n            e.setRemark((String) map.get(&quot;remark&quot;));\n            e.setRequiredOwn((Boolean) map.get(&quot;requiredOwn&quot;));\n            convertedList.add(e);\n        }\n        return convertedList;\n    }\n}\n</code></pre>\n<p>I added it like this</p>\n<pre><code>package domains.requirementsAndDefinitionForTracingEvents;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverted;\nimport converters.EventListToMapConverter;\nimport software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbBean;\n\nimport java.util.ArrayList;\n\n@DynamoDbBean\npublic class RequirementsAndDefinitionForTracingEvents {\n    public RequirementsAndDefinitionForTracingEvents() {\n    }\n\n    public RequirementsAndDefinitionForTracingEvents(ArrayList&lt;Event&gt; tracingEventCodes, AdditionalRules additionalRules) {\n        this.tracingEventCodes = tracingEventCodes;\n        this.additionalRules = additionalRules;\n    }\n    @DynamoDBTypeConverted(converter = EventListToMapConverter.class)\n    private ArrayList&lt;Event&gt; tracingEventCodes;\n\n    private AdditionalRules additionalRules;\n\n    public AdditionalRules getAdditionalRules() {\n        return additionalRules;\n    }\n\n    public ArrayList&lt;Event&gt; getTracingEventCodes() {\n        return tracingEventCodes;\n    }\n\n    public void setTracingEventCodes(ArrayList&lt;Event&gt; tracingEventCodes) {\n        this.tracingEventCodes = tracingEventCodes;\n    }\n\n    public void setAdditionalRules(AdditionalRules additionalRules) {\n        this.additionalRules = additionalRules;\n    }\n}\n</code></pre>\n<p>but actually nothing changed. Still the same error. What's the problem in here?\nI heard of another thing which are converted properties in\n@DynamoDBBean attribute but it is quite hard to understand for me if I want to map List&lt;Map&lt;String, ?&gt;&gt;</p>\n<p>Also I have seen that @DynamoDBConvertedType is usually used with @DynamoDBDocument but couldn't find any proper for me documentation. I have template.yaml file where I define table name which can be 'TABLE_NAME'. Then do I define @DynamoDBTable attribute on the main object with TableName = 'TABLE_NAME' ?\nShould I mark every child class as @DynamoDBDocument? Will it work or it doesn't matter if I use dynamodbbean or dynamodbdocument if I still parse my JSON file with a gson parser?</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1659963094,"post_id":73278029,"comment_id":129412663,"body_markdown":"Check if any of the answers here helps: https://stackoverflow.com/questions/33307051/importing-data-with-spring-boot. Additionally what version of Spring Boot are you using? It also appears that you are using liquibase. If so it will probably override your initialization in schema.sql and/or data.sql","body":"Check if any of the answers here helps: <a href=\"https://stackoverflow.com/questions/33307051/importing-data-with-spring-boot\" title=\"importing data with spring boot\">stackoverflow.com/questions/33307051/&hellip;</a>. Additionally what version of Spring Boot are you using? It also appears that you are using liquibase. If so it will probably override your initialization in schema.sql and/or data.sql"},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":0,"creation_date":1659964445,"post_id":73278029,"comment_id":129413169,"body_markdown":"Can you update your post with the part of your code to load the sql (with `@Sql` ) ?","body":"Can you update your post with the part of your code to load the sql (with <code>@Sql</code> ) ?"}],"answers":[{"tags":[],"owner":{"account_id":11619749,"reputation":171,"user_id":8511385,"display_name":"Deepesh Dagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659963553,"creation_date":1659963553,"answer_id":73278292,"question_id":73278029,"body_markdown":"Add this property to app.prop spring.datasource.initialization-mode=always\r\n\r\nRefer Link : https://docs.spring.io/spring-boot/docs/2.1.0.M1/reference/html/howto-database-initialization.html#howto-initialize-a-database-using-spring-jdbc\r\n\r\n    Spring Boot automatically creates the schema of an embedded DataSource. This behaviour can be customized by using the spring.datasource.initialization-mode property. For instance, if you want to always initialize the DataSource regardless of its type:\r\n        spring.datasource.initialization-mode=always\r\n\r\nI hope this helps.\r\n","title":"Spring boot doesnt read my data.sql file?","body":"<p>Add this property to app.prop spring.datasource.initialization-mode=always</p>\n<p>Refer Link : <a href=\"https://docs.spring.io/spring-boot/docs/2.1.0.M1/reference/html/howto-database-initialization.html#howto-initialize-a-database-using-spring-jdbc\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.0.M1/reference/html/howto-database-initialization.html#howto-initialize-a-database-using-spring-jdbc</a></p>\n<pre><code>Spring Boot automatically creates the schema of an embedded DataSource. This behaviour can be customized by using the spring.datasource.initialization-mode property. For instance, if you want to always initialize the DataSource regardless of its type:\n    spring.datasource.initialization-mode=always\n</code></pre>\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659964981,"creation_date":1659964981,"answer_id":73278579,"question_id":73278029,"body_markdown":"Either you put the file somewhere outside the `resources` (external file) or provided the location wrongly, - please check the logs &lt;br&gt;\r\n\r\nTo confirm that, change below line &lt;br&gt;\r\n`spring.datasource.data = classpath:db/data.sql`&lt;br&gt;\r\nto :&lt;br&gt;\r\n`spring.datasource.data = file:&lt;full-path&gt;db/data.sql`\r\n\r\nOR\r\n\r\nin some spring-boot versions,&lt;br&gt;\r\n`spring.sql.init.data-locations=classpath:db/data.sql`","title":"Spring boot doesnt read my data.sql file?","body":"<p>Either you put the file somewhere outside the <code>resources</code> (external file) or provided the location wrongly, - please check the logs <br></p>\n<p>To confirm that, change below line <br>\n<code>spring.datasource.data = classpath:db/data.sql</code><br>\nto :<br>\n<code>spring.datasource.data = file:&lt;full-path&gt;db/data.sql</code></p>\n<p>OR</p>\n<p>in some spring-boot versions,<br>\n<code>spring.sql.init.data-locations=classpath:db/data.sql</code></p>\n"}],"owner":{"account_id":26008754,"reputation":13,"user_id":19718140,"display_name":"Sergiu Muntean"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73278579,"answer_count":2,"score":1,"last_activity_date":1659964981,"creation_date":1659962347,"question_id":73278029,"body_markdown":"Hei guys, im pretty new to SpringBoot and i have 1 problem.\r\nWhen i start the app the spring read the schema.sql and make the tabels but the data.sql is not read, so i dont have no data on my db.\r\n\r\nthis is my app.prop\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/garagesaledb?createDatabaseIfNotExist=true\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.show-sql = true\r\n    spring.jpa.properties.hibernate.format_sql = true\r\n    spring.jpa.hibernate.naming-strategy = org.hibernate.cfg.DefaultComponentSafeNamingStrategy\r\n    spring.jpa.hibernate.naming.physical-strategy= org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    spring.sql.init.mode=always \r\n    spring.datasource.schema = classpath:db/schema.sql\r\n    spring.datasource.data = classpath:db/data.sql\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.liquibase.drop-first=true\r\n    spring.jpa.defer-datasource-initialization=true\r\n\r\nschema.sql\r\n\r\n    create table asset\r\n    (\r\n    \tid bigint not null auto_increment,\r\n        category varchar(255),\r\n        price decimal(10,2),\r\n        quantity integer,\r\n        purchaseOrder_id bigint,\r\n        primary key(id),\r\n    );\r\n\r\ndata.sql\r\n\r\n    INSERT INTO garagesaledb.asset(category, price, quantity,purchaseOrder_id) VALUES\r\n    (&#39;MOUSE&#39;, 10.0, 1, null);\r\n\r\nIt&#39;s just a simple app and query but it doesnt read it.","title":"Spring boot doesnt read my data.sql file?","body":"<p>Hei guys, im pretty new to SpringBoot and i have 1 problem.\nWhen i start the app the spring read the schema.sql and make the tabels but the data.sql is not read, so i dont have no data on my db.</p>\n<p>this is my app.prop</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/garagesaledb?createDatabaseIfNotExist=true\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.show-sql = true\nspring.jpa.properties.hibernate.format_sql = true\nspring.jpa.hibernate.naming-strategy = org.hibernate.cfg.DefaultComponentSafeNamingStrategy\nspring.jpa.hibernate.naming.physical-strategy= org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nspring.sql.init.mode=always \nspring.datasource.schema = classpath:db/schema.sql\nspring.datasource.data = classpath:db/data.sql\nspring.jpa.hibernate.ddl-auto=update\nspring.liquibase.drop-first=true\nspring.jpa.defer-datasource-initialization=true\n</code></pre>\n<p>schema.sql</p>\n<pre><code>create table asset\n(\n    id bigint not null auto_increment,\n    category varchar(255),\n    price decimal(10,2),\n    quantity integer,\n    purchaseOrder_id bigint,\n    primary key(id),\n);\n</code></pre>\n<p>data.sql</p>\n<pre><code>INSERT INTO garagesaledb.asset(category, price, quantity,purchaseOrder_id) VALUES\n('MOUSE', 10.0, 1, null);\n</code></pre>\n<p>It's just a simple app and query but it doesnt read it.</p>\n"},{"tags":["java","spring-boot","apache-poi","xlsx"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1659962816,"post_id":73277929,"comment_id":129412560,"body_markdown":"Its best to take a MINIMUM example first, so lets find out whether the problem is with the File, or with the web setup.   So when you have the `byte[] data`, write that directly to a file - can you open that file in Excel?","body":"Its best to take a MINIMUM example first, so lets find out whether the problem is with the File, or with the web setup.   So when you have the <code>byte[] data</code>, write that directly to a file - can you open that file in Excel?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1659963077,"post_id":73277929,"comment_id":129412655,"body_markdown":"Incidentally, try-with-resources can handle multiple variables, so you can move that `baos` declaration Into that `try`, so allowing you to get rid of that `finally`.","body":"Incidentally, try-with-resources can handle multiple variables, so you can move that <code>baos</code> declaration Into that <code>try</code>, so allowing you to get rid of that <code>finally</code>."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1659963993,"post_id":73277929,"comment_id":129412996,"body_markdown":"Nothing in your code writes something into your `ByteArrayOutputStream baos`, does it?","body":"Nothing in your code writes something into your <code>ByteArrayOutputStream baos</code>, does it?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1659964767,"post_id":73277929,"comment_id":129413282,"body_markdown":"Do you want to generate a `XLS` or a `XLSX` file? You&#39;ve got code for XLSX but the mime type of XLS....","body":"Do you want to generate a <code>XLS</code> or a <code>XLSX</code> file? You&#39;ve got code for XLSX but the mime type of XLS...."},{"owner":{"account_id":9989952,"reputation":391,"user_id":7389620,"display_name":"bmrki"},"score":0,"creation_date":1659964835,"post_id":73277929,"comment_id":129413307,"body_markdown":"@AxelRichter thank you, I did miss that line `workbook.write(baos);`. I will post an answer with working getData() method.","body":"@AxelRichter thank you, I did miss that line <code>workbook.write(baos);</code>. I will post an answer with working getData() method."}],"answers":[{"tags":[],"owner":{"account_id":9989952,"reputation":391,"user_id":7389620,"display_name":"bmrki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659964894,"creation_date":1659964894,"answer_id":73278557,"question_id":73277929,"body_markdown":"This is improved method, It&#39;s working now, thank you.\r\n\r\nChanges:\r\n- added `workbook.write(baos);` line\r\n- fixed for loops\r\n\r\n```java\r\n private byte[] getData() throws IOException {\r\n\r\n        String[][] data = {\r\n                {&quot;A1&quot;, &quot;B1&quot;, &quot;C1&quot;, &quot;D1&quot;},\r\n                {&quot;A2&quot;, &quot;B2&quot;, &quot;C2&quot;, &quot;D2&quot;}\r\n        };\r\n\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\n        try (Workbook workbook = new XSSFWorkbook()) {\r\n            int totalNumberOfColumns = 4;\r\n            int totalNumberOfRows = 2;\r\n\r\n            Sheet sheet = workbook.createSheet(&quot;Test Sheet&quot;);\r\n\r\n            for (int i = 0; i &lt; totalNumberOfRows; i++) {\r\n                Row row = sheet.createRow(i);\r\n                Cell cell;\r\n                \r\n                for (int j = 0; j &lt; totalNumberOfColumns; j++) {\r\n                    cell = row.createCell(j);\r\n                    cell.setCellValue(data[i][j]);\r\n                }\r\n            }\r\n\r\n            workbook.write(baos);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            baos.close();\r\n        }\r\n\r\n        return baos.toByteArray();\r\n    }\r\n```","title":"Spring boot - downloading xlsx file - cannot open","body":"<p>This is improved method, It's working now, thank you.</p>\n<p>Changes:</p>\n<ul>\n<li>added <code>workbook.write(baos);</code> line</li>\n<li>fixed for loops</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code> private byte[] getData() throws IOException {\n\n        String[][] data = {\n                {&quot;A1&quot;, &quot;B1&quot;, &quot;C1&quot;, &quot;D1&quot;},\n                {&quot;A2&quot;, &quot;B2&quot;, &quot;C2&quot;, &quot;D2&quot;}\n        };\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n        try (Workbook workbook = new XSSFWorkbook()) {\n            int totalNumberOfColumns = 4;\n            int totalNumberOfRows = 2;\n\n            Sheet sheet = workbook.createSheet(&quot;Test Sheet&quot;);\n\n            for (int i = 0; i &lt; totalNumberOfRows; i++) {\n                Row row = sheet.createRow(i);\n                Cell cell;\n                \n                for (int j = 0; j &lt; totalNumberOfColumns; j++) {\n                    cell = row.createCell(j);\n                    cell.setCellValue(data[i][j]);\n                }\n            }\n\n            workbook.write(baos);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            baos.close();\n        }\n\n        return baos.toByteArray();\n    }\n</code></pre>\n"}],"owner":{"account_id":9989952,"reputation":391,"user_id":7389620,"display_name":"bmrki"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659964894,"creation_date":1659961886,"question_id":73277929,"body_markdown":"I&#39;m trying to create an endpoint that returns xlsx file to download.\r\n\r\nWhen I&#39;m trying to open this generated file with OpenOffice then everything works fine.\r\nIt doesn&#39;t work with Microsoft Excel, when trying to open it shows something like &quot;excel cannot open the file due to invalid format&quot;.\r\n\r\nUnfortunatelly I have no idea why is that.\r\nI did try (as you can see in the code snippet) different content types.\r\n\r\nThis is sample of my code:\r\n\r\n```java\r\n    package com.example.demo;\r\n\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.springframework.http.*;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/xls&quot;)\r\n    public class XlsController {\r\n\r\n        @GetMapping\r\n        public ResponseEntity&lt;byte[]&gt; get() {\r\n            try {\r\n                final byte[] data = getData();\r\n                String fileName = &quot;test.xlsx&quot;;\r\n\r\n                HttpHeaders header = new HttpHeaders();\r\n                header.setContentLength(data.length);\r\n    //            header.setContentType(MediaType.parseMediaType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8&quot;));\r\n    //            header.setContentType(MediaType.parseMediaType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;));\r\n                header.setContentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;));\r\n                header.setCacheControl(CacheControl.noCache());\r\n                header.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + fileName);\r\n\r\n                return new ResponseEntity&lt;&gt;(data, header, HttpStatus.OK);\r\n            } catch (Exception e) {\r\n                return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n        }\r\n\r\n        private byte[] getData() throws IOException {\r\n\r\n            String[][] data = {\r\n                    {&quot;A1&quot;, &quot;B1&quot;, &quot;C1&quot;, &quot;D1&quot;},\r\n                    {&quot;A2&quot;, &quot;B2&quot;, &quot;C2&quot;, &quot;D2&quot;}\r\n            };\r\n\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\n            try (Workbook workbook = new XSSFWorkbook()) {\r\n                int rowNumber = 0;\r\n                int totalNumberOfColumns = 4;\r\n                int totalNumberOfRows = 2;\r\n\r\n                Sheet sheet = workbook.createSheet(&quot;Test Sheet&quot;);\r\n                Row row = sheet.createRow(rowNumber);\r\n                Cell cell;\r\n\r\n                for (int i = 0; i &lt; totalNumberOfRows; i++) {\r\n                    for (int j = 0; j &lt; totalNumberOfColumns; j++) {\r\n                        cell = row.createCell(i);\r\n                        cell.setCellValue(data[i][j]);\r\n                    }\r\n                }\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                baos.close();\r\n            }\r\n\r\n            return baos.toByteArray();\r\n        }\r\n    }\r\n```\r\n\r\nThanks in advance.","title":"Spring boot - downloading xlsx file - cannot open","body":"<p>I'm trying to create an endpoint that returns xlsx file to download.</p>\n<p>When I'm trying to open this generated file with OpenOffice then everything works fine.\nIt doesn't work with Microsoft Excel, when trying to open it shows something like &quot;excel cannot open the file due to invalid format&quot;.</p>\n<p>Unfortunatelly I have no idea why is that.\nI did try (as you can see in the code snippet) different content types.</p>\n<p>This is sample of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.example.demo;\n\n    import org.apache.poi.ss.usermodel.Cell;\n    import org.apache.poi.ss.usermodel.Row;\n    import org.apache.poi.ss.usermodel.Sheet;\n    import org.apache.poi.ss.usermodel.Workbook;\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\n    import org.springframework.http.*;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RestController;\n\n    import java.io.ByteArrayOutputStream;\n    import java.io.IOException;\n\n    @RestController\n    @RequestMapping(&quot;/xls&quot;)\n    public class XlsController {\n\n        @GetMapping\n        public ResponseEntity&lt;byte[]&gt; get() {\n            try {\n                final byte[] data = getData();\n                String fileName = &quot;test.xlsx&quot;;\n\n                HttpHeaders header = new HttpHeaders();\n                header.setContentLength(data.length);\n    //            header.setContentType(MediaType.parseMediaType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8&quot;));\n    //            header.setContentType(MediaType.parseMediaType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;));\n                header.setContentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;));\n                header.setCacheControl(CacheControl.noCache());\n                header.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + fileName);\n\n                return new ResponseEntity&lt;&gt;(data, header, HttpStatus.OK);\n            } catch (Exception e) {\n                return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n            }\n        }\n\n        private byte[] getData() throws IOException {\n\n            String[][] data = {\n                    {&quot;A1&quot;, &quot;B1&quot;, &quot;C1&quot;, &quot;D1&quot;},\n                    {&quot;A2&quot;, &quot;B2&quot;, &quot;C2&quot;, &quot;D2&quot;}\n            };\n\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n            try (Workbook workbook = new XSSFWorkbook()) {\n                int rowNumber = 0;\n                int totalNumberOfColumns = 4;\n                int totalNumberOfRows = 2;\n\n                Sheet sheet = workbook.createSheet(&quot;Test Sheet&quot;);\n                Row row = sheet.createRow(rowNumber);\n                Cell cell;\n\n                for (int i = 0; i &lt; totalNumberOfRows; i++) {\n                    for (int j = 0; j &lt; totalNumberOfColumns; j++) {\n                        cell = row.createCell(i);\n                        cell.setCellValue(data[i][j]);\n                    }\n                }\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                baos.close();\n            }\n\n            return baos.toByteArray();\n        }\n    }\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","kotlin","ssl","ktor"],"comments":[{"owner":{"account_id":19118793,"reputation":5178,"user_id":13963150,"display_name":"Aleksei Tirman"},"score":0,"creation_date":1661163186,"post_id":73277416,"comment_id":129698059,"body_markdown":"Answered in https://youtrack.jetbrains.com/issue/KTOR-4730","body":"Answered in <a href=\"https://youtrack.jetbrains.com/issue/KTOR-4730\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KTOR-4730</a>"}],"owner":{"account_id":22468266,"reputation":21,"user_id":16669077,"display_name":"Ous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659964514,"creation_date":1659959356,"question_id":73277416,"body_markdown":"I an trying to set up SSL on a Ktor Server on Android. The certificates are loaded at runtime, so i am using a AndroidKeyStore to store them. However, ktor is unable to initialize. It seems like AndroidKeyStore is implented to throw an exception whenever a *KeyStorePassword* is provided. So to add the key to AndroidKeyStore, i have to provide a *null* password like so ```keystore.setKeyEntry(alias, keyPair.private, null, arrayOf(certificate))```\r\n\r\nBut when i then pass the keystore to ktor, i get a NullPointerException, because ktor tries to interact with the password when it is null. My ktor setup looks like \r\n```kotlin\r\nembeddedServer(Netty, applicationEngineEnvironment {\r\n  sslConnector(\r\n    keyStore = keyStore,\r\n    keyAlias = alias,\r\n    keyStorePassword = { charArrayOf() },\r\n    privateKeyPassword = { charArrayOf() }\r\n    )\r\n})\r\n```\r\n\r\nI have tried both versions 2.0.3 and 1.6,8 of Ktor, and am using Android sdk version 28 \r\n\r\nSo my queston is - is there any way to use AndroidKeyStore with ktor, and if not, what would be the best alternative with regards to security?","title":"Setting up SSL on ktor server using Android Keystore","body":"<p>I an trying to set up SSL on a Ktor Server on Android. The certificates are loaded at runtime, so i am using a AndroidKeyStore to store them. However, ktor is unable to initialize. It seems like AndroidKeyStore is implented to throw an exception whenever a <em>KeyStorePassword</em> is provided. So to add the key to AndroidKeyStore, i have to provide a <em>null</em> password like so <code>keystore.setKeyEntry(alias, keyPair.private, null, arrayOf(certificate))</code></p>\n<p>But when i then pass the keystore to ktor, i get a NullPointerException, because ktor tries to interact with the password when it is null. My ktor setup looks like</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>embeddedServer(Netty, applicationEngineEnvironment {\n  sslConnector(\n    keyStore = keyStore,\n    keyAlias = alias,\n    keyStorePassword = { charArrayOf() },\n    privateKeyPassword = { charArrayOf() }\n    )\n})\n</code></pre>\n<p>I have tried both versions 2.0.3 and 1.6,8 of Ktor, and am using Android sdk version 28</p>\n<p>So my queston is - is there any way to use AndroidKeyStore with ktor, and if not, what would be the best alternative with regards to security?</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":5,"creation_date":1534422555,"post_id":12026885,"comment_id":90705357,"body_markdown":"Not sure this is off-topic.  The question is not &quot;what library does this&quot; but &quot;how can I do this with apache common utils&quot;.","body":"Not sure this is off-topic.  The question is not &quot;what library does this&quot; but &quot;how can I do this with apache common utils&quot;."},{"owner":{"account_id":2666781,"reputation":1100,"user_id":2305034,"display_name":"Endery"},"score":1,"creation_date":1537776939,"post_id":12026885,"comment_id":91891748,"body_markdown":"@FlorianF I agree with you. This question and its answers are very useful, and it could be well saved with a small edit. It was a lazy action to close it hastily.","body":"@FlorianF I agree with you. This question and its answers are very useful, and it could be well saved with a small edit. It was a lazy action to close it hastily."},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":0,"creation_date":1574248220,"post_id":12026885,"comment_id":104161792,"body_markdown":"Found useful blog post with nice class and benchmarks here : https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/","body":"Found useful blog post with nice class and benchmarks here : <a href=\"https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/\" rel=\"nofollow noreferrer\">e.printstacktrace.blog/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":2,"up_vote_count":365,"is_accepted":true,"score":363,"last_activity_date":1468371743,"creation_date":1345383487,"answer_id":12026908,"question_id":12026885,"body_markdown":"Check out &lt;a href=&quot;https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Lists.html#partition(java.util.List, int)&quot;&gt;  `Lists.partition(java.util.List, int)`&lt;/a&gt; from [Google Guava](http://code.google.com/p/guava-libraries/):\r\n\r\n&gt; Returns consecutive sublists of a list, each of the same size (the final list may be smaller). For example, partitioning a list containing `[a, b, c, d, e]` with a partition size of 3 yields `[[a, b, c]`, `[d, e]]` -- an outer list containing two inner lists of three and two elements, all in the original order.","title":"Is there a common Java utility to break a list into batches?","body":"<p>Check out <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Lists.html#partition(java.util.List,%20int)\" rel=\"noreferrer\">  <code>Lists.partition(java.util.List, int)</code></a> from <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava</a>:</p>\n\n<blockquote>\n  <p>Returns consecutive sublists of a list, each of the same size (the final list may be smaller). For example, partitioning a list containing <code>[a, b, c, d, e]</code> with a partition size of 3 yields <code>[[a, b, c]</code>, <code>[d, e]]</code> -- an outer list containing two inner lists of three and two elements, all in the original order.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1427719,"reputation":27,"user_id":1350826,"display_name":"Yohann"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1366869755,"creation_date":1366869755,"answer_id":16207471,"question_id":12026885,"body_markdown":"    List&lt;T&gt; batch = collection.subList(i,i+nextInc);\r\n    -&gt;\r\n    List&lt;T&gt; batch = collection.subList(i, i = i + nextInc);","title":"Is there a common Java utility to break a list into batches?","body":"<pre><code>List&lt;T&gt; batch = collection.subList(i,i+nextInc);\n-&gt;\nList&lt;T&gt; batch = collection.subList(i, i = i + nextInc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2433199,"reputation":1366,"user_id":2123680,"display_name":"Thomas Darimont"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1426638461,"creation_date":1426637187,"answer_id":29111959,"question_id":12026885,"body_markdown":"The following example demonstrates chunking of a List:\r\n \r\n\r\n    package de.thomasdarimont.labs;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class SplitIntoChunks {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tList&lt;Integer&gt; ints = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11);\r\n    \r\n    \t\tList&lt;List&lt;Integer&gt;&gt; chunks = chunk(ints, 4);\r\n    \r\n    \t\tSystem.out.printf(&quot;Ints:   %s%n&quot;, ints);\r\n    \t\tSystem.out.printf(&quot;Chunks: %s%n&quot;, chunks);\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; chunk(List&lt;T&gt; input, int chunkSize) {\r\n    \r\n    \t\tint inputSize = input.size();\r\n    \t\tint chunkCount = (int) Math.ceil(inputSize / (double) chunkSize);\r\n    \r\n    \t\tMap&lt;Integer, List&lt;T&gt;&gt; map = new HashMap&lt;&gt;(chunkCount);\r\n    \t\tList&lt;List&lt;T&gt;&gt; chunks = new ArrayList&lt;&gt;(chunkCount);\r\n    \r\n    \t\tfor (int i = 0; i &lt; inputSize; i++) {\r\n    \r\n    \t\t\tmap.computeIfAbsent(i / chunkSize, (ignore) -&gt; {\r\n    \r\n    \t\t\t\tList&lt;T&gt; chunk = new ArrayList&lt;&gt;();\r\n    \t\t\t\tchunks.add(chunk);\r\n    \t\t\t\treturn chunk;\r\n    \r\n    \t\t\t}).add(input.get(i));\r\n    \t\t}\r\n    \r\n    \t\treturn chunks;\r\n    \t}\r\n    }\r\n\r\n\r\n \r\nOutput:\r\n \r\n\r\n    Ints:   [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]\r\n    Chunks: [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11]]","title":"Is there a common Java utility to break a list into batches?","body":"<p>The following example demonstrates chunking of a List:</p>\n\n<pre><code>package de.thomasdarimont.labs;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class SplitIntoChunks {\n\n    public static void main(String[] args) {\n\n        List&lt;Integer&gt; ints = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11);\n\n        List&lt;List&lt;Integer&gt;&gt; chunks = chunk(ints, 4);\n\n        System.out.printf(\"Ints:   %s%n\", ints);\n        System.out.printf(\"Chunks: %s%n\", chunks);\n    }\n\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; chunk(List&lt;T&gt; input, int chunkSize) {\n\n        int inputSize = input.size();\n        int chunkCount = (int) Math.ceil(inputSize / (double) chunkSize);\n\n        Map&lt;Integer, List&lt;T&gt;&gt; map = new HashMap&lt;&gt;(chunkCount);\n        List&lt;List&lt;T&gt;&gt; chunks = new ArrayList&lt;&gt;(chunkCount);\n\n        for (int i = 0; i &lt; inputSize; i++) {\n\n            map.computeIfAbsent(i / chunkSize, (ignore) -&gt; {\n\n                List&lt;T&gt; chunk = new ArrayList&lt;&gt;();\n                chunks.add(chunk);\n                return chunk;\n\n            }).add(input.get(i));\n        }\n\n        return chunks;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Ints:   [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]\nChunks: [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":122,"is_accepted":false,"score":122,"last_activity_date":1601021768,"creation_date":1430904184,"answer_id":30072617,"question_id":12026885,"body_markdown":"In case you want to produce a Java-8 stream of batches, you can try the following code:\r\n\r\n\tpublic static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; batches(List&lt;T&gt; source, int length) {\r\n        if (length &lt;= 0)\r\n            throw new IllegalArgumentException(&quot;length = &quot; + length);\r\n        int size = source.size();\r\n        if (size &lt;= 0)\r\n            return Stream.empty();\r\n        int fullChunks = (size - 1) / length;\r\n        return IntStream.range(0, fullChunks + 1).mapToObj(\r\n            n -&gt; source.subList(n * length, n == fullChunks ? size : (n + 1) * length));\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14);\r\n\r\n\t\tSystem.out.println(&quot;By 3:&quot;);\r\n\t\tbatches(list, 3).forEach(System.out::println);\r\n\t\t\r\n\t\tSystem.out.println(&quot;By 4:&quot;);\r\n\t\tbatches(list, 4).forEach(System.out::println);\r\n\t}\r\n\r\nOutput:\r\n\r\n\tBy 3:\r\n\t[1, 2, 3]\r\n\t[4, 5, 6]\r\n\t[7, 8, 9]\r\n\t[10, 11, 12]\r\n\t[13, 14]\r\n\tBy 4:\r\n\t[1, 2, 3, 4]\r\n\t[5, 6, 7, 8]\r\n\t[9, 10, 11, 12]\r\n\t[13, 14]","title":"Is there a common Java utility to break a list into batches?","body":"<p>In case you want to produce a Java-8 stream of batches, you can try the following code:</p>\n<pre><code>public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; batches(List&lt;T&gt; source, int length) {\n    if (length &lt;= 0)\n        throw new IllegalArgumentException(&quot;length = &quot; + length);\n    int size = source.size();\n    if (size &lt;= 0)\n        return Stream.empty();\n    int fullChunks = (size - 1) / length;\n    return IntStream.range(0, fullChunks + 1).mapToObj(\n        n -&gt; source.subList(n * length, n == fullChunks ? size : (n + 1) * length));\n}\n\npublic static void main(String[] args) {\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14);\n\n    System.out.println(&quot;By 3:&quot;);\n    batches(list, 3).forEach(System.out::println);\n    \n    System.out.println(&quot;By 4:&quot;);\n    batches(list, 4).forEach(System.out::println);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>By 3:\n[1, 2, 3]\n[4, 5, 6]\n[7, 8, 9]\n[10, 11, 12]\n[13, 14]\nBy 4:\n[1, 2, 3, 4]\n[5, 6, 7, 8]\n[9, 10, 11, 12]\n[13, 14]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6932166,"reputation":782,"user_id":5321324,"display_name":"Nicolas Nobelis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1441965183,"creation_date":1441965183,"answer_id":32520597,"question_id":12026885,"body_markdown":"Using various cheats from the web, I came to this solution:\r\n\r\n    int[] count = new int[1];\r\n\tfinal int CHUNK_SIZE = 500;\r\n\tMap&lt;Integer, List&lt;Long&gt;&gt; chunkedUsers = users.stream().collect( Collectors.groupingBy( \r\n        user -&gt; {\r\n\t\t\tcount[0]++;\r\n\t\t\treturn Math.floorDiv( count[0], CHUNK_SIZE );\r\n\t    } )\r\n    );\r\n\r\nWe use count to mimic a normal collection index.  \r\nThen, we group the collection elements in buckets, using the algebraic quotient as bucket number.  \r\nThe final map contains as **key** the bucket number, as **value** the bucket itself.\r\n\r\nYou can then easily do an operation on each of the buckets with:\r\n\r\n    chunkedUsers.values().forEach( ... );","title":"Is there a common Java utility to break a list into batches?","body":"<p>Using various cheats from the web, I came to this solution:</p>\n\n<pre><code>int[] count = new int[1];\nfinal int CHUNK_SIZE = 500;\nMap&lt;Integer, List&lt;Long&gt;&gt; chunkedUsers = users.stream().collect( Collectors.groupingBy( \n    user -&gt; {\n        count[0]++;\n        return Math.floorDiv( count[0], CHUNK_SIZE );\n    } )\n);\n</code></pre>\n\n<p>We use count to mimic a normal collection index.<br>\nThen, we group the collection elements in buckets, using the algebraic quotient as bucket number.<br>\nThe final map contains as <strong>key</strong> the bucket number, as <strong>value</strong> the bucket itself.</p>\n\n<p>You can then easily do an operation on each of the buckets with:</p>\n\n<pre><code>chunkedUsers.values().forEach( ... );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8054262,"reputation":101,"user_id":6071903,"display_name":"Raz Coren"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1534772688,"creation_date":1458135104,"answer_id":36037158,"question_id":12026885,"body_markdown":"I came up with this one:\r\n\r\n    private static &lt;T&gt; List&lt;List&lt;T&gt;&gt; partition(Collection&lt;T&gt; members, int maxSize)\r\n    {\r\n        List&lt;List&lt;T&gt;&gt; res = new ArrayList&lt;&gt;();\r\n    \r\n        List&lt;T&gt; internal = new ArrayList&lt;&gt;();\r\n    \r\n        for (T member : members)\r\n        {\r\n            internal.add(member);\r\n    \r\n            if (internal.size() == maxSize)\r\n            {\r\n                res.add(internal);\r\n                internal = new ArrayList&lt;&gt;();\r\n            }\r\n        }\r\n        if (internal.isEmpty() == false)\r\n        {\r\n            res.add(internal);\r\n        }\r\n        return res;\r\n    }\r\n\r\n","title":"Is there a common Java utility to break a list into batches?","body":"<p>I came up with this one:</p>\n\n<pre><code>private static &lt;T&gt; List&lt;List&lt;T&gt;&gt; partition(Collection&lt;T&gt; members, int maxSize)\n{\n    List&lt;List&lt;T&gt;&gt; res = new ArrayList&lt;&gt;();\n\n    List&lt;T&gt; internal = new ArrayList&lt;&gt;();\n\n    for (T member : members)\n    {\n        internal.add(member);\n\n        if (internal.size() == maxSize)\n        {\n            res.add(internal);\n            internal = new ArrayList&lt;&gt;();\n        }\n    }\n    if (internal.isEmpty() == false)\n    {\n        res.add(internal);\n    }\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1940194,"reputation":486,"user_id":1746550,"display_name":"Adrian Bona"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1483687309,"creation_date":1483686963,"answer_id":41500804,"question_id":12026885,"body_markdown":"Another approach is to use `Collectors.groupingBy` of indices and then map the grouped indices to the actual elements:  \n\n        final List&lt;Integer&gt; numbers = range(1, 12)\n                .boxed()\n                .collect(toList());\n        System.out.println(numbers);\n\n        final List&lt;List&lt;Integer&gt;&gt; groups = range(0, numbers.size())\n                .boxed()\n                .collect(groupingBy(index -&gt; index / 4))\n                .values()\n                .stream()\n                .map(indices -&gt; indices\n                        .stream()\n                        .map(numbers::get)\n                        .collect(toList()))\n                .collect(toList());\n        System.out.println(groups);\n\nOutput:\n\n&gt;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]\n&gt;\n&gt;[[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11]]\n","title":"Is there a common Java utility to break a list into batches?","body":"<p>Another approach is to use <code>Collectors.groupingBy</code> of indices and then map the grouped indices to the actual elements:</p>\n<pre><code>    final List&lt;Integer&gt; numbers = range(1, 12)\n            .boxed()\n            .collect(toList());\n    System.out.println(numbers);\n\n    final List&lt;List&lt;Integer&gt;&gt; groups = range(0, numbers.size())\n            .boxed()\n            .collect(groupingBy(index -&gt; index / 4))\n            .values()\n            .stream()\n            .map(indices -&gt; indices\n                    .stream()\n                    .map(numbers::get)\n                    .collect(toList()))\n            .collect(toList());\n    System.out.println(groups);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]</p>\n<p>[[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11]]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6111662,"reputation":665,"user_id":4767829,"display_name":"Stefan Reisner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550147777,"creation_date":1550147777,"answer_id":54690560,"question_id":12026885,"body_markdown":"There was [another question][1] that was closed as being a duplicate of this one, but if you read it closely, it&#39;s subtly different. So in case someone (like me) actually wants to split a list into *a given number of almost equally sized sublists*, then read on.\r\n\r\nI simply ported the algorithm described [here][2] to Java.\r\n\r\n    @Test\r\n    public void shouldPartitionListIntoAlmostEquallySizedSublists() {\r\n\r\n        List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\r\n        int numberOfPartitions = 3;\r\n\r\n        List&lt;List&lt;String&gt;&gt; split = IntStream.range(0, numberOfPartitions).boxed()\r\n                .map(i -&gt; list.subList(\r\n                        partitionOffset(list.size(), numberOfPartitions, i),\r\n                        partitionOffset(list.size(), numberOfPartitions, i + 1)))\r\n                .collect(toList());\r\n\r\n        assertThat(split, hasSize(numberOfPartitions));\r\n        assertEquals(list.size(), split.stream().flatMap(Collection::stream).count());\r\n        assertThat(split, hasItems(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;), Arrays.asList(&quot;d&quot;, &quot;e&quot;), Arrays.asList(&quot;f&quot;, &quot;g&quot;)));\r\n    }\r\n\r\n    private static int partitionOffset(int length, int numberOfPartitions, int partitionIndex) {\r\n        return partitionIndex * (length / numberOfPartitions) + Math.min(partitionIndex, length % numberOfPartitions);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41265999/java-splitting-list-of-strings-into-smaller-list\r\n  [2]: https://stackoverflow.com/questions/2130016/splitting-a-list-into-n-parts-of-approximately-equal-length/37414115#37414115","title":"Is there a common Java utility to break a list into batches?","body":"<p>There was <a href=\"https://stackoverflow.com/questions/41265999/java-splitting-list-of-strings-into-smaller-list\">another question</a> that was closed as being a duplicate of this one, but if you read it closely, it's subtly different. So in case someone (like me) actually wants to split a list into <em>a given number of almost equally sized sublists</em>, then read on.</p>\n\n<p>I simply ported the algorithm described <a href=\"https://stackoverflow.com/questions/2130016/splitting-a-list-into-n-parts-of-approximately-equal-length/37414115#37414115\">here</a> to Java.</p>\n\n<pre><code>@Test\npublic void shouldPartitionListIntoAlmostEquallySizedSublists() {\n\n    List&lt;String&gt; list = Arrays.asList(\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\");\n    int numberOfPartitions = 3;\n\n    List&lt;List&lt;String&gt;&gt; split = IntStream.range(0, numberOfPartitions).boxed()\n            .map(i -&gt; list.subList(\n                    partitionOffset(list.size(), numberOfPartitions, i),\n                    partitionOffset(list.size(), numberOfPartitions, i + 1)))\n            .collect(toList());\n\n    assertThat(split, hasSize(numberOfPartitions));\n    assertEquals(list.size(), split.stream().flatMap(Collection::stream).count());\n    assertThat(split, hasItems(Arrays.asList(\"a\", \"b\", \"c\"), Arrays.asList(\"d\", \"e\"), Arrays.asList(\"f\", \"g\")));\n}\n\nprivate static int partitionOffset(int length, int numberOfPartitions, int partitionIndex) {\n    return partitionIndex * (length / numberOfPartitions) + Math.min(partitionIndex, length % numberOfPartitions);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13364735,"reputation":1,"user_id":11443191,"display_name":"Jurrian Fahner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556819796,"creation_date":1556819796,"answer_id":55957845,"question_id":12026885,"body_markdown":"Another approach to solve this, question:\r\n\r\n    public class CollectionUtils {\r\n\r\n        /**\r\n        * Splits the collection into lists with given batch size\r\n        * @param collection to split in to batches\r\n        * @param batchsize size of the batch\r\n        * @param &lt;T&gt; it maintains the input type to output type\r\n        * @return nested list\r\n        */\r\n        public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; makeBatch(Collection&lt;T&gt; collection, int batchsize) {\r\n\r\n            List&lt;List&lt;T&gt;&gt; totalArrayList = new ArrayList&lt;&gt;();\r\n            List&lt;T&gt; tempItems = new ArrayList&lt;&gt;();\r\n\r\n            Iterator&lt;T&gt; iterator = collection.iterator();\r\n\r\n            for (int i = 0; i &lt; collection.size(); i++) {\r\n                tempItems.add(iterator.next());\r\n                if ((i+1) % batchsize == 0) {\r\n                    totalArrayList.add(tempItems);\r\n                    tempItems = new ArrayList&lt;&gt;();\r\n                }\r\n            }\r\n\r\n            if (tempItems.size() &gt; 0) {\r\n                totalArrayList.add(tempItems);\r\n            }\r\n\r\n            return totalArrayList;\r\n        }\r\n\r\n    }","title":"Is there a common Java utility to break a list into batches?","body":"<p>Another approach to solve this, question:</p>\n\n<pre><code>public class CollectionUtils {\n\n    /**\n    * Splits the collection into lists with given batch size\n    * @param collection to split in to batches\n    * @param batchsize size of the batch\n    * @param &lt;T&gt; it maintains the input type to output type\n    * @return nested list\n    */\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; makeBatch(Collection&lt;T&gt; collection, int batchsize) {\n\n        List&lt;List&lt;T&gt;&gt; totalArrayList = new ArrayList&lt;&gt;();\n        List&lt;T&gt; tempItems = new ArrayList&lt;&gt;();\n\n        Iterator&lt;T&gt; iterator = collection.iterator();\n\n        for (int i = 0; i &lt; collection.size(); i++) {\n            tempItems.add(iterator.next());\n            if ((i+1) % batchsize == 0) {\n                totalArrayList.add(tempItems);\n                tempItems = new ArrayList&lt;&gt;();\n            }\n        }\n\n        if (tempItems.size() &gt; 0) {\n            totalArrayList.add(tempItems);\n        }\n\n        return totalArrayList;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1558810712,"creation_date":1558810712,"answer_id":56307837,"question_id":12026885,"body_markdown":"With Java 9 you can use [`IntStream.iterate()`](https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntPredicate-java.util.function.IntUnaryOperator-) with `hasNext` condition. So you can simplify the code of your method to this:\r\n\r\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; getBatches(List&lt;T&gt; collection, int batchSize) {\r\n        return IntStream.iterate(0, i -&gt; i &lt; collection.size(), i -&gt; i + batchSize)\r\n                .mapToObj(i -&gt; collection.subList(i, Math.min(i + batchSize, collection.size())))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\nUsing `{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}`, the result of `getBatches(numbers, 4)` will be:\r\n\r\n    [[0, 1, 2, 3], [4, 5, 6, 7], [8, 9]]","title":"Is there a common Java utility to break a list into batches?","body":"<p>With Java 9 you can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntPredicate-java.util.function.IntUnaryOperator-\" rel=\"noreferrer\"><code>IntStream.iterate()</code></a> with <code>hasNext</code> condition. So you can simplify the code of your method to this:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; getBatches(List&lt;T&gt; collection, int batchSize) {\n    return IntStream.iterate(0, i -&gt; i &lt; collection.size(), i -&gt; i + batchSize)\n            .mapToObj(i -&gt; collection.subList(i, Math.min(i + batchSize, collection.size())))\n            .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>Using <code>{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}</code>, the result of <code>getBatches(numbers, 4)</code> will be:</p>\n\n<pre><code>[[0, 1, 2, 3], [4, 5, 6, 7], [8, 9]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10123132,"reputation":639,"user_id":7479415,"display_name":"Paul Rambags"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1578298160,"creation_date":1559052580,"answer_id":56344132,"question_id":12026885,"body_markdown":"Use Apache Commons [ListUtils.partition][1].\r\n\r\n    org.apache.commons.collections4.ListUtils.partition(final List&lt;T&gt; list, final int size)\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html#partition-java.util.List-int-","title":"Is there a common Java utility to break a list into batches?","body":"<p>Use Apache Commons <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html#partition-java.util.List-int-\" rel=\"noreferrer\">ListUtils.partition</a>.</p>\n\n<pre><code>org.apache.commons.collections4.ListUtils.partition(final List&lt;T&gt; list, final int size)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11634709,"reputation":11,"user_id":8521519,"display_name":"v87278"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1560851286,"creation_date":1560851286,"answer_id":56646281,"question_id":12026885,"body_markdown":"`import com.google.common.collect.Lists;`\r\n\r\n`List&lt;List&lt;T&gt;&gt; batches = Lists.partition(List&lt;T&gt;,batchSize)`\r\n\r\nUse Lists.partition(List&lt;T&gt;,batchSize). You need to import `Lists` from google common package (`com.google.common.collect.Lists`)\r\n\r\nIt will return List of `List&lt;T&gt;` with and the size of every element equal to your `batchSize`.","title":"Is there a common Java utility to break a list into batches?","body":"<p><code>import com.google.common.collect.Lists;</code></p>\n\n<p><code>List&lt;List&lt;T&gt;&gt; batches = Lists.partition(List&lt;T&gt;,batchSize)</code></p>\n\n<p>Use Lists.partition(List,batchSize). You need to import <code>Lists</code> from google common package (<code>com.google.common.collect.Lists</code>)</p>\n\n<p>It will return List of <code>List&lt;T&gt;</code> with and the size of every element equal to your <code>batchSize</code>.</p>\n"},{"tags":[],"owner":{"account_id":32915,"reputation":10482,"user_id":1038182,"accept_rate":78,"display_name":"Ori Popowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563951800,"creation_date":1563951800,"answer_id":57177044,"question_id":12026885,"body_markdown":"A one-liner in Java 8 would be:\r\n\r\n    import static java.util.function.Function.identity;\r\n    import static java.util.stream.Collectors.*;\r\n\r\n    private static &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; partition(List&lt;T&gt; xs, int size) {\r\n        return IntStream.range(0, xs.size())\r\n                .boxed()\r\n                .collect(collectingAndThen(toMap(identity(), xs::get), Map::entrySet))\r\n                .stream()\r\n                .collect(groupingBy(x -&gt; x.getKey() / size, mapping(Map.Entry::getValue, toList())))\r\n                .values();\r\n\r\n    }\r\n\r\n\r\n","title":"Is there a common Java utility to break a list into batches?","body":"<p>A one-liner in Java 8 would be:</p>\n\n<pre><code>import static java.util.function.Function.identity;\nimport static java.util.stream.Collectors.*;\n\nprivate static &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; partition(List&lt;T&gt; xs, int size) {\n    return IntStream.range(0, xs.size())\n            .boxed()\n            .collect(collectingAndThen(toMap(identity(), xs::get), Map::entrySet))\n            .stream()\n            .collect(groupingBy(x -&gt; x.getKey() / size, mapping(Map.Entry::getValue, toList())))\n            .values();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3849012,"reputation":341,"user_id":3189611,"display_name":"atLeastD"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1569440700,"creation_date":1568962647,"answer_id":58023258,"question_id":12026885,"body_markdown":"Here is a simple solution for Java 8+:\r\n\r\n```java\r\npublic static &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; prepareChunks(List&lt;T&gt; inputList, int chunkSize) {\r\n\tAtomicInteger counter = new AtomicInteger();\r\n\treturn inputList.stream().collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / chunkSize)).values();\r\n}\r\n```","title":"Is there a common Java utility to break a list into batches?","body":"<p>Here is a simple solution for Java 8+:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; prepareChunks(List&lt;T&gt; inputList, int chunkSize) {\n    AtomicInteger counter = new AtomicInteger();\n    return inputList.stream().collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / chunkSize)).values();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4213691,"reputation":89,"user_id":3450628,"display_name":"ranjanm28"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1569485645,"creation_date":1569485645,"answer_id":58112365,"question_id":12026885,"body_markdown":"You can use below code to get the batch of list.\r\n\r\n   \r\n\r\n    Iterable&lt;List&lt;T&gt;&gt; batchIds = Iterables.partition(list, batchSize);\r\n\r\nYou need to import Google Guava library to use above code.\r\n","title":"Is there a common Java utility to break a list into batches?","body":"<p>You can use below code to get the batch of list.</p>\n\n<pre><code>Iterable&lt;List&lt;T&gt;&gt; batchIds = Iterables.partition(list, batchSize);\n</code></pre>\n\n<p>You need to import Google Guava library to use above code.</p>\n"},{"tags":[],"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571670565,"creation_date":1571670565,"answer_id":58489197,"question_id":12026885,"body_markdown":"Similar to OP without streams and libs, but conciser:\r\n\r\n    public &lt;T&gt; List&lt;List&lt;T&gt;&gt; getBatches(List&lt;T&gt; collection, int batchSize) {\r\n        List&lt;List&lt;T&gt;&gt; batches = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; collection.size(); i += batchSize) {\r\n            batches.add(collection.subList(i, Math.min(i + batchSize, collection.size())));\r\n        }\r\n        return batches;\r\n    }\r\n","title":"Is there a common Java utility to break a list into batches?","body":"<p>Similar to OP without streams and libs, but conciser:</p>\n\n<pre><code>public &lt;T&gt; List&lt;List&lt;T&gt;&gt; getBatches(List&lt;T&gt; collection, int batchSize) {\n    List&lt;List&lt;T&gt;&gt; batches = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; collection.size(); i += batchSize) {\n        batches.add(collection.subList(i, Math.min(i + batchSize, collection.size())));\n    }\n    return batches;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17652877,"reputation":491,"user_id":12813019,"display_name":"Sahar Pk"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1601021681,"creation_date":1601021681,"answer_id":64060361,"question_id":12026885,"body_markdown":"Here an example:   \r\n\r\n    final AtomicInteger counter = new AtomicInteger();\r\n    final int partitionSize=3;\r\n    final List&lt;Object&gt; list=new ArrayList&lt;&gt;();\r\n                list.add(&quot;A&quot;);\r\n                list.add(&quot;B&quot;);\r\n                list.add(&quot;C&quot;);\r\n                list.add(&quot;D&quot;);\r\n                list.add(&quot;E&quot;);\r\n           \r\n            \r\n    final Collection&lt;List&lt;Object&gt;&gt; subLists=list.stream().collect(Collectors.groupingBy\r\n                    (it-&gt;counter.getAndIncrement() / partitionSize))\r\n                    .values();\r\n            System.out.println(subLists);\r\n\r\n**Input:**\r\n[A, B, C, D, E]\r\n\r\n**Output:**\r\n[[A, B, C], [D, E]]\r\n\r\n\r\nYou can find examples here: \r\nhttps://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/\r\n \r\n\r\n","title":"Is there a common Java utility to break a list into batches?","body":"<p>Here an example:</p>\n<pre><code>final AtomicInteger counter = new AtomicInteger();\nfinal int partitionSize=3;\nfinal List&lt;Object&gt; list=new ArrayList&lt;&gt;();\n            list.add(&quot;A&quot;);\n            list.add(&quot;B&quot;);\n            list.add(&quot;C&quot;);\n            list.add(&quot;D&quot;);\n            list.add(&quot;E&quot;);\n       \n        \nfinal Collection&lt;List&lt;Object&gt;&gt; subLists=list.stream().collect(Collectors.groupingBy\n                (it-&gt;counter.getAndIncrement() / partitionSize))\n                .values();\n        System.out.println(subLists);\n</code></pre>\n<p><strong>Input:</strong>\n[A, B, C, D, E]</p>\n<p><strong>Output:</strong>\n[[A, B, C], [D, E]]</p>\n<p>You can find examples here:\n<a href=\"https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/\" rel=\"noreferrer\">https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/</a></p>\n"},{"tags":[],"owner":{"account_id":3887647,"reputation":1091,"user_id":3218627,"accept_rate":38,"display_name":"Nether"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642098243,"creation_date":1618907182,"answer_id":67175160,"question_id":12026885,"body_markdown":"Note that `List#subList()` returns a view of the underlying collection, which can result in unexpected consequences when editing the smaller lists - the edits will reflect in the original collection or may throw `ConcurrentModificationException`.","title":"Is there a common Java utility to break a list into batches?","body":"<p>Note that <code>List#subList()</code> returns a view of the underlying collection, which can result in unexpected consequences when editing the smaller lists - the edits will reflect in the original collection or may throw <code>ConcurrentModificationException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1054537,"reputation":20508,"user_id":1057547,"accept_rate":40,"display_name":"dognose"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638910869,"creation_date":1638908352,"answer_id":70266455,"question_id":12026885,"body_markdown":"Here&#39;s a solution using vanilla java and the super secret modulo operator :)\r\n\r\nGiven the content/order of the chunks doesn&#39;t matter, this would be the easiest approach. (When preparing stuff for multi-threading it usually doesn&#39;t matter, which elements are processed on which thread for example, just need an equal distribution).\r\n\r\n\tpublic static &lt;T&gt; List&lt;T&gt;[] chunk(List&lt;T&gt; input, int chunkCount) {\r\n\t\tList&lt;T&gt;[] chunks = new List[chunkCount];\r\n\r\n\t\tfor (int i = 0; i &lt; chunkCount; i++) {\r\n\t\t\tchunks[i] = new LinkedList&lt;T&gt;();\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; input.size(); i++) {\r\n\t\t\tchunks[i % chunkCount].add(input.get(i));\r\n\t\t}\r\n\r\n\t\treturn chunks;\r\n\t}\r\n\r\nUsage:\r\n\r\n\t\tList&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;);\r\n\r\n\t\tList&lt;String&gt;[] chunks = chunk(list, 4);\r\n\r\n\t\tfor (List&lt;String&gt; chunk : chunks) {\r\n\t\t\tSystem.out.println(chunk);\r\n\t\t}\r\n\r\nOutput:\r\n\r\n    [a, e, i]\r\n    [b, f, j]\r\n    [c, g]\r\n    [d, h]\r\n\r\n","title":"Is there a common Java utility to break a list into batches?","body":"<p>Here's a solution using vanilla java and the super secret modulo operator :)</p>\n<p>Given the content/order of the chunks doesn't matter, this would be the easiest approach. (When preparing stuff for multi-threading it usually doesn't matter, which elements are processed on which thread for example, just need an equal distribution).</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt;[] chunk(List&lt;T&gt; input, int chunkCount) {\n    List&lt;T&gt;[] chunks = new List[chunkCount];\n\n    for (int i = 0; i &lt; chunkCount; i++) {\n        chunks[i] = new LinkedList&lt;T&gt;();\n    }\n\n    for (int i = 0; i &lt; input.size(); i++) {\n        chunks[i % chunkCount].add(input.get(i));\n    }\n\n    return chunks;\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>    List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;);\n\n    List&lt;String&gt;[] chunks = chunk(list, 4);\n\n    for (List&lt;String&gt; chunk : chunks) {\n        System.out.println(chunk);\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>[a, e, i]\n[b, f, j]\n[c, g]\n[d, h]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8225641,"reputation":31,"user_id":6188038,"display_name":"riteshk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651670256,"creation_date":1651670256,"answer_id":72113632,"question_id":12026885,"body_markdown":"Below solution using Java 8 Streams:\r\n\r\n```\r\n\t\t//Sample Input\r\n\t\tList&lt;String&gt; input = new ArrayList&lt;String&gt;();\r\n\t\tIntStream.range(1,999).forEach((num) -&gt; {\r\n\t\t\tinput.add(&quot;&quot;+num);\r\n\t\t});\r\n\t\t\r\n\t\t//Identify no. of batches\r\n\t\tint BATCH_SIZE = 10;\r\n\t\tint multiples = input.size() /  BATCH_SIZE;\r\n\t\tif(input.size()%BATCH_SIZE!=0) {\r\n\t\t\tmultiples = multiples + 1;\r\n\t\t}\r\n\t\t\r\n\t\t//Process each batch\r\n\t\tIntStream.range(0, multiples).forEach((indx)-&gt;{\r\n\t\t\tList&lt;String&gt; batch = input.stream().skip(indx * BATCH_SIZE).limit(BATCH_SIZE).collect(Collectors.toList());\r\n\t\t\tSystem.out.println(&quot;Batch Items:&quot;+batch);\r\n\t\t});\r\n```","title":"Is there a common Java utility to break a list into batches?","body":"<p>Below solution using Java 8 Streams:</p>\n<pre><code>        //Sample Input\n        List&lt;String&gt; input = new ArrayList&lt;String&gt;();\n        IntStream.range(1,999).forEach((num) -&gt; {\n            input.add(&quot;&quot;+num);\n        });\n        \n        //Identify no. of batches\n        int BATCH_SIZE = 10;\n        int multiples = input.size() /  BATCH_SIZE;\n        if(input.size()%BATCH_SIZE!=0) {\n            multiples = multiples + 1;\n        }\n        \n        //Process each batch\n        IntStream.range(0, multiples).forEach((indx)-&gt;{\n            List&lt;String&gt; batch = input.stream().skip(indx * BATCH_SIZE).limit(BATCH_SIZE).collect(Collectors.toList());\n            System.out.println(&quot;Batch Items:&quot;+batch);\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3178065,"reputation":1032,"user_id":2685454,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659964510,"creation_date":1659963338,"answer_id":73278245,"question_id":12026885,"body_markdown":"if someone is looking for Kotlin version, here is \r\n\r\n    list.chunked(size)\r\n\r\nor\r\n\r\n    list.windowed(size)\r\n\r\n\r\n\r\nonce had an interview question and I wrote below one =D \r\n\r\n    fun &lt;T&gt; batch(list: List&lt;T&gt;, limit: Int): List&lt;List&lt;T&gt;&gt; {\r\n        val result = ArrayList&lt;List&lt;T&gt;&gt;()\r\n\r\n        var batch = ArrayList&lt;T&gt;()\r\n\r\n        for (i in list) {\r\n            batch.add(i)\r\n            if (batch.size == limit) {\r\n                result.add(batch)\r\n                batch = ArrayList()\r\n            }\r\n        }\r\n        if (batch.isNotEmpty()) {\r\n            result.add(batch)\r\n        }\r\n        return result\r\n    }","title":"Is there a common Java utility to break a list into batches?","body":"<p>if someone is looking for Kotlin version, here is</p>\n<pre><code>list.chunked(size)\n</code></pre>\n<p>or</p>\n<pre><code>list.windowed(size)\n</code></pre>\n<p>once had an interview question and I wrote below one =D</p>\n<pre><code>fun &lt;T&gt; batch(list: List&lt;T&gt;, limit: Int): List&lt;List&lt;T&gt;&gt; {\n    val result = ArrayList&lt;List&lt;T&gt;&gt;()\n\n    var batch = ArrayList&lt;T&gt;()\n\n    for (i in list) {\n        batch.add(i)\n        if (batch.size == limit) {\n            result.add(batch)\n            batch = ArrayList()\n        }\n    }\n    if (batch.isNotEmpty()) {\n        result.add(batch)\n    }\n    return result\n}\n</code></pre>\n"}],"owner":{"account_id":73480,"reputation":7699,"user_id":211599,"accept_rate":60,"display_name":"Harish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222738,"favorite_count":0,"down_vote_count":3,"up_vote_count":249,"accepted_answer_id":12026908,"answer_count":21,"score":246,"last_activity_date":1659964510,"creation_date":1345383263,"question_id":12026885,"body_markdown":"I wrote myself a utility to break a list into batches of given size. I just wanted to know if there is already any apache commons util for this.\r\n\r\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; getBatches(List&lt;T&gt; collection,int batchSize){\r\n\t\tint i = 0;\r\n\t\tList&lt;List&lt;T&gt;&gt; batches = new ArrayList&lt;List&lt;T&gt;&gt;();\r\n\t\twhile(i&lt;collection.size()){\r\n\t\t\tint nextInc = Math.min(collection.size()-i,batchSize);\r\n\t\t\tList&lt;T&gt; batch = collection.subList(i,i+nextInc);\r\n\t\t\tbatches.add(batch);\r\n\t\t\ti = i + nextInc;\r\n\t\t}\r\n\t\t\r\n\t\treturn batches;\r\n\t}\r\n\r\n\r\nPlease let me know if there any existing utility already for the same.","title":"Is there a common Java utility to break a list into batches?","body":"<p>I wrote myself a utility to break a list into batches of given size. I just wanted to know if there is already any apache commons util for this.</p>\n\n<pre><code>public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; getBatches(List&lt;T&gt; collection,int batchSize){\n    int i = 0;\n    List&lt;List&lt;T&gt;&gt; batches = new ArrayList&lt;List&lt;T&gt;&gt;();\n    while(i&lt;collection.size()){\n        int nextInc = Math.min(collection.size()-i,batchSize);\n        List&lt;T&gt; batch = collection.subList(i,i+nextInc);\n        batches.add(batch);\n        i = i + nextInc;\n    }\n\n    return batches;\n}\n</code></pre>\n\n<p>Please let me know if there any existing utility already for the same.</p>\n"},{"tags":["java","spring-boot","maven","maven-plugin","maven-assembly-plugin"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659967190,"post_id":73278110,"comment_id":129414256,"body_markdown":"Split your project into a jar that you reuse for both your war and your other project. Don&#39;t try to shoehorn the build into some frankenstein build that does both.","body":"Split your project into a jar that you reuse for both your war and your other project. Don&#39;t try to shoehorn the build into some frankenstein build that does both."}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659963632,"creation_date":1659963632,"answer_id":73278309,"question_id":73278110,"body_markdown":"You can try options `archiveClasses` and `attachClasses` of [maven-war-plugin][1]\r\n\r\nSo your configuration can look like:\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.3.2&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;archiveClasses&gt;true&lt;/archiveClasses&gt;\r\n    &lt;attachClasses&gt;true&lt;/attachClasses&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-war-plugin/war-mojo.html","title":"Maven: Generate both jar and war for the project using same pom.xml","body":"<p>You can try options <code>archiveClasses</code> and <code>attachClasses</code> of <a href=\"https://maven.apache.org/plugins/maven-war-plugin/war-mojo.html\" rel=\"nofollow noreferrer\">maven-war-plugin</a></p>\n<p>So your configuration can look like:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.3.2&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;archiveClasses&gt;true&lt;/archiveClasses&gt;\n    &lt;attachClasses&gt;true&lt;/attachClasses&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659964168,"creation_date":1659964168,"answer_id":73278410,"question_id":73278110,"body_markdown":"You should also use `maven-install-plugin` \r\n\r\nTry this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;artifactId&gt;demo-service&lt;/artifactId&gt;\r\n    \t&lt;name&gt;demo-service&lt;/name&gt;\r\n    \t&lt;description&gt;service demo&lt;/description&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t....\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;web-app-global-exceptions&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;attachClasses&gt;true&lt;/attachClasses&gt;\r\n    \t\t\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t\t\t\t\t\t\t&lt;webXml&gt;${basedir}/src/main/webapp/WEB-INF/web.xml&lt;/webXml&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;inplace&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;!--&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;make-a-jar&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;--&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n                     &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                     &lt;executions&gt;\r\n                         &lt;execution&gt;\r\n                              &lt;phase&gt;package&lt;/phase&gt;\r\n                              &lt;goals&gt;\r\n                                  &lt;goal&gt;single&lt;/goal&gt;\r\n                              &lt;/goals&gt;\r\n                          &lt;/execution&gt;\r\n                      &lt;/executions&gt;\r\n                      &lt;configuration&gt;\r\n                           &lt;archive&gt;\r\n                               &lt;manifest&gt;\r\n                               \t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            \t\t&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                                     &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n                               &lt;/manifest&gt;\r\n                           &lt;/archive&gt;\r\n                           &lt;descriptorRefs&gt;\r\n                               &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                          &lt;/descriptorRefs&gt;\r\n                     &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;Add-2-local-repository&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t\t\t\t\t\t\t&lt;!-- &lt;file&gt;${project.build.directory}\\${project.artifactId}-jar-with-dependencies.jar&lt;/file&gt; --&gt;\r\n    \t\t\t\t\t\t\t&lt;!-- &lt;file&gt;${project.build.directory}\\${project.artifactId}-${project.version}.jar&lt;/file&gt; --&gt;\r\n    \t\t\t\t\t\t\t&lt;file&gt;${project.build.directory}\\${project.artifactId}.jar&lt;/file&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;install-file&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;","title":"Maven: Generate both jar and war for the project using same pom.xml","body":"<p>You should also use <code>maven-install-plugin</code></p>\n<p>Try this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;demo-service&lt;/artifactId&gt;\n    &lt;name&gt;demo-service&lt;/name&gt;\n    &lt;description&gt;service demo&lt;/description&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    ....\n\n    &lt;build&gt;\n        &lt;finalName&gt;web-app-global-exceptions&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;attachClasses&gt;true&lt;/attachClasses&gt;\n                            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                            &lt;webXml&gt;${basedir}/src/main/webapp/WEB-INF/web.xml&lt;/webXml&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;inplace&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!--&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-a-jar&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;plugin&gt;\n                 &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                 &lt;executions&gt;\n                     &lt;execution&gt;\n                          &lt;phase&gt;package&lt;/phase&gt;\n                          &lt;goals&gt;\n                              &lt;goal&gt;single&lt;/goal&gt;\n                          &lt;/goals&gt;\n                      &lt;/execution&gt;\n                  &lt;/executions&gt;\n                  &lt;configuration&gt;\n                       &lt;archive&gt;\n                           &lt;manifest&gt;\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                                 &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n                           &lt;/manifest&gt;\n                       &lt;/archive&gt;\n                       &lt;descriptorRefs&gt;\n                           &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                      &lt;/descriptorRefs&gt;\n                 &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;Add-2-local-repository&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;packaging&gt;jar&lt;/packaging&gt;\n                            &lt;!-- &lt;file&gt;${project.build.directory}\\${project.artifactId}-jar-with-dependencies.jar&lt;/file&gt; --&gt;\n                            &lt;!-- &lt;file&gt;${project.build.directory}\\${project.artifactId}-${project.version}.jar&lt;/file&gt; --&gt;\n                            &lt;file&gt;${project.build.directory}\\${project.artifactId}.jar&lt;/file&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-file&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73278309,"answer_count":2,"score":0,"last_activity_date":1659964168,"creation_date":1659962691,"question_id":73278110,"body_markdown":"I have a project and i need to generate both jar and war of the project using same pom.xml.&lt;br/&gt;\r\nSo when i run &#39;mvn clean install&#39; it should generate both jar and war in my ~/m2 directory.&lt;br/&gt;\r\nI needed this jar to build my second project.&lt;br/&gt;\r\nBelow is the sample pom.xml.\r\n\r\n    &lt;artifactId&gt;demo-service&lt;/artifactId&gt;\r\n    &lt;name&gt;demo-service&lt;/name&gt;\r\n    &lt;description&gt;service demo&lt;/description&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    .\r\n    .\r\n    .\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.8.6&lt;/version&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t&lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n    \t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/*.properties&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/*.xml&lt;/exclude&gt;\r\n    \t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;default-war&lt;/id&gt;\r\n    \t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;finalName&gt;${pom.artifactId}&lt;/finalName&gt;\r\n    \t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n    \t\t\t\t&lt;descriptor&gt;src/main/assembly/assembly.xml&lt;/descriptor&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;create-archive&lt;/id&gt;\r\n    \t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThanks.","title":"Maven: Generate both jar and war for the project using same pom.xml","body":"<p>I have a project and i need to generate both jar and war of the project using same pom.xml.<br/>\nSo when i run 'mvn clean install' it should generate both jar and war in my ~/m2 directory.<br/>\nI needed this jar to build my second project.<br/>\nBelow is the sample pom.xml.</p>\n<pre><code>&lt;artifactId&gt;demo-service&lt;/artifactId&gt;\n&lt;name&gt;demo-service&lt;/name&gt;\n&lt;description&gt;service demo&lt;/description&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n.\n.\n.\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.6&lt;/version&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.properties&lt;/exclude&gt;\n                    &lt;exclude&gt;**/*.xml&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-war&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;finalName&gt;${pom.artifactId}&lt;/finalName&gt;\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                &lt;descriptor&gt;src/main/assembly/assembly.xml&lt;/descriptor&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;create-archive&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","sql","spring","jdbc"],"answers":[{"tags":[],"owner":{"account_id":8733443,"reputation":2180,"user_id":6532771,"accept_rate":100,"display_name":"Ivan Lymar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659963743,"creation_date":1468938961,"answer_id":38461546,"question_id":38461350,"body_markdown":"For column values you should use prepared statement. It makes injection impossible.Example  :\r\n\r\n    jdbcTemplate.query(&quot;Select * from user where id=?&quot;), new PreparedStatementSetter() {\r\n                public void setValues(PreparedStatement preparedStatement) throws SQLException\r\n                {\r\n                    preparedStatement.setLong(1, id);\r\n                }\r\n            }, new ResultSetExtractor&lt;User&gt;() {\r\n    ...                \r\n    }});\r\n\r\nUnfortunately, for column names, schema names, etc., you can use only concatenation or replace method:\r\n\r\n    &quot;SELECT quantity from $tableName where event_id=?&quot;.replace(&quot;$tableName&quot;, &quot;myTable&quot;)\r\n\r\nThe main thing that you should understand is that injection comes from end users and if those schema name, table name, etc., are inner info enduser can&#39;t change it. So you shouldn&#39;t be afraid of SQL injection.","title":"SQL injection vulnerability with order by clause in Java","body":"<p>For column values you should use prepared statement. It makes injection impossible.Example  :</p>\n<pre><code>jdbcTemplate.query(&quot;Select * from user where id=?&quot;), new PreparedStatementSetter() {\n            public void setValues(PreparedStatement preparedStatement) throws SQLException\n            {\n                preparedStatement.setLong(1, id);\n            }\n        }, new ResultSetExtractor&lt;User&gt;() {\n...                \n}});\n</code></pre>\n<p>Unfortunately, for column names, schema names, etc., you can use only concatenation or replace method:</p>\n<pre><code>&quot;SELECT quantity from $tableName where event_id=?&quot;.replace(&quot;$tableName&quot;, &quot;myTable&quot;)\n</code></pre>\n<p>The main thing that you should understand is that injection comes from end users and if those schema name, table name, etc., are inner info enduser can't change it. So you shouldn't be afraid of SQL injection.</p>\n"},{"tags":[],"owner":{"account_id":1297626,"reputation":1355,"user_id":1587973,"display_name":"WouterH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468939376,"creation_date":1468939376,"answer_id":38461700,"question_id":38461350,"body_markdown":"Most of those values sadly cannot be interpolated by prepared statements, which means that you&#39;re going to have to do your own escaping. Not sure if Veracode is smart enough to detect it, but I&#39;d go with `StringEscapeUtils.escapeSql` from apache commons lang","title":"SQL injection vulnerability with order by clause in Java","body":"<p>Most of those values sadly cannot be interpolated by prepared statements, which means that you're going to have to do your own escaping. Not sure if Veracode is smart enough to detect it, but I'd go with <code>StringEscapeUtils.escapeSql</code> from apache commons lang</p>\n"},{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659963793,"creation_date":1519300126,"answer_id":48926669,"question_id":38461350,"body_markdown":"Basic premise of fixing SQL injections is to not use your request object directly but by first sanitizing, validating and creating new objects / references (if needed), then fetching values from that sanitized object. \r\n\r\nSo, create a method to sanitize, validate &amp; get values that you wish to append for your order by clause and use that value instead of directly from request. \r\n\r\nAn `append` with `StringBuilder` will be OK provided you don&#39;t directly take values from non-sanitized request.\r\n\r\nIn my opinion, you seem to getting your %s from request directly and that is why Veracode is complaining. ","title":"SQL injection vulnerability with order by clause in Java","body":"<p>Basic premise of fixing SQL injections is to not use your request object directly but by first sanitizing, validating and creating new objects / references (if needed), then fetching values from that sanitized object.</p>\n<p>So, create a method to sanitize, validate &amp; get values that you wish to append for your order by clause and use that value instead of directly from request.</p>\n<p>An <code>append</code> with <code>StringBuilder</code> will be OK provided you don't directly take values from non-sanitized request.</p>\n<p>In my opinion, you seem to getting your %s from request directly and that is why Veracode is complaining.</p>\n"},{"tags":[],"owner":{"account_id":6502209,"reputation":1573,"user_id":5032538,"accept_rate":71,"display_name":"027"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659963547,"creation_date":1659963547,"answer_id":73278288,"question_id":38461350,"body_markdown":"Use enum, it will resolve the issue. Enum limits the values you can pass to that parameter. Hence it will allow only given values. Even most of the security detection tools also consider this and will not report this as issue. If you do not want to expose column name, have different values in enum with constructore.\r\n\r\n    public class RequestDTO {\r\n    \r\n    private SortOrder order;\r\n    private SortColumn colum;\r\n    \r\n    }\r\n    \r\n    public  enum SortOrder {\r\n    asc,\r\n    desc\r\n    \r\n    }\r\n    \r\n    public  enum SortColumn {\r\n    empployee_name\r\n    employee_department,\r\n    employee_salary\r\n    \r\n    }","title":"SQL injection vulnerability with order by clause in Java","body":"<p>Use enum, it will resolve the issue. Enum limits the values you can pass to that parameter. Hence it will allow only given values. Even most of the security detection tools also consider this and will not report this as issue. If you do not want to expose column name, have different values in enum with constructore.</p>\n<pre><code>public class RequestDTO {\n\nprivate SortOrder order;\nprivate SortColumn colum;\n\n}\n\npublic  enum SortOrder {\nasc,\ndesc\n\n}\n\npublic  enum SortColumn {\nempployee_name\nemployee_department,\nemployee_salary\n\n}\n</code></pre>\n"}],"owner":{"account_id":2586393,"reputation":185,"user_id":2242001,"accept_rate":25,"display_name":"Tarun Bharti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38461546,"answer_count":4,"score":1,"last_activity_date":1659963793,"creation_date":1468938449,"question_id":38461350,"body_markdown":"Veracode report is showing a SQL injection flaw for the below query. There are few parameters which I need to get the property file and then need to inject into my SQL, i.e. schema name, sorting order, etc.\r\n\r\nI tried to use the %s with String.format, but veraCode is still showing it as a flaw. For the parameter it is fine, since I used map, but for schema and sorting order, it&#39;s still showing a flaw.\r\n\r\nAny approach to solve this vulnerability?\r\n \r\n    phoneLogsQuery = &quot;(select * from %s.SHORETEL_EVENTS_CALL_LOGS where CONVERT( date, CallDateTime,112 ) &gt;  CONVERT( date, GETDATE()-%s,112) &quot;\r\n    \t\t\t\t\t+ &quot; and (CALLER_CONTACT_ID in (:contactId) or CALLED_CONTACT_ID in (:contactId)) and EXTERNAL_CALL = 1 &quot;\r\n    \t\t\t\t\t+ &quot;UNION &quot;\r\n    \t\t\t\t\t+ &quot;select * from %s.SHORETEL_EVENTS_CALL_LOGS where CONVERT( date, CallDateTime,112 ) &gt;  CONVERT( date, GETDATE()-%s,112) &quot;\r\n    \t\t\t\t\t+ &quot; and (CALLER_CONTACT_ID in (:contactId) or CALLED_CONTACT_ID in (:contactId))&quot;\r\n    \t\t\t\t\t+ &quot; and GUILOGIN_NAME = :guiloginName and EXTERNAL_CALL = 0)&quot;\r\n    \t\t\t\t\t+ &quot; order by CallDateTime %s %s &quot;;\r\n        \t\r\n\tphoneLogsQuery = String.format(phoneLogsQuery, schemaname, phoneLogAllData, schemaname, phoneLogAllData, sortDir, offsetQuery);\r\n\tshoretelPhoneLogRow = jdbcTemplate.query(phoneLogsQuery,params,\r\n\t\t\tnew ShoretelPhoneLogMapper());","title":"SQL injection vulnerability with order by clause in Java","body":"<p>Veracode report is showing a SQL injection flaw for the below query. There are few parameters which I need to get the property file and then need to inject into my SQL, i.e. schema name, sorting order, etc.</p>\n<p>I tried to use the %s with String.format, but veraCode is still showing it as a flaw. For the parameter it is fine, since I used map, but for schema and sorting order, it's still showing a flaw.</p>\n<p>Any approach to solve this vulnerability?</p>\n<pre><code>phoneLogsQuery = &quot;(select * from %s.SHORETEL_EVENTS_CALL_LOGS where CONVERT( date, CallDateTime,112 ) &gt;  CONVERT( date, GETDATE()-%s,112) &quot;\n                    + &quot; and (CALLER_CONTACT_ID in (:contactId) or CALLED_CONTACT_ID in (:contactId)) and EXTERNAL_CALL = 1 &quot;\n                    + &quot;UNION &quot;\n                    + &quot;select * from %s.SHORETEL_EVENTS_CALL_LOGS where CONVERT( date, CallDateTime,112 ) &gt;  CONVERT( date, GETDATE()-%s,112) &quot;\n                    + &quot; and (CALLER_CONTACT_ID in (:contactId) or CALLED_CONTACT_ID in (:contactId))&quot;\n                    + &quot; and GUILOGIN_NAME = :guiloginName and EXTERNAL_CALL = 0)&quot;\n                    + &quot; order by CallDateTime %s %s &quot;;\n        \nphoneLogsQuery = String.format(phoneLogsQuery, schemaname, phoneLogAllData, schemaname, phoneLogAllData, sortDir, offsetQuery);\nshoretelPhoneLogRow = jdbcTemplate.query(phoneLogsQuery,params,\n        new ShoretelPhoneLogMapper());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","reflection"],"comments":[{"owner":{"account_id":16440014,"reputation":692,"user_id":11876612,"display_name":"Felipe Bonfante"},"score":1,"creation_date":1659721590,"post_id":73251778,"comment_id":129370141,"body_markdown":"Your class A is not annotated with any spring stereotype (@Service, @Component, etc), so it&#39;s not a spring managed bean. So one way you could achieve this would be making it a spring bean (using a stereotype) and get it through ApplicationContext on your Util class","body":"Your class A is not annotated with any spring stereotype (@Service, @Component, etc), so it&#39;s not a spring managed bean. So one way you could achieve this would be making it a spring bean (using a stereotype) and get it through ApplicationContext on your Util class"}],"answers":[{"tags":[],"owner":{"account_id":16440014,"reputation":692,"user_id":11876612,"display_name":"Felipe Bonfante"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659963699,"creation_date":1659963699,"answer_id":73278329,"question_id":73251778,"body_markdown":"Your class A is not annotated with any spring stereotype (@Service, @Component, etc), so it&#39;s not a spring managed bean. So one way you could achieve this would be making it a spring bean (using a stereotype) and get it through ApplicationContext&#39;s method getBean on your Util class.","title":"How to load manual objects created via reflection into spring context","body":"<p>Your class A is not annotated with any spring stereotype (@Service, @Component, etc), so it's not a spring managed bean. So one way you could achieve this would be making it a spring bean (using a stereotype) and get it through ApplicationContext's method getBean on your Util class.</p>\n"}],"owner":{"account_id":10369666,"reputation":932,"user_id":7647706,"display_name":"Nish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73278329,"answer_count":1,"score":0,"last_activity_date":1659963699,"creation_date":1659711763,"question_id":73251778,"body_markdown":"There are two application. `Main Application` and `Utility Application` where `utility Application` is packaged as jar in `Main application`. Both are spring boot application.\r\nIn `utility application` I create an object of a class A which is present in `Main Application` using reflection API.\r\nClass A has one Autowired instance variable defined in it. Issue is when `Utility Application` tried to run some method one the same class A object, then that autowired variable results in null.\r\nI guess, since I am creating the object manually that is why it is not managed by Spring. \r\nNow my question is how can provide this object to spring context so that any Autowiring happening inside the class A actually gets autowired.\r\nBelow is the code samples\r\n\r\n```\r\nunder Main Application \r\npackage m.main.application.A;\r\nclass A implements Action{    //Action interface coming from utility application\r\n\r\n@Autowired\r\nprivate Calculator calculator\r\n\r\n@override\r\npublic void execute(){\r\n    calculator.add(5+2);  //Here calculator is null. Autowire is not working\r\n}\r\n}\r\n```\r\n```\r\nUtility Application packaged as Jar in Main Application\r\n\r\nClass Util{\r\n   \r\n    public createObjectAndRun(){\r\n      \r\n      Class&lt;?&gt; class = Class.forName(&quot;com.main.application.A&quot;);\r\n      Action newObject= (Action) class.getConstructor().newInstance();\r\n      \r\n      //executing execute\r\n      newObjects.execute();  //This fails as calculator is not autowired\r\n\r\n      \r\n    }\r\n}\r\n\r\n```\r\nI want to know if there is a way we can make ```calculator``` gets autowired properly.\r\n","title":"How to load manual objects created via reflection into spring context","body":"<p>There are two application. <code>Main Application</code> and <code>Utility Application</code> where <code>utility Application</code> is packaged as jar in <code>Main application</code>. Both are spring boot application.\nIn <code>utility application</code> I create an object of a class A which is present in <code>Main Application</code> using reflection API.\nClass A has one Autowired instance variable defined in it. Issue is when <code>Utility Application</code> tried to run some method one the same class A object, then that autowired variable results in null.\nI guess, since I am creating the object manually that is why it is not managed by Spring.\nNow my question is how can provide this object to spring context so that any Autowiring happening inside the class A actually gets autowired.\nBelow is the code samples</p>\n<pre><code>under Main Application \npackage m.main.application.A;\nclass A implements Action{    //Action interface coming from utility application\n\n@Autowired\nprivate Calculator calculator\n\n@override\npublic void execute(){\n    calculator.add(5+2);  //Here calculator is null. Autowire is not working\n}\n}\n</code></pre>\n<pre><code>Utility Application packaged as Jar in Main Application\n\nClass Util{\n   \n    public createObjectAndRun(){\n      \n      Class&lt;?&gt; class = Class.forName(&quot;com.main.application.A&quot;);\n      Action newObject= (Action) class.getConstructor().newInstance();\n      \n      //executing execute\n      newObjects.execute();  //This fails as calculator is not autowired\n\n      \n    }\n}\n\n</code></pre>\n<p>I want to know if there is a way we can make <code>calculator</code> gets autowired properly.</p>\n"},{"tags":["java","ftp","mainframe"],"comments":[{"owner":{"account_id":1438763,"reputation":13008,"user_id":1927206,"display_name":"Bill Woodger"},"score":0,"creation_date":1422018227,"post_id":28106752,"comment_id":44594786,"body_markdown":"Can you show the full output you are getting, please?","body":"Can you show the full output you are getting, please?"}],"answers":[{"tags":[],"owner":{"account_id":5805161,"reputation":370,"user_id":4578016,"display_name":"Nitin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1424409629,"creation_date":1424409629,"answer_id":28622107,"question_id":28106752,"body_markdown":"I am assuming that you want to run your JCL text file when FTP&#39;ed.\r\n\r\nEnclose `try {}` and `catch {}` block (if not done).\r\n\r\nHere&#39;s the code (This works for me):\r\n\r\n    // FTPClient ftp = new FTPClient(); Assumed in your code\r\n    //Connect to the server \r\n    try\r\n    {\r\n        ftp.connect(host);\r\n        replyText = ftp.getReplyString();\r\n        System.out.println(replyText);\r\n    } catch (Exception  e)  { e.printStackTrace () ; }\r\n    \r\n    //Login to the server \r\n    try \r\n    { \r\n    \tftp.login(userId, password);\r\n        replyText = ftp.getReplyString();\r\n        System.out.println(replyText);\r\n    } catch (Exception e) { e.printStackTrace(); } \r\n    \t\t\r\n    // Tell the server to use the JES interface\r\n    try\r\n    { \r\n        // Instead of sendSiteCommand()\r\n        // ftp.sendSiteCommand(&quot;FILETYPE=JES&quot;);\r\n    \r\n        // Try site() with everythng in lowercase\r\n        ftp.site (&quot;filetype=jes&quot;) ; \r\n        String replyText = ftp.getReplyString() ; \r\n    \tSystem.out.println (replyText) ; \r\n    } catch (Exception e) { e.printStackTrace(); } \r\n    \t\t\r\n    //Submit the job from the text file.Use \\\\ to avoid using escape notation \r\n    try \r\n    { \r\n        //read JCL file in input stream\r\n        //String originalFileName = &quot;ca7jcl.txt&quot;;\r\n    \r\n        String path = &quot;&quot; //Store your file&#39;s absolute path here \r\n        FileInputStream fileStream = new FileInputStream(path);\r\n    \r\n        //store the JCL file\r\n        ftp.storeFile(host, fileStream);\r\n        replyText = ftp.getReplyString();\r\n        System.out.println(replyText);\r\n     }  catch (Exception e) { e.printStackTrace(); } \r\n\r\nLet us know if this helped. :)","title":"FTP file to Mainframe","body":"<p>I am assuming that you want to run your JCL text file when FTP'ed.</p>\n\n<p>Enclose <code>try {}</code> and <code>catch {}</code> block (if not done).</p>\n\n<p>Here's the code (This works for me):</p>\n\n<pre><code>// FTPClient ftp = new FTPClient(); Assumed in your code\n//Connect to the server \ntry\n{\n    ftp.connect(host);\n    replyText = ftp.getReplyString();\n    System.out.println(replyText);\n} catch (Exception  e)  { e.printStackTrace () ; }\n\n//Login to the server \ntry \n{ \n    ftp.login(userId, password);\n    replyText = ftp.getReplyString();\n    System.out.println(replyText);\n} catch (Exception e) { e.printStackTrace(); } \n\n// Tell the server to use the JES interface\ntry\n{ \n    // Instead of sendSiteCommand()\n    // ftp.sendSiteCommand(\"FILETYPE=JES\");\n\n    // Try site() with everythng in lowercase\n    ftp.site (\"filetype=jes\") ; \n    String replyText = ftp.getReplyString() ; \n    System.out.println (replyText) ; \n} catch (Exception e) { e.printStackTrace(); } \n\n//Submit the job from the text file.Use \\\\ to avoid using escape notation \ntry \n{ \n    //read JCL file in input stream\n    //String originalFileName = \"ca7jcl.txt\";\n\n    String path = \"\" //Store your file's absolute path here \n    FileInputStream fileStream = new FileInputStream(path);\n\n    //store the JCL file\n    ftp.storeFile(host, fileStream);\n    replyText = ftp.getReplyString();\n    System.out.println(replyText);\n }  catch (Exception e) { e.printStackTrace(); } \n</code></pre>\n\n<p>Let us know if this helped. :)</p>\n"},{"tags":[],"owner":{"account_id":26008915,"reputation":1,"user_id":19718289,"display_name":"Vibhor Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659963289,"creation_date":1659963289,"answer_id":73278230,"question_id":28106752,"body_markdown":"I also tried above way, for me I am getting issue with access like terminated with Return Code 8, Reason Code=0x11806f (Permission Denied.)","title":"FTP file to Mainframe","body":"<p>I also tried above way, for me I am getting issue with access like terminated with Return Code 8, Reason Code=0x11806f (Permission Denied.)</p>\n"}],"owner":{"account_id":3262746,"reputation":1260,"user_id":4046234,"accept_rate":83,"display_name":"Andre Coetzee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28622107,"answer_count":2,"score":1,"last_activity_date":1659963289,"creation_date":1422005424,"question_id":28106752,"body_markdown":"I am trying to FTP a JCL txt file to mainframe:\r\n\r\n    // Connect to the server\r\n\t\t\tftp.connect(host);\r\n\t\t\treplyText = ftp.getReplyString();\r\n\t\t\tSystem.out.println(replyText);\r\n\r\n\t\t\t// Log into the server\r\n\t\t\tftp.login(userId, password);\r\n\t\t\treplyText = ftp.getReplyString();\r\n\t\t\tSystem.out.println(replyText);\r\n\t\t\t\r\n\t\r\n\t\t\t// Tell the server to use the JES interface\r\n\t\t\tftp.sendSiteCommand(&quot;FILETYPE=JES&quot;);\r\n\t\t\treplyText = ftp.getReplyString();\r\n\t\t\tSystem.out.println(replyText);\r\n\t\t\t\r\n\t\t\t//read JCL file in input stream\r\n\t\t\tFileInputStream fileStream = new FileInputStream(file);\r\n\t\t\t\r\n\t\t\tString originalFileName = &quot;ca7jcl.txt&quot;;\r\n\t\t\t\r\n\t\t\tftp.setFileType(FTP.ASCII_FILE_TYPE);\r\n\t\t\t\t\t\r\n\t\t\t//store the JCL file\r\n\t\t\tftp.storeFile(host, fileStream);\r\n\t\t\treplyText = ftp.getReplyString();\r\n\t\t\tSystem.out.println(replyText);\r\n\r\nbut getting 250-It is known to JES as *UNKNOWN\r\nhow can i resolve this?","title":"FTP file to Mainframe","body":"<p>I am trying to FTP a JCL txt file to mainframe:</p>\n\n<pre><code>// Connect to the server\n        ftp.connect(host);\n        replyText = ftp.getReplyString();\n        System.out.println(replyText);\n\n        // Log into the server\n        ftp.login(userId, password);\n        replyText = ftp.getReplyString();\n        System.out.println(replyText);\n\n\n        // Tell the server to use the JES interface\n        ftp.sendSiteCommand(\"FILETYPE=JES\");\n        replyText = ftp.getReplyString();\n        System.out.println(replyText);\n\n        //read JCL file in input stream\n        FileInputStream fileStream = new FileInputStream(file);\n\n        String originalFileName = \"ca7jcl.txt\";\n\n        ftp.setFileType(FTP.ASCII_FILE_TYPE);\n\n        //store the JCL file\n        ftp.storeFile(host, fileStream);\n        replyText = ftp.getReplyString();\n        System.out.println(replyText);\n</code></pre>\n\n<p>but getting 250-It is known to JES as *UNKNOWN\nhow can i resolve this?</p>\n"},{"tags":["java","multithreading","spring-boot","asynchronous","parallel-processing"],"answers":[{"tags":[],"owner":{"account_id":8856397,"reputation":823,"user_id":6614056,"accept_rate":67,"display_name":"Abhilash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583823278,"creation_date":1583823278,"answer_id":60612738,"question_id":60612279,"body_markdown":"The get() will definitely not going to work out as it will block the main thread of execution to fetch the result from the async threads. A better option would be to use callback methods(thenApply() etc) accordingly so as to let the main thread continue its work.","title":"Get result of completablefuture","body":"<p>The get() will definitely not going to work out as it will block the main thread of execution to fetch the result from the async threads. A better option would be to use callback methods(thenApply() etc) accordingly so as to let the main thread continue its work.</p>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1583874258,"creation_date":1583824817,"answer_id":60613033,"question_id":60612279,"body_markdown":"You could call [allOf][1] to wait for all results. This will wait for all CompletableFuture to complete.\r\n \r\n            List&lt;String&gt; returnList = new ArrayList&lt;&gt;(items.size());\r\n            CompletableFuture&lt;String&gt;[] tasks = items.stream()\r\n                .map(value-&gt; serviceb.doProcess(value).thenApply(returnList::add))\r\n                .toArray(CompletableFuture[]::new);\r\n            // wait for all tasks to finish\r\n            CompletableFuture.allOf(tasks).get(50, TimeUnit.SECONDS);\r\n            // return the results\r\n            return returnList;\r\n        \r\nSecond solution would be to use an reactive approach like publisher/subscriber pattern ([Spring WebFlux][2] or [JavaRx][3]). This way your application would have little/no waiting operation. But this would affect your application architecture.\r\n\r\n**One Advice**:\r\nIn order to create an `CompletableFuture` use the constructor with [ExecutorService][4] in order to keep in check number of threads and have control over running threads or  when application shuts down.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#allOf-java.util.concurrent.CompletableFuture...-\r\n  [2]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html\r\n  [3]: http://reactivex.io/\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#supplyAsync-java.util.function.Supplier-java.util.concurrent.Executor-","title":"Get result of completablefuture","body":"<p>You could call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#allOf-java.util.concurrent.CompletableFuture...-\" rel=\"nofollow noreferrer\">allOf</a> to wait for all results. This will wait for all CompletableFuture to complete.</p>\n\n<pre><code>        List&lt;String&gt; returnList = new ArrayList&lt;&gt;(items.size());\n        CompletableFuture&lt;String&gt;[] tasks = items.stream()\n            .map(value-&gt; serviceb.doProcess(value).thenApply(returnList::add))\n            .toArray(CompletableFuture[]::new);\n        // wait for all tasks to finish\n        CompletableFuture.allOf(tasks).get(50, TimeUnit.SECONDS);\n        // return the results\n        return returnList;\n</code></pre>\n\n<p>Second solution would be to use an reactive approach like publisher/subscriber pattern (<a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html\" rel=\"nofollow noreferrer\">Spring WebFlux</a> or <a href=\"http://reactivex.io/\" rel=\"nofollow noreferrer\">JavaRx</a>). This way your application would have little/no waiting operation. But this would affect your application architecture.</p>\n\n<p><strong>One Advice</strong>:\nIn order to create an <code>CompletableFuture</code> use the constructor with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#supplyAsync-java.util.function.Supplier-java.util.concurrent.Executor-\" rel=\"nofollow noreferrer\">ExecutorService</a> in order to keep in check number of threads and have control over running threads or  when application shuts down.</p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659963223,"creation_date":1583826303,"answer_id":60613333,"question_id":60612279,"body_markdown":"You can use `thenAccept` to add the items to the list.\r\n\r\n    List&lt;String&gt; list = new CopyOnWriteArrayList&lt;&gt;();\r\n    CompletableFuture.allOf(\r\n        Stream.of(items).map(\r\n            i -&gt; CompletableFuture.supplyAsync(i)\r\n                .thenAccept(list::add)\r\n        ).toArray(CompletableFuture[]::new)\r\n    ).get(10, SECONDS);\r\n\r\n    return list;","title":"Get result of completablefuture","body":"<p>You can use <code>thenAccept</code> to add the items to the list.</p>\n<pre><code>List&lt;String&gt; list = new CopyOnWriteArrayList&lt;&gt;();\nCompletableFuture.allOf(\n    Stream.of(items).map(\n        i -&gt; CompletableFuture.supplyAsync(i)\n            .thenAccept(list::add)\n    ).toArray(CompletableFuture[]::new)\n).get(10, SECONDS);\n\nreturn list;\n</code></pre>\n"}],"owner":{"account_id":13855351,"reputation":217,"user_id":10002310,"display_name":"JingJong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2321,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60613033,"answer_count":3,"score":1,"last_activity_date":1659963223,"creation_date":1583820270,"question_id":60612279,"body_markdown":"I am using completablefuture to be returned from an async thread in springboot application. My implementation is below. From my understanding a new thread should be started for each item in list and should process parallely. I understand .get will block the execution but as it is parallely running still i dont see any improvement in performance. Any suggestions on below please to improve the performance?\n\nServiceA.java\n\n    @Autowired\n    ServiceB serviceb;\n   \n\n    public List&lt;String&gt; getNames(List&lt;Item&gt; items) {\n    List&lt;CompletableFuture&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\n    List&lt;String&gt; returnList = new ArrayList&lt;&gt;();\n    for( Item item: items) {\n      CompletableFuture&lt;String&gt; getItemName = serviceb.doProcess(item);\n      list.add(getItemName):\n    }\n\n    for( CompletableFuture name : list) {\n     returnList.add(name.get());\n    }\n    return returnList;\n    }\n\nServiceB.java\n   \n\n    Class ServiceB {\n    @Async\n    Public CompletableFuture&lt;String&gt; doProcess(Item item)\n    {\n       //do process\n    }\n\n    \n","title":"Get result of completablefuture","body":"<p>I am using completablefuture to be returned from an async thread in springboot application. My implementation is below. From my understanding a new thread should be started for each item in list and should process parallely. I understand .get will block the execution but as it is parallely running still i dont see any improvement in performance. Any suggestions on below please to improve the performance?</p>\n\n<p>ServiceA.java</p>\n\n<pre><code>@Autowired\nServiceB serviceb;\n\n\npublic List&lt;String&gt; getNames(List&lt;Item&gt; items) {\nList&lt;CompletableFuture&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\nList&lt;String&gt; returnList = new ArrayList&lt;&gt;();\nfor( Item item: items) {\n  CompletableFuture&lt;String&gt; getItemName = serviceb.doProcess(item);\n  list.add(getItemName):\n}\n\nfor( CompletableFuture name : list) {\n returnList.add(name.get());\n}\nreturn returnList;\n}\n</code></pre>\n\n<p>ServiceB.java</p>\n\n<pre><code>Class ServiceB {\n@Async\nPublic CompletableFuture&lt;String&gt; doProcess(Item item)\n{\n   //do process\n}\n</code></pre>\n"},{"tags":["java","ansible","datadog","ansible-role"],"answers":[{"tags":[],"owner":{"account_id":14866163,"reputation":2772,"user_id":10735209,"display_name":"Hamza AZIZ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659963163,"creation_date":1620123335,"answer_id":67382827,"question_id":67372864,"body_markdown":"I figured out how to do it,\r\n\r\nat the bottom line is just about specifying a service (tomcat, nginx, java ...) and the Ansible role will create the files needed to complete your configuration,\r\n\r\nhope this can help someone\r\n\r\n    - name: install the agent on targets\r\n          include_role:\r\n            name: datadog.datadog\r\n          vars: \r\n            datadog_api_key: &quot;YOUR_API&quot;\r\n            datadog_site: &quot;datadoghq.com&quot;\r\n            datadog_config:\r\n              log_level: INFO\r\n              apm_config:\r\n                enabled: true\r\n              logs_enabled: true\r\n            datadog_checks:\r\n              tomcat:\r\n                logs:\r\n                  - type: file\r\n                    path: /home/ubuntu/web-app/tomcatlogs/logs/*.log\r\n                    service: myapp\r\n                    source: tomcat\r\n\r\n","title":"instrument datadog agent by the location of logs file with datadog ansible role","body":"<p>I figured out how to do it,</p>\n<p>at the bottom line is just about specifying a service (tomcat, nginx, java ...) and the Ansible role will create the files needed to complete your configuration,</p>\n<p>hope this can help someone</p>\n<pre><code>- name: install the agent on targets\n      include_role:\n        name: datadog.datadog\n      vars: \n        datadog_api_key: &quot;YOUR_API&quot;\n        datadog_site: &quot;datadoghq.com&quot;\n        datadog_config:\n          log_level: INFO\n          apm_config:\n            enabled: true\n          logs_enabled: true\n        datadog_checks:\n          tomcat:\n            logs:\n              - type: file\n                path: /home/ubuntu/web-app/tomcatlogs/logs/*.log\n                service: myapp\n                source: tomcat\n</code></pre>\n"}],"owner":{"account_id":14866163,"reputation":2772,"user_id":10735209,"display_name":"Hamza AZIZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67382827,"answer_count":1,"score":1,"last_activity_date":1659963163,"creation_date":1620061091,"question_id":67372864,"body_markdown":"I tried to enable logs collecting with datadog ansible role,\r\n\r\nbut I can&#39;t figure out why the logs are not sent to the Datadog ui\r\n\r\nI found an example of a playbook in the role GitHub repo,\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    - hosts: servers\r\n      roles:\r\n        - { role: datadog.datadog, become: yes }\r\n      vars:\r\n        datadog_api_key: &quot;&lt;YOUR_DD_API_KEY&gt;&quot;\r\n        datadog_agent_version: &quot;7.16.0&quot;\r\n        datadog_config:\r\n          tags:\r\n            - &quot;&lt;KEY&gt;:&lt;VALUE&gt;&quot;\r\n            - &quot;&lt;KEY&gt;:&lt;VALUE&gt;&quot;\r\n          log_level: INFO\r\n          apm_config:\r\n            enabled: true\r\n          logs_enabled: true  # available with Agent v6 and v7\r\n        datadog_checks:\r\n          process:\r\n            init_config:\r\n            instances:\r\n              - name: ssh\r\n                search_string: [&#39;ssh&#39;, &#39;sshd&#39; ]\r\n              - name: syslog\r\n                search_string: [&#39;rsyslog&#39; ]\r\n                cpu_check_interval: 0.2\r\n                exact_match: true\r\n                ignore_denied_access: true\r\n          ssh_check:\r\n            init_config:\r\n            instances:\r\n              - host: localhost\r\n                port: 22\r\n                username: root\r\n                password: &lt;YOUR_PASSWORD&gt;\r\n                sftp_check: True\r\n                private_key_file:\r\n                add_missing_keys: True\r\n          nginx:\r\n            init_config:\r\n            instances:\r\n              - nginx_status_url: http://example.com/nginx_status/\r\n                tags:\r\n                  - &quot;source:nginx&quot;\r\n                  - &quot;instance:foo&quot;\r\n              - nginx_status_url: http://example2.com:1234/nginx_status/\r\n                tags:\r\n                  - &quot;source:nginx&quot;\r\n                  - &quot;&lt;KEY&gt;:&lt;VALUE&gt;&quot;\r\n\r\n            #Log collection is available on Agent 6 and 7\r\n            logs:\r\n              - type: file\r\n                path: /var/log/access.log\r\n                service: myapp\r\n                source: nginx\r\n                sourcecategory: http_web_access\r\n              - type: file\r\n                path: /var/log/error.log\r\n                service: nginx\r\n                source: nginx\r\n                sourcecategory: http_web_access\r\n        # datadog_integration is available on Agent 6.8+\r\n        datadog_integration:\r\n          datadog-elastic:\r\n            action: install\r\n            version: 1.11.0\r\n          datadog-postgres:\r\n            action: remove\r\n        network_config:\r\n          enabled: true\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\ni have just a tomcat server logging to a file and I want datadog to take those logs file and send them to my datadog account!\r\n\r\nthanks in advance\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    # my code\r\n    - name: install the agent on targets\r\n              include_role:\r\n                name: datadog.datadog\r\n              vars: \r\n                datadog_api_key: &quot;myApiKey&quot;\r\n                datadog_site: &quot;datadoghq.com&quot;\r\n                datadog_config:\r\n                  log_level: INFO\r\n                  apm_config:\r\n                    enabled: true\r\n                  logs_enabled: true\r\n                  logs:\r\n                    - type: file\r\n                      path: /home/ubuntu/web-app/tomcatlogs/logs/*.log\r\n                      service: myapp\r\n                      source: tomcat\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"instrument datadog agent by the location of logs file with datadog ansible role","body":"<p>I tried to enable logs collecting with datadog ansible role,</p>\n<p>but I can't figure out why the logs are not sent to the Datadog ui</p>\n<p>I found an example of a playbook in the role GitHub repo,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>- hosts: servers\n  roles:\n    - { role: datadog.datadog, become: yes }\n  vars:\n    datadog_api_key: \"&lt;YOUR_DD_API_KEY&gt;\"\n    datadog_agent_version: \"7.16.0\"\n    datadog_config:\n      tags:\n        - \"&lt;KEY&gt;:&lt;VALUE&gt;\"\n        - \"&lt;KEY&gt;:&lt;VALUE&gt;\"\n      log_level: INFO\n      apm_config:\n        enabled: true\n      logs_enabled: true  # available with Agent v6 and v7\n    datadog_checks:\n      process:\n        init_config:\n        instances:\n          - name: ssh\n            search_string: ['ssh', 'sshd' ]\n          - name: syslog\n            search_string: ['rsyslog' ]\n            cpu_check_interval: 0.2\n            exact_match: true\n            ignore_denied_access: true\n      ssh_check:\n        init_config:\n        instances:\n          - host: localhost\n            port: 22\n            username: root\n            password: &lt;YOUR_PASSWORD&gt;\n            sftp_check: True\n            private_key_file:\n            add_missing_keys: True\n      nginx:\n        init_config:\n        instances:\n          - nginx_status_url: http://example.com/nginx_status/\n            tags:\n              - \"source:nginx\"\n              - \"instance:foo\"\n          - nginx_status_url: http://example2.com:1234/nginx_status/\n            tags:\n              - \"source:nginx\"\n              - \"&lt;KEY&gt;:&lt;VALUE&gt;\"\n\n        #Log collection is available on Agent 6 and 7\n        logs:\n          - type: file\n            path: /var/log/access.log\n            service: myapp\n            source: nginx\n            sourcecategory: http_web_access\n          - type: file\n            path: /var/log/error.log\n            service: nginx\n            source: nginx\n            sourcecategory: http_web_access\n    # datadog_integration is available on Agent 6.8+\n    datadog_integration:\n      datadog-elastic:\n        action: install\n        version: 1.11.0\n      datadog-postgres:\n        action: remove\n    network_config:\n      enabled: true</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>i have just a tomcat server logging to a file and I want datadog to take those logs file and send them to my datadog account!</p>\n<p>thanks in advance</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code># my code\n- name: install the agent on targets\n          include_role:\n            name: datadog.datadog\n          vars: \n            datadog_api_key: \"myApiKey\"\n            datadog_site: \"datadoghq.com\"\n            datadog_config:\n              log_level: INFO\n              apm_config:\n                enabled: true\n              logs_enabled: true\n              logs:\n                - type: file\n                  path: /home/ubuntu/web-app/tomcatlogs/logs/*.log\n                  service: myapp\n                  source: tomcat</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1659514638,"post_id":73215642,"comment_id":129310348,"body_markdown":"I believe manufacturer data is something only Bluetooth Low Energy can offer but your app is searching for a Bluetooth classic device. You used Bluetooth Low Energy in your past questions about this topic. Please clarify which of the two protocols you intend to use.","body":"I believe manufacturer data is something only Bluetooth Low Energy can offer but your app is searching for a Bluetooth classic device. You used Bluetooth Low Energy in your past questions about this topic. Please clarify which of the two protocols you intend to use."},{"owner":{"account_id":25852059,"reputation":41,"user_id":19585906,"display_name":"JayLin1119"},"score":0,"creation_date":1659515786,"post_id":73215642,"comment_id":129310760,"body_markdown":"@MichaelKotzjan yes I found out this problem I change it to bluetoothlescanner and it works, but now I have another problem I change my nordic device from normal advertising to extended advertising how can I get the data in extended advertising?https://stackoverflow.com/questions/73189420/android-app-read-extended-advertising-from-nordic-nrf52840-nrf-connect-v2-0-0-pe?noredirect=1#comment129268417_73189420","body":"@MichaelKotzjan yes I found out this problem I change it to bluetoothlescanner and it works, but now I have another problem I change my nordic device from normal advertising to extended advertising how can I get the data in extended advertising?<a href=\"https://stackoverflow.com/questions/73189420/android-app-read-extended-advertising-from-nordic-nrf52840-nrf-connect-v2-0-0-pe?noredirect=1#comment129268417_73189420\" title=\"android app read extended advertising from nordic nrf52840 nrf connect v2 0 0 pe\">stackoverflow.com/questions/73189420/&hellip;</a>"},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1659516141,"post_id":73215642,"comment_id":129310907,"body_markdown":"I&#39;ve read your question regarding extended advertisements. I do not have an answer for that. I was just commenting on this question, where you search for Bluetooth Classic devices instead of BLE devices","body":"I&#39;ve read your question regarding extended advertisements. I do not have an answer for that. I was just commenting on this question, where you search for Bluetooth Classic devices instead of BLE devices"}],"owner":{"account_id":25852059,"reputation":41,"user_id":19585906,"display_name":"JayLin1119"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659963079,"creation_date":1659493214,"question_id":73215642,"body_markdown":"I am working on an Android app android 10 and nordic nrf52840 which is advertising at channel 37,38,39 I want to get the manufacturer data from my nordic bluetooth device. Like the picture shown below. Now I can scan and find my device, but I don&#39;t know how to get manufacturer data.\r\n\r\n    package com.example.test373839;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.BatchingListUpdateCallback;\r\n\r\n    import android.Manifest;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.bluetooth.BluetoothManager;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private BluetoothAdapter mBluetoothAdapter=null;\r\n    private BluetoothManager mbluetoothManager=null;\r\n    private BroadcastReceiver mReceiver=null;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Button btnScan=(Button)findViewById(R.id.button);\r\n        mBluetoothAdapter=BluetoothAdapter.getDefaultAdapter();\r\n\r\n    }\r\n\r\n    public void StartScan(View view) {\r\n        Log.d(&quot;Button&quot;,&quot;click&quot;);\r\n        checkBTPermission();\r\n        mBluetoothAdapter.startDiscovery();\r\n        IntentFilter dicoveryDeviceIntent=new IntentFilter(BluetoothDevice.ACTION_FOUND);\r\n        registerReceiver(mBroadcastreceiver,dicoveryDeviceIntent);\r\n    }\r\n    private void checkBTPermission(){\r\n        if(Build.VERSION.SDK_INT&gt;Build.VERSION_CODES.LOLLIPOP){\r\n            int pc=this.checkSelfPermission(&quot;Manifest.permission.ACCESS_FINE_LOCATION&quot;);\r\n            pc+=this.checkSelfPermission(&quot;Manifest.permission.ACCESS_COARSE_LOCATION&quot;);\r\n            if(pc!=0){\r\n                this.requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION},1001);\r\n            }else {\r\n                Log.d(&quot;Bluetooth&quot;,&quot;checkBT permission&quot;);\r\n            }\r\n        }\r\n    }\r\n    final private BroadcastReceiver mBroadcastreceiver=new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n\r\n            //Finding devices\r\n            if (BluetoothDevice.ACTION_FOUND.equals(action))\r\n            {\r\n                // Get the BluetoothDevice object from the Intent\r\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                // Add the name and address to an array adapter to show in a ListView\r\n                Log.d(&quot;Bluetooth&quot;,device.getAddress()+&quot;:&quot;+device.getName());\r\n            }\r\n        }\r\n    };\r\n    }\r\n[![nrf connect app][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NAMBc.png","title":"Make Android app get bluetooth manufacturer data","body":"<p>I am working on an Android app android 10 and nordic nrf52840 which is advertising at channel 37,38,39 I want to get the manufacturer data from my nordic bluetooth device. Like the picture shown below. Now I can scan and find my device, but I don't know how to get manufacturer data.</p>\n<pre><code>package com.example.test373839;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.BatchingListUpdateCallback;\n\nimport android.Manifest;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothManager;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\nprivate BluetoothAdapter mBluetoothAdapter=null;\nprivate BluetoothManager mbluetoothManager=null;\nprivate BroadcastReceiver mReceiver=null;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Button btnScan=(Button)findViewById(R.id.button);\n    mBluetoothAdapter=BluetoothAdapter.getDefaultAdapter();\n\n}\n\npublic void StartScan(View view) {\n    Log.d(&quot;Button&quot;,&quot;click&quot;);\n    checkBTPermission();\n    mBluetoothAdapter.startDiscovery();\n    IntentFilter dicoveryDeviceIntent=new IntentFilter(BluetoothDevice.ACTION_FOUND);\n    registerReceiver(mBroadcastreceiver,dicoveryDeviceIntent);\n}\nprivate void checkBTPermission(){\n    if(Build.VERSION.SDK_INT&gt;Build.VERSION_CODES.LOLLIPOP){\n        int pc=this.checkSelfPermission(&quot;Manifest.permission.ACCESS_FINE_LOCATION&quot;);\n        pc+=this.checkSelfPermission(&quot;Manifest.permission.ACCESS_COARSE_LOCATION&quot;);\n        if(pc!=0){\n            this.requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION},1001);\n        }else {\n            Log.d(&quot;Bluetooth&quot;,&quot;checkBT permission&quot;);\n        }\n    }\n}\nfinal private BroadcastReceiver mBroadcastreceiver=new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n\n        //Finding devices\n        if (BluetoothDevice.ACTION_FOUND.equals(action))\n        {\n            // Get the BluetoothDevice object from the Intent\n            BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n            // Add the name and address to an array adapter to show in a ListView\n            Log.d(&quot;Bluetooth&quot;,device.getAddress()+&quot;:&quot;+device.getName());\n        }\n    }\n};\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NAMBc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NAMBc.png\" alt=\"nrf connect app\" /></a></p>\n"},{"tags":["java","sql","date","time","insert"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1659961931,"post_id":73277621,"comment_id":129412220,"body_markdown":"I understand this is just an assignment, but if youre going to use PreparedStatement, you should use it correctly and safely.  Dont use `+` to place values in the statement;  use `VALUES(?, ?, ?, ?, ?, ?)` instead, and use code like `pstmt.setString(1, id);`, `pstmt.setObject(5, date);`, and so on.  In real world applications, building SQL statements using `+` is **very dangerous** and is an extremely common reason for databases being hacked.  You also should use java.time.LocalTime instead of the Time class; Time was an unfortunate design mistake which LocalTime corrects.","body":"I understand this is just an assignment, but if youre going to use PreparedStatement, you should use it correctly and safely.  Dont use <code>+</code> to place values in the statement;  use <code>VALUES(?, ?, ?, ?, ?, ?)</code> instead, and use code like <code>pstmt.setString(1, id);</code>, <code>pstmt.setObject(5, date);</code>, and so on.  In real world applications, building SQL statements using <code>+</code> is <b>very dangerous</b> and is an extremely common reason for databases being hacked.  You also should use java.time.LocalTime instead of the Time class; Time was an unfortunate design mistake which LocalTime corrects."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659963268,"post_id":73277621,"comment_id":129412738,"body_markdown":"Don&#39;t use `java.sql.Time`. Don&#39;t use `java.text.DateFormat` and `ParseException` (if that&#39;s what you were trying). Use `LocalTime.parse(sTime)` and `LocalDate.parse(sDate)` to obtain a `LocalTime` and a `LocalDate` object that will go into your database. Catch `DateTimeParseException` in case the user types an incorrect time or date. And don&#39;t ever in your life leave your `catch` block empty: do make yourself and your user aware when something goes wrong.","body":"Don&#39;t use <code>java.sql.Time</code>. Don&#39;t use <code>java.text.DateFormat</code> and <code>ParseException</code> (if that&#39;s what you were trying). Use <code>LocalTime.parse(sTime)</code> and <code>LocalDate.parse(sDate)</code> to obtain a <code>LocalTime</code> and a <code>LocalDate</code> object that will go into your database. Catch <code>DateTimeParseException</code> in case the user types an incorrect time or date. And don&#39;t ever in your life leave your <code>catch</code> block empty: do make yourself and your user aware when something goes wrong."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659975501,"post_id":73277621,"comment_id":129417749,"body_markdown":"Related and very helpful: [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2). You can handle `LocalTime` in much the same way as `LocalDate` is handled in the answer there. Or even better, use `datetime` in your database and `LocalDateTIme` in Java and still in much the same way.","body":"Related and very helpful: <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>. You can handle <code>LocalTime</code> in much the same way as <code>LocalDate</code> is handled in the answer there. Or even better, use <code>datetime</code> in your database and <code>LocalDateTIme</code> in Java and still in much the same way."}],"answers":[{"tags":[],"owner":{"account_id":11619749,"reputation":171,"user_id":8511385,"display_name":"Deepesh Dagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659962982,"creation_date":1659960952,"answer_id":73277745,"question_id":73277621,"body_markdown":"Try using \r\n\r\n    LocalDate.parse(dateString, formatter)\r\n\r\nDateTimeFormatter format in &quot;yyyy-MM-dd&quot;. Reference : https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"Java SQL cant insert Date and Time","body":"<p>Try using</p>\n<pre><code>LocalDate.parse(dateString, formatter)\n</code></pre>\n<p>DateTimeFormatter format in &quot;yyyy-MM-dd&quot;. Reference : <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a></p>\n"},{"tags":[],"owner":{"account_id":22711800,"reputation":216,"user_id":16877661,"display_name":"Nessa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659962112,"creation_date":1659962112,"answer_id":73277982,"question_id":73277621,"body_markdown":"you can use LocalTime instead of Time\r\n\r\ni modified your code in this way:\r\n\r\n    enter code here `private void addStadium(String id, String name, String category, LocalTime time, LocalDate date, String event) {\r\n        try {\r\n            String query = &quot;INSERT INTO Stadium(ID, Name, Category, ClosingTime, DateUnavailable, Event) &quot;\r\n                    + &quot;SELECT J.ID,J.Name, J.Category, J.ClosingTime, U.DateUnavailable, U.Event FROM jogging_spot J INNER JOIN unavailability_date U ON J.ID = U.ID &quot;\r\n                    + &quot;VALUES(&#39;&quot; + id + &quot;&#39;, &#39;&quot; + name + &quot;&#39;, &#39;&quot; + category + &quot;&#39;, &#39;&quot; + Time.valueOf(time)+ &quot;, &quot; + Date.valueOf(date) + &quot;, &#39;&quot; + event + &quot;&#39;)&quot;;\r\n\r\n            PreparedStatement pstmt = conn.prepareStatement(query);\r\n            pstmt.execute();\r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }`\r\n\r\ni hope it will help you\r\n\r\n","title":"Java SQL cant insert Date and Time","body":"<p>you can use LocalTime instead of Time</p>\n<p>i modified your code in this way:</p>\n<pre><code>enter code here `private void addStadium(String id, String name, String category, LocalTime time, LocalDate date, String event) {\n    try {\n        String query = &quot;INSERT INTO Stadium(ID, Name, Category, ClosingTime, DateUnavailable, Event) &quot;\n                + &quot;SELECT J.ID,J.Name, J.Category, J.ClosingTime, U.DateUnavailable, U.Event FROM jogging_spot J INNER JOIN unavailability_date U ON J.ID = U.ID &quot;\n                + &quot;VALUES('&quot; + id + &quot;', '&quot; + name + &quot;', '&quot; + category + &quot;', '&quot; + Time.valueOf(time)+ &quot;, &quot; + Date.valueOf(date) + &quot;, '&quot; + event + &quot;')&quot;;\n\n        PreparedStatement pstmt = conn.prepareStatement(query);\n        pstmt.execute();\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n\n}`\n</code></pre>\n<p>i hope it will help you</p>\n"}],"owner":{"account_id":25877518,"reputation":13,"user_id":19607217,"display_name":"Vedha Krishna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73277982,"answer_count":2,"score":1,"last_activity_date":1659962982,"creation_date":1659960454,"question_id":73277621,"body_markdown":"I keep getting this error\r\n\r\nclass java.time.format.Parsed cannot be cast to class java.time.LocalDate (java.time.format.Parsed and java.time.LocalDate are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nI am trying to insert date and time values into my database. \r\n\r\nMy code:\r\n```\r\nString sTime = Helper.readString(&quot;Enter Closing Time (HH:MM:SS) &gt; &quot;);\r\n\t\t\ttry {\r\n\t\t\t\tTime time = new Time(timeFormat.parse(sTime).getTime());\r\n\t\t\t\tString sDate = Helper.readString(&quot;Enter Date (YYYY-MM-DD) &gt; &quot;);\r\n\t\t\t\tLocalDate date = (LocalDate) dateFormat.parse(sDate);\r\n\t\t\t\tString event = Helper.readString(&quot;Enter Event &gt; &quot;);\r\n\r\n\t\t\t\taddStadium(id, name, category, time, date, event);\r\n\r\n\t\t\t} catch (ParseException e) {\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\nprivate void addStadium(String id, String name, String category, Time time, LocalDate date, String event) {\r\n\t\ttry {\r\n\t\t\tString query = &quot;INSERT INTO Stadium(ID, Name, Category, ClosingTime, DateUnavailable, Event) &quot;\r\n\t\t\t\t\t+ &quot;SELECT J.ID,J.Name, J.Category, J.ClosingTime, U.DateUnavailable, U.Event FROM jogging_spot J INNER JOIN unavailability_date U ON J.ID = U.ID &quot;\r\n\t\t\t\t\t+ &quot;VALUES(&#39;&quot; + id + &quot;&#39;, &#39;&quot; + name + &quot;&#39;, &#39;&quot; + category + &quot;&#39;, &#39;&quot; + time + &quot;, &quot; + date + &quot;, &#39;&quot; + event + &quot;&#39;)&quot;;\r\n\r\n\t\t\tPreparedStatement pstmt = conn.prepareStatement(query);\r\n\t\t\tpstmt.execute();\r\n\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n ```","title":"Java SQL cant insert Date and Time","body":"<p>I keep getting this error</p>\n<p>class java.time.format.Parsed cannot be cast to class java.time.LocalDate (java.time.format.Parsed and java.time.LocalDate are in module java.base of loader 'bootstrap')</p>\n<p>I am trying to insert date and time values into my database.</p>\n<p>My code:</p>\n<pre><code>String sTime = Helper.readString(&quot;Enter Closing Time (HH:MM:SS) &gt; &quot;);\n            try {\n                Time time = new Time(timeFormat.parse(sTime).getTime());\n                String sDate = Helper.readString(&quot;Enter Date (YYYY-MM-DD) &gt; &quot;);\n                LocalDate date = (LocalDate) dateFormat.parse(sDate);\n                String event = Helper.readString(&quot;Enter Event &gt; &quot;);\n\n                addStadium(id, name, category, time, date, event);\n\n            } catch (ParseException e) {\n            }\n\n\n\n\nprivate void addStadium(String id, String name, String category, Time time, LocalDate date, String event) {\n        try {\n            String query = &quot;INSERT INTO Stadium(ID, Name, Category, ClosingTime, DateUnavailable, Event) &quot;\n                    + &quot;SELECT J.ID,J.Name, J.Category, J.ClosingTime, U.DateUnavailable, U.Event FROM jogging_spot J INNER JOIN unavailability_date U ON J.ID = U.ID &quot;\n                    + &quot;VALUES('&quot; + id + &quot;', '&quot; + name + &quot;', '&quot; + category + &quot;', '&quot; + time + &quot;, &quot; + date + &quot;, '&quot; + event + &quot;')&quot;;\n\n            PreparedStatement pstmt = conn.prepareStatement(query);\n            pstmt.execute();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1659630280,"post_id":73236141,"comment_id":129345791,"body_markdown":"You can use `@SuperBuilder` together with an intermediate abstract class as described in https://stackoverflow.com/a/61763012/10026074","body":"You can use <code>@SuperBuilder</code> together with an intermediate abstract class as described in <a href=\"https://stackoverflow.com/a/61763012/10026074\">stackoverflow.com/a/61763012/10026074</a>"},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1659699543,"post_id":73236141,"comment_id":129362158,"body_markdown":"Not when the grandparent class forces a constructor with a required argument","body":"Not when the grandparent class forces a constructor with a required argument"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1659962708,"post_id":73236141,"comment_id":129412508,"body_markdown":"I think you can. I added another answer describing how to do this.","body":"I think you can. I added another answer describing how to do this."}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659620292,"creation_date":1659620292,"answer_id":73236966,"question_id":73236141,"body_markdown":"Since you can&#39;t use `@SuperBuilder` annotation, beacause you don&#39;t have access to `ApplicationEvent` class, as far as I can see, the only solution is to do something like following:\r\n\r\nAssume that you have `TrackedEvent` class wich looks something like this:\r\n\r\n    public class TrackedEvent extends ApplicationEvent {\r\n        protected String correlationId;\r\n        protected String description;\r\n    \r\n        public TrackedEvent(Object source, String correlationId, String description) {\r\n            super(source);\r\n            this.correlationId = correlationId;\r\n            this.description = description;\r\n        }\r\n    \r\n        public TrackedEvent(Object source) {\r\n            super(source);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nAnd you have `OperationalEvent` class wich extends above class.\r\nThan, you can implement builder pattern in OptionalEvent class like this:\r\n\r\n    public class OperationalEvent extends TrackedEvent {\r\n    \r\n        private String type;\r\n        private String status;\r\n    \r\n        public OperationalEvent(Object source) {\r\n            super(source);\r\n        }\r\n    \r\n    \r\n        @Builder(builderMethodName = &quot;optionalEvent&quot;)\r\n        public OperationalEvent(Object source, String correlationId, String description, String type, String status) {\r\n            super(source, correlationId, description);\r\n            this.type = type;\r\n            this.status = status;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;OperationalEvent{&quot; +\r\n                    &quot;type=&#39;&quot; + type + &#39;\\&#39;&#39; +\r\n                    &quot;, status=&#39;&quot; + status + &#39;\\&#39;&#39; +\r\n                    &quot;correlationId:&quot; + correlationId +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nAnd than the following code should work as expected:\r\n\r\n\r\n   \r\n\r\n  \r\n\r\n    public static void main(String[] args) {\r\n        ApplicationEvent applicationEvent = new ApplicationEvent(new Object()) {\r\n            @Override\r\n            public Object getSource() {\r\n                return super.getSource();\r\n            }\r\n        };\r\n        OperationalEvent opsEvent = OperationalEvent.optionalEvent()\r\n                .description(&quot;something happened&quot;)\r\n                .source(applicationEvent)\r\n                .status(&quot;status&quot;)\r\n                .correlationId(&quot;1&quot;)\r\n                .build();\r\n    \r\n    }\r\n\r\n","title":"Lombok @Builder with inheritance that requires a certain field","body":"<p>Since you can't use <code>@SuperBuilder</code> annotation, beacause you don't have access to <code>ApplicationEvent</code> class, as far as I can see, the only solution is to do something like following:</p>\n<p>Assume that you have <code>TrackedEvent</code> class wich looks something like this:</p>\n<pre><code>public class TrackedEvent extends ApplicationEvent {\n    protected String correlationId;\n    protected String description;\n\n    public TrackedEvent(Object source, String correlationId, String description) {\n        super(source);\n        this.correlationId = correlationId;\n        this.description = description;\n    }\n\n    public TrackedEvent(Object source) {\n        super(source);\n    }\n\n\n}\n</code></pre>\n<p>And you have <code>OperationalEvent</code> class wich extends above class.\nThan, you can implement builder pattern in OptionalEvent class like this:</p>\n<pre><code>public class OperationalEvent extends TrackedEvent {\n\n    private String type;\n    private String status;\n\n    public OperationalEvent(Object source) {\n        super(source);\n    }\n\n\n    @Builder(builderMethodName = &quot;optionalEvent&quot;)\n    public OperationalEvent(Object source, String correlationId, String description, String type, String status) {\n        super(source, correlationId, description);\n        this.type = type;\n        this.status = status;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;OperationalEvent{&quot; +\n                &quot;type='&quot; + type + '\\'' +\n                &quot;, status='&quot; + status + '\\'' +\n                &quot;correlationId:&quot; + correlationId +\n                '}';\n    }\n}\n</code></pre>\n<p>And than the following code should work as expected:</p>\n<pre><code>public static void main(String[] args) {\n    ApplicationEvent applicationEvent = new ApplicationEvent(new Object()) {\n        @Override\n        public Object getSource() {\n            return super.getSource();\n        }\n    };\n    OperationalEvent opsEvent = OperationalEvent.optionalEvent()\n            .description(&quot;something happened&quot;)\n            .source(applicationEvent)\n            .status(&quot;status&quot;)\n            .correlationId(&quot;1&quot;)\n            .build();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659962790,"creation_date":1659962488,"answer_id":73278059,"question_id":73236141,"body_markdown":"You can use `@SuperBuilder` together with an intermediate abstract class, as described [here][1].\r\n\r\nThe advantage over using customized `@Builder`s is that you only have to manually implement this single custom intermediate class once. There is no need for customization in every subclass.\r\n\r\nIn this case, the intermediate class looks as follows:\r\n\r\n\tpublic abstract class ApplicationEventSuperBuilderEnabler extends ApplicationEvent {\r\n\t\r\n\t    public static abstract class ApplicationEventSuperBuilderEnablerBuilder&lt;C extends ApplicationEventSuperBuilderEnabler, B extends ApplicationEventSuperBuilderEnablerBuilder&lt;C, B&gt;&gt; {\r\n\t        private Object source;\r\n\t\r\n\t        public B source(Object source) {\r\n\t            this.source = source;\r\n\t            return self();\r\n\t        }\r\n\t\r\n\t        protected abstract B self();\r\n\t\r\n\t        public abstract C build();\r\n\t    }\r\n\t\r\n\t    protected ApplicationEventSuperBuilderEnabler(ApplicationEventSuperBuilderEnablerBuilder&lt;?, ?&gt; b) {\r\n\t        super(b.source);\r\n\t    }\r\n\t}\r\n\r\nNext, let all your direct subclasses extend `ApplicationEventSuperBuilderEnabler` (instead of `ApplicationEvent`) and put a `@SuperBuilder` on all classes:\r\n\r\n    @SuperBuilder\r\n    public abstract class TrackedEvent extends ApplicationEventSuperBuilderEnabler { ... }\r\n\r\n    @SuperBuilder\r\n    public class OperationalEvent extends TrackedEvent { ... }\r\n\r\n\r\nNow you can use it like this:\r\n\r\n\tOperationalEvent opsEvent = OperationalEvent.builder()\r\n\t\t\t.source(this)\r\n\t\t    .description(&quot;something happened&quot;)\r\n\t\t    .status(OperationalStatus.THE_THING)\r\n\t\t    .build();\r\n\r\n  [1]: https://stackoverflow.com/a/61763012/10026074","title":"Lombok @Builder with inheritance that requires a certain field","body":"<p>You can use <code>@SuperBuilder</code> together with an intermediate abstract class, as described <a href=\"https://stackoverflow.com/a/61763012/10026074\">here</a>.</p>\n<p>The advantage over using customized <code>@Builder</code>s is that you only have to manually implement this single custom intermediate class once. There is no need for customization in every subclass.</p>\n<p>In this case, the intermediate class looks as follows:</p>\n<pre><code>public abstract class ApplicationEventSuperBuilderEnabler extends ApplicationEvent {\n\n    public static abstract class ApplicationEventSuperBuilderEnablerBuilder&lt;C extends ApplicationEventSuperBuilderEnabler, B extends ApplicationEventSuperBuilderEnablerBuilder&lt;C, B&gt;&gt; {\n        private Object source;\n\n        public B source(Object source) {\n            this.source = source;\n            return self();\n        }\n\n        protected abstract B self();\n\n        public abstract C build();\n    }\n\n    protected ApplicationEventSuperBuilderEnabler(ApplicationEventSuperBuilderEnablerBuilder&lt;?, ?&gt; b) {\n        super(b.source);\n    }\n}\n</code></pre>\n<p>Next, let all your direct subclasses extend <code>ApplicationEventSuperBuilderEnabler</code> (instead of <code>ApplicationEvent</code>) and put a <code>@SuperBuilder</code> on all classes:</p>\n<pre><code>@SuperBuilder\npublic abstract class TrackedEvent extends ApplicationEventSuperBuilderEnabler { ... }\n\n@SuperBuilder\npublic class OperationalEvent extends TrackedEvent { ... }\n</code></pre>\n<p>Now you can use it like this:</p>\n<pre><code>OperationalEvent opsEvent = OperationalEvent.builder()\n        .source(this)\n        .description(&quot;something happened&quot;)\n        .status(OperationalStatus.THE_THING)\n        .build();\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1650,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73236966,"answer_count":2,"score":3,"last_activity_date":1659962790,"creation_date":1659616899,"question_id":73236141,"body_markdown":"Java 11, Spring Boot and Lombok here. I am trying to build up a hierarchy of objects extending Spring&#39;s [`ApplicationEvent`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEvent.html#ApplicationEvent-java.lang.Object-) class which forces me to provide a constructor:\r\n```\r\npublic ApplicationEvent(Object source) {\r\n   ...\r\n}\r\n```\r\nSo extending `ApplicationEvent` I have a `TrackedEvent` that is an abstract base class for my other events to build off:\r\n```\r\npublic abstract class TrackedEvent extends ApplicationEvent {\r\n\r\n    private String correlationId;\r\n    private String description;\r\n    // ... lots of fields here\r\n\r\n}\r\n```\r\n\r\nOne of the (many) events extending `TrackedEvent` is `OperationalEvent`:\r\n```\r\npublic class OperationalEvent extends TrackedEvent {\r\n\r\n    private OperationType type;\r\n    private OperationStatus status;\r\n    // ... several more fields here\r\n\r\n}\r\n```\r\n\r\nOther than the `source : Object` field, which is **required** by the grandparent `ApplicationEvent` constructor, all other `TrackedEvent` and `OperationalEvent` fields are optional. So because there are so many fields here to populate and instantiation-time, I feel the **Builder Pattern** is appropriate. So I&#39;d like to employ Lombok&#39;s `@Builder` annotation (and possibly other annos) to obtain an API _something_ like so:\r\n```\r\nOperationalEvent opsEvent = OperationalEvent.Builder(this)\r\n    .description(&quot;something happened&quot;)\r\n    .status(OperationalStatus.THE_THING)\r\n    .build();\r\n```\r\n\r\nMy thinking here is we would pass `this` in as a required builder constructor argument (to satisfy `ApplicationEvent`&#39;s constructor for `source : Object`...somehow) and then use the `@Builder` like normal.\r\n\r\nIs this possible to do in Lombok, and if so, how?\r\n\r\nAs a fallback I can just write my own builders but since I have so many subclasses it would be great to leverage Lombok if at all possible.","title":"Lombok @Builder with inheritance that requires a certain field","body":"<p>Java 11, Spring Boot and Lombok here. I am trying to build up a hierarchy of objects extending Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEvent.html#ApplicationEvent-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>ApplicationEvent</code></a> class which forces me to provide a constructor:</p>\n<pre><code>public ApplicationEvent(Object source) {\n   ...\n}\n</code></pre>\n<p>So extending <code>ApplicationEvent</code> I have a <code>TrackedEvent</code> that is an abstract base class for my other events to build off:</p>\n<pre><code>public abstract class TrackedEvent extends ApplicationEvent {\n\n    private String correlationId;\n    private String description;\n    // ... lots of fields here\n\n}\n</code></pre>\n<p>One of the (many) events extending <code>TrackedEvent</code> is <code>OperationalEvent</code>:</p>\n<pre><code>public class OperationalEvent extends TrackedEvent {\n\n    private OperationType type;\n    private OperationStatus status;\n    // ... several more fields here\n\n}\n</code></pre>\n<p>Other than the <code>source : Object</code> field, which is <strong>required</strong> by the grandparent <code>ApplicationEvent</code> constructor, all other <code>TrackedEvent</code> and <code>OperationalEvent</code> fields are optional. So because there are so many fields here to populate and instantiation-time, I feel the <strong>Builder Pattern</strong> is appropriate. So I'd like to employ Lombok's <code>@Builder</code> annotation (and possibly other annos) to obtain an API <em>something</em> like so:</p>\n<pre><code>OperationalEvent opsEvent = OperationalEvent.Builder(this)\n    .description(&quot;something happened&quot;)\n    .status(OperationalStatus.THE_THING)\n    .build();\n</code></pre>\n<p>My thinking here is we would pass <code>this</code> in as a required builder constructor argument (to satisfy <code>ApplicationEvent</code>'s constructor for <code>source : Object</code>...somehow) and then use the <code>@Builder</code> like normal.</p>\n<p>Is this possible to do in Lombok, and if so, how?</p>\n<p>As a fallback I can just write my own builders but since I have so many subclasses it would be great to leverage Lombok if at all possible.</p>\n"},{"tags":["java","rest","sharepoint","sharepoint-2013","chunks"],"comments":[{"owner":{"account_id":4541102,"reputation":515,"user_id":7382624,"display_name":"nuriselcuk"},"score":0,"creation_date":1562332687,"post_id":56865646,"comment_id":100352394,"body_markdown":"Divide more, server not accepting 250 mb probably","body":"Divide more, server not accepting 250 mb probably"},{"owner":{"account_id":13463661,"reputation":149,"user_id":9714762,"display_name":"Rex"},"score":0,"creation_date":1615183841,"post_id":56865646,"comment_id":117602819,"body_markdown":"you got any solution ? @Bharati","body":"you got any solution ? @Bharati"},{"owner":{"account_id":5016786,"reputation":63,"user_id":4031462,"display_name":"Bharti Gulati"},"score":0,"creation_date":1617265780,"post_id":56865646,"comment_id":118258128,"body_markdown":"@Rex unfortunately no.","body":"@Rex unfortunately no."}],"owner":{"account_id":5016786,"reputation":63,"user_id":4031462,"display_name":"Bharti Gulati"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659962490,"creation_date":1562141343,"question_id":56865646,"body_markdown":"I am trying to upload the file on SharePoint larger than 250MB. I have divided data of the file in small chunks say 100MB and used Start upload, continue Upload and Finish Upload of SharePoint. I am getting 503 service unavailable in finish upload method if my file size is 250MB or greater. However, The below code runs successfully for the file size up to 249MB. Any leads or help is much appreciated.\r\n\r\nThanks,\r\n\r\nBharti Gulati\r\n\r\n    package test;\r\n    \r\n    import java.io.BufferedInputStream;\r\n    import java.io.BufferedReader;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.ParseException;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.entity.UrlEncodedFormEntity;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.ByteArrayEntity;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.message.BasicNameValuePair;\r\n    import org.apache.http.util.EntityUtils;\r\n    import org.json.JSONObject;\r\n    \r\n    public class SampleFileUpload1 {\r\n    \tprivate final static int chunkSize = 100 * 1024 * 1024;\r\n    \r\n    \tpublic static void main(String args[]) throws IOException {\r\n    \t\tSampleFileUpload1 fileUpload = new SampleFileUpload1();\r\n    \t\tFile file = new File(&quot;C:\\\\users\\\\bgulati\\\\Desktop\\\\twofivefive.txt&quot;);\r\n    \t\tfileUpload.genereateAndUploadChunks(file);\r\n    \t}\r\n    \r\n    \tprivate static void executeRequest(HttpPost httpPost, String urlString) {\r\n    \t\ttry {\r\n    \t\t\tHttpClient client = new DefaultHttpClient();\r\n    \t\t\tHttpResponse response = client.execute(httpPost);\r\n    \r\n    \t\t\tSystem.out.println(&quot;Response Code:  &quot; + response.getStatusLine().getStatusCode());\r\n    \t\t\tSystem.out.println(&quot;Response getReasonPhrase:  &quot; + response.getStatusLine().getReasonPhrase());\r\n    \t\t\tSystem.out.println(&quot;Response getReasonPhrase:  &quot; + response.getEntity().getContent().toString());\r\n    \t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\r\n    \r\n    \t\t\twhile (true) {\r\n    \t\t\t\tString s = br.readLine();\r\n    \t\t\t\tif (s == null)\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tSystem.out.println(s);\r\n    \t\t\t}\r\n    \t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (ClientProtocolException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IllegalStateException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void executeMultiPartRequest(String urlString, byte[] fileByteArray) throws IOException {\r\n    \t\tHttpPost postRequest = new HttpPost(urlString);\r\n    \t\tpostRequest = addHeader(postRequest, &quot;accessToken&quot;);\r\n    \t\ttry {\r\n    \t\t\tpostRequest.setEntity(new ByteArrayEntity(fileByteArray));\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t\texecuteRequest(postRequest, urlString);\r\n    \t}\r\n    \r\n    \tprivate static HttpPost addHeader(HttpPost httpPost, String accessToken) {\r\n    \t\thttpPost.addHeader(&quot;Accept&quot;, &quot;application/json;odata=verbose&quot;);\r\n    \t\thttpPost.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\r\n    \t\thttpPost.setHeader(&quot;Content-Type&quot;, &quot;application/json;odata=verbose;charset=utf-8&quot;);\r\n    \t\treturn httpPost;\r\n    \t}\r\n    \t\r\n    \tprivate static String getUniqueId(HttpResponse response, String key) throws ParseException, IOException {\r\n    \t\tif (checkResponse(response)) {\r\n    \t\t\tString responseString = EntityUtils.toString(response.getEntity(), &quot;UTF-8&quot;);\r\n    \t\t\tJSONObject json = new JSONObject(responseString);\r\n    \t\t\treturn json.getJSONObject(&quot;d&quot;).getString(key);\r\n    \t\t}\r\n    \t\treturn &quot;&quot;;\r\n    \t}\r\n    \r\n    \tprivate static boolean checkResponse(HttpResponse response) throws ParseException, IOException {\r\n    \t\tif (response.getStatusLine().getStatusCode() == 200 || (response.getStatusLine().getStatusCode() == 201)) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tprivate String createDummyFile(String relativePath, String fileName) throws ClientProtocolException, IOException {\r\n    \t\tString urlString = &quot;https://siteURL/_api/web/GetFolderByServerRelativeUrl(&#39;&quot;+relativePath+&quot;&#39;)/Files/add(url=&#39;&quot; +fileName+&quot;&#39;,overwrite=true)&quot;;\r\n    \t\tHttpPost postRequest = new HttpPost(urlString);\r\n    \t\tpostRequest = addHeader(postRequest, &quot;access_token&quot;);\r\n    \t\tHttpClient client = new DefaultHttpClient();\r\n    \t\tHttpResponse response = client.execute(postRequest);\r\n    \t\treturn getUniqueId(response, &quot;UniqueId&quot;);\r\n    \t}\r\n    \t\r\n    \tprivate void genereateAndUploadChunks(File file) throws IOException {\r\n    \t\tString relativePath = &quot;/relativePath&quot;;\r\n    \t\tString fileName = file.getName();\r\n    \t\tString gUid = createDummyFile(relativePath, fileName);\r\n    \t\t\r\n    \t\tString endpointUrlS = &quot;https://siteURL/_api/web/GetFileByServerRelativeUrl(&#39;&quot;+relativePath+&quot;/&quot;+fileName+&quot;&#39;)/savebinarystream&quot;;\r\n    \t\tHttpPost postRequest = new HttpPost(endpointUrlS);\r\n    \t\tpostRequest = addHeader(postRequest, &quot;access_token&quot;);\r\n    \t\tHttpClient client = new DefaultHttpClient();\r\n    \t\tHttpResponse response = client.execute(postRequest);\r\n    \t\t\r\n    \t\tlong fileSize = file.length();\r\n    \t\tif (fileSize &lt;= chunkSize) {\r\n    \r\n    \t\t} \r\n            else {\r\n    \t\t\tbyte[] buffer = new byte[(int) fileSize &lt;= chunkSize ? (int) fileSize : chunkSize];\r\n    \t\t\t\r\n    \t\t\tlong count = 0;\r\n    \t\t\tif (fileSize % chunkSize == 0)\r\n    \t\t\t\tcount = fileSize / chunkSize;\r\n    \t\t\telse\r\n    \t\t\t\tcount = (fileSize / chunkSize) + 1;\r\n    \t\t\t// try-with-resources to ensure closing stream\r\n    \t\t\ttry (FileInputStream fis = new FileInputStream(file);\r\n    \t\t\t\tBufferedInputStream bis = new BufferedInputStream(fis)) {\r\n    \t\t\t\tint bytesAmount = 0;\r\n    \t\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\t\t\tint i = 0;\r\n    \t\t\t\tString startUploadUrl = &quot;&quot;;\r\n    \t\t\t\tint k = 0;\r\n    \t\t\t\twhile ((bytesAmount = bis.read(buffer)) &gt; 0) {\r\n    \t\t\t\t\tbaos.write(buffer, 0, bytesAmount);\r\n    \t\t\t\t\tbyte partialData[] = baos.toByteArray();\r\n    \t\t\t\t\tif (i == 0) {\r\n    \t\t\t\t\t\tstartUploadUrl = &quot;https://siteURL/_api/web/GetFileByServerRelativeUrl(&#39;&quot;+relativePath+&quot;/&quot;+fileName+&quot;&#39;)/StartUpload(uploadId=guid&#39;&quot;+gUid+&quot;&#39;)&quot;;\t\t\t\t\t\t\r\n    \t\t\t\t\t\texecuteMultiPartRequest(startUploadUrl, partialData);\r\n    \t\t\t\t\t\tSystem.out.println(&quot;first worked&quot;);\r\n    \t\t\t\t\t\t// StartUpload call\r\n    \t\t\t\t\t} else if (i == count-1) {\r\n    \t\t\t\t\t\tString finishUploadUrl = &quot;https://siteURL/_api/web/GetFileByServerRelativeUrl(&#39;&quot;+relativePath+&quot;/&quot;+fileName+&quot;&#39;)/FinishUpload(uploadId=guid&#39;&quot;+gUid+&quot;&#39;,fileOffset=&quot;+i+&quot;)&quot;;\r\n    \t\t\t\t\t\texecuteMultiPartRequest(finishUploadUrl, partialData);\r\n    \t\t\t\t\t\tSystem.out.println(&quot;FinishUpload worked&quot;);\r\n    \t\t\t\t\t\t// FinishUpload call\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tString continueUploadUrl = &quot;https://siteURL/_api/web/GetFileByServerRelativeUrl(&#39;&quot;+relativePath+&quot;/&quot;+fileName+&quot;&#39;)/ContinueUpload(uploadId=guid&#39;&quot;+gUid+&quot;&#39;,fileOffset=&quot;+i+&quot;)&quot;;\r\n    \t\t\t\t\t\texecuteMultiPartRequest(continueUploadUrl, partialData);\r\n    \t\t\t\t\t\tSystem.out.println(&quot;continue worked&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\ti++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    }","title":"503 Service unavailable while uploading file on SharePoint online in Finish Upload method","body":"<p>I am trying to upload the file on SharePoint larger than 250MB. I have divided data of the file in small chunks say 100MB and used Start upload, continue Upload and Finish Upload of SharePoint. I am getting 503 service unavailable in finish upload method if my file size is 250MB or greater. However, The below code runs successfully for the file size up to 249MB. Any leads or help is much appreciated.</p>\n\n<p>Thanks,</p>\n\n<p>Bharti Gulati</p>\n\n<pre><code>package test;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedReader;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.UnsupportedEncodingException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.http.HttpResponse;\nimport org.apache.http.NameValuePair;\nimport org.apache.http.ParseException;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.entity.UrlEncodedFormEntity;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.ByteArrayEntity;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.message.BasicNameValuePair;\nimport org.apache.http.util.EntityUtils;\nimport org.json.JSONObject;\n\npublic class SampleFileUpload1 {\n    private final static int chunkSize = 100 * 1024 * 1024;\n\n    public static void main(String args[]) throws IOException {\n        SampleFileUpload1 fileUpload = new SampleFileUpload1();\n        File file = new File(\"C:\\\\users\\\\bgulati\\\\Desktop\\\\twofivefive.txt\");\n        fileUpload.genereateAndUploadChunks(file);\n    }\n\n    private static void executeRequest(HttpPost httpPost, String urlString) {\n        try {\n            HttpClient client = new DefaultHttpClient();\n            HttpResponse response = client.execute(httpPost);\n\n            System.out.println(\"Response Code:  \" + response.getStatusLine().getStatusCode());\n            System.out.println(\"Response getReasonPhrase:  \" + response.getStatusLine().getReasonPhrase());\n            System.out.println(\"Response getReasonPhrase:  \" + response.getEntity().getContent().toString());\n            BufferedReader br = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\n\n            while (true) {\n                String s = br.readLine();\n                if (s == null)\n                    break;\n                System.out.println(s);\n            }\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        } catch (ClientProtocolException e) {\n            e.printStackTrace();\n        } catch (IllegalStateException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void executeMultiPartRequest(String urlString, byte[] fileByteArray) throws IOException {\n        HttpPost postRequest = new HttpPost(urlString);\n        postRequest = addHeader(postRequest, \"accessToken\");\n        try {\n            postRequest.setEntity(new ByteArrayEntity(fileByteArray));\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        executeRequest(postRequest, urlString);\n    }\n\n    private static HttpPost addHeader(HttpPost httpPost, String accessToken) {\n        httpPost.addHeader(\"Accept\", \"application/json;odata=verbose\");\n        httpPost.setHeader(\"Authorization\", \"Bearer \" + accessToken);\n        httpPost.setHeader(\"Content-Type\", \"application/json;odata=verbose;charset=utf-8\");\n        return httpPost;\n    }\n\n    private static String getUniqueId(HttpResponse response, String key) throws ParseException, IOException {\n        if (checkResponse(response)) {\n            String responseString = EntityUtils.toString(response.getEntity(), \"UTF-8\");\n            JSONObject json = new JSONObject(responseString);\n            return json.getJSONObject(\"d\").getString(key);\n        }\n        return \"\";\n    }\n\n    private static boolean checkResponse(HttpResponse response) throws ParseException, IOException {\n        if (response.getStatusLine().getStatusCode() == 200 || (response.getStatusLine().getStatusCode() == 201)) {\n            return true;\n        }\n        return false;\n    }\n\n    private String createDummyFile(String relativePath, String fileName) throws ClientProtocolException, IOException {\n        String urlString = \"https://siteURL/_api/web/GetFolderByServerRelativeUrl('\"+relativePath+\"')/Files/add(url='\" +fileName+\"',overwrite=true)\";\n        HttpPost postRequest = new HttpPost(urlString);\n        postRequest = addHeader(postRequest, \"access_token\");\n        HttpClient client = new DefaultHttpClient();\n        HttpResponse response = client.execute(postRequest);\n        return getUniqueId(response, \"UniqueId\");\n    }\n\n    private void genereateAndUploadChunks(File file) throws IOException {\n        String relativePath = \"/relativePath\";\n        String fileName = file.getName();\n        String gUid = createDummyFile(relativePath, fileName);\n\n        String endpointUrlS = \"https://siteURL/_api/web/GetFileByServerRelativeUrl('\"+relativePath+\"/\"+fileName+\"')/savebinarystream\";\n        HttpPost postRequest = new HttpPost(endpointUrlS);\n        postRequest = addHeader(postRequest, \"access_token\");\n        HttpClient client = new DefaultHttpClient();\n        HttpResponse response = client.execute(postRequest);\n\n        long fileSize = file.length();\n        if (fileSize &lt;= chunkSize) {\n\n        } \n        else {\n            byte[] buffer = new byte[(int) fileSize &lt;= chunkSize ? (int) fileSize : chunkSize];\n\n            long count = 0;\n            if (fileSize % chunkSize == 0)\n                count = fileSize / chunkSize;\n            else\n                count = (fileSize / chunkSize) + 1;\n            // try-with-resources to ensure closing stream\n            try (FileInputStream fis = new FileInputStream(file);\n                BufferedInputStream bis = new BufferedInputStream(fis)) {\n                int bytesAmount = 0;\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                int i = 0;\n                String startUploadUrl = \"\";\n                int k = 0;\n                while ((bytesAmount = bis.read(buffer)) &gt; 0) {\n                    baos.write(buffer, 0, bytesAmount);\n                    byte partialData[] = baos.toByteArray();\n                    if (i == 0) {\n                        startUploadUrl = \"https://siteURL/_api/web/GetFileByServerRelativeUrl('\"+relativePath+\"/\"+fileName+\"')/StartUpload(uploadId=guid'\"+gUid+\"')\";                       \n                        executeMultiPartRequest(startUploadUrl, partialData);\n                        System.out.println(\"first worked\");\n                        // StartUpload call\n                    } else if (i == count-1) {\n                        String finishUploadUrl = \"https://siteURL/_api/web/GetFileByServerRelativeUrl('\"+relativePath+\"/\"+fileName+\"')/FinishUpload(uploadId=guid'\"+gUid+\"',fileOffset=\"+i+\")\";\n                        executeMultiPartRequest(finishUploadUrl, partialData);\n                        System.out.println(\"FinishUpload worked\");\n                        // FinishUpload call\n                    } else {\n                        String continueUploadUrl = \"https://siteURL/_api/web/GetFileByServerRelativeUrl('\"+relativePath+\"/\"+fileName+\"')/ContinueUpload(uploadId=guid'\"+gUid+\"',fileOffset=\"+i+\")\";\n                        executeMultiPartRequest(continueUploadUrl, partialData);\n                        System.out.println(\"continue worked\");\n                    }\n                    i++;\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659961754,"post_id":73277875,"comment_id":129412148,"body_markdown":"A sql Driver needs to have a no-args constructor. Which, if you check the **full stacktrace** will also be something that that is telling you. Please include the **full stacktrace**!","body":"A sql Driver needs to have a no-args constructor. Which, if you check the <b>full stacktrace</b> will also be something that that is telling you. Please include the <b>full stacktrace</b>!"}],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659962488,"creation_date":1659962488,"answer_id":73278058,"question_id":73277875,"body_markdown":"You seem what you want to use postgress so configure a standard postgress drivers and add postgress driver jar with maven.\r\n\r\n    spring.database.driverClassName=org.postgresql.Driver\r\n\r\nNot strange \r\n\r\n    spring.datasource.driverClassName=com.example.ksql.KDriver\r\n","title":"org.springframework.beans.factory.UnsatisfiedDependencyException Error thrown when I tried my custom driver class to register with Spring JPA","body":"<p>You seem what you want to use postgress so configure a standard postgress drivers and add postgress driver jar with maven.</p>\n<pre><code>spring.database.driverClassName=org.postgresql.Driver\n</code></pre>\n<p>Not strange</p>\n<pre><code>spring.datasource.driverClassName=com.example.ksql.KDriver\n</code></pre>\n"}],"owner":{"account_id":17044620,"reputation":50,"user_id":12331751,"display_name":"Dr Drake Ramoray"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1718,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659962488,"creation_date":1659961617,"question_id":73277875,"body_markdown":"I tried to register my driver class so that my spring application uses custom driver internally ? My application.properties file config is as follows\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5438/postgres\r\nspring.datasource.username=postgres\r\nspring.datasource.password=postgres\r\nspring.jpa.show-sql=true\r\nspring.datasource.driverClassName=com.example.ksql.KDriver\r\n\r\n\r\n## Hibernate Properties\r\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n\r\n#Hibernate ddl auto (create, create-drop, validate, update)\r\nspring.jpa.hibernate.ddl-auto = update\r\n\r\nserver.port=8080\r\n```\r\nBasically, I have implemented java.sql interfaces and inside override methods I am making actual db method calls like postgres, mysql etc.\r\n\r\nBut when I run my application it shows error like - \r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to instantiate class com.example.ksql.KDriver\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.7.jar:2.6.7]\r\n\tat com.example.demo.SamplesJavaApplication.main(SamplesJavaApplication.java:15) [classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to instantiate class com.example.ksql.KDriver\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\t... 21 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to instantiate class com.example.ksql.KDriver\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\t... 35 common frames omitted\r\nCaused by: java.lang.RuntimeException: Failed to instantiate class com.example.ksql.KDriver\r\n\tat com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:499) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:460) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:355) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:181) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_342]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_342]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_342]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_342]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\t... 36 common frames omitted\r\nCaused by: java.lang.NoSuchMethodException: com.example.ksql.KDriver.&lt;init&gt;()\r\n\tat java.lang.Class.getConstructor0(Class.java:3082) ~[na:1.8.0_342]\r\n\tat java.lang.Class.getConstructor(Class.java:1825) ~[na:1.8.0_342]\r\n\tat com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:495) ~[HikariCP-4.0.3.jar:na]\r\n\t... 46 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\nI want to know is it really a right way to use custom driver class internally by jpa or I have to do something else ??\r\n\r\nMy driver class looks like this - \r\n```\r\npackage com.example.ksql;\r\n\r\n//import com.mysql.cj.jdbc.Driver;\r\nimport org.postgresql.Driver;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverPropertyInfo;\r\nimport java.sql.SQLException;\r\nimport java.sql.SQLFeatureNotSupportedException;\r\nimport java.util.Properties;\r\nimport java.util.logging.Logger;\r\n\r\n\r\n\r\npublic class KDriver implements java.sql.Driver {\r\n    public Driver wrappedDriver;\r\n\r\n    private String _url;\r\n    private String _username;\r\n    private String _password;\r\n\r\n    private String _databaseName;\r\n\r\n    private Integer _version = 1;\r\n    private Connection _connection;\r\n    public Boolean _isConnected = false;\r\n\r\n    private String _lastInsertId = &quot;-1&quot;;\r\n\r\n    public KDriver(String url, String user, String password) throws SQLException {\r\n\r\n        _url = url;\r\n        _username = user;\r\n        _password = password;\r\n\r\n    }\r\n\r\n    @Override\r\n    public Connection connect(String _url, Properties info) throws SQLException {\r\n\r\n        wrappedDriver = new Driver();\r\n        _connection = wrappedDriver.connect(_url, info);\r\n        Connection kobj = new KConnection(_connection);\r\n        return kobj;\r\n    }\r\n\r\n    @Override\r\n    public boolean acceptsURL(String url) throws SQLException {\r\n        boolean acceptsURL = wrappedDriver.acceptsURL(url);\r\n        return acceptsURL;\r\n    }\r\n\r\n    @Override\r\n    public DriverPropertyInfo[] getPropertyInfo(String url, Properties info) throws SQLException {\r\n        return new DriverPropertyInfo[0];\r\n    }\r\n\r\n    @Override\r\n    public int getMajorVersion() {\r\n       int getMajor = wrappedDriver.getMajorVersion();\r\n        return getMajor;\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getMinorVersion() {\r\n        int getMinor = wrappedDriver.getMinorVersion();\r\n        return getMinor;\r\n    }\r\n\r\n    @Override\r\n    public boolean jdbcCompliant() {\r\n        boolean jdbcCompliant = wrappedDriver.jdbcCompliant();\r\n        return jdbcCompliant;\r\n    }\r\n\r\n    @Override\r\n    public Logger getParentLogger() throws SQLFeatureNotSupportedException {\r\n        return wrappedDriver.getParentLogger();\r\n    }\r\n}\r\n```  \r\n","title":"org.springframework.beans.factory.UnsatisfiedDependencyException Error thrown when I tried my custom driver class to register with Spring JPA","body":"<p>I tried to register my driver class so that my spring application uses custom driver internally ? My application.properties file config is as follows</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5438/postgres\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.jpa.show-sql=true\nspring.datasource.driverClassName=com.example.ksql.KDriver\n\n\n## Hibernate Properties\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n\n#Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto = update\n\nserver.port=8080\n</code></pre>\n<p>Basically, I have implemented java.sql interfaces and inside override methods I am making actual db method calls like postgres, mysql etc.</p>\n<p>But when I run my application it shows error like -</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to instantiate class com.example.ksql.KDriver\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.7.jar:2.6.7]\n    at com.example.demo.SamplesJavaApplication.main(SamplesJavaApplication.java:15) [classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to instantiate class com.example.ksql.KDriver\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.19.jar:5.3.19]\n    ... 21 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to instantiate class com.example.ksql.KDriver\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.19.jar:5.3.19]\n    ... 35 common frames omitted\nCaused by: java.lang.RuntimeException: Failed to instantiate class com.example.ksql.KDriver\n    at com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:499) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:460) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:355) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:181) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.6.7.jar:2.6.7]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_342]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_342]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_342]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_342]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.19.jar:5.3.19]\n    ... 36 common frames omitted\nCaused by: java.lang.NoSuchMethodException: com.example.ksql.KDriver.&lt;init&gt;()\n    at java.lang.Class.getConstructor0(Class.java:3082) ~[na:1.8.0_342]\n    at java.lang.Class.getConstructor(Class.java:1825) ~[na:1.8.0_342]\n    at com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:495) ~[HikariCP-4.0.3.jar:na]\n    ... 46 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I want to know is it really a right way to use custom driver class internally by jpa or I have to do something else ??</p>\n<p>My driver class looks like this -</p>\n<pre><code>package com.example.ksql;\n\n//import com.mysql.cj.jdbc.Driver;\nimport org.postgresql.Driver;\nimport java.sql.Connection;\nimport java.sql.DriverPropertyInfo;\nimport java.sql.SQLException;\nimport java.sql.SQLFeatureNotSupportedException;\nimport java.util.Properties;\nimport java.util.logging.Logger;\n\n\n\npublic class KDriver implements java.sql.Driver {\n    public Driver wrappedDriver;\n\n    private String _url;\n    private String _username;\n    private String _password;\n\n    private String _databaseName;\n\n    private Integer _version = 1;\n    private Connection _connection;\n    public Boolean _isConnected = false;\n\n    private String _lastInsertId = &quot;-1&quot;;\n\n    public KDriver(String url, String user, String password) throws SQLException {\n\n        _url = url;\n        _username = user;\n        _password = password;\n\n    }\n\n    @Override\n    public Connection connect(String _url, Properties info) throws SQLException {\n\n        wrappedDriver = new Driver();\n        _connection = wrappedDriver.connect(_url, info);\n        Connection kobj = new KConnection(_connection);\n        return kobj;\n    }\n\n    @Override\n    public boolean acceptsURL(String url) throws SQLException {\n        boolean acceptsURL = wrappedDriver.acceptsURL(url);\n        return acceptsURL;\n    }\n\n    @Override\n    public DriverPropertyInfo[] getPropertyInfo(String url, Properties info) throws SQLException {\n        return new DriverPropertyInfo[0];\n    }\n\n    @Override\n    public int getMajorVersion() {\n       int getMajor = wrappedDriver.getMajorVersion();\n        return getMajor;\n    }\n\n\n    @Override\n    public int getMinorVersion() {\n        int getMinor = wrappedDriver.getMinorVersion();\n        return getMinor;\n    }\n\n    @Override\n    public boolean jdbcCompliant() {\n        boolean jdbcCompliant = wrappedDriver.jdbcCompliant();\n        return jdbcCompliant;\n    }\n\n    @Override\n    public Logger getParentLogger() throws SQLFeatureNotSupportedException {\n        return wrappedDriver.getParentLogger();\n    }\n}\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8867,"page":1125,"page_size":100}
