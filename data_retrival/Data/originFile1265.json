{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1655197723,"post_id":72614104,"comment_id":128269087,"body_markdown":"If it changes on every clicks then it means it is working. What&#39;s the problem?","body":"If it changes on every clicks then it means it is working. What&#39;s the problem?"},{"owner":{"display_name":"user17765346"},"score":0,"creation_date":1655197802,"post_id":72614104,"comment_id":128269119,"body_markdown":"It&#39;s not changing when it&#39;s true. I have to click it twice in order to switch it to false again","body":"It&#39;s not changing when it&#39;s true. I have to click it twice in order to switch it to false again"}],"answers":[{"tags":[],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655199241,"creation_date":1655199241,"answer_id":72614678,"question_id":72614104,"body_markdown":"Whenever night mode is toggled, `onCreate` will be called again. \r\n\r\n`getApplicationContext().getResources().getConfiguration().uiMode &amp; Configuration.UI_MODE_NIGHT_MASK;\r\n` always gives you the initial configuration so you are always writing the same value to `isDarkMode` whenever the night mode is toggled.\r\n\r\nTo get the current night mode configuration, use `AppCompatDelegate.getDefaultNightMode()` instead\r\n\r\n```\r\n    int nightModeFlags = AppCompatDelegate.getDefaultNightMode();\r\n    switch (nightModeFlags) {\r\n        case AppCompatDelegate.MODE_NIGHT_YES:\r\n            dark_light.setImageResource(R.drawable.light);\r\n            isDarkMode = true;\r\n            break;\r\n\r\n        case AppCompatDelegate.MODE_NIGHT_NO:\r\n            dark_light.setImageResource(R.drawable.dark);\r\n            isDarkMode = false;\r\n            break;\r\n    }\r\n```","title":"Toggle method not working properly in Android Studio using JAVA","body":"<p>Whenever night mode is toggled, <code>onCreate</code> will be called again.</p>\n<p><code>getApplicationContext().getResources().getConfiguration().uiMode &amp; Configuration.UI_MODE_NIGHT_MASK; </code> always gives you the initial configuration so you are always writing the same value to <code>isDarkMode</code> whenever the night mode is toggled.</p>\n<p>To get the current night mode configuration, use <code>AppCompatDelegate.getDefaultNightMode()</code> instead</p>\n<pre><code>    int nightModeFlags = AppCompatDelegate.getDefaultNightMode();\n    switch (nightModeFlags) {\n        case AppCompatDelegate.MODE_NIGHT_YES:\n            dark_light.setImageResource(R.drawable.light);\n            isDarkMode = true;\n            break;\n\n        case AppCompatDelegate.MODE_NIGHT_NO:\n            dark_light.setImageResource(R.drawable.dark);\n            isDarkMode = false;\n            break;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user17765346"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72614678,"answer_count":1,"score":0,"last_activity_date":1655199241,"creation_date":1655196736,"question_id":72614104,"body_markdown":"I made simple dark/light mode switcher. The application `OnCreate` detects the mode you are on and than changes the boolean. I&#39;m toggling this boolean and theme with button but for some reason it changes to false after second click. It only does that when the boolean is true. On false it works fine. Here&#39;s my code:\r\n\r\n    ImageButton dark_light;\r\n    boolean isDarkMode;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        dark_light = findViewById(R.id.dark_light);\r\n\r\n        int nightModeFlags =\r\n                getApplicationContext().getResources().getConfiguration().uiMode &amp;\r\n                        Configuration.UI_MODE_NIGHT_MASK;\r\n        switch (nightModeFlags) {\r\n            case Configuration.UI_MODE_NIGHT_YES:\r\n                dark_light.setImageResource(R.drawable.light);\r\n                isDarkMode = true;\r\n                break;\r\n\r\n            case Configuration.UI_MODE_NIGHT_NO:\r\n                dark_light.setImageResource(R.drawable.dark);\r\n                isDarkMode = false;\r\n                break;\r\n        }\r\n\r\n\r\n        dark_light.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (!isDarkMode) {\r\n                    dark_light.setImageResource(R.drawable.light);\r\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                    isDarkMode = true;\r\n                } else {\r\n                    dark_light.setImageResource(R.drawable.dark);\r\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n                    isDarkMode = false;\r\n                }\r\n                Log.d(&quot;Dark_Light&quot;, String.valueOf(isDarkMode));\r\n            }\r\n        });\r\n\r\n    }","title":"Toggle method not working properly in Android Studio using JAVA","body":"<p>I made simple dark/light mode switcher. The application <code>OnCreate</code> detects the mode you are on and than changes the boolean. I'm toggling this boolean and theme with button but for some reason it changes to false after second click. It only does that when the boolean is true. On false it works fine. Here's my code:</p>\n<pre><code>ImageButton dark_light;\nboolean isDarkMode;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    dark_light = findViewById(R.id.dark_light);\n\n    int nightModeFlags =\n            getApplicationContext().getResources().getConfiguration().uiMode &amp;\n                    Configuration.UI_MODE_NIGHT_MASK;\n    switch (nightModeFlags) {\n        case Configuration.UI_MODE_NIGHT_YES:\n            dark_light.setImageResource(R.drawable.light);\n            isDarkMode = true;\n            break;\n\n        case Configuration.UI_MODE_NIGHT_NO:\n            dark_light.setImageResource(R.drawable.dark);\n            isDarkMode = false;\n            break;\n    }\n\n\n    dark_light.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if (!isDarkMode) {\n                dark_light.setImageResource(R.drawable.light);\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n                isDarkMode = true;\n            } else {\n                dark_light.setImageResource(R.drawable.dark);\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n                isDarkMode = false;\n            }\n            Log.d(&quot;Dark_Light&quot;, String.valueOf(isDarkMode));\n        }\n    });\n\n}\n</code></pre>\n"},{"tags":["java","file-upload","jmeter","content-length"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654931754,"creation_date":1654931754,"answer_id":72582428,"question_id":72581440,"body_markdown":"[Content-Length][1] header stands for the number of bytes in the request body. The request body begins right after the [Headers][2]. So if you&#39;re uploading just one file and there are no dynamic parts of the request - it should be the same every time you execute the request. However for multipart requests you have the [boundary][3] which is random and its length may vary, that explains the eventual differences. \r\n\r\nIt might be the case Postman sends the file in &quot;raw&quot; mode, i.e. not multipart. In this case you will need to untick `Use multipart/form-data` box in the HTTP Request sampler. \r\n\r\nGoing forward if you&#39;re able to successfully run the request using Postman you can just record it with JMeter&#39;s [HTTP(S) Test Script Recorder][4] \r\n\r\n 1. [Start JMeter&#39;s HTTP(S) Test Script Recorder][5] \r\n 2. [Import JMeter&#39;s certificate into Postman][6] \r\n\r\n    [![enter image description here][7]][7]\r\n 3. [Configure Postman to use JMeter as the proxy][8]\r\n\r\n    [![enter image description here][9]][9]\r\n 4. Copy the file you will be uploading to the &quot;bin&quot; folder of your JMeter installation \r\n 5. Run your request in Postman \r\n 6. That&#39;s it, now you should have appropriate JMeter configuration for the file upload. \r\n\r\nMore information: [How to Convert Your Postman API Tests to JMeter for Scaling][10]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Length\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers\r\n  [3]: https://stackoverflow.com/questions/3508338/what-is-the-boundary-in-multipart-form-data\r\n  [4]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP(S)_Test_Script_Recorder\r\n  [5]: https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html#basic-instructions\r\n  [6]: https://learning.postman.com/docs/sending-requests/certificates/\r\n  [7]: https://i.stack.imgur.com/CKeRK.png\r\n  [8]: https://learning.postman.com/docs/getting-started/proxy/\r\n  [9]: https://i.stack.imgur.com/JZ8q5.png\r\n  [10]: https://www.blazemeter.com/how-to-convert-your-postman-api-tests-to-jmeter-for-scaling","title":"Photo Upload - Jmeter - {&quot;reason&quot;:&quot;Chunk-Length mismatch (found: 73800, required:73581)&quot;}","body":"<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Length\" rel=\"nofollow noreferrer\">Content-Length</a> header stands for the number of bytes in the request body. The request body begins right after the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers\" rel=\"nofollow noreferrer\">Headers</a>. So if you're uploading just one file and there are no dynamic parts of the request - it should be the same every time you execute the request. However for multipart requests you have the <a href=\"https://stackoverflow.com/questions/3508338/what-is-the-boundary-in-multipart-form-data\">boundary</a> which is random and its length may vary, that explains the eventual differences.</p>\n<p>It might be the case Postman sends the file in &quot;raw&quot; mode, i.e. not multipart. In this case you will need to untick <code>Use multipart/form-data</code> box in the HTTP Request sampler.</p>\n<p>Going forward if you're able to successfully run the request using Postman you can just record it with JMeter's <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP(S)_Test_Script_Recorder\" rel=\"nofollow noreferrer\">HTTP(S) Test Script Recorder</a></p>\n<ol>\n<li><p><a href=\"https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html#basic-instructions\" rel=\"nofollow noreferrer\">Start JMeter's HTTP(S) Test Script Recorder</a></p>\n</li>\n<li><p><a href=\"https://learning.postman.com/docs/sending-requests/certificates/\" rel=\"nofollow noreferrer\">Import JMeter's certificate into Postman</a></p>\n<p><a href=\"https://i.stack.imgur.com/CKeRK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKeRK.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p><a href=\"https://learning.postman.com/docs/getting-started/proxy/\" rel=\"nofollow noreferrer\">Configure Postman to use JMeter as the proxy</a></p>\n<p><a href=\"https://i.stack.imgur.com/JZ8q5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZ8q5.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Copy the file you will be uploading to the &quot;bin&quot; folder of your JMeter installation</p>\n</li>\n<li><p>Run your request in Postman</p>\n</li>\n<li><p>That's it, now you should have appropriate JMeter configuration for the file upload.</p>\n</li>\n</ol>\n<p>More information: <a href=\"https://www.blazemeter.com/how-to-convert-your-postman-api-tests-to-jmeter-for-scaling\" rel=\"nofollow noreferrer\">How to Convert Your Postman API Tests to JMeter for Scaling</a></p>\n"}],"owner":{"account_id":5588696,"reputation":11,"user_id":4428571,"display_name":"Sujata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655199000,"creation_date":1654916814,"question_id":72581440,"body_markdown":"I am trying to upload photo via Jmeter, below is the sample request:\r\n\r\n**URL**: https://domain/.../signedresources/604a9230-..../resumable?region=US\r\n**Method**: PUT\r\n**Headers:** \r\n**Content-Type** - \timage/jpeg, image/jpeg\r\n**Session-Id** -\t884b03...\r\n**Content-Range** -\tbytes 0-73580/73581\r\n**Content-Length** -\t73581\r\n\r\n\r\n\r\nIn File Upload tab of Jmeter I have checked: Use Multipart/form-data option\r\n**File Path:** /Users/sujata.../Downloads/fish.jpeg\t\r\n**Parameter Name:** file_upload[]\t\r\n**MIME type:** image/jpeg\r\n\r\nNow, this request works fine when executed via Postman, and in Postman **Content-Length\t73581** header is not passed. The file size in bytes is 73581. However while running this request via jmeter **Content-Length\t- 73581** header is automatically added and everytime the value is different, which is ending up with below error:\r\n\r\n\r\n {&quot;reason&quot;:&quot;Chunk-Length mismatch (found: 73800, required:73581)&quot;}\r\n\r\nIs there any way to compute the content-length of file which we are going to upload and pass that value in the header?\r\n\r\nI also tried explicitely mentioning  **Content-Length\t- 73581** in header but still it is not taking this valued and somehow some new value is computed and mismatch error is shown.\r\n\r\nIs there any way to bypass this content-length computation by jmeter, or overwrite?\r\n\r\n[PUT-Request-Jmeter][1]\r\n\r\n[Content-Type_header_added_by_jmeter][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iWVVI.png\r\n  [2]: https://i.stack.imgur.com/io0Ch.png","title":"Photo Upload - Jmeter - {&quot;reason&quot;:&quot;Chunk-Length mismatch (found: 73800, required:73581)&quot;}","body":"<p>I am trying to upload photo via Jmeter, below is the sample request:</p>\n<p><strong>URL</strong>: https://domain/.../signedresources/604a9230-..../resumable?region=US\n<strong>Method</strong>: PUT\n<strong>Headers:</strong>\n<strong>Content-Type</strong> -  image/jpeg, image/jpeg\n<strong>Session-Id</strong> -    884b03...\n<strong>Content-Range</strong> - bytes 0-73580/73581\n<strong>Content-Length</strong> -    73581</p>\n<p>In File Upload tab of Jmeter I have checked: Use Multipart/form-data option\n<strong>File Path:</strong> /Users/sujata.../Downloads/fish.jpeg\n<strong>Parameter Name:</strong> file_upload[]<br />\n<strong>MIME type:</strong> image/jpeg</p>\n<p>Now, this request works fine when executed via Postman, and in Postman <strong>Content-Length 73581</strong> header is not passed. The file size in bytes is 73581. However while running this request via jmeter <strong>Content-Length   - 73581</strong> header is automatically added and everytime the value is different, which is ending up with below error:</p>\n<p>{&quot;reason&quot;:&quot;Chunk-Length mismatch (found: 73800, required:73581)&quot;}</p>\n<p>Is there any way to compute the content-length of file which we are going to upload and pass that value in the header?</p>\n<p>I also tried explicitely mentioning  <strong>Content-Length   - 73581</strong> in header but still it is not taking this valued and somehow some new value is computed and mismatch error is shown.</p>\n<p>Is there any way to bypass this content-length computation by jmeter, or overwrite?</p>\n<p><a href=\"https://i.stack.imgur.com/iWVVI.png\" rel=\"nofollow noreferrer\">PUT-Request-Jmeter</a></p>\n<p><a href=\"https://i.stack.imgur.com/io0Ch.png\" rel=\"nofollow noreferrer\">Content-Type_header_added_by_jmeter</a></p>\n"},{"tags":["java","ubuntu"],"answers":[{"tags":[],"owner":{"account_id":25522266,"reputation":54,"user_id":19311932,"display_name":"Kiu Kiu Duck Pea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655198332,"creation_date":1655197770,"answer_id":72614343,"question_id":72614192,"body_markdown":"\r\ntrying\r\n 1. connect container with user root\\\r\n    `docker exec -it -u root container_name /bin/bash`\r\n2. install java 11 or other version\r\n\r\n   `apt-get install openjdk-11-jdk`\r\n\r\n    `java --version`\r\n\r\nnow you can use java in docker container\r\n","title":"how to call java from ubuntu inside the docker","body":"<p>trying</p>\n<ol>\n<li><p>connect container with user root<br />\n<code>docker exec -it -u root container_name /bin/bash</code></p>\n</li>\n<li><p>install java 11 or other version</p>\n<p><code>apt-get install openjdk-11-jdk</code></p>\n<p><code>java --version</code></p>\n</li>\n</ol>\n<p>now you can use java in docker container</p>\n"}],"owner":{"account_id":13377325,"reputation":39,"user_id":9653834,"display_name":"SKmay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655198332,"creation_date":1655197098,"question_id":72614192,"body_markdown":"I was trying to extract dump.jar file then convert to csv file using this java command in ubuntu-docker (Linux platform) the code has no syntax error but there is no java, so it cannot process. How shall I call java from ubuntu inside the docker? \r\n\r\ninstall Java but there is not enough space \r\n\r\nANY IDEA please? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rnkdx.png","title":"how to call java from ubuntu inside the docker","body":"<p>I was trying to extract dump.jar file then convert to csv file using this java command in ubuntu-docker (Linux platform) the code has no syntax error but there is no java, so it cannot process. How shall I call java from ubuntu inside the docker?</p>\n<p>install Java but there is not enough space</p>\n<p>ANY IDEA please?</p>\n<p><a href=\"https://i.stack.imgur.com/rnkdx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rnkdx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","file","executable-jar"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1655117772,"post_id":72601611,"comment_id":128246530,"body_markdown":"Any error message? Put `ex.printStackTrace();` inside the Catch-block","body":"Any error message? Put <code>ex.printStackTrace();</code> inside the Catch-block"},{"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"score":0,"creation_date":1655117848,"post_id":72601611,"comment_id":128246551,"body_markdown":"no error message. nothing is showing.","body":"no error message. nothing is showing."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1655117873,"post_id":72601611,"comment_id":128246563,"body_markdown":"How about extract and recreate saved jar file? Because it is using zip compression.","body":"How about extract and recreate saved jar file? Because it is using zip compression."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1655117943,"post_id":72601611,"comment_id":128246581,"body_markdown":"`catch (Exception ex) { }` will never show any error... at least include  `ex.printStackTrace()` into that catch block!","body":"<code>catch (Exception ex) { }</code> will never show any error... at least include  <code>ex.printStackTrace()</code> into that catch block!"},{"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"score":0,"creation_date":1655117953,"post_id":72601611,"comment_id":128246586,"body_markdown":"@Reporter Sorry, I can&#39;t understand what are you saying. :(","body":"@Reporter Sorry, I can&#39;t understand what are you saying. :("},{"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"score":0,"creation_date":1655118077,"post_id":72601611,"comment_id":128246630,"body_markdown":"@user16320675 no error is showing","body":"@user16320675 no error is showing"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1655118139,"post_id":72601611,"comment_id":128246658,"body_markdown":"AGAIN `catch (Exception ex) { } ` (as posted in question) will never show any error - it is just ignoring any `Exception` !","body":"AGAIN <code>catch (Exception ex) { } </code> (as posted in question) will never show any error - it is just ignoring any <code>Exception</code> !"},{"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"score":0,"creation_date":1655118168,"post_id":72601611,"comment_id":128246669,"body_markdown":"@user16320675 i added a `JOptionPane` but nothing is showing and `ex.printStackTrace()` also. but nothing is showing.","body":"@user16320675 i added a <code>JOptionPane</code> but nothing is showing and <code>ex.printStackTrace()</code> also. but nothing is showing."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1655118203,"post_id":72601611,"comment_id":128246684,"body_markdown":"@CSE Look at first answer. Also see https://www.baeldung.com/java-compress-and-uncompress","body":"@CSE Look at first answer. Also see <a href=\"https://www.baeldung.com/java-compress-and-uncompress\" rel=\"nofollow noreferrer\">baeldung.com/java-compress-and-uncompress</a>"}],"answers":[{"tags":[],"owner":{"account_id":22572634,"reputation":61,"user_id":16758600,"display_name":"Jackson Brienen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655118026,"creation_date":1655118026,"answer_id":72601743,"question_id":72601611,"body_markdown":"Once you have compiled a JAR, the files within cannot be changed. A similar question to this has been asked and answered [here][1].&lt;br&gt;\r\nAn explanation for why you cannot do this is, a JAR is similar to a ZIP file. In order to change something inside it must be unzipped, edited, then rezipped. This is the same for archive files like rar or 7z. If you need to write to a file, the file must be local, and can&#39;t be within the archived JAR.\r\n\r\n  [1]: https://stackoverflow.com/a/13937984/16758600","title":"Unable to write in file in runnable JAR file","body":"<p>Once you have compiled a JAR, the files within cannot be changed. A similar question to this has been asked and answered <a href=\"https://stackoverflow.com/a/13937984/16758600\">here</a>.<br>\nAn explanation for why you cannot do this is, a JAR is similar to a ZIP file. In order to change something inside it must be unzipped, edited, then rezipped. This is the same for archive files like rar or 7z. If you need to write to a file, the file must be local, and can't be within the archived JAR.</p>\n"}],"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655198295,"answer_count":1,"score":0,"last_activity_date":1655198320,"creation_date":1655117418,"question_id":72601611,"body_markdown":"I saved the runnable JAR file to another directory (not in the project folder). Now, I can read data from the runnable JAR file, but I can&#39;t write any data in file.\r\n\r\nCode for reading data:\r\n\r\n    try {\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(getClass().getClassLoader()\r\n\t\t\t    .getResourceAsStream(&quot;TaskList.txt&quot;)));\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tString line = null;\r\n\t\t\r\n\t\twhile((line = reader.readLine()) != null) {\r\n\t\t\tsb.append(line + &quot;\\n&quot;);\r\n\t\t\ttextArea.setText(sb.toString());\r\n\t\t}\r\n\t\treader.close();\r\n\t}\r\n\tcatch(Exception ex) {\r\n\t\tJOptionPane.showMessageDialog(null, &quot;File Not Found&quot;);\r\n\t}\r\n\r\nCode for writing data:\r\n\r\n    try{\r\n\t    String content = textArea.getText();\r\n\t\tWriter writer = new OutputStreamWriter(new FileOutputStream(&quot;bin/TaskList.txt&quot;));\r\n        writer.write(content);\r\n        writer.close();\r\n\t}\r\n\tcatch(Exception ex) {\r\n\t\t\t\t\t\r\n    }","title":"Unable to write in file in runnable JAR file","body":"<p>I saved the runnable JAR file to another directory (not in the project folder). Now, I can read data from the runnable JAR file, but I can't write any data in file.</p>\n<p>Code for reading data:</p>\n<pre><code>try {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(getClass().getClassLoader()\n            .getResourceAsStream(&quot;TaskList.txt&quot;)));\n    StringBuilder sb = new StringBuilder();\n    String line = null;\n    \n    while((line = reader.readLine()) != null) {\n        sb.append(line + &quot;\\n&quot;);\n        textArea.setText(sb.toString());\n    }\n    reader.close();\n}\ncatch(Exception ex) {\n    JOptionPane.showMessageDialog(null, &quot;File Not Found&quot;);\n}\n</code></pre>\n<p>Code for writing data:</p>\n<pre><code>try{\n    String content = textArea.getText();\n    Writer writer = new OutputStreamWriter(new FileOutputStream(&quot;bin/TaskList.txt&quot;));\n    writer.write(content);\n    writer.close();\n}\ncatch(Exception ex) {\n                \n}\n</code></pre>\n"},{"tags":["java","jvm","stack-trace"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1655198519,"post_id":72614408,"comment_id":128269395,"body_markdown":"Even if you have `OmitStackTraceInFastThrow` enabled, the full stacktrace will be there for the first instance the exception was thrown. You just have to browse your logs to find the first occurrence. This flag is an optimization to prevent printing the same stacktrace over and over again, not to remove them completely.","body":"Even if you have <code>OmitStackTraceInFastThrow</code> enabled, the full stacktrace will be there for the first instance the exception was thrown. You just have to browse your logs to find the first occurrence. This flag is an optimization to prevent printing the same stacktrace over and over again, not to remove them completely."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655198561,"post_id":72614408,"comment_id":128269410,"body_markdown":"Unless you explicitly downloaded an OpenJDK with a different JVM, it will use the Hotspot JVM. But `-XX:-OmitStackTraceInFastThrow` is not a command but an *option*. You specify it at startup, together will all other options.","body":"Unless you explicitly downloaded an OpenJDK with a different JVM, it will use the Hotspot JVM. But <code>-XX:-OmitStackTraceInFastThrow</code> is not a command but an <i>option</i>. You specify it at startup, together will all other options."},{"owner":{"account_id":25335362,"reputation":13,"user_id":19154594,"display_name":"Rohit Dakota"},"score":0,"creation_date":1655205237,"post_id":72614408,"comment_id":128271772,"body_markdown":"@Holger Okay, so you mean at core OpenJDK 64-Bit Server VM (build 25.91-b14, mixed mode) is probably running on Hotspot.\nHow to specify it at startup? Is it at application level or JVM level(through cmd terminal)","body":"@Holger Okay, so you mean at core OpenJDK 64-Bit Server VM (build 25.91-b14, mixed mode) is probably running on Hotspot. How to specify it at startup? Is it at application level or JVM level(through cmd terminal)"}],"owner":{"account_id":25335362,"reputation":13,"user_id":19154594,"display_name":"Rohit Dakota"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655198044,"creation_date":1655198044,"question_id":72614408,"body_markdown":"In my organisation we are running our projects on **OpenJDK 64-Bit Server VM (build 25.91-b14, mixed mode)**, java 8.\r\n\r\nI am logging my error in a fashion shown below:\r\n\r\n    org.slf4j.Logger.error(&quot;ERROR in while processing data&quot;, e);\r\n\r\n\r\nI have went through relevant articles regarding no stack trace for implicit expections(like NPE) and found running the command `-XX:-OmitStackTraceInFastThrow` in the JVM.\r\n\r\nHowever, I have also read that this is a cause and solution for Hotspot JVM(By Oracle)\r\n\r\nWhat is the solution for this in My JVM? \r\n\r\nIf it is `-XX:-OmitStackTraceInFastThrow`, please educate as to how and where to run this command.","title":"NullPointerException in Java with no StackTrace for OpenJDK","body":"<p>In my organisation we are running our projects on <strong>OpenJDK 64-Bit Server VM (build 25.91-b14, mixed mode)</strong>, java 8.</p>\n<p>I am logging my error in a fashion shown below:</p>\n<pre><code>org.slf4j.Logger.error(&quot;ERROR in while processing data&quot;, e);\n</code></pre>\n<p>I have went through relevant articles regarding no stack trace for implicit expections(like NPE) and found running the command <code>-XX:-OmitStackTraceInFastThrow</code> in the JVM.</p>\n<p>However, I have also read that this is a cause and solution for Hotspot JVM(By Oracle)</p>\n<p>What is the solution for this in My JVM?</p>\n<p>If it is <code>-XX:-OmitStackTraceInFastThrow</code>, please educate as to how and where to run this command.</p>\n"},{"tags":["java","nullpointerexception","jvm","tiff","javax.imageio"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":4,"creation_date":1655117139,"post_id":72601432,"comment_id":128246290,"body_markdown":"It could, but it is extremely unlikely. You don&#39;t get the problem if you process the same file multiple times? Can you isolate it so that you can run the command for one file from the command line and get the error? You will need a reproducible minimal example for a bug report anyway.","body":"It could, but it is extremely unlikely. You don&#39;t get the problem if you process the same file multiple times? Can you isolate it so that you can run the command for one file from the command line and get the error? You will need a reproducible minimal example for a bug report anyway."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1655125981,"post_id":72601432,"comment_id":128249663,"body_markdown":"It&#39;s more likely a bug in the JDK source code than the JVM... But in any case it&#39;s very odd. Looking at the source code, `StringTokenizer` is used only for parsing `TIFFUndefined` values, which is represented by a string of comma separated byte values. What does your `node` tree look like? Can you export it as XML and include it here?","body":"It&#39;s more likely a bug in the JDK source code than the JVM... But in any case it&#39;s very odd. Looking at the source code, <code>StringTokenizer</code> is used only for parsing <code>TIFFUndefined</code> values, which is represented by a string of comma separated byte values. What does your <code>node</code> tree look like? Can you export it as XML and include it here?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1655126770,"post_id":72601432,"comment_id":128250003,"body_markdown":"If you are seeing inconsistent results when reading the same file, I would suspect a multi-threading problem.   Are you using `ImageIO.read`, or are you explicitly obtaining an ImageReader and using the same ImageReader in multiple threads?","body":"If you are seeing inconsistent results when reading the same file, I would suspect a multi-threading problem.   Are you using <code>ImageIO.read</code>, or are you explicitly obtaining an ImageReader and using the same ImageReader in multiple threads?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1655133386,"post_id":72601432,"comment_id":128252993,"body_markdown":"When the package `com.sun.media.imageio.plugins` does not original from the JDK provided plugin, as the stacktrace suggests, does that mean that you’re intentionally using a different TIFF plugin?","body":"When the package <code>com.sun.media.imageio.plugins</code> does not original from the JDK provided plugin, as the stacktrace suggests, does that mean that you’re intentionally using a different TIFF plugin?"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":2,"creation_date":1655134763,"post_id":72601432,"comment_id":128253562,"body_markdown":"@Holger Good catch! That seems to be the JAI TIFF plugin. The OpenJDK TIFF plugin is based on the same code IIRC, but there could some slight differences. AND: If you have both the JAI and the JDK plugin installed, and don&#39;t set an explicit order, they could potentially be selected at random... Might be related to the inconsistent behavior the OP experiences.","body":"@Holger Good catch! That seems to be the JAI TIFF plugin. The OpenJDK TIFF plugin is based on the same code IIRC, but there could some slight differences. AND: If you have both the JAI and the JDK plugin installed, and don&#39;t set an explicit order, they could potentially be selected at random... Might be related to the inconsistent behavior the OP experiences."},{"owner":{"account_id":5684286,"reputation":119,"user_id":4494338,"display_name":"extremecoder85"},"score":0,"creation_date":1655204772,"post_id":72601432,"comment_id":128271609,"body_markdown":"Hi All, Thanks for the replies so far. Yes I am using multiple threads and this is where I currently suspect where the cause of the issue lies. I also added logging for the node object, so it becomes visible what&#39;s wrong with it. Also I am using the jai_core.jar libraries along with the JDK that I&#39;m using. As soon as I know more I will reply again.","body":"Hi All, Thanks for the replies so far. Yes I am using multiple threads and this is where I currently suspect where the cause of the issue lies. I also added logging for the node object, so it becomes visible what&#39;s wrong with it. Also I am using the jai_core.jar libraries along with the JDK that I&#39;m using. As soon as I know more I will reply again."}],"owner":{"account_id":5684286,"reputation":119,"user_id":4494338,"display_name":"extremecoder85"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655197872,"creation_date":1655116639,"question_id":72601432,"body_markdown":"Sometimes I&#39;m getting a NullPointerException in \r\njava.base/java.util.StringTokenizer.isDelimiter \r\nbut I can&#39;t reproduce this consistently.\r\n\r\nHere&#39;s the stacktrace:\r\n\r\n```\r\njava.base/java.util.StringTokenizer.isDelimiter(Unknown Source), \r\njava.base/java.util.StringTokenizer.scanToken(Unknown Source), \r\njava.base/java.util.StringTokenizer.countTokens(Unknown Source), \r\ncom.sun.media.imageio.plugins.tiff.TIFFField.createFromMetadataNode(TIFFField.java:476), \r\ncom.sun.media.imageioimpl.plugins.tiff.TIFFImageMetadata.parseIFD(TIFFImageMetadata.java:1576), \r\ncom.sun.media.imageioimpl.plugins.tiff.TIFFImageMetadata.mergeNativeTree(TIFFImageMetadata.java:1600), \r\ncom.sun.media.imageioimpl.plugins.tiff.TIFFImageMetadata.mergeTree(TIFFImageMetadata.java:1624), \r\njava.desktop/javax.imageio.metadata.IIOMetadata.setFromTree(Unknown Source)\r\n```\r\n\r\nI&#39;m using this line:\r\n\r\n```\r\n// metaData is of type: javax.imageio.metadata.IIOMetadata\r\n// node is of type: org.w3c.dom.Node\r\n// formatName has value: &quot;com_sun_media_imageio_plugins_tiff_image_1.0&quot;;\r\n\r\nmetaData.setFromTree(formatName, node);\r\n```\r\n\r\nCould this be a bug in the JVM?\r\nI&#39;m using Adopt OpenJDK OpenJ9 11.0.4\r\n","title":"NullPointerException in java.base/java.util.StringTokenizer.isDelimiter","body":"<p>Sometimes I'm getting a NullPointerException in\njava.base/java.util.StringTokenizer.isDelimiter\nbut I can't reproduce this consistently.</p>\n<p>Here's the stacktrace:</p>\n<pre><code>java.base/java.util.StringTokenizer.isDelimiter(Unknown Source), \njava.base/java.util.StringTokenizer.scanToken(Unknown Source), \njava.base/java.util.StringTokenizer.countTokens(Unknown Source), \ncom.sun.media.imageio.plugins.tiff.TIFFField.createFromMetadataNode(TIFFField.java:476), \ncom.sun.media.imageioimpl.plugins.tiff.TIFFImageMetadata.parseIFD(TIFFImageMetadata.java:1576), \ncom.sun.media.imageioimpl.plugins.tiff.TIFFImageMetadata.mergeNativeTree(TIFFImageMetadata.java:1600), \ncom.sun.media.imageioimpl.plugins.tiff.TIFFImageMetadata.mergeTree(TIFFImageMetadata.java:1624), \njava.desktop/javax.imageio.metadata.IIOMetadata.setFromTree(Unknown Source)\n</code></pre>\n<p>I'm using this line:</p>\n<pre><code>// metaData is of type: javax.imageio.metadata.IIOMetadata\n// node is of type: org.w3c.dom.Node\n// formatName has value: &quot;com_sun_media_imageio_plugins_tiff_image_1.0&quot;;\n\nmetaData.setFromTree(formatName, node);\n</code></pre>\n<p>Could this be a bug in the JVM?\nI'm using Adopt OpenJDK OpenJ9 11.0.4</p>\n"},{"tags":["java","maven","starrocks"],"answers":[{"tags":[],"owner":{"account_id":25551748,"reputation":21,"user_id":19336011,"display_name":"jun geng"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655197870,"creation_date":1655197733,"answer_id":72614333,"question_id":72614193,"body_markdown":"Did you use the build.sh script to build the project?\r\nYou can build the hole fe project using the command `sh build.sh --fe`.\r\nIf you only want to build the spark-dpp module, you can using the command `mvn package -pl &quot;fe-common,spark-dpp&quot; -DskipTests` in the fe dir, and you can find the result in fe/spark-dpp/target/","title":"Fail to build StarRocks FE","body":"<p>Did you use the build.sh script to build the project?\nYou can build the hole fe project using the command <code>sh build.sh --fe</code>.\nIf you only want to build the spark-dpp module, you can using the command <code>mvn package -pl &quot;fe-common,spark-dpp&quot; -DskipTests</code> in the fe dir, and you can find the result in fe/spark-dpp/target/</p>\n"}],"owner":{"account_id":25549044,"reputation":21,"user_id":19333785,"display_name":"Alvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1655221971,"answer_count":1,"score":2,"last_activity_date":1655197870,"creation_date":1655197106,"question_id":72614193,"body_markdown":"When I was trying to build StarRocks on my Mac, I met an error. Following is error messaging \r\n\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  01:19 min\r\n[INFO] Finished at: 2022-06-14T08:39:27+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal on project fe-core: Could not resolve dependencies for project com.starrocks:fe-core:jar:3.4.0: com.starrocks:spark-dpp:jar:1.0.0 was not found in https://mirror.iscas.ac.cn/kunpeng/maven/ during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of kunpeng has elapsed or updates are forced -&gt; [Help 1]\r\n```\r\n\r\nMy Java version is \r\n\r\n```\r\nopenjdk version &quot;17.0.2&quot; 2022-01-18\r\nOpenJDK Runtime Environment (build 17.0.2+8-86)\r\nOpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)\r\n```\r\n\r\nCould anyone help me?","title":"Fail to build StarRocks FE","body":"<p>When I was trying to build StarRocks on my Mac, I met an error. Following is error messaging</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  01:19 min\n[INFO] Finished at: 2022-06-14T08:39:27+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project fe-core: Could not resolve dependencies for project com.starrocks:fe-core:jar:3.4.0: com.starrocks:spark-dpp:jar:1.0.0 was not found in https://mirror.iscas.ac.cn/kunpeng/maven/ during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of kunpeng has elapsed or updates are forced -&gt; [Help 1]\n</code></pre>\n<p>My Java version is</p>\n<pre><code>openjdk version &quot;17.0.2&quot; 2022-01-18\nOpenJDK Runtime Environment (build 17.0.2+8-86)\nOpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)\n</code></pre>\n<p>Could anyone help me?</p>\n"},{"tags":["java","generics","types","enums"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1654036082,"post_id":72454672,"comment_id":127995623,"body_markdown":"`List&lt;? extends Class&lt;? extends Enum&lt;?&gt;&gt;&gt;` might work.","body":"<code>List&lt;? extends Class&lt;? extends Enum&lt;?&gt;&gt;&gt;</code> might work."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1654042511,"post_id":72454672,"comment_id":127996599,"body_markdown":"You can look at the definition of `EnumSet` to see how to do this with generics.  I&#39;m not sure what your actual requirements are though.  `Class EnumSet&lt;E extends Enum&lt;E&gt;&gt;`","body":"You can look at the definition of <code>EnumSet</code> to see how to do this with generics.  I&#39;m not sure what your actual requirements are though.  <code>Class EnumSet&lt;E extends Enum&lt;E&gt;&gt;</code>"},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1654044269,"post_id":72454672,"comment_id":127996847,"body_markdown":"@LouisWasserman, I don&#39;t think so, or at least I can&#39;t get it to work, see counterexamples I&#39;ve added.","body":"@LouisWasserman, I don&#39;t think so, or at least I can&#39;t get it to work, see counterexamples I&#39;ve added."},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1654044296,"post_id":72454672,"comment_id":127996850,"body_markdown":"@markspace, I want to collect the values of several enums passed to a method.  (The enum objects themselves implement an additional interface for further processing downstream, but for now I just wish to collect values, given a Class object where I know that the class is an Enum.)","body":"@markspace, I want to collect the values of several enums passed to a method.  (The enum objects themselves implement an additional interface for further processing downstream, but for now I just wish to collect values, given a Class object where I know that the class is an Enum.)"},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1654046303,"post_id":72454672,"comment_id":127997081,"body_markdown":"This [related answer](https://stackoverflow.com/a/8704051/411282) gives a potential workaround, though it requires a wrapper class **and** the wrapper class must be specialized to any additional interfaces I wish for the enum to implement.  (I.e., if I want to know that the values I&#39;m getting are of type `MyEnumInterface` I&#39;d need one wrapper class for that case, rather than a wrapper that can be used generically for other cases like this.)","body":"This <a href=\"https://stackoverflow.com/a/8704051/411282\">related answer</a> gives a potential workaround, though it requires a wrapper class <b>and</b> the wrapper class must be specialized to any additional interfaces I wish for the enum to implement.  (I.e., if I want to know that the values I&#39;m getting are of type <code>MyEnumInterface</code> I&#39;d need one wrapper class for that case, rather than a wrapper that can be used generically for other cases like this.)"},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1654046479,"post_id":72454672,"comment_id":127997109,"body_markdown":"(I don&#39;t need the `valueOfSearchName` or the index, but the wrapper supports adding a `values()` method that returns a `List&lt;E&gt;`. or `List&lt;MyEnum&gt;`)","body":"(I don&#39;t need the <code>valueOfSearchName</code> or the index, but the wrapper supports adding a <code>values()</code> method that returns a <code>List&lt;E&gt;</code>. or <code>List&lt;MyEnum&gt;</code>)"},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1654047507,"post_id":72454672,"comment_id":127997245,"body_markdown":"Sorry for the noise, but even with the wrapper it&#39;s hard, because I can&#39;t call the constructor or static factory using an object typed with my Interface, **even** if the wrapper class is specialized to that interface with `&amp;`.","body":"Sorry for the noise, but even with the wrapper it&#39;s hard, because I can&#39;t call the constructor or static factory using an object typed with my Interface, <b>even</b> if the wrapper class is specialized to that interface with <code>&amp;</code>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654048388,"post_id":72454672,"comment_id":127997377,"body_markdown":"&quot;Something like the following doesn&#39;t work&quot;: doesn&#39;t work how?","body":"&quot;Something like the following doesn&#39;t work&quot;: doesn&#39;t work how?"},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1654048510,"post_id":72454672,"comment_id":127997400,"body_markdown":"@user207421, if I define the variable that way, I cannot use methods that require enums, like `values()` or `EnumSet.allof()`.  I expanded the examples below.","body":"@user207421, if I define the variable that way, I cannot use methods that require enums, like <code>values()</code> or <code>EnumSet.allof()</code>.  I expanded the examples below."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654054269,"post_id":72454672,"comment_id":127998117,"body_markdown":"You&#39;ve been here long enough to know that this is not sufficient. &quot;Doesn&#39;t work&quot; and &quot;I cannot&quot; are not problem descriptions.","body":"You&#39;ve been here long enough to know that this is not sufficient. &quot;Doesn&#39;t work&quot; and &quot;I cannot&quot; are not problem descriptions."},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1654092850,"post_id":72454672,"comment_id":128009888,"body_markdown":"Thanks, @user207421, I&#39;ve cleaned up the text a bit to clarify that the cases below were the examples showing that that type declaration was not sufficient.","body":"Thanks, @user207421, I&#39;ve cleaned up the text a bit to clarify that the cases below were the examples showing that that type declaration was not sufficient."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1654421870,"post_id":72454672,"comment_id":128082852,"body_markdown":"Have you tried using an interface? If you give all of your enums a common interface, you simplify your problem greatly.","body":"Have you tried using an interface? If you give all of your enums a common interface, you simplify your problem greatly."},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":1,"creation_date":1654522505,"post_id":72454672,"comment_id":128103719,"body_markdown":"@davidalayachew, they do have a common interface, but the problem is that when I have an object of type `MyInterface` I can&#39;t call methods like `values()` `EnumSet.allOf()` on that object even though I know it will be an enum.  You can&#39;t, for instance, say `interface MyInterface extends Enum`","body":"@davidalayachew, they do have a common interface, but the problem is that when I have an object of type <code>MyInterface</code> I can&#39;t call methods like <code>values()</code> <code>EnumSet.allOf()</code> on that object even though I know it will be an enum.  You can&#39;t, for instance, say <code>interface MyInterface extends Enum</code>"}],"answers":[{"tags":[],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654120202,"creation_date":1654048204,"answer_id":72455677,"question_id":72454672,"body_markdown":"I discovered in a [linked question][1] that there&#39;s a method on `Class` called `getEnumConstants()` \r\n\r\n(It simply returns null if it&#39;s not an enum, but in my case I know that it is.  `isEnum()` is also provided if needed.)\r\n\r\n    List&lt;Class&lt;?&gt;&gt; enumClasses; // or List&lt;Class&lt;? extends MyInterface&gt;&gt;\r\n    enumClasses.stream()\r\n        .map(Class::getEnumConstants)\r\n        .flatMap(Arrays::stream)\r\n        ...\r\n\r\nThis doesn&#39;t directly solve the question as I posed it in the title, but it does solve the use-case I had, which was to collect the values of several same-interface enums.\r\n\r\n  [1]: https://stackoverflow.com/q/5262096/411282","title":"Proving Enum classes are Enum classes when they&#39;re passed or stored","body":"<p>I discovered in a <a href=\"https://stackoverflow.com/q/5262096/411282\">linked question</a> that there's a method on <code>Class</code> called <code>getEnumConstants()</code></p>\n<p>(It simply returns null if it's not an enum, but in my case I know that it is.  <code>isEnum()</code> is also provided if needed.)</p>\n<pre><code>List&lt;Class&lt;?&gt;&gt; enumClasses; // or List&lt;Class&lt;? extends MyInterface&gt;&gt;\nenumClasses.stream()\n    .map(Class::getEnumConstants)\n    .flatMap(Arrays::stream)\n    ...\n</code></pre>\n<p>This doesn't directly solve the question as I posed it in the title, but it does solve the use-case I had, which was to collect the values of several same-interface enums.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655197731,"creation_date":1655197731,"answer_id":72614331,"question_id":72454672,"body_markdown":"The problem you are having is with the bound `&lt;E extends Enum&lt;E&gt;&gt;`, which exists on both `EnumSet.allOf()` (as well as the `EnumSet` class itself) and your `myValues()` method. Basically, you need a &quot;list of classes, each of which inherits `Enum` of itself&quot;, and there is no way to express that in Java.\r\n\r\nWith `Class&lt;? extends Enum&lt;?&gt;&gt;`, you are giving up the requirement that the class inherit `Enum` of itself, so it&#39;s possible to put some invalid values in there. For example, someone could put `Enum.class` itself (the class object representing the `Enum` class itself) in there. Or, someone could take an enum with an enum constant that implements custom methods; such an enum constant would be an instance of an anonymous subclass of the enum. So running `.getClass()` on this would give you a `Class` which is a subclass of `Enum`, but it is not the actual class of the enum that you want.\r\n\r\nIf you want to hold a list of enum classes safely, you would probably have to define your own custom class `ListOfEnumClasses` or something like that. The `add()` method would be generic and enforce the relationship on the type variable, like\r\n\r\n    public &lt;E extends Enum&lt;E&gt;&gt; void add(Class&lt;E&gt; clazz) { }\r\n\r\nInternally you might still hold it as a `List&lt;Class&lt;? extends Enum&lt;?&gt;&gt;`, but you would not expose this variable to the outside. To pass one of the elements to something like `EnumSet.allOf()` internally, you would probably have to cast it to a raw type to turn off generics, like: `EnumSet.allOf((Class) eclass)`","title":"Proving Enum classes are Enum classes when they&#39;re passed or stored","body":"<p>The problem you are having is with the bound <code>&lt;E extends Enum&lt;E&gt;&gt;</code>, which exists on both <code>EnumSet.allOf()</code> (as well as the <code>EnumSet</code> class itself) and your <code>myValues()</code> method. Basically, you need a &quot;list of classes, each of which inherits <code>Enum</code> of itself&quot;, and there is no way to express that in Java.</p>\n<p>With <code>Class&lt;? extends Enum&lt;?&gt;&gt;</code>, you are giving up the requirement that the class inherit <code>Enum</code> of itself, so it's possible to put some invalid values in there. For example, someone could put <code>Enum.class</code> itself (the class object representing the <code>Enum</code> class itself) in there. Or, someone could take an enum with an enum constant that implements custom methods; such an enum constant would be an instance of an anonymous subclass of the enum. So running <code>.getClass()</code> on this would give you a <code>Class</code> which is a subclass of <code>Enum</code>, but it is not the actual class of the enum that you want.</p>\n<p>If you want to hold a list of enum classes safely, you would probably have to define your own custom class <code>ListOfEnumClasses</code> or something like that. The <code>add()</code> method would be generic and enforce the relationship on the type variable, like</p>\n<pre><code>public &lt;E extends Enum&lt;E&gt;&gt; void add(Class&lt;E&gt; clazz) { }\n</code></pre>\n<p>Internally you might still hold it as a <code>List&lt;Class&lt;? extends Enum&lt;?&gt;&gt;</code>, but you would not expose this variable to the outside. To pass one of the elements to something like <code>EnumSet.allOf()</code> internally, you would probably have to cast it to a raw type to turn off generics, like: <code>EnumSet.allOf((Class) eclass)</code></p>\n"}],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1655197731,"creation_date":1654035799,"question_id":72454672,"body_markdown":"If I pass to a method, or store in a variable, a collection of classes that I know are all Enums (ideally guaranteed, but I don&#39;t mind casting), is there a way to let the compiler know they are enum classes, in order to use methods like `values()`, `EnumSet.allOf()`, etc?  I.e., I&#39;m looking at cases where I cannot refer to the names of the Enum classes directly.\r\n\r\nI believe this is not possible, but wanted to verify.\r\n\r\nAn example might look something like this:\r\n\r\n    enumClasses.stream()\r\n            .map(eclass -&gt; EnumSet.allOf(eclass))\r\n            ... more here...\r\n\r\nbut I don&#39;t see a way to prove in the declaration of enumClasses (as variable or parameter) that it&#39;s only enums.\r\n\r\n**Examples:** Some cases I tried that did not work using `Class&lt;? extends Enum&lt;?&gt;&gt;&gt;`\r\n\r\n        List&lt;? extends Class&lt;? extends Enum&lt;?&gt;&gt;&gt; enums = List.of(MyEnum.class); \r\n        enums.forEach(eclass -&gt; EnumSet.allOf(eclass)); // error here.\r\n\r\nor\r\n      \r\n        Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = MyEnum.class;\r\n        EnumSet.allOf(enumClass); // error here.\r\n        enumClass.values(); // error here.\r\n\r\nI also tried creating this helper-method signature:\r\n\r\n    static &lt;E extends Enum&lt;E&gt;&gt; EnumSet myValues(Class&lt;E&gt; iEnumClass) {\r\n        return EnumSet.allOf(iEnumClass);\r\n    }\r\n\r\nand the method compiles fine, but I have the same problems as above when I try to _call_ the method (unless I call that method directly with the class-name, like `myValues(MyEnum.class)`)\r\n","title":"Proving Enum classes are Enum classes when they&#39;re passed or stored","body":"<p>If I pass to a method, or store in a variable, a collection of classes that I know are all Enums (ideally guaranteed, but I don't mind casting), is there a way to let the compiler know they are enum classes, in order to use methods like <code>values()</code>, <code>EnumSet.allOf()</code>, etc?  I.e., I'm looking at cases where I cannot refer to the names of the Enum classes directly.</p>\n<p>I believe this is not possible, but wanted to verify.</p>\n<p>An example might look something like this:</p>\n<pre><code>enumClasses.stream()\n        .map(eclass -&gt; EnumSet.allOf(eclass))\n        ... more here...\n</code></pre>\n<p>but I don't see a way to prove in the declaration of enumClasses (as variable or parameter) that it's only enums.</p>\n<p><strong>Examples:</strong> Some cases I tried that did not work using <code>Class&lt;? extends Enum&lt;?&gt;&gt;&gt;</code></p>\n<pre><code>    List&lt;? extends Class&lt;? extends Enum&lt;?&gt;&gt;&gt; enums = List.of(MyEnum.class); \n    enums.forEach(eclass -&gt; EnumSet.allOf(eclass)); // error here.\n</code></pre>\n<p>or</p>\n<pre><code>    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = MyEnum.class;\n    EnumSet.allOf(enumClass); // error here.\n    enumClass.values(); // error here.\n</code></pre>\n<p>I also tried creating this helper-method signature:</p>\n<pre><code>static &lt;E extends Enum&lt;E&gt;&gt; EnumSet myValues(Class&lt;E&gt; iEnumClass) {\n    return EnumSet.allOf(iEnumClass);\n}\n</code></pre>\n<p>and the method compiles fine, but I have the same problems as above when I try to <em>call</em> the method (unless I call that method directly with the class-name, like <code>myValues(MyEnum.class)</code>)</p>\n"},{"tags":["java","spring","multithreading","spring-batch","multipartfile"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655189919,"creation_date":1655189919,"answer_id":72612706,"question_id":72584417,"body_markdown":"&gt; i do not able to save the file into memory, not even temp file - can only process inputstream or multipart file from Http request\r\n\r\nThe `FlatFileItemReader` works with any `org.springframework.core.io.Resource` implementation. So in your case you can use an instance of `org.springframework.core.io.InputStreamResource` with the `InputStream` of your Multipart file.","title":"Best way to parse multipart file (CSV) and write in DB","body":"<blockquote>\n<p>i do not able to save the file into memory, not even temp file - can only process inputstream or multipart file from Http request</p>\n</blockquote>\n<p>The <code>FlatFileItemReader</code> works with any <code>org.springframework.core.io.Resource</code> implementation. So in your case you can use an instance of <code>org.springframework.core.io.InputStreamResource</code> with the <code>InputStream</code> of your Multipart file.</p>\n"}],"owner":{"account_id":25531475,"reputation":47,"user_id":19319419,"display_name":"JD_UA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1655197475,"creation_date":1654951335,"question_id":72584417,"body_markdown":"I have a file that is received as a multipart file from an HTTP request. I need to read this file, validate data and write it to a database.\r\n\r\nThe file looks like \r\n```none\r\naaaa@aaa.ru;Bogdan\r\n```\r\n\r\nThe file contains 500k rows. I am not able to save the file into memory, not even a temp file. I can only process InputStream or multipart file from HTTP request.\r\n\r\nI think I need to use multi-threading or maybe Spring Batch, else before write to db I need validate emails and get the bad emails as some Arraylist.\r\n\r\nCould you help me with that? What is the best way to do it?\r\n\r\nps. Spring Batch needs to file, but I can&#39;t store it in memory.\r\n\r\n```java\r\n@Bean\r\npublic FlatFileItemReader&lt;Person&gt; personItemReader() {\r\n\tFlatFileItemReader&lt;Person&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n\treader.setLinesToSkip(1);\r\n\treader.setResource(new ClassPathResource(&quot;/data/person.csv&quot;));\r\n```","title":"Best way to parse multipart file (CSV) and write in DB","body":"<p>I have a file that is received as a multipart file from an HTTP request. I need to read this file, validate data and write it to a database.</p>\n<p>The file looks like</p>\n<pre class=\"lang-none prettyprint-override\"><code>aaaa@aaa.ru;Bogdan\n</code></pre>\n<p>The file contains 500k rows. I am not able to save the file into memory, not even a temp file. I can only process InputStream or multipart file from HTTP request.</p>\n<p>I think I need to use multi-threading or maybe Spring Batch, else before write to db I need validate emails and get the bad emails as some Arraylist.</p>\n<p>Could you help me with that? What is the best way to do it?</p>\n<p>ps. Spring Batch needs to file, but I can't store it in memory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic FlatFileItemReader&lt;Person&gt; personItemReader() {\n    FlatFileItemReader&lt;Person&gt; reader = new FlatFileItemReader&lt;&gt;();\n    reader.setLinesToSkip(1);\n    reader.setResource(new ClassPathResource(&quot;/data/person.csv&quot;));\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1655116052,"post_id":72600973,"comment_id":128245941,"body_markdown":"On what line do you get the `ArrayIndexOutOfBoundsException`?","body":"On what line do you get the <code>ArrayIndexOutOfBoundsException</code>?"},{"owner":{"account_id":8767916,"reputation":368,"user_id":6555714,"accept_rate":53,"display_name":"LecheDeCrema"},"score":0,"creation_date":1655119487,"post_id":72600973,"comment_id":128247178,"body_markdown":"@DavidWasser it has no line in where I got the error. It only displayed &quot;java.lang.ArrayIndexOutOfBoundsException: length=11; index=11&quot; above.\n\n\nmaybe because of this ? \nthe setMinuteIntervalWithOutZero has a length of  11 (displayedValues)\nwhile setMinuteInterval has a length of 12 (displayedValues). where in if i swipe down the minute until it will switch to 55 minutes (expected is 23:55) while the hour is 0","body":"@DavidWasser it has no line in where I got the error. It only displayed &quot;java.lang.ArrayIndexOutOfBoundsException: length=11; index=11&quot; above.   maybe because of this ?  the setMinuteIntervalWithOutZero has a length of  11 (displayedValues) while setMinuteInterval has a length of 12 (displayedValues). where in if i swipe down the minute until it will switch to 55 minutes (expected is 23:55) while the hour is 0"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1655126118,"post_id":72600973,"comment_id":128249724,"body_markdown":"There must be a stack trace that shows where the error occurs. You might be filtering the logcat and missing something important","body":"There must be a stack trace that shows where the error occurs. You might be filtering the logcat and missing something important"},{"owner":{"account_id":8767916,"reputation":368,"user_id":6555714,"accept_rate":53,"display_name":"LecheDeCrema"},"score":0,"creation_date":1655173015,"post_id":72600973,"comment_id":128263281,"body_markdown":"@DavidWasser i&#39;ve catch on Log &quot;D/ERROR:: setMinuteInterval java.lang.ArrayIndexOutOfBoundsException: length=11; index=11&quot;","body":"@DavidWasser i&#39;ve catch on Log &quot;D/ERROR:: setMinuteInterval java.lang.ArrayIndexOutOfBoundsException: length=11; index=11&quot;"}],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655197427,"creation_date":1655197427,"answer_id":72614260,"question_id":72600973,"body_markdown":"In `setMinuteInterval()` you have this:\r\n\r\n    minutePicker.setMaxValue((60 / INTERVAL));\r\n\r\nbut you need this:\r\n\r\n    minutePicker.setMaxValue((60 / INTERVAL) - 1);\r\n\r\nbecause the values (min to max) need to be 0 to 11 (not 0 to 12)\r\n\r\nThe crash occurs when you call `setDisplayedValues()` because you aren&#39;t passing enough display values to cover the range min to max. The [documentation for `setDisplayedValues()`][1] says:\r\n\r\n&gt; The displayed values. Note: The length of the displayed values array\r\n&gt; must be equal to the range of selectable numbers which is equal to\r\n&gt; getMaxValue() - getMinValue() + 1.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/NumberPicker?hl=en#setDisplayedValues(java.lang.String[])","title":"Android timepicker java.lang.ArrayIndexOutOfBoundsException error","body":"<p>In <code>setMinuteInterval()</code> you have this:</p>\n<pre><code>minutePicker.setMaxValue((60 / INTERVAL));\n</code></pre>\n<p>but you need this:</p>\n<pre><code>minutePicker.setMaxValue((60 / INTERVAL) - 1);\n</code></pre>\n<p>because the values (min to max) need to be 0 to 11 (not 0 to 12)</p>\n<p>The crash occurs when you call <code>setDisplayedValues()</code> because you aren't passing enough display values to cover the range min to max. The <a href=\"https://developer.android.com/reference/android/widget/NumberPicker?hl=en#setDisplayedValues(java.lang.String%5B%5D)\" rel=\"nofollow noreferrer\">documentation for <code>setDisplayedValues()</code></a> says:</p>\n<blockquote>\n<p>The displayed values. Note: The length of the displayed values array\nmust be equal to the range of selectable numbers which is equal to\ngetMaxValue() - getMinValue() + 1.</p>\n</blockquote>\n"}],"owner":{"account_id":8767916,"reputation":368,"user_id":6555714,"accept_rate":53,"display_name":"LecheDeCrema"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655197427,"creation_date":1655114323,"question_id":72600973,"body_markdown":"I have a timepicker wherein  &lt;br&gt;\r\nif hour is 0 it should display as with interval of 5 &lt;br&gt;\r\n[&quot;05&quot;, &quot;10&quot;, &quot;15&quot; -&gt; until &quot;55&quot;] &lt;br&gt;\r\nand if hour is NOT 0 &lt;br&gt;\r\n[&quot;0&quot;, &quot;05&quot;, -&gt; &quot;55&quot;]&lt;br&gt; &lt;br&gt;\r\n\r\n\r\ni&#39;ll post some of the codes here\r\n\r\n```tp = content.findViewById(R.id.notification_add_time);\r\ntp.setHour(0);\r\ntp.setIs24HourView(true);\r\nsetMinuteIntervalWithOutZero(timepicker);\r\ntp.setOnTimeChangedListener(mChangeTimeListener);\r\n//set default time on load to 5 minutes\r\ntp.setMinute(1);\r\n```\r\nonTimeChanged\r\n```\r\nprivate TimePicker.OnTimeChangedListener mChangeTimeListener = new TimePicker.OnTimeChangedListener() {\r\n        public void onTimeChanged(TimePicker tp, int selectedHour, int selectedMinute) {\r\n            hour = selectedHour;\r\n            minute = selectedMinute;\r\n\r\n            try{\r\n                if ( hour != 0 ){\r\n                    setMinuteInterval(tp);\r\n                } else {\r\n                    setMinuteIntervalWithOutZero(tp);\r\n                }\r\n            }catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n    };\r\n```\r\nsetting Interval (5) and it will display 0-55, if hour is 1-23\r\n```\r\nprivate void setMinuteInterval(TimePicker tp) {\r\n        try {\r\n            minutePicker = (NumberPicker) tp.findViewById(Resources.getSystem().getIdentifier(&quot;minute&quot;, &quot;id&quot;, &quot;android&quot;));\r\n            minutePicker.setMinValue(0);\r\n            minutePicker.setMaxValue((60 / INTERVAL));\r\n            List&lt;String&gt; displayedValues = new ArrayList&lt;String&gt;();\r\n            for (int i = 0; i &lt; 60; i += INTERVAL) {\r\n                displayedValues.add(String.format(&quot;%02d&quot;, i));\r\n            }\r\n            minutePicker.setDisplayedValues(displayedValues.toArray(new String[0]));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nsetting interval (5) and will only display 5 - 55 if hour is 0\r\n```\r\n private void setMinuteIntervalWithOutZero(TimePicker timePicker) {\r\n        try {\r\n            minutePicker = (NumberPicker) timePicker.findViewById(Resources.getSystem().getIdentifier(&quot;minute&quot;, &quot;id&quot;, &quot;android&quot;));\r\n            minutePicker.setMinValue(1);\r\n            minutePicker.setMaxValue((60 / INTERVAL) - 1);\r\n            List&lt;String&gt; displayedValues = new ArrayList&lt;String&gt;();\r\n            for (int i = 5; i &lt; 60; i += INTERVAL) {\r\n                displayedValues.add(String.format(&quot;%02d&quot;, i));\r\n            }\r\n            minutePicker.setDisplayedValues(displayedValues.toArray(new String[0]));\r\n\r\n} catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nif I swipe down the minute until the hour will display as 23(Hour is 0), it will crash and the error will be **ArrayIndexOutOfBoundsException**\r\n\r\n\r\ncould you help me ?? ","title":"Android timepicker java.lang.ArrayIndexOutOfBoundsException error","body":"<p>I have a timepicker wherein  <br>\nif hour is 0 it should display as with interval of 5 <br>\n[&quot;05&quot;, &quot;10&quot;, &quot;15&quot; -&gt; until &quot;55&quot;] <br>\nand if hour is NOT 0 <br>\n[&quot;0&quot;, &quot;05&quot;, -&gt; &quot;55&quot;]<br> <br></p>\n<p>i'll post some of the codes here</p>\n<pre><code>tp.setHour(0);\ntp.setIs24HourView(true);\nsetMinuteIntervalWithOutZero(timepicker);\ntp.setOnTimeChangedListener(mChangeTimeListener);\n//set default time on load to 5 minutes\ntp.setMinute(1);\n</code></pre>\n<p>onTimeChanged</p>\n<pre><code>private TimePicker.OnTimeChangedListener mChangeTimeListener = new TimePicker.OnTimeChangedListener() {\n        public void onTimeChanged(TimePicker tp, int selectedHour, int selectedMinute) {\n            hour = selectedHour;\n            minute = selectedMinute;\n\n            try{\n                if ( hour != 0 ){\n                    setMinuteInterval(tp);\n                } else {\n                    setMinuteIntervalWithOutZero(tp);\n                }\n            }catch (Exception e) {\n                e.printStackTrace();\n            }\n\n        }\n    };\n</code></pre>\n<p>setting Interval (5) and it will display 0-55, if hour is 1-23</p>\n<pre><code>private void setMinuteInterval(TimePicker tp) {\n        try {\n            minutePicker = (NumberPicker) tp.findViewById(Resources.getSystem().getIdentifier(&quot;minute&quot;, &quot;id&quot;, &quot;android&quot;));\n            minutePicker.setMinValue(0);\n            minutePicker.setMaxValue((60 / INTERVAL));\n            List&lt;String&gt; displayedValues = new ArrayList&lt;String&gt;();\n            for (int i = 0; i &lt; 60; i += INTERVAL) {\n                displayedValues.add(String.format(&quot;%02d&quot;, i));\n            }\n            minutePicker.setDisplayedValues(displayedValues.toArray(new String[0]));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>setting interval (5) and will only display 5 - 55 if hour is 0</p>\n<pre><code> private void setMinuteIntervalWithOutZero(TimePicker timePicker) {\n        try {\n            minutePicker = (NumberPicker) timePicker.findViewById(Resources.getSystem().getIdentifier(&quot;minute&quot;, &quot;id&quot;, &quot;android&quot;));\n            minutePicker.setMinValue(1);\n            minutePicker.setMaxValue((60 / INTERVAL) - 1);\n            List&lt;String&gt; displayedValues = new ArrayList&lt;String&gt;();\n            for (int i = 5; i &lt; 60; i += INTERVAL) {\n                displayedValues.add(String.format(&quot;%02d&quot;, i));\n            }\n            minutePicker.setDisplayedValues(displayedValues.toArray(new String[0]));\n\n} catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>if I swipe down the minute until the hour will display as 23(Hour is 0), it will crash and the error will be <strong>ArrayIndexOutOfBoundsException</strong></p>\n<p>could you help me ??</p>\n"},{"tags":["java","javafx","scenebuilder","gluon-desktop"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1558812891,"post_id":56307973,"comment_id":99226602,"body_markdown":"Duplicated of this question: [IntelliJ IDEA - Error: JavaFX runtime components are missing, and are required to run this application](https://stackoverflow.com/questions/52906773/intellij-idea-error-javafx-runtime-components-are-missing-and-are-required-t)","body":"Duplicated of this question: <a href=\"https://stackoverflow.com/questions/52906773/intellij-idea-error-javafx-runtime-components-are-missing-and-are-required-t\">IntelliJ IDEA - Error: JavaFX runtime components are missing, and are required to run this application</a>"},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1558813304,"post_id":56307973,"comment_id":99226676,"body_markdown":"@Jos&#233;Pereda I have tried that solution, but that did not work for me.","body":"@Jos&#233;Pereda I have tried that solution, but that did not work for me."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1558813352,"post_id":56307973,"comment_id":99226687,"body_markdown":"You might have other errors, but you _need_ to include `javafx.fxml` in your VM arguments.","body":"You might have other errors, but you <i>need</i> to include <code>javafx.fxml</code> in your VM arguments."},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":1,"creation_date":1558813563,"post_id":56307973,"comment_id":99226720,"body_markdown":"@Jos&#233;Pereda If I apply `--module-path=&quot;/usr/share/openjfx/lib&quot; --add-modules=javafx.controls,javafx.fxml` to my run configures, the errors change. Now I get `Caused by: java.lang.NullPointerException: Location is required.` because it cannot find the .fxml file, even if I have paste the location in the code.","body":"@Jos&#233;Pereda If I apply <code>--module-path=&quot;&#47;usr&#47;share&#47;openjfx&#47;lib&quot; --add-modules=javafx.controls,javafx.fxml</code> to my run configures, the errors change. Now I get <code>Caused by: java.lang.NullPointerException: Location is required.</code> because it cannot find the .fxml file, even if I have paste the location in the code."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1558813653,"post_id":56307973,"comment_id":99226738,"body_markdown":"That&#39;s exactly what I said: you have other errors. But first thing first, add the FXML module. Then solve the next error: remove `/JUSBPlotter/src/` from the path to load your FXML file.","body":"That&#39;s exactly what I said: you have other errors. But first thing first, add the FXML module. Then solve the next error: remove <code>&#47;JUSBPlotter&#47;src&#47;</code> from the path to load your FXML file."},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1558813777,"post_id":56307973,"comment_id":99226771,"body_markdown":"@Jos&#233;Pereda Now it&#39;s working. How could you know that `/JUSBPlotter/src/` causing this problem?","body":"@Jos&#233;Pereda Now it&#39;s working. How could you know that <code>&#47;JUSBPlotter&#47;src&#47;</code> causing this problem?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":4,"creation_date":1558813865,"post_id":56307973,"comment_id":99226792,"body_markdown":"You never add `src` to `getResource()`... as it starts looking for your file precisely from there...","body":"You never add <code>src</code> to <code>getResource()</code>... as it starts looking for your file precisely from there..."},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1558828626,"post_id":56307973,"comment_id":99229282,"body_markdown":"If you remove `/JUSBPlotter/src/` from the resource path, you removed one letter too much. If you specify the resource path starting at the classpath root, the path needs to start with `/`; the following part matches the package structure with `.` replaced with `/` with the exception of the file extension. I do strongly recommend using a module yourself and adding the proper `requires` statements instead of using the vm arguments to add access to modules.","body":"If you remove <code>&#47;JUSBPlotter&#47;src&#47;</code> from the resource path, you removed one letter too much. If you specify the resource path starting at the classpath root, the path needs to start with <code>&#47;</code>; the following part matches the package structure with <code>.</code> replaced with <code>&#47;</code> with the exception of the file extension. I do strongly recommend using a module yourself and adding the proper <code>requires</code> statements instead of using the vm arguments to add access to modules."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1568841646,"post_id":56307973,"comment_id":102407534,"body_markdown":"You should not need to specify the module path when starting the application. Eclipse will take care of that for you.","body":"You should not need to specify the module path when starting the application. Eclipse will take care of that for you."},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1568843933,"post_id":56307973,"comment_id":102408167,"body_markdown":"@JohannesKuhn Thank you for the information.","body":"@JohannesKuhn Thank you for the information."}],"answers":[{"tags":[],"owner":{"account_id":3505152,"reputation":2396,"user_id":2930836,"accept_rate":39,"display_name":"igonejack"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1602750636,"creation_date":1587722004,"answer_id":61405652,"question_id":56307973,"body_markdown":"Having the same issue with IntelliJ IDEA 2020.1 with JDK 14.\r\n\r\nFinally resolved by adding a `module-info.java` like this one under `src/main/java` if you use maven:\r\n\r\n```\r\nmodule sample {\r\n    requires javafx.controls;\r\n    requires javafx.graphics;\r\n\r\n    opens sample;\r\n}\r\n```","title":"Cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) - JavaFX &amp; Eclipse","body":"<p>Having the same issue with IntelliJ IDEA 2020.1 with JDK 14.</p>\n<p>Finally resolved by adding a <code>module-info.java</code> like this one under <code>src/main/java</code> if you use maven:</p>\n<pre><code>module sample {\n    requires javafx.controls;\n    requires javafx.graphics;\n\n    opens sample;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3558294,"reputation":520,"user_id":2971399,"display_name":"user2971399"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1615428134,"creation_date":1589372077,"answer_id":61774380,"question_id":56307973,"body_markdown":"Thank you igonejack. I did what you said but I faced some other exceptions after that, So I came up with below code:\r\n\r\n    module {pkg}{\r\n       requires javafx.controls;\r\n       requires javafx.graphics;\r\n       requires javafx.fxml;\r\n\r\n       exports {pkg of Application class};\r\n\r\n       opens {pkg};\r\n    }\r\n\r\nafter that you need to rebuild your project probably because of some exception about Kotlin.\r\nThen I saw exception &quot;location is not set&quot;. To solve this you must start fxml location with &quot;/&quot; such as:\r\n\r\n    App.class.getResource(&quot;/form.fxml&quot;);\r\n\r\n--------------------------------------------------\r\n**Edit**\r\n\r\nI made a HelloWorld project at [JavaFxHelloWorld][1] using Gradle.\r\n\r\n\r\n  [1]: https://github.com/Arash-Rezaie/JavaFxHelloWorld","title":"Cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) - JavaFX &amp; Eclipse","body":"<p>Thank you igonejack. I did what you said but I faced some other exceptions after that, So I came up with below code:</p>\n<pre><code>module {pkg}{\n   requires javafx.controls;\n   requires javafx.graphics;\n   requires javafx.fxml;\n\n   exports {pkg of Application class};\n\n   opens {pkg};\n}\n</code></pre>\n<p>after that you need to rebuild your project probably because of some exception about Kotlin.\nThen I saw exception &quot;location is not set&quot;. To solve this you must start fxml location with &quot;/&quot; such as:</p>\n<pre><code>App.class.getResource(&quot;/form.fxml&quot;);\n</code></pre>\n<hr />\n<p><strong>Edit</strong></p>\n<p>I made a HelloWorld project at <a href=\"https://github.com/Arash-Rezaie/JavaFxHelloWorld\" rel=\"nofollow noreferrer\">JavaFxHelloWorld</a> using Gradle.</p>\n"},{"tags":[],"owner":{"account_id":18878400,"reputation":51,"user_id":13771385,"display_name":"sveta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1592509935,"creation_date":1592509935,"answer_id":62458308,"question_id":56307973,"body_markdown":"thanks, works for me as follows\r\n\r\n\r\n    public void start(Stage primaryStage) throws Exception{\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n\r\nmodule-info.java:\r\n\r\n    module sample {\r\n        requires javafx.controls;\r\n        requires javafx.graphics;\r\n        requires javafx.fxml;\r\n        opens sample ;\r\n    }\r\n\r\n\r\n","title":"Cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) - JavaFX &amp; Eclipse","body":"<p>thanks, works for me as follows</p>\n\n<pre><code>public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(\"sample.fxml\"));\n</code></pre>\n\n<p>module-info.java:</p>\n\n<pre><code>module sample {\n    requires javafx.controls;\n    requires javafx.graphics;\n    requires javafx.fxml;\n    opens sample ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17057487,"reputation":81,"user_id":12341661,"display_name":"cyrus korir"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1611460501,"creation_date":1611460501,"answer_id":65866990,"question_id":56307973,"body_markdown":"Go to Run&gt;Run Configurations then Arguments tab and go to VM Arguments and paste the following code to add modules\r\n&quot;--module-path /path/to/lib --add-modules javafx.controls,javafx.fxml&quot;\r\nremember to modify /path/to/lib to your path your library\r\nthen click apply and you&#39;re set","title":"Cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) - JavaFX &amp; Eclipse","body":"<p>Go to Run&gt;Run Configurations then Arguments tab and go to VM Arguments and paste the following code to add modules\n&quot;--module-path /path/to/lib --add-modules javafx.controls,javafx.fxml&quot;\nremember to modify /path/to/lib to your path your library\nthen click apply and you're set</p>\n"},{"tags":[],"owner":{"account_id":16817735,"reputation":31,"user_id":12159039,"display_name":"TimT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655197246,"creation_date":1655197246,"answer_id":72614229,"question_id":56307973,"body_markdown":"As [marco-rosati](https://github.com/claudio-rosati) proposed in [#638](https://github.com/TestFX/TestFX/issues/638#issuecomment-439428394) issue, if you are using maven you can simply add this plugin:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;argLine&gt; --add-exports javafx.graphics/com.sun.javafx.application=ALL-UNNAMED &lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) - JavaFX &amp; Eclipse","body":"<p>As <a href=\"https://github.com/claudio-rosati\" rel=\"nofollow noreferrer\">marco-rosati</a> proposed in <a href=\"https://github.com/TestFX/TestFX/issues/638#issuecomment-439428394\" rel=\"nofollow noreferrer\">#638</a> issue, if you are using maven you can simply add this plugin:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt; --add-exports javafx.graphics/com.sun.javafx.application=ALL-UNNAMED &lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32671,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":61405652,"answer_count":5,"score":16,"last_activity_date":1655197246,"creation_date":1558811954,"question_id":56307973,"body_markdown":"I have follow this [guide][1] to setup JavaFX onto a Linux machine.\r\nFirst I have installed Java 11\r\n\r\n    asus@asus-pc:/usr/share/openjfx/lib$ java -version\r\n    openjdk version &quot;11.0.3&quot; 2019-04-16\r\n    OpenJDK Runtime Environment (build 11.0.3+7-Ubuntu-1ubuntu219.04.1)\r\n    OpenJDK 64-Bit Server VM (build 11.0.3+7-Ubuntu-1ubuntu219.04.1, mixed\r\n    mode, sharing)\r\n    asus@asus-pc:/usr/share/openjfx/lib$ \r\n\r\nThen I have installed OpenJFX from the command `sudo apt-get install openjfx`\r\n\r\n     asus@asus-pc:/usr/share/openjfx/lib$ ls\r\n     javafx.base.jar      javafx.graphics.jar  javafx.swing.jar\r\n     javafx.controls.jar  javafx.media.jar     javafx.web.jar\r\n     javafx.fxml.jar      javafx.properties    src.zip\r\n     asus@asus-pc:/usr/share/openjfx/lib$ \r\n\r\nThen have created a library in Eclipse.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen I have include it into my java project. I try to run this code:\r\n\r\n    package se.danielmartensson.start;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application{\r\n    \r\n    \t/*\r\n    \t * Start the start(Stage front)\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage front) throws Exception {\r\n    \t\tParent root = FXMLLoader.load(getClass().getResource(&quot;/JUSBPlotter/src/se/danielmartensson/fxml/front.fxml&quot;));\r\n    \t\tScene scene = new Scene(root);\r\n    \t\tfront.setScene(scene);\r\n    \t\tfront.setTitle(&quot;Fracken&quot;);\r\n    \t\tfront.show();\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd I have change the run configurations to:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut when I compile the code. I get this errors:\r\n\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x1ff6d2c7) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x1ff6d2c7\r\n    \tat com.sun.javafx.fxml.FXMLLoaderHelper.&lt;clinit&gt;(FXMLLoaderHelper.java:38)\r\n    \tat javafx.fxml.FXMLLoader.&lt;clinit&gt;(FXMLLoader.java:2056)\r\n    \tat se.danielmartensson.start.Main.start(Main.java:20)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n    \tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n    \tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n    \tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:277)\r\n    \t... 1 more\r\n    Exception running application se.danielmartensson.start.Main\r\n\r\n\r\n**Question:**\r\n\r\nIs there anyone where who know how to solve this error? I have setup JavaFX before, but this time, it won&#39;t work for me. \r\n\r\n**Edit 1:**\r\nIf I change the run configurations to:\r\n\r\n    --module-path=&quot;/usr/share/openjfx/lib&quot; --add-modules=javafx.controls,javafx.fxml\r\n\r\nI get this errors\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52144931/how-to-add-javafx-runtime-to-eclipse-in-java-11\r\n  [2]: https://i.stack.imgur.com/f2eax.png\r\n  [3]: https://i.stack.imgur.com/8DK9a.png\r\n  [4]: https://i.stack.imgur.com/0rV6V.png","title":"Cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) - JavaFX &amp; Eclipse","body":"<p>I have follow this <a href=\"https://stackoverflow.com/questions/52144931/how-to-add-javafx-runtime-to-eclipse-in-java-11\">guide</a> to setup JavaFX onto a Linux machine.\nFirst I have installed Java 11</p>\n\n<pre><code>asus@asus-pc:/usr/share/openjfx/lib$ java -version\nopenjdk version \"11.0.3\" 2019-04-16\nOpenJDK Runtime Environment (build 11.0.3+7-Ubuntu-1ubuntu219.04.1)\nOpenJDK 64-Bit Server VM (build 11.0.3+7-Ubuntu-1ubuntu219.04.1, mixed\nmode, sharing)\nasus@asus-pc:/usr/share/openjfx/lib$ \n</code></pre>\n\n<p>Then I have installed OpenJFX from the command <code>sudo apt-get install openjfx</code></p>\n\n<pre><code> asus@asus-pc:/usr/share/openjfx/lib$ ls\n javafx.base.jar      javafx.graphics.jar  javafx.swing.jar\n javafx.controls.jar  javafx.media.jar     javafx.web.jar\n javafx.fxml.jar      javafx.properties    src.zip\n asus@asus-pc:/usr/share/openjfx/lib$ \n</code></pre>\n\n<p>Then have created a library in Eclipse.</p>\n\n<p><a href=\"https://i.stack.imgur.com/f2eax.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f2eax.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then I have include it into my java project. I try to run this code:</p>\n\n<pre><code>package se.danielmartensson.start;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application{\n\n    /*\n     * Start the start(Stage front)\n     */\n    public static void main(String[] args) {\n        launch();\n    }\n\n    @Override\n    public void start(Stage front) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(\"/JUSBPlotter/src/se/danielmartensson/fxml/front.fxml\"));\n        Scene scene = new Scene(root);\n        front.setScene(scene);\n        front.setTitle(\"Fracken\");\n        front.show();\n    }\n\n}\n</code></pre>\n\n<p>And I have change the run configurations to:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8DK9a.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8DK9a.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I compile the code. I get this errors:</p>\n\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x1ff6d2c7) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x1ff6d2c7\n    at com.sun.javafx.fxml.FXMLLoaderHelper.&lt;clinit&gt;(FXMLLoaderHelper.java:38)\n    at javafx.fxml.FXMLLoader.&lt;clinit&gt;(FXMLLoader.java:2056)\n    at se.danielmartensson.start.Main.start(Main.java:20)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:277)\n    ... 1 more\nException running application se.danielmartensson.start.Main\n</code></pre>\n\n<p><strong>Question:</strong></p>\n\n<p>Is there anyone where who know how to solve this error? I have setup JavaFX before, but this time, it won't work for me. </p>\n\n<p><strong>Edit 1:</strong>\nIf I change the run configurations to:</p>\n\n<pre><code>--module-path=\"/usr/share/openjfx/lib\" --add-modules=javafx.controls,javafx.fxml\n</code></pre>\n\n<p>I get this errors\n<a href=\"https://i.stack.imgur.com/0rV6V.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0rV6V.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1655123196,"post_id":72602176,"comment_id":128248540,"body_markdown":"Are you using windows os?","body":"Are you using windows os?"},{"owner":{"account_id":1284847,"reputation":3263,"user_id":1238143,"accept_rate":75,"display_name":"Lesha Pipiev"},"score":0,"creation_date":1655126973,"post_id":72602176,"comment_id":128250106,"body_markdown":"@Nemanja updated: macOS Monterey","body":"@Nemanja updated: macOS Monterey"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":1,"creation_date":1655127793,"post_id":72602176,"comment_id":128250491,"body_markdown":"Did you set enviroment variable SPRING_PROFILES_ACTIVE?","body":"Did you set enviroment variable SPRING_PROFILES_ACTIVE?"},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":1,"creation_date":1655130165,"post_id":72602176,"comment_id":128251530,"body_markdown":"Could you please share gradle and spring boot versions? Just tried on the following configuration: https://pastebin.com/k3XUd7bx with spring boot 2.7.0 and `SPRING_PROFILES_ACTIVE=local ./gradlew bootRun` works just fine","body":"Could you please share gradle and spring boot versions? Just tried on the following configuration: <a href=\"https://pastebin.com/k3XUd7bx\" rel=\"nofollow noreferrer\">pastebin.com/k3XUd7bx</a> with spring boot 2.7.0 and <code>SPRING_PROFILES_ACTIVE=local .&#47;gradlew bootRun</code> works just fine"},{"owner":{"account_id":1284847,"reputation":3263,"user_id":1238143,"accept_rate":75,"display_name":"Lesha Pipiev"},"score":0,"creation_date":1655130535,"post_id":72602176,"comment_id":128251693,"body_markdown":"@geobreze Spring Boot 2.4.5, Gradle 7.4.2","body":"@geobreze Spring Boot 2.4.5, Gradle 7.4.2"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":1,"creation_date":1655130916,"post_id":72602176,"comment_id":128251892,"body_markdown":"don&#39;t you need to use the `export` keyword in bash when setting the OS variable? (or `set` when you use fish) What does `printenv` give you after running the `SPRING_PROFILES_ACTIVE=local` command","body":"don&#39;t you need to use the <code>export</code> keyword in bash when setting the OS variable? (or <code>set</code> when you use fish) What does <code>printenv</code> give you after running the <code>SPRING_PROFILES_ACTIVE=local</code> command"},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":1,"creation_date":1655131518,"post_id":72602176,"comment_id":128252153,"body_markdown":"@LeshaPipiev just tried using the versions you&#39;ve provided and everything still works fine both in iTerm and Terminal (both bash and zsh with Oh My Zsh). Maybe there is a misconfiguration in your project? Does this issue reproducible on the clean project created using https://start.spring.io/?","body":"@LeshaPipiev just tried using the versions you&#39;ve provided and everything still works fine both in iTerm and Terminal (both bash and zsh with Oh My Zsh). Maybe there is a misconfiguration in your project? Does this issue reproducible on the clean project created using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>?"},{"owner":{"account_id":1284847,"reputation":3263,"user_id":1238143,"accept_rate":75,"display_name":"Lesha Pipiev"},"score":0,"creation_date":1655198494,"post_id":72602176,"comment_id":128269386,"body_markdown":"Guys, appreciate your help. Now, I can&#39;t reproduce the issue and can&#39;t explain what is going on.","body":"Guys, appreciate your help. Now, I can&#39;t reproduce the issue and can&#39;t explain what is going on."}],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655131883,"creation_date":1655131883,"answer_id":72604872,"question_id":72602176,"body_markdown":"Break this into multiple lines\r\n\r\n    $ export SPRING_PROFILES_ACTIVE=local \r\n    $ ./gradlew bootRun ","title":"Gradle bootRun not working with SPRING_PROFILES_ACTIVE but works with spring.profiles.active","body":"<p>Break this into multiple lines</p>\n<pre><code>$ export SPRING_PROFILES_ACTIVE=local \n$ ./gradlew bootRun \n</code></pre>\n"}],"owner":{"account_id":1284847,"reputation":3263,"user_id":1238143,"accept_rate":75,"display_name":"Lesha Pipiev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655197119,"creation_date":1655120249,"question_id":72602176,"body_markdown":"MacOS Monterey.   \r\nSpring Boot 2.4.5.  \r\nGradle 7.4.2  \r\n\r\nThe question is pretty simple.  \r\n \r\nThis one doesn&#39;t work:  \r\n```\r\nSPRING_PROFILES_ACTIVE=local ./gradlew bootRun \r\n```\r\n\r\nThis one works:  \r\n```\r\n./gradlew bootRun --args=&#39;--spring.profiles.active=local&#39;\r\n```\r\n\r\nUnder &quot;works&quot;, I understand that the profile is being successfully passed to Gradle task.   \r\n\r\nWhat I have read is that **SPRING_PROFILES_ACTIVE** - is OS environment variable, while **spring.profiles.active** is System property.  \r\n\r\nStill not clear why the option ```SPRING_PROFILES_ACTIVE=local ./gradlew bootRun``` doesn&#39;t work.  \r\n\r\nThank you.","title":"Gradle bootRun not working with SPRING_PROFILES_ACTIVE but works with spring.profiles.active","body":"<p>MacOS Monterey.<br />\nSpring Boot 2.4.5.<br />\nGradle 7.4.2</p>\n<p>The question is pretty simple.</p>\n<p>This one doesn't work:</p>\n<pre><code>SPRING_PROFILES_ACTIVE=local ./gradlew bootRun \n</code></pre>\n<p>This one works:</p>\n<pre><code>./gradlew bootRun --args='--spring.profiles.active=local'\n</code></pre>\n<p>Under &quot;works&quot;, I understand that the profile is being successfully passed to Gradle task.</p>\n<p>What I have read is that <strong>SPRING_PROFILES_ACTIVE</strong> - is OS environment variable, while <strong>spring.profiles.active</strong> is System property.</p>\n<p>Still not clear why the option <code>SPRING_PROFILES_ACTIVE=local ./gradlew bootRun</code> doesn't work.</p>\n<p>Thank you.</p>\n"},{"tags":["java","maven","port","jmx"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653313145,"post_id":72349484,"comment_id":127814436,"body_markdown":"Does your build work in plain command line? Why is the port 1100 used by a java process? By which one?","body":"Does your build work in plain command line? Why is the port 1100 used by a java process? By which one?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653313384,"post_id":72349484,"comment_id":127814562,"body_markdown":"Which process executes the maven build? You means from inside IntelliJ? Which version of IntelliJ do you use? Which version of Maven, JDK etc. do you use? Furthermore the error message would also be helpful...","body":"Which process executes the maven build? You means from inside IntelliJ? Which version of IntelliJ do you use? Which version of Maven, JDK etc. do you use? Furthermore the error message would also be helpful..."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1653316120,"post_id":72349484,"comment_id":127815756,"body_markdown":"Your maven build should by default not require any network port.  Sounds like there are tests running during the build.","body":"Your maven build should by default not require any network port.  Sounds like there are tests running during the build."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1653316586,"post_id":72349484,"comment_id":127815962,"body_markdown":"Why do you use an old Maven version? 3.6.3 ??? In IntelliJ 2022.1.1 is by default Maven 3.8.1... furthermore and yes no port should be used by default... It sounds like one of your tests is using a port? Do you have spring boot tests via WebMVC or alike?","body":"Why do you use an old Maven version? 3.6.3 ??? In IntelliJ 2022.1.1 is by default Maven 3.8.1... furthermore and yes no port should be used by default... It sounds like one of your tests is using a port? Do you have spring boot tests via WebMVC or alike?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1653316632,"post_id":72349484,"comment_id":127815989,"body_markdown":"Have a closer look at where it is stuck then.  You can use `jps` at the command line to locate old processes you though about","body":"Have a closer look at where it is stuck then.  You can use <code>jps</code> at the command line to locate old processes you though about"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1653316748,"post_id":72349484,"comment_id":127816032,"body_markdown":"Or simply just reboot your machine.","body":"Or simply just reboot your machine."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1653384093,"post_id":72349484,"comment_id":127833204,"body_markdown":"Check what process occupies the `1100` port and kill this process. Check for Windows: https://stackoverflow.com/q/48198/2000323 Check for Linux: https://www.tecmint.com/find-out-which-process-listening-on-a-particular-port/","body":"Check what process occupies the <code>1100</code> port and kill this process. Check for Windows: <a href=\"https://stackoverflow.com/q/48198/2000323\">stackoverflow.com/q/48198/2000323</a> Check for Linux: <a href=\"https://www.tecmint.com/find-out-which-process-listening-on-a-particular-port/\" rel=\"nofollow noreferrer\">tecmint.com/&hellip;</a>"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1653384322,"post_id":72349484,"comment_id":127833305,"body_markdown":"@Andrey java.exe process called from Intellij  I can kill, but why should I kill process every build","body":"@Andrey java.exe process called from Intellij  I can kill, but why should I kill process every build"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1654679583,"post_id":72349484,"comment_id":128146133,"body_markdown":"@Thorbj&#248;rnRavnAndersen added bounty and more details to question","body":"@Thorbj&#248;rnRavnAndersen added bounty and more details to question"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1654679638,"post_id":72349484,"comment_id":128146147,"body_markdown":"@Andrey added bounty and more details to question, I can kill process, but I prefer to avoid keeping hanging processes","body":"@Andrey added bounty and more details to question, I can kill process, but I prefer to avoid keeping hanging processes"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1654679695,"post_id":72349484,"comment_id":128146174,"body_markdown":"@khmarbaise bounty and more details to question, it happen also on compiling, notice I&#39;m using remote url repository","body":"@khmarbaise bounty and more details to question, it happen also on compiling, notice I&#39;m using remote url repository"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1654681358,"post_id":72349484,"comment_id":128146877,"body_markdown":"@khmarbaise Maven 3.6 and older still allows an access to a plugin reporsitory with http. In Maven 3.7 and higher this protocol is blocked by default. But it exists an official workaround for this case.","body":"@khmarbaise Maven 3.6 and older still allows an access to a plugin reporsitory with http. In Maven 3.7 and higher this protocol is blocked by default. But it exists an official workaround for this case."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1654681514,"post_id":72349484,"comment_id":128146931,"body_markdown":"@Reporter good catch we are using http to connect to our repository","body":"@Reporter good catch we are using http to connect to our repository"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654691245,"post_id":72349484,"comment_id":128150657,"body_markdown":"@Reporter I know that there is blocking access to http repository which is introduced in Maven 3.8.1 (https://maven.apache.org/docs/3.8.1/release-notes.html) apart from that Maven 3.7 does not exist...","body":"@Reporter I know that there is blocking access to http repository which is introduced in Maven 3.8.1 (<a href=\"https://maven.apache.org/docs/3.8.1/release-notes.html\" rel=\"nofollow noreferrer\">maven.apache.org/docs/3.8.1/release-notes.html</a>) apart from that Maven 3.7 does not exist..."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654711036,"post_id":72349484,"comment_id":128159084,"body_markdown":"`RMI Registry not available at 11808:1099` - this is very very wierd.  Why is &quot;11808&quot; a host  name here?","body":"<code>RMI Registry not available at 11808:1099</code> - this is very very wierd.  Why is &quot;11808&quot; a host  name here?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654711096,"post_id":72349484,"comment_id":128159102,"body_markdown":"And _why_ do you modify your hosts file?  What else has happened to it?","body":"And <i>why</i> do you modify your hosts file?  What else has happened to it?"},{"owner":{"account_id":4447573,"reputation":2187,"user_id":3620458,"accept_rate":90,"display_name":"Bragolgirith"},"score":0,"creation_date":1654887430,"post_id":72349484,"comment_id":128208146,"body_markdown":"To answer the question &quot;How can I automatically close the process?&quot;: You can use either `exec-maven-plugin` or `maven-antrun-plugin` to run a script that closes the process. However the other comment are correct in that its weird it&#39;s hanging in the first place.","body":"To answer the question &quot;How can I automatically close the process?&quot;: You can use either <code>exec-maven-plugin</code> or <code>maven-antrun-plugin</code> to run a script that closes the process. However the other comment are correct in that its weird it&#39;s hanging in the first place."},{"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"score":0,"creation_date":1655194295,"post_id":72349484,"comment_id":128267836,"body_markdown":"Are you sure that you need attach jConsole to the maven process and not to the program compiled by maven?","body":"Are you sure that you need attach jConsole to the maven process and not to the program compiled by maven?"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1655194472,"post_id":72349484,"comment_id":128267902,"body_markdown":"@Nick Initially I tried to attach it while executing tests using maven","body":"@Nick Initially I tried to attach it while executing tests using maven"}],"answers":[{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655197046,"creation_date":1655197046,"answer_id":72614179,"question_id":72349484,"body_markdown":"Intellij starts maven background process to import dependencies (and other things) and doesn&#39;t close it for faster re-run. This background process uses `MAVEN_OPTS` just like normal maven process and listens port preventing other maven processes from starting\r\n\r\nRemove global `MAVEN_OPTS` and set `-D*.jmxremote.*` perameters only for the required process\r\n\r\n- You can set perameters in intellij Run/Debug Configuration\r\n\r\n- When run from terminal: `export MAVEN_OPTS=&quot;&quot; &amp;&amp; mvn package`\r\n\r\n- For run tests try [this][1]\r\n\r\n  [1]: https://stackoverflow.com/a/41576365/6066470","title":"Failed Maven build remains stuck when using jmx","body":"<p>Intellij starts maven background process to import dependencies (and other things) and doesn't close it for faster re-run. This background process uses <code>MAVEN_OPTS</code> just like normal maven process and listens port preventing other maven processes from starting</p>\n<p>Remove global <code>MAVEN_OPTS</code> and set <code>-D*.jmxremote.*</code> perameters only for the required process</p>\n<ul>\n<li><p>You can set perameters in intellij Run/Debug Configuration</p>\n</li>\n<li><p>When run from terminal: <code>export MAVEN_OPTS=&quot;&quot; &amp;&amp; mvn package</code></p>\n</li>\n<li><p>For run tests try <a href=\"https://stackoverflow.com/a/41576365/6066470\">this</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72614179,"answer_count":1,"score":2,"last_activity_date":1655197046,"creation_date":1653312804,"question_id":72349484,"body_markdown":"I&#39;m using (almost) latest Intellij Ultimate 2022.1.1 (same with latest VS Code) with JDK 8 and maven 3.6.3 (can&#39;t upgrade)\r\n\r\nWhen executing Maven build (as compile/package) and it fails (for example compilation error) \r\n\r\nI can&#39;t rerun because port 1100 is still used by a `java.exe` process I must kill manually\r\n\r\n\r\nAs a work around I kill process in command line dynamically\r\n\r\n    FOR /F &quot;tokens=5 delims= &quot; %P IN (&#39;netstat -a -n -o ^| findstr :1100&#39;) DO TaskKill.exe /F /PID %P\r\n\r\n\r\njps output : \r\n\r\n    RMI Registry not available at 11808:1099\r\n    Exception creating connection to: 11808; nested exception is:\r\n            java.net.SocketException: Network is unreachable: connect\r\n\r\n**EDIT **\r\n\r\nProblem was due to environment variable `MAVEN_OPTS` jmxremote.port 1100 used for [activate JMX for JConsole][2]\r\n\r\n    -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.port=1100\r\n\r\n[2]:https://stackoverflow.com/questions/856881/how-to-activate-jmx-on-my-jvm-for-access-with-jconsole","title":"Failed Maven build remains stuck when using jmx","body":"<p>I'm using (almost) latest Intellij Ultimate 2022.1.1 (same with latest VS Code) with JDK 8 and maven 3.6.3 (can't upgrade)</p>\n<p>When executing Maven build (as compile/package) and it fails (for example compilation error)</p>\n<p>I can't rerun because port 1100 is still used by a <code>java.exe</code> process I must kill manually</p>\n<p>As a work around I kill process in command line dynamically</p>\n<pre><code>FOR /F &quot;tokens=5 delims= &quot; %P IN ('netstat -a -n -o ^| findstr :1100') DO TaskKill.exe /F /PID %P\n</code></pre>\n<p>jps output :</p>\n<pre><code>RMI Registry not available at 11808:1099\nException creating connection to: 11808; nested exception is:\n        java.net.SocketException: Network is unreachable: connect\n</code></pre>\n<p>**EDIT **</p>\n<p>Problem was due to environment variable <code>MAVEN_OPTS</code> jmxremote.port 1100 used for <a href=\"https://stackoverflow.com/questions/856881/how-to-activate-jmx-on-my-jvm-for-access-with-jconsole\">activate JMX for JConsole</a></p>\n<pre><code>-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.port=1100\n</code></pre>\n"},{"tags":["java","unchecked-cast"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1655137211,"post_id":72605778,"comment_id":128254517,"body_markdown":"Your `contains` method empties out the entire stack in the process of checking whether the stack contains the element. That&#39;s... bad.","body":"Your <code>contains</code> method empties out the entire stack in the process of checking whether the stack contains the element. That&#39;s... bad."}],"answers":[{"tags":[],"owner":{"account_id":14957510,"reputation":141,"user_id":10798322,"display_name":"Yevgeniy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655137771,"creation_date":1655137771,"answer_id":72606139,"question_id":72605778,"body_markdown":"I just realized you could in principle avoid explicitly casting to `LinkedStack&lt;E&gt;` and instead cast to `LinkedStack&lt;?&gt;`, since you check elements&#39; equality separately down the line anyway.\r\n\r\nAs for the difference this makes - casting to `LinkedStack&lt;E&gt;` you assume that you&#39;re comparing `this` to a `LinkedStack` holding elements of the same type. The compiler can&#39;t check this assumption and warns about the unchecked cast. That could bring about a ClassCastException down the line if you handled the stack&#39;s elements as if they were of type E and they actually turned out to be some other type.  \r\nThe wildcard generic `&lt;?&gt;` means you have no assumptions about the generic type of the particular `LinkedStack` you&#39;re working with, thus eliminating the warning.\r\n\r\nThat&#39;s what other answers to the &quot;suppress unchecked cast warnings&quot; mean when they say you&#39;d best avoid unchecked casts unless absolutely necessary.\r\n\r\n(I&#39;m purposefully avoiding commenting on the rest of the provided code)","title":"How to fix Unchecked cast warning in generic type casting","body":"<p>I just realized you could in principle avoid explicitly casting to <code>LinkedStack&lt;E&gt;</code> and instead cast to <code>LinkedStack&lt;?&gt;</code>, since you check elements' equality separately down the line anyway.</p>\n<p>As for the difference this makes - casting to <code>LinkedStack&lt;E&gt;</code> you assume that you're comparing <code>this</code> to a <code>LinkedStack</code> holding elements of the same type. The compiler can't check this assumption and warns about the unchecked cast. That could bring about a ClassCastException down the line if you handled the stack's elements as if they were of type E and they actually turned out to be some other type.<br />\nThe wildcard generic <code>&lt;?&gt;</code> means you have no assumptions about the generic type of the particular <code>LinkedStack</code> you're working with, thus eliminating the warning.</p>\n<p>That's what other answers to the &quot;suppress unchecked cast warnings&quot; mean when they say you'd best avoid unchecked casts unless absolutely necessary.</p>\n<p>(I'm purposefully avoiding commenting on the rest of the provided code)</p>\n"}],"owner":{"account_id":19376028,"reputation":1,"user_id":14168278,"display_name":"matin_mhz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655197057,"answer_count":1,"score":0,"last_activity_date":1655196972,"creation_date":1655136021,"question_id":72605778,"body_markdown":"I&#39;m implementing a list link in the stack. The program successfully passes all the required tests, but I encounter this warning. There is no disruption in the implementation of the program, but I am looking to eliminate this problem.\r\n\r\nCan you tell me how to fix it by editing the code in the Equals method?\r\n&gt; Unchecked cast: &#39;java.lang.Object&#39; to &#39;LinkedStack&lt;E&gt;&#39;\r\n\r\n```java\r\npublic final class LinkedStack&lt;E&gt; implements Stack&lt;E&gt; {\r\n\r\n    private Node head = null;\r\n    private int size = 0;\r\n\r\n    @Override\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEmpty() {\r\n        return size == 0;\r\n    }\r\n\r\n    @Override\r\n    public void clear() {\r\n        head = null;\r\n        size = 0;\r\n    }\r\n\r\n    @Override\r\n    public boolean contains(E e) {\r\n        for (int i = 0; i &lt; size; i++) {\r\n            E temp = pop();\r\n            if (temp.equals(e)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public E top() throws StackEmptyException {\r\n        if (size == 0) {\r\n            throw new StackEmptyException();\r\n        }\r\n        return head.element;\r\n    }\r\n\r\n    @Override\r\n    public void push(E e) {\r\n        head = new Node(e, head);\r\n        size++;\r\n    }\r\n\r\n    @Override\r\n    public E pop() throws StackEmptyException {\r\n\r\n        if (size == 0) {\r\n            throw new StackEmptyException();\r\n        }\r\n        E temp = head.element;\r\n        head = head.next;\r\n        size--;\r\n        return temp;\r\n    }\r\n\r\n\r\n    public boolean equals(Object o) {\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        LinkedStack&lt;E&gt; that = (LinkedStack&lt;E&gt;) o;\r\n        if (that.size() != this.size()) return false;\r\n        Node j = that.head;\r\n        int counter = 0;\r\n        for (Node i = head; counter &lt; size; i = i.next, j = j.next) {\r\n            if (i.element == null &amp;&amp; j.element == null) {\r\n                counter++;\r\n                continue;\r\n            }\r\n            if ((i.element != null) &amp;&amp; (j.element != null)) {\r\n                if (!i.element.equals(j.element)) {\r\n                    return false;\r\n                }\r\n            } else {\r\n                return false;\r\n            }\r\n            counter++;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        int resultat = 1;\r\n        int counter = 0;\r\n        for (Node i = head; counter &lt; size; i = i.next) {\r\n            if (i.element == null) {\r\n                counter++;\r\n                continue;\r\n            }\r\n            resultat = resultat * i.element.hashCode();\r\n            counter++;\r\n        }\r\n        return resultat;\r\n    }\r\n\r\n\r\n    protected class Node {\r\n        private final E element;\r\n        private final Node next;\r\n\r\n        protected Node(final E element, final Node next) {\r\n            this.element = element;\r\n            this.next = next;\r\n        }\r\n    }\r\n}\r\n```","title":"How to fix Unchecked cast warning in generic type casting","body":"<p>I'm implementing a list link in the stack. The program successfully passes all the required tests, but I encounter this warning. There is no disruption in the implementation of the program, but I am looking to eliminate this problem.</p>\n<p>Can you tell me how to fix it by editing the code in the Equals method?</p>\n<blockquote>\n<p>Unchecked cast: 'java.lang.Object' to 'LinkedStack'</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public final class LinkedStack&lt;E&gt; implements Stack&lt;E&gt; {\n\n    private Node head = null;\n    private int size = 0;\n\n    @Override\n    public int size() {\n        return size;\n    }\n\n    @Override\n    public boolean isEmpty() {\n        return size == 0;\n    }\n\n    @Override\n    public void clear() {\n        head = null;\n        size = 0;\n    }\n\n    @Override\n    public boolean contains(E e) {\n        for (int i = 0; i &lt; size; i++) {\n            E temp = pop();\n            if (temp.equals(e)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    @Override\n    public E top() throws StackEmptyException {\n        if (size == 0) {\n            throw new StackEmptyException();\n        }\n        return head.element;\n    }\n\n    @Override\n    public void push(E e) {\n        head = new Node(e, head);\n        size++;\n    }\n\n    @Override\n    public E pop() throws StackEmptyException {\n\n        if (size == 0) {\n            throw new StackEmptyException();\n        }\n        E temp = head.element;\n        head = head.next;\n        size--;\n        return temp;\n    }\n\n\n    public boolean equals(Object o) {\n        if (o == null || getClass() != o.getClass()) return false;\n        LinkedStack&lt;E&gt; that = (LinkedStack&lt;E&gt;) o;\n        if (that.size() != this.size()) return false;\n        Node j = that.head;\n        int counter = 0;\n        for (Node i = head; counter &lt; size; i = i.next, j = j.next) {\n            if (i.element == null &amp;&amp; j.element == null) {\n                counter++;\n                continue;\n            }\n            if ((i.element != null) &amp;&amp; (j.element != null)) {\n                if (!i.element.equals(j.element)) {\n                    return false;\n                }\n            } else {\n                return false;\n            }\n            counter++;\n        }\n        return true;\n    }\n\n    @Override\n    public int hashCode() {\n        int resultat = 1;\n        int counter = 0;\n        for (Node i = head; counter &lt; size; i = i.next) {\n            if (i.element == null) {\n                counter++;\n                continue;\n            }\n            resultat = resultat * i.element.hashCode();\n            counter++;\n        }\n        return resultat;\n    }\n\n\n    protected class Node {\n        private final E element;\n        private final Node next;\n\n        protected Node(final E element, final Node next) {\n            this.element = element;\n            this.next = next;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","performance","java-8","java-stream"],"comments":[{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1655089282,"post_id":72590180,"comment_id":128239391,"body_markdown":"Use `groupingBy` to make a `Map&lt;Integer, Integer&gt;`, where the key is the integer in the stream and the value is the count.","body":"Use <code>groupingBy</code> to make a <code>Map&lt;Integer, Integer&gt;</code>, where the key is the integer in the stream and the value is the count."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1655111932,"post_id":72590180,"comment_id":128244621,"body_markdown":"That’s a strange question. It implies that there was a straight-forward way to find duplicates *with* the `distinct()` method.","body":"That’s a strange question. It implies that there was a straight-forward way to find duplicates <i>with</i> the <code>distinct()</code> method."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1655139383,"post_id":72590180,"comment_id":128255381,"body_markdown":"@Holger I was thinking about that too.  Makes you wonder if the interviewers know what their talking about.","body":"@Holger I was thinking about that too.  Makes you wonder if the interviewers know what their talking about."}],"answers":[{"tags":[],"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655034460,"creation_date":1655019016,"answer_id":72590255,"question_id":72590180,"body_markdown":"You can do this using frequency collectors. Have not looked at optimization , but this will not use distinct\r\n\r\n```java\r\nimport java.util.Set;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport static java.util.stream.Collectors.toSet;\r\nimport java.util.Collections;\r\n\r\npublic class DetectDuplicates{\r\n    public static void main(String args[]) {\r\n      List&lt;Integer&gt; companyIds = new ArrayList&lt;Integer&gt;();\r\n      companyIds.add(1);\r\n      companyIds.add(1);\r\n      companyIds.add(2);\r\n      companyIds.add(3);\r\n      companyIds.add(3);\r\n      Set&lt;Integer&gt; duplicateCompanies = companyIds\r\n                .stream()\r\n                .filter(company -&gt; Collections.frequency(companyIds, company) &gt; 1)\r\n                .collect(toSet());\r\n      System.out.println(&quot;Duplicate companies &quot; + duplicateCompanies);\r\n    }\r\n}\r\n```\r\n\r\nThis will print\r\n\r\n```\r\nDuplicate companies [1, 3]\r\n```","title":"Find Duplicated Elements in a List of Integer without using distinct() method","body":"<p>You can do this using frequency collectors. Have not looked at optimization , but this will not use distinct</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Set;\nimport java.util.List;\nimport java.util.ArrayList;\nimport static java.util.stream.Collectors.toSet;\nimport java.util.Collections;\n\npublic class DetectDuplicates{\n    public static void main(String args[]) {\n      List&lt;Integer&gt; companyIds = new ArrayList&lt;Integer&gt;();\n      companyIds.add(1);\n      companyIds.add(1);\n      companyIds.add(2);\n      companyIds.add(3);\n      companyIds.add(3);\n      Set&lt;Integer&gt; duplicateCompanies = companyIds\n                .stream()\n                .filter(company -&gt; Collections.frequency(companyIds, company) &gt; 1)\n                .collect(toSet());\n      System.out.println(&quot;Duplicate companies &quot; + duplicateCompanies);\n    }\n}\n</code></pre>\n<p>This will print</p>\n<pre><code>Duplicate companies [1, 3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655108790,"creation_date":1655107913,"answer_id":72599588,"question_id":72590180,"body_markdown":"If you can use a third-party library, you could create a `Bag` using [Eclipse Collections][1], and use the `selectDuplicates` method on `Bag` to find the duplicates. First, you would need to convert a JDK `List` to a `Bag` using the `list.stream().collect(Collectors2.toBag())`. This would satisfy the requirement to use the Java Streams API.\r\n\r\n    @Test\r\n    public void selectDuplicates()\r\n    {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 2, 3, 3, 3, 4, 4, 4, 4));\r\n        Set&lt;Integer&gt; duplicates = list.stream()\r\n            .collect(Collectors2.toBag()).selectDuplicates().toSet();\r\n        Set&lt;Integer&gt; expected = Set.of(2, 3, 4);\r\n        Assertions.assertEquals(expected, duplicates);\r\n    }\r\n\r\nIf you can&#39;t use a third-party library, then you can use the `groupingBy` and `counting` `Collectors` in the JDK.\r\n\r\n    @Test\r\n    public void selectDuplicatesJDK()\r\n    {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 2, 3, 3, 3, 4, 4, 4, 4));\r\n        Map&lt;Integer, Long&gt; counts = list.stream()\r\n            .collect(Collectors.groupingBy(i -&gt; i, Collectors.counting()));\r\n        counts.values().removeIf(count -&gt; count &lt; 2L);\r\n        Set&lt;Integer&gt; duplicates = counts.keySet();\r\n        Set&lt;Integer&gt; expected = Set.of(2, 3, 4);\r\n        Assertions.assertEquals(expected, duplicates);\r\n    }\r\n\r\nNote: I am a committer for Eclipse Collections\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n","title":"Find Duplicated Elements in a List of Integer without using distinct() method","body":"<p>If you can use a third-party library, you could create a <code>Bag</code> using <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, and use the <code>selectDuplicates</code> method on <code>Bag</code> to find the duplicates. First, you would need to convert a JDK <code>List</code> to a <code>Bag</code> using the <code>list.stream().collect(Collectors2.toBag())</code>. This would satisfy the requirement to use the Java Streams API.</p>\n<pre><code>@Test\npublic void selectDuplicates()\n{\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 2, 3, 3, 3, 4, 4, 4, 4));\n    Set&lt;Integer&gt; duplicates = list.stream()\n        .collect(Collectors2.toBag()).selectDuplicates().toSet();\n    Set&lt;Integer&gt; expected = Set.of(2, 3, 4);\n    Assertions.assertEquals(expected, duplicates);\n}\n</code></pre>\n<p>If you can't use a third-party library, then you can use the <code>groupingBy</code> and <code>counting</code> <code>Collectors</code> in the JDK.</p>\n<pre><code>@Test\npublic void selectDuplicatesJDK()\n{\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 2, 3, 3, 3, 4, 4, 4, 4));\n    Map&lt;Integer, Long&gt; counts = list.stream()\n        .collect(Collectors.groupingBy(i -&gt; i, Collectors.counting()));\n    counts.values().removeIf(count -&gt; count &lt; 2L);\n    Set&lt;Integer&gt; duplicates = counts.keySet();\n    Set&lt;Integer&gt; expected = Set.of(2, 3, 4);\n    Assertions.assertEquals(expected, duplicates);\n}\n</code></pre>\n<p>Note: I am a committer for Eclipse Collections</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655112278,"creation_date":1655112278,"answer_id":72600511,"question_id":72590180,"body_markdown":"Method  `distinct()` will not allow you *&quot;to find duplicated elements&quot;*. You&#39;ll even never know if there were any duplicates in the source by using `distinct()` method alone. As its name suggests, it will give you unique elements and nothing more.\r\n\r\n\r\nOne of the ways to filter out duplicated elements from the source list is by generating an intermediate `Map&lt;Integer,Boolean&gt;` where the *key* would be the element itself and the *value* would denote whether a particular *key* has duplicates in the source list.\r\n\r\nThat can be done by using a built-in collector [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)):\r\n```\r\nList&lt;Integer&gt; duplicates = sourceList.stream()\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),  // the key - an element itself\r\n        next -&gt; false,        // the value of `false` - the element isn&#39;t proved yet to be a duplicate because it has been encountered for the first time\r\n        (left, right) -&gt; true // the value of `true` - the element is a duplicate\r\n    ))\r\n    .entrySet().stream()\r\n    .filter(Map.Entry::getValue)\r\n    .map(Map.Entry::getKey)\r\n    .collect(Collectors.toList());\r\n```","title":"Find Duplicated Elements in a List of Integer without using distinct() method","body":"<p>Method  <code>distinct()</code> will not allow you <em>&quot;to find duplicated elements&quot;</em>. You'll even never know if there were any duplicates in the source by using <code>distinct()</code> method alone. As its name suggests, it will give you unique elements and nothing more.</p>\n<p>One of the ways to filter out duplicated elements from the source list is by generating an intermediate <code>Map&lt;Integer,Boolean&gt;</code> where the <em>key</em> would be the element itself and the <em>value</em> would denote whether a particular <em>key</em> has duplicates in the source list.</p>\n<p>That can be done by using a built-in collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a>:</p>\n<pre><code>List&lt;Integer&gt; duplicates = sourceList.stream()\n    .collect(Collectors.toMap(\n        Function.identity(),  // the key - an element itself\n        next -&gt; false,        // the value of `false` - the element isn't proved yet to be a duplicate because it has been encountered for the first time\n        (left, right) -&gt; true // the value of `true` - the element is a duplicate\n    ))\n    .entrySet().stream()\n    .filter(Map.Entry::getValue)\n    .map(Map.Entry::getKey)\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11854454,"reputation":433,"user_id":14999427,"display_name":"Suic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655196857,"creation_date":1655196857,"answer_id":72614125,"question_id":72590180,"body_markdown":"You can also do this by grouping by count and using `collectingAndThen` to make it a single pass (instead of using more than 1 stream)\r\n```java\r\nList&lt;Integer&gt; numbers = List.of(1, 2, 2, 3, 3, 3, 4, 4, 4, 4);\r\nSet&lt;Integer&gt; duplicates = numbers.stream()\r\n        .collect(Collectors.collectingAndThen(Collectors.groupingBy(Function.identity(), Collectors.counting()), frequencyMap -&gt; {\r\n            frequencyMap.values().removeIf(k -&gt; k &lt; 2);\r\n            return frequencyMap.keySet();\r\n        }));\r\n```","title":"Find Duplicated Elements in a List of Integer without using distinct() method","body":"<p>You can also do this by grouping by count and using <code>collectingAndThen</code> to make it a single pass (instead of using more than 1 stream)</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; numbers = List.of(1, 2, 2, 3, 3, 3, 4, 4, 4, 4);\nSet&lt;Integer&gt; duplicates = numbers.stream()\n        .collect(Collectors.collectingAndThen(Collectors.groupingBy(Function.identity(), Collectors.counting()), frequencyMap -&gt; {\n            frequencyMap.values().removeIf(k -&gt; k &lt; 2);\n            return frequencyMap.keySet();\n        }));\n</code></pre>\n"}],"owner":{"account_id":9010688,"reputation":1381,"user_id":6715431,"display_name":"jagdish khetre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72590255,"answer_count":4,"score":1,"last_activity_date":1655196857,"creation_date":1655018066,"question_id":72590180,"body_markdown":"Recently, I&#39;ve been asked this question during an **Interview** :\r\n\r\n&gt; How to find the Duplicate Elements in a `List` of `Integer` without\r\n&gt; using java Stream&#39;s `distinct()` method ?\r\n\r\nThis should be done by Java&#39;s Stream API, but should not use `distinct()` method.\r\n\r\n*Stub-code:*\r\n```\r\nList&lt;Integer&gt; listOfInt = new ArrayList&lt;&gt;();\r\n```","title":"Find Duplicated Elements in a List of Integer without using distinct() method","body":"<p>Recently, I've been asked this question during an <strong>Interview</strong> :</p>\n<blockquote>\n<p>How to find the Duplicate Elements in a <code>List</code> of <code>Integer</code> without\nusing java Stream's <code>distinct()</code> method ?</p>\n</blockquote>\n<p>This should be done by Java's Stream API, but should not use <code>distinct()</code> method.</p>\n<p><em>Stub-code:</em></p>\n<pre><code>List&lt;Integer&gt; listOfInt = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":["java","android-studio","android-actionbar","themes","runtimeexception"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1655187682,"post_id":72612280,"comment_id":128265782,"body_markdown":"If you get that NPE when using `NoActionBar` that probably means there really is no action bar. In that case you shouldn&#39;t try to call any methods on it.","body":"If you get that NPE when using <code>NoActionBar</code> that probably means there really is no action bar. In that case you shouldn&#39;t try to call any methods on it."},{"owner":{"account_id":25355938,"reputation":15,"user_id":19172061,"display_name":"Muhammad Arif"},"score":0,"creation_date":1655188457,"post_id":72612280,"comment_id":128265992,"body_markdown":"but getSupportactionbar did remove the action bar just it leaves space behind. Or am I wrong it is not called action bar? That thing is on the very top of my application. Usually, tell the title of UI. I think there are no apps using it nowadays cause I don&#39;t see it anywhere","body":"but getSupportactionbar did remove the action bar just it leaves space behind. Or am I wrong it is not called action bar? That thing is on the very top of my application. Usually, tell the title of UI. I think there are no apps using it nowadays cause I don&#39;t see it anywhere"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1655192311,"post_id":72612280,"comment_id":128267166,"body_markdown":"I&#39;m not an android developer so I can&#39;t tell you what it is called but if `getSupportActionBar().hide();` leaves blank space that might indicate that action bar just not visible but the space is still reserved. If you really don&#39;t want that bar I&#39;d remove it instead of just hiding it, i.e. `NoActionBar` sounds like the way to go.","body":"I&#39;m not an android developer so I can&#39;t tell you what it is called but if <code>getSupportActionBar().hide();</code> leaves blank space that might indicate that action bar just not visible but the space is still reserved. If you really don&#39;t want that bar I&#39;d remove it instead of just hiding it, i.e. <code>NoActionBar</code> sounds like the way to go."},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1655200078,"post_id":72612280,"comment_id":128269997,"body_markdown":"remove this line `getSupportActionBar().hide();` from your `LoginActivity.java`","body":"remove this line <code>getSupportActionBar().hide();</code> from your <code>LoginActivity.java</code>"},{"owner":{"account_id":25355938,"reputation":15,"user_id":19172061,"display_name":"Muhammad Arif"},"score":0,"creation_date":1655216625,"post_id":72612280,"comment_id":128276573,"body_markdown":"@M DEV If i remove &#39;getSupportActionBar().hide();&#39;  the action bar or whatever it called appear back and @Thomas if i use NoActionBar in the theme, it will produce the error as mentioned","body":"@M DEV If i remove &#39;getSupportActionBar().hide();&#39;  the action bar or whatever it called appear back and @Thomas if i use NoActionBar in the theme, it will produce the error as mentioned"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1655217756,"post_id":72612280,"comment_id":128277061,"body_markdown":"As I stated, you should not call anything on the action bar if you&#39;re using `NoActionBar`. Your stacktrace indicates LoginActivity.java line 38 tries to call `hide()` which fails because there is no action bar (i.e. it is `null`).","body":"As I stated, you should not call anything on the action bar if you&#39;re using <code>NoActionBar</code>. Your stacktrace indicates LoginActivity.java line 38 tries to call <code>hide()</code> which fails because there is no action bar (i.e. it is <code>null</code>)."},{"owner":{"account_id":25355938,"reputation":15,"user_id":19172061,"display_name":"Muhammad Arif"},"score":0,"creation_date":1655218792,"post_id":72612280,"comment_id":128277515,"body_markdown":"@Thomas I already remove the getSupportActionBar().hide and then change it to NoActionBar and it return new error which when I googled it bring me back to getSupportActionBar().hide(). Here the new error :Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.setTitle(java.lang.CharSequence)&#39; on a null object reference","body":"@Thomas I already remove the getSupportActionBar().hide and then change it to NoActionBar and it return new error which when I googled it bring me back to getSupportActionBar().hide(). Here the new error :Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.setTitle(java.lang.CharSequ&zwnj;&#8203;ence)&#39; on a null object reference"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1655219091,"post_id":72612280,"comment_id":128277653,"body_markdown":"Well, that&#39;s the same thing: don&#39;t try to call `setTitle()` on a non-existant action bar.","body":"Well, that&#39;s the same thing: don&#39;t try to call <code>setTitle()</code> on a non-existant action bar."},{"owner":{"account_id":25355938,"reputation":15,"user_id":19172061,"display_name":"Muhammad Arif"},"score":1,"creation_date":1655265697,"post_id":72612280,"comment_id":128288983,"body_markdown":"@Thomas OMG it works. Thank you very much ur a great person for being patient with me to solve my problem. Apparently, I&#39;m using that start-up bot nav toolbar or whatever you called from the android studio, and at that one part, it called the support action bar which I never needed anyway. That is one part I never delete in my previous trial of this method. Again thank you very much, Thomas. May your life always be happy","body":"@Thomas OMG it works. Thank you very much ur a great person for being patient with me to solve my problem. Apparently, I&#39;m using that start-up bot nav toolbar or whatever you called from the android studio, and at that one part, it called the support action bar which I never needed anyway. That is one part I never delete in my previous trial of this method. Again thank you very much, Thomas. May your life always be happy"}],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655196730,"creation_date":1655196730,"answer_id":72614102,"question_id":72612280,"body_markdown":"use \r\n\r\n    &lt;style name=&quot;Theme.RULETeacher&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n\r\ninstead of \r\n\r\n    &lt;style name=&quot;Theme.RULETeacher&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n\r\n\r\nand remove this from code\r\n\r\n    getSupportActionBar().hide();\r\n\r\n Dont put any action bar related methods","title":"Error when removing action bar in theme.material","body":"<p>use</p>\n<pre><code>&lt;style name=&quot;Theme.RULETeacher&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p>instead of</p>\n<pre><code>&lt;style name=&quot;Theme.RULETeacher&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n</code></pre>\n<p>and remove this from code</p>\n<pre><code>getSupportActionBar().hide();\n</code></pre>\n<p>Dont put any action bar related methods</p>\n"}],"owner":{"account_id":25355938,"reputation":15,"user_id":19172061,"display_name":"Muhammad Arif"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72614102,"answer_count":1,"score":0,"last_activity_date":1655196730,"creation_date":1655187426,"question_id":72612280,"body_markdown":"I am new to developing mobile apps and I am using android studio. I tried to remove the action bar but every time I tried to change the theme to NoActionBar, the following error appear.\r\n\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.ruleteacher/com.example.ruleteacher.LoginActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.hide()&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.hide()&#39; on a null object reference\r\n        at com.example.ruleteacher.LoginActivity.onCreate(LoginActivity.java:38)\r\n        at android.app.Activity.performCreate(Activity.java:7136)\r\n        at android.app.Activity.performCreate(Activity.java:7127)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:193)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6669)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)&#160;\r\n\r\nI have tried using `getSupportActionBar().hide();` and it did remove the action bar but there is still this blank space allocated for the action bar. Help me remove this space thank you.\r\nTheme XML file\r\n\r\n        &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n        &lt;!-- Base application theme. --&gt;\r\n        &lt;style name=&quot;Theme.RULETeacher&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n            &lt;!-- Primary brand color. --&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n            &lt;!-- Secondary brand color. --&gt;\r\n            &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n            &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n            &lt;!-- Status bar color. --&gt;\r\n            &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nandroid manifest file\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.ruleteacher&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.RULETeacher&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity3&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.MainActivity2&quot; /&gt;\r\n        &lt;activity android:name=&quot;.LoginActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.SignUpActivity&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;`","title":"Error when removing action bar in theme.material","body":"<p>I am new to developing mobile apps and I am using android studio. I tried to remove the action bar but every time I tried to change the theme to NoActionBar, the following error appear.</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.ruleteacher/com.example.ruleteacher.LoginActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.hide()' on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6669)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.hide()' on a null object reference\n    at com.example.ruleteacher.LoginActivity.onCreate(LoginActivity.java:38)\n    at android.app.Activity.performCreate(Activity.java:7136)\n    at android.app.Activity.performCreate(Activity.java:7127)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048) \n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78) \n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) \n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loop(Looper.java:193) \n    at android.app.ActivityThread.main(ActivityThread.java:6669) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858) \n</code></pre>\n<p>I have tried using <code>getSupportActionBar().hide();</code> and it did remove the action bar but there is still this blank space allocated for the action bar. Help me remove this space thank you.\nTheme XML file</p>\n<pre><code>    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.RULETeacher&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>android manifest file\n`\n</p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.RULETeacher&quot;&gt;\n    &lt;activity android:name=&quot;.MainActivity3&quot;&gt;&lt;/activity&gt;\n    &lt;activity android:name=&quot;.MainActivity2&quot; /&gt;\n    &lt;activity android:name=&quot;.LoginActivity&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=&quot;.SignUpActivity&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:label=&quot;@string/app_name&quot; /&gt;\n&lt;/application&gt;\n</code></pre>\n<p>`</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","beancreationexception"],"comments":[{"owner":{"account_id":183892,"reputation":1036,"user_id":419581,"accept_rate":100,"display_name":"r&#233;my"},"score":0,"creation_date":1655156283,"post_id":72608771,"comment_id":128260646,"body_markdown":"Does this answer your question? [Error creating bean with name and Singleton bean creation not allowed](https://stackoverflow.com/questions/15017746/error-creating-bean-with-name-and-singleton-bean-creation-not-allowed)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15017746/error-creating-bean-with-name-and-singleton-bean-creation-not-allowed\">Error creating bean with name and Singleton bean creation not allowed</a>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1655196494,"post_id":72608771,"comment_id":128268624,"body_markdown":"You need to look earlier in the logs. These errors are almost always symptoms of your application being terminated because of an earlier error.","body":"You need to look earlier in the logs. These errors are almost always symptoms of your application being terminated because of an earlier error."},{"owner":{"account_id":21767958,"reputation":1,"user_id":16071536,"display_name":"Shivam Singh"},"score":0,"creation_date":1655272953,"post_id":72608771,"comment_id":128290244,"body_markdown":"I resolved this issue. Thank you guys for your quick response","body":"I resolved this issue. Thank you guys for your quick response"}],"owner":{"account_id":21767958,"reputation":1,"user_id":16071536,"display_name":"Shivam Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655196453,"creation_date":1655152765,"question_id":72608771,"body_markdown":"I have developed a Spring Boot application with PostgreSQL.\r\n\r\nI am trying to run my Spring Boot application, but I don&#39;t know why I am getting these two errors:\r\n\r\n1. &gt; Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39;: Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n\r\n2. &gt; j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n\r\nAnd also the application is get shutdown as soon as it started.\r\n\r\n```none\r\nHikariPool-1 - Shutdown initiated...\r\n o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\r\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed. \r\n```\r\n\r\n\r\n\r\n\r\npom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.nextuple&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;oms&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;oms&lt;/name&gt;\r\n\t&lt;description&gt;Project for OMS&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties\r\n\r\n```none\r\nserver.port:9090\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/orderdetails\r\nspring.datasource.username=postgres\r\nspring.datasource.password=root\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.datasource.hikari.auto-commit=false\r\n```\r\n\r\n//main\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class OmsApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(OmsApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ModelMapper modelMapper(){\r\n\t\treturn new ModelMapper();\r\n\t}\r\n}\r\n```\r\n","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39;","body":"<p>I have developed a Spring Boot application with PostgreSQL.</p>\n<p>I am trying to run my Spring Boot application, but I don't know why I am getting these two errors:</p>\n<ol>\n<li>\n<blockquote>\n<p>Error creating bean with name 'dataSourceScriptDatabaseInitializer': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)</p>\n</blockquote>\n</li>\n<li>\n<blockquote>\n<p>j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'</p>\n</blockquote>\n</li>\n</ol>\n<p>And also the application is get shutdown as soon as it started.</p>\n<pre class=\"lang-none prettyprint-override\"><code>HikariPool-1 - Shutdown initiated...\n o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed. \n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.nextuple&lt;/groupId&gt;\n    &lt;artifactId&gt;oms&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;oms&lt;/name&gt;\n    &lt;description&gt;Project for OMS&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre class=\"lang-none prettyprint-override\"><code>server.port:9090\nspring.datasource.url=jdbc:postgresql://localhost:5432/orderdetails\nspring.datasource.username=postgres\nspring.datasource.password=root\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.datasource.hikari.auto-commit=false\n</code></pre>\n<p>//main</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableScheduling\npublic class OmsApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(OmsApplication.class, args);\n    }\n\n    @Bean\n    public ModelMapper modelMapper(){\n        return new ModelMapper();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1655196867,"post_id":72613929,"comment_id":128268758,"body_markdown":"Actually not sure but you could code it `if (e instanceof UnknownHostException)` maybe?","body":"Actually not sure but you could code it <code>if (e instanceof UnknownHostException)</code> maybe?"},{"owner":{"account_id":6794864,"reputation":1053,"user_id":5230585,"display_name":"Katy"},"score":0,"creation_date":1655197659,"post_id":72613929,"comment_id":128269064,"body_markdown":"Please double-check whether the class UnknownHostException thrown by RestTempalte is the same you handle in your ExceptionHandler","body":"Please double-check whether the class UnknownHostException thrown by RestTempalte is the same you handle in your ExceptionHandler"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1655199080,"post_id":72613929,"comment_id":128269625,"body_markdown":"Can you also post your class where error is being thrown or occurring? As mentioned by @M.Mas. , check also what is being thrown by RestTemplate , Also, make sure the handler for `Exception.class` is at the end and more specific Exceptions at the start!","body":"Can you also post your class where error is being thrown or occurring? As mentioned by @M.Mas. , check also what is being thrown by RestTemplate , Also, make sure the handler for <code>Exception.class</code> is at the end and more specific Exceptions at the start!"}],"owner":{"account_id":1637048,"reputation":81,"user_id":1510257,"display_name":"Arosha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655196347,"creation_date":1655196000,"question_id":72613929,"body_markdown":"MY application throws &#39;UnknownHostException&#39; from RestTemplate and it falls into the exception handler with &#39;Exception.class&#39; instead of &#39;UnknownHostException.class&#39;. \r\n\r\nWhen I remove &#39;Exception.class&#39; handler, then it falls into &#39;UnknownHostException.class&#39; handler.\r\n\r\n```\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(GlobalExceptionHandler.class);\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    public ResponseEntity&lt;ErrorResponse&gt; handleGlobalException(Exception e, WebRequest request) {\r\n        ErrorResponse errorResponse = ...\r\n        return new ResponseEntity&lt;&gt;(errorResponse, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n\r\n    @ExceptionHandler(UnknownHostException.class)\r\n    public ResponseEntity&lt;ErrorResponse&gt; handleUnknownHostException(UnknownHostException e, WebRequest request) {\r\n        ErrorResponse errorResponse = ...\r\n        return new ResponseEntity&lt;&gt;(errorResponse, HttpStatus.SERVICE_UNAVAILABLE);\r\n    }\r\n\r\n}\r\n```","title":"Java Spring 5.3 - How to order exception handling with the use of @RestControllerAdvice and @ExceptionHandler annotations","body":"<p>MY application throws 'UnknownHostException' from RestTemplate and it falls into the exception handler with 'Exception.class' instead of 'UnknownHostException.class'.</p>\n<p>When I remove 'Exception.class' handler, then it falls into 'UnknownHostException.class' handler.</p>\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    private static final Logger logger = LoggerFactory.getLogger(GlobalExceptionHandler.class);\n\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleGlobalException(Exception e, WebRequest request) {\n        ErrorResponse errorResponse = ...\n        return new ResponseEntity&lt;&gt;(errorResponse, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n    @ExceptionHandler(UnknownHostException.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleUnknownHostException(UnknownHostException e, WebRequest request) {\n        ErrorResponse errorResponse = ...\n        return new ResponseEntity&lt;&gt;(errorResponse, HttpStatus.SERVICE_UNAVAILABLE);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","collections","duplicates","set","hashset"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":4,"creation_date":1655194319,"post_id":72613528,"comment_id":128267844,"body_markdown":"Did you override `hashCode()`?","body":"Did you override <code>hashCode()</code>?"},{"owner":{"account_id":22829309,"reputation":339,"user_id":16978074,"display_name":"Elly"},"score":0,"creation_date":1655194457,"post_id":72613528,"comment_id":128267894,"body_markdown":"so for this we use the equals method? because every time I add an element to Set this is compared with the others with the Equals method? right? But I have used the Equals () method in the User class and it does not eliminate the duplicates , why?","body":"so for this we use the equals method? because every time I add an element to Set this is compared with the others with the Equals method? right? But I have used the Equals () method in the User class and it does not eliminate the duplicates , why?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1655194496,"post_id":72613528,"comment_id":128267909,"body_markdown":"You have to override `hashCode()` in conjunction with `equals(Object)`. Besides that, you should test with `instanceof` before casting to `User`. Further, don’t write `if(condition) return true; else return false;` Just write `return condition;`. Further, don’t write `&quot;string&quot; + String.valueOf(expression)`. You can simply write `&quot;string&quot; + expression`.","body":"You have to override <code>hashCode()</code> in conjunction with <code>equals(Object)</code>. Besides that, you should test with <code>instanceof</code> before casting to <code>User</code>. Further, don’t write <code>if(condition) return true; else return false;</code> Just write <code>return condition;</code>. Further, don’t write <code>&quot;string&quot; + String.valueOf(expression)</code>. You can simply write <code>&quot;string&quot; + expression</code>."},{"owner":{"account_id":138898,"reputation":2679,"user_id":344141,"display_name":"Bartek Jablonski"},"score":2,"creation_date":1655194677,"post_id":72613528,"comment_id":128267961,"body_markdown":"In java there is contract between `equals` and `hashCode`.\nThis tutorial explains well, why your code works, as it is working now: https://www.baeldung.com/java-equals-hashcode-contracts","body":"In java there is contract between <code>equals</code> and <code>hashCode</code>. This tutorial explains well, why your code works, as it is working now: <a href=\"https://www.baeldung.com/java-equals-hashcode-contracts\" rel=\"nofollow noreferrer\">baeldung.com/java-equals-hashcode-contracts</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1655196380,"post_id":72613528,"comment_id":128268583,"body_markdown":"Many things slightly wrong with your code. You should always override hashCode() and equals() together, especially when thinking about HASH sets. Then follow java naming conventions. Do NOT use the &quot;_&quot; in your variable or method names.","body":"Many things slightly wrong with your code. You should always override hashCode() and equals() together, especially when thinking about HASH sets. Then follow java naming conventions. Do NOT use the &quot;_&quot; in your variable or method names."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655196170,"creation_date":1655195852,"answer_id":72613885,"question_id":72613528,"body_markdown":"As it has been already said in the comments, your `User` class needs to honor the hashcode and equals contracts by overriding the `equals()` and `hashCode()` methods.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()\r\n\r\nIn your code, you&#39;re using a `HashSet` which is implemented as a `HashMap` under the hood. Instead, a `HashMap` is implemented as an array of buckets, where each entry is stored within a bucket based on the key&#39;s `hashCode()`. However, different keys may yield same hashcodes, so multiple entries may be listed within a same bucket. At that point, the `HashMap` has to resort to the `equals()` method to find the exact key within a bucket which corresponds to the inputted entry in order to retrieve or replace an element. This brief explanation shows you why it is so crucial to provide a proper definition of the `hashCode()` and `equals()` methods, because, as you could see, a `HashMap` heavily relies on these methods.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\r\n\r\nHere is a proper implementation of your `User` class where two users are said identical if they have same: `uid`, `name`, `pversion` and `upicture`. Instead, if two users are identical only by some of the mentioned fields, then you need to updated your `equals()` and `hashCode()` methods accordingly (they both must be based on the same fields).\r\n\r\n```\r\npublic class User {\r\n    public String uid;\r\n    public String name;\r\n    public String pversion;\r\n    public String upicture;\r\n\r\n    public User(String uid, String name, String upicture, String pversion) {\r\n        this.uid = uid;\r\n        this.name = name;\r\n        this.upicture = upicture;\r\n        this.pversion = pversion;\r\n    }\r\n\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getPversion() {\r\n        return pversion;\r\n    }\r\n\r\n    public String getUpicture() {\r\n        return upicture;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        User user = (User) o;\r\n        return Objects.equals(uid, user.uid) &amp;&amp; Objects.equals(name, user.name) &amp;&amp; Objects.equals(pversion, user.pversion) &amp;&amp; Objects.equals(upicture, user.upicture);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(uid, name, pversion, upicture);\r\n    }\r\n}\r\n```\r\n\r\n&lt;h4&gt;Test Main&lt;/h4&gt;\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Set&lt;User&gt; user = new HashSet&lt;&gt;();\r\n        User user1 = new User(&quot;11&quot;, &quot;Mark&quot;, null, &quot;1&quot;);\r\n        User user2 = new User(&quot;11&quot;, &quot;Mark&quot;, null, &quot;1&quot;);\r\n        User user3 = new User(&quot;12&quot;, &quot;Helen&quot;, null, &quot;2&quot;);\r\n\r\n        user.add(user1);\r\n        user.add(user2);\r\n        System.out.println(&quot;la dimensione &#232;: &quot; + user.size());\r\n    }\r\n}\r\n```\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n```\r\nla dimensione &#232;: 1\r\n```","title":"remove duplicates in Set","body":"<p>As it has been already said in the comments, your <code>User</code> class needs to honor the hashcode and equals contracts by overriding the <code>equals()</code> and <code>hashCode()</code> methods.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()</a></p>\n<p>In your code, you're using a <code>HashSet</code> which is implemented as a <code>HashMap</code> under the hood. Instead, a <code>HashMap</code> is implemented as an array of buckets, where each entry is stored within a bucket based on the key's <code>hashCode()</code>. However, different keys may yield same hashcodes, so multiple entries may be listed within a same bucket. At that point, the <code>HashMap</code> has to resort to the <code>equals()</code> method to find the exact key within a bucket which corresponds to the inputted entry in order to retrieve or replace an element. This brief explanation shows you why it is so crucial to provide a proper definition of the <code>hashCode()</code> and <code>equals()</code> methods, because, as you could see, a <code>HashMap</code> heavily relies on these methods.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html</a></p>\n<p>Here is a proper implementation of your <code>User</code> class where two users are said identical if they have same: <code>uid</code>, <code>name</code>, <code>pversion</code> and <code>upicture</code>. Instead, if two users are identical only by some of the mentioned fields, then you need to updated your <code>equals()</code> and <code>hashCode()</code> methods accordingly (they both must be based on the same fields).</p>\n<pre><code>public class User {\n    public String uid;\n    public String name;\n    public String pversion;\n    public String upicture;\n\n    public User(String uid, String name, String upicture, String pversion) {\n        this.uid = uid;\n        this.name = name;\n        this.upicture = upicture;\n        this.pversion = pversion;\n    }\n\n    public String getUid() {\n        return uid;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getPversion() {\n        return pversion;\n    }\n\n    public String getUpicture() {\n        return upicture;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        User user = (User) o;\n        return Objects.equals(uid, user.uid) &amp;&amp; Objects.equals(name, user.name) &amp;&amp; Objects.equals(pversion, user.pversion) &amp;&amp; Objects.equals(upicture, user.upicture);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(uid, name, pversion, upicture);\n    }\n}\n</code></pre>\n<h4>Test Main</h4>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Set&lt;User&gt; user = new HashSet&lt;&gt;();\n        User user1 = new User(&quot;11&quot;, &quot;Mark&quot;, null, &quot;1&quot;);\n        User user2 = new User(&quot;11&quot;, &quot;Mark&quot;, null, &quot;1&quot;);\n        User user3 = new User(&quot;12&quot;, &quot;Helen&quot;, null, &quot;2&quot;);\n\n        user.add(user1);\n        user.add(user2);\n        System.out.println(&quot;la dimensione è: &quot; + user.size());\n    }\n}\n</code></pre>\n<h4>Output</h4>\n<pre><code>la dimensione è: 1\n</code></pre>\n"}],"owner":{"account_id":22829309,"reputation":339,"user_id":16978074,"display_name":"Elly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1655196323,"accepted_answer_id":72613885,"answer_count":1,"score":2,"last_activity_date":1655196345,"creation_date":1655194171,"question_id":72613528,"body_markdown":"How can I avoid inserting duplicate elements in a Set? If I have:\r\n```\r\n Set&lt;User&gt; user=new HashSet&lt;&gt;();\r\n                            User user1=new User(&quot;11&quot;,&quot;Mark&quot;,null,&quot;1&quot;);\r\n                            User user2=new User(&quot;11&quot;,&quot;Mark&quot;,null,&quot;1&quot;);\r\n                            User user3=new User(&quot;12&quot;,&quot;Helen&quot;,null,&quot;2&quot;);\r\n\r\n                            user.add(user1);\r\n                            user.add(user2);\r\n                            Log.d(&quot;main_activity_user&quot;, &quot;la dimensione &#232;&quot; +String.valueOf(user.size()));\r\n```\r\nAdn User class is:\r\n```\r\npublic class User {\r\n    public String uid;\r\npublic String name;\r\n    public String pversion;\r\npublic String upicture;\r\n    public User(String uid,\r\n            String name,\r\n                String upicture, String pversion ){\r\n        this.uid=uid;\r\n        this.name=name;\r\n        this.upicture=upicture;\r\n        this.pversion=pversion;\r\n    }\r\n    public String get_uid(){\r\n        return uid;\r\n    }\r\n    public String get_name(){\r\n        return name;\r\n    }\r\n    public String get_pversion(){\r\n        return pversion;\r\n    }\r\n    public String get_upicture(){\r\n        return upicture;\r\n    }\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        User newObj = (User)obj;\r\n        if (this.get_uid().equals( newObj.get_uid()))\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n}\r\n```\r\nNow the `Set` also stores duplicates and prints me 3 elements instead of two. Why?\r\n\r\nI have never used the `Set` class before and I don&#39;t understand it. So, every time I use the `Set` class, do I have to Override the Equals method? Why? Doesn&#39;t the class delete duplicates automatically?","title":"remove duplicates in Set","body":"<p>How can I avoid inserting duplicate elements in a Set? If I have:</p>\n<pre><code> Set&lt;User&gt; user=new HashSet&lt;&gt;();\n                            User user1=new User(&quot;11&quot;,&quot;Mark&quot;,null,&quot;1&quot;);\n                            User user2=new User(&quot;11&quot;,&quot;Mark&quot;,null,&quot;1&quot;);\n                            User user3=new User(&quot;12&quot;,&quot;Helen&quot;,null,&quot;2&quot;);\n\n                            user.add(user1);\n                            user.add(user2);\n                            Log.d(&quot;main_activity_user&quot;, &quot;la dimensione è&quot; +String.valueOf(user.size()));\n</code></pre>\n<p>Adn User class is:</p>\n<pre><code>public class User {\n    public String uid;\npublic String name;\n    public String pversion;\npublic String upicture;\n    public User(String uid,\n            String name,\n                String upicture, String pversion ){\n        this.uid=uid;\n        this.name=name;\n        this.upicture=upicture;\n        this.pversion=pversion;\n    }\n    public String get_uid(){\n        return uid;\n    }\n    public String get_name(){\n        return name;\n    }\n    public String get_pversion(){\n        return pversion;\n    }\n    public String get_upicture(){\n        return upicture;\n    }\n    @Override\n    public boolean equals(Object obj) {\n        User newObj = (User)obj;\n        if (this.get_uid().equals( newObj.get_uid()))\n            return true;\n        else\n            return false;\n    }\n}\n</code></pre>\n<p>Now the <code>Set</code> also stores duplicates and prints me 3 elements instead of two. Why?</p>\n<p>I have never used the <code>Set</code> class before and I don't understand it. So, every time I use the <code>Set</code> class, do I have to Override the Equals method? Why? Doesn't the class delete duplicates automatically?</p>\n"},{"tags":["java","sdkman"],"answers":[{"tags":[],"owner":{"account_id":3920118,"reputation":23,"user_id":8283814,"display_name":"Sourcemancer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655196175,"creation_date":1655196175,"answer_id":72613975,"question_id":65805492,"body_markdown":"sdkman doesn&#39;t recognize as candidates every existing version of the jdk.\r\nHowever it allows to add local version as compensation.\r\n\r\nThus you&#39;ll just have to download the specific version you need, store it in any path you want, and then use a command to register the local version as installed in sdkman:\r\n\r\nhttps://sdkman.io/usage#localversion ","title":"Using previous JDK version which is not available via SDKMAN but from adoptopenjdk","body":"<p>sdkman doesn't recognize as candidates every existing version of the jdk.\nHowever it allows to add local version as compensation.</p>\n<p>Thus you'll just have to download the specific version you need, store it in any path you want, and then use a command to register the local version as installed in sdkman:</p>\n<p><a href=\"https://sdkman.io/usage#localversion\" rel=\"nofollow noreferrer\">https://sdkman.io/usage#localversion</a></p>\n"}],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1377,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1655196175,"creation_date":1611130550,"question_id":65805492,"body_markdown":"I have the following situation:\r\n\r\n```\r\n$ sdk java list\r\n AdoptOpenJDK  |     | 15.0.1.j9    | adpt    |            | 15.0.1.j9-adpt      \r\n               |     | 15.0.1.hs    | adpt    | installed  | 15.0.1.hs-adpt      \r\n               |     | 14.0.2.j9    | adpt    |            | 14.0.2.j9-adpt      \r\n               |     | 14.0.2.hs    | adpt    |            | 14.0.2.hs-adpt      \r\n               |     | 13.0.2.j9    | adpt    |            | 13.0.2.j9-adpt      \r\n               |     | 13.0.2.hs    | adpt    |            | 13.0.2.hs-adpt      \r\n               |     | 12.0.2.j9    | adpt    |            | 12.0.2.j9-adpt      \r\n               |     | 12.0.2.hs    | adpt    |            | 12.0.2.hs-adpt      \r\n               |     | 11.0.9.j9    | adpt    |            | 11.0.9.j9-adpt      \r\n               | &gt;&gt;&gt; | 11.0.9.hs    | adpt    | installed  | 11.0.9.hs-adpt    \r\n...\r\n```\r\nBut on adoptopenjdk the following version https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/tag/jdk-11.0.8%2B10 is available and can be downloaded.\r\n\r\nBut when I try to install it via sdkman:\r\n\r\n```\r\n$ sdk java install \r\ntools$ sdk install java 11.0.8.hs-adpt\r\n\r\nStop! java 11.0.8.hs-adpt is not available. Possible causes:\r\n * 11.0.8.hs-adpt is an invalid version\r\n * java binaries are incompatible with Darwin\r\n * java has not been released yet\r\n```\r\n\r\nIs there a way to handle that via sdkman or not?","title":"Using previous JDK version which is not available via SDKMAN but from adoptopenjdk","body":"<p>I have the following situation:</p>\n<pre><code>$ sdk java list\n AdoptOpenJDK  |     | 15.0.1.j9    | adpt    |            | 15.0.1.j9-adpt      \n               |     | 15.0.1.hs    | adpt    | installed  | 15.0.1.hs-adpt      \n               |     | 14.0.2.j9    | adpt    |            | 14.0.2.j9-adpt      \n               |     | 14.0.2.hs    | adpt    |            | 14.0.2.hs-adpt      \n               |     | 13.0.2.j9    | adpt    |            | 13.0.2.j9-adpt      \n               |     | 13.0.2.hs    | adpt    |            | 13.0.2.hs-adpt      \n               |     | 12.0.2.j9    | adpt    |            | 12.0.2.j9-adpt      \n               |     | 12.0.2.hs    | adpt    |            | 12.0.2.hs-adpt      \n               |     | 11.0.9.j9    | adpt    |            | 11.0.9.j9-adpt      \n               | &gt;&gt;&gt; | 11.0.9.hs    | adpt    | installed  | 11.0.9.hs-adpt    \n...\n</code></pre>\n<p>But on adoptopenjdk the following version <a href=\"https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/tag/jdk-11.0.8%2B10\" rel=\"noreferrer\">https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/tag/jdk-11.0.8%2B10</a> is available and can be downloaded.</p>\n<p>But when I try to install it via sdkman:</p>\n<pre><code>$ sdk java install \ntools$ sdk install java 11.0.8.hs-adpt\n\nStop! java 11.0.8.hs-adpt is not available. Possible causes:\n * 11.0.8.hs-adpt is an invalid version\n * java binaries are incompatible with Darwin\n * java has not been released yet\n</code></pre>\n<p>Is there a way to handle that via sdkman or not?</p>\n"},{"tags":["java","android","ironsource"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655194546,"post_id":72613364,"comment_id":128267924,"body_markdown":"The code as shown doesn&#39;t seem to be able to cause a NullPointerException, which suggests that there might be some compile-time or runtime modification of the code.","body":"The code as shown doesn&#39;t seem to be able to cause a NullPointerException, which suggests that there might be some compile-time or runtime modification of the code."}],"answers":[{"tags":[],"owner":{"account_id":22215225,"reputation":1,"user_id":16453779,"display_name":"esgungor"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1655194301,"creation_date":1655194301,"answer_id":72613563,"question_id":72613364,"body_markdown":"You **cannot instantiate** abstract class directly, probably for this reason you&#39;re getting NullPointerException.","title":"NullPointerException on primitive boolean property","body":"<p>You <strong>cannot instantiate</strong> abstract class directly, probably for this reason you're getting NullPointerException.</p>\n"},{"tags":[],"owner":{"account_id":24550962,"reputation":625,"user_id":18460115,"display_name":"Aiman Alyosofi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655195793,"creation_date":1655195793,"answer_id":72613869,"question_id":72613364,"body_markdown":"I think you cann&#39;t use the function `setViewed()` becouse `adRunnable` object is null not becouse the primitive boolean property ...\r\n\r\n```\r\n java.lang.NullPointerException: \r\n  at com.myApp.Advertising.InterstitialAdsRunCallback.setViewed \r\n```\r\n\r\nCheck what the return of the function `showInterstitialAdRunnable.getAdRunnable();` is it null or not?","title":"NullPointerException on primitive boolean property","body":"<p>I think you cann't use the function <code>setViewed()</code> becouse <code>adRunnable</code> object is null not becouse the primitive boolean property ...</p>\n<pre><code> java.lang.NullPointerException: \n  at com.myApp.Advertising.InterstitialAdsRunCallback.setViewed \n</code></pre>\n<p>Check what the return of the function <code>showInterstitialAdRunnable.getAdRunnable();</code> is it null or not?</p>\n"},{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655195849,"creation_date":1655195849,"answer_id":72613884,"question_id":72613364,"body_markdown":"R8, ProGuard and other similar optimization tools usually inline accessor methods but the line number information still points to the original source.\r\n\r\nIf `adRunnable` is null and the `setViewed()` accessor is inlined, you&#39;ll get an NPE like this.","title":"NullPointerException on primitive boolean property","body":"<p>R8, ProGuard and other similar optimization tools usually inline accessor methods but the line number information still points to the original source.</p>\n<p>If <code>adRunnable</code> is null and the <code>setViewed()</code> accessor is inlined, you'll get an NPE like this.</p>\n"}],"owner":{"account_id":12250689,"reputation":3,"user_id":13325775,"display_name":"edunanami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72613884,"answer_count":3,"score":0,"last_activity_date":1655195849,"creation_date":1655193396,"question_id":72613364,"body_markdown":"I am trying to fix a bug that crash an app that I published to the Google Play store.\r\n\r\nThe crash stack trace from the Google Play console:\r\n\r\n    java.lang.NullPointerException: \r\n      at com.myApp.Advertising.InterstitialAdsRunCallback.setViewed (InterstitialAdsRunCallback.java:11)\r\n      at com.myApp.AndroidLauncher$2.onInterstitialAdClosed (AndroidLauncher.java:65)\r\n      at com.ironsource.mediationsdk.A$4.run (A.java:7)\r\n      at android.os.Handler.handleCallback (Handler.java:938)\r\n      at android.os.Handler.dispatchMessage (Handler.java:99)\r\n      at android.os.Looper.loop (Looper.java:223)\r\n      at android.app.ActivityThread.main (ActivityThread.java:7888)\r\n      at java.lang.reflect.Method.invoke (Native Method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:592)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:981)\r\n\r\nThe code for the setViewed function is:\r\n\r\n    package com.myApp.Advertising;\r\n    \r\n    public abstract class InterstitialAdsRunCallback implements Runnable {\r\n        boolean viewed;\r\n    \r\n        public boolean viewedAd() {\r\n            return viewed;\r\n        }\r\n    \r\n        public void setViewed(boolean viewed) {\r\n            this.viewed = viewed; // line 11\r\n        }\r\n    }\r\n\r\nAnd the code that is calling setViewed:\r\n\r\n    public void onInterstitialAdClosed() {\r\n        InterstitialAdsRunCallback adRunnable = showInterstitialAdRunnable.getAdRunnable();\r\n        adRunnable.setViewed(true); // line 65\r\n        adRunnable.run();\r\n        IronSource.loadInterstitial();\r\n    }\r\n\r\nDecompiled InterstitialAdsRunCallback class from the .aab:\r\n\r\n    .class public abstract Lcom/myApp/Advertising/InterstitialAdsRunCallback;\r\n    .super Ljava/lang/Object;\r\n    .source &quot;InterstitialAdsRunCallback.java&quot;\r\n    \r\n    # interfaces\r\n    .implements Ljava/lang/Runnable;\r\n    \r\n    \r\n    # instance fields\r\n    .field public viewed:Z\r\n    \r\n    \r\n    # direct methods\r\n    .method public constructor &lt;init&gt;()V\r\n        .registers 1\r\n    \r\n        .line 3\r\n        invoke-direct {p0}, Ljava/lang/Object;-&gt;&lt;init&gt;()V\r\n    \r\n        return-void\r\n    .end method\r\n\r\nSo, how is a primitive boolean property causing a NullPointerException? I&#39;m probably missing something else.","title":"NullPointerException on primitive boolean property","body":"<p>I am trying to fix a bug that crash an app that I published to the Google Play store.</p>\n<p>The crash stack trace from the Google Play console:</p>\n<pre><code>java.lang.NullPointerException: \n  at com.myApp.Advertising.InterstitialAdsRunCallback.setViewed (InterstitialAdsRunCallback.java:11)\n  at com.myApp.AndroidLauncher$2.onInterstitialAdClosed (AndroidLauncher.java:65)\n  at com.ironsource.mediationsdk.A$4.run (A.java:7)\n  at android.os.Handler.handleCallback (Handler.java:938)\n  at android.os.Handler.dispatchMessage (Handler.java:99)\n  at android.os.Looper.loop (Looper.java:223)\n  at android.app.ActivityThread.main (ActivityThread.java:7888)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:592)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:981)\n</code></pre>\n<p>The code for the setViewed function is:</p>\n<pre><code>package com.myApp.Advertising;\n\npublic abstract class InterstitialAdsRunCallback implements Runnable {\n    boolean viewed;\n\n    public boolean viewedAd() {\n        return viewed;\n    }\n\n    public void setViewed(boolean viewed) {\n        this.viewed = viewed; // line 11\n    }\n}\n</code></pre>\n<p>And the code that is calling setViewed:</p>\n<pre><code>public void onInterstitialAdClosed() {\n    InterstitialAdsRunCallback adRunnable = showInterstitialAdRunnable.getAdRunnable();\n    adRunnable.setViewed(true); // line 65\n    adRunnable.run();\n    IronSource.loadInterstitial();\n}\n</code></pre>\n<p>Decompiled InterstitialAdsRunCallback class from the .aab:</p>\n<pre><code>.class public abstract Lcom/myApp/Advertising/InterstitialAdsRunCallback;\n.super Ljava/lang/Object;\n.source &quot;InterstitialAdsRunCallback.java&quot;\n\n# interfaces\n.implements Ljava/lang/Runnable;\n\n\n# instance fields\n.field public viewed:Z\n\n\n# direct methods\n.method public constructor &lt;init&gt;()V\n    .registers 1\n\n    .line 3\n    invoke-direct {p0}, Ljava/lang/Object;-&gt;&lt;init&gt;()V\n\n    return-void\n.end method\n</code></pre>\n<p>So, how is a primitive boolean property causing a NullPointerException? I'm probably missing something else.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8232961,"reputation":1576,"user_id":8990644,"display_name":"bui"},"score":2,"creation_date":1655176972,"post_id":72610968,"comment_id":128263814,"body_markdown":"`getPigCount()` is not `static`, which means it is an *instance method* rather than a class method. Calling `getPigCount()` then requires an instance of `Pig`, which does not make sense anyway: why would you want to call `getPigCount()` on a particular pig?","body":"<code>getPigCount()</code> is not <code>static</code>, which means it is an <i>instance method</i> rather than a class method. Calling <code>getPigCount()</code> then requires an instance of <code>Pig</code>, which does not make sense anyway: why would you want to call <code>getPigCount()</code> on a particular pig?"},{"owner":{"account_id":18608321,"reputation":2964,"user_id":13561410,"display_name":"Oskar Grosser"},"score":0,"creation_date":1655183815,"post_id":72610968,"comment_id":128264866,"body_markdown":"You can remove `extends java.lang.Object` because [&quot;every class has `Object` as a superclass.&quot;](https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html) Every class with no explicit superclass implicitly extend `java.lang.Object`.","body":"You can remove <code>extends java.lang.Object</code> because <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html\" rel=\"nofollow noreferrer\">&quot;every class has <code>Object</code> as a superclass.&quot;</a> Every class with no explicit superclass implicitly extend <code>java.lang.Object</code>."},{"owner":{"account_id":18608321,"reputation":2964,"user_id":13561410,"display_name":"Oskar Grosser"},"score":0,"creation_date":1655187017,"post_id":72610968,"comment_id":128265615,"body_markdown":"&quot;There are ... on the farm.&quot; Are you trying to count how many of a type have been instantiated, or how many have been added to the farm?","body":"&quot;There are ... on the farm.&quot; Are you trying to count how many of a type have been instantiated, or how many have been added to the farm?"}],"answers":[{"tags":[],"owner":{"account_id":25112780,"reputation":81,"user_id":18962213,"display_name":"Roon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655174908,"creation_date":1655174908,"answer_id":72610999,"question_id":72610968,"body_markdown":"declare Pig, Cow member variable in Farm class.\r\nAnd All class extends java.lang.Object. \r\nSo you don&#39;t need to extends Object.","title":"Accessing a child method from the main method","body":"<p>declare Pig, Cow member variable in Farm class.\nAnd All class extends java.lang.Object.\nSo you don't need to extends Object.</p>\n"},{"tags":[],"owner":{"account_id":24590228,"reputation":184,"user_id":18494246,"display_name":"Isaac Dzikum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655177533,"creation_date":1655177533,"answer_id":72611226,"question_id":72610968,"body_markdown":"You can create a static map in Animal class which stores the type of animal as key and the number of the animals created as values.\r\n\r\nWhenever you create an instance of any animal, you increment its count in map from the constructor of each animal.\r\n\r\n```\r\npublic abstract class Animal {\r\n\r\nstatic HashMap&lt;String, Integer&gt; babies = new HashMap&lt;&gt;();\r\n\r\npublic static String howMany() {\r\n\t\tStringBuilder sb = new StringBuilder(&quot;&quot;);\r\n\r\n\t\tfor (Entry&lt;String, Integer&gt; e : babies.entrySet()) {\r\n\t\t\tsb.append(&quot;There are &quot; + e.getValue() + &quot; &quot; + e.getKey() + &quot; on the farm.\\n&quot;);\r\n\t\t}\r\n\r\n\t\treturn sb.toString();\r\n\t}\r\n}\r\n```\r\n\r\nBelow are classes of three species of animals with their constructors incrementing their count in `babies`\r\n\r\n```\r\nclass Pig extends Animal {\r\n\r\n\tpublic static final String ID = &quot;Pigs&quot;;\r\n\r\n\tpublic Pig() {\r\n\t\tAnimal.babies.put(ID, babies.containsKey(ID) ? babies.get(ID) + 1 : 1);\r\n\t}\r\n\r\n}\r\n\r\nclass Dog extends Animal {\r\n\tpublic static final String ID = &quot;Dogs&quot;;\r\n\r\n\tpublic Dog() {\r\n\t\tAnimal.babies.put(ID, babies.containsKey(ID) ? babies.get(ID) + 1 : 1);\r\n\t}\r\n}\r\n\r\nclass Cow extends Animal {\r\n\tpublic static final String ID = &quot;Cows&quot;;\r\n\r\n\tpublic Cow() {\r\n\t\tAnimal.babies.put(ID, babies.containsKey(ID) ? babies.get(ID) + 1 : 1);\r\n\t}\r\n}\r\n```\r\n\r\nFinally I test the code with some numbers\r\n```\r\npublic static void main(String[] args) {\r\n\t\t// Going to create 3 dogs, 4 pigs, and 5 cows\r\n\t\tint d = 3, p = 4, c = 5;\r\n\t\twhile (d-- &gt; 0) {\r\n\t\t\tDog tempD = new Dog();\r\n\t\t}\r\n\t\twhile (p-- &gt; 0) {\r\n\t\t\tPig tempP = new Pig();\r\n\t\t}\r\n\r\n\t\twhile (c-- &gt; 0) {\r\n\t\t\tCow tempC = new Cow();\r\n\t\t}\r\n\r\n\t\tSystem.out.println(Animal.howMany());\r\n\t}\r\n```\r\nHere is my result :\r\n```\r\nThere are 4 Pigs on the farm.\r\nThere are 3 Dogs on the farm.\r\nThere are 5 Cows on the farm.\r\n```\r\n","title":"Accessing a child method from the main method","body":"<p>You can create a static map in Animal class which stores the type of animal as key and the number of the animals created as values.</p>\n<p>Whenever you create an instance of any animal, you increment its count in map from the constructor of each animal.</p>\n<pre><code>public abstract class Animal {\n\nstatic HashMap&lt;String, Integer&gt; babies = new HashMap&lt;&gt;();\n\npublic static String howMany() {\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\n\n        for (Entry&lt;String, Integer&gt; e : babies.entrySet()) {\n            sb.append(&quot;There are &quot; + e.getValue() + &quot; &quot; + e.getKey() + &quot; on the farm.\\n&quot;);\n        }\n\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>Below are classes of three species of animals with their constructors incrementing their count in <code>babies</code></p>\n<pre><code>class Pig extends Animal {\n\n    public static final String ID = &quot;Pigs&quot;;\n\n    public Pig() {\n        Animal.babies.put(ID, babies.containsKey(ID) ? babies.get(ID) + 1 : 1);\n    }\n\n}\n\nclass Dog extends Animal {\n    public static final String ID = &quot;Dogs&quot;;\n\n    public Dog() {\n        Animal.babies.put(ID, babies.containsKey(ID) ? babies.get(ID) + 1 : 1);\n    }\n}\n\nclass Cow extends Animal {\n    public static final String ID = &quot;Cows&quot;;\n\n    public Cow() {\n        Animal.babies.put(ID, babies.containsKey(ID) ? babies.get(ID) + 1 : 1);\n    }\n}\n</code></pre>\n<p>Finally I test the code with some numbers</p>\n<pre><code>public static void main(String[] args) {\n        // Going to create 3 dogs, 4 pigs, and 5 cows\n        int d = 3, p = 4, c = 5;\n        while (d-- &gt; 0) {\n            Dog tempD = new Dog();\n        }\n        while (p-- &gt; 0) {\n            Pig tempP = new Pig();\n        }\n\n        while (c-- &gt; 0) {\n            Cow tempC = new Cow();\n        }\n\n        System.out.println(Animal.howMany());\n    }\n</code></pre>\n<p>Here is my result :</p>\n<pre><code>There are 4 Pigs on the farm.\nThere are 3 Dogs on the farm.\nThere are 5 Cows on the farm.\n</code></pre>\n"}],"owner":{"account_id":25549479,"reputation":1,"user_id":19334122,"display_name":"I Love Mangoes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1655195725,"creation_date":1655174545,"question_id":72610968,"body_markdown":"Say I have a class called Farm\r\n```java\r\npublic class Farm extends java.lang.Object implements java.lang.Comparable&lt;Farm&gt;{\r\n```\r\nFarm consists of an array of animals on the farm. I want to see how many pigs are on the farm.\r\n\r\nSo, we have\r\n```java\r\npublic class Pig extends Animal{\r\n    public double getPigCount(){\r\n       return pigCount;\r\n    }\r\n```\r\nHow exactly would I be able to get my pig count within my Farm class? \r\n\r\n```java\r\npublic class Farm extends java.lang.Object implements java.lang.Comparable&lt;Farm&gt;{\r\n\r\n    public String HowMany(){\r\n        String newString += &quot;There are &quot; _____ + &quot; pigs on the farm&quot; + &quot;\\n&quot;; \r\n        String newString +=&quot; There are &quot;____ + &quot; cows on the farm&quot;......etc\r\n        return newString;\r\n    }\r\n```\r\n\r\nI want to access the child method inside the main method, but I&#39;m not sure how to exactly do this.\r\n","title":"Accessing a child method from the main method","body":"<p>Say I have a class called Farm</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Farm extends java.lang.Object implements java.lang.Comparable&lt;Farm&gt;{\n</code></pre>\n<p>Farm consists of an array of animals on the farm. I want to see how many pigs are on the farm.</p>\n<p>So, we have</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Pig extends Animal{\n    public double getPigCount(){\n       return pigCount;\n    }\n</code></pre>\n<p>How exactly would I be able to get my pig count within my Farm class?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Farm extends java.lang.Object implements java.lang.Comparable&lt;Farm&gt;{\n\n    public String HowMany(){\n        String newString += &quot;There are &quot; _____ + &quot; pigs on the farm&quot; + &quot;\\n&quot;; \n        String newString +=&quot; There are &quot;____ + &quot; cows on the farm&quot;......etc\n        return newString;\n    }\n</code></pre>\n<p>I want to access the child method inside the main method, but I'm not sure how to exactly do this.</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":10226029,"reputation":351,"user_id":7548600,"display_name":"HanByul Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522421999,"creation_date":1522421999,"answer_id":49576700,"question_id":49574086,"body_markdown":"You can use @RequestBody Map&lt;String, Object&gt; as a parameter for @PostMapping, @PutMapping and @PatchMapping. For @GetMapping and @DeleteMapping, you can write a class which implements Converter to convert from json-formed request parameters to Map. And you would register that class as a bean with @Component annotation. Then you can bind your parameters to @RequestParameter Map&lt;String, Object&gt;.\r\n\r\nHere is an example of Converter below.\r\n\r\n    @Component\r\n    public class StringToMapConverter implements Converter&lt;String, Map&lt;String, Object&gt;&gt; {\r\n\r\n        private final ObjectMapper objectMapper;\r\n\r\n        @Autowired\r\n        public StringToMapConverter(ObjectMapper objectMapper) {\r\n            this.objectMapper = objectMapper;\r\n        }\r\n\r\n        @Override\r\n        public Map&lt;String, Object&gt; convert(String source) {\r\n            try {\r\n                return objectMapper.readValue(source, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){});\r\n            } catch (IOException e) {\r\n                return new HashMap&lt;&gt;();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nIf you want to exclude specific field of your MyModel1 class, use @JsonIgnore annotation onto the field like below.\r\n\r\n    class MyModel1 {\r\n         private field1;\r\n         @JsonIgnore field2;\r\n    }\r\nThen, I guess you can just use what you have done.(I&#39;m not sure.)\r\n\r\n    public Object (@RequestBody MyModel1 model1) {}","title":"Spring Boot using Json as request parameters instead of an entity/model","body":"<p>You can use @RequestBody Map as a parameter for @PostMapping, @PutMapping and @PatchMapping. For @GetMapping and @DeleteMapping, you can write a class which implements Converter to convert from json-formed request parameters to Map. And you would register that class as a bean with @Component annotation. Then you can bind your parameters to @RequestParameter Map.</p>\n\n<p>Here is an example of Converter below.</p>\n\n<pre><code>@Component\npublic class StringToMapConverter implements Converter&lt;String, Map&lt;String, Object&gt;&gt; {\n\n    private final ObjectMapper objectMapper;\n\n    @Autowired\n    public StringToMapConverter(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; convert(String source) {\n        try {\n            return objectMapper.readValue(source, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){});\n        } catch (IOException e) {\n            return new HashMap&lt;&gt;();\n        }\n    }\n\n}\n</code></pre>\n\n<p>If you want to exclude specific field of your MyModel1 class, use @JsonIgnore annotation onto the field like below.</p>\n\n<pre><code>class MyModel1 {\n     private field1;\n     @JsonIgnore field2;\n}\n</code></pre>\n\n<p>Then, I guess you can just use what you have done.(I'm not sure.)</p>\n\n<pre><code>public Object (@RequestBody MyModel1 model1) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289696,"reputation":1172,"user_id":4222629,"display_name":"sagarr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1522424550,"creation_date":1522424550,"answer_id":49577289,"question_id":49574086,"body_markdown":"In that case you can use `Map` class to read input json, like\r\n\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    public Object create(@RequestBody Map&lt;String, ?&gt; input) {\r\n         sout(input.get(&quot;param1&quot;)) // cast to String, int, ..\r\n    }\r\n\r\n\r\n","title":"Spring Boot using Json as request parameters instead of an entity/model","body":"<p>In that case you can use <code>Map</code> class to read input json, like</p>\n\n<pre><code>@PostMapping(\"/create\")\npublic Object create(@RequestBody Map&lt;String, ?&gt; input) {\n     sout(input.get(\"param1\")) // cast to String, int, ..\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12403291,"reputation":21,"user_id":9039474,"display_name":"t3mplar83"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522425922,"creation_date":1522425922,"answer_id":49577573,"question_id":49574086,"body_markdown":"i think that you can use a strategy that involve dto\r\nhttps://auth0.com/blog/automatically-mapping-dto-to-entity-on-spring-boot-apis/\r\n\r\nyou send a json to your rest api that is map like a dto object, after you can map like an entity or use it for your needs","title":"Spring Boot using Json as request parameters instead of an entity/model","body":"<p>i think that you can use a strategy that involve dto\n<a href=\"https://auth0.com/blog/automatically-mapping-dto-to-entity-on-spring-boot-apis/\" rel=\"nofollow noreferrer\">https://auth0.com/blog/automatically-mapping-dto-to-entity-on-spring-boot-apis/</a></p>\n\n<p>you send a json to your rest api that is map like a dto object, after you can map like an entity or use it for your needs</p>\n"},{"tags":[],"owner":{"account_id":989887,"reputation":738,"user_id":1007494,"accept_rate":100,"display_name":"Chad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525947686,"creation_date":1525934579,"answer_id":50267062,"question_id":49574086,"body_markdown":"I actually figured out a more straightforward solution.\r\n\r\nApparently this works:\r\n\r\n    @PostMapping(&quot;/endpoint&quot;)\r\n    public Object endpoint(@RequestBody MyWebRequestObject request) {\r\n    \tString value1 = request.getValue_1();\r\n        String value2 = request.getValue_2();\r\n    }\r\n\r\nThe json payload is this:\r\n\r\n    {\r\n       &quot;value_1&quot; : &quot;hello&quot;,\r\n       &quot;value_2&quot; : &quot;world&quot;\r\n    }\r\n\r\nThis works if MyRequestObject is mapped like the json request object like so. Example:\r\n\r\n    public class MyWebRequestObject {\r\n       String value_1;\r\n       String value_2\r\n    }\r\n\r\nUnmapped values are ignored. Spring is smart like that. \r\n\r\nI know this is right back where I started but since we introduced a service layer for the rest control to interact with, it made sense to create our own request model object (DTOs) that is separate from the persistence model.","title":"Spring Boot using Json as request parameters instead of an entity/model","body":"<p>I actually figured out a more straightforward solution.</p>\n\n<p>Apparently this works:</p>\n\n<pre><code>@PostMapping(\"/endpoint\")\npublic Object endpoint(@RequestBody MyWebRequestObject request) {\n    String value1 = request.getValue_1();\n    String value2 = request.getValue_2();\n}\n</code></pre>\n\n<p>The json payload is this:</p>\n\n<pre><code>{\n   \"value_1\" : \"hello\",\n   \"value_2\" : \"world\"\n}\n</code></pre>\n\n<p>This works if MyRequestObject is mapped like the json request object like so. Example:</p>\n\n<pre><code>public class MyWebRequestObject {\n   String value_1;\n   String value_2\n}\n</code></pre>\n\n<p>Unmapped values are ignored. Spring is smart like that. </p>\n\n<p>I know this is right back where I started but since we introduced a service layer for the rest control to interact with, it made sense to create our own request model object (DTOs) that is separate from the persistence model.</p>\n"},{"tags":[],"owner":{"account_id":4060743,"reputation":51,"user_id":3337364,"display_name":"dannyZhou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655195716,"creation_date":1655195716,"answer_id":72613851,"question_id":49574086,"body_markdown":"try this: \r\n\r\nAdd new annotation `JsonParam` and implement `HandlerMethodArgumentResolver` of this,  Parse json to map and get data in `HandlerMethodArgumentResolver`\r\n\r\n```json\r\n{\r\n &quot;aaabbcc&quot;: &quot;aaa&quot;\r\n}\r\n```\r\n\r\n```java\r\n@Target(ElementType.PARAMETER)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface JsonParam {\r\n    String value();\r\n}\r\n```\r\n\r\n```java\r\n\r\n@Component\r\npublic class JsonParamMethodResolver implements HandlerMethodArgumentResolver {\r\n\r\n    @Override\r\n    public boolean supportsParameter(MethodParameter parameter) {\r\n        return parameter.hasParameterAnnotation(JsonParam.class);\r\n    }\r\n\r\n    @Override\r\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\r\n        RepeatedlyRequestWrapper nativeRequest = webRequest.getNativeRequest(RepeatedlyRequestWrapper.class);\r\n        if (nativeRequest == null) {\r\n            return null;\r\n        }\r\n\r\n        Gson gson = new Gson();\r\n        Map&lt;String, Object&gt; response = gson.fromJson(nativeRequest.getReader(), new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {\r\n        }.getType());\r\n\r\n        if (response == null) {\r\n            return null;\r\n        }\r\n\r\n        JsonParam parameterAnnotation = parameter.getParameterAnnotation(JsonParam.class);\r\n        String value = parameterAnnotation.value();\r\n        Class&lt;?&gt; parameterType = parameter.getParameterType();\r\n        return response.get(value);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Configuration\r\npublic class JsonParamConfig extends WebMvcConfigurerAdapter {\r\n    @Autowired\r\n    JsonParamMethodResolver jsonParamMethodResolver;\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n        argumentResolvers.add(jsonParamMethodResolver);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@PostMapping(&quot;/methodName&quot;)\r\npublic void methodName(@JsonParam(&quot;aaabbcc&quot;) String ddeeff) {\r\n    System.out.println(username);\r\n}\r\n```","title":"Spring Boot using Json as request parameters instead of an entity/model","body":"<p>try this:</p>\n<p>Add new annotation <code>JsonParam</code> and implement <code>HandlerMethodArgumentResolver</code> of this,  Parse json to map and get data in <code>HandlerMethodArgumentResolver</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n &quot;aaabbcc&quot;: &quot;aaa&quot;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.PARAMETER)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface JsonParam {\n    String value();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\npublic class JsonParamMethodResolver implements HandlerMethodArgumentResolver {\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.hasParameterAnnotation(JsonParam.class);\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\n        RepeatedlyRequestWrapper nativeRequest = webRequest.getNativeRequest(RepeatedlyRequestWrapper.class);\n        if (nativeRequest == null) {\n            return null;\n        }\n\n        Gson gson = new Gson();\n        Map&lt;String, Object&gt; response = gson.fromJson(nativeRequest.getReader(), new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {\n        }.getType());\n\n        if (response == null) {\n            return null;\n        }\n\n        JsonParam parameterAnnotation = parameter.getParameterAnnotation(JsonParam.class);\n        String value = parameterAnnotation.value();\n        Class&lt;?&gt; parameterType = parameter.getParameterType();\n        return response.get(value);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JsonParamConfig extends WebMvcConfigurerAdapter {\n    @Autowired\n    JsonParamMethodResolver jsonParamMethodResolver;\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(jsonParamMethodResolver);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/methodName&quot;)\npublic void methodName(@JsonParam(&quot;aaabbcc&quot;) String ddeeff) {\n    System.out.println(username);\n}\n</code></pre>\n"}],"owner":{"account_id":989887,"reputation":738,"user_id":1007494,"accept_rate":100,"display_name":"Chad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13325,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":49577289,"answer_count":5,"score":2,"last_activity_date":1655195716,"creation_date":1522411378,"question_id":49574086,"body_markdown":"Our company is planning to switch our microservice technology to Spring Boot. As an initiative I did some advanced reading and noting down its potential impact and syntax equivalents. I also started porting the smallest service we had as a side project.\r\n\r\nOne issue that blocked my progress was trying to convert our Json request/response exchange to Spring Boot.\r\n\r\nHere&#39;s an example of the code: (This is Nutz framework for those who don&#39;t recognize this)\r\n\r\n    @POST\r\n    @At // These two lines are equivalent to @PostMapping(&quot;/create&quot;)\r\n    @AdaptBy(type=JsonAdapter.class)\r\n    public Object create(@Param(&quot;param_1&quot;) String param1, @Param(&quot;param_2) int param2) {\r\n        MyModel1 myModel1 = new MyModel1(param1);\r\n        MyModel2 myModel2 = new MyModel2(param2);\r\n        myRepository1.create(myMode12);\r\n        myRepository2.create(myModel2);\r\n        return new MyJsonResponse();\r\n    }\r\n\r\nOn PostMan or any other REST client I simply pass POST:\r\n    \r\n    {\r\n        &quot;param_1&quot; : &quot;test&quot;,\r\n        &quot;param_2&quot; : 1\r\n    }\r\n\r\n\r\nI got as far as doing this in Spring Boot:\r\n    \r\n    @PostMapping(&quot;/create&quot;)\r\n    public Object create(@RequestParam(&quot;param_1&quot;) String param1, @RequestParam(&quot;param_2) int param2) {\r\n        MyModel1 myModel1 = new MyModel1(param1);\r\n        MyModel2 myModel2 = new MyModel2(param2);\r\n        myRepository1.create(myMode12);\r\n        myRepository2.create(myModel2);\r\n        return new MyJsonResponse();\r\n    } \r\n\r\nI am not sure how to do something similar as JsonAdapter here. Spring doesn&#39;t recognize the data I passed.\r\n\r\nI tried this but based on the examples it expects the Json paramters to be of an Entity&#39;s form.\r\n\r\n    @RequestMapping(path=&quot;/wallet&quot;, consumes=&quot;application/json&quot;, produces=&quot;application/json&quot;)\r\n\r\nBut I only got it to work if I do something like this:\r\n\r\n    public Object (@RequestBody MyModel1 model1) {}\r\n\r\nMy issue with this is that MyModel1 may not necessarily contain the fields/parameters that my json data has.\r\n\r\nThe very useful thing about Nutz is that if I removed JsonAdapter it behaves like a regular form request endpoint in spring. \r\n\r\nI couldn&#39;t find an answer here in Stack or if possible I&#39;m calling it differently than what existing spring devs call it.\r\n\r\nOur bosses expect us (unrealistically) to implement these changes without forcing front-end developers to adjust to these changes. (Autonomy and all that jazz). If this is unavoidable what would be the sensible explanation for this?","title":"Spring Boot using Json as request parameters instead of an entity/model","body":"<p>Our company is planning to switch our microservice technology to Spring Boot. As an initiative I did some advanced reading and noting down its potential impact and syntax equivalents. I also started porting the smallest service we had as a side project.</p>\n\n<p>One issue that blocked my progress was trying to convert our Json request/response exchange to Spring Boot.</p>\n\n<p>Here's an example of the code: (This is Nutz framework for those who don't recognize this)</p>\n\n<pre><code>@POST\n@At // These two lines are equivalent to @PostMapping(\"/create\")\n@AdaptBy(type=JsonAdapter.class)\npublic Object create(@Param(\"param_1\") String param1, @Param(\"param_2) int param2) {\n    MyModel1 myModel1 = new MyModel1(param1);\n    MyModel2 myModel2 = new MyModel2(param2);\n    myRepository1.create(myMode12);\n    myRepository2.create(myModel2);\n    return new MyJsonResponse();\n}\n</code></pre>\n\n<p>On PostMan or any other REST client I simply pass POST:</p>\n\n<pre><code>{\n    \"param_1\" : \"test\",\n    \"param_2\" : 1\n}\n</code></pre>\n\n<p>I got as far as doing this in Spring Boot:</p>\n\n<pre><code>@PostMapping(\"/create\")\npublic Object create(@RequestParam(\"param_1\") String param1, @RequestParam(\"param_2) int param2) {\n    MyModel1 myModel1 = new MyModel1(param1);\n    MyModel2 myModel2 = new MyModel2(param2);\n    myRepository1.create(myMode12);\n    myRepository2.create(myModel2);\n    return new MyJsonResponse();\n} \n</code></pre>\n\n<p>I am not sure how to do something similar as JsonAdapter here. Spring doesn't recognize the data I passed.</p>\n\n<p>I tried this but based on the examples it expects the Json paramters to be of an Entity's form.</p>\n\n<pre><code>@RequestMapping(path=\"/wallet\", consumes=\"application/json\", produces=\"application/json\")\n</code></pre>\n\n<p>But I only got it to work if I do something like this:</p>\n\n<pre><code>public Object (@RequestBody MyModel1 model1) {}\n</code></pre>\n\n<p>My issue with this is that MyModel1 may not necessarily contain the fields/parameters that my json data has.</p>\n\n<p>The very useful thing about Nutz is that if I removed JsonAdapter it behaves like a regular form request endpoint in spring. </p>\n\n<p>I couldn't find an answer here in Stack or if possible I'm calling it differently than what existing spring devs call it.</p>\n\n<p>Our bosses expect us (unrealistically) to implement these changes without forcing front-end developers to adjust to these changes. (Autonomy and all that jazz). If this is unavoidable what would be the sensible explanation for this?</p>\n"},{"tags":["java","spring","junit","transactions","mariadb"],"comments":[{"owner":{"account_id":22140903,"reputation":105,"user_id":16390946,"display_name":"Ion Ionets"},"score":0,"creation_date":1654662638,"post_id":72534889,"comment_id":128141410,"body_markdown":"if you use TestContainers, why would you want to rollback the data?","body":"if you use TestContainers, why would you want to rollback the data?"},{"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"score":0,"creation_date":1654668003,"post_id":72534889,"comment_id":128142434,"body_markdown":"With TestContainers the db is empty for the complete suite of tests at the start only, but each test will pollute the db with its own data, potentially affecting other tests. I could use @DirtiesContext to have a new instance of mariadb for each test but that is even slower (a new spring context is expensive to create compared to truncating tables)","body":"With TestContainers the db is empty for the complete suite of tests at the start only, but each test will pollute the db with its own data, potentially affecting other tests. I could use @DirtiesContext to have a new instance of mariadb for each test but that is even slower (a new spring context is expensive to create compared to truncating tables)"},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1655339792,"post_id":72534889,"comment_id":128311929,"body_markdown":"Service method `doStuff` does not rollback because this is your desired behavior, so you should not test any other behavior than that.","body":"Service method <code>doStuff</code> does not rollback because this is your desired behavior, so you should not test any other behavior than that."}],"answers":[{"tags":[],"owner":{"account_id":4447573,"reputation":2187,"user_id":3620458,"accept_rate":90,"display_name":"Bragolgirith"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654891418,"creation_date":1654890917,"answer_id":72579285,"question_id":72534889,"body_markdown":"Personal opinion: `@Transactional` + `@SpringBootTest` is (in a way) the same anti-pattern as `spring.jpa.open-in-view`. Yes, it&#39;s easy to get things working at first and having the automatic rollback is nice, but it loses you a lot of flexibility and control over your transactions. Anything that requires manual transaction management becomes very hard to test that way. \r\n\r\nWe recently had a very similar case and in the end we decided to bite the bullet and use `@DirtiesContext` instead. Yeah, tests take 30 more minutes to run, but as an added benefit the tested services behave the exact same way as in production and the tests are more likely to catch any transaction issues. \r\n\r\nBut before we did the switch, we considered using the following workaround:\r\n\r\n1. Create an interface and a service similar to the following:\r\n\r\n```java\r\ninterface TransactionService\r\n{\r\n\r\n\tvoid runWithoutTransaction(Runnable runnable);\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\npublic class RealTransactionService implements TransactionService\r\n{\r\n\r\n    @Transactional(propagation = Propagation.NEVER)\r\n    public void runWithoutTransaction(Runnable runnable)\r\n    {\r\n        runnable.run();\r\n    }\r\n\r\n}\r\n```\r\n\r\n2. In your other service wrap the external http calls with the `#runWithoutTransaction`-Method, e.g.:\r\n\r\n```java\r\n@Service\r\npublic class MyService\r\n{\r\n    @Autowired\r\n    private TransactionService transactionService;\r\n\r\n    public void doStuff(UUID id)\r\n    {\r\n        transactionService.runWithoutTransaction(() -&gt; {\r\n\t\t    // call an external service\r\n\t\t})\r\n    }\r\n}\r\n```\r\n\r\nThat way your production code will peform the `Propagation.NEVER` check, and for the tests you can replace the `TransactionService` with a different implemention that doesn&#39;t have the `@Transactional` annotations, e.g.:\r\n\r\n```java\r\n@Service\r\n@Primary\r\npublic class FakeTransactionService implements TransactionService\r\n{\r\n\r\n    // No annotation here\r\n    public void runWithoutTransaction(Runnable runnable)\r\n    {\r\n        runnable.run();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is not limited to `Propagation.NEVER`. Other propagation types can be implemented in the same way:\r\n\r\n```java\r\n@Transactional(propagation = Propagation.REQUIRES_NEW)\r\npublic void runWithNewTransaction(Runnable runnable)\r\n{\r\n\trunnable.run();\r\n}\r\n```\r\n\r\nAnd finally - the `Runnable` parameter can be replaced with a `Function`/`Consumer`/`Supplier` if the method needs to return and/or accept a value. ","title":"Rollback changes done to a MariaDB database by a spring test without @Transactional","body":"<p>Personal opinion: <code>@Transactional</code> + <code>@SpringBootTest</code> is (in a way) the same anti-pattern as <code>spring.jpa.open-in-view</code>. Yes, it's easy to get things working at first and having the automatic rollback is nice, but it loses you a lot of flexibility and control over your transactions. Anything that requires manual transaction management becomes very hard to test that way.</p>\n<p>We recently had a very similar case and in the end we decided to bite the bullet and use <code>@DirtiesContext</code> instead. Yeah, tests take 30 more minutes to run, but as an added benefit the tested services behave the exact same way as in production and the tests are more likely to catch any transaction issues.</p>\n<p>But before we did the switch, we considered using the following workaround:</p>\n<ol>\n<li>Create an interface and a service similar to the following:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>interface TransactionService\n{\n\n    void runWithoutTransaction(Runnable runnable);\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class RealTransactionService implements TransactionService\n{\n\n    @Transactional(propagation = Propagation.NEVER)\n    public void runWithoutTransaction(Runnable runnable)\n    {\n        runnable.run();\n    }\n\n}\n</code></pre>\n<ol start=\"2\">\n<li>In your other service wrap the external http calls with the <code>#runWithoutTransaction</code>-Method, e.g.:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService\n{\n    @Autowired\n    private TransactionService transactionService;\n\n    public void doStuff(UUID id)\n    {\n        transactionService.runWithoutTransaction(() -&gt; {\n            // call an external service\n        })\n    }\n}\n</code></pre>\n<p>That way your production code will peform the <code>Propagation.NEVER</code> check, and for the tests you can replace the <code>TransactionService</code> with a different implemention that doesn't have the <code>@Transactional</code> annotations, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Primary\npublic class FakeTransactionService implements TransactionService\n{\n\n    // No annotation here\n    public void runWithoutTransaction(Runnable runnable)\n    {\n        runnable.run();\n    }\n\n}\n</code></pre>\n<p>This is not limited to <code>Propagation.NEVER</code>. Other propagation types can be implemented in the same way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void runWithNewTransaction(Runnable runnable)\n{\n    runnable.run();\n}\n</code></pre>\n<p>And finally - the <code>Runnable</code> parameter can be replaced with a <code>Function</code>/<code>Consumer</code>/<code>Supplier</code> if the method needs to return and/or accept a value.</p>\n"},{"tags":[],"owner":{"account_id":138898,"reputation":2679,"user_id":344141,"display_name":"Bartek Jablonski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655195489,"creation_date":1655195489,"answer_id":72613799,"question_id":72534889,"body_markdown":"This is bit of wild idea, but if you are using mysql database, then maybe switch to [dolt][1] for tests?\r\n\r\n&gt; Dolt is a SQL database that you can fork, clone, branch, merge, push and pull just like a git repository.\r\n\r\nYou can wrap it as [testcontainers container][2], load necessary data on start and then, on start of each test run [dolt reset][3].\r\n\r\n\r\n  [1]: https://github.com/dolthub/dolt\r\n  [2]: https://docs.dolthub.com/introduction/installation/docker\r\n  [3]: https://docs.dolthub.com/sql-reference/version-control/dolt-sql-procedures#dolt_reset","title":"Rollback changes done to a MariaDB database by a spring test without @Transactional","body":"<p>This is bit of wild idea, but if you are using mysql database, then maybe switch to <a href=\"https://github.com/dolthub/dolt\" rel=\"nofollow noreferrer\">dolt</a> for tests?</p>\n<blockquote>\n<p>Dolt is a SQL database that you can fork, clone, branch, merge, push and pull just like a git repository.</p>\n</blockquote>\n<p>You can wrap it as <a href=\"https://docs.dolthub.com/introduction/installation/docker\" rel=\"nofollow noreferrer\">testcontainers container</a>, load necessary data on start and then, on start of each test run <a href=\"https://docs.dolthub.com/sql-reference/version-control/dolt-sql-procedures#dolt_reset\" rel=\"nofollow noreferrer\">dolt reset</a>.</p>\n"}],"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1655195489,"creation_date":1654620531,"question_id":72534889,"body_markdown":"I have a Spring service that does something like that : \r\n\r\n```\r\n@Service\r\npublic class MyService {\r\n\r\n    @Transactional(propagation = Propagation.NEVER)\r\n    public void doStuff(UUID id) {\r\n        // call an external service, via http for example, can be long\r\n        // update the database, with a transactionTemplate for example\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe Propagation.NEVER indicates we must not have an active transaction when the method is called because we don&#39;t want to block a connection to the database while waiting for an answer from the external service.\r\n\r\nNow, how could I properly test this and then rollback the database ? @Transactional on the test won&#39;t work, there will be an exception because of Propagation.NEVER.\r\n\r\n```\r\n@SpringBootTest\r\n@Transactional\r\npublic class MyServiceTest {\r\n\r\n    @Autowired\r\n    private MyService myService;\r\n\r\n    public void testDoStuff() {\r\n       putMyTestDataInDb();\r\n       myService.doStuff();    // &lt;- fails no transaction should be active\r\n       assertThat(myData).isTheWayIExpectedItToBe();\r\n    }\r\n\r\n}\r\n``` \r\n\r\nI can remove the @Transactional but then my database is not in a consistent state for the next test.\r\n\r\nFor now my solution is to truncate all tables of my database after each test in a @AfterEach junit callback, but this is a bit clunky and gets quite slow when the database has more than a few tables. \r\n\r\n**Here comes my question :  how could I rollback the changes done to my database without truncating/using @Transactional ?**\r\n\r\nThe database I&#39;m testing against is mariadb with testcontainers, so a solution that would work only with mariadb/mysql would be enough for me. But something more general would be great !\r\n\r\n(another exemple where I would like to be able to not use @Transactional on the test : sometimes I want to test that transaction boundaries are correctly put in the code, and not hit some lazy loading exceptions at runtime because I forgot a @Transactional somewhere in the production code).\r\n\r\nSome other precisions, if that helps :  \r\n- I use JPA with Hibernate\r\n- The database is create with liquibase when the application context starts\r\n\r\n---\r\n\r\nOthers ideas I&#39;ve played with : \r\n- @DirtiesContext : this is a lot slower, creating a new context is a lot more expensive than just truncating all tables in my database\r\n- MariaDB SAVEPOINT : dead end, it&#39;s just a way to go back to a state of the database INSIDE a transaction. This would be the ideal solution IMO if i could work globally\r\n- Trying to fiddle with connections, issuing `START TRANSACTION` statements natively on the datasource before the test and `ROLLBACK` after the tests : really dirty, could not make it work\r\n","title":"Rollback changes done to a MariaDB database by a spring test without @Transactional","body":"<p>I have a Spring service that does something like that :</p>\n<pre><code>@Service\npublic class MyService {\n\n    @Transactional(propagation = Propagation.NEVER)\n    public void doStuff(UUID id) {\n        // call an external service, via http for example, can be long\n        // update the database, with a transactionTemplate for example\n    }\n\n}\n</code></pre>\n<p>The Propagation.NEVER indicates we must not have an active transaction when the method is called because we don't want to block a connection to the database while waiting for an answer from the external service.</p>\n<p>Now, how could I properly test this and then rollback the database ? @Transactional on the test won't work, there will be an exception because of Propagation.NEVER.</p>\n<pre><code>@SpringBootTest\n@Transactional\npublic class MyServiceTest {\n\n    @Autowired\n    private MyService myService;\n\n    public void testDoStuff() {\n       putMyTestDataInDb();\n       myService.doStuff();    // &lt;- fails no transaction should be active\n       assertThat(myData).isTheWayIExpectedItToBe();\n    }\n\n}\n</code></pre>\n<p>I can remove the @Transactional but then my database is not in a consistent state for the next test.</p>\n<p>For now my solution is to truncate all tables of my database after each test in a @AfterEach junit callback, but this is a bit clunky and gets quite slow when the database has more than a few tables.</p>\n<p><strong>Here comes my question :  how could I rollback the changes done to my database without truncating/using @Transactional ?</strong></p>\n<p>The database I'm testing against is mariadb with testcontainers, so a solution that would work only with mariadb/mysql would be enough for me. But something more general would be great !</p>\n<p>(another exemple where I would like to be able to not use @Transactional on the test : sometimes I want to test that transaction boundaries are correctly put in the code, and not hit some lazy loading exceptions at runtime because I forgot a @Transactional somewhere in the production code).</p>\n<p>Some other precisions, if that helps :</p>\n<ul>\n<li>I use JPA with Hibernate</li>\n<li>The database is create with liquibase when the application context starts</li>\n</ul>\n<hr />\n<p>Others ideas I've played with :</p>\n<ul>\n<li>@DirtiesContext : this is a lot slower, creating a new context is a lot more expensive than just truncating all tables in my database</li>\n<li>MariaDB SAVEPOINT : dead end, it's just a way to go back to a state of the database INSIDE a transaction. This would be the ideal solution IMO if i could work globally</li>\n<li>Trying to fiddle with connections, issuing <code>START TRANSACTION</code> statements natively on the datasource before the test and <code>ROLLBACK</code> after the tests : really dirty, could not make it work</li>\n</ul>\n"},{"tags":["java","json","spring","spring-boot","json-patch"],"comments":[{"owner":{"account_id":1517554,"reputation":192,"user_id":1418191,"display_name":"johnr"},"score":0,"creation_date":1676325078,"post_id":71064957,"comment_id":133111294,"body_markdown":"I have the same question. E.g. PATCH /users [{&quot;op&quot;:&quot;replace&quot;,&quot;path&quot;:&quot;/user1/location&quot;,&quot;value&quot;:&quot;home&quot;},{&quot;op&quot;:&quot;replace&quot;,&quot;path&quot;:&quot;/user2/location&quot;,&quot;value&quot;:&quot;work&quot;}].","body":"I have the same question. E.g. PATCH /users [{&quot;op&quot;:&quot;replace&quot;,&quot;path&quot;:&quot;/user1/location&quot;,&quot;value&quot;:&quot;home&quot;},{&quot;&zwnj;&#8203;op&quot;:&quot;replace&quot;,&quot;path&quot;&zwnj;&#8203;:&quot;/user2/location&quot;,&quot;&zwnj;&#8203;value&quot;:&quot;work&quot;}]."}],"answers":[{"tags":[],"owner":{"account_id":15043220,"reputation":195,"user_id":10857151,"display_name":"Michael Cauduro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655195462,"creation_date":1655195462,"answer_id":72613795,"question_id":71064957,"body_markdown":"Why you need to put the ids inside the jsonPatch?\r\nI suggest to accept a Map&lt;String,JsonPatch&gt; where String key is your entity Id and JsonPatch value the list of the operations to perform on that entity.","title":"Apply JSON Patch to a collection","body":"<p>Why you need to put the ids inside the jsonPatch?\nI suggest to accept a Map&lt;String,JsonPatch&gt; where String key is your entity Id and JsonPatch value the list of the operations to perform on that entity.</p>\n"}],"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655195462,"creation_date":1644495458,"question_id":71064957,"body_markdown":"I have a Spring Boot application in which I want to enable the JSON Patching of multiple resources at the same time, as described in [this question][1]. \r\nMy endpoint accepts a `javax.json.JsonPatch` as parameter and returns `204 NO CONTENT` upon success.\r\n\r\nNow, my collection patching strategy is:\r\n\r\n 1. Obtain the id of each entity that needs to be updated, which can be found in the `path` component of the JsonPatch object.\r\n 2. Fetch all the entities with the given ids.\r\n 3. Convert each entity to its JSON representation.\r\n 4. Apply the corresponding patch. \r\n 5. Persist the updated entities.\r\n\r\n My question is how can I obtain all the entity ids from the `path` attribute of the objects, **if that is possible without doing regex parsing or other such string manipulating operations**?\r\n\r\nIf this is not the best approach at patching several documents in the same operation, could you provide a better strategy? \r\n\r\n Thanks!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29937528/how-to-update-a-collection-using-json-patch","title":"Apply JSON Patch to a collection","body":"<p>I have a Spring Boot application in which I want to enable the JSON Patching of multiple resources at the same time, as described in <a href=\"https://stackoverflow.com/questions/29937528/how-to-update-a-collection-using-json-patch\">this question</a>.\nMy endpoint accepts a <code>javax.json.JsonPatch</code> as parameter and returns <code>204 NO CONTENT</code> upon success.</p>\n<p>Now, my collection patching strategy is:</p>\n<ol>\n<li>Obtain the id of each entity that needs to be updated, which can be found in the <code>path</code> component of the JsonPatch object.</li>\n<li>Fetch all the entities with the given ids.</li>\n<li>Convert each entity to its JSON representation.</li>\n<li>Apply the corresponding patch.</li>\n<li>Persist the updated entities.</li>\n</ol>\n<p>My question is how can I obtain all the entity ids from the <code>path</code> attribute of the objects, <strong>if that is possible without doing regex parsing or other such string manipulating operations</strong>?</p>\n<p>If this is not the best approach at patching several documents in the same operation, could you provide a better strategy?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-listview"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655136907,"creation_date":1655136907,"answer_id":72605952,"question_id":72605892,"body_markdown":"The `int i` argument that is passed to your `onItemClick` implementation is the **position** of the item that was clicked. So what you&#39;ll need to do is keep a mapping from the position of each item in the list to the information you want to pass to the activity, for example by keeping an array/list of all child `DataSnapshot` objects, and then looking up the object by its position/index in that list.","title":"How to retreive specific rows from Firebase?","body":"<p>The <code>int i</code> argument that is passed to your <code>onItemClick</code> implementation is the <strong>position</strong> of the item that was clicked. So what you'll need to do is keep a mapping from the position of each item in the list to the information you want to pass to the activity, for example by keeping an array/list of all child <code>DataSnapshot</code> objects, and then looking up the object by its position/index in that list.</p>\n"}],"owner":{"account_id":24534283,"reputation":1,"user_id":18445603,"display_name":"WLDN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655195037,"creation_date":1655136595,"question_id":72605892,"body_markdown":"I&#39;m new to Firebase, so I&#39;ve created a ListView that will display all the data from my database.\r\n\r\nWwhat I want is when I click any row from the list, then it&#39;ll open new activity with only the data that I&#39;ve clicked. Is that possible?\r\n\r\nHere is my code:\r\n\r\n```\r\nlistView = findViewById(R.id.listView);\r\nArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(this, R.layout.list_job, list);\r\nlistView.setAdapter(adapter);\r\n\r\nDatabaseReference reference = FirebaseDatabase.getInstance().getReference().child(&quot;postJobs&quot;);\r\nreference.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n        list.clear();\r\n        for(DataSnapshot snapshot : dataSnapshot.getChildren()){\r\n            PostJob postJob = snapshot.getValue(PostJob.class);\r\n            String header = postJob.getSpecial() + &quot; : &quot; + postJob.getCompName();\r\n            String position = &quot;\\n&quot; + postJob.getPosition();\r\n            String location = &quot;\\n&quot; + postJob.getLocation();\r\n            String salary = &quot;\\nRM&quot; + postJob.getSalaryMin() + &quot; - RM&quot; + postJob.getSalaryMax();\r\n            list.add(header + position + location + salary);\r\n        }\r\n        adapter.notifyDataSetChanged();\r\n\r\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n                //Open Apply Job\r\n                switchToViewJob();\r\n                overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n    }\r\n});\r\n```\r\nMy Database:\r\n\r\n![My Database][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w7MaB.png","title":"How to retreive specific rows from Firebase?","body":"<p>I'm new to Firebase, so I've created a ListView that will display all the data from my database.</p>\n<p>Wwhat I want is when I click any row from the list, then it'll open new activity with only the data that I've clicked. Is that possible?</p>\n<p>Here is my code:</p>\n<pre><code>listView = findViewById(R.id.listView);\nArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\nArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(this, R.layout.list_job, list);\nlistView.setAdapter(adapter);\n\nDatabaseReference reference = FirebaseDatabase.getInstance().getReference().child(&quot;postJobs&quot;);\nreference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n        list.clear();\n        for(DataSnapshot snapshot : dataSnapshot.getChildren()){\n            PostJob postJob = snapshot.getValue(PostJob.class);\n            String header = postJob.getSpecial() + &quot; : &quot; + postJob.getCompName();\n            String position = &quot;\\n&quot; + postJob.getPosition();\n            String location = &quot;\\n&quot; + postJob.getLocation();\n            String salary = &quot;\\nRM&quot; + postJob.getSalaryMin() + &quot; - RM&quot; + postJob.getSalaryMax();\n            list.add(header + position + location + salary);\n        }\n        adapter.notifyDataSetChanged();\n\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n                //Open Apply Job\n                switchToViewJob();\n                overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n            }\n        });\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) {\n\n    }\n});\n</code></pre>\n<p>My Database:</p>\n<p><img src=\"https://i.stack.imgur.com/w7MaB.png\" alt=\"My Database\" /></p>\n"},{"tags":["java","rest","swagger","swagger-ui","dropwizard"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1655184252,"post_id":72604947,"comment_id":128264969,"body_markdown":"See if this helps: [How to document dynamic query parameter names in OpenAPI (Swagger)?](https://stackoverflow.com/q/49582559/113116)","body":"See if this helps: <a href=\"https://stackoverflow.com/q/49582559/113116\">How to document dynamic query parameter names in OpenAPI (Swagger)?</a>"},{"owner":{"account_id":14029645,"reputation":71,"user_id":10133848,"display_name":"randomguy"},"score":0,"creation_date":1655188806,"post_id":72604947,"comment_id":128266090,"body_markdown":"@Helen\nI have already tried this. It works perfectly in swagger editor using the yaml file, but i need to achieve this using only swagger annotations. I tried writing the code using annotations which seems to be equivalent to the yaml like this: \n\n`@Parameter(in=ParameterIn.QUERY, \t\t\tname=&quot;params&quot;, style=ParameterStyle.FORM, \t\t\tschema=@Schema(type=&quot;object&quot;, additionalProperties = Schema.AdditionalPropertiesValue.TRUE), explode=Explode.TRUE)`\n\n , but it doesn&#39;t work, swagger interprets this as a body somehow and shows an error that a GET request can&#39;t have a body.","body":"@Helen I have already tried this. It works perfectly in swagger editor using the yaml file, but i need to achieve this using only swagger annotations. I tried writing the code using annotations which seems to be equivalent to the yaml like this:   <code>@Parameter(in=ParameterIn.QUERY, \t\t\tname=&quot;params&quot;, style=ParameterStyle.FORM, \t\t\tschema=@Schema(type=&quot;object&quot;, additionalProperties = Schema.AdditionalPropertiesValue.TRUE), explode=Explode.TRUE)</code>   , but it doesn&#39;t work, swagger interprets this as a body somehow and shows an error that a GET request can&#39;t have a body."},{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1655232727,"post_id":72604947,"comment_id":128282504,"body_markdown":"Can you post the complete method declaration with all annotations?","body":"Can you post the complete method declaration with all annotations?"},{"owner":{"account_id":14029645,"reputation":71,"user_id":10133848,"display_name":"randomguy"},"score":0,"creation_date":1655274711,"post_id":72604947,"comment_id":128290710,"body_markdown":"@Helen \nIt looks like this:\n\n`public String myMethod(@Context Request request,@Context UriInfo uriInfo, @QueryParam(&quot;a&quot;) Optional&lt;String&gt; a, @QueryParam(&quot;b&quot;) Optional&lt;String&gt; b, @QueryParam(&quot;c&quot;) Optional&lt;String&gt; c,  @QueryParam(&quot;d&quot;) Optional&lt;String&gt; d, @QueryParam(&quot;e&quot;) Optional&lt;String&gt; e,\n@QueryParam(&quot;f&quot;) Optional&lt;String&gt; f,  @Parameter(in=ParameterIn.QUERY,\nname=&quot;params&quot;, style=ParameterStyle.FORM,\nschema=@Schema(type=&quot;object&quot;, additionalProperties = Schema.AdditionalPropertiesValue.TRUE), explode=Explode.TRUE) String additionParams ){\n\n\t//code\n}`","body":"@Helen  It looks like this:  <code>public String myMethod(@Context Request request,@Context UriInfo uriInfo, @QueryParam(&quot;a&quot;) Optional&lt;String&gt; a, @QueryParam(&quot;b&quot;) Optional&lt;String&gt; b, @QueryParam(&quot;c&quot;) Optional&lt;String&gt; c,  @QueryParam(&quot;d&quot;) Optional&lt;String&gt; d, @QueryParam(&quot;e&quot;) Optional&lt;String&gt; e, @QueryParam(&quot;f&quot;) Optional&lt;String&gt; f,  @Parameter(in=ParameterIn.QUERY, name=&quot;params&quot;, style=ParameterStyle.FORM, schema=@Schema(type=&quot;object&quot;, additionalProperties = Schema.AdditionalPropertiesValue.TRUE), explode=Explode.TRUE) String additionParams ){  \t&#47;&#47;code }</code>"},{"owner":{"account_id":14029645,"reputation":71,"user_id":10133848,"display_name":"randomguy"},"score":0,"creation_date":1655274753,"post_id":72604947,"comment_id":128290724,"body_markdown":"I have also tried removing the `additionalProperties = Schema.AdditionalPropertiesValue.TRUE`  but the result is the same","body":"I have also tried removing the <code>additionalProperties = Schema.AdditionalPropertiesValue.TRUE</code>  but the result is the same"}],"owner":{"account_id":14029645,"reputation":71,"user_id":10133848,"display_name":"randomguy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655195036,"creation_date":1655132166,"question_id":72604947,"body_markdown":"How to make a request on swagger UI in which i can add N amount of query parameters (both name and value of the parameters have to accept any input) using solely swagger annotations (no openApi yaml/json)?\r\n\r\nThe request should look something like this:\r\n\r\n`GET swagger/users?name1=value1&amp;name2=value`\r\n\r\nSwagger UI version is 3.23.0\r\n","title":"Swagger dynamic parameter name and value","body":"<p>How to make a request on swagger UI in which i can add N amount of query parameters (both name and value of the parameters have to accept any input) using solely swagger annotations (no openApi yaml/json)?</p>\n<p>The request should look something like this:</p>\n<p><code>GET swagger/users?name1=value1&amp;name2=value</code></p>\n<p>Swagger UI version is 3.23.0</p>\n"},{"tags":["java","enums","mockito"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1655195687,"post_id":72613658,"comment_id":128268330,"body_markdown":"did you check answer in https://stackoverflow.com/questions/21202576/how-to-mock-a-method-in-an-enum-class ? or https://stackoverflow.com/questions/38224517/mock-an-enum-using-mockito-in-java","body":"did you check answer in <a href=\"https://stackoverflow.com/questions/21202576/how-to-mock-a-method-in-an-enum-class\" title=\"how to mock a method in an enum class\">stackoverflow.com/questions/21202576/&hellip;</a> ? or <a href=\"https://stackoverflow.com/questions/38224517/mock-an-enum-using-mockito-in-java\" title=\"mock an enum using mockito in java\">stackoverflow.com/questions/38224517/&hellip;</a>"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1655205299,"post_id":72613658,"comment_id":128271802,"body_markdown":"@user7294900 - yes, both. One provides a solution for static methods. That&#39;s not a big challenge with `MockedStatic`. The other question was about mocking the full enum. Here, I look for a solution to verify that a (non-static) method is called on the expected enum.","body":"@user7294900 - yes, both. One provides a solution for static methods. That&#39;s not a big challenge with <code>MockedStatic</code>. The other question was about mocking the full enum. Here, I look for a solution to verify that a (non-static) method is called on the expected enum."}],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655194813,"creation_date":1655194813,"question_id":72613658,"body_markdown":"With a given enum like\r\n\r\n```java\r\npublic enum Colors {\r\n  RED(&quot;ff0000&quot;),\r\n  BLUE(&quot;0000ff&quot;),\r\n  SILVER(&quot;eeeeee&quot;);\r\n\r\n  private String code;\r\n\r\n  public Colors(String code) {\r\n    this.code = code;\r\n  }\r\n\r\n  public void paint(Car car) {\r\n    car.applyColor(code);\r\n  }\r\n}\r\n```\r\n\r\nI&#39;d like to verify in a test, that `paint` is called with a certain `car` on enum `RED`. I thought about mocking the enum class (`mockStatic`) or spying on it, but couldn&#39;t find a way yet to `verify` the method call. I want to avoid calling the real method implementation on the test.\r\n\r\nPlease note: This is a very simplified example of the real code","title":"Mockito: verify that method is called on a specific enum","body":"<p>With a given enum like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Colors {\n  RED(&quot;ff0000&quot;),\n  BLUE(&quot;0000ff&quot;),\n  SILVER(&quot;eeeeee&quot;);\n\n  private String code;\n\n  public Colors(String code) {\n    this.code = code;\n  }\n\n  public void paint(Car car) {\n    car.applyColor(code);\n  }\n}\n</code></pre>\n<p>I'd like to verify in a test, that <code>paint</code> is called with a certain <code>car</code> on enum <code>RED</code>. I thought about mocking the enum class (<code>mockStatic</code>) or spying on it, but couldn't find a way yet to <code>verify</code> the method call. I want to avoid calling the real method implementation on the test.</p>\n<p>Please note: This is a very simplified example of the real code</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":8974109,"reputation":2049,"user_id":6691599,"display_name":"Arunakiran Nulu"},"score":0,"creation_date":1475181226,"post_id":39779219,"comment_id":66853259,"body_markdown":"I believe you should do like below \napexJobResponse = apexMapper.readValue(&quot;your json string&quot;, EsidesiEntity.class);","body":"I believe you should do like below  apexJobResponse = apexMapper.readValue(&quot;your json string&quot;, EsidesiEntity.class);"},{"owner":{"account_id":8974109,"reputation":2049,"user_id":6691599,"display_name":"Arunakiran Nulu"},"score":0,"creation_date":1475181341,"post_id":39779219,"comment_id":66853317,"body_markdown":"what is apexResponse ? is this your json string ?","body":"what is apexResponse ? is this your json string ?"},{"owner":{"account_id":1798381,"reputation":325,"user_id":1637272,"accept_rate":50,"display_name":"Narwhal"},"score":0,"creation_date":1475181664,"post_id":39779219,"comment_id":66853466,"body_markdown":"actually, apexResponse is a string and apexJobResponse is the object. Let me make this a little clearer.","body":"actually, apexResponse is a string and apexJobResponse is the object. Let me make this a little clearer."}],"answers":[{"tags":[],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1475182029,"creation_date":1475181623,"answer_id":39779600,"question_id":39779219,"body_markdown":"You are using [Lombok][1]. Jackson can&#39;t see your getter and setter methods.\r\n\r\nSo you have two options:\r\n\r\n1. Do not use Lombok and implement the getter and setter methods\r\n2. Use Lombok with this additional library: [jackson-lombok][2]\r\n\r\nIf you are using maven, so add *jackson-lombok* to your pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.xebia&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nConfigure then your `ObjectMapper` in this way:\r\n\r\n    ObjectMapper apexMapper = new ObjectMapper();\r\n    apexMapper.setAnnotationIntrospector(new JacksonLombokAnnotationIntrospector());\r\n    [...]\r\n\r\n\r\n  [1]: https://projectlombok.org/features/GetterSetter.html\r\n  [2]: https://github.com/xebia/jackson-lombok","title":"Jackson not recognizing fields that exist","body":"<p>You are using <a href=\"https://projectlombok.org/features/GetterSetter.html\" rel=\"nofollow\">Lombok</a>. Jackson can't see your getter and setter methods.</p>\n\n<p>So you have two options:</p>\n\n<ol>\n<li>Do not use Lombok and implement the getter and setter methods</li>\n<li>Use Lombok with this additional library: <a href=\"https://github.com/xebia/jackson-lombok\" rel=\"nofollow\">jackson-lombok</a></li>\n</ol>\n\n<p>If you are using maven, so add <em>jackson-lombok</em> to your pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.xebia&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Configure then your <code>ObjectMapper</code> in this way:</p>\n\n<pre><code>ObjectMapper apexMapper = new ObjectMapper();\napexMapper.setAnnotationIntrospector(new JacksonLombokAnnotationIntrospector());\n[...]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10975365,"reputation":11,"user_id":8064212,"display_name":"מרים בלוך"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655194596,"creation_date":1655194596,"answer_id":72613627,"question_id":39779219,"body_markdown":"Try this:\r\n```\r\nGson gson = new Gson();\r\nJsonElement jsonElement = gson.toJsonTree(youJson);\r\nMyPojo pojo = gson.fromJson(jsonElement, MyPojo.class);\r\n```","title":"Jackson not recognizing fields that exist","body":"<p>Try this:</p>\n<pre><code>Gson gson = new Gson();\nJsonElement jsonElement = gson.toJsonTree(youJson);\nMyPojo pojo = gson.fromJson(jsonElement, MyPojo.class);\n</code></pre>\n"}],"owner":{"account_id":1798381,"reputation":325,"user_id":1637272,"accept_rate":50,"display_name":"Narwhal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3216,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39779600,"answer_count":2,"score":3,"last_activity_date":1655194596,"creation_date":1475180106,"question_id":39779219,"body_markdown":"So here&#39;s my JSON\r\n\r\n    {&quot;totalSize&quot;:46,&quot;done&quot;:true,&quot;records&quot;:[{&quot;Name&quot;:&quot;Wamu I&quot;,&quot;Start_Date__c&quot;:&quot;2016-09-26T16:56:10.000+0000&quot;,&quot;Status__c&quot;:&quot;Completed&quot;,&quot;Type__c&quot;:&quot;Your were expecting success, but In reality it was I, Dio!!!&quot;}]}\r\n\r\n\r\n\r\n\r\nAnd here are my two entity classes:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class EsidesiJobEntity {\r\n    \t\r\n    \t@JsonProperty(&quot;totalSize&quot;)\r\n    \tprivate @Getter @Setter Integer totalSize;\r\n    \t\r\n    \t@JsonProperty(&quot;done&quot;)\r\n    \tprivate @Getter @Setter Boolean isDone;\r\n    \t\r\n    \t@JsonProperty(&quot;records&quot;)\r\n    \tprivate @Getter @Setter List&lt;KarsEntity&gt; records;\r\n    \t    \t\r\n    \t@Override\r\n    \t@JsonIgnore\r\n    \tpublic String toString(){\r\n    \t\t\r\n    \t\tList&lt;String&gt; recordsObjectString = new ArrayList&lt;String&gt;();\r\n    \t\t\r\n    \t\tthis.records.forEach((record) -&gt; \r\n    \t\t{\r\n    \t\t\trecordsObjectString.add(record.toString());\r\n    \t\t});\r\n    \t\treturn &quot;{ totalSize:&quot;+this.totalSize+&quot;, isDone:&quot;+this.isDone+&quot;, records:[&quot;+recordsObjectString.toString()+&quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class KarsEntity {\r\n    \r\n    \t@JsonProperty(&quot;Name&quot;)\r\n    \tprivate @Getter @Setter String name;\r\n    \t\r\n    \t@JsonProperty(&quot;Start_Date__c&quot;)\r\n    \tprivate @Getter @Setter String startDate;\r\n    \t\r\n    \t@JsonProperty(&quot;Status__c&quot;)\r\n    \tprivate @Getter @Setter String status;\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString(){\r\n    \t\treturn &quot;{ name:&quot;+this.name+&quot;, startDate:&quot;+this.startDate+&quot;, status:&quot;+this.status+&quot;}&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\nfor some reason, when I map that json string to the EsidesiJobEntity, I get the following error:\r\n\r\n    Unrecognized field &quot;totalSize&quot;\r\n\r\nBUT IT DEFINITELY EXISTS IN BOTH IN BOTH THE JSON AND THE ENTITY!\r\n\r\nHere&#39;s the code I wrote to map the string to the entity for reference:\r\n\r\n    EsidesiEntity apexJobResponseEntity;\r\n    \t\t\t\t\r\n    ObjectMapper apexMapper = new ObjectMapper();\r\n    try {\r\n        apexJobResponseEntity = apexMapper.readValue(apexResponseString, EsidesiEntity.class);\r\n    } ...\r\n\r\nAm I missing something really basic? \r\n\r\n(BTW, If there&#39;s some inconsistency in the Class/Entity names, its because I renamed them before posting them online. Let me know and I&#39;ll fix them as I see them. )\r\n\r\nThanks!","title":"Jackson not recognizing fields that exist","body":"<p>So here's my JSON</p>\n\n<pre><code>{\"totalSize\":46,\"done\":true,\"records\":[{\"Name\":\"Wamu I\",\"Start_Date__c\":\"2016-09-26T16:56:10.000+0000\",\"Status__c\":\"Completed\",\"Type__c\":\"Your were expecting success, but In reality it was I, Dio!!!\"}]}\n</code></pre>\n\n<p>And here are my two entity classes:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class EsidesiJobEntity {\n\n    @JsonProperty(\"totalSize\")\n    private @Getter @Setter Integer totalSize;\n\n    @JsonProperty(\"done\")\n    private @Getter @Setter Boolean isDone;\n\n    @JsonProperty(\"records\")\n    private @Getter @Setter List&lt;KarsEntity&gt; records;\n\n    @Override\n    @JsonIgnore\n    public String toString(){\n\n        List&lt;String&gt; recordsObjectString = new ArrayList&lt;String&gt;();\n\n        this.records.forEach((record) -&gt; \n        {\n            recordsObjectString.add(record.toString());\n        });\n        return \"{ totalSize:\"+this.totalSize+\", isDone:\"+this.isDone+\", records:[\"+recordsObjectString.toString()+\"]\";\n    }\n\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class KarsEntity {\n\n    @JsonProperty(\"Name\")\n    private @Getter @Setter String name;\n\n    @JsonProperty(\"Start_Date__c\")\n    private @Getter @Setter String startDate;\n\n    @JsonProperty(\"Status__c\")\n    private @Getter @Setter String status;\n\n    @Override\n    public String toString(){\n        return \"{ name:\"+this.name+\", startDate:\"+this.startDate+\", status:\"+this.status+\"}\";\n    }\n}\n</code></pre>\n\n<p>for some reason, when I map that json string to the EsidesiJobEntity, I get the following error:</p>\n\n<pre><code>Unrecognized field \"totalSize\"\n</code></pre>\n\n<p>BUT IT DEFINITELY EXISTS IN BOTH IN BOTH THE JSON AND THE ENTITY!</p>\n\n<p>Here's the code I wrote to map the string to the entity for reference:</p>\n\n<pre><code>EsidesiEntity apexJobResponseEntity;\n\nObjectMapper apexMapper = new ObjectMapper();\ntry {\n    apexJobResponseEntity = apexMapper.readValue(apexResponseString, EsidesiEntity.class);\n} ...\n</code></pre>\n\n<p>Am I missing something really basic? </p>\n\n<p>(BTW, If there's some inconsistency in the Class/Entity names, its because I renamed them before posting them online. Let me know and I'll fix them as I see them. )</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","cors","csrf"],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1655194211,"creation_date":1655194211,"answer_id":72613537,"question_id":72610962,"body_markdown":"Just use `setAllowedOriginPatterns()` instead of `addAllowedOrigin()` in your CORS config, exactly as the error tells you to:\r\n```java\r\n@Bean\r\npublic FilterRegistrationBean platformCorsFilter() {\r\n\t...\r\n\tCorsConfiguration configAutenticacao = new CorsConfiguration();\r\n\tconfigAutenticacao.setAllowCredentials(true);\r\n\tconfigAutenticacao.setAllowedOriginPatterns(Collections.singletonList(&quot;*&quot;));\t// &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n\t...\r\n}\r\n```","title":"How to fix &quot;To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.&quot;","body":"<p>Just use <code>setAllowedOriginPatterns()</code> instead of <code>addAllowedOrigin()</code> in your CORS config, exactly as the error tells you to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic FilterRegistrationBean platformCorsFilter() {\n    ...\n    CorsConfiguration configAutenticacao = new CorsConfiguration();\n    configAutenticacao.setAllowCredentials(true);\n    configAutenticacao.setAllowedOriginPatterns(Collections.singletonList(&quot;*&quot;));    // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2412,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72613537,"answer_count":1,"score":1,"last_activity_date":1655194211,"creation_date":1655174458,"question_id":72610962,"body_markdown":"I am using Spring Boot 2.7.0 (http://localhost:8080) , JDK/Java 17, React 18 (http://localhost:3000).\r\nError\r\n\r\n```\r\n2022-06-14 08:42:49 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\r\n\tat org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\r\n\tat org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n2022-06-14 08:42:55 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\r\n\tat org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\r\n\tat org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n2022-06-14 08:42:55 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\r\n\tat org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\r\n\tat org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n2022-06-14 08:43:02 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\r\n\tat org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\r\n\tat org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n2022-06-14 08:43:02 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\r\n\tat org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\r\n\tat org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n2022-06-14 08:43:08 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\r\n\tat org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\r\n\tat org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n2022-06-14 08:43:08 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\r\n\tat org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\r\n\tat org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\r\n\tat org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nMy config\r\n\r\n```java\r\npackage com.example.multitenant.security;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\nimport org.springframework.web.filter.CorsFilter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private JwtUserDetailsService jwtUserDetailsService;\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Autowired\r\n    public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    public JwtAuthenticationFilter authenticationTokenFilterBean() throws Exception {\r\n        return new JwtAuthenticationFilter();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable().\r\n                authorizeRequests()\r\n                .antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/product/**&quot;).authenticated()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n//    @Bean\r\n//    public PasswordEncoder passwordEncoder() {\r\n//        PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n//        return encoder;\r\n//    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public FilterRegistrationBean platformCorsFilter() {\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        CorsConfiguration configAutenticacao = new CorsConfiguration();\r\n        configAutenticacao.setAllowCredentials(true);\r\n        configAutenticacao.addAllowedOrigin(&quot;*&quot;);\r\n        configAutenticacao.addAllowedHeader(&quot;Authorization&quot;);\r\n        configAutenticacao.addAllowedHeader(&quot;Content-Type&quot;);\r\n        configAutenticacao.addAllowedHeader(&quot;Accept&quot;);\r\n        configAutenticacao.addAllowedMethod(&quot;POST&quot;);\r\n        configAutenticacao.addAllowedMethod(&quot;GET&quot;);\r\n        configAutenticacao.addAllowedMethod(&quot;DELETE&quot;);\r\n        configAutenticacao.addAllowedMethod(&quot;PUT&quot;);\r\n        configAutenticacao.addAllowedMethod(&quot;OPTIONS&quot;);\r\n        configAutenticacao.setMaxAge(3600L);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configAutenticacao);\r\n\r\n        FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\r\n        bean.setOrder(-110);\r\n        return bean;\r\n    }\r\n}\r\n\r\n```\r\n\r\nHow to allow request from React web-app (http://localhost:3000) to Spring web-app RESTful webserivce (http://localhost:8080)? You can guide me config via `application.properties` or `application.yml`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BInPk.png\r\n  [2]: https://i.stack.imgur.com/DDFMq.png","title":"How to fix &quot;To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.&quot;","body":"<p>I am using Spring Boot 2.7.0 (http://localhost:8080) , JDK/Java 17, React 18 (http://localhost:3000).\nError</p>\n<pre><code>2022-06-14 08:42:49 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\n    at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\n    at org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\n    at org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\n    at org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\n    at org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2022-06-14 08:42:55 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\n    at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\n    at org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\n    at org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\n    at org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\n    at org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2022-06-14 08:42:55 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\n    at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\n    at org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\n    at org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\n    at org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\n    at org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2022-06-14 08:43:02 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\n    at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\n    at org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\n    at org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\n    at org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\n    at org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2022-06-14 08:43:02 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\n    at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\n    at org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\n    at org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\n    at org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\n    at org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2022-06-14 08:43:08 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\n    at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\n    at org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\n    at org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\n    at org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\n    at org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2022-06-14 08:43:08 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\njava.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\n    at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)\n    at org.springframework.web.cors.CorsConfiguration.checkOrigin(CorsConfiguration.java:577)\n    at org.springframework.web.cors.DefaultCorsProcessor.checkOrigin(DefaultCorsProcessor.java:174)\n    at org.springframework.web.cors.DefaultCorsProcessor.handleInternal(DefaultCorsProcessor.java:116)\n    at org.springframework.web.cors.DefaultCorsProcessor.processRequest(DefaultCorsProcessor.java:95)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:87)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>My config</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.multitenant.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtUserDetailsService jwtUserDetailsService;\n\n    @Autowired\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Autowired\n    public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public JwtAuthenticationFilter authenticationTokenFilterBean() throws Exception {\n        return new JwtAuthenticationFilter();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable().\n                authorizeRequests()\n                .antMatchers(&quot;/api/auth/**&quot;).permitAll()\n                .antMatchers(&quot;/api/product/**&quot;).authenticated()\n                .and()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n//    @Bean\n//    public PasswordEncoder passwordEncoder() {\n//        PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\n//        return encoder;\n//    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public FilterRegistrationBean platformCorsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration configAutenticacao = new CorsConfiguration();\n        configAutenticacao.setAllowCredentials(true);\n        configAutenticacao.addAllowedOrigin(&quot;*&quot;);\n        configAutenticacao.addAllowedHeader(&quot;Authorization&quot;);\n        configAutenticacao.addAllowedHeader(&quot;Content-Type&quot;);\n        configAutenticacao.addAllowedHeader(&quot;Accept&quot;);\n        configAutenticacao.addAllowedMethod(&quot;POST&quot;);\n        configAutenticacao.addAllowedMethod(&quot;GET&quot;);\n        configAutenticacao.addAllowedMethod(&quot;DELETE&quot;);\n        configAutenticacao.addAllowedMethod(&quot;PUT&quot;);\n        configAutenticacao.addAllowedMethod(&quot;OPTIONS&quot;);\n        configAutenticacao.setMaxAge(3600L);\n        source.registerCorsConfiguration(&quot;/**&quot;, configAutenticacao);\n\n        FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\n        bean.setOrder(-110);\n        return bean;\n    }\n}\n\n</code></pre>\n<p>How to allow request from React web-app (http://localhost:3000) to Spring web-app RESTful webserivce (http://localhost:8080)? You can guide me config via <code>application.properties</code> or <code>application.yml</code></p>\n<p><a href=\"https://i.stack.imgur.com/BInPk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BInPk.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/DDFMq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DDFMq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6348437,"reputation":1619,"user_id":4958351,"display_name":"AIMIN PAN"},"score":0,"creation_date":1655193563,"post_id":72613271,"comment_id":128267604,"body_markdown":"I believe the first focusable control in xml gets the focus first. you can set &quot;focusable&quot; attribute for your control to avoid getting focus, or change control order in the xml file.","body":"I believe the first focusable control in xml gets the focus first. you can set &quot;focusable&quot; attribute for your control to avoid getting focus, or change control order in the xml file."}],"answers":[{"tags":[],"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655194072,"creation_date":1655194072,"answer_id":72613508,"question_id":72613271,"body_markdown":"You can go to the `navigation` resource directory in `res` folder and find the navigation file which associated with this behavior. Open the navigation file and there you will see multiple `&lt;fragments` listed.\r\n\r\nAt the top of this file you will find a `&lt;navigation` block which will have something like `app:startDestination=&quot;@+id/&quot;ID&quot;`\r\n\r\nIn your file you will find something else at the place of `ID` and that is the id of the fragment which will come first when you open the activity.\r\n\r\nSo for you answer it is **`app:startDestination`** which is responsible for giving the focus to the first fragment when you launch the app.","title":"Which component designates the entry point of an activity?","body":"<p>You can go to the <code>navigation</code> resource directory in <code>res</code> folder and find the navigation file which associated with this behavior. Open the navigation file and there you will see multiple <code>&lt;fragments</code> listed.</p>\n<p>At the top of this file you will find a <code>&lt;navigation</code> block which will have something like <code>app:startDestination=&quot;@+id/&quot;ID&quot;</code></p>\n<p>In your file you will find something else at the place of <code>ID</code> and that is the id of the fragment which will come first when you open the activity.</p>\n<p>So for you answer it is <strong><code>app:startDestination</code></strong> which is responsible for giving the focus to the first fragment when you launch the app.</p>\n"}],"owner":{"account_id":25510991,"reputation":5,"user_id":19302653,"display_name":"Oikura_Sodachi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72613508,"answer_count":1,"score":-1,"last_activity_date":1655194072,"creation_date":1655192964,"question_id":72613271,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DKVSr.jpg\r\n\r\nThe app I&#39;m working on has several tabs on the bottom,and they&#39;re all part of the same Activity. Upon launching the app, the first tab to get the focus is always the same one.\r\nI want to know which component of the app makes it behave that way.\r\n","title":"Which component designates the entry point of an activity?","body":"<p><a href=\"https://i.stack.imgur.com/DKVSr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKVSr.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The app I'm working on has several tabs on the bottom,and they're all part of the same Activity. Upon launching the app, the first tab to get the focus is always the same one.\nI want to know which component of the app makes it behave that way.</p>\n"},{"tags":["java","object","reference","garbage-collection"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1655142456,"post_id":72607032,"comment_id":128256422,"body_markdown":"It&#39;s possible, but certainly not with `Object`.","body":"It&#39;s possible, but certainly not with <code>Object</code>."},{"owner":{"account_id":20269550,"reputation":206,"user_id":14866016,"display_name":"RedCrafter LP"},"score":0,"creation_date":1655142592,"post_id":72607032,"comment_id":128256466,"body_markdown":"Object is just an example could have used Foo. But they should be a static reference in the classloader as far as i know, so how can they ever get gc&#39;ed?","body":"Object is just an example could have used Foo. But they should be a static reference in the classloader as far as i know, so how can they ever get gc&#39;ed?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1655143602,"post_id":72607032,"comment_id":128256793,"body_markdown":"There&#39;s no such thing as &quot;the&quot; classloader.  There can be more than one, and they can get GC&#39;d themselves.","body":"There&#39;s no such thing as &quot;the&quot; classloader.  There can be more than one, and they can get GC&#39;d themselves."},{"owner":{"account_id":20269550,"reputation":206,"user_id":14866016,"display_name":"RedCrafter LP"},"score":0,"creation_date":1655144482,"post_id":72607032,"comment_id":128257079,"body_markdown":"But you can get the objects in a static fashion ```Object.class``` wouldn&#39;t that mean that they have a static reference?","body":"But you can get the objects in a static fashion <code>Object.class</code> wouldn&#39;t that mean that they have a static reference?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1655146721,"post_id":72607032,"comment_id":128257821,"body_markdown":"The ones that you get that way, sure.  Not all `Class` objects are obtained with `Foo.class`.  Look at the methods in `ClassLoader`, e.g. `defineClass`.","body":"The ones that you get that way, sure.  Not all <code>Class</code> objects are obtained with <code>Foo.class</code>.  Look at the methods in <code>ClassLoader</code>, e.g. <code>defineClass</code>."},{"owner":{"account_id":20269550,"reputation":206,"user_id":14866016,"display_name":"RedCrafter LP"},"score":0,"creation_date":1655149499,"post_id":72607032,"comment_id":128258700,"body_markdown":"That seems to be the answer to my question. &quot;You can&#39;t rely on a java.lang.Class instance to be static&quot;. I am building some raw pointer stuff and was hoping to store the class as it&#39;s instance pointer as an long. But since I can&#39;t rely on the validity of that &quot;blind&quot; pointer I will need to reconsider my approach. Louise Wasserman thanks a lot.","body":"That seems to be the answer to my question. &quot;You can&#39;t rely on a java.lang.Class instance to be static&quot;. I am building some raw pointer stuff and was hoping to store the class as it&#39;s instance pointer as an long. But since I can&#39;t rely on the validity of that &quot;blind&quot; pointer I will need to reconsider my approach. Louise Wasserman thanks a lot."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655192227,"post_id":72607032,"comment_id":128267138,"body_markdown":"You can’t rely on the validity of any instance pointer. The garbage collector moves objects in memory.","body":"You can’t rely on the validity of any instance pointer. The garbage collector moves objects in memory."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655194001,"creation_date":1655194001,"answer_id":72613495,"question_id":72607032,"body_markdown":"A `java.lang.Class` is tied to the `class` it represents. The garbage collection of the `Class` instance implies unloading the class, which is possible, but only under certain circumstances. For a normal class or interface, it requires not only the `Class` object but also its defining `ClassLoader` instance to become unreachable, which in turn requires all classes of this particular class loader to be unreachable.\r\n\r\nThat’s addressed in the specification in [&#167;12.7. Unloading of Classes and Interfaces]:\r\n\r\n&gt; An implementation of the Java programming language may *unload* classes.\r\n&gt; \r\n&gt; A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in [&#167;12.6].\r\n&gt; \r\n&gt; Classes and interfaces loaded by the bootstrap loader may not be unloaded.\r\n\r\nAll [Built-in Class Loaders] will never become unreachable.\r\n\r\nBut there’s also the [`defineHiddenClass` method] which allows to define special, “hidden” classes which may get garbage collected even if their defining loader is reachable (unless the [`STRONG` option] has been specified).\r\n\r\n[&#167;12.6]: https://docs.oracle.com/javase/specs/jls/se18/html/jls-12.html#jls-12.6 (12.6. Finalization of Class Instances)\r\n[&#167;12.7. Unloading of Classes and Interfaces]: https://docs.oracle.com/javase/specs/jls/se18/html/jls-12.html#jls-12.7 (The Java&#174; Language Specification, &#167;12.7)\r\n[Built-in Class Loaders]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders (“Run-time Built-in Class Loaders” section of ClassLoader documentation)\r\n[`defineHiddenClass` method]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...) (method defineHiddenClass in MethodHandles.Lookup)\r\n[`STRONG` option]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.ClassOption.html#STRONG (enum constant MethodHandles.Lookup.ClassOption.STRONG)","title":"Are java.lang.Class objects ever garbage collected?","body":"<p>A <code>java.lang.Class</code> is tied to the <code>class</code> it represents. The garbage collection of the <code>Class</code> instance implies unloading the class, which is possible, but only under certain circumstances. For a normal class or interface, it requires not only the <code>Class</code> object but also its defining <code>ClassLoader</code> instance to become unreachable, which in turn requires all classes of this particular class loader to be unreachable.</p>\n<p>That’s addressed in the specification in <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-12.html#jls-12.7\" rel=\"nofollow noreferrer\" title=\"The Java® Language Specification, §12.7\">§12.7. Unloading of Classes and Interfaces</a>:</p>\n<blockquote>\n<p>An implementation of the Java programming language may <em>unload</em> classes.</p>\n<p>A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-12.html#jls-12.6\" rel=\"nofollow noreferrer\" title=\"12.6. Finalization of Class Instances\">§12.6</a>.</p>\n<p>Classes and interfaces loaded by the bootstrap loader may not be unloaded.</p>\n</blockquote>\n<p>All <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders\" rel=\"nofollow noreferrer\" title=\"“Run-time Built-in Class Loaders” section of ClassLoader documentation\">Built-in Class Loaders</a> will never become unreachable.</p>\n<p>But there’s also the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)\" rel=\"nofollow noreferrer\" title=\"method defineHiddenClass in MethodHandles.Lookup\"><code>defineHiddenClass</code> method</a> which allows to define special, “hidden” classes which may get garbage collected even if their defining loader is reachable (unless the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.ClassOption.html#STRONG\" rel=\"nofollow noreferrer\" title=\"enum constant MethodHandles.Lookup.ClassOption.STRONG\"><code>STRONG</code> option</a> has been specified).</p>\n"}],"owner":{"account_id":20269550,"reputation":206,"user_id":14866016,"display_name":"RedCrafter LP"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655194077,"accepted_answer_id":72613495,"answer_count":1,"score":0,"last_activity_date":1655194001,"creation_date":1655142272,"question_id":72607032,"body_markdown":"My question is if objects of type ```java.lang.Class``` ever gets garbage collected. Example: \r\n``` \r\nWeakReference&lt;Class&lt;Object&gt;&gt; ref = new WeakReference&lt;&gt;(Object.class);\r\nassertEquals(ref.get(),null);\r\n```\r\nIs this possible to ever assert to true? Can the reference to a java.lang.Class object ever get invalid?","title":"Are java.lang.Class objects ever garbage collected?","body":"<p>My question is if objects of type <code>java.lang.Class</code> ever gets garbage collected. Example:</p>\n<pre><code>WeakReference&lt;Class&lt;Object&gt;&gt; ref = new WeakReference&lt;&gt;(Object.class);\nassertEquals(ref.get(),null);\n</code></pre>\n<p>Is this possible to ever assert to true? Can the reference to a java.lang.Class object ever get invalid?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1655194765,"post_id":72613227,"comment_id":128267985,"body_markdown":"It may or may be not called ... if Toast from `onCreate` is shown then `onCreate` was called ... it&#39;s not clear how did you check that `onCreate` was not called and toast was show FROM THE `onCreate` ...","body":"It may or may be not called ... if Toast from <code>onCreate</code> is shown then <code>onCreate</code> was called ... it&#39;s not clear how did you check that <code>onCreate</code> was not called and toast was show FROM THE <code>onCreate</code> ..."}],"answers":[{"tags":[],"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655193502,"creation_date":1655193502,"answer_id":72613392,"question_id":72613227,"body_markdown":"When your activity goes in the background, and memory is required for other apps. It is possible that the system frees up space even though your activity is in the background with ONPAUSED state. and now if you navigate to your activity, since the saved instance is removed due to memory requirements. instead of ONRESUME, ONSTART is called. you can read more about it here: https://developer.android.com/guide/components/activities/activity-lifecycle\r\nand see this image for better understanding: https://developer.android.com/guide/components/images/activity_lifecycle.png\r\n\r\nThis uncertainty is one of the reasons why we now mostly use view models for a sizeable app.","title":"Why do codes work in the onCreate() instead of onResume()","body":"<p>When your activity goes in the background, and memory is required for other apps. It is possible that the system frees up space even though your activity is in the background with ONPAUSED state. and now if you navigate to your activity, since the saved instance is removed due to memory requirements. instead of ONRESUME, ONSTART is called. you can read more about it here: <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/activities/activity-lifecycle</a>\nand see this image for better understanding: <a href=\"https://developer.android.com/guide/components/images/activity_lifecycle.png\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/images/activity_lifecycle.png</a></p>\n<p>This uncertainty is one of the reasons why we now mostly use view models for a sizeable app.</p>\n"},{"tags":[],"owner":{"account_id":12864920,"reputation":93,"user_id":9305524,"display_name":"Mohammad Al-Hussein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655193862,"creation_date":1655193862,"answer_id":72613466,"question_id":72613227,"body_markdown":" accoording to lifecycle of activity [https://developer.android.com/guide/components/activities/activity-lifecycle][1], if there is no memory engouh the app process will kill, so when you back to your activity on created will call another time.\r\n\r\nthe image below for clarification:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/activities/activity-lifecycle\r\n  [2]: https://i.stack.imgur.com/tsEhY.jpg","title":"Why do codes work in the onCreate() instead of onResume()","body":"<p>accoording to lifecycle of activity <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/activities/activity-lifecycle</a>, if there is no memory engouh the app process will kill, so when you back to your activity on created will call another time.</p>\n<p>the image below for clarification:\n<a href=\"https://i.stack.imgur.com/tsEhY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tsEhY.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21467365,"reputation":1,"user_id":15817063,"display_name":"Victor Anyichie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1655193862,"creation_date":1655192751,"question_id":72613227,"body_markdown":"I&#39;m like an intermediate in android programming. I decided to take a deep dive into the Activity lifecycle methods and I realised something, like why do methods Toasts.show() and many other methods get called again when the activity is resumed. If the methods are in the onCreate so why then if you like go to another activity and return it will still give you a Toast message. Let me give an example.\r\n\r\n\r\n    public class MainActivity extends Activity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n      super.onCreate(savedInstanceState);\r\n\r\n    {Your Initialization go here }\r\n    \r\n\r\n     //Toas message \r\n     Toast.makeText(code).show();\r\n     }\r\n     }\r\n    \r\nSo imagine you leaving this activity for another one and then coming back... why does it still show the Toast message. Because since the lifecycle is \r\nOnCreate\r\nonResume \r\nonStart\r\nonPause\r\nonstop\r\nonDestroy\r\n\r\nAnd when you come back to your MainActivity it calls the \r\nonResume\r\nonStart.\r\nSo if onCreate is not called...So how does the Toast message show.\r\nPlease someone should help me answer this I&#39;ve searched all day but couldn&#39;t find answers.\r\n    ","title":"Why do codes work in the onCreate() instead of onResume()","body":"<p>I'm like an intermediate in android programming. I decided to take a deep dive into the Activity lifecycle methods and I realised something, like why do methods Toasts.show() and many other methods get called again when the activity is resumed. If the methods are in the onCreate so why then if you like go to another activity and return it will still give you a Toast message. Let me give an example.</p>\n<pre><code>public class MainActivity extends Activity {\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n  super.onCreate(savedInstanceState);\n\n{Your Initialization go here }\n\n\n //Toas message \n Toast.makeText(code).show();\n }\n }\n</code></pre>\n<p>So imagine you leaving this activity for another one and then coming back... why does it still show the Toast message. Because since the lifecycle is\nOnCreate\nonResume\nonStart\nonPause\nonstop\nonDestroy</p>\n<p>And when you come back to your MainActivity it calls the\nonResume\nonStart.\nSo if onCreate is not called...So how does the Toast message show.\nPlease someone should help me answer this I've searched all day but couldn't find answers.</p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655110923,"post_id":72600155,"comment_id":128244290,"body_markdown":"You might as well write csv - why don&#39;t you?","body":"You might as well write csv - why don&#39;t you?"},{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1655111656,"post_id":72600155,"comment_id":128244522,"body_markdown":"@g00se It is a project obligation, so not csv","body":"@g00se It is a project obligation, so not csv"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1655112379,"post_id":72600155,"comment_id":128244757,"body_markdown":"[&quot;*You can provide a template workbook which is used as basis for the written data*&quot;](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/streaming/SXSSFWorkbook.html) - so maybe that &quot;template&quot; can be composed of the plain style?","body":"<a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/streaming/SXSSFWorkbook.html\" rel=\"nofollow noreferrer\">&quot;<i>You can provide a template workbook which is used as basis for the written data</i>&quot;</a> - so maybe that &quot;template&quot; can be composed of the plain style?"},{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1655188068,"post_id":72600155,"comment_id":128265883,"body_markdown":"So I need a template with already text format indicated for cells? Did I get it right?","body":"So I need a template with already text format indicated for cells? Did I get it right?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655189038,"post_id":72600155,"comment_id":128266147,"body_markdown":"That is my reading. I could be wrong so seek confirmation.","body":"That is my reading. I could be wrong so seek confirmation."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655193795,"creation_date":1655193795,"answer_id":72613452,"question_id":72600155,"body_markdown":"At first, having all cells using text data format in a spreadsheet is not really a good idea. In such a sheet no formulas will work. This contradicts the main usage of spreadsheets.\r\n\r\nBut your question is mainly about how to set a special default cell style for each cell in the sheet. In your case the special text style but that also could be any other style.\r\n\r\nOne solution would be using a template which already has that special style set for all cells. Then one could do something like this:\r\n\r\n    ...\r\n    Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./template.xlsx&quot;));\r\n    SXSSFWorkbook sxssfWorkbook = new SXSSFWorkbook((XSSFWorkbook)workbook); \r\n    Sheet sxssfSheet = sxssfWorkbook.getSheetAt(0);\r\n    // stream in the data into the sheet\r\n    ...\r\n\r\nIf you need doing this from scratch, then one could start having a new `XSSFWorkbook`. Then create the needed cell style and apply this for all cells. \r\n\r\nThe class [ColumnHelper](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/helpers/ColumnHelper.html) provides methods to set a default style to all cells in one given column. But it lacks methods to do this for all columns. So `org.apache.poi.xssf.usermodel.helpers.ColumnHelper` needs to be extended to provide that functionality.\r\n\r\nFollowing complete example shows this:\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.streaming.SXSSFWorkbook;\r\n    \r\n    class CreateExcelDefaultColumnStyle {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      Workbook workbook = new XSSFWorkbook();\t \r\n      DataFormat format = workbook.createDataFormat();\r\n      CellStyle textStyle = workbook.createCellStyle();\r\n      textStyle.setDataFormat(format.getFormat(&quot;@&quot;));  \r\n       \r\n      Sheet sheet = workbook.createSheet();\r\n      MyColumnHelper columnHelper = new MyColumnHelper(((XSSFSheet)sheet).getCTWorksheet());\r\n      columnHelper.setColDefaultStyle(0, workbook.getSpreadsheetVersion().getLastColumnIndex(), textStyle);\r\n    \t \r\n      SXSSFWorkbook sxssfWorkbook = new SXSSFWorkbook((XSSFWorkbook)workbook); \r\n      Sheet sxssfSheet = sxssfWorkbook.getSheetAt(0);\r\n      // stream in the data into the sheet\r\n       \r\n      FileOutputStream fileout = new FileOutputStream(&quot;./Excel.xlsx&quot;);\r\n      sxssfWorkbook.write(fileout);\r\n      fileout.close();\r\n      sxssfWorkbook.close();\r\n      sxssfWorkbook.dispose();\r\n     }\r\n    }\r\n    \r\n    class MyColumnHelper extends org.apache.poi.xssf.usermodel.helpers.ColumnHelper {\r\n    \t\r\n     public MyColumnHelper(org.openxmlformats.schemas.spreadsheetml.x2006.main.CTWorksheet worksheet) {\r\n      super(worksheet);\r\n     }\r\n     \r\n     public void setColDefaultStyle(long fromCol, long toCol, CellStyle style) {\r\n      setColDefaultStyle(fromCol, toCol, style.getIndex());\r\n     }\t\r\n     public void setColDefaultStyle(long fromCol, long toCol, int styleId) {\r\n      org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCol col = getOrCreateColumn1Based(fromCol+1, true);\r\n      col.setMax(toCol+1);\r\n      col.setStyle(styleId);\r\n     } \r\n    }\r\n\r\nAfter running this code `Excel.xls` contains one sheet having all cells using the cell style where data format &quot;Text&quot; is set. It is tested and works using current `apache poi 5.2.2`.\r\n\r\n","title":"How to create an excel sheet with text format?","body":"<p>At first, having all cells using text data format in a spreadsheet is not really a good idea. In such a sheet no formulas will work. This contradicts the main usage of spreadsheets.</p>\n<p>But your question is mainly about how to set a special default cell style for each cell in the sheet. In your case the special text style but that also could be any other style.</p>\n<p>One solution would be using a template which already has that special style set for all cells. Then one could do something like this:</p>\n<pre><code>...\nWorkbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./template.xlsx&quot;));\nSXSSFWorkbook sxssfWorkbook = new SXSSFWorkbook((XSSFWorkbook)workbook); \nSheet sxssfSheet = sxssfWorkbook.getSheetAt(0);\n// stream in the data into the sheet\n...\n</code></pre>\n<p>If you need doing this from scratch, then one could start having a new <code>XSSFWorkbook</code>. Then create the needed cell style and apply this for all cells.</p>\n<p>The class <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/helpers/ColumnHelper.html\" rel=\"nofollow noreferrer\">ColumnHelper</a> provides methods to set a default style to all cells in one given column. But it lacks methods to do this for all columns. So <code>org.apache.poi.xssf.usermodel.helpers.ColumnHelper</code> needs to be extended to provide that functionality.</p>\n<p>Following complete example shows this:</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\n\nclass CreateExcelDefaultColumnStyle {\n\n public static void main(String[] args) throws Exception {\n  Workbook workbook = new XSSFWorkbook();    \n  DataFormat format = workbook.createDataFormat();\n  CellStyle textStyle = workbook.createCellStyle();\n  textStyle.setDataFormat(format.getFormat(&quot;@&quot;));  \n   \n  Sheet sheet = workbook.createSheet();\n  MyColumnHelper columnHelper = new MyColumnHelper(((XSSFSheet)sheet).getCTWorksheet());\n  columnHelper.setColDefaultStyle(0, workbook.getSpreadsheetVersion().getLastColumnIndex(), textStyle);\n     \n  SXSSFWorkbook sxssfWorkbook = new SXSSFWorkbook((XSSFWorkbook)workbook); \n  Sheet sxssfSheet = sxssfWorkbook.getSheetAt(0);\n  // stream in the data into the sheet\n   \n  FileOutputStream fileout = new FileOutputStream(&quot;./Excel.xlsx&quot;);\n  sxssfWorkbook.write(fileout);\n  fileout.close();\n  sxssfWorkbook.close();\n  sxssfWorkbook.dispose();\n }\n}\n\nclass MyColumnHelper extends org.apache.poi.xssf.usermodel.helpers.ColumnHelper {\n    \n public MyColumnHelper(org.openxmlformats.schemas.spreadsheetml.x2006.main.CTWorksheet worksheet) {\n  super(worksheet);\n }\n \n public void setColDefaultStyle(long fromCol, long toCol, CellStyle style) {\n  setColDefaultStyle(fromCol, toCol, style.getIndex());\n }  \n public void setColDefaultStyle(long fromCol, long toCol, int styleId) {\n  org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCol col = getOrCreateColumn1Based(fromCol+1, true);\n  col.setMax(toCol+1);\n  col.setStyle(styleId);\n } \n}\n</code></pre>\n<p>After running this code <code>Excel.xls</code> contains one sheet having all cells using the cell style where data format &quot;Text&quot; is set. It is tested and works using current <code>apache poi 5.2.2</code>.</p>\n"}],"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72613452,"answer_count":1,"score":0,"last_activity_date":1655193795,"creation_date":1655110549,"question_id":72600155,"body_markdown":"I am using SXSSFWorkbook for creating excel file. I know how to create data format for excel cell like this:\r\n\r\n    DataFormat fmt = workbook.createDataFormat();\r\n            CellStyle cellStyleText = workbook.createCellStyle();\r\n            cellStyleText.setDataFormat(\r\n                    fmt.getFormat(&quot;@&quot;));\r\n\r\nBut this one is good when you are trying to write the datas into the cell and at the same time indicate its format. But I want to set ALL cells in excel to text format, NOT only the cells I am  writing datas into. In default it creates sheet with general cell format. So I would like to know is there any tips for setting this cells into text format?","title":"How to create an excel sheet with text format?","body":"<p>I am using SXSSFWorkbook for creating excel file. I know how to create data format for excel cell like this:</p>\n<pre><code>DataFormat fmt = workbook.createDataFormat();\n        CellStyle cellStyleText = workbook.createCellStyle();\n        cellStyleText.setDataFormat(\n                fmt.getFormat(&quot;@&quot;));\n</code></pre>\n<p>But this one is good when you are trying to write the datas into the cell and at the same time indicate its format. But I want to set ALL cells in excel to text format, NOT only the cells I am  writing datas into. In default it creates sheet with general cell format. So I would like to know is there any tips for setting this cells into text format?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1655192218,"post_id":72613001,"comment_id":128267134,"body_markdown":"`HttpServerErrorException$InternalServerError` suggests that an error happened in the server, not in your client. You need to show the entire stack trace and server logs.","body":"<code>HttpServerErrorException$InternalServerError</code> suggests that an error happened in the server, not in your client. You need to show the entire stack trace and server logs."},{"owner":{"account_id":19963040,"reputation":401,"user_id":14630182,"display_name":"Arjun C E"},"score":0,"creation_date":1655193608,"post_id":72613001,"comment_id":128267620,"body_markdown":"added the stack trace","body":"added the stack trace"}],"owner":{"account_id":19963040,"reputation":401,"user_id":14630182,"display_name":"Arjun C E"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655193595,"creation_date":1655191527,"question_id":72613001,"body_markdown":"I am trying to send a byte array to API and then upload the byte array to AWS. This below code works fine for small files up to 4mb. but if the file is more than 4mb then I get this below exception. Is there any alternative to upload a byte array?\r\n\r\n **HttpServerErrorException$InternalServerError**\r\n\r\nService\r\n\r\n    SimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\r\n    requestFactory.setBufferRequestBody(false);\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.setRequestFactory(requestFactory);\r\n    HttpHeaders headers = new HttpHeaders();\r\n    MultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n    map.add(&quot;bucket&quot;, datajockeys3bucket.replace(sing_env,env));\r\n    map.add(&quot;key&quot;, &quot;clone&quot;.concat(sampleFile.substring(sampleFile.lastIndexOf(&quot;/&quot;))));\r\n    map.add(&quot;file&quot;, sampleFileArray);\r\n    HttpEntity&lt;MultiValueMap&gt; request = new HttpEntity(map, headers);\r\n    restTemplate.exchange(dataJockeyUrl.replace(sing_env,env).concat(&quot;/upload&quot;), HttpMethod.POST, request, Void.class);\r\n\r\nController\r\n\r\n    @PostMapping(&quot;/upload&quot;)\r\n    public void uploadToS3(@RequestParam String bucket, @RequestParam String key, @RequestParam byte[] file){\r\n        dataJockeyService.uploadFile(bucket,key,file);\r\n    }\r\n\r\nHow to fix this?\r\n\r\nStack Trace:\r\n\r\n    org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 null\r\n\tat org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:79)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:124)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)\r\n\tat com.clarivate.singularity.datajockey.services.impl.DataJockeyService.cloneJob(DataJockeyService.java:629)\r\n\tat com.clarivate.singularity.datajockey.services.impl.DataJockeyService$$FastClassBySpringCGLIB$$ec3c5e50.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)\r\n\tat com.clarivate.singularity.datajockey.services.impl.DataJockeyService$$EnhancerBySpringCGLIB$$ba7a7da2.cloneJob(&lt;generated&gt;)\r\n\tat com.clarivate.singularity.datajockey.controller.DataJockeyController.cloneJob(DataJockeyController.java:244)\r\n\tat com.clarivate.singularity.datajockey.controller.DataJockeyController$$FastClassBySpringCGLIB$$cbb9847d.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n\tat com.clarivate.singularity.datajockey.timelogger.SourceMasterExecutionTimeLogger.logTime(SourceMasterExecutionTimeLogger.java:28)\r\n\tat com.clarivate.singularity.datajockey.timelogger.SourceMasterExecutionTimeLogger.profileAllControllerMethods(SourceMasterExecutionTimeLogger.java:19)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n\tat com.clarivate.singularity.datajockey.controller.DataJockeyController$$EnhancerBySpringCGLIB$$82d6484.cloneJob(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)","title":"POSTing large byte array to API using restTemplate","body":"<p>I am trying to send a byte array to API and then upload the byte array to AWS. This below code works fine for small files up to 4mb. but if the file is more than 4mb then I get this below exception. Is there any alternative to upload a byte array?</p>\n<p><strong>HttpServerErrorException$InternalServerError</strong></p>\n<p>Service</p>\n<pre><code>SimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\nrequestFactory.setBufferRequestBody(false);\nRestTemplate restTemplate = new RestTemplate();\nrestTemplate.setRequestFactory(requestFactory);\nHttpHeaders headers = new HttpHeaders();\nMultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;String, Object&gt;();\nmap.add(&quot;bucket&quot;, datajockeys3bucket.replace(sing_env,env));\nmap.add(&quot;key&quot;, &quot;clone&quot;.concat(sampleFile.substring(sampleFile.lastIndexOf(&quot;/&quot;))));\nmap.add(&quot;file&quot;, sampleFileArray);\nHttpEntity&lt;MultiValueMap&gt; request = new HttpEntity(map, headers);\nrestTemplate.exchange(dataJockeyUrl.replace(sing_env,env).concat(&quot;/upload&quot;), HttpMethod.POST, request, Void.class);\n</code></pre>\n<p>Controller</p>\n<pre><code>@PostMapping(&quot;/upload&quot;)\npublic void uploadToS3(@RequestParam String bucket, @RequestParam String key, @RequestParam byte[] file){\n    dataJockeyService.uploadFile(bucket,key,file);\n}\n</code></pre>\n<p>How to fix this?</p>\n<p>Stack Trace:</p>\n<pre><code>org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 null\nat org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:79)\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:124)\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)\nat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\nat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)\nat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)\nat com.clarivate.singularity.datajockey.services.impl.DataJockeyService.cloneJob(DataJockeyService.java:629)\nat com.clarivate.singularity.datajockey.services.impl.DataJockeyService$$FastClassBySpringCGLIB$$ec3c5e50.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)\nat com.clarivate.singularity.datajockey.services.impl.DataJockeyService$$EnhancerBySpringCGLIB$$ba7a7da2.cloneJob(&lt;generated&gt;)\nat com.clarivate.singularity.datajockey.controller.DataJockeyController.cloneJob(DataJockeyController.java:244)\nat com.clarivate.singularity.datajockey.controller.DataJockeyController$$FastClassBySpringCGLIB$$cbb9847d.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\nat com.clarivate.singularity.datajockey.timelogger.SourceMasterExecutionTimeLogger.logTime(SourceMasterExecutionTimeLogger.java:28)\nat com.clarivate.singularity.datajockey.timelogger.SourceMasterExecutionTimeLogger.profileAllControllerMethods(SourceMasterExecutionTimeLogger.java:19)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\nat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\nat com.clarivate.singularity.datajockey.controller.DataJockeyController$$EnhancerBySpringCGLIB$$82d6484.cloneJob(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1655077897,"post_id":72596403,"comment_id":128238143,"body_markdown":"Could you try running with `-XX:+UseContainerSupport`? It&#39;s supposed to be enabled by default, but maybe it&#39;s disabled somehow.","body":"Could you try running with <code>-XX:+UseContainerSupport</code>? It&#39;s supposed to be enabled by default, but maybe it&#39;s disabled somehow."},{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":0,"creation_date":1655078802,"post_id":72596403,"comment_id":128238246,"body_markdown":"Updated the command. Still no luck. I am on a mac!. So docker container runs inside a VM. Not sure if it matters","body":"Updated the command. Still no luck. I am on a mac!. So docker container runs inside a VM. Not sure if it matters"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1655104525,"post_id":72596403,"comment_id":128242120,"body_markdown":"What OS is the VM running? How much memory does it have?","body":"What OS is the VM running? How much memory does it have?"}],"answers":[{"tags":[],"owner":{"account_id":2771244,"reputation":11224,"user_id":2385808,"accept_rate":62,"display_name":"Fritz Duchardt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655193591,"creation_date":1655193591,"answer_id":72613408,"question_id":72596403,"body_markdown":"When using Java in containers, one needs to be mindful of to what degree the JVM is aware of the resource limits set for the container it runs in. With Java version 10 (released in 2018) **the JVM was first enabled to figure out whether it is running in a container, and if yes, how much memory was allocated to the container.** Back then, CGroups V1 was used by the Linux Kernel to curtail the memory available to containers.\r\n\r\nIn the mean time, CGroups V2 (conceived in 2016) is gaining traction and is increasingly becoming the default for new Linux releases (e.g. Ubuntu and Flatcar Linux made it default in 2021). This means, **once again a Java update is required to support CGroups V2 for correct handling of JVM resource limits and Heap configuration**, which for OpenJDK came with [Java version 15][1].\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8230305","title":"Java heap inside docker container","body":"<p>When using Java in containers, one needs to be mindful of to what degree the JVM is aware of the resource limits set for the container it runs in. With Java version 10 (released in 2018) <strong>the JVM was first enabled to figure out whether it is running in a container, and if yes, how much memory was allocated to the container.</strong> Back then, CGroups V1 was used by the Linux Kernel to curtail the memory available to containers.</p>\n<p>In the mean time, CGroups V2 (conceived in 2016) is gaining traction and is increasingly becoming the default for new Linux releases (e.g. Ubuntu and Flatcar Linux made it default in 2021). This means, <strong>once again a Java update is required to support CGroups V2 for correct handling of JVM resource limits and Heap configuration</strong>, which for OpenJDK came with <a href=\"https://bugs.openjdk.org/browse/JDK-8230305\" rel=\"nofollow noreferrer\">Java version 15</a>.</p>\n"}],"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72613408,"answer_count":1,"score":2,"last_activity_date":1655193591,"creation_date":1655074077,"question_id":72596403,"body_markdown":"I ran this command which I found in this [blog][1].\r\n\r\n```\r\ndocker run -m 1GB openjdk:10 java \\\r\n-XX:+UseContainerSupport \\\r\n-XX:MinRAMPercentage=50 \\\r\n-XX:MaxRAMPercentage=80 \\\r\n-XshowSettings:vm \\\r\n-version\r\n```\r\n\r\nMy output is this.\r\n\r\n```\r\nVM settings:\r\n    Max. Heap Size (Estimated): 3.86G\r\n    Using VM: OpenJDK 64-Bit Server VM\r\n\r\nopenjdk version &quot;10.0.2&quot; 2018-07-17\r\nOpenJDK Runtime Environment (build 10.0.2+13-Debian-2)\r\nOpenJDK 64-Bit Server VM (build 10.0.2+13-Debian-2, mixed mode)\r\n```\r\n\r\nI am little bit confused now is that , when I limit the memory to 1G, why does Java see `3.86G` or What needs to be done to make java see container memory limits ?\r\n\r\nNote: I am on MAC. docker creates container inside the VM. So not sure if it matters. \r\n\r\n  [1]: https://www.merikan.com/2019/04/jvm-in-a-container/#java-10","title":"Java heap inside docker container","body":"<p>I ran this command which I found in this <a href=\"https://www.merikan.com/2019/04/jvm-in-a-container/#java-10\" rel=\"nofollow noreferrer\">blog</a>.</p>\n<pre><code>docker run -m 1GB openjdk:10 java \\\n-XX:+UseContainerSupport \\\n-XX:MinRAMPercentage=50 \\\n-XX:MaxRAMPercentage=80 \\\n-XshowSettings:vm \\\n-version\n</code></pre>\n<p>My output is this.</p>\n<pre><code>VM settings:\n    Max. Heap Size (Estimated): 3.86G\n    Using VM: OpenJDK 64-Bit Server VM\n\nopenjdk version &quot;10.0.2&quot; 2018-07-17\nOpenJDK Runtime Environment (build 10.0.2+13-Debian-2)\nOpenJDK 64-Bit Server VM (build 10.0.2+13-Debian-2, mixed mode)\n</code></pre>\n<p>I am little bit confused now is that , when I limit the memory to 1G, why does Java see <code>3.86G</code> or What needs to be done to make java see container memory limits ?</p>\n<p>Note: I am on MAC. docker creates container inside the VM. So not sure if it matters.</p>\n"},{"tags":["java","xml","compression","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1655206461,"post_id":72613341,"comment_id":128272253,"body_markdown":"You probably ran out of space on your filesystem during the log rollover.","body":"You probably ran out of space on your filesystem during the log rollover."},{"owner":{"account_id":25551154,"reputation":1,"user_id":19335501,"display_name":"codingNinja"},"score":0,"creation_date":1655314763,"post_id":72613341,"comment_id":128305598,"body_markdown":"This issue is very intermittent, still now fileSystem utilization is 100% but now its not happening, anything i am missing.","body":"This issue is very intermittent, still now fileSystem utilization is 100% but now its not happening, anything i am missing."},{"owner":{"account_id":25551154,"reputation":1,"user_id":19335501,"display_name":"codingNinja"},"score":0,"creation_date":1655315129,"post_id":72613341,"comment_id":128305738,"body_markdown":"@PiotrP.Karwasz Also, on some other node there is no such space issue.","body":"@PiotrP.Karwasz Also, on some other node there is no such space issue."}],"owner":{"account_id":25551154,"reputation":1,"user_id":19335501,"display_name":"codingNinja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655193555,"creation_date":1655193310,"question_id":72613341,"body_markdown":"I am using `SizeBasedTriggeringPolicy` and `TimeBasedTriggeringPolicy` both with Log4j2 for my app with following XML:\r\n\r\n```lang-xml\r\n        &lt;RollingRandomAccessFile name=&quot;app_log&quot; fileName=&quot;logs/app.log&quot;\r\n                                 filePattern=&quot;logs/app-%d{yyyy-MM-dd&#39;T&#39;HH:mm&#39;:00Z&#39;}.%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d %p %c{1.} [%t] [%X{opc-request-id}] %replace{%m}{[\\n\\r]+}{} %ex{full}{separator( | )}%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy interval=&quot;60&quot; modulate=&quot;true&quot;/&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;250 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;20&quot;&gt;\r\n                &lt;Delete basePath=&quot;logs/&quot; followLinks=&quot;True&quot;&gt;\r\n                    &lt;IfFileName glob=&quot;app-*.log*&quot;&gt;\r\n                        &lt;IfAny&gt;\r\n                            &lt;IfLastModified age=&quot;14d&quot;/&gt;\r\n                            &lt;IfAccumulatedFileSize exceeds=&quot;6 GB&quot;/&gt;\r\n                        &lt;/IfAny&gt;\r\n                    &lt;/IfFileName&gt;\r\n                &lt;/Delete&gt;\r\n            &lt;/DefaultRolloverStrategy&gt;\r\n        &lt;/RollingRandomAccessFile&gt;\r\n```\r\n\r\nBut this policy is not working as expected. I can see few files with size &gt; 251 MB. There are two copy of these types of files one is compressed and other without compression. \r\n[enter image description here][1]\r\n\r\nThese type of files are very less though but they are increasing host space. Can somebody please help me understand what i am missing here. Appreciate your help in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3twVI.png","title":"log4j2 not workig properly, creating 2 files with same name. The compressed one is currupted","body":"<p>I am using <code>SizeBasedTriggeringPolicy</code> and <code>TimeBasedTriggeringPolicy</code> both with Log4j2 for my app with following XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;RollingRandomAccessFile name=&quot;app_log&quot; fileName=&quot;logs/app.log&quot;\n                                 filePattern=&quot;logs/app-%d{yyyy-MM-dd'T'HH:mm':00Z'}.%i.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d %p %c{1.} [%t] [%X{opc-request-id}] %replace{%m}{[\\n\\r]+}{} %ex{full}{separator( | )}%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;60&quot; modulate=&quot;true&quot;/&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;250 MB&quot;/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;20&quot;&gt;\n                &lt;Delete basePath=&quot;logs/&quot; followLinks=&quot;True&quot;&gt;\n                    &lt;IfFileName glob=&quot;app-*.log*&quot;&gt;\n                        &lt;IfAny&gt;\n                            &lt;IfLastModified age=&quot;14d&quot;/&gt;\n                            &lt;IfAccumulatedFileSize exceeds=&quot;6 GB&quot;/&gt;\n                        &lt;/IfAny&gt;\n                    &lt;/IfFileName&gt;\n                &lt;/Delete&gt;\n            &lt;/DefaultRolloverStrategy&gt;\n        &lt;/RollingRandomAccessFile&gt;\n</code></pre>\n<p>But this policy is not working as expected. I can see few files with size &gt; 251 MB. There are two copy of these types of files one is compressed and other without compression.\n<a href=\"https://i.stack.imgur.com/3twVI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>These type of files are very less though but they are increasing host space. Can somebody please help me understand what i am missing here. Appreciate your help in advance.</p>\n"},{"tags":["java","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655193518,"creation_date":1655193518,"answer_id":72613397,"question_id":72613300,"body_markdown":"You didn&#39;t override the method from `ListenerAdapter` correctly. It is called `onSlashCommandInteraction` and not `onSlashCommand`.","title":"Discord JDA Bot doesn&#180;t respond on slash Command-","body":"<p>You didn't override the method from <code>ListenerAdapter</code> correctly. It is called <code>onSlashCommandInteraction</code> and not <code>onSlashCommand</code>.</p>\n"}],"owner":{"display_name":"user17784209"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655193518,"creation_date":1655193109,"question_id":72613300,"body_markdown":"my Discord Bot doesn&#180;t respond on my slash Command messages. May you can help me. Here is my code:\r\nmain class\r\n```java\r\npublic class dcbot1 {\r\n\r\n    public static void main(String[] args) throws LoginException, InterruptedException {\r\n\r\n        JDA jda = JDABuilder.createDefault(&quot;TOKEN&quot;)\r\n                .setActivity(Activity.listening(&quot;Testen&quot;))\r\n                .addEventListeners(new TestSlashCommand())\r\n                .build().awaitReady();\r\n\r\n        Guild guild = jda.getGuildById(&quot;GUILDID&quot;);\r\n\r\n        if (guild != null) {\r\n            guild.upsertCommand(&quot;test&quot;, &quot;Testet den ersten SlashCommand&quot;).queue();\r\n        }\r\n    }\r\n}\r\n```\r\nand the Command class:\r\n```java\r\npublic class TestSlashCommand extends ListenerAdapter {\r\n    public void onSlashCommand(SlashCommandInteractionEvent event) {\r\n        if(event.getName().equals(&quot;test&quot;)) {\r\n            event.reply(&quot;Dr&#252;cke die Kn&#246;pfe zum ausprobieren!&quot;).queue();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Discord JDA Bot doesn&#180;t respond on slash Command-","body":"<p>my Discord Bot doesn´t respond on my slash Command messages. May you can help me. Here is my code:\nmain class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class dcbot1 {\n\n    public static void main(String[] args) throws LoginException, InterruptedException {\n\n        JDA jda = JDABuilder.createDefault(&quot;TOKEN&quot;)\n                .setActivity(Activity.listening(&quot;Testen&quot;))\n                .addEventListeners(new TestSlashCommand())\n                .build().awaitReady();\n\n        Guild guild = jda.getGuildById(&quot;GUILDID&quot;);\n\n        if (guild != null) {\n            guild.upsertCommand(&quot;test&quot;, &quot;Testet den ersten SlashCommand&quot;).queue();\n        }\n    }\n}\n</code></pre>\n<p>and the Command class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestSlashCommand extends ListenerAdapter {\n    public void onSlashCommand(SlashCommandInteractionEvent event) {\n        if(event.getName().equals(&quot;test&quot;)) {\n            event.reply(&quot;Drücke die Knöpfe zum ausprobieren!&quot;).queue();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","email","quarkus","mailer","quarkus-qute"],"comments":[{"owner":{"account_id":16700070,"reputation":51,"user_id":12070075,"display_name":"Suraj Gudimetla"},"score":1,"creation_date":1655208860,"post_id":72612839,"comment_id":128273146,"body_markdown":"After searching, found this question with similar problem, can also refer this - https://stackoverflow.com/q/71021105/12070075 which some more explanation","body":"After searching, found this question with similar problem, can also refer this - <a href=\"https://stackoverflow.com/q/71021105/12070075\">stackoverflow.com/q/71021105/12070075</a> which some more explanation"}],"answers":[{"tags":[],"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655193504,"creation_date":1655193504,"answer_id":72613394,"question_id":72612839,"body_markdown":"I believe your problem is related to your values being treated as text by Qute when rendering your template.\r\n\r\nThe ```&lt;br&gt;``` should work if you replace your ```{body}``` by ```{body.raw}```, like this :\r\n```html\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body class=&quot;body&quot;&gt;\r\n&lt;br&gt;\r\n    Hi &lt;b&gt;Receiver&lt;/b&gt;,\r\n    &lt;br&gt;&lt;br&gt;\r\n        {body.raw}\r\n    &lt;br&gt;&lt;br&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAnd of course :\r\n\r\n```java\r\nString emailBody = &quot;First line &lt;br&gt;&quot; +\r\n  &quot;Second line &lt;br&gt;&quot; +\r\n  &quot;Third line &lt;br&gt;&quot; +\r\n  &quot;Fourth line&quot;;\r\n```","title":"Addition of new line in Quarkus Qute Template","body":"<p>I believe your problem is related to your values being treated as text by Qute when rendering your template.</p>\n<p>The <code>&lt;br&gt;</code> should work if you replace your <code>{body}</code> by <code>{body.raw}</code>, like this :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n\n&lt;body class=&quot;body&quot;&gt;\n&lt;br&gt;\n    Hi &lt;b&gt;Receiver&lt;/b&gt;,\n    &lt;br&gt;&lt;br&gt;\n        {body.raw}\n    &lt;br&gt;&lt;br&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And of course :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String emailBody = &quot;First line &lt;br&gt;&quot; +\n  &quot;Second line &lt;br&gt;&quot; +\n  &quot;Third line &lt;br&gt;&quot; +\n  &quot;Fourth line&quot;;\n</code></pre>\n"}],"owner":{"account_id":16700070,"reputation":51,"user_id":12070075,"display_name":"Suraj Gudimetla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72613394,"answer_count":1,"score":0,"last_activity_date":1655193504,"creation_date":1655190604,"question_id":72612839,"body_markdown":"In my Quarkus project, I am sending an qute template in an email using mail object.\r\n\r\nThe data is dynamically added to qute template from my code before sending the mail.\r\nThe sample template is\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body class=&quot;body&quot;&gt;\r\n    &lt;br&gt;\r\n        Hi &lt;b&gt;Receiver&lt;/b&gt;,\r\n        &lt;br&gt;&lt;br&gt;\r\n            {body}\r\n        &lt;br&gt;&lt;br&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nThe email body is added from code using this\r\n\r\n    @Inject\r\n    @Location(&quot;sampleMail&quot;)\r\n    MailTemplate mailObject;\r\n    \r\n    public void sendMail() {\r\n    \r\n      String emailBody = &quot;First line &lt;br&gt;&quot; +\r\n      &quot;Second line \\n&quot; +\r\n      &quot;Third line \\\\n&quot; + System.lineSeparator() +\r\n      &quot;Fourth line&quot;;\r\n    \r\n      mailObject.to(recipient)\r\n        .subject(&quot;Default subject&quot;)\r\n        .data(&quot;body&quot;, emailBody)\r\n        .send().subscribe().with(\r\n          success -&gt; logger.info(&quot;Message sent&quot;),\r\n          fail -&gt; logger.error(&quot;Exception while sending mail&quot;, fail));\r\n      }\r\n    }\r\n\r\n\r\nEven after trying `&lt;br&gt;, \\n, \\\\n, System.lineSeparator()` in body string, the new line is not rendered in qute template in the html that is being sent in the mail. All lines are present in one single line, new line is not created. Have checked the quarkus guides but there was no mention about this.\r\n\r\nAny solution or suggestions for solving this issue ?","title":"Addition of new line in Quarkus Qute Template","body":"<p>In my Quarkus project, I am sending an qute template in an email using mail object.</p>\n<p>The data is dynamically added to qute template from my code before sending the mail.\nThe sample template is</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n\n&lt;body class=&quot;body&quot;&gt;\n&lt;br&gt;\n    Hi &lt;b&gt;Receiver&lt;/b&gt;,\n    &lt;br&gt;&lt;br&gt;\n        {body}\n    &lt;br&gt;&lt;br&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The email body is added from code using this</p>\n<pre><code>@Inject\n@Location(&quot;sampleMail&quot;)\nMailTemplate mailObject;\n\npublic void sendMail() {\n\n  String emailBody = &quot;First line &lt;br&gt;&quot; +\n  &quot;Second line \\n&quot; +\n  &quot;Third line \\\\n&quot; + System.lineSeparator() +\n  &quot;Fourth line&quot;;\n\n  mailObject.to(recipient)\n    .subject(&quot;Default subject&quot;)\n    .data(&quot;body&quot;, emailBody)\n    .send().subscribe().with(\n      success -&gt; logger.info(&quot;Message sent&quot;),\n      fail -&gt; logger.error(&quot;Exception while sending mail&quot;, fail));\n  }\n}\n</code></pre>\n<p>Even after trying <code>&lt;br&gt;, \\n, \\\\n, System.lineSeparator()</code> in body string, the new line is not rendered in qute template in the html that is being sent in the mail. All lines are present in one single line, new line is not created. Have checked the quarkus guides but there was no mention about this.</p>\n<p>Any solution or suggestions for solving this issue ?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1387,"reputation":32183,"user_id":1853,"accept_rate":94,"display_name":"serg10"},"score":8,"creation_date":1283429209,"post_id":3626752,"comment_id":3809892,"body_markdown":"&quot;hence and exception occurs&quot; - what exception?  This won&#39;t be from java.util.HashMap...","body":"&quot;hence and exception occurs&quot; - what exception?  This won&#39;t be from java.util.HashMap..."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":2,"up_vote_count":585,"is_accepted":true,"score":583,"last_activity_date":1283428131,"creation_date":1283428131,"answer_id":3626779,"question_id":3626752,"body_markdown":"Do you ever store a null value? If not, you can just do:\r\n\r\n    Foo value = map.get(key);\r\n    if (value != null) {\r\n        ...\r\n    } else {\r\n        // No such key\r\n    }\r\n\r\nOtherwise, you *could* just check for existence if you get a null value returned:\r\n\r\n\r\n    Foo value = map.get(key);\r\n    if (value != null) {\r\n        ...\r\n    } else {\r\n        // Key might be present...\r\n        if (map.containsKey(key)) {\r\n           // Okay, there&#39;s a key but the value is null\r\n        } else {\r\n           // Definitely no such key\r\n        }\r\n    }\r\n","title":"Key existence check in HashMap","body":"<p>Do you ever store a null value? If not, you can just do:</p>\n\n<pre><code>Foo value = map.get(key);\nif (value != null) {\n    ...\n} else {\n    // No such key\n}\n</code></pre>\n\n<p>Otherwise, you <em>could</em> just check for existence if you get a null value returned:</p>\n\n<pre><code>Foo value = map.get(key);\nif (value != null) {\n    ...\n} else {\n    // Key might be present...\n    if (map.containsKey(key)) {\n       // Okay, there's a key but the value is null\n    } else {\n       // Definitely no such key\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162408,"reputation":9549,"user_id":383838,"accept_rate":65,"display_name":"Jon Freedman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283428171,"creation_date":1283428171,"answer_id":3626786,"question_id":3626752,"body_markdown":"I usually use the idiom\r\n\r\n    Object value = map.get(key);\r\n    if (value == null) {\r\n        value = createValue(key);\r\n        map.put(key, value);\r\n    }\r\n\r\nThis means you only hit the map twice if the key is missing","title":"Key existence check in HashMap","body":"<p>I usually use the idiom</p>\n\n<pre><code>Object value = map.get(key);\nif (value == null) {\n    value = createValue(key);\n    map.put(key, value);\n}\n</code></pre>\n\n<p>This means you only hit the map twice if the key is missing</p>\n"},{"tags":[],"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1469277021,"creation_date":1283428185,"answer_id":3626788,"question_id":3626752,"body_markdown":"Do you mean that you&#39;ve got code like \r\n\r\n&gt; `if(map.containsKey(key)) doSomethingWith(map.get(key))`\r\n\r\n all over the place ? Then you should simply check whether `map.get(key)` returned null and that&#39;s it.\r\nBy the way, HashMap doesn&#39;t throw exceptions for missing keys, it returns null instead. The only case where `containsKey` is needed is when you&#39;re storing null values, to distinguish between a null value and a missing value, but this is usually considered bad practice.","title":"Key existence check in HashMap","body":"<p>Do you mean that you've got code like </p>\n\n<blockquote>\n  <p><code>if(map.containsKey(key)) doSomethingWith(map.get(key))</code></p>\n</blockquote>\n\n<p>all over the place ? Then you should simply check whether <code>map.get(key)</code> returned null and that's it.\nBy the way, HashMap doesn't throw exceptions for missing keys, it returns null instead. The only case where <code>containsKey</code> is needed is when you're storing null values, to distinguish between a null value and a missing value, but this is usually considered bad practice.</p>\n"},{"tags":[],"owner":{"account_id":185700,"reputation":91879,"user_id":422597,"display_name":"Colin Hebert"},"down_vote_count":2,"up_vote_count":79,"is_accepted":false,"score":77,"last_activity_date":1283441250,"creation_date":1283428210,"answer_id":3626794,"question_id":3626752,"body_markdown":"You won&#39;t gain anything by checking that the key exists. This is the code of `HashMap`:\r\n\r\n    @Override\r\n    public boolean containsKey(Object key) {\r\n        Entry&lt;K, V&gt; m = getEntry(key);\r\n        return m != null;\r\n    }\r\n\r\n    @Override\r\n    public V get(Object key) {\r\n        Entry&lt;K, V&gt; m = getEntry(key);\r\n        if (m != null) {\r\n            return m.value;\r\n        }\r\n        return null;\r\n    }\r\n\r\nJust check if the return value for `get()` is different from `null`.\r\n\r\nThis is the HashMap source code.\r\n\r\n---\r\n\r\n**Resources :**\r\n\r\n - &lt;s&gt;[HashMap source code][1]&lt;/s&gt; Bad one\r\n - [HashMap source code][2] Good one\r\n\r\n\r\n  [1]: http://www.docjar.com/html/api/java/util/HashMap.java.html\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/HashMap.java","title":"Key existence check in HashMap","body":"<p>You won't gain anything by checking that the key exists. This is the code of <code>HashMap</code>:</p>\n\n<pre><code>@Override\npublic boolean containsKey(Object key) {\n    Entry&lt;K, V&gt; m = getEntry(key);\n    return m != null;\n}\n\n@Override\npublic V get(Object key) {\n    Entry&lt;K, V&gt; m = getEntry(key);\n    if (m != null) {\n        return m.value;\n    }\n    return null;\n}\n</code></pre>\n\n<p>Just check if the return value for <code>get()</code> is different from <code>null</code>.</p>\n\n<p>This is the HashMap source code.</p>\n\n<hr>\n\n<p><strong>Resources :</strong></p>\n\n<ul>\n<li><s><a href=\"http://www.docjar.com/html/api/java/util/HashMap.java.html\" rel=\"noreferrer\">HashMap source code</a></s> Bad one</li>\n<li><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/HashMap.java\" rel=\"noreferrer\">HashMap source code</a> Good one</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":103065,"reputation":305,"user_id":276252,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283428941,"creation_date":1283428941,"answer_id":3626871,"question_id":3626752,"body_markdown":"1. If key class is your&#39;s make sure the hashCode() and equals() methods implemented.\r\n2. Basically the access to HashMap should be O(1) but with wrong hashCode method implementation it&#39;s become O(n), because value with same hash key will stored as Linked list.\r\n","title":"Key existence check in HashMap","body":"<ol>\n<li>If key class is your's make sure the hashCode() and equals() methods implemented.</li>\n<li>Basically the access to HashMap should be O(1) but with wrong hashCode method implementation it's become O(n), because value with same hash key will stored as Linked list.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":159523,"reputation":12477,"user_id":378968,"accept_rate":87,"display_name":"Dead Programmer"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1564094944,"creation_date":1283432262,"answer_id":3627290,"question_id":3626752,"body_markdown":"Better way is to use `containsKey` method of `HashMap`. Tomorrow somebody will add null to the Map. You should differentiate between key presence and key has null value.","title":"Key existence check in HashMap","body":"<p>Better way is to use <code>containsKey</code> method of <code>HashMap</code>. Tomorrow somebody will add null to the Map. You should differentiate between key presence and key has null value.</p>\n"},{"tags":[],"owner":{"account_id":195090,"reputation":1505,"user_id":437791,"display_name":"Mikko Wilkman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1505575866,"creation_date":1283433935,"answer_id":3627513,"question_id":3626752,"body_markdown":"Just use `containsKey()` for clarity. It&#39;s fast and keeps the code clean and readable. The whole point of `HashMap`s is that the key lookup is fast, just make sure the `hashCode()` and `equals()` are properly implemented.","title":"Key existence check in HashMap","body":"<p>Just use <code>containsKey()</code> for clarity. It's fast and keeps the code clean and readable. The whole point of <code>HashMap</code>s is that the key lookup is fast, just make sure the <code>hashCode()</code> and <code>equals()</code> are properly implemented.</p>\n"},{"tags":[],"owner":{"account_id":4995515,"reputation":2030,"user_id":4016254,"accept_rate":80,"display_name":"Erlan"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1476698408,"creation_date":1447134365,"answer_id":33623711,"question_id":3626752,"body_markdown":"    if(map.get(key) != null || (map.get(key) == null &amp;&amp; map.containsKey(key)))","title":"Key existence check in HashMap","body":"<pre><code>if(map.get(key) != null || (map.get(key) == null &amp;&amp; map.containsKey(key)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508568440,"creation_date":1508485122,"answer_id":46844419,"question_id":3626752,"body_markdown":"[The Jon Skeet answer][1] addresses well the two scenarios (map with `null` value and not `null` value) in an efficient way.&lt;br&gt;\r\n\r\nAbout the number entries and the efficiency concern, I would like add something.\r\n\r\n\r\n&gt; I have a HashMap with say a 1.000 entries and I am looking at improving\r\n&gt; the efficiency. If the HashMap is being accessed very frequently, then\r\n&gt; checking for the key existence at every access will lead to a large\r\n&gt; overhead.\r\n\r\nA map with 1.000 entries is not a huge map.&lt;br&gt;\r\nAs well as a map with 5.000 or 10.000 entries.&lt;br&gt;\r\n`Map` are designed to make fast retrieval with such dimensions.&lt;br&gt;\r\n\r\n**Now, it assumes that `hashCode()` of the map keys provides a good distribution.**\r\n\r\nIf you may use an `Integer` as key type, do it.&lt;br&gt;\r\nIts `hashCode()` method is  very efficient since the collisions are not possible for unique `int` values :\r\n\r\n    public final class Integer extends Number implements Comparable&lt;Integer&gt; {\r\n        ...\r\n        @Override\r\n        public int hashCode() {\r\n            return Integer.hashCode(value);\r\n        }\r\n    \r\n        public static int hashCode(int value) {\r\n            return value;\r\n        }\r\n        ...\r\n    }\r\n\r\nIf for the key, you have to use another built-in type as `String` for example that is often used in `Map`, you may have some collisions but from 1 thousand to some thousands of objects in the `Map`, you should have very few of it as the `String.hashCode()` method provides a good distribution.&lt;br&gt;\r\n\r\nIf you use a custom type, override `hashCode()` and `equals()` correctly and ensure overall that `hashCode()` provides a fair distribution.&lt;br&gt;\r\nYou may refer to the item 9 of `Java Effective` refers it.&lt;br&gt;\r\nHere&#39;s a [post][2] that details the way.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3626779/270371\r\n  [2]: https://stackoverflow.com/questions/113511/best-implementation-for-hashcode-method","title":"Key existence check in HashMap","body":"<p><a href=\"https://stackoverflow.com/a/3626779/270371\">The Jon Skeet answer</a> addresses well the two scenarios (map with <code>null</code> value and not <code>null</code> value) in an efficient way.<br></p>\n\n<p>About the number entries and the efficiency concern, I would like add something.</p>\n\n<blockquote>\n  <p>I have a HashMap with say a 1.000 entries and I am looking at improving\n  the efficiency. If the HashMap is being accessed very frequently, then\n  checking for the key existence at every access will lead to a large\n  overhead.</p>\n</blockquote>\n\n<p>A map with 1.000 entries is not a huge map.<br>\nAs well as a map with 5.000 or 10.000 entries.<br>\n<code>Map</code> are designed to make fast retrieval with such dimensions.<br></p>\n\n<p><strong>Now, it assumes that <code>hashCode()</code> of the map keys provides a good distribution.</strong></p>\n\n<p>If you may use an <code>Integer</code> as key type, do it.<br>\nIts <code>hashCode()</code> method is  very efficient since the collisions are not possible for unique <code>int</code> values :</p>\n\n<pre><code>public final class Integer extends Number implements Comparable&lt;Integer&gt; {\n    ...\n    @Override\n    public int hashCode() {\n        return Integer.hashCode(value);\n    }\n\n    public static int hashCode(int value) {\n        return value;\n    }\n    ...\n}\n</code></pre>\n\n<p>If for the key, you have to use another built-in type as <code>String</code> for example that is often used in <code>Map</code>, you may have some collisions but from 1 thousand to some thousands of objects in the <code>Map</code>, you should have very few of it as the <code>String.hashCode()</code> method provides a good distribution.<br></p>\n\n<p>If you use a custom type, override <code>hashCode()</code> and <code>equals()</code> correctly and ensure overall that <code>hashCode()</code> provides a fair distribution.<br>\nYou may refer to the item 9 of <code>Java Effective</code> refers it.<br>\nHere's a <a href=\"https://stackoverflow.com/questions/113511/best-implementation-for-hashcode-method\">post</a> that details the way.</p>\n"},{"tags":[],"owner":{"account_id":2384004,"reputation":432,"user_id":2085356,"display_name":"nazmul idris"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543265928,"creation_date":1543265404,"answer_id":53488850,"question_id":3626752,"body_markdown":"You can also use the [`computeIfAbsent()`](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#computeIfAbsent-K-java.util.function.Function-) method in the `HashMap` class. \r\n\r\nIn the following example, `map` stores a list of transactions (integers) that are applied to the key (the name of the bank account). To add 2 transactions of `100` and `200` to `checking_account` you can write:\r\n\r\n    HashMap&lt;String, ArrayList&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n    map.computeIfAbsent(&quot;checking_account&quot;, key -&gt; new ArrayList&lt;&gt;())\r\n       .add(100)\r\n       .add(200);\r\n\r\nThis way you don&#39;t have to check to see if the key `checking_account` exists or not.\r\n\r\n- If it does not exist, one will be created and returned by the lambda expression. \r\n- If it exists, then the value for the key will be returned by `computeIfAbsent()`. \r\n\r\nReally elegant! &#128077;","title":"Key existence check in HashMap","body":"<p>You can also use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"noreferrer\"><code>computeIfAbsent()</code></a> method in the <code>HashMap</code> class. </p>\n\n<p>In the following example, <code>map</code> stores a list of transactions (integers) that are applied to the key (the name of the bank account). To add 2 transactions of <code>100</code> and <code>200</code> to <code>checking_account</code> you can write:</p>\n\n<pre><code>HashMap&lt;String, ArrayList&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\nmap.computeIfAbsent(\"checking_account\", key -&gt; new ArrayList&lt;&gt;())\n   .add(100)\n   .add(200);\n</code></pre>\n\n<p>This way you don't have to check to see if the key <code>checking_account</code> exists or not.</p>\n\n<ul>\n<li>If it does not exist, one will be created and returned by the lambda expression. </li>\n<li>If it exists, then the value for the key will be returned by <code>computeIfAbsent()</code>. </li>\n</ul>\n\n<p>Really elegant! 👍</p>\n"},{"tags":[],"owner":{"account_id":10975365,"reputation":11,"user_id":8064212,"display_name":"מרים בלוך"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655193502,"creation_date":1655040303,"answer_id":72592588,"question_id":3626752,"body_markdown":"Since java 1.8, you can simply use:\r\n\r\n```\r\nvar item = mapObject.getOrDefault(key, null);\r\nif(item != null)\r\n```","title":"Key existence check in HashMap","body":"<p>Since java 1.8, you can simply use:</p>\n<pre><code>var item = mapObject.getOrDefault(key, null);\nif(item != null)\n</code></pre>\n"}],"owner":{"account_id":50454,"reputation":5589,"user_id":150505,"accept_rate":81,"display_name":"athena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618116,"favorite_count":0,"down_vote_count":1,"up_vote_count":369,"accepted_answer_id":3626779,"answer_count":11,"score":368,"last_activity_date":1655193502,"creation_date":1283427916,"question_id":3626752,"body_markdown":"Is checking for key existence in HashMap always necessary?\r\n\r\nI have a HashMap with say a 1000 entries and I am looking at improving the efficiency.\r\nIf the HashMap is being accessed very frequently, then checking for the key existence at every access will lead to a large overhead. Instead if the key is not present and hence an exception occurs, I can catch the exception. (when I know that this will happen rarely). This will reduce accesses to the HashMap by half.\r\n\r\nThis might not be a good programming practice, but it will help me reduce the number of accesses. Or am I missing something here?\r\n\r\n[**Update**] I do not have null values in the HashMap.","title":"Key existence check in HashMap","body":"<p>Is checking for key existence in HashMap always necessary?</p>\n\n<p>I have a HashMap with say a 1000 entries and I am looking at improving the efficiency.\nIf the HashMap is being accessed very frequently, then checking for the key existence at every access will lead to a large overhead. Instead if the key is not present and hence an exception occurs, I can catch the exception. (when I know that this will happen rarely). This will reduce accesses to the HashMap by half.</p>\n\n<p>This might not be a good programming practice, but it will help me reduce the number of accesses. Or am I missing something here?</p>\n\n<p>[<strong>Update</strong>] I do not have null values in the HashMap.</p>\n"},{"tags":["java","eclipse","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":6605455,"reputation":179,"user_id":5102404,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436562877,"creation_date":1436538065,"answer_id":31343192,"question_id":31342689,"body_markdown":"you have to create a module of your Project A and add in the path of your project B.\r\n\r\nFollow this link for learn how to create module and use it in other project : [Creating a module library][1]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/help/configuring-module-dependencies-and-libraries.html\r\n\r\n\r\nHope i help you\r\n\r\nEDIT : ok so you have to create a module or a package with your Project A a .jar.\r\n\r\nafter do this, go to File -&gt; project structure.\r\n\r\nOn this windows go to Librairies -&gt; click on + and select your module project B.jar.\r\n\r\nand Now you have to import your librairie in your class like     \r\n`import projectb.*;`\r\n\r\nnow instancie the class you want to use and you can use all of the method of this class\r\n\r\nhope i help you with that precision   \r\n","title":"How do I use classes from another project in IntelliJ IDEA?","body":"<p>you have to create a module of your Project A and add in the path of your project B.</p>\n\n<p>Follow this link for learn how to create module and use it in other project : <a href=\"https://www.jetbrains.com/idea/help/configuring-module-dependencies-and-libraries.html\" rel=\"nofollow\">Creating a module library</a></p>\n\n<p>Hope i help you</p>\n\n<p>EDIT : ok so you have to create a module or a package with your Project A a .jar.</p>\n\n<p>after do this, go to File -> project structure.</p>\n\n<p>On this windows go to Librairies -> click on + and select your module project B.jar.</p>\n\n<p>and Now you have to import your librairie in your class like<br>\n<code>import projectb.*;</code></p>\n\n<p>now instancie the class you want to use and you can use all of the method of this class</p>\n\n<p>hope i help you with that precision   </p>\n"},{"tags":[],"owner":{"account_id":2893635,"reputation":3813,"user_id":5060066,"display_name":"Ivaylo D. Ivanov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1436773144,"creation_date":1436773144,"answer_id":31377788,"question_id":31342689,"body_markdown":"Eclipse&#39;s concepts of &quot;workspace&quot; and &quot;project&quot; are matched by IntelliJ IDEA&#39;s &quot;project&quot; and &quot;module&quot;. \r\nSo one way of doing this is to create a project, say ProjectAB, and import your two existing ProjectA and ProjectB as modules, I&#39;ll call them ModuleA and ModuleB. \r\n\r\nRight after that make sure that in the project tree both modules have correct folders marked as &quot;source&quot; folders (in my case they are ModuleA/src/main/java and ModuleB/src/main/java).\r\n\r\nThen you have to configure ModuleB to depend on ModuleA (ModuleB &gt; Dependencies&gt; Add &gt; Module Dependency). \r\n","title":"How do I use classes from another project in IntelliJ IDEA?","body":"<p>Eclipse's concepts of \"workspace\" and \"project\" are matched by IntelliJ IDEA's \"project\" and \"module\". \nSo one way of doing this is to create a project, say ProjectAB, and import your two existing ProjectA and ProjectB as modules, I'll call them ModuleA and ModuleB. </p>\n\n<p>Right after that make sure that in the project tree both modules have correct folders marked as \"source\" folders (in my case they are ModuleA/src/main/java and ModuleB/src/main/java).</p>\n\n<p>Then you have to configure ModuleB to depend on ModuleA (ModuleB > Dependencies> Add > Module Dependency). </p>\n"},{"tags":[],"owner":{"display_name":"user4948585"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1537532102,"creation_date":1436787554,"answer_id":31382388,"question_id":31342689,"body_markdown":"You can create dependency between these projects (Make project B dependent on project A) What it does is essentially compiles project A first then put its compiled jar as dependency to Project B for compiling or running.\r\nYou can do this manually also.\r\n\r\nSteps in IDEA ( You won&#39;t need these below steps if you follow below mentioned best practices):\r\n\r\n1. Right click on project and select open module settings\r\n2. Go to dependencies tab\r\n3. click plus sign and add the module you want to use.\r\n\r\nBest practices:\r\n\r\n1. Never use project class in another project, always create a nice interface and use that interface in other projects. \r\n2. If possible use Dependency Injection to manage different projects and their dependencies (this internally uses interfaces to do this)\r\n3. Use build tool like ant/maven/ivy etc to manage build process.\r\n4. Enjoy :)","title":"How do I use classes from another project in IntelliJ IDEA?","body":"<p>You can create dependency between these projects (Make project B dependent on project A) What it does is essentially compiles project A first then put its compiled jar as dependency to Project B for compiling or running.\nYou can do this manually also.</p>\n\n<p>Steps in IDEA ( You won't need these below steps if you follow below mentioned best practices):</p>\n\n<ol>\n<li>Right click on project and select open module settings</li>\n<li>Go to dependencies tab</li>\n<li>click plus sign and add the module you want to use.</li>\n</ol>\n\n<p>Best practices:</p>\n\n<ol>\n<li>Never use project class in another project, always create a nice interface and use that interface in other projects. </li>\n<li>If possible use Dependency Injection to manage different projects and their dependencies (this internally uses interfaces to do this)</li>\n<li>Use build tool like ant/maven/ivy etc to manage build process.</li>\n<li>Enjoy :)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15408698,"reputation":41,"user_id":11116088,"display_name":"Natalija"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655193443,"creation_date":1655193443,"answer_id":72613373,"question_id":31342689,"body_markdown":"With Gradle: if you only manually add the dependency, you will get javaCompile task errors when building the project. \r\nYou need to add the dependency in your build.gradle and load Gradle changes. In your build.gradle:\r\n\r\n    dependencies {\r\n        implementation project(&#39;:&lt;name_of_project&gt;&#39;)\r\n    }\r\n","title":"How do I use classes from another project in IntelliJ IDEA?","body":"<p>With Gradle: if you only manually add the dependency, you will get javaCompile task errors when building the project.\nYou need to add the dependency in your build.gradle and load Gradle changes. In your build.gradle:</p>\n<pre><code>dependencies {\n    implementation project(':&lt;name_of_project&gt;')\n}\n</code></pre>\n"}],"owner":{"account_id":42014,"reputation":2088,"user_id":122250,"accept_rate":59,"display_name":"Simon Morgan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62949,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":31382388,"answer_count":4,"score":30,"last_activity_date":1655193443,"creation_date":1436536705,"question_id":31342689,"body_markdown":"I have two IntelliJ IDEA Java projects; ProjectA and ProjectB. I want to import and use code from ProjectA in ProjectB. How do I do this?\r\n\r\nIn Eclipse I would simply go to ProjectB&#39;s Build Path settings and add ProjectA.","title":"How do I use classes from another project in IntelliJ IDEA?","body":"<p>I have two IntelliJ IDEA Java projects; ProjectA and ProjectB. I want to import and use code from ProjectA in ProjectB. How do I do this?</p>\n\n<p>In Eclipse I would simply go to ProjectB's Build Path settings and add ProjectA.</p>\n"},{"tags":["java","android","xml","parse-platform","visibility"],"comments":[{"owner":{"account_id":426150,"reputation":7022,"user_id":807193,"accept_rate":30,"display_name":"Shadab Ansari"},"score":0,"creation_date":1462989115,"post_id":37169847,"comment_id":61874801,"body_markdown":"What&#39;s written in `fireGoalReminderAlert()`?","body":"What&#39;s written in <code>fireGoalReminderAlert()</code>?"},{"owner":{"account_id":23642054,"reputation":69,"user_id":17672171,"display_name":"blaz"},"score":0,"creation_date":1661513450,"post_id":37169847,"comment_id":129795808,"body_markdown":"Check that you don&#39;t have duplicate id&#39;s.","body":"Check that you don&#39;t have duplicate id&#39;s."}],"answers":[{"tags":[],"owner":{"account_id":3943661,"reputation":322,"user_id":4792194,"display_name":"kgundula"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1469605624,"creation_date":1462989443,"answer_id":37170084,"question_id":37169847,"body_markdown":"When you set a layout to visible from gone it&#39;s always a good idea to invalidate view to allow a redraw on the layout.\r\n\r\ngoalReminderLayout.setVisibility(View.VISIBLE);\r\n&lt;br/&gt;\r\ngoalReminderLayout.invalidate();\r\n\r\n\r\nlook at the android documentation for more info\r\n\r\nhttp://developer.android.com/reference/android/view/View.html\r\n","title":"Android setVisibility(View.Visible) not working on a layout","body":"<p>When you set a layout to visible from gone it's always a good idea to invalidate view to allow a redraw on the layout.</p>\n\n<p>goalReminderLayout.setVisibility(View.VISIBLE);\n<br/>\ngoalReminderLayout.invalidate();</p>\n\n<p>look at the android documentation for more info</p>\n\n<p><a href=\"http://developer.android.com/reference/android/view/View.html\" rel=\"noreferrer\">http://developer.android.com/reference/android/view/View.html</a></p>\n"},{"tags":[],"owner":{"account_id":5350710,"reputation":535,"user_id":4264914,"accept_rate":0,"display_name":"gekomad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655193214,"creation_date":1655193214,"answer_id":72613321,"question_id":37169847,"body_markdown":"Try this\r\n```\r\nHandler(Looper.getMainLooper()).post {\r\n     goalReminderLayout.setVisibility(View.VISIBLE);\r\n}\r\n```","title":"Android setVisibility(View.Visible) not working on a layout","body":"<p>Try this</p>\n<pre><code>Handler(Looper.getMainLooper()).post {\n     goalReminderLayout.setVisibility(View.VISIBLE);\n}\n</code></pre>\n"}],"owner":{"account_id":7903018,"reputation":55,"user_id":5969460,"accept_rate":50,"display_name":"Tabernaster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15233,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1655193214,"creation_date":1462988657,"question_id":37169847,"body_markdown":"I have a layout that I am trying to make visible and it is currently not working. The layout I want to make visible has the id &quot;goal_reminder&quot; below. The visibility is set to &quot;GONE&quot; in the xml.\r\n\r\nHere is the xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;com.View.pages.ActivityPage     \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;android.support.v4.widget.SwipeRefreshLayout\r\n        android:id=&quot;@+id/activity_refresh&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;android.support.v7.widget.RecyclerView\r\n            android:id=&quot;@+id/activitylist&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#e7e6ee&quot;\r\n            android:clipToPadding=&quot;false&quot;\r\n            android:divider=&quot;@null&quot;\r\n            android:paddingBottom=&quot;80dp&quot; /&gt;\r\n\r\n    &lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/goal_reminder&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/transparent_color&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:visibility=&quot;gone&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;145dp&quot;\r\n            android:src=&quot;@drawable/sunsetforgoal&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_below=&quot;@+id/goal_reminder_title&quot;\r\n            android:layout_marginEnd=&quot;5dp&quot;\r\n            android:layout_marginRight=&quot;5dp&quot;\r\n            android:layout_marginTop=&quot;35dp&quot;\r\n            android:src=&quot;@drawable/logo&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/goal_reminder_title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:text=&quot;No goal in progress&quot;\r\n            android:textColor=&quot;@color/text_color&quot;\r\n            android:textSize=&quot;26sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/goal_reminder_message&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_below=&quot;@+id/goal_reminder_title&quot;\r\n            android:layout_marginLeft=&quot;20dp&quot;\r\n            android:layout_marginStart=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:text=&quot;Create a new goal in your \\nprofile.&quot;\r\n            android:textColor=&quot;@color/text_color&quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/playground_welcome&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:autoLink=&quot;all&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        android:paddingLeft=&quot;16dp&quot;\r\n        android:paddingRight=&quot;16dp&quot;\r\n        android:text=&quot;@string/welcome_string&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:visibility=&quot;gone&quot; /&gt;\r\n\r\n    &lt;/com.View.pages.ActivityPage&gt;\r\n\r\nHere is the onFinishInflate(I am using the Screenplay/Flow libraries so that is taking place of onCreate). As you can see I am trying to set goalReminderLayout.setVisibility(View.Visible) and it&#39;s not actually making it visible. I have tested this same line of code outside of the if statements and it works just fine. I have also tested to make sure it&#39;s reaching that line of code in the if statements and that part is working fine, the lastTriggerDate is being saved properly in Parse.  I am lost on why it&#39;s working fine outside of the if statements in the onFinishInflate.  I also tested with a Log.d(&quot;TestVisiblity&quot;, goalReminderLayout.getVisibility()); which returns a 0(Visible) so it seems like its visible but its not actually showing up on my screen.\r\n\r\n      Date lastTriggerDate = new Date();\r\n      Boolean noDateInParse = false;\r\n\r\n      if (currentUser.getLastTriggerDate() != null) {\r\n        lastTriggerDate = currentUser.getLastTriggerDate();\r\n      } else {\r\n        noDateInParse = true;\r\n      }\r\n\r\n      Boolean inToday = DateUtils.isToday(lastTriggerDate.getTime());\r\n\r\n      if (!inToday) {\r\n        currentUser.setLastTriggerDate(currentTime);\r\n        currentUser.saveInBackground(new SaveCallback() {\r\n          @Override\r\n          public void done(ParseException e) {\r\n            if (e == null) {\r\n              goalReminderLayout.setVisibility(View.VISIBLE);\r\n              fireGoalReminderAlert();\r\n            } else {\r\n              e.printStackTrace();\r\n            }\r\n          }\r\n        });\r\n      } else if (noDateInParse) {\r\n        currentUser.setLastTriggerDate(currentTime);\r\n        currentUser.saveInBackground(new SaveCallback() {\r\n          @Override\r\n          public void done(ParseException e) {\r\n            if (e == null) {\r\n              goalReminderLayout.setVisibility(View.VISIBLE);\r\n\r\n              fireGoalReminderAlert();\r\n            } else {\r\n              e.printStackTrace();\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\nHere is the code for fireGoalReminderAlert(); It&#39;s just set to set the visibility back to gone after 10 seconds. I commented this line out when testing and still had no luck so I don&#39;t think this is causing the problem.\r\n\r\n    public void fireGoalReminderAlert() {\r\n    Runnable mRunnable;\r\n    Handler mHandler = new Handler();\r\n\r\n    mRunnable = new Runnable() {\r\n\r\n      @Override\r\n      public void run() {\r\n        goalReminderLayout.setVisibility(View.GONE);\r\n      }\r\n    };\r\n    mHandler.postDelayed(mRunnable, 10 * 1000);\r\n    }\r\n","title":"Android setVisibility(View.Visible) not working on a layout","body":"<p>I have a layout that I am trying to make visible and it is currently not working. The layout I want to make visible has the id \"goal_reminder\" below. The visibility is set to \"GONE\" in the xml.</p>\n\n<p>Here is the xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;com.View.pages.ActivityPage     \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;android.support.v4.widget.SwipeRefreshLayout\n    android:id=\"@+id/activity_refresh\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/activitylist\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"#e7e6ee\"\n        android:clipToPadding=\"false\"\n        android:divider=\"@null\"\n        android:paddingBottom=\"80dp\" /&gt;\n\n&lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\n\n&lt;RelativeLayout\n    android:id=\"@+id/goal_reminder\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@color/transparent_color\"\n    android:orientation=\"vertical\"\n    android:visibility=\"gone\"&gt;\n\n    &lt;ImageView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"145dp\"\n        android:src=\"@drawable/sunsetforgoal\" /&gt;\n\n    &lt;ImageView\n        android:layout_width=\"200dp\"\n        android:layout_height=\"50dp\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_below=\"@+id/goal_reminder_title\"\n        android:layout_marginEnd=\"5dp\"\n        android:layout_marginRight=\"5dp\"\n        android:layout_marginTop=\"35dp\"\n        android:src=\"@drawable/logo\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/goal_reminder_title\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_marginLeft=\"10dp\"\n        android:layout_marginStart=\"10dp\"\n        android:layout_marginTop=\"10dp\"\n        android:text=\"No goal in progress\"\n        android:textColor=\"@color/text_color\"\n        android:textSize=\"26sp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/goal_reminder_message\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_below=\"@+id/goal_reminder_title\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_marginStart=\"20dp\"\n        android:layout_marginTop=\"20dp\"\n        android:text=\"Create a new goal in your \\nprofile.\"\n        android:textColor=\"@color/text_color\"\n        android:textSize=\"18sp\" /&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;TextView\n    android:id=\"@+id/playground_welcome\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_centerInParent=\"true\"\n    android:autoLink=\"all\"\n    android:gravity=\"center_horizontal\"\n    android:paddingLeft=\"16dp\"\n    android:paddingRight=\"16dp\"\n    android:text=\"@string/welcome_string\"\n    android:textSize=\"18sp\"\n    android:visibility=\"gone\" /&gt;\n\n&lt;/com.View.pages.ActivityPage&gt;\n</code></pre>\n\n<p>Here is the onFinishInflate(I am using the Screenplay/Flow libraries so that is taking place of onCreate). As you can see I am trying to set goalReminderLayout.setVisibility(View.Visible) and it's not actually making it visible. I have tested this same line of code outside of the if statements and it works just fine. I have also tested to make sure it's reaching that line of code in the if statements and that part is working fine, the lastTriggerDate is being saved properly in Parse.  I am lost on why it's working fine outside of the if statements in the onFinishInflate.  I also tested with a Log.d(\"TestVisiblity\", goalReminderLayout.getVisibility()); which returns a 0(Visible) so it seems like its visible but its not actually showing up on my screen.</p>\n\n<pre><code>  Date lastTriggerDate = new Date();\n  Boolean noDateInParse = false;\n\n  if (currentUser.getLastTriggerDate() != null) {\n    lastTriggerDate = currentUser.getLastTriggerDate();\n  } else {\n    noDateInParse = true;\n  }\n\n  Boolean inToday = DateUtils.isToday(lastTriggerDate.getTime());\n\n  if (!inToday) {\n    currentUser.setLastTriggerDate(currentTime);\n    currentUser.saveInBackground(new SaveCallback() {\n      @Override\n      public void done(ParseException e) {\n        if (e == null) {\n          goalReminderLayout.setVisibility(View.VISIBLE);\n          fireGoalReminderAlert();\n        } else {\n          e.printStackTrace();\n        }\n      }\n    });\n  } else if (noDateInParse) {\n    currentUser.setLastTriggerDate(currentTime);\n    currentUser.saveInBackground(new SaveCallback() {\n      @Override\n      public void done(ParseException e) {\n        if (e == null) {\n          goalReminderLayout.setVisibility(View.VISIBLE);\n\n          fireGoalReminderAlert();\n        } else {\n          e.printStackTrace();\n        }\n      }\n    });\n  }\n</code></pre>\n\n<p>Here is the code for fireGoalReminderAlert(); It's just set to set the visibility back to gone after 10 seconds. I commented this line out when testing and still had no luck so I don't think this is causing the problem.</p>\n\n<pre><code>public void fireGoalReminderAlert() {\nRunnable mRunnable;\nHandler mHandler = new Handler();\n\nmRunnable = new Runnable() {\n\n  @Override\n  public void run() {\n    goalReminderLayout.setVisibility(View.GONE);\n  }\n};\nmHandler.postDelayed(mRunnable, 10 * 1000);\n}\n</code></pre>\n"},{"tags":["java","json","talend"],"answers":[{"tags":[],"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655193173,"creation_date":1655193173,"answer_id":72613316,"question_id":72611608,"body_markdown":"You can use a `tExtractJsonFields` instead of a tJava. This component extracts data from your input String following a json schema that you can define in metadata. With this you could extract all fields from your input .","title":"Consume the Json in kafka topic using tJava in Talend","body":"<p>You can use a <code>tExtractJsonFields</code> instead of a tJava. This component extracts data from your input String following a json schema that you can define in metadata. With this you could extract all fields from your input .</p>\n"}],"owner":{"account_id":17203423,"reputation":529,"user_id":12454540,"display_name":"swm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655193173,"creation_date":1655181697,"question_id":72611608,"body_markdown":"I am currently trying to create an ingestion job workflow using kafka in Talend Studio. The job will read the json data in topic &quot;work&quot; and store into the hive table. \r\n\r\nSnippet of json:\r\n\r\n    {&quot;Header&quot;: {&quot;Vers&quot;:&quot;1.0&quot;,&quot;Message&quot;: &quot;318&quot;,&quot;Owner&quot;: {&quot;ID&quot;: 102,&quot;FID&quot;: 101},&quot;Mode&quot;:&quot;8&quot;},&quot;Request&quot;: {&quot;Type&quot;:&quot;4&quot;,&quot;ObjType&quot;: &quot;S&quot;,&quot;OrderParam&quot;:[{&quot;Code&quot;: &quot;OpType&quot;,&quot;Value&quot;: &quot;30&quot;},{&quot;Code&quot;: &quot;Time&quot;,&quot;Value&quot;: &quot;202&quot;},{&quot;Code&quot;: &quot;AddProperty&quot;,&quot;ObjParam&quot;: [{&quot;Param&quot;: [{&quot;Code&quot;: &quot;Sync&quot;,&quot;Value&quot;: &quot;Y&quot;}]}]}]}}\r\n    {&quot;Header&quot;: {&quot;Vers&quot;:&quot;2.0&quot;,&quot;Message&quot;: &quot;318&quot;,&quot;Owner&quot;: {&quot;ID&quot;: 103,&quot;FID&quot;: 102},&quot;Mode&quot;:&quot;8&quot;},&quot;Request&quot;: {&quot;Type&quot;:&quot;5&quot;,&quot;ObjType&quot;: &quot;S&quot;,&quot;OrderParam&quot;:[{&quot;Code&quot;: &quot;OpType&quot;,&quot;Value&quot;: &quot;90&quot;},{&quot;Code&quot;: &quot;Time&quot;,&quot;Value&quot;: &quot;203&quot;},{&quot;Code&quot;: &quot;AddProperty&quot;,&quot;ObjParam&quot;: [{&quot;Param&quot;: [{&quot;Code&quot;: &quot;Sync&quot;,&quot;Value&quot;: &quot;Y&quot;}]}]}]}}\r\n\r\nTalend workflow: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy focus in this question is not the talend component. But the java code in tJava component that uses the java to fetch and read the json. \r\n\r\nJava code:\r\n\r\n    String output=((String)globalMap.get(&quot;tLogRow_1_OUTPUT&quot;));\r\n    \r\n    JSONObject jsonObject = new JSONObject(output);\r\n    System.out.println(jsonObject);\r\n    \r\n    String sourceDBName=(jsonObject.getString(&quot;Vers&quot;));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G9FGt.png\r\n\r\nThe code above able to get the data from tLogRow in &quot;output&quot; variable. However, it gives an error where it read null value for json object. What should I do to correctly get the data from json accordingly?\r\n","title":"Consume the Json in kafka topic using tJava in Talend","body":"<p>I am currently trying to create an ingestion job workflow using kafka in Talend Studio. The job will read the json data in topic &quot;work&quot; and store into the hive table.</p>\n<p>Snippet of json:</p>\n<pre><code>{&quot;Header&quot;: {&quot;Vers&quot;:&quot;1.0&quot;,&quot;Message&quot;: &quot;318&quot;,&quot;Owner&quot;: {&quot;ID&quot;: 102,&quot;FID&quot;: 101},&quot;Mode&quot;:&quot;8&quot;},&quot;Request&quot;: {&quot;Type&quot;:&quot;4&quot;,&quot;ObjType&quot;: &quot;S&quot;,&quot;OrderParam&quot;:[{&quot;Code&quot;: &quot;OpType&quot;,&quot;Value&quot;: &quot;30&quot;},{&quot;Code&quot;: &quot;Time&quot;,&quot;Value&quot;: &quot;202&quot;},{&quot;Code&quot;: &quot;AddProperty&quot;,&quot;ObjParam&quot;: [{&quot;Param&quot;: [{&quot;Code&quot;: &quot;Sync&quot;,&quot;Value&quot;: &quot;Y&quot;}]}]}]}}\n{&quot;Header&quot;: {&quot;Vers&quot;:&quot;2.0&quot;,&quot;Message&quot;: &quot;318&quot;,&quot;Owner&quot;: {&quot;ID&quot;: 103,&quot;FID&quot;: 102},&quot;Mode&quot;:&quot;8&quot;},&quot;Request&quot;: {&quot;Type&quot;:&quot;5&quot;,&quot;ObjType&quot;: &quot;S&quot;,&quot;OrderParam&quot;:[{&quot;Code&quot;: &quot;OpType&quot;,&quot;Value&quot;: &quot;90&quot;},{&quot;Code&quot;: &quot;Time&quot;,&quot;Value&quot;: &quot;203&quot;},{&quot;Code&quot;: &quot;AddProperty&quot;,&quot;ObjParam&quot;: [{&quot;Param&quot;: [{&quot;Code&quot;: &quot;Sync&quot;,&quot;Value&quot;: &quot;Y&quot;}]}]}]}}\n</code></pre>\n<p>Talend workflow:</p>\n<p><a href=\"https://i.stack.imgur.com/G9FGt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G9FGt.png\" alt=\"enter image description here\" /></a></p>\n<p>My focus in this question is not the talend component. But the java code in tJava component that uses the java to fetch and read the json.</p>\n<p>Java code:</p>\n<pre><code>String output=((String)globalMap.get(&quot;tLogRow_1_OUTPUT&quot;));\n\nJSONObject jsonObject = new JSONObject(output);\nSystem.out.println(jsonObject);\n\nString sourceDBName=(jsonObject.getString(&quot;Vers&quot;));\n</code></pre>\n<p>The code above able to get the data from tLogRow in &quot;output&quot; variable. However, it gives an error where it read null value for json object. What should I do to correctly get the data from json accordingly?</p>\n"},{"tags":["java","image","performance","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1649753204,"post_id":71839473,"comment_id":126949854,"body_markdown":"[mcve] please.. mind the __M__ (leave out all the fluff - just a simple class to load the images and how you use it on a background thread)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.. mind the <b>M</b> (leave out all the fluff - just a simple class to load the images and how you use it on a background thread)"},{"owner":{"account_id":7728234,"reputation":540,"user_id":5852226,"display_name":"Sukma Wardana"},"score":0,"creation_date":1649820670,"post_id":71839473,"comment_id":126970134,"body_markdown":"@kleopatra I&#39;ve updated my answer to remove all the fluff and provide minimal reproducible example.","body":"@kleopatra I&#39;ve updated my answer to remove all the fluff and provide minimal reproducible example."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649845520,"post_id":71839473,"comment_id":126977281,"body_markdown":"hmm .. cannot reproduce the problem (could be the images, though). A note: I think, your storage is not needed, it will return immediately anyway - the loading is done by the image itself, that is you have many background threads that you don&#39;t (want to) control. So it might be that you are trying to navigate to an image that&#39;s not yet fully loaded - not sure what the system is supposed to do in such a case (doc states &quot;showing a placeholder&quot; while I&#39;m seeing a blank view until the image is fully loaded - checked its progress property)","body":"hmm .. cannot reproduce the problem (could be the images, though). A note: I think, your storage is not needed, it will return immediately anyway - the loading is done by the image itself, that is you have many background threads that you don&#39;t (want to) control. So it might be that you are trying to navigate to an image that&#39;s not yet fully loaded - not sure what the system is supposed to do in such a case (doc states &quot;showing a placeholder&quot; while I&#39;m seeing a blank view until the image is fully loaded - checked its progress property)"},{"owner":{"account_id":7728234,"reputation":540,"user_id":5852226,"display_name":"Sukma Wardana"},"score":0,"creation_date":1649903865,"post_id":71839473,"comment_id":126994997,"body_markdown":"Yes, my code doesn&#39;t have any issue processing images under 200 items. But, when reaching 200 images it shows this behaviour. Might need to see another options on how to solve this issue","body":"Yes, my code doesn&#39;t have any issue processing images under 200 items. But, when reaching 200 images it shows this behaviour. Might need to see another options on how to solve this issue"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1649999455,"post_id":71839473,"comment_id":127019448,"body_markdown":"Try to use [`GridView`](https://controlsfx.github.io/javadoc/11.0.3/org.controlsfx.controls/org/controlsfx/control/GridView.html).","body":"Try to use <a href=\"https://controlsfx.github.io/javadoc/11.0.3/org.controlsfx.controls/org/controlsfx/control/GridView.html\" rel=\"nofollow noreferrer\"><code>GridView</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649919200,"creation_date":1649878774,"answer_id":71863051,"question_id":71839473,"body_markdown":"The problem is that you load all images in full size (it requires a lot of memory) at one time and they saved in `List&lt;Pictures&gt;` so they stay in memory. I tried to load 100 big pictures with your code and to 10th picture i got `OutOfMemoryError: Java heap space` (used heap was about 2.5GB in size).\r\n\r\nI found two possible solutions:\r\n\r\n 1. Resize images.\r\n 2. Load image on demand (lazy).\r\n\r\nResizing images to 800px width reduce used heap to 600MB. For that i changed the `Picture`&#39;s class constructor.\r\n\r\n    public Picture(final String name, final Path src) throws IOException {\r\n        this(name, new Image(src.toUri().toURL().toExternalForm(), 800, 0, true, true, true));\r\n    }\r\n\r\nIn case where an image is loaded only when it is necessary, the most time used heap size was about 250MB, with several jumps to 500MB.\r\nAgain, I changed constructors of the class `Picture` and introduced a new field `imageUrl`, so a `Path` just converted to a `URL string` and an `Image` object is not created.\r\n\r\n    private final String imageUrl;\r\n    \r\n    public Picture(final String name, final Path src) throws IOException {\r\n        this(name, src.toUri().toURL().toExternalForm());\r\n    }\r\n    \r\n    public Picture(final String name, final String imageUrl) {\r\n        this.name = name;\r\n        this.imageUrl = imageUrl;\r\n    }\r\n\r\nThe `image()` method now doesn&#39;t return a preload image but load an image on demand and does it synchronously.\r\n\r\n    public final Image image() {\r\n        return new Image(imageUrl);\r\n    }\r\n\r\nFor a folder with 850 images I got this:\r\n\r\nLoading image while `Picture` is created and save them all in a `List` results to consuming a lot of memory and GC activity (that can&#39;t do anything to free memory). \r\n\r\n[graphs for cpu and heap usage without lazy loading][1]\r\n\r\n\r\nAnd with lazy loading I got these graphs.\r\n\r\n[graphs for cpu and heap usage with lazy loading][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P74Zq.png\r\n  [2]: https://i.stack.imgur.com/B2nFF.png","title":"JavaFX Image Performance Optimization","body":"<p>The problem is that you load all images in full size (it requires a lot of memory) at one time and they saved in <code>List&lt;Pictures&gt;</code> so they stay in memory. I tried to load 100 big pictures with your code and to 10th picture i got <code>OutOfMemoryError: Java heap space</code> (used heap was about 2.5GB in size).</p>\n<p>I found two possible solutions:</p>\n<ol>\n<li>Resize images.</li>\n<li>Load image on demand (lazy).</li>\n</ol>\n<p>Resizing images to 800px width reduce used heap to 600MB. For that i changed the <code>Picture</code>'s class constructor.</p>\n<pre><code>public Picture(final String name, final Path src) throws IOException {\n    this(name, new Image(src.toUri().toURL().toExternalForm(), 800, 0, true, true, true));\n}\n</code></pre>\n<p>In case where an image is loaded only when it is necessary, the most time used heap size was about 250MB, with several jumps to 500MB.\nAgain, I changed constructors of the class <code>Picture</code> and introduced a new field <code>imageUrl</code>, so a <code>Path</code> just converted to a <code>URL string</code> and an <code>Image</code> object is not created.</p>\n<pre><code>private final String imageUrl;\n\npublic Picture(final String name, final Path src) throws IOException {\n    this(name, src.toUri().toURL().toExternalForm());\n}\n\npublic Picture(final String name, final String imageUrl) {\n    this.name = name;\n    this.imageUrl = imageUrl;\n}\n</code></pre>\n<p>The <code>image()</code> method now doesn't return a preload image but load an image on demand and does it synchronously.</p>\n<pre><code>public final Image image() {\n    return new Image(imageUrl);\n}\n</code></pre>\n<p>For a folder with 850 images I got this:</p>\n<p>Loading image while <code>Picture</code> is created and save them all in a <code>List</code> results to consuming a lot of memory and GC activity (that can't do anything to free memory).</p>\n<p><a href=\"https://i.stack.imgur.com/P74Zq.png\" rel=\"nofollow noreferrer\">graphs for cpu and heap usage without lazy loading</a></p>\n<p>And with lazy loading I got these graphs.</p>\n<p><a href=\"https://i.stack.imgur.com/B2nFF.png\" rel=\"nofollow noreferrer\">graphs for cpu and heap usage with lazy loading</a></p>\n"}],"owner":{"account_id":7728234,"reputation":540,"user_id":5852226,"display_name":"Sukma Wardana"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71863051,"answer_count":1,"score":2,"last_activity_date":1655192956,"creation_date":1649752501,"question_id":71839473,"body_markdown":"I&#39;m making a picture viewer application with JavaFX 17. To summarize, the application is like Windows Photo / Windows Picture Viewer. The user could open a picture or a folder. The application will display the given picture or the first picture from the given folder. My application will display one picture at a time, User could navigate the picture using available control (next, prev, last, &amp; beginning).\r\n\r\nI&#39;ve checked the below threads to make sure it&#39;s optimised enough:\r\n\r\n- https://stackoverflow.com/q/36318197/5852226\r\n- https://stackoverflow.com/q/14467719/5852226\r\n\r\nBut, I found that my code has an issue with processing 200 pictures with each size around 1~2 MB.\r\n\r\nWithout [background loading][2], the application does not display anything. Even though the navigation control state is changed because of knowing that there are available pictures. So, click *next &amp; prev* only shows a blank screen. When using the background loading, only a few of the very first image is loaded. After several *next* control, suddenly it&#39;s become blank again.\r\n\r\nHere is my minimal, reproducible example:\r\n\r\n```java\r\npackage com.swardana.mcve.image;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.Executors;\r\nimport javafx.application.Application;\r\nimport javafx.concurrent.Task;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * JavaFX App\r\n */\r\npublic class App extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        var view = new View();\r\n        var path = Paths.get(&quot;Path/to/many/images&quot;);\r\n        var storage = new Storage(new PictureSource(path));\r\n        storage.setOnSucceeded(eh -&gt; view.exhibit(storage.getValue()));\r\n        Executors.newSingleThreadExecutor().submit(storage);\r\n        var scene = new Scene(view, 640, 480);\r\n        scene.addEventFilter(KeyEvent.KEY_PRESSED, eh -&gt; {\r\n            switch (eh.getCode()) {\r\n                case RIGHT:\r\n                    view.next();\r\n                    break;\r\n                case DOWN:\r\n                    view.last();\r\n                    break;\r\n                case LEFT:\r\n                    view.prev();\r\n                    break;\r\n                case UP:\r\n                    view.beginning();\r\n                    break;    \r\n                default:\r\n                    throw new AssertionError();\r\n            }\r\n        });\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    public class Picture {\r\n\r\n        private final String name;\r\n        private final Image image;\r\n\r\n        public Picture(final String name, final Path src) throws IOException {\r\n            this(name, new Image(src.toUri().toURL().toExternalForm(), true));\r\n        }\r\n\r\n        public Picture(final String name, final Image img) {\r\n            this.name = name;\r\n            this.image = img;\r\n        }\r\n\r\n        public final String name() {\r\n            return this.name;\r\n        }\r\n\r\n        public final Image image() {\r\n            return this.image;\r\n        }\r\n\r\n    }\r\n\r\n    public class PictureSource {\r\n\r\n        private final Path source;\r\n\r\n        public PictureSource(final Path src) {\r\n            this.source = src;\r\n        }\r\n\r\n        public final List&lt;Picture&gt; pictures() {\r\n            var dir = this.source.toString();\r\n            final List&lt;Picture&gt; pictures = new ArrayList&lt;&gt;();\r\n            try (var stream = Files.newDirectoryStream(this.source, &quot;*.{png,PNG,JPG,jpg,JPEG,jpeg,GIF,gif,BMP,bmp}&quot;)) {\r\n                for (final var path : stream) {\r\n                    var picName = path.getFileName().toString();\r\n                    pictures.add(\r\n                        new Picture(picName, path)\r\n                    );\r\n                }\r\n                return pictures;\r\n            } catch (final IOException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class Storage extends Task&lt;List&lt;Picture&gt;&gt; {\r\n        private final PictureSource source;\r\n\r\n        public Storage(final PictureSource src) {\r\n            this.source = src;\r\n        }\r\n\r\n        @Override\r\n        protected final List&lt;Picture&gt; call() throws Exception {\r\n            return this.source.pictures();\r\n        }\r\n    }\r\n    \r\n    public class View extends VBox {\r\n        private final ImageView image;\r\n        private List&lt;Picture&gt; pictures;\r\n        private int lastIdx;\r\n        private int index;\r\n        \r\n        public View() {\r\n            this.image = new ImageView();\r\n            this.initGraphics();\r\n        }\r\n        \r\n        // This method to accept value from the `Storage`.\r\n        public void exhibit(final List&lt;Picture&gt; pics) {\r\n           this.pictures = pics;\r\n           this.index = 0;\r\n           this.lastIdx = pics.size();\r\n           this.onChange();\r\n        }\r\n        \r\n        public void next() {\r\n            if (this.index != this.lastIdx - 1) {\r\n                this.index++;\r\n                this.onChange();\r\n            }\r\n        }\r\n        \r\n        public void prev() {\r\n            if (this.index != 0) {\r\n                this.index--;\r\n                this.onChange();\r\n            }\r\n        }\r\n        \r\n        public void last() {\r\n            this.index = this.lastIdx - 1;\r\n            this.onChange();\r\n        }\r\n        \r\n        public void beginning() {\r\n            this.index = 0;\r\n            this.onChange();\r\n        }\r\n\r\n        // Whenever the action change, update the image from pictures.\r\n        public void onChange() {\r\n            this.image.setImage(this.pictures.get(this.index).image());\r\n        }\r\n        \r\n        private void initGraphics() {\r\n            this.getChildren().add(this.image);\r\n        }\r\n        \r\n    }\r\n\r\n}\r\n```\r\n\r\nReally appreciate any help and advise.\r\n\r\n  [1]: https://stackoverflow.com/a/14469157/5852226\r\n  [2]: http://docs.oracle.com/javafx/2/api/javafx/scene/image/Image.html#isBackgroundLoading%28%29","title":"JavaFX Image Performance Optimization","body":"<p>I'm making a picture viewer application with JavaFX 17. To summarize, the application is like Windows Photo / Windows Picture Viewer. The user could open a picture or a folder. The application will display the given picture or the first picture from the given folder. My application will display one picture at a time, User could navigate the picture using available control (next, prev, last, &amp; beginning).</p>\n<p>I've checked the below threads to make sure it's optimised enough:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/36318197/5852226\">JavaFx Images in Gridpane slowing down performance drastically</a></li>\n<li><a href=\"https://stackoverflow.com/q/14467719/5852226\">What is the best way to display millions of images in Java?</a></li>\n</ul>\n<p>But, I found that my code has an issue with processing 200 pictures with each size around 1~2 MB.</p>\n<p>Without <a href=\"http://docs.oracle.com/javafx/2/api/javafx/scene/image/Image.html#isBackgroundLoading%28%29\" rel=\"nofollow noreferrer\">background loading</a>, the application does not display anything. Even though the navigation control state is changed because of knowing that there are available pictures. So, click <em>next &amp; prev</em> only shows a blank screen. When using the background loading, only a few of the very first image is loaded. After several <em>next</em> control, suddenly it's become blank again.</p>\n<p>Here is my minimal, reproducible example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.swardana.mcve.image;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.Executors;\nimport javafx.application.Application;\nimport javafx.concurrent.Task;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\n/**\n * JavaFX App\n */\npublic class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        var view = new View();\n        var path = Paths.get(&quot;Path/to/many/images&quot;);\n        var storage = new Storage(new PictureSource(path));\n        storage.setOnSucceeded(eh -&gt; view.exhibit(storage.getValue()));\n        Executors.newSingleThreadExecutor().submit(storage);\n        var scene = new Scene(view, 640, 480);\n        scene.addEventFilter(KeyEvent.KEY_PRESSED, eh -&gt; {\n            switch (eh.getCode()) {\n                case RIGHT:\n                    view.next();\n                    break;\n                case DOWN:\n                    view.last();\n                    break;\n                case LEFT:\n                    view.prev();\n                    break;\n                case UP:\n                    view.beginning();\n                    break;    \n                default:\n                    throw new AssertionError();\n            }\n        });\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    public class Picture {\n\n        private final String name;\n        private final Image image;\n\n        public Picture(final String name, final Path src) throws IOException {\n            this(name, new Image(src.toUri().toURL().toExternalForm(), true));\n        }\n\n        public Picture(final String name, final Image img) {\n            this.name = name;\n            this.image = img;\n        }\n\n        public final String name() {\n            return this.name;\n        }\n\n        public final Image image() {\n            return this.image;\n        }\n\n    }\n\n    public class PictureSource {\n\n        private final Path source;\n\n        public PictureSource(final Path src) {\n            this.source = src;\n        }\n\n        public final List&lt;Picture&gt; pictures() {\n            var dir = this.source.toString();\n            final List&lt;Picture&gt; pictures = new ArrayList&lt;&gt;();\n            try (var stream = Files.newDirectoryStream(this.source, &quot;*.{png,PNG,JPG,jpg,JPEG,jpeg,GIF,gif,BMP,bmp}&quot;)) {\n                for (final var path : stream) {\n                    var picName = path.getFileName().toString();\n                    pictures.add(\n                        new Picture(picName, path)\n                    );\n                }\n                return pictures;\n            } catch (final IOException ex) {\n                throw new RuntimeException(ex);\n            }\n        }\n    }\n    \n    public class Storage extends Task&lt;List&lt;Picture&gt;&gt; {\n        private final PictureSource source;\n\n        public Storage(final PictureSource src) {\n            this.source = src;\n        }\n\n        @Override\n        protected final List&lt;Picture&gt; call() throws Exception {\n            return this.source.pictures();\n        }\n    }\n    \n    public class View extends VBox {\n        private final ImageView image;\n        private List&lt;Picture&gt; pictures;\n        private int lastIdx;\n        private int index;\n        \n        public View() {\n            this.image = new ImageView();\n            this.initGraphics();\n        }\n        \n        // This method to accept value from the `Storage`.\n        public void exhibit(final List&lt;Picture&gt; pics) {\n           this.pictures = pics;\n           this.index = 0;\n           this.lastIdx = pics.size();\n           this.onChange();\n        }\n        \n        public void next() {\n            if (this.index != this.lastIdx - 1) {\n                this.index++;\n                this.onChange();\n            }\n        }\n        \n        public void prev() {\n            if (this.index != 0) {\n                this.index--;\n                this.onChange();\n            }\n        }\n        \n        public void last() {\n            this.index = this.lastIdx - 1;\n            this.onChange();\n        }\n        \n        public void beginning() {\n            this.index = 0;\n            this.onChange();\n        }\n\n        // Whenever the action change, update the image from pictures.\n        public void onChange() {\n            this.image.setImage(this.pictures.get(this.index).image());\n        }\n        \n        private void initGraphics() {\n            this.getChildren().add(this.image);\n        }\n        \n    }\n\n}\n</code></pre>\n<p>Really appreciate any help and advise.</p>\n"},{"tags":["java","android","android-studio","storage","storage-access-framework"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":2,"creation_date":1655180042,"post_id":72611077,"comment_id":128264260,"body_markdown":"Why aren&#39;t you using the Uri returned by `ACTION_CREATE_DOCUMENT` in `onActivityResult`?","body":"Why aren&#39;t you using the Uri returned by <code>ACTION_CREATE_DOCUMENT</code> in <code>onActivityResult</code>?"},{"owner":{"account_id":17104326,"reputation":96,"user_id":12376685,"display_name":"MD Tayobur Rahman"},"score":0,"creation_date":1655232532,"post_id":72611077,"comment_id":128282431,"body_markdown":"I tried it but it&#39;s not work. the result is a blank file which size is 0B","body":"I tried it but it&#39;s not work. the result is a blank file which size is 0B"},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":2,"creation_date":1655238506,"post_id":72611077,"comment_id":128284294,"body_markdown":"Well yeah, you need to write content into that Uri. What did you think you needed to do with that Uri?","body":"Well yeah, you need to write content into that Uri. What did you think you needed to do with that Uri?"},{"owner":{"account_id":17104326,"reputation":96,"user_id":12376685,"display_name":"MD Tayobur Rahman"},"score":0,"creation_date":1655253454,"post_id":72611077,"comment_id":128287338,"body_markdown":"is there any way to do that directly?","body":"is there any way to do that directly?"}],"owner":{"account_id":17104326,"reputation":96,"user_id":12376685,"display_name":"MD Tayobur Rahman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655192599,"creation_date":1655175621,"question_id":72611077,"body_markdown":"I want to write a file with data using Android Storage Access Framework but I am facing some problems. in this below code I can create a file but the file is blank.\r\n\r\n```\r\n Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\r\n                       intent.setType(&quot;application/vnd.ms-excel&quot;);\r\n                       intent.putExtra(Intent.EXTRA_TITLE,DATABASE_NAME+&quot;_&quot;+AppUtils.getCurrentDate()+&quot;.xls&quot;);\r\n                       startActivityForResult(intent,CREATE_FILE);\r\n\r\n```\r\nif I use this below code then I can get writing access to throw the `Uri` from `onActivityResult`\r\n\r\n```\r\n  Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n                        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                        intent.setType(&quot;application/vnd.ms-excel&quot;);\r\n                        startActivityForResult(intent,WRITE_FILE);\r\n\r\n```\r\n\r\nit makes my app-less user-friendly because the users will have to create a file first then they have to select it again for writing data on it. I am expecting something directly to create and write the file into the Android Storage Access Framework. is there any good way to do that. please help.\r\n","title":"what is the best way to write a file with data using Android Storage Access Framework?","body":"<p>I want to write a file with data using Android Storage Access Framework but I am facing some problems. in this below code I can create a file but the file is blank.</p>\n<pre><code> Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\n                       intent.setType(&quot;application/vnd.ms-excel&quot;);\n                       intent.putExtra(Intent.EXTRA_TITLE,DATABASE_NAME+&quot;_&quot;+AppUtils.getCurrentDate()+&quot;.xls&quot;);\n                       startActivityForResult(intent,CREATE_FILE);\n\n</code></pre>\n<p>if I use this below code then I can get writing access to throw the <code>Uri</code> from <code>onActivityResult</code></p>\n<pre><code>  Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n                        intent.addCategory(Intent.CATEGORY_OPENABLE);\n                        intent.setType(&quot;application/vnd.ms-excel&quot;);\n                        startActivityForResult(intent,WRITE_FILE);\n\n</code></pre>\n<p>it makes my app-less user-friendly because the users will have to create a file first then they have to select it again for writing data on it. I am expecting something directly to create and write the file into the Android Storage Access Framework. is there any good way to do that. please help.</p>\n"},{"tags":["java","proxy","netflix-zuul"],"answers":[{"tags":[],"owner":{"account_id":7827113,"reputation":31,"user_id":5918308,"display_name":"Pablo Valiente"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455278191,"creation_date":1455278191,"answer_id":35362036,"question_id":35088498,"body_markdown":"As you can see in this [example][1], you have two methods available to extract the response body:\r\n\r\n1- ctx.getResponseBody();\r\n\r\n2- ctx.getResponseDataStream();\r\n\r\nYou have to check which one is not null and use that one. \r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-netflix/blob/master/spring-cloud-netflix-core/src/main/java/org/springframework/cloud/netflix/zuul/filters/post/SendResponseFilter.java","title":"How to get response body in Zuul post filter?","body":"<p>As you can see in this <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/blob/master/spring-cloud-netflix-core/src/main/java/org/springframework/cloud/netflix/zuul/filters/post/SendResponseFilter.java\" rel=\"nofollow\">example</a>, you have two methods available to extract the response body:</p>\n\n<p>1- ctx.getResponseBody();</p>\n\n<p>2- ctx.getResponseDataStream();</p>\n\n<p>You have to check which one is not null and use that one. </p>\n"},{"tags":[],"owner":{"account_id":1174053,"reputation":2922,"user_id":1150503,"accept_rate":58,"display_name":"Dariusz Mydlarz"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1455296317,"creation_date":1455296317,"answer_id":35368193,"question_id":35088498,"body_markdown":"I&#39;ve managed to overcome this. The solution consists of 4 steps:\r\n\r\n1. Read `ctx.getResponseDataStream()` into a ByteArrayOutputStream\r\n2. Copy OutputStream to 2 InputStreams.\r\n3. Use one of it for your custom purposes.\r\n4. Use the second to reassign to context: `context.setResponseBody(inputStream)`\r\n  * reading stream from point 1 would cause that the stream cannot be read again, so this way you&#39;re passing a new fresh stream that wasn&#39;t read yet","title":"How to get response body in Zuul post filter?","body":"<p>I've managed to overcome this. The solution consists of 4 steps:</p>\n\n<ol>\n<li>Read <code>ctx.getResponseDataStream()</code> into a ByteArrayOutputStream</li>\n<li>Copy OutputStream to 2 InputStreams.</li>\n<li>Use one of it for your custom purposes.</li>\n<li>Use the second to reassign to context: <code>context.setResponseBody(inputStream)</code>\n\n<ul>\n<li>reading stream from point 1 would cause that the stream cannot be read again, so this way you're passing a new fresh stream that wasn't read yet</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2651380,"reputation":902,"user_id":2292966,"accept_rate":40,"display_name":"codesalsa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1483049650,"creation_date":1483049650,"answer_id":41387920,"question_id":35088498,"body_markdown":"Thanks for suggestion, this is the code I used that works. \r\n\r\n    try (final InputStream responseDataStream = ctx.getResponseDataStream()) {\r\n       final String responseData = CharStreams.toString(new InputStreamReader(responseDataStream, &quot;UTF-8&quot;));\r\n       ctx.setResponseBody(responseData);\r\n    } catch (IOException e) {\r\n       logger.warn(&quot;Error reading body&quot;,e);\r\n    }","title":"How to get response body in Zuul post filter?","body":"<p>Thanks for suggestion, this is the code I used that works. </p>\n\n<pre><code>try (final InputStream responseDataStream = ctx.getResponseDataStream()) {\n   final String responseData = CharStreams.toString(new InputStreamReader(responseDataStream, \"UTF-8\"));\n   ctx.setResponseBody(responseData);\n} catch (IOException e) {\n   logger.warn(\"Error reading body\",e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2639295,"reputation":2305,"user_id":2283308,"display_name":"Pedro Rom&#227;o"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583863348,"creation_date":1494600603,"answer_id":43940634,"question_id":35088498,"body_markdown":"Be careful with the filterNumber\r\n\r\n&gt; Using anything greater than 1000 leads to an &quot;InputStream already\r\n&gt; closed&quot; error because the response body has already been read and\r\n&gt; \r\n\r\nI used the number 10 and worked fine","title":"How to get response body in Zuul post filter?","body":"<p>Be careful with the filterNumber</p>\n\n<blockquote>\n  <p>Using anything greater than 1000 leads to an \"InputStream already\n  closed\" error because the response body has already been read and</p>\n</blockquote>\n\n<p>I used the number 10 and worked fine</p>\n"},{"tags":[],"owner":{"account_id":6299934,"reputation":602,"user_id":4894900,"display_name":"VincentS"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1525876855,"creation_date":1525876855,"answer_id":50256097,"question_id":35088498,"body_markdown":"If someone is struggling with compressed answer, here&#39;s the solution I used:\r\n\r\n    // Read the compressed response\r\n    RequestContext ctx = RequestContext.getCurrentContext();\r\n    InputStream compressedResponseDataStream = ctx.getResponseDataStream();\r\n    try {\r\n        // Uncompress and transform the response\r\n        InputStream responseDataStream = new GZIPInputStream(compressedResponseDataStream);\r\n        String responseAsString = StreamUtils.copyToString(responseDataStream, Charset.forName(&quot;UTF-8&quot;));\r\n        // Do want you want with your String response\r\n        ...\r\n        // Replace the response with the modified object\r\n        ctx.setResponseBody(responseAsString);\r\n    } catch (IOException e) {\r\n        logger.warn(&quot;Error reading body&quot;, e);\r\n    }","title":"How to get response body in Zuul post filter?","body":"<p>If someone is struggling with compressed answer, here's the solution I used:</p>\n\n<pre><code>// Read the compressed response\nRequestContext ctx = RequestContext.getCurrentContext();\nInputStream compressedResponseDataStream = ctx.getResponseDataStream();\ntry {\n    // Uncompress and transform the response\n    InputStream responseDataStream = new GZIPInputStream(compressedResponseDataStream);\n    String responseAsString = StreamUtils.copyToString(responseDataStream, Charset.forName(\"UTF-8\"));\n    // Do want you want with your String response\n    ...\n    // Replace the response with the modified object\n    ctx.setResponseBody(responseAsString);\n} catch (IOException e) {\n    logger.warn(\"Error reading body\", e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237698,"reputation":2960,"user_id":506078,"accept_rate":87,"display_name":"Damian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553259688,"creation_date":1553256778,"answer_id":55299359,"question_id":35088498,"body_markdown":"None of the answers worked for me. \r\n1) Order of the filter needs to be lower that 1000 (sending response filter)\r\n\r\n2) Code:\r\n\r\n     private String getResponseData(RequestContext ctx) throws IOException {\r\n        String responseData = null;\r\n    \r\n        final InputStream responseDataStream = ctx.getResponseDataStream();\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        ByteArrayOutputStream copy = new ByteArrayOutputStream();\r\n        int read = 0;\r\n        byte[] buff = new byte[1024];\r\n        while ((read = responseDataStream.read(buff)) != -1) {\r\n            bos.write(buff, 0, read);\r\n            copy.write(buff, 0, read);\r\n        }\r\n        InputStream isFromFirstData = new ByteArrayInputStream(bos.toByteArray());\r\n    \r\n        boolean responseGZipped = ctx.getResponseGZipped();\r\n        try {\r\n            InputStream zin = null;\r\n            if (responseGZipped) {\r\n                zin = new GZIPInputStream(isFromFirstData);\r\n            } else {\r\n                zin = responseDataStream;\r\n            }\r\n            responseData = CharStreams.toString(new InputStreamReader(zin, &quot;UTF-8&quot;));\r\n            ctx.setResponseDataStream(new ByteArrayInputStream(copy.toByteArray()));\r\n    \r\n        } catch (IOException e) {\r\n            logger.warn(&quot;Error reading body {}&quot;, e.getMessage());\r\n        }\r\n    \r\n        return responseData;\r\n    }","title":"How to get response body in Zuul post filter?","body":"<p>None of the answers worked for me. \n1) Order of the filter needs to be lower that 1000 (sending response filter)</p>\n\n<p>2) Code:</p>\n\n<pre><code> private String getResponseData(RequestContext ctx) throws IOException {\n    String responseData = null;\n\n    final InputStream responseDataStream = ctx.getResponseDataStream();\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    ByteArrayOutputStream copy = new ByteArrayOutputStream();\n    int read = 0;\n    byte[] buff = new byte[1024];\n    while ((read = responseDataStream.read(buff)) != -1) {\n        bos.write(buff, 0, read);\n        copy.write(buff, 0, read);\n    }\n    InputStream isFromFirstData = new ByteArrayInputStream(bos.toByteArray());\n\n    boolean responseGZipped = ctx.getResponseGZipped();\n    try {\n        InputStream zin = null;\n        if (responseGZipped) {\n            zin = new GZIPInputStream(isFromFirstData);\n        } else {\n            zin = responseDataStream;\n        }\n        responseData = CharStreams.toString(new InputStreamReader(zin, \"UTF-8\"));\n        ctx.setResponseDataStream(new ByteArrayInputStream(copy.toByteArray()));\n\n    } catch (IOException e) {\n        logger.warn(\"Error reading body {}\", e.getMessage());\n    }\n\n    return responseData;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628508806,"creation_date":1628508806,"answer_id":68711370,"question_id":35088498,"body_markdown":"The simplest solution would be to get an input stream, read it with `InputStreamReader`, and finally create a new stream based on the read string and set it as a response data stream of context. Also, don&#39;t forget to set the order of the filter to number lower then 1000.\r\n\r\n    final InputStream responseDataStream = ctx.getResponseDataStream();\r\n    String response = CharStreams.toString(new InputStreamReader(responseDataStream, StandardCharsets.UTF_8));\r\n    InputStream stream = new ByteArrayInputStream(response.getBytes(StandardCharsets.UTF_8));\r\n    ctx.setResponseDataStream(stream);","title":"How to get response body in Zuul post filter?","body":"<p>The simplest solution would be to get an input stream, read it with <code>InputStreamReader</code>, and finally create a new stream based on the read string and set it as a response data stream of context. Also, don't forget to set the order of the filter to number lower then 1000.</p>\n<pre><code>final InputStream responseDataStream = ctx.getResponseDataStream();\nString response = CharStreams.toString(new InputStreamReader(responseDataStream, StandardCharsets.UTF_8));\nInputStream stream = new ByteArrayInputStream(response.getBytes(StandardCharsets.UTF_8));\nctx.setResponseDataStream(stream);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9148659,"reputation":195,"user_id":6803950,"display_name":"zy_sun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655192399,"creation_date":1655192399,"answer_id":72613158,"question_id":35088498,"body_markdown":"    //NOTE:filterOrder:999\r\n    RequestContext context = getCurrentContext();\r\n    InputStream stream = context.getResponseDataStream();\r\n    // uncompress\r\n    String body = StreamUtils.copyToString(new GZIPInputStream(stream),\r\n        Charset.forName(&quot;UTF-8&quot;));\r\n    \r\n    // modify\r\n    body = &quot;Modified gzipped response via setResponseBody(): &quot; + body;\r\n    \r\n    // compress again\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream(body.length());\r\n    GZIPOutputStream gzip = new GZIPOutputStream(bos);\r\n    gzip.write(body.getBytes(&quot;UTF-8&quot;));\r\n    gzip.close();\r\n    byte[] compressed = bos.toByteArray();\r\n    bos.close();\r\n    context.setResponseDataStream(new ByteArrayInputStream(compressed));\r\n\r\nhttps://github.com/spring-attic/sample-zuul-filters/issues/4","title":"How to get response body in Zuul post filter?","body":"<pre><code>//NOTE:filterOrder:999\nRequestContext context = getCurrentContext();\nInputStream stream = context.getResponseDataStream();\n// uncompress\nString body = StreamUtils.copyToString(new GZIPInputStream(stream),\n    Charset.forName(&quot;UTF-8&quot;));\n\n// modify\nbody = &quot;Modified gzipped response via setResponseBody(): &quot; + body;\n\n// compress again\nByteArrayOutputStream bos = new ByteArrayOutputStream(body.length());\nGZIPOutputStream gzip = new GZIPOutputStream(bos);\ngzip.write(body.getBytes(&quot;UTF-8&quot;));\ngzip.close();\nbyte[] compressed = bos.toByteArray();\nbos.close();\ncontext.setResponseDataStream(new ByteArrayInputStream(compressed));\n</code></pre>\n<p><a href=\"https://github.com/spring-attic/sample-zuul-filters/issues/4\" rel=\"nofollow noreferrer\">https://github.com/spring-attic/sample-zuul-filters/issues/4</a></p>\n"}],"owner":{"account_id":1174053,"reputation":2922,"user_id":1150503,"accept_rate":58,"display_name":"Dariusz Mydlarz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21247,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":35368193,"answer_count":8,"score":14,"last_activity_date":1655192399,"creation_date":1454082487,"question_id":35088498,"body_markdown":"How it is possible to read a response body while using Zuul as a proxy in `post` filter?\r\n\r\nI am trying to call the code like this:\r\n\r\n    @Component\r\n    public class PostFilter extends ZuulFilter {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(PostFilter.class);\r\n    \r\n        @Override\r\n        public String filterType() {\r\n            return &quot;post&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public int filterOrder() {\r\n            return 2000;\r\n        }\r\n    \r\n        @Override\r\n        public boolean shouldFilter() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public Object run() {\r\n            RequestContext ctx = RequestContext.getCurrentContext();\r\n            ctx.getResponseBody(); // null\r\n    \r\n            // cant&#39;t do this, cause input stream is used later in other filters and I got InputStream Closed exception\r\n            // GZIPInputStream gzipInputStream = new GZIPInputStream(stream);\r\n            return null;\r\n        }\r\n    \r\n    }","title":"How to get response body in Zuul post filter?","body":"<p>How it is possible to read a response body while using Zuul as a proxy in <code>post</code> filter?</p>\n\n<p>I am trying to call the code like this:</p>\n\n<pre><code>@Component\npublic class PostFilter extends ZuulFilter {\n\n    private static final Logger log = LoggerFactory.getLogger(PostFilter.class);\n\n    @Override\n    public String filterType() {\n        return \"post\";\n    }\n\n    @Override\n    public int filterOrder() {\n        return 2000;\n    }\n\n    @Override\n    public boolean shouldFilter() {\n        return true;\n    }\n\n    @Override\n    public Object run() {\n        RequestContext ctx = RequestContext.getCurrentContext();\n        ctx.getResponseBody(); // null\n\n        // cant't do this, cause input stream is used later in other filters and I got InputStream Closed exception\n        // GZIPInputStream gzipInputStream = new GZIPInputStream(stream);\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","loops","arraylist","methods","preprocessor"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1654963978,"post_id":72585932,"comment_id":128219865,"body_markdown":"What kind of problem (s)? What parser are you using?","body":"What kind of problem (s)? What parser are you using?"},{"owner":{"account_id":25532629,"reputation":3,"user_id":19320349,"display_name":"omarAlsrouji"},"score":0,"creation_date":1654964221,"post_id":72585932,"comment_id":128219915,"body_markdown":"just a normal console problem nothing too complicated, I don&#39;t understand what you mean by what parser am I using.","body":"just a normal console problem nothing too complicated, I don&#39;t understand what you mean by what parser am I using."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1654964407,"post_id":72585932,"comment_id":128219955,"body_markdown":"What does your input file look like?  What is your output supposed to look like?","body":"What does your input file look like?  What is your output supposed to look like?"},{"owner":{"account_id":25532629,"reputation":3,"user_id":19320349,"display_name":"omarAlsrouji"},"score":0,"creation_date":1654964518,"post_id":72585932,"comment_id":128219982,"body_markdown":"my input is a random java code (for example bubble sort or insertion sort) and the output as written like this: (for loop from line x to line x) (while loop from line x to line x)(method xxx from line x to line x),","body":"my input is a random java code (for example bubble sort or insertion sort) and the output as written like this: (for loop from line x to line x) (while loop from line x to line x)(method xxx from line x to line x),"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1654965427,"post_id":72585932,"comment_id":128220176,"body_markdown":"You have not described the problem/issue/difficulty you are having. By “what parser” I mean how are you parsing the code.","body":"You have not described the problem/issue/difficulty you are having. By “what parser” I mean how are you parsing the code."},{"owner":{"account_id":25532629,"reputation":3,"user_id":19320349,"display_name":"omarAlsrouji"},"score":0,"creation_date":1654965854,"post_id":72585932,"comment_id":128220261,"body_markdown":"I apologize for not being clear I am really new to java, I am first reading the random code from a txt file and just parsing it using for loop BufferedReader br = new BufferedReader(new FileReader(&quot;C:\\\\myFolder\\\\code2.txt&quot;));\n\t\twhile((line = br.readLine())!=null) {\n\t\t\tmylist.add(line);\n\t\t} for(int i=0;i&lt;mylist.size();i++) {\n\t\t\tint count=0;\n\t\t\tif(mylist.get(i).contains(&quot;for&quot;)) {\n\t\t\t\tSystem.out.println(&quot;for loop from &quot; + i);\n\t\t\t\t\n\t\t\t}","body":"I apologize for not being clear I am really new to java, I am first reading the random code from a txt file and just parsing it using for loop BufferedReader br = new BufferedReader(new FileReader(&quot;C:\\\\myFolder\\\\code2.txt&quot;)); \t\twhile((line = br.readLine())!=null) { \t\t\tmylist.add(line); \t\t} for(int i=0;i&lt;mylist.size();i++) { \t\t\tint count=0; \t\t\tif(mylist.get(i).contains(&quot;for&quot;)) { \t\t\t\tSystem.out.println(&quot;for loop from &quot; + i); \t\t\t\t \t\t\t}"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1654968975,"post_id":72585932,"comment_id":128220917,"body_markdown":"What if there’s a comment in the code with the word “for”? In any case you’re still not describing the problem you’re having. The question should be edited to include the code and an actual question.","body":"What if there’s a comment in the code with the word “for”? In any case you’re still not describing the problem you’re having. The question should be edited to include the code and an actual question."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1654970683,"post_id":72585932,"comment_id":128221227,"body_markdown":"Parsing Java code is not trivial.  You have to take comments into account.  Statements can be coded on more than one line.  There are [libraries](https://javaparser.org/) that parse Java code into an abstract syntax tree.","body":"Parsing Java code is not trivial.  You have to take comments into account.  Statements can be coded on more than one line.  There are <a href=\"https://javaparser.org/\" rel=\"nofollow noreferrer\">libraries</a> that parse Java code into an abstract syntax tree."}],"answers":[{"tags":[],"owner":{"account_id":14319396,"reputation":31,"user_id":10343251,"display_name":"Doga Cobanoglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655192229,"creation_date":1655028888,"answer_id":72591271,"question_id":72585932,"body_markdown":"I would recommend that once the word `for` is found, don&#39;t just list the lines but locate where the open bracket `{` starts and where `}` is (ends). You can do the same for while loops and a method. You would need to catch cases where there would be a nested for loop; if `for` then `{` was found then another `for` restart the process and first state the for loop inside then the outer. I hope that helps!\r\n\r\n    for(int i=0;i&lt;mylist.size();i++) {\r\n            int count=0;\r\n            if(mylist.get(i).contains(&quot;for&quot;) &amp;&amp; mylist.get(i).contains(&quot;{&quot;)) {\r\n                for(int j=i;j&lt;mylist.size();j++) {\r\n                   if(mylist.get(j).contains(&quot;}&quot;){\r\n                       System.out.println(&quot;for loop from &quot; + i);\r\n                       i = j; // begin from where j left off\r\n                   }\r\n                   if(mylist.get(j).contains(&quot;for&quot;) &amp;&amp; mylist.get(j).contains(&quot;{&quot;){ // nested loop\r\n                       for(int k=j;k&lt;mylist.size();k++) {\r\n                            if(mylist.get(k).contains(&quot;}&quot;){\r\n                                 System.out.println(&quot;for loop from &quot; + i);\r\n                                 j = k; // begin from where k left off\r\n                            }\r\n                       }\r\n                   \r\n                   }\r\n                }\r\n                \r\n            }\r\n    \r\n    }","title":"A java code that identifies the loops and methods in an input text file","body":"<p>I would recommend that once the word <code>for</code> is found, don't just list the lines but locate where the open bracket <code>{</code> starts and where <code>}</code> is (ends). You can do the same for while loops and a method. You would need to catch cases where there would be a nested for loop; if <code>for</code> then <code>{</code> was found then another <code>for</code> restart the process and first state the for loop inside then the outer. I hope that helps!</p>\n<pre><code>for(int i=0;i&lt;mylist.size();i++) {\n        int count=0;\n        if(mylist.get(i).contains(&quot;for&quot;) &amp;&amp; mylist.get(i).contains(&quot;{&quot;)) {\n            for(int j=i;j&lt;mylist.size();j++) {\n               if(mylist.get(j).contains(&quot;}&quot;){\n                   System.out.println(&quot;for loop from &quot; + i);\n                   i = j; // begin from where j left off\n               }\n               if(mylist.get(j).contains(&quot;for&quot;) &amp;&amp; mylist.get(j).contains(&quot;{&quot;){ // nested loop\n                   for(int k=j;k&lt;mylist.size();k++) {\n                        if(mylist.get(k).contains(&quot;}&quot;){\n                             System.out.println(&quot;for loop from &quot; + i);\n                             j = k; // begin from where k left off\n                        }\n                   }\n               \n               }\n            }\n            \n        }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25532629,"reputation":3,"user_id":19320349,"display_name":"omarAlsrouji"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72591271,"answer_count":1,"score":-2,"last_activity_date":1655192229,"creation_date":1654963887,"question_id":72585932,"body_markdown":"I am having trouble with writing a successful code that identifies the loops (for loops, while loops, nested for loops) in an input text file(this input was taken using BufferedReader), and methods, where the output should look like this:\r\n\r\n**(for loop from line x to line x)**\r\n\r\n**(while loop from line x to line x)**\r\n\r\n**(method xxx from line x to line x)**\r\n\r\nI started by creating a folder that contains a text file that has a random code written in it( in my case it was a bubble sort) the code had comments, so I deleted all comments using replaceAll regex, the output with no comments is written to another .txt file, then, I used BufferedReader to read the new txt file and stored it in an ArrayList, this is where I got stuck, I tried several if statements in order to find for loops as a start.\r\n**My question** is how can I get the desired output I wrote above?\r\n\r\n \r\n\r\n       package assignment1;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.PrintWriter;\r\n    import java.util.ArrayList;\r\n    \r\n    public class tryq3 {\r\n    \tpublic static void main(String a[]) throws Exception {\r\n    \t\tString fileName = &quot;C://myFolder//output.txt&quot;;\r\n    \t\tQuestion1 DDD = new Question1();\r\n    \t\tString source = DDD.readFile(fileName);\r\n    \t\tString sourceNoBrackets = source.replaceAll(&quot;\\\\(.*\\\\)&quot;, &quot;&quot;);\r\n    \t\t\r\n    \t\tFile file1 = new File(&quot;C:\\\\myFolder\\\\cleanOutput1.txt&quot;);\r\n    \t\tFileWriter fw = new FileWriter(file1);\r\n    \t\tPrintWriter pw = new PrintWriter(fw);\r\n    \t\tpw.println(sourceNoBrackets);\r\n    \t\tpw.close();\r\n    \t\t\r\n    \t\tString line;\r\n    \t\tint counter = 0;\r\n    \t\tArrayList&lt;String&gt; mylist = new ArrayList();\r\n    \t\r\n    \t\tBufferedReader br = new BufferedReader(new FileReader(&quot;C:\\\\myFolder\\\\cleanOutput1.txt&quot;));\r\n    \t\twhile((line = br.readLine())!=null) {\r\n    \t\t\tmylist.add(line);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;mylist.size();i++) {\r\n    \t\t\tint count=0;\r\n    \t\t\tif(mylist.get(i).contains(&quot;for&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;for loop from &quot; + i);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\t\r\n    \t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    \t}\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    }\r\n    \r\n    ","title":"A java code that identifies the loops and methods in an input text file","body":"<p>I am having trouble with writing a successful code that identifies the loops (for loops, while loops, nested for loops) in an input text file(this input was taken using BufferedReader), and methods, where the output should look like this:</p>\n<p><strong>(for loop from line x to line x)</strong></p>\n<p><strong>(while loop from line x to line x)</strong></p>\n<p><strong>(method xxx from line x to line x)</strong></p>\n<p>I started by creating a folder that contains a text file that has a random code written in it( in my case it was a bubble sort) the code had comments, so I deleted all comments using replaceAll regex, the output with no comments is written to another .txt file, then, I used BufferedReader to read the new txt file and stored it in an ArrayList, this is where I got stuck, I tried several if statements in order to find for loops as a start.\n<strong>My question</strong> is how can I get the desired output I wrote above?</p>\n<pre><code>   package assignment1;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\n\npublic class tryq3 {\n    public static void main(String a[]) throws Exception {\n        String fileName = &quot;C://myFolder//output.txt&quot;;\n        Question1 DDD = new Question1();\n        String source = DDD.readFile(fileName);\n        String sourceNoBrackets = source.replaceAll(&quot;\\\\(.*\\\\)&quot;, &quot;&quot;);\n        \n        File file1 = new File(&quot;C:\\\\myFolder\\\\cleanOutput1.txt&quot;);\n        FileWriter fw = new FileWriter(file1);\n        PrintWriter pw = new PrintWriter(fw);\n        pw.println(sourceNoBrackets);\n        pw.close();\n        \n        String line;\n        int counter = 0;\n        ArrayList&lt;String&gt; mylist = new ArrayList();\n    \n        BufferedReader br = new BufferedReader(new FileReader(&quot;C:\\\\myFolder\\\\cleanOutput1.txt&quot;));\n        while((line = br.readLine())!=null) {\n            mylist.add(line);\n        }\n        \n        for(int i=0;i&lt;mylist.size();i++) {\n            int count=0;\n            if(mylist.get(i).contains(&quot;for&quot;)) {\n                System.out.println(&quot;for loop from &quot; + i);\n                \n            }\n            \n            \n                \n        }\n            \n            \n    }\n        \n        \n        \n}\n</code></pre>\n"},{"tags":["java","sockets","encryption","cryptography"],"comments":[{"owner":{"account_id":2821163,"reputation":5704,"user_id":2424896,"display_name":"ntoskrnl"},"score":1,"creation_date":1394738576,"post_id":22388332,"comment_id":34037190,"body_markdown":"How does the client know the public key it received is really from the server? That is, a man-in-the-middle attacker could send his own keys instead and proceed to decrypt all communication. To prevent this you need some sort of authentication. More on the subject in [this blog post](http://blogs.msdn.com/b/ericlippert/archive/2011/09/27/keep-it-secret-keep-it-safe.aspx). Basically, it&#39;s simply easier and safer to make use of an existing protocol like [TLS](http://en.wikipedia.org/wiki/Transport_Layer_Security) than to roll your own.","body":"How does the client know the public key it received is really from the server? That is, a man-in-the-middle attacker could send his own keys instead and proceed to decrypt all communication. To prevent this you need some sort of authentication. More on the subject in <a href=\"http://blogs.msdn.com/b/ericlippert/archive/2011/09/27/keep-it-secret-keep-it-safe.aspx\" rel=\"nofollow noreferrer\">this blog post</a>. Basically, it&#39;s simply easier and safer to make use of an existing protocol like <a href=\"http://en.wikipedia.org/wiki/Transport_Layer_Security\" rel=\"nofollow noreferrer\">TLS</a> than to roll your own."},{"owner":{"account_id":2752035,"reputation":77,"user_id":2371200,"accept_rate":57,"display_name":"Παναγιώτης Νικολαρόπουλος"},"score":0,"creation_date":1394739322,"post_id":22388332,"comment_id":34037624,"body_markdown":"Well you that&#39;s what i am supposed to present. This is basically my Degree project so i can&#39;t just use a ready-to-go protocol, i actually have to make my own. Of course i don&#39;t have to create my own libraries but i can&#39;t just go like SSLSocket = new SSLSocket and say &quot;i&#39;m done&quot;.\nAlso the server client use simple input/output streams not anything special. What i want to do is something where the server has agreed a different key for each client and simple decrypts the message it receives and encrypts it again using each key for each client.","body":"Well you that&#39;s what i am supposed to present. This is basically my Degree project so i can&#39;t just use a ready-to-go protocol, i actually have to make my own. Of course i don&#39;t have to create my own libraries but i can&#39;t just go like SSLSocket = new SSLSocket and say &quot;i&#39;m done&quot;. Also the server client use simple input/output streams not anything special. What i want to do is something where the server has agreed a different key for each client and simple decrypts the message it receives and encrypts it again using each key for each client."},{"owner":{"account_id":2752035,"reputation":77,"user_id":2371200,"accept_rate":57,"display_name":"Παναγιώτης Νικολαρόπουλος"},"score":0,"creation_date":1394739346,"post_id":22388332,"comment_id":34037643,"body_markdown":"Of course if someone gains access to the server he could simply get the data on hand or as you said give his own key. I don&#39;t know if i have covered this so far but i intend to store those keys encrypted in database with something like SHA1 or MD5 so there is now way to decrypt them the only visible one would be the public key which is destributed for the algorithms to work, but that is for later and also my project isn&#39;t about protection from access attacks but about data encryption mostly so noone can get them during transfer.","body":"Of course if someone gains access to the server he could simply get the data on hand or as you said give his own key. I don&#39;t know if i have covered this so far but i intend to store those keys encrypted in database with something like SHA1 or MD5 so there is now way to decrypt them the only visible one would be the public key which is destributed for the algorithms to work, but that is for later and also my project isn&#39;t about protection from access attacks but about data encryption mostly so noone can get them during transfer."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1394749472,"post_id":22388332,"comment_id":34043231,"body_markdown":"If this is for a degree, please read a bit more into cryptography. You cannot say things like &quot;encrypted in a database with something like SHA1 or MD5&quot; and pass any kind of exam. Please split the protocol and the programming part; first think out a good protocol, make sure that is reviewed, then proceed with the programming.","body":"If this is for a degree, please read a bit more into cryptography. You cannot say things like &quot;encrypted in a database with something like SHA1 or MD5&quot; and pass any kind of exam. Please split the protocol and the programming part; first think out a good protocol, make sure that is reviewed, then proceed with the programming."},{"owner":{"account_id":2752035,"reputation":77,"user_id":2371200,"accept_rate":57,"display_name":"Παναγιώτης Νικολαρόπουλος"},"score":0,"creation_date":1394754307,"post_id":22388332,"comment_id":34045182,"body_markdown":"Well i think that we are going off topic here, as i said i will look into the database later since it&#39;s for extra grade. My main program is the chat with the encrypted data and that is where i am having a problem.","body":"Well i think that we are going off topic here, as i said i will look into the database later since it&#39;s for extra grade. My main program is the chat with the encrypted data and that is where i am having a problem."}],"owner":{"account_id":2752035,"reputation":77,"user_id":2371200,"accept_rate":57,"display_name":"Παναγιώτης Νικολαρόπουλος"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655192168,"creation_date":1394737051,"question_id":22388332,"body_markdown":"What i am making is a chat program that encrypts/decrypts messages send. So far i&#39;ve established the basic all-to-all communication with clients and have put a server-to-client simple encryption with AES, basically i have given them the same key. Now i want to establish a key exchange algorithm that will allow every client to have its own key. I have read multiple algorithms, at first i wanted to establish a Diffie-Hellman but i found some RSA examples that made more sence. This is what i have:\r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, NoSuchPaddingException, \r\n    InvalidKeyException, IllegalBlockSizeException, BadPaddingException  {\r\n       \r\n    KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n    keyGenerator.init(128);\r\n    Key aesKey = keyGenerator.generateKey();\r\n\r\n    \r\n    \r\n    KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    keyPairGenerator.initialize(1024);\r\n    KeyPair keyPair = keyPairGenerator.genKeyPair();\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n \r\n    byte[] aesKeyBytes = aesKey.getEncoded();\r\n    System.out.println(&quot;1. aesKeyBytes= &quot;+ bytesToHex(aesKeyBytes));\r\n\r\n    cipher.init(Cipher.ENCRYPT_MODE, keyPair.getPublic());\r\n    byte[] cipherText = cipher.doFinal(aesKeyBytes);\r\n    System.out.println(&quot;2. cipherText= &quot;+bytesToHex(cipherText));\r\n    \r\n    cipher.init(Cipher.DECRYPT_MODE, keyPair.getPrivate());\r\n    byte[] decryptedKeyBytes = cipher.doFinal(cipherText);\r\n    System.out.println(&quot;3. decryptedKeyBytes= &quot;+bytesToHex(decryptedKeyBytes));\r\n    \r\n   \r\n    //use symmetric with the decrypted key\r\n    SecretKey newAesKey = new SecretKeySpec(decryptedKeyBytes, &quot;AES&quot;);\r\n\r\nBasically from the point this code ends i just use the SecretKey to initialize my AES cipher and go on from there. Now my question is how to distribute the keys from the RSA through sockets without losing bytes or whatever so that all clients can have unique keypairs with the server. Also is there a way to not use a keygenerator and give my own keys like Strings, since i plan on using setters so that the user can change his/her key on whish, otherwise what&#39;s the point in using keyexchange if all the clients end up having the same keys in the first place? And one last thing purely on curiosity, is it possible to modify this RSA to DH, and how are they different code-wise?\r\nLastly the &quot;bytesToHex&quot; method is as follows and was provided to me by my teacher and after tested it works fine so there are no problems there:\r\n\r\n    public static String bytesToHex(byte[] data)\r\n\t{\r\n\t\r\n\t\tif (data==null)\r\n\t\t\treturn null;\r\n\t\telse\r\n\t\t{\r\n\t\t\tint len = data.length;\r\n\t\r\n\t\t\tString str = &quot;&quot;;\r\n\r\n\t\t\tfor (int i=0; i&lt;len; i++)\r\n\t\t\t{\r\n\t\t\t\tif ((data[i]&amp;0xFF)&lt;16){\r\n\t\t\t\t\tstr = str + &quot;0&quot; + java.lang.Integer.toHexString(data[i]&amp;0xFF);\r\n                                }\r\n                                else{\r\n\t\t\t\t\tstr = str + java.lang.Integer.toHexString(data[i]&amp;0xFF);\r\n                                }\r\n\t\t\t}\r\n\t\r\n\t\t\treturn str.toUpperCase();\r\n\t\t}\r\n\t}\r\n\r\nI know there might be answers like &quot;look at this&quot; and &quot;this is a good example&quot;, but trust me i&#39;ve looked at all of them i just got more confused. Just to be clear i don&#39;t want to use Files to store my keys or anything like that, i want simply the client and server to send each other their public keys so that along with their private key to create a secretKey, i know that this is basically DH but honestly i am so fed up right now that i&#39;ll take what i can get so anything you have to say is much appreciated.","title":"Exchange crypto key through sockets","body":"<p>What i am making is a chat program that encrypts/decrypts messages send. So far i've established the basic all-to-all communication with clients and have put a server-to-client simple encryption with AES, basically i have given them the same key. Now i want to establish a key exchange algorithm that will allow every client to have its own key. I have read multiple algorithms, at first i wanted to establish a Diffie-Hellman but i found some RSA examples that made more sence. This is what i have:</p>\n\n<pre><code>public static void main(String[] args) throws NoSuchAlgorithmException, NoSuchPaddingException, \nInvalidKeyException, IllegalBlockSizeException, BadPaddingException  {\n\nKeyGenerator keyGenerator = KeyGenerator.getInstance(\"AES\");\nkeyGenerator.init(128);\nKey aesKey = keyGenerator.generateKey();\n\n\n\nKeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(\"RSA\");\nkeyPairGenerator.initialize(1024);\nKeyPair keyPair = keyPairGenerator.genKeyPair();\n\nCipher cipher = Cipher.getInstance(\"RSA/ECB/PKCS1Padding\");\n\nbyte[] aesKeyBytes = aesKey.getEncoded();\nSystem.out.println(\"1. aesKeyBytes= \"+ bytesToHex(aesKeyBytes));\n\ncipher.init(Cipher.ENCRYPT_MODE, keyPair.getPublic());\nbyte[] cipherText = cipher.doFinal(aesKeyBytes);\nSystem.out.println(\"2. cipherText= \"+bytesToHex(cipherText));\n\ncipher.init(Cipher.DECRYPT_MODE, keyPair.getPrivate());\nbyte[] decryptedKeyBytes = cipher.doFinal(cipherText);\nSystem.out.println(\"3. decryptedKeyBytes= \"+bytesToHex(decryptedKeyBytes));\n\n\n//use symmetric with the decrypted key\nSecretKey newAesKey = new SecretKeySpec(decryptedKeyBytes, \"AES\");\n</code></pre>\n\n<p>Basically from the point this code ends i just use the SecretKey to initialize my AES cipher and go on from there. Now my question is how to distribute the keys from the RSA through sockets without losing bytes or whatever so that all clients can have unique keypairs with the server. Also is there a way to not use a keygenerator and give my own keys like Strings, since i plan on using setters so that the user can change his/her key on whish, otherwise what's the point in using keyexchange if all the clients end up having the same keys in the first place? And one last thing purely on curiosity, is it possible to modify this RSA to DH, and how are they different code-wise?\nLastly the \"bytesToHex\" method is as follows and was provided to me by my teacher and after tested it works fine so there are no problems there:</p>\n\n<pre><code>public static String bytesToHex(byte[] data)\n{\n\n    if (data==null)\n        return null;\n    else\n    {\n        int len = data.length;\n\n        String str = \"\";\n\n        for (int i=0; i&lt;len; i++)\n        {\n            if ((data[i]&amp;0xFF)&lt;16){\n                str = str + \"0\" + java.lang.Integer.toHexString(data[i]&amp;0xFF);\n                            }\n                            else{\n                str = str + java.lang.Integer.toHexString(data[i]&amp;0xFF);\n                            }\n        }\n\n        return str.toUpperCase();\n    }\n}\n</code></pre>\n\n<p>I know there might be answers like \"look at this\" and \"this is a good example\", but trust me i've looked at all of them i just got more confused. Just to be clear i don't want to use Files to store my keys or anything like that, i want simply the client and server to send each other their public keys so that along with their private key to create a secretKey, i know that this is basically DH but honestly i am so fed up right now that i'll take what i can get so anything you have to say is much appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1495630138,"post_id":44158226,"comment_id":75334009,"body_markdown":"Shouldn&#39;t Spring Security already do that?","body":"Shouldn&#39;t Spring Security already do that?"},{"owner":{"account_id":10147549,"reputation":6813,"user_id":7495230,"accept_rate":57,"display_name":"Afridi"},"score":0,"creation_date":1495631929,"post_id":44158226,"comment_id":75335450,"body_markdown":"Spring oauth is already doing so for you. But still if you want to intercept it, then you can use your custom filter before BasicAuthenticationFilter","body":"Spring oauth is already doing so for you. But still if you want to intercept it, then you can use your custom filter before BasicAuthenticationFilter"},{"owner":{"account_id":277434,"reputation":11207,"user_id":571433,"accept_rate":79,"display_name":"Dante May Code"},"score":0,"creation_date":1495638572,"post_id":44158226,"comment_id":75341049,"body_markdown":"@dunni Yeah. I would like to have more-fine grained control.","body":"@dunni Yeah. I would like to have more-fine grained control."},{"owner":{"account_id":277434,"reputation":11207,"user_id":571433,"accept_rate":79,"display_name":"Dante May Code"},"score":0,"creation_date":1495638674,"post_id":44158226,"comment_id":75341111,"body_markdown":"@Afridi Is there any difference for before and after?","body":"@Afridi Is there any difference for before and after?"},{"owner":{"account_id":10147549,"reputation":6813,"user_id":7495230,"accept_rate":57,"display_name":"Afridi"},"score":1,"creation_date":1495639502,"post_id":44158226,"comment_id":75341741,"body_markdown":"@DanteisnotaGeek actually all authentication related to oauth token are done in BasicAuthenticationFilter, so in case if authentication fails, this activity execution will be terminated and so your custom filter will not be called. So in case if you want to call your filter in any case, then you have to register your custom filter before BasicAuthenticationFilter","body":"@DanteisnotaGeek actually all authentication related to oauth token are done in BasicAuthenticationFilter, so in case if authentication fails, this activity execution will be terminated and so your custom filter will not be called. So in case if you want to call your filter in any case, then you have to register your custom filter before BasicAuthenticationFilter"},{"owner":{"account_id":2460909,"reputation":1005,"user_id":2145105,"accept_rate":60,"display_name":"rich p"},"score":0,"creation_date":1496153033,"post_id":44158226,"comment_id":75536863,"body_markdown":"@DanteisnotaGeek Are you trying to do custom _authentication_ (who is the caller?) or _authorization_ (given that it is JoJo Mojo calling, is JoJo Mojo allowed to do what s/he is asking to do?) checking? If _authentication_, isn&#39;t Spring already adequately authenticating the caller for you?  If _authorization_, then (and I&#39;m interested in the answer here) where, when using Spring Security for OAuth2, is the appropriate point to do authorization checking - in the called method?  and How?","body":"@DanteisnotaGeek Are you trying to do custom <i>authentication</i> (who is the caller?) or <i>authorization</i> (given that it is JoJo Mojo calling, is JoJo Mojo allowed to do what s/he is asking to do?) checking? If <i>authentication</i>, isn&#39;t Spring already adequately authenticating the caller for you?  If <i>authorization</i>, then (and I&#39;m interested in the answer here) where, when using Spring Security for OAuth2, is the appropriate point to do authorization checking - in the called method?  and How?"}],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1495630845,"creation_date":1495630845,"answer_id":44159173,"question_id":44158226,"body_markdown":"You can add a custom filter before authentication\r\n\r\ne.g.\r\n\r\n    @Configuration\r\n    public class CustomWebSecurityConfigurerAdapter\r\n      extends WebSecurityConfigurerAdapter {\r\n     \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.addFilterBefore(\r\n              new CustomFilter(), BasicAuthenticationFilter.class);\r\n        }\r\n    }\r\n\r\nhttp://www.baeldung.com/spring-security-custom-filter\r\n","title":"For Spring Boot REST APIs protected by OAuth 2, how to intercept access tokens before forwarding a request to a method?","body":"<p>You can add a custom filter before authentication</p>\n\n<p>e.g.</p>\n\n<pre><code>@Configuration\npublic class CustomWebSecurityConfigurerAdapter\n  extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.addFilterBefore(\n          new CustomFilter(), BasicAuthenticationFilter.class);\n    }\n}\n</code></pre>\n\n<p><a href=\"http://www.baeldung.com/spring-security-custom-filter\" rel=\"nofollow noreferrer\">http://www.baeldung.com/spring-security-custom-filter</a></p>\n"}],"owner":{"account_id":277434,"reputation":11207,"user_id":571433,"accept_rate":79,"display_name":"Dante May Code"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4954,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44159173,"answer_count":1,"score":0,"last_activity_date":1655192143,"creation_date":1495628259,"question_id":44158226,"body_markdown":"For a Spring Boot based web application serving REST APIs protected by OAuth 2, how to intercept access tokens before forwarding a request to a method?\r\n\r\nIn details,\r\n\r\nThe application is enabled as a resource server by `@EnableResourceServer`, and its API is protected by OAuth 2 (specifically, Cloud Foundry User Account and Authentication).\r\n\r\nNow for any request to a method with `@RequestMapping`, it requires an access token obtained from OAuth 2. For example,\r\n\r\n&gt; curl -H &quot;Authorization: Bearer [token]&quot; [api]\r\n\r\nTo achieve fine-grained access control,\r\n\r\nUpon a request&#39;s arrival, I would like to parse the access token, and based the content of the access token (specifically, `Scope`) forward or deny the request to go forward, hopefully, in a central place (perhaps kind of `Inteceptor`). How to achieve that?","title":"For Spring Boot REST APIs protected by OAuth 2, how to intercept access tokens before forwarding a request to a method?","body":"<p>For a Spring Boot based web application serving REST APIs protected by OAuth 2, how to intercept access tokens before forwarding a request to a method?</p>\n\n<p>In details,</p>\n\n<p>The application is enabled as a resource server by <code>@EnableResourceServer</code>, and its API is protected by OAuth 2 (specifically, Cloud Foundry User Account and Authentication).</p>\n\n<p>Now for any request to a method with <code>@RequestMapping</code>, it requires an access token obtained from OAuth 2. For example,</p>\n\n<blockquote>\n  <p>curl -H \"Authorization: Bearer [token]\" [api]</p>\n</blockquote>\n\n<p>To achieve fine-grained access control,</p>\n\n<p>Upon a request's arrival, I would like to parse the access token, and based the content of the access token (specifically, <code>Scope</code>) forward or deny the request to go forward, hopefully, in a central place (perhaps kind of <code>Inteceptor</code>). How to achieve that?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655190807,"post_id":72612810,"comment_id":128266679,"body_markdown":"Your JDBC driver is not on the classpath when you are running your tests.","body":"Your JDBC driver is not on the classpath when you are running your tests."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655194573,"post_id":72612810,"comment_id":128267931,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25550841,"reputation":1,"user_id":19335247,"display_name":"Gyanendra Mohan Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655192124,"creation_date":1655190498,"question_id":72612810,"body_markdown":"dependecy\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.gyanendra&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springjpaassociations&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;springjpaassociations&lt;/name&gt;\r\n    &lt;description&gt;springjpaassociations&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nMy code  \r\n\r\n\r\n    @Test\r\n    public  void testCreateCustomer(){\r\n        Customer customer = new Customer();\r\n        customer.setName(&quot;Gyanendra&quot;);\r\n\r\n        HashSet&lt;PhoneNumber&gt; numbers = new HashSet&lt;PhoneNumber&gt;();\r\n        PhoneNumber ph1 = new PhoneNumber();\r\n        ph1.setNumber(&quot;1234567890&quot;);\r\n        ph1.setType(&quot;cell&quot;);\r\n        numbers.add(ph1);\r\n\r\n        PhoneNumber ph2 = new PhoneNumber();\r\n        ph2.setNumber(&quot;13136464365&quot;);\r\n        ph2.setType(&quot;home&quot;);\r\n        numbers.add(ph2);\r\n\r\n        customer.setNumbers(numbers);\r\n        repository.save(customer);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n\tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\t... 72 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\t... 92 more\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 106 more\r\nCaused by: java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:491)\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:459)\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:355)\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:181)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 107 more\r\n","title":"Getting error In spring boot app while writing the test case to create employee","body":"<p>dependecy</p>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.7.0\n \n\ncom.gyanendra\nspringjpaassociations\n0.0.1-SNAPSHOT\nspringjpaassociations\nspringjpaassociations\n\n&lt;java.version&gt;17&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-data-jpa\n</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>My code</p>\n<pre><code>@Test\npublic  void testCreateCustomer(){\n    Customer customer = new Customer();\n    customer.setName(&quot;Gyanendra&quot;);\n\n    HashSet&lt;PhoneNumber&gt; numbers = new HashSet&lt;PhoneNumber&gt;();\n    PhoneNumber ph1 = new PhoneNumber();\n    ph1.setNumber(&quot;1234567890&quot;);\n    ph1.setType(&quot;cell&quot;);\n    numbers.add(ph1);\n\n    PhoneNumber ph2 = new PhoneNumber();\n    ph2.setNumber(&quot;13136464365&quot;);\n    ph2.setType(&quot;home&quot;);\n    numbers.add(ph2);\n\n    customer.setNumbers(numbers);\n    repository.save(customer);\n}\n</code></pre>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext</p>\n<pre><code>at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\nat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\nat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\nat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\nat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\nat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\nat java.base/java.util.Optional.orElseGet(Optional.java:364)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\nat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n... 72 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\nat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n... 92 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n... 106 more\nCaused by: java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\nat com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:491)\nat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:459)\nat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:355)\nat org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:181)\nat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\nat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n... 107 more</p>\n"},{"tags":["java","android","simpledateformat"],"answers":[{"tags":[],"owner":{"account_id":2543820,"reputation":8615,"user_id":2209048,"accept_rate":86,"display_name":"JstnPwll"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1416418820,"creation_date":1416418820,"answer_id":27023386,"question_id":27023189,"body_markdown":"You can ignore it, but the warning is there to let you know the dates may display unexpectedly for users using a different language. If you want to force the format in your own locale, use `Locale.US` (or whichever locale matches your format requirements). Otherwise use one of the getInstance() methods for localized formatting.","title":"SimpleDateFormat warning To get local formatting use getDateInstance(), getDateTimeInstance(), or getTimeInstance(),","body":"<p>You can ignore it, but the warning is there to let you know the dates may display unexpectedly for users using a different language. If you want to force the format in your own locale, use <code>Locale.US</code> (or whichever locale matches your format requirements). Otherwise use one of the getInstance() methods for localized formatting.</p>\n"},{"tags":[],"owner":{"account_id":5263080,"reputation":3932,"user_id":4204013,"display_name":"Valters Jansons"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1416419315,"creation_date":1416419315,"answer_id":27023535,"question_id":27023189,"body_markdown":"You are currently using the [SimpleDateFormat(String)](http://developer.android.com/reference/java/text/SimpleDateFormat.html#SimpleDateFormat(java.lang.String)) constructor. This implies the default locale and as the Locale documentation tells you, [be wary of the default locale](http://developer.android.com/reference/java/util/Locale.html#default_locale) as unexpected output can be produced on various systems.\r\n\r\nYou should instead use the [SimpleDateFormat(String, Locale)](http://developer.android.com/reference/java/text/SimpleDateFormat.html#SimpleDateFormat(java.lang.String,%20java.util.Locale)) constructor. It is going to take in an additional parameter - the locale you want to use.\r\nIf you want to make sure the output is machine-readable in a consistent way (always looks the same, regardless of the actual locale of the user), you can pick [Locale.US](http://developer.android.com/reference/java/util/Locale.html#US). If you do not care about machine redability, you can explicitly set it to use [Locale.getDefault()](http://developer.android.com/reference/java/util/Locale.html#getDefault()).\r\n\r\nUsing those on your example code would look something like this:\r\n\r\n    // for US\r\n    SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;d MMM yyyy&quot;, Locale.US);\r\n\r\n    // or for default\r\n    SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;d MMM yyyy&quot;,\r\n            Locale.getDefault());","title":"SimpleDateFormat warning To get local formatting use getDateInstance(), getDateTimeInstance(), or getTimeInstance(),","body":"<p>You are currently using the <a href=\"http://developer.android.com/reference/java/text/SimpleDateFormat.html#SimpleDateFormat(java.lang.String)\">SimpleDateFormat(String)</a> constructor. This implies the default locale and as the Locale documentation tells you, <a href=\"http://developer.android.com/reference/java/util/Locale.html#default_locale\">be wary of the default locale</a> as unexpected output can be produced on various systems.</p>\n\n<p>You should instead use the <a href=\"http://developer.android.com/reference/java/text/SimpleDateFormat.html#SimpleDateFormat(java.lang.String,%20java.util.Locale)\">SimpleDateFormat(String, Locale)</a> constructor. It is going to take in an additional parameter - the locale you want to use.\nIf you want to make sure the output is machine-readable in a consistent way (always looks the same, regardless of the actual locale of the user), you can pick <a href=\"http://developer.android.com/reference/java/util/Locale.html#US\">Locale.US</a>. If you do not care about machine redability, you can explicitly set it to use <a href=\"http://developer.android.com/reference/java/util/Locale.html#getDefault()\">Locale.getDefault()</a>.</p>\n\n<p>Using those on your example code would look something like this:</p>\n\n<pre><code>// for US\nSimpleDateFormat sdfDate = new SimpleDateFormat(\"d MMM yyyy\", Locale.US);\n\n// or for default\nSimpleDateFormat sdfDate = new SimpleDateFormat(\"d MMM yyyy\",\n        Locale.getDefault());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5577320,"reputation":7234,"user_id":4420355,"accept_rate":36,"display_name":"kuzdu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528998828,"creation_date":1528998828,"answer_id":50863289,"question_id":27023189,"body_markdown":"Same for kotlin\r\n            \r\n            //example long 1372339860 \r\n            fun getDateTime(unixSeconds: Long): String {\r\n             val date = java.util.Date(unixSeconds * 1000L)\r\n\r\n             val simpleDateFormat = SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;, Locale.getDefault())\r\n             return simpleDateFormat.format(date)\r\n            }\r\n\r\nCall like this `getDateTime(1372339860)`\r\n\r\nIt will return `27.6.2013 15:31:00 GMT +2` \r\nThe `GMT+2` because I&#39;m in Germany and we have summer time. You can use `Locale.US` as well.","title":"SimpleDateFormat warning To get local formatting use getDateInstance(), getDateTimeInstance(), or getTimeInstance(),","body":"<p>Same for kotlin</p>\n\n<pre><code>        //example long 1372339860 \n        fun getDateTime(unixSeconds: Long): String {\n         val date = java.util.Date(unixSeconds * 1000L)\n\n         val simpleDateFormat = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss z\", Locale.getDefault())\n         return simpleDateFormat.format(date)\n        }\n</code></pre>\n\n<p>Call like this <code>getDateTime(1372339860)</code></p>\n\n<p>It will return <code>27.6.2013 15:31:00 GMT +2</code> \nThe <code>GMT+2</code> because I'm in Germany and we have summer time. You can use <code>Locale.US</code> as well.</p>\n"},{"tags":[],"owner":{"account_id":11282124,"reputation":694,"user_id":14004940,"display_name":"Mr. Techie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655191796,"creation_date":1655191796,"answer_id":72613055,"question_id":27023189,"body_markdown":"We can get rid of that by using the following code:\r\n```\r\nval dateFormat = SimpleDateFormat(&quot;d MMM yyyy&quot;, Locale(&quot;IN&quot;))\r\n```\r\nAlthough we have other solutions mentioned here, I wasn&#39;t getting **Indian locale** from [here](https://developer.android.com/reference/java/util/Locale#fields_1). After some researching, I figured out this solution. \\\r\nYou can find strings (for your country) to pass in Locale constructor from [here](https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry), under `Type: region`","title":"SimpleDateFormat warning To get local formatting use getDateInstance(), getDateTimeInstance(), or getTimeInstance(),","body":"<p>We can get rid of that by using the following code:</p>\n<pre><code>val dateFormat = SimpleDateFormat(&quot;d MMM yyyy&quot;, Locale(&quot;IN&quot;))\n</code></pre>\n<p>Although we have other solutions mentioned here, I wasn't getting <strong>Indian locale</strong> from <a href=\"https://developer.android.com/reference/java/util/Locale#fields_1\" rel=\"nofollow noreferrer\">here</a>. After some researching, I figured out this solution. <br />\nYou can find strings (for your country) to pass in Locale constructor from <a href=\"https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\" rel=\"nofollow noreferrer\">here</a>, under <code>Type: region</code></p>\n"}],"owner":{"account_id":4803630,"reputation":2757,"user_id":3879470,"accept_rate":100,"display_name":"Mohammed Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26444,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":27023535,"answer_count":4,"score":51,"last_activity_date":1655191796,"creation_date":1416418213,"question_id":27023189,"body_markdown":"Do i need to be worried about this warning? What if I ignore the warning?&lt;br/&gt;\r\nWhat does this warning mean: &lt;br/&gt;\r\nTo get local formatting use `getDateInstance()`, `getDateTimeInstance()`, or `getTimeInstance()`, or use `new SimpleDateFormat(String template, Locale locale)` with for example `Locale.US` for `ASCII` dates.&lt;br/&gt;\r\nIn the 2nd Line of the code below. The App is working fine with the code. I wanted to show date eg, `19 Nov 2014`.\r\n\r\n    public static String getFormattedDate(long calendarTimeInMilliseconds) {\r\n\t    SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;d MMM yyyy&quot;);  //ON THIS LINE\r\n\t    Date now = new Date();\r\n\t    now.setTime(calendarTimeInMilliseconds);\r\n\t    String strDate = sdfDate.format(now);\r\n\t    return strDate;\r\n\t}\r\nI think this is a correct way to format date as shown [here](https://stackoverflow.com/a/3056725/3879470).","title":"SimpleDateFormat warning To get local formatting use getDateInstance(), getDateTimeInstance(), or getTimeInstance(),","body":"<p>Do i need to be worried about this warning? What if I ignore the warning?<br/>\nWhat does this warning mean: <br/>\nTo get local formatting use <code>getDateInstance()</code>, <code>getDateTimeInstance()</code>, or <code>getTimeInstance()</code>, or use <code>new SimpleDateFormat(String template, Locale locale)</code> with for example <code>Locale.US</code> for <code>ASCII</code> dates.<br/>\nIn the 2nd Line of the code below. The App is working fine with the code. I wanted to show date eg, <code>19 Nov 2014</code>.</p>\n\n<pre><code>public static String getFormattedDate(long calendarTimeInMilliseconds) {\n    SimpleDateFormat sdfDate = new SimpleDateFormat(\"d MMM yyyy\");  //ON THIS LINE\n    Date now = new Date();\n    now.setTime(calendarTimeInMilliseconds);\n    String strDate = sdfDate.format(now);\n    return strDate;\n}\n</code></pre>\n\n<p>I think this is a correct way to format date as shown <a href=\"https://stackoverflow.com/a/3056725/3879470\">here</a>.</p>\n"},{"tags":["java","list","arraylist","opencsv"],"comments":[{"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1655188073,"post_id":72612193,"comment_id":128265886,"body_markdown":"I posted an easy approach in the answers.","body":"I posted an easy approach in the answers."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1655189283,"post_id":72612193,"comment_id":128266228,"body_markdown":"If you have a method `String[] toStringArray(ProductModel product)`, then `listProduct.stream().map(e -&gt; toStringArray(product)).toList()`. The `toStringArray` method should be trivial and is left as an exercise to the reader.","body":"If you have a method <code>String[] toStringArray(ProductModel product)</code>, then <code>listProduct.stream().map(e -&gt; toStringArray(product)).toList()</code>. The <code>toStringArray</code> method should be trivial and is left as an exercise to the reader."}],"answers":[{"tags":[],"owner":{"account_id":18958610,"reputation":304,"user_id":17512310,"display_name":"devman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655187639,"creation_date":1655187639,"answer_id":72612322,"question_id":72612193,"body_markdown":"you can you use for loop or Streams like:\r\n```java\r\nList&lt;String[]&gt; list = listProduct.stream()\r\n                .filter(Objects::nonNull)\r\n                .map(getProductModel -&gt; new String[]{getProductModel.getProductName(), getProductModel.getDescription(), getProductModel.getPrice()})\r\n                .collect(Collectors.toList());\r\n```","title":"Convert List&lt;Model&gt; to List&lt;String[]&gt; Java for write to csv using opencsv","body":"<p>you can you use for loop or Streams like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String[]&gt; list = listProduct.stream()\n                .filter(Objects::nonNull)\n                .map(getProductModel -&gt; new String[]{getProductModel.getProductName(), getProductModel.getDescription(), getProductModel.getPrice()})\n                .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655187854,"creation_date":1655187854,"answer_id":72612359,"question_id":72612193,"body_markdown":"    List&lt;GetProductModel&gt; listProduct = new ArrayList&lt;&gt;();\r\n    \r\n    List&lt;String[]&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    for(GetProductModel x : listProduct) {\r\n        String[] tmpArray = new String[3];\r\n        tmpArray[0] = x.getProductName();\r\n        tmpArray[1] = x.getDescription();\r\n        tmpArray[2] = x.getPrice();\r\n        list.add(tmpArray);\r\n    } ","title":"Convert List&lt;Model&gt; to List&lt;String[]&gt; Java for write to csv using opencsv","body":"<pre><code>List&lt;GetProductModel&gt; listProduct = new ArrayList&lt;&gt;();\n\nList&lt;String[]&gt; list = new ArrayList&lt;&gt;();\n\nfor(GetProductModel x : listProduct) {\n    String[] tmpArray = new String[3];\n    tmpArray[0] = x.getProductName();\n    tmpArray[1] = x.getDescription();\n    tmpArray[2] = x.getPrice();\n    list.add(tmpArray);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655191730,"creation_date":1655188917,"answer_id":72612520,"question_id":72612193,"body_markdown":"Write to csv using Java stream API, Lambda mapping and PrintWriter:\r\n\r\n    import com.opencsv.CSVWriter;\r\n    \r\n    import java.io.*;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            GetProductModel getProductModel = new GetProductModel();\r\n            getProductModel.setProductName(&quot;ProductName&quot;);\r\n            getProductModel.setDescription(&quot;Description&quot;);\r\n            getProductModel.setPrice(&quot;Price&quot;);\r\n    \r\n            GetProductModel getProductModel2 = new GetProductModel();\r\n            getProductModel2.setProductName(&quot;ProductName2&quot;);\r\n            getProductModel2.setDescription(&quot;Description2&quot;);\r\n            getProductModel2.setPrice(&quot;Price2&quot;);\r\n    \r\n            GetProductModel getProductModel3 = new GetProductModel();\r\n            getProductModel3.setProductName(&quot;ProductName3&quot;);\r\n            getProductModel3.setDescription(&quot;Description3&quot;);\r\n            getProductModel3.setPrice(&quot;Price3&quot;);\r\n    \r\n            List&lt;GetProductModel&gt; getProductModels = new ArrayList&lt;&gt;();\r\n            getProductModels.add(getProductModel);\r\n            getProductModels.add(getProductModel2);\r\n            getProductModels.add(getProductModel3);\r\n    \r\n            writeToFileUsingPrintWrite(getProductModels);\r\n    \r\n            writeToFileUsingCSVWriter(getProductModels);\r\n        }\r\n    \r\n        private static void writeToFileUsingPrintWrite(List&lt;GetProductModel&gt; getProductModels) {\r\n            List&lt;String&gt; productsList = getProductModels\r\n                    .stream()\r\n                    .map(p -&gt; p.getProductName() + &quot;,&quot; + p.getDescription() + &quot;,&quot; + p.getPrice())\r\n                    .collect(Collectors.toList());\r\n    \r\n            File csvOutputFile = new File(&quot;C:\\\\products.csv&quot;);\r\n            try (\r\n                    PrintWriter pw = new PrintWriter(csvOutputFile)) {\r\n                productsList\r\n                        .forEach(pw::println);\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private static void writeToFileUsingCSVWriter(List&lt;GetProductModel&gt; getProductModels) {\r\n            Iterable&lt;String[]&gt; productsList = getProductModels\r\n                    .stream()\r\n                    .map(p -&gt; new String[]{p.getProductName(), p.getDescription(), p.getPrice()})\r\n                    .collect(Collectors.toList());\r\n    \r\n            CSVWriter writer;\r\n            try {\r\n                writer = new CSVWriter(new FileWriter(&quot;C:\\\\products_2.csv&quot;));\r\n                writer.writeAll(productsList);\r\n                writer.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Convert List&lt;Model&gt; to List&lt;String[]&gt; Java for write to csv using opencsv","body":"<p>Write to csv using Java stream API, Lambda mapping and PrintWriter:</p>\n<pre><code>import com.opencsv.CSVWriter;\n\nimport java.io.*;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        GetProductModel getProductModel = new GetProductModel();\n        getProductModel.setProductName(&quot;ProductName&quot;);\n        getProductModel.setDescription(&quot;Description&quot;);\n        getProductModel.setPrice(&quot;Price&quot;);\n\n        GetProductModel getProductModel2 = new GetProductModel();\n        getProductModel2.setProductName(&quot;ProductName2&quot;);\n        getProductModel2.setDescription(&quot;Description2&quot;);\n        getProductModel2.setPrice(&quot;Price2&quot;);\n\n        GetProductModel getProductModel3 = new GetProductModel();\n        getProductModel3.setProductName(&quot;ProductName3&quot;);\n        getProductModel3.setDescription(&quot;Description3&quot;);\n        getProductModel3.setPrice(&quot;Price3&quot;);\n\n        List&lt;GetProductModel&gt; getProductModels = new ArrayList&lt;&gt;();\n        getProductModels.add(getProductModel);\n        getProductModels.add(getProductModel2);\n        getProductModels.add(getProductModel3);\n\n        writeToFileUsingPrintWrite(getProductModels);\n\n        writeToFileUsingCSVWriter(getProductModels);\n    }\n\n    private static void writeToFileUsingPrintWrite(List&lt;GetProductModel&gt; getProductModels) {\n        List&lt;String&gt; productsList = getProductModels\n                .stream()\n                .map(p -&gt; p.getProductName() + &quot;,&quot; + p.getDescription() + &quot;,&quot; + p.getPrice())\n                .collect(Collectors.toList());\n\n        File csvOutputFile = new File(&quot;C:\\\\products.csv&quot;);\n        try (\n                PrintWriter pw = new PrintWriter(csvOutputFile)) {\n            productsList\n                    .forEach(pw::println);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void writeToFileUsingCSVWriter(List&lt;GetProductModel&gt; getProductModels) {\n        Iterable&lt;String[]&gt; productsList = getProductModels\n                .stream()\n                .map(p -&gt; new String[]{p.getProductName(), p.getDescription(), p.getPrice()})\n                .collect(Collectors.toList());\n\n        CSVWriter writer;\n        try {\n            writer = new CSVWriter(new FileWriter(&quot;C:\\\\products_2.csv&quot;));\n            writer.writeAll(productsList);\n            writer.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13039357,"reputation":9,"user_id":9423213,"display_name":"Sekti Andarbeni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72612322,"answer_count":3,"score":-1,"last_activity_date":1655191730,"creation_date":1655186721,"question_id":72612193,"body_markdown":"How do i put this listproduct\r\n\r\n    List&lt;GetProductModel&gt; listProduct = new ArrayList&lt;&gt;();\r\n\r\nGetProductModel \r\n\r\n    private String ProductName,Description,Price; //getter and setter\r\n\r\n\r\nto this list\r\n\r\n    List&lt;String[]&gt; list = new ArrayList&lt;&gt;();\r\n\r\nso i can put list to \r\n\r\n    try (CSVWriter writer = new CSVWriter(new FileWriter(&quot;c:\\\\test\\\\monitor.csv&quot;))) {\r\n            writer.writeAll(list);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }","title":"Convert List&lt;Model&gt; to List&lt;String[]&gt; Java for write to csv using opencsv","body":"<p>How do i put this listproduct</p>\n<pre><code>List&lt;GetProductModel&gt; listProduct = new ArrayList&lt;&gt;();\n</code></pre>\n<p>GetProductModel</p>\n<pre><code>private String ProductName,Description,Price; //getter and setter\n</code></pre>\n<p>to this list</p>\n<pre><code>List&lt;String[]&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n<p>so i can put list to</p>\n<pre><code>try (CSVWriter writer = new CSVWriter(new FileWriter(&quot;c:\\\\test\\\\monitor.csv&quot;))) {\n        writer.writeAll(list);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","timezone","simpledateformat"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1576645807,"post_id":59384356,"comment_id":104962812,"body_markdown":"If you can, get rid of `SimpleDateFormat`. That class is notoriously troublesome and long outdated. Instead use `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"If you can, get rid of <code>SimpleDateFormat</code>. That class is notoriously troublesome and long outdated. Instead use <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1576658126,"post_id":59384356,"comment_id":104966888,"body_markdown":"You *really* need to let go of `SimpleDateFormat` and related classes (`Date`, `Calendar`, `TimeZone`). These legacy classes are *terrible*, built by people who did not understand the complexities and subtleties of date-time handling. They were replaced for good reasons with the adoption of [JSR 310](https://jcp.org/en/jsr/detail?id=310). Use only classes from the *java.time* packages. Sun, Oracle, and the JCP community all gave up on those legacy classes, and so should you.","body":"You <i>really</i> need to let go of <code>SimpleDateFormat</code> and related classes (<code>Date</code>, <code>Calendar</code>, <code>TimeZone</code>). These legacy classes are <i>terrible</i>, built by people who did not understand the complexities and subtleties of date-time handling. They were replaced for good reasons with the adoption of <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>. Use only classes from the <i>java.time</i> packages. Sun, Oracle, and the JCP community all gave up on those legacy classes, and so should you."},{"owner":{"account_id":8978706,"reputation":141,"user_id":8223108,"display_name":"hertitu"},"score":0,"creation_date":1576671923,"post_id":59384356,"comment_id":104973691,"body_markdown":"@BasilBourque and Ole: thank you for the tips, FWIW I agree and that is certainly something I will discuss with the developent team for the next version of the product. But right now, I have to create a document for users of the current version to tell them which abbreviations will work.","body":"@BasilBourque and Ole: thank you for the tips, FWIW I agree and that is certainly something I will discuss with the developent team for the next version of the product. But right now, I have to create a document for users of the current version to tell them which abbreviations will work."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1576782824,"creation_date":1576647145,"answer_id":59386011,"question_id":59384356,"body_markdown":"It sounds like a simple question, but the answer is complicated. The time zone abbreviations supported by Java (whether we are talking the modern `DateTimeFormatter` or the troublesome and outdated `SimpleDateFormat`) are not defined by Java itself but by the locale data that Java uses. Complications include\r\n\r\n - Java can be configured to take locale data from different sources. This means that setting the system property `java.locale.providers` when you run your program will change the set of abbreviations supported.\r\n - The default locale providers were changed from Java 8 to Java 9. So running your program on a different Java version will give you a different set of supported time zone abbreviations.\r\n - CLDR, the locale data that are the default from Java 9, come in versions. So every new Java version may come with a different set of supported abbreviations.\r\n - Time zone abbreviations come in languages. So a formatter with French locale will support other abbreviations than a formatter with German locale, for example.\r\n - Time zone abbreviations are ambiguous. So even if `PST` is a supported abbreviation, you don’t know whether it parses into Pitcairn Standard Time, Pacific Standard Time or Philippine Standard Time.\r\n\r\nOne way to get an idea: Run a program formatting dates at different times of year into a time zone abbreviation. Since many time zones use summer time (DST) and use a different abbreviation during summer time, you will want to try to hit a date in the summer and a date in the standard time of year for those zones.\r\n\r\n\t\tSystem.out.println(&quot;java.locale.providers: &quot; + System.getProperty(&quot;java.locale.providers&quot;));\r\n\t\tDateTimeFormatter zoneAbbreviationFormatter = DateTimeFormatter.ofPattern(&quot;zzz&quot;, Locale.FRENCH);\r\n\t\tInstant northernSummer = Instant.parse(&quot;2019-07-01T00:00:00Z&quot;);\r\n\t\tInstant southernSummer = Instant.parse(&quot;2020-01-01T00:00:00Z&quot;);\r\n\t\t\r\n\t\tSet&lt;String&gt; supportedAbbreviations = new TreeSet&lt;&gt;();\r\n\t\tfor (String zid : ZoneId.getAvailableZoneIds()) {\r\n\t\t\tZoneId zone = ZoneId.of(zid);\r\n\t\t\tsupportedAbbreviations.add(northernSummer.atZone(zone).format(zoneAbbreviationFormatter));\r\n\t\t\tsupportedAbbreviations.add(southernSummer.atZone(zone).format(zoneAbbreviationFormatter));\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;&quot; + supportedAbbreviations.size() + &quot; abbreviations&quot;);\r\n\t\tSystem.out.println(supportedAbbreviations);\r\n\r\nOutput on my Java 9 was (scroll right to see it all):\r\n\r\n    java.locale.providers: null\r\n    205 abbreviations\r\n    [ACDT, ACST, ACT, ACWST, ADT, AEDT, AEST, AFT, AKDT, AKST, ALMT, AMST, AMT, AQTT, ART, AST, AWST, AZOST, AZOT, AZT, America/Punta_Arenas, Asia/Atyrau, Asia/Barnaul, Asia/Famagusta, Asia/Tomsk, BDT, BNT, BOT, BRST, BRT, BST, BTT, CAT, CCT, CDT, CEST, CET, CHADT, CHAST, CHOT, CHUT, CKT, CLST, CLT, COT, CST, CVT, CXT, ChST, DAVT, DDUT, EASST, EAST, EAT, ECT, EDT, EEST, EET, EGST, EGT, EST, Etc/GMT+1, Etc/GMT+10, Etc/GMT+11, Etc/GMT+12, Etc/GMT+2, Etc/GMT+3, Etc/GMT+4, Etc/GMT+5, Etc/GMT+6, Etc/GMT+7, Etc/GMT+8, Etc/GMT+9, Etc/GMT-1, Etc/GMT-10, Etc/GMT-11, Etc/GMT-12, Etc/GMT-13, Etc/GMT-14, Etc/GMT-2, Etc/GMT-3, Etc/GMT-4, Etc/GMT-5, Etc/GMT-6, Etc/GMT-7, Etc/GMT-8, Etc/GMT-9, Europe/Astrakhan, Europe/Kirov, Europe/Saratov, Europe/Ulyanovsk, FJST, FJT, FKT, FNT, GALT, GAMT, GET, GFT, GILT, GMT, GST, GYT, HADT, HAST, HDT, HKT, HOVT, HST, ICT, IDT, IOT, IRDT, IRKT, IRST, IST, JST, KGT, KOST, KRAT, KST, LHDT, LHST, LINT, MAGT, MART, MAWT, MDT, MEST, MET, MHT, MIST, MMT, MSK, MST, MUT, MVT, MYT, NCT, NDT, NFT, NOVT, NPT, NRT, NST, NUT, NZDT, NZST, OMST, PDT, PET, PETT, PGT, PHOT, PHT, PKT, PMDT, PMST, PONT, PST, PWT, PYST, PYT, RET, ROTT, SAKT, SAMT, SAST, SBT, SCT, SGT, SRET, SRT, SST, SYOT, TAHT, TFT, TJT, TKT, TLT, TMT, TOT, TVT, ULAT, UTC, UYT, UZT, VET, VLAT, VOST, VUT, WAKT, WEST, WET, WFT, WGST, WGT, WIB, WIT, WITA, WSDT, WSST, XJT, YAKT, YEKT]\r\n\r\nEdit:\r\n\r\nYou may modify the code snippet to produce the time zones that each abbreviation may be parsed to too.\r\n\r\nI would certainly expect that the formatter can parse the same time zone abbreviations that it can produce by formatting.\r\n\r\nSupplement: Code for getting each abbreviation with the time zones that it may parse into:\r\n\r\n\t    Set&lt;String&gt; zids = ZoneId.getAvailableZoneIds();\r\n\t    Map &lt;String, List&lt;String&gt;&gt; supportedAbbreviations = new TreeMap&lt;&gt;();\r\n\t\tsupportedAbbreviations.putAll(zids.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(zid -&gt; northernSummer.atZone(ZoneId.of(zid))\r\n\t\t\t\t\t\t.format(zoneAbbreviationFormatter))));\r\n\t\tsupportedAbbreviations.putAll(zids.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(zid -&gt; southernSummer.atZone(ZoneId.of(zid))\r\n\t\t\t\t\t\t.format(zoneAbbreviationFormatter))));\r\n\r\n\t\tSystem.out.println(&quot;&quot; + supportedAbbreviations.size() + &quot; abbreviations&quot;);\r\n\t\tsupportedAbbreviations.forEach((a, zs) -&gt; System.out.format(&quot;%-5s %s%n&quot;, a, zs));\r\n\r\nExcerpt from the output (still on my Java 9):\r\n\r\n    205 abbreviations\r\n    ACDT  [Australia/Yancowinna, Australia/Adelaide, Australia/Broken_Hill, Australia/South]\r\n    ACST  [Australia/North, Australia/Darwin]\r\n    ACT   [America/Eirunepe, America/Porto_Acre, Brazil/Acre, America/Rio_Branco]\r\n    ACWST [Australia/Eucla]\r\n    ADT   [Canada/Atlantic, America/Grand_Turk, America/Moncton, Atlantic/Bermuda, America/Halifax, America/Glace_Bay, America/Thule, America/Goose_Bay, SystemV/AST4ADT]\r\n    AEDT  [Australia/Hobart, Australia/Tasmania, Australia/ACT, Australia/Victoria, Australia/Canberra, Australia/Currie, Australia/NSW, Australia/Sydney, Australia/Melbourne]\r\n    AEST  [Australia/Queensland, Australia/Brisbane, Australia/Lindeman]\r\n    …\r\n    WSDT  [Pacific/Apia]\r\n    WSST  [Pacific/Apia]\r\n    XJT   [Asia/Kashgar, Asia/Urumqi]\r\n    YAKT  [Asia/Chita, Asia/Yakutsk, Asia/Khandyga]\r\n    YEKT  [Asia/Yekaterinburg]\r\n\r\n","title":"What timezone abbreviations does SimpleDateFormat (not TimeZone) support for parsing?","body":"<p>It sounds like a simple question, but the answer is complicated. The time zone abbreviations supported by Java (whether we are talking the modern <code>DateTimeFormatter</code> or the troublesome and outdated <code>SimpleDateFormat</code>) are not defined by Java itself but by the locale data that Java uses. Complications include</p>\n\n<ul>\n<li>Java can be configured to take locale data from different sources. This means that setting the system property <code>java.locale.providers</code> when you run your program will change the set of abbreviations supported.</li>\n<li>The default locale providers were changed from Java 8 to Java 9. So running your program on a different Java version will give you a different set of supported time zone abbreviations.</li>\n<li>CLDR, the locale data that are the default from Java 9, come in versions. So every new Java version may come with a different set of supported abbreviations.</li>\n<li>Time zone abbreviations come in languages. So a formatter with French locale will support other abbreviations than a formatter with German locale, for example.</li>\n<li>Time zone abbreviations are ambiguous. So even if <code>PST</code> is a supported abbreviation, you don’t know whether it parses into Pitcairn Standard Time, Pacific Standard Time or Philippine Standard Time.</li>\n</ul>\n\n<p>One way to get an idea: Run a program formatting dates at different times of year into a time zone abbreviation. Since many time zones use summer time (DST) and use a different abbreviation during summer time, you will want to try to hit a date in the summer and a date in the standard time of year for those zones.</p>\n\n<pre><code>    System.out.println(\"java.locale.providers: \" + System.getProperty(\"java.locale.providers\"));\n    DateTimeFormatter zoneAbbreviationFormatter = DateTimeFormatter.ofPattern(\"zzz\", Locale.FRENCH);\n    Instant northernSummer = Instant.parse(\"2019-07-01T00:00:00Z\");\n    Instant southernSummer = Instant.parse(\"2020-01-01T00:00:00Z\");\n\n    Set&lt;String&gt; supportedAbbreviations = new TreeSet&lt;&gt;();\n    for (String zid : ZoneId.getAvailableZoneIds()) {\n        ZoneId zone = ZoneId.of(zid);\n        supportedAbbreviations.add(northernSummer.atZone(zone).format(zoneAbbreviationFormatter));\n        supportedAbbreviations.add(southernSummer.atZone(zone).format(zoneAbbreviationFormatter));\n    }\n\n    System.out.println(\"\" + supportedAbbreviations.size() + \" abbreviations\");\n    System.out.println(supportedAbbreviations);\n</code></pre>\n\n<p>Output on my Java 9 was (scroll right to see it all):</p>\n\n<pre><code>java.locale.providers: null\n205 abbreviations\n[ACDT, ACST, ACT, ACWST, ADT, AEDT, AEST, AFT, AKDT, AKST, ALMT, AMST, AMT, AQTT, ART, AST, AWST, AZOST, AZOT, AZT, America/Punta_Arenas, Asia/Atyrau, Asia/Barnaul, Asia/Famagusta, Asia/Tomsk, BDT, BNT, BOT, BRST, BRT, BST, BTT, CAT, CCT, CDT, CEST, CET, CHADT, CHAST, CHOT, CHUT, CKT, CLST, CLT, COT, CST, CVT, CXT, ChST, DAVT, DDUT, EASST, EAST, EAT, ECT, EDT, EEST, EET, EGST, EGT, EST, Etc/GMT+1, Etc/GMT+10, Etc/GMT+11, Etc/GMT+12, Etc/GMT+2, Etc/GMT+3, Etc/GMT+4, Etc/GMT+5, Etc/GMT+6, Etc/GMT+7, Etc/GMT+8, Etc/GMT+9, Etc/GMT-1, Etc/GMT-10, Etc/GMT-11, Etc/GMT-12, Etc/GMT-13, Etc/GMT-14, Etc/GMT-2, Etc/GMT-3, Etc/GMT-4, Etc/GMT-5, Etc/GMT-6, Etc/GMT-7, Etc/GMT-8, Etc/GMT-9, Europe/Astrakhan, Europe/Kirov, Europe/Saratov, Europe/Ulyanovsk, FJST, FJT, FKT, FNT, GALT, GAMT, GET, GFT, GILT, GMT, GST, GYT, HADT, HAST, HDT, HKT, HOVT, HST, ICT, IDT, IOT, IRDT, IRKT, IRST, IST, JST, KGT, KOST, KRAT, KST, LHDT, LHST, LINT, MAGT, MART, MAWT, MDT, MEST, MET, MHT, MIST, MMT, MSK, MST, MUT, MVT, MYT, NCT, NDT, NFT, NOVT, NPT, NRT, NST, NUT, NZDT, NZST, OMST, PDT, PET, PETT, PGT, PHOT, PHT, PKT, PMDT, PMST, PONT, PST, PWT, PYST, PYT, RET, ROTT, SAKT, SAMT, SAST, SBT, SCT, SGT, SRET, SRT, SST, SYOT, TAHT, TFT, TJT, TKT, TLT, TMT, TOT, TVT, ULAT, UTC, UYT, UZT, VET, VLAT, VOST, VUT, WAKT, WEST, WET, WFT, WGST, WGT, WIB, WIT, WITA, WSDT, WSST, XJT, YAKT, YEKT]\n</code></pre>\n\n<p>Edit:</p>\n\n<p>You may modify the code snippet to produce the time zones that each abbreviation may be parsed to too.</p>\n\n<p>I would certainly expect that the formatter can parse the same time zone abbreviations that it can produce by formatting.</p>\n\n<p>Supplement: Code for getting each abbreviation with the time zones that it may parse into:</p>\n\n<pre><code>    Set&lt;String&gt; zids = ZoneId.getAvailableZoneIds();\n    Map &lt;String, List&lt;String&gt;&gt; supportedAbbreviations = new TreeMap&lt;&gt;();\n    supportedAbbreviations.putAll(zids.stream()\n            .collect(Collectors.groupingBy(zid -&gt; northernSummer.atZone(ZoneId.of(zid))\n                    .format(zoneAbbreviationFormatter))));\n    supportedAbbreviations.putAll(zids.stream()\n            .collect(Collectors.groupingBy(zid -&gt; southernSummer.atZone(ZoneId.of(zid))\n                    .format(zoneAbbreviationFormatter))));\n\n    System.out.println(\"\" + supportedAbbreviations.size() + \" abbreviations\");\n    supportedAbbreviations.forEach((a, zs) -&gt; System.out.format(\"%-5s %s%n\", a, zs));\n</code></pre>\n\n<p>Excerpt from the output (still on my Java 9):</p>\n\n<pre><code>205 abbreviations\nACDT  [Australia/Yancowinna, Australia/Adelaide, Australia/Broken_Hill, Australia/South]\nACST  [Australia/North, Australia/Darwin]\nACT   [America/Eirunepe, America/Porto_Acre, Brazil/Acre, America/Rio_Branco]\nACWST [Australia/Eucla]\nADT   [Canada/Atlantic, America/Grand_Turk, America/Moncton, Atlantic/Bermuda, America/Halifax, America/Glace_Bay, America/Thule, America/Goose_Bay, SystemV/AST4ADT]\nAEDT  [Australia/Hobart, Australia/Tasmania, Australia/ACT, Australia/Victoria, Australia/Canberra, Australia/Currie, Australia/NSW, Australia/Sydney, Australia/Melbourne]\nAEST  [Australia/Queensland, Australia/Brisbane, Australia/Lindeman]\n…\nWSDT  [Pacific/Apia]\nWSST  [Pacific/Apia]\nXJT   [Asia/Kashgar, Asia/Urumqi]\nYAKT  [Asia/Chita, Asia/Yakutsk, Asia/Khandyga]\nYEKT  [Asia/Yekaterinburg]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576737244,"creation_date":1576686768,"answer_id":59396393,"question_id":59384356,"body_markdown":"By reading the source code of `SimpleDateFormat` class, the main method for parsing the zone is the method `subParseZoneString`, as below (source code below comes from jdk1.8.0_151, omitted some part)\r\n\r\n    /**\r\n     * find time zone &#39;text&#39; matched zoneStrings and set to internal\r\n     * calendar.\r\n     */\r\n    private int subParseZoneString(String text, int start, CalendarBuilder calb) {\r\n        boolean useSameName = false; // true if standard and daylight time use the same abbreviation.\r\n        TimeZone currentTimeZone = getTimeZone();\r\n\r\n        // At this point, check for named time zones by looking through\r\n        // the locale data from the TimeZoneNames strings.\r\n        // Want to be able to parse both short and long forms.\r\n        int zoneIndex = formatData.getZoneIndex(currentTimeZone.getID());\r\n        TimeZone tz = null;\r\n        String[][] zoneStrings = formatData.getZoneStringsWrapper();\r\n        String[] zoneNames = null;\r\n        int nameIndex = 0;\r\n        if (zoneIndex != -1) {\r\n            zoneNames = zoneStrings[zoneIndex];\r\n            if ((nameIndex = matchZoneString(text, start, zoneNames)) &gt; 0) {\r\n                if (nameIndex &lt;= 2) {\r\n                    // Check if the standard name (abbr) and the daylight name are the same.\r\n                    useSameName = zoneNames[nameIndex].equalsIgnoreCase(zoneNames[nameIndex + 2]);\r\n                }\r\n                tz = TimeZone.getTimeZone(zoneNames[0]);\r\n            }\r\n        }\r\n        ...\r\n        // If fail, try zoneIndex by TimeZone.getDefault().getId(), omitted\r\n        ...\r\n        // If fail, try all elements in zoneStrings, omitted\r\n        ...\r\n        // Handle Daylight Saving, omitted\r\n        ...\r\n    }  \r\n\r\nFrom the code, we see that `zoneStrings` will be the main source for matching against the input text. Each element `zoneString` in `zoneStrings` is a string array representing one zone information .For the source, the matching priority is:  \r\n\r\n  1. The `zoneString` of the `SimpleDateFormat` time zone.  \r\n  2. The `zoneString` of the default time zone (`TimeZone.getDefault()`).  \r\n  3. The `zoneString` in the array order.  \r\n\r\nBy tracing the method call, in `DateFormatSymbols` class,\r\n  \r\n    /**\r\n     * Wrapper method to the getZoneStrings(), which is called from inside\r\n     * the java.text package and not to mutate the returned arrays, so that\r\n     * it does not need to create a defensive copy.\r\n     */\r\n    final String[][] getZoneStringsWrapper() {\r\n        if (isSubclassObject()) {\r\n            return getZoneStrings();\r\n        } else {\r\n            return getZoneStringsImpl(false);\r\n        }\r\n    }\r\n    \r\n    private String[][] getZoneStringsImpl(boolean needsCopy) {\r\n        if (zoneStrings == null) {\r\n            zoneStrings = TimeZoneNameUtility.getZoneStrings(locale);\r\n        }\r\n        ...\r\n        // do array copying, omitted   \r\n        ...\r\n    }  \r\n\r\nThe `zoneStrings` comes from `TimeZoneNameUtility` class method, which is internal APIs. After some debugging, it is found that the element of `zoneStrings` is a String array with length 7. \r\n\r\n - Index 0: Zone Id(TimeZone.getID())  \r\n - Index 1: Zone Long Name \r\n - Index 2: Zone Abbreviation \r\n - Index 3: Zone Long Name(For Daylight Saving) \r\n - Index 4: Zone Abbreviation(For Daylight Saving) \r\n - Index 5,6: Don&#39;t know  \r\n\r\nFrom the `matchZoneString` method of `SimpleDateFormat` class,\r\n\r\n    private int matchZoneString(String text, int start, String[] zoneNames) {\r\n        for (int i = 1; i &lt;= 4; ++i) {\r\n            // Checking long and short zones [1 &amp; 2],\r\n            // and long and short daylight [3 &amp; 4].\r\n            String zoneName = zoneNames[i];\r\n            if (text.regionMatches(true, start,\r\n                                   zoneName, 0, zoneName.length())) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\nThe `text` input will only match element of `zoneStrings` from index 1 to 4. Zone ID is not involved in this case.\r\n\r\n----------\r\n\r\nTL;DR\r\n-----\r\n\r\nSo now we can explain why\r\n\r\n&gt; TimeZone supports &quot;CTT&quot; but SimpleDateFormat does not  \r\n&gt;   SimpleDateFormat supports &quot;CEST&quot; but TimeZone does not\r\n\r\n&quot;CTT&quot; is a **Zone ID** but not an **abbreviation**.  \r\n&quot;CEST&quot; is an **abbreviation** but not a **Zone ID**.\r\n\r\n&gt; How/where can I get a full list of timezone abbreviations that\r\n&gt; SimpleDateFormat.parse() supports AND their meaning (i.e. just knowing\r\n&gt; that CST is supported is not enough, I need to know that this is\r\n&gt; interpreted as Central Standard Time, not Cuba Standard Time).\r\n\r\nWe can try to retrieve all zone abbreviations that can be parsed by `SimpleDateFormat` and their corresponding **Zone ID** and **Long Name**, using the below program by following the matching priority of `SimpleDateFormat`.  \r\n\r\n    import java.text.DateFormatSymbols;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    import java.util.Set;\r\n    import java.util.TimeZone;\r\n    \r\n    public class GetParsableZone {\r\n    \r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\tLocale locale = Locale.getDefault(Locale.Category.FORMAT);\r\n    \t\tSystem.out.println(&quot;Default Local for getZoneStrings &quot; + locale.toString());\r\n    \t\tDateFormatSymbols dateFormatSymbols = new DateFormatSymbols(locale);\r\n    \t\tString[][] zoneStrings = dateFormatSymbols.getZoneStrings();\r\n    \t\tSet&lt;String&gt; possibleZoneAbbrs = new HashSet&lt;String&gt;();\r\n    \t\tfor (String[] zoneString : zoneStrings) {\r\n    \t\t\tpossibleZoneAbbrs.add(zoneString[2]);\r\n    \t\t\tpossibleZoneAbbrs.add(zoneString[4]);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Try to parse all possibleZoneAbbrs&quot;);\r\n    \t\tSimpleDateFormat dateFormatWithZone = new SimpleDateFormat(&quot;dd/MM/yyyy zzz&quot;);\r\n    \t\tString template = &quot;12/12/2012 %s&quot;;\r\n    \t\tfor (String possibleZoneAbbr : possibleZoneAbbrs) {\r\n    \t\t\tdateFormatWithZone.parse(String.format(template, possibleZoneAbbr));\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;All possibleZoneAbbrs can be parsed!&quot;);\r\n    \t\tList&lt;String&gt; orderedPossibleZoneAbbrs = new ArrayList&lt;String&gt;(possibleZoneAbbrs);\r\n    \t\tCollections.sort(orderedPossibleZoneAbbrs);\r\n    \t\tString simpleDateFormatZoneId = new SimpleDateFormat().getTimeZone().getID();\r\n    \t\tString defaultZoneId = TimeZone.getDefault().getID();\r\n    \t\tInteger simpleDateFormatZoneIndex = getZoneIndex(zoneStrings, simpleDateFormatZoneId);\r\n    \t\tInteger defaultZoneIndex = getZoneIndex(zoneStrings, defaultZoneId);\r\n    \t\tSystem.out.println(&quot;Default SimpleDateFormat Time Zone &quot; + new SimpleDateFormat().getTimeZone().getID());\r\n    \t\tSystem.out.println(&quot;Default Time Zone &quot; + TimeZone.getDefault().getID());\r\n    \t\tSystem.out.println(&quot;Abbreviation\\tZoneId\\tLong Name&quot;);\r\n    \t\tfor (String orderedPossibleZoneAbbr : orderedPossibleZoneAbbrs) {\r\n    \t\t\t// Do matching as SimpleDateFormat\r\n    \t\t\tint matchIndex = getZoneIndexMatchAbbreviation(zoneStrings, simpleDateFormatZoneIndex, defaultZoneIndex,\r\n    \t\t\t\t\torderedPossibleZoneAbbr);\r\n    \t\t\tprintIdAndFullName(zoneStrings[matchIndex], orderedPossibleZoneAbbr);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void printIdAndFullName(String[] zoneString, String abbreviation) {\r\n    \t\tString longName = &quot;&quot;;\r\n    \t\tString id = zoneString[0];\r\n    \t\tif (zoneString[2].equals(abbreviation)) {\r\n    \t\t\tlongName = zoneString[1];\r\n    \t\t} else {\r\n    \t\t\tlongName = zoneString[3];\r\n    \t\t}\r\n    \t\tSystem.out.println(String.format(&quot;%s\\t%s\\t%s&quot;, abbreviation, id, longName));\r\n    \t}\r\n    \r\n    \tpublic static final int getZoneIndex(String[][] zoneStrings, String ID) {\r\n    \t\tfor (int index = 0; index &lt; zoneStrings.length; index++) {\r\n    \t\t\tif (ID.equals(zoneStrings[index][0])) {\r\n    \t\t\t\treturn index;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn -1;\r\n    \t}\r\n    \r\n    \tpublic static boolean isAbbreviationMatchZoneString(String[] zoneString, String abbreviation) {\r\n    \t\treturn zoneString[2].equals(abbreviation) || zoneString[4].equals(abbreviation);\r\n    \t}\r\n    \r\n    \tpublic static int getZoneIndexMatchAbbreviation(String[][] zoneStrings, int simpleDateFormatZoneIndex,\r\n    \t\t\tint defaultZoneIndex, String abbreviation) {\r\n    \t\tString[] simpleDateFormatZoneString = zoneStrings[simpleDateFormatZoneIndex];\r\n    \t\tif (isAbbreviationMatchZoneString(simpleDateFormatZoneString, abbreviation)) {\r\n    \t\t\treturn simpleDateFormatZoneIndex;\r\n    \t\t}\r\n    \t\tString[] defaultZoneString = zoneStrings[defaultZoneIndex];\r\n    \t\tif (isAbbreviationMatchZoneString(defaultZoneString, abbreviation)) {\r\n    \t\t\treturn defaultZoneIndex;\r\n    \t\t}\r\n    \t\tfor (int i = 0; i &lt; zoneStrings.length; i++) {\r\n    \t\t\tif (isAbbreviationMatchZoneString(zoneStrings[i], abbreviation)) {\r\n    \t\t\t\treturn i;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn -1;\r\n    \t}\r\n    }\r\n\r\nIn my environment, the `SimpleDateFormat` zone and `TimeZone.getDefault()` are both \r\n***Asia/Shanghai***, so if the input is ***CST***, the zone interpreted will be ***China Standard Time*** instead of Central Standard Time or Cuba Standard Time\r\n","title":"What timezone abbreviations does SimpleDateFormat (not TimeZone) support for parsing?","body":"<p>By reading the source code of <code>SimpleDateFormat</code> class, the main method for parsing the zone is the method <code>subParseZoneString</code>, as below (source code below comes from jdk1.8.0_151, omitted some part)</p>\n\n<pre><code>/**\n * find time zone 'text' matched zoneStrings and set to internal\n * calendar.\n */\nprivate int subParseZoneString(String text, int start, CalendarBuilder calb) {\n    boolean useSameName = false; // true if standard and daylight time use the same abbreviation.\n    TimeZone currentTimeZone = getTimeZone();\n\n    // At this point, check for named time zones by looking through\n    // the locale data from the TimeZoneNames strings.\n    // Want to be able to parse both short and long forms.\n    int zoneIndex = formatData.getZoneIndex(currentTimeZone.getID());\n    TimeZone tz = null;\n    String[][] zoneStrings = formatData.getZoneStringsWrapper();\n    String[] zoneNames = null;\n    int nameIndex = 0;\n    if (zoneIndex != -1) {\n        zoneNames = zoneStrings[zoneIndex];\n        if ((nameIndex = matchZoneString(text, start, zoneNames)) &gt; 0) {\n            if (nameIndex &lt;= 2) {\n                // Check if the standard name (abbr) and the daylight name are the same.\n                useSameName = zoneNames[nameIndex].equalsIgnoreCase(zoneNames[nameIndex + 2]);\n            }\n            tz = TimeZone.getTimeZone(zoneNames[0]);\n        }\n    }\n    ...\n    // If fail, try zoneIndex by TimeZone.getDefault().getId(), omitted\n    ...\n    // If fail, try all elements in zoneStrings, omitted\n    ...\n    // Handle Daylight Saving, omitted\n    ...\n}  \n</code></pre>\n\n<p>From the code, we see that <code>zoneStrings</code> will be the main source for matching against the input text. Each element <code>zoneString</code> in <code>zoneStrings</code> is a string array representing one zone information .For the source, the matching priority is:  </p>\n\n<ol>\n<li>The <code>zoneString</code> of the <code>SimpleDateFormat</code> time zone.  </li>\n<li>The <code>zoneString</code> of the default time zone (<code>TimeZone.getDefault()</code>).  </li>\n<li>The <code>zoneString</code> in the array order.  </li>\n</ol>\n\n<p>By tracing the method call, in <code>DateFormatSymbols</code> class,</p>\n\n<pre><code>/**\n * Wrapper method to the getZoneStrings(), which is called from inside\n * the java.text package and not to mutate the returned arrays, so that\n * it does not need to create a defensive copy.\n */\nfinal String[][] getZoneStringsWrapper() {\n    if (isSubclassObject()) {\n        return getZoneStrings();\n    } else {\n        return getZoneStringsImpl(false);\n    }\n}\n\nprivate String[][] getZoneStringsImpl(boolean needsCopy) {\n    if (zoneStrings == null) {\n        zoneStrings = TimeZoneNameUtility.getZoneStrings(locale);\n    }\n    ...\n    // do array copying, omitted   \n    ...\n}  \n</code></pre>\n\n<p>The <code>zoneStrings</code> comes from <code>TimeZoneNameUtility</code> class method, which is internal APIs. After some debugging, it is found that the element of <code>zoneStrings</code> is a String array with length 7. </p>\n\n<ul>\n<li>Index 0: Zone Id(TimeZone.getID())  </li>\n<li>Index 1: Zone Long Name </li>\n<li>Index 2: Zone Abbreviation </li>\n<li>Index 3: Zone Long Name(For Daylight Saving) </li>\n<li>Index 4: Zone Abbreviation(For Daylight Saving) </li>\n<li>Index 5,6: Don't know  </li>\n</ul>\n\n<p>From the <code>matchZoneString</code> method of <code>SimpleDateFormat</code> class,</p>\n\n<pre><code>private int matchZoneString(String text, int start, String[] zoneNames) {\n    for (int i = 1; i &lt;= 4; ++i) {\n        // Checking long and short zones [1 &amp; 2],\n        // and long and short daylight [3 &amp; 4].\n        String zoneName = zoneNames[i];\n        if (text.regionMatches(true, start,\n                               zoneName, 0, zoneName.length())) {\n            return i;\n        }\n    }\n    return -1;\n}\n</code></pre>\n\n<p>The <code>text</code> input will only match element of <code>zoneStrings</code> from index 1 to 4. Zone ID is not involved in this case.</p>\n\n<hr>\n\n<h2>TL;DR</h2>\n\n<p>So now we can explain why</p>\n\n<blockquote>\n  <p>TimeZone supports \"CTT\" but SimpleDateFormat does not<br>\n    SimpleDateFormat supports \"CEST\" but TimeZone does not</p>\n</blockquote>\n\n<p>\"CTT\" is a <strong>Zone ID</strong> but not an <strong>abbreviation</strong>.<br>\n\"CEST\" is an <strong>abbreviation</strong> but not a <strong>Zone ID</strong>.</p>\n\n<blockquote>\n  <p>How/where can I get a full list of timezone abbreviations that\n  SimpleDateFormat.parse() supports AND their meaning (i.e. just knowing\n  that CST is supported is not enough, I need to know that this is\n  interpreted as Central Standard Time, not Cuba Standard Time).</p>\n</blockquote>\n\n<p>We can try to retrieve all zone abbreviations that can be parsed by <code>SimpleDateFormat</code> and their corresponding <strong>Zone ID</strong> and <strong>Long Name</strong>, using the below program by following the matching priority of <code>SimpleDateFormat</code>.  </p>\n\n<pre><code>import java.text.DateFormatSymbols;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.Set;\nimport java.util.TimeZone;\n\npublic class GetParsableZone {\n\n    public static void main(String[] args) throws ParseException {\n        Locale locale = Locale.getDefault(Locale.Category.FORMAT);\n        System.out.println(\"Default Local for getZoneStrings \" + locale.toString());\n        DateFormatSymbols dateFormatSymbols = new DateFormatSymbols(locale);\n        String[][] zoneStrings = dateFormatSymbols.getZoneStrings();\n        Set&lt;String&gt; possibleZoneAbbrs = new HashSet&lt;String&gt;();\n        for (String[] zoneString : zoneStrings) {\n            possibleZoneAbbrs.add(zoneString[2]);\n            possibleZoneAbbrs.add(zoneString[4]);\n        }\n        System.out.println(\"Try to parse all possibleZoneAbbrs\");\n        SimpleDateFormat dateFormatWithZone = new SimpleDateFormat(\"dd/MM/yyyy zzz\");\n        String template = \"12/12/2012 %s\";\n        for (String possibleZoneAbbr : possibleZoneAbbrs) {\n            dateFormatWithZone.parse(String.format(template, possibleZoneAbbr));\n        }\n        System.out.println(\"All possibleZoneAbbrs can be parsed!\");\n        List&lt;String&gt; orderedPossibleZoneAbbrs = new ArrayList&lt;String&gt;(possibleZoneAbbrs);\n        Collections.sort(orderedPossibleZoneAbbrs);\n        String simpleDateFormatZoneId = new SimpleDateFormat().getTimeZone().getID();\n        String defaultZoneId = TimeZone.getDefault().getID();\n        Integer simpleDateFormatZoneIndex = getZoneIndex(zoneStrings, simpleDateFormatZoneId);\n        Integer defaultZoneIndex = getZoneIndex(zoneStrings, defaultZoneId);\n        System.out.println(\"Default SimpleDateFormat Time Zone \" + new SimpleDateFormat().getTimeZone().getID());\n        System.out.println(\"Default Time Zone \" + TimeZone.getDefault().getID());\n        System.out.println(\"Abbreviation\\tZoneId\\tLong Name\");\n        for (String orderedPossibleZoneAbbr : orderedPossibleZoneAbbrs) {\n            // Do matching as SimpleDateFormat\n            int matchIndex = getZoneIndexMatchAbbreviation(zoneStrings, simpleDateFormatZoneIndex, defaultZoneIndex,\n                    orderedPossibleZoneAbbr);\n            printIdAndFullName(zoneStrings[matchIndex], orderedPossibleZoneAbbr);\n        }\n    }\n\n    public static void printIdAndFullName(String[] zoneString, String abbreviation) {\n        String longName = \"\";\n        String id = zoneString[0];\n        if (zoneString[2].equals(abbreviation)) {\n            longName = zoneString[1];\n        } else {\n            longName = zoneString[3];\n        }\n        System.out.println(String.format(\"%s\\t%s\\t%s\", abbreviation, id, longName));\n    }\n\n    public static final int getZoneIndex(String[][] zoneStrings, String ID) {\n        for (int index = 0; index &lt; zoneStrings.length; index++) {\n            if (ID.equals(zoneStrings[index][0])) {\n                return index;\n            }\n        }\n        return -1;\n    }\n\n    public static boolean isAbbreviationMatchZoneString(String[] zoneString, String abbreviation) {\n        return zoneString[2].equals(abbreviation) || zoneString[4].equals(abbreviation);\n    }\n\n    public static int getZoneIndexMatchAbbreviation(String[][] zoneStrings, int simpleDateFormatZoneIndex,\n            int defaultZoneIndex, String abbreviation) {\n        String[] simpleDateFormatZoneString = zoneStrings[simpleDateFormatZoneIndex];\n        if (isAbbreviationMatchZoneString(simpleDateFormatZoneString, abbreviation)) {\n            return simpleDateFormatZoneIndex;\n        }\n        String[] defaultZoneString = zoneStrings[defaultZoneIndex];\n        if (isAbbreviationMatchZoneString(defaultZoneString, abbreviation)) {\n            return defaultZoneIndex;\n        }\n        for (int i = 0; i &lt; zoneStrings.length; i++) {\n            if (isAbbreviationMatchZoneString(zoneStrings[i], abbreviation)) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n\n<p>In my environment, the <code>SimpleDateFormat</code> zone and <code>TimeZone.getDefault()</code> are both \n<strong><em>Asia/Shanghai</em></strong>, so if the input is <strong><em>CST</em></strong>, the zone interpreted will be <strong><em>China Standard Time</em></strong> instead of Central Standard Time or Cuba Standard Time</p>\n"},{"tags":[],"owner":{"account_id":25550915,"reputation":1,"user_id":19335312,"display_name":"jhanak bhargava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655190906,"creation_date":1655190906,"answer_id":72612896,"question_id":59384356,"body_markdown":"It can be done through **zoneId.getDisplayName(SHORT, ENGLISH)**\r\n","title":"What timezone abbreviations does SimpleDateFormat (not TimeZone) support for parsing?","body":"<p>It can be done through <strong>zoneId.getDisplayName(SHORT, ENGLISH)</strong></p>\n"}],"owner":{"account_id":8978706,"reputation":141,"user_id":8223108,"display_name":"hertitu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1655190906,"creation_date":1576632964,"question_id":59384356,"body_markdown":"My previous question was closed as duplicate of [Which three-letter time zone IDs are not deprecated? ](https://stackoverflow.com/questions/41672825/which-three-letter-time-zone-ids-are-not-deprecated)  but I believe this is something completely different.  \r\nThe other question is about the **`java.util.TimeZone`** class.  \r\nMy question is about the **`java.text.SimpleDateFormat`** class.  \r\n\r\nAs I already mentioned in the original question, a simple test revealed that these 2 classes do not support the same timezone abbreviations.\r\nFor example:\r\n\r\n - TimeZone supports &quot;CTT&quot; but SimpleDateFormat does not \r\n - SimpleDateFormat supports &quot;CEST&quot; but TimeZone does not\r\n\r\n**Where (or how) can I find a full list of abbreviations that `SimpleDateFormat` is able to parse when using &quot;z&quot; in the parse string, and what each abbreviation is considered to mean?**  \r\n\r\n\r\n---\r\nOriginal question for reference:\r\n---\r\n\r\n[Context: I&#39;m not a developer but need to document existing code]\r\n\r\nI understand that [there are no standards for timezone abbreviations](https://stackoverflow.com/a/18407231/8223108) and so CST can mean Central Standard Time, China Standard Time, Cuba Standard Time, ...\r\n\r\n\r\nBut if I have code like this:\r\n\r\n    \t\tString time = &quot;12:00:00.000 CST Tue Dec 17 2019&quot;;\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss.SSS zzz EEE MMM dd yyyy&quot;);\r\n    \t\tDate utcTime = sdf.parse(time);\r\n            System.out.println(utcTime.toGMTString());\r\n\r\nThen the result is:\r\n\r\n            17 Dec 2019 18:00:00 GMT\r\n\r\nSo this means that SimpleDateFormat.parse() interprets CST as Central Standard Time / UTC-6.\r\n\r\nHow/where can I get a full list of timezone abbreviations that SimpleDateFormat.parse() supports *AND* their meaning (i.e. just knowing that CST is supported is not enough, I need to know that this is interpreted as Central Standard Time, not Cuba Standard Time).\r\n\r\n---\r\n\r\nI would expect to find the answer on the [Javadocs page for SimpleDateFormat](https://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html) but it only gives PST as example, not a full list.\r\n\r\n\r\n---\r\n\r\nThe [Javadocs page for TimeZone](https://docs.oracle.com/javase/10/docs/api/java/util/TimeZone.html) says :\r\n\r\n&gt; For compatibility with JDK 1.1.x, some other three-letter time zone\r\n&gt; IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are also supported.\r\n\r\nBut doesn&#39;t say which ones.  \r\nIt also only mentions *three-letter* IDs, while the code above will also work fine with CEST for example (Central European Summer Time).\r\n\r\nIf I check the list returned by `TimeZone.getAvailableIDs();` it does not contain CEST either, but it does contain items like &quot;Cuba&quot; and &quot;Eire&quot;, which do *not* work in the above code snippet (even when I change `zzz` to `zzzz` in the parse string).\r\n\r\n**So I conclude that java.text.SimpleDateFormat does not support the same abbreviations as java.util.TimeZone.** \r\n\r\nWhere can I find a list of abbreviations that SimpleDateFormat is able to parse?\r\n\r\n\r\n ","title":"What timezone abbreviations does SimpleDateFormat (not TimeZone) support for parsing?","body":"<p>My previous question was closed as duplicate of <a href=\"https://stackoverflow.com/questions/41672825/which-three-letter-time-zone-ids-are-not-deprecated\">Which three-letter time zone IDs are not deprecated? </a>  but I believe this is something completely different.<br>\nThe other question is about the <strong><code>java.util.TimeZone</code></strong> class.<br>\nMy question is about the <strong><code>java.text.SimpleDateFormat</code></strong> class.  </p>\n\n<p>As I already mentioned in the original question, a simple test revealed that these 2 classes do not support the same timezone abbreviations.\nFor example:</p>\n\n<ul>\n<li>TimeZone supports \"CTT\" but SimpleDateFormat does not </li>\n<li>SimpleDateFormat supports \"CEST\" but TimeZone does not</li>\n</ul>\n\n<p><strong>Where (or how) can I find a full list of abbreviations that <code>SimpleDateFormat</code> is able to parse when using \"z\" in the parse string, and what each abbreviation is considered to mean?</strong>  </p>\n\n<hr>\n\n<h2>Original question for reference:</h2>\n\n<p>[Context: I'm not a developer but need to document existing code]</p>\n\n<p>I understand that <a href=\"https://stackoverflow.com/a/18407231/8223108\">there are no standards for timezone abbreviations</a> and so CST can mean Central Standard Time, China Standard Time, Cuba Standard Time, ...</p>\n\n<p>But if I have code like this:</p>\n\n<pre><code>        String time = \"12:00:00.000 CST Tue Dec 17 2019\";\n        SimpleDateFormat sdf = new SimpleDateFormat(\"HH:mm:ss.SSS zzz EEE MMM dd yyyy\");\n        Date utcTime = sdf.parse(time);\n        System.out.println(utcTime.toGMTString());\n</code></pre>\n\n<p>Then the result is:</p>\n\n<pre><code>        17 Dec 2019 18:00:00 GMT\n</code></pre>\n\n<p>So this means that SimpleDateFormat.parse() interprets CST as Central Standard Time / UTC-6.</p>\n\n<p>How/where can I get a full list of timezone abbreviations that SimpleDateFormat.parse() supports <em>AND</em> their meaning (i.e. just knowing that CST is supported is not enough, I need to know that this is interpreted as Central Standard Time, not Cuba Standard Time).</p>\n\n<hr>\n\n<p>I would expect to find the answer on the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">Javadocs page for SimpleDateFormat</a> but it only gives PST as example, not a full list.</p>\n\n<hr>\n\n<p>The <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/TimeZone.html\" rel=\"nofollow noreferrer\">Javadocs page for TimeZone</a> says :</p>\n\n<blockquote>\n  <p>For compatibility with JDK 1.1.x, some other three-letter time zone\n  IDs (such as \"PST\", \"CTT\", \"AST\") are also supported.</p>\n</blockquote>\n\n<p>But doesn't say which ones.<br>\nIt also only mentions <em>three-letter</em> IDs, while the code above will also work fine with CEST for example (Central European Summer Time).</p>\n\n<p>If I check the list returned by <code>TimeZone.getAvailableIDs();</code> it does not contain CEST either, but it does contain items like \"Cuba\" and \"Eire\", which do <em>not</em> work in the above code snippet (even when I change <code>zzz</code> to <code>zzzz</code> in the parse string).</p>\n\n<p><strong>So I conclude that java.text.SimpleDateFormat does not support the same abbreviations as java.util.TimeZone.</strong> </p>\n\n<p>Where can I find a list of abbreviations that SimpleDateFormat is able to parse?</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":138898,"reputation":2679,"user_id":344141,"display_name":"Bartek Jablonski"},"score":1,"creation_date":1655194276,"post_id":72612807,"comment_id":128267827,"body_markdown":"Maybe move those queries to DB functions/procedures?","body":"Maybe move those queries to DB functions/procedures?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1655197044,"post_id":72612807,"comment_id":128268824,"body_markdown":"Now if there would only be something like a [`JdbcTemplate`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html). **Pro Tip** Spring Boot already has that configured for you.","body":"Now if there would only be something like a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"nofollow noreferrer\"><code>JdbcTemplate</code></a>. <b>Pro Tip</b> Spring Boot already has that configured for you."},{"owner":{"account_id":10101958,"reputation":348,"user_id":7465804,"display_name":"Simonas Petkevičius"},"score":0,"creation_date":1655211543,"post_id":72612807,"comment_id":128274323,"body_markdown":"@M.Deinum Thanks, that looks like the thing I was looking for and missed it, sorry for such an obvious question.","body":"@M.Deinum Thanks, that looks like the thing I was looking for and missed it, sorry for such an obvious question."}],"owner":{"account_id":10101958,"reputation":348,"user_id":7465804,"display_name":"Simonas Petkevičius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655190869,"creation_date":1655190488,"question_id":72612807,"body_markdown":"I am trying to implement SCD type 2 + other data processing and aggregating into my PostgreSQL database so that I could do data analytics easily, fetch it and port that data onto a web app dashboard.\r\n\r\nAll the queries are written down in plain SQL that does all of the processing. I am required to drop, create and merge tables to achieve what I want so there are fairly complicated queries that are not fully adherent to any of the Spring entity models, thus, don&#39;t really fit in any repository.\r\n\r\nI was thinking of creating a cron job on the server that would run the SQL queries, however, I need to run them after a cron job in Spring has finished processing and uploaded some data from external sources into the database so there might be clashes if I do it separately. \r\n\r\nI was thinking of doing it boldly and just putting them as native queries in a &#39;related&#39; repository and just running them sequentially.\r\n\r\nPerhaps there is a better way how Spring boot and PostgreSQL could communicate and how could I run these queries? Is there any good way to run SQL commands through Spring Boot without using JPA repositories or entityManagers?\r\n\r\nThanks!","title":"Implementing long complicated queries in Spring Boot + Postgresql that are dependent on data from backend processing","body":"<p>I am trying to implement SCD type 2 + other data processing and aggregating into my PostgreSQL database so that I could do data analytics easily, fetch it and port that data onto a web app dashboard.</p>\n<p>All the queries are written down in plain SQL that does all of the processing. I am required to drop, create and merge tables to achieve what I want so there are fairly complicated queries that are not fully adherent to any of the Spring entity models, thus, don't really fit in any repository.</p>\n<p>I was thinking of creating a cron job on the server that would run the SQL queries, however, I need to run them after a cron job in Spring has finished processing and uploaded some data from external sources into the database so there might be clashes if I do it separately.</p>\n<p>I was thinking of doing it boldly and just putting them as native queries in a 'related' repository and just running them sequentially.</p>\n<p>Perhaps there is a better way how Spring boot and PostgreSQL could communicate and how could I run these queries? Is there any good way to run SQL commands through Spring Boot without using JPA repositories or entityManagers?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"score":1,"creation_date":1655191046,"post_id":72612850,"comment_id":128266747,"body_markdown":"Did you try this `@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;sequencegenerator&quot;)`?","body":"Did you try this <code>@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;sequencegenerator&quot;)</code>?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1655191115,"post_id":72612850,"comment_id":128266777,"body_markdown":"You re missing the @SequenceGenerator(name=&quot;my_seq&quot;,sequenceName=&quot;MY_SEQ&quot;)","body":"You re missing the @SequenceGenerator(name=&quot;my_seq&quot;,sequenceName=&quot;MY_SEQ&quot;)"}],"owner":{"account_id":21596115,"reputation":30,"user_id":15925058,"display_name":"coosta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655190695,"creation_date":1655190695,"question_id":72612850,"body_markdown":"I&#39;m using a JPA repository to save an object to the database. Within my @Entity class, I have this identifier field  \r\n```\r\n    @Id\r\n    @GeneratedValue(generator = &quot;sequence-generator&quot;)\r\n    @Column(name = &quot;ADDRESS_ID&quot;)\r\n    private Long addressId;\r\n```\r\nWhen I try save the entity, the JPA creates this SQL for the sequence generator:\r\n```\r\n[EL Fine]: sql: 2022-06-14 09:03:35.836--ClientSession(xxx)--Connection(xxx)--UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\r\n\tbind =&gt; [50, sequence-generator]\r\n```\r\nAnd this results in the exception below. Even when I try this sql in my Dbeaver IDE, I get a -204 error which is a database object doesn&#39;t exist error. It says &#39;SEQUENCE&#39; doesn&#39;t exist in my schema. How do I resolve this?\r\n\r\n```\r\nInternal Exception: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=SMBGLOBAL.SEQUENCE, DRIVER=4.25.13\r\nError Code: -204\r\nCall: UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\r\n\tbind =&gt; [50, sequence-generator]\r\n```\r\n\r\n","title":"JPA generated id causing a database object unknown error when trying to update sequence","body":"<p>I'm using a JPA repository to save an object to the database. Within my @Entity class, I have this identifier field</p>\n<pre><code>    @Id\n    @GeneratedValue(generator = &quot;sequence-generator&quot;)\n    @Column(name = &quot;ADDRESS_ID&quot;)\n    private Long addressId;\n</code></pre>\n<p>When I try save the entity, the JPA creates this SQL for the sequence generator:</p>\n<pre><code>[EL Fine]: sql: 2022-06-14 09:03:35.836--ClientSession(xxx)--Connection(xxx)--UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\n    bind =&gt; [50, sequence-generator]\n</code></pre>\n<p>And this results in the exception below. Even when I try this sql in my Dbeaver IDE, I get a -204 error which is a database object doesn't exist error. It says 'SEQUENCE' doesn't exist in my schema. How do I resolve this?</p>\n<pre><code>Internal Exception: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=SMBGLOBAL.SEQUENCE, DRIVER=4.25.13\nError Code: -204\nCall: UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\n    bind =&gt; [50, sequence-generator]\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1655185449,"post_id":72611880,"comment_id":128265238,"body_markdown":"try this answer https://stackoverflow.com/a/67554693/16765223","body":"try this answer <a href=\"https://stackoverflow.com/a/67554693/16765223\">stackoverflow.com/a/67554693/16765223</a>"},{"owner":{"account_id":17088346,"reputation":21,"user_id":12365007,"display_name":"comsys"},"score":0,"creation_date":1655189922,"post_id":72611880,"comment_id":128266420,"body_markdown":"Thank you for your advice,M DEV.\n\nIt’s done!","body":"Thank you for your advice,M DEV.  It’s done!"},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1655190369,"post_id":72611880,"comment_id":128266554,"body_markdown":"If you successfully created this code. Why not share this with me. I also struggle to create a folder in the Public directory for Scoped Storage. It is good if you share your code with me and other devs.","body":"If you successfully created this code. Why not share this with me. I also struggle to create a folder in the Public directory for Scoped Storage. It is good if you share your code with me and other devs."},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1655190419,"post_id":72611880,"comment_id":128266567,"body_markdown":"just add the solution part to your question.","body":"just add the solution part to your question."}],"answers":[{"tags":[],"owner":{"account_id":17088346,"reputation":21,"user_id":12365007,"display_name":"comsys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655190551,"creation_date":1655190551,"answer_id":72612825,"question_id":72611880,"body_markdown":"After getting permission,\r\n```\r\nif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\r\n                    StorageManager sm = (StorageManager) getApplicationContext().getSystemService(Context.STORAGE_SERVICE);\r\n                    Intent intent = sm.getPrimaryStorageVolume().createOpenDocumentTreeIntent();\r\n                    String startDir = &quot;Documents&quot;;\r\n                    Uri uri = intent.getParcelableExtra(&quot;android.provider.extra.INITIAL_URI&quot;);\r\n                    String scheme = uri.toString();\r\n                    Log.d(TAG, &quot;INITIAL_URI scheme: &quot; + scheme);\r\n                    scheme = scheme.replace(&quot;/root/&quot;, &quot;/document/&quot;);\r\n                    scheme += &quot;%3A&quot; + startDir;\r\n                    uri = Uri.parse(scheme);\r\n                    intent.putExtra(&quot;android.provider.extra.INITIAL_URI&quot;, uri);\r\n                    Log.d(TAG, &quot;uri: &quot; + uri.toString());\r\n                    startActivityForResult(intent, NEW_FOLDER_REQUEST_CODE);\r\n                    return;\r\n                }\r\n```\r\nand\r\n```\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (resultCode == Activity.RESULT_OK) { if (requestCode ==\r\n                NEW_FOLDER_REQUEST_CODE)\r\n        { if (data != null) {\r\n            Uri currentUri = data.getData();\r\n            DocumentFile pickedDir =\r\n                    DocumentFile.fromTreeUri(this, currentUri);\r\n            DocumentFile newDir =\r\n                    pickedDir.createDirectory(&quot;App&quot;); } } }\r\n    }\r\n```\r\n\r\nWhen this code is executed, Internal storage is shown. [![Screenshot_20220614-160501][1]][1]\r\n\r\nChoose 「Download」folder and click 「USE THIS FOLDER」and 「ALLOW」.\r\n[![Screenshot_20220614-160522][2]][2]\r\n\r\nThen 「App」folder is created in 「Download」folder.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YwGQ9.png\r\n  [2]: https://i.stack.imgur.com/p2eFr.png","title":"how to make folder in Download folder by ACTION_OPEN_DOCUMENT_TREE","body":"<p>After getting permission,</p>\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\n                    StorageManager sm = (StorageManager) getApplicationContext().getSystemService(Context.STORAGE_SERVICE);\n                    Intent intent = sm.getPrimaryStorageVolume().createOpenDocumentTreeIntent();\n                    String startDir = &quot;Documents&quot;;\n                    Uri uri = intent.getParcelableExtra(&quot;android.provider.extra.INITIAL_URI&quot;);\n                    String scheme = uri.toString();\n                    Log.d(TAG, &quot;INITIAL_URI scheme: &quot; + scheme);\n                    scheme = scheme.replace(&quot;/root/&quot;, &quot;/document/&quot;);\n                    scheme += &quot;%3A&quot; + startDir;\n                    uri = Uri.parse(scheme);\n                    intent.putExtra(&quot;android.provider.extra.INITIAL_URI&quot;, uri);\n                    Log.d(TAG, &quot;uri: &quot; + uri.toString());\n                    startActivityForResult(intent, NEW_FOLDER_REQUEST_CODE);\n                    return;\n                }\n</code></pre>\n<p>and</p>\n<pre><code>@Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (resultCode == Activity.RESULT_OK) { if (requestCode ==\n                NEW_FOLDER_REQUEST_CODE)\n        { if (data != null) {\n            Uri currentUri = data.getData();\n            DocumentFile pickedDir =\n                    DocumentFile.fromTreeUri(this, currentUri);\n            DocumentFile newDir =\n                    pickedDir.createDirectory(&quot;App&quot;); } } }\n    }\n</code></pre>\n<p>When this code is executed, Internal storage is shown. <a href=\"https://i.stack.imgur.com/YwGQ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YwGQ9.png\" alt=\"Screenshot_20220614-160501\" /></a></p>\n<p>Choose 「Download」folder and click 「USE THIS FOLDER」and 「ALLOW」.\n<a href=\"https://i.stack.imgur.com/p2eFr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p2eFr.png\" alt=\"Screenshot_20220614-160522\" /></a></p>\n<p>Then 「App」folder is created in 「Download」folder.</p>\n"}],"owner":{"account_id":17088346,"reputation":21,"user_id":12365007,"display_name":"comsys"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655190551,"creation_date":1655184258,"question_id":72611880,"body_markdown":"I&#39;m making Android Studio application in Java.\r\nAnd I try not to use MANAGE_EXTERNAL_STORAGE for upload it to Google Play.\r\n(Google Play Console warned me not to use it.)\r\n\r\nWhen opening the application, I want to make Folder named in &quot;App&quot; in the Download folder.\r\n\r\nAfter getting WRITE_EXTERNAL_PERMISSION and READ_EXTERNAL_PERMISSION, I want to show the download folder and customer to push &quot;save&quot; button to create &quot;App&quot; folder. (See attached image)\r\n\r\nI think ACTION_OPEN_DOCUMENT_TREE is the best way and I coded like below.\r\n\r\n```\r\n//after getting permission\r\nInteger NEW_FOLDER_REQUEST_CODE=810;\r\n\r\nIntent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\nstartActivityForResult(intent, NEW_FOLDER_REQUEST_CODE);\r\n\r\n\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (resultCode == Activity.RESULT_OK) { if (requestCode ==\r\n                NEW_FOLDER_REQUEST_CODE)\r\n        { if (data != null) {\r\n            Uri currentUri = data.getData();\r\n            DocumentFile pickedDir =\r\n                    DocumentFile.fromTreeUri(this, currentUri);\r\n            DocumentFile newDir =\r\n                    pickedDir.createDirectory(&quot;App&quot;); } } }\r\n    }\r\n```\r\n\r\nI can go to Internal storage but not Dowoload folder. \r\n\r\nHow can I go？\r\n\r\nThe name input field for the newly created folder (default value: App) is not displayed. \r\n\r\nHow can I show it？ \r\n\r\n[![Screenshot_20220614-141001.png][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C0KX6.png","title":"how to make folder in Download folder by ACTION_OPEN_DOCUMENT_TREE","body":"<p>I'm making Android Studio application in Java.\nAnd I try not to use MANAGE_EXTERNAL_STORAGE for upload it to Google Play.\n(Google Play Console warned me not to use it.)</p>\n<p>When opening the application, I want to make Folder named in &quot;App&quot; in the Download folder.</p>\n<p>After getting WRITE_EXTERNAL_PERMISSION and READ_EXTERNAL_PERMISSION, I want to show the download folder and customer to push &quot;save&quot; button to create &quot;App&quot; folder. (See attached image)</p>\n<p>I think ACTION_OPEN_DOCUMENT_TREE is the best way and I coded like below.</p>\n<pre><code>//after getting permission\nInteger NEW_FOLDER_REQUEST_CODE=810;\n\nIntent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\nstartActivityForResult(intent, NEW_FOLDER_REQUEST_CODE);\n\n\n@Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (resultCode == Activity.RESULT_OK) { if (requestCode ==\n                NEW_FOLDER_REQUEST_CODE)\n        { if (data != null) {\n            Uri currentUri = data.getData();\n            DocumentFile pickedDir =\n                    DocumentFile.fromTreeUri(this, currentUri);\n            DocumentFile newDir =\n                    pickedDir.createDirectory(&quot;App&quot;); } } }\n    }\n</code></pre>\n<p>I can go to Internal storage but not Dowoload folder.</p>\n<p>How can I go？</p>\n<p>The name input field for the newly created folder (default value: App) is not displayed.</p>\n<p>How can I show it？</p>\n<p><a href=\"https://i.stack.imgur.com/C0KX6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C0KX6.png\" alt=\"Screenshot_20220614-141001.png\" /></a></p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":14957510,"reputation":141,"user_id":10798322,"display_name":"Yevgeniy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655190037,"creation_date":1655139106,"answer_id":72606424,"question_id":72606191,"body_markdown":"Using when() you assign the behavior to the mock that Mockito creates for you. This mock, however, never gets used since your `getAcc()` method calls the `getRestTemplate` that always creates a new instance of RestTemplate. \r\n\r\nThe obvious solution here is to use the put the `getRestTemplate` method in your configuration class and use it as a bean factory, autowiring* the RestTemplate bean into your `AccountService`. Then your @InjectMocks annotation will work as expected and you&#39;ll see that the service under test does indeed use the provided mock object.\r\n\r\n*remember, there&#39;s three ways you can inject a bean in Spring - using field injection, method injection or constructor. That&#39;s not difficult to look up online so, I&#39;ll just say that most use-cases are handled best using constructor injection:\r\n    \r\n    @Autowired\r\n    public AccountService(RestTemplate restTemplate) {\r\n        this.restTemplate = restTemplate;\r\n    }\r\n\r\nSecondly, you don&#39;t show this but I&#39;m pretty sure that env variable in `getAcc` is some kind of environment variables holder and is also not injected into the service properly so it doesn&#39;t get mocked. I would generally recommend to stick to `@ConfigurationProperties` (and you could easily mock those), or at least look into MockEnvironment.\r\n\r\nAs an aside, I can&#39;t think of why a service should need a new RestTemplate instance every time, and creating the RestTemplate is definitely beyound the scope of `AccountService`, so moving that to configuration also improves your code&#39;s structure. As a bonus, you can reuse the same RestTemplate bean in other services should you need that.\r\n\r\nEvetually you might want to add a layer of abstraction making a separate bean to take care of constructing the url and adding the necessary headers to the RestTemplate request, so that the `getAcc` method gets more readable.  ","title":"Mockito.When not working for custom RestTemplate","body":"<p>Using when() you assign the behavior to the mock that Mockito creates for you. This mock, however, never gets used since your <code>getAcc()</code> method calls the <code>getRestTemplate</code> that always creates a new instance of RestTemplate.</p>\n<p>The obvious solution here is to use the put the <code>getRestTemplate</code> method in your configuration class and use it as a bean factory, autowiring* the RestTemplate bean into your <code>AccountService</code>. Then your @InjectMocks annotation will work as expected and you'll see that the service under test does indeed use the provided mock object.</p>\n<p>*remember, there's three ways you can inject a bean in Spring - using field injection, method injection or constructor. That's not difficult to look up online so, I'll just say that most use-cases are handled best using constructor injection:</p>\n<pre><code>@Autowired\npublic AccountService(RestTemplate restTemplate) {\n    this.restTemplate = restTemplate;\n}\n</code></pre>\n<p>Secondly, you don't show this but I'm pretty sure that env variable in <code>getAcc</code> is some kind of environment variables holder and is also not injected into the service properly so it doesn't get mocked. I would generally recommend to stick to <code>@ConfigurationProperties</code> (and you could easily mock those), or at least look into MockEnvironment.</p>\n<p>As an aside, I can't think of why a service should need a new RestTemplate instance every time, and creating the RestTemplate is definitely beyound the scope of <code>AccountService</code>, so moving that to configuration also improves your code's structure. As a bonus, you can reuse the same RestTemplate bean in other services should you need that.</p>\n<p>Evetually you might want to add a layer of abstraction making a separate bean to take care of constructing the url and adding the necessary headers to the RestTemplate request, so that the <code>getAcc</code> method gets more readable.</p>\n"}],"owner":{"account_id":9466440,"reputation":99,"user_id":7038630,"display_name":"lukaszFD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655190037,"creation_date":1655138029,"question_id":72606191,"body_markdown":"I need to do testing for the following service. When I try to do Mockito.When for custom restTemplate I get the error &quot;org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n    when(mock.getArticles()).thenReturn(articles);&quot;. \r\n\r\nHowever, when I don&#39;t do when(env.getProperty(&quot;test1&quot;)).thenReturn(&quot;test&quot;); I get the error &quot;I/O error on POST request for &quot;/null/Test/null&quot;: null;&quot;\r\n\r\nHow to make test properly for such service ? \r\n\r\n\r\n**Test class**\r\n\r\n```\r\n@InjectMocks\r\nprivate AccountService _accountService;\r\n@Mock\r\nprivate RestTemplate _restTemplate;\r\n\r\n\r\n@Test\r\npublic void shouldGetAccount_200()  {\r\n//when(_accountService.getRestTemplate()).thenReturn(_restTemplate);\r\n\r\nwhen(env.getProperty(&quot;test1&quot;)).thenReturn(&quot;test&quot;);\r\nwhen(env.getProperty(&quot;test2&quot;)).thenReturn(&quot;2&quot;);\t\r\nwhen(_restTemplate.exchange(eq(String.format(&quot;%s/Test/%s&quot;, env.getProperty(&quot;test1&quot;), env.getProperty(&quot;test2&quot;)), _accId), eq(HttpMethod.GET), any(), eq(TestRequest.class)))\r\n\t\t.thenReturn(new ResponseEntity&lt;&gt;(_resp, HttpStatus.OK));\r\nassertThat(_accountService.getAcc(_accId, &quot;test&quot;, &quot;test&quot;, &quot;test&quot;)).isEqualTo(_resp);\r\n}\r\n\r\n```\r\n\r\n**Service**\r\n\r\n```\r\npublic IResponse getAcc(String accId, String sessionId, String apiKey, String userName) {\r\n    RestTemplate restTemplate = getRestTemplate();\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(HttpHeaders.COOKIE, sessionId);\r\n    headers.add(&quot;X-Forwarded-For&quot;, getIPAddress());\r\n    headers.add(&quot;Authorization&quot;, String.format(&quot;PS-Auth key=%s; runas=%s;&quot;, apiKey, userName));\r\n    HttpEntity&lt;Map&lt;String, Object&gt;&gt; entity = new HttpEntity&lt;&gt;(null, headers);\r\n    ResponseEntity&lt;TestRequest&gt; response;\r\n\t\r\n    return restTemplate.exchange(String.format(&quot;%s/Test/%s&quot;, env.getProperty(&quot;test1&quot;), env.getProperty(&quot;test2&quot;))), accId),HttpMethod.GET, entity, TestRequest.class);\r\n}\r\n\r\npublic RestTemplate getRestTemplate() {\r\n\r\n\tSystemDefaultRoutePlanner routePlanner = new SystemDefaultRoutePlanner(ProxySelector.getDefault());\r\n\tCloseableHttpClient httpClient = HttpClients.custom().setRoutePlanner(routePlanner)\r\n\t\t\t.setConnectionManager(poolingHttpClientConnectionManager).build();\r\n\r\n\tHttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n\r\n\trequestFactory.setHttpClient(httpClient);\r\n\r\n\tRestTemplate restTemplate = new RestTemplate(requestFactory);\r\n\tList&lt;ClientHttpRequestInterceptor&gt; interceptorList = restTemplate.getInterceptors();\r\n\r\n\tif (tracingClientHttpRequestInterceptor != null) {\r\n\t\tinterceptorList.add(tracingClientHttpRequestInterceptor);\r\n\t\tinterceptorList.add(traceLogClientHttpRequestInterceptor);\r\n\t\trestTemplate.setInterceptors(interceptorList);\r\n\t}\r\n\treturn restTemplate;\r\n}\r\n```","title":"Mockito.When not working for custom RestTemplate","body":"<p>I need to do testing for the following service. When I try to do Mockito.When for custom restTemplate I get the error &quot;org.mockito.exceptions.misusing.MissingMethodInvocationException:\nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\nwhen(mock.getArticles()).thenReturn(articles);&quot;.</p>\n<p>However, when I don't do when(env.getProperty(&quot;test1&quot;)).thenReturn(&quot;test&quot;); I get the error &quot;I/O error on POST request for &quot;/null/Test/null&quot;: null;&quot;</p>\n<p>How to make test properly for such service ?</p>\n<p><strong>Test class</strong></p>\n<pre><code>@InjectMocks\nprivate AccountService _accountService;\n@Mock\nprivate RestTemplate _restTemplate;\n\n\n@Test\npublic void shouldGetAccount_200()  {\n//when(_accountService.getRestTemplate()).thenReturn(_restTemplate);\n\nwhen(env.getProperty(&quot;test1&quot;)).thenReturn(&quot;test&quot;);\nwhen(env.getProperty(&quot;test2&quot;)).thenReturn(&quot;2&quot;); \nwhen(_restTemplate.exchange(eq(String.format(&quot;%s/Test/%s&quot;, env.getProperty(&quot;test1&quot;), env.getProperty(&quot;test2&quot;)), _accId), eq(HttpMethod.GET), any(), eq(TestRequest.class)))\n        .thenReturn(new ResponseEntity&lt;&gt;(_resp, HttpStatus.OK));\nassertThat(_accountService.getAcc(_accId, &quot;test&quot;, &quot;test&quot;, &quot;test&quot;)).isEqualTo(_resp);\n}\n\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>public IResponse getAcc(String accId, String sessionId, String apiKey, String userName) {\n    RestTemplate restTemplate = getRestTemplate();\n    HttpHeaders headers = new HttpHeaders();\n    headers.set(HttpHeaders.COOKIE, sessionId);\n    headers.add(&quot;X-Forwarded-For&quot;, getIPAddress());\n    headers.add(&quot;Authorization&quot;, String.format(&quot;PS-Auth key=%s; runas=%s;&quot;, apiKey, userName));\n    HttpEntity&lt;Map&lt;String, Object&gt;&gt; entity = new HttpEntity&lt;&gt;(null, headers);\n    ResponseEntity&lt;TestRequest&gt; response;\n    \n    return restTemplate.exchange(String.format(&quot;%s/Test/%s&quot;, env.getProperty(&quot;test1&quot;), env.getProperty(&quot;test2&quot;))), accId),HttpMethod.GET, entity, TestRequest.class);\n}\n\npublic RestTemplate getRestTemplate() {\n\n    SystemDefaultRoutePlanner routePlanner = new SystemDefaultRoutePlanner(ProxySelector.getDefault());\n    CloseableHttpClient httpClient = HttpClients.custom().setRoutePlanner(routePlanner)\n            .setConnectionManager(poolingHttpClientConnectionManager).build();\n\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n\n    requestFactory.setHttpClient(httpClient);\n\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\n    List&lt;ClientHttpRequestInterceptor&gt; interceptorList = restTemplate.getInterceptors();\n\n    if (tracingClientHttpRequestInterceptor != null) {\n        interceptorList.add(tracingClientHttpRequestInterceptor);\n        interceptorList.add(traceLogClientHttpRequestInterceptor);\n        restTemplate.setInterceptors(interceptorList);\n    }\n    return restTemplate;\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","version-compatibility"],"comments":[{"owner":{"account_id":20122112,"reputation":88,"user_id":14756421,"display_name":"Maxim Bezmen"},"score":0,"creation_date":1655187762,"post_id":72611248,"comment_id":128265806,"body_markdown":"[see] (https://www.postgresql.org/support/versioning/) . Also you should write a test when you develop your app. then you are change anything and you can run tests and check all work fine or not","body":"[see] (<a href=\"https://www.postgresql.org/support/versioning/\" rel=\"nofollow noreferrer\">postgresql.org/support/versioning</a>) . Also you should write a test when you develop your app. then you are change anything and you can run tests and check all work fine or not"}],"answers":[{"tags":[],"owner":{"account_id":6669397,"reputation":71,"user_id":5145941,"display_name":"John Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655189919,"creation_date":1655189919,"answer_id":72612707,"question_id":72611248,"body_markdown":"It comes down to the version of your `spring-data-jpa` dependency in your project.\r\n\r\nAs a quick reference, latest `spring-data-jpa` v2.7.x uses the following PostgreSQL jdbc version:\r\n\r\n    &lt;postgresql&gt;42.2.19&lt;/postgresql&gt;\r\n\r\nOn another hand, recent `pgjdbc` versions are all compatible with **PostgreSQL 8.2 and higher, and Java 8 (JDBC 4.2)** and higher as per this [link][1]\r\n\r\nTherefore, it is all about checking the version of `spring-data-jpa` you are using, and upgrading to PostgreSQL 13 should prove no issues when you do.\r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/about/about.html","title":"How to check Postgres version compatibility with spring data jpa?","body":"<p>It comes down to the version of your <code>spring-data-jpa</code> dependency in your project.</p>\n<p>As a quick reference, latest <code>spring-data-jpa</code> v2.7.x uses the following PostgreSQL jdbc version:</p>\n<pre><code>&lt;postgresql&gt;42.2.19&lt;/postgresql&gt;\n</code></pre>\n<p>On another hand, recent <code>pgjdbc</code> versions are all compatible with <strong>PostgreSQL 8.2 and higher, and Java 8 (JDBC 4.2)</strong> and higher as per this <a href=\"https://jdbc.postgresql.org/about/about.html\" rel=\"nofollow noreferrer\">link</a></p>\n<p>Therefore, it is all about checking the version of <code>spring-data-jpa</code> you are using, and upgrading to PostgreSQL 13 should prove no issues when you do.</p>\n"}],"owner":{"account_id":25549723,"reputation":13,"user_id":19334315,"display_name":"Rupesh Kumar Sahu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72612707,"answer_count":1,"score":1,"last_activity_date":1655189919,"creation_date":1655177886,"question_id":72611248,"body_markdown":"I have been using Postgres version 10.6 in my spring-boot project but now we are going to upgrade the Postgres version from 10.6 to 13.6. how should I check the version compatibility of the Postgres 13.6 with my current code? I am using spring-data-jpa.","title":"How to check Postgres version compatibility with spring data jpa?","body":"<p>I have been using Postgres version 10.6 in my spring-boot project but now we are going to upgrade the Postgres version from 10.6 to 13.6. how should I check the version compatibility of the Postgres 13.6 with my current code? I am using spring-data-jpa.</p>\n"},{"tags":["java","spring","jackson","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655189595,"creation_date":1655189595,"answer_id":72612640,"question_id":72593956,"body_markdown":"The `BeanWrapperFieldSetMapper` is based on reflection and uses the Java Beans naming conventions to convert columns in the CSV file to fields in your domain objects. This mapper is a bit smart in some way as it allows fuzzy matching (see [its javadoc](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/file/mapping/BeanWrapperFieldSetMapper.html)).\r\n\r\nHowever, if column names in the input file are completely different from field names in your domain object and you want the mapping to be dynamic,  you need to create a custom `FieldSetMapper` that loads the mapping meta-data from a properties file for example and maps columns to fields dynamically at runtime.","title":"How to alias field names in a Spring Batch Bean?","body":"<p>The <code>BeanWrapperFieldSetMapper</code> is based on reflection and uses the Java Beans naming conventions to convert columns in the CSV file to fields in your domain objects. This mapper is a bit smart in some way as it allows fuzzy matching (see <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/file/mapping/BeanWrapperFieldSetMapper.html\" rel=\"nofollow noreferrer\">its javadoc</a>).</p>\n<p>However, if column names in the input file are completely different from field names in your domain object and you want the mapping to be dynamic,  you need to create a custom <code>FieldSetMapper</code> that loads the mapping meta-data from a properties file for example and maps columns to fields dynamically at runtime.</p>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72612640,"answer_count":1,"score":-1,"last_activity_date":1655189595,"creation_date":1655050892,"question_id":72593956,"body_markdown":"From the documentation, I see that one can alias an entire Spring bean.\r\nHow can one alias the field names of a bean?\r\n\r\nI have a CSV file that has column names A1, A2, A3...\r\n\r\nThe Spring Batch program expects X1, X2, X3...\r\n\r\nI want to map A1-&gt;X1, A2-&gt;X2, A3-&gt;X3... without hardcoding.\r\n\r\nIs there a way to do this?\r\n  ","title":"How to alias field names in a Spring Batch Bean?","body":"<p>From the documentation, I see that one can alias an entire Spring bean.\nHow can one alias the field names of a bean?</p>\n<p>I have a CSV file that has column names A1, A2, A3...</p>\n<p>The Spring Batch program expects X1, X2, X3...</p>\n<p>I want to map A1-&gt;X1, A2-&gt;X2, A3-&gt;X3... without hardcoding.</p>\n<p>Is there a way to do this?</p>\n"},{"tags":["java","mysql","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":302471,"reputation":8627,"user_id":1130032,"accept_rate":69,"display_name":"Ved"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417683716,"creation_date":1417519227,"answer_id":27248133,"question_id":27248017,"body_markdown":"**UPDATE -** \r\n\r\nYou can use `FROM_UNIXTIME()` in-built function.\r\n\r\nhttp://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_from-unixtime\r\n\r\nSimply taking it into Date object, it should work - \r\n\r\n    Date date = resultSet.getTimestamp(&quot;timestamp&quot;);","title":"Hibernate Envers Timestamp from revision date","body":"<p><strong>UPDATE -</strong> </p>\n\n<p>You can use <code>FROM_UNIXTIME()</code> in-built function.</p>\n\n<p><a href=\"http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_from-unixtime\" rel=\"nofollow\">http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_from-unixtime</a></p>\n\n<p>Simply taking it into Date object, it should work - </p>\n\n<pre><code>Date date = resultSet.getTimestamp(\"timestamp\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9469812,"reputation":362,"user_id":7040964,"display_name":"MuhammedH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655189179,"creation_date":1655189179,"answer_id":72612568,"question_id":27248017,"body_markdown":"I guess this timestamp includes milliseconds, so you can simply divide this value by 1000 :\r\n\r\n    FROM_UNIXTIME(hr.`TIMESTAMP`/1000)\r\n\r\nFormatted:\r\n\r\n    DATE(FROM_UNIXTIME(hr.`TIMESTAMP`/1000))\r\n    OR\r\n    DATE_FORMAT(FROM_UNIXTIME(hr.`TIMESTAMP`/1000) ,&#39;%Y-%m-%d %H:%i:%s&#39;)","title":"Hibernate Envers Timestamp from revision date","body":"<p>I guess this timestamp includes milliseconds, so you can simply divide this value by 1000 :</p>\n<pre><code>FROM_UNIXTIME(hr.`TIMESTAMP`/1000)\n</code></pre>\n<p>Formatted:</p>\n<pre><code>DATE(FROM_UNIXTIME(hr.`TIMESTAMP`/1000))\nOR\nDATE_FORMAT(FROM_UNIXTIME(hr.`TIMESTAMP`/1000) ,'%Y-%m-%d %H:%i:%s')\n</code></pre>\n"}],"owner":{"account_id":4863414,"reputation":2171,"user_id":3922423,"accept_rate":76,"display_name":"Kennedy Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2872,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655189179,"creation_date":1417518855,"question_id":27248017,"body_markdown":"I&#39;m using MySQL and Hibernate Envers to log audity info, it saves a timestamp in a numeric format, how can i convert this timestamp to date in MySQL, not in Java?\n\n\n\n![enter image description here][1]\n\nThanks!\n\n  [1]: http://i.stack.imgur.com/JOj1I.png","title":"Hibernate Envers Timestamp from revision date","body":"<p>I'm using MySQL and Hibernate Envers to log audity info, it saves a timestamp in a numeric format, how can i convert this timestamp to date in MySQL, not in Java?</p>\n<p><img src=\"https://i.stack.imgur.com/JOj1I.png\" alt=\"enter image description here\" /></p>\n<p>Thanks!</p>\n"},{"tags":["java","cassandra"],"comments":[{"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"score":0,"creation_date":1483607398,"post_id":41480481,"comment_id":70167129,"body_markdown":"Convert java.util.Date to LocalDate","body":"Convert java.util.Date to LocalDate"},{"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"score":0,"creation_date":1483607623,"post_id":41480481,"comment_id":70167258,"body_markdown":"Cassandra Date field maps Java LocalDate, you need to convert \nCheck this solution http://stackoverflow.com/a/27323328/2320144","body":"Cassandra Date field maps Java LocalDate, you need to convert  Check this solution <a href=\"http://stackoverflow.com/a/27323328/2320144\">stackoverflow.com/a/27323328/2320144</a>"},{"owner":{"account_id":3333666,"reputation":2544,"user_id":2801909,"accept_rate":33,"display_name":"Vijay Nandwana"},"score":0,"creation_date":1483615824,"post_id":41480481,"comment_id":70172610,"body_markdown":"to convert from Date to LocalDate, I&#39;d need to change data type of filed in Model class to use its setter, right?","body":"to convert from Date to LocalDate, I&#39;d need to change data type of filed in Model class to use its setter, right?"},{"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"score":0,"creation_date":1483616970,"post_id":41480481,"comment_id":70173407,"body_markdown":"Yes, You need to Change your data type to LocalDate","body":"Yes, You need to Change your data type to LocalDate"},{"owner":{"account_id":3333666,"reputation":2544,"user_id":2801909,"accept_rate":33,"display_name":"Vijay Nandwana"},"score":0,"creation_date":1483617270,"post_id":41480481,"comment_id":70173608,"body_markdown":"Actually, changing Date to LocalDate causes another issue. `Caused by: org.codehaus.jackson.map.JsonMappingException: Can not instantiate value of type [simple type, class java.time.LocalDate] from JSON String; no single-String constructor/factory method (through reference chain: com.test.model.User[&quot;testList&quot;]-&gt;com.test.model.DepTest[&quot;testDob&quot;])`","body":"Actually, changing Date to LocalDate causes another issue. <code>Caused by: org.codehaus.jackson.map.JsonMappingException: Can not instantiate value of type [simple type, class java.time.LocalDate] from JSON String; no single-String constructor&#47;factory method (through reference chain: com.test.model.User[&quot;testList&quot;]-&gt;com.test.model.DepTest[&quot;tes&zwnj;&#8203;tDob&quot;])</code>"}],"answers":[{"tags":[],"owner":{"account_id":7916524,"reputation":1098,"user_id":5978781,"accept_rate":60,"display_name":"itstata"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1483627038,"creation_date":1483627038,"answer_id":41487687,"question_id":41480481,"body_markdown":"You must convert java.util.Date to [com.datastax.driver.core.LocalDate][1]\r\n\r\nExample:\r\n\r\n     LocalDate localDate = LocalDate.fromMillisSinceEpoch(date.getTime());\r\n\r\n\r\n  [1]: http://docs.datastax.com/en/drivers/java/2.2/com/datastax/driver/core/LocalDate.html","title":"Codec not found for requested operation: [date &lt;-&gt; java.util.Date]","body":"<p>You must convert java.util.Date to <a href=\"http://docs.datastax.com/en/drivers/java/2.2/com/datastax/driver/core/LocalDate.html\" rel=\"noreferrer\">com.datastax.driver.core.LocalDate</a></p>\n\n<p>Example:</p>\n\n<pre><code> LocalDate localDate = LocalDate.fromMillisSinceEpoch(date.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9571010,"reputation":161,"user_id":7108639,"display_name":"rajat behl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614080481,"creation_date":1614079806,"answer_id":66332280,"question_id":41480481,"body_markdown":"I was facing the same issue with using timestamp\r\n\r\n    reactor.core.Exceptions$ErrorCallbackNotImplemented: com.datastax.oss.driver.api.core.type.codec.CodecNotFoundException: Codec not found for requested operation: [TIMESTAMP &lt;-&gt; java.util.Date]\r\n    Caused by: com.datastax.oss.driver.api.core.type.codec.CodecNotFoundException: Codec not found for requested operation: [TIMESTAMP &lt;-&gt; java.util.Date]\r\n    \tat com.datastax.oss.driver.internal.core.type.codec.registry.CachingCodecRegistry.createCodec(CachingCodecRegistry.java:609) ~[java-driver-core-4.9.0.jar:na]\r\n    \tat com.datastax.oss.driver.internal.core.type.codec.registry.DefaultCodecRegistry$1.load(DefaultCodecRegistry.java:95) ~[java-driver-core-4.9.0.jar:na]\r\n    \tat com.datastax.oss.driver.internal.core.type.codec.registry.DefaultCodecRegistry$1.load(DefaultCodecRegistry.java:92) ~[java-driver-core-4.9.0.jar:na]\r\n    \r\n\r\nStarting with driver 4.0, the CQL type timestamp is not mapped to `java.util.Date` anymore, but to `java.time.Instant`.\r\nUsing Instant worked for me.","title":"Codec not found for requested operation: [date &lt;-&gt; java.util.Date]","body":"<p>I was facing the same issue with using timestamp</p>\n<pre><code>reactor.core.Exceptions$ErrorCallbackNotImplemented: com.datastax.oss.driver.api.core.type.codec.CodecNotFoundException: Codec not found for requested operation: [TIMESTAMP &lt;-&gt; java.util.Date]\nCaused by: com.datastax.oss.driver.api.core.type.codec.CodecNotFoundException: Codec not found for requested operation: [TIMESTAMP &lt;-&gt; java.util.Date]\n    at com.datastax.oss.driver.internal.core.type.codec.registry.CachingCodecRegistry.createCodec(CachingCodecRegistry.java:609) ~[java-driver-core-4.9.0.jar:na]\n    at com.datastax.oss.driver.internal.core.type.codec.registry.DefaultCodecRegistry$1.load(DefaultCodecRegistry.java:95) ~[java-driver-core-4.9.0.jar:na]\n    at com.datastax.oss.driver.internal.core.type.codec.registry.DefaultCodecRegistry$1.load(DefaultCodecRegistry.java:92) ~[java-driver-core-4.9.0.jar:na]\n</code></pre>\n<p>Starting with driver 4.0, the CQL type timestamp is not mapped to <code>java.util.Date</code> anymore, but to <code>java.time.Instant</code>.\nUsing Instant worked for me.</p>\n"},{"tags":[],"owner":{"account_id":16343894,"reputation":119,"user_id":11804179,"display_name":"Abu Ehteshamuddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655189096,"creation_date":1655016294,"answer_id":72590010,"question_id":41480481,"body_markdown":"Replace Date type with LocalDate type in your Entity class:-\r\n\t\r\n    private LocalDate createdDate;\r\n\r\n","title":"Codec not found for requested operation: [date &lt;-&gt; java.util.Date]","body":"<p>Replace Date type with LocalDate type in your Entity class:-</p>\n<pre><code>private LocalDate createdDate;\n</code></pre>\n"}],"owner":{"account_id":3333666,"reputation":2544,"user_id":2801909,"accept_rate":33,"display_name":"Vijay Nandwana"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12733,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1655189096,"creation_date":1483605612,"question_id":41480481,"body_markdown":"In Cassandra a column type is set to Date and in Model class type of field is set to java.util.Date with getters and setters. During `com.datastax.driver.mapping.Mapper.save` I get the following exception:\r\n\r\n\r\n    Codec not found for requested operation: [date &lt;-&gt; java.util.Date]\r\n\r\n    Caused by: com.datastax.driver.core.exceptions.CodecNotFoundException: Codec not found for requested operation: [date &lt;-&gt; java.util.Date]\r\n\tat com.datastax.driver.core.exceptions.CodecNotFoundException.copy(CodecNotFoundException.java:56)\r\n\tat com.datastax.driver.core.exceptions.CodecNotFoundException.copy(CodecNotFoundException.java:25)\r\n\tat com.datastax.driver.mapping.DriverThrowables.propagateCause(DriverThrowables.java:41)\r\n\tat com.datastax.driver.mapping.Mapper.save(Mapper.java:272)\r\n\r\nFound the following during Google search:\r\n\r\n    DATE      &lt;-&gt; com.datastax.driver.core.LocalDate : use getDate()\r\n\r\n","title":"Codec not found for requested operation: [date &lt;-&gt; java.util.Date]","body":"<p>In Cassandra a column type is set to Date and in Model class type of field is set to java.util.Date with getters and setters. During <code>com.datastax.driver.mapping.Mapper.save</code> I get the following exception:</p>\n\n<pre><code>Codec not found for requested operation: [date &lt;-&gt; java.util.Date]\n\nCaused by: com.datastax.driver.core.exceptions.CodecNotFoundException: Codec not found for requested operation: [date &lt;-&gt; java.util.Date]\nat com.datastax.driver.core.exceptions.CodecNotFoundException.copy(CodecNotFoundException.java:56)\nat com.datastax.driver.core.exceptions.CodecNotFoundException.copy(CodecNotFoundException.java:25)\nat com.datastax.driver.mapping.DriverThrowables.propagateCause(DriverThrowables.java:41)\nat com.datastax.driver.mapping.Mapper.save(Mapper.java:272)\n</code></pre>\n\n<p>Found the following during Google search:</p>\n\n<pre><code>DATE      &lt;-&gt; com.datastax.driver.core.LocalDate : use getDate()\n</code></pre>\n"},{"tags":["java","mysql","database","spring","spring-boot"],"comments":[{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1544005731,"post_id":53630079,"comment_id":94119754,"body_markdown":"Are you looking for something like creating schema automatically if not exists?","body":"Are you looking for something like creating schema automatically if not exists?"},{"owner":{"account_id":14884262,"reputation":30,"user_id":10747892,"display_name":"Sushant"},"score":0,"creation_date":1544005812,"post_id":53630079,"comment_id":94119806,"body_markdown":"Please use below link for reference. https://stackoverflow.com/questions/26881739/unable-to-get-spring-boot-to-automatically-create-database-schema","body":"Please use below link for reference. <a href=\"https://stackoverflow.com/questions/26881739/unable-to-get-spring-boot-to-automatically-create-database-schema\" title=\"unable to get spring boot to automatically create database schema\">stackoverflow.com/questions/26881739/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1544005996,"creation_date":1544005996,"answer_id":53630257,"question_id":53630079,"body_markdown":"If you are looking for to create database if not exists then you can use below in database configuration file.\r\n\r\n    jdbc:mysql://localhost:3306/dbname?createDatabaseIfNotExist=true\r\n\r\nOtherwise make sure you have below properties in your application properties file.\r\n\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/dbname\r\n    spring.datasource.username=username\r\n    spring.datasource.password=password","title":"Auto database creation springboot and mysql","body":"<p>If you are looking for to create database if not exists then you can use below in database configuration file.</p>\n\n<pre><code>jdbc:mysql://localhost:3306/dbname?createDatabaseIfNotExist=true\n</code></pre>\n\n<p>Otherwise make sure you have below properties in your application properties file.</p>\n\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/dbname\nspring.datasource.username=username\nspring.datasource.password=password\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1471892,"reputation":9718,"user_id":1383240,"accept_rate":38,"display_name":"NiVeR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544005996,"creation_date":1544005996,"answer_id":53630258,"question_id":53630079,"body_markdown":"You should be setting the property with a value that actually creates the schema, for instance:\r\n\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nYou may find a more detailed reference [here][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html#howto-initialize-a-database-using-hibernate","title":"Auto database creation springboot and mysql","body":"<p>You should be setting the property with a value that actually creates the schema, for instance:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n\n<p>You may find a more detailed reference <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html#howto-initialize-a-database-using-hibernate\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":18850771,"reputation":37,"user_id":13749964,"display_name":"Nick Skorobahatyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655189054,"creation_date":1654925205,"answer_id":72581946,"question_id":53630079,"body_markdown":"I have added the following option: \r\n\r\n    &quot;createDatabaseIfNotExist=true&quot;\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/&quot;DB_NAME&quot;?createDatabaseIfNotExist=true","title":"Auto database creation springboot and mysql","body":"<p>I have added the following option:</p>\n<pre><code>&quot;createDatabaseIfNotExist=true&quot;\nspring.datasource.url=jdbc:mysql://localhost:3306/&quot;DB_NAME&quot;?createDatabaseIfNotExist=true\n</code></pre>\n"}],"owner":{"account_id":8318033,"reputation":41,"user_id":6250663,"display_name":"Sachetan Bhat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3817,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1655189054,"creation_date":1544005471,"question_id":53630079,"body_markdown":"I am trying create mysql database when application starts up. I have tried with bellow configuration but could not able to achieve, Please let me know if anybody have idea about this,\r\n\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.datasource.initialization-mode=always\r\n    spring.jpa.properties.hibernate.globally_quoted_identifiers=true","title":"Auto database creation springboot and mysql","body":"<p>I am trying create mysql database when application starts up. I have tried with bellow configuration but could not able to achieve, Please let me know if anybody have idea about this,</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=none\nspring.datasource.initialization-mode=always\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\n</code></pre>\n"},{"tags":["java","eclipse","selenium"],"comments":[{"owner":{"account_id":25513446,"reputation":1,"user_id":19304681,"display_name":"user19304681"},"score":0,"creation_date":1655185008,"post_id":72611967,"comment_id":128265141,"body_markdown":"DOM structure &lt;li class=&quot;pull-right&quot;&gt;\n&lt;a uib-popover-template=&quot;&#39;app/layout/rightMenu.html&#39;&quot; popover-trigger=&quot;&#39;click  focus&#39;&quot; popover-placement=&quot;bottom-right&quot; popover-is-open=&quot;rightmenuPopoverOpen&quot; class=&quot;ng-binding&quot;&gt;\n     abc.test\n                    &lt;/a&gt;&lt;div uib-popover-template-popup=&quot;&quot; uib-title=&quot;&quot; content-exp=&quot;contentExp()&quot; origin-scope=&quot;origScope&quot; class=&quot;popover ng-scope ng-isolate-scope bottom fade bottom-right in&quot; tooltip-animation-class=&quot;fade&quot; uib-tooltip-classes=&quot;&quot; ng-class=&quot;{ in: isOpen }&quot; style=&quot;top: 50px; left: -31px;&quot;&gt;&lt;div class=&quot;arrow&quot; style=&quot;top: -11px; right: 6px;&quot;&gt;&lt;/div&gt;","body":"DOM structure &lt;li class=&quot;pull-right&quot;&gt; &lt;a uib-popover-template=&quot;&#39;app/layout/rightMenu.html&#39;&quot; popover-trigger=&quot;&#39;click  focus&#39;&quot; popover-placement=&quot;bottom-right&quot; popover-is-open=&quot;rightmenuPopoverOpen&quot; class=&quot;ng-binding&quot;&gt;      abc.test                     &lt;/a&gt;&lt;div uib-popover-template-popup=&quot;&quot; uib-title=&quot;&quot; content-exp=&quot;contentExp()&quot; origin-scope=&quot;origScope&quot; class=&quot;popover ng-scope ng-isolate-scope bottom fade bottom-right in&quot; tooltip-animation-class=&quot;fade&quot; uib-tooltip-classes=&quot;&quot; ng-class=&quot;{ in: isOpen }&quot; style=&quot;top: 50px; left: -31px;&quot;&gt;&lt;div class=&quot;arrow&quot; style=&quot;top: -11px; right: 6px;&quot;&gt;&lt;/div&gt;"},{"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"score":0,"creation_date":1655185924,"post_id":72611967,"comment_id":128265350,"body_markdown":"you want to click?","body":"you want to click?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655197559,"post_id":72611967,"comment_id":128269015,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655187025,"creation_date":1655187025,"answer_id":72612229,"question_id":72611967,"body_markdown":"As per your question the generic solution is :\r\n\r\n\r\nyou can wait for visiblity of element: \r\n   \r\n\r\n     new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;Locator&quot;)));\r\n\r\nor wait for presence of element \r\n\r\n     new WebDriverWait(driver, 20).until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;Locator&quot;)));\r\n\r\nor use executeScript() method to scroll the element\r\n\r\n    WebElement elemLocator = driver.findElement(By.xpath(&quot;element_xpath&quot;));\r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView();&quot;, elemLocator);\r\n\r\n","title":"Getting exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element:","body":"<p>As per your question the generic solution is :</p>\n<p>you can wait for visiblity of element:</p>\n<pre><code> new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;Locator&quot;)));\n</code></pre>\n<p>or wait for presence of element</p>\n<pre><code> new WebDriverWait(driver, 20).until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;Locator&quot;)));\n</code></pre>\n<p>or use executeScript() method to scroll the element</p>\n<pre><code>WebElement elemLocator = driver.findElement(By.xpath(&quot;element_xpath&quot;));\n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView();&quot;, elemLocator);\n</code></pre>\n"}],"owner":{"account_id":25513446,"reputation":1,"user_id":19304681,"display_name":"user19304681"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655189013,"creation_date":1655184875,"question_id":72611967,"body_markdown":"DOM structure \r\n&lt;li class=&quot;pull-right&quot;&gt;\r\n &lt;a uib-popover-template=&quot;&#39;app/layout/rightMenu.html&#39;&quot; popover-trigger=&quot;&#39;click  focus&#39;&quot; popover-placement=&quot;bottom-right&quot; popover-is-open=&quot;rightmenuPopoverOpen&quot; class=&quot;ng-binding&quot;&gt;abc.test\r\n                    &lt;/a&gt;&lt;div uib-popover-template-popup=&quot;&quot; uib-title=&quot;&quot; content-exp=&quot;contentExp()&quot; origin-scope=&quot;origScope&quot; class=&quot;popover ng-scope ng-isolate-scope bottom fade bottom-right in&quot; tooltip-animation-class=&quot;fade&quot; uib-tooltip-classes=&quot;&quot; ng-class=&quot;{ in: isOpen }&quot; style=&quot;top: 50px; left: -31px;&quot;&gt;&lt;div class=&quot;arrow&quot; style=&quot;top: -11px; right: 6px;&quot;&gt;&lt;/div&gt;\r\n           \r\nI am getting below mentioned error. Tried via cssSelector as well. \r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;tag name&quot;,&quot;selector&quot;:&quot;li &gt; div&quot;}\r\n  (Session info: chrome=102.0.5005.63)\r\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element","title":"Getting exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element:","body":"<p>DOM structure</p>\n\n abc.test\n                    \n           \nI am getting below mentioned error. Tried via cssSelector as well. \n<p>Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;tag name&quot;,&quot;selector&quot;:&quot;li &gt; div&quot;}\n(Session info: chrome=102.0.5005.63)\nFor documentation on this error, please visit: <a href=\"https://selenium.dev/exceptions/#no_such_element\" rel=\"nofollow noreferrer\">https://selenium.dev/exceptions/#no_such_element</a></p>\n"},{"tags":["java","api","rest"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655127184,"creation_date":1655126940,"answer_id":72603706,"question_id":72603643,"body_markdown":"You want to add [@QueryParam][1] for query parameters, as:\r\n\r\n    public String newRequest(@QueryParam(&quot;id&quot;) String request_sf_id) throws ServletException, IOException, JSONException { ..} \r\n\r\n&gt;Binds the value(s) of a HTTP query parameter to a resource method parameter, resource class field, or resource class bean property. \r\n\r\n[1]:https://docs.oracle.com/javaee/7/api/javax/ws/rs/QueryParam.html","title":"Pass parameters in post http request","body":"<p>You want to add <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/QueryParam.html\" rel=\"nofollow noreferrer\">@QueryParam</a> for query parameters, as:</p>\n<pre><code>public String newRequest(@QueryParam(&quot;id&quot;) String request_sf_id) throws ServletException, IOException, JSONException { ..} \n</code></pre>\n<blockquote>\n<p>Binds the value(s) of a HTTP query parameter to a resource method parameter, resource class field, or resource class bean property.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655127426,"creation_date":1655127197,"answer_id":72603770,"question_id":72603643,"body_markdown":"You can use RequestParam:\r\n\r\n\r\n    @POST\r\n    @Path(&quot;test&quot;)    \r\n    public String newRequest(@RequestParam(value =&quot;id&quot;) String id) throws ServletException, IOException, JSONException {\r\n            ...\r\n     }\r\n\r\n\r\nAnd calling :\r\n\r\n    https://localhost:8080/webresources/test?id=.....\r\n\r\n\r\nPlease note, RequestParam is part of spring so you need :\r\n\r\n    import org.springframework.web.bind.annotation.RequestParam;","title":"Pass parameters in post http request","body":"<p>You can use RequestParam:</p>\n<pre><code>@POST\n@Path(&quot;test&quot;)    \npublic String newRequest(@RequestParam(value =&quot;id&quot;) String id) throws ServletException, IOException, JSONException {\n        ...\n }\n</code></pre>\n<p>And calling :</p>\n<pre><code>https://localhost:8080/webresources/test?id=.....\n</code></pre>\n<p>Please note, RequestParam is part of spring so you need :</p>\n<pre><code>import org.springframework.web.bind.annotation.RequestParam;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22966483,"reputation":1,"user_id":17095463,"display_name":"nicole tannous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655188978,"creation_date":1655188978,"answer_id":72612536,"question_id":72603643,"body_markdown":" @POST\r\n @Path(&quot;newrequest&quot;)\r\n public String newRequest(**@HeaderParam(**&quot;request_sf_id&quot;) String request_sf_id) throws ServletException, IOException, JSONException {\r\n...\r\n}\r\n\r\n\r\n**This is my answer.**","title":"Pass parameters in post http request","body":"<p>@POST\n@Path(&quot;newrequest&quot;)\npublic String newRequest(<strong>@HeaderParam(</strong>&quot;request_sf_id&quot;) String request_sf_id) throws ServletException, IOException, JSONException {\n...\n}</p>\n<p><strong>This is my answer.</strong></p>\n"}],"owner":{"account_id":22966483,"reputation":1,"user_id":17095463,"display_name":"nicole tannous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1655188978,"creation_date":1655126609,"question_id":72603643,"body_markdown":"I want to pass variables in Java Rest API\r\nThe Post URL is : \r\n***ex:*** https://localhost:8080/webresources/test?id=.....\r\n\r\n**This is my current code:**\r\n\r\n    @POST\r\n    @Path(&quot;test&quot;)    \r\n    public String newRequest() throws ServletException, IOException, JSONException {\r\n            ...\r\n     }\r\n\r\n\r\nHow should I pass my parameter to call my request like this : **newRequest(123)**;\r\n\r\n","title":"Pass parameters in post http request","body":"<p>I want to pass variables in Java Rest API\nThe Post URL is :\n<em><strong>ex:</strong></em> https://localhost:8080/webresources/test?id=.....</p>\n<p><strong>This is my current code:</strong></p>\n<pre><code>@POST\n@Path(&quot;test&quot;)    \npublic String newRequest() throws ServletException, IOException, JSONException {\n        ...\n }\n</code></pre>\n<p>How should I pass my parameter to call my request like this : <strong>newRequest(123)</strong>;</p>\n"},{"tags":["java","itext","pdf-generation","itext7","cellspacing"],"comments":[{"owner":{"account_id":20878403,"reputation":103,"user_id":15336730,"display_name":"kHLVT"},"score":0,"creation_date":1650961239,"post_id":71954410,"comment_id":127241526,"body_markdown":"With separation, I assume you mean the padding between cells? Have a look at this answer: https://stackoverflow.com/questions/54689071/how-to-achieve-space-between-columns-in-itext-7-tables","body":"With separation, I assume you mean the padding between cells? Have a look at this answer: <a href=\"https://stackoverflow.com/questions/54689071/how-to-achieve-space-between-columns-in-itext-7-tables\" title=\"how to achieve space between columns in itext 7 tables\">stackoverflow.com/questions/54689071/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21845217,"reputation":54,"user_id":16138165,"display_name":"Samriddha Bajpai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655188878,"creation_date":1655188878,"answer_id":72612516,"question_id":71954410,"body_markdown":"I have given the seperations using the empty cells with borders removed and it has worked properly as per my requirement. Demo code line which i have implemented are written as below.\r\n\r\nI have created one style in which i have given the minimum height required for my spacing and removed the borders from the cell.\r\n\r\n    Style spacingCellStyle = new Style().setBorder(Border.NO_BORDER).setHeight(1);\r\n\r\nThen, i have simply just added the cell with this style wherever in the table, spacing was required.\r\n\r\n    Table.addCell(new Cell(1, 6).addStyle(spacingCellStyle));\r\n\r\nAs per my requirement, this was the only possible way to do so and it executed perfectly.","title":"How to give separations between the cells of a table in Itext7?","body":"<p>I have given the seperations using the empty cells with borders removed and it has worked properly as per my requirement. Demo code line which i have implemented are written as below.</p>\n<p>I have created one style in which i have given the minimum height required for my spacing and removed the borders from the cell.</p>\n<pre><code>Style spacingCellStyle = new Style().setBorder(Border.NO_BORDER).setHeight(1);\n</code></pre>\n<p>Then, i have simply just added the cell with this style wherever in the table, spacing was required.</p>\n<pre><code>Table.addCell(new Cell(1, 6).addStyle(spacingCellStyle));\n</code></pre>\n<p>As per my requirement, this was the only possible way to do so and it executed perfectly.</p>\n"}],"owner":{"account_id":21845217,"reputation":54,"user_id":16138165,"display_name":"Samriddha Bajpai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72612516,"answer_count":1,"score":1,"last_activity_date":1655188878,"creation_date":1650543738,"question_id":71954410,"body_markdown":"**Problem Statement:-** \r\n\r\nI am using Itext7 in JAVA to create a PDF having a [table][1]. I need to give the separations between the cells of the table. \r\n\r\nRed and blue arrows in the [image][2] are the pin points from where I want to separate them.\r\n\r\n  Any help regarding the issue is highly appreciated!!\r\n\r\n**Code:-**\r\n\r\n        package com.example.pdfcreator;\r\n        \r\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n        \r\n        import com.itextpdf.*;\r\n  \r\n        @SpringBootApplication\r\n        public class PdfcreatorApplication {\r\n        public static final String DEST = &quot;D:\\\\generate_pdf\\\\hello.pdf&quot;;\r\n         public static void main(String args[]) throws IOException, java.io.IOException {\r\n           PdfDocument pdf = new PdfDocument(new PdfWriter(DEST));\r\n           Document document = new Document(pdf);\r\n         var table = new Table(new float[] { 3,3,3,3,3,3,3}).setWidth(UnitValue.createPercentValue(100)).setFixedLayout().setFontSize(8).setMarginTop(4);   \r\n        Cell cell11 = new Cell(1, 2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot;label1 :&quot;));\r\n        Cell cell12 = new Cell(1, 5).add(new Paragraph(&quot;&quot;));\r\n        Cell cell21 = new Cell(1, 2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot;label2 :&quot;));\r\n        Cell cell22 = new Cell(1, 5).add(new Paragraph(&quot;&quot;));\r\n        Cell cell31 = new Cell(1, 2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot;label3 :&quot;));\r\n        Cell cell32 = new Cell(1, 5).add(new Paragraph(&quot;&quot;));\r\n        Cell cell41 = new Cell(1, 2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot;label4 :&quot;));\r\n        Cell cell42 = new Cell(1, 5).add(new Paragraph(&quot;&quot;));\r\n        table.addCell(cell11);  \r\n        table.addCell(cell12);  \r\n        table.addCell(cell21);  \r\n        table.addCell(cell22);  \r\n        table.addCell(cell31);  \r\n        table.addCell(cell32);  \r\n        table.addCell(cell41);  \r\n        table.addCell(cell42);  \r\n        document.add(table);\r\n        var table99 = new Table(new float[] { 3,3,3,3,3,3,3}).setWidth(UnitValue.createPercentValue(100)).setFixedLayout().setFontSize(8);\r\n        Cell cell = new Cell(1,2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot;label9 : &quot;));\r\n        table99.addCell(cell);\r\n        cell = new Cell(1,4).add(new Paragraph(&quot;  &quot;));\r\n        table99.addCell(cell);\r\n        Cell cell23 = new Cell(5, 1).add(new Paragraph(&quot;Photo&quot;).setMarginLeft(23).setMarginTop(28));\r\n        table99.addCell(cell23);\r\n        cell = new Cell(1,2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot; label10: &quot;));\r\n        table99.addCell(cell);\r\n        cell = new Cell(1,4).add(new Paragraph(&quot;  &quot;));\r\n        table99.addCell(cell);\r\n        cell = new Cell(1,2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot; label11: &quot;));\r\n        table99.addCell(cell);\r\n        cell = new Cell(1,4).add(new Paragraph(&quot;  &quot;));\r\n        table99.addCell(cell);\r\n        cell = new Cell(1,2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot; label12: &quot;));\r\n        table99.addCell(cell);\r\n        cell = new Cell(1,4).add(new Paragraph(&quot;  &quot;));\r\n        table99.addCell(cell);\r\n        cell = new Cell(1,2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot; label13: &quot;));\r\n        table99.addCell(cell);\r\n        cell = new Cell(1,4).add(new Paragraph(&quot;  &quot;));\r\n        table99.addCell(cell);\r\n        document.add(table99);   }}\r\n  [1]: https://i.stack.imgur.com/1mRSO.png\r\n  [2]: https://i.stack.imgur.com/x7Fkn.png","title":"How to give separations between the cells of a table in Itext7?","body":"<p><strong>Problem Statement:-</strong></p>\n<p>I am using Itext7 in JAVA to create a PDF having a <a href=\"https://i.stack.imgur.com/1mRSO.png\" rel=\"nofollow noreferrer\">table</a>. I need to give the separations between the cells of the table.</p>\n<p>Red and blue arrows in the <a href=\"https://i.stack.imgur.com/x7Fkn.png\" rel=\"nofollow noreferrer\">image</a> are the pin points from where I want to separate them.</p>\n<p>Any help regarding the issue is highly appreciated!!</p>\n<p><strong>Code:-</strong></p>\n<pre><code>    package com.example.pdfcreator;\n    \n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    \n    import com.itextpdf.*;\n\n    @SpringBootApplication\n    public class PdfcreatorApplication {\n    public static final String DEST = &quot;D:\\\\generate_pdf\\\\hello.pdf&quot;;\n     public static void main(String args[]) throws IOException, java.io.IOException {\n       PdfDocument pdf = new PdfDocument(new PdfWriter(DEST));\n       Document document = new Document(pdf);\n     var table = new Table(new float[] { 3,3,3,3,3,3,3}).setWidth(UnitValue.createPercentValue(100)).setFixedLayout().setFontSize(8).setMarginTop(4);   \n    Cell cell11 = new Cell(1, 2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot;label1 :&quot;));\n    Cell cell12 = new Cell(1, 5).add(new Paragraph(&quot;&quot;));\n    Cell cell21 = new Cell(1, 2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot;label2 :&quot;));\n    Cell cell22 = new Cell(1, 5).add(new Paragraph(&quot;&quot;));\n    Cell cell31 = new Cell(1, 2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot;label3 :&quot;));\n    Cell cell32 = new Cell(1, 5).add(new Paragraph(&quot;&quot;));\n    Cell cell41 = new Cell(1, 2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot;label4 :&quot;));\n    Cell cell42 = new Cell(1, 5).add(new Paragraph(&quot;&quot;));\n    table.addCell(cell11);  \n    table.addCell(cell12);  \n    table.addCell(cell21);  \n    table.addCell(cell22);  \n    table.addCell(cell31);  \n    table.addCell(cell32);  \n    table.addCell(cell41);  \n    table.addCell(cell42);  \n    document.add(table);\n    var table99 = new Table(new float[] { 3,3,3,3,3,3,3}).setWidth(UnitValue.createPercentValue(100)).setFixedLayout().setFontSize(8);\n    Cell cell = new Cell(1,2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot;label9 : &quot;));\n    table99.addCell(cell);\n    cell = new Cell(1,4).add(new Paragraph(&quot;  &quot;));\n    table99.addCell(cell);\n    Cell cell23 = new Cell(5, 1).add(new Paragraph(&quot;Photo&quot;).setMarginLeft(23).setMarginTop(28));\n    table99.addCell(cell23);\n    cell = new Cell(1,2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot; label10: &quot;));\n    table99.addCell(cell);\n    cell = new Cell(1,4).add(new Paragraph(&quot;  &quot;));\n    table99.addCell(cell);\n    cell = new Cell(1,2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot; label11: &quot;));\n    table99.addCell(cell);\n    cell = new Cell(1,4).add(new Paragraph(&quot;  &quot;));\n    table99.addCell(cell);\n    cell = new Cell(1,2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot; label12: &quot;));\n    table99.addCell(cell);\n    cell = new Cell(1,4).add(new Paragraph(&quot;  &quot;));\n    table99.addCell(cell);\n    cell = new Cell(1,2).setBorder(Border.NO_BORDER).add(new Paragraph(&quot; label13: &quot;));\n    table99.addCell(cell);\n    cell = new Cell(1,4).add(new Paragraph(&quot;  &quot;));\n    table99.addCell(cell);\n    document.add(table99);   }}\n</code></pre>\n"},{"tags":["java","decompiling","recompile"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1655186536,"post_id":72611994,"comment_id":128265492,"body_markdown":"In theory it should work with just having the other classes on the classpath. However, I&#39;ve not yet seen a decompiler that generates 100% recompilable code - it might work or it might not and you might have to fix some other portions of the code. Without knowing in what way &quot;it doesn&#39;t work&quot; we can&#39;t tell you what you&#39;d need to do. ... However, I&#39;d strongly advise against this approach anyway. There might be better options such as AOP - can you elaborate on what you want to achieve in the end?","body":"In theory it should work with just having the other classes on the classpath. However, I&#39;ve not yet seen a decompiler that generates 100% recompilable code - it might work or it might not and you might have to fix some other portions of the code. Without knowing in what way &quot;it doesn&#39;t work&quot; we can&#39;t tell you what you&#39;d need to do. ... However, I&#39;d strongly advise against this approach anyway. There might be better options such as AOP - can you elaborate on what you want to achieve in the end?"}],"owner":{"account_id":25549940,"reputation":45,"user_id":19334496,"display_name":"LearningJava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1655188873,"answer_count":0,"score":3,"last_activity_date":1655188629,"creation_date":1655185164,"question_id":72611994,"body_markdown":"I have a class file and I want to add some code to it. I decompiled it and got this\r\n```\r\npackage net.minecraft.client.main;\r\n\r\nimport com.google.gson.Gson;\r\nimport java.util.List;\r\nimport joptsimple.OptionSet;\r\nimport java.lang.reflect.Type;\r\nimport com.mojang.authlib.properties.PropertyMap;\r\nimport com.google.gson.GsonBuilder;\r\nimport java.net.Authenticator;\r\nimport java.net.SocketAddress;\r\nimport java.net.URISyntaxException;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.Proxy;\r\nimport joptsimple.OptionSpec;\r\nimport java.io.File;\r\nimport joptsimple.OptionParser;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\n\r\npublic class Main\r\n{\r\n    public static void main(final String[] u2603) {\r\n\r\n        System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;true&quot;);\r\n        final OptionParser optionParser = new OptionParser();\r\n        optionParser.allowsUnrecognizedOptions();\r\n        optionParser.accepts(&quot;demo&quot;);\r\n        optionParser.accepts(&quot;fullscreen&quot;);\r\n        optionParser.accepts(&quot;checkGlErrors&quot;);\r\n        final OptionSpec&lt;String&gt; withRequiredArg = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;server&quot;).withRequiredArg();\r\n        final OptionSpec&lt;Integer&gt; defaultsTo = (OptionSpec&lt;Integer&gt;)optionParser.accepts(&quot;port&quot;).withRequiredArg().ofType((Class)Integer.class).defaultsTo((Object)25565, (Object[])new Integer[0]);\r\n        final OptionSpec&lt;File&gt; defaultsTo2 = (OptionSpec&lt;File&gt;)optionParser.accepts(&quot;gameDir&quot;).withRequiredArg().ofType((Class)File.class).defaultsTo((Object)new File(&quot;.&quot;), (Object[])new File[0]);\r\n        final OptionSpec&lt;File&gt; ofType = (OptionSpec&lt;File&gt;)optionParser.accepts(&quot;assetsDir&quot;).withRequiredArg().ofType((Class)File.class);\r\n        final OptionSpec&lt;File&gt; ofType2 = (OptionSpec&lt;File&gt;)optionParser.accepts(&quot;resourcePackDir&quot;).withRequiredArg().ofType((Class)File.class);\r\n        final OptionSpec&lt;String&gt; withRequiredArg2 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;proxyHost&quot;).withRequiredArg();\r\n        final OptionSpec&lt;Integer&gt; ofType3 = (OptionSpec&lt;Integer&gt;)optionParser.accepts(&quot;proxyPort&quot;).withRequiredArg().defaultsTo((Object)&quot;8080&quot;, (Object[])new String[0]).ofType((Class)Integer.class);\r\n        final OptionSpec&lt;String&gt; withRequiredArg3 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;proxyUser&quot;).withRequiredArg();\r\n        final OptionSpec&lt;String&gt; withRequiredArg4 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;proxyPass&quot;).withRequiredArg();\r\n        final OptionSpec&lt;String&gt; defaultsTo3 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;username&quot;).withRequiredArg().defaultsTo((Object)(&quot;Player&quot; + ave.J() % 1000L), (Object[])new String[0]);\r\n        final OptionSpec&lt;String&gt; withRequiredArg5 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;uuid&quot;).withRequiredArg();\r\n        final OptionSpec&lt;String&gt; required = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;accessToken&quot;).withRequiredArg().required();\r\n        final OptionSpec&lt;String&gt; required2 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;version&quot;).withRequiredArg().required();\r\n        final OptionSpec&lt;Integer&gt; defaultsTo4 = (OptionSpec&lt;Integer&gt;)optionParser.accepts(&quot;width&quot;).withRequiredArg().ofType((Class)Integer.class).defaultsTo((Object)854, (Object[])new Integer[0]);\r\n        final OptionSpec&lt;Integer&gt; defaultsTo5 = (OptionSpec&lt;Integer&gt;)optionParser.accepts(&quot;height&quot;).withRequiredArg().ofType((Class)Integer.class).defaultsTo((Object)480, (Object[])new Integer[0]);\r\n        final OptionSpec&lt;String&gt; defaultsTo6 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;userProperties&quot;).withRequiredArg().defaultsTo((Object)&quot;{}&quot;, (Object[])new String[0]);\r\n        final OptionSpec&lt;String&gt; defaultsTo7 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;profileProperties&quot;).withRequiredArg().defaultsTo((Object)&quot;{}&quot;, (Object[])new String[0]);\r\n        final OptionSpec&lt;String&gt; withRequiredArg6 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;assetIndex&quot;).withRequiredArg();\r\n        final OptionSpec&lt;String&gt; defaultsTo8 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;userType&quot;).withRequiredArg().defaultsTo((Object)&quot;legacy&quot;, (Object[])new String[0]);\r\n        final OptionSpec&lt;String&gt; nonOptions = (OptionSpec&lt;String&gt;)optionParser.nonOptions();\r\n        final OptionSet parse = optionParser.parse(u2603);\r\n        final List&lt;String&gt; values = (List&lt;String&gt;)parse.valuesOf((OptionSpec)nonOptions);\r\n        if (!values.isEmpty()) {\r\n            System.out.println(&quot;Completely ignored arguments: &quot; + values);\r\n        }\r\n        final String hostname = (String)parse.valueOf((OptionSpec)withRequiredArg2);\r\n        Proxy no_PROXY = Proxy.NO_PROXY;\r\n        if (hostname != null) {\r\n            try {\r\n                no_PROXY = new Proxy(Proxy.Type.SOCKS, new InetSocketAddress(hostname, (int)parse.valueOf((OptionSpec)ofType3)));\r\n            }\r\n            catch (Exception ex) {}\r\n        }\r\n        final String u26032 = (String)parse.valueOf((OptionSpec)withRequiredArg3);\r\n        final String u26033 = (String)parse.valueOf((OptionSpec)withRequiredArg4);\r\n        if (!no_PROXY.equals(Proxy.NO_PROXY) &amp;&amp; a(u26032) &amp;&amp; a(u26033)) {\r\n            Authenticator.setDefault((Authenticator)new Main.Main$1(u26032, u26033));\r\n        }\r\n        final int intValue = (int)parse.valueOf((OptionSpec)defaultsTo4);\r\n        final int intValue2 = (int)parse.valueOf((OptionSpec)defaultsTo5);\r\n        final boolean has = parse.has(&quot;fullscreen&quot;);\r\n        final boolean has2 = parse.has(&quot;checkGlErrors&quot;);\r\n        final boolean has3 = parse.has(&quot;demo&quot;);\r\n        final String s = (String)parse.valueOf((OptionSpec)required2);\r\n        final Gson create = new GsonBuilder().registerTypeAdapter((Type)PropertyMap.class, (Object)new PropertyMap.Serializer()).create();\r\n        final PropertyMap propertyMap = (PropertyMap)create.fromJson((String)parse.valueOf((OptionSpec)defaultsTo6), (Class)PropertyMap.class);\r\n        final PropertyMap propertyMap2 = (PropertyMap)create.fromJson((String)parse.valueOf((OptionSpec)defaultsTo7), (Class)PropertyMap.class);\r\n        final File file = (File)parse.valueOf((OptionSpec)defaultsTo2);\r\n        final File file2 = (File)(parse.has((OptionSpec)ofType) ? parse.valueOf((OptionSpec)ofType) : new File(file, &quot;assets/&quot;));\r\n        final File file3 = (File)(parse.has((OptionSpec)ofType2) ? parse.valueOf((OptionSpec)ofType2) : new File(file, &quot;resourcepacks/&quot;));\r\n        final String s2 = (String)(parse.has((OptionSpec)withRequiredArg5) ? withRequiredArg5.value(parse) : ((String)defaultsTo3.value(parse)));\r\n        final String s3 = parse.has((OptionSpec)withRequiredArg6) ? ((String)withRequiredArg6.value(parse)) : null;\r\n        final String s4 = (String)parse.valueOf((OptionSpec)withRequiredArg);\r\n        final Integer n = (Integer)parse.valueOf((OptionSpec)defaultsTo);\r\n        final avm avm = new avm((String)defaultsTo3.value(parse), s2, (String)required.value(parse), (String)defaultsTo8.value(parse));\r\n        final bao bao = new bao(new bao.e(avm, propertyMap, propertyMap2, no_PROXY), new bao.a(intValue, intValue2, has, has2), new bao.b(file, file3, file2, s3), new bao.c(has3, s), new bao.d(s4, (int)n));\r\n        Runtime.getRuntime().addShutdownHook((Thread)new Main.Main$2(&quot;Client Shutdown Thread&quot;));\r\n        Thread.currentThread().setName(&quot;Client thread&quot;);\r\n        new ave(bao).a();\r\n    }\r\n    \r\n    private static boolean a(final String u2603) {\r\n        return u2603 != null &amp;&amp; !u2603.isEmpty();\r\n    }\r\n}\r\n```\r\nI want to add some code at the start of the main function\r\n```\r\nString jarPath;\r\ntry {\r\n\tFile BetterSettings = new File(System.getProperty(&quot;user.dir&quot;), &quot;BetterSettings.txt&quot;);\r\n\t\r\n\tjarPath = Main.class\r\n\t         .getProtectionDomain()\r\n\t         .getCodeSource()\r\n\t         .getLocation()\r\n\t         .toURI()\r\n\t         .getPath();\r\n     System.out.println(&quot;JAR Path : &quot; + jarPath);\r\n     try {\r\n\t\tPrintWriter printwriter = new PrintWriter(new FileWriter(BetterSettings));\r\n\t\tString[] texts= jarPath.split(&quot;/&quot;);\r\n\t\tString version = texts[texts.length-1];\r\n\t\tprintwriter.println(jarPath);\r\n\t\tprintwriter.println(version);\r\n\t\tprintwriter.close();\r\n\t} catch (IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n} catch (URISyntaxException e) {\r\n\t// TODO Auto-generated catch block\r\n\te.printStackTrace();\r\n}\r\n```\r\nI add the code in, but when I go to recompile it in cmd it doesn&#39;t work.\r\n\r\nIs there any way for me to decompile 1 class file add code and recompile? The class file was part of a whole jar file. Do I need to decompile the whole jar file?\r\n","title":"How can I add code to .class files in java","body":"<p>I have a class file and I want to add some code to it. I decompiled it and got this</p>\n<pre><code>package net.minecraft.client.main;\n\nimport com.google.gson.Gson;\nimport java.util.List;\nimport joptsimple.OptionSet;\nimport java.lang.reflect.Type;\nimport com.mojang.authlib.properties.PropertyMap;\nimport com.google.gson.GsonBuilder;\nimport java.net.Authenticator;\nimport java.net.SocketAddress;\nimport java.net.URISyntaxException;\nimport java.net.InetSocketAddress;\nimport java.net.Proxy;\nimport joptsimple.OptionSpec;\nimport java.io.File;\nimport joptsimple.OptionParser;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\npublic class Main\n{\n    public static void main(final String[] u2603) {\n\n        System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;true&quot;);\n        final OptionParser optionParser = new OptionParser();\n        optionParser.allowsUnrecognizedOptions();\n        optionParser.accepts(&quot;demo&quot;);\n        optionParser.accepts(&quot;fullscreen&quot;);\n        optionParser.accepts(&quot;checkGlErrors&quot;);\n        final OptionSpec&lt;String&gt; withRequiredArg = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;server&quot;).withRequiredArg();\n        final OptionSpec&lt;Integer&gt; defaultsTo = (OptionSpec&lt;Integer&gt;)optionParser.accepts(&quot;port&quot;).withRequiredArg().ofType((Class)Integer.class).defaultsTo((Object)25565, (Object[])new Integer[0]);\n        final OptionSpec&lt;File&gt; defaultsTo2 = (OptionSpec&lt;File&gt;)optionParser.accepts(&quot;gameDir&quot;).withRequiredArg().ofType((Class)File.class).defaultsTo((Object)new File(&quot;.&quot;), (Object[])new File[0]);\n        final OptionSpec&lt;File&gt; ofType = (OptionSpec&lt;File&gt;)optionParser.accepts(&quot;assetsDir&quot;).withRequiredArg().ofType((Class)File.class);\n        final OptionSpec&lt;File&gt; ofType2 = (OptionSpec&lt;File&gt;)optionParser.accepts(&quot;resourcePackDir&quot;).withRequiredArg().ofType((Class)File.class);\n        final OptionSpec&lt;String&gt; withRequiredArg2 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;proxyHost&quot;).withRequiredArg();\n        final OptionSpec&lt;Integer&gt; ofType3 = (OptionSpec&lt;Integer&gt;)optionParser.accepts(&quot;proxyPort&quot;).withRequiredArg().defaultsTo((Object)&quot;8080&quot;, (Object[])new String[0]).ofType((Class)Integer.class);\n        final OptionSpec&lt;String&gt; withRequiredArg3 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;proxyUser&quot;).withRequiredArg();\n        final OptionSpec&lt;String&gt; withRequiredArg4 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;proxyPass&quot;).withRequiredArg();\n        final OptionSpec&lt;String&gt; defaultsTo3 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;username&quot;).withRequiredArg().defaultsTo((Object)(&quot;Player&quot; + ave.J() % 1000L), (Object[])new String[0]);\n        final OptionSpec&lt;String&gt; withRequiredArg5 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;uuid&quot;).withRequiredArg();\n        final OptionSpec&lt;String&gt; required = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;accessToken&quot;).withRequiredArg().required();\n        final OptionSpec&lt;String&gt; required2 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;version&quot;).withRequiredArg().required();\n        final OptionSpec&lt;Integer&gt; defaultsTo4 = (OptionSpec&lt;Integer&gt;)optionParser.accepts(&quot;width&quot;).withRequiredArg().ofType((Class)Integer.class).defaultsTo((Object)854, (Object[])new Integer[0]);\n        final OptionSpec&lt;Integer&gt; defaultsTo5 = (OptionSpec&lt;Integer&gt;)optionParser.accepts(&quot;height&quot;).withRequiredArg().ofType((Class)Integer.class).defaultsTo((Object)480, (Object[])new Integer[0]);\n        final OptionSpec&lt;String&gt; defaultsTo6 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;userProperties&quot;).withRequiredArg().defaultsTo((Object)&quot;{}&quot;, (Object[])new String[0]);\n        final OptionSpec&lt;String&gt; defaultsTo7 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;profileProperties&quot;).withRequiredArg().defaultsTo((Object)&quot;{}&quot;, (Object[])new String[0]);\n        final OptionSpec&lt;String&gt; withRequiredArg6 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;assetIndex&quot;).withRequiredArg();\n        final OptionSpec&lt;String&gt; defaultsTo8 = (OptionSpec&lt;String&gt;)optionParser.accepts(&quot;userType&quot;).withRequiredArg().defaultsTo((Object)&quot;legacy&quot;, (Object[])new String[0]);\n        final OptionSpec&lt;String&gt; nonOptions = (OptionSpec&lt;String&gt;)optionParser.nonOptions();\n        final OptionSet parse = optionParser.parse(u2603);\n        final List&lt;String&gt; values = (List&lt;String&gt;)parse.valuesOf((OptionSpec)nonOptions);\n        if (!values.isEmpty()) {\n            System.out.println(&quot;Completely ignored arguments: &quot; + values);\n        }\n        final String hostname = (String)parse.valueOf((OptionSpec)withRequiredArg2);\n        Proxy no_PROXY = Proxy.NO_PROXY;\n        if (hostname != null) {\n            try {\n                no_PROXY = new Proxy(Proxy.Type.SOCKS, new InetSocketAddress(hostname, (int)parse.valueOf((OptionSpec)ofType3)));\n            }\n            catch (Exception ex) {}\n        }\n        final String u26032 = (String)parse.valueOf((OptionSpec)withRequiredArg3);\n        final String u26033 = (String)parse.valueOf((OptionSpec)withRequiredArg4);\n        if (!no_PROXY.equals(Proxy.NO_PROXY) &amp;&amp; a(u26032) &amp;&amp; a(u26033)) {\n            Authenticator.setDefault((Authenticator)new Main.Main$1(u26032, u26033));\n        }\n        final int intValue = (int)parse.valueOf((OptionSpec)defaultsTo4);\n        final int intValue2 = (int)parse.valueOf((OptionSpec)defaultsTo5);\n        final boolean has = parse.has(&quot;fullscreen&quot;);\n        final boolean has2 = parse.has(&quot;checkGlErrors&quot;);\n        final boolean has3 = parse.has(&quot;demo&quot;);\n        final String s = (String)parse.valueOf((OptionSpec)required2);\n        final Gson create = new GsonBuilder().registerTypeAdapter((Type)PropertyMap.class, (Object)new PropertyMap.Serializer()).create();\n        final PropertyMap propertyMap = (PropertyMap)create.fromJson((String)parse.valueOf((OptionSpec)defaultsTo6), (Class)PropertyMap.class);\n        final PropertyMap propertyMap2 = (PropertyMap)create.fromJson((String)parse.valueOf((OptionSpec)defaultsTo7), (Class)PropertyMap.class);\n        final File file = (File)parse.valueOf((OptionSpec)defaultsTo2);\n        final File file2 = (File)(parse.has((OptionSpec)ofType) ? parse.valueOf((OptionSpec)ofType) : new File(file, &quot;assets/&quot;));\n        final File file3 = (File)(parse.has((OptionSpec)ofType2) ? parse.valueOf((OptionSpec)ofType2) : new File(file, &quot;resourcepacks/&quot;));\n        final String s2 = (String)(parse.has((OptionSpec)withRequiredArg5) ? withRequiredArg5.value(parse) : ((String)defaultsTo3.value(parse)));\n        final String s3 = parse.has((OptionSpec)withRequiredArg6) ? ((String)withRequiredArg6.value(parse)) : null;\n        final String s4 = (String)parse.valueOf((OptionSpec)withRequiredArg);\n        final Integer n = (Integer)parse.valueOf((OptionSpec)defaultsTo);\n        final avm avm = new avm((String)defaultsTo3.value(parse), s2, (String)required.value(parse), (String)defaultsTo8.value(parse));\n        final bao bao = new bao(new bao.e(avm, propertyMap, propertyMap2, no_PROXY), new bao.a(intValue, intValue2, has, has2), new bao.b(file, file3, file2, s3), new bao.c(has3, s), new bao.d(s4, (int)n));\n        Runtime.getRuntime().addShutdownHook((Thread)new Main.Main$2(&quot;Client Shutdown Thread&quot;));\n        Thread.currentThread().setName(&quot;Client thread&quot;);\n        new ave(bao).a();\n    }\n    \n    private static boolean a(final String u2603) {\n        return u2603 != null &amp;&amp; !u2603.isEmpty();\n    }\n}\n</code></pre>\n<p>I want to add some code at the start of the main function</p>\n<pre><code>String jarPath;\ntry {\n    File BetterSettings = new File(System.getProperty(&quot;user.dir&quot;), &quot;BetterSettings.txt&quot;);\n    \n    jarPath = Main.class\n             .getProtectionDomain()\n             .getCodeSource()\n             .getLocation()\n             .toURI()\n             .getPath();\n     System.out.println(&quot;JAR Path : &quot; + jarPath);\n     try {\n        PrintWriter printwriter = new PrintWriter(new FileWriter(BetterSettings));\n        String[] texts= jarPath.split(&quot;/&quot;);\n        String version = texts[texts.length-1];\n        printwriter.println(jarPath);\n        printwriter.println(version);\n        printwriter.close();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n} catch (URISyntaxException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>I add the code in, but when I go to recompile it in cmd it doesn't work.</p>\n<p>Is there any way for me to decompile 1 class file add code and recompile? The class file was part of a whole jar file. Do I need to decompile the whole jar file?</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1655116759,"post_id":72601211,"comment_id":128246156,"body_markdown":"I&#39;m not sure what you are trying to achieve via the second approach.  Assuming it worked - how is it &#39;better&#39; than the former version?","body":"I&#39;m not sure what you are trying to achieve via the second approach.  Assuming it worked - how is it &#39;better&#39; than the former version?"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1655117050,"post_id":72601211,"comment_id":128246260,"body_markdown":"Maybe use one enum for columns and one enum for rows which does the combination of columns?","body":"Maybe use one enum for columns and one enum for rows which does the combination of columns?"},{"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"score":0,"creation_date":1655120377,"post_id":72601211,"comment_id":128247481,"body_markdown":"When you read the code, it&#39;s clear which one is set/which one belongs to which column and which one uses a fallback. Furthermore, assuming you have more values in this enum and one value changes, you just have to change it in one location instead of multiple.","body":"When you read the code, it&#39;s clear which one is set/which one belongs to which column and which one uses a fallback. Furthermore, assuming you have more values in this enum and one value changes, you just have to change it in one location instead of multiple."},{"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"score":0,"creation_date":1655126926,"post_id":72601211,"comment_id":128250079,"body_markdown":"And I always thought a minimal example with abstract data is the best you can do here... I guess it just does not work as I wished.","body":"And I always thought a minimal example with abstract data is the best you can do here... I guess it just does not work as I wished."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1655131760,"post_id":72601211,"comment_id":128252255,"body_markdown":"my idea on [IDEone](https://ideone.com/n6WCz7) {not sure if I like it or not...}","body":"my idea on <a href=\"https://ideone.com/n6WCz7\" rel=\"nofollow noreferrer\">IDEone</a> {not sure if I like it or not...}"},{"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"score":0,"creation_date":1655187737,"post_id":72601211,"comment_id":128265797,"body_markdown":"Thanks a lot, that&#39;s what I was looking for. But indeed, not sure if I like it or not, too.","body":"Thanks a lot, that&#39;s what I was looking for. But indeed, not sure if I like it or not, too."}],"answers":[{"tags":[],"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655187951,"creation_date":1655187951,"answer_id":72612376,"question_id":72601211,"body_markdown":"One possible solution provided by [user16320675][1]\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n \r\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\nclass Ideone\r\n{\r\n    private static final String COL1 = new String(&quot;COL1&quot;);\r\n    private static final String COL2 = new String(&quot;COL2&quot;);\r\n    private static final String COL3 = new String(&quot;COL3&quot;);\r\n \r\n    private enum MyEnum {\r\n        ROW1(&quot;A&quot;, &quot;B&quot;, COL1),\r\n        ROW2(&quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\r\n        ROW3(COL3, &quot;G&quot;, &quot;F&quot;),\r\n        ROW4(COL2, &quot;H&quot;, COL2);\r\n \r\n        private final String col1;\r\n        private final String col2;\r\n        private final String col3;\r\n \r\n        MyEnum(String col1, String col2, String col3) {\r\n            this.col1=subs(col1, col1, col2, col3);\r\n            this.col2=subs(col2, col1, col2, col3);\r\n            this.col3=subs(col3, col1, col2, col3);\r\n        }\r\n \r\n        @Override\r\n        public String toString() {\r\n            return col1 + col2 + col3;\r\n        }\r\n \r\n        private static String subs(String v, String col1, String col2, String col3) {\r\n            return v==COL1 ? col1 : v==COL2 ? col2 : v==COL3 ? col3: v;\r\n        }\r\n    }\r\n \r\n    public static void main(String args[]) {\r\n        System.out.println(MyEnum.ROW1);\r\n        System.out.println(MyEnum.ROW2);\r\n        System.out.println(MyEnum.ROW3);\r\n        System.out.println(MyEnum.ROW4);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/16320675/user16320675","title":"Use fallbacks pointing to another value within same row in Java enum","body":"<p>One possible solution provided by <a href=\"https://stackoverflow.com/users/16320675/user16320675\">user16320675</a></p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n \n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\nclass Ideone\n{\n    private static final String COL1 = new String(&quot;COL1&quot;);\n    private static final String COL2 = new String(&quot;COL2&quot;);\n    private static final String COL3 = new String(&quot;COL3&quot;);\n \n    private enum MyEnum {\n        ROW1(&quot;A&quot;, &quot;B&quot;, COL1),\n        ROW2(&quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\n        ROW3(COL3, &quot;G&quot;, &quot;F&quot;),\n        ROW4(COL2, &quot;H&quot;, COL2);\n \n        private final String col1;\n        private final String col2;\n        private final String col3;\n \n        MyEnum(String col1, String col2, String col3) {\n            this.col1=subs(col1, col1, col2, col3);\n            this.col2=subs(col2, col1, col2, col3);\n            this.col3=subs(col3, col1, col2, col3);\n        }\n \n        @Override\n        public String toString() {\n            return col1 + col2 + col3;\n        }\n \n        private static String subs(String v, String col1, String col2, String col3) {\n            return v==COL1 ? col1 : v==COL2 ? col2 : v==COL3 ? col3: v;\n        }\n    }\n \n    public static void main(String args[]) {\n        System.out.println(MyEnum.ROW1);\n        System.out.println(MyEnum.ROW2);\n        System.out.println(MyEnum.ROW3);\n        System.out.println(MyEnum.ROW4);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655187951,"creation_date":1655115515,"question_id":72601211,"body_markdown":"I have a datastructure, for instance:\r\n```\r\ncol1  col2  col3\r\n A     B     A\r\n C     D     E\r\n F     G     F\r\n H     H     H\r\n```\r\nSometimes the values in a single row contain duplicates, which are fallbacks that point to other values within the same row.\r\n\r\nI was wondering, if there is an elegant way to solve this with an enumeration in Java?\r\n\r\nThat is what I don&#39;t want to do:\r\n```\r\npublic class MyClass {\r\n    private enum MyEnum {\r\n        ROW1(&quot;A&quot;, &quot;B&quot;, &quot;A&quot;),\r\n        ROW2(&quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\r\n        ROW3(&quot;F&quot;, &quot;G&quot;, &quot;F&quot;),\r\n        ROW4(&quot;H&quot;, &quot;H&quot;, &quot;H&quot;);\r\n        \r\n        private final String col1;\r\n        private final String col2;\r\n        private final String col3;\r\n\r\n        MyEnum(String col1, String col2, String col3) {\r\n            this.col1=col1;\r\n            this.col2=col2;\r\n            this.col3=col3;\r\n          }\r\n    }\r\n    \r\n    public static void main(String args[]) {\r\n        System.out.println(MyEnum.ROW1.col3);\r\n    }\r\n}\r\n```\r\nI was hoping to do something like:\r\n```\r\npublic class MyClass {\r\n    private enum MyEnum {\r\n        ROW1(&quot;A&quot;, &quot;B&quot;, equalsCol1()),\r\n        ROW2(&quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\r\n        ROW3(equalsCol3(), &quot;G&quot;, &quot;F&quot;),\r\n        ROW4(equalsCol2(), &quot;H&quot;, equalsCol2());\r\n        \r\n        private final String col1;\r\n        private final String col2;\r\n        private final String col3;\r\n\r\n        MyEnum(String col1, String col2, String col3) {\r\n            this.col1=col1;\r\n            this.col2=col2;\r\n            this.col3=col3;\r\n          }\r\n          \r\n        private static String equalsCol1() {\r\n            return this.col1;\r\n        }\r\n        private static String equalsCol2() {\r\n            return this.col2;\r\n        }\r\n        private static String equalsCol3() {\r\n            return this.col3;\r\n        }\r\n    }\r\n    \r\n    public static void main(String args[]) {\r\n        System.out.println(MyEnum.ROW1.col3);\r\n    }\r\n}\r\n```\r\nwhich will obviously result in:\r\n```\r\n/MyClass.java:19: error: non-static variable this cannot be referenced from a static context\r\n            return this.col1;\r\n                   ^\r\n/MyClass.java:22: error: non-static variable this cannot be referenced from a static context\r\n            return this.col2;\r\n                   ^\r\n/MyClass.java:25: error: non-static variable this cannot be referenced from a static context\r\n            return this.col3;\r\n                   ^\r\n3 errors\r\n```","title":"Use fallbacks pointing to another value within same row in Java enum","body":"<p>I have a datastructure, for instance:</p>\n<pre><code>col1  col2  col3\n A     B     A\n C     D     E\n F     G     F\n H     H     H\n</code></pre>\n<p>Sometimes the values in a single row contain duplicates, which are fallbacks that point to other values within the same row.</p>\n<p>I was wondering, if there is an elegant way to solve this with an enumeration in Java?</p>\n<p>That is what I don't want to do:</p>\n<pre><code>public class MyClass {\n    private enum MyEnum {\n        ROW1(&quot;A&quot;, &quot;B&quot;, &quot;A&quot;),\n        ROW2(&quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\n        ROW3(&quot;F&quot;, &quot;G&quot;, &quot;F&quot;),\n        ROW4(&quot;H&quot;, &quot;H&quot;, &quot;H&quot;);\n        \n        private final String col1;\n        private final String col2;\n        private final String col3;\n\n        MyEnum(String col1, String col2, String col3) {\n            this.col1=col1;\n            this.col2=col2;\n            this.col3=col3;\n          }\n    }\n    \n    public static void main(String args[]) {\n        System.out.println(MyEnum.ROW1.col3);\n    }\n}\n</code></pre>\n<p>I was hoping to do something like:</p>\n<pre><code>public class MyClass {\n    private enum MyEnum {\n        ROW1(&quot;A&quot;, &quot;B&quot;, equalsCol1()),\n        ROW2(&quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\n        ROW3(equalsCol3(), &quot;G&quot;, &quot;F&quot;),\n        ROW4(equalsCol2(), &quot;H&quot;, equalsCol2());\n        \n        private final String col1;\n        private final String col2;\n        private final String col3;\n\n        MyEnum(String col1, String col2, String col3) {\n            this.col1=col1;\n            this.col2=col2;\n            this.col3=col3;\n          }\n          \n        private static String equalsCol1() {\n            return this.col1;\n        }\n        private static String equalsCol2() {\n            return this.col2;\n        }\n        private static String equalsCol3() {\n            return this.col3;\n        }\n    }\n    \n    public static void main(String args[]) {\n        System.out.println(MyEnum.ROW1.col3);\n    }\n}\n</code></pre>\n<p>which will obviously result in:</p>\n<pre><code>/MyClass.java:19: error: non-static variable this cannot be referenced from a static context\n            return this.col1;\n                   ^\n/MyClass.java:22: error: non-static variable this cannot be referenced from a static context\n            return this.col2;\n                   ^\n/MyClass.java:25: error: non-static variable this cannot be referenced from a static context\n            return this.col3;\n                   ^\n3 errors\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1655188661,"post_id":72612219,"comment_id":128266053,"body_markdown":"Why using appassembler? Appassembler is not responsible to put something outside you have to configure it that way...","body":"Why using appassembler? Appassembler is not responsible to put something outside you have to configure it that way..."},{"owner":{"account_id":5739765,"reputation":369,"user_id":4532831,"display_name":"Mehdi Alisoltani"},"score":0,"creation_date":1655195188,"post_id":72612219,"comment_id":128268156,"body_markdown":"exactly; I tested some ways mention in the following answer but no expected result is taken. @khmarbaise","body":"exactly; I tested some ways mention in the following answer but no expected result is taken. @khmarbaise"}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655187692,"creation_date":1655187692,"answer_id":72612332,"question_id":72612219,"body_markdown":"[Spring Properties File Outside jar][1]\r\n\r\n&gt; `spring.config.import=file:./additional.properties,optional:file:/Users/home/config/jdbc.properties`\r\n\r\n[Externalized Configuration][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-properties-file-outside-jar\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html","title":"Externalize Config File Java Spring","body":"<p><a href=\"https://www.baeldung.com/spring-properties-file-outside-jar\" rel=\"nofollow noreferrer\">Spring Properties File Outside jar</a></p>\n<blockquote>\n<p><code>spring.config.import=file:./additional.properties,optional:file:/Users/home/config/jdbc.properties</code></p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">Externalized Configuration</a></p>\n"}],"owner":{"account_id":5739765,"reputation":369,"user_id":4532831,"display_name":"Mehdi Alisoltani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655187692,"creation_date":1655186943,"question_id":72612219,"body_markdown":"I have a  legacy Spring project which has multiple configuration files located in class path. \r\n\r\nWith the pre-suggested command for compiling and packaging this project I use the following command:\r\n\r\n    mvn package appassembler:assemble -P dev\r\n\r\nand it make jar file as well as a script for running the project ,and every thing working fine.\r\n\r\n\r\nBut, the challenging  is this approach put all artifacts including config files into the jar file and in deployment, I should  unpackaging the jar file, changing configurations and repackage it again.(e.g. changing ports, IPs and some credentials ,...)\r\n\r\nI want to know, is there any way telling appassembler to put config files outside the jar or any other way  to solve the problem with the minor code change ? \r\n\r\nAlthough, it is possible using  -Dspring.config.location but, every time  I compile the project I have to change the script which is created by the appassembler. \r\n\r\n","title":"Externalize Config File Java Spring","body":"<p>I have a  legacy Spring project which has multiple configuration files located in class path.</p>\n<p>With the pre-suggested command for compiling and packaging this project I use the following command:</p>\n<pre><code>mvn package appassembler:assemble -P dev\n</code></pre>\n<p>and it make jar file as well as a script for running the project ,and every thing working fine.</p>\n<p>But, the challenging  is this approach put all artifacts including config files into the jar file and in deployment, I should  unpackaging the jar file, changing configurations and repackage it again.(e.g. changing ports, IPs and some credentials ,...)</p>\n<p>I want to know, is there any way telling appassembler to put config files outside the jar or any other way  to solve the problem with the minor code change ?</p>\n<p>Although, it is possible using  -Dspring.config.location but, every time  I compile the project I have to change the script which is created by the appassembler.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4200044,"reputation":3510,"user_id":3440376,"display_name":"tan9"},"score":0,"creation_date":1481033708,"post_id":40994851,"comment_id":69203374,"body_markdown":"Setting classpath through [`loader.path`](http://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#executable-jar-launching) application property instead of JVM options `-cp`.","body":"Setting classpath through <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#executable-jar-launching\" rel=\"nofollow noreferrer\"><code>loader.path</code></a> application property instead of JVM options <code>-cp</code>."},{"owner":{"account_id":360076,"reputation":1193,"user_id":701867,"accept_rate":70,"display_name":"James Baker"},"score":0,"creation_date":1481035425,"post_id":40994851,"comment_id":69204464,"body_markdown":"I&#39;ve tried that, but the Component Scan doesn&#39;t seem to pick up the components in the additional JARs (I can&#39;t tell if the components could then find the interface as they&#39;re not being picked up to check!). I tried setting it on the command line (`-Dloader.path=...`) and through application.properties but in neither case did it pick up my additional components.","body":"I&#39;ve tried that, but the Component Scan doesn&#39;t seem to pick up the components in the additional JARs (I can&#39;t tell if the components could then find the interface as they&#39;re not being picked up to check!). I tried setting it on the command line (<code>-Dloader.path=...</code>) and through application.properties but in neither case did it pick up my additional components."},{"owner":{"account_id":4200044,"reputation":3510,"user_id":3440376,"display_name":"tan9"},"score":0,"creation_date":1481038871,"post_id":40994851,"comment_id":69207132,"body_markdown":"Did you set the `loader.path` in the right format? It is a comma-separated list, unlike java `-cp` which uses `:` or `;` as separator dependent on operating system.","body":"Did you set the <code>loader.path</code> in the right format? It is a comma-separated list, unlike java <code>-cp</code> which uses <code>:</code> or <code>;</code> as separator dependent on operating system."},{"owner":{"account_id":360076,"reputation":1193,"user_id":701867,"accept_rate":70,"display_name":"James Baker"},"score":0,"creation_date":1481038941,"post_id":40994851,"comment_id":69207181,"body_markdown":"Yes, I tried a single JAR with a path relative to the directory I was running from.","body":"Yes, I tried a single JAR with a path relative to the directory I was running from."},{"owner":{"account_id":4200044,"reputation":3510,"user_id":3440376,"display_name":"tan9"},"score":1,"creation_date":1481042236,"post_id":40994851,"comment_id":69209462,"body_markdown":"Sorry, you have to explicitly specify the `ProperitesLauncher` to take effect. Try to change the command from\n`java -Dloader.path=... -jar myjar.jar` to\n`java -Dloader.path=xxx -Dloader.debug=true -cp myjar.jar org.springframework.boot.loader.PropertiesLauncher`.","body":"Sorry, you have to explicitly specify the <code>ProperitesLauncher</code> to take effect. Try to change the command from <code>java -Dloader.path=... -jar myjar.jar</code> to <code>java -Dloader.path=xxx -Dloader.debug=true -cp myjar.jar org.springframework.boot.loader.PropertiesLauncher</code>."},{"owner":{"account_id":360076,"reputation":1193,"user_id":701867,"accept_rate":70,"display_name":"James Baker"},"score":0,"creation_date":1481124960,"post_id":40994851,"comment_id":69249968,"body_markdown":"That seemed to work, thanks!","body":"That seemed to work, thanks!"},{"owner":{"account_id":4200044,"reputation":3510,"user_id":3440376,"display_name":"tan9"},"score":0,"creation_date":1481133161,"post_id":40994851,"comment_id":69255412,"body_markdown":"I just reorganized the answer in comment to a formal and more detailed *Answer* below, for others to reference to easier. :)","body":"I just reorganized the answer in comment to a formal and more detailed <i>Answer</i> below, for others to reference to easier. :)"}],"answers":[{"tags":[],"owner":{"account_id":4200044,"reputation":3510,"user_id":3440376,"display_name":"tan9"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1655187313,"creation_date":1481133047,"answer_id":41024100,"question_id":40994851,"body_markdown":"Spring Boot executable jar uses its own [ClassLoader created by a Launcher](https://github.com/spring-projects/spring-boot/blob/v1.4.2.RELEASE/spring-boot-tools/spring-boot-loader/src/main/java/org/springframework/boot/loader/Launcher.java#L49) at runtime. Classes loaded by System ClassLoader (specified by `-cp` classpaths) are not aware of classes inside the executable jar which are loaded by a child ClassLoader. Hence the ClassNotFoundException in your case.\r\n\r\nExecutable jars in `JAR` or `WAR` layout use simple `Launcher`s, that only care about classes packaged in the bundle. You have to use [`PropertiesLauncher`](http://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/html/executable-jar.html#executable-jar-property-launcher-features) to instruct Spring Boot&#39;s ClassLoader to load your classes by specifying [`loader.path`](http://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/html/executable-jar.html#executable-jar-property-launcher-features) application property in either way:\r\n\r\nMethod 1. Run PropertiesLauncher class directly:\r\n----\r\n\r\n    $ java -Dloader.path=... -cp myjar.jar org.springframework.boot.loader.PropertiesLauncher [args...]\r\n\r\nThis command will bypass the default Luncher (listed in the `Main-Class` entry in *myjar.jar!/META-INF/MANIFEST.MF*) in your executable jar/war and directly invoke the `PropertiesLauncher` class.\r\n\r\nMethod 2. Set PropertiesLauncher as default (by using [`ZIP`](http://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-configuration-layouts) layout)\r\n----\r\n\r\n__ZIP__ layout, as described in [Spring Boot documentation](http://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-configuration-layouts):\r\n\r\n&gt; Similar to __JAR__ layout, using `PropertiesLauncher`.\r\n\r\nPackaged executable in the layout will by default look for `loader.*` properties, so you can run it just like:\r\n\r\n    $ java -Dloader.path=... -jar myjar.jar [args...]\r\n\r\nFor Maven projects, setting layout to ZIP in your POM.xml:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n       &lt;!-- ... --&gt;\r\n       &lt;build&gt;\r\n          &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                  &lt;configuration&gt;\r\n                      &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                  &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n       &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nFor Gradle projects:\r\n\r\n&lt;!-- language: groovy --&gt;\r\n\r\n    springBoot {\r\n      layout = &#39;ZIP&#39;\r\n    }\r\n","title":"Spring Boot Executable JAR - Layout Changes break Classpath","body":"<p>Spring Boot executable jar uses its own <a href=\"https://github.com/spring-projects/spring-boot/blob/v1.4.2.RELEASE/spring-boot-tools/spring-boot-loader/src/main/java/org/springframework/boot/loader/Launcher.java#L49\" rel=\"nofollow noreferrer\">ClassLoader created by a Launcher</a> at runtime. Classes loaded by System ClassLoader (specified by <code>-cp</code> classpaths) are not aware of classes inside the executable jar which are loaded by a child ClassLoader. Hence the ClassNotFoundException in your case.</p>\n<p>Executable jars in <code>JAR</code> or <code>WAR</code> layout use simple <code>Launcher</code>s, that only care about classes packaged in the bundle. You have to use <a href=\"http://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/html/executable-jar.html#executable-jar-property-launcher-features\" rel=\"nofollow noreferrer\"><code>PropertiesLauncher</code></a> to instruct Spring Boot's ClassLoader to load your classes by specifying <a href=\"http://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/html/executable-jar.html#executable-jar-property-launcher-features\" rel=\"nofollow noreferrer\"><code>loader.path</code></a> application property in either way:</p>\n<h2>Method 1. Run PropertiesLauncher class directly:</h2>\n<pre><code>$ java -Dloader.path=... -cp myjar.jar org.springframework.boot.loader.PropertiesLauncher [args...]\n</code></pre>\n<p>This command will bypass the default Luncher (listed in the <code>Main-Class</code> entry in <em>myjar.jar!/META-INF/MANIFEST.MF</em>) in your executable jar/war and directly invoke the <code>PropertiesLauncher</code> class.</p>\n<h2>Method 2. Set PropertiesLauncher as default (by using <a href=\"http://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-configuration-layouts\" rel=\"nofollow noreferrer\"><code>ZIP</code></a> layout)</h2>\n<p><strong>ZIP</strong> layout, as described in <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-configuration-layouts\" rel=\"nofollow noreferrer\">Spring Boot documentation</a>:</p>\n<blockquote>\n<p>Similar to <strong>JAR</strong> layout, using <code>PropertiesLauncher</code>.</p>\n</blockquote>\n<p>Packaged executable in the layout will by default look for <code>loader.*</code> properties, so you can run it just like:</p>\n<pre><code>$ java -Dloader.path=... -jar myjar.jar [args...]\n</code></pre>\n<p>For Maven projects, setting layout to ZIP in your POM.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n   &lt;!-- ... --&gt;\n   &lt;build&gt;\n      &lt;plugins&gt;\n          &lt;plugin&gt;\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                  &lt;layout&gt;ZIP&lt;/layout&gt;\n              &lt;/configuration&gt;\n          &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>For Gradle projects:</p>\n<pre><code>springBoot {\n  layout = 'ZIP'\n}\n</code></pre>\n"}],"owner":{"account_id":360076,"reputation":1193,"user_id":701867,"accept_rate":70,"display_name":"James Baker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4741,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41024100,"answer_count":1,"score":2,"last_activity_date":1655187313,"creation_date":1481025483,"question_id":40994851,"body_markdown":"I have a Spring Boot application that allows the loading of additional components from the class path (if they are subclasses of an interface defined in my application). This worked great in Spring Boot 1.3.8, however I would like to upgrade to Spring Boot 1.4.2 but the [new layout of executable JARs][1] is causing some issues.\r\n\r\nWhen I now run my application with an additional JAR on the class path, I get a ClassNotFoundException for the interface I&#39;m trying to subclass. This suggests to me that although the application knows where my classes are in BOOT-INF, because they are not in a standard location the additional components can&#39;t find them.\r\n\r\nDoes anyone know how to work around this?\r\n\r\nI have tried the different layout options in spring-boot-maven-plugin, but none of them seem to do what I want.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#executable-jar-layout","title":"Spring Boot Executable JAR - Layout Changes break Classpath","body":"<p>I have a Spring Boot application that allows the loading of additional components from the class path (if they are subclasses of an interface defined in my application). This worked great in Spring Boot 1.3.8, however I would like to upgrade to Spring Boot 1.4.2 but the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#executable-jar-layout\" rel=\"nofollow noreferrer\">new layout of executable JARs</a> is causing some issues.</p>\n\n<p>When I now run my application with an additional JAR on the class path, I get a ClassNotFoundException for the interface I'm trying to subclass. This suggests to me that although the application knows where my classes are in BOOT-INF, because they are not in a standard location the additional components can't find them.</p>\n\n<p>Does anyone know how to work around this?</p>\n\n<p>I have tried the different layout options in spring-boot-maven-plugin, but none of them seem to do what I want.</p>\n"},{"tags":["java","http","authentication","get"],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655187065,"creation_date":1655184310,"answer_id":72611884,"question_id":72607653,"body_markdown":"Please use something like this:\r\n\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            URL url;\r\n            try {\r\n                url = new URL(&quot;https://api.company.com/api/auth?username=&lt;username&gt;&amp;secret=&lt;secret&gt;&quot;);\r\n                HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\r\n                con.setRequestMethod(&quot;GET&quot;);\r\n                con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    \r\n                int status = con.getResponseCode();\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                String inputLine;\r\n                StringBuilder content = new StringBuilder();\r\n                while ((inputLine = in.readLine()) != null) {\r\n                    content.append(inputLine);\r\n                }\r\n                in.close();\r\n                con.disconnect();\r\n                System.out.println(&quot;Response status: &quot; + status);\r\n                System.out.println(content.toString());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nOr\r\n\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String params = &quot;username=&lt;username&gt;&amp;secret=&lt;secret&gt;&quot;;\r\n    \r\n            CloseableHttpClient httpClient = HttpClientBuilder.create().build();\r\n            HttpGet request = new HttpGet(&quot;https://api.company.com/api/auth?&quot; + params);\r\n            request.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            CloseableHttpResponse response = null;\r\n            try {\r\n                response = httpClient.execute(request);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(response.getStatusLine().getStatusCode());\r\n            try {\r\n                System.out.println(response.getEntity().getContent());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java HTTP GET for bearer token?","body":"<p>Please use something like this:</p>\n<pre><code>import javax.net.ssl.HttpsURLConnection;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        URL url;\n        try {\n            url = new URL(&quot;https://api.company.com/api/auth?username=&lt;username&gt;&amp;secret=&lt;secret&gt;&quot;);\n            HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\n            con.setRequestMethod(&quot;GET&quot;);\n            con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n            int status = con.getResponseCode();\n            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n            String inputLine;\n            StringBuilder content = new StringBuilder();\n            while ((inputLine = in.readLine()) != null) {\n                content.append(inputLine);\n            }\n            in.close();\n            con.disconnect();\n            System.out.println(&quot;Response status: &quot; + status);\n            System.out.println(content.toString());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Or</p>\n<pre><code>import org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\n\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) {\n        String params = &quot;username=&lt;username&gt;&amp;secret=&lt;secret&gt;&quot;;\n\n        CloseableHttpClient httpClient = HttpClientBuilder.create().build();\n        HttpGet request = new HttpGet(&quot;https://api.company.com/api/auth?&quot; + params);\n        request.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n        CloseableHttpResponse response = null;\n        try {\n            response = httpClient.execute(request);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        System.out.println(response.getStatusLine().getStatusCode());\n        try {\n            System.out.println(response.getEntity().getContent());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3022376,"reputation":151,"user_id":2563087,"display_name":"user2563087"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1655187065,"creation_date":1655145838,"question_id":72607653,"body_markdown":"I&#39;d like to get a bearer token with Java. My API reference says to do a GET with curl:\r\n\r\n    curl -G &quot;https://api.company.com/api/auth&quot; --data-urlencode &quot;username=&lt;username&gt;&quot; --\r\n    data-urlencode &quot;secret=&lt;secret&gt;&quot;\r\n\r\nThen, extract the “Value” property or the bearer token from the returned JSON object.\r\n\r\nWhat is the equivalent way to do this with java 8?","title":"Java HTTP GET for bearer token?","body":"<p>I'd like to get a bearer token with Java. My API reference says to do a GET with curl:</p>\n<pre><code>curl -G &quot;https://api.company.com/api/auth&quot; --data-urlencode &quot;username=&lt;username&gt;&quot; --\ndata-urlencode &quot;secret=&lt;secret&gt;&quot;\n</code></pre>\n<p>Then, extract the “Value” property or the bearer token from the returned JSON object.</p>\n<p>What is the equivalent way to do this with java 8?</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1391963149,"post_id":21661611,"comment_id":32740823,"body_markdown":"Terminating condition on your title, and your question don&#39;t match.","body":"Terminating condition on your title, and your question don&#39;t match."},{"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"score":0,"creation_date":1391963163,"post_id":21661611,"comment_id":32740825,"body_markdown":"Hint: where are you _checking_ for -1 (or 0, or whatever), and what are you doing to exit the loop when you see it?","body":"Hint: where are you <i>checking</i> for -1 (or 0, or whatever), and what are you doing to exit the loop when you see it?"},{"owner":{"account_id":345285,"reputation":2175,"user_id":678095,"accept_rate":95,"display_name":"Aram Gevorgyan"},"score":0,"creation_date":1391963176,"post_id":21661611,"comment_id":32740829,"body_markdown":"oddCount&gt;=0&amp;&amp;evenCount&gt;=0 is always true","body":"oddCount&gt;=0&amp;&amp;evenCount&gt;=0 is always true"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391964827,"creation_date":1391963395,"answer_id":21661684,"question_id":21661611,"body_markdown":"There are a few problems here.\r\n\r\nFirst, since you never decrease `oddCount` and `evenCount`, the condition `oddCount&gt;=0&amp;&amp;evenCount&gt;=0` will always be `true`.\r\n\r\nSecond, you have an empty loop that loops endlessly, since it&#39;s condition is `true` and it has no body: `while (temp&gt;0);`\r\n\r\nI&#39;d just take out the first loop, which is redundant, and use a `do while` loop:\r\n\r\n    int oddCount = 0;\r\n    int evenCount = 0;\r\n    Scanner in = new Scanner(System.in);\r\n    do {\r\n        System.out.print(&quot;Enter an integer: &quot;);\r\n        int temp = in.nextInt();\r\n        if (temp &gt; 0) {\r\n            if (temp % 2==0) {\r\n                evenCount++;\r\n            } else {\r\n                oddCount++;\r\n            }\r\n         }\r\n     } while (temp &gt; 0);\r\n\r\n     System.out.println(&quot;Number of even integers: &quot; + evenCount);\r\n     System.out.println(&quot;Number of odd integers: &quot;  + oddCount);\r\n","title":"Count even and odd intergers until 0 is encountered","body":"<p>There are a few problems here.</p>\n\n<p>First, since you never decrease <code>oddCount</code> and <code>evenCount</code>, the condition <code>oddCount&gt;=0&amp;&amp;evenCount&gt;=0</code> will always be <code>true</code>.</p>\n\n<p>Second, you have an empty loop that loops endlessly, since it's condition is <code>true</code> and it has no body: <code>while (temp&gt;0);</code></p>\n\n<p>I'd just take out the first loop, which is redundant, and use a <code>do while</code> loop:</p>\n\n<pre><code>int oddCount = 0;\nint evenCount = 0;\nScanner in = new Scanner(System.in);\ndo {\n    System.out.print(\"Enter an integer: \");\n    int temp = in.nextInt();\n    if (temp &gt; 0) {\n        if (temp % 2==0) {\n            evenCount++;\n        } else {\n            oddCount++;\n        }\n     }\n } while (temp &gt; 0);\n\n System.out.println(\"Number of even integers: \" + evenCount);\n System.out.println(\"Number of odd integers: \"  + oddCount);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":222134,"reputation":2003,"user_id":480536,"accept_rate":100,"display_name":"BadSkillz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391963831,"creation_date":1391963431,"answer_id":21661695,"question_id":21661611,"body_markdown":"Your loop will always continue because `while (oddCount&gt;=0&amp;&amp;evenCount&gt;=0)` will always be true in your case. Try it like this:\r\n\r\n    int oddCount = 0, evenCount = 0;\r\n    Scanner in = new Scanner(System.in);\r\n    boolean continue = true;\r\n    while (continue){\r\n            System.out.print(&quot;Enter an integer: &quot;);\r\n            int temp = in.nextInt();\r\n            if (temp&gt;0) {\r\n                if (temp%2==0)\r\n                    evenCount++;\r\n                else \r\n                    oddCount++;\r\n            }\r\n            else {\r\n                System.out.println(&quot;Number of even integers: &quot;+evenCount);\r\n                System.out.println(&quot;Number of odd integers: &quot; +oddCount);\r\n                continue = false;\r\n            }\r\n        }","title":"Count even and odd intergers until 0 is encountered","body":"<p>Your loop will always continue because <code>while (oddCount&gt;=0&amp;&amp;evenCount&gt;=0)</code> will always be true in your case. Try it like this:</p>\n\n<pre><code>int oddCount = 0, evenCount = 0;\nScanner in = new Scanner(System.in);\nboolean continue = true;\nwhile (continue){\n        System.out.print(\"Enter an integer: \");\n        int temp = in.nextInt();\n        if (temp&gt;0) {\n            if (temp%2==0)\n                evenCount++;\n            else \n                oddCount++;\n        }\n        else {\n            System.out.println(\"Number of even integers: \"+evenCount);\n            System.out.println(\"Number of odd integers: \" +oddCount);\n            continue = false;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3106249,"reputation":6417,"user_id":2628956,"accept_rate":100,"display_name":"Rakesh KR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391963748,"creation_date":1391963748,"answer_id":21661763,"question_id":21661611,"body_markdown":"I think using do While loop will also prevent your isses,\r\n\r\n    int oddCount = 0;\r\n    int evenCount = 0;\r\n    Scanner in = new Scanner(System.in);\r\n    do {\r\n        System.out.print(&quot;Enter an integer: &quot;);\r\n        int temp = in.nextInt();\r\n        if (temp &gt; 0) {\r\n            (temp % 2==0)? evenCount++:oddCount++;\r\n        }\r\n     } while (temp &gt; 0);","title":"Count even and odd intergers until 0 is encountered","body":"<p>I think using do While loop will also prevent your isses,</p>\n\n<pre><code>int oddCount = 0;\nint evenCount = 0;\nScanner in = new Scanner(System.in);\ndo {\n    System.out.print(\"Enter an integer: \");\n    int temp = in.nextInt();\n    if (temp &gt; 0) {\n        (temp % 2==0)? evenCount++:oddCount++;\n    }\n } while (temp &gt; 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3925071,"reputation":643,"user_id":3245887,"display_name":"Mohammed Alokshiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391963939,"creation_date":1391963939,"answer_id":21661818,"question_id":21661611,"body_markdown":"Your code reads just one integer, then stuck at this line: `while (temp&gt;0);`\r\n\r\nThe code below solve your problem:\r\n\r\n    int oddCount = 0, evenCount = 0, temp;\r\n    Scanner in = new Scanner(System.in);\r\n    System.out.print(&quot;Enter an integer: &quot;);\r\n    while (true) {\r\n    \ttemp = in.nextInt();\r\n    \tif (temp &lt; 0) {\r\n    \t\tbreak;\r\n    \t} else if (temp % 2 == 0) {\r\n    \t\tevenCount = evenCount + 1;\r\n    \t} else {\r\n    \t\toddCount = oddCount + 1;\r\n    \t}\r\n    }\r\n    System.out.println(&quot;Number of even integers: &quot; + evenCount);\r\n    System.out.println(&quot;Number of odd integers: &quot; + oddCount);","title":"Count even and odd intergers until 0 is encountered","body":"<p>Your code reads just one integer, then stuck at this line: <code>while (temp&gt;0);</code></p>\n\n<p>The code below solve your problem:</p>\n\n<pre><code>int oddCount = 0, evenCount = 0, temp;\nScanner in = new Scanner(System.in);\nSystem.out.print(\"Enter an integer: \");\nwhile (true) {\n    temp = in.nextInt();\n    if (temp &lt; 0) {\n        break;\n    } else if (temp % 2 == 0) {\n        evenCount = evenCount + 1;\n    } else {\n        oddCount = oddCount + 1;\n    }\n}\nSystem.out.println(\"Number of even integers: \" + evenCount);\nSystem.out.println(\"Number of odd integers: \" + oddCount);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391965553,"creation_date":1391965194,"answer_id":21662072,"question_id":21661611,"body_markdown":"Try this..\r\n\r\n    Scanner s=new Scanner(System.in);\r\n    int evenCount=0, oddCount=0;\r\n    while(true)\r\n    {\r\n    System.out.println(&quot;Enter a number&quot;);\r\n    int n=s.nextInt();\r\n       if(n&lt;0) break;\r\n       if(n%2==0) evenCount+=n;\r\n       else oddCount+=n;\r\n    }\r\n    System.out.println(&quot;even count &quot;+evenCount);\r\n    System.out.println(&quot;odd count &quot;+oddCount);\r\n","title":"Count even and odd intergers until 0 is encountered","body":"<p>Try this..</p>\n\n<pre><code>Scanner s=new Scanner(System.in);\nint evenCount=0, oddCount=0;\nwhile(true)\n{\nSystem.out.println(\"Enter a number\");\nint n=s.nextInt();\n   if(n&lt;0) break;\n   if(n%2==0) evenCount+=n;\n   else oddCount+=n;\n}\nSystem.out.println(\"even count \"+evenCount);\nSystem.out.println(\"odd count \"+oddCount);\n</code></pre>\n"}],"owner":{"account_id":3991118,"reputation":11,"user_id":3290019,"display_name":"user3290019"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7418,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1655186790,"creation_date":1391963030,"question_id":21661611,"body_markdown":"Here is what I have to do:&lt;br&gt;\r\n&gt; &quot;Write a segment of code that reads a sequence of integers from the keyboard until the user enters a negative number.  It should then output a count of the number of even integers and the number of odd integers read (not including the final negative value in either count).  Remember - 0 is an even number.  For example, if the sequence is: \r\n  &lt;pre&gt;\r\n2\r\n7\r\n15\r\n5\r\n88\r\n1243\r\n104\r\n-1\r\n&lt;/pre&gt;\r\nThen the output should be\r\n &lt;pre&gt;\r\nNumber of even integers: 3\r\nNumber of odd integers: 4\r\n&lt;/pre&gt;\r\n\r\nMy code just keeps going even after inputting -1. I have a feeling I am missing a `{ `somewhere or wrote the code wrong. Here is my code:\r\n\r\n    int oddCount = 0, evenCount = 0;\r\n    Scanner in = new Scanner(System.in);\r\n    while (oddCount&gt;=0&amp;&amp;evenCount&gt;=0){\r\n\t\t\tSystem.out.print(&quot;Enter an integer: &quot;);\r\n\t\t\tint temp = in.nextInt();\r\n\t\t\tif (temp&gt;0) {\r\n\t\t\t\tif (temp%2==0)\r\n\t\t\t\t\tevenCount = evenCount + 1;\r\n\t\t\t\telse oddCount = oddCount + 1;\r\n\t\t\t\twhile (temp&gt;0);\r\n\t\t\tSystem.out.println(&quot;Number of even integers: &quot;+evenCount);\r\n\t\t\tSystem.out.println(&quot;Number of odd integers: &quot; +oddCount);\r\n\t\t\t}\r\n\t\t} ","title":"Count even and odd intergers until 0 is encountered","body":"<p>Here is what I have to do:<br></p>\n\n<blockquote>\n  <p>\"Write a segment of code that reads a sequence of integers from the keyboard until the user enters a negative number.  It should then output a count of the number of even integers and the number of odd integers read (not including the final negative value in either count).  Remember - 0 is an even number.  For example, if the sequence is: \n  <pre>\n2\n7\n15\n5\n88\n1243\n104\n-1\n</pre>\n  Then the output should be\n <pre>\nNumber of even integers: 3\nNumber of odd integers: 4\n</pre></p>\n</blockquote>\n\n<p>My code just keeps going even after inputting -1. I have a feeling I am missing a <code>{</code>somewhere or wrote the code wrong. Here is my code:</p>\n\n<pre><code>int oddCount = 0, evenCount = 0;\nScanner in = new Scanner(System.in);\nwhile (oddCount&gt;=0&amp;&amp;evenCount&gt;=0){\n        System.out.print(\"Enter an integer: \");\n        int temp = in.nextInt();\n        if (temp&gt;0) {\n            if (temp%2==0)\n                evenCount = evenCount + 1;\n            else oddCount = oddCount + 1;\n            while (temp&gt;0);\n        System.out.println(\"Number of even integers: \"+evenCount);\n        System.out.println(\"Number of odd integers: \" +oddCount);\n        }\n    } \n</code></pre>\n"},{"tags":["java","android","c++","java-native-interface","djinni"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":3,"creation_date":1649709349,"post_id":71833851,"comment_id":126940631,"body_markdown":"Why not just an array of bytes?  Why complicate things?  You don&#39;t need to pass the array from Java to C, just have C create the array.  Worrying about a single memcopy is really premature optimization.","body":"Why not just an array of bytes?  Why complicate things?  You don&#39;t need to pass the array from Java to C, just have C create the array.  Worrying about a single memcopy is really premature optimization."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1649718067,"post_id":71833851,"comment_id":126942664,"body_markdown":"I have to agree with @GabeSechan: keep it simple and use `byte` arrays.  `public native byte [] getDataFromNativeCode(...);`  You make it more complicated only ***after*** profiling your code proves the copying of data into the Java `byte[]` is a bottleneck.  And guess what?  There&#39;s a good chance your &quot;improved&quot; code won&#39;t be any faster.  See https://stackoverflow.com/questions/26603285/return-byte-array-in-jni-android","body":"I have to agree with @GabeSechan: keep it simple and use <code>byte</code> arrays.  <code>public native byte [] getDataFromNativeCode(...);</code>  You make it more complicated only <b><i>after</i></b> profiling your code proves the copying of data into the Java <code>byte[]</code> is a bottleneck.  And guess what?  There&#39;s a good chance your &quot;improved&quot; code won&#39;t be any faster.  See <a href=\"https://stackoverflow.com/questions/26603285/return-byte-array-in-jni-android\" title=\"return byte array in jni android\">stackoverflow.com/questions/26603285/&hellip;</a>"},{"owner":{"account_id":896755,"reputation":384,"user_id":933838,"accept_rate":50,"display_name":"Josh A."},"score":0,"creation_date":1649731506,"post_id":71833851,"comment_id":126944830,"body_markdown":"I&#39;m not worried about the CPU cycles necessary to do the memcpy, I&#39;m worried about the extra memory usage. Based on these responses, I am relaxing my approach a bit. However, I&#39;ve been reading the JNI spec and I&#39;m struggling to find what types are guaranteed to be copied (or not).","body":"I&#39;m not worried about the CPU cycles necessary to do the memcpy, I&#39;m worried about the extra memory usage. Based on these responses, I am relaxing my approach a bit. However, I&#39;ve been reading the JNI spec and I&#39;m struggling to find what types are guaranteed to be copied (or not)."}],"answers":[{"tags":[],"owner":{"account_id":1020457,"reputation":26,"user_id":1030940,"display_name":"finalpatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655186266,"creation_date":1655186266,"answer_id":72612137,"question_id":71833851,"body_markdown":"Snap&#39;s Djinni has built-in support for passing large buffers with and without ownership semantics. Checkout this link for details:\r\n\r\nhttps://github.com/Snapchat/djinni#exposing-data-across-language-boundary-with-dataview","title":"Passing large buffers from C++ to Java on Android","body":"<p>Snap's Djinni has built-in support for passing large buffers with and without ownership semantics. Checkout this link for details:</p>\n<p><a href=\"https://github.com/Snapchat/djinni#exposing-data-across-language-boundary-with-dataview\" rel=\"nofollow noreferrer\">https://github.com/Snapchat/djinni#exposing-data-across-language-boundary-with-dataview</a></p>\n"}],"owner":{"account_id":896755,"reputation":384,"user_id":933838,"accept_rate":50,"display_name":"Josh A."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655186266,"creation_date":1649708497,"question_id":71833851,"body_markdown":"I&#39;m trying to figure out the best way to pass large amounts (20Kb - 2MB) of data from C++ to Java on Android. I&#39;m using [Djinni][1] to generate as much of the bridge code as possible. The options I&#39;m considering are:\r\n\r\n1. Use [AHardwareBuffer][2] - looks like an abstraction around shared memory and is intended primarily for EGL images, and other GLES/Vulkan rendering needs but could be used here. I&#39;m uneasy because of the word &quot;hardware&quot; here as I&#39;m not interfacing with hardware. Perhaps &quot;hardware&quot; just implies this memory can be safely mapped to a device and my use case is _also_ ok? This solution would require hand coding some JNI code.\r\n\r\n1. Have Java provide the buffer - If java passes C++ `bytes[]` the data isn’t copied, only the address of the array. This is clunky as Java has to first ask C++ how big the buffer should be before allocating it. This solution could use auto-generated JNI code.\r\n\r\n1. Use [NewDirectByteBuffer][3] / j[ava.nio.ByteBuffer.allocateDirect][4] -  [Sources][5], without citations, claim that this is a bad option as its hard to manage and performs poorly for small amounts of data. It is what [Google recommends][6] though. This solution would require hand coding some JNI code.\r\n\r\nI&#39;m leaning towards option #2 as it doesn&#39;t require handwriting any JNI code and seems &quot;good enough&quot;. I&#39;m also assuming that this approach would work well in reverse (i.e. no/low overhead sharing of a buffer from Java to C++). Hoping to get y&#39;alls thoughts here before prototyping/benchmarking as doing so will be a somewhat sizable investment.\r\n\r\n  [1]: https://github.com/dropbox/djinni\r\n  [2]: https://developer.android.com/ndk/reference/group/a-hardware-buffer\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#NewDirectByteBuffer\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\r\n  [5]: https://stackoverflow.com/a/28799276/933838\r\n  [6]: https://developer.android.com/training/articles/perf-jni#faq:-how-do-i-share-raw-data-with-native-code","title":"Passing large buffers from C++ to Java on Android","body":"<p>I'm trying to figure out the best way to pass large amounts (20Kb - 2MB) of data from C++ to Java on Android. I'm using <a href=\"https://github.com/dropbox/djinni\" rel=\"nofollow noreferrer\">Djinni</a> to generate as much of the bridge code as possible. The options I'm considering are:</p>\n<ol>\n<li><p>Use <a href=\"https://developer.android.com/ndk/reference/group/a-hardware-buffer\" rel=\"nofollow noreferrer\">AHardwareBuffer</a> - looks like an abstraction around shared memory and is intended primarily for EGL images, and other GLES/Vulkan rendering needs but could be used here. I'm uneasy because of the word &quot;hardware&quot; here as I'm not interfacing with hardware. Perhaps &quot;hardware&quot; just implies this memory can be safely mapped to a device and my use case is <em>also</em> ok? This solution would require hand coding some JNI code.</p>\n</li>\n<li><p>Have Java provide the buffer - If java passes C++ <code>bytes[]</code> the data isn’t copied, only the address of the array. This is clunky as Java has to first ask C++ how big the buffer should be before allocating it. This solution could use auto-generated JNI code.</p>\n</li>\n<li><p>Use <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#NewDirectByteBuffer\" rel=\"nofollow noreferrer\">NewDirectByteBuffer</a> / j<a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">ava.nio.ByteBuffer.allocateDirect</a> -  <a href=\"https://stackoverflow.com/a/28799276/933838\">Sources</a>, without citations, claim that this is a bad option as its hard to manage and performs poorly for small amounts of data. It is what <a href=\"https://developer.android.com/training/articles/perf-jni#faq:-how-do-i-share-raw-data-with-native-code\" rel=\"nofollow noreferrer\">Google recommends</a> though. This solution would require hand coding some JNI code.</p>\n</li>\n</ol>\n<p>I'm leaning towards option #2 as it doesn't require handwriting any JNI code and seems &quot;good enough&quot;. I'm also assuming that this approach would work well in reverse (i.e. no/low overhead sharing of a buffer from Java to C++). Hoping to get y'alls thoughts here before prototyping/benchmarking as doing so will be a somewhat sizable investment.</p>\n"},{"tags":["java","spring","database","hibernate","sessionfactory"],"comments":[{"owner":{"account_id":401412,"reputation":548,"user_id":767949,"accept_rate":20,"display_name":"null"},"score":0,"creation_date":1631874824,"post_id":69204072,"comment_id":122347047,"body_markdown":"LazyInitializationException is thrown when you are trying to access the relational entity that has been marked as LAZY loadable.","body":"LazyInitializationException is thrown when you are trying to access the relational entity that has been marked as LAZY loadable."},{"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"score":0,"creation_date":1631909561,"post_id":69204072,"comment_id":122360325,"body_markdown":"By the first session factory it does not throw any error but the same entity with the second session factory it throws LazyInitializationException - no session.","body":"By the first session factory it does not throw any error but the same entity with the second session factory it throws LazyInitializationException - no session."},{"owner":{"account_id":401412,"reputation":548,"user_id":767949,"accept_rate":20,"display_name":"null"},"score":0,"creation_date":1631924272,"post_id":69204072,"comment_id":122362957,"body_markdown":"Can you share the code for entity model and loading the entity","body":"Can you share the code for entity model and loading the entity"},{"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"score":0,"creation_date":1632076980,"post_id":69204072,"comment_id":122390113,"body_markdown":"It happened with all entity models of the projects. With FIRST SESSION FACTORY it is working properly but don&#39;t know why when i used the second session factory it returns this error.","body":"It happened with all entity models of the projects. With FIRST SESSION FACTORY it is working properly but don&#39;t know why when i used the second session factory it returns this error."},{"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"score":0,"creation_date":1632167994,"post_id":69204072,"comment_id":122415884,"body_markdown":"Accodring to me, so far i come to know that the sessionHolder (in HibernateTransactionObject class),it is null for the second transaction manager(i.e. for second session factory)whereas for first transacion manager, the session holder is not null.And so by using load() with secondsesionfactory the session gets closed due to sessionHolder and gives me this lazy exception. But don&#39;t know why sessionHolder is null????","body":"Accodring to me, so far i come to know that the sessionHolder (in HibernateTransactionObject class),it is null for the second transaction manager(i.e. for second session factory)whereas for first transacion manager, the session holder is not null.And so by using load() with secondsesionfactory the session gets closed due to sessionHolder and gives me this lazy exception. But don&#39;t know why sessionHolder is null????"}],"answers":[{"tags":[],"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655186095,"creation_date":1655186095,"answer_id":72612123,"question_id":69204072,"body_markdown":"Finally, I got the solution of the above problem. you need to create open session in view for second session factory also and to create the open session in view for second session factory.In web.xml configuration of open session in view for both session factories is required.","title":"Using load() by second session factory in my project throws org.hibernate.LazyInitializationException: could not initialize proxy - no session error","body":"<p>Finally, I got the solution of the above problem. you need to create open session in view for second session factory also and to create the open session in view for second session factory.In web.xml configuration of open session in view for both session factories is required.</p>\n"}],"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72612123,"answer_count":1,"score":0,"last_activity_date":1655186095,"creation_date":1631777301,"question_id":69204072,"body_markdown":"I implemented the two session factories in my spring hibernate project.\r\n\r\nwhy is it happening, when i use the first session factory for load() it works fine but when i use second session factory for load method it returns the org.hibernate.LazyInitializationException: could not initialize proxy - no session  error.","title":"Using load() by second session factory in my project throws org.hibernate.LazyInitializationException: could not initialize proxy - no session error","body":"<p>I implemented the two session factories in my spring hibernate project.</p>\n<p>why is it happening, when i use the first session factory for load() it works fine but when i use second session factory for load method it returns the org.hibernate.LazyInitializationException: could not initialize proxy - no session  error.</p>\n"},{"tags":["java","unit-testing","mockito","stubbing","argument-matcher"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1446042329,"post_id":33393595,"comment_id":54578626,"body_markdown":"Please provide a full (but simple) working example that demonstrate the problem.","body":"Please provide a full (but simple) working example that demonstrate the problem."},{"owner":{"account_id":910649,"reputation":1776,"user_id":944600,"accept_rate":58,"display_name":"Shailesh Vaishampayan"},"score":0,"creation_date":1446043241,"post_id":33393595,"comment_id":54579332,"body_markdown":"i cannot provide actual code as it is licenced to company i am working for. However I have given minimal relavent code . I can explain more if you don&#39;t find any of the above code explanatory enough.","body":"i cannot provide actual code as it is licenced to company i am working for. However I have given minimal relavent code . I can explain more if you don&#39;t find any of the above code explanatory enough."}],"answers":[{"tags":[],"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446042857,"creation_date":1446042857,"answer_id":33393915,"question_id":33393595,"body_markdown":"Mockito has an eq() method\r\n\r\nYou could try:\r\n\r\n    import static org.mockito.Matchers.eq;\r\n\r\n    .....\r\n\r\n    when(myRepository.getMyClassInstances(eq(&quot;1234&quot;), eq(200L), eq(stubbedList)).thenReturn(stubbedMyClassInstanceList);","title":"Mockito doesn&#39;t correctly stub methods taking list as argument","body":"<p>Mockito has an eq() method</p>\n\n<p>You could try:</p>\n\n<pre><code>import static org.mockito.Matchers.eq;\n\n.....\n\nwhen(myRepository.getMyClassInstances(eq(\"1234\"), eq(200L), eq(stubbedList)).thenReturn(stubbedMyClassInstanceList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5278604,"reputation":795,"user_id":4214684,"display_name":"RCB"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1508938593,"creation_date":1446042884,"answer_id":33393927,"question_id":33393595,"body_markdown":"Mockito naturally uses `equals()` for argument matching. The `equals()` method in `List&lt;T&gt;` specifies that two lists are defined to be equal if they contain the same elements in the same order.\r\n\r\nYour custom argument matcher, that you say works, is not considering order.\r\n\r\nSo maybe the 1 and 3 are in the wrong order in the `List&lt;T&gt;`?","title":"Mockito doesn&#39;t correctly stub methods taking list as argument","body":"<p>Mockito naturally uses <code>equals()</code> for argument matching. The <code>equals()</code> method in <code>List&lt;T&gt;</code> specifies that two lists are defined to be equal if they contain the same elements in the same order.</p>\n\n<p>Your custom argument matcher, that you say works, is not considering order.</p>\n\n<p>So maybe the 1 and 3 are in the wrong order in the <code>List&lt;T&gt;</code>?</p>\n"},{"tags":[],"owner":{"display_name":"user3184550"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655185059,"creation_date":1655184553,"answer_id":72611919,"question_id":33393595,"body_markdown":"You can check equality by yourself if your list consists of distinct elements:\r\n\r\n\t\tMockito.when(myRepository.getMyClassInstances(&quot;1234&quot;, 200L, Mockito.anyList())).thenAnswer(new Answer&lt;List&lt;MyClass&gt;&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic List&lt;MyClass&gt; answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t\t\tSet&lt;MyClass&gt; argSet = invocation.getArgument(2).stream().collect(Collectors.toSet());\r\n\t\t\t\tSet&lt;MyClass&gt; stubbedSet = stubbedList.stream().collect(Collectors.toSet());\r\n\t\t\t\tif (argSet.equals(stubbedSet)) {\r\n\t\t\t\t\treturn stubbedMyClassInstanceList;\r\n\t\t\t\t}else {\r\n\t\t\t\t\treturn myRepository.getMyClassInstances(&quot;1234&quot;, 200L, invocation.getArgument(2));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});","title":"Mockito doesn&#39;t correctly stub methods taking list as argument","body":"<p>You can check equality by yourself if your list consists of distinct elements:</p>\n<pre><code>    Mockito.when(myRepository.getMyClassInstances(&quot;1234&quot;, 200L, Mockito.anyList())).thenAnswer(new Answer&lt;List&lt;MyClass&gt;&gt;() {\n        @Override\n        public List&lt;MyClass&gt; answer(InvocationOnMock invocation) throws Throwable {\n            Set&lt;MyClass&gt; argSet = invocation.getArgument(2).stream().collect(Collectors.toSet());\n            Set&lt;MyClass&gt; stubbedSet = stubbedList.stream().collect(Collectors.toSet());\n            if (argSet.equals(stubbedSet)) {\n                return stubbedMyClassInstanceList;\n            }else {\n                return myRepository.getMyClassInstances(&quot;1234&quot;, 200L, invocation.getArgument(2));\n            }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":910649,"reputation":1776,"user_id":944600,"accept_rate":58,"display_name":"Shailesh Vaishampayan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13606,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":33393927,"answer_count":3,"score":6,"last_activity_date":1655185059,"creation_date":1446042065,"question_id":33393595,"body_markdown":"I am trying to mock a class and return a stubbed list of objects when a method on the mocked object is called. Lets consider following code :\r\n\r\n    interface MyRepositry{\r\n           public List&lt;MyClass&gt; getMyClassInstances(String str,Long id,List&lt;Integer&gt; statusList);\r\n    }\r\n\r\nI am mocking above method ivocation as follows :\r\n\r\n    when(myRepository.getMyClassInstances(&quot;1234&quot;, 200L, stubbedList)).thenReturn(stubbedMyClassInstanceList);\r\n\r\nwhere \r\n\r\n     stubbedList \r\nis the list I create by inserting two integers 1 and 3. In real call also I pass the list I construct which has integers 1 and 3. Point ot note here is stubbedList object and the list object in real call are different but always contain two integers 1 and 3.\r\n\r\n\r\n    stubbedMyClassInstanceList    \r\nis the stubbed list of MyClass instances.\r\n\r\nHowever mockito return an empty list when i run the test. I did some debugging and I guess mockito is not able to match the list object that I am using in \r\n\r\n \r\n          when(..).thenReturn(..)\r\n\r\ncall and in actual call and hence doesn&#39;t find the correct signature.\r\n\r\nI cannot use \r\n\r\n    anyList() \r\n\r\nmatcher as I always pass list of two integers (1 and 3).\r\n\r\nI have resolved the problem by using custom \r\n\r\n         ArgumentMatcher \r\n\r\nas follows :\r\n\r\n         class StatusMatcher extends ArgumentMatcher&lt;List&gt; {\r\n        public boolean matches(Object list) {\r\n            List statuses = ((List) list);\r\n            return (statuses.size() == 2 &amp;&amp; statuses.contains(1) &amp;&amp; statuses.contains(3));\r\n        }\r\n    }\r\n\r\nSo the question is :\r\n\r\n 1) Is my guess about why the stubbing/mocking not working correct?\r\n 2) and is the solution I have used correct?\r\n\r\n\r\n         ","title":"Mockito doesn&#39;t correctly stub methods taking list as argument","body":"<p>I am trying to mock a class and return a stubbed list of objects when a method on the mocked object is called. Lets consider following code :</p>\n\n<pre><code>interface MyRepositry{\n       public List&lt;MyClass&gt; getMyClassInstances(String str,Long id,List&lt;Integer&gt; statusList);\n}\n</code></pre>\n\n<p>I am mocking above method ivocation as follows :</p>\n\n<pre><code>when(myRepository.getMyClassInstances(\"1234\", 200L, stubbedList)).thenReturn(stubbedMyClassInstanceList);\n</code></pre>\n\n<p>where </p>\n\n<pre><code> stubbedList \n</code></pre>\n\n<p>is the list I create by inserting two integers 1 and 3. In real call also I pass the list I construct which has integers 1 and 3. Point ot note here is stubbedList object and the list object in real call are different but always contain two integers 1 and 3.</p>\n\n<pre><code>stubbedMyClassInstanceList    \n</code></pre>\n\n<p>is the stubbed list of MyClass instances.</p>\n\n<p>However mockito return an empty list when i run the test. I did some debugging and I guess mockito is not able to match the list object that I am using in </p>\n\n<pre><code>      when(..).thenReturn(..)\n</code></pre>\n\n<p>call and in actual call and hence doesn't find the correct signature.</p>\n\n<p>I cannot use </p>\n\n<pre><code>anyList() \n</code></pre>\n\n<p>matcher as I always pass list of two integers (1 and 3).</p>\n\n<p>I have resolved the problem by using custom </p>\n\n<pre><code>     ArgumentMatcher \n</code></pre>\n\n<p>as follows :</p>\n\n<pre><code>     class StatusMatcher extends ArgumentMatcher&lt;List&gt; {\n    public boolean matches(Object list) {\n        List statuses = ((List) list);\n        return (statuses.size() == 2 &amp;&amp; statuses.contains(1) &amp;&amp; statuses.contains(3));\n    }\n}\n</code></pre>\n\n<p>So the question is :</p>\n\n<p>1) Is my guess about why the stubbing/mocking not working correct?\n 2) and is the solution I have used correct?</p>\n"},{"tags":["java","time","vaadin","wait","sleep"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1655184863,"post_id":72609113,"comment_id":128265113,"body_markdown":"You should consider using a ProgressBar https://vaadin.com/docs/latest/ds/components/progress-bar","body":"You should consider using a ProgressBar <a href=\"https://vaadin.com/docs/latest/ds/components/progress-bar\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/ds/components/progress-bar</a>"}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655184869,"creation_date":1655184869,"answer_id":72611966,"question_id":72609113,"body_markdown":"Vaadin application as many other web applications are running in server and browser at the same time. User interaction and UI updates are based on HTTP requests. Hence you can&#39;t design the application based on fully synchronous processes.\r\n\r\nIf you need a pause, you need to run your process in a background thread using Executor, you need to enable also the [Push][1] functionality of Vaadin and use UI#access to periodically update the view from the background thread.\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/flow/advanced/server-push","title":"How to implement a short pause in Vaadin","body":"<p>Vaadin application as many other web applications are running in server and browser at the same time. User interaction and UI updates are based on HTTP requests. Hence you can't design the application based on fully synchronous processes.</p>\n<p>If you need a pause, you need to run your process in a background thread using Executor, you need to enable also the <a href=\"https://vaadin.com/docs/latest/flow/advanced/server-push\" rel=\"nofollow noreferrer\">Push</a> functionality of Vaadin and use UI#access to periodically update the view from the background thread.</p>\n"}],"owner":{"account_id":6352100,"reputation":11,"user_id":4930800,"display_name":"CM9"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655184869,"creation_date":1655154910,"question_id":72609113,"body_markdown":"I&#39;m trying to make a sorting algorithm visualizer, which visually displays the integers as bars and shows changes made to the array at each step. I am using Vaadin 23.1.0 and Java 17. All the sorting algorithms and other UI work properly so far, but I haven&#39;t been able to get it to pause briefly between steps. I&#39;ve tried using Thread.sleep and TimeUnit.SECONDS.Sleep, but in both cases, it doesn&#39;t pause between steps. It just has a long loading bar at the top of the view, then shows the end sorted array. \r\nCode:\r\n```\r\npublic class MainView extends VerticalLayout{\r\n//set up UI and display initial unsorted array\r\nbuttonBeginSort.addClickListener(e -&gt; {\r\n            bubbleSort();\r\n        });\r\n}\r\npublic void bubbleSort()\r\n{\r\n        for (int i = 0; i &lt; arr.length-1; i++)\r\n        {\r\n            for (int j = 0; j &lt; arr.length-i-1; j++)\r\n            {\r\n                if (arr[j] &gt; arr[j+1])\r\n                {\r\n                    swapIndexes(j,j+1);\r\n                }\r\n            }\r\n        }\r\n}\r\npublic void swapIndexes(int a, int b) {\r\n        //swap array elements\r\n        //display new, modified array\r\n\r\n        waitBetweenSteps();\r\n}\r\npublic void waitBetweenSteps()\r\n    {\r\n        try\r\n        {\r\n            Thread.sleep(500);\r\n        }catch (InterruptedException ex)\r\n        {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n}\r\n\r\n```\r\nWith all this considered, how can I make a brief pause in a Vaadin web app?","title":"How to implement a short pause in Vaadin","body":"<p>I'm trying to make a sorting algorithm visualizer, which visually displays the integers as bars and shows changes made to the array at each step. I am using Vaadin 23.1.0 and Java 17. All the sorting algorithms and other UI work properly so far, but I haven't been able to get it to pause briefly between steps. I've tried using Thread.sleep and TimeUnit.SECONDS.Sleep, but in both cases, it doesn't pause between steps. It just has a long loading bar at the top of the view, then shows the end sorted array.\nCode:</p>\n<pre><code>public class MainView extends VerticalLayout{\n//set up UI and display initial unsorted array\nbuttonBeginSort.addClickListener(e -&gt; {\n            bubbleSort();\n        });\n}\npublic void bubbleSort()\n{\n        for (int i = 0; i &lt; arr.length-1; i++)\n        {\n            for (int j = 0; j &lt; arr.length-i-1; j++)\n            {\n                if (arr[j] &gt; arr[j+1])\n                {\n                    swapIndexes(j,j+1);\n                }\n            }\n        }\n}\npublic void swapIndexes(int a, int b) {\n        //swap array elements\n        //display new, modified array\n\n        waitBetweenSteps();\n}\npublic void waitBetweenSteps()\n    {\n        try\n        {\n            Thread.sleep(500);\n        }catch (InterruptedException ex)\n        {\n            Thread.currentThread().interrupt();\n        }\n}\n\n</code></pre>\n<p>With all this considered, how can I make a brief pause in a Vaadin web app?</p>\n"},{"tags":["java","sql","json","elasticsearch","kibana"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1655183421,"post_id":72611752,"comment_id":128264803,"body_markdown":"how you decide top city or based on which field or param you decide top city","body":"how you decide top city or based on which field or param you decide top city"},{"owner":{"account_id":20765437,"reputation":27,"user_id":15249566,"display_name":"JuanCruz"},"score":0,"creation_date":1655184204,"post_id":72611752,"comment_id":128264958,"body_markdown":"@SagarPatel That query will return top cities id by count in desc order (thats the default order by ES), but i just want to limit the ocurrence by country in only 2 cities, so i can get top 2 cities from one country, then 2 cities from next country, etc","body":"@SagarPatel That query will return top cities id by count in desc order (thats the default order by ES), but i just want to limit the ocurrence by country in only 2 cities, so i can get top 2 cities from one country, then 2 cities from next country, etc"},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1655185724,"post_id":72611752,"comment_id":128265303,"body_markdown":"please check, i have posted answer for your question.","body":"please check, i have posted answer for your question."}],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655184813,"creation_date":1655184813,"answer_id":72611956,"question_id":72611752,"body_markdown":"Below aggregation query give you 2 city per country.\r\n\r\n```json\r\n{\r\n  &quot;aggs&quot;: {\r\n    &quot;user_country_id&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;field&quot;: &quot;user.country_id&quot;,\r\n        &quot;size&quot;: 10\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;user_city_id&quot;: {\r\n          &quot;terms&quot;: {\r\n            &quot;field&quot;: &quot;user.city_id&quot;,\r\n            &quot;size&quot;: 2\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"ElasticSearch get top 2 results per specific term in aggregations","body":"<p>Below aggregation query give you 2 city per country.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;aggs&quot;: {\n    &quot;user_country_id&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;user.country_id&quot;,\n        &quot;size&quot;: 10\n      },\n      &quot;aggs&quot;: {\n        &quot;user_city_id&quot;: {\n          &quot;terms&quot;: {\n            &quot;field&quot;: &quot;user.city_id&quot;,\n            &quot;size&quot;: 2\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":20765437,"reputation":27,"user_id":15249566,"display_name":"JuanCruz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72611956,"answer_count":1,"score":0,"last_activity_date":1655184813,"creation_date":1655183072,"question_id":72611752,"body_markdown":"Given this query, i want to retrieve and limit only to top 2 cities from each country.\r\nSo, **given the most popular country, retrieve top 2 cities, then next country, top 2 cities and etcera.**\r\n\r\n```\r\n{\r\n  &quot;size&quot;: 0,\r\n  &quot;aggs&quot;: {\r\n    &quot;user_city_id&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;field&quot;: &quot;user.city_id&quot;,\r\n        &quot;size&quot;: 999\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;user_country_id&quot;: {\r\n          &quot;terms&quot;: {\r\n            &quot;field&quot;: &quot;user.country_id&quot;,\r\n            &quot;size&quot;: 1\r\n          },\r\n          &quot;aggs&quot;: {\r\n            &quot;user_name&quot;: {\r\n              &quot;terms&quot;: {\r\n                &quot;field&quot;: &quot;user.name&quot;,\r\n                &quot;size&quot;: 1\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;must&quot;: [\r\n        {\r\n          &quot;term&quot;: {\r\n            &quot;user.category&quot;: 1\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```","title":"ElasticSearch get top 2 results per specific term in aggregations","body":"<p>Given this query, i want to retrieve and limit only to top 2 cities from each country.\nSo, <strong>given the most popular country, retrieve top 2 cities, then next country, top 2 cities and etcera.</strong></p>\n<pre><code>{\n  &quot;size&quot;: 0,\n  &quot;aggs&quot;: {\n    &quot;user_city_id&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;user.city_id&quot;,\n        &quot;size&quot;: 999\n      },\n      &quot;aggs&quot;: {\n        &quot;user_country_id&quot;: {\n          &quot;terms&quot;: {\n            &quot;field&quot;: &quot;user.country_id&quot;,\n            &quot;size&quot;: 1\n          },\n          &quot;aggs&quot;: {\n            &quot;user_name&quot;: {\n              &quot;terms&quot;: {\n                &quot;field&quot;: &quot;user.name&quot;,\n                &quot;size&quot;: 1\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must&quot;: [\n        {\n          &quot;term&quot;: {\n            &quot;user.category&quot;: 1\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1655176144,"post_id":72611016,"comment_id":128263684,"body_markdown":"Create a `Set` (of the alphabet) and subtract the origin input&#39;s charactes from it","body":"Create a <code>Set</code> (of the alphabet) and subtract the origin input&#39;s charactes from it"},{"owner":{"account_id":12922561,"reputation":7,"user_id":9344443,"display_name":"Brijesh Verma"},"score":0,"creation_date":1655176833,"post_id":72611016,"comment_id":128263793,"body_markdown":"yes @MadProgrammer i can have two Sets one with a to z and another with input string and then i can do intersection set1.removeAll(set2) all missing values will be in set1. But if want it to be done using stream or others java8 features how can I, any idea?","body":"yes @MadProgrammer i can have two Sets one with a to z and another with input string and then i can do intersection set1.removeAll(set2) all missing values will be in set1. But if want it to be done using stream or others java8 features how can I, any idea?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1655177320,"post_id":72611016,"comment_id":128263866,"body_markdown":"Why?!  Any way, about the only way I can think of doing it would be to filter the alphabet, but then for each element in the alphabet, you&#39;d have to do some kind of &quot;contains&quot; workflow, so I doubt you&#39;d get much improvement - just saying","body":"Why?!  Any way, about the only way I can think of doing it would be to filter the alphabet, but then for each element in the alphabet, you&#39;d have to do some kind of &quot;contains&quot; workflow, so I doubt you&#39;d get much improvement - just saying"}],"answers":[{"tags":[],"owner":{"account_id":6536192,"reputation":1854,"user_id":5055577,"display_name":"Jesse"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655177458,"creation_date":1655176736,"answer_id":72611164,"question_id":72611016,"body_markdown":"Here is a very na&#239;ve way of achieving this, using two loops. Could be much more efficient and elegant. But it works\r\n\r\n       public class Replace {\r\n            public static void main(String[] args) {\r\n                \r\n                String input = &quot;az&quot;;\r\n                String[] myArray = input.split(&quot;&quot;);\r\n                \r\n                String compare = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n                String[] myCompare = compare.split(&quot;&quot;);\r\n                \r\n                String output = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n                \r\n                for (int i = 0; i &lt; myCompare.length; i++)\r\n                {\r\n                    for (int j = 0; j &lt; myArray.length; j++)\r\n                    {\r\n                        \r\n                        if(myCompare[i].equals(myArray[j]))\r\n                        {\r\n                              output = output.replace(myArray[j], &quot;&quot;);\r\n                        }\r\n               \r\n                    }\r\n                }\r\n                \r\n                System.out.println(output); \r\n            }\r\n        \r\n        }","title":"How can we find missing character of alphabet(a-z or A to Z) using java8?","body":"<p>Here is a very naïve way of achieving this, using two loops. Could be much more efficient and elegant. But it works</p>\n<pre><code>   public class Replace {\n        public static void main(String[] args) {\n            \n            String input = &quot;az&quot;;\n            String[] myArray = input.split(&quot;&quot;);\n            \n            String compare = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n            String[] myCompare = compare.split(&quot;&quot;);\n            \n            String output = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n            \n            for (int i = 0; i &lt; myCompare.length; i++)\n            {\n                for (int j = 0; j &lt; myArray.length; j++)\n                {\n                    \n                    if(myCompare[i].equals(myArray[j]))\n                    {\n                          output = output.replace(myArray[j], &quot;&quot;);\n                    }\n           \n                }\n            }\n            \n            System.out.println(output); \n        }\n    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655178567,"creation_date":1655178567,"answer_id":72611310,"question_id":72611016,"body_markdown":"\r\nBuild a list of individual `String` characters (note, only using lower case)\r\n\r\n    Set&lt;String&gt; alphabet = new HashSet&lt;String&gt;();\r\n    for (int index = 0; index &lt; 26; index++) {\r\n        alphabet.add(Character.toString(&#39;a&#39; + index));\r\n    }\r\n\r\n*(you could probably just use `char`, but I&#39;m kind can&#39;t be bothered working that out)*\r\n\r\nOr if you don&#39;t want to use a loop...\r\n\r\n    Set&lt;String&gt; alphabet = new HashSet&lt;&gt;(Arrays.asList(&quot;abcdefghijklmnopqrstuvwxyz&quot;.split(&quot;&quot;)));\r\n\r\nor...\r\n\r\n    Set&lt;String&gt; alphabet = IntStream\r\n            .range(0, 26)\r\n            .mapToObj(v -&gt; Character.toString((char)(&#39;a&#39; + v)))\r\n            .collect(Collectors.toSet());\r\n\r\n\r\nGet some input...\r\n\r\n    String input = &quot;abc&quot;.toLowerCase();\r\n    // Yes, I know it&#39;s already lower case, but just\r\n    // in case you&#39;re getting your input from the user\r\n    // or some other variable &#128580;\r\n\r\nFilter out all matching elements...\r\n\r\n    List&lt;String&gt; result = alphabet\r\n            .stream()\r\n            .filter( x -&gt; !input.contains(x))\r\n            .collect(Collectors.toList());\r\n\r\nwhich results in...\r\n\r\n    [d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z]\r\n\r\nOf, you could just do a set subtraction...\r\n\r\n    Set&lt;String&gt; match = new HashSet&lt;&gt;(Arrays.asList(input.toLowerCase().split(&quot;&quot;)));\r\n    alphabet.removeAll(match);\r\n    System.out.println(alphabet);\r\n\r\nwhich also prints...\r\n\r\n    [d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z]\r\n\r\n*nb: I&#39;m `Stream` noob, so there might be a &quot;better&quot; way, but this is basically what I could come up with off the top of my head*","title":"How can we find missing character of alphabet(a-z or A to Z) using java8?","body":"<p>Build a list of individual <code>String</code> characters (note, only using lower case)</p>\n<pre><code>Set&lt;String&gt; alphabet = new HashSet&lt;String&gt;();\nfor (int index = 0; index &lt; 26; index++) {\n    alphabet.add(Character.toString('a' + index));\n}\n</code></pre>\n<p><em>(you could probably just use <code>char</code>, but I'm kind can't be bothered working that out)</em></p>\n<p>Or if you don't want to use a loop...</p>\n<pre><code>Set&lt;String&gt; alphabet = new HashSet&lt;&gt;(Arrays.asList(&quot;abcdefghijklmnopqrstuvwxyz&quot;.split(&quot;&quot;)));\n</code></pre>\n<p>or...</p>\n<pre><code>Set&lt;String&gt; alphabet = IntStream\n        .range(0, 26)\n        .mapToObj(v -&gt; Character.toString((char)('a' + v)))\n        .collect(Collectors.toSet());\n</code></pre>\n<p>Get some input...</p>\n<pre><code>String input = &quot;abc&quot;.toLowerCase();\n// Yes, I know it's already lower case, but just\n// in case you're getting your input from the user\n// or some other variable 🙄\n</code></pre>\n<p>Filter out all matching elements...</p>\n<pre><code>List&lt;String&gt; result = alphabet\n        .stream()\n        .filter( x -&gt; !input.contains(x))\n        .collect(Collectors.toList());\n</code></pre>\n<p>which results in...</p>\n<pre><code>[d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z]\n</code></pre>\n<p>Of, you could just do a set subtraction...</p>\n<pre><code>Set&lt;String&gt; match = new HashSet&lt;&gt;(Arrays.asList(input.toLowerCase().split(&quot;&quot;)));\nalphabet.removeAll(match);\nSystem.out.println(alphabet);\n</code></pre>\n<p>which also prints...</p>\n<pre><code>[d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z]\n</code></pre>\n<p><em>nb: I'm <code>Stream</code> noob, so there might be a &quot;better&quot; way, but this is basically what I could come up with off the top of my head</em></p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655184451,"creation_date":1655184451,"answer_id":72611904,"question_id":72611016,"body_markdown":"Here&#39;s a one-liner:\r\n\r\n    String output = IntStream.rangeClosed(&#39;a&#39;, &#39;z&#39;)\r\n      .filter(c -&gt; input.indexOf(c) == -1)\r\n      .mapToObj(Character::toString)\r\n      .collect(joining());\r\n","title":"How can we find missing character of alphabet(a-z or A to Z) using java8?","body":"<p>Here's a one-liner:</p>\n<pre><code>String output = IntStream.rangeClosed('a', 'z')\n  .filter(c -&gt; input.indexOf(c) == -1)\n  .mapToObj(Character::toString)\n  .collect(joining());\n</code></pre>\n"}],"owner":{"account_id":12922561,"reputation":7,"user_id":9344443,"display_name":"Brijesh Verma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655197046,"answer_count":3,"score":-1,"last_activity_date":1655184451,"creation_date":1655175024,"question_id":72611016,"body_markdown":"I have one problem statement where I need to find missing char in given string, I tried couple of operation with filter and distinct of stream Api. But couldn&#39;t get desired output. \r\n\r\nString input =&quot;abc&quot;;\r\n\r\nExpected output= &quot;defghijklmnopqrstuvwxyz&quot; [char from d to z ]","title":"How can we find missing character of alphabet(a-z or A to Z) using java8?","body":"<p>I have one problem statement where I need to find missing char in given string, I tried couple of operation with filter and distinct of stream Api. But couldn't get desired output.</p>\n<p>String input =&quot;abc&quot;;</p>\n<p>Expected output= &quot;defghijklmnopqrstuvwxyz&quot; [char from d to z ]</p>\n"},{"tags":["java","cucumber","bdd","rest-assured","cucumber-serenity"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1654044633,"post_id":72451242,"comment_id":127996892,"body_markdown":"just put it as `public static String TOKEN` to make it a global variable","body":"just put it as <code>public static String TOKEN</code> to make it a global variable"},{"owner":{"account_id":8031633,"reputation":135,"user_id":6176973,"accept_rate":75,"display_name":"iAutomate"},"score":0,"creation_date":1654057669,"post_id":72451242,"comment_id":127998633,"body_markdown":"@lucas-nguyen-17 here &quot;TOKEN&quot; is just an example. the logic should work for any attribute fetched from a response and need to assign it to the variable name from feature file itself.\n\nFor example:\nSet global &quot;access_token&quot; in &quot;token&quot;\nOR\nSet global &quot;app_id&quot; in &quot;appid&quot;","body":"@lucas-nguyen-17 here &quot;TOKEN&quot; is just an example. the logic should work for any attribute fetched from a response and need to assign it to the variable name from feature file itself.  For example: Set global &quot;access_token&quot; in &quot;token&quot; OR Set global &quot;app_id&quot; in &quot;appid&quot;"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1654058420,"post_id":72451242,"comment_id":127998782,"body_markdown":"You may need `public static` Map, then get value by key. It will apply for other variables","body":"You may need <code>public static</code> Map, then get value by key. It will apply for other variables"}],"answers":[{"tags":[],"owner":{"account_id":16947773,"reputation":23,"user_id":12258097,"display_name":"Madalina P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654864357,"creation_date":1654864357,"answer_id":72574371,"question_id":72451242,"body_markdown":"You can create a scenario context object or a test context object (depending on the needed lifetime of the object) in which you can have a HashMap with key-value pairs. You can then use this object to store the information you need and retrieve it later. Take a look at this article, as it explains the concept in great detail: https://www.toolsqa.com/selenium-cucumber-framework/share-data-between-steps-in-cucumber-using-scenario-context/","title":"How can i store a value as global variable from an API response and pass it to another API as parameter in Cucumber feature file using REST assured","body":"<p>You can create a scenario context object or a test context object (depending on the needed lifetime of the object) in which you can have a HashMap with key-value pairs. You can then use this object to store the information you need and retrieve it later. Take a look at this article, as it explains the concept in great detail: <a href=\"https://www.toolsqa.com/selenium-cucumber-framework/share-data-between-steps-in-cucumber-using-scenario-context/\" rel=\"nofollow noreferrer\">https://www.toolsqa.com/selenium-cucumber-framework/share-data-between-steps-in-cucumber-using-scenario-context/</a></p>\n"}],"owner":{"account_id":8031633,"reputation":135,"user_id":6176973,"accept_rate":75,"display_name":"iAutomate"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":987,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655183985,"creation_date":1654014347,"question_id":72451242,"body_markdown":"I am designing automation scripts on Cucumber BDD framework for REST APIs using Rest assured.\r\nI have one api which generates the &quot;Token&quot; and then there is an another api for order create which requires this &quot;Token&quot; in the authorisation parameter. Here is my feature file\r\n\r\n   \r\n\r\n \r\n\r\nFeature: Create Order API\r\n    \r\n      @Background:\r\n      Scenario Outline: Generate Access token With Valid Details\r\n        Given Query param for request\r\n          | grant_type         |\r\n          | client_credentials |\r\n        Given Basic Auth keys for request &quot;&lt;userName&gt;&quot; and &quot;&lt;key&gt;&quot;\r\n        When Build request for baseurl &quot;PAYPAL_BASE_URI&quot; and endpoint &quot;ENDPOINT_GET_AUTH_KEY&quot;\r\n    #    And Set global &quot;access_token&quot; in &quot;token&quot;\r\n        And Perform &quot;POST&quot; request using\r\n        Then status code is 200\r\n        And  response contains &quot;scope&quot;\r\n        Examples:\r\n          | userName    | key |                                                                  \r\n       | AWnCbuv9Bee0_6 | EMWowD696LqfznidhQ2RT_jZL2ys |\r\n    \r\n    \r\n      Now response of above API is as follows.\r\n\r\n    {\r\n        &quot;scope&quot;: &quot;https://uri.pppaypal.com/services/invoicing https://uri.pppaypal.com/services/applications/webhooks&quot;,\r\n        &quot;access_token&quot;: &quot;ALs1szFnv2TJ19Zf3vq&quot;,\r\n        &quot;token_type&quot;: &quot;Bearer&quot;,\r\n        &quot;app_id&quot;: &quot;APP-284543T&quot;,\r\n        &quot;expires_in&quot;: 311286,\r\n        &quot;nonce&quot;: &quot;2022-05-31T03:41:41ZWs9dpOQ&quot;\r\n    }\r\n\r\nNow i need this &quot;access_token&quot; as &lt;token&gt; in the &quot;Create Order API&quot; Authorisation parameter withe Bearer. the &quot;Create Order API&quot; feature file is below.\r\n\r\n\r\n     Scenario: Verify create order api using valid auth\r\n        Given Generate request\r\n        And Build request for baseurl &quot;PAYPAL_BASE_URI&quot; and endpoint &quot;ENDPOINT_CREATE_ORDER_API&quot;\r\n        And Set header values as\r\n          | Content-Type     | Authorization                                                                                            |\r\n          | application/json | Bearer &lt;token&gt; |\r\n        When Perform &quot;POST&quot; request using &quot;FILE_PATH_ORDER_JSON&quot;\r\n        Then status code is 201\r\n\r\n\r\nHow can i set &quot;access_token&quot; in &quot;token&quot; as global variable from the feature file so that i can use it anywhere in this feature file using the following step?\r\n\r\n  \r\n\r\n    And Set global &quot;access_token&quot; in &quot;token&quot;","title":"How can i store a value as global variable from an API response and pass it to another API as parameter in Cucumber feature file using REST assured","body":"<p>I am designing automation scripts on Cucumber BDD framework for REST APIs using Rest assured.\nI have one api which generates the &quot;Token&quot; and then there is an another api for order create which requires this &quot;Token&quot; in the authorisation parameter. Here is my feature file</p>\n<p>Feature: Create Order API</p>\n<pre><code>  @Background:\n  Scenario Outline: Generate Access token With Valid Details\n    Given Query param for request\n      | grant_type         |\n      | client_credentials |\n    Given Basic Auth keys for request &quot;&lt;userName&gt;&quot; and &quot;&lt;key&gt;&quot;\n    When Build request for baseurl &quot;PAYPAL_BASE_URI&quot; and endpoint &quot;ENDPOINT_GET_AUTH_KEY&quot;\n#    And Set global &quot;access_token&quot; in &quot;token&quot;\n    And Perform &quot;POST&quot; request using\n    Then status code is 200\n    And  response contains &quot;scope&quot;\n    Examples:\n      | userName    | key |                                                                  \n   | AWnCbuv9Bee0_6 | EMWowD696LqfznidhQ2RT_jZL2ys |\n\n\n  Now response of above API is as follows.\n\n{\n    &quot;scope&quot;: &quot;https://uri.pppaypal.com/services/invoicing https://uri.pppaypal.com/services/applications/webhooks&quot;,\n    &quot;access_token&quot;: &quot;ALs1szFnv2TJ19Zf3vq&quot;,\n    &quot;token_type&quot;: &quot;Bearer&quot;,\n    &quot;app_id&quot;: &quot;APP-284543T&quot;,\n    &quot;expires_in&quot;: 311286,\n    &quot;nonce&quot;: &quot;2022-05-31T03:41:41ZWs9dpOQ&quot;\n}\n</code></pre>\n<p>Now i need this &quot;access_token&quot; as  in the &quot;Create Order API&quot; Authorisation parameter withe Bearer. the &quot;Create Order API&quot; feature file is below.</p>\n<pre><code> Scenario: Verify create order api using valid auth\n    Given Generate request\n    And Build request for baseurl &quot;PAYPAL_BASE_URI&quot; and endpoint &quot;ENDPOINT_CREATE_ORDER_API&quot;\n    And Set header values as\n      | Content-Type     | Authorization                                                                                            |\n      | application/json | Bearer &lt;token&gt; |\n    When Perform &quot;POST&quot; request using &quot;FILE_PATH_ORDER_JSON&quot;\n    Then status code is 201\n</code></pre>\n<p>How can i set &quot;access_token&quot; in &quot;token&quot; as global variable from the feature file so that i can use it anywhere in this feature file using the following step?</p>\n<pre><code>And Set global &quot;access_token&quot; in &quot;token&quot;\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"score":0,"creation_date":1369306019,"post_id":16705165,"comment_id":24057844,"body_markdown":"It&#39;s working for me:  driver.find_element(:id, &quot;551&quot;).text","body":"It&#39;s working for me:  driver.find_element(:id, &quot;551&quot;).text"},{"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"score":0,"creation_date":1369306195,"post_id":16705165,"comment_id":24057936,"body_markdown":"It&#39;s also working for me using xpath: driver.find_element(:xpath, &quot;//a[@id=&#39;551&#39;]&quot;).text","body":"It&#39;s also working for me using xpath: driver.find_element(:xpath, &quot;//a[@id=&#39;551&#39;]&quot;).text"},{"owner":{"account_id":1940875,"reputation":2370,"user_id":2310411,"accept_rate":58,"display_name":"Vignesh Paramasivam"},"score":0,"creation_date":1407856206,"post_id":16705165,"comment_id":39371859,"body_markdown":"@TDHM The one which you specified will not work for Java as well as OP.","body":"@TDHM The one which you specified will not work for Java as well as OP."},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1584422784,"post_id":16705165,"comment_id":107424662,"body_markdown":"Plenty of answers here, but no discussion of which approach is better than the other. Refer the differences between &quot;innerText&quot;, &quot;textContent&quot; etc. from here https://stackoverflow.com/questions/21311299/nodevalue-vs-innerhtml-and-textcontent-how-to-choose and also https://medium.com/better-programming/whats-best-innertext-vs-innerhtml-vs-textcontent-903ebc43a3fc.","body":"Plenty of answers here, but no discussion of which approach is better than the other. Refer the differences between &quot;innerText&quot;, &quot;textContent&quot; etc. from here <a href=\"https://stackoverflow.com/questions/21311299/nodevalue-vs-innerhtml-and-textcontent-how-to-choose\" title=\"nodevalue vs innerhtml and textcontent how to choose\">stackoverflow.com/questions/21311299/&hellip;</a> and also <a href=\"https://medium.com/better-programming/whats-best-innertext-vs-innerhtml-vs-textcontent-903ebc43a3fc\" rel=\"nofollow noreferrer\">medium.com/better-programming/&hellip;</a>."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1606030941,"post_id":16705165,"comment_id":114831283,"body_markdown":"Possible duplicate: *[How to gettext() of an element in Selenium Webdriver](https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver)*","body":"Possible duplicate: <i><a href=\"https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver\">How to gettext() of an element in Selenium Webdriver</a></i>"}],"answers":[{"tags":[],"owner":{"account_id":2093312,"reputation":875,"user_id":1862627,"accept_rate":100,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606911094,"creation_date":1369291809,"answer_id":16707354,"question_id":16705165,"body_markdown":"It is really surprising you are able to get attribute title, but not text.\r\n\r\nTry with\r\n\r\n    driver.findelement(By.xpath(&quot;//a[@id=&#39;551&#39; and contains(text(),&#39;Country&#39;)]&quot;)).isDisplayed();\r\n\r\nor\r\n\r\n    driver.findelement(By.xpath(&quot;//a[@id=&#39;551&#39; and text()=&#39;Country&#39;]&quot;)).isDisplayed();\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>It is really surprising you are able to get attribute title, but not text.</p>\n<p>Try with</p>\n<pre><code>driver.findelement(By.xpath(&quot;//a[@id='551' and contains(text(),'Country')]&quot;)).isDisplayed();\n</code></pre>\n<p>or</p>\n<pre><code>driver.findelement(By.xpath(&quot;//a[@id='551' and text()='Country']&quot;)).isDisplayed();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130796,"reputation":4377,"user_id":330325,"accept_rate":55,"display_name":"Buddha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606911324,"creation_date":1369324328,"answer_id":16718494,"question_id":16705165,"body_markdown":"Unless it is a typo while copying to Stack&amp;nbsp;Overflow, you are missing a parentheses before getText. Change\r\n`driver.findElement(By.xpath(&quot;//*[@id=&#39;551&#39;]&quot;).getText())` to  `driver.findElement(By.xpath(&quot;//*[@id=&#39;551&#39;]&quot;)).getText()`\r\n\r\nI tried the following code, and it worked perfectly for me.\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;C:\\\\test.html&quot;);\r\n    System.out.println(driver.findElement(By.xpath(&quot;//*[@id=&#39;551&#39;]&quot;)).getText());\r\n    System.out.println(driver.findElement(By.xpath(&quot;//*@id=&#39;551&#39;]&quot;)).getAttribute(&quot;title&quot;));\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>Unless it is a typo while copying to Stack Overflow, you are missing a parentheses before getText. Change\n<code>driver.findElement(By.xpath(&quot;//*[@id='551']&quot;).getText())</code> to  <code>driver.findElement(By.xpath(&quot;//*[@id='551']&quot;)).getText()</code></p>\n<p>I tried the following code, and it worked perfectly for me.</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;C:\\\\test.html&quot;);\nSystem.out.println(driver.findElement(By.xpath(&quot;//*[@id='551']&quot;)).getText());\nSystem.out.println(driver.findElement(By.xpath(&quot;//*@id='551']&quot;)).getAttribute(&quot;title&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2864980,"reputation":1209,"user_id":2459476,"display_name":"satender"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1606911399,"creation_date":1405344718,"answer_id":24737697,"question_id":16705165,"body_markdown":"It depends on the code as well. Give a try with the below code:\r\n\r\nInstead of `getText()`, please use `getAttribute(&quot;innerHTML&quot;)` which will then return what you are looking for, including any HTML that is invisible.\r\n\r\n```\r\n&lt;div class=&quot;no-docs-selected&quot;&gt;\r\n    &lt;p class=&quot;icon-alert&quot;&gt;Please select a doc&lt;/p&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nI was looking for `Please select a doc`, but I didn&#39;t succeed with `getText()`. But the below one worked.\r\n\r\n    driver.findElement(By.xpath(&quot;//p[@class=&#39;icon-alert&#39;]&quot;)).getAttribute(&quot;innerHTML&quot;);\r\n\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>It depends on the code as well. Give a try with the below code:</p>\n<p>Instead of <code>getText()</code>, please use <code>getAttribute(&quot;innerHTML&quot;)</code> which will then return what you are looking for, including any HTML that is invisible.</p>\n<pre><code>&lt;div class=&quot;no-docs-selected&quot;&gt;\n    &lt;p class=&quot;icon-alert&quot;&gt;Please select a doc&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I was looking for <code>Please select a doc</code>, but I didn't succeed with <code>getText()</code>. But the below one worked.</p>\n<pre><code>driver.findElement(By.xpath(&quot;//p[@class='icon-alert']&quot;)).getAttribute(&quot;innerHTML&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7892742,"reputation":19,"user_id":5962401,"display_name":"Syagin Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623055077,"creation_date":1472629914,"answer_id":39243749,"question_id":16705165,"body_markdown":"Use `&lt;WebElement&gt;.getAttribute(&quot;value&quot;)` to extract the text.\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>Use <code>&lt;WebElement&gt;.getAttribute(&quot;value&quot;)</code> to extract the text.</p>\n"},{"tags":[],"owner":{"account_id":9902502,"reputation":11,"user_id":7332079,"display_name":"user7332079"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1606912322,"creation_date":1482443903,"answer_id":41292246,"question_id":16705165,"body_markdown":"In a similar situation, this worked for me:\r\n\r\n    .getAttribute(&quot;innerHTML&quot;);\r\n    .getAttribute(&quot;innerText&quot;);\r\n    .getAttribute(&quot;outerText&quot;);\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>In a similar situation, this worked for me:</p>\n<pre><code>.getAttribute(&quot;innerHTML&quot;);\n.getAttribute(&quot;innerText&quot;);\n.getAttribute(&quot;outerText&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10168646,"reputation":81,"user_id":7509647,"display_name":"Mahesh Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606912371,"creation_date":1486101875,"answer_id":42017775,"question_id":16705165,"body_markdown":"    String text1 = driver.findElementByXPath(&quot;//input[@value=&#39;EFASTGTC&#39;]/../ancestor::tr[1]/scipt[1]&quot;).getAttribute(&quot;innerText&quot;); \r\n\t\t\t\r\n    System.out.println(&quot;Value=&quot; + text1);\r\n\r\nThis code will work if you want text written between script tag.\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<pre><code>String text1 = driver.findElementByXPath(&quot;//input[@value='EFASTGTC']/../ancestor::tr[1]/scipt[1]&quot;).getAttribute(&quot;innerText&quot;); \n        \nSystem.out.println(&quot;Value=&quot; + text1);\n</code></pre>\n<p>This code will work if you want text written between script tag.</p>\n"},{"tags":[],"owner":{"account_id":8690059,"reputation":183,"user_id":6503194,"display_name":"Ami Desai"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1606912495,"creation_date":1490171543,"answer_id":42946330,"question_id":16705165,"body_markdown":"I faced the same issue, and then I updated .getText() to **.getAttribute(&quot;textContent&quot;)** and it worked.\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>I faced the same issue, and then I updated .getText() to <strong>.getAttribute(&quot;textContent&quot;)</strong> and it worked.</p>\n"},{"tags":[],"owner":{"account_id":5749893,"reputation":494,"user_id":4539922,"display_name":"ldiary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606912689,"creation_date":1572893059,"answer_id":58699339,"question_id":16705165,"body_markdown":"I also had a case where `getAttribute(&quot;innerHTML&quot;)` worked, but not `getText()`. It turned out that the element was present, but it was not visible or displayed.\r\n\r\nWhen I scrolled to the element first before calling `getText()` it worked.\r\n\r\n```\r\n    if(!element.isDisplayed()) \r\n        scrollIntoView(element);\r\n    element.getText();\r\n```\r\n\r\nThe `scrollIntoView` function is like this:\r\n\r\n```\r\n    public void scrollIntoView(WebElement element) {\r\n        ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\r\n    }\r\n```\r\n\r\nI therefore don&#39;t need to use getAttribute(&quot;innerHTML&quot;)`.\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>I also had a case where <code>getAttribute(&quot;innerHTML&quot;)</code> worked, but not <code>getText()</code>. It turned out that the element was present, but it was not visible or displayed.</p>\n<p>When I scrolled to the element first before calling <code>getText()</code> it worked.</p>\n<pre><code>    if(!element.isDisplayed()) \n        scrollIntoView(element);\n    element.getText();\n</code></pre>\n<p>The <code>scrollIntoView</code> function is like this:</p>\n<pre><code>    public void scrollIntoView(WebElement element) {\n        ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n    }\n</code></pre>\n<p>I therefore don't need to use getAttribute(&quot;innerHTML&quot;)`.</p>\n"},{"tags":[],"owner":{"account_id":17743157,"reputation":13,"user_id":12882983,"display_name":"usha sree"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623054952,"creation_date":1622990098,"answer_id":67860236,"question_id":16705165,"body_markdown":"This worked for me:\r\n```java\r\nSystem.out.println(driver.findElement(By.id(&quot;error&quot;)).getAttribute(&quot;textContent&quot;));\r\n```\r\n\r\nCode:\r\n    \r\n    driver.get(&quot;https://login.salesforce.com/&quot;);\r\n    driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;Hello&quot;);\r\n    driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;Hello&quot;);\r\n    driver.findElement(By.id(&quot;Login&quot;)).click();\r\n    System.out.println(driver.findElement(By.id(&quot;error&quot;)).getAttribute(&quot;textContent&quot;));\r\n    driver.close();","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>This worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(driver.findElement(By.id(&quot;error&quot;)).getAttribute(&quot;textContent&quot;));\n</code></pre>\n<p>Code:</p>\n<pre><code>driver.get(&quot;https://login.salesforce.com/&quot;);\ndriver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;Hello&quot;);\ndriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;Hello&quot;);\ndriver.findElement(By.id(&quot;Login&quot;)).click();\nSystem.out.println(driver.findElement(By.id(&quot;error&quot;)).getAttribute(&quot;textContent&quot;));\ndriver.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25269297,"reputation":3,"user_id":19098858,"display_name":"Rekha Rajasekaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655183889,"creation_date":1655119451,"answer_id":72602017,"question_id":16705165,"body_markdown":"This worked for me. I used `getAttribute(&quot;innerText&quot;)` instead of `getText()`.\r\n\r\n```java\r\nSystem.out.println(driver.findElement(By.id(&quot;modalError&quot;)).getAttribute(&quot;innerText&quot;));\r\n```\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>This worked for me. I used <code>getAttribute(&quot;innerText&quot;)</code> instead of <code>getText()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(driver.findElement(By.id(&quot;modalError&quot;)).getAttribute(&quot;innerText&quot;));\n</code></pre>\n"}],"owner":{"account_id":2106302,"reputation":945,"user_id":1872565,"accept_rate":62,"display_name":"Learner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51147,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":10,"score":14,"last_activity_date":1655183889,"creation_date":1369279557,"question_id":16705165,"body_markdown":"I am not able to find the `gettext` of the below code in the Selenium WebDriver.\r\n\r\n    &lt;a id=&quot;551&quot; class=&quot;blueTextNormal1 spc&quot; onclick=&quot;sPh(this,&#39;079&#39;);return false;&quot; title=&quot;079&quot;&gt;Country&lt;/a&gt;\r\n\r\nI want to get the value of Country. I tried using the `xpath`:\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;551&#39;]&quot;).getText())\r\n\r\nbut it is not returning any value. When I tried with\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;551&#39;]&quot;)).getAttribute(&quot;title&quot;))\r\n\r\nI am getting the value as &quot;079&quot;.\r\n\r\nHow can I to proceed?\r\n\r\n\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>I am not able to find the <code>gettext</code> of the below code in the Selenium WebDriver.</p>\n<pre><code>&lt;a id=&quot;551&quot; class=&quot;blueTextNormal1 spc&quot; onclick=&quot;sPh(this,'079');return false;&quot; title=&quot;079&quot;&gt;Country&lt;/a&gt;\n</code></pre>\n<p>I want to get the value of Country. I tried using the <code>xpath</code>:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@id='551']&quot;).getText())\n</code></pre>\n<p>but it is not returning any value. When I tried with</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@id='551']&quot;)).getAttribute(&quot;title&quot;))\n</code></pre>\n<p>I am getting the value as &quot;079&quot;.</p>\n<p>How can I to proceed?</p>\n"},{"tags":["java","rest","spring-boot","openapi"],"comments":[{"owner":{"account_id":7235311,"reputation":922,"user_id":5520794,"display_name":"vavasthi"},"score":0,"creation_date":1552637793,"post_id":55178220,"comment_id":97094322,"body_markdown":"Why is that an issue anyway. If datatype is number then 2.110 is same as 2.11","body":"Why is that an issue anyway. If datatype is number then 2.110 is same as 2.11"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1552637809,"post_id":55178220,"comment_id":97094337,"body_markdown":"Mathematically, there is no difference between 2.110 and 2.11. If you want the characters to be preserved you may transfer it as a string.","body":"Mathematically, there is no difference between 2.110 and 2.11. If you want the characters to be preserved you may transfer it as a string."},{"owner":{"account_id":8567458,"reputation":1,"user_id":6419528,"display_name":"Srinivasan"},"score":0,"creation_date":1552911252,"post_id":55178220,"comment_id":97177153,"body_markdown":"@henry/Vinay, I have updated question with more details of my problem.","body":"@henry/Vinay, I have updated question with more details of my problem."}],"owner":{"account_id":8567458,"reputation":1,"user_id":6419528,"display_name":"Srinivasan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655183398,"creation_date":1552637670,"question_id":55178220,"body_markdown":"I have declared few properties as `type:number` in my app.yaml file. I am getting money values from backend as `String` that I am converting into `BigDecimal` as shown below:\r\n\r\n`BigDecimal bd=new BigDecimal(&quot;24.00&quot;);`\r\n\r\nIt works fine within `Java` code, but when I check my service response, the output is auto rounded to `24`. Though, the auto round for zero makes sense, there is a requirement in this project to always display 2 digits after precision point, even for `0` it should display `0.00`.\r\n\r\nI have verified with the junit cases, the `java` conversion of BigDecimal works fine. I suspect, there must be some configuration missing in `jackson`\r\n\r\nI am using open API 3 and spring boot. Can any one help me to solve this issue?","title":"Swagger data type number round issues","body":"<p>I have declared few properties as <code>type:number</code> in my app.yaml file. I am getting money values from backend as <code>String</code> that I am converting into <code>BigDecimal</code> as shown below:</p>\n\n<p><code>BigDecimal bd=new BigDecimal(\"24.00\");</code></p>\n\n<p>It works fine within <code>Java</code> code, but when I check my service response, the output is auto rounded to <code>24</code>. Though, the auto round for zero makes sense, there is a requirement in this project to always display 2 digits after precision point, even for <code>0</code> it should display <code>0.00</code>.</p>\n\n<p>I have verified with the junit cases, the <code>java</code> conversion of BigDecimal works fine. I suspect, there must be some configuration missing in <code>jackson</code></p>\n\n<p>I am using open API 3 and spring boot. Can any one help me to solve this issue?</p>\n"},{"tags":["java","rest","cucumber","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1655200966,"post_id":72611756,"comment_id":128270320,"body_markdown":"RA doen&#39;t support OAuth2 directly, you have to run login step first get the `bearer_token` then put it to header of the requests.","body":"RA doen&#39;t support OAuth2 directly, you have to run login step first get the <code>bearer_token</code> then put it to header of the requests."},{"owner":{"account_id":25550083,"reputation":11,"user_id":19334609,"display_name":"Samian"},"score":0,"creation_date":1655965104,"post_id":72611756,"comment_id":128457607,"body_markdown":"@lucas-nguyen-17 how do i set it up so it gets the bearer_token and runs it for all the feature files. I have about 10 diff feature files","body":"@lucas-nguyen-17 how do i set it up so it gets the bearer_token and runs it for all the feature files. I have about 10 diff feature files"}],"owner":{"account_id":25550083,"reputation":11,"user_id":19334609,"display_name":"Samian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655183099,"creation_date":1655183099,"question_id":72611756,"body_markdown":"So we currently have a framework bdd with rest assured . All this time it was set up with service fake just to make sure the framework is ready for when we have actual data . Currently I already have couples of features running already. We recently added Oauth2 support . \r\n\r\nNow I automated the process to get the bearer token but confused on how I should go about using it. Should i save the bearer token as a variable and just pass it in the requests ?\r\n\r\n How do I make it so the framework generates bearer token then uses that token to run the tests (crud operation). Do I have to make another feature and have that running first from cukes runner?","title":"Add oauth2 support to Automated framework","body":"<p>So we currently have a framework bdd with rest assured . All this time it was set up with service fake just to make sure the framework is ready for when we have actual data . Currently I already have couples of features running already. We recently added Oauth2 support .</p>\n<p>Now I automated the process to get the bearer token but confused on how I should go about using it. Should i save the bearer token as a variable and just pass it in the requests ?</p>\n<p>How do I make it so the framework generates bearer token then uses that token to run the tests (crud operation). Do I have to make another feature and have that running first from cukes runner?</p>\n"},{"tags":["java","spring-boot","jobrunr"],"answers":[{"tags":[],"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655183071,"creation_date":1655183071,"answer_id":72611751,"question_id":72274862,"body_markdown":"This has been fixed with JobRunr 5.1.3.","title":"JobRunr: Deleting and Recreating the schedule with same schedule Id &amp; different time never runs","body":"<p>This has been fixed with JobRunr 5.1.3.</p>\n"}],"owner":{"account_id":6509120,"reputation":134,"user_id":5664993,"display_name":"Kapil Bablani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72611751,"answer_count":1,"score":0,"last_activity_date":1655183071,"creation_date":1652793861,"question_id":72274862,"body_markdown":"I am using JobRunr 5.0.1 with Spring Boot Parent version 3.6.7. I have an edit endpoint where I am deleting the schedule by Id and creating the new one with the same Id but updated time details. The schedule don&#39;t runs at the updated scheduled time although the JobRunr Dashboard shows the updated schedule Time and all the other details too.\r\nDid anybody know whether its a known issue/bug or am I missing something ?\r\n\r\nNote (Not Sure): Previously I was using JobRunr 4..10 and spring boot version 3.6.6 and seems it was working But now not working even with the older said versions.","title":"JobRunr: Deleting and Recreating the schedule with same schedule Id &amp; different time never runs","body":"<p>I am using JobRunr 5.0.1 with Spring Boot Parent version 3.6.7. I have an edit endpoint where I am deleting the schedule by Id and creating the new one with the same Id but updated time details. The schedule don't runs at the updated scheduled time although the JobRunr Dashboard shows the updated schedule Time and all the other details too.\nDid anybody know whether its a known issue/bug or am I missing something ?</p>\n<p>Note (Not Sure): Previously I was using JobRunr 4..10 and spring boot version 3.6.6 and seems it was working But now not working even with the older said versions.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"score":3,"creation_date":1461312358,"post_id":36782687,"comment_id":61151593,"body_markdown":"And where in your code is the NPE raised?","body":"And where in your code is the NPE raised?"},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1655182808,"post_id":36782687,"comment_id":128264696,"body_markdown":"_Why_ do you want to mock the interface? It&#39;s an interface - you can just provide whatever implementation makes sense.","body":"<i>Why</i> do you want to mock the interface? It&#39;s an interface - you can just provide whatever implementation makes sense."}],"answers":[{"tags":[],"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1461313318,"creation_date":1461313318,"answer_id":36788618,"question_id":36782687,"body_markdown":"I&#39;m guessing that `order` is `null` and you&#39;re getting the `NullPointerException` here:\r\n\r\n    when(order.ordersFor(type)).thenReturn(ll);\r\n\r\nFor `@InjectMocks` to work and instantiate your class, you&#39;ll need to add a runner:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ServiceImplTest {\r\n        // ...\r\n    }\r\n\r\nYou don&#39;t have to use the runner, refer to [the documentation][1] for alternatives.\r\n\r\n[1]: http://docs.mockito.googlecode.com/hg/1.9.5/org/mockito/runners/MockitoJUnitRunner.html","title":"Mocking an interface with Mockito","body":"<p>I'm guessing that <code>order</code> is <code>null</code> and you're getting the <code>NullPointerException</code> here:</p>\n\n<pre><code>when(order.ordersFor(type)).thenReturn(ll);\n</code></pre>\n\n<p>For <code>@InjectMocks</code> to work and instantiate your class, you'll need to add a runner:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ServiceImplTest {\n    // ...\n}\n</code></pre>\n\n<p>You don't have to use the runner, refer to <a href=\"http://docs.mockito.googlecode.com/hg/1.9.5/org/mockito/runners/MockitoJUnitRunner.html\" rel=\"noreferrer\">the documentation</a> for alternatives.</p>\n"},{"tags":[],"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1544169002,"creation_date":1461430730,"answer_id":36813781,"question_id":36782687,"body_markdown":"`@InjectMocks` will not instantiate or mock your class. This annotation is used for injecting mocks into this field.\r\n\r\nIf you want to test `serviceImpl` you will need to mock in this way:\r\n\r\n    @Mock\r\n    private OrderIF order;\r\n    \r\n    @InjectMocks\r\n    private Service reqService = new ServiceImpl(); \r\n\r\nTo make it work you either need to use runner or `MockitoAnnotations.initMocks(this);` in `@Before` method.\r\n","title":"Mocking an interface with Mockito","body":"<p><code>@InjectMocks</code> will not instantiate or mock your class. This annotation is used for injecting mocks into this field.</p>\n\n<p>If you want to test <code>serviceImpl</code> you will need to mock in this way:</p>\n\n<pre><code>@Mock\nprivate OrderIF order;\n\n@InjectMocks\nprivate Service reqService = new ServiceImpl(); \n</code></pre>\n\n<p>To make it work you either need to use runner or <code>MockitoAnnotations.initMocks(this);</code> in <code>@Before</code> method.</p>\n"},{"tags":[],"owner":{"account_id":3077152,"reputation":125,"user_id":2606203,"display_name":"Ajinkya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655182637,"creation_date":1655182637,"answer_id":72611715,"question_id":36782687,"body_markdown":"`@InjectMocks` doesn&#39;t work on interface. It needs concrete class to work with.\r\n\r\nAlso `@InjectMocks` is used to inject mocks to the specified class and `@Mock` is used to create mocks of classes which needs to be injected.\r\n\r\nSo for your case to work you have to do following change\r\n\r\n    @Mock \r\n    private OrderIF order;\r\n    \r\n    @InjectMocks \r\n    private ServiceImpl reqService;","title":"Mocking an interface with Mockito","body":"<p><code>@InjectMocks</code> doesn't work on interface. It needs concrete class to work with.</p>\n<p>Also <code>@InjectMocks</code> is used to inject mocks to the specified class and <code>@Mock</code> is used to create mocks of classes which needs to be injected.</p>\n<p>So for your case to work you have to do following change</p>\n<pre><code>@Mock \nprivate OrderIF order;\n\n@InjectMocks \nprivate ServiceImpl reqService;\n</code></pre>\n"}],"owner":{"account_id":6173800,"reputation":625,"user_id":5609463,"accept_rate":0,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148582,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":3,"score":34,"last_activity_date":1655182637,"creation_date":1461285099,"question_id":36782687,"body_markdown":"Can someone please help me with the below Mock object.\r\nI want to write a mock test case for ServiceImpl class. \r\nI want to mock OrderIF interface: \r\n\r\n    public interface OrderIF{\r\n\t    List&lt;Order&gt; ordersFor(String type);\r\n    }\r\n\r\nThe implementation of service is:  \r\n\r\n    public class ServiceImpl implements Service {\r\n\t    private List &lt;Order&gt; orders ;\r\n    \tprivate OrderIF orderif ; // this is 3rd party interface\r\n\r\n        public int getval(String type) {\r\n           //some code \r\n\r\n\t\t   // this returns a list of objects (orders)\r\n\t\t   orders = orderif.ordersFor(type);\r\n\t\t\r\n           // some code \r\n\t\t   return orders.get(0)\r\n\t    }\r\n    }\r\n\r\nMy code give NullPoinerException: \r\n\r\n    public class ServiceImplTest {\r\n\t     private List &lt;Order&gt; ll ;\r\n         private service reqService ; \r\n\r\n     \t @InjectMocks\r\n \t     private orderIF order;\r\n \r\n \t     @Before\r\n \t     public void setUp() throws Exception {\r\n\t\t     ll = new ArrayList&lt;Order&gt; ();\r\n\t\t     ll.add(new Order(&quot;Buy&quot;  ,  11 , &quot;USD&quot; ));\r\n\t\t     ll.add(new Order(&quot;Sell&quot; ,  22 , &quot;USD&quot; ));\r\n\t\t     reqService = spy(new ServiceImpl());\r\n \t     }\r\n\r\n\t     @Test\r\n\t     public void test() {\r\n\t\t    String type= &quot;USD&quot; ; \r\n\t\t    when(order.ordersFor(type)).thenReturn(ll);\r\n\t\t    q = reqService.getval(type);\r\n    \t    assertTrue(q.get().ask == 232.75);\r\n\t    }\r\n    }\r\n","title":"Mocking an interface with Mockito","body":"<p>Can someone please help me with the below Mock object.\nI want to write a mock test case for ServiceImpl class. \nI want to mock OrderIF interface: </p>\n\n<pre><code>public interface OrderIF{\n    List&lt;Order&gt; ordersFor(String type);\n}\n</code></pre>\n\n<p>The implementation of service is:  </p>\n\n<pre><code>public class ServiceImpl implements Service {\n    private List &lt;Order&gt; orders ;\n    private OrderIF orderif ; // this is 3rd party interface\n\n    public int getval(String type) {\n       //some code \n\n       // this returns a list of objects (orders)\n       orders = orderif.ordersFor(type);\n\n       // some code \n       return orders.get(0)\n    }\n}\n</code></pre>\n\n<p>My code give NullPoinerException: </p>\n\n<pre><code>public class ServiceImplTest {\n     private List &lt;Order&gt; ll ;\n     private service reqService ; \n\n     @InjectMocks\n     private orderIF order;\n\n     @Before\n     public void setUp() throws Exception {\n         ll = new ArrayList&lt;Order&gt; ();\n         ll.add(new Order(\"Buy\"  ,  11 , \"USD\" ));\n         ll.add(new Order(\"Sell\" ,  22 , \"USD\" ));\n         reqService = spy(new ServiceImpl());\n     }\n\n     @Test\n     public void test() {\n        String type= \"USD\" ; \n        when(order.ordersFor(type)).thenReturn(ll);\n        q = reqService.getval(type);\n        assertTrue(q.get().ask == 232.75);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","methods","onclick","invoke"],"answers":[{"tags":[],"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655163135,"creation_date":1655162830,"answer_id":72610049,"question_id":72610012,"body_markdown":"The problem is here\r\n\r\n    findViewById(R.id.txt1);\r\n    findViewById(R.id.btn1);\r\n\r\nyou are getting the views from the `.xml` file but you are not actually assigning the value to any object... so when you try to call a method to the `btn1` it&#39;s null (empty) and throws an error\r\n\r\nSo just assign the value you are getting to the views objects like so:\r\n\r\n    txt1 = findViewById(R.id.txt1);\r\n    btn1 = findViewById(R.id.btn1);\r\n\r\n This will fix the problem\r\n","title":"setOnClickListener does not work in android studio","body":"<p>The problem is here</p>\n<pre><code>findViewById(R.id.txt1);\nfindViewById(R.id.btn1);\n</code></pre>\n<p>you are getting the views from the <code>.xml</code> file but you are not actually assigning the value to any object... so when you try to call a method to the <code>btn1</code> it's null (empty) and throws an error</p>\n<p>So just assign the value you are getting to the views objects like so:</p>\n<pre><code>txt1 = findViewById(R.id.txt1);\nbtn1 = findViewById(R.id.btn1);\n</code></pre>\n<p>This will fix the problem</p>\n"},{"tags":[],"owner":{"account_id":25542183,"reputation":71,"user_id":19328067,"display_name":"Janki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655182556,"creation_date":1655182556,"answer_id":72611708,"question_id":72610012,"body_markdown":"Save the element in variable and set onClick method to that particular variable as below:\r\n\r\n    btn1 = findViewById(R.id.btn1);\r\n    \r\n        btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n    \r\n                txt1.setText(&quot;finalyyyyyyyyyyy&quot;);\r\n    \r\n    \r\n            }\r\n        });","title":"setOnClickListener does not work in android studio","body":"<p>Save the element in variable and set onClick method to that particular variable as below:</p>\n<pre><code>btn1 = findViewById(R.id.btn1);\n\n    btn1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            txt1.setText(&quot;finalyyyyyyyyyyy&quot;);\n\n\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":24427003,"reputation":1,"user_id":18352463,"display_name":"Zaid Sh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655182556,"creation_date":1655162376,"question_id":72610012,"body_markdown":"that is my code, very simple and basic \r\npublic Button btn1;\r\n    public TextView txt1;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        findViewById(R.id.txt1);\r\n        findViewById(R.id.btn1);\r\n\r\n        btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                txt1.setText(&quot;finalyyyyyyyyyyy&quot;);\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\nand the error showing is:\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n","title":"setOnClickListener does not work in android studio","body":"<p>that is my code, very simple and basic\npublic Button btn1;\npublic TextView txt1;</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    findViewById(R.id.txt1);\n    findViewById(R.id.btn1);\n\n    btn1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            txt1.setText(&quot;finalyyyyyyyyyyy&quot;);\n\n\n        }\n    });\n</code></pre>\n<p>and the error showing is:\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference</p>\n"},{"tags":["java","maven","maven-deploy-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1655188791,"post_id":72611701,"comment_id":128266084,"body_markdown":"Please show the full pom file...how is flatten-maven-plugin configured etc. ? Why using target/source for JDK and not using `&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;` instead? And most important: Why do you call only the goals of plugins and not using the life cycle?","body":"Please show the full pom file...how is flatten-maven-plugin configured etc. ? Why using target/source for JDK and not using <code>&lt;maven.compiler.release&gt;11&lt;&#47;maven.compiler.release&gt;</code> instead? And most important: Why do you call only the goals of plugins and not using the life cycle?"}],"owner":{"account_id":2689534,"reputation":1193,"user_id":2323150,"accept_rate":17,"display_name":"Ishant Gaurav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655182504,"creation_date":1655182504,"question_id":72611701,"body_markdown":"I have a multimodule project, in which i am defining the project version in the parent and using that property to be consumed in the child pom as below. Seems like maven deploy plugin is not able to pick the property from parent pom.\r\n\r\nParent pom :\r\n\r\n \r\n\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == Parent                                                        == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.test.parent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;archetype-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;LATEST-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == Properties                                                        == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;properties&gt;\r\n            &lt;jaxb.api.version&gt;2.3.0&lt;/jaxb.api.version&gt;\r\n            &lt;jaxb.impl.version&gt;2.3.0&lt;/jaxb.impl.version&gt;\r\n            &lt;app.version&gt;LATEST-SNAPSHOT&lt;/app.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == This Artifact                                                 == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\r\n        &lt;artifactId&gt;integration&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;${app.version}&lt;/version&gt;\r\n    \r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == Modules                                                       == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;modules&lt;/module&gt;\r\n            &lt;module&gt;services&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n\r\nService child pom :\r\n\r\n\r\n \r\n\r\n      &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == Parent                                                 == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\r\n            &lt;artifactId&gt;integration&lt;/artifactId&gt;\r\n            &lt;version&gt;${app.version}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == This Artifact                                                 == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\r\n        &lt;artifactId&gt;services&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;${app.version}&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;jdk.version&gt;11&lt;/jdk.version&gt;\r\n            &lt;maven.compiler.target&gt;${jdk.version}&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;${jdk.version}&lt;/maven.compiler.source&gt;\r\n        &lt;/properties&gt;\r\n\r\n\r\nModule child pom is also similar to service child pom .\r\n\r\nFor me compilation steps(mvn clean install) works properly with no error but while the below command is executed to deploy the artifact via using maven deploy plugin.\r\n\r\n\r\n\r\n    mvn -e -f pom.xml flatten:clean flatten:flatten -B org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1:deploy-file -Durl={repositrypath} -DrepositoryId={repositoryId}-Dfile=pom.xml -DpomFile=/pom.xml -DgeneratePom=false \r\n\r\n\r\nError :\r\n\r\n\r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1:deploy-file (default-cli) on project integration: Failed to deploy artifacts: Could not transfer artifact com.igaurav:integration:pom:${app.version} from/to spartafactory (url): Transfer failed for {urlPath}/integration/$%257Bapp.version%257D/integration-$%257Bapp.version%257D.pom 409 Conflict\r\n```\r\n\r\nIssue here is that it is not converting the app.version into LATEST-SNAPSHOT and just reading it as it is.","title":"Maven deploy plugin not picking the value from parent pom properties","body":"<p>I have a multimodule project, in which i am defining the project version in the parent and using that property to be consumed in the child pom as below. Seems like maven deploy plugin is not able to pick the property from parent pom.</p>\n<p>Parent pom :</p>\n<pre><code> &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;!-- =================================================================== --&gt;\n    &lt;!-- == Parent                                                        == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.test.parent&lt;/groupId&gt;\n        &lt;artifactId&gt;archetype-parent&lt;/artifactId&gt;\n        &lt;version&gt;LATEST-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;!-- =================================================================== --&gt;\n    &lt;!-- == Properties                                                        == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;properties&gt;\n        &lt;jaxb.api.version&gt;2.3.0&lt;/jaxb.api.version&gt;\n        &lt;jaxb.impl.version&gt;2.3.0&lt;/jaxb.impl.version&gt;\n        &lt;app.version&gt;LATEST-SNAPSHOT&lt;/app.version&gt;\n    &lt;/properties&gt;\n\n    &lt;!-- =================================================================== --&gt;\n    &lt;!-- == This Artifact                                                 == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\n    &lt;artifactId&gt;integration&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;${app.version}&lt;/version&gt;\n\n    &lt;!-- =================================================================== --&gt;\n    &lt;!-- == Modules                                                       == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;modules&gt;\n        &lt;module&gt;modules&lt;/module&gt;\n        &lt;module&gt;services&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>Service child pom :</p>\n<pre><code>  &lt;!-- =================================================================== --&gt;\n    &lt;!-- == Parent                                                 == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\n        &lt;artifactId&gt;integration&lt;/artifactId&gt;\n        &lt;version&gt;${app.version}&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;!-- =================================================================== --&gt;\n    &lt;!-- == This Artifact                                                 == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\n    &lt;artifactId&gt;services&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;${app.version}&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;jdk.version&gt;11&lt;/jdk.version&gt;\n        &lt;maven.compiler.target&gt;${jdk.version}&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;${jdk.version}&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>Module child pom is also similar to service child pom .</p>\n<p>For me compilation steps(mvn clean install) works properly with no error but while the below command is executed to deploy the artifact via using maven deploy plugin.</p>\n<pre><code>mvn -e -f pom.xml flatten:clean flatten:flatten -B org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1:deploy-file -Durl={repositrypath} -DrepositoryId={repositoryId}-Dfile=pom.xml -DpomFile=/pom.xml -DgeneratePom=false \n</code></pre>\n<p>Error :</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1:deploy-file (default-cli) on project integration: Failed to deploy artifacts: Could not transfer artifact com.igaurav:integration:pom:${app.version} from/to spartafactory (url): Transfer failed for {urlPath}/integration/$%257Bapp.version%257D/integration-$%257Bapp.version%257D.pom 409 Conflict\n</code></pre>\n<p>Issue here is that it is not converting the app.version into LATEST-SNAPSHOT and just reading it as it is.</p>\n"},{"tags":["java","android","calculator"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1609168791,"post_id":65479088,"comment_id":115765569,"body_markdown":"You can use the DecimalFormat class to determine how a double is formatted. You can display it as 2, or as 2.0 or even more decimal places if needed.","body":"You can use the DecimalFormat class to determine how a double is formatted. You can display it as 2, or as 2.0 or even more decimal places if needed."},{"owner":{"account_id":20209060,"reputation":77,"user_id":14822557,"display_name":"cloud"},"score":0,"creation_date":1609202346,"post_id":65479088,"comment_id":115776480,"body_markdown":"@LiveandLetLive thank you for spending your time to help me. I am really a beginner that I got the above code from youtube. I am trying to understand the code you write. Thank you so much to share your knowledge!!!! I do appreciate it so much!!!","body":"@LiveandLetLive thank you for spending your time to help me. I am really a beginner that I got the above code from youtube. I am trying to understand the code you write. Thank you so much to share your knowledge!!!! I do appreciate it so much!!!"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1609222544,"post_id":65479088,"comment_id":115779947,"body_markdown":"You are most welcome.","body":"You are most welcome."}],"answers":[{"tags":[],"owner":{"account_id":10503317,"reputation":51,"user_id":7741366,"display_name":"Cx Vercility"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609166753,"creation_date":1609166430,"answer_id":65479332,"question_id":65479088,"body_markdown":"\r\nUse the modulo operator to check whether a double is an Integer \r\n    (result %1 ==0)\r\nor Math.floor then check whether result changed or not.\r\n\r\nIf it is, you can use Integer.valueOf(result)\r\n\r\nInteger has a built in toString method by the way. ","title":"How to show result with Int on calculator?","body":"<p>Use the modulo operator to check whether a double is an Integer\n(result %1 ==0)\nor Math.floor then check whether result changed or not.</p>\n<p>If it is, you can use Integer.valueOf(result)</p>\n<p>Integer has a built in toString method by the way.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1609168852,"creation_date":1609167637,"answer_id":65479613,"question_id":65479088,"body_markdown":"It is happening because you have declared `result` of type, `Double`. Therefore, until you cast it&#39;s `doubleValue()` into an `int` and set the same to `resultsTV`, its `double` value will be set there.\r\n\r\n\r\nChange your method definition as follows:\r\n\r\n    public void equalsOnClick(View view) {\r\n        Double result = null;\r\n        ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\r\n    \r\n        try {\r\n            result = (Double)engine.eval(workings);\r\n            if(result != null) {\r\n            \tint intVal = (int)result.doubleValue();\r\n                if(result == intVal) {// Check if it&#39;s value is equal to its integer part\r\n                    resultsTV.setText(String.valueOf(intVal));\r\n                } else {\r\n                    resultsTV.setText(String.valueOf(result));\r\n                }\r\n            }\r\n        } catch (ScriptException e) {\r\n            Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\r\n        }    \r\n    }\r\n\r\nNote that I have also moved `resultsTV.setText` inside the `try-catch` block so that it gets executed only when `result = (Double)engine.eval(workings)` does not throw an exception.\r\n","title":"How to show result with Int on calculator?","body":"<p>It is happening because you have declared <code>result</code> of type, <code>Double</code>. Therefore, until you cast it's <code>doubleValue()</code> into an <code>int</code> and set the same to <code>resultsTV</code>, its <code>double</code> value will be set there.</p>\n<p>Change your method definition as follows:</p>\n<pre><code>public void equalsOnClick(View view) {\n    Double result = null;\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\n\n    try {\n        result = (Double)engine.eval(workings);\n        if(result != null) {\n            int intVal = (int)result.doubleValue();\n            if(result == intVal) {// Check if it's value is equal to its integer part\n                resultsTV.setText(String.valueOf(intVal));\n            } else {\n                resultsTV.setText(String.valueOf(result));\n            }\n        }\n    } catch (ScriptException e) {\n        Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\n    }    \n}\n</code></pre>\n<p>Note that I have also moved <code>resultsTV.setText</code> inside the <code>try-catch</code> block so that it gets executed only when <code>result = (Double)engine.eval(workings)</code> does not throw an exception.</p>\n"},{"tags":[],"owner":{"display_name":"user19126248"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655181108,"creation_date":1655032819,"answer_id":72591710,"question_id":65479088,"body_markdown":"Nothing to do.\r\n\r\nJust check the string on whether it ended with `&quot;.0&quot;`\r\nIf so, just replace the string like this: `replace(&quot;.0&quot;,&quot;&quot;);`\r\n\r\nIn the else condition, insert the string as you input like now.","title":"How to show result with Int on calculator?","body":"<p>Nothing to do.</p>\n<p>Just check the string on whether it ended with <code>&quot;.0&quot;</code>\nIf so, just replace the string like this: <code>replace(&quot;.0&quot;,&quot;&quot;);</code></p>\n<p>In the else condition, insert the string as you input like now.</p>\n"}],"owner":{"account_id":20209060,"reputation":77,"user_id":14822557,"display_name":"cloud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65479613,"answer_count":3,"score":1,"last_activity_date":1655181108,"creation_date":1609165324,"question_id":65479088,"body_markdown":"I am making the calculator app. It shows double at the result even when I don&#39;t use double. \r\nExample) 1+1 = 2.0\r\n\r\nBut I want like 1+1= 2\r\n\r\nOf course, I want to keep double when there is double like 1.2+1.3= 2.5\r\n\r\nHow should I have to edit? \r\n\r\nI tried to edit like this, but there is an error. \r\n\r\n    public void equalsOnClick(View view)\r\n    {\r\n        Integer result = null;\r\n        ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\r\n\r\n        try {\r\n            result = (int)engine.eval(workings);\r\n        } catch (ScriptException e)\r\n        {\r\n            Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        if(result != null)\r\n            resultsTV.setText(String.valueOf(result.intValue()));\r\n\r\n    }\r\n\r\n\r\n**MainActivity**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TextView workingsTV;\r\n        TextView resultsTV;\r\n    \r\n        String workings = &quot;&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            initTextView();\r\n        }\r\n    \r\n        private void initTextView()\r\n        {\r\n            workingsTV = (TextView)findViewById(R.id.workingsTextView);\r\n            resultsTV = (TextView)findViewById(R.id.resultTextView);\r\n        }\r\n    \r\n        private void setWorkings(String givenValue)\r\n        {\r\n            workings = workings + givenValue;\r\n            workingsTV.setText(workings);\r\n        }\r\n    \r\n        public void equalsOnClick(View view)\r\n        {\r\n            Double result = null;\r\n            ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\r\n    \r\n            try {\r\n                result = (double)engine.eval(workings);\r\n            } catch (ScriptException e)\r\n            {\r\n                Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n            if(result != null)\r\n                resultsTV.setText(String.valueOf(result.doubleValue()));\r\n        }\r\n    \r\n        public void clearOnClick(View view)\r\n        {\r\n            workingsTV.setText(&quot;&quot;);\r\n            workings = &quot;&quot;;\r\n            resultsTV.setText(&quot;&quot;);\r\n            leftBracket = true;\r\n        }\r\n    }","title":"How to show result with Int on calculator?","body":"<p>I am making the calculator app. It shows double at the result even when I don't use double.\nExample) 1+1 = 2.0</p>\n<p>But I want like 1+1= 2</p>\n<p>Of course, I want to keep double when there is double like 1.2+1.3= 2.5</p>\n<p>How should I have to edit?</p>\n<p>I tried to edit like this, but there is an error.</p>\n<pre><code>public void equalsOnClick(View view)\n{\n    Integer result = null;\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\n\n    try {\n        result = (int)engine.eval(workings);\n    } catch (ScriptException e)\n    {\n        Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    if(result != null)\n        resultsTV.setText(String.valueOf(result.intValue()));\n\n}\n</code></pre>\n<p><strong>MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TextView workingsTV;\n    TextView resultsTV;\n\n    String workings = &quot;&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        initTextView();\n    }\n\n    private void initTextView()\n    {\n        workingsTV = (TextView)findViewById(R.id.workingsTextView);\n        resultsTV = (TextView)findViewById(R.id.resultTextView);\n    }\n\n    private void setWorkings(String givenValue)\n    {\n        workings = workings + givenValue;\n        workingsTV.setText(workings);\n    }\n\n    public void equalsOnClick(View view)\n    {\n        Double result = null;\n        ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\n\n        try {\n            result = (double)engine.eval(workings);\n        } catch (ScriptException e)\n        {\n            Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        if(result != null)\n            resultsTV.setText(String.valueOf(result.doubleValue()));\n    }\n\n    public void clearOnClick(View view)\n    {\n        workingsTV.setText(&quot;&quot;);\n        workings = &quot;&quot;;\n        resultsTV.setText(&quot;&quot;);\n        leftBracket = true;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","junit4"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1655181245,"post_id":72611555,"comment_id":128264427,"body_markdown":"Where you are creating your test class? Under src/test/java?","body":"Where you are creating your test class? Under src/test/java?"},{"owner":{"account_id":2794865,"reputation":2078,"user_id":2404262,"accept_rate":67,"display_name":"Anshul Tyagi"},"score":1,"creation_date":1655181643,"post_id":72611555,"comment_id":128264513,"body_markdown":"I&#39;m trying to create under src/main/java","body":"I&#39;m trying to create under src/main/java"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":4,"creation_date":1655181685,"post_id":72611555,"comment_id":128264518,"body_markdown":"Dependencies with scope test are not available under src/main.","body":"Dependencies with scope test are not available under src/main."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1655188839,"post_id":72611555,"comment_id":128266097,"body_markdown":"In `src/main/java` only production code is located. Tests have to be located in `src/test/java`....","body":"In <code>src&#47;main&#47;java</code> only production code is located. Tests have to be located in <code>src&#47;test&#47;java</code>...."}],"owner":{"account_id":2794865,"reputation":2078,"user_id":2404262,"accept_rate":67,"display_name":"Anshul Tyagi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655181024,"creation_date":1655181024,"question_id":72611555,"body_markdown":"I have created a new maven project where I have added dependency for Junit but I&#39;m unable to access `org.junit.*;`. I&#39;m using below `pom.xml` file for the dependency. \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mavenproject&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\nIt would be great if you can highlight my problem in this code.","title":"Unable to access Junit in a maven project of eclipse","body":"<p>I have created a new maven project where I have added dependency for Junit but I'm unable to access <code>org.junit.*;</code>. I'm using below <code>pom.xml</code> file for the dependency.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.appium&lt;/groupId&gt;\n&lt;artifactId&gt;mavenproject&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;7.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>It would be great if you can highlight my problem in this code.</p>\n"},{"tags":["java","regex","replace"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1422915457,"post_id":28286822,"comment_id":44929546,"body_markdown":"Dunno about the 2nd replaceAll, but the 4th one isn&#39;t going to find much to chew on.","body":"Dunno about the 2nd replaceAll, but the 4th one isn&#39;t going to find much to chew on."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1422915490,"post_id":28286822,"comment_id":44929563,"body_markdown":"`reaplceAll` is not called so because it replaces all the occurrences; `replace` does the same. It&#39;s called so because it replaces all the string _matching the given regular expression_.","body":"<code>reaplceAll</code> is not called so because it replaces all the occurrences; <code>replace</code> does the same. It&#39;s called so because it replaces all the string <i>matching the given regular expression</i>."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1422915670,"post_id":28286822,"comment_id":44929643,"body_markdown":"Note that you have 5 instances of `replaceAll` there.  I suspect you didn&#39;t really want a couple of them.  And you really should break the statement down into multiple statements assigning to temps -- much easier to debug that way, and no less efficient.","body":"Note that you have 5 instances of <code>replaceAll</code> there.  I suspect you didn&#39;t really want a couple of them.  And you really should break the statement down into multiple statements assigning to temps -- much easier to debug that way, and no less efficient."}],"answers":[{"tags":[],"owner":{"account_id":1338540,"reputation":9401,"user_id":1280723,"accept_rate":76,"display_name":"Crazyjavahacking"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422945995,"creation_date":1422915464,"answer_id":28287846,"question_id":28286822,"body_markdown":"The `replaceAll()` method is taking a regular expression instead of regular string. **Curly braces have special meaning in Java Regular expressions**.\r\n\r\nYou have to escape the curly braces, otherwise they will be understood as part of regex.\r\n\r\nHowever the following expression will not work correctly:\r\n\r\n    zeile.replaceAll(&quot;\\&quot;,\\&quot;&quot;,  &quot;\\uffff&quot;)\r\n         .replaceAll(&quot;,&quot;,      &quot;&quot;)\r\n         .replaceAll(&quot;\\uffff&quot;, &quot;\\&quot;,\\&quot;&quot;)\r\n         .replaceAll(&quot;\\uffff&quot;, &quot;},{&quot;)\r\n         .replaceAll(&quot;},{&quot;,    &quot;\\uffff&quot;);\r\n\r\n**Because you are using multiple calls of `replaceAll()`, you are producing multiple intermediate results**, and the results depends on the previous intermediate result.\r\n\r\ne.g. if the content of the input string will be `&quot;,&quot;,},{`, your program will:\r\n\r\n    1. zeile.replaceAll(&quot;\\&quot;,\\&quot;&quot;,  &quot;\\uffff&quot;)    // input = \\uffff,},{\r\n    2.     .replaceAll(&quot;,&quot;,       &quot;&quot;)          // input = \\uffff}{\r\n    3.     .replaceAll(&quot;\\uffff&quot;,  &quot;\\&quot;,\\&quot;&quot;)     // input = &quot;,&quot;}{\r\n    4.     .replaceAll(&quot;\\uffff&quot;,  &quot;},{&quot;)       // input = &quot;,&quot;}{\r\n    5.     .replaceAll(&quot;\\\\},\\\\{&quot;, &quot;\\uffff&quot;);   // input = &quot;,&quot;}{\r\nNotes:\r\n\r\n- note that line 1 and 3 are doing the reverse change, first you replace all occurences of `&quot;,&quot;` by `\\uffff` and then you just replace all of them back\r\n- line 4 will never execute as all the occurences of `\\uffff` were already replaced in line 3\r\n- line 5 will never execute either as all the occurences of `,` was already replaced in line 2","title":"Second replaceALL not working","body":"<p>The <code>replaceAll()</code> method is taking a regular expression instead of regular string. <strong>Curly braces have special meaning in Java Regular expressions</strong>.</p>\n\n<p>You have to escape the curly braces, otherwise they will be understood as part of regex.</p>\n\n<p>However the following expression will not work correctly:</p>\n\n<pre><code>zeile.replaceAll(\"\\\",\\\"\",  \"\\uffff\")\n     .replaceAll(\",\",      \"\")\n     .replaceAll(\"\\uffff\", \"\\\",\\\"\")\n     .replaceAll(\"\\uffff\", \"},{\")\n     .replaceAll(\"},{\",    \"\\uffff\");\n</code></pre>\n\n<p><strong>Because you are using multiple calls of <code>replaceAll()</code>, you are producing multiple intermediate results</strong>, and the results depends on the previous intermediate result.</p>\n\n<p>e.g. if the content of the input string will be <code>\",\",},{</code>, your program will:</p>\n\n<pre><code>1. zeile.replaceAll(\"\\\",\\\"\",  \"\\uffff\")    // input = \\uffff,},{\n2.     .replaceAll(\",\",       \"\")          // input = \\uffff}{\n3.     .replaceAll(\"\\uffff\",  \"\\\",\\\"\")     // input = \",\"}{\n4.     .replaceAll(\"\\uffff\",  \"},{\")       // input = \",\"}{\n5.     .replaceAll(\"\\\\},\\\\{\", \"\\uffff\");   // input = \",\"}{\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>note that line 1 and 3 are doing the reverse change, first you replace all occurences of <code>\",\"</code> by <code>\\uffff</code> and then you just replace all of them back</li>\n<li>line 4 will never execute as all the occurences of <code>\\uffff</code> were already replaced in line 3</li>\n<li>line 5 will never execute either as all the occurences of <code>,</code> was already replaced in line 2</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3104405,"reputation":1512,"user_id":2627644,"accept_rate":43,"display_name":"jp-jee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422965743,"creation_date":1422915502,"answer_id":28287859,"question_id":28286822,"body_markdown":"Characters `{` and `}` have a special meaning in regular expressions (quantifier). Escape these characters using `\\`.\r\n\r\nEscape this for Java using a second `\\`.\r\n\r\nResult: `.replaceAll(&quot;\\\\},\\\\{&quot;, &quot;\\\\uffff&quot;);`\r\n\r\n**Update**\r\n\r\nChange the order of your replacements as following:\r\n\r\n\t\t   zeile = zeile.replaceAll(&quot;\\&quot;,\\&quot;&quot;, &quot;\\uffff&quot;)    //backup any &quot;,&quot; \r\n\t\t\t\t   \t\t.replaceAll(&quot;\\\\},\\\\{&quot;, &quot;\\ueeee&quot;)  //backup any },{\r\n\t\t\t\t   \t\t.replaceAll(&quot;,&quot;, &quot;&quot;)              //replace all commas that are still in the string\r\n\t\t\t\t   \t\t.replaceAll(&quot;\\uffff&quot;, &quot;\\&quot;,\\&quot;&quot;)    //restore &quot;,&quot;\r\n\t\t\t\t   \t\t.replaceAll(&quot;\\ueeee&quot;, &quot;},{&quot;);     //restore },{","title":"Second replaceALL not working","body":"<p>Characters <code>{</code> and <code>}</code> have a special meaning in regular expressions (quantifier). Escape these characters using <code>\\</code>.</p>\n\n<p>Escape this for Java using a second <code>\\</code>.</p>\n\n<p>Result: <code>.replaceAll(\"\\\\},\\\\{\", \"\\\\uffff\");</code></p>\n\n<p><strong>Update</strong></p>\n\n<p>Change the order of your replacements as following:</p>\n\n<pre><code>       zeile = zeile.replaceAll(\"\\\",\\\"\", \"\\uffff\")    //backup any \",\" \n                    .replaceAll(\"\\\\},\\\\{\", \"\\ueeee\")  //backup any },{\n                    .replaceAll(\",\", \"\")              //replace all commas that are still in the string\n                    .replaceAll(\"\\uffff\", \"\\\",\\\"\")    //restore \",\"\n                    .replaceAll(\"\\ueeee\", \"},{\");     //restore },{\n</code></pre>\n"}],"owner":{"account_id":5620492,"reputation":23,"user_id":4450512,"display_name":"ayhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655180993,"creation_date":1422911410,"question_id":28286822,"body_markdown":"My code doesn&#39;t want to work. I would like to replace all commas but replace these commas &quot;,&quot; and this `},{`\r\n  \r\n\r\n    import java.io.*;\r\n\r\n    public class converter {\r\n\t   \r\n    public static void main(String[] args) throws IOException {\r\n\t   try {\r\n\r\n\t        BufferedReader br = new BufferedReader(\r\n\t                new FileReader(&quot;C:/Users/Sei_Erfolgreich/Desktop/convert.txt&quot;));\r\n\t        String zeile;\r\n\r\n\t        try {\r\n\t            File newTextFile = new File(&quot;C:/Users/Sei_Erfolgreich/Desktop/convert2.txt&quot;);\r\n\t            FileWriter fw = new FileWriter(newTextFile);\r\n\t            while ((zeile = br.readLine()) != null) {\r\n\t                zeile = zeile.replaceAll(&quot;\\&quot;,\\&quot;&quot;, &quot;\\uffff&quot;).replaceAll(&quot;,&quot;, &quot;&quot;).replaceAll(&quot;\\uffff&quot;, &quot;\\&quot;,\\&quot;&quot;)\r\n\t                .replaceAll(&quot;\\uffff&quot;, &quot;},{&quot;)\r\n\t                .replaceAll(&quot;},{&quot;, &quot;\\uffff&quot;);\r\n\t                System.out.println(zeile);\r\n\t                fw.write(zeile);\r\n\t            }\r\n\r\n\t            fw.close();\r\n\t        } catch (IOException e) {\r\n\t            e.printStackTrace();\r\n\t        }\r\n\t    } catch (FileNotFoundException e1) {\r\n\t        e1.printStackTrace();\r\n\t    }\r\n   \r\n     }\r\n    }\r\n\t\t\r\n\r\nSo I want to let this comma stay which stay between `},{`, but it does not work and I get an error message `&quot;Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException: Illegal repetition near index 1 },{`&quot;","title":"Second replaceALL not working","body":"<p>My code doesn't want to work. I would like to replace all commas but replace these commas \",\" and this <code>},{</code></p>\n\n<pre><code>import java.io.*;\n\npublic class converter {\n\npublic static void main(String[] args) throws IOException {\n   try {\n\n        BufferedReader br = new BufferedReader(\n                new FileReader(\"C:/Users/Sei_Erfolgreich/Desktop/convert.txt\"));\n        String zeile;\n\n        try {\n            File newTextFile = new File(\"C:/Users/Sei_Erfolgreich/Desktop/convert2.txt\");\n            FileWriter fw = new FileWriter(newTextFile);\n            while ((zeile = br.readLine()) != null) {\n                zeile = zeile.replaceAll(\"\\\",\\\"\", \"\\uffff\").replaceAll(\",\", \"\").replaceAll(\"\\uffff\", \"\\\",\\\"\")\n                .replaceAll(\"\\uffff\", \"},{\")\n                .replaceAll(\"},{\", \"\\uffff\");\n                System.out.println(zeile);\n                fw.write(zeile);\n            }\n\n            fw.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    } catch (FileNotFoundException e1) {\n        e1.printStackTrace();\n    }\n\n }\n}\n</code></pre>\n\n<p>So I want to let this comma stay which stay between <code>},{</code>, but it does not work and I get an error message <code>\"Exception in thread \"main\" java.util.regex.PatternSyntaxException: Illegal repetition near index 1 },{</code>\"</p>\n"},{"tags":["java","url","unicode"],"comments":[{"owner":{"account_id":293472,"reputation":467154,"user_id":596781,"accept_rate":80,"display_name":"Kerrek SB"},"score":1,"creation_date":1347155557,"post_id":12335912,"comment_id":16559418,"body_markdown":"Java strings are naturally Unicode encoded (in UTF-16). URLs need to be encoded as [Punycode](http://en.wikipedia.org/wiki/Punycode). The problem must be somewhere else in your program flow.","body":"Java strings are naturally Unicode encoded (in UTF-16). URLs need to be encoded as <a href=\"http://en.wikipedia.org/wiki/Punycode\" rel=\"nofollow noreferrer\">Punycode</a>. The problem must be somewhere else in your program flow."},{"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"score":2,"creation_date":1347156896,"post_id":12335912,"comment_id":16559548,"body_markdown":"Have you tried [java.net.IDN](http://docs.oracle.com/javase/6/docs/api/java/net/IDN.html)?","body":"Have you tried <a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/IDN.html\" rel=\"nofollow noreferrer\">java.net.IDN</a>?"},{"owner":{"display_name":"user352353"},"score":0,"creation_date":1347223775,"post_id":12335912,"comment_id":16571022,"body_markdown":"Please see the update I added; if you can help me I appreciate it.","body":"Please see the update I added; if you can help me I appreciate it."},{"owner":{"account_id":422939,"reputation":4371,"user_id":802012,"accept_rate":60,"display_name":"Mark Butler"},"score":0,"creation_date":1370242306,"post_id":12335912,"comment_id":24372612,"body_markdown":"See this related question http://stackoverflow.com/questions/3295989/apache-common-urlvalidator-does-not-support-unicode-alernative-is-avaliable","body":"See this related question <a href=\"http://stackoverflow.com/questions/3295989/apache-common-urlvalidator-does-not-support-unicode-alernative-is-avaliable\" title=\"apache common urlvalidator does not support unicode alernative is avaliable\">stackoverflow.com/questions/3295989/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1347160070,"creation_date":1347160070,"answer_id":12336221,"question_id":12335912,"body_markdown":"Not sure what do you mean by &quot;parse&quot; - what do you intend to do with these parts? &lt;BR&gt;\r\nArabic and Russian, as far as I know are supported by UTF-8. &lt;BR&gt;\r\nNot sure what is your source of data (some sort of Stream perhaps?) but [String][1] has a CTOR that accepts the desired encoding. &lt;BR&gt;\r\nYou should be able to obtain a string NOT containing ??? when it comes to Arabic and Russian if you use this CTOR (with the &quot;UTF-8&quot; argument)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html","title":"How to handle UNICODE URL?","body":"<p>Not sure what do you mean by \"parse\" - what do you intend to do with these parts? <BR>\nArabic and Russian, as far as I know are supported by UTF-8. <BR>\nNot sure what is your source of data (some sort of Stream perhaps?) but <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html\" rel=\"nofollow\">String</a> has a CTOR that accepts the desired encoding. <BR>\nYou should be able to obtain a string NOT containing ??? when it comes to Arabic and Russian if you use this CTOR (with the \"UTF-8\" argument)</p>\n"},{"tags":[],"owner":{"account_id":1169780,"reputation":408,"user_id":1147207,"display_name":"Mark Yao"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1347160775,"creation_date":1347160775,"answer_id":12336261,"question_id":12335912,"body_markdown":"You can try the follow code:\r\n\r\n    import java.net.URLDecoder;\r\n    import java.net.URLEncoder;\r\n\r\n    public class Test7 {\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString str = &quot;http://www.中国政府.政务.cn&quot;;\r\n\t\tSystem.out.println(URLDecoder.decode(str, URLEncoder.encode(str,\r\n\t\t\t\t&quot;UTF-8&quot;)));\r\n\t    }\r\n    }","title":"How to handle UNICODE URL?","body":"<p>You can try the follow code:</p>\n\n<pre><code>import java.net.URLDecoder;\nimport java.net.URLEncoder;\n\npublic class Test7 {\npublic static void main(String[] args) throws Exception {\n    String str = \"http://www.中国政府.政务.cn\";\n    System.out.println(URLDecoder.decode(str, URLEncoder.encode(str,\n            \"UTF-8\")));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076392,"reputation":1,"user_id":2605592,"display_name":"Volmir Alex"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1374471021,"creation_date":1374469762,"answer_id":17780315,"question_id":12335912,"body_markdown":"You may try use the following:\r\n\r\n    String pageUrl = &quot;http://www.中国政府.政务.cn&quot;;\r\n\r\n    try \r\n    {\r\n    \t    URL url = new URL(pageUrl);\r\n    \t    System.out.println(url.toURI().toASCIIString());\r\n    }\r\n\r\n    catch (MalformedURLException e1) \r\n    {\r\n\t    // TODO Auto-generated catch block\r\n\t    e1.printStackTrace();\r\n    }\r\n\r\n    catch (URISyntaxException e) \r\n    {\r\n\t    // TODO Auto-generated catch block\r\n\t    e.printStackTrace();\r\n    }\r\n\r\nThe result is as expected:\r\nhttp://www.%E4%B8%AD%E5%9B%BD%E6%94%BF%E5%BA%9C.%E6%94%BF%E5%8A%A1.cn\r\n\r\nBut converting to `URI` has its own disadvantage, you should replace manually the special characters like `&#39;|&#39;, &#39;&quot;&#39;, &#39;#&#39;` to its `URL` encoding.","title":"How to handle UNICODE URL?","body":"<p>You may try use the following:</p>\n\n<pre><code>String pageUrl = \"http://www.中国政府.政务.cn\";\n\ntry \n{\n        URL url = new URL(pageUrl);\n        System.out.println(url.toURI().toASCIIString());\n}\n\ncatch (MalformedURLException e1) \n{\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n\ncatch (URISyntaxException e) \n{\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>The result is as expected:\n<a href=\"http://www.%E4%B8%AD%E5%9B%BD%E6%94%BF%E5%BA%9C.%E6%94%BF%E5%8A%A1.cn\">http://www.%E4%B8%AD%E5%9B%BD%E6%94%BF%E5%BA%9C.%E6%94%BF%E5%8A%A1.cn</a></p>\n\n<p>But converting to <code>URI</code> has its own disadvantage, you should replace manually the special characters like <code>'|', '\"', '#'</code> to its <code>URL</code> encoding.</p>\n"},{"tags":[],"owner":{"account_id":6179691,"reputation":36,"user_id":4815595,"display_name":"Hyunjong Lee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445256458,"creation_date":1445256458,"answer_id":33213993,"question_id":12335912,"body_markdown":"For domain name, you should convert unicode host name using [Punycode][1].\r\nPunycode is a way to convert unicode string to ascii string.\r\n\r\nThe following link shows a JAVA method to convert Unicode Domain Name to International Domain Name.\r\nhttps://docs.oracle.com/javase/6/docs/api/java/net/IDN.html#toASCII(java.lang.String)\r\n\r\n    \tURL u = new URL(url);\r\n\t\tString host = u.getHost();\r\n\r\n\t\tString[] labels = host.split(&quot;\\\\.&quot;);\r\n\t\tfor (int i = 0; i &lt; labels.length; i++) {\r\n\t\t\tlabels[i] = java.net.IDN.toUnicode(labels[i]);\r\n\t\t}\r\n\t\thost = StringUtils.join(labels, &quot;.&quot;);\r\n\t\tSystem.out.println(host);\r\n\r\nAlso, you can test some unicode URL using online punycode converter.\r\nhttps://www.punycoder.com/\r\n\r\nFor example, &quot;http://www.中国政府.政务.cn&quot; is converted into &quot;http://www.xn--fiqs8sirgfmh.xn--zfr164b.cn/&quot;.\r\n\r\n[1]: https://en.wikipedia.org/wiki/Punycode","title":"How to handle UNICODE URL?","body":"<p>For domain name, you should convert unicode host name using <a href=\"https://en.wikipedia.org/wiki/Punycode\" rel=\"nofollow\">Punycode</a>.\nPunycode is a way to convert unicode string to ascii string.</p>\n\n<p>The following link shows a JAVA method to convert Unicode Domain Name to International Domain Name.\n<a href=\"https://docs.oracle.com/javase/6/docs/api/java/net/IDN.html#toASCII(java.lang.String)\" rel=\"nofollow\">https://docs.oracle.com/javase/6/docs/api/java/net/IDN.html#toASCII(java.lang.String)</a></p>\n\n<pre><code>    URL u = new URL(url);\n    String host = u.getHost();\n\n    String[] labels = host.split(\"\\\\.\");\n    for (int i = 0; i &lt; labels.length; i++) {\n        labels[i] = java.net.IDN.toUnicode(labels[i]);\n    }\n    host = StringUtils.join(labels, \".\");\n    System.out.println(host);\n</code></pre>\n\n<p>Also, you can test some unicode URL using online punycode converter.\n<a href=\"https://www.punycoder.com/\" rel=\"nofollow\">https://www.punycoder.com/</a></p>\n\n<p>For example, \"<a href=\"http://www.%E4%B8%AD%E5%9B%BD%E6%94%BF%E5%BA%9C.%E6%94%BF%E5%8A%A1.cn\">http://www.中国政府.政务.cn</a>\" is converted into \"<a href=\"http://www.xn--fiqs8sirgfmh.xn--zfr164b.cn/\" rel=\"nofollow\">http://www.xn--fiqs8sirgfmh.xn--zfr164b.cn/</a>\".</p>\n"},{"tags":[],"owner":{"account_id":12146552,"reputation":399,"user_id":8868638,"display_name":"Yehezkiel L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655180374,"creation_date":1655180374,"answer_id":72611490,"question_id":12335912,"body_markdown":"Based on @hyunjong [answer][1] its not working to use `toUnicode`, use `toASCII` instead. And if you prefer kotlin, you can use this code\r\n\r\n    val a = &quot;http://www.中国政府.政务.cn&quot;\r\n\r\n    val u = URL(a);\r\n    val labels = u.host.split(&quot;\\\\.&quot;);\r\n    val result = labels.joinToString(separator = &quot;.&quot;) { s -&gt;\r\n        java.net.IDN.toASCII(s)\r\n    }\r\n    \r\n    print(result) //www.xn--fiqs8sirgfmh.xn--zfr164b.cn\r\n    \r\n    \r\n    \r\n   [1]: https://stackoverflow.com/a/33213993/8868638\r\n\r\n ","title":"How to handle UNICODE URL?","body":"<p>Based on @hyunjong <a href=\"https://stackoverflow.com/a/33213993/8868638\">answer</a> its not working to use <code>toUnicode</code>, use <code>toASCII</code> instead. And if you prefer kotlin, you can use this code</p>\n<pre><code>val a = &quot;http://www.中国政府.政务.cn&quot;\n\nval u = URL(a);\nval labels = u.host.split(&quot;\\\\.&quot;);\nval result = labels.joinToString(separator = &quot;.&quot;) { s -&gt;\n    java.net.IDN.toASCII(s)\n}\n\nprint(result) //www.xn--fiqs8sirgfmh.xn--zfr164b.cn\n</code></pre>\n"}],"owner":{"display_name":"user352353"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7187,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1655180374,"creation_date":1347155072,"question_id":12335912,"body_markdown":"If I want to pase the following URL&#39;s in Java:\r\n\r\n![Screenshot of URL&#39;s in UNICODE][1]\r\n\r\n... what handle should I have with the String.\r\n\r\nSo far I have been unable to handle that String&#39;s, all I&#39;ve got are ???? chars.\r\n\r\nThanks.\r\n\r\nModified in 2012.09.09:\r\n\r\n    package pruebas;\r\n    \r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import java.net.URLDecoder;\r\n    import java.net.URLEncoder;\r\n    import java.util.Vector;\r\n    \r\n    public class Prueba03\r\n    {\r\n    \tpublic static void main(String argumentos[])\r\n    \t{\r\n    \t\tVector&lt;String&gt; listaURLs = new Vector&lt;String&gt;();\r\n    \t\t\r\n    \t\tlistaURLs.add(&quot;http://президент.рф/&quot;);\r\n    \t\tlistaURLs.add(&quot;http://www.中国政府.政务.cn&quot;);\r\n    \t\tlistaURLs.add(&quot;http://www.原來我不帥.cn/&quot;);\r\n    \t\tlistaURLs.add(&quot;http://وزارة-الأتصالات.مصر/&quot;);\r\n    \t\t\r\n    \t\tURL currentURL;\r\n    \t    URLConnection currentConnection;\r\n    \t    int currentSize;\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;listaURLs.size(); i++)\r\n    \t\t{\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(URLDecoder.decode(listaURLs.get(i), URLEncoder.encode(listaURLs.get(i), &quot;UTF-8&quot;)));\r\n    \t\t\t} // End of the try.\r\n    \t\t\tcatch(UnsupportedEncodingException uee)\r\n    \t\t\t{\r\n    \t\t\t\tuee.printStackTrace();\r\n    \t\t\t} // End of the catch.\r\n    \t\t\tcatch(Exception e)\r\n    \t\t\t{\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} // End of the catch.\r\n    \t\t\t\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tcurrentURL = new URL(listaURLs.get(i));\r\n    \t\t\t\tSystem.out.println(&quot;currentURL&quot; + &quot; = &quot; + currentURL);\r\n    \t\t\t\t\r\n    \t\t\t\tcurrentConnection = currentURL.openConnection();\r\n    \t\t\t\tSystem.out.println(&quot;currentConnection&quot; + &quot; = &quot; + currentConnection);\r\n    \t\t\t\t\r\n    \t\t\t\tcurrentSize = currentConnection.getContentLength();\r\n    \t\t\t\tSystem.out.println(&quot;currentSize&quot; + &quot; = &quot; + currentSize);\r\n    \t\t\t} // End of the try.\r\n    \t\t\tcatch(Exception e)\r\n    \t\t\t{\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} // End of the catch.\r\n    \t\t} // End of the for.\r\n    \t} // End of the main method.\r\n    } // End of the Prueba02 class.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3IG9m.png","title":"How to handle UNICODE URL?","body":"<p>If I want to pase the following URL's in Java:</p>\n\n<p><img src=\"https://i.stack.imgur.com/3IG9m.png\" alt=\"Screenshot of URL&#39;s in UNICODE\"></p>\n\n<p>... what handle should I have with the String.</p>\n\n<p>So far I have been unable to handle that String's, all I've got are ???? chars.</p>\n\n<p>Thanks.</p>\n\n<p>Modified in 2012.09.09:</p>\n\n<pre><code>package pruebas;\n\nimport java.io.UnsupportedEncodingException;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.net.URLDecoder;\nimport java.net.URLEncoder;\nimport java.util.Vector;\n\npublic class Prueba03\n{\n    public static void main(String argumentos[])\n    {\n        Vector&lt;String&gt; listaURLs = new Vector&lt;String&gt;();\n\n        listaURLs.add(\"http://президент.рф/\");\n        listaURLs.add(\"http://www.中国政府.政务.cn\");\n        listaURLs.add(\"http://www.原來我不帥.cn/\");\n        listaURLs.add(\"http://وزارة-الأتصالات.مصر/\");\n\n        URL currentURL;\n        URLConnection currentConnection;\n        int currentSize;\n\n        for(int i=0; i&lt;listaURLs.size(); i++)\n        {\n            try\n            {\n                System.out.println(URLDecoder.decode(listaURLs.get(i), URLEncoder.encode(listaURLs.get(i), \"UTF-8\")));\n            } // End of the try.\n            catch(UnsupportedEncodingException uee)\n            {\n                uee.printStackTrace();\n            } // End of the catch.\n            catch(Exception e)\n            {\n                e.printStackTrace();\n            } // End of the catch.\n\n            try\n            {\n                currentURL = new URL(listaURLs.get(i));\n                System.out.println(\"currentURL\" + \" = \" + currentURL);\n\n                currentConnection = currentURL.openConnection();\n                System.out.println(\"currentConnection\" + \" = \" + currentConnection);\n\n                currentSize = currentConnection.getContentLength();\n                System.out.println(\"currentSize\" + \" = \" + currentSize);\n            } // End of the try.\n            catch(Exception e)\n            {\n                e.printStackTrace();\n            } // End of the catch.\n        } // End of the for.\n    } // End of the main method.\n} // End of the Prueba02 class.\n</code></pre>\n"},{"tags":["java","java-8","switch-statement"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1653394067,"post_id":72362600,"comment_id":127836920,"body_markdown":"Use a `Map&lt;String, String&gt;` to look up the format string? (Unfortunately it&#39;s hard to tell whether that would work with only pseudo-code. We don&#39;t need to see the *actual* business code, but you should be able to come up with a [mcve] that demonstrates the problem.)","body":"Use a <code>Map&lt;String, String&gt;</code> to look up the format string? (Unfortunately it&#39;s hard to tell whether that would work with only pseudo-code. We don&#39;t need to see the <i>actual</i> business code, but you should be able to come up with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem.)"},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1653394158,"post_id":72362600,"comment_id":127836956,"body_markdown":"You mean &lt;case-check&gt; as key and arg to format as value?","body":"You mean &lt;case-check&gt; as key and arg to format as value?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1653394367,"post_id":72362600,"comment_id":127837047,"body_markdown":"@justanotherguy You need to show what your formatting string *and* arguments look like.","body":"@justanotherguy You need to show what your formatting string <i>and</i> arguments look like."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1653394414,"post_id":72362600,"comment_id":127837066,"body_markdown":"And if you are bound to a particular Java version, you&#39;ll need to mention that in your question as well.","body":"And if you are bound to a particular Java version, you&#39;ll need to mention that in your question as well."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1653394595,"post_id":72362600,"comment_id":127837148,"body_markdown":"Does that mean that you are running Java 8 (i.e. language features for Java versions &gt; 8 cannot be used)?","body":"Does that mean that you are running Java 8 (i.e. language features for Java versions &gt; 8 cannot be used)?"},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1653394613,"post_id":72362600,"comment_id":127837155,"body_markdown":"Yes, precisely.","body":"Yes, precisely."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1653397206,"post_id":72362600,"comment_id":127838264,"body_markdown":"With your specific example, you could have a `Map&lt;String, String&gt;` where the keys would be &quot;name1&quot; -&gt; &quot;surname1&quot;, &quot;name2&quot; -&gt; &quot;surname2&quot; and &quot;name3&quot; -&gt; &quot;surname3&quot;. But are the differences *really* just constants?","body":"With your specific example, you could have a <code>Map&lt;String, String&gt;</code> where the keys would be &quot;name1&quot; -&gt; &quot;surname1&quot;, &quot;name2&quot; -&gt; &quot;surname2&quot; and &quot;name3&quot; -&gt; &quot;surname3&quot;. But are the differences <i>really</i> just constants?"},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1653400598,"post_id":72362600,"comment_id":127839875,"body_markdown":"@JonSkeet, yes, and no. The application actually converts the syntax of the old style input lines to new. So, the surname part (which isn&#39;t actually the surname), that actually comes from a list holding the changed attributes of the line.","body":"@JonSkeet, yes, and no. The application actually converts the syntax of the old style input lines to new. So, the surname part (which isn&#39;t actually the surname), that actually comes from a list holding the changed attributes of the line."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1653402419,"post_id":72362600,"comment_id":127840723,"body_markdown":"@justanotherguy: That doesn&#39;t really tell me whether it&#39;s suitable to be in a map... it sounds like what you&#39;ve shown still isn&#39;t *actually* representative of what you need.","body":"@justanotherguy: That doesn&#39;t really tell me whether it&#39;s suitable to be in a map... it sounds like what you&#39;ve shown still isn&#39;t <i>actually</i> representative of what you need."},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1653454735,"post_id":72362600,"comment_id":127853551,"body_markdown":"@JonSkeet, sorry man. I am trying my best, but I fear that I might accidentally disclose privileged information about the program. That is why I am trying to be as abstract as possible.","body":"@JonSkeet, sorry man. I am trying my best, but I fear that I might accidentally disclose privileged information about the program. That is why I am trying to be as abstract as possible."},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1653454864,"post_id":72362600,"comment_id":127853578,"body_markdown":"All I can say is this, @MCEmperor is very close to what is actually happening. The only thing left now is what to do when some names are to be appended with a middle name too along with the surname, while some names have 3 surnames (that&#39;s a valid possibility here in my country)","body":"All I can say is this, @MCEmperor is very close to what is actually happening. The only thing left now is what to do when some names are to be appended with a middle name too along with the surname, while some names have 3 surnames (that&#39;s a valid possibility here in my country)"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653396161,"creation_date":1653395498,"answer_id":72362936,"question_id":72362600,"body_markdown":"Well, if all of your cases have that exact form, then you could simply do something like this:\r\n\r\n```java\r\nString surname;\r\nswitch (name) {\r\n    case &quot;name1&quot;:\r\n        surname = &quot;surname1&quot;;\r\n        break;\r\n    case &quot;name2&quot;:\r\n        surname = &quot;surname2&quot;;\r\n        break;\r\n    default:\r\n        surname = &quot;&quot;;\r\n        break;\r\n}\r\nString fullname = String.format(&quot;%s %s&quot;, name, surname);\r\n```\r\n\r\nOr use a `Map` to look up the value:\r\n\r\n```java\r\nMap&lt;String, String&gt; mapping = new HashMap&lt;&gt;();\r\nmapping.put(&quot;name1&quot;, &quot;surname1&quot;);\r\nmapping.put(&quot;name2&quot;, &quot;surname2&quot;);\r\nmapping.put(&quot;name3&quot;, &quot;surname3&quot;);\r\n\r\nString surname = mapping.get(name); // Assuming name is always a valid map entry\r\nString fullname = String.format(&quot;%s %s&quot;, name, surname);\r\n```\r\n","title":"Simplify a switch statement to avoid code duplication","body":"<p>Well, if all of your cases have that exact form, then you could simply do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String surname;\nswitch (name) {\n    case &quot;name1&quot;:\n        surname = &quot;surname1&quot;;\n        break;\n    case &quot;name2&quot;:\n        surname = &quot;surname2&quot;;\n        break;\n    default:\n        surname = &quot;&quot;;\n        break;\n}\nString fullname = String.format(&quot;%s %s&quot;, name, surname);\n</code></pre>\n<p>Or use a <code>Map</code> to look up the value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; mapping = new HashMap&lt;&gt;();\nmapping.put(&quot;name1&quot;, &quot;surname1&quot;);\nmapping.put(&quot;name2&quot;, &quot;surname2&quot;);\nmapping.put(&quot;name3&quot;, &quot;surname3&quot;);\n\nString surname = mapping.get(name); // Assuming name is always a valid map entry\nString fullname = String.format(&quot;%s %s&quot;, name, surname);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653595767,"creation_date":1653595767,"answer_id":72397509,"question_id":72362600,"body_markdown":"The `Map` approach outlined elsewhere is probably your best best for Java 8, but note that as of Java 14, you can use a switch expression:\r\n\r\n```\r\nString surname = switch (name) { \r\n    case &quot;name1&quot; -&gt; &quot;surname1&quot;;\r\n    case &quot;name2&quot; -&gt; &quot;surname2&quot;;\r\n    ...\r\n};\r\nString fullName = String.format(&quot;%s %s&quot;, name, surname);\r\n ","title":"Simplify a switch statement to avoid code duplication","body":"<p>The <code>Map</code> approach outlined elsewhere is probably your best best for Java 8, but note that as of Java 14, you can use a switch expression:</p>\n<pre><code>String surname = switch (name) { \n    case &quot;name1&quot; -&gt; &quot;surname1&quot;;\n    case &quot;name2&quot; -&gt; &quot;surname2&quot;;\n    ...\n};\nString fullName = String.format(&quot;%s %s&quot;, name, surname);\n \n</code></pre>\n"}],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72362936,"answer_count":2,"score":0,"last_activity_date":1655180180,"creation_date":1653393971,"question_id":72362600,"body_markdown":"I have the following code:\r\n\r\n```lang-java\r\nString fullName = &quot;&quot;;\r\nswitch(name) {\r\n  case &quot;name1&quot;:\r\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname1&quot;);\r\n    break;\r\n\r\n  case &quot;name2&quot;:\r\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname2&quot;);    \r\n    break;\r\n\r\n  case &quot;name3&quot;:\r\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname3&quot;);\r\n    break;\r\n  ...\r\n}\r\n```\r\n(there&#39;s a break statement after the cases, I just haven&#39;t written it here)\r\n\r\nSo here&#39;s the problem:\r\n\r\nThere&#39;s 16 different case statements all having the exact same code, except for the argument to `String.format()`.\r\n\r\nIs there any way I can simplify this code?\r\n\r\n\r\n----------\r\n\r\nNote: Java 8 is a must","title":"Simplify a switch statement to avoid code duplication","body":"<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fullName = &quot;&quot;;\nswitch(name) {\n  case &quot;name1&quot;:\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname1&quot;);\n    break;\n\n  case &quot;name2&quot;:\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname2&quot;);    \n    break;\n\n  case &quot;name3&quot;:\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname3&quot;);\n    break;\n  ...\n}\n</code></pre>\n<p>(there's a break statement after the cases, I just haven't written it here)</p>\n<p>So here's the problem:</p>\n<p>There's 16 different case statements all having the exact same code, except for the argument to <code>String.format()</code>.</p>\n<p>Is there any way I can simplify this code?</p>\n<hr />\n<p>Note: Java 8 is a must</p>\n"},{"tags":["java","esapi"],"answers":[{"tags":[],"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504827525,"creation_date":1504827525,"answer_id":46106563,"question_id":46089274,"body_markdown":"I think I answered a previous question.  \r\n\r\nAgain you&#39;re the victim of some bad design choices back at the beginning of the ESAPI project between 2009-2011. Namely, the Singleton-based monolith.  \r\n\r\nESAPI&#39;s current design is monolithic, meaning it tries to be everything to everyone.  As you&#39;re well aware, this isn&#39;t the best design strategy, but that&#39;s where we&#39;re at.  \r\n\r\nWe have several proposals for breaking various functions out into separate libraries, but that&#39;s future work towards building ESAPI 3.0.  \r\n\r\nFor your current dilemma, there&#39;s too much of the library that is dependent upon functionality that it sounds like you don&#39;t need and don&#39;t intend to use.  Unfortunately, that is simply the current fact of life.  No one has ever seemed to use our authentication interface--but its there for everybody, even if they don&#39;t need it.  Most users use our encoding/decoding capability first, followed by the validation API and then crypto.  The last couple are log injection and the WAF.  \r\n\r\nMost users of ESAPI take the non-prod test file, and leave it at that.  (This is a *really* bad idea.)  \r\n\r\nThe others take the one you reference and work through the exceptions, asking us questions on the mailing list.  \r\n\r\nThis is not an ideal path to walk either, but it&#39;s the path we&#39;re in right now. \r\n\r\nThe danger from my perspective, is if you choose to implement happy-path configurations for the ones ESAPI is throwing exceptions towards, with the goal of JUST making it happy so you can get to your two narrow use-cases. \r\n\r\nThen you get promoted and another developer on your app is faced with a problem that she thinks is solved because you handled all the integration with ESAPI.  \r\n\r\nPAY ATTENTION TO THE PARTS OF ESAPI THAT DON&#39;T PERTAIN TO YOUR USE CASE.  This isn&#39;t ideal, but its where we&#39;re at in 2017. Ask us questions on the user list.  \r\n\r\nFailure to do so--especially in the crypto portion, will leave your application vulnerable in the future.   \r\n","title":"Minimum required properties in ESAPI.properties","body":"<p>I think I answered a previous question.  </p>\n\n<p>Again you're the victim of some bad design choices back at the beginning of the ESAPI project between 2009-2011. Namely, the Singleton-based monolith.  </p>\n\n<p>ESAPI's current design is monolithic, meaning it tries to be everything to everyone.  As you're well aware, this isn't the best design strategy, but that's where we're at.  </p>\n\n<p>We have several proposals for breaking various functions out into separate libraries, but that's future work towards building ESAPI 3.0.  </p>\n\n<p>For your current dilemma, there's too much of the library that is dependent upon functionality that it sounds like you don't need and don't intend to use.  Unfortunately, that is simply the current fact of life.  No one has ever seemed to use our authentication interface--but its there for everybody, even if they don't need it.  Most users use our encoding/decoding capability first, followed by the validation API and then crypto.  The last couple are log injection and the WAF.  </p>\n\n<p>Most users of ESAPI take the non-prod test file, and leave it at that.  (This is a <em>really</em> bad idea.)  </p>\n\n<p>The others take the one you reference and work through the exceptions, asking us questions on the mailing list.  </p>\n\n<p>This is not an ideal path to walk either, but it's the path we're in right now. </p>\n\n<p>The danger from my perspective, is if you choose to implement happy-path configurations for the ones ESAPI is throwing exceptions towards, with the goal of JUST making it happy so you can get to your two narrow use-cases. </p>\n\n<p>Then you get promoted and another developer on your app is faced with a problem that she thinks is solved because you handled all the integration with ESAPI.  </p>\n\n<p>PAY ATTENTION TO THE PARTS OF ESAPI THAT DON'T PERTAIN TO YOUR USE CASE.  This isn't ideal, but its where we're at in 2017. Ask us questions on the user list.  </p>\n\n<p>Failure to do so--especially in the crypto portion, will leave your application vulnerable in the future.   </p>\n"},{"tags":[],"owner":{"account_id":326850,"reputation":1174,"user_id":1525799,"accept_rate":75,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1504884824,"creation_date":1504828989,"answer_id":46106748,"question_id":46089274,"body_markdown":"If you are just using the encoder() function, the 3 lines in the encoder section is all you need. Lines 99-119 (between all the comments). \r\n\r\n**Edit** \r\nPlus you must specify a default encoder. Example:\r\n\r\n    \r\n    ESAPI.Encoder=org.owasp.esapi.reference.DefaultEncoder\r\n    \r\n    Encoder.AllowMultipleEncoding=false\r\n    \r\n    Encoder.AllowMixedEncoding=false\r\n    \r\n    Encoder.DefaultCodecList=HTMLEntityCodec,PercentCodec,JavaScriptCodec","title":"Minimum required properties in ESAPI.properties","body":"<p>If you are just using the encoder() function, the 3 lines in the encoder section is all you need. Lines 99-119 (between all the comments). </p>\n\n<p><strong>Edit</strong> \nPlus you must specify a default encoder. Example:</p>\n\n<pre><code>ESAPI.Encoder=org.owasp.esapi.reference.DefaultEncoder\n\nEncoder.AllowMultipleEncoding=false\n\nEncoder.AllowMixedEncoding=false\n\nEncoder.DefaultCodecList=HTMLEntityCodec,PercentCodec,JavaScriptCodec\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15304769,"reputation":21,"user_id":11041927,"display_name":"Deepak Kenchamba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655179913,"creation_date":1655179913,"answer_id":72611448,"question_id":46089274,"body_markdown":"# RegEx used in ESAPI.validator().getValidInput(..) calls\r\nValidator.COMPANY_ID_PTRN=[a-zA-Z0-9]+&lt;br/&gt;\r\nValidator.USER_DN_PTRN=[a-zA-Z0-9=,]+&lt;br/&gt;\r\nValidator.ROLE_DN_PTRN=[a-zA-Z0-9=,^\\\\- ]+&lt;br/&gt;\r\n\r\n# Minimum default settings\r\nESAPI.Encoder=org.owasp.encoder.esapi.ESAPIEncoder&lt;br/&gt;\r\nESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory&lt;br/&gt;\r\nLogger.ApplicationName=TrianzApp&lt;br/&gt;\r\nLogger.LogEncodingRequired=false&lt;br/&gt;\r\nLogger.LogApplicationName=false&lt;br/&gt;\r\nLogger.LogServerIP=false&lt;br/&gt;\r\nLogger.UserInfo=false&lt;br/&gt;\r\nLogger.ClientInfo=false&lt;br/&gt;\r\nIntrusionDetector.Disable=true&lt;br/&gt;\r\nESAPI.Validator=org.owasp.esapi.reference.DefaultValidator&lt;br/&gt;\r\nEncoder.AllowMixedEncoding=false&lt;br/&gt;\r\nEncoder.AllowMultipleEncoding=false&lt;br/&gt;\r\nESAPI.printProperties=false&lt;br/&gt;\r\n","title":"Minimum required properties in ESAPI.properties","body":"<h1>RegEx used in ESAPI.validator().getValidInput(..) calls</h1>\n<p>Validator.COMPANY_ID_PTRN=[a-zA-Z0-9]+<br/>\nValidator.USER_DN_PTRN=[a-zA-Z0-9=,]+<br/>\nValidator.ROLE_DN_PTRN=[a-zA-Z0-9=,^\\- ]+<br/></p>\n<h1>Minimum default settings</h1>\n<p>ESAPI.Encoder=org.owasp.encoder.esapi.ESAPIEncoder<br/>\nESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory<br/>\nLogger.ApplicationName=TrianzApp<br/>\nLogger.LogEncodingRequired=false<br/>\nLogger.LogApplicationName=false<br/>\nLogger.LogServerIP=false<br/>\nLogger.UserInfo=false<br/>\nLogger.ClientInfo=false<br/>\nIntrusionDetector.Disable=true<br/>\nESAPI.Validator=org.owasp.esapi.reference.DefaultValidator<br/>\nEncoder.AllowMixedEncoding=false<br/>\nEncoder.AllowMultipleEncoding=false<br/>\nESAPI.printProperties=false<br/></p>\n"}],"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8501,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46106748,"answer_count":3,"score":3,"last_activity_date":1655179913,"creation_date":1504765621,"question_id":46089274,"body_markdown":"My web application uses only the following ESAPI encode methods:\r\n\r\n - `ESAPI.encoder().encodeForLDAP()`\r\n - `ESAPI.encoder().encodeForHTML()`\r\n\r\nIn this case, what is the minimum required properties in ESAPI.properties?\r\n\r\nNow I&#39;m using ESAPI 2.1.0.1 and [this properties](https://github.com/k-tamura/easybuggy/blob/master/src/main/resources/ESAPI.properties).","title":"Minimum required properties in ESAPI.properties","body":"<p>My web application uses only the following ESAPI encode methods:</p>\n\n<ul>\n<li><code>ESAPI.encoder().encodeForLDAP()</code></li>\n<li><code>ESAPI.encoder().encodeForHTML()</code></li>\n</ul>\n\n<p>In this case, what is the minimum required properties in ESAPI.properties?</p>\n\n<p>Now I'm using ESAPI 2.1.0.1 and <a href=\"https://github.com/k-tamura/easybuggy/blob/master/src/main/resources/ESAPI.properties\" rel=\"nofollow noreferrer\">this properties</a>.</p>\n"},{"tags":["java","nashorn"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1515762715,"creation_date":1515762715,"answer_id":48227010,"question_id":48226505,"body_markdown":"You can create a native array through javascript, and then convert the corresponding `ScriptObjectMirror` to a `List&lt;Object&gt;`, it looks like the list will use the native array as underlying storage:\r\n\r\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);    \t\r\n\tScriptObjectMirror jsArray = (ScriptObjectMirror) engine.eval(&quot;var arr = []; arr&quot;);\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tList&lt;Object&gt; ls = jsArray.to(List.class);\r\n\tls.add(1);\r\n\tls.add(2);\r\n\tls.add(3);\r\n\t\r\n\tSystem.out.println(ls); // [1, 2, 3]\r\n\tengine.eval(&quot;print(arr)&quot;); // 1,2,3\r\n\tengine.eval(&quot;print(Array.isArray(arr))&quot;); // true\r\n\r\nYou can then use this list on the Java side.\r\n    ","title":"How to wrap to NativeArray in Nashorn without using classes from &quot;internal&quot; subpackage","body":"<p>You can create a native array through javascript, and then convert the corresponding <code>ScriptObjectMirror</code> to a <code>List&lt;Object&gt;</code>, it looks like the list will use the native array as underlying storage:</p>\n\n<pre><code>ScriptEngine engine = new ScriptEngineManager().getEngineByName(\"nashorn\");     \nScriptObjectMirror jsArray = (ScriptObjectMirror) engine.eval(\"var arr = []; arr\");\n\n@SuppressWarnings(\"unchecked\")\nList&lt;Object&gt; ls = jsArray.to(List.class);\nls.add(1);\nls.add(2);\nls.add(3);\n\nSystem.out.println(ls); // [1, 2, 3]\nengine.eval(\"print(arr)\"); // 1,2,3\nengine.eval(\"print(Array.isArray(arr))\"); // true\n</code></pre>\n\n<p>You can then use this list on the Java side.</p>\n"},{"tags":[],"owner":{"account_id":44768,"reputation":4435,"user_id":131552,"display_name":"Attila Szegedi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515777529,"creation_date":1515777529,"answer_id":48231096,"question_id":48226505,"body_markdown":"Nashorn has a non-standard top-level `Java` object with – among other things – useful conversion methods named `to` and `from`. If you have a Java array `arr`, then `Java.from(arr)` will create a JS array as a shallow copy of the Java array. It also works with any `java.util.Collection`.\r\n\r\nNote that in most cases, you can use Java arrays and lists natively in Nashorn; in cases where for some reason you need to have an actual JavaScript native array (e.g. to work with the array comprehensions functions), you will want to use this method. ","title":"How to wrap to NativeArray in Nashorn without using classes from &quot;internal&quot; subpackage","body":"<p>Nashorn has a non-standard top-level <code>Java</code> object with – among other things – useful conversion methods named <code>to</code> and <code>from</code>. If you have a Java array <code>arr</code>, then <code>Java.from(arr)</code> will create a JS array as a shallow copy of the Java array. It also works with any <code>java.util.Collection</code>.</p>\n\n<p>Note that in most cases, you can use Java arrays and lists natively in Nashorn; in cases where for some reason you need to have an actual JavaScript native array (e.g. to work with the array comprehensions functions), you will want to use this method. </p>\n"},{"tags":[],"owner":{"account_id":405167,"reputation":9,"user_id":4018593,"display_name":"kun yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655179599,"creation_date":1655179599,"answer_id":72611411,"question_id":48226505,"body_markdown":"Global.wrapAsObject()\r\n\r\n    /**\r\n     * Wrap a Java object as corresponding script object\r\n     *\r\n     * @param obj object to wrap\r\n     * @return    wrapped object\r\n     */\r\n    public Object wrapAsObject(final Object obj) {\r\n        if (obj instanceof Boolean) {\r\n            return new NativeBoolean((Boolean)obj, this);\r\n        } else if (obj instanceof Number) {\r\n            return new NativeNumber(((Number)obj).doubleValue(), this);\r\n        } else if (isString(obj)) {\r\n            return new NativeString((CharSequence)obj, this);\r\n        } else if (obj instanceof Object[]) { // extension\r\n            return new NativeArray(ArrayData.allocate((Object[])obj), this);\r\n        } else if (obj instanceof double[]) { // extension\r\n            return new NativeArray(ArrayData.allocate((double[])obj), this);\r\n        } else if (obj instanceof int[]) {\r\n            return new NativeArray(ArrayData.allocate((int[]) obj), this);\r\n        } else if (obj instanceof ArrayData) {\r\n            return new NativeArray((ArrayData) obj, this);\r\n        } else if (obj instanceof Symbol) {\r\n            return new NativeSymbol((Symbol) obj, this);\r\n        } else {\r\n            // FIXME: more special cases? Map? List?\r\n            return obj;\r\n        }\r\n    }","title":"How to wrap to NativeArray in Nashorn without using classes from &quot;internal&quot; subpackage","body":"<p>Global.wrapAsObject()</p>\n<pre><code>/**\n * Wrap a Java object as corresponding script object\n *\n * @param obj object to wrap\n * @return    wrapped object\n */\npublic Object wrapAsObject(final Object obj) {\n    if (obj instanceof Boolean) {\n        return new NativeBoolean((Boolean)obj, this);\n    } else if (obj instanceof Number) {\n        return new NativeNumber(((Number)obj).doubleValue(), this);\n    } else if (isString(obj)) {\n        return new NativeString((CharSequence)obj, this);\n    } else if (obj instanceof Object[]) { // extension\n        return new NativeArray(ArrayData.allocate((Object[])obj), this);\n    } else if (obj instanceof double[]) { // extension\n        return new NativeArray(ArrayData.allocate((double[])obj), this);\n    } else if (obj instanceof int[]) {\n        return new NativeArray(ArrayData.allocate((int[]) obj), this);\n    } else if (obj instanceof ArrayData) {\n        return new NativeArray((ArrayData) obj, this);\n    } else if (obj instanceof Symbol) {\n        return new NativeSymbol((Symbol) obj, this);\n    } else {\n        // FIXME: more special cases? Map? List?\n        return obj;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48227010,"answer_count":3,"score":2,"last_activity_date":1655179599,"creation_date":1515760843,"question_id":48226505,"body_markdown":"I have a Java array, say, `Object[]`, which I need to pass to the JS execution environment, which is `ScriptEngine`.\r\n\r\nI cannot simply put it as a property in the following way:\r\n\r\n\tScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\r\n\tObject[] array = {1, 2, 3};\r\n\tengine.put(&quot;prop&quot;, array);\r\n\r\nbecause in the JS environment expression `Array.isArray(prop)` will be evaluated to `false`, whereas I need it to be `true`.\r\n\r\n`jdk.nashorn.internal.objects.NativeArray` constructors are closed, which means you cannot instantiate `NativeArray` explicitly.\r\n\r\nOne can, however, use `jdk.nashorn.internal.objects.Global.instance().wrapAsObject` to convert Java array `Object[]` to `NativeArray`, and the resultant object would be recognized as a JS array, i.e. `Array.isArray` would return true for this object.\r\n\r\nAlthough this gives the desired result, using classes from `internal` package is not a very good idea, and even worse idea if you are using Java 9.\r\n\r\nThus, I am wondering, is there a better way to provide Java object to the JS execution environment assuming I cannot change the JS source so that the object is recognized a true JS array, i.e. `Array.isArray` returns true?","title":"How to wrap to NativeArray in Nashorn without using classes from &quot;internal&quot; subpackage","body":"<p>I have a Java array, say, <code>Object[]</code>, which I need to pass to the JS execution environment, which is <code>ScriptEngine</code>.</p>\n\n<p>I cannot simply put it as a property in the following way:</p>\n\n<pre><code>ScriptEngine engine = new ScriptEngineManager().getEngineByName(\"nashorn\");\nObject[] array = {1, 2, 3};\nengine.put(\"prop\", array);\n</code></pre>\n\n<p>because in the JS environment expression <code>Array.isArray(prop)</code> will be evaluated to <code>false</code>, whereas I need it to be <code>true</code>.</p>\n\n<p><code>jdk.nashorn.internal.objects.NativeArray</code> constructors are closed, which means you cannot instantiate <code>NativeArray</code> explicitly.</p>\n\n<p>One can, however, use <code>jdk.nashorn.internal.objects.Global.instance().wrapAsObject</code> to convert Java array <code>Object[]</code> to <code>NativeArray</code>, and the resultant object would be recognized as a JS array, i.e. <code>Array.isArray</code> would return true for this object.</p>\n\n<p>Although this gives the desired result, using classes from <code>internal</code> package is not a very good idea, and even worse idea if you are using Java 9.</p>\n\n<p>Thus, I am wondering, is there a better way to provide Java object to the JS execution environment assuming I cannot change the JS source so that the object is recognized a true JS array, i.e. <code>Array.isArray</code> returns true?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":7,"creation_date":1655104944,"post_id":72599034,"comment_id":128242232,"body_markdown":"Because the designers of the Java language decided to provide a shortcut when initializing an array in the same statement that&#39;s declaring an array variable. It&#39;s &quot;syntactic sugar&quot;. The values inside the brackets are number literals, another feature of the Java language.","body":"Because the designers of the Java language decided to provide a shortcut when initializing an array in the same statement that&#39;s declaring an array variable. It&#39;s &quot;syntactic sugar&quot;. The values inside the brackets are number literals, another feature of the Java language."},{"owner":{"account_id":1546585,"reputation":4397,"user_id":1440005,"display_name":"Octavian Mărculescu"},"score":2,"creation_date":1655104957,"post_id":72599034,"comment_id":128242237,"body_markdown":"It is probably just syntactic sugar. &quot;In the background&quot;, the constructor will most likely still be called.","body":"It is probably just syntactic sugar. &quot;In the background&quot;, the constructor will most likely still be called."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1655105047,"post_id":72599034,"comment_id":128242273,"body_markdown":"While at it, there are in fact also other ways to create instances, actually bypassing constructors (its mostly legacy though, avoid it), for example the Clone- and Serialization-API.","body":"While at it, there are in fact also other ways to create instances, actually bypassing constructors (its mostly legacy though, avoid it), for example the Clone- and Serialization-API."},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1655105210,"post_id":72599034,"comment_id":128242326,"body_markdown":"Syntactic sugar - may be inspired by C++ aggregates initialization https://en.cppreference.com/w/cpp/language/aggregate_initialization","body":"Syntactic sugar - may be inspired by C++ aggregates initialization <a href=\"https://en.cppreference.com/w/cpp/language/aggregate_initialization\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/aggregate_initialization</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655105214,"post_id":72599034,"comment_id":128242328,"body_markdown":"[Because the JLS says so](https://docs.oracle.com/javase/specs/jls/se18/html/jls-10.html#jls-10.3). Your claim &#39;objects should be instantiated with the &quot;new&quot; keyword&#39; is false. There are several other ways.","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-10.html#jls-10.3\" rel=\"nofollow noreferrer\">Because the JLS says so</a>. Your claim &#39;objects should be instantiated with the &quot;new&quot; keyword&#39; is false. There are several other ways."}],"owner":{"account_id":25539100,"reputation":1,"user_id":19325551,"display_name":"Moayad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655105159,"answer_count":0,"score":0,"last_activity_date":1655179522,"creation_date":1655104825,"question_id":72599034,"body_markdown":"Since arrays are objects in java, and objects should be instantiated with the &quot;new&quot; keyword, I wonder how is it possible then to instantiate an array without using the new keyword, for example:\r\n\r\n    int[]test = {33,44,55};","title":"Initialization of arrays without the new keyword","body":"<p>Since arrays are objects in java, and objects should be instantiated with the &quot;new&quot; keyword, I wonder how is it possible then to instantiate an array without using the new keyword, for example:</p>\n<pre><code>int[]test = {33,44,55};\n</code></pre>\n"},{"tags":["java","android","android-studio","android-layout","android-developer-api"],"answers":[{"tags":[],"owner":{"account_id":16213907,"reputation":1,"user_id":11707139,"display_name":"Eduardo Vargas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655179369,"creation_date":1655052976,"answer_id":72594206,"question_id":70167219,"body_markdown":"It&#39;s a bit late but I&#39;d be happy to help you.\r\n\r\n1. First you must create a new file in the layout directory, for example: `custom_cast_ui.xml`.\r\n\r\n2. In your activity you need to call `custom_cast_ui.xml` like this: `setContentView(R.layout.custom_cast_ui);`\r\n\r\n3. If you need to call elements like `ImageView`, you can do it as normal, because the new layout has already been set. Like this: `ImageView imageView = findViewById(R.id.img_example);`","title":"Display different ui on TV screen when connect with screen casting with android app in android studio?","body":"<p>It's a bit late but I'd be happy to help you.</p>\n<ol>\n<li><p>First you must create a new file in the layout directory, for example: <code>custom_cast_ui.xml</code>.</p>\n</li>\n<li><p>In your activity you need to call <code>custom_cast_ui.xml</code> like this: <code>setContentView(R.layout.custom_cast_ui);</code></p>\n</li>\n<li><p>If you need to call elements like <code>ImageView</code>, you can do it as normal, because the new layout has already been set. Like this: <code>ImageView imageView = findViewById(R.id.img_example);</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":16041581,"reputation":1,"user_id":11577868,"display_name":"VIKAS KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655179369,"creation_date":1638265464,"question_id":70167219,"body_markdown":"I want to show a different UI when the app is casting a screen with a TV in android studio.\r\n\r\nI tried a lot but haven&#39;t succeeded yet. Please help me to sort out this problem.\r\n","title":"Display different ui on TV screen when connect with screen casting with android app in android studio?","body":"<p>I want to show a different UI when the app is casting a screen with a TV in android studio.</p>\n<p>I tried a lot but haven't succeeded yet. Please help me to sort out this problem.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2451367,"reputation":5905,"user_id":2284641,"accept_rate":67,"display_name":"Johannes H."},"down_vote_count":5,"up_vote_count":6,"is_accepted":false,"score":1,"last_activity_date":1465158098,"creation_date":1465158098,"answer_id":37646393,"question_id":37646364,"body_markdown":"`.` is not an operator. Therefore, it &quot;does&quot; nothing.\r\n\r\nIt is just a syntactic element that denotes the seperation of, in this case, a variable name holding an object and the object&#39;s property. The same character is used to seperate package names and Classes.","title":"What is the purpose of Java DOT operator?","body":"<p><code>.</code> is not an operator. Therefore, it \"does\" nothing.</p>\n\n<p>It is just a syntactic element that denotes the seperation of, in this case, a variable name holding an object and the object's property. The same character is used to seperate package names and Classes.</p>\n"},{"tags":[],"owner":{"account_id":11397851,"reputation":82,"user_id":8355623,"display_name":"Karthik Reddy V V"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1502086012,"creation_date":1502086012,"answer_id":45540349,"question_id":37646364,"body_markdown":"The dot operator, also known as separator or period used to separate a variable or method from a reference variable.\r\n\r\nOnly static variables or methods can be accessed using class name.\r\n\r\nCode that is outside the object&#39;s class must use an object reference or expression, followed by the dot (.) operator, followed by a simple field name as in\r\n    \r\n    objectReference.fieldName\r\n\r\nWe use the object reference to invoke an object&#39;s method. Append the method&#39;s simple name to the object reference, with an intervening dot operator (.) as in \r\n\r\n    objectReference.methodName(argumentList);\r\n\r\n\r\nIn the above mentioned code, ***p.great()*** can be used to invoke the method ***great()*** on object ***p*** and ***p.value*** is used to access the instance variable ***value***.\r\n\r\n\r\nRef: https://docs.oracle.com/javase/tutorial/java/javaOO/usingobject.html\r\n\r\n  The Complete Reference, Book by Herbert Schildt\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n","title":"What is the purpose of Java DOT operator?","body":"<p>The dot operator, also known as separator or period used to separate a variable or method from a reference variable.</p>\n\n<p>Only static variables or methods can be accessed using class name.</p>\n\n<p>Code that is outside the object's class must use an object reference or expression, followed by the dot (.) operator, followed by a simple field name as in</p>\n\n<pre><code>objectReference.fieldName\n</code></pre>\n\n<p>We use the object reference to invoke an object's method. Append the method's simple name to the object reference, with an intervening dot operator (.) as in </p>\n\n<pre><code>objectReference.methodName(argumentList);\n</code></pre>\n\n<p>In the above mentioned code, <strong><em>p.great()</em></strong> can be used to invoke the method <strong><em>great()</em></strong> on object <strong><em>p</em></strong> and <strong><em>p.value</em></strong> is used to access the instance variable <strong><em>value</em></strong>.</p>\n\n<p>Ref: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/usingobject.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/usingobject.html</a></p>\n\n<p>The Complete Reference, Book by Herbert Schildt</p>\n"},{"tags":[],"owner":{"account_id":17498339,"reputation":11,"user_id":12689182,"display_name":"Anatolii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655178913,"creation_date":1654945832,"answer_id":72583822,"question_id":37646364,"body_markdown":"Simply the dot operator acts as an access provider for objects and classes. The usage of the above operator is as below.\r\n\r\nIt separates a function and variable from an instance variable.\r\nIt allows accessing sub-packages and classes from a package.\r\nIt leads to access to the member of a class or a package.\r\n```\r\npublic class DotOperatorExample1 {\r\n        \r\nvoid display() { \r\n        double d = 67.54;    \r\n        int i = (int)d;  \r\n        System.out.println(i);  \r\n    }  \r\npublic static void main(String args[]) {  \r\n        DotOperatorExample1 doe = new DotOperatorExample1();   \r\n        doe.display();\r\n    }  \r\n}  \r\n```\r\n\r\n","title":"What is the purpose of Java DOT operator?","body":"<p>Simply the dot operator acts as an access provider for objects and classes. The usage of the above operator is as below.</p>\n<p>It separates a function and variable from an instance variable.\nIt allows accessing sub-packages and classes from a package.\nIt leads to access to the member of a class or a package.</p>\n<pre><code>public class DotOperatorExample1 {\n        \nvoid display() { \n        double d = 67.54;    \n        int i = (int)d;  \n        System.out.println(i);  \n    }  \npublic static void main(String args[]) {  \n        DotOperatorExample1 doe = new DotOperatorExample1();   \n        doe.display();\n    }  \n}  \n</code></pre>\n"}],"owner":{"account_id":2845383,"reputation":112,"user_id":2443943,"accept_rate":0,"display_name":"user2443943"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35551,"favorite_count":0,"down_vote_count":5,"up_vote_count":9,"answer_count":3,"score":4,"last_activity_date":1655178913,"creation_date":1465157921,"question_id":37646364,"body_markdown":"Can somebody tell me what Java DOT operator actually does? \r\n\r\nFor example:\r\n```\r\npublic class {\r\n    int value;\r\n    public void great() {};\r\n    ... \r\n}\r\n```\r\n```\r\npublic static void main(String[] args) {\r\n    \r\n    Person p = new Person();\r\n    \r\n    Person.great(); // &lt;--- here\r\n    \r\n    Person.value; // &lt;--- here\r\n```\r\n\r\nI want to know what is **`.`** operator doing in above code when I do `Person.great()` or `Person.value`?","title":"What is the purpose of Java DOT operator?","body":"<p>Can somebody tell me what Java DOT operator actually does? </p>\n\n<p>For example:</p>\n\n<pre><code>public class {\n    int value;\n    public void great() {};\n    ... \n}\n</code></pre>\n\n<pre><code>public static void main(String[] args) {\n\n    Person p = new Person();\n\n    Person.great(); // &lt;--- here\n\n    Person.value; // &lt;--- here\n</code></pre>\n\n<p>I want to know what is <strong><code>.</code></strong> operator doing in above code when I do <code>Person.great()</code> or <code>Person.value</code>?</p>\n"},{"tags":["java","android","inheritance"],"comments":[{"owner":{"account_id":1834983,"reputation":4628,"user_id":1665544,"accept_rate":25,"display_name":"Suau"},"score":0,"creation_date":1382080703,"post_id":19443371,"comment_id":28829247,"body_markdown":"i&#39;d recommend to use fragments instead, this way you can put the layout and functionality of your menu into a single fragment and inflate it in several activities (if necessary, you might also just use one activity and just swap fragments) google for &quot;android master detail&quot;","body":"i&#39;d recommend to use fragments instead, this way you can put the layout and functionality of your menu into a single fragment and inflate it in several activities (if necessary, you might also just use one activity and just swap fragments) google for &quot;android master detail&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2686520,"reputation":14490,"user_id":2320817,"accept_rate":50,"display_name":"kalyan pvs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382079396,"creation_date":1382079396,"answer_id":19443423,"question_id":19443371,"body_markdown":"Yes you can..for this take one MainActivty and write your menu code in that..after then all your activitys extend that MainActivity like below..\r\n\r\n    class  MainActivty extend Activity{\r\n    }\r\n    \r\n    class FirstActivity extend MainActivity{\r\n    }\r\n    \r\n    \r\n    class SecondActivity extend MainActivity{\r\n    }\r\n\r\nThen menu will appear in your all activitys..\r\n","title":"Import common functions in all activities android","body":"<p>Yes you can..for this take one MainActivty and write your menu code in that..after then all your activitys extend that MainActivity like below..</p>\n\n<pre><code>class  MainActivty extend Activity{\n}\n\nclass FirstActivity extend MainActivity{\n}\n\n\nclass SecondActivity extend MainActivity{\n}\n</code></pre>\n\n<p>Then menu will appear in your all activitys..</p>\n"},{"tags":[],"owner":{"account_id":1663738,"reputation":369,"user_id":1531560,"display_name":"narangrajeev81"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382079445,"creation_date":1382079445,"answer_id":19443435,"question_id":19443371,"body_markdown":"Yes you can create a layout and include it like this:\r\n    \r\n    &lt;include\r\n    android:id=&quot;@+id/headerLayout&quot;\r\n    layout=&quot;@layout/login_header&quot;\r\n    /&gt;\r\n\r\nIt has its own class file where common functionality can be kept.","title":"Import common functions in all activities android","body":"<p>Yes you can create a layout and include it like this:</p>\n\n<pre><code>&lt;include\nandroid:id=\"@+id/headerLayout\"\nlayout=\"@layout/login_header\"\n/&gt;\n</code></pre>\n\n<p>It has its own class file where common functionality can be kept.</p>\n"},{"tags":[],"owner":{"account_id":1790949,"reputation":77601,"user_id":1631379,"accept_rate":80,"display_name":"Maxim Shoustin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382079810,"creation_date":1382079452,"answer_id":19443438,"question_id":19443371,"body_markdown":"&gt; I have to repeat the code for these in all activities.\r\n\r\nJava does not support multiple inheritances.\r\n\r\n Don’t use inheritance just to get code reuse. If there is no **is a** relationship then use composition for code reuse. Overuse of implementation inheritance (aka `extends`) can break all the sub-classes, if the superclass is modified.\r\n\r\n![enter image description here][1]\r\n\r\n\r\nIn you case I would use **composition**. Just create new class that implements above mentioned Listener logic.\r\n\r\n  [1]: http://i.stack.imgur.com/h5OYe.png","title":"Import common functions in all activities android","body":"<blockquote>\n  <p>I have to repeat the code for these in all activities.</p>\n</blockquote>\n\n<p>Java does not support multiple inheritances.</p>\n\n<p>Don’t use inheritance just to get code reuse. If there is no <strong>is a</strong> relationship then use composition for code reuse. Overuse of implementation inheritance (aka <code>extends</code>) can break all the sub-classes, if the superclass is modified.</p>\n\n<p><img src=\"https://i.stack.imgur.com/h5OYe.png\" alt=\"enter image description here\"></p>\n\n<p>In you case I would use <strong>composition</strong>. Just create new class that implements above mentioned Listener logic.</p>\n"},{"tags":[],"owner":{"account_id":1717378,"reputation":5135,"user_id":1574153,"accept_rate":26,"display_name":"Bhanu Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655178275,"creation_date":1382081282,"answer_id":19443974,"question_id":19443371,"body_markdown":"Steps to reuse function in java class:\r\n    \r\n 1. make a Singleton class so that that instance is anywhere you can get\r\n  2. mention all your code in this class \r\n  3. use all method from this class\r\n\r\n    \r\n    \r\n   and if you use that layout also then just make one xml and include it in all layout where you want to add.\r\n\r\n  \r\n","title":"Import common functions in all activities android","body":"<p>Steps to reuse function in java class:</p>\n<ol>\n<li>make a Singleton class so that that instance is anywhere you can get</li>\n<li>mention all your code in this class</li>\n<li>use all method from this class</li>\n</ol>\n<p>and if you use that layout also then just make one xml and include it in all layout where you want to add.</p>\n"},{"tags":[],"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655123496,"creation_date":1382082170,"answer_id":19444234,"question_id":19443371,"body_markdown":"it&#39;s very easy you just create a class\r\n```\r\nclass  MenuActivty extend Activity{\r\n    \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n\tsuper.onCreate(savedInstanceState);\r\n\t\r\n\t((Button)findViewById(R.id.mymenu_home).setOnClickListener(new OnClickListener(){\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(this, HomeActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\t\r\n\t((Button)findViewById(R.id.mymenu_help).setOnClickListener(new OnClickListener(){\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(this, HelpActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\r\n//... same thing for the others\r\n    }\r\n}\r\n\r\n```\r\nbe careful to rename the menu &quot;mymenu&quot; in all the XML\r\n\r\nand all the classes where you want to use the menu should be extended MenuActivty \r\n\r\nand in the XML use\r\n```\r\n&lt;include layout=&quot;@layout/menulayout &quot;\r\n    android:id=&quot;@+id/mymenu&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n```\r\nand create an XML file named menulayout where you put the layout of your menu.","title":"Import common functions in all activities android","body":"<p>it's very easy you just create a class</p>\n<pre><code>class  MenuActivty extend Activity{\n    \n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    \n    ((Button)findViewById(R.id.mymenu_home).setOnClickListener(new OnClickListener(){\n    @Override\n    public void onClick(View v) {\n    // TODO Auto-generated method stub\n    Intent i = new Intent(this, HomeActivity.class);\n    startActivity(i);\n    }\n    });\n    \n    ((Button)findViewById(R.id.mymenu_help).setOnClickListener(new OnClickListener(){\n    @Override\n    public void onClick(View v) {\n    // TODO Auto-generated method stub\n    Intent i = new Intent(this, HelpActivity.class);\n    startActivity(i);\n    }\n    });\n\n//... same thing for the others\n    }\n}\n\n</code></pre>\n<p>be careful to rename the menu &quot;mymenu&quot; in all the XML</p>\n<p>and all the classes where you want to use the menu should be extended MenuActivty</p>\n<p>and in the XML use</p>\n<pre><code>&lt;include layout=&quot;@layout/menulayout &quot;\n    android:id=&quot;@+id/mymenu&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;/&gt;\n</code></pre>\n<p>and create an XML file named menulayout where you put the layout of your menu.</p>\n"},{"tags":[],"owner":{"account_id":4971840,"reputation":363,"user_id":3999311,"display_name":"Rashmi Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655162084,"creation_date":1411985465,"answer_id":26097417,"question_id":19443371,"body_markdown":"   Follow these steps:\r\n    \r\n   1. Create a generic layout for menu and include it wherever you want to use it.\r\n   \r\n\r\n \r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/headerLayout&quot;\r\n        layout=&quot;@layout/login_header&quot;\r\n        /&gt;\r\n\r\n2. Create a class CentralizedHeader. Create on constructor with one parameter of activity type.\r\n    \r\n  3. Create a function here and initialize all views and perform all related functionality here.\r\n```\r\npublic class CentralizedHeader {\r\n\r\n  private Button btnHome, btnContribute;\r\n  private Activity activity;\r\n\r\n  public CentralizedHeader(Activity activity) {\r\n    this.activity = activity;\r\n  }\r\n\r\n  public void headerActions() {\r\n\r\n    btnHome = (Button) activity.findViewById(R.id.btn_home);\r\n    btnContribute = (Button) activity.findViewById(R.id.btn_contribute);\r\n\r\n    btnHome.setOnClickListener(new OnClickListener() {\r\n      @Override\r\n      public void onClick(View v) {\r\n        Intent intent = new Intent(activity, MorePackagesActivity.class);\r\n        activity.startActivity(intent);\r\n      }\r\n    });\r\n\r\n    btnContribute.setOnClickListener(new OnClickListener() {\r\n\r\n      @Override\r\n      public void onClick(View v) {\r\n        Intent intent = new Intent(activity, ContributeActivity.class);\r\n        activity.startActivity(intent);\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n```  \r\n   4. Create an object of this class in other activity and call its function. ie\r\n    \r\n    public class MainActivity extends Activity {\r\n    \tprivate CentralizedHeader headerCentralized;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.fragment_home_tab);\r\n    \t\theaderCentralized = new CentralizedHeader(this);\r\n    \t\theaderCentralized.headerActions();\r\n    \t}\r\n    \r\n    }","title":"Import common functions in all activities android","body":"<p>Follow these steps:</p>\n<ol>\n<li>Create a generic layout for menu and include it wherever you want to use it.</li>\n</ol>\n<pre><code>&lt;include\n    android:id=&quot;@+id/headerLayout&quot;\n    layout=&quot;@layout/login_header&quot;\n    /&gt;\n</code></pre>\n<ol start=\"2\">\n<li><p>Create a class CentralizedHeader. Create on constructor with one parameter of activity type.</p>\n</li>\n<li><p>Create a function here and initialize all views and perform all related functionality here.</p>\n</li>\n</ol>\n<pre><code>public class CentralizedHeader {\n\n  private Button btnHome, btnContribute;\n  private Activity activity;\n\n  public CentralizedHeader(Activity activity) {\n    this.activity = activity;\n  }\n\n  public void headerActions() {\n\n    btnHome = (Button) activity.findViewById(R.id.btn_home);\n    btnContribute = (Button) activity.findViewById(R.id.btn_contribute);\n\n    btnHome.setOnClickListener(new OnClickListener() {\n      @Override\n      public void onClick(View v) {\n        Intent intent = new Intent(activity, MorePackagesActivity.class);\n        activity.startActivity(intent);\n      }\n    });\n\n    btnContribute.setOnClickListener(new OnClickListener() {\n\n      @Override\n      public void onClick(View v) {\n        Intent intent = new Intent(activity, ContributeActivity.class);\n        activity.startActivity(intent);\n      }\n    });\n  }\n\n}\n</code></pre>\n<ol start=\"4\">\n<li>Create an object of this class in other activity and call its function. ie</li>\n</ol>\n<pre><code>public class MainActivity extends Activity {\n    private CentralizedHeader headerCentralized;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.fragment_home_tab);\n        headerCentralized = new CentralizedHeader(this);\n        headerCentralized.headerActions();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2811817,"reputation":70,"user_id":2417904,"display_name":"Sanjay Kushwaha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411989161,"creation_date":1411986213,"answer_id":26097654,"question_id":19443371,"body_markdown":"Use only one **Activity** that have all the menus and create **Fragments** for activity. Replace fragment on clicking to the menu. This is the good way to achieve your functionality as you want.","title":"Import common functions in all activities android","body":"<p>Use only one <strong>Activity</strong> that have all the menus and create <strong>Fragments</strong> for activity. Replace fragment on clicking to the menu. This is the good way to achieve your functionality as you want.</p>\n"}],"owner":{"account_id":2066373,"reputation":1185,"user_id":1841812,"accept_rate":46,"display_name":"Shahbaz Pothiawala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3364,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":7,"score":1,"last_activity_date":1655178275,"creation_date":1382079151,"question_id":19443371,"body_markdown":"I am working on an android app that has a menu at the top (like we have in websites; home, aboutus etc). This menu is repeated in all the activities so I have to repeat the code for these in all activities. Is there a way that I can write the code once in some class and reuse it in all other activities using inheritance or something? (Just lice there is include function in php). Hope my question is straight forward. Here is the code for the menu that I have to repeat everywhere.\r\n\r\n\t// menu items\r\n\tmenu_home.setOnClickListener(new OnClickListener() {\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(CurrentActivity.this, HomeActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\tmenu_help.setOnClickListener(new OnClickListener() {\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(CurrentActivity.this, HelpActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\tmenu_media.setOnClickListener(new OnClickListener() {;\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(CurrentActivity.this, MediaActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\tmenu_index.setOnClickListener(new OnClickListener() {;\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(HomeActivity.this, IndexActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/gPLVP.jpg","title":"Import common functions in all activities android","body":"<p>I am working on an android app that has a menu at the top (like we have in websites; home, aboutus etc). This menu is repeated in all the activities so I have to repeat the code for these in all activities. Is there a way that I can write the code once in some class and reuse it in all other activities using inheritance or something? (Just lice there is include function in php). Hope my question is straight forward. Here is the code for the menu that I have to repeat everywhere.</p>\n\n<pre><code>// menu items\nmenu_home.setOnClickListener(new OnClickListener() {\n@Override\npublic void onClick(View v) {\n// TODO Auto-generated method stub\nIntent i = new Intent(CurrentActivity.this, HomeActivity.class);\nstartActivity(i);\n}\n});\nmenu_help.setOnClickListener(new OnClickListener() {\n@Override\npublic void onClick(View v) {\n// TODO Auto-generated method stub\nIntent i = new Intent(CurrentActivity.this, HelpActivity.class);\nstartActivity(i);\n}\n});\nmenu_media.setOnClickListener(new OnClickListener() {;\n@Override\npublic void onClick(View v) {\n// TODO Auto-generated method stub\nIntent i = new Intent(CurrentActivity.this, MediaActivity.class);\nstartActivity(i);\n}\n});\nmenu_index.setOnClickListener(new OnClickListener() {;\n@Override\npublic void onClick(View v) {\n// TODO Auto-generated method stub\nIntent i = new Intent(HomeActivity.this, IndexActivity.class);\nstartActivity(i);\n}\n});\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/gPLVP.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","eclipse","lombok"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655177947,"creation_date":1655177947,"answer_id":72611252,"question_id":72611191,"body_markdown":"Open the &#39;outline&#39; view (as in, the actual view, not the quick-nav popup).\r\n\r\nFrom the menu: Window, Show View, Outline.\r\n\r\nOut of the box, eclipse shows this view already on the right side of your code. Likely you already have this view somewhere on your screen; that menu option will enable it if you don&#39;t have it, or show it/activate it if you do: Now you know what you&#39;re looking for :)\r\n\r\nIn this outline view, you see the methods that lombok generates as if they were written normally. In other words, if `getName()` is being generated by lombok, getName is in this list, indistinguishable from manually written methods. Double clicking it will navigate you to the annotation that caused the getter to exist (be it a `@Getter` on the field, or on the class, or `@Data`, or `@Value`). You can also activate the &#39;show call hierarchy&#39; option from here: Right click it and pick the &#39;Show Call Hierarchy&#39; option (out of the box, this has a keyboard shortcut. On macs, it&#39;s CTRL+ALT+C; no idea what it defaults to on windows). This shows you all callers.\r\n\r\nLombok&#39;s own annotations can also simply be used as if they were the setter - you can invoke the &#39;find callers&#39; straight from the annotation. However, this isn&#39;t always suitable; for example, `@Data` generates a small army of methods, and therefore only one of those can be investigated in this fashion. It works great when you e.g. stick `@Getter` on a field (as that generates just the one getter), but isn&#39;t particularly useful for e.g. `@Getter` or `@Data` on an entire type. You&#39;ll have to use the outline for this.","title":"Code references of setters when using Lombok","body":"<p>Open the 'outline' view (as in, the actual view, not the quick-nav popup).</p>\n<p>From the menu: Window, Show View, Outline.</p>\n<p>Out of the box, eclipse shows this view already on the right side of your code. Likely you already have this view somewhere on your screen; that menu option will enable it if you don't have it, or show it/activate it if you do: Now you know what you're looking for :)</p>\n<p>In this outline view, you see the methods that lombok generates as if they were written normally. In other words, if <code>getName()</code> is being generated by lombok, getName is in this list, indistinguishable from manually written methods. Double clicking it will navigate you to the annotation that caused the getter to exist (be it a <code>@Getter</code> on the field, or on the class, or <code>@Data</code>, or <code>@Value</code>). You can also activate the 'show call hierarchy' option from here: Right click it and pick the 'Show Call Hierarchy' option (out of the box, this has a keyboard shortcut. On macs, it's CTRL+ALT+C; no idea what it defaults to on windows). This shows you all callers.</p>\n<p>Lombok's own annotations can also simply be used as if they were the setter - you can invoke the 'find callers' straight from the annotation. However, this isn't always suitable; for example, <code>@Data</code> generates a small army of methods, and therefore only one of those can be investigated in this fashion. It works great when you e.g. stick <code>@Getter</code> on a field (as that generates just the one getter), but isn't particularly useful for e.g. <code>@Getter</code> or <code>@Data</code> on an entire type. You'll have to use the outline for this.</p>\n"}],"owner":{"account_id":135406,"reputation":5516,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72611252,"answer_count":1,"score":1,"last_activity_date":1655177947,"creation_date":1655177002,"question_id":72611191,"body_markdown":"I want to use lombok in my project.\r\n\r\nI am using Eclipse ide for development. I could setup lombok for the project in the compile time.\r\n\r\nBut have a basic question on code navigation/references.\r\n\r\nTypically we could find out how the variable is set by finding the references in the setter or the with arguments constructor.\r\n\r\nSince Lombok has auto generation of these boilerplate. How to do these type of code navigation, finding references of the setters/constructors ?\r\n\r\nBest Regards,\r\n\r\nSaurav","title":"Code references of setters when using Lombok","body":"<p>I want to use lombok in my project.</p>\n<p>I am using Eclipse ide for development. I could setup lombok for the project in the compile time.</p>\n<p>But have a basic question on code navigation/references.</p>\n<p>Typically we could find out how the variable is set by finding the references in the setter or the with arguments constructor.</p>\n<p>Since Lombok has auto generation of these boilerplate. How to do these type of code navigation, finding references of the setters/constructors ?</p>\n<p>Best Regards,</p>\n<p>Saurav</p>\n"},{"tags":["java","sql","sql-update"],"answers":[{"tags":[],"owner":{"account_id":23560615,"reputation":21,"user_id":17602031,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655176832,"creation_date":1655176832,"answer_id":72611171,"question_id":72609065,"body_markdown":"This case maybe cause by When you are traversing the result of select SQL, the SQL of update data is triggered, and executeUpdate will automatically submit, so please stop the automatic submission of executeUpdate, and execute the submission after the traversal is over. I hope my idea can help you, thank you.","title":"Why am I getting a &quot;fetch out of sequence&quot; error upon having Java program run insert statement?","body":"<p>This case maybe cause by When you are traversing the result of select SQL, the SQL of update data is triggered, and executeUpdate will automatically submit, so please stop the automatic submission of executeUpdate, and execute the submission after the traversal is over. I hope my idea can help you, thank you.</p>\n"}],"owner":{"account_id":25408582,"reputation":1,"user_id":19216846,"display_name":"Johny Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655176832,"creation_date":1655154594,"question_id":72609065,"body_markdown":"My java program currently runs select statement queries to obtain information. It then takes that info and inserts it into an update statement before the code executes it. Here&#39;s what the code looks like:\r\n\r\n\t//UPDATE\r\n\t\tq = entityManager.createNativeQuery(&quot;update&quot;); //update query found in app properties file\r\n\t\tq.setParameter(&quot;ItemId&quot;, s);\r\n\t\tq.setParameter(&quot;Number&quot;, str);\r\n\t\tSystem.out.println(&quot;Update Statement for P/F was ran&quot;); \r\n\t\tq.executeUpdate();\r\n\r\nThe select statement queries I mentioned are similar in format to the UPDATE code above.\r\n\r\nNow when this update code is ran, the query is executed successfully. I can check the DB and see that the statement updated the necessary values successfully! However, the java program itself outputs &quot;fetch out of sequence&quot; to the console and stops the rest of the queries in the program from running, like so:\r\n\r\n```\r\n2022-06-13 16:56:00.878 ERROR 33060 --- [nio-8004-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exc\r\neption [Request processing failed; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute query] with root cause\r\n\r\noracle.jdbc.OracleDatabaseException: ORA-01002: fetch out of sequence\r\n\r\n\r\n\r\n```\r\nAnd there&#39;s more traces of the error below the above output but I think this is the most relevant bit of the outputted error. \r\n\r\nI would appreciate if someone could help me figure out what&#39;s causing this issue and how it can be fixed?\r\n","title":"Why am I getting a &quot;fetch out of sequence&quot; error upon having Java program run insert statement?","body":"<p>My java program currently runs select statement queries to obtain information. It then takes that info and inserts it into an update statement before the code executes it. Here's what the code looks like:</p>\n<pre><code>//UPDATE\n    q = entityManager.createNativeQuery(&quot;update&quot;); //update query found in app properties file\n    q.setParameter(&quot;ItemId&quot;, s);\n    q.setParameter(&quot;Number&quot;, str);\n    System.out.println(&quot;Update Statement for P/F was ran&quot;); \n    q.executeUpdate();\n</code></pre>\n<p>The select statement queries I mentioned are similar in format to the UPDATE code above.</p>\n<p>Now when this update code is ran, the query is executed successfully. I can check the DB and see that the statement updated the necessary values successfully! However, the java program itself outputs &quot;fetch out of sequence&quot; to the console and stops the rest of the queries in the program from running, like so:</p>\n<pre><code>2022-06-13 16:56:00.878 ERROR 33060 --- [nio-8004-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exc\neption [Request processing failed; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute query] with root cause\n\noracle.jdbc.OracleDatabaseException: ORA-01002: fetch out of sequence\n\n\n\n</code></pre>\n<p>And there's more traces of the error below the above output but I think this is the most relevant bit of the outputted error.</p>\n<p>I would appreciate if someone could help me figure out what's causing this issue and how it can be fixed?</p>\n"},{"tags":["java","concurrency","atomic"],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":1,"up_vote_count":225,"is_accepted":true,"score":224,"last_activity_date":1296145748,"creation_date":1296144559,"answer_id":4818753,"question_id":4818699,"body_markdown":"There are two main uses of `AtomicInteger`:\r\n\r\n * As an atomic counter (`incrementAndGet()`, etc) that can be used by many threads concurrently\r\n\r\n * As a primitive that supports [compare-and-swap][1] instruction (`compareAndSet()`) to implement non-blocking algorithms. \r\n\r\n Here is an example of non-blocking random number generator from [Brian G&#246;etz&#39;s Java Concurrency In Practice][2]:\r\n\r\n        public class AtomicPseudoRandom extends PseudoRandom {\r\n            private AtomicInteger seed;\r\n            AtomicPseudoRandom(int seed) {\r\n                this.seed = new AtomicInteger(seed);\r\n            }\r\n    \r\n            public int nextInt(int n) {\r\n                while (true) {\r\n                    int s = seed.get();\r\n                    int nextSeed = calculateNext(s);\r\n                    if (seed.compareAndSet(s, nextSeed)) {\r\n                        int remainder = s % n;\r\n                        return remainder &gt; 0 ? remainder : remainder + n;\r\n                    }\r\n                }\r\n            }\r\n            ...\r\n        }\r\n\r\n   As you can see, it basically works almost the same way as `incrementAndGet()`, but performs arbitrary calculation (`calculateNext()`) instead of increment (and processes the result before return).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Compare-and-swap\r\n  [2]: http://www.amazon.com/Java-Concurrency-Practice-Brian-Goetz/dp/0321349601","title":"Practical uses for AtomicInteger","body":"<p>There are two main uses of <code>AtomicInteger</code>:</p>\n\n<ul>\n<li><p>As an atomic counter (<code>incrementAndGet()</code>, etc) that can be used by many threads concurrently</p></li>\n<li><p>As a primitive that supports <a href=\"http://en.wikipedia.org/wiki/Compare-and-swap\" rel=\"noreferrer\">compare-and-swap</a> instruction (<code>compareAndSet()</code>) to implement non-blocking algorithms. </p>\n\n<p>Here is an example of non-blocking random number generator from <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321349601\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Brian Göetz's Java Concurrency In Practice</a>:</p>\n\n<pre><code>public class AtomicPseudoRandom extends PseudoRandom {\n    private AtomicInteger seed;\n    AtomicPseudoRandom(int seed) {\n        this.seed = new AtomicInteger(seed);\n    }\n\n    public int nextInt(int n) {\n        while (true) {\n            int s = seed.get();\n            int nextSeed = calculateNext(s);\n            if (seed.compareAndSet(s, nextSeed)) {\n                int remainder = s % n;\n                return remainder &gt; 0 ? remainder : remainder + n;\n            }\n        }\n    }\n    ...\n}\n</code></pre>\n\n<p>As you can see, it basically works almost the same way as <code>incrementAndGet()</code>, but performs arbitrary calculation (<code>calculateNext()</code>) instead of increment (and processes the result before return).</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1296144649,"creation_date":1296144649,"answer_id":4818772,"question_id":4818699,"body_markdown":"The key is that they allow concurrent access and modification safely. They&#39;re commonly used as counters in a multithreaded environment - before their introduction this had to be a user written class that wrapped up the various methods in synchronized blocks.","title":"Practical uses for AtomicInteger","body":"<p>The key is that they allow concurrent access and modification safely. They're commonly used as counters in a multithreaded environment - before their introduction this had to be a user written class that wrapped up the various methods in synchronized blocks.</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":126,"is_accepted":false,"score":126,"last_activity_date":1296145050,"creation_date":1296144704,"answer_id":4818783,"question_id":4818699,"body_markdown":"The absolute simplest example I can think of is to make incrementing an atomic operation.\r\n\r\nWith standard ints:\r\n\r\n    private volatile int counter;\r\n\r\n    public int getNextUniqueIndex() {\r\n        return counter++; // Not atomic, multiple threads could get the same result\r\n    }\r\n\r\nWith AtomicInteger:\r\n\r\n    private AtomicInteger counter;\r\n\r\n    public int getNextUniqueIndex() {\r\n        return counter.getAndIncrement();\r\n    }\r\n\r\nThe latter is a very simple way to perform simple mutations effects (especially counting, or unique-indexing), without having to resort to synchronizing all access.\r\n\r\nMore complex synchronization-free logic can be employed by using `compareAndSet()` as a type of optimistic locking - get the current value, compute result based on this, set this result *iff* value is still the input used to do the calculation, else start again - but the counting examples are very useful, and I&#39;ll often use `AtomicIntegers` for counting and VM-wide unique generators if there&#39;s any hint of multiple threads being involved, because they&#39;re so easy to work with I&#39;d almost consider it premature optimisation to use plain `ints`.\r\n\r\nWhile you can almost always achieve the same synchronization guarantees with `ints` and appropriate `synchronized` declarations, the beauty of `AtomicInteger` is that the thread-safety is built into the actual object itself, rather than you needing to worry about the possible interleavings, and monitors held, of every method that happens to access the `int` value.  It&#39;s much harder to accidentally violate threadsafety when calling `getAndIncrement()` than when returning `i++` and remembering (or not) to acquire the correct set of monitors beforehand.","title":"Practical uses for AtomicInteger","body":"<p>The absolute simplest example I can think of is to make incrementing an atomic operation.</p>\n\n<p>With standard ints:</p>\n\n<pre><code>private volatile int counter;\n\npublic int getNextUniqueIndex() {\n    return counter++; // Not atomic, multiple threads could get the same result\n}\n</code></pre>\n\n<p>With AtomicInteger:</p>\n\n<pre><code>private AtomicInteger counter;\n\npublic int getNextUniqueIndex() {\n    return counter.getAndIncrement();\n}\n</code></pre>\n\n<p>The latter is a very simple way to perform simple mutations effects (especially counting, or unique-indexing), without having to resort to synchronizing all access.</p>\n\n<p>More complex synchronization-free logic can be employed by using <code>compareAndSet()</code> as a type of optimistic locking - get the current value, compute result based on this, set this result <em>iff</em> value is still the input used to do the calculation, else start again - but the counting examples are very useful, and I'll often use <code>AtomicIntegers</code> for counting and VM-wide unique generators if there's any hint of multiple threads being involved, because they're so easy to work with I'd almost consider it premature optimisation to use plain <code>ints</code>.</p>\n\n<p>While you can almost always achieve the same synchronization guarantees with <code>ints</code> and appropriate <code>synchronized</code> declarations, the beauty of <code>AtomicInteger</code> is that the thread-safety is built into the actual object itself, rather than you needing to worry about the possible interleavings, and monitors held, of every method that happens to access the <code>int</code> value.  It's much harder to accidentally violate threadsafety when calling <code>getAndIncrement()</code> than when returning <code>i++</code> and remembering (or not) to acquire the correct set of monitors beforehand.</p>\n"},{"tags":[],"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1296144811,"creation_date":1296144811,"answer_id":4818802,"question_id":4818699,"body_markdown":"For example, I have a library that generates instances of some class. Each of these instances must have a unique integer ID, as these instances represent commands being sent to a server, and each command must have a unique ID. Since multiple threads are allowed to send commands concurrently, I use an AtomicInteger to generate those IDs. An alternative approach would be to use some sort of lock and a regular integer, but that&#39;s both slower and less elegant.","title":"Practical uses for AtomicInteger","body":"<p>For example, I have a library that generates instances of some class. Each of these instances must have a unique integer ID, as these instances represent commands being sent to a server, and each command must have a unique ID. Since multiple threads are allowed to send commands concurrently, I use an AtomicInteger to generate those IDs. An alternative approach would be to use some sort of lock and a regular integer, but that's both slower and less elegant.</p>\n"},{"tags":[],"owner":{"account_id":273624,"reputation":7478,"user_id":565342,"accept_rate":100,"display_name":"gabuzo"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1296149466,"creation_date":1296145314,"answer_id":4818916,"question_id":4818699,"body_markdown":"The primary use of `AtomicInteger` is when you are in a multithreaded context and you need to perform thread safe operations on an integer without using `synchronized`. The assignation and retrieval on the primitive type `int` are already atomic but `AtomicInteger` comes with many operations which are not atomic on `int`.\r\n\r\nThe simplest are the `getAndXXX` or `xXXAndGet`. For instance `getAndIncrement()` is an atomic equivalent to `i++` which is not atomic because it is actually a short cut for three operations: retrieval, addition and assignation. `compareAndSet` is very useful to implements semaphores, locks, latches, etc.\r\n\r\nUsing the `AtomicInteger` is faster and more readable than performing the same using synchronization.\r\n\r\nA simple test:\r\n\r\n    public synchronized int incrementNotAtomic() {\r\n        return notAtomic++;\r\n    }\r\n    \r\n    public void performTestNotAtomic() {\r\n        final long start = System.currentTimeMillis();\r\n        for (int i = 0 ; i &lt; NUM ; i++) {\r\n            incrementNotAtomic();\r\n        }\r\n        System.out.println(&quot;Not atomic: &quot;+(System.currentTimeMillis() - start));\r\n    }\r\n    \r\n    public void performTestAtomic() {\r\n        final long start = System.currentTimeMillis();\r\n        for (int i = 0 ; i &lt; NUM ; i++) {\r\n            atomic.getAndIncrement();\r\n        }\r\n        System.out.println(&quot;Atomic: &quot;+(System.currentTimeMillis() - start));\r\n    }\r\n\r\nOn my PC with Java 1.6 the atomic test runs in 3 seconds while the synchronized one runs in about 5.5 seconds. The problem here is that the operation to synchronize (`notAtomic++`) is really short. So the cost of the synchronization is really important compared to the operation.\r\n\r\nBeside atomicity AtomicInteger can be use as a mutable version of `Integer` for instance in `Map`s as values.","title":"Practical uses for AtomicInteger","body":"<p>The primary use of <code>AtomicInteger</code> is when you are in a multithreaded context and you need to perform thread safe operations on an integer without using <code>synchronized</code>. The assignation and retrieval on the primitive type <code>int</code> are already atomic but <code>AtomicInteger</code> comes with many operations which are not atomic on <code>int</code>.</p>\n\n<p>The simplest are the <code>getAndXXX</code> or <code>xXXAndGet</code>. For instance <code>getAndIncrement()</code> is an atomic equivalent to <code>i++</code> which is not atomic because it is actually a short cut for three operations: retrieval, addition and assignation. <code>compareAndSet</code> is very useful to implements semaphores, locks, latches, etc.</p>\n\n<p>Using the <code>AtomicInteger</code> is faster and more readable than performing the same using synchronization.</p>\n\n<p>A simple test:</p>\n\n<pre><code>public synchronized int incrementNotAtomic() {\n    return notAtomic++;\n}\n\npublic void performTestNotAtomic() {\n    final long start = System.currentTimeMillis();\n    for (int i = 0 ; i &lt; NUM ; i++) {\n        incrementNotAtomic();\n    }\n    System.out.println(\"Not atomic: \"+(System.currentTimeMillis() - start));\n}\n\npublic void performTestAtomic() {\n    final long start = System.currentTimeMillis();\n    for (int i = 0 ; i &lt; NUM ; i++) {\n        atomic.getAndIncrement();\n    }\n    System.out.println(\"Atomic: \"+(System.currentTimeMillis() - start));\n}\n</code></pre>\n\n<p>On my PC with Java 1.6 the atomic test runs in 3 seconds while the synchronized one runs in about 5.5 seconds. The problem here is that the operation to synchronize (<code>notAtomic++</code>) is really short. So the cost of the synchronization is really important compared to the operation.</p>\n\n<p>Beside atomicity AtomicInteger can be use as a mutable version of <code>Integer</code> for instance in <code>Map</code>s as values.</p>\n"},{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1296146250,"creation_date":1296146250,"answer_id":4819109,"question_id":4818699,"body_markdown":"If you look at the methods AtomicInteger has, you&#39;ll notice that they tend to correspond to common operations on ints.  For instance:\r\n\r\n    static AtomicInteger i;\r\n    \r\n    // Later, in a thread\r\n    int current = i.incrementAndGet();\r\n\r\nis the thread-safe version of this:\r\n\r\n    static int i;\r\n    \r\n    // Later, in a thread\r\n    int current = ++i;\r\n\r\nThe methods map like this:  \r\n`++i` is `i.incrementAndGet()`  \r\n`i++` is `i.getAndIncrement()`  \r\n`--i` is `i.decrementAndGet()`  \r\n`i--` is `i.getAndDecrement()`  \r\n`i = x` is `i.set(x)`  \r\n`x = i ` is `x = i.get()`  \r\n\r\nThere are other convenience methods as well, like `compareAndSet` or `addAndGet`\r\n","title":"Practical uses for AtomicInteger","body":"<p>If you look at the methods AtomicInteger has, you'll notice that they tend to correspond to common operations on ints.  For instance:</p>\n\n<pre><code>static AtomicInteger i;\n\n// Later, in a thread\nint current = i.incrementAndGet();\n</code></pre>\n\n<p>is the thread-safe version of this:</p>\n\n<pre><code>static int i;\n\n// Later, in a thread\nint current = ++i;\n</code></pre>\n\n<p>The methods map like this:<br>\n<code>++i</code> is <code>i.incrementAndGet()</code><br>\n<code>i++</code> is <code>i.getAndIncrement()</code><br>\n<code>--i</code> is <code>i.decrementAndGet()</code><br>\n<code>i--</code> is <code>i.getAndDecrement()</code><br>\n<code>i = x</code> is <code>i.set(x)</code><br>\n<code>x = i</code> is <code>x = i.get()</code>  </p>\n\n<p>There are other convenience methods as well, like <code>compareAndSet</code> or <code>addAndGet</code></p>\n"},{"tags":[],"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1331022022,"creation_date":1323153354,"answer_id":8396197,"question_id":4818699,"body_markdown":"Like gabuzo said, sometimes I use AtomicIntegers when I want to pass an int by reference.  It&#39;s a built-in class that has architecture-specific code, so it&#39;s easier and likely more optimized than any MutableInteger I could quickly code up.  That said, it feels like an abuse of the class.","title":"Practical uses for AtomicInteger","body":"<p>Like gabuzo said, sometimes I use AtomicIntegers when I want to pass an int by reference.  It's a built-in class that has architecture-specific code, so it's easier and likely more optimized than any MutableInteger I could quickly code up.  That said, it feels like an abuse of the class.</p>\n"},{"tags":[],"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1347913576,"creation_date":1347913245,"answer_id":12466533,"question_id":4818699,"body_markdown":"You can implement non-blocking locks using compareAndSwap (CAS) on atomic integers or longs. The [&quot;Tl2&quot; Software Transactional Memory][1] paper describes this:\r\n\r\n&gt; We associate a special versioned write-lock with every transacted\r\n&gt; memory location. In its simplest form, the versioned write-lock is a\r\n&gt; single word spinlock that uses a CAS operation to acquire the lock and\r\n&gt; a store to release it. Since one only needs a single bit to indicate\r\n&gt; that the lock is taken, we use the rest of the lock word to hold a\r\n&gt; version number.\r\n\r\nWhat it is describing is first read the atomic integer. Split this up into an ignored lock-bit and the version number. Attempt to CAS write it as the lock-bit cleared with the current version number to the lock-bit set and the next version number. Loop until you succeed and your are the thread which owns the lock. Unlock by setting the current version number with the lock-bit cleared.&#160;The paper describes using the version numbers in the locks to coordinate that threads have a consistent set of reads when they write.\r\n\r\n[This article][2] describes that processors have hardware support for compare and swap operations making the very efficient.&#160;It also claims:\r\n\r\n&gt; non-blocking CAS-based counters using atomic variables have better\r\n&gt; performance than lock-based counters in low to moderate contention\r\n\r\n\r\n  [1]: http://labs.oracle.com/scalable/pubs/DISC2006.pdf\r\n  [2]: http://www.e-zest.net/blog/writing-thread-safe-programs-using-atomic-variables/","title":"Practical uses for AtomicInteger","body":"<p>You can implement non-blocking locks using compareAndSwap (CAS) on atomic integers or longs. The <a href=\"http://labs.oracle.com/scalable/pubs/DISC2006.pdf\" rel=\"nofollow\">\"Tl2\" Software Transactional Memory</a> paper describes this:</p>\n\n<blockquote>\n  <p>We associate a special versioned write-lock with every transacted\n  memory location. In its simplest form, the versioned write-lock is a\n  single word spinlock that uses a CAS operation to acquire the lock and\n  a store to release it. Since one only needs a single bit to indicate\n  that the lock is taken, we use the rest of the lock word to hold a\n  version number.</p>\n</blockquote>\n\n<p>What it is describing is first read the atomic integer. Split this up into an ignored lock-bit and the version number. Attempt to CAS write it as the lock-bit cleared with the current version number to the lock-bit set and the next version number. Loop until you succeed and your are the thread which owns the lock. Unlock by setting the current version number with the lock-bit cleared. The paper describes using the version numbers in the locks to coordinate that threads have a consistent set of reads when they write.</p>\n\n<p><a href=\"http://www.e-zest.net/blog/writing-thread-safe-programs-using-atomic-variables/\" rel=\"nofollow\">This article</a> describes that processors have hardware support for compare and swap operations making the very efficient. It also claims:</p>\n\n<blockquote>\n  <p>non-blocking CAS-based counters using atomic variables have better\n  performance than lock-based counters in low to moderate contention</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2493980,"reputation":358,"user_id":2170885,"accept_rate":100,"display_name":"DguezTorresEmmanuel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1364324498,"creation_date":1364324498,"answer_id":15645288,"question_id":4818699,"body_markdown":"I usually use AtomicInteger when I need to give Ids to objects that can be accesed or created from multiple threads, and i usually use it as an static attribute on the class that i access in the constructor of the objects.","title":"Practical uses for AtomicInteger","body":"<p>I usually use AtomicInteger when I need to give Ids to objects that can be accesed or created from multiple threads, and i usually use it as an static attribute on the class that i access in the constructor of the objects.</p>\n"},{"tags":[],"owner":{"account_id":56001,"reputation":382,"user_id":3348552,"display_name":"pwojnowski"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1449134459,"creation_date":1449134459,"answer_id":34062042,"question_id":4818699,"body_markdown":"In Java 8 atomic classes have been extended with two interesting functions:\r\n\r\n - int getAndUpdate(IntUnaryOperator updateFunction)\r\n - int updateAndGet(IntUnaryOperator updateFunction)\r\n\r\nBoth are using the updateFunction to perform update of the atomic value. The difference is that the first one returns old value and the second one return the new value. The updateFunction may be implemented to do more complex &quot;compare and set&quot; operations than the standard one. For example it can check that atomic counter doesn&#39;t go below zero, normally it would require synchronization, and here the code is lock-free:\r\n\r\n        public class Counter {\r\n \r\n          private final AtomicInteger number;\r\n \r\n          public Counter(int number) {\r\n            this.number = new AtomicInteger(number);\r\n          }\r\n \r\n          /** @return true if still can decrease */\r\n          public boolean dec() {\r\n            // updateAndGet(fn) executed atomically:\r\n            return number.updateAndGet(n -&gt; (n &gt; 0) ? n - 1 : n) &gt; 0;\r\n          }\r\n        }\r\n\r\nThe code is taken from [Java Atomic Example][1].\r\n\r\n\r\n  [1]: http://farenda.com/java/java-atomic-example/","title":"Practical uses for AtomicInteger","body":"<p>In Java 8 atomic classes have been extended with two interesting functions:</p>\n\n<ul>\n<li>int getAndUpdate(IntUnaryOperator updateFunction)</li>\n<li>int updateAndGet(IntUnaryOperator updateFunction)</li>\n</ul>\n\n<p>Both are using the updateFunction to perform update of the atomic value. The difference is that the first one returns old value and the second one return the new value. The updateFunction may be implemented to do more complex \"compare and set\" operations than the standard one. For example it can check that atomic counter doesn't go below zero, normally it would require synchronization, and here the code is lock-free:</p>\n\n<pre><code>    public class Counter {\n\n      private final AtomicInteger number;\n\n      public Counter(int number) {\n        this.number = new AtomicInteger(number);\n      }\n\n      /** @return true if still can decrease */\n      public boolean dec() {\n        // updateAndGet(fn) executed atomically:\n        return number.updateAndGet(n -&gt; (n &gt; 0) ? n - 1 : n) &gt; 0;\n      }\n    }\n</code></pre>\n\n<p>The code is taken from <a href=\"http://farenda.com/java/java-atomic-example/\" rel=\"noreferrer\">Java Atomic Example</a>.</p>\n"},{"tags":[],"owner":{"account_id":9213389,"reputation":133,"user_id":6845625,"display_name":"Rodrigo Gomez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545445566,"creation_date":1545445566,"answer_id":53892600,"question_id":4818699,"body_markdown":"I used AtomicInteger to solve the Dining Philosopher&#39;s problem.\r\n\r\nIn my solution, AtomicInteger instances were used to represent the forks, there are two needed per philosopher. Each Philosopher is identified as an integer, 1 through 5. When a fork is used by a philosopher, the AtomicInteger holds the value of the philosopher, 1 through 5, otherwise the fork is not being used so the value of the AtomicInteger is -1. \r\n\r\nThe AtomicInteger then allows to check if a fork is free, value==-1, and set it to the owner of the fork if free, in one atomic operation. See code below.\r\n     \r\n    AtomicInteger fork0 = neededForks[0];//neededForks is an array that holds the forks needed per Philosopher\r\n    AtomicInteger fork1 = neededForks[1];\r\n    while(true){    \r\n        if (Hungry) {\r\n            //if fork is free (==-1) then grab it by denoting who took it\r\n            if (!fork0.compareAndSet(-1, p) || !fork1.compareAndSet(-1, p)) {\r\n              //at least one fork was not succesfully grabbed, release both and try again later\r\n                fork0.compareAndSet(p, -1);\r\n                fork1.compareAndSet(p, -1);\r\n                try {\r\n                    synchronized (lock) {//sleep and get notified later when a philosopher puts down one fork                    \r\n                        lock.wait();//try again later, goes back up the loop\r\n                    }\r\n                } catch (InterruptedException e) {}\r\n        \r\n            } else {\r\n                //sucessfully grabbed both forks\r\n                transition(fork_l_free_and_fork_r_free);\r\n            }\r\n        }\r\n    }\r\n\r\nBecause the compareAndSet method does not block, it should increase throughput, more work done. As you may know, the Dining Philosophers problem is used when controlled accessed to resources is needed, i.e. forks, are needed, like a process needs resources to continue doing work. ","title":"Practical uses for AtomicInteger","body":"<p>I used AtomicInteger to solve the Dining Philosopher's problem.</p>\n\n<p>In my solution, AtomicInteger instances were used to represent the forks, there are two needed per philosopher. Each Philosopher is identified as an integer, 1 through 5. When a fork is used by a philosopher, the AtomicInteger holds the value of the philosopher, 1 through 5, otherwise the fork is not being used so the value of the AtomicInteger is -1. </p>\n\n<p>The AtomicInteger then allows to check if a fork is free, value==-1, and set it to the owner of the fork if free, in one atomic operation. See code below.</p>\n\n<pre><code>AtomicInteger fork0 = neededForks[0];//neededForks is an array that holds the forks needed per Philosopher\nAtomicInteger fork1 = neededForks[1];\nwhile(true){    \n    if (Hungry) {\n        //if fork is free (==-1) then grab it by denoting who took it\n        if (!fork0.compareAndSet(-1, p) || !fork1.compareAndSet(-1, p)) {\n          //at least one fork was not succesfully grabbed, release both and try again later\n            fork0.compareAndSet(p, -1);\n            fork1.compareAndSet(p, -1);\n            try {\n                synchronized (lock) {//sleep and get notified later when a philosopher puts down one fork                    \n                    lock.wait();//try again later, goes back up the loop\n                }\n            } catch (InterruptedException e) {}\n\n        } else {\n            //sucessfully grabbed both forks\n            transition(fork_l_free_and_fork_r_free);\n        }\n    }\n}\n</code></pre>\n\n<p>Because the compareAndSet method does not block, it should increase throughput, more work done. As you may know, the Dining Philosophers problem is used when controlled accessed to resources is needed, i.e. forks, are needed, like a process needs resources to continue doing work. </p>\n"},{"tags":[],"owner":{"account_id":6263188,"reputation":409,"user_id":11583351,"display_name":"M Shafaei N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573146489,"creation_date":1573146489,"answer_id":58753816,"question_id":4818699,"body_markdown":"Simple example for compareAndSet() function:\r\n\r\n    \r\n \r\n  \r\n    import java.util.concurrent.atomic.AtomicInteger; \r\n  \r\n    public class GFG { \r\n        public static void main(String args[]) \r\n        { \r\n  \r\n            // Initially value as 0 \r\n            AtomicInteger val = new AtomicInteger(0); \r\n  \r\n            // Prints the updated value \r\n            System.out.println(&quot;Previous value: &quot;\r\n                               + val); \r\n   \r\n            // Checks if previous value was 0 \r\n            // and then updates it \r\n            boolean res = val.compareAndSet(0, 6); \r\n  \r\n            // Checks if the value was updated. \r\n            if (res) \r\n                System.out.println(&quot;The value was&quot;\r\n                                   + &quot; updated and it is &quot;\r\n                               + val); \r\n            else\r\n                System.out.println(&quot;The value was &quot;\r\n                                   + &quot;not updated&quot;); \r\n          } \r\n      } \r\n\r\nThe printed is: \r\nprevious value: 0\r\nThe value was updated and it is 6\r\nAnother simple example:\r\n\r\n        import java.util.concurrent.atomic.AtomicInteger; \r\n  \r\n    public class GFG { \r\n        public static void main(String args[]) \r\n        { \r\n  \r\n            // Initially value as 0 \r\n            AtomicInteger val \r\n                = new AtomicInteger(0); \r\n  \r\n            // Prints the updated value \r\n            System.out.println(&quot;Previous value: &quot;\r\n                               + val); \r\n  \r\n             // Checks if previous value was 0 \r\n            // and then updates it \r\n            boolean res = val.compareAndSet(10, 6); \r\n  \r\n              // Checks if the value was updated. \r\n              if (res) \r\n                System.out.println(&quot;The value was&quot;\r\n                                   + &quot; updated and it is &quot;\r\n                                   + val); \r\n            else\r\n                System.out.println(&quot;The value was &quot;\r\n                                   + &quot;not updated&quot;); \r\n        } \r\n    } \r\nThe printed is: \r\nPrevious value: 0\r\nThe value was not updated","title":"Practical uses for AtomicInteger","body":"<p>Simple example for compareAndSet() function:</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger; \n\npublic class GFG { \n    public static void main(String args[]) \n    { \n\n        // Initially value as 0 \n        AtomicInteger val = new AtomicInteger(0); \n\n        // Prints the updated value \n        System.out.println(\"Previous value: \"\n                           + val); \n\n        // Checks if previous value was 0 \n        // and then updates it \n        boolean res = val.compareAndSet(0, 6); \n\n        // Checks if the value was updated. \n        if (res) \n            System.out.println(\"The value was\"\n                               + \" updated and it is \"\n                           + val); \n        else\n            System.out.println(\"The value was \"\n                               + \"not updated\"); \n      } \n  } \n</code></pre>\n\n<p>The printed is: \nprevious value: 0\nThe value was updated and it is 6\nAnother simple example:</p>\n\n<pre><code>    import java.util.concurrent.atomic.AtomicInteger; \n\npublic class GFG { \n    public static void main(String args[]) \n    { \n\n        // Initially value as 0 \n        AtomicInteger val \n            = new AtomicInteger(0); \n\n        // Prints the updated value \n        System.out.println(\"Previous value: \"\n                           + val); \n\n         // Checks if previous value was 0 \n        // and then updates it \n        boolean res = val.compareAndSet(10, 6); \n\n          // Checks if the value was updated. \n          if (res) \n            System.out.println(\"The value was\"\n                               + \" updated and it is \"\n                               + val); \n        else\n            System.out.println(\"The value was \"\n                               + \"not updated\"); \n    } \n} \n</code></pre>\n\n<p>The printed is: \nPrevious value: 0\nThe value was not updated</p>\n"},{"tags":[],"owner":{"account_id":14538770,"reputation":1,"user_id":10501196,"display_name":"Chinni Achari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655176341,"creation_date":1655176341,"answer_id":72611135,"question_id":4818699,"body_markdown":"Atomic classes are not general purpose replacements for java.lang.Integer and related classes. They do not define methods such as equals, hashCode and compareTo. (Because atomic variables are expected to be mutated, they are poor choices for hash table keys.) Additionally, classes are provided only for those types that are commonly useful in intended applications. For example, there is no atomic class for representing byte. In those infrequent cases where you would like to do so, you can use an AtomicInteger to hold byte values, and cast appropriately. You can also hold floats using Float.floatToRawIntBits(float) and Float.intBitsToFloat(int) conversions, and doubles using Double.doubleToRawLongBits(double) and Double.longBitsToDouble(long) conversions.\r\n\r\nReference: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html\r\n","title":"Practical uses for AtomicInteger","body":"<p>Atomic classes are not general purpose replacements for java.lang.Integer and related classes. They do not define methods such as equals, hashCode and compareTo. (Because atomic variables are expected to be mutated, they are poor choices for hash table keys.) Additionally, classes are provided only for those types that are commonly useful in intended applications. For example, there is no atomic class for representing byte. In those infrequent cases where you would like to do so, you can use an AtomicInteger to hold byte values, and cast appropriately. You can also hold floats using Float.floatToRawIntBits(float) and Float.intBitsToFloat(int) conversions, and doubles using Double.doubleToRawLongBits(double) and Double.longBitsToDouble(long) conversions.</p>\n<p>Reference: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html</a></p>\n"}],"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255902,"favorite_count":0,"down_vote_count":0,"up_vote_count":281,"accepted_answer_id":4818753,"answer_count":13,"score":281,"last_activity_date":1655176341,"creation_date":1296144271,"question_id":4818699,"body_markdown":"I sort of understand that AtomicInteger and other Atomic variables allow concurrent accesses. In what cases is this class typically used though?\r\n\r\n\r\n","title":"Practical uses for AtomicInteger","body":"<p>I sort of understand that AtomicInteger and other Atomic variables allow concurrent accesses. In what cases is this class typically used though?</p>\n"},{"tags":["java","inheritance","interface","casting"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":7,"creation_date":1655175886,"post_id":72611049,"comment_id":128263640,"body_markdown":"Answer: because a C instance *is-a* B, but a B instance is not a C.   (If classes A, B and C had some fields, it would be obvious why a B instance **cannot** be a C.)","body":"Answer: because a C instance <i>is-a</i> B, but a B instance is not a C.   (If classes A, B and C had some fields, it would be obvious why a B instance <b>cannot</b> be a C.)"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655176022,"creation_date":1655176022,"answer_id":72611110,"question_id":72611049,"body_markdown":"Your class declaration says that every C is a B and every B (including the C&#39;s) is an A.\r\n\r\nNow you make `c` reference a new C, so it&#39;s also a B and an A.  That means you can cast `c` to any of the three classes, in any order, and there won&#39;t be an error.\r\n\r\nThen you make `b` reference a new B, that&#39;s not a C.  That means you can cast it to A or B without any problems, but as soon as you try to cast `b` to C, you get an error, because the object referenced by `b` is not a C.","title":"Multiple casting in Java","body":"<p>Your class declaration says that every C is a B and every B (including the C's) is an A.</p>\n<p>Now you make <code>c</code> reference a new C, so it's also a B and an A.  That means you can cast <code>c</code> to any of the three classes, in any order, and there won't be an error.</p>\n<p>Then you make <code>b</code> reference a new B, that's not a C.  That means you can cast it to A or B without any problems, but as soon as you try to cast <code>b</code> to C, you get an error, because the object referenced by <code>b</code> is not a C.</p>\n"}],"owner":{"account_id":9990575,"reputation":77,"user_id":7390017,"display_name":"Syed Noman Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":72611110,"answer_count":1,"score":-3,"last_activity_date":1655176022,"creation_date":1655175324,"question_id":72611049,"body_markdown":"I know some rules around how Java performs the casting but I am unable to figure out the rules in the following example:\r\n\r\n```\r\ninterface I {}\r\nclass A implements I {}\r\nclass B extends A {}\r\nclass C extends B {}\r\n\r\nclass DriverClass {\r\n    public static void main(String[] args) {\r\n        A a = new A();\r\n        B b = new B();\r\n        C c = new C();\r\n\r\n        a = (A)(B)(C)c;   // line 1 - Valid\r\n        a = (A)(C)(B)c;   // line 2 - Valid\r\n        a = (B)(A)(C)c;   // line 3 - Valid\r\n        a = (B)(C)(A)b;   // line 4 - Runtime error\r\n        a = (C)(B)(A)b;   // line 5 - Runtime error\r\n        a = (C)b;         // line 6 - Runtime error\r\n    }\r\n}\r\n```\r\nCan someone please explain why line 1 to line 3 are valid statements whereas line 4 to line 6 throw Runtime Error of ClassCastException?","title":"Multiple casting in Java","body":"<p>I know some rules around how Java performs the casting but I am unable to figure out the rules in the following example:</p>\n<pre><code>interface I {}\nclass A implements I {}\nclass B extends A {}\nclass C extends B {}\n\nclass DriverClass {\n    public static void main(String[] args) {\n        A a = new A();\n        B b = new B();\n        C c = new C();\n\n        a = (A)(B)(C)c;   // line 1 - Valid\n        a = (A)(C)(B)c;   // line 2 - Valid\n        a = (B)(A)(C)c;   // line 3 - Valid\n        a = (B)(C)(A)b;   // line 4 - Runtime error\n        a = (C)(B)(A)b;   // line 5 - Runtime error\n        a = (C)b;         // line 6 - Runtime error\n    }\n}\n</code></pre>\n<p>Can someone please explain why line 1 to line 3 are valid statements whereas line 4 to line 6 throw Runtime Error of ClassCastException?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8727,"page":1265,"page_size":100}
