{"items":[{"tags":["java","android","youtubeplayer"],"comments":[{"owner":{"account_id":27880253,"reputation":29,"user_id":21288859,"display_name":"Lord V"},"score":0,"creation_date":1686176709,"post_id":76426864,"comment_id":134765191,"body_markdown":"Anyone please...","body":"Anyone please..."}],"owner":{"account_id":27880253,"reputation":29,"user_id":21288859,"display_name":"Lord V"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686169361,"creation_date":1686169361,"question_id":76426864,"body_markdown":"I&#39;m trying to implement a youtube player in an application that will pull the video url from the mysql database.\r\n\r\nFirst I added to gradle\r\n\r\n    //Android youtube player\r\n    implementation &#39;com.pierfrancescosoffritti.androidyoutubeplayer:core:10.0.5&#39;\r\n\r\nAfter that I added to my activity\r\n\r\n    import com.pierfrancescosoffritti.androidyoutubeplayer.core.player.YouTubePlayer;\r\n    import com.pierfrancescosoffritti.androidyoutubeplayer.core.player.listeners.AbstractYouTubePlayerListener;\r\n    import com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView;\r\n\r\nthen\r\n\r\n    //youtube player\r\n        private YouTubePlayerView youTubePlayerView;\r\n.\r\n\r\n    //youtube player\r\n            setupYoutubePlayer();\r\n.\r\n\r\n\r\n    private void setupYoutubePlayer() {\r\n            youTubePlayerView = findViewById(R.id.youtube_player_view);\r\n            getLifecycle().addObserver(youTubePlayerView);\r\n        }\r\n.\r\n\r\n    //if business has video_url show the layout  , else hide the view\r\n            if (storeData.getVideo_url() != null &amp;&amp; !storeData.getVideo_url().equals(&quot;null&quot;) &amp;&amp; !storeData.getVideo_url().equals(&quot;&quot;)) {\r\n    \r\n    \r\n                //show ad\r\n                (new Handler()).postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n    \r\n                        youTubePlayerView.addYouTubePlayerListener(new AbstractYouTubePlayerListener() {\r\n                            @Override\r\n                            public void onReady(@NonNull YouTubePlayer youTubePlayer) {\r\n                                String videoId = AppHelper.extractYoutubeVideoId(storeData.getVideo_url());\r\n                                if (videoId != null) youTubePlayer.cueVideo(videoId, 0);\r\n                            }\r\n                        });\r\n    \r\n                        findViewById(R.id.video_layout).setVisibility(View.VISIBLE);\r\n    \r\n                    }\r\n                }, 2000);\r\n    \r\n    \r\n            } else {\r\n                findViewById(R.id.video_layout).setVisibility(View.GONE);\r\n            }\r\n    \r\n    \r\n            //setup product variants\r\n            setupServicesWidget();\r\n    \r\n    \r\n            mViewManager.showContent();\r\n    \r\n    \r\n        }\r\n\r\n\r\nHowever, the video still does not play, it just stays in loading mode. I checked the database in the video url it says the correct url exampl. https://www.youtube.com/watch?v=Emyasd....\r\n\r\nI would like your help! Thank you very much in advance.\r\n\r\nPart from layout\r\n\r\n    &lt;com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView\r\n                android:id=&quot;@+id/youtube_player_view&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:autoPlay=&quot;false&quot;/&gt;","title":"Youtube video player issue","body":"<p>I'm trying to implement a youtube player in an application that will pull the video url from the mysql database.</p>\n<p>First I added to gradle</p>\n<pre><code>//Android youtube player\nimplementation 'com.pierfrancescosoffritti.androidyoutubeplayer:core:10.0.5'\n</code></pre>\n<p>After that I added to my activity</p>\n<pre><code>import com.pierfrancescosoffritti.androidyoutubeplayer.core.player.YouTubePlayer;\nimport com.pierfrancescosoffritti.androidyoutubeplayer.core.player.listeners.AbstractYouTubePlayerListener;\nimport com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView;\n</code></pre>\n<p>then</p>\n<pre><code>//youtube player\n    private YouTubePlayerView youTubePlayerView;\n</code></pre>\n<p>.</p>\n<pre><code>//youtube player\n        setupYoutubePlayer();\n</code></pre>\n<p>.</p>\n<pre><code>private void setupYoutubePlayer() {\n        youTubePlayerView = findViewById(R.id.youtube_player_view);\n        getLifecycle().addObserver(youTubePlayerView);\n    }\n</code></pre>\n<p>.</p>\n<pre><code>//if business has video_url show the layout  , else hide the view\n        if (storeData.getVideo_url() != null &amp;&amp; !storeData.getVideo_url().equals(&quot;null&quot;) &amp;&amp; !storeData.getVideo_url().equals(&quot;&quot;)) {\n\n\n            //show ad\n            (new Handler()).postDelayed(new Runnable() {\n                @Override\n                public void run() {\n\n                    youTubePlayerView.addYouTubePlayerListener(new AbstractYouTubePlayerListener() {\n                        @Override\n                        public void onReady(@NonNull YouTubePlayer youTubePlayer) {\n                            String videoId = AppHelper.extractYoutubeVideoId(storeData.getVideo_url());\n                            if (videoId != null) youTubePlayer.cueVideo(videoId, 0);\n                        }\n                    });\n\n                    findViewById(R.id.video_layout).setVisibility(View.VISIBLE);\n\n                }\n            }, 2000);\n\n\n        } else {\n            findViewById(R.id.video_layout).setVisibility(View.GONE);\n        }\n\n\n        //setup product variants\n        setupServicesWidget();\n\n\n        mViewManager.showContent();\n\n\n    }\n</code></pre>\n<p>However, the video still does not play, it just stays in loading mode. I checked the database in the video url it says the correct url exampl. <a href=\"https://www.youtube.com/watch?v=Emyasd...\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Emyasd...</a>.</p>\n<p>I would like your help! Thank you very much in advance.</p>\n<p>Part from layout</p>\n<pre><code>&lt;com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView\n            android:id=&quot;@+id/youtube_player_view&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:autoPlay=&quot;false&quot;/&gt;\n</code></pre>\n"},{"tags":["java","linux","wayland","weston","xwayland"],"owner":{"account_id":12273021,"reputation":127,"user_id":8957688,"accept_rate":80,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686169244,"creation_date":1686169244,"question_id":76426853,"body_markdown":"I have a Java application running on:\r\n\r\nXWayland 2:1.20.11-1+deb11u6,\r\nWeston 9.0.0-1,\r\nOpenJDK 11.0.18+10-1~deb11u1,\r\nDebian 11,\r\nKernel 5.10.52\r\n\r\nMy JFrame (Window) is set to: `GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().setFullScreenWindow(this);`\r\n\r\nI can then see my interface on the full screen (in my case it is a TV and I have CEC enabled in the Kernel). However, after I unplug HDMI and plug HDMI again, my interface is gone (black screen). There is only one small 1x1 pixel left. It seems the size of the Window is changed by Java / XWayland / (Weston). I am sure, that I am not changing it - I check all resize methods on JFrame.\r\n\r\nWhen I restart my Java application, it is back again - so it is not an issue of the OS (Linux) directly and also - most probably - not Weston.\r\n\r\nI also don&#39;t have this issue with a pure Wayland application (e.g. Weston flower). Using only Wayland (without Java and XWayland) things work.\r\n\r\nWhen I PLUG the HDMI there is NO java.awt.event.ComponentEvent\r\n\r\nWhen I UNPLUG HDMI, I get the following java.awt.event.ComponentEvent: \r\n\r\n    java.awt.event.ComponentEvent[COMPONENT_RESIZED (0,0 1x1)] on frame0\r\n    java.base/java.lang.Thread.getStackTrace(Thread.java:1602)\r\n    java.desktop/java.awt.AWTEventMulticaster.componentResized(AWTEventMulticaster.java:167)\r\n    java.desktop/java.awt.AWTEventMulticaster.componentResized(AWTEventMulticaster.java:167)\r\n    java.desktop/java.awt.Component.processComponentEvent(Component.java:6461)\r\n    java.desktop/java.awt.Component.processEvent(Component.java:6415)\r\n    java.desktop/java.awt.Container.processEvent(Container.java:2263)\r\n    java.desktop/java.awt.Window.processEvent(Window.java:2049)\r\n    java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5011)\r\n    java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\r\n    java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\r\n    java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\r\n    java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n    java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n    java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n    java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n    java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n    java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n    java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n    java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n    java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n    java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n    java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n    java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n    java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n    java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\nUnfortunately I also don&#39;t know how to manipulate the size after I catched this event. I tried to directly set the size back, but this did not work. I think it may don&#39;t work because at this time HDMI is UNPLUGGED.\r\n\r\nAs I don&#39;t get any event when the HDMI is PLUGGED again, I also don&#39;t know when to (try to) set the size back to &quot;normal&quot;.","title":"Why does Java resize a Window to 1x1 pixel when HDMI is unplugged (and does not resize back when HDMI is plugged)","body":"<p>I have a Java application running on:</p>\n<p>XWayland 2:1.20.11-1+deb11u6,\nWeston 9.0.0-1,\nOpenJDK 11.0.18+10-1~deb11u1,\nDebian 11,\nKernel 5.10.52</p>\n<p>My JFrame (Window) is set to: <code>GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().setFullScreenWindow(this);</code></p>\n<p>I can then see my interface on the full screen (in my case it is a TV and I have CEC enabled in the Kernel). However, after I unplug HDMI and plug HDMI again, my interface is gone (black screen). There is only one small 1x1 pixel left. It seems the size of the Window is changed by Java / XWayland / (Weston). I am sure, that I am not changing it - I check all resize methods on JFrame.</p>\n<p>When I restart my Java application, it is back again - so it is not an issue of the OS (Linux) directly and also - most probably - not Weston.</p>\n<p>I also don't have this issue with a pure Wayland application (e.g. Weston flower). Using only Wayland (without Java and XWayland) things work.</p>\n<p>When I PLUG the HDMI there is NO java.awt.event.ComponentEvent</p>\n<p>When I UNPLUG HDMI, I get the following java.awt.event.ComponentEvent:</p>\n<pre><code>java.awt.event.ComponentEvent[COMPONENT_RESIZED (0,0 1x1)] on frame0\njava.base/java.lang.Thread.getStackTrace(Thread.java:1602)\njava.desktop/java.awt.AWTEventMulticaster.componentResized(AWTEventMulticaster.java:167)\njava.desktop/java.awt.AWTEventMulticaster.componentResized(AWTEventMulticaster.java:167)\njava.desktop/java.awt.Component.processComponentEvent(Component.java:6461)\njava.desktop/java.awt.Component.processEvent(Component.java:6415)\njava.desktop/java.awt.Container.processEvent(Container.java:2263)\njava.desktop/java.awt.Window.processEvent(Window.java:2049)\njava.desktop/java.awt.Component.dispatchEventImpl(Component.java:5011)\njava.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\njava.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\njava.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\njava.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\njava.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\njava.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\njava.base/java.security.AccessController.doPrivileged(Native Method)\njava.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\njava.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\njava.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\njava.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\njava.base/java.security.AccessController.doPrivileged(Native Method)\njava.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\njava.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\njava.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\njava.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\njava.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\njava.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\njava.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\njava.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>Unfortunately I also don't know how to manipulate the size after I catched this event. I tried to directly set the size back, but this did not work. I think it may don't work because at this time HDMI is UNPLUGGED.</p>\n<p>As I don't get any event when the HDMI is PLUGGED again, I also don't know when to (try to) set the size back to &quot;normal&quot;.</p>\n"},{"tags":["java","spring-boot","birt"],"comments":[{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1439984003,"post_id":32069938,"comment_id":52083118,"body_markdown":"Spring boot is an extension that is fully capabile of using Spring. So you should be able to use the spring+birt tutorial even with spring boot.","body":"Spring boot is an extension that is fully capabile of using Spring. So you should be able to use the spring+birt tutorial even with spring boot."},{"owner":{"account_id":2382522,"reputation":1144,"user_id":2084253,"accept_rate":80,"display_name":"Kent Bull"},"score":0,"creation_date":1461032431,"post_id":32069938,"comment_id":61002531,"body_markdown":"@Henk V I do have an example. Would you like me to post it even though your question is nearly a year old? If you will extend the bounty one more day I will post my sample.","body":"@Henk V I do have an example. Would you like me to post it even though your question is nearly a year old? If you will extend the bounty one more day I will post my sample."},{"owner":{"account_id":324114,"reputation":12953,"user_id":644518,"accept_rate":61,"display_name":"ajm"},"score":0,"creation_date":1461060292,"post_id":32069938,"comment_id":61015882,"body_markdown":"@KentJohnson Sure. Would like to see an example.","body":"@KentJohnson Sure. Would like to see an example."},{"owner":{"account_id":2382522,"reputation":1144,"user_id":2084253,"accept_rate":80,"display_name":"Kent Bull"},"score":0,"creation_date":1462207461,"post_id":32069938,"comment_id":61529282,"body_markdown":"@Henk V will you accept my answer?","body":"@Henk V will you accept my answer?"}],"answers":[{"tags":[],"owner":{"account_id":2382522,"reputation":1144,"user_id":2084253,"accept_rate":80,"display_name":"Kent Bull"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1461111394,"creation_date":1461111394,"answer_id":36731657,"question_id":32069938,"body_markdown":"Dependencies, an instance of the `IReportEngine`, and directories are the most challenging part of setting up BIRT in a spring boot web application.\r\nThis example has a little bit of error handling and depends on **environment variables** for specifying paths to important directories.\r\n\r\nOne nice things about this setup is that it is a standalone ReST API for building and generating reports. As a side benefit it doesn&#39;t depend on JSP at all.\r\n\r\nI run it in a Docker container.\r\n\r\nOriginally there was a plan to use some of the interfaces to try other reporting frameworks like Jasper reports or something else.\r\n\r\nThis isn&#39;t exactly what you are asking for though in my opinion it is better in certain contexts. You have a lot of flexibility with using, configuring, and deploying the BIRT report runner as an application like this. This does not use the pre-packaged BIRT Viewer provided by Actian.\r\n\r\nI would make a data container for reports called **birt-report-runner-data** and then put all of the directories for logging and reports on that container which you can then mount onto your BIRT container.\r\n\r\n\r\nMain Components\r\n===============\r\nMain File (BirtReportRunnerApplication.java)\r\n---\r\n    package com.example;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class BirtReportRunnerApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(BirtReportRunnerApplication.class, args);\r\n        }\r\n    }\r\n\r\nController to receive report Requests (ReportController.java)\r\n---\r\n    package com.example.core.web.controller;\r\n    \r\n    import com.example.core.model.BIRTReport;\r\n    import com.example.core.service.ReportRunner;\r\n    import com.example.core.web.dto.ReportRequest;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController(&quot;ReportController&quot;)\r\n    @RequestMapping(&quot;/reports&quot;)\r\n    public class ReportController {\r\n    \r\n        private Logger logger = LoggerFactory.getLogger(ReportController.class);\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;birt&quot;)\r\n        ReportRunner reportRunner;\r\n    \r\n        @RequestMapping(value = &quot;/birt&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity&lt;byte[]&gt; getBIRTReport(@RequestBody ReportRequest reportRequest) {\r\n            byte[] reportBytes;\r\n            ResponseEntity&lt;byte[]&gt; responseEntity;\r\n            try {\r\n                logger.info(&quot;REPORT REQUEST NAME:   &quot; + reportRequest.getReportName());\r\n                reportBytes =\r\n                    new BIRTReport(\r\n                        reportRequest.getReportName(),\r\n                        reportRequest.getReportParameters(),\r\n                        reportRunner)\r\n                        .runReport().getReportContent().toByteArray();\r\n    \r\n                HttpHeaders httpHeaders = new HttpHeaders();\r\n                httpHeaders.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\r\n                String fileName = reportRequest.getReportName() + &quot;.pdf&quot;;\r\n                httpHeaders.setContentDispositionFormData(fileName, fileName);\r\n                httpHeaders.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n                responseEntity = new ResponseEntity&lt;byte[]&gt;(reportBytes, httpHeaders, HttpStatus.OK);\r\n            } catch (Exception e) {\r\n                responseEntity = new ResponseEntity&lt;byte[]&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n                return responseEntity;\r\n            }\r\n            return responseEntity;\r\n        }\r\n    }\r\n\r\n\r\nReport Request DTO for specifying report to run (ReportRequest.java)\r\n---\r\n    package com.example.core.web.dto;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class ReportRequest {\r\n        private String reportName;\r\n        private String reportParameters;\r\n    \r\n        public ReportRequest(@JsonProperty(&quot;reportName&quot;) String reportName,\r\n                             @JsonProperty(&quot;reportParameters&quot;) String reportParameters) {\r\n            this.reportName = reportName;\r\n            this.reportParameters = reportParameters;\r\n        }\r\n    \r\n        public String getReportName() {\r\n            return reportName;\r\n        }\r\n    \r\n        public String getReportParameters() {\r\n            return reportParameters;\r\n        }\r\n    \r\n        public void setReportParameters(String reportParameters) {\r\n            this.reportParameters = reportParameters;\r\n        }\r\n    }\r\n\r\nInterface for report runner (ReportRunner.java)\r\n---\r\n    package com.example.core.service;\r\n    \r\n    import com.example.core.model.Report;\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    \r\n    public interface ReportRunner {\r\n    \r\n        ByteArrayOutputStream runReport(Report report);\r\n    }\r\n\r\n\r\nLargest class that does most of the work (BIRTReportRunner.java)\r\n---\r\n    package com.example.core.service;\r\n\r\n    import com.example.core.model.Report;\r\n    import org.eclipse.birt.core.exception.BirtException;\r\n    import org.eclipse.birt.core.framework.Platform;\r\n    import org.eclipse.birt.report.engine.api.*;\r\n    import org.eclipse.core.internal.registry.RegistryProviderFactory;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import javax.annotation.PreDestroy;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.logging.Level;\r\n\r\n    @Service\r\n    @Qualifier(&quot;birt&quot;)\r\n    public class BIRTReportRunner implements ReportRunner {\r\n        private static final String DEFAULT_LOGGING_DIRECTORY = &quot;defaultBirtLoggingDirectory/&quot;;\r\n        private Logger logger = LoggerFactory.getLogger(BIRTReportRunner.class);\r\n\r\n        private static String reportOutputDirectory;\r\n\r\n        private IReportEngine birtReportEngine = null;\r\n\r\n        @Autowired\r\n        private Environment env;\r\n\r\n        /**\r\n         * Starts up and configures the BIRT Report Engine\r\n         */\r\n        @PostConstruct\r\n        public void startUp() {\r\n            if(env.getProperty(&quot;birt_report_input_dir&quot;) == null)\r\n                throw new RuntimeException(&quot;Cannot start application since birt report input directory was not specified.&quot;);\r\n            try {\r\n                String birtLoggingDirectory = env.getProperty(&quot;birt_logging_directory&quot;) == null ? DEFAULT_LOGGING_DIRECTORY : env.getProperty(&quot;birt_logging_directory&quot;);\r\n                Level birtLoggingLevel = env.getProperty(&quot;birt_logging_level&quot;) == null ? Level.SEVERE : Level.parse(env.getProperty(&quot;birt_logging_level&quot;));\r\n                EngineConfig engineConfig = new EngineConfig();\r\n                logger.info(&quot;BIRT LOG DIRECTORY SET TO : {}&quot;, birtLoggingDirectory);\r\n                logger.info(&quot;BIRT LOGGING LEVEL SET TO {}&quot;, birtLoggingLevel);\r\n                engineConfig.setLogConfig(birtLoggingDirectory, birtLoggingLevel);\r\n\r\n                // Required due to a bug in BIRT that occurs in calling Startup after the Platform has already been started up\r\n                RegistryProviderFactory.releaseDefault();\r\n                Platform.startup(engineConfig);\r\n                IReportEngineFactory reportEngineFactory = (IReportEngineFactory) Platform.createFactoryObject(IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY);\r\n                birtReportEngine = reportEngineFactory.createReportEngine(engineConfig);\r\n            } catch (BirtException e) {\r\n                // TODO add logging aspect and find out how to log a platform startup problem from this catch block, if possible, using the aspect.\r\n                // Possibly rethrow the exception here and catch it in the aspect.\r\n                logger.error(&quot;Birt Startup Error: {}&quot;, e.getMessage());\r\n            }\r\n\r\n            reportOutputDirectory = env.getProperty(&quot;birt_temp_file_output_dir&quot;);\r\n        }\r\n\r\n        /**\r\n         * Shuts down the BIRT Report Engine\r\n         */\r\n        @PreDestroy\r\n        public void shutdown() {\r\n            birtReportEngine.destroy();\r\n            RegistryProviderFactory.releaseDefault();\r\n            Platform.shutdown();\r\n        }\r\n\r\n        public File getReportFromFilesystem(String reportName) throws RuntimeException {\r\n            String reportDirectory = env.getProperty(&quot;birt_report_input_dir&quot;);\r\n            Path birtReport = Paths.get(reportDirectory + File.separator + reportName + &quot;.rptdesign&quot;);\r\n            if(!Files.isReadable(birtReport))\r\n                throw new RuntimeException(&quot;Report &quot; + reportName + &quot; either did not exist or was not writable.&quot;);\r\n\r\n            return birtReport.toFile();\r\n        }\r\n\r\n        /**\r\n         * This method creates and executes the report task, the main responsibility\r\n         * of the entire Report Service.\r\n         * This method is key to enabling pagination for the BIRT report. The IRunTask run task\r\n         * is created and then used to generate an &quot;.rptdocument&quot; binary file.\r\n         * This binary file is then read by the separately created IRenderTask render\r\n         * task. The render task renders the binary document as a binary PDF output\r\n         * stream which is then returned from the method.\r\n         * &lt;p&gt;\r\n         *\r\n         * @param birtReport the report object created at the controller to hold the data of the report request.\r\n         * @return Returns a ByteArrayOutputStream of the PDF bytes generated by the\r\n         */\r\n        @Override\r\n        public ByteArrayOutputStream runReport(Report birtReport) {\r\n\r\n            ByteArrayOutputStream byteArrayOutputStream;\r\n            File rptDesignFile;\r\n\r\n            // get the path to the report design file\r\n            try {\r\n                rptDesignFile = getReportFromFilesystem(birtReport.getName());\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Error while loading rptdesign: {}.&quot;, e.getMessage());\r\n                throw new RuntimeException(&quot;Could not find report&quot;);\r\n            }\r\n\r\n            // process any additional parameters\r\n            Map&lt;String, String&gt; parsedParameters = parseParametersAsMap(birtReport.getParameters());\r\n\r\n            byteArrayOutputStream = new ByteArrayOutputStream();\r\n            try {\r\n                IReportRunnable reportDesign = birtReportEngine.openReportDesign(rptDesignFile.getPath());\r\n                IRunTask runTask = birtReportEngine.createRunTask(reportDesign);\r\n\r\n                if (parsedParameters.size() &gt; 0) {\r\n                    for (Map.Entry&lt;String, String&gt; entry : parsedParameters.entrySet()) {\r\n                        runTask.setParameterValue(entry.getKey(), entry.getValue());\r\n                    }\r\n                }\r\n                runTask.validateParameters();\r\n\r\n                String rptdocument = reportOutputDirectory + File.separator\r\n                        + &quot;generated&quot; + File.separator\r\n                        + birtReport.getName() + &quot;.rptdocument&quot;;\r\n                runTask.run(rptdocument);\r\n\r\n                IReportDocument reportDocument = birtReportEngine.openReportDocument(rptdocument);\r\n                IRenderTask renderTask = birtReportEngine.createRenderTask(reportDocument);\r\n\r\n                PDFRenderOption pdfRenderOption = new PDFRenderOption();\r\n                pdfRenderOption.setOption(IPDFRenderOption.REPAGINATE_FOR_PDF, new Boolean(true));\r\n                pdfRenderOption.setOutputFormat(&quot;pdf&quot;);\r\n                pdfRenderOption.setOutputStream(byteArrayOutputStream);\r\n                renderTask.setRenderOption(pdfRenderOption);\r\n\r\n                renderTask.render();\r\n                renderTask.close();\r\n            } catch (EngineException e) {\r\n                logger.error(&quot;Error while running report task: {}.&quot;, e.getMessage());\r\n                // TODO add custom message to thrown exception\r\n                throw new RuntimeException();\r\n            }\r\n\r\n            return byteArrayOutputStream;\r\n        }\r\n\r\n        /**\r\n         * Takes a String of parameters started by &#39;?&#39;, delimited by &#39;&amp;&#39;, and with\r\n         * keys and values split by &#39;=&#39; and returnes a Map of the keys and values\r\n         * in the String.\r\n         *\r\n         * @param reportParameters a String from a HTTP request URL\r\n         * @return a map of parameters with Key,Value entries as strings\r\n         */\r\n        public Map&lt;String, String&gt; parseParametersAsMap(String reportParameters) {\r\n            Map&lt;String, String&gt; parsedParameters = new HashMap&lt;String, String&gt;();\r\n            String[] paramArray;\r\n            if (reportParameters.isEmpty()) {\r\n                throw new IllegalArgumentException(&quot;Report parameters cannot be empty&quot;);\r\n            } else if (!reportParameters.startsWith(&quot;?&quot;) &amp;&amp; !reportParameters.contains(&quot;?&quot;)) {\r\n                throw new IllegalArgumentException(&quot;Report parameters must start with a question mark &#39;?&#39;!&quot;);\r\n            } else {\r\n                String noQuestionMark = reportParameters.substring(1, reportParameters.length());\r\n                paramArray = noQuestionMark.split(&quot;&amp;&quot;);\r\n                for (String param : paramArray) {\r\n                    String[] paramGroup = param.split(&quot;=&quot;);\r\n                    if (paramGroup.length == 2) {\r\n                        parsedParameters.put(paramGroup[0], paramGroup[1]);\r\n                    } else {\r\n                        parsedParameters.put(paramGroup[0], &quot;&quot;);\r\n                    }\r\n\r\n                }\r\n            }\r\n            return parsedParameters;\r\n        }\r\n    }\r\n\r\n\r\nReport object class (Report.java)\r\n---\r\n    package com.example.core.model;\r\n    \r\n    import com.example.core.service.ReportRunner;\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * A Report object has a byte representation of the report output that can be\r\n     * used to write to any output stream. This class is designed around the concept\r\n     * of using ByteArrayOutputStreams to write PDFs to an output stream.\r\n     *\r\n     *\r\n     */\r\n    public abstract class Report {\r\n    \r\n        protected String name;\r\n        protected String parameters;\r\n        protected ByteArrayOutputStream reportContent;\r\n        protected ReportRunner reportRunner;\r\n    \r\n        public Report(String name, String parameters, ReportRunner reportRunner) {\r\n            this.name = name;\r\n            this.parameters = parameters;\r\n            this.reportRunner = reportRunner;\r\n        }\r\n    \r\n        /**\r\n         * This is the processing method for a Report. Once the report is ran it\r\n         * populates an internal field with a ByteArrayOutputStream of the\r\n         * report content generated during the run process.\r\n         * @return Returns itself with the report content output stream created.\r\n         */\r\n        public abstract Report runReport();\r\n    \r\n        public ByteArrayOutputStream getReportContent() {\r\n            return this.reportContent;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getParameters() {\r\n            return parameters;\r\n        }\r\n    }\r\n\r\nBIRTReport object class (BIRTReport.java)\r\n---\r\n    package com.example.core.model;\r\n\r\n    import com.example.core.service.ReportRunner;\r\n\r\n    public class BIRTReport extends Report {\r\n\r\n        public BIRTReport(String name, String reportParameters, ReportRunner reportRunner) {\r\n            super(name, reportParameters, reportRunner);\r\n        }\r\n\r\n        @Override\r\n        public Report runReport() {\r\n            this.reportContent = reportRunner.runReport(this);\r\n            return this;\r\n        }\r\n    }\r\n\r\nBuild file (build.gradle)\r\n---\r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;1.3.2.RELEASE&#39;\r\n        }\r\n        repositories {\r\n            jcenter()\r\n\r\n        }\r\n        dependencies {\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n            classpath(&quot;io.spring.gradle:dependency-management-plugin:0.5.2.RELEASE&quot;)\r\n        }\r\n    }\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;spring-boot&#39;\r\n\r\n    jar {\r\n        baseName = &#39;com.example.simple-birt-runner&#39;\r\n        version = &#39;1.0.0&#39;\r\n    }\r\n\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n\r\n    ext {\r\n        springBootVersion = &#39;1.3.0.M5&#39;\r\n    }\r\n\r\n    repositories {\r\n        jcenter()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;)\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;)\r\n\r\n\r\n        // BIRT Runtime and ReportEngine dependencies\r\n        // These were pulled from the Actuate download site at http://download.eclipse.org/birt/downloads/ for version 4.5.0\r\n        compile fileTree(dir: &#39;lib&#39;, include: &#39;*.jar&#39;)\r\n        /*compile(&quot;org.eclipse.birt.runtime:org.eclipse.birt.runtime:4.4.2&quot;) {\r\n            exclude group: &quot;org.eclipse.birt.runtime&quot;, module: &quot;org.apache.poi&quot;\r\n            exclude group: &quot;org.eclipse.birt.runtime&quot;, module: &quot;org.eclipse.orbit.mongodb&quot;\r\n        }*/\r\n\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\r\n\r\n        // include any runtime JDBC driver dependencies here\r\n\r\n        testCompile(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    }\r\n\r\n\r\nDependencies\r\n============\r\nGet all of the dependencies in the Birt Viewer lib directory and put them on your classpath. Here is a full list of external dependencies:\r\n\r\n    com.ibm.icu_54.1.1.v201501272100.jar\r\n    com.lowagie.text_2.1.7.v201004222200.jar\r\n    derby.jar\r\n    flute.jar\r\n    javax.wsdl_1.5.1.v201012040544.jar\r\n    javax.xml.stream_1.0.1.v201004272200.jar\r\n    javax.xml_1.3.4.v201005080400.jar\r\n    net.sourceforge.lpg.lpgjavaruntime_1.1.0.v201004271650.jar\r\n    org.apache.batik.bridge_1.6.0.v201011041432.jar\r\n    org.apache.batik.css_1.6.0.v201011041432.jar\r\n    org.apache.batik.dom.svg_1.6.0.v201011041432.jar\r\n    org.apache.batik.dom_1.6.1.v201505192100.jar\r\n    org.apache.batik.ext.awt_1.6.0.v201011041432.jar\r\n    org.apache.batik.parser_1.6.0.v201011041432.jar\r\n    org.apache.batik.pdf_1.6.0.v201105071520.jar\r\n    org.apache.batik.svggen_1.6.0.v201011041432.jar\r\n    org.apache.batik.transcoder_1.6.0.v201011041432.jar\r\n    org.apache.batik.util.gui_1.6.0.v201011041432.jar\r\n    org.apache.batik.util_1.6.0.v201011041432.jar\r\n    org.apache.batik.xml_1.6.0.v201011041432.jar\r\n    org.apache.commons.codec_1.6.0.v201305230611.jar\r\n    org.apache.commons.logging_1.1.1.v201101211721.jar\r\n    org.apache.lucene.core_3.5.0.v20120725-1805.jar\r\n    org.apache.poi_3.9.0.v201405241750.jar\r\n    org.apache.xerces_2.9.0.v201101211617.jar\r\n    org.apache.xml.resolver_1.2.0.v201005080400.jar\r\n    org.apache.xml.serializer_2.7.1.v201005080400.jar\r\n    org.eclipse.birt.runtime_4.5.0.jar\r\n    org.eclipse.core.contenttype_3.5.0.v20150421-2214.jar\r\n    org.eclipse.core.expressions_3.5.0.v20150421-2214.jar\r\n    org.eclipse.core.filesystem_1.5.0.v20150421-0713.jar\r\n    org.eclipse.core.jobs_3.7.0.v20150330-2103.jar\r\n    org.eclipse.core.resources_3.10.0.v20150423-0755.jar\r\n    org.eclipse.core.runtime.compatibility_3.2.300.v20150423-0821.jar\r\n    org.eclipse.core.runtime_3.11.0.v20150405-1723.jar\r\n    org.eclipse.datatools.connectivity.apache.derby.dbdefinition_1.0.2.v201107221459.jar\r\n    org.eclipse.datatools.connectivity.apache.derby_1.0.103.v201212070447.jar\r\n    org.eclipse.datatools.connectivity.console.profile_1.0.10.v201109250955.jar\r\n    org.eclipse.datatools.connectivity.db.generic_1.0.1.v201107221459.jar\r\n    org.eclipse.datatools.connectivity.dbdefinition.genericJDBC_1.0.2.v201310181001.jar\r\n    org.eclipse.datatools.connectivity.oda.consumer_3.2.6.v201403131814.jar\r\n    org.eclipse.datatools.connectivity.oda.design_3.3.6.v201403131814.jar\r\n    org.eclipse.datatools.connectivity.oda.flatfile_3.1.8.v201403010906.jar\r\n    org.eclipse.datatools.connectivity.oda.profile_3.2.9.v201403131814.jar\r\n    org.eclipse.datatools.connectivity.oda_3.4.3.v201405301249.jar\r\n    org.eclipse.datatools.connectivity.sqm.core_1.2.8.v201401230755.jar\r\n    org.eclipse.datatools.connectivity_1.2.11.v201401230755.jar\r\n    org.eclipse.datatools.enablement.hsqldb.dbdefinition_1.0.0.v201107221502.jar\r\n    org.eclipse.datatools.enablement.hsqldb_1.0.0.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.iseries.dbdefinition_1.0.3.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.iseries_1.0.2.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.luw.dbdefinition_1.0.7.v201405302027.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.luw_1.0.3.v201401170830.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.zseries.dbdefinition_1.0.4.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.zseries_1.0.2.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.db2_1.0.0.v201401170830.jar\r\n    org.eclipse.datatools.enablement.ibm.informix.dbdefinition_1.0.4.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.informix_1.0.1.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm_1.0.0.v201401170830.jar\r\n    org.eclipse.datatools.enablement.msft.sqlserver.dbdefinition_1.0.1.v201201240505.jar\r\n    org.eclipse.datatools.enablement.msft.sqlserver_1.0.3.v201308161009.jar\r\n    org.eclipse.datatools.enablement.mysql.dbdefinition_1.0.4.v201109022331.jar\r\n    org.eclipse.datatools.enablement.mysql_1.0.4.v201212120617.jar\r\n    org.eclipse.datatools.enablement.oda.ws_1.2.6.v201403131825.jar\r\n    org.eclipse.datatools.enablement.oda.xml_1.2.5.v201403131825.jar\r\n    org.eclipse.datatools.enablement.oracle.dbdefinition_1.0.103.v201206010214.jar\r\n    org.eclipse.datatools.enablement.oracle_1.0.0.v201107221506.jar\r\n    org.eclipse.datatools.enablement.postgresql.dbdefinition_1.0.2.v201110070445.jar\r\n    org.eclipse.datatools.enablement.postgresql_1.1.1.v201205252207.jar\r\n    org.eclipse.datatools.enablement.sap.maxdb.dbdefinition_1.0.0.v201107221507.jar\r\n    org.eclipse.datatools.enablement.sap.maxdb_1.0.0.v201107221507.jar\r\n    org.eclipse.datatools.modelbase.dbdefinition_1.0.2.v201107221519.jar\r\n    org.eclipse.datatools.modelbase.derby_1.0.0.v201107221519.jar\r\n    org.eclipse.datatools.modelbase.sql.query_1.1.4.v201212120619.jar\r\n    org.eclipse.datatools.modelbase.sql_1.0.6.v201208230744.jar\r\n    org.eclipse.datatools.sqltools.data.core_1.2.3.v201212120623.jar\r\n    org.eclipse.datatools.sqltools.parsers.sql.lexer_1.0.1.v201107221520.jar\r\n    org.eclipse.datatools.sqltools.parsers.sql.query_1.2.1.v201201250511.jar\r\n    org.eclipse.datatools.sqltools.parsers.sql_1.0.2.v201107221520.jar\r\n    org.eclipse.datatools.sqltools.result_1.1.6.v201402080246.jar\r\n    org.eclipse.emf.common_2.11.0.v20150512-0501.jar\r\n    org.eclipse.emf.ecore.change_2.11.0.v20150512-0501.jar\r\n    org.eclipse.emf.ecore.xmi_2.11.0.v20150512-0501.jar\r\n    org.eclipse.emf.ecore_2.11.0.v20150512-0501.jar\r\n    org.eclipse.equinox.app_1.3.300.v20150423-1356.jar\r\n    org.eclipse.equinox.common_3.7.0.v20150402-1709.jar\r\n    org.eclipse.equinox.preferences_3.5.300.v20150408-1437.jar\r\n    org.eclipse.equinox.registry_3.6.0.v20150318-1503.jar\r\n    org.eclipse.help_3.6.0.v20130326-1254.jar\r\n    org.eclipse.osgi.services_3.5.0.v20150519-2006.jar\r\n    org.eclipse.osgi_3.10.100.v20150529-1857.jar\r\n    org.eclipse.update.configurator_3.3.300.v20140518-1928.jar\r\n    org.mozilla.javascript_1.7.5.v201504281450.jar\r\n    org.w3c.css.sac_1.3.1.v200903091627.jar\r\n    org.w3c.dom.events_3.0.0.draft20060413_v201105210656.jar\r\n    org.w3c.dom.smil_1.0.1.v200903091627.jar\r\n    org.w3c.dom.svg_1.1.0.v201011041433.jar\r\n\r\nApplication properties (application.yml)\r\n---\r\n    birt:\r\n      report:\r\n        output:\r\n          dir: ${birt_temp_file_output_dir}\r\n        input:\r\n          dir: ${birt_report_input_dir}\r\n      logging:\r\n        level: ${birt_logging_level}\r\n    \r\n    \r\n    server:\r\n      port: 8080\r\n      context-path: /simple-birt-runner\r\n    \r\n    \r\n    birt:\r\n      logging:\r\n        level: SEVERE\r\n    \r\n    logging:\r\n      level:\r\n        org:\r\n          springframework:\r\n            web: ERROR\r\n\r\nDockerfile for running (Dockerfile)\r\n---\r\n\r\n    FROM java:openjdk-8u66-jre\r\n    MAINTAINER Kent O. Johnson &lt;kentoj@gmail.com&gt;\r\n    \r\n    COPY com.example.simple-birt-runner-*.jar /opt/soft/simple-birt-runner.jar\r\n    \r\n    RUN mkdir -p /reports/input \\\r\n        &amp;&amp; mkdir /reports/output \\\r\n        &amp;&amp; mkdir -p /reports/log/engine\r\n    \r\n    WORKDIR /opt/soft\r\n    \r\n    CMD java -jar -Xms128M -Xmx4G simple-birt-runner.jar\r\n    \r\n    EXPOSE 8080\r\n\r\nDocker compose file for running image (docker-compose.yml)\r\n---\r\n    simple-birt-runner:\r\n      image: soft/simple-birt-runner-release\r\n      ports:\r\n      - &quot;8090:8080&quot;\r\n      environment:\r\n      - birt_temp_file_output_dir=/reports/output\r\n      - birt_report_input_dir=/reports/input\r\n      - birt_logging_directory=/reports/log/engine\r\n      - birt_logging_level=SEVERE\r\n      volumes_from:\r\n      - birt-report-runner-data\r\n      ","title":"BIRT in spring boot app","body":"<p>Dependencies, an instance of the <code>IReportEngine</code>, and directories are the most challenging part of setting up BIRT in a spring boot web application.\nThis example has a little bit of error handling and depends on <strong>environment variables</strong> for specifying paths to important directories.</p>\n\n<p>One nice things about this setup is that it is a standalone ReST API for building and generating reports. As a side benefit it doesn't depend on JSP at all.</p>\n\n<p>I run it in a Docker container.</p>\n\n<p>Originally there was a plan to use some of the interfaces to try other reporting frameworks like Jasper reports or something else.</p>\n\n<p>This isn't exactly what you are asking for though in my opinion it is better in certain contexts. You have a lot of flexibility with using, configuring, and deploying the BIRT report runner as an application like this. This does not use the pre-packaged BIRT Viewer provided by Actian.</p>\n\n<p>I would make a data container for reports called <strong>birt-report-runner-data</strong> and then put all of the directories for logging and reports on that container which you can then mount onto your BIRT container.</p>\n\n<h1>Main Components</h1>\n\n<h2>Main File (BirtReportRunnerApplication.java)</h2>\n\n<pre><code>package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class BirtReportRunnerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BirtReportRunnerApplication.class, args);\n    }\n}\n</code></pre>\n\n<h2>Controller to receive report Requests (ReportController.java)</h2>\n\n<pre><code>package com.example.core.web.controller;\n\nimport com.example.core.model.BIRTReport;\nimport com.example.core.service.ReportRunner;\nimport com.example.core.web.dto.ReportRequest;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController(\"ReportController\")\n@RequestMapping(\"/reports\")\npublic class ReportController {\n\n    private Logger logger = LoggerFactory.getLogger(ReportController.class);\n\n    @Autowired\n    @Qualifier(\"birt\")\n    ReportRunner reportRunner;\n\n    @RequestMapping(value = \"/birt\", method = RequestMethod.POST)\n    public ResponseEntity&lt;byte[]&gt; getBIRTReport(@RequestBody ReportRequest reportRequest) {\n        byte[] reportBytes;\n        ResponseEntity&lt;byte[]&gt; responseEntity;\n        try {\n            logger.info(\"REPORT REQUEST NAME:   \" + reportRequest.getReportName());\n            reportBytes =\n                new BIRTReport(\n                    reportRequest.getReportName(),\n                    reportRequest.getReportParameters(),\n                    reportRunner)\n                    .runReport().getReportContent().toByteArray();\n\n            HttpHeaders httpHeaders = new HttpHeaders();\n            httpHeaders.setContentType(MediaType.parseMediaType(\"application/pdf\"));\n            String fileName = reportRequest.getReportName() + \".pdf\";\n            httpHeaders.setContentDispositionFormData(fileName, fileName);\n            httpHeaders.setCacheControl(\"must-revalidate, post-check=0, pre-check=0\");\n            responseEntity = new ResponseEntity&lt;byte[]&gt;(reportBytes, httpHeaders, HttpStatus.OK);\n        } catch (Exception e) {\n            responseEntity = new ResponseEntity&lt;byte[]&gt;(HttpStatus.NOT_IMPLEMENTED);\n            return responseEntity;\n        }\n        return responseEntity;\n    }\n}\n</code></pre>\n\n<h2>Report Request DTO for specifying report to run (ReportRequest.java)</h2>\n\n<pre><code>package com.example.core.web.dto;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\nimport java.util.List;\n\npublic class ReportRequest {\n    private String reportName;\n    private String reportParameters;\n\n    public ReportRequest(@JsonProperty(\"reportName\") String reportName,\n                         @JsonProperty(\"reportParameters\") String reportParameters) {\n        this.reportName = reportName;\n        this.reportParameters = reportParameters;\n    }\n\n    public String getReportName() {\n        return reportName;\n    }\n\n    public String getReportParameters() {\n        return reportParameters;\n    }\n\n    public void setReportParameters(String reportParameters) {\n        this.reportParameters = reportParameters;\n    }\n}\n</code></pre>\n\n<h2>Interface for report runner (ReportRunner.java)</h2>\n\n<pre><code>package com.example.core.service;\n\nimport com.example.core.model.Report;\n\nimport java.io.ByteArrayOutputStream;\n\npublic interface ReportRunner {\n\n    ByteArrayOutputStream runReport(Report report);\n}\n</code></pre>\n\n<h2>Largest class that does most of the work (BIRTReportRunner.java)</h2>\n\n<pre><code>package com.example.core.service;\n\nimport com.example.core.model.Report;\nimport org.eclipse.birt.core.exception.BirtException;\nimport org.eclipse.birt.core.framework.Platform;\nimport org.eclipse.birt.report.engine.api.*;\nimport org.eclipse.core.internal.registry.RegistryProviderFactory;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.core.env.Environment;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.logging.Level;\n\n@Service\n@Qualifier(\"birt\")\npublic class BIRTReportRunner implements ReportRunner {\n    private static final String DEFAULT_LOGGING_DIRECTORY = \"defaultBirtLoggingDirectory/\";\n    private Logger logger = LoggerFactory.getLogger(BIRTReportRunner.class);\n\n    private static String reportOutputDirectory;\n\n    private IReportEngine birtReportEngine = null;\n\n    @Autowired\n    private Environment env;\n\n    /**\n     * Starts up and configures the BIRT Report Engine\n     */\n    @PostConstruct\n    public void startUp() {\n        if(env.getProperty(\"birt_report_input_dir\") == null)\n            throw new RuntimeException(\"Cannot start application since birt report input directory was not specified.\");\n        try {\n            String birtLoggingDirectory = env.getProperty(\"birt_logging_directory\") == null ? DEFAULT_LOGGING_DIRECTORY : env.getProperty(\"birt_logging_directory\");\n            Level birtLoggingLevel = env.getProperty(\"birt_logging_level\") == null ? Level.SEVERE : Level.parse(env.getProperty(\"birt_logging_level\"));\n            EngineConfig engineConfig = new EngineConfig();\n            logger.info(\"BIRT LOG DIRECTORY SET TO : {}\", birtLoggingDirectory);\n            logger.info(\"BIRT LOGGING LEVEL SET TO {}\", birtLoggingLevel);\n            engineConfig.setLogConfig(birtLoggingDirectory, birtLoggingLevel);\n\n            // Required due to a bug in BIRT that occurs in calling Startup after the Platform has already been started up\n            RegistryProviderFactory.releaseDefault();\n            Platform.startup(engineConfig);\n            IReportEngineFactory reportEngineFactory = (IReportEngineFactory) Platform.createFactoryObject(IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY);\n            birtReportEngine = reportEngineFactory.createReportEngine(engineConfig);\n        } catch (BirtException e) {\n            // TODO add logging aspect and find out how to log a platform startup problem from this catch block, if possible, using the aspect.\n            // Possibly rethrow the exception here and catch it in the aspect.\n            logger.error(\"Birt Startup Error: {}\", e.getMessage());\n        }\n\n        reportOutputDirectory = env.getProperty(\"birt_temp_file_output_dir\");\n    }\n\n    /**\n     * Shuts down the BIRT Report Engine\n     */\n    @PreDestroy\n    public void shutdown() {\n        birtReportEngine.destroy();\n        RegistryProviderFactory.releaseDefault();\n        Platform.shutdown();\n    }\n\n    public File getReportFromFilesystem(String reportName) throws RuntimeException {\n        String reportDirectory = env.getProperty(\"birt_report_input_dir\");\n        Path birtReport = Paths.get(reportDirectory + File.separator + reportName + \".rptdesign\");\n        if(!Files.isReadable(birtReport))\n            throw new RuntimeException(\"Report \" + reportName + \" either did not exist or was not writable.\");\n\n        return birtReport.toFile();\n    }\n\n    /**\n     * This method creates and executes the report task, the main responsibility\n     * of the entire Report Service.\n     * This method is key to enabling pagination for the BIRT report. The IRunTask run task\n     * is created and then used to generate an \".rptdocument\" binary file.\n     * This binary file is then read by the separately created IRenderTask render\n     * task. The render task renders the binary document as a binary PDF output\n     * stream which is then returned from the method.\n     * &lt;p&gt;\n     *\n     * @param birtReport the report object created at the controller to hold the data of the report request.\n     * @return Returns a ByteArrayOutputStream of the PDF bytes generated by the\n     */\n    @Override\n    public ByteArrayOutputStream runReport(Report birtReport) {\n\n        ByteArrayOutputStream byteArrayOutputStream;\n        File rptDesignFile;\n\n        // get the path to the report design file\n        try {\n            rptDesignFile = getReportFromFilesystem(birtReport.getName());\n        } catch (Exception e) {\n            logger.error(\"Error while loading rptdesign: {}.\", e.getMessage());\n            throw new RuntimeException(\"Could not find report\");\n        }\n\n        // process any additional parameters\n        Map&lt;String, String&gt; parsedParameters = parseParametersAsMap(birtReport.getParameters());\n\n        byteArrayOutputStream = new ByteArrayOutputStream();\n        try {\n            IReportRunnable reportDesign = birtReportEngine.openReportDesign(rptDesignFile.getPath());\n            IRunTask runTask = birtReportEngine.createRunTask(reportDesign);\n\n            if (parsedParameters.size() &gt; 0) {\n                for (Map.Entry&lt;String, String&gt; entry : parsedParameters.entrySet()) {\n                    runTask.setParameterValue(entry.getKey(), entry.getValue());\n                }\n            }\n            runTask.validateParameters();\n\n            String rptdocument = reportOutputDirectory + File.separator\n                    + \"generated\" + File.separator\n                    + birtReport.getName() + \".rptdocument\";\n            runTask.run(rptdocument);\n\n            IReportDocument reportDocument = birtReportEngine.openReportDocument(rptdocument);\n            IRenderTask renderTask = birtReportEngine.createRenderTask(reportDocument);\n\n            PDFRenderOption pdfRenderOption = new PDFRenderOption();\n            pdfRenderOption.setOption(IPDFRenderOption.REPAGINATE_FOR_PDF, new Boolean(true));\n            pdfRenderOption.setOutputFormat(\"pdf\");\n            pdfRenderOption.setOutputStream(byteArrayOutputStream);\n            renderTask.setRenderOption(pdfRenderOption);\n\n            renderTask.render();\n            renderTask.close();\n        } catch (EngineException e) {\n            logger.error(\"Error while running report task: {}.\", e.getMessage());\n            // TODO add custom message to thrown exception\n            throw new RuntimeException();\n        }\n\n        return byteArrayOutputStream;\n    }\n\n    /**\n     * Takes a String of parameters started by '?', delimited by '&amp;', and with\n     * keys and values split by '=' and returnes a Map of the keys and values\n     * in the String.\n     *\n     * @param reportParameters a String from a HTTP request URL\n     * @return a map of parameters with Key,Value entries as strings\n     */\n    public Map&lt;String, String&gt; parseParametersAsMap(String reportParameters) {\n        Map&lt;String, String&gt; parsedParameters = new HashMap&lt;String, String&gt;();\n        String[] paramArray;\n        if (reportParameters.isEmpty()) {\n            throw new IllegalArgumentException(\"Report parameters cannot be empty\");\n        } else if (!reportParameters.startsWith(\"?\") &amp;&amp; !reportParameters.contains(\"?\")) {\n            throw new IllegalArgumentException(\"Report parameters must start with a question mark '?'!\");\n        } else {\n            String noQuestionMark = reportParameters.substring(1, reportParameters.length());\n            paramArray = noQuestionMark.split(\"&amp;\");\n            for (String param : paramArray) {\n                String[] paramGroup = param.split(\"=\");\n                if (paramGroup.length == 2) {\n                    parsedParameters.put(paramGroup[0], paramGroup[1]);\n                } else {\n                    parsedParameters.put(paramGroup[0], \"\");\n                }\n\n            }\n        }\n        return parsedParameters;\n    }\n}\n</code></pre>\n\n<h2>Report object class (Report.java)</h2>\n\n<pre><code>package com.example.core.model;\n\nimport com.example.core.service.ReportRunner;\n\nimport java.io.ByteArrayOutputStream;\nimport java.util.List;\n\n/**\n * A Report object has a byte representation of the report output that can be\n * used to write to any output stream. This class is designed around the concept\n * of using ByteArrayOutputStreams to write PDFs to an output stream.\n *\n *\n */\npublic abstract class Report {\n\n    protected String name;\n    protected String parameters;\n    protected ByteArrayOutputStream reportContent;\n    protected ReportRunner reportRunner;\n\n    public Report(String name, String parameters, ReportRunner reportRunner) {\n        this.name = name;\n        this.parameters = parameters;\n        this.reportRunner = reportRunner;\n    }\n\n    /**\n     * This is the processing method for a Report. Once the report is ran it\n     * populates an internal field with a ByteArrayOutputStream of the\n     * report content generated during the run process.\n     * @return Returns itself with the report content output stream created.\n     */\n    public abstract Report runReport();\n\n    public ByteArrayOutputStream getReportContent() {\n        return this.reportContent;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getParameters() {\n        return parameters;\n    }\n}\n</code></pre>\n\n<h2>BIRTReport object class (BIRTReport.java)</h2>\n\n<pre><code>package com.example.core.model;\n\nimport com.example.core.service.ReportRunner;\n\npublic class BIRTReport extends Report {\n\n    public BIRTReport(String name, String reportParameters, ReportRunner reportRunner) {\n        super(name, reportParameters, reportRunner);\n    }\n\n    @Override\n    public Report runReport() {\n        this.reportContent = reportRunner.runReport(this);\n        return this;\n    }\n}\n</code></pre>\n\n<h2>Build file (build.gradle)</h2>\n\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '1.3.2.RELEASE'\n    }\n    repositories {\n        jcenter()\n\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n        classpath(\"io.spring.gradle:dependency-management-plugin:0.5.2.RELEASE\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'spring-boot'\n\njar {\n    baseName = 'com.example.simple-birt-runner'\n    version = '1.0.0'\n}\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\next {\n    springBootVersion = '1.3.0.M5'\n}\n\nrepositories {\n    jcenter()\n    mavenCentral()\n}\n\ndependencies {\n    compile(\"org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}\")\n    compile(\"org.springframework.boot:spring-boot-starter-web:${springBootVersion}\")\n\n\n    // BIRT Runtime and ReportEngine dependencies\n    // These were pulled from the Actuate download site at http://download.eclipse.org/birt/downloads/ for version 4.5.0\n    compile fileTree(dir: 'lib', include: '*.jar')\n    /*compile(\"org.eclipse.birt.runtime:org.eclipse.birt.runtime:4.4.2\") {\n        exclude group: \"org.eclipse.birt.runtime\", module: \"org.apache.poi\"\n        exclude group: \"org.eclipse.birt.runtime\", module: \"org.eclipse.orbit.mongodb\"\n    }*/\n\n    compile(\"org.springframework.boot:spring-boot-starter-tomcat\")\n\n    // include any runtime JDBC driver dependencies here\n\n    testCompile(\"org.springframework.boot:spring-boot-starter-test\")\n}\n</code></pre>\n\n<h1>Dependencies</h1>\n\n<p>Get all of the dependencies in the Birt Viewer lib directory and put them on your classpath. Here is a full list of external dependencies:</p>\n\n<pre><code>com.ibm.icu_54.1.1.v201501272100.jar\ncom.lowagie.text_2.1.7.v201004222200.jar\nderby.jar\nflute.jar\njavax.wsdl_1.5.1.v201012040544.jar\njavax.xml.stream_1.0.1.v201004272200.jar\njavax.xml_1.3.4.v201005080400.jar\nnet.sourceforge.lpg.lpgjavaruntime_1.1.0.v201004271650.jar\norg.apache.batik.bridge_1.6.0.v201011041432.jar\norg.apache.batik.css_1.6.0.v201011041432.jar\norg.apache.batik.dom.svg_1.6.0.v201011041432.jar\norg.apache.batik.dom_1.6.1.v201505192100.jar\norg.apache.batik.ext.awt_1.6.0.v201011041432.jar\norg.apache.batik.parser_1.6.0.v201011041432.jar\norg.apache.batik.pdf_1.6.0.v201105071520.jar\norg.apache.batik.svggen_1.6.0.v201011041432.jar\norg.apache.batik.transcoder_1.6.0.v201011041432.jar\norg.apache.batik.util.gui_1.6.0.v201011041432.jar\norg.apache.batik.util_1.6.0.v201011041432.jar\norg.apache.batik.xml_1.6.0.v201011041432.jar\norg.apache.commons.codec_1.6.0.v201305230611.jar\norg.apache.commons.logging_1.1.1.v201101211721.jar\norg.apache.lucene.core_3.5.0.v20120725-1805.jar\norg.apache.poi_3.9.0.v201405241750.jar\norg.apache.xerces_2.9.0.v201101211617.jar\norg.apache.xml.resolver_1.2.0.v201005080400.jar\norg.apache.xml.serializer_2.7.1.v201005080400.jar\norg.eclipse.birt.runtime_4.5.0.jar\norg.eclipse.core.contenttype_3.5.0.v20150421-2214.jar\norg.eclipse.core.expressions_3.5.0.v20150421-2214.jar\norg.eclipse.core.filesystem_1.5.0.v20150421-0713.jar\norg.eclipse.core.jobs_3.7.0.v20150330-2103.jar\norg.eclipse.core.resources_3.10.0.v20150423-0755.jar\norg.eclipse.core.runtime.compatibility_3.2.300.v20150423-0821.jar\norg.eclipse.core.runtime_3.11.0.v20150405-1723.jar\norg.eclipse.datatools.connectivity.apache.derby.dbdefinition_1.0.2.v201107221459.jar\norg.eclipse.datatools.connectivity.apache.derby_1.0.103.v201212070447.jar\norg.eclipse.datatools.connectivity.console.profile_1.0.10.v201109250955.jar\norg.eclipse.datatools.connectivity.db.generic_1.0.1.v201107221459.jar\norg.eclipse.datatools.connectivity.dbdefinition.genericJDBC_1.0.2.v201310181001.jar\norg.eclipse.datatools.connectivity.oda.consumer_3.2.6.v201403131814.jar\norg.eclipse.datatools.connectivity.oda.design_3.3.6.v201403131814.jar\norg.eclipse.datatools.connectivity.oda.flatfile_3.1.8.v201403010906.jar\norg.eclipse.datatools.connectivity.oda.profile_3.2.9.v201403131814.jar\norg.eclipse.datatools.connectivity.oda_3.4.3.v201405301249.jar\norg.eclipse.datatools.connectivity.sqm.core_1.2.8.v201401230755.jar\norg.eclipse.datatools.connectivity_1.2.11.v201401230755.jar\norg.eclipse.datatools.enablement.hsqldb.dbdefinition_1.0.0.v201107221502.jar\norg.eclipse.datatools.enablement.hsqldb_1.0.0.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.db2.iseries.dbdefinition_1.0.3.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.db2.iseries_1.0.2.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.db2.luw.dbdefinition_1.0.7.v201405302027.jar\norg.eclipse.datatools.enablement.ibm.db2.luw_1.0.3.v201401170830.jar\norg.eclipse.datatools.enablement.ibm.db2.zseries.dbdefinition_1.0.4.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.db2.zseries_1.0.2.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.db2_1.0.0.v201401170830.jar\norg.eclipse.datatools.enablement.ibm.informix.dbdefinition_1.0.4.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.informix_1.0.1.v201107221502.jar\norg.eclipse.datatools.enablement.ibm_1.0.0.v201401170830.jar\norg.eclipse.datatools.enablement.msft.sqlserver.dbdefinition_1.0.1.v201201240505.jar\norg.eclipse.datatools.enablement.msft.sqlserver_1.0.3.v201308161009.jar\norg.eclipse.datatools.enablement.mysql.dbdefinition_1.0.4.v201109022331.jar\norg.eclipse.datatools.enablement.mysql_1.0.4.v201212120617.jar\norg.eclipse.datatools.enablement.oda.ws_1.2.6.v201403131825.jar\norg.eclipse.datatools.enablement.oda.xml_1.2.5.v201403131825.jar\norg.eclipse.datatools.enablement.oracle.dbdefinition_1.0.103.v201206010214.jar\norg.eclipse.datatools.enablement.oracle_1.0.0.v201107221506.jar\norg.eclipse.datatools.enablement.postgresql.dbdefinition_1.0.2.v201110070445.jar\norg.eclipse.datatools.enablement.postgresql_1.1.1.v201205252207.jar\norg.eclipse.datatools.enablement.sap.maxdb.dbdefinition_1.0.0.v201107221507.jar\norg.eclipse.datatools.enablement.sap.maxdb_1.0.0.v201107221507.jar\norg.eclipse.datatools.modelbase.dbdefinition_1.0.2.v201107221519.jar\norg.eclipse.datatools.modelbase.derby_1.0.0.v201107221519.jar\norg.eclipse.datatools.modelbase.sql.query_1.1.4.v201212120619.jar\norg.eclipse.datatools.modelbase.sql_1.0.6.v201208230744.jar\norg.eclipse.datatools.sqltools.data.core_1.2.3.v201212120623.jar\norg.eclipse.datatools.sqltools.parsers.sql.lexer_1.0.1.v201107221520.jar\norg.eclipse.datatools.sqltools.parsers.sql.query_1.2.1.v201201250511.jar\norg.eclipse.datatools.sqltools.parsers.sql_1.0.2.v201107221520.jar\norg.eclipse.datatools.sqltools.result_1.1.6.v201402080246.jar\norg.eclipse.emf.common_2.11.0.v20150512-0501.jar\norg.eclipse.emf.ecore.change_2.11.0.v20150512-0501.jar\norg.eclipse.emf.ecore.xmi_2.11.0.v20150512-0501.jar\norg.eclipse.emf.ecore_2.11.0.v20150512-0501.jar\norg.eclipse.equinox.app_1.3.300.v20150423-1356.jar\norg.eclipse.equinox.common_3.7.0.v20150402-1709.jar\norg.eclipse.equinox.preferences_3.5.300.v20150408-1437.jar\norg.eclipse.equinox.registry_3.6.0.v20150318-1503.jar\norg.eclipse.help_3.6.0.v20130326-1254.jar\norg.eclipse.osgi.services_3.5.0.v20150519-2006.jar\norg.eclipse.osgi_3.10.100.v20150529-1857.jar\norg.eclipse.update.configurator_3.3.300.v20140518-1928.jar\norg.mozilla.javascript_1.7.5.v201504281450.jar\norg.w3c.css.sac_1.3.1.v200903091627.jar\norg.w3c.dom.events_3.0.0.draft20060413_v201105210656.jar\norg.w3c.dom.smil_1.0.1.v200903091627.jar\norg.w3c.dom.svg_1.1.0.v201011041433.jar\n</code></pre>\n\n<h2>Application properties (application.yml)</h2>\n\n<pre><code>birt:\n  report:\n    output:\n      dir: ${birt_temp_file_output_dir}\n    input:\n      dir: ${birt_report_input_dir}\n  logging:\n    level: ${birt_logging_level}\n\n\nserver:\n  port: 8080\n  context-path: /simple-birt-runner\n\n\nbirt:\n  logging:\n    level: SEVERE\n\nlogging:\n  level:\n    org:\n      springframework:\n        web: ERROR\n</code></pre>\n\n<h2>Dockerfile for running (Dockerfile)</h2>\n\n<pre><code>FROM java:openjdk-8u66-jre\nMAINTAINER Kent O. Johnson &lt;kentoj@gmail.com&gt;\n\nCOPY com.example.simple-birt-runner-*.jar /opt/soft/simple-birt-runner.jar\n\nRUN mkdir -p /reports/input \\\n    &amp;&amp; mkdir /reports/output \\\n    &amp;&amp; mkdir -p /reports/log/engine\n\nWORKDIR /opt/soft\n\nCMD java -jar -Xms128M -Xmx4G simple-birt-runner.jar\n\nEXPOSE 8080\n</code></pre>\n\n<h2>Docker compose file for running image (docker-compose.yml)</h2>\n\n<pre><code>simple-birt-runner:\n  image: soft/simple-birt-runner-release\n  ports:\n  - \"8090:8080\"\n  environment:\n  - birt_temp_file_output_dir=/reports/output\n  - birt_report_input_dir=/reports/input\n  - birt_logging_directory=/reports/log/engine\n  - birt_logging_level=SEVERE\n  volumes_from:\n  - birt-report-runner-data\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2642470,"reputation":107,"user_id":2285846,"display_name":"Liviu Florin Ilie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485771728,"creation_date":1485771728,"answer_id":41933504,"question_id":32069938,"body_markdown":"Regarding @Kent Johnson &#39;s answer. I didn&#39;t manage to configure the project with gradle, but I managed to build it with maven. \r\nBelow is the **pom.xml** \r\n\r\n    \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n            &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;birt-runner&lt;/groupId&gt;\r\n    &lt;artifactId&gt;com.example.simple-birt-runner&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.4.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.eclipse.birt.runtime/org.eclipse.birt.runtime --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.birt.runtime&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.birt.runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;","title":"BIRT in spring boot app","body":"<p>Regarding @Kent Johnson 's answer. I didn't manage to configure the project with gradle, but I managed to build it with maven. \nBelow is the <strong>pom.xml</strong> </p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n        &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;birt-runner&lt;/groupId&gt;\n&lt;artifactId&gt;com.example.simple-birt-runner&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.eclipse.birt.runtime/org.eclipse.birt.runtime --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.birt.runtime&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.birt.runtime&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":28730625,"reputation":1,"user_id":22002662,"display_name":"DevStraub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686169047,"creation_date":1685645311,"answer_id":76384854,"question_id":32069938,"body_markdown":"I created an API to use Birt Report with Spring Boot. To use it, just create a new report and call it by sending the correct parameters.\r\nLink: https://github.com/devStraub/BirtAPI\r\n\r\nCode:\r\n\r\n    @RestController\r\n    @SpringBootApplication\r\n    public class BirtReportApplication {\r\n\r\n    @Value(&quot;${reports.relative.path}&quot;)\r\n    private String reportsPath;\r\n    @Value(&quot;${images.relative.path}&quot;)\r\n    private String imagesPath;\t\r\n\t@Value(&quot;${temp.files.path}&quot;)\r\n\tprivate String tempPath;      \r\n    \r\n    private ApplicationContext context;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BirtReportApplication.class, args);\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@PostMapping(&quot;/report&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; generateReport(@RequestBody String json) {\r\n        try {\r\n\t\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\t\tMap&lt;String, String&gt; parametersMap = objectMapper.readValue(json, Map.class);        \t\r\n        \t\r\n\t\t\tEngineConfig config = new EngineConfig();\r\n\t\t\tconfig.getAppContext().put(&quot;spring&quot;, this.context);\r\n\t\t\tPlatform.startup(config);\r\n\t\t\tIReportEngineFactory factory = (IReportEngineFactory) Platform.createFactoryObject(IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY);\r\n\t\t\tIReportEngine engine = factory.createReportEngine(config);\r\n\r\n\t\t\tIReportRunnable report = engine.openReportDesign(reportsPath + parametersMap.get(&quot;report&quot;) + &quot;.rptdesign&quot;);\r\n\r\n\t\t\tIRunAndRenderTask task = engine.createRunAndRenderTask(report);\r\n\t\t\tfor (Entry&lt;String, String&gt; parametro : parametersMap.entrySet()) {\r\n\t\t\t\ttask.setParameterValue(parametro.getKey(), parametro.getValue());\r\n\t\t\t}\r\n\r\n\t\t\tString reportFileName = tempPath + Calendar.getInstance().getTimeInMillis() + &quot;.pdf&quot;;\r\n\t\t\t\r\n\t\t\tPDFRenderOption options = new PDFRenderOption();\r\n\t\t\toptions.setOutputFormat(&quot;pdf&quot;);\r\n\t\t\toptions.setOutputFileName(reportFileName);\r\n\t\t\ttask.setRenderOption(options);\r\n\t\t\ttask.run();\r\n\t\t\ttask.close();\t\t\t\r\n\r\n            byte[] relatorioBytes = Files.readAllBytes(Paths.get(reportFileName));\r\n\r\n            Files.deleteIfExists(Paths.get(reportFileName));\r\n\r\n            return ResponseEntity.ok()\r\n                    .header(&quot;Content-Type&quot;, &quot;application/pdf&quot;)\r\n                    .body(relatorioBytes);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n    }\r\n}\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.birt2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;birt2&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.innoventsolutions.birt.runtime&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.eclipse.birt.runtime_4.8.0-20180626&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\napplication.properties:\r\n\r\n    # Report Properties\r\n    reports.relative.path=reports/\r\n    images.relative.path=images/\r\n\r\n    # Temp Files\r\n    temp.files.path=temp/\r\n\r\n    # Postgres\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=****\r\n\r\nYou should open the XML Source of your report and modify the &quot;version&quot; property (line 2) to &quot;3.2.23&quot;. If you don&#39;t do this, the report will display errors. I&#39;m still trying to solve this; if anyone has any ideas on how to set the report version, it would be great.\r\n\r\nI hope I helped.\r\nMy Contacts: https://devstraub.github.io/myPage/","title":"BIRT in spring boot app","body":"<p>I created an API to use Birt Report with Spring Boot. To use it, just create a new report and call it by sending the correct parameters.\nLink: <a href=\"https://github.com/devStraub/BirtAPI\" rel=\"nofollow noreferrer\">https://github.com/devStraub/BirtAPI</a></p>\n<p>Code:</p>\n<pre><code>@RestController\n@SpringBootApplication\npublic class BirtReportApplication {\n\n@Value(&quot;${reports.relative.path}&quot;)\nprivate String reportsPath;\n@Value(&quot;${images.relative.path}&quot;)\nprivate String imagesPath;  \n@Value(&quot;${temp.files.path}&quot;)\nprivate String tempPath;      \n\nprivate ApplicationContext context;\n\npublic static void main(String[] args) {\n    SpringApplication.run(BirtReportApplication.class, args);\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\n@PostMapping(&quot;/report&quot;)\npublic ResponseEntity&lt;byte[]&gt; generateReport(@RequestBody String json) {\n    try {\n        ObjectMapper objectMapper = new ObjectMapper();\n        Map&lt;String, String&gt; parametersMap = objectMapper.readValue(json, Map.class);            \n        \n        EngineConfig config = new EngineConfig();\n        config.getAppContext().put(&quot;spring&quot;, this.context);\n        Platform.startup(config);\n        IReportEngineFactory factory = (IReportEngineFactory) Platform.createFactoryObject(IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY);\n        IReportEngine engine = factory.createReportEngine(config);\n\n        IReportRunnable report = engine.openReportDesign(reportsPath + parametersMap.get(&quot;report&quot;) + &quot;.rptdesign&quot;);\n\n        IRunAndRenderTask task = engine.createRunAndRenderTask(report);\n        for (Entry&lt;String, String&gt; parametro : parametersMap.entrySet()) {\n            task.setParameterValue(parametro.getKey(), parametro.getValue());\n        }\n\n        String reportFileName = tempPath + Calendar.getInstance().getTimeInMillis() + &quot;.pdf&quot;;\n        \n        PDFRenderOption options = new PDFRenderOption();\n        options.setOutputFormat(&quot;pdf&quot;);\n        options.setOutputFileName(reportFileName);\n        task.setRenderOption(options);\n        task.run();\n        task.close();           \n\n        byte[] relatorioBytes = Files.readAllBytes(Paths.get(reportFileName));\n\n        Files.deleteIfExists(Paths.get(reportFileName));\n\n        return ResponseEntity.ok()\n                .header(&quot;Content-Type&quot;, &quot;application/pdf&quot;)\n                .body(relatorioBytes);\n    } catch (Exception e) {\n        e.printStackTrace();\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.birt2&lt;/groupId&gt;\n&lt;artifactId&gt;birt2&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.innoventsolutions.birt.runtime&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.birt.runtime_4.8.0-20180626&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.12.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>application.properties:</p>\n<pre><code># Report Properties\nreports.relative.path=reports/\nimages.relative.path=images/\n\n# Temp Files\ntemp.files.path=temp/\n\n# Postgres\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=****\n</code></pre>\n<p>You should open the XML Source of your report and modify the &quot;version&quot; property (line 2) to &quot;3.2.23&quot;. If you don't do this, the report will display errors. I'm still trying to solve this; if anyone has any ideas on how to set the report version, it would be great.</p>\n<p>I hope I helped.\nMy Contacts: <a href=\"https://devstraub.github.io/myPage/\" rel=\"nofollow noreferrer\">https://devstraub.github.io/myPage/</a></p>\n"}],"owner":{"account_id":6807453,"reputation":171,"user_id":5238780,"display_name":"Henk V"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14363,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1686169047,"creation_date":1439893925,"question_id":32069938,"body_markdown":"I need to create a report capability(function) in an existing spring boot web application. The suggestion was to use BIRT, which I could integrate with the spring boot web app. \r\n\r\nI found the article below and was able to run the reports in a spring boot starter project (using http://start.spring.io/). This article, fairly old, did help me to get to a working example. https://spring.io/blog/2012/01/30/spring-framework-birt. This article is basically exactly what I want, but in a spring boot web app.\r\n\r\nThe challenge I have is to run the report using the BIRT viewer, which comes with nice additional features. (Print, Expoet data, PDF, pagination etc.)\r\n\r\nI cannot find any spring boot example using BIRT the way this article describes. \r\n\r\nMy questions are:\r\n\r\n1. Is there an alternative or other way to do reports in a spring boot web application? (obviously not want to re-inventing the wheel by creating BIRT like capability from scratch or run the report engine separate from the web application if at all possible) \r\n\r\n2. Does anyone today have BIRT working (with the viewer) in a spring boot web application and be willing to share or educate me on the best way to do this? \r\n(I tried to get JSP page working with spring boot, but unable to so successfully...more a lack of experience than anything else)\r\n\r\nCan someone help me please. \r\n\r\nKind Regards,\r\nHenk","title":"BIRT in spring boot app","body":"<p>I need to create a report capability(function) in an existing spring boot web application. The suggestion was to use BIRT, which I could integrate with the spring boot web app. </p>\n\n<p>I found the article below and was able to run the reports in a spring boot starter project (using <a href=\"http://start.spring.io/\" rel=\"noreferrer\">http://start.spring.io/</a>). This article, fairly old, did help me to get to a working example. <a href=\"https://spring.io/blog/2012/01/30/spring-framework-birt\" rel=\"noreferrer\">https://spring.io/blog/2012/01/30/spring-framework-birt</a>. This article is basically exactly what I want, but in a spring boot web app.</p>\n\n<p>The challenge I have is to run the report using the BIRT viewer, which comes with nice additional features. (Print, Expoet data, PDF, pagination etc.)</p>\n\n<p>I cannot find any spring boot example using BIRT the way this article describes. </p>\n\n<p>My questions are:</p>\n\n<ol>\n<li><p>Is there an alternative or other way to do reports in a spring boot web application? (obviously not want to re-inventing the wheel by creating BIRT like capability from scratch or run the report engine separate from the web application if at all possible) </p></li>\n<li><p>Does anyone today have BIRT working (with the viewer) in a spring boot web application and be willing to share or educate me on the best way to do this? \n(I tried to get JSP page working with spring boot, but unable to so successfully...more a lack of experience than anything else)</p></li>\n</ol>\n\n<p>Can someone help me please. </p>\n\n<p>Kind Regards,\nHenk</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686161397,"creation_date":1686160700,"answer_id":76425936,"question_id":76423841,"body_markdown":"You need to create an executable fat JAR using the [Shade Plugin](https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html), rather than the JAR plugin. Only then will your dependency classes (such as `KafkaProducer`) be included in the JAR file.","title":"not possible to initialise main class package.Main","body":"<p>You need to create an executable fat JAR using the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html\" rel=\"nofollow noreferrer\">Shade Plugin</a>, rather than the JAR plugin. Only then will your dependency classes (such as <code>KafkaProducer</code>) be included in the JAR file.</p>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686168987,"creation_date":1686168987,"answer_id":76426831,"question_id":76423841,"body_markdown":"The [Maven Shade Plugin][shade] mentioned in another answer is not the only way. There&#39;s also a manual approach (though not recommended) and the (simpler) [Apache Maven Assembly Plugin][assm] described very well in [_How to Create an Executable JAR with Maven_][execJar]:\r\n\r\n&gt; ## 2.2. Apache Maven Assembly Plugin\r\n&gt;\r\n&gt; The Apache Maven Assembly Plugin allows users to aggregate the project output along with its dependencies, modules, site documentation, and other files into a single, runnable package.\r\n&gt;\r\n&gt; The main goal in the assembly plugin is the _single_ goal, which is used to create all assemblies (all other goals are deprecated and will be removed in a future release).\r\n&gt;\r\n&gt; Let&#39;s take a look at the configuration in _pom.xml_:\r\n&gt;\r\n&gt; ````\r\n&gt; &lt;plugin&gt;\r\n&gt;    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n&gt;    &lt;executions&gt;\r\n&gt;        &lt;execution&gt;\r\n&gt;            &lt;phase&gt;package&lt;/phase&gt;\r\n&gt;            &lt;goals&gt;\r\n&gt;                &lt;goal&gt;single&lt;/goal&gt;\r\n&gt;            &lt;/goals&gt;\r\n&gt;            &lt;configuration&gt;\r\n&gt;                &lt;archive&gt;\r\n&gt;                &lt;manifest&gt;\r\n&gt;                    &lt;mainClass&gt;\r\n&gt;                        com.baeldung.executable.ExecutableMavenJar\r\n&gt;                    &lt;/mainClass&gt;\r\n&gt;                &lt;/manifest&gt;\r\n&gt;                &lt;/archive&gt;\r\n&gt;                &lt;descriptorRefs&gt;\r\n&gt;                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n&gt;                &lt;/descriptorRefs&gt;\r\n&gt;            &lt;/configuration&gt;\r\n&gt;        &lt;/execution&gt;\r\n&gt;   &lt;/executions&gt;\r\n&gt; &lt;/plugin&gt;\r\n&gt; ````\r\n&gt;\r\n&gt; Similarly to the manual approach, we need to provide the information about the main class. The difference is that the Maven Assembly Plugin will automatically copy all required dependencies into a _jar_ file.\r\n&gt;\r\n&gt; In the _descriptorRefs_ part of the configuration code, we provided the name that will be added to the project name.\r\n&gt;\r\n&gt; Output in our example will be named as _core-java-jar-with-dependencies.jar_.\r\n&gt;\r\n&gt; * **pros** – dependencies inside the jar file, one file only\r\n&gt; * **cons** – basic control of packaging our artifact, for example, there is no class relocation support\r\n\r\n\r\n[shade]: https://maven.apache.org/plugins/maven-shade-plugin/index.html\r\n[assm]: https://maven.apache.org/plugins/maven-assembly-plugin/index.html\r\n[execJAR]: https://www.baeldung.com/executable-jar-with-maven","title":"not possible to initialise main class package.Main","body":"<p>The <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/index.html\" rel=\"nofollow noreferrer\">Maven Shade Plugin</a> mentioned in another answer is not the only way. There's also a manual approach (though not recommended) and the (simpler) <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/index.html\" rel=\"nofollow noreferrer\">Apache Maven Assembly Plugin</a> described very well in <a href=\"https://www.baeldung.com/executable-jar-with-maven\" rel=\"nofollow noreferrer\"><em>How to Create an Executable JAR with Maven</em></a>:</p>\n<blockquote>\n<h2>2.2. Apache Maven Assembly Plugin</h2>\n<p>The Apache Maven Assembly Plugin allows users to aggregate the project output along with its dependencies, modules, site documentation, and other files into a single, runnable package.</p>\n<p>The main goal in the assembly plugin is the <em>single</em> goal, which is used to create all assemblies (all other goals are deprecated and will be removed in a future release).</p>\n<p>Let's take a look at the configuration in <em>pom.xml</em>:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n   &lt;executions&gt;\n       &lt;execution&gt;\n           &lt;phase&gt;package&lt;/phase&gt;\n           &lt;goals&gt;\n               &lt;goal&gt;single&lt;/goal&gt;\n           &lt;/goals&gt;\n           &lt;configuration&gt;\n               &lt;archive&gt;\n               &lt;manifest&gt;\n                   &lt;mainClass&gt;\n                       com.baeldung.executable.ExecutableMavenJar\n                   &lt;/mainClass&gt;\n               &lt;/manifest&gt;\n               &lt;/archive&gt;\n               &lt;descriptorRefs&gt;\n                   &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n               &lt;/descriptorRefs&gt;\n           &lt;/configuration&gt;\n       &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Similarly to the manual approach, we need to provide the information about the main class. The difference is that the Maven Assembly Plugin will automatically copy all required dependencies into a <em>jar</em> file.</p>\n<p>In the <em>descriptorRefs</em> part of the configuration code, we provided the name that will be added to the project name.</p>\n<p>Output in our example will be named as <em>core-java-jar-with-dependencies.jar</em>.</p>\n<ul>\n<li><strong>pros</strong> – dependencies inside the jar file, one file only</li>\n<li><strong>cons</strong> – basic control of packaging our artifact, for example, there is no class relocation support</li>\n</ul>\n</blockquote>\n"}],"owner":{"display_name":"user20174493"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76425936,"answer_count":2,"score":1,"last_activity_date":1686168987,"creation_date":1686144599,"question_id":76423841,"body_markdown":"Hi i&#39;m studying how to use Apache Kafka and when i try to execute my .jar file i get this error: \r\n\r\n&gt; Error: Unable to initialise main class kafka.Main Caused by: java.lang.NoClassDefFoundError: org/apache/kafka/clients/producer/Producer\r\n\r\nI tried to check my dependencies and update them but i can&#39;t understand why this is happening.\r\n\r\nThis is my pom file:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org&lt;/groupId&gt;\r\n    &lt;artifactId&gt;KafkaApp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;kafka.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"not possible to initialise main class package.Main","body":"<p>Hi i'm studying how to use Apache Kafka and when i try to execute my .jar file i get this error:</p>\n<blockquote>\n<p>Error: Unable to initialise main class kafka.Main Caused by: java.lang.NoClassDefFoundError: org/apache/kafka/clients/producer/Producer</p>\n</blockquote>\n<p>I tried to check my dependencies and update them but i can't understand why this is happening.</p>\n<p>This is my pom file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org&lt;/groupId&gt;\n    &lt;artifactId&gt;KafkaApp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n            &lt;version&gt;3.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;kafka.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","json","parsing","gson"],"answers":[{"tags":[],"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686168985,"creation_date":1686168608,"answer_id":76426792,"question_id":76426445,"body_markdown":"Your `JSON` file is using `muscle_groups` as the field name, so your class must be mapped accordingly.&lt;br/&gt;\r\nTo do so you can rename your java field object as `muscle_groups`, or change in the `JSON` file with `muscleGroups`.&lt;br/&gt;&lt;br/&gt;\r\nYou can also force the mapping, like this:\r\n\r\n    @SerializedName(value = &quot;muscle_groups&quot;)\r\n   \tList&lt;String&gt; muscleGroups;\r\nwithout changing anything else.&lt;br/&gt;&lt;br/&gt;\r\nAnother way to achieve your goal is using the correct `FieldNamingPolicy`.","title":"GSON lib: cant parse JSON element&#39;s array to String[] of Java object","body":"<p>Your <code>JSON</code> file is using <code>muscle_groups</code> as the field name, so your class must be mapped accordingly.<br/>\nTo do so you can rename your java field object as <code>muscle_groups</code>, or change in the <code>JSON</code> file with <code>muscleGroups</code>.<br/><br/>\nYou can also force the mapping, like this:</p>\n<pre><code>@SerializedName(value = &quot;muscle_groups&quot;)\nList&lt;String&gt; muscleGroups;\n</code></pre>\n<p>without changing anything else.<br/><br/>\nAnother way to achieve your goal is using the correct <code>FieldNamingPolicy</code>.</p>\n"}],"owner":{"account_id":28775085,"reputation":3,"user_id":22037966,"display_name":"iemmeiemi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76426792,"answer_count":1,"score":0,"last_activity_date":1686168985,"creation_date":1686165262,"question_id":76426445,"body_markdown":"I import the latest version of GSON lib.\r\nThe console of the below java program show &quot;null&quot;, but it&#39;s okay when i tried printing other attributes of the object. This means that the GSON function can parse the JSON element to Java object but it does not work with the muscle_groups attribute so the String[] return null.\r\ni&#39;ve tried changing the java datatype, also asked the chat GPT but still not working \r\nI dont know how to fix this...\r\n\r\n\r\njava object class\r\n```\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class WorkoutExercises {\r\n\tString name, description, time, level, goal;\r\n\tint id;\r\n\tList&lt;String&gt; muscleGroups;\r\n\tpublic WorkoutExercises() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\t\r\n\tpublic WorkoutExercises(int id, String name, String description,  List&lt;String&gt; muscleGroups, String tỉme, String level, String goal) {\r\n\t\tthis.id=id;\r\n\t\tthis.muscleGroups = muscleGroups;\r\n\t\tthis.description = description;\r\n\t\tthis.goal = goal;\r\n\t\tthis.level = level;\r\n\t\tthis.name =  name;\r\n\t\tthis.time = time;\r\n\t}\r\n\t\r\n\r\n\t\r\n\r\n\tpublic List&lt;String&gt; getMuscleGroups() {\r\n\t\treturn muscleGroups;\r\n\t}\r\n\r\n\tpublic void setMuscleGroups(List&lt;String&gt; muscleGroups) {\r\n\t\tthis.muscleGroups = muscleGroups;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\tpublic String getTime() {\r\n\t\treturn time;\r\n\t}\r\n\tpublic void setTime(String time) {\r\n\t\tthis.time = time;\r\n\t}\r\n\tpublic String getLevel() {\r\n\t\treturn level;\r\n\t}\r\n\tpublic void setLevel(String level) {\r\n\t\tthis.level = level;\r\n\t}\r\n\tpublic String getGoal() {\r\n\t\treturn goal;\r\n\t}\r\n\tpublic void setGoal(String goal) {\r\n\t\tthis.goal = goal;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n}\t\r\n```\r\n\r\njava program:\r\n```\r\n\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Type;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\nimport javax.lang.model.util.Elements;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\n\r\npublic class objectToJSON {\r\n\r\n\tpublic objectToJSON() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tString json = null;\r\n\t\ttry {\r\n\t\t\tjson = new String(Files.readAllBytes(Paths.get(&quot;C:\\\\Users\\\\data.json&quot;)));\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tGson gson = new Gson();\r\n\r\n\t\tType listType = new TypeToken&lt;ArrayList&lt;WorkoutExercises&gt;&gt;(){}.getType();\r\n\t\tArrayList&lt;WorkoutExercises&gt; wk = gson.fromJson(json, listType);\r\n\r\n\t\tSystem.out.println(wk.get(0).muscleGroups);\t\r\n      }\r\n}\r\n\r\n```\r\n\r\njson file with muscle_groups array:\r\n```\r\n[\r\n{\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Push-Ups&quot;,\r\n        &quot;description&quot;: &quot;Start in a plank position with your hands slightly wider than shoulder-width apart. Lower your body by bending your elbows until your chest nearly touches the floor. Push yourself back up to the starting position and repeat.&quot;,\r\n        &quot;muscle_groups&quot;: [&quot;Chest&quot;, &quot;Shoulders&quot;, &quot;Triceps&quot;],\r\n        &quot;time&quot;: &quot;3 sets of 10 reps&quot;,\r\n        &quot;level&quot;: &quot;Beginner&quot;,\r\n        &quot;goal&quot;: &quot;Strength&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;name&quot;: &quot;Squats&quot;,\r\n        &quot;description&quot;: &quot;Stand with your feet shoulder-width apart. Lower your body by bending your knees and pushing your hips back. Keep your chest up and your knees in line with your toes. Push through your heels to return to the starting position and repeat.&quot;,\r\n        &quot;muscle_groups&quot;: [&quot;Quadriceps&quot;, &quot;Hamstrings&quot;, &quot;Glutes&quot;],\r\n        &quot;time&quot;: &quot;3 sets of 12 reps&quot;,\r\n        &quot;level&quot;: &quot;Beginner&quot;,\r\n        &quot;goal&quot;: &quot;Strength&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;name&quot;: &quot;Plank&quot;,\r\n        &quot;description&quot;: &quot;Start in a push-up position with your hands directly under your shoulders. Engage your core and hold your body in a straight line from head to heels. Hold the position for the desired duration.&quot;,\r\n        &quot;muscle_groups&quot;: [&quot;Core&quot;],\r\n        &quot;time&quot;: &quot;30 seconds&quot;,\r\n        &quot;level&quot;: &quot;Beginner&quot;,\r\n        &quot;goal&quot;: &quot;Core Stability&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 4,\r\n        &quot;name&quot;: &quot;Lunges&quot;,\r\n        &quot;description&quot;: &quot;Stand with your feet hip-width apart. Take a step forward with your right foot and lower your body until your right knee is bent at a 90-degree angle. Push through your right heel to return to the starting position and repeat on the other side.&quot;,\r\n        &quot;muscle_groups&quot;: [&quot;Quadriceps&quot;, &quot;Hamstrings&quot;, &quot;Glutes&quot;],\r\n        &quot;time&quot;: &quot;3 sets of 10 reps per leg&quot;,\r\n        &quot;level&quot;: &quot;Beginner&quot;,\r\n        &quot;goal&quot;: &quot;Lower Body Strength&quot;\r\n    }\r\n]\r\n```\r\n\r\n\r\n","title":"GSON lib: cant parse JSON element&#39;s array to String[] of Java object","body":"<p>I import the latest version of GSON lib.\nThe console of the below java program show &quot;null&quot;, but it's okay when i tried printing other attributes of the object. This means that the GSON function can parse the JSON element to Java object but it does not work with the muscle_groups attribute so the String[] return null.\ni've tried changing the java datatype, also asked the chat GPT but still not working\nI dont know how to fix this...</p>\n<p>java object class</p>\n<pre><code>\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class WorkoutExercises {\n    String name, description, time, level, goal;\n    int id;\n    List&lt;String&gt; muscleGroups;\n    public WorkoutExercises() {\n        // TODO Auto-generated constructor stub\n    }\n    \n    public WorkoutExercises(int id, String name, String description,  List&lt;String&gt; muscleGroups, String tỉme, String level, String goal) {\n        this.id=id;\n        this.muscleGroups = muscleGroups;\n        this.description = description;\n        this.goal = goal;\n        this.level = level;\n        this.name =  name;\n        this.time = time;\n    }\n    \n\n    \n\n    public List&lt;String&gt; getMuscleGroups() {\n        return muscleGroups;\n    }\n\n    public void setMuscleGroups(List&lt;String&gt; muscleGroups) {\n        this.muscleGroups = muscleGroups;\n    }\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getDescription() {\n        return description;\n    }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    public String getTime() {\n        return time;\n    }\n    public void setTime(String time) {\n        this.time = time;\n    }\n    public String getLevel() {\n        return level;\n    }\n    public void setLevel(String level) {\n        this.level = level;\n    }\n    public String getGoal() {\n        return goal;\n    }\n    public void setGoal(String goal) {\n        this.goal = goal;\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n\n}   \n</code></pre>\n<p>java program:</p>\n<pre><code>\nimport java.io.IOException;\nimport java.lang.reflect.Type;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\nimport javax.lang.model.util.Elements;\n\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\n\npublic class objectToJSON {\n\n    public objectToJSON() {\n        // TODO Auto-generated constructor stub\n    }\n    public static void main(String[] args) {\n        String json = null;\n        try {\n            json = new String(Files.readAllBytes(Paths.get(&quot;C:\\\\Users\\\\data.json&quot;)));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        Gson gson = new Gson();\n\n        Type listType = new TypeToken&lt;ArrayList&lt;WorkoutExercises&gt;&gt;(){}.getType();\n        ArrayList&lt;WorkoutExercises&gt; wk = gson.fromJson(json, listType);\n\n        System.out.println(wk.get(0).muscleGroups); \n      }\n}\n\n</code></pre>\n<p>json file with muscle_groups array:</p>\n<pre><code>[\n{\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Push-Ups&quot;,\n        &quot;description&quot;: &quot;Start in a plank position with your hands slightly wider than shoulder-width apart. Lower your body by bending your elbows until your chest nearly touches the floor. Push yourself back up to the starting position and repeat.&quot;,\n        &quot;muscle_groups&quot;: [&quot;Chest&quot;, &quot;Shoulders&quot;, &quot;Triceps&quot;],\n        &quot;time&quot;: &quot;3 sets of 10 reps&quot;,\n        &quot;level&quot;: &quot;Beginner&quot;,\n        &quot;goal&quot;: &quot;Strength&quot;\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Squats&quot;,\n        &quot;description&quot;: &quot;Stand with your feet shoulder-width apart. Lower your body by bending your knees and pushing your hips back. Keep your chest up and your knees in line with your toes. Push through your heels to return to the starting position and repeat.&quot;,\n        &quot;muscle_groups&quot;: [&quot;Quadriceps&quot;, &quot;Hamstrings&quot;, &quot;Glutes&quot;],\n        &quot;time&quot;: &quot;3 sets of 12 reps&quot;,\n        &quot;level&quot;: &quot;Beginner&quot;,\n        &quot;goal&quot;: &quot;Strength&quot;\n    },\n    {\n        &quot;id&quot;: 3,\n        &quot;name&quot;: &quot;Plank&quot;,\n        &quot;description&quot;: &quot;Start in a push-up position with your hands directly under your shoulders. Engage your core and hold your body in a straight line from head to heels. Hold the position for the desired duration.&quot;,\n        &quot;muscle_groups&quot;: [&quot;Core&quot;],\n        &quot;time&quot;: &quot;30 seconds&quot;,\n        &quot;level&quot;: &quot;Beginner&quot;,\n        &quot;goal&quot;: &quot;Core Stability&quot;\n    },\n    {\n        &quot;id&quot;: 4,\n        &quot;name&quot;: &quot;Lunges&quot;,\n        &quot;description&quot;: &quot;Stand with your feet hip-width apart. Take a step forward with your right foot and lower your body until your right knee is bent at a 90-degree angle. Push through your right heel to return to the starting position and repeat on the other side.&quot;,\n        &quot;muscle_groups&quot;: [&quot;Quadriceps&quot;, &quot;Hamstrings&quot;, &quot;Glutes&quot;],\n        &quot;time&quot;: &quot;3 sets of 10 reps per leg&quot;,\n        &quot;level&quot;: &quot;Beginner&quot;,\n        &quot;goal&quot;: &quot;Lower Body Strength&quot;\n    }\n]\n</code></pre>\n"},{"tags":["java","velocity","tomcat9","spring5"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1686163453,"post_id":76426171,"comment_id":134763008,"body_markdown":"Can you show the significant parts of `gov.epa.eis.service.impl.MailServiceImpl.sendMessage()`.","body":"Can you show the significant parts of <code>gov.epa.eis.service.impl.MailServiceImpl.sendMessage()</code>."},{"owner":{"account_id":23865216,"reputation":23,"user_id":17867642,"display_name":"Paul"},"score":0,"creation_date":1686167161,"post_id":76426171,"comment_id":134763677,"body_markdown":"I&#39;ve updated the post with the sendMessage() method.  Thank you for the response!","body":"I&#39;ve updated the post with the sendMessage() method.  Thank you for the response!"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1686218650,"post_id":76426171,"comment_id":134770199,"body_markdown":"And what is a value of `templateName`?","body":"And what is a value of <code>templateName</code>?"},{"owner":{"account_id":23865216,"reputation":23,"user_id":17867642,"display_name":"Paul"},"score":0,"creation_date":1686233966,"post_id":76426171,"comment_id":134773676,"body_markdown":"The name of the template....ex: mailService.sendMessage(mailMessage, &quot;supportRequestMessageNotification.vm&quot;, model);","body":"The name of the template....ex: mailService.sendMessage(mailMessage, &quot;supportRequestMessageNotification.vm&quot;, model);"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1686246442,"post_id":76426171,"comment_id":134776331,"body_markdown":"Maybe raise Velocity log level or debug `RuntimeInstance.getTemplate()`. What is about environment variables on Win vs. Linux ?","body":"Maybe raise Velocity log level or debug <code>RuntimeInstance.getTemplate()</code>. What is about environment variables on Win vs. Linux ?"}],"owner":{"account_id":23865216,"reputation":23,"user_id":17867642,"display_name":"Paul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686167121,"creation_date":1686162922,"question_id":76426171,"body_markdown":"We are in the process of upgrading our Spring Application from Spring 4 to Spring 5, and so far everything is working well, except that we use Apache Velocity to build emails from templates that get sent to users based on certain activities within the application.  Spring 5 removed Velocity support, so we&#39;re using the Velocity 1.7 jar from Apache instead.  I have a local tomcat server running from the command line under Windows 10, and Velocity successfully finds its templates and builds the email from said templates.  However, when the very same application is deployed to tomcat running on an Amazon linux server, Velocity cannot find its templates!\r\n\r\nAll templates live in WEB-INF/classes.  There is a velocity.properties file in that folder, and Velocity DOES find it, as it configures the Velocity logger to log to Log4j.\r\n\r\nThe contents of that velocity.properties file:\r\n```\r\nruntime.log.logsystem.class=org.apache.velocity.runtime.log.SimpleLog4JLogSystem\r\nruntime.log.logsystem.log4j.category=velocity\r\n```\r\n\r\nThe properties I pass to Velocity from inside my applicationContext-service.xml file:\r\n```\r\n&lt;util:properties id=&quot;velocityProperties&quot;&gt;\r\n\t&lt;prop key=&quot;resource.loader&quot;&gt;class&lt;/prop&gt;\r\n\t&lt;prop key=&quot;class.resource.loader.class&quot;&gt;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&lt;/prop&gt;\r\n\t&lt;prop key=&quot;input.encoding&quot;&gt;UTF-8&lt;/prop&gt;\r\n\t&lt;prop key=&quot;output.encoding&quot;&gt;UTF-8&lt;/prop&gt;\r\n&lt;/util:properties&gt;\r\n\r\n&lt;bean id=&quot;velocityEngine&quot; class=&quot;org.apache.velocity.app.VelocityEngine&quot;&gt;\r\n\t&lt;constructor-arg ref=&quot;velocityProperties&quot; /&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nI have tried adding the actual path to my WEB-INF/classes file in the above configuration:\r\n```\r\n&lt;util:properties id=&quot;velocityProperties&quot;&gt;\r\n\t&lt;prop key=&quot;resource.loader&quot;&gt;class&lt;/prop&gt;\r\n\t&lt;prop key=&quot;class.resource.loader.class&quot;&gt;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&lt;/prop&gt;\r\n\t**&lt;prop key=&quot;class.resource.loader.path&quot;&gt;/WEB-INF/classes&lt;/prop&gt;**\r\n\t&lt;prop key=&quot;input.encoding&quot;&gt;UTF-8&lt;/prop&gt;\r\n\t&lt;prop key=&quot;output.encoding&quot;&gt;UTF-8&lt;/prop&gt;\r\n&lt;/util:properties&gt;\r\n```\r\n\r\nThe important part of the stacktrace:\r\n```\r\nGATEWAY: ERROR 2023-06-06 21:00:00,619 [EisQuartzScheduler_Worker-2] ErrorLogger.schedulerError(2425) | Job (GATEWAY.reportProcessed.notifier.cron threw an exception.\r\norg.quartz.SchedulerException: Job threw an unhandled exception.\r\n\tat org.quartz.core.JobRunShell.run(JobRunShell.java:213) ~[quartz-2.2.1.jar:?]\r\n\tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573) ~[quartz-2.2.1.jar:?]\r\nCaused by: org.springframework.scheduling.quartz.JobMethodInvocationFailedException: Invocation of method &#39;sendNotifications&#39; on target class [class gov.epa.eis.util.ReportRequestProcessedNotifier] failed; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:276) ~[spring-context-support-5.3.27.jar:5.3.27]\r\n\tat org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75) ~[spring-context-support-5.3.27.jar:5.3.27]\r\n\tat org.quartz.core.JobRunShell.run(JobRunShell.java:202) ~[quartz-2.2.1.jar:?]\r\n\t... 1 more\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.velocity.runtime.RuntimeInstance.getTemplate(RuntimeInstance.java:1533) ~[velocity-1.7.jar:1.7]\r\n\tat org.apache.velocity.app.VelocityEngine.mergeTemplate(VelocityEngine.java:343) ~[velocity-1.7.jar:1.7]\r\n\tat gov.epa.eis.service.impl.MailServiceImpl.sendMessage(MailServiceImpl.java:60) ~[core-7.0.52-SNAPSHOT.jar:?]\r\n\tat gov.epa.eis.util.ReportRequestProcessedNotifier.sendNotifications(ReportRequestProcessedNotifier.java:83) ~[classes/:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_362]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_362]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_362]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_362]\r\n\tat org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:283) ~[spring-core-5.3.27.jar:5.3.27]\r\n\tat org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:267) ~[spring-context-support-5.3.27.jar:5.3.27]\r\n\tat org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75) ~[spring-context-support-5.3.27.jar:5.3.27]\r\n\tat org.quartz.core.JobRunShell.run(JobRunShell.java:202) ~[quartz-2.2.1.jar:?]\r\n\t... 1 more\r\n```\r\n\r\nI&#39;m at a complete loss here...the fact that it works on my local server means that, in theory, the configuration is correct.  But clearly there is something the linux server doesn&#39;t provide to Velocity that is causing this error.  Any suggestions would be hugely appreciated.\r\n\r\nEdit: As requested by PeterMmm, here is the sendMessage method:\r\n```\r\npublic void setVelocityEngine(VelocityEngine velocityEngine) {\r\n    this.velocityEngine = velocityEngine;\r\n}\r\n\r\n@Override\r\npublic void sendMessage(final SimpleMailMessage msg, final String templateName, final Map&lt;String, Object&gt; model) {\r\n    try {\r\n        VelocityContext context = new VelocityContext();\r\n            \r\n        for (String key : model.keySet()) {\r\n          \tcontext.put(key, model.get(key));\r\n        }\r\n            \r\n        StringWriter stringWriter = new StringWriter();\r\n        velocityEngine.mergeTemplate(templateName, &quot;UTF-8&quot;, context, stringWriter);\r\n        final String text = stringWriter.toString();\r\n\r\n        msg.setText(text);\r\n        sendMessage(msg);\r\n    } catch (VelocityException e) {\r\n        LOG.error(e);\r\n    }\r\n}\r\n```","title":"Apache Velocity 1.7 cannot find templates, but only when deployed on linux","body":"<p>We are in the process of upgrading our Spring Application from Spring 4 to Spring 5, and so far everything is working well, except that we use Apache Velocity to build emails from templates that get sent to users based on certain activities within the application.  Spring 5 removed Velocity support, so we're using the Velocity 1.7 jar from Apache instead.  I have a local tomcat server running from the command line under Windows 10, and Velocity successfully finds its templates and builds the email from said templates.  However, when the very same application is deployed to tomcat running on an Amazon linux server, Velocity cannot find its templates!</p>\n<p>All templates live in WEB-INF/classes.  There is a velocity.properties file in that folder, and Velocity DOES find it, as it configures the Velocity logger to log to Log4j.</p>\n<p>The contents of that velocity.properties file:</p>\n<pre><code>runtime.log.logsystem.class=org.apache.velocity.runtime.log.SimpleLog4JLogSystem\nruntime.log.logsystem.log4j.category=velocity\n</code></pre>\n<p>The properties I pass to Velocity from inside my applicationContext-service.xml file:</p>\n<pre><code>&lt;util:properties id=&quot;velocityProperties&quot;&gt;\n    &lt;prop key=&quot;resource.loader&quot;&gt;class&lt;/prop&gt;\n    &lt;prop key=&quot;class.resource.loader.class&quot;&gt;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&lt;/prop&gt;\n    &lt;prop key=&quot;input.encoding&quot;&gt;UTF-8&lt;/prop&gt;\n    &lt;prop key=&quot;output.encoding&quot;&gt;UTF-8&lt;/prop&gt;\n&lt;/util:properties&gt;\n\n&lt;bean id=&quot;velocityEngine&quot; class=&quot;org.apache.velocity.app.VelocityEngine&quot;&gt;\n    &lt;constructor-arg ref=&quot;velocityProperties&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I have tried adding the actual path to my WEB-INF/classes file in the above configuration:</p>\n<pre><code>&lt;util:properties id=&quot;velocityProperties&quot;&gt;\n    &lt;prop key=&quot;resource.loader&quot;&gt;class&lt;/prop&gt;\n    &lt;prop key=&quot;class.resource.loader.class&quot;&gt;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&lt;/prop&gt;\n    **&lt;prop key=&quot;class.resource.loader.path&quot;&gt;/WEB-INF/classes&lt;/prop&gt;**\n    &lt;prop key=&quot;input.encoding&quot;&gt;UTF-8&lt;/prop&gt;\n    &lt;prop key=&quot;output.encoding&quot;&gt;UTF-8&lt;/prop&gt;\n&lt;/util:properties&gt;\n</code></pre>\n<p>The important part of the stacktrace:</p>\n<pre><code>GATEWAY: ERROR 2023-06-06 21:00:00,619 [EisQuartzScheduler_Worker-2] ErrorLogger.schedulerError(2425) | Job (GATEWAY.reportProcessed.notifier.cron threw an exception.\norg.quartz.SchedulerException: Job threw an unhandled exception.\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:213) ~[quartz-2.2.1.jar:?]\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573) ~[quartz-2.2.1.jar:?]\nCaused by: org.springframework.scheduling.quartz.JobMethodInvocationFailedException: Invocation of method 'sendNotifications' on target class [class gov.epa.eis.util.ReportRequestProcessedNotifier] failed; nested exception is java.lang.NullPointerException\n    at org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:276) ~[spring-context-support-5.3.27.jar:5.3.27]\n    at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75) ~[spring-context-support-5.3.27.jar:5.3.27]\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202) ~[quartz-2.2.1.jar:?]\n    ... 1 more\nCaused by: java.lang.NullPointerException\n    at org.apache.velocity.runtime.RuntimeInstance.getTemplate(RuntimeInstance.java:1533) ~[velocity-1.7.jar:1.7]\n    at org.apache.velocity.app.VelocityEngine.mergeTemplate(VelocityEngine.java:343) ~[velocity-1.7.jar:1.7]\n    at gov.epa.eis.service.impl.MailServiceImpl.sendMessage(MailServiceImpl.java:60) ~[core-7.0.52-SNAPSHOT.jar:?]\n    at gov.epa.eis.util.ReportRequestProcessedNotifier.sendNotifications(ReportRequestProcessedNotifier.java:83) ~[classes/:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_362]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_362]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_362]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_362]\n    at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:283) ~[spring-core-5.3.27.jar:5.3.27]\n    at org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:267) ~[spring-context-support-5.3.27.jar:5.3.27]\n    at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75) ~[spring-context-support-5.3.27.jar:5.3.27]\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202) ~[quartz-2.2.1.jar:?]\n    ... 1 more\n</code></pre>\n<p>I'm at a complete loss here...the fact that it works on my local server means that, in theory, the configuration is correct.  But clearly there is something the linux server doesn't provide to Velocity that is causing this error.  Any suggestions would be hugely appreciated.</p>\n<p>Edit: As requested by PeterMmm, here is the sendMessage method:</p>\n<pre><code>public void setVelocityEngine(VelocityEngine velocityEngine) {\n    this.velocityEngine = velocityEngine;\n}\n\n@Override\npublic void sendMessage(final SimpleMailMessage msg, final String templateName, final Map&lt;String, Object&gt; model) {\n    try {\n        VelocityContext context = new VelocityContext();\n            \n        for (String key : model.keySet()) {\n            context.put(key, model.get(key));\n        }\n            \n        StringWriter stringWriter = new StringWriter();\n        velocityEngine.mergeTemplate(templateName, &quot;UTF-8&quot;, context, stringWriter);\n        final String text = stringWriter.toString();\n\n        msg.setText(text);\n        sendMessage(msg);\n    } catch (VelocityException e) {\n        LOG.error(e);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","couchbase","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686166377,"creation_date":1686166377,"answer_id":76426570,"question_id":75182337,"body_markdown":"Repositories that extend DynamicProxyable can select scopes and collections via the withScope(scopeName) and withCollection(collectionName) methods.\r\n\r\n    public interface AirportRepository extends CouchbaseRepository&lt;Airport, String&gt;, DynamicProxyable&lt;AirportRepository&gt;{...}\r\n    ...\r\n    List&lt;Airport&gt; airports = airportRepository.withScope(&quot;archived&quot;).findByName(iata);\r\n\r\nhttps://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.collections\r\n","title":"Define Couchbase collection name based on property","body":"<p>Repositories that extend DynamicProxyable can select scopes and collections via the withScope(scopeName) and withCollection(collectionName) methods.</p>\n<pre><code>public interface AirportRepository extends CouchbaseRepository&lt;Airport, String&gt;, DynamicProxyable&lt;AirportRepository&gt;{...}\n...\nList&lt;Airport&gt; airports = airportRepository.withScope(&quot;archived&quot;).findByName(iata);\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.collections\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.collections</a></p>\n"}],"owner":{"account_id":11328474,"reputation":23,"user_id":8306644,"accept_rate":50,"display_name":"Akib Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686166377,"creation_date":1674208305,"question_id":75182337,"body_markdown":"I have the below Repository that extends CrudRepository. Now based on a property called &quot;scopeName&quot;, we need to inject the collection name using @Collection(&quot;collectionName&quot;).\r\nSo if the scope name is defined it should take the custom collection name. If not defined it should go with the default scope and default collection name. Any suggestion on how should this repository be defined?\r\n\r\n\r\n```  \r\npublic interface GlobalLockRepository extends CrudRepository&lt;GlobalLock, String&gt;,GlobalLockCustomRepository {\r\n\r\n}\r\n\r\n ```","title":"Define Couchbase collection name based on property","body":"<p>I have the below Repository that extends CrudRepository. Now based on a property called &quot;scopeName&quot;, we need to inject the collection name using @Collection(&quot;collectionName&quot;).\nSo if the scope name is defined it should take the custom collection name. If not defined it should go with the default scope and default collection name. Any suggestion on how should this repository be defined?</p>\n<pre><code>public interface GlobalLockRepository extends CrudRepository&lt;GlobalLock, String&gt;,GlobalLockCustomRepository {\n\n}\n\n</code></pre>\n"},{"tags":["java","neo4j","redhat","rhel"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150348,"post_id":76419924,"comment_id":134760349,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":15468958,"reputation":464,"user_id":11334268,"display_name":"jenny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686124206,"creation_date":1686124206,"answer_id":76421022,"question_id":76419924,"body_markdown":"The instruction to install the java17-adapter are under the Oracle java section because that only needs doing if you use Oracle java. \r\n\r\nWhy you&#39;re installing it on top of OpenJDK17 I don&#39;t know.\r\n\r\nYou already have a compatible jre installed, you can continue installing neo4j as normal.","title":"I have problem while install neo4j on REHL 9","body":"<p>The instruction to install the java17-adapter are under the Oracle java section because that only needs doing if you use Oracle java.</p>\n<p>Why you're installing it on top of OpenJDK17 I don't know.</p>\n<p>You already have a compatible jre installed, you can continue installing neo4j as normal.</p>\n"}],"owner":{"account_id":19233270,"reputation":1,"user_id":14054733,"display_name":"kh&#225;nh phan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686166220,"creation_date":1686112574,"question_id":76419924,"body_markdown":"I have problem with jre while installing neo4j\r\n\r\nI&#39;m trying to install neo4j following the instructions at https://neo4j.com/docs/operations-manual/current/installation/linux/rpm/\r\n[I installed openjdk-17 ](https://i.stack.imgur.com/6RiNg.png)\r\n\r\nBut when I run sudo yum install https://dist.neo4j.org/neo4j-java17-adapter.noarch.rpm command it shows me this:\r\n\r\n![](https://i.stack.imgur.com/jS63h.png)\r\n\r\nI don&#39;t know what happened with my jre.","title":"I have problem while install neo4j on REHL 9","body":"<p>I have problem with jre while installing neo4j</p>\n<p>I'm trying to install neo4j following the instructions at <a href=\"https://neo4j.com/docs/operations-manual/current/installation/linux/rpm/\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/operations-manual/current/installation/linux/rpm/</a>\n<a href=\"https://i.stack.imgur.com/6RiNg.png\" rel=\"nofollow noreferrer\">I installed openjdk-17 </a></p>\n<p>But when I run sudo yum install <a href=\"https://dist.neo4j.org/neo4j-java17-adapter.noarch.rpm\" rel=\"nofollow noreferrer\">https://dist.neo4j.org/neo4j-java17-adapter.noarch.rpm</a> command it shows me this:</p>\n<p><img src=\"https://i.stack.imgur.com/jS63h.png\" alt=\"\" /></p>\n<p>I don't know what happened with my jre.</p>\n"},{"tags":["java","tomcat","kerberos"],"answers":[{"tags":[],"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686165735,"creation_date":1686165735,"answer_id":76426508,"question_id":76422564,"body_markdown":"Since you had RC4, I _suspect_ you&#39;re using Active Directory as your Kerberos KDC.\r\n\r\nWhile Kerberos RC4-HMAC keys were completely unsalted (they were literally an NT-style MD4 hash), the AES128 or AES256 keys _do_ use a salt as part of the (new) PBKDF2 key derivation.\r\n\r\nIn &quot;standard&quot; MIT Kerberos, the salt is based directly on the principal name, i.e. `HTTP/my.host` is converted to the salt. However, that&#39;s not the case with Active Directory, where a single account could have multiple SPNs while sharing a single key between them – instead, AD creates the salt based on the account&#39;s &quot;sAMAccountName&quot; (which is probably something like `tomcat123`).\r\n\r\nThe most likely result here is that the keys derived by ktutil don&#39;t match keys derived by your AD DC because of the mismatching salts. To fix this, use the **`addent -f`** option to make ktutil _ask the KDC_ about what salt to use (the same way as would be done during &#39;kinit&#39; or other ticket acquisition).","title":"Migration from RC4 to AES256 Kerberos problems - Tomcat 9.0.64","body":"<p>Since you had RC4, I <em>suspect</em> you're using Active Directory as your Kerberos KDC.</p>\n<p>While Kerberos RC4-HMAC keys were completely unsalted (they were literally an NT-style MD4 hash), the AES128 or AES256 keys <em>do</em> use a salt as part of the (new) PBKDF2 key derivation.</p>\n<p>In &quot;standard&quot; MIT Kerberos, the salt is based directly on the principal name, i.e. <code>HTTP/my.host</code> is converted to the salt. However, that's not the case with Active Directory, where a single account could have multiple SPNs while sharing a single key between them – instead, AD creates the salt based on the account's &quot;sAMAccountName&quot; (which is probably something like <code>tomcat123</code>).</p>\n<p>The most likely result here is that the keys derived by ktutil don't match keys derived by your AD DC because of the mismatching salts. To fix this, use the <strong><code>addent -f</code></strong> option to make ktutil <em>ask the KDC</em> about what salt to use (the same way as would be done during 'kinit' or other ticket acquisition).</p>\n"}],"owner":{"account_id":17438663,"reputation":5,"user_id":12641200,"display_name":"Trackres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76426508,"answer_count":1,"score":0,"last_activity_date":1686165735,"creation_date":1686135329,"question_id":76422564,"body_markdown":"Hi I tried to migrate our Java application from RC4 to AES256 encryption by generating new keytab. \r\n\r\n\r\n\r\n\r\n\r\n\r\nTo generate keytab I used ktutil:\r\n\r\n```\r\naddent -password -p HTTP/my.host@MY.DOMAIN -k 1 -e aes256-cts-hmac-sha1-96\r\n```\r\n\r\nFor user I have changed parameter type to:\r\n`msds-supportedEncryptionType = 24 (0x18)`\r\n\r\nand set SPN to `HTTP/my.host@MY.DOMAIN`\r\n\r\nAlso changed in krb5.conf to:\r\n\r\n```\r\n        default_tkt_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\r\n        default_tgs_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\r\n        permitted_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\r\n```\r\n\r\nFor kerberos logs I am using following parameters: \r\n`-Dsun.security.krb5.debug=true -Dsun.security.jgss.debug=true -Dsun.security.spnego.debug=true`\r\n\r\nUnfortunately I am getting 401 error with Windows authentication box appearing.\r\n\r\nIn code I get following logs:\r\n\r\n```\r\nDebug is true storeKey true useTicketCache false useKeyTab true doNotPrompt true ticketCache is null isInitiator false KeyTab is /location/tomcat/base/conf/kerberos.keytab refreshKrb5Config is false principal is HTTP/my.host@MY.DOMAIN tryFirstPass is false useFirstPass is false storePass is false clearPass is false\r\nprincipal is HTTP/my.host@MY.DOMAIN\r\nWill use keytab\r\nCommit Succeeded\r\nSearch Subject for SPNEGO ACCEPT cred (&lt;&lt;DEF&gt;&gt;, sun.security.jgss.spnego.SpNegoCredElement)\r\nSearch Subject for Kerberos V5 ACCEPT cred (&lt;&lt;DEF&gt;&gt;, sun.security.jgss.krb5.Krb5AcceptCredential)\r\nFound KeyTab /location/tomcat/base/conf/kerberos.keytab for HTTP/my.host@MY.DOMAIN\r\nFound KeyTab /location/tomcat/base/conf/kerberos.keytab for HTTP/my.host@MY.DOMAIN\r\nEntered SpNegoContext.acceptSecContext with state=STATE_NEW\r\nSpNegoContext.acceptSecContext: receiving token = a0 82 08 b7 30 82 08 b3 a0 30 30 2e 06 09 2a 86 48 ...\r\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.2.840.113554.1.2.2\r\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.2.840.48018.1.2.2\r\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.3.6.1.4.1.311.2.2.30\r\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.3.6.1.4.1.311.2.2.10\r\nSpNegoToken NegTokenInit: reading Mech Token\r\nSpNegoContext.acceptSecContext: received token of type = SPNEGO NegTokenInit\r\nSpNegoContext: negotiated mechanism = 1.2.840.113554.1.2.2\r\nEntered Krb5Context.acceptSecContext with state=STATE_NEW\r\nLooking for keys for: HTTP/my.host@MY.DOMAIN\r\nAdded key: 18version: 1\r\n&gt;&gt;&gt; EType: sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType\r\n[Krb5LoginModule]: Entering logout\r\n[Krb5LoginModule]: logged out Subject\r\n```\r\n\r\nAs you see above after adding key it entering logout. Unfortunately I don&#39;t get any error here and it not clear for me why it is not working.\r\nPreviously with RC4 encoding it was working correctly.\r\n\r\nTomcat: 9.0.64\r\nJava: 1.8.0_322-b06","title":"Migration from RC4 to AES256 Kerberos problems - Tomcat 9.0.64","body":"<p>Hi I tried to migrate our Java application from RC4 to AES256 encryption by generating new keytab.</p>\n<p>To generate keytab I used ktutil:</p>\n<pre><code>addent -password -p HTTP/my.host@MY.DOMAIN -k 1 -e aes256-cts-hmac-sha1-96\n</code></pre>\n<p>For user I have changed parameter type to:\n<code>msds-supportedEncryptionType = 24 (0x18)</code></p>\n<p>and set SPN to <code>HTTP/my.host@MY.DOMAIN</code></p>\n<p>Also changed in krb5.conf to:</p>\n<pre><code>        default_tkt_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\n        default_tgs_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\n        permitted_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\n</code></pre>\n<p>For kerberos logs I am using following parameters:\n<code>-Dsun.security.krb5.debug=true -Dsun.security.jgss.debug=true -Dsun.security.spnego.debug=true</code></p>\n<p>Unfortunately I am getting 401 error with Windows authentication box appearing.</p>\n<p>In code I get following logs:</p>\n<pre><code>Debug is true storeKey true useTicketCache false useKeyTab true doNotPrompt true ticketCache is null isInitiator false KeyTab is /location/tomcat/base/conf/kerberos.keytab refreshKrb5Config is false principal is HTTP/my.host@MY.DOMAIN tryFirstPass is false useFirstPass is false storePass is false clearPass is false\nprincipal is HTTP/my.host@MY.DOMAIN\nWill use keytab\nCommit Succeeded\nSearch Subject for SPNEGO ACCEPT cred (&lt;&lt;DEF&gt;&gt;, sun.security.jgss.spnego.SpNegoCredElement)\nSearch Subject for Kerberos V5 ACCEPT cred (&lt;&lt;DEF&gt;&gt;, sun.security.jgss.krb5.Krb5AcceptCredential)\nFound KeyTab /location/tomcat/base/conf/kerberos.keytab for HTTP/my.host@MY.DOMAIN\nFound KeyTab /location/tomcat/base/conf/kerberos.keytab for HTTP/my.host@MY.DOMAIN\nEntered SpNegoContext.acceptSecContext with state=STATE_NEW\nSpNegoContext.acceptSecContext: receiving token = a0 82 08 b7 30 82 08 b3 a0 30 30 2e 06 09 2a 86 48 ...\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.2.840.113554.1.2.2\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.2.840.48018.1.2.2\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.3.6.1.4.1.311.2.2.30\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.3.6.1.4.1.311.2.2.10\nSpNegoToken NegTokenInit: reading Mech Token\nSpNegoContext.acceptSecContext: received token of type = SPNEGO NegTokenInit\nSpNegoContext: negotiated mechanism = 1.2.840.113554.1.2.2\nEntered Krb5Context.acceptSecContext with state=STATE_NEW\nLooking for keys for: HTTP/my.host@MY.DOMAIN\nAdded key: 18version: 1\n&gt;&gt;&gt; EType: sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType\n[Krb5LoginModule]: Entering logout\n[Krb5LoginModule]: logged out Subject\n</code></pre>\n<p>As you see above after adding key it entering logout. Unfortunately I don't get any error here and it not clear for me why it is not working.\nPreviously with RC4 encoding it was working correctly.</p>\n<p>Tomcat: 9.0.64\nJava: 1.8.0_322-b06</p>\n"},{"tags":["java","digital-signature","itext7","pdfa3"],"answers":[{"tags":[],"owner":{"account_id":3045158,"reputation":335,"user_id":4355619,"display_name":"mval"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686165633,"creation_date":1686165633,"answer_id":76426494,"question_id":76423743,"body_markdown":"I believe this is a bug in VeraPDF. The reason why the check fails is that iText (correctly, as far as I&#39;m aware) copies the value of the **Trapped** entry in the input PDF&#39;s info dict into the `pdf:Trapped` XMP property when rewriting the file, but `pdf:Trapped` is not in this namespace listing in VeraPDF: https://github.com/veraPDF/veraPDF-library/blob/153e1723da4ea20176b4efe65e176e11e5[…]ore/src/main/java/org/verapdf/model/tools/xmp/XMPConstants.java. AFAIK it should be in there, though (reference: https://developer.adobe.com/xmp/docs/XMPNamespaces/pdf/).\r\n\r\nThis also has implications for files that claim conformance with both PDF/X-4 and PDF/A-2 or PDF/A-3, since the `pdf:Trapped` property is mandatory in such files.","title":"IText broke Specification: ISO 19005-3:2012, Clause: 6.6.2.3, Test number: 7","body":"<p>I believe this is a bug in VeraPDF. The reason why the check fails is that iText (correctly, as far as I'm aware) copies the value of the <strong>Trapped</strong> entry in the input PDF's info dict into the <code>pdf:Trapped</code> XMP property when rewriting the file, but <code>pdf:Trapped</code> is not in this namespace listing in VeraPDF: <a href=\"https://github.com/veraPDF/veraPDF-library/blob/153e1723da4ea20176b4efe65e176e11e5%5B%E2%80%A6%5Dore/src/main/java/org/verapdf/model/tools/xmp/XMPConstants.java\" rel=\"nofollow noreferrer\">https://github.com/veraPDF/veraPDF-library/blob/153e1723da4ea20176b4efe65e176e11e5[…]ore/src/main/java/org/verapdf/model/tools/xmp/XMPConstants.java</a>. AFAIK it should be in there, though (reference: <a href=\"https://developer.adobe.com/xmp/docs/XMPNamespaces/pdf/\" rel=\"nofollow noreferrer\">https://developer.adobe.com/xmp/docs/XMPNamespaces/pdf/</a>).</p>\n<p>This also has implications for files that claim conformance with both PDF/X-4 and PDF/A-2 or PDF/A-3, since the <code>pdf:Trapped</code> property is mandatory in such files.</p>\n"}],"owner":{"account_id":18813631,"reputation":31,"user_id":13721312,"display_name":"Andrea Carlo Ponte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686165633,"creation_date":1686144006,"question_id":76423743,"body_markdown":"I&#39;m trying  to sign with IText 8 a PDF a PDF/A-3B document.\r\nMy code seem to work, but I didn&#39;t succeed with online validator.\r\nThe error I get with various site is:\r\n\r\n**Specification: ISO 19005-3:2012, Clause: 6.6.2.3, Test number: 7\t\r\nAll properties specified in XMP form shall use either the predefined schemas defined in the XMP Specification, ISO 19005-1 or this part of ISO 19005, or any extension schemas that comply with 6.6.2.3.2.\tFailed\r\n1 occurrences\tHide\r\nXMPProperty\t\r\n(isPredefinedInXMP2005 == true || isDefinedInMainPackage == true || isDefinedInCurrentPackage == true) &amp;&amp; isValueTypeCorrect == true\t\r\nroot/document[0]/metadata[0](23 0 obj PDMetadata)/XMPPackage[0]/Properties[7](http://ns.adobe.com/pdf/1.3/ - pdf:Trapped)**\r\n\r\nThe original document was validated from VerPDF&#39;s site meanwhile the result pdf with or without the signin process fail in this way.\r\n\r\n\r\nMy simple code without sign\r\n\r\n\r\n```\r\nPdfDocument pdfDoc = new PdfDocument(new PdfReader(pdfInputFileName), new PdfWriter(pdfOutputFileName));\r\npdfDoc.close()\r\n```\r\n\r\n\r\n[The original file ](https://www.mediafire.com/file/473aw3s1lbmlq7v/PDF_out.pdf/file)\r\n\r\n[The output](https://www.mediafire.com/file/4eu6vr3qvhhuib9/PDF_2.pdf/file) \r\n\r\nThe output is without Signature for privacy reason\r\n\r\nAny thoughts?\r\nThanks in advance\r\n\r\n\r\n\r\nI&#39;ve tryied to add writer xmpMetadata but no changes in the result","title":"IText broke Specification: ISO 19005-3:2012, Clause: 6.6.2.3, Test number: 7","body":"<p>I'm trying  to sign with IText 8 a PDF a PDF/A-3B document.\nMy code seem to work, but I didn't succeed with online validator.\nThe error I get with various site is:</p>\n<p><strong>Specification: ISO 19005-3:2012, Clause: 6.6.2.3, Test number: 7<br />\nAll properties specified in XMP form shall use either the predefined schemas defined in the XMP Specification, ISO 19005-1 or this part of ISO 19005, or any extension schemas that comply with 6.6.2.3.2.  Failed\n1 occurrences   Hide\nXMPProperty\n(isPredefinedInXMP2005 == true || isDefinedInMainPackage == true || isDefinedInCurrentPackage == true) &amp;&amp; isValueTypeCorrect == true<br />\nroot/document[0]/metadata[0](23 0 obj PDMetadata)/XMPPackage[0]/Properties[7](<a href=\"http://ns.adobe.com/pdf/1.3/\" rel=\"nofollow noreferrer\">http://ns.adobe.com/pdf/1.3/</a> - pdf:Trapped)</strong></p>\n<p>The original document was validated from VerPDF's site meanwhile the result pdf with or without the signin process fail in this way.</p>\n<p>My simple code without sign</p>\n<pre><code>PdfDocument pdfDoc = new PdfDocument(new PdfReader(pdfInputFileName), new PdfWriter(pdfOutputFileName));\npdfDoc.close()\n</code></pre>\n<p><a href=\"https://www.mediafire.com/file/473aw3s1lbmlq7v/PDF_out.pdf/file\" rel=\"nofollow noreferrer\">The original file </a></p>\n<p><a href=\"https://www.mediafire.com/file/4eu6vr3qvhhuib9/PDF_2.pdf/file\" rel=\"nofollow noreferrer\">The output</a></p>\n<p>The output is without Signature for privacy reason</p>\n<p>Any thoughts?\nThanks in advance</p>\n<p>I've tryied to add writer xmpMetadata but no changes in the result</p>\n"},{"tags":["java","couchbase","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686165573,"creation_date":1686165573,"answer_id":76426483,"question_id":75886700,"body_markdown":"This is a known issue that is fixed in Spring Boot 2.6.6.","title":"Java thread that upserts document in Couchbase is stuck in Waiting state indefinitely","body":"<p>This is a known issue that is fixed in Spring Boot 2.6.6.</p>\n"}],"owner":{"account_id":28017502,"reputation":31,"user_id":21398991,"display_name":"Neha Sahni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686165573,"creation_date":1680170111,"question_id":75886700,"body_markdown":"Spring Boot Version: 2.3.1.RELEASE\r\nSpring Data Couchbase: 4.3.5\r\nCouchbase Java Client: 3.2.7\r\nMy spring boot application is getting stuck after inserting a document in Couchbase. (I can see document was inserted successfully)\r\n\r\n```\r\n` final CatalogLock entity = lockRepository.save(lock);\r\n        return entity.getId();\r\n\r\npublic interface CatalogLockRepository extends CouchbaseRepository&lt;CatalogLock, String&gt;`\r\n```\r\n\r\n&quot;main&quot; #1 prio=5 os_prio=0 tid=0x0000000003614800 nid=0x5f14 waiting on condition [0x000000000360b000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        - parking to wait for  &lt;0x0000000709cf3808&gt; (a java.util.concurrent.CountDownLatch$Sync)\r\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\r\n        at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\r\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:87)\r\n        at reactor.core.publisher.Mono.block(Mono.java:1679)\r\n        at org.springframework.data.couchbase.core.ExecutableUpsertByIdOperationSupport$ExecutableUpsertByIdSupport.one(ExecutableUpsertByIdOperationSupport.java:75)\r\n\r\nThere seems to be a similar issue raised in Couchbase forum https://forums.couchbase.com/t/java-thread-that-queries-couchbase-stuck-in-waiting-state/24144\r\nbut with no response\r\n\r\nTried different versions of Couchbase java client and spring data couchbase, reactore-core. Nothing helped","title":"Java thread that upserts document in Couchbase is stuck in Waiting state indefinitely","body":"<p>Spring Boot Version: 2.3.1.RELEASE\nSpring Data Couchbase: 4.3.5\nCouchbase Java Client: 3.2.7\nMy spring boot application is getting stuck after inserting a document in Couchbase. (I can see document was inserted successfully)</p>\n<pre><code>` final CatalogLock entity = lockRepository.save(lock);\n        return entity.getId();\n\npublic interface CatalogLockRepository extends CouchbaseRepository&lt;CatalogLock, String&gt;`\n</code></pre>\n<p>&quot;main&quot; #1 prio=5 os_prio=0 tid=0x0000000003614800 nid=0x5f14 waiting on condition [0x000000000360b000]\njava.lang.Thread.State: WAITING (parking)\nat sun.misc.Unsafe.park(Native Method)\n- parking to wait for  &lt;0x0000000709cf3808&gt; (a java.util.concurrent.CountDownLatch$Sync)\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\nat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\nat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\nat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\nat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\nat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:87)\nat reactor.core.publisher.Mono.block(Mono.java:1679)\nat org.springframework.data.couchbase.core.ExecutableUpsertByIdOperationSupport$ExecutableUpsertByIdSupport.one(ExecutableUpsertByIdOperationSupport.java:75)</p>\n<p>There seems to be a similar issue raised in Couchbase forum <a href=\"https://forums.couchbase.com/t/java-thread-that-queries-couchbase-stuck-in-waiting-state/24144\" rel=\"nofollow noreferrer\">https://forums.couchbase.com/t/java-thread-that-queries-couchbase-stuck-in-waiting-state/24144</a>\nbut with no response</p>\n<p>Tried different versions of Couchbase java client and spring data couchbase, reactore-core. Nothing helped</p>\n"},{"tags":["java","hibernate","jpa","hibernate-envers","cascading-deletes"],"owner":{"account_id":16145483,"reputation":41,"user_id":11721167,"display_name":"pvncoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686165497,"creation_date":1686165497,"question_id":76426474,"body_markdown":"I&#39;m using Hibernate version 6.2.4.Final. I have an entity called &quot;Batch&quot;:\r\n```\r\n@Audited\r\n@Entity\r\n@Table(name = &quot;batch&quot;)\r\npublic class Batch extends BaseEntity implements Serializable {\r\n\r\n    @OneToMany(mappedBy = &quot;batch&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    private List&lt;BatchTechnicalRecord&gt; technicalRecords;\r\n    ...\r\n}\r\n```\r\nI also have the &quot;BatchTechnicalRecord&quot; entity:\r\n```\r\n@Audited\r\n@Entity\r\n@Table(name = &quot;batch_technical_record&quot;)\r\npublic class BatchTechnicalRecord extends BaseEntity implements Serializable {\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;batch_technical_record_attachment&quot;, joinColumns = @JoinColumn(name = &quot;id_batch_technical_record&quot;), inverseJoinColumns = @JoinColumn(name = &quot;id_attachment&quot;))\r\n    private List&lt;Attachment&gt; attachments;\r\n    ...\r\n}\r\n```\r\nAnd finally, the &quot;BatchTechnicalRecordAttachment&quot; entity that relates &quot;Attachment&quot; to &quot;BatchTechnicalRecord&quot;:\r\n```\r\n@Audited\r\n@Entity\r\n@Table(name = &quot;batch_technical_record_attachment&quot;)\r\npublic class BatchTechnicalRecordAttachment extends BaseEntity implements Serializable {\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;id_attachment&quot;, referencedColumnName = &quot;id&quot;, nullable = false, foreignKey = @ForeignKey(name = &quot;fk_batch_technical_record_attachment_attachment&quot;))\r\n    private Attachment attachment;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;id_batch_technical_record&quot;, referencedColumnName = &quot;id&quot;, nullable = false, foreignKey = @ForeignKey(name = &quot;fk_fk_batch_technical_record_attachment_attachment_batch_technical_record&quot;))\r\n    private BatchTechnicalRecord batchTechnicalRecord;\r\n    ...\r\n}\r\n```\r\nWhen I try to remove the &quot;Batch&quot;, the cascade should remove the associated &quot;BatchTechnicalRecord&quot; entities along with their &quot;BatchTechnicalRecordAttachment&quot; and &quot;Attachment&quot; entities. However, Hibernate is attempting to insert a null ID in the &quot;batch_technical_record_attachment_aud&quot; table for some reason:\r\n```\r\nCaused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;id&quot; of relation &quot;batch_technical_record_attachment_aud&quot; violates not-null constraint\r\n  Detail: Failing row contains (null, 2052, 2, null, null, null, null, 15, 35).\r\n```\r\n\r\nAny help would be appreciated in resolving this issue. Thank you.","title":"Hibernate Envers inserting null ID in child entities (_aud) when parent entity is removed in @OneToMany relationship with @JoinTable","body":"<p>I'm using Hibernate version 6.2.4.Final. I have an entity called &quot;Batch&quot;:</p>\n<pre><code>@Audited\n@Entity\n@Table(name = &quot;batch&quot;)\npublic class Batch extends BaseEntity implements Serializable {\n\n    @OneToMany(mappedBy = &quot;batch&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\n    private List&lt;BatchTechnicalRecord&gt; technicalRecords;\n    ...\n}\n</code></pre>\n<p>I also have the &quot;BatchTechnicalRecord&quot; entity:</p>\n<pre><code>@Audited\n@Entity\n@Table(name = &quot;batch_technical_record&quot;)\npublic class BatchTechnicalRecord extends BaseEntity implements Serializable {\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;batch_technical_record_attachment&quot;, joinColumns = @JoinColumn(name = &quot;id_batch_technical_record&quot;), inverseJoinColumns = @JoinColumn(name = &quot;id_attachment&quot;))\n    private List&lt;Attachment&gt; attachments;\n    ...\n}\n</code></pre>\n<p>And finally, the &quot;BatchTechnicalRecordAttachment&quot; entity that relates &quot;Attachment&quot; to &quot;BatchTechnicalRecord&quot;:</p>\n<pre><code>@Audited\n@Entity\n@Table(name = &quot;batch_technical_record_attachment&quot;)\npublic class BatchTechnicalRecordAttachment extends BaseEntity implements Serializable {\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;id_attachment&quot;, referencedColumnName = &quot;id&quot;, nullable = false, foreignKey = @ForeignKey(name = &quot;fk_batch_technical_record_attachment_attachment&quot;))\n    private Attachment attachment;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id_batch_technical_record&quot;, referencedColumnName = &quot;id&quot;, nullable = false, foreignKey = @ForeignKey(name = &quot;fk_fk_batch_technical_record_attachment_attachment_batch_technical_record&quot;))\n    private BatchTechnicalRecord batchTechnicalRecord;\n    ...\n}\n</code></pre>\n<p>When I try to remove the &quot;Batch&quot;, the cascade should remove the associated &quot;BatchTechnicalRecord&quot; entities along with their &quot;BatchTechnicalRecordAttachment&quot; and &quot;Attachment&quot; entities. However, Hibernate is attempting to insert a null ID in the &quot;batch_technical_record_attachment_aud&quot; table for some reason:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;id&quot; of relation &quot;batch_technical_record_attachment_aud&quot; violates not-null constraint\n  Detail: Failing row contains (null, 2052, 2, null, null, null, null, 15, 35).\n</code></pre>\n<p>Any help would be appreciated in resolving this issue. Thank you.</p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"score":1,"creation_date":1686151136,"post_id":76424528,"comment_id":134760576,"body_markdown":"Treat Clock as a service, inject it, and use Clock.now() or Instant.now(Clock) to get the current time. Then in tests you can inject the Clock.fixed(...) you need.","body":"Treat Clock as a service, inject it, and use Clock.now() or Instant.now(Clock) to get the current time. Then in tests you can inject the Clock.fixed(...) you need."},{"owner":{"account_id":1133503,"reputation":3630,"user_id":1119043,"accept_rate":0,"display_name":"belgoros"},"score":0,"creation_date":1686164734,"post_id":76424528,"comment_id":134763252,"body_markdown":"Thank you very much for the suggestion. I updated the original comment content to give a more clear understanding.","body":"Thank you very much for the suggestion. I updated the original comment content to give a more clear understanding."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686152627,"creation_date":1686151593,"answer_id":76424880,"question_id":76424528,"body_markdown":"## Explanation\r\nThis is because all static method of `Instant` is returning null within the try block, the behaviour is the same as we do for instance method in instance mock. \r\n\r\nIf we debug into the `minus` call, it will finally arrive `ofEpochSecond` which will return null.\r\n```java\r\n    private Instant plus(long secondsToAdd, long nanosToAdd) {\r\n        if ((secondsToAdd | nanosToAdd) == 0) {\r\n            return this;\r\n        }\r\n        long epochSec = Math.addExact(seconds, secondsToAdd);\r\n        epochSec = Math.addExact(epochSec, nanosToAdd / NANOS_PER_SECOND);\r\n        nanosToAdd = nanosToAdd % NANOS_PER_SECOND;\r\n        long nanoAdjustment = nanos + nanosToAdd;  // safe int+NANOS_PER_SECOND\r\n        return ofEpochSecond(epochSec, nanoAdjustment);\r\n    }\r\n```\r\n## Workaround\r\nYou can provide setting for `defaultAnswer` to call real method by default.\r\n```java\r\ntry (MockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class,  \r\n     withSettings().defaultAnswer(invocation -&gt; invocation.callRealMethod()))) {\r\n     mockedStatic.when(Instant::now).thenReturn(instant);\r\n     ...\r\n}\r\n```\r\n## Better solution\r\nreferring to [Clock javadoc][2]\r\n&gt;The primary purpose of this abstraction is to allow alternate clocks to be plugged in as and when required. Applications use an object to obtain the current time rather than a static method. This can simplify testing.\r\n\r\nAnd suggested by [bowmore][1], we should treat Clock as a service, and set the time as desired.  \r\n\r\nIn addition, static method is global by default, hence changing(static mock) it behaviour is as error prone as changing a global variable.\r\n\r\n  [1]: https://stackoverflow.com/users/1886012/bowmore\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html","title":"Mockito: using mockStatic() - how to mock instance methods on the scoped mock object","body":"<h2>Explanation</h2>\n<p>This is because all static method of <code>Instant</code> is returning null within the try block, the behaviour is the same as we do for instance method in instance mock.</p>\n<p>If we debug into the <code>minus</code> call, it will finally arrive <code>ofEpochSecond</code> which will return null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private Instant plus(long secondsToAdd, long nanosToAdd) {\n        if ((secondsToAdd | nanosToAdd) == 0) {\n            return this;\n        }\n        long epochSec = Math.addExact(seconds, secondsToAdd);\n        epochSec = Math.addExact(epochSec, nanosToAdd / NANOS_PER_SECOND);\n        nanosToAdd = nanosToAdd % NANOS_PER_SECOND;\n        long nanoAdjustment = nanos + nanosToAdd;  // safe int+NANOS_PER_SECOND\n        return ofEpochSecond(epochSec, nanoAdjustment);\n    }\n</code></pre>\n<h2>Workaround</h2>\n<p>You can provide setting for <code>defaultAnswer</code> to call real method by default.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class,  \n     withSettings().defaultAnswer(invocation -&gt; invocation.callRealMethod()))) {\n     mockedStatic.when(Instant::now).thenReturn(instant);\n     ...\n}\n</code></pre>\n<h2>Better solution</h2>\n<p>referring to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html\" rel=\"nofollow noreferrer\">Clock javadoc</a></p>\n<blockquote>\n<p>The primary purpose of this abstraction is to allow alternate clocks to be plugged in as and when required. Applications use an object to obtain the current time rather than a static method. This can simplify testing.</p>\n</blockquote>\n<p>And suggested by <a href=\"https://stackoverflow.com/users/1886012/bowmore\">bowmore</a>, we should treat Clock as a service, and set the time as desired.</p>\n<p>In addition, static method is global by default, hence changing(static mock) it behaviour is as error prone as changing a global variable.</p>\n"},{"tags":[],"owner":{"account_id":9204483,"reputation":121,"user_id":6840307,"display_name":"Updesh Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686154516,"creation_date":1686154516,"answer_id":76425290,"question_id":76424528,"body_markdown":"**You need to use Mocked Construction in Mockito:**\r\n\r\nTry block Code:\r\n\r\n    try (MockedConstruction&lt;Instant&gt; mockedConstruction = mockConstruction(Instant.class,\r\n                (mock, context) -&gt; {\r\n                    //this initializer will be called each time during mock creation\r\n                    when(mock::now).thenReturn(instant);\r\n                })) {\r\n            \r\n            Instant now = Instant.now();\r\n            assertThat(now.toString()).isEqualTo(instantExpected);\r\n\r\n            Instant earlier2weeks = now.minus(Period.ofWeeks(2));\r\n            assertNotNull(earlier2weeks);// should work now\r\n        }\r\nAbove code should work as it will mock every **new construction** of the object.","title":"Mockito: using mockStatic() - how to mock instance methods on the scoped mock object","body":"<p><strong>You need to use Mocked Construction in Mockito:</strong></p>\n<p>Try block Code:</p>\n<pre><code>try (MockedConstruction&lt;Instant&gt; mockedConstruction = mockConstruction(Instant.class,\n            (mock, context) -&gt; {\n                //this initializer will be called each time during mock creation\n                when(mock::now).thenReturn(instant);\n            })) {\n        \n        Instant now = Instant.now();\n        assertThat(now.toString()).isEqualTo(instantExpected);\n\n        Instant earlier2weeks = now.minus(Period.ofWeeks(2));\n        assertNotNull(earlier2weeks);// should work now\n    }\n</code></pre>\n<p>Above code should work as it will mock every <strong>new construction</strong> of the object.</p>\n"}],"owner":{"account_id":1133503,"reputation":3630,"user_id":1119043,"accept_rate":0,"display_name":"belgoros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1686164683,"creation_date":1686148894,"question_id":76424528,"body_markdown":"Here is a simple test example to show what fails and when. In short, I mock a static `now()` method of the `Instance` class but later on there is another call of this mocked instance, - `minus()` method which will return `null`:\r\n```java\r\n@Test\r\n    void givenInstantMock_whenNow_thenGetFixedInstant() {\r\n        String instantExpected = &quot;2014-12-22T10:15:30Z&quot;;\r\n        Clock clock = Clock.fixed(Instant.parse(instantExpected), ZoneId.of(&quot;UTC&quot;));\r\n        Instant instant = Instant.now(clock);\r\n\r\n        try (MockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class)) {\r\n            mockedStatic.when(Instant::now).thenReturn(instant);\r\n            Instant now = Instant.now();\r\n            assertThat(now.toString()).isEqualTo(instantExpected);\r\n\r\n            Instant earlier2weeks = now.minus(Period.ofWeeks(2));\r\n            assertNotNull(earlier2weeks);// FAILS as it will be null\r\n        }\r\n    }\r\n```\r\n\r\nIn the real situation, a service class creates a new Instant with `Instant::now`:\r\n```java\r\n//in a component class\r\n@Component\r\nclass DeletionScheduler {\r\n...\r\npublic void findOutdatedEntries() {\r\n  Instant limitDate = Instant.now().minus(validityGracePeriod);\r\n        List&lt;Entry&gt; entriedToDelete= shareService.findOutdatedEtriees(limitDate );\r\n...\r\n}\r\n```\r\nSo as you can see, even if I mock the `Instant.now()` the call to `minus` on this instance will always return NULL.\r\n```\r\nSo the idea of the test was:\r\n\r\n- to create an entry with a `limitDate` in the future.\r\n- trick/mock the System clock to be in the future\r\n- check if there are some outdated entries.\r\n\r\nIs there any way to get around it?\r\n ","title":"Mockito: using mockStatic() - how to mock instance methods on the scoped mock object","body":"<p>Here is a simple test example to show what fails and when. In short, I mock a static <code>now()</code> method of the <code>Instance</code> class but later on there is another call of this mocked instance, - <code>minus()</code> method which will return <code>null</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n    void givenInstantMock_whenNow_thenGetFixedInstant() {\n        String instantExpected = &quot;2014-12-22T10:15:30Z&quot;;\n        Clock clock = Clock.fixed(Instant.parse(instantExpected), ZoneId.of(&quot;UTC&quot;));\n        Instant instant = Instant.now(clock);\n\n        try (MockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class)) {\n            mockedStatic.when(Instant::now).thenReturn(instant);\n            Instant now = Instant.now();\n            assertThat(now.toString()).isEqualTo(instantExpected);\n\n            Instant earlier2weeks = now.minus(Period.ofWeeks(2));\n            assertNotNull(earlier2weeks);// FAILS as it will be null\n        }\n    }\n</code></pre>\n<p>In the real situation, a service class creates a new Instant with <code>Instant::now</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//in a component class\n@Component\nclass DeletionScheduler {\n...\npublic void findOutdatedEntries() {\n  Instant limitDate = Instant.now().minus(validityGracePeriod);\n        List&lt;Entry&gt; entriedToDelete= shareService.findOutdatedEtriees(limitDate );\n...\n}\n</code></pre>\n<p>So as you can see, even if I mock the <code>Instant.now()</code> the call to <code>minus</code> on this instance will always return NULL.</p>\n<pre><code>So the idea of the test was:\n\n- to create an entry with a `limitDate` in the future.\n- trick/mock the System clock to be in the future\n- check if there are some outdated entries.\n\nIs there any way to get around it?\n \n</code></pre>\n"},{"tags":["java","rest","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686164160,"creation_date":1686164160,"answer_id":76426298,"question_id":76420977,"body_markdown":"&gt; Whereas the imported documents lacked the _model.\r\n\r\nThis is probably the issue. spring-data-couchbase adds a type property. By default, the property is named _class and the value is the java classname (it sounds like you have overridden the default with _model). Queries from spring-data-couchbase add the predicate WHERE &amp;lt;type_property&amp;gt;=&amp;lt;class_name&amp;gt; . Data not inserted by spring-data-couchbase will not have that property and therefore not be selected by the query.  So the property will need to be added to documents in couchbase.","title":"Documents bulk inserted with Couchbase Web not showing up in REST API response Java","body":"<blockquote>\n<p>Whereas the imported documents lacked the _model.</p>\n</blockquote>\n<p>This is probably the issue. spring-data-couchbase adds a type property. By default, the property is named _class and the value is the java classname (it sounds like you have overridden the default with _model). Queries from spring-data-couchbase add the predicate WHERE &lt;type_property&gt;=&lt;class_name&gt; . Data not inserted by spring-data-couchbase will not have that property and therefore not be selected by the query.  So the property will need to be added to documents in couchbase.</p>\n"}],"owner":{"account_id":2501655,"reputation":734,"user_id":2176576,"accept_rate":40,"display_name":"user2176576"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76426298,"answer_count":1,"score":0,"last_activity_date":1686164160,"creation_date":1686123760,"question_id":76420977,"body_markdown":"I have a Couchbase cluster running with a bucket and scope created, when importing json objects as json list on webconsole, I can retrieve documents via Couchase web console. But the same documents are not visible when I try to fetch them via REST API in springboot app.\r\n\r\nIronically, the REST POST works, and the json object stored via REST gets fetched via the fetch API.\r\n\r\nCould you share what I may be doing wrong here?\r\n\r\nAlso noticed that the json object saved via Post endpoint saves _model as my model class name. and saved the UUID (my identifier thats autogenerated) in the metadata. Whereas the imported documents lacked the _model.","title":"Documents bulk inserted with Couchbase Web not showing up in REST API response Java","body":"<p>I have a Couchbase cluster running with a bucket and scope created, when importing json objects as json list on webconsole, I can retrieve documents via Couchase web console. But the same documents are not visible when I try to fetch them via REST API in springboot app.</p>\n<p>Ironically, the REST POST works, and the json object stored via REST gets fetched via the fetch API.</p>\n<p>Could you share what I may be doing wrong here?</p>\n<p>Also noticed that the json object saved via Post endpoint saves _model as my model class name. and saved the UUID (my identifier thats autogenerated) in the metadata. Whereas the imported documents lacked the _model.</p>\n"},{"tags":["java","sql","sql-server","sql-server-2008"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1349617344,"post_id":12769171,"comment_id":17256702,"body_markdown":"How does this relate to android?","body":"How does this relate to android?"}],"answers":[{"tags":[],"owner":{"account_id":77938,"reputation":7684,"user_id":222163,"accept_rate":89,"display_name":"Paul D&#39;Ambra"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1349616162,"creation_date":1349616162,"answer_id":12769210,"question_id":12769171,"body_markdown":"Having been through this very recently the steps I took to solve pretty much the same problem were \r\n\r\n 1. use SQL Server Management Studio to log in with the desired account and confirm access to read (and write if necessary)\r\n 2. Use SQL Server Configuration Manager to confirm that the server instance is listening on the IP address being targetted\r\n 3. Disable the firewall to check that isn&#39;t getting in the way (and add an exception if necessary for future use)\r\n\r\nThe absolute kicker for me was understanding what IP addresses and ports the instance was set to listen on so that when I constructed the connection string the connection wasn&#39;t being rejected.\r\n\r\nAlso, if you want to connect using Windows logins you need to ensure the SQL instance is configured for mixed mode authentication (i.e. to allow Windows and SQL logins)","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>Having been through this very recently the steps I took to solve pretty much the same problem were </p>\n\n<ol>\n<li>use SQL Server Management Studio to log in with the desired account and confirm access to read (and write if necessary)</li>\n<li>Use SQL Server Configuration Manager to confirm that the server instance is listening on the IP address being targetted</li>\n<li>Disable the firewall to check that isn't getting in the way (and add an exception if necessary for future use)</li>\n</ol>\n\n<p>The absolute kicker for me was understanding what IP addresses and ports the instance was set to listen on so that when I constructed the connection string the connection wasn't being rejected.</p>\n\n<p>Also, if you want to connect using Windows logins you need to ensure the SQL instance is configured for mixed mode authentication (i.e. to allow Windows and SQL logins)</p>\n"},{"tags":[],"owner":{"account_id":1913609,"reputation":324,"user_id":1726745,"display_name":"piotrp"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1349616462,"creation_date":1349616462,"answer_id":12769241,"question_id":12769171,"body_markdown":"If you try to connect with database which is using windows authentication, you can use &#39;integratedSecurity&#39; option in your connection string.\r\n\r\n    DriverManager.getConnection(&quot;jdbc:sqlserver://localhost:1433;databaseName=SocialFamilyTree;integratedSecurity=true;&quot;);","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>If you try to connect with database which is using windows authentication, you can use 'integratedSecurity' option in your connection string.</p>\n\n<pre><code>DriverManager.getConnection(\"jdbc:sqlserver://localhost:1433;databaseName=SocialFamilyTree;integratedSecurity=true;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":192799,"reputation":524,"user_id":434145,"display_name":"Nikhil Silveira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353562175,"creation_date":1353562175,"answer_id":13506394,"question_id":12769171,"body_markdown":"Re: Did it. still WARNING: Failed to load the sqljdbc_auth.dll cause :- no sqljdbc_auth in java.library.path – Mike Oct 7 at 14:03\r\n\r\nyou have to add the path to sqljdbc_auth.dll by adding this under VM arguments in Eclipse or commandline if you&#39;re running from the shell:\r\n -Djava.library.path=&quot;\\MS SQL Server JDBC Driver 3.0\\sqljdbc_3.0\\enu\\auth\\x86&quot;\r\n\r\nthat&#39;s if you&#39;re running 32 bit Windows. else the final subdir changes accordingly.\r\n\r\nI think this might be a better answer though, to setting up SQL Server user based authentication:\r\nhttps://stackoverflow.com/questions/6403636/connecting-sql-server-2008-to-java-login-failed-for-user-error/10567111#10567111\r\n\r\n(I try to summarize it here: http://silveira.wikidot.com/sql-server)","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>Re: Did it. still WARNING: Failed to load the sqljdbc_auth.dll cause :- no sqljdbc_auth in java.library.path – Mike Oct 7 at 14:03</p>\n\n<p>you have to add the path to sqljdbc_auth.dll by adding this under VM arguments in Eclipse or commandline if you're running from the shell:\n -Djava.library.path=\"\\MS SQL Server JDBC Driver 3.0\\sqljdbc_3.0\\enu\\auth\\x86\"</p>\n\n<p>that's if you're running 32 bit Windows. else the final subdir changes accordingly.</p>\n\n<p>I think this might be a better answer though, to setting up SQL Server user based authentication:\n<a href=\"https://stackoverflow.com/questions/6403636/connecting-sql-server-2008-to-java-login-failed-for-user-error/10567111#10567111\">Connecting SQL Server 2008 to Java: Login failed for user error</a></p>\n\n<p>(I try to summarize it here: <a href=\"http://silveira.wikidot.com/sql-server\" rel=\"nofollow noreferrer\">http://silveira.wikidot.com/sql-server</a>)</p>\n"},{"tags":[],"owner":{"account_id":10802935,"reputation":55,"user_id":7946182,"display_name":"Vaggos Phl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493631179,"creation_date":1493622284,"answer_id":43715518,"question_id":12769171,"body_markdown":"Since you get this error,the Sql server correctly listens to the port.\r\n\r\n 1. Open Sql Server Management Studio connect to your Server. \r\n 2. right click on the server&#39;s icon and choose properties. \r\n 3. Go to the security tab and tick Sql Server and Windows\r\n    Authentication mode.\r\n\r\nIf you want to define a user,go from the tree, to Security-&gt;Logins,right click on logins folder and click &quot;New Login&quot;.\r\n\r\nNow your server should work with this Url String.\r\nUse the log file of the Server that may help you understand its working.","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>Since you get this error,the Sql server correctly listens to the port.</p>\n\n<ol>\n<li>Open Sql Server Management Studio connect to your Server. </li>\n<li>right click on the server's icon and choose properties. </li>\n<li>Go to the security tab and tick Sql Server and Windows\nAuthentication mode.</li>\n</ol>\n\n<p>If you want to define a user,go from the tree, to Security->Logins,right click on logins folder and click \"New Login\".</p>\n\n<p>Now your server should work with this Url String.\nUse the log file of the Server that may help you understand its working.</p>\n"},{"tags":[],"owner":{"account_id":5556376,"reputation":1846,"user_id":4407593,"accept_rate":0,"display_name":"Kona Suresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614755928,"creation_date":1614755928,"answer_id":66452364,"question_id":12769171,"body_markdown":"I also faced the same issue, In my case the following things are configured wrongly\r\n\r\n 1. Two SQL (versions) servers are running in my system --&gt; Sol: Please check ourselves which server we are pointing.\r\n 2. Ports are configured as dynamic --&gt; Sol: we should set port 1433 and dynamic port should be 0, if we are connected to specific port.\r\n 3. While creating the new login (user) I have selected the option &quot; change password after first login &quot;--&gt; Sol: we should not select this option while creating the new login, if we are trying connecting from some other service like Openfire.\r\n\r\n","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>I also faced the same issue, In my case the following things are configured wrongly</p>\n<ol>\n<li>Two SQL (versions) servers are running in my system --&gt; Sol: Please check ourselves which server we are pointing.</li>\n<li>Ports are configured as dynamic --&gt; Sol: we should set port 1433 and dynamic port should be 0, if we are connected to specific port.</li>\n<li>While creating the new login (user) I have selected the option &quot; change password after first login &quot;--&gt; Sol: we should not select this option while creating the new login, if we are trying connecting from some other service like Openfire.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7209252,"reputation":91,"user_id":5503910,"display_name":"Fellipe Borges"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686163970,"creation_date":1686163970,"answer_id":76426277,"question_id":12769171,"body_markdown":"For me, for some reason, when using a SQL Server instance in the connection string, I had to remove the port number.\r\n\r\nFrom this:\r\n\r\n`spring.datasource.url=jdbc:sqlserver://servername\\\\SQL2022:1433;`\r\n\r\nTo this:\r\n\r\n`spring.datasource.url=jdbc:sqlserver://servername\\\\SQL2022;`","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>For me, for some reason, when using a SQL Server instance in the connection string, I had to remove the port number.</p>\n<p>From this:</p>\n<p><code>spring.datasource.url=jdbc:sqlserver://servername\\\\SQL2022:1433;</code></p>\n<p>To this:</p>\n<p><code>spring.datasource.url=jdbc:sqlserver://servername\\\\SQL2022;</code></p>\n"}],"owner":{"account_id":1242318,"reputation":1302,"user_id":1204617,"accept_rate":81,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122224,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":12769241,"answer_count":6,"score":12,"last_activity_date":1686163970,"creation_date":1349615800,"question_id":12769171,"body_markdown":"I trying to test the connection with my local sql DB. I have this code:\r\n\r\n    try{\r\n        Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;).newInstance();\r\n        DriverManager.getConnection(&quot;jdbc:sqlserver://localhost:1433;databaseName=SocialFamilyTree;user=SOSCOMP&quot;);\r\n        \r\n    }catch(Exception e){\r\n        System.out.println(&quot;Couldn&#39;t get database connection.&quot;);\r\n        e.printStackTrace();\r\n    }\r\n\r\nI tried many users. my windows user is SOSCOMP and doesn&#39;t have a password. I also know that SQL 2008 create users as &quot;sys&quot; &quot;dbo&quot;, I tried these too. I&#39;m always getting:\r\n\r\n    Couldn&#39;t get database connection.\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user &#39;SOSCOMP&#39;.\r\n    \r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:196)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:246)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:83)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:2532)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:1929)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.access$000(SQLServerConnection.java:41)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:1917)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4026)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1416)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1061)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:833)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:716)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:841)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:579)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:243)\r\n    \tat FT_Receiver.FT_Receiver.main(FT_Receiver.java:12)\r\n\r\n\r\nAny ideas?\r\n\r\nThanks","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>I trying to test the connection with my local sql DB. I have this code:</p>\n\n<pre><code>try{\n    Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\").newInstance();\n    DriverManager.getConnection(\"jdbc:sqlserver://localhost:1433;databaseName=SocialFamilyTree;user=SOSCOMP\");\n\n}catch(Exception e){\n    System.out.println(\"Couldn't get database connection.\");\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>I tried many users. my windows user is SOSCOMP and doesn't have a password. I also know that SQL 2008 create users as \"sys\" \"dbo\", I tried these too. I'm always getting:</p>\n\n<pre><code>Couldn't get database connection.\ncom.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user 'SOSCOMP'.\n\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:196)\n    at com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:246)\n    at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:83)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:2532)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:1929)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.access$000(SQLServerConnection.java:41)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:1917)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4026)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1416)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1061)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:833)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:716)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:841)\n    at java.sql.DriverManager.getConnection(DriverManager.java:579)\n    at java.sql.DriverManager.getConnection(DriverManager.java:243)\n    at FT_Receiver.FT_Receiver.main(FT_Receiver.java:12)\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1638426776,"post_id":70193951,"comment_id":124086084,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1638426803,"post_id":70193951,"comment_id":124086093,"body_markdown":"Note I am not a color expert. However, this does not seem to be a problem with `Color` or your math. You can test this out be creating `#11111111` colors through various means and see they&#39;ll all print out `0x11111111`. If you follow the code path of `setPixel` then you&#39;ll see it eventually does alpha premultiplication before storing the color in the internal byte buffer. And this appears to be a precision issue, though again not on your part. From what I&#39;ve looked up, small alphas are the problem. For example, if you used `#111111FF` then you&#39;d get the same color back out.","body":"Note I am not a color expert. However, this does not seem to be a problem with <code>Color</code> or your math. You can test this out be creating <code>#11111111</code> colors through various means and see they&#39;ll all print out <code>0x11111111</code>. If you follow the code path of <code>setPixel</code> then you&#39;ll see it eventually does alpha premultiplication before storing the color in the internal byte buffer. And this appears to be a precision issue, though again not on your part. From what I&#39;ve looked up, small alphas are the problem. For example, if you used <code>#111111FF</code> then you&#39;d get the same color back out."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1638427573,"post_id":70193951,"comment_id":124086268,"body_markdown":"@kleopatra If you&#39;re interested, this seems to be the least amount of code needed to reproduce the problem as I understand it: https://ideone.com/mTC2eq (have to copy the code to your machine so you can include JavaFX).","body":"@kleopatra If you&#39;re interested, this seems to be the least amount of code needed to reproduce the problem as I understand it: <a href=\"https://ideone.com/mTC2eq\" rel=\"nofollow noreferrer\">ideone.com/mTC2eq</a> (have to copy the code to your machine so you can include JavaFX)."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1638566447,"post_id":70193951,"comment_id":124132008,"body_markdown":"Thanks @Slaw that&#39;s a perfect summary, the context I&#39;m in had me confused about where the problem was, so a minimal example did not seem feasible. I removed all the distracting stuff and simplified the question to the core problem you narrowed it to so you can provide a real answer if you&#39;d like. It does sound like my later edit was correct. Not sure it rises to the level of JFX bug but definitely not the behavior I&#39;d expect.","body":"Thanks @Slaw that&#39;s a perfect summary, the context I&#39;m in had me confused about where the problem was, so a minimal example did not seem feasible. I removed all the distracting stuff and simplified the question to the core problem you narrowed it to so you can provide a real answer if you&#39;d like. It does sound like my later edit was correct. Not sure it rises to the level of JFX bug but definitely not the behavior I&#39;d expect."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1638570879,"post_id":70193951,"comment_id":124133059,"body_markdown":"Also, even extracting all the pixels using `PixelFormat.getIntArgbInstance()` still gives you the &quot;wrong&quot; color. I can update the example to show that, if you want.","body":"Also, even extracting all the pixels using <code>PixelFormat.getIntArgbInstance()</code> still gives you the &quot;wrong&quot; color. I can update the example to show that, if you want."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1638573334,"post_id":70193951,"comment_id":124133537,"body_markdown":"Thanks - if you have anything helpful you&#39;d like to add, feel free!","body":"Thanks - if you have anything helpful you&#39;d like to add, feel free!"}],"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1686163941,"creation_date":1638416668,"question_id":70193951,"body_markdown":"Using the following code: \r\n\r\n    import javafx.scene.image.PixelReader;\r\n    import javafx.scene.image.PixelWriter;\r\n    import javafx.scene.image.WritableImage;\r\n    import javafx.scene.paint.Color;\r\n     \r\n    public class Main {\r\n     \r\n      public static void main(String[] args) {\r\n        WritableImage image = new WritableImage(1, 1);\r\n        PixelReader reader = image.getPixelReader();\r\n        PixelWriter writer = image.getPixelWriter();\r\n     \r\n        System.out.println(&quot;Initial color: &quot; + reader.getColor(0, 0));\r\n     \r\n        Color newColor = Color.web(&quot;#11111111&quot;);\r\n        System.out.println(&quot;Setting color: &quot; + newColor);\r\n     \r\n        writer.setColor(0, 0, newColor);\r\n        System.out.println(&quot;Updated color: &quot; + reader.getColor(0, 0));\r\n      }\r\n    }\r\n\r\nResult:\r\n\r\n```none \r\nInitial color: 0x00000000\r\nSetting color: 0x11111111\r\nUpdated color: 0x0f0f0f11\r\n```\r\n\r\nWhy doesn&#39;t the Color returned equal the color set? Possibly a floating point calculation error while converting from premultiplied alpha PixelFormat and back? \r\n\r\nThanks @Slaw for narrowing the problem with the above example. \r\n\r\n---\r\n\r\n**Edit 6-7-2023:** Taking a look at this again with more details in an attempt to make the issue painfully obvious. \r\n\r\nScreencaps are from Class &quot;PixelUtils&quot;...\r\n\r\nCorrect value for R (and G and B) is 17 (the original 0x11 value each color component was set to) shown here initially: \r\n\r\n[![Correct value for R is 17 shown here initially][1]][1]\r\n\r\nAfter conversion to ARGB Pre(multipled) they convert to 1:\r\n\r\n[![Each component set to 1][2]][2]\r\n\r\nGiving us R:1 G:1 B:1 A:17 with the components premultipled, okay fine...\r\n\r\nThen we come to this optimized thing deep inside PixelReader.getColor() (PixelUtils.PreToNonPre()): \r\n\r\n[![PixelUtils.PreToNonPre()][3]][3]\r\n\r\nStarting with R=1 B=1 G=1 A=17 as calculated before, confirmed correct via debugger, this optimized (I guess) code does some math which gives us an incorrect value of 15 (0x0f) rather than the original 17 (0x11), the difference between the &quot;Setting&quot; and &quot;Updated&quot; color components documented originally. \r\n\r\nThat code comes up with 15 (0x0f) instead of 17 (0x11). Naw dawg, that&#39;s wrong: \r\n\r\n[![15 instead of 17][4]][4]\r\n\r\nNotably it IS possible at least in this case to come up with the correct value using just 1,1,1,17, using more intuitive code: \r\n\r\n[![Nonoptimized version][5]][5]\r\n\r\nI question the value of this optimization if that&#39;s what the original method is meant to be, but more importantly now I think this rises to the level of a bug so assuming I&#39;m at a correct conclusion, the question is: \r\n\r\n***Is this worth attempting to get fixed in OpenJFX?*** (Or would it run into resistance to leave it as-is for some reason?)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tklZF.png\r\n  [2]: https://i.stack.imgur.com/hop4V.png\r\n  [3]: https://i.stack.imgur.com/sgBgo.png\r\n  [4]: https://i.stack.imgur.com/FfNEB.png\r\n  [5]: https://i.stack.imgur.com/dJZKJ.png","title":"JavaFX PixelWriter/Reader get() value not == to set() value","body":"<p>Using the following code:</p>\n<pre><code>import javafx.scene.image.PixelReader;\nimport javafx.scene.image.PixelWriter;\nimport javafx.scene.image.WritableImage;\nimport javafx.scene.paint.Color;\n \npublic class Main {\n \n  public static void main(String[] args) {\n    WritableImage image = new WritableImage(1, 1);\n    PixelReader reader = image.getPixelReader();\n    PixelWriter writer = image.getPixelWriter();\n \n    System.out.println(&quot;Initial color: &quot; + reader.getColor(0, 0));\n \n    Color newColor = Color.web(&quot;#11111111&quot;);\n    System.out.println(&quot;Setting color: &quot; + newColor);\n \n    writer.setColor(0, 0, newColor);\n    System.out.println(&quot;Updated color: &quot; + reader.getColor(0, 0));\n  }\n}\n</code></pre>\n<p>Result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Initial color: 0x00000000\nSetting color: 0x11111111\nUpdated color: 0x0f0f0f11\n</code></pre>\n<p>Why doesn't the Color returned equal the color set? Possibly a floating point calculation error while converting from premultiplied alpha PixelFormat and back?</p>\n<p>Thanks @Slaw for narrowing the problem with the above example.</p>\n<hr />\n<p><strong>Edit 6-7-2023:</strong> Taking a look at this again with more details in an attempt to make the issue painfully obvious.</p>\n<p>Screencaps are from Class &quot;PixelUtils&quot;...</p>\n<p>Correct value for R (and G and B) is 17 (the original 0x11 value each color component was set to) shown here initially:</p>\n<p><a href=\"https://i.stack.imgur.com/tklZF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tklZF.png\" alt=\"Correct value for R is 17 shown here initially\" /></a></p>\n<p>After conversion to ARGB Pre(multipled) they convert to 1:</p>\n<p><a href=\"https://i.stack.imgur.com/hop4V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hop4V.png\" alt=\"Each component set to 1\" /></a></p>\n<p>Giving us R:1 G:1 B:1 A:17 with the components premultipled, okay fine...</p>\n<p>Then we come to this optimized thing deep inside PixelReader.getColor() (PixelUtils.PreToNonPre()):</p>\n<p><a href=\"https://i.stack.imgur.com/sgBgo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sgBgo.png\" alt=\"PixelUtils.PreToNonPre()\" /></a></p>\n<p>Starting with R=1 B=1 G=1 A=17 as calculated before, confirmed correct via debugger, this optimized (I guess) code does some math which gives us an incorrect value of 15 (0x0f) rather than the original 17 (0x11), the difference between the &quot;Setting&quot; and &quot;Updated&quot; color components documented originally.</p>\n<p>That code comes up with 15 (0x0f) instead of 17 (0x11). Naw dawg, that's wrong:</p>\n<p><a href=\"https://i.stack.imgur.com/FfNEB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FfNEB.png\" alt=\"15 instead of 17\" /></a></p>\n<p>Notably it IS possible at least in this case to come up with the correct value using just 1,1,1,17, using more intuitive code:</p>\n<p><a href=\"https://i.stack.imgur.com/dJZKJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dJZKJ.png\" alt=\"Nonoptimized version\" /></a></p>\n<p>I question the value of this optimization if that's what the original method is meant to be, but more importantly now I think this rises to the level of a bug so assuming I'm at a correct conclusion, the question is:</p>\n<p><em><strong>Is this worth attempting to get fixed in OpenJFX?</strong></em> (Or would it run into resistance to leave it as-is for some reason?)</p>\n"},{"tags":["java","maven","automated-tests","allure"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1686162488,"post_id":76426117,"comment_id":134762852,"body_markdown":"Do you want to use Junit 4 or 5?  The imports are 4, the pom.xml is 5.","body":"Do you want to use Junit 4 or 5?  The imports are 4, the pom.xml is 5."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686164207,"post_id":76426117,"comment_id":134763157,"body_markdown":"You are mixing JUnit 5, TestNG and JUnit 4. You have defined TestNG, JUnit Jupiter (aka JUnit 5) as a direct dependency in your pom file which will not work at all... also having a transitive dependency for JUnit 4, furthermore allure-junit5 which has a transitive dep to JUnit 5 etc.... also using and old version of maven-surefire-plugin (https://maven.apache.org/plugins/) You have to decide which framework you want to use...","body":"You are mixing JUnit 5, TestNG and JUnit 4. You have defined TestNG, JUnit Jupiter (aka JUnit 5) as a direct dependency in your pom file which will not work at all... also having a transitive dependency for JUnit 4, furthermore allure-junit5 which has a transitive dep to JUnit 5 etc.... also using and old version of maven-surefire-plugin (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) You have to decide which framework you want to use..."},{"owner":{"account_id":20299994,"reputation":123,"user_id":18502120,"display_name":"Максим"},"score":0,"creation_date":1686167274,"post_id":76426117,"comment_id":134763705,"body_markdown":"I don&#39;t know which one is required for my imports","body":"I don&#39;t know which one is required for my imports"}],"answers":[{"tags":[],"owner":{"account_id":4656000,"reputation":81,"user_id":3771599,"display_name":"Rajesh734"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686163896,"creation_date":1686163896,"answer_id":76426269,"question_id":76426117,"body_markdown":"Your package dependencies have included **JUnit5** dependencies. \r\n\r\nDo either one of the below:\r\n---------------------------\r\nUse JUnit4 dependencies by adding the below package:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.13.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nor\r\n--\r\nUpdate your code to use the following:\r\n\r\n* `@AfterClass` to `@AfterAll`\r\n* `@BeforeClass` to `@BeforeAll`\r\n* `Assert.asserEqulas` to `Assertions.assertEquals`\r\n\r\nUpdate your imports with the following\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.BeforeAll;\r\n```\r\n","title":"Maven project problem with Allure dependencies","body":"<p>Your package dependencies have included <strong>JUnit5</strong> dependencies.</p>\n<h2>Do either one of the below:</h2>\n<p>Use JUnit4 dependencies by adding the below package:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2>or</h2>\n<p>Update your code to use the following:</p>\n<ul>\n<li><code>@AfterClass</code> to <code>@AfterAll</code></li>\n<li><code>@BeforeClass</code> to <code>@BeforeAll</code></li>\n<li><code>Assert.asserEqulas</code> to <code>Assertions.assertEquals</code></li>\n</ul>\n<p>Update your imports with the following</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.BeforeAll;\n</code></pre>\n"}],"owner":{"account_id":20299994,"reputation":123,"user_id":18502120,"display_name":"Максим"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686163896,"creation_date":1686162324,"question_id":76426117,"body_markdown":"    import io.qameta.allure.Allure;\r\n    import io.qameta.allure.Attachment;\r\n    import io.qameta.allure.Step;\r\n    import org.junit.AfterClass;\r\n    import org.junit.Assert;\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.Keys;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.util.UUID;\r\n    \r\n    public class ReportAllure {\r\n        private static WebDriver driver;\r\n    \r\n        @BeforeClass\r\n        public static void setUp() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\MARSHAL\\\\Desktop\\\\Framework\\\\untitled\\\\drivers\\\\chromedriver.exe&quot;);\r\n            driver = new ChromeDriver();\r\n        }\r\n    \r\n        @Test\r\n        @Step(&quot;UI Test&quot;)\r\n        public void openLoginPage() throws InterruptedException {\r\n            // Step 1\r\n            driver.get(&quot;http://127.0.0.1:8000&quot;);\r\n    \r\n            WebElement element = driver.findElement(By.className(&quot;log&quot;));\r\n            element.click();\r\n            WebElement element1 = driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;Sign up&#39;)]&quot;));\r\n            element1.click();\r\n            Thread.sleep(1000);\r\n    \r\n    \r\n            // Step 2\r\n            String generatedUsername = random();\r\n    \r\n            WebElement usernameInput = driver.findElement(By.name(&quot;username&quot;));\r\n            usernameInput.sendKeys(generatedUsername);\r\n    \r\n            String generatedPassword = random();\r\n            WebElement passwordInput = driver.findElement(By.name(&quot;password1&quot;));\r\n            passwordInput.sendKeys(generatedPassword);\r\n    \r\n            WebElement passwordConfirm = driver.findElement(By.name(&quot;password2&quot;));\r\n            passwordConfirm.sendKeys(generatedPassword);\r\n    \r\n            WebElement registerButton = driver.findElement(By.cssSelector(&quot;input[value=&#39;Register&#39;]&quot;));\r\n            registerButton.click();\r\n            Thread.sleep(1000);\r\n    \r\n            // Step 3\r\n            WebElement spanElement = driver.findElement(By.id(&quot;un&quot;));\r\n            String actualText = spanElement.getText();\r\n            String expectedText = generatedUsername;\r\n            Assert.assertEquals(actualText, expectedText, &quot;unexpected message&quot;);\r\n            Thread.sleep(1000);\r\n    \r\n            // Step 4\r\n            WebElement hpclick = driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;HP&#39;)]&quot;));\r\n            hpclick.click();\r\n            WebElement hpLaptop = driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;Ноутбук HP Pavilion 14-dv0047ua&#39;)]&quot;));\r\n            hpLaptop.click();\r\n            Thread.sleep(1000);\r\n    \r\n            // Step 5\r\n            WebElement comment = driver.findElement(By.cssSelector(&quot;input[placeholder=&#39;Write your message here..&#39;]&quot;));\r\n            comment.sendKeys(&quot;Good Product&quot;);\r\n            comment.sendKeys(Keys.ENTER);\r\n            Thread.sleep(3000);\r\n        }\r\n    \r\n    \r\n        @AfterClass\r\n        public static void tearDown() {\r\n            if (driver != null) {\r\n                driver.quit();\r\n            }\r\n        }\r\n    \r\n        private String random() {\r\n            return UUID.randomUUID().toString().substring(0, 8).replace(&quot;-&quot;, &quot;&quot;);\r\n        }\r\n    \r\n        @Attachment(&quot;Screenshot&quot;)\r\n        public static byte[] takeScreenshot() {\r\n            return ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n        }\r\n    \r\n        @Attachment(&quot;HTML Code&quot;)\r\n        public static ByteArrayInputStream attachHtmlCode(String htmlCode) {\r\n            return new ByteArrayInputStream(htmlCode.getBytes());\r\n        }\r\n    \r\n        @Attachment(&quot;Request&quot;)\r\n        public static String attachRequest(String request) {\r\n            return request;\r\n        }\r\n    \r\n        @Attachment(&quot;Response&quot;)\r\n        public static String attachResponse(String response) {\r\n            return response;\r\n        }\r\n    \r\n        @Step(&quot;Step with Screenshot&quot;)\r\n        public static void stepWithScreenshot() {\r\n            takeScreenshot();\r\n        }\r\n    \r\n        @Step(&quot;Step with HTML Code&quot;)\r\n        public static void stepWithHtmlCode(String htmlCode) {\r\n            attachHtmlCode(htmlCode);\r\n        }\r\n    \r\n        @Step(&quot;Step with Request and Response&quot;)\r\n        public static void stepWithRequestAndResponse(String request, String response) {\r\n            attachRequest(request);\r\n            attachResponse(response);\r\n        }\r\n    }                                                                                                  \r\n    ---pom.xml---\r\n       &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;untitled&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;Archetype - untitled&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;properties&gt;\r\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n          &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n          &lt;version&gt;7.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n          &lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;version&gt;4.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n          &lt;version&gt;4.5.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n          &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n          &lt;version&gt;3.36.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;version&gt;5.8.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n          &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n          &lt;version&gt;4.4.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n          &lt;version&gt;2.16.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n          &lt;version&gt;5.4.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n              &lt;argLine&gt;\r\n                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n              &lt;/argLine&gt;\r\n              &lt;properties&gt;\r\n                &lt;property&gt;\r\n                  &lt;name&gt;listener&lt;/name&gt;\r\n                  &lt;value&gt;io.qameta.allure.junit4.AllureJunit4&lt;/value&gt;\r\n                &lt;/property&gt;\r\n              &lt;/properties&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;                                                                                      \r\n Problem is that                                                                          \r\n\r\n    import org.junit.AfterClass;\r\n    import org.junit.Assert;\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Test;\r\n\r\n are highlighted with red(cannot resolve) and i don&#39;t know what is the reason because all dependencies are included in my pom.xml so what can be the problem?","title":"Maven project problem with Allure dependencies","body":"<pre><code>import io.qameta.allure.Allure;\nimport io.qameta.allure.Attachment;\nimport io.qameta.allure.Step;\nimport org.junit.AfterClass;\nimport org.junit.Assert;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport java.io.ByteArrayInputStream;\nimport java.util.UUID;\n\npublic class ReportAllure {\n    private static WebDriver driver;\n\n    @BeforeClass\n    public static void setUp() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\MARSHAL\\\\Desktop\\\\Framework\\\\untitled\\\\drivers\\\\chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n    }\n\n    @Test\n    @Step(&quot;UI Test&quot;)\n    public void openLoginPage() throws InterruptedException {\n        // Step 1\n        driver.get(&quot;http://127.0.0.1:8000&quot;);\n\n        WebElement element = driver.findElement(By.className(&quot;log&quot;));\n        element.click();\n        WebElement element1 = driver.findElement(By.xpath(&quot;//a[contains(text(), 'Sign up')]&quot;));\n        element1.click();\n        Thread.sleep(1000);\n\n\n        // Step 2\n        String generatedUsername = random();\n\n        WebElement usernameInput = driver.findElement(By.name(&quot;username&quot;));\n        usernameInput.sendKeys(generatedUsername);\n\n        String generatedPassword = random();\n        WebElement passwordInput = driver.findElement(By.name(&quot;password1&quot;));\n        passwordInput.sendKeys(generatedPassword);\n\n        WebElement passwordConfirm = driver.findElement(By.name(&quot;password2&quot;));\n        passwordConfirm.sendKeys(generatedPassword);\n\n        WebElement registerButton = driver.findElement(By.cssSelector(&quot;input[value='Register']&quot;));\n        registerButton.click();\n        Thread.sleep(1000);\n\n        // Step 3\n        WebElement spanElement = driver.findElement(By.id(&quot;un&quot;));\n        String actualText = spanElement.getText();\n        String expectedText = generatedUsername;\n        Assert.assertEquals(actualText, expectedText, &quot;unexpected message&quot;);\n        Thread.sleep(1000);\n\n        // Step 4\n        WebElement hpclick = driver.findElement(By.xpath(&quot;//a[contains(text(), 'HP')]&quot;));\n        hpclick.click();\n        WebElement hpLaptop = driver.findElement(By.xpath(&quot;//a[contains(text(), 'Ноутбук HP Pavilion 14-dv0047ua')]&quot;));\n        hpLaptop.click();\n        Thread.sleep(1000);\n\n        // Step 5\n        WebElement comment = driver.findElement(By.cssSelector(&quot;input[placeholder='Write your message here..']&quot;));\n        comment.sendKeys(&quot;Good Product&quot;);\n        comment.sendKeys(Keys.ENTER);\n        Thread.sleep(3000);\n    }\n\n\n    @AfterClass\n    public static void tearDown() {\n        if (driver != null) {\n            driver.quit();\n        }\n    }\n\n    private String random() {\n        return UUID.randomUUID().toString().substring(0, 8).replace(&quot;-&quot;, &quot;&quot;);\n    }\n\n    @Attachment(&quot;Screenshot&quot;)\n    public static byte[] takeScreenshot() {\n        return ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n    }\n\n    @Attachment(&quot;HTML Code&quot;)\n    public static ByteArrayInputStream attachHtmlCode(String htmlCode) {\n        return new ByteArrayInputStream(htmlCode.getBytes());\n    }\n\n    @Attachment(&quot;Request&quot;)\n    public static String attachRequest(String request) {\n        return request;\n    }\n\n    @Attachment(&quot;Response&quot;)\n    public static String attachResponse(String response) {\n        return response;\n    }\n\n    @Step(&quot;Step with Screenshot&quot;)\n    public static void stepWithScreenshot() {\n        takeScreenshot();\n    }\n\n    @Step(&quot;Step with HTML Code&quot;)\n    public static void stepWithHtmlCode(String htmlCode) {\n        attachHtmlCode(htmlCode);\n    }\n\n    @Step(&quot;Step with Request and Response&quot;)\n    public static void stepWithRequestAndResponse(String request, String response) {\n        attachRequest(request);\n        attachResponse(response);\n    }\n}                                                                                                  \n---pom.xml---\n   &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;untitled&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Archetype - untitled&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n      &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;6.1.7.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;4.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n      &lt;version&gt;4.5.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n      &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n      &lt;version&gt;3.36.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;5.8.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n      &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n      &lt;version&gt;4.4.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n      &lt;version&gt;2.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;5.4.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n          &lt;argLine&gt;\n            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n          &lt;/argLine&gt;\n          &lt;properties&gt;\n            &lt;property&gt;\n              &lt;name&gt;listener&lt;/name&gt;\n              &lt;value&gt;io.qameta.allure.junit4.AllureJunit4&lt;/value&gt;\n            &lt;/property&gt;\n          &lt;/properties&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;                                                                                      \n</code></pre>\n<p>Problem is that</p>\n<pre><code>import org.junit.AfterClass;\nimport org.junit.Assert;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\n</code></pre>\n<p>are highlighted with red(cannot resolve) and i don't know what is the reason because all dependencies are included in my pom.xml so what can be the problem?</p>\n"},{"tags":["java","junit","google-truth"],"answers":[{"tags":[],"owner":{"account_id":3128021,"reputation":19974,"user_id":2646526,"display_name":"heenenee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468953727,"creation_date":1468953727,"answer_id":38466196,"question_id":38434769,"body_markdown":"There is currently no built-in way to verify an expected `Exception` with `google-truth`.  You can do one of the following:\r\n\r\n - Use [one of the JUnit approaches][1], such as `expected=`, as you mentioned\r\n - Write tests the &quot;ugly&quot; way by surrounding the exercise/act/when portion of your test with a `try...catch`, as @c0der mentioned, [which is what the unit tests for `guava` do][2]\r\n - Make [your own][3] fluent assertions, [similar to what AssertJ already has][4], like the following example\r\n\r\nI believe `google-truth` does not have any similar functionality because it [supports Java 1.6][5].\r\n\r\n    import com.google.common.truth.FailureStrategy;\r\n    import com.google.common.truth.Subject;\r\n    import com.google.common.truth.SubjectFactory;\r\n    import org.junit.Test;\r\n    \r\n    import java.util.concurrent.Callable;\r\n    \r\n    import static com.google.common.truth.Truth.assertAbout;\r\n    \r\n    public class MathTest {\r\n        @Test\r\n        public void addExact_throws_ArithmeticException_upon_overflow() {\r\n            assertAbout(callable(&quot;addExact&quot;))\r\n                .that(() -&gt; Math.addExact(Integer.MAX_VALUE, 1))\r\n                .willThrow(ArithmeticException.class);\r\n        }\r\n    \r\n        static &lt;T&gt; SubjectFactory&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt; callable(String displaySubject) {\r\n            return new SubjectFactory&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt;() {\r\n                @Override public CallableSubject&lt;T&gt; getSubject(FailureStrategy fs, Callable&lt;T&gt; that) {\r\n                    return new CallableSubject&lt;&gt;(fs, that, displaySubject);\r\n                }\r\n            };\r\n        }\r\n    \r\n        static class CallableSubject&lt;T&gt; extends Subject&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt; {\r\n            private final String displaySubject;\r\n    \r\n            CallableSubject(FailureStrategy failureStrategy, Callable&lt;T&gt; callable, String displaySubject) {\r\n                super(failureStrategy, callable);\r\n                this.displaySubject = displaySubject;\r\n            }\r\n    \r\n            @Override protected String getDisplaySubject() {\r\n                return displaySubject;\r\n            }\r\n    \r\n            void willThrow(Class&lt;?&gt; clazz) {\r\n                try {\r\n                    getSubject().call();\r\n                    fail(&quot;throws a&quot;, clazz.getName());\r\n                } catch (Exception e) {\r\n                    if (!clazz.isInstance(e)) {\r\n                        failWithBadResults(&quot;throws a&quot;, clazz.getName(), &quot;throws a&quot;, e.getClass().getName());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/156503/2646526\r\n  [2]: https://github.com/google/guava/blob/693e95371e544e927a2f6c3f3ebcb9b3d6c2f525/guava-tests/test/com/google/common/math/StatsTest.java#L575-L611\r\n  [3]: https://github.com/google/truth/blob/release_0_28/core/src/test/java/com/google/common/truth/delegation/DelegationTest.java#L28\r\n  [4]: http://joel-costigliola.github.io/assertj/assertj-core-features-highlight.html#exception-assertion\r\n  [5]: https://github.com/google/truth/blob/release_0_28/core/pom.xml#L80-L81","title":"How to test that an expected exception is being thrown using google-truth?","body":"<p>There is currently no built-in way to verify an expected <code>Exception</code> with <code>google-truth</code>.  You can do one of the following:</p>\n\n<ul>\n<li>Use <a href=\"https://stackoverflow.com/q/156503/2646526\">one of the JUnit approaches</a>, such as <code>expected=</code>, as you mentioned</li>\n<li>Write tests the \"ugly\" way by surrounding the exercise/act/when portion of your test with a <code>try...catch</code>, as @c0der mentioned, <a href=\"https://github.com/google/guava/blob/693e95371e544e927a2f6c3f3ebcb9b3d6c2f525/guava-tests/test/com/google/common/math/StatsTest.java#L575-L611\" rel=\"nofollow noreferrer\">which is what the unit tests for <code>guava</code> do</a></li>\n<li>Make <a href=\"https://github.com/google/truth/blob/release_0_28/core/src/test/java/com/google/common/truth/delegation/DelegationTest.java#L28\" rel=\"nofollow noreferrer\">your own</a> fluent assertions, <a href=\"http://joel-costigliola.github.io/assertj/assertj-core-features-highlight.html#exception-assertion\" rel=\"nofollow noreferrer\">similar to what AssertJ already has</a>, like the following example</li>\n</ul>\n\n<p>I believe <code>google-truth</code> does not have any similar functionality because it <a href=\"https://github.com/google/truth/blob/release_0_28/core/pom.xml#L80-L81\" rel=\"nofollow noreferrer\">supports Java 1.6</a>.</p>\n\n<pre><code>import com.google.common.truth.FailureStrategy;\nimport com.google.common.truth.Subject;\nimport com.google.common.truth.SubjectFactory;\nimport org.junit.Test;\n\nimport java.util.concurrent.Callable;\n\nimport static com.google.common.truth.Truth.assertAbout;\n\npublic class MathTest {\n    @Test\n    public void addExact_throws_ArithmeticException_upon_overflow() {\n        assertAbout(callable(\"addExact\"))\n            .that(() -&gt; Math.addExact(Integer.MAX_VALUE, 1))\n            .willThrow(ArithmeticException.class);\n    }\n\n    static &lt;T&gt; SubjectFactory&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt; callable(String displaySubject) {\n        return new SubjectFactory&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt;() {\n            @Override public CallableSubject&lt;T&gt; getSubject(FailureStrategy fs, Callable&lt;T&gt; that) {\n                return new CallableSubject&lt;&gt;(fs, that, displaySubject);\n            }\n        };\n    }\n\n    static class CallableSubject&lt;T&gt; extends Subject&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt; {\n        private final String displaySubject;\n\n        CallableSubject(FailureStrategy failureStrategy, Callable&lt;T&gt; callable, String displaySubject) {\n            super(failureStrategy, callable);\n            this.displaySubject = displaySubject;\n        }\n\n        @Override protected String getDisplaySubject() {\n            return displaySubject;\n        }\n\n        void willThrow(Class&lt;?&gt; clazz) {\n            try {\n                getSubject().call();\n                fail(\"throws a\", clazz.getName());\n            } catch (Exception e) {\n                if (!clazz.isInstance(e)) {\n                    failWithBadResults(\"throws a\", clazz.getName(), \"throws a\", e.getClass().getName());\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135003,"reputation":4701,"user_id":337516,"accept_rate":50,"display_name":"Christian Gruber"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1541615225,"creation_date":1470812661,"answer_id":38866403,"question_id":38434769,"body_markdown":"[updated]\r\n\r\nThe Truth authors recommend using JUnit 4.13/5&#39;s `assertThrows()` mechanism, since this doesn&#39;t really need support in Truth.  This would look more like:\r\n\r\n    SpecificException e = \r\n        assertThrows(SpecificException.class, () -&gt; doSomethingThatThrows());\r\n    assertThat(e).hasMessageThat().contains(&quot;blah blah blah&quot;);\r\n    assertThat(e).hasCauseThat().isInstanceOf(IllegalStateException.class);\r\n    assertThat(e).hasCauseThat().hasMessageThat().contains(&quot;blah&quot;);\r\n\r\nThis is recommended over try/fail/catch as it is terser, avoids the &quot;missing fail&quot; problem, and returns an object that can be asserted-on using the `ThrowableSubject` in Truth. \r\n\r\nIf you do not have `assertThrows()`, then please use the try/fail/catch pattern, as this is clear and explicit.\r\n\r\n    try {\r\n      doSomethingThatThrows(); \r\n      fail(&quot;method should throw&quot;);\r\n    } catch (SpecificException e) {\r\n      // ensure that e was thrown from the right code-path\r\n      // especially important if it&#39;s something as frequent\r\n      // as an IllegalArgumentException, etc.\r\n      assertThat(e).hasMessage(&quot;blah blah blah&quot;);\r\n    }\r\n\r\nWhile `@Rule ExpectedException` and `@Test(exception=...)` exist in JUnit, these aren&#39;t recommended by the Truth team, insofar as they have some subtle (and less subtle) ways you can write tests that pass but which should fail.\r\n\r\nWhile this is also true of try/fail/catch, internally Google mitigates this with the use of [error-prone], which provides a static compile-time check to ensure that this pattern doesn&#39;t omit the fail(), etc.  It is highly recommended that you use error-prone or another static analysis check to catch these.  Sadly, the rule-based and annotation-based methods aren&#39;t as easily amenable to static analysis as this try/catch block.\r\n\r\n[error-prone]: http://github.com/google/error-prone","title":"How to test that an expected exception is being thrown using google-truth?","body":"<p>[updated]</p>\n\n<p>The Truth authors recommend using JUnit 4.13/5's <code>assertThrows()</code> mechanism, since this doesn't really need support in Truth.  This would look more like:</p>\n\n<pre><code>SpecificException e = \n    assertThrows(SpecificException.class, () -&gt; doSomethingThatThrows());\nassertThat(e).hasMessageThat().contains(\"blah blah blah\");\nassertThat(e).hasCauseThat().isInstanceOf(IllegalStateException.class);\nassertThat(e).hasCauseThat().hasMessageThat().contains(\"blah\");\n</code></pre>\n\n<p>This is recommended over try/fail/catch as it is terser, avoids the \"missing fail\" problem, and returns an object that can be asserted-on using the <code>ThrowableSubject</code> in Truth. </p>\n\n<p>If you do not have <code>assertThrows()</code>, then please use the try/fail/catch pattern, as this is clear and explicit.</p>\n\n<pre><code>try {\n  doSomethingThatThrows(); \n  fail(\"method should throw\");\n} catch (SpecificException e) {\n  // ensure that e was thrown from the right code-path\n  // especially important if it's something as frequent\n  // as an IllegalArgumentException, etc.\n  assertThat(e).hasMessage(\"blah blah blah\");\n}\n</code></pre>\n\n<p>While <code>@Rule ExpectedException</code> and <code>@Test(exception=...)</code> exist in JUnit, these aren't recommended by the Truth team, insofar as they have some subtle (and less subtle) ways you can write tests that pass but which should fail.</p>\n\n<p>While this is also true of try/fail/catch, internally Google mitigates this with the use of <a href=\"http://github.com/google/error-prone\" rel=\"noreferrer\">error-prone</a>, which provides a static compile-time check to ensure that this pattern doesn't omit the fail(), etc.  It is highly recommended that you use error-prone or another static analysis check to catch these.  Sadly, the rule-based and annotation-based methods aren't as easily amenable to static analysis as this try/catch block.</p>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1511940074,"creation_date":1496739628,"answer_id":44385683,"question_id":38434769,"body_markdown":"As an update here, we&#39;ve moved away from the pattern Christian described, and [Issue #219](https://github.com/google/truth/issues/219) has been closed in favor of JUnit&#39;s [`expectThrows()`](https://github.com/junit-team/junit4/blob/master/src/main/java/org/junit/Assert.java#L996) (coming in [4.13][1], similar methods already exists in [TestNG&#39;s `Assert`](https://jitpack.io/com/github/cbeust/testng/master/javadoc/org/testng/Assert.html#expectThrows-java.lang.Class-org.testng.Assert.ThrowingRunnable-)).\r\n\r\nIn tandem with `expectThrows()` you can use Truth to make [assertions about the thrown exception][2]. So Christian&#39;s example would now be:\r\n\r\n    SpecificException expected = expectThrows(\r\n        SpecificException.class, () -&gt; doSomethingThatThrows());\r\n    assertThat(expected).hasMessageThat().contains(&quot;blah blah blah&quot;);\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit4/wiki/4.13-release-notes#pull-request-1154-add-assertthrows-and-expectthrows\r\n  [2]: http://google.github.io/truth/api/latest/com/google/common/truth/ThrowableSubject.html","title":"How to test that an expected exception is being thrown using google-truth?","body":"<p>As an update here, we've moved away from the pattern Christian described, and <a href=\"https://github.com/google/truth/issues/219\" rel=\"nofollow noreferrer\">Issue #219</a> has been closed in favor of JUnit's <a href=\"https://github.com/junit-team/junit4/blob/master/src/main/java/org/junit/Assert.java#L996\" rel=\"nofollow noreferrer\"><code>expectThrows()</code></a> (coming in <a href=\"https://github.com/junit-team/junit4/wiki/4.13-release-notes#pull-request-1154-add-assertthrows-and-expectthrows\" rel=\"nofollow noreferrer\">4.13</a>, similar methods already exists in <a href=\"https://jitpack.io/com/github/cbeust/testng/master/javadoc/org/testng/Assert.html#expectThrows-java.lang.Class-org.testng.Assert.ThrowingRunnable-\" rel=\"nofollow noreferrer\">TestNG's <code>Assert</code></a>).</p>\n\n<p>In tandem with <code>expectThrows()</code> you can use Truth to make <a href=\"http://google.github.io/truth/api/latest/com/google/common/truth/ThrowableSubject.html\" rel=\"nofollow noreferrer\">assertions about the thrown exception</a>. So Christian's example would now be:</p>\n\n<pre><code>SpecificException expected = expectThrows(\n    SpecificException.class, () -&gt; doSomethingThatThrows());\nassertThat(expected).hasMessageThat().contains(\"blah blah blah\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9452465,"reputation":91,"user_id":7478194,"display_name":"Tantallion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686163852,"creation_date":1686163852,"answer_id":76426261,"question_id":38434769,"body_markdown":"I&#39;m not keen to add a JUnit dependency just for assertThrows, especially since I&#39;m making my Jar distribution self-test when run, so the testing frameworks are inside it.\r\n\r\nI&#39;m currently using:\r\n```java\r\ntry {\r\n    [Manipulate object &quot;o&quot;]\r\n    assertWithMessage(&quot;Manipulating %s should have thrown an UnsupportedOperationException&quot;, o).fail();\r\n} catch (UnsupportedOperationException expected) {\r\n   \r\n assertThat(expected.getMessage()).isEqualTo(&quot;&lt;message&gt;&quot;);\r\n}\r\n```\r\n\r\n,","title":"How to test that an expected exception is being thrown using google-truth?","body":"<p>I'm not keen to add a JUnit dependency just for assertThrows, especially since I'm making my Jar distribution self-test when run, so the testing frameworks are inside it.</p>\n<p>I'm currently using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    [Manipulate object &quot;o&quot;]\n    assertWithMessage(&quot;Manipulating %s should have thrown an UnsupportedOperationException&quot;, o).fail();\n} catch (UnsupportedOperationException expected) {\n   \n assertThat(expected.getMessage()).isEqualTo(&quot;&lt;message&gt;&quot;);\n}\n</code></pre>\n<p>,</p>\n"}],"owner":{"account_id":1552983,"reputation":4834,"user_id":1444943,"accept_rate":67,"display_name":"Imanol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16253,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":38866403,"answer_count":4,"score":28,"last_activity_date":1686163852,"creation_date":1468838830,"question_id":38434769,"body_markdown":"I just want to test if an exception with a given message is being thrown using google-truth.\r\n\r\nIs quite easy to do that using junit using `@Test(expected=`, but I&#39;m unable to figure out how to do that with truth. There are no samples around [ThrowableSubject][1].\r\n\r\nShould I stick with plain `JUnit` for these kind of tests?\r\n\r\n  [1]: https://google.github.io/truth/api/0.25/com/google/common/truth/ThrowableSubject.html ","title":"How to test that an expected exception is being thrown using google-truth?","body":"<p>I just want to test if an exception with a given message is being thrown using google-truth.</p>\n\n<p>Is quite easy to do that using junit using <code>@Test(expected=</code>, but I'm unable to figure out how to do that with truth. There are no samples around <a href=\"https://google.github.io/truth/api/0.25/com/google/common/truth/ThrowableSubject.html\" rel=\"noreferrer\">ThrowableSubject</a>.</p>\n\n<p>Should I stick with plain <code>JUnit</code> for these kind of tests?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686162922,"post_id":76426106,"comment_id":134762916,"body_markdown":"The issue is because you have the column name &#39;sourcething&#39; used twice. One probably by mistake at the field &#39;source&#39;.","body":"The issue is because you have the column name &#39;sourcething&#39; used twice. One probably by mistake at the field &#39;source&#39;."},{"owner":{"account_id":9051618,"reputation":3658,"user_id":6741482,"accept_rate":95,"display_name":"pstatix"},"score":0,"creation_date":1686163291,"post_id":76426106,"comment_id":134762982,"body_markdown":"@Mar-Z its not by mistake, the `Thing` entity is being added in, and I want to map the entities in the `thing` table by their `name` which is what is populated in the `sourcething` column. So inside `sourcething` is a string that may say `ABC` and in one of the rows of the `thing` table in the `name` column is `ABC` and we want to map them.","body":"@Mar-Z its not by mistake, the <code>Thing</code> entity is being added in, and I want to map the entities in the <code>thing</code> table by their <code>name</code> which is what is populated in the <code>sourcething</code> column. So inside <code>sourcething</code> is a string that may say <code>ABC</code> and in one of the rows of the <code>thing</code> table in the <code>name</code> column is <code>ABC</code> and we want to map them."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686163789,"post_id":76426106,"comment_id":134763067,"body_markdown":"Yes, but in the entity Consumer you have another field called &#39;source&#39; which name in the Column annotation is &#39;sourcething&#39; too.","body":"Yes, but in the entity Consumer you have another field called &#39;source&#39; which name in the Column annotation is &#39;sourcething&#39; too."},{"owner":{"account_id":9051618,"reputation":3658,"user_id":6741482,"accept_rate":95,"display_name":"pstatix"},"score":0,"creation_date":1686165279,"post_id":76426106,"comment_id":134763350,"body_markdown":"@Mar-Z is `@JoinColumn` attempting to create another `sourcething` column? Is it not possible to tell an entity to have a field that uses an existing column and join from it?","body":"@Mar-Z is <code>@JoinColumn</code> attempting to create another <code>sourcething</code> column? Is it not possible to tell an entity to have a field that uses an existing column and join from it?"}],"answers":[{"tags":[],"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686163797,"creation_date":1686163797,"answer_id":76426258,"question_id":76426106,"body_markdown":"I do not know your exact use case but the table defintions look strange to me. First of all an identifier (@ID) should be a numeric value or at least an UUID but not an arbitrary string. Why do not store the numeric ID in the table you mentioned pointing to that string? Something like this:\r\n\r\n    @Entity\r\n    public class Thing {\r\n    \r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Id\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;thingname&quot;)\r\n        private String name;\r\n    }\r\n    \r\n    @Entity\r\n    public class Consumer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;sourcething_id&quot;)\r\n        private Thing thing;\r\n    }\r\n\r\nBy this you can also access the string bby ```Consumer.thing.name```\r\n\r\nBTW: the constraint violation presumably occurrs as you defined the sourcething as ```@JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;, insertable = false, updatable = false)``` but at the same time you insert a value using ```@Column(name = &quot;sourcething&quot;) private String source;``` column.","title":"Hibernate @JoinColumn reusing column name to map to another entity","body":"<p>I do not know your exact use case but the table defintions look strange to me. First of all an identifier (@ID) should be a numeric value or at least an UUID but not an arbitrary string. Why do not store the numeric ID in the table you mentioned pointing to that string? Something like this:</p>\n<pre><code>@Entity\npublic class Thing {\n\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Id\n    private Long id;\n\n    @Column(name = &quot;thingname&quot;)\n    private String name;\n}\n\n@Entity\npublic class Consumer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;sourcething_id&quot;)\n    private Thing thing;\n}\n</code></pre>\n<p>By this you can also access the string bby <code>Consumer.thing.name</code></p>\n<p>BTW: the constraint violation presumably occurrs as you defined the sourcething as <code>@JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;, insertable = false, updatable = false)</code> but at the same time you insert a value using <code>@Column(name = &quot;sourcething&quot;) private String source;</code> column.</p>\n"}],"owner":{"account_id":9051618,"reputation":3658,"user_id":6741482,"accept_rate":95,"display_name":"pstatix"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76426258,"answer_count":1,"score":0,"last_activity_date":1686163797,"creation_date":1686162255,"question_id":76426106,"body_markdown":"I have a column that contains a string, representing the name (and thereby primary key) of another entity, to which I am attempting to join the columns to store the entity in the parent. The entities look like so:\r\n\r\n    @Entity\r\n    public class Thing {\r\n    \r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Id\r\n        @Column(name = &quot;thingname&quot;)\r\n        private String name;\r\n    }\r\n    \r\n    @Entity\r\n    public class Consumer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        \r\n        @Column(name = &quot;sourcething&quot;)\r\n        private String source;\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;)\r\n        private Thing thing;\r\n    }\r\n\r\nThis will throw a mapping error, denoting duplicate column mappings, so from [this question](https://stackoverflow.com/questions/12414926/joincolumns-repeated-column-in-mapping-for-entity) I added the additional arguments:\r\n\r\n    @JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;, insertable = false, updatable = false)\r\n\r\nHowever, this beings to fail with `ConstraintViolationExceptions` during unit testing.\r\n\r\nIs there something I am missing for completing this mapping/column join?","title":"Hibernate @JoinColumn reusing column name to map to another entity","body":"<p>I have a column that contains a string, representing the name (and thereby primary key) of another entity, to which I am attempting to join the columns to store the entity in the parent. The entities look like so:</p>\n<pre><code>@Entity\npublic class Thing {\n\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Id\n    @Column(name = &quot;thingname&quot;)\n    private String name;\n}\n\n@Entity\npublic class Consumer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    \n    @Column(name = &quot;sourcething&quot;)\n    private String source;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;)\n    private Thing thing;\n}\n</code></pre>\n<p>This will throw a mapping error, denoting duplicate column mappings, so from <a href=\"https://stackoverflow.com/questions/12414926/joincolumns-repeated-column-in-mapping-for-entity\">this question</a> I added the additional arguments:</p>\n<pre><code>@JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;, insertable = false, updatable = false)\n</code></pre>\n<p>However, this beings to fail with <code>ConstraintViolationExceptions</code> during unit testing.</p>\n<p>Is there something I am missing for completing this mapping/column join?</p>\n"},{"tags":["java","spring-data-jpa","couchbase","spring-boot-starter"],"comments":[{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1685452565,"post_id":76353703,"comment_id":134659467,"body_markdown":"Would you please show the actual connection string/url attribute value (or at least a redacted version of it)?","body":"Would you please show the actual connection string/url attribute value (or at least a redacted version of it)?"}],"answers":[{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686163790,"creation_date":1686163790,"answer_id":76426256,"question_id":76353703,"body_markdown":"Are you attempting to use JPA or Couchbase? It sounds like you&#39;re supplying a couchbase url to JPA.\r\nThere is a spring-data-couchbae example at https://github.com/couchbaselabs/try-cb-spring\r\n\r\nAnd more at https://github.com/spring-projects/spring-data-examples/","title":"Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured. SpringBott 3.1.0","body":"<p>Are you attempting to use JPA or Couchbase? It sounds like you're supplying a couchbase url to JPA.\nThere is a spring-data-couchbae example at <a href=\"https://github.com/couchbaselabs/try-cb-spring\" rel=\"nofollow noreferrer\">https://github.com/couchbaselabs/try-cb-spring</a></p>\n<p>And more at <a href=\"https://github.com/spring-projects/spring-data-examples/\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-examples/</a></p>\n"}],"owner":{"account_id":25855930,"reputation":55,"user_id":19589178,"display_name":"Emanuel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686163790,"creation_date":1685309933,"question_id":76353703,"body_markdown":"I have a project with these dependencies:\r\n\r\n        id &quot;org.springframework.boot&quot; version &quot;3.1.0&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-data-couchbase&quot;\r\n        implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.2&quot;)\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:3.1.0&#39;\r\n\r\nin my application.yml file, I am giving couchbase url like this:\r\n\r\n    spring:\r\n      couchbase:\r\n        connection-string:\r\n\r\nAnd I am getting this error:\r\n\r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n        Consider the following:\r\n        \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n        \tIf you have database settings to be loaded from a particular profile you may need to activate it (the profiles local are currently active).\r\n\r\nAny ideas?","title":"Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured. SpringBott 3.1.0","body":"<p>I have a project with these dependencies:</p>\n<pre><code>    id &quot;org.springframework.boot&quot; version &quot;3.1.0&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-couchbase&quot;\n    implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.2&quot;)\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:3.1.0'\n</code></pre>\n<p>in my application.yml file, I am giving couchbase url like this:</p>\n<pre><code>spring:\n  couchbase:\n    connection-string:\n</code></pre>\n<p>And I am getting this error:</p>\n<pre><code>Description:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\n    Consider the following:\n        If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n        If you have database settings to be loaded from a particular profile you may need to activate it (the profiles local are currently active).\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","gradle","logging","slf4j","lombok"],"answers":[{"tags":[],"owner":{"account_id":1165784,"reputation":14935,"user_id":1144157,"accept_rate":75,"display_name":"Steephen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686162029,"creation_date":1686162029,"answer_id":76426081,"question_id":76426012,"body_markdown":"If you are using IntelliJ as your IDE, please include lombok plugin also in your gradle file:\r\n\r\nhttps://plugins.gradle.org/plugin/io.freefair.lombok\r\n\r\nIn case of Eclipse, you need to manually run the lombok jar file to resolve this issue. \r\nDetailed description is available [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/lombok-ide","title":"@Slf4j Lombok annotation not working with Java + Gradle","body":"<p>If you are using IntelliJ as your IDE, please include lombok plugin also in your gradle file:</p>\n<p><a href=\"https://plugins.gradle.org/plugin/io.freefair.lombok\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/plugin/io.freefair.lombok</a></p>\n<p>In case of Eclipse, you need to manually run the lombok jar file to resolve this issue.\nDetailed description is available <a href=\"https://www.baeldung.com/lombok-ide\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686163512,"creation_date":1686163512,"answer_id":76426228,"question_id":76426012,"body_markdown":"The @Slf4j annotation is for another logging library. You have a dependency for Log4j library. Then you should use @Log4j Lombok annotation.\r\n\r\nOn the other hand if you want to use Slf4j then change the dependency to org.slf4j","title":"@Slf4j Lombok annotation not working with Java + Gradle","body":"<p>The @Slf4j annotation is for another logging library. You have a dependency for Log4j library. Then you should use @Log4j Lombok annotation.</p>\n<p>On the other hand if you want to use Slf4j then change the dependency to org.slf4j</p>\n"}],"owner":{"account_id":24683316,"reputation":1,"user_id":18576802,"display_name":"Revlis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686163512,"creation_date":1686161453,"question_id":76426012,"body_markdown":"I&#39;m fairly new to Java and trying to implement a logger with @Slf4j annotation provided by lombok. From my understanding it should be fairly simple, just provide the annotation to the class and it will create the method for that class but it seems to not work.\r\n\r\nMy code looks like this:\r\n\r\n```\r\npackage MyApp;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\npublic class MyApp {\r\n    public static void main(String[] args) {\r\n        log.info(&quot;hello&quot;); IDEA gives this error: Cannot resolve method &#39;info(String)&#39;\r\n    }\r\n}\r\n```\r\n\r\nWhen trying to run the code i get this:\r\nerror: package org.slf4j does not exist\r\n@Slf4j\r\n^\r\n\r\nMy build.gradle looks like this:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;org.apache.logging.log4j:log4j:2.20.0&#39;\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    \r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI have already tried enabling annotations.\r\n\r\nAlso, I saw this implementation working in another project and i tryed simply copying the dependencies, but it still didn&#39;t work.","title":"@Slf4j Lombok annotation not working with Java + Gradle","body":"<p>I'm fairly new to Java and trying to implement a logger with @Slf4j annotation provided by lombok. From my understanding it should be fairly simple, just provide the annotation to the class and it will create the method for that class but it seems to not work.</p>\n<p>My code looks like this:</p>\n<pre><code>package MyApp;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class MyApp {\n    public static void main(String[] args) {\n        log.info(&quot;hello&quot;); IDEA gives this error: Cannot resolve method 'info(String)'\n    }\n}\n</code></pre>\n<p>When trying to run the code i get this:\nerror: package org.slf4j does not exist\n@Slf4j\n^</p>\n<p>My build.gradle looks like this:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n    implementation 'org.apache.logging.log4j:log4j:2.20.0'\n    compileOnly 'org.projectlombok:lombok:1.18.28'\n    annotationProcessor 'org.projectlombok:lombok:1.18.28'\n    \n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I have already tried enabling annotations.</p>\n<p>Also, I saw this implementation working in another project and i tryed simply copying the dependencies, but it still didn't work.</p>\n"},{"tags":["java","eclipse","jpa","generator","metamodel"],"owner":{"account_id":2818343,"reputation":23,"user_id":2422777,"display_name":"Bill Wohler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686163460,"creation_date":1686163460,"question_id":76426220,"body_markdown":"I&#39;m trying to use the JPA Metamodel generator in Eclipse using the recipes offered in these pages, but Eclipse still isn&#39;t generating the desired files and therefore isn&#39;t recognizing the use of the metamodel classes and is therefore reporting a `&lt;class&gt;_` cannot be resolved to a variable error and not offering a quick fix of importing the `&lt;class&gt;_`.\r\n\r\n1. Ran the Properties command of the project&#39;s context menu,and enabled annotation processing, and configured the source directories as shown below. The generated `&lt;class&gt;_.java` files should appear in those directories, right?\r\n2. Since the files didn&#39;t get generated, I added `hibernate-jpamodelgen-6.2.2.Final.jar` to the Factory Path.\r\n3. Since the files still didn&#39;t get generated, I added `jaxb-impl-3.0.2.jar` to the Factory Path.\r\n\r\nSince the files are still not getting generated, what would you suggest? Note that I&#39;m using Java 17 and Eclipse 2023-03.\r\n\r\nAs a workaround, I added `annotationProcessor &#39;org.hibernate.orm:hibernate-jpamodelgen:6.2.+&#39;` to build.gradle, which successfully generated the `&lt;class&gt;_.java` files and placed them in `build/generated/sources/annotationProcessor/java/main` directory. After adding this directory to the project&#39;s classpath with the Properties &gt; Java Build Path &gt; Source &gt; Add Folder command, Eclipse was able to import the `&lt;class&gt;_.java` files, but of course refactoring doesn&#39;t work as desired.\r\n\r\n[![Annotation Processing settings](https://i.stack.imgur.com/BHrEU.png)](https://i.stack.imgur.com/BHrEU.png)","title":"Eclipse isn&#39;t generating JPA Metamodel files","body":"<p>I'm trying to use the JPA Metamodel generator in Eclipse using the recipes offered in these pages, but Eclipse still isn't generating the desired files and therefore isn't recognizing the use of the metamodel classes and is therefore reporting a <code>&lt;class&gt;_</code> cannot be resolved to a variable error and not offering a quick fix of importing the <code>&lt;class&gt;_</code>.</p>\n<ol>\n<li>Ran the Properties command of the project's context menu,and enabled annotation processing, and configured the source directories as shown below. The generated <code>&lt;class&gt;_.java</code> files should appear in those directories, right?</li>\n<li>Since the files didn't get generated, I added <code>hibernate-jpamodelgen-6.2.2.Final.jar</code> to the Factory Path.</li>\n<li>Since the files still didn't get generated, I added <code>jaxb-impl-3.0.2.jar</code> to the Factory Path.</li>\n</ol>\n<p>Since the files are still not getting generated, what would you suggest? Note that I'm using Java 17 and Eclipse 2023-03.</p>\n<p>As a workaround, I added <code>annotationProcessor 'org.hibernate.orm:hibernate-jpamodelgen:6.2.+'</code> to build.gradle, which successfully generated the <code>&lt;class&gt;_.java</code> files and placed them in <code>build/generated/sources/annotationProcessor/java/main</code> directory. After adding this directory to the project's classpath with the Properties &gt; Java Build Path &gt; Source &gt; Add Folder command, Eclipse was able to import the <code>&lt;class&gt;_.java</code> files, but of course refactoring doesn't work as desired.</p>\n<p><a href=\"https://i.stack.imgur.com/BHrEU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BHrEU.png\" alt=\"Annotation Processing settings\" /></a></p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686163388,"creation_date":1686163388,"question_id":76426212,"body_markdown":"I&#39;m new to Elasticsearch. In traditional JPA, I would generate timestamps like this\r\n```java\r\n@NoArgsConstructor\r\n@Getter\r\n@Entity\r\n@EntityListeners(AuditingEntityListener.class) // ←\r\n@Table(name = &quot;questions&quot;)\r\npublic class Question {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @CreatedDate // ←\r\n    @Column(name = &quot;created_date&quot;, nullable = false)\r\n    private LocalDateTime createdDate;\r\n\r\n    // the rest is omitted for brevity\r\n\r\n```\r\nHowever, the same combination of the same `@EntityListeners(AuditingEntityListener.class)` + `@CreatedDate`/`@ModifiedDate` wouldn&#39;t work with Elastic since `@EntityListeners` is from `javax.persistence` which has nothing to do with Elastic and other noSQL systems. I came across this SO [answer][1]. So, if I understand correctly, I should do these things\r\n 1. Have my `@Document` implement `Persistable`\r\n 2. Still have `@CreatedDate` and `@ModifiedDate` (even though they are *still*, as of this writing, [not in the docs][2])\r\n 3. Include `@EnableElasticsearchAuditing` in your `@Configuration` class\r\n\r\nIs that enough? Some questions I have in mind\r\n\r\n1. Do your `createdDate`/`modifiedDate` have to be of certain type? Would `LocalDateTime` be fine?\r\n2. Will the timestamps truly reflect the client-side timezone?\r\n3. Is `@Field(type = FieldType.Date, format = DateFormat.basic_date_time)` required? Or would some nice default conversions happen without extra involvement on my side? The Spring documentation referenced above does include them for date fields *but not other fields* which starts to look purposeful to me (but since the docs are apparently not perfectly maintained, it just as well may mean nothing at all)\r\n\r\nIn summary, **how can your createdDate and modifedDate fields be automatically initialized with client-side timestamps in Elasticsearch?**\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67225213/21530803\r\n  [2]: https://docs.spring.io/spring-data/elasticsearch/docs/4.2.0/reference/html/#elasticsearch.auditing","title":"How can your createdDate and modifedDate fields be automatically initialized with client-side timestamps in Elasticsearch?","body":"<p>I'm new to Elasticsearch. In traditional JPA, I would generate timestamps like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@Getter\n@Entity\n@EntityListeners(AuditingEntityListener.class) // ←\n@Table(name = &quot;questions&quot;)\npublic class Question {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\n    private Long id;\n\n    @NotNull\n    @CreatedDate // ←\n    @Column(name = &quot;created_date&quot;, nullable = false)\n    private LocalDateTime createdDate;\n\n    // the rest is omitted for brevity\n\n</code></pre>\n<p>However, the same combination of the same <code>@EntityListeners(AuditingEntityListener.class)</code> + <code>@CreatedDate</code>/<code>@ModifiedDate</code> wouldn't work with Elastic since <code>@EntityListeners</code> is from <code>javax.persistence</code> which has nothing to do with Elastic and other noSQL systems. I came across this SO <a href=\"https://stackoverflow.com/a/67225213/21530803\">answer</a>. So, if I understand correctly, I should do these things</p>\n<ol>\n<li>Have my <code>@Document</code> implement <code>Persistable</code></li>\n<li>Still have <code>@CreatedDate</code> and <code>@ModifiedDate</code> (even though they are <em>still</em>, as of this writing, <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.2.0/reference/html/#elasticsearch.auditing\" rel=\"nofollow noreferrer\">not in the docs</a>)</li>\n<li>Include <code>@EnableElasticsearchAuditing</code> in your <code>@Configuration</code> class</li>\n</ol>\n<p>Is that enough? Some questions I have in mind</p>\n<ol>\n<li>Do your <code>createdDate</code>/<code>modifiedDate</code> have to be of certain type? Would <code>LocalDateTime</code> be fine?</li>\n<li>Will the timestamps truly reflect the client-side timezone?</li>\n<li>Is <code>@Field(type = FieldType.Date, format = DateFormat.basic_date_time)</code> required? Or would some nice default conversions happen without extra involvement on my side? The Spring documentation referenced above does include them for date fields <em>but not other fields</em> which starts to look purposeful to me (but since the docs are apparently not perfectly maintained, it just as well may mean nothing at all)</li>\n</ol>\n<p>In summary, <strong>how can your createdDate and modifedDate fields be automatically initialized with client-side timestamps in Elasticsearch?</strong></p>\n"},{"tags":["java","selenide"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1686155421,"post_id":76425196,"comment_id":134761461,"body_markdown":"While `Thread.sleep()` is certainly not advisable, this is not the same as Selenium implicit or explicit waits. Who advised you NOT to use explicit wait functions and why? This is certainly bad advise. Of the two I mentioned, explicit waits are preferred IMO. The reason for using these Selenium waits is to allow pages to fully load before attempting to interact with elements on a page.","body":"While <code>Thread.sleep()</code> is certainly not advisable, this is not the same as Selenium implicit or explicit waits. Who advised you NOT to use explicit wait functions and why? This is certainly bad advise. Of the two I mentioned, explicit waits are preferred IMO. The reason for using these Selenium waits is to allow pages to fully load before attempting to interact with elements on a page."},{"owner":{"account_id":10789468,"reputation":1,"user_id":7937490,"display_name":"Daniel"},"score":0,"creation_date":1686161767,"post_id":76425196,"comment_id":134762723,"body_markdown":"Regardless, why wouldn&#39;t the waitUntilFlubberActive() function serve the same purpose as an explicit wait? If I say something should be visible, shouldn&#39;t that make it wait?","body":"Regardless, why wouldn&#39;t the waitUntilFlubberActive() function serve the same purpose as an explicit wait? If I say something should be visible, shouldn&#39;t that make it wait?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1686163383,"post_id":76425196,"comment_id":134762998,"body_markdown":"Actually, not &quot;regardless.&quot; I just realized you tagged this as &quot;selenium-webdriver&quot; and &quot;selenide&quot;. These are two different libraries and you are using &quot;selenide.&quot; Now the advise makes more sense. You should be using the wait mechanisms Selenide provides, not Selenium. Since I do not know Selenide like I know Selenium, I cannot advise you further. I would need to get up to speed in order to help you.","body":"Actually, not &quot;regardless.&quot; I just realized you tagged this as &quot;selenium-webdriver&quot; and &quot;selenide&quot;. These are two different libraries and you are using &quot;selenide.&quot; Now the advise makes more sense. You should be using the wait mechanisms Selenide provides, not Selenium. Since I do not know Selenide like I know Selenium, I cannot advise you further. I would need to get up to speed in order to help you."}],"owner":{"account_id":10789468,"reputation":1,"user_id":7937490,"display_name":"Daniel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686163267,"creation_date":1686153797,"question_id":76425196,"body_markdown":"I am having Selenium fill out a form for me, but it doesn&#39;t seem to be waiting for a form element to load even though I have an explicitly defined wait function for the form item. What might be happening?\r\n\r\n\r\n\r\n\r\n\r\n\r\nHere is the wait function in **IndexInformationQuestions.java**:\r\n\r\n\r\n```\r\nprivate static RadioGroup flubber = RadioGroup.withId(&quot;Flubber&quot;);\r\n\r\npublic static RadioGroup waitUntilFlubberActive(){\r\n    flubber.getOptionLabel(&quot;Flubber 0&quot;).shouldBe(enabled).scrollTo().shouldBe(visible);\r\n    return flubber;\r\n  }\r\n\r\n\r\n  protected SelenideElement getOptionLabel(String text) {\r\n    String xpath =\r\n            &quot;.//label[contains(text(),\\&quot;&quot;\r\n                    + text\r\n                    + &quot;\\&quot;)]&quot;;\r\n    return this.formGroupDiv.getDiv().$x(xpath);\r\n  }\r\n  public RadioGroup waitUntilActive() {\r\n    flubber.getOptionLabel(&quot;Flubber 0&quot;).shouldBe(enabled).scrollTo().shouldBe(visible);\r\n    return flubber;\r\n  }\r\n```\r\n\r\n\r\nAnd here&#39;s an excerpt from the main set of tests in **MichiganPsCreateIndexTest.java** when filling out the form. The point is to call the function to wait for the form item called **flubber** and select the radio button for **Flubber 0**.\r\n\r\n```\r\nIndexInformationQuestions.waitUntilFlubberActive();\r\nIndexInformationQuestions.selectFlubber(&quot;Flubber 0&quot;);\r\n```\r\n\r\nWhen I run the test, our site throws an error that this required element on the form has not been filled out. Is something wrong with the wait function? \r\n\r\nNote : We have been advised NOT to use any explicit functions like wait.until or time.sleep().","title":"Selenium wait function is not waiting","body":"<p>I am having Selenium fill out a form for me, but it doesn't seem to be waiting for a form element to load even though I have an explicitly defined wait function for the form item. What might be happening?</p>\n<p>Here is the wait function in <strong>IndexInformationQuestions.java</strong>:</p>\n<pre><code>private static RadioGroup flubber = RadioGroup.withId(&quot;Flubber&quot;);\n\npublic static RadioGroup waitUntilFlubberActive(){\n    flubber.getOptionLabel(&quot;Flubber 0&quot;).shouldBe(enabled).scrollTo().shouldBe(visible);\n    return flubber;\n  }\n\n\n  protected SelenideElement getOptionLabel(String text) {\n    String xpath =\n            &quot;.//label[contains(text(),\\&quot;&quot;\n                    + text\n                    + &quot;\\&quot;)]&quot;;\n    return this.formGroupDiv.getDiv().$x(xpath);\n  }\n  public RadioGroup waitUntilActive() {\n    flubber.getOptionLabel(&quot;Flubber 0&quot;).shouldBe(enabled).scrollTo().shouldBe(visible);\n    return flubber;\n  }\n</code></pre>\n<p>And here's an excerpt from the main set of tests in <strong>MichiganPsCreateIndexTest.java</strong> when filling out the form. The point is to call the function to wait for the form item called <strong>flubber</strong> and select the radio button for <strong>Flubber 0</strong>.</p>\n<pre><code>IndexInformationQuestions.waitUntilFlubberActive();\nIndexInformationQuestions.selectFlubber(&quot;Flubber 0&quot;);\n</code></pre>\n<p>When I run the test, our site throws an error that this required element on the form has not been filled out. Is something wrong with the wait function?</p>\n<p>Note : We have been advised NOT to use any explicit functions like wait.until or time.sleep().</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1688450169,"post_id":76426168,"comment_id":135071832,"body_markdown":"Do you want your second textView to be completely below your imageView? Because that is possible with RelativeLayout. But if you want your textView to start on right of imageView and then take the space below imageView also, I don&#39;t think its possible.","body":"Do you want your second textView to be completely below your imageView? Because that is possible with RelativeLayout. But if you want your textView to start on right of imageView and then take the space below imageView also, I don&#39;t think its possible."}],"owner":{"account_id":28767449,"reputation":1,"user_id":22032011,"display_name":"Dev Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686162895,"creation_date":1686162895,"question_id":76426168,"body_markdown":"i have used a imageview and textview and i want my text to fill the gap after my image\r\n\r\nim attaching a sshot of what im expecting below\r\n[text is not filling gap below imageview](https://i.stack.imgur.com/TcwsR.png)\r\n\r\n```\r\n        &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatImageView\r\n                android:id=&quot;@+id/AppCompatImageView2&quot;\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;160dp&quot;\r\n                android:src=&quot;@drawable/play_store_512&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;androidx.appcompat.widget.AppCompatTextView\r\n                    android:id=&quot;@+id/AppCompatTextView2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/roboto_bold&quot;\r\n                    android:text=&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n                &lt;androidx.legacy.widget.Space\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;8dp&quot; /&gt;\r\n\r\n                &lt;androidx.appcompat.widget.AppCompatTextView\r\n                    android:id=&quot;@+id/AppCompatTextView3&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/roboto_regular&quot;\r\n                    android:text=&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum is simply dummy text of the printing and typesetting industry.&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n```\r\n\r\n\r\nA solution to fix this gap below imageview","title":"android xml textview take space after a imageview","body":"<p>i have used a imageview and textview and i want my text to fill the gap after my image</p>\n<p>im attaching a sshot of what im expecting below\n<a href=\"https://i.stack.imgur.com/TcwsR.png\" rel=\"nofollow noreferrer\">text is not filling gap below imageview</a></p>\n<pre><code>        &lt;androidx.appcompat.widget.LinearLayoutCompat\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatImageView\n                android:id=&quot;@+id/AppCompatImageView2&quot;\n                android:layout_width=&quot;160dp&quot;\n                android:layout_height=&quot;160dp&quot;\n                android:src=&quot;@drawable/play_store_512&quot; /&gt;\n\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatTextView\n                    android:id=&quot;@+id/AppCompatTextView2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/roboto_bold&quot;\n                    android:text=&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;20sp&quot;\n                    tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n                &lt;androidx.legacy.widget.Space\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;8dp&quot; /&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatTextView\n                    android:id=&quot;@+id/AppCompatTextView3&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/roboto_regular&quot;\n                    android:text=&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum is simply dummy text of the printing and typesetting industry.&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot;\n                    tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n</code></pre>\n<p>A solution to fix this gap below imageview</p>\n"},{"tags":["java","numpy"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1686107797,"post_id":76419588,"comment_id":134752438,"body_markdown":"byte format? are you referring to raw bytes? based on the javadoc: &quot;FileWriter is meant for writing streams of characters. For writing streams of raw bytes, consider using a FileOutputStream.&quot;","body":"byte format? are you referring to raw bytes? based on the javadoc: &quot;FileWriter is meant for writing streams of characters. For writing streams of raw bytes, consider using a FileOutputStream.&quot;"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1686108261,"post_id":76419588,"comment_id":134752475,"body_markdown":"Where did you read that NumPy uses bytes? The actual documentation says differently: https://numpy.org/devdocs/dev/internals.html. Finding this link required just a quick Google search. You should research more before asking.","body":"Where did you read that NumPy uses bytes? The actual documentation says differently: <a href=\"https://numpy.org/devdocs/dev/internals.html\" rel=\"nofollow noreferrer\">numpy.org/devdocs/dev/internals.html</a>. Finding this link required just a quick Google search. You should research more before asking."},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1686110875,"post_id":76419588,"comment_id":134752682,"body_markdown":"@experiment unit 1998X. Thanks for the clarification! I may need to use FileOutputStream!","body":"@experiment unit 1998X. Thanks for the clarification! I may need to use FileOutputStream!"},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1686111676,"post_id":76419588,"comment_id":134752743,"body_markdown":"@experiment unit 1998X: Do you have an idea what&#39;s the best way to convert a 3d array (double[][][]) into a byte array (byte[])? Because the write() method accepts byte b[]. My 3d array is too large and it&#39;s not efficient to convert the whole 3d array into the byte array at once.","body":"@experiment unit 1998X: Do you have an idea what&#39;s the best way to convert a 3d array (double[][][]) into a byte array (byte[])? Because the write() method accepts byte b[]. My 3d array is too large and it&#39;s not efficient to convert the whole 3d array into the byte array at once."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1686115388,"post_id":76419588,"comment_id":134753075,"body_markdown":"you could take a look at [this](https://stackoverflow.com/q/62470202/16034206). Based on that, you could write the x,y,z sizes of your 3D array if it is not jagged as a header of sorts, then write the whole 3D array. Then, utilise those values when you are trying to read the file.","body":"you could take a look at <a href=\"https://stackoverflow.com/q/62470202/16034206\">this</a>. Based on that, you could write the x,y,z sizes of your 3D array if it is not jagged as a header of sorts, then write the whole 3D array. Then, utilise those values when you are trying to read the file."}],"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686162825,"creation_date":1686105976,"question_id":76419588,"body_markdown":"Following the open question: [Java equivalent for the NumPy multi-dimensional object][1], I ended up implementing my own numerical methods in Java. But it seems that the final output is too big (almost twice larger than NumPy). Python does not have numerical types like int, long, float, or double but I believe NumPy converts everything to the byte.\r\nSince I implemented my program in Java, I had to use those standard numerical types (double[][][], long[][], etc…), and when I save my results into a file through FileWriter, the size of the output is almost twice as larger as the NumPy functions:\r\n\r\n```\r\nFileWriter fstream = new FileWriter(outName, true);\r\nBufferedWriter out = new BufferedWriter(fstream);\r\n\r\nfor (int i = 0; i &lt; nFramesBack; i += 2) {\r\n    double[][] data1 = imageObjArray[i];\r\n    for (int j = 0; j &lt; 128; j++) {\r\n        for (int k = 0; k &lt; 128; k++) {\r\n            imageObjArray[i][j][k] = data1[j][k] * flatfB[j][k];\r\n            out.write(data1[j][k] * flatfB[j][k] + &quot; &quot;);\r\n        }\r\n        out.newLine();\r\n    }\r\n    out.newLine();\r\n}\r\nout.flush();\r\nout.close();\r\n\r\n```\r\nI am looking for a solution to convert my output into a byte format like NumPy.\r\n\r\n  [1]: https://stackoverflow.com/questions/8375558/java-equivalent-for-the-numpy-multi-dimensional-object","title":"Conversion multidimensional arrays Java into byte like NumPy","body":"<p>Following the open question: <a href=\"https://stackoverflow.com/questions/8375558/java-equivalent-for-the-numpy-multi-dimensional-object\">Java equivalent for the NumPy multi-dimensional object</a>, I ended up implementing my own numerical methods in Java. But it seems that the final output is too big (almost twice larger than NumPy). Python does not have numerical types like int, long, float, or double but I believe NumPy converts everything to the byte.\nSince I implemented my program in Java, I had to use those standard numerical types (double[][][], long[][], etc…), and when I save my results into a file through FileWriter, the size of the output is almost twice as larger as the NumPy functions:</p>\n<pre><code>FileWriter fstream = new FileWriter(outName, true);\nBufferedWriter out = new BufferedWriter(fstream);\n\nfor (int i = 0; i &lt; nFramesBack; i += 2) {\n    double[][] data1 = imageObjArray[i];\n    for (int j = 0; j &lt; 128; j++) {\n        for (int k = 0; k &lt; 128; k++) {\n            imageObjArray[i][j][k] = data1[j][k] * flatfB[j][k];\n            out.write(data1[j][k] * flatfB[j][k] + &quot; &quot;);\n        }\n        out.newLine();\n    }\n    out.newLine();\n}\nout.flush();\nout.close();\n\n</code></pre>\n<p>I am looking for a solution to convert my output into a byte format like NumPy.</p>\n"},{"tags":["java","stream","spring-webflux"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1686157526,"post_id":76425541,"comment_id":134761877,"body_markdown":"Where are you going to get thirdItem from? Is it result of sendRequestToCompare(firstItem,secondItem), i.e. firstResponse result?","body":"Where are you going to get thirdItem from? Is it result of sendRequestToCompare(firstItem,secondItem), i.e. firstResponse result?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686163921,"post_id":76425541,"comment_id":134763089,"body_markdown":"please also (little) dive into https://stackoverflow.com/a/513839/592355 (and why `String x == String y` can work out 9 of 10 times, but won&#39;t the other time.)","body":"please also (little) dive into <a href=\"https://stackoverflow.com/a/513839/592355\">stackoverflow.com/a/513839/592355</a> (and why <code>String x == String y</code> can work out 9 of 10 times, but won&#39;t the other time.)"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686158459,"creation_date":1686158459,"answer_id":76425708,"question_id":76425541,"body_markdown":"You probably have to call `Mono.flatMap()`. It requires as an argument a function from the first Mono **result** to another Mono **object** and returns Mono. If you are looking for chain of calls (call service A, then service B and get service B response) - that&#39;s a typical case for the `Mono.flatMap()`.","title":"How to return a value inside or outside a Spring Webflux Mono Subscribe depending on specific test result inside the subscribe","body":"<p>You probably have to call <code>Mono.flatMap()</code>. It requires as an argument a function from the first Mono <strong>result</strong> to another Mono <strong>object</strong> and returns Mono. If you are looking for chain of calls (call service A, then service B and get service B response) - that's a typical case for the <code>Mono.flatMap()</code>.</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686162797,"creation_date":1686159270,"answer_id":76425802,"question_id":76425541,"body_markdown":"I see no use and need of `java.util.stream.*` (though they can co-exist/interact, no need to complicate), but here a (sample, `String`) version of your method:\r\n```lang-java\r\n\r\npublic Mono&lt;String&gt; compute(String first, String second, String third) {\r\n    Mono&lt;String&gt; firstResponse = \r\n        // just demo, call real service instead:\r\n        Mono.just(first);\r\n    return firstResponse.flatMap(s -&gt; { // !\r\n        if (s.equals(&quot;Hello&quot;)) { // some (demo) condition\r\n            Mono&lt;String&gt; secondResponse = \r\n                // just demo, call real service instead:\r\n                Mono.just(s + second + third);\r\n            return secondResponse;\r\n        } else {\r\n            return Mono.just(&quot;;(&quot;); // Mono.empty()/throw exception/...\r\n        }\r\n    });\r\n}\r\n```\r\nIt:\r\n1. returns `secondResponse`, when the item emitted by `firstResponse` equals to `&quot;Hello&quot;` (i.e. meets some condition)\r\n2. otherwise a `Mono` (i.e. &quot;publisher&quot;) of `&quot;;(&quot;` (sad emoji:)\r\n\r\n(without comments and (demo) variables, it is a &quot;one-liner&quot;;)\r\n\r\nThis how an according (junit5, reactor) test can look like:\r\n```lang-java\r\n@Test\r\nvoid testMyCompute() {\r\n    testee.compute(&quot;Hello&quot;, &quot; World&quot;, &quot;!&quot;)\r\n            .as(StepVerifier::create)\r\n            .expectNext(&quot;Hello World!&quot;)\r\n            .verifyComplete();\r\n\r\n    testee.compute(&quot;&quot;, &quot;&quot;, &quot;&quot;)\r\n            .as(StepVerifier::create)\r\n            .expectNext(&quot;;(&quot;)\r\n            .verifyComplete();\r\n\r\n    NullPointerException npe = assertThrows(NullPointerException.class,() -&gt; testee.compute(null, null, null));\r\n    assertNotNull(npe);\r\n}\r\n```\r\n\r\nSo most attention on [`flatMap`][1] operator.\r\n&gt;Transform the item emitted by this Mono *asynchronously*, returning &lt;s&gt;the value *emitted by&lt;/s&gt; another Mono*\r\n\r\n(In opposite to [`map`][2] operator, which does the same *synchronously*, returning *the value* (not a Mono/Publisher) ..e.g. when `secondResponse` would be &quot;blocking&quot;/`String` not `Mono&lt;String&gt;`)\r\n\r\nUseful Links: \r\n- [Core Reference Doc(#which-operator?)][3] \r\n- [Testing Reference Doc](https://projectreactor.io/docs/core/release/reference/index.html#testing)\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\r\n  [3]: https://projectreactor.io/docs/core/release/reference/#which-operator","title":"How to return a value inside or outside a Spring Webflux Mono Subscribe depending on specific test result inside the subscribe","body":"<p>I see no use and need of <code>java.util.stream.*</code> (though they can co-exist/interact, no need to complicate), but here a (sample, <code>String</code>) version of your method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic Mono&lt;String&gt; compute(String first, String second, String third) {\n    Mono&lt;String&gt; firstResponse = \n        // just demo, call real service instead:\n        Mono.just(first);\n    return firstResponse.flatMap(s -&gt; { // !\n        if (s.equals(&quot;Hello&quot;)) { // some (demo) condition\n            Mono&lt;String&gt; secondResponse = \n                // just demo, call real service instead:\n                Mono.just(s + second + third);\n            return secondResponse;\n        } else {\n            return Mono.just(&quot;;(&quot;); // Mono.empty()/throw exception/...\n        }\n    });\n}\n</code></pre>\n<p>It:</p>\n<ol>\n<li>returns <code>secondResponse</code>, when the item emitted by <code>firstResponse</code> equals to <code>&quot;Hello&quot;</code> (i.e. meets some condition)</li>\n<li>otherwise a <code>Mono</code> (i.e. &quot;publisher&quot;) of <code>&quot;;(&quot;</code> (sad emoji:)</li>\n</ol>\n<p>(without comments and (demo) variables, it is a &quot;one-liner&quot;;)</p>\n<p>This how an according (junit5, reactor) test can look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testMyCompute() {\n    testee.compute(&quot;Hello&quot;, &quot; World&quot;, &quot;!&quot;)\n            .as(StepVerifier::create)\n            .expectNext(&quot;Hello World!&quot;)\n            .verifyComplete();\n\n    testee.compute(&quot;&quot;, &quot;&quot;, &quot;&quot;)\n            .as(StepVerifier::create)\n            .expectNext(&quot;;(&quot;)\n            .verifyComplete();\n\n    NullPointerException npe = assertThrows(NullPointerException.class,() -&gt; testee.compute(null, null, null));\n    assertNotNull(npe);\n}\n</code></pre>\n<p>So most attention on <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>flatMap</code></a> operator.</p>\n<blockquote>\n<p>Transform the item emitted by this Mono <em>asynchronously</em>, returning <s>the value <em>emitted by</s> another Mono</em></p>\n</blockquote>\n<p>(In opposite to <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>map</code></a> operator, which does the same <em>synchronously</em>, returning <em>the value</em> (not a Mono/Publisher) ..e.g. when <code>secondResponse</code> would be &quot;blocking&quot;/<code>String</code> not <code>Mono&lt;String&gt;</code>)</p>\n<p>Useful Links:</p>\n<ul>\n<li><a href=\"https://projectreactor.io/docs/core/release/reference/#which-operator\" rel=\"nofollow noreferrer\">Core Reference Doc(#which-operator?)</a></li>\n<li><a href=\"https://projectreactor.io/docs/core/release/reference/index.html#testing\" rel=\"nofollow noreferrer\">Testing Reference Doc</a></li>\n</ul>\n"}],"owner":{"account_id":19111621,"reputation":149,"user_id":13957509,"display_name":"cknelle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76425802,"answer_count":2,"score":2,"last_activity_date":1686162797,"creation_date":1686156780,"question_id":76425541,"body_markdown":"I&#39;m a beginner in Spring Web flux and in java Stream. \r\nI need to call a method that returns a Mono twice depending on the result content of the first call.\r\nBut I don&#39;t know how to make it works and how to respect best practices i.e not to have 2 return statements in my method.\r\n\r\nOff course the code below does not work but I want to show the kind of behaviour that I would like to have. But Don&#39;t know how to have it in a Stream way...\r\n\r\n```\r\n@Slf4j\r\n@Service\r\npublic class Compare {\r\n\r\n\r\n\t@Autowired\r\n\tMyservice myService;\r\n\t\r\n\t\r\n\tpublic Mono&lt;MyResponse&gt; compute(String firstItem,String secondItem, String thirdItem){\r\n\t\t\r\n\t\t// First Comparison between firstItem and secondItem\r\n\t\tMono&lt;MyResponse&gt; firstResponse = myService.sendRequestToCompare(firstItem,secondItem);\r\n\t\t\r\n\r\n\t\tfirstResponse.subscribe(result -&gt; { // Issue on the subscribe method according to my IDE\r\n\t\t\t\r\n\t\t\tif ((result.getResponse().getStatus().toString() == &quot;NOT_SAME&quot;) &amp;&amp; (result.getResponse().getErrorCode() == 201)) {\r\n\t\t\t\r\n\t\t\t// Second Comparison with a third value if the previous first one does not match\r\n\t\t\tMono&lt;MyResponse&gt; secondResponse = myService.sendRequestToCompare(firstItem,thirdItem);\t\t\t\r\n                return secondResponse; // Error raised in IDE says change to return; or change method retrun type to Mono&lt;MyResponse&gt; which is already the case\r\n                break;\t\t\t\t\r\n\t\t\t}\r\n\t\t}, error -&gt; {\r\n\t\t\tlog.error(&quot;The following error happened on getResponse method from myService!&quot;, error);\r\n\t\t});\r\n\t\treturn firstResponse;\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":"How to return a value inside or outside a Spring Webflux Mono Subscribe depending on specific test result inside the subscribe","body":"<p>I'm a beginner in Spring Web flux and in java Stream.\nI need to call a method that returns a Mono twice depending on the result content of the first call.\nBut I don't know how to make it works and how to respect best practices i.e not to have 2 return statements in my method.</p>\n<p>Off course the code below does not work but I want to show the kind of behaviour that I would like to have. But Don't know how to have it in a Stream way...</p>\n<pre><code>@Slf4j\n@Service\npublic class Compare {\n\n\n    @Autowired\n    Myservice myService;\n    \n    \n    public Mono&lt;MyResponse&gt; compute(String firstItem,String secondItem, String thirdItem){\n        \n        // First Comparison between firstItem and secondItem\n        Mono&lt;MyResponse&gt; firstResponse = myService.sendRequestToCompare(firstItem,secondItem);\n        \n\n        firstResponse.subscribe(result -&gt; { // Issue on the subscribe method according to my IDE\n            \n            if ((result.getResponse().getStatus().toString() == &quot;NOT_SAME&quot;) &amp;&amp; (result.getResponse().getErrorCode() == 201)) {\n            \n            // Second Comparison with a third value if the previous first one does not match\n            Mono&lt;MyResponse&gt; secondResponse = myService.sendRequestToCompare(firstItem,thirdItem);          \n                return secondResponse; // Error raised in IDE says change to return; or change method retrun type to Mono&lt;MyResponse&gt; which is already the case\n                break;              \n            }\n        }, error -&gt; {\n            log.error(&quot;The following error happened on getResponse method from myService!&quot;, error);\n        });\n        return firstResponse;\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","ssl","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":9605621,"reputation":37107,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":1,"creation_date":1606484969,"post_id":65037435,"comment_id":114982125,"body_markdown":"I assume everything still works fine, right? (given that it is also reported as `INFO`). One way to try and find more about this is to change log level to `verbose` for these particular logs: `export KAFKA_OPTS=&quot;-Djavax.net.debug=ssl:handshake:verbose&quot;`","body":"I assume everything still works fine, right? (given that it is also reported as <code>INFO</code>). One way to try and find more about this is to change log level to <code>verbose</code> for these particular logs: <code>export KAFKA_OPTS=&quot;-Djavax.net.debug=ssl:handshake:verbose&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5317077,"reputation":1,"user_id":4241599,"display_name":"Mark Moniz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686161987,"creation_date":1686161778,"answer_id":76426050,"question_id":65037435,"body_markdown":"This happens when there is an issue with the client&#39;s certificate. It might be expired or not contain the whole certificate chain. Add the following to your `log4j.properties` if you want to keep the messages but don&#39;t want it clogging up your server.log\r\n```\r\nlog4j.appender.sslHandshakeAppender=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.sslHandshakeAppender.MaxFileSize=100MB\r\nlog4j.appender.sslHandshakeAppender.MaxBackupIndex=10\r\nlog4j.appender.sslHandshakeAppender.Append=true\r\nlog4j.appender.sslHandshakeAppender.File=${kafka.logs.dir}/ssl-handshake.log\r\nlog4j.appender.sslHandshakeAppender.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.sslHandshakeAppender.layout.ConversionPattern=[%d] %p %m (%c)%n\r\n\r\nlog4j.logger.org.apache.kafka.common.network.Selector=INFO, sslHandshakeAppender\r\nlog4j.additivity.org.apache.kafka.common.network.Selector=false\r\n```","title":"Kafka Cluster showing continuous logs &quot;INFO [SocketServer] Failed authentication (SSL handshake failed) (org.apache.kafka.common.network.Selector)&quot;","body":"<p>This happens when there is an issue with the client's certificate. It might be expired or not contain the whole certificate chain. Add the following to your <code>log4j.properties</code> if you want to keep the messages but don't want it clogging up your server.log</p>\n<pre><code>log4j.appender.sslHandshakeAppender=org.apache.log4j.RollingFileAppender\nlog4j.appender.sslHandshakeAppender.MaxFileSize=100MB\nlog4j.appender.sslHandshakeAppender.MaxBackupIndex=10\nlog4j.appender.sslHandshakeAppender.Append=true\nlog4j.appender.sslHandshakeAppender.File=${kafka.logs.dir}/ssl-handshake.log\nlog4j.appender.sslHandshakeAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.sslHandshakeAppender.layout.ConversionPattern=[%d] %p %m (%c)%n\n\nlog4j.logger.org.apache.kafka.common.network.Selector=INFO, sslHandshakeAppender\nlog4j.additivity.org.apache.kafka.common.network.Selector=false\n</code></pre>\n"}],"owner":{"account_id":16325976,"reputation":67,"user_id":11790532,"display_name":"Namrata Khobragade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686161987,"creation_date":1606480355,"question_id":65037435,"body_markdown":"I have 3 nodes of Kafka cluster in the Windows environment. I have recently added security to this existing cluster with the SASL_SSL mechanism.\r\n\r\nHere is my server.properties security configurations on each node:\r\n \r\n```### Security Config\r\nauthroizer.class.name=kafka.security.auth.SimpleAclAuthorizer\r\nsecurity.inter.broker.protocol=SASL_SSL\r\nsasl.mechanism.inter.broker.protocol=PLAIN\r\nsasl.enabled.mechanisms=PLAIN\r\nssl.client.auth=required\r\nssl.enabled.protocols=TLSv1.2\r\nssl.endpoint.identification.algorithm=\r\n\r\nssl.truststore.location=kafka-truststore.jks\r\nssl.truststore.password=******\r\nssl.keystore.location=kafka.keystore.jks\r\nssl.keystore.password=******\r\nssl.key.password=******\r\n```\r\n\r\nEverything is working fine. I am able to store and retrieve messages. Kafka stream applications are properly connected. But from yesterday I am getting continuous logs on all three nodes as\r\n\r\n```\r\nINFO [SocketServer brokerId=2] Failed authentication with host.docker.internal/ip (SSL handshake failed) (org.apache.kafka.common.network.Selector)\r\n```\r\n\r\nAs the log says broker with id 2 is refusing the SSL handshake from the other brokers i.e. 1 &amp; 3.\r\nI have verified the jks certificates and they all are valid.\r\nDid anyone know the reason for such logs?","title":"Kafka Cluster showing continuous logs &quot;INFO [SocketServer] Failed authentication (SSL handshake failed) (org.apache.kafka.common.network.Selector)&quot;","body":"<p>I have 3 nodes of Kafka cluster in the Windows environment. I have recently added security to this existing cluster with the SASL_SSL mechanism.</p>\n<p>Here is my server.properties security configurations on each node:</p>\n<pre><code>authroizer.class.name=kafka.security.auth.SimpleAclAuthorizer\nsecurity.inter.broker.protocol=SASL_SSL\nsasl.mechanism.inter.broker.protocol=PLAIN\nsasl.enabled.mechanisms=PLAIN\nssl.client.auth=required\nssl.enabled.protocols=TLSv1.2\nssl.endpoint.identification.algorithm=\n\nssl.truststore.location=kafka-truststore.jks\nssl.truststore.password=******\nssl.keystore.location=kafka.keystore.jks\nssl.keystore.password=******\nssl.key.password=******\n</code></pre>\n<p>Everything is working fine. I am able to store and retrieve messages. Kafka stream applications are properly connected. But from yesterday I am getting continuous logs on all three nodes as</p>\n<pre><code>INFO [SocketServer brokerId=2] Failed authentication with host.docker.internal/ip (SSL handshake failed) (org.apache.kafka.common.network.Selector)\n</code></pre>\n<p>As the log says broker with id 2 is refusing the SSL handshake from the other brokers i.e. 1 &amp; 3.\nI have verified the jks certificates and they all are valid.\nDid anyone know the reason for such logs?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686161104,"post_id":76423754,"comment_id":134762620,"body_markdown":"Strange question, as the addresses do not match the indices.","body":"Strange question, as the addresses do not match the indices."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686161977,"creation_date":1686161977,"answer_id":76426075,"question_id":76423754,"body_markdown":"The example provided in the question doesn&#39;t provide a valid result.\r\n\r\nHere is the closest to the original, that I could get.\r\n\r\n```java\r\nvoid map_reduce() {\r\n    int[][] Matrix_A = {\r\n        { 0, 0, 0, 0, 0, 0, 1 },\r\n        { 0, 0, 0, 0, 0, 0, 0 },\r\n        { 0, 1, 0, 0, 0, 0, 0 },\r\n        { 1, 0, 0, 0, 0, 0, 0 },\r\n        { 0, 1, 0, 1, 0, 0, 0 },\r\n        { 0, 0, 0, 0, 0, 0, 0 } };\r\n    String[][] Matrix_B = new String[6][2];\r\n    int indexA = 0, indexB, count;\r\n    for (int[] row : Matrix_A) {\r\n        indexB = count = 0;\r\n        for (int value : row) {\r\n            if (value == 1)\r\n                Matrix_B[indexA][count++] = &quot;(%d, %d)&quot;.formatted(indexA, indexB);\r\n            indexB++;\r\n        }\r\n        indexA++;\r\n    }\r\n}\r\n```\r\n\r\n```none\r\n[(0, 6), null]\r\n[null, null]\r\n[(2, 1), null]\r\n[(3, 0), null]\r\n[(4, 1), (4, 3)]\r\n[null, null]\r\n```","title":"How to solve 2d array problem to store addresses of 1&#39;s given in matrix A into matrix B in Java","body":"<p>The example provided in the question doesn't provide a valid result.</p>\n<p>Here is the closest to the original, that I could get.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void map_reduce() {\n    int[][] Matrix_A = {\n        { 0, 0, 0, 0, 0, 0, 1 },\n        { 0, 0, 0, 0, 0, 0, 0 },\n        { 0, 1, 0, 0, 0, 0, 0 },\n        { 1, 0, 0, 0, 0, 0, 0 },\n        { 0, 1, 0, 1, 0, 0, 0 },\n        { 0, 0, 0, 0, 0, 0, 0 } };\n    String[][] Matrix_B = new String[6][2];\n    int indexA = 0, indexB, count;\n    for (int[] row : Matrix_A) {\n        indexB = count = 0;\n        for (int value : row) {\n            if (value == 1)\n                Matrix_B[indexA][count++] = &quot;(%d, %d)&quot;.formatted(indexA, indexB);\n            indexB++;\n        }\n        indexA++;\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[(0, 6), null]\n[null, null]\n[(2, 1), null]\n[(3, 0), null]\n[(4, 1), (4, 3)]\n[null, null]\n</code></pre>\n"}],"owner":{"account_id":28772803,"reputation":3,"user_id":22036177,"display_name":"Syed Zain Imam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76426075,"answer_count":1,"score":-3,"last_activity_date":1686161977,"creation_date":1686144057,"question_id":76423754,"body_markdown":"[Java Problem](https://i.stack.imgur.com/a5ns1.jpg)\r\n\r\nThis problem was given in my OOP exam. In which a 2d array is given containing zeroes and ones. We have to solve it such that I store addresses of ones into output matrix that is smaller in size as compared to the problem matrix and there is quite weird pattern of storing ones into the resultant matrix. ","title":"How to solve 2d array problem to store addresses of 1&#39;s given in matrix A into matrix B in Java","body":"<p><a href=\"https://i.stack.imgur.com/a5ns1.jpg\" rel=\"nofollow noreferrer\">Java Problem</a></p>\n<p>This problem was given in my OOP exam. In which a 2d array is given containing zeroes and ones. We have to solve it such that I store addresses of ones into output matrix that is smaller in size as compared to the problem matrix and there is quite weird pattern of storing ones into the resultant matrix.</p>\n"},{"tags":["java","android","flutter","release"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1633418512,"post_id":69446251,"comment_id":122747289,"body_markdown":"What Java version are you using? Also, are you by any chance using a 32bit version?","body":"What Java version are you using? Also, are you by any chance using a 32bit version?"},{"owner":{"account_id":22813203,"reputation":615,"user_id":16964184,"display_name":"Alaeddine Bouhajja"},"score":0,"creation_date":1633419528,"post_id":69446251,"comment_id":122747659,"body_markdown":"I&#39;m using &#39;openjdk version &quot;11.0.8-internal&quot; 2020-07-14\nOpenJDK Runtime Environment (build 11.0.8-internal+0-adhoc..jdk11u)\nOpenJDK 64-Bit Server VM (build 11.0.8-internal+0-adhoc..jdk11u, mixed mode)&#39;\nand I have 64-bit OS.","body":"I&#39;m using &#39;openjdk version &quot;11.0.8-internal&quot; 2020-07-14 OpenJDK Runtime Environment (build 11.0.8-internal+0-adhoc..jdk11u) OpenJDK 64-Bit Server VM (build 11.0.8-internal+0-adhoc..jdk11u, mixed mode)&#39; and I have 64-bit OS."},{"owner":{"account_id":22813203,"reputation":615,"user_id":16964184,"display_name":"Alaeddine Bouhajja"},"score":0,"creation_date":1633431115,"post_id":69446251,"comment_id":122752192,"body_markdown":"@akortex did you understand anything?","body":"@akortex did you understand anything?"}],"answers":[{"tags":[],"owner":{"account_id":2914299,"reputation":9061,"user_id":2497859,"display_name":"Omatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686161241,"creation_date":1686161241,"answer_id":76425989,"question_id":69446251,"body_markdown":"Judging from the error, it seems that you&#39;re unable to use the configured heap size. Possible causes of this issue is if you&#39;re using a 32-bit JVM. You can try using a heap size lower than 4GB. If you&#39;re using Android Studio, you can follow this [guide][1] to change the max heap size.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/intro/studio-config#adjusting_heap_size","title":"Invalid maximum heap size: -Xmx4608m","body":"<p>Judging from the error, it seems that you're unable to use the configured heap size. Possible causes of this issue is if you're using a 32-bit JVM. You can try using a heap size lower than 4GB. If you're using Android Studio, you can follow this <a href=\"https://developer.android.com/studio/intro/studio-config#adjusting_heap_size\" rel=\"nofollow noreferrer\">guide</a> to change the max heap size.</p>\n"}],"owner":{"account_id":22813203,"reputation":615,"user_id":16964184,"display_name":"Alaeddine Bouhajja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686161241,"creation_date":1633418124,"question_id":69446251,"body_markdown":"When I try to build a release apk I faced this problem: \r\n\r\n&gt; Picked up _JAVA_OPTIONS: -Xmx4608m Invalid maximum heap size:\r\n&gt; -Xmx4608m The specified size exceeds the maximum representable size. Error: Could not create the Java Virtual Machine. Error: A fatal\r\n&gt; exception has occurred. Program will exit.\r\n\r\nand my gradle.properties file:\r\n\r\n    org.gradle.jvmargs=-Xmx4608m\r\n    android.enableR8=true\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nI have tried to change `org.gradle.jvmargs` value to -Xmx512M but I faced this problem too:\r\n\r\n&gt; Execution failed for task &#39;:app:packageRelease&#39;.\r\n&gt; &gt; A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable\r\n&gt;    &gt; Java heap space\r\n\r\nflutter doctor result:\r\n\r\n&gt; Doctor summary (to see all details, run flutter doctor -v): [√]\r\n&gt; Flutter (Channel stable, 2.0.0, on Microsoft Windows [Version\r\n&gt; 10.0.19042.1237], locale en-150) [√] Android toolchain - develop for Android devices (Android SDK version 31.0.0) [√] Chrome - develop for\r\n&gt; the web [!] Android Studio (not installed) [√] VS Code (version\r\n&gt; 1.60.2) [√] Connected device (2 available)\r\n\r\n","title":"Invalid maximum heap size: -Xmx4608m","body":"<p>When I try to build a release apk I faced this problem:</p>\n<blockquote>\n<p>Picked up _JAVA_OPTIONS: -Xmx4608m Invalid maximum heap size:\n-Xmx4608m The specified size exceeds the maximum representable size. Error: Could not create the Java Virtual Machine. Error: A fatal\nexception has occurred. Program will exit.</p>\n</blockquote>\n<p>and my gradle.properties file:</p>\n<pre><code>org.gradle.jvmargs=-Xmx4608m\nandroid.enableR8=true\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>I have tried to change <code>org.gradle.jvmargs</code> value to -Xmx512M but I faced this problem too:</p>\n<blockquote>\n<p>Execution failed for task ':app:packageRelease'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable\nJava heap space</p>\n</blockquote>\n</blockquote>\n<p>flutter doctor result:</p>\n<blockquote>\n<p>Doctor summary (to see all details, run flutter doctor -v): [√]\nFlutter (Channel stable, 2.0.0, on Microsoft Windows [Version\n10.0.19042.1237], locale en-150) [√] Android toolchain - develop for Android devices (Android SDK version 31.0.0) [√] Chrome - develop for\nthe web [!] Android Studio (not installed) [√] VS Code (version\n1.60.2) [√] Connected device (2 available)</p>\n</blockquote>\n"},{"tags":["java","spring","unit-testing"],"comments":[{"owner":{"account_id":224781,"reputation":1624,"user_id":484842,"display_name":"KarlM"},"score":1,"creation_date":1450053916,"post_id":34231426,"comment_id":56257974,"body_markdown":"Is this question relevant \nhttp://stackoverflow.com/questions/10906945/mockito-junit-and-spring","body":"Is this question relevant  <a href=\"http://stackoverflow.com/questions/10906945/mockito-junit-and-spring\" title=\"mockito junit and spring\">stackoverflow.com/questions/10906945/mockito-junit-and-sprin&zwnj;&#8203;g</a>"},{"owner":{"account_id":518032,"reputation":4927,"user_id":2289983,"accept_rate":92,"display_name":"Damian Nadales"},"score":0,"creation_date":1450079261,"post_id":34231426,"comment_id":56265356,"body_markdown":"There are a lot of useful links in the question you linked. Thanks.","body":"There are a lot of useful links in the question you linked. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1449863905,"creation_date":1449863905,"answer_id":34231570,"question_id":34231426,"body_markdown":"A unit test shouldn&#39;t use any Spring configuration. You should simply instantiate your component, and inject dependencies (usually fake ones) manually.\r\n\r\nYou used field injection, which makes it a bit harder. With constructor injection, all you would need to do is\r\n\r\n    Logger logger = LoggerFactory.getLogger(MyController.class);\r\n    MyController controller = new MyController(logger);\r\n\r\nMockito can help injecting fake dependencies for you, though, even when using field injection, thanks to the `@Mock`, `@Spy` and `@InjectMocks` annotations:\r\n\r\n    @Spy\r\n    private Logger logger = LoggerFactory.getLogger(MyController.class);\r\n\r\n    @InjectMocks\r\n    private MyController controller;\r\n\r\n    @Before\r\n    public void prepare() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\nThat said, if I&#39;m not mistaken, you&#39;re not using `@RunWith(SpringJUnit4ClassRunner.class)`, so your test runner doesn&#39;t know anything about Spring, and thus doesn&#39;t create or use any Spring configuration.","title":"Unit test in Spring: injecting a dependency into a component under test","body":"<p>A unit test shouldn't use any Spring configuration. You should simply instantiate your component, and inject dependencies (usually fake ones) manually.</p>\n\n<p>You used field injection, which makes it a bit harder. With constructor injection, all you would need to do is</p>\n\n<pre><code>Logger logger = LoggerFactory.getLogger(MyController.class);\nMyController controller = new MyController(logger);\n</code></pre>\n\n<p>Mockito can help injecting fake dependencies for you, though, even when using field injection, thanks to the <code>@Mock</code>, <code>@Spy</code> and <code>@InjectMocks</code> annotations:</p>\n\n<pre><code>@Spy\nprivate Logger logger = LoggerFactory.getLogger(MyController.class);\n\n@InjectMocks\nprivate MyController controller;\n\n@Before\npublic void prepare() {\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n\n<p>That said, if I'm not mistaken, you're not using <code>@RunWith(SpringJUnit4ClassRunner.class)</code>, so your test runner doesn't know anything about Spring, and thus doesn't create or use any Spring configuration.</p>\n"},{"tags":[],"owner":{"account_id":1089051,"reputation":106,"user_id":1084106,"display_name":"rdChris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686161128,"creation_date":1686161128,"answer_id":76425974,"question_id":34231426,"body_markdown":"I agree that a unit test shouldn&#39;t ideally include spring configuration, however; if you still wish to perform a unit test with Spring managed bean(s) you can use SpringExtension&#39;s parameter resolver.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringExtension.html\r\n\r\nhttps://rieckpil.de/what-the-heck-is-the-springextension-used-for/\r\n\r\n```lang-java\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    @ContextConfiguration(classes = MyTestConfig.class)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    // New addition\r\n    @ExtendWith(SpringExtension.class)\r\n        @Import(\r\n            value = {\r\n        MyController.class,Myconfig.class, MyTestConfig.class\r\n    }\r\n\r\n    public class MyContollerTest {\r\n```\r\n\r\nNote, SpringExtension is used automatically when the @SpringBootTest annotation is used, however; for Controller tests like in this example, it has to be added explicitly. ","title":"Unit test in Spring: injecting a dependency into a component under test","body":"<p>I agree that a unit test shouldn't ideally include spring configuration, however; if you still wish to perform a unit test with Spring managed bean(s) you can use SpringExtension's parameter resolver.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringExtension.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringExtension.html</a></p>\n<p><a href=\"https://rieckpil.de/what-the-heck-is-the-springextension-used-for/\" rel=\"nofollow noreferrer\">https://rieckpil.de/what-the-heck-is-the-springextension-used-for/</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RunWith(MockitoJUnitRunner.class)\n    @ContextConfiguration(classes = MyTestConfig.class)\n    @ActiveProfiles(&quot;test&quot;)\n    // New addition\n    @ExtendWith(SpringExtension.class)\n        @Import(\n            value = {\n        MyController.class,Myconfig.class, MyTestConfig.class\n    }\n\n    public class MyContollerTest {\n</code></pre>\n<p>Note, SpringExtension is used automatically when the @SpringBootTest annotation is used, however; for Controller tests like in this example, it has to be added explicitly.</p>\n"}],"owner":{"account_id":518032,"reputation":4927,"user_id":2289983,"accept_rate":92,"display_name":"Damian Nadales"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37300,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":34231570,"answer_count":2,"score":9,"last_activity_date":1686161128,"creation_date":1449863401,"question_id":34231426,"body_markdown":"I have a very simple rest controller:\r\n\r\n    @RestController\r\n    public class MyController {\r\n        @Autowired\r\n        public Logger logger;\r\n\r\nThe logger dependency gets injected via the following configuration:\r\n\r\n    @Configuration\r\n    public class MyConfig {\r\n        @Bean\r\n        public Logger logger() {\r\n            return LoggerFactory.getLogger(MyController.class);\r\n        }\r\n\r\nIf I run the Spring application that contains the controller then everything works fine. However, I cannot manage to achieve this dependency injection when running my unit tests. In this case I have the following test configuration:\r\n\r\n    @Configuration\r\n    @Profile(&quot;test&quot;)\r\n    public class MyTestConfig {\r\n        @Bean\r\n        public Logger logger() {\r\n            return LoggerFactory.getLogger(MyCOntroller.class);\r\n        }\r\n\r\nAnd this is the relevant part of my unit tests code:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    @ContextConfiguration(classes = MyTestConfig.class)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class MyContollerTest {\r\n\r\nHowever the logger object does not get &quot;autowired&quot; in `MyController` (note that I do not want to mock the logger object), which results in a null pointer reference.\r\n\r\nWhat am I missing?","title":"Unit test in Spring: injecting a dependency into a component under test","body":"<p>I have a very simple rest controller:</p>\n\n<pre><code>@RestController\npublic class MyController {\n    @Autowired\n    public Logger logger;\n</code></pre>\n\n<p>The logger dependency gets injected via the following configuration:</p>\n\n<pre><code>@Configuration\npublic class MyConfig {\n    @Bean\n    public Logger logger() {\n        return LoggerFactory.getLogger(MyController.class);\n    }\n</code></pre>\n\n<p>If I run the Spring application that contains the controller then everything works fine. However, I cannot manage to achieve this dependency injection when running my unit tests. In this case I have the following test configuration:</p>\n\n<pre><code>@Configuration\n@Profile(\"test\")\npublic class MyTestConfig {\n    @Bean\n    public Logger logger() {\n        return LoggerFactory.getLogger(MyCOntroller.class);\n    }\n</code></pre>\n\n<p>And this is the relevant part of my unit tests code:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n@ContextConfiguration(classes = MyTestConfig.class)\n@ActiveProfiles(\"test\")\npublic class MyContollerTest {\n</code></pre>\n\n<p>However the logger object does not get \"autowired\" in <code>MyController</code> (note that I do not want to mock the logger object), which results in a null pointer reference.</p>\n\n<p>What am I missing?</p>\n"},{"tags":["java","grpc","hazelcast","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":24519330,"reputation":91,"user_id":18432631,"display_name":"Terry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686160934,"creation_date":1686160934,"answer_id":76425961,"question_id":76388848,"body_markdown":"You tell gRPC to use your interceptor at the time when you add your service to the server. You are not including your code fur building the server, but presumably you are missing something there. \r\n\r\nYou would first wrap your service by calling a method in [ServerInterceptors](https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerInterceptors.html). You then pass what you get back to the [ServerBuilder](https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerBuilder.html) when you call `addService()`.\r\n\r\nI&#39;m not that familiar with spring boot, check your code where you define the services in your server.\r\n\r\n","title":"How to register a custom interceptor with GRPC in yaml file in java Spring-Boot?","body":"<p>You tell gRPC to use your interceptor at the time when you add your service to the server. You are not including your code fur building the server, but presumably you are missing something there.</p>\n<p>You would first wrap your service by calling a method in <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerInterceptors.html\" rel=\"nofollow noreferrer\">ServerInterceptors</a>. You then pass what you get back to the <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerBuilder.html\" rel=\"nofollow noreferrer\">ServerBuilder</a> when you call <code>addService()</code>.</p>\n<p>I'm not that familiar with spring boot, check your code where you define the services in your server.</p>\n"}],"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686160934,"creation_date":1685697904,"question_id":76388848,"body_markdown":"I have established gRPC Communication between 2 applications.Now i want to intercept call in server side in order to fetch data from Hazelcast Instance.But when i call gRPC code does not come to Interceptor class.Below is my code snippet\r\n\r\n\r\napplication,.yaml\r\n```\r\nserver:\r\n  port: 9001\r\n\r\ngrpc:\r\n  server:\r\n    security:\r\n      enabled: false\r\n    port: 9000\r\n    interceptors:\r\n      - com.interceptor.CachingInterceptor\r\n\r\n\r\n```\r\n\r\nBelow is my Interceptor class\r\n\r\n```\r\npackage com.interceptor;\r\n\r\nimport com.hazelcast.core.HazelcastInstance;\r\nimport com.service.impl.BanksDataGrpcServiceImpl;\r\nimport io.grpc.*;\r\nimport io.grpc.stub.AbstractStub;\r\nimport io.grpc.stub.ClientCalls;\r\nimport io.grpc.stub.MetadataUtils;\r\nimport io.grpc.stub.ServerCalls;\r\nimport io.grpc.stub.StreamObserver;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class CachingInterceptor implements ServerInterceptor, ClientInterceptor {\r\n    private HazelcastInstance hazelcastInstance; // Initialize Hazelcast instance as needed\r\n\r\n    @Override\r\n    public &lt;BanksDataRequest, BanksDataResponse&gt; ServerCall.Listener&lt;BanksDataRequest&gt; interceptCall(ServerCall&lt;BanksDataRequest, BanksDataResponse&gt; call,\r\n                                                                 Metadata headers,\r\n                                                                 ServerCallHandler&lt;BanksDataRequest, BanksDataResponse&gt; next) {\r\n        System.out.println(&quot; : CachingInterceptor : ServerCall.Listener : Method starts&quot;);\r\n        MethodDescriptor&lt;BanksDataRequest, BanksDataResponse&gt; methodDescriptor = call.getMethodDescriptor();\r\n// Logic of fetching data from Hazelcast cache\r\n        return next.startCall(call, headers);\r\n    }\r\n\r\n    @Override\r\n    public &lt;BanksDataRequest, BanksDataResponse&gt; ClientCall&lt;BanksDataRequest, BanksDataResponse&gt; interceptCall(MethodDescriptor&lt;BanksDataRequest, BanksDataResponse&gt; method,\r\n                                                               CallOptions callOptions,\r\n                                                               Channel next) {\r\n        System.out.println(&quot; : CachingInterceptor : ClientCall.Listener : Method starts&quot;);\r\n        if (method.getFullMethodName().startsWith(&quot;com.service.impl.BanksDataGrpcServiceImpl&quot;)) {\r\n            if (method.getFullMethodName().endsWith(&quot;getAllBanksData&quot;)) {\r\n\r\n                if (method.findAnnotation(CacheableGrpcCall.class) != null) {\r\n                    // Check if the gRPC method is annotated with @CacheableGrpcCall\r\n                    // Implement your caching logic using Hazelcast\r\n                }\r\n            }\r\n        }\r\n        return next.newCall(method, callOptions);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nBelow is my code of GRPC Client\r\n\r\n```\r\npackage com.service.impl;\r\n\r\nimport com.hazelcast.cache.impl.HazelcastServerCacheManager;\r\nimport com.hazelcast.client.HazelcastClient;\r\nimport com.hazelcast.client.config.ClientConfig;\r\nimport com.hazelcast.core.Hazelcast;\r\nimport com.hazelcast.core.HazelcastInstance;\r\nimport com.hazelcast.map.IMap;\r\nimport com.*;\r\nimport com.constants.BanksDataConstants;\r\nimport com.entity.BanksDataEntity;\r\nimport com.mapper.BanksDataMapper;\r\nimport com.repository.BanksDataRepository;\r\nimport io.grpc.stub.StreamObserver;\r\nimport net.devh.boot.grpc.server.interceptor.GrpcGlobalServerInterceptor;\r\nimport net.devh.boot.grpc.server.service.GrpcService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cache.annotation.Cacheable;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.UUID;\r\n\r\n@GrpcService\r\npublic class BanksDataGrpcServiceImpl  extends BanksDataServiceGrpc.BanksDataServiceImplBase {\r\n\r\n    @Autowired\r\n    private BanksDataRepository banksDataRepository;\r\n    @Autowired\r\n    private BanksDataMapper banksDataMapper;\r\n\r\n\r\n\r\n\r\n    @Cacheable(value = BanksDataConstants.BANKS_DATA)\r\n    public void getAllBanksData(BanksDataRequest request, StreamObserver&lt;BanksDataResponse&gt; responseObserver) {\r\n\r\n        ClientConfig clientConfig = new ClientConfig();\r\n        clientConfig.setClusterName(&quot;local&quot;);\r\n        clientConfig.getNetworkConfig().addAddress(&quot;127.0.0.1:9701&quot;);\r\n        HazelcastInstance client = HazelcastClient.newHazelcastClient(clientConfig);\r\n        IMap&lt;String,Object&gt; iMap=  client.getMap(BanksDataConstants.BANKS_DATA);\r\n\r\n            System.out.println(&quot; : BanksDataGrpcServiceImpl : getAllBanksData : Method starts&quot;);\r\n\r\n            List&lt;BanksDataEntity&gt;  banksDataEntityList = banksDataRepository.findAll();\r\n\r\n            List&lt;BanksData&gt; banksDataList = banksDataMapper.entityListToGrpcList(banksDataEntityList);\r\n            BanksDataResponse banksDataResponse = BanksDataResponse.newBuilder().addAllBanksDataGrpcDTO(banksDataList).build();\r\n\r\n            responseObserver.onNext(banksDataResponse);\r\n            responseObserver.onCompleted();\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n```\r\nWhat is missing in registering our interceptors with existing gRPC Server?","title":"How to register a custom interceptor with GRPC in yaml file in java Spring-Boot?","body":"<p>I have established gRPC Communication between 2 applications.Now i want to intercept call in server side in order to fetch data from Hazelcast Instance.But when i call gRPC code does not come to Interceptor class.Below is my code snippet</p>\n<p>application,.yaml</p>\n<pre><code>server:\n  port: 9001\n\ngrpc:\n  server:\n    security:\n      enabled: false\n    port: 9000\n    interceptors:\n      - com.interceptor.CachingInterceptor\n\n\n</code></pre>\n<p>Below is my Interceptor class</p>\n<pre><code>package com.interceptor;\n\nimport com.hazelcast.core.HazelcastInstance;\nimport com.service.impl.BanksDataGrpcServiceImpl;\nimport io.grpc.*;\nimport io.grpc.stub.AbstractStub;\nimport io.grpc.stub.ClientCalls;\nimport io.grpc.stub.MetadataUtils;\nimport io.grpc.stub.ServerCalls;\nimport io.grpc.stub.StreamObserver;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CachingInterceptor implements ServerInterceptor, ClientInterceptor {\n    private HazelcastInstance hazelcastInstance; // Initialize Hazelcast instance as needed\n\n    @Override\n    public &lt;BanksDataRequest, BanksDataResponse&gt; ServerCall.Listener&lt;BanksDataRequest&gt; interceptCall(ServerCall&lt;BanksDataRequest, BanksDataResponse&gt; call,\n                                                                 Metadata headers,\n                                                                 ServerCallHandler&lt;BanksDataRequest, BanksDataResponse&gt; next) {\n        System.out.println(&quot; : CachingInterceptor : ServerCall.Listener : Method starts&quot;);\n        MethodDescriptor&lt;BanksDataRequest, BanksDataResponse&gt; methodDescriptor = call.getMethodDescriptor();\n// Logic of fetching data from Hazelcast cache\n        return next.startCall(call, headers);\n    }\n\n    @Override\n    public &lt;BanksDataRequest, BanksDataResponse&gt; ClientCall&lt;BanksDataRequest, BanksDataResponse&gt; interceptCall(MethodDescriptor&lt;BanksDataRequest, BanksDataResponse&gt; method,\n                                                               CallOptions callOptions,\n                                                               Channel next) {\n        System.out.println(&quot; : CachingInterceptor : ClientCall.Listener : Method starts&quot;);\n        if (method.getFullMethodName().startsWith(&quot;com.service.impl.BanksDataGrpcServiceImpl&quot;)) {\n            if (method.getFullMethodName().endsWith(&quot;getAllBanksData&quot;)) {\n\n                if (method.findAnnotation(CacheableGrpcCall.class) != null) {\n                    // Check if the gRPC method is annotated with @CacheableGrpcCall\n                    // Implement your caching logic using Hazelcast\n                }\n            }\n        }\n        return next.newCall(method, callOptions);\n    }\n}\n\n\n</code></pre>\n<p>Below is my code of GRPC Client</p>\n<pre><code>package com.service.impl;\n\nimport com.hazelcast.cache.impl.HazelcastServerCacheManager;\nimport com.hazelcast.client.HazelcastClient;\nimport com.hazelcast.client.config.ClientConfig;\nimport com.hazelcast.core.Hazelcast;\nimport com.hazelcast.core.HazelcastInstance;\nimport com.hazelcast.map.IMap;\nimport com.*;\nimport com.constants.BanksDataConstants;\nimport com.entity.BanksDataEntity;\nimport com.mapper.BanksDataMapper;\nimport com.repository.BanksDataRepository;\nimport io.grpc.stub.StreamObserver;\nimport net.devh.boot.grpc.server.interceptor.GrpcGlobalServerInterceptor;\nimport net.devh.boot.grpc.server.service.GrpcService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cache.annotation.Cacheable;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.UUID;\n\n@GrpcService\npublic class BanksDataGrpcServiceImpl  extends BanksDataServiceGrpc.BanksDataServiceImplBase {\n\n    @Autowired\n    private BanksDataRepository banksDataRepository;\n    @Autowired\n    private BanksDataMapper banksDataMapper;\n\n\n\n\n    @Cacheable(value = BanksDataConstants.BANKS_DATA)\n    public void getAllBanksData(BanksDataRequest request, StreamObserver&lt;BanksDataResponse&gt; responseObserver) {\n\n        ClientConfig clientConfig = new ClientConfig();\n        clientConfig.setClusterName(&quot;local&quot;);\n        clientConfig.getNetworkConfig().addAddress(&quot;127.0.0.1:9701&quot;);\n        HazelcastInstance client = HazelcastClient.newHazelcastClient(clientConfig);\n        IMap&lt;String,Object&gt; iMap=  client.getMap(BanksDataConstants.BANKS_DATA);\n\n            System.out.println(&quot; : BanksDataGrpcServiceImpl : getAllBanksData : Method starts&quot;);\n\n            List&lt;BanksDataEntity&gt;  banksDataEntityList = banksDataRepository.findAll();\n\n            List&lt;BanksData&gt; banksDataList = banksDataMapper.entityListToGrpcList(banksDataEntityList);\n            BanksDataResponse banksDataResponse = BanksDataResponse.newBuilder().addAllBanksDataGrpcDTO(banksDataList).build();\n\n            responseObserver.onNext(banksDataResponse);\n            responseObserver.onCompleted();\n\n    }\n\n\n\n}\n\n\n</code></pre>\n<p>What is missing in registering our interceptors with existing gRPC Server?</p>\n"},{"tags":["java","javafx","chat","scenebuilder"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1686164639,"post_id":76425952,"comment_id":134763236,"body_markdown":"The network-based stuff in this answer is irrelevant, but the [list-based UI is similar to what you are asking about](https://stackoverflow.com/questions/70870998/how-to-return-objects-from-inputstream-client-to-a-javafx-controller/70888362#70888362).  That just alternates from side to side based on odd/even rows, but you could assign your own style classes, when updating items, to decide which side of the list a message should show up on.","body":"The network-based stuff in this answer is irrelevant, but the <a href=\"https://stackoverflow.com/questions/70870998/how-to-return-objects-from-inputstream-client-to-a-javafx-controller/70888362#70888362\">list-based UI is similar to what you are asking about</a>.  That just alternates from side to side based on odd/even rows, but you could assign your own style classes, when updating items, to decide which side of the list a message should show up on."}],"owner":{"account_id":28774511,"reputation":1,"user_id":22037518,"display_name":"XYZ99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686160808,"creation_date":1686160808,"question_id":76425952,"body_markdown":"I&#39;m new to programming and I wanted to challenge myself by making something similar(but slightly easier) to ChatGPT with JavaFX and Scenebuilder. I made a GUI with TextArea and TextField for the chats, but I want the different chats to get saved in a ListView and I want to be able to go back and forth between the chats. I just can&#39;t figure out how to do this? \r\nI&#39;ve looked everywhere and every time I think I understand what to do, it just doesn&#39;t work. \r\n\r\nDoes anyone else have an idea what I could do to make it work? ","title":"How to make a Listview with chats?","body":"<p>I'm new to programming and I wanted to challenge myself by making something similar(but slightly easier) to ChatGPT with JavaFX and Scenebuilder. I made a GUI with TextArea and TextField for the chats, but I want the different chats to get saved in a ListView and I want to be able to go back and forth between the chats. I just can't figure out how to do this?\nI've looked everywhere and every time I think I understand what to do, it just doesn't work.</p>\n<p>Does anyone else have an idea what I could do to make it work?</p>\n"},{"tags":["java","javafx","listener"],"comments":[{"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1686632320,"post_id":76425816,"comment_id":134821733,"body_markdown":"Totally out of context: The general pattern is to change the border color only if user starts typing some thing. Merely removing the alerts(border) on just focus is not a great UX. Ofcourse this varies based on your individual requirements. But I just want to say about that :). In this case you need to add the listener on textProperty() instead of focusedProperty().","body":"Totally out of context: The general pattern is to change the border color only if user starts typing some thing. Merely removing the alerts(border) on just focus is not a great UX. Ofcourse this varies based on your individual requirements. But I just want to say about that :). In this case you need to add the listener on textProperty() instead of focusedProperty()."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686160122,"creation_date":1686159780,"answer_id":76425847,"question_id":76425816,"body_markdown":"Why not just write a method to create and register a listener for each text field?\r\n\r\n    private void addListenerToTextField(TextField textField) {\r\n        textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            // do whatever you need with textField\r\n        });\r\n    }\r\n\r\nWhich scales to multiple text fields in the same way\r\n\r\n    addListenerToTextField(keyWord);\r\n    addListenerToTextField(date);\r\n    addListenerToTextField(location);\r\n\r\nor\r\n\r\n    Stream.of(keyWord, date, location).forEach(this::addListenerToTextField);","title":"How to get the instance of the text field which has triggers the focus listener in JavaFX","body":"<p>Why not just write a method to create and register a listener for each text field?</p>\n<pre><code>private void addListenerToTextField(TextField textField) {\n    textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\n        // do whatever you need with textField\n    });\n}\n</code></pre>\n<p>Which scales to multiple text fields in the same way</p>\n<pre><code>addListenerToTextField(keyWord);\naddListenerToTextField(date);\naddListenerToTextField(location);\n</code></pre>\n<p>or</p>\n<pre><code>Stream.of(keyWord, date, location).forEach(this::addListenerToTextField);\n</code></pre>\n"}],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76425847,"answer_count":1,"score":0,"last_activity_date":1686160122,"creation_date":1686159425,"question_id":76425816,"body_markdown":"I have a **form** consisting of three `text fields`. When the form is submitted, I validate each text field value to ensure it meets specific conditions. If a value is invalid, I change the `border color` of the respective text field to **red**. Now, I want to update the border color back to black if the user selects a text field and attempts to modify its value. \r\n\r\nTo streamline the process for all text fields, I aim to attach the same `change listener` to each one. However, the challenge lies in obtaining a **reference** to each text field so that I can specifically target it within the listener.\r\n\r\n\r\n     keyWord.focusedProperty().addListener(textFieldFocusListener);\r\n     date.focusedProperty().addListener(textFieldFocusListener);\r\n     location.focusedProperty().addListener(textFieldFocusListener);\r\n\r\n     ChangeListener&lt;Boolean&gt; textFieldFocusListener = (observable, oldValue, newValue) -&gt; {\r\n    \r\n            // Change the border color of the text field to black if it is selected/focused\r\n    \r\n         };","title":"How to get the instance of the text field which has triggers the focus listener in JavaFX","body":"<p>I have a <strong>form</strong> consisting of three <code>text fields</code>. When the form is submitted, I validate each text field value to ensure it meets specific conditions. If a value is invalid, I change the <code>border color</code> of the respective text field to <strong>red</strong>. Now, I want to update the border color back to black if the user selects a text field and attempts to modify its value.</p>\n<p>To streamline the process for all text fields, I aim to attach the same <code>change listener</code> to each one. However, the challenge lies in obtaining a <strong>reference</strong> to each text field so that I can specifically target it within the listener.</p>\n<pre><code> keyWord.focusedProperty().addListener(textFieldFocusListener);\n date.focusedProperty().addListener(textFieldFocusListener);\n location.focusedProperty().addListener(textFieldFocusListener);\n\n ChangeListener&lt;Boolean&gt; textFieldFocusListener = (observable, oldValue, newValue) -&gt; {\n\n        // Change the border color of the text field to black if it is selected/focused\n\n     };\n</code></pre>\n"},{"tags":["java","kerberos","jndi","jaas","gssapi"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686160784,"post_id":76425872,"comment_id":134762569,"body_markdown":"Test the keytab is correct with [`kinit`](https://stackoverflow.com/q/25240416/2970947) before assuming everything is correct.","body":"Test the keytab is correct with <a href=\"https://stackoverflow.com/q/25240416/2970947\"><code>kinit</code></a> before assuming everything is correct."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1689104611,"post_id":76425872,"comment_id":135165293,"body_markdown":"You haven&#39;t shared any usable information, but the output from the Krb5LoginModule only. BTW, thanks for trying out my library.","body":"You haven&#39;t shared any usable information, but the output from the Krb5LoginModule only. BTW, thanks for trying out my library."}],"owner":{"account_id":28774580,"reputation":1,"user_id":22037568,"display_name":"Camille B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686160090,"creation_date":1686160090,"question_id":76425872,"body_markdown":"I want to access an LDAP directory in Java using a keytab. However, my keytab appears as null.\r\n\r\nPassword access works with this code after the logincontext has been created (I get my tickets in kerberos):\r\n\r\n```\r\nHashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\r\nenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\nenv.put(Context.SECURITY_AUTHENTICATION, &quot;GSSAPI&quot;);\r\nenv.put(Context.PROVIDER_URL, &quot;ldap://localhost/&quot;);\r\nfinal DirContext ctx = new InitialDirContext(env);\r\nAttributes attributes = ctx.getAttributes(&quot;cn=user1,ou=people,dc=example,dc=com&quot;);\r\n```\r\n\r\nI use the following code to try to access the directory via the Keytab file, but it always asks me to enter a password :\r\n\r\n```\r\nJaasClient {\r\n  com.sun.security.auth.module.Krb5LoginModule required\r\n    client=true\r\n    useKeyTab=true\r\n    keytab=&quot;/etc/security/keytabs/users3.keytab&quot;\r\n    debug=true\r\n    storeKey=true\r\n    principal=&quot;users3@EXAMPLE.COM&quot;;\r\n};\r\n```\r\n\r\n```\r\nDirContextSource.Builder builder = new DirContextSource.Builder(&quot;ldap://localhost&quot;);\r\nbuilder.gssApiAuth(&quot;JaasClient&quot;);\r\nDirContextSource contextSource = builder.build();\r\nDirContext ctx = contextSource.getDirContext();\r\nAttributes attributes = ctx.getAttributes(&quot;cn=user1,ou=people,dc=example,dc=com&quot;);\r\n```\r\n\r\nError :\r\n```\r\nDebug is true storeKey true useTicketCache false useKeyTab true doNotPrompt false ticketCache is null isInitiator true KeyTab is null\r\nKey for the principal users3@REALM not available in default key tab\r\n```\r\nCan someone tell me what I am doing wrong ?","title":"Access to LDAP using a keytab in Java","body":"<p>I want to access an LDAP directory in Java using a keytab. However, my keytab appears as null.</p>\n<p>Password access works with this code after the logincontext has been created (I get my tickets in kerberos):</p>\n<pre><code>Hashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\nenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\nenv.put(Context.SECURITY_AUTHENTICATION, &quot;GSSAPI&quot;);\nenv.put(Context.PROVIDER_URL, &quot;ldap://localhost/&quot;);\nfinal DirContext ctx = new InitialDirContext(env);\nAttributes attributes = ctx.getAttributes(&quot;cn=user1,ou=people,dc=example,dc=com&quot;);\n</code></pre>\n<p>I use the following code to try to access the directory via the Keytab file, but it always asks me to enter a password :</p>\n<pre><code>JaasClient {\n  com.sun.security.auth.module.Krb5LoginModule required\n    client=true\n    useKeyTab=true\n    keytab=&quot;/etc/security/keytabs/users3.keytab&quot;\n    debug=true\n    storeKey=true\n    principal=&quot;users3@EXAMPLE.COM&quot;;\n};\n</code></pre>\n<pre><code>DirContextSource.Builder builder = new DirContextSource.Builder(&quot;ldap://localhost&quot;);\nbuilder.gssApiAuth(&quot;JaasClient&quot;);\nDirContextSource contextSource = builder.build();\nDirContext ctx = contextSource.getDirContext();\nAttributes attributes = ctx.getAttributes(&quot;cn=user1,ou=people,dc=example,dc=com&quot;);\n</code></pre>\n<p>Error :</p>\n<pre><code>Debug is true storeKey true useTicketCache false useKeyTab true doNotPrompt false ticketCache is null isInitiator true KeyTab is null\nKey for the principal users3@REALM not available in default key tab\n</code></pre>\n<p>Can someone tell me what I am doing wrong ?</p>\n"},{"tags":["java","swing","jbutton","fadein"],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1337597997,"creation_date":1337597997,"answer_id":10683973,"question_id":10683780,"body_markdown":"&gt;Is it possible to create a fade in effect for JButton using Timer?\r\n\r\nI think that no issue with that, \r\n\r\n&gt;If yes, can I ask for an example?\r\n\r\nwhy not\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.Color;\r\n    import java.awt.AlphaComposite;\r\n    import javax.swing.*;\r\n    import javax.swing.UIManager.LookAndFeelInfo;\r\n    \r\n    public class ButtonTest {\r\n    \r\n        private JFrame frame;\r\n        private JButton opaqueButton1;\r\n        private JButton opaqueButton2;\r\n        private SoftJButton softButton1;\r\n        private SoftJButton softButton2;\r\n        private Timer alphaChanger;\r\n    \r\n        public void createAndShowGUI() {\r\n            opaqueButton1 = new JButton(&quot;Opaque Button&quot;);\r\n            opaqueButton2 = new JButton(&quot;Opaque Button&quot;);\r\n            softButton1 = new SoftJButton(&quot;Transparent Button&quot;);\r\n            softButton2 = new SoftJButton(&quot;Transparent Button&quot;);\r\n            opaqueButton1.setBackground(Color.GREEN);\r\n            softButton1.setBackground(Color.GREEN);\r\n            frame = new JFrame();\r\n            frame.getContentPane().setLayout(new java.awt.GridLayout(2, 2, 10, 10));\r\n            frame.add(opaqueButton1);\r\n            frame.add(softButton1);\r\n            frame.add(opaqueButton2);\r\n            frame.add(softButton2);\r\n            frame.setSize(700, 300);\r\n            frame.setLocation(150, 100);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n            alphaChanger = new Timer(30, new ActionListener() {\r\n    \r\n                private float incrementer = -.03f;\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    float newAlpha = softButton1.getAlpha() + incrementer;\r\n                    if (newAlpha &lt; 0) {\r\n                        newAlpha = 0;\r\n                        incrementer = -incrementer;\r\n                    } else if (newAlpha &gt; 1f) {\r\n                        newAlpha = 1f;\r\n                        incrementer = -incrementer;\r\n                    }\r\n                    softButton1.setAlpha(newAlpha);\r\n                    softButton2.setAlpha(newAlpha);\r\n                }\r\n            });\r\n            alphaChanger.start();\r\n            Timer uiChanger = new Timer(3500, new ActionListener() {\r\n    \r\n                private final LookAndFeelInfo[] laf = UIManager.getInstalledLookAndFeels();\r\n                private int index = 1;\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    try {\r\n                        UIManager.setLookAndFeel(laf[index].getClassName());\r\n                        SwingUtilities.updateComponentTreeUI(frame);\r\n                        opaqueButton1.setText(laf[index].getClassName());\r\n                        softButton1.setText(laf[index].getClassName());\r\n                    } catch (Exception exc) {\r\n                        exc.printStackTrace();\r\n                    }\r\n                    index = (index + 1) % laf.length;\r\n                }\r\n            });\r\n            uiChanger.start();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    new ButtonTest().createAndShowGUI();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private static class SoftJButton extends JButton {\r\n    \r\n            private static final JButton lafDeterminer = new JButton();\r\n            private static final long serialVersionUID = 1L;\r\n            private boolean rectangularLAF;\r\n            private float alpha = 1f;\r\n    \r\n            SoftJButton() {\r\n                this(null, null);\r\n            }\r\n    \r\n            SoftJButton(String text) {\r\n                this(text, null);\r\n            }\r\n    \r\n            SoftJButton(String text, Icon icon) {\r\n                super(text, icon);\r\n                setOpaque(false);\r\n                setFocusPainted(false);\r\n            }\r\n    \r\n            public float getAlpha() {\r\n                return alpha;\r\n            }\r\n    \r\n            public void setAlpha(float alpha) {\r\n                this.alpha = alpha;\r\n                repaint();\r\n            }\r\n    \r\n            @Override\r\n            public void paintComponent(java.awt.Graphics g) {\r\n                java.awt.Graphics2D g2 = (java.awt.Graphics2D) g;\r\n                g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, alpha));\r\n                if (rectangularLAF &amp;&amp; isBackgroundSet()) {\r\n                    Color c = getBackground();\r\n                    g2.setColor(c);\r\n                    g.fillRect(0, 0, getWidth(), getHeight());\r\n                }\r\n                super.paintComponent(g2);\r\n            }\r\n    \r\n            @Override\r\n            public void updateUI() {\r\n                super.updateUI();\r\n                lafDeterminer.updateUI();\r\n                rectangularLAF = lafDeterminer.isOpaque();\r\n            }\r\n        }\r\n    }","title":"Is it possible to create a fade in effect for JButton using Timer?","body":"<blockquote>\n  <p>Is it possible to create a fade in effect for JButton using Timer?</p>\n</blockquote>\n\n<p>I think that no issue with that, </p>\n\n<blockquote>\n  <p>If yes, can I ask for an example?</p>\n</blockquote>\n\n<p>why not</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.Color;\nimport java.awt.AlphaComposite;\nimport javax.swing.*;\nimport javax.swing.UIManager.LookAndFeelInfo;\n\npublic class ButtonTest {\n\n    private JFrame frame;\n    private JButton opaqueButton1;\n    private JButton opaqueButton2;\n    private SoftJButton softButton1;\n    private SoftJButton softButton2;\n    private Timer alphaChanger;\n\n    public void createAndShowGUI() {\n        opaqueButton1 = new JButton(\"Opaque Button\");\n        opaqueButton2 = new JButton(\"Opaque Button\");\n        softButton1 = new SoftJButton(\"Transparent Button\");\n        softButton2 = new SoftJButton(\"Transparent Button\");\n        opaqueButton1.setBackground(Color.GREEN);\n        softButton1.setBackground(Color.GREEN);\n        frame = new JFrame();\n        frame.getContentPane().setLayout(new java.awt.GridLayout(2, 2, 10, 10));\n        frame.add(opaqueButton1);\n        frame.add(softButton1);\n        frame.add(opaqueButton2);\n        frame.add(softButton2);\n        frame.setSize(700, 300);\n        frame.setLocation(150, 100);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        alphaChanger = new Timer(30, new ActionListener() {\n\n            private float incrementer = -.03f;\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                float newAlpha = softButton1.getAlpha() + incrementer;\n                if (newAlpha &lt; 0) {\n                    newAlpha = 0;\n                    incrementer = -incrementer;\n                } else if (newAlpha &gt; 1f) {\n                    newAlpha = 1f;\n                    incrementer = -incrementer;\n                }\n                softButton1.setAlpha(newAlpha);\n                softButton2.setAlpha(newAlpha);\n            }\n        });\n        alphaChanger.start();\n        Timer uiChanger = new Timer(3500, new ActionListener() {\n\n            private final LookAndFeelInfo[] laf = UIManager.getInstalledLookAndFeels();\n            private int index = 1;\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    UIManager.setLookAndFeel(laf[index].getClassName());\n                    SwingUtilities.updateComponentTreeUI(frame);\n                    opaqueButton1.setText(laf[index].getClassName());\n                    softButton1.setText(laf[index].getClassName());\n                } catch (Exception exc) {\n                    exc.printStackTrace();\n                }\n                index = (index + 1) % laf.length;\n            }\n        });\n        uiChanger.start();\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new ButtonTest().createAndShowGUI();\n            }\n        });\n    }\n\n    private static class SoftJButton extends JButton {\n\n        private static final JButton lafDeterminer = new JButton();\n        private static final long serialVersionUID = 1L;\n        private boolean rectangularLAF;\n        private float alpha = 1f;\n\n        SoftJButton() {\n            this(null, null);\n        }\n\n        SoftJButton(String text) {\n            this(text, null);\n        }\n\n        SoftJButton(String text, Icon icon) {\n            super(text, icon);\n            setOpaque(false);\n            setFocusPainted(false);\n        }\n\n        public float getAlpha() {\n            return alpha;\n        }\n\n        public void setAlpha(float alpha) {\n            this.alpha = alpha;\n            repaint();\n        }\n\n        @Override\n        public void paintComponent(java.awt.Graphics g) {\n            java.awt.Graphics2D g2 = (java.awt.Graphics2D) g;\n            g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, alpha));\n            if (rectangularLAF &amp;&amp; isBackgroundSet()) {\n                Color c = getBackground();\n                g2.setColor(c);\n                g.fillRect(0, 0, getWidth(), getHeight());\n            }\n            super.paintComponent(g2);\n        }\n\n        @Override\n        public void updateUI() {\n            super.updateUI();\n            lafDeterminer.updateUI();\n            rectangularLAF = lafDeterminer.isOpaque();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1491196,"reputation":3928,"user_id":1398245,"accept_rate":100,"display_name":"Jamie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337598328,"creation_date":1337598328,"answer_id":10684044,"question_id":10683780,"body_markdown":"Yes, this should be possible. You can specify a colour in terms of `RGBA`, where `A` is alpha (or opacity), and then apply this colour (or separate colours with the same alpha value, if you wish) to the border, the background and the foreground or the JButton.\r\n\r\n    button.setForeground( *colour* );\r\n    button.setBackground( *colour* );\r\n    button.setBorder( BorderFactory.createBevelBorder( BevelBorder.RAISED, *highlight colour*, *shadow colour* ) );","title":"Is it possible to create a fade in effect for JButton using Timer?","body":"<p>Yes, this should be possible. You can specify a colour in terms of <code>RGBA</code>, where <code>A</code> is alpha (or opacity), and then apply this colour (or separate colours with the same alpha value, if you wish) to the border, the background and the foreground or the JButton.</p>\n\n<pre><code>button.setForeground( *colour* );\nbutton.setBackground( *colour* );\nbutton.setBorder( BorderFactory.createBevelBorder( BevelBorder.RAISED, *highlight colour*, *shadow colour* ) );\n</code></pre>\n"}],"owner":{"account_id":1396619,"reputation":603,"user_id":1326261,"accept_rate":79,"display_name":"Chin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3416,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10683973,"answer_count":2,"score":3,"last_activity_date":1686160042,"creation_date":1337597063,"question_id":10683780,"body_markdown":"I want to put some effects on my program buttons. When I press the `button`,the `button` should fade in.\r\n\r\nUsing a `timer` to change the value of `Opaque` in `new Color()` is one of the way, but can it applied to `JButton` as well? Because the `JButton` has border.\r\n\r\nSo, I want to ask that is it possible to create a fade in effect for `JButton` using a `Timer`?\r\n\r\nIf yes, can I ask for an example?","title":"Is it possible to create a fade in effect for JButton using Timer?","body":"<p>I want to put some effects on my program buttons. When I press the <code>button</code>,the <code>button</code> should fade in.</p>\n\n<p>Using a <code>timer</code> to change the value of <code>Opaque</code> in <code>new Color()</code> is one of the way, but can it applied to <code>JButton</code> as well? Because the <code>JButton</code> has border.</p>\n\n<p>So, I want to ask that is it possible to create a fade in effect for <code>JButton</code> using a <code>Timer</code>?</p>\n\n<p>If yes, can I ask for an example?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"score":0,"creation_date":1686164426,"post_id":76425838,"comment_id":134763198,"body_markdown":"You cannot set an Foreign_Key to null as it would lead to a constraint violation. But you can let hibernate remove that record by adding ```orphanRemoval = true``` to the parents @OneToMany declaration.","body":"You cannot set an Foreign_Key to null as it would lead to a constraint violation. But you can let hibernate remove that record by adding <code>orphanRemoval = true</code> to the parents @OneToMany declaration."},{"owner":{"account_id":17322271,"reputation":75,"user_id":12547388,"display_name":"andrc"},"score":0,"creation_date":1686166642,"post_id":76425838,"comment_id":134763583,"body_markdown":"I’m sorry but a foreign key can be nullable. I don’t want to remove the child entity.","body":"I’m sorry but a foreign key can be nullable. I don’t want to remove the child entity."}],"owner":{"account_id":17322271,"reputation":75,"user_id":12547388,"display_name":"andrc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686159667,"creation_date":1686159667,"question_id":76425838,"body_markdown":"If I have a parent entity with a oneToMany relationship.\r\n\r\n    @OneToMany(mappedBy=&quot;parent&quot;, cascade=CascadeType.ALL)\r\n    List&lt;Child&gt; childElements;\r\n\r\nand a child entity with a manyToOne relationship\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;parent_id&quot;)\r\n    private Parent parent;\r\n\r\nAs I remove one of the element of the parent&#39;s list I would like the set the &quot;parent_id&quot; foreign key value to null. How may I achieve this ? \r\nThanks. ","title":"Set foreign key to null when removing element from parent’s list","body":"<p>If I have a parent entity with a oneToMany relationship.</p>\n<pre><code>@OneToMany(mappedBy=&quot;parent&quot;, cascade=CascadeType.ALL)\nList&lt;Child&gt; childElements;\n</code></pre>\n<p>and a child entity with a manyToOne relationship</p>\n<pre><code>@OneToMany\n@JoinColumn(name = &quot;parent_id&quot;)\nprivate Parent parent;\n</code></pre>\n<p>As I remove one of the element of the parent's list I would like the set the &quot;parent_id&quot; foreign key value to null. How may I achieve this ?\nThanks.</p>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686157375,"creation_date":1686157375,"answer_id":76425596,"question_id":76425567,"body_markdown":"You know you want to change the return type of `withdraw` to `int`. And you know you were missing a `return`. Presumably you want to return the *`newBalance`*. So add that. Like,\r\n\r\n    // Withdraw. Take an int. Return an int.\r\n    public int withdraw(int amountToWithdraw) {\r\n        int newBalance = balance - amountToWithdraw;\r\n        balance = newBalance;\r\n        System.out.println(&quot;You just withdrew &quot; + amountToWithdraw);\r\n        return newBalance; // The int to return.\r\n    }\r\n\r\n","title":"got error &quot;incompatible types: void cannot be converted to int&quot; in OOP","body":"<p>You know you want to change the return type of <code>withdraw</code> to <code>int</code>. And you know you were missing a <code>return</code>. Presumably you want to return the <em><code>newBalance</code></em>. So add that. Like,</p>\n<pre><code>// Withdraw. Take an int. Return an int.\npublic int withdraw(int amountToWithdraw) {\n    int newBalance = balance - amountToWithdraw;\n    balance = newBalance;\n    System.out.println(&quot;You just withdrew &quot; + amountToWithdraw);\n    return newBalance; // The int to return.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686158919,"creation_date":1686158919,"answer_id":76425763,"question_id":76425567,"body_markdown":"Your code is slightly different than what is reported in the error.\r\n\r\n```none\r\n./LETest.java:8: error: incompatible types: void cannot be converted to int\r\nint returned = savingsTest.withdraw(200);\r\n^\r\n./LETest.java:18: error: incompatible types: void cannot be converted to int\r\nint returned = savingsTest.withdraw(500);\r\n^\r\n2 errors\r\n```\r\n\r\nThese errors are reporting from lines _8_ and _18_.\r\n\r\n```java\r\nint returned = savingsTest.withdraw(200);\r\nint returned = savingsTest.withdraw(500);\r\n```\r\n\r\nWhich, is not in the code you provided.  \r\n\r\nNevertheless, I&#39;ll explain the situation you encountered.\r\n\r\nIn Java, a method is declared with a return type.  \r\nIf you don&#39;t intend on returning a value, you can use _void_.  \r\n_[Defining Methods (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html)_.  \r\n\r\nThe error you&#39;re encountering is because you&#39;re attempting to assign a _void_ to an _int_.  \r\nThe _withdraw_ method is declared as void.\r\n\r\nYou mention the following.\r\n\r\n&gt; _&quot;I tried changing void to int in the withdraw() method and got a new error&quot;_\r\n\r\nThe error encountered here is because, if a method is declared with a return type, you must use the _return_ keyword, and the value.  \r\n_[Returning a Value from a Method (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html)_.\r\n\r\nFor example, if you wanted to return a value from the _withdraw_ method, you could use the following.\r\n\r\n```java\r\npublic int withdraw(int amountToWithdraw){\r\n    balance = balance - amountToWithdraw;\r\n    System.out.println(&quot;You just withdrew &quot; + amountToWithdraw);\r\n    return balance;\r\n}\r\n```\r\n\r\nAdditionally, the correct accounting term would be, _withdrawal_.","title":"got error &quot;incompatible types: void cannot be converted to int&quot; in OOP","body":"<p>Your code is slightly different than what is reported in the error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>./LETest.java:8: error: incompatible types: void cannot be converted to int\nint returned = savingsTest.withdraw(200);\n^\n./LETest.java:18: error: incompatible types: void cannot be converted to int\nint returned = savingsTest.withdraw(500);\n^\n2 errors\n</code></pre>\n<p>These errors are reporting from lines <em>8</em> and <em>18</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int returned = savingsTest.withdraw(200);\nint returned = savingsTest.withdraw(500);\n</code></pre>\n<p>Which, is not in the code you provided.</p>\n<p>Nevertheless, I'll explain the situation you encountered.</p>\n<p>In Java, a method is declared with a return type.<br />\nIf you don't intend on returning a value, you can use <em>void</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">Defining Methods (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n<p>The error you're encountering is because you're attempting to assign a <em>void</em> to an <em>int</em>.<br />\nThe <em>withdraw</em> method is declared as void.</p>\n<p>You mention the following.</p>\n<blockquote>\n<p><em>&quot;I tried changing void to int in the withdraw() method and got a new error&quot;</em></p>\n</blockquote>\n<p>The error encountered here is because, if a method is declared with a return type, you must use the <em>return</em> keyword, and the value.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html\" rel=\"nofollow noreferrer\">Returning a Value from a Method (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n<p>For example, if you wanted to return a value from the <em>withdraw</em> method, you could use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int withdraw(int amountToWithdraw){\n    balance = balance - amountToWithdraw;\n    System.out.println(&quot;You just withdrew &quot; + amountToWithdraw);\n    return balance;\n}\n</code></pre>\n<p>Additionally, the correct accounting term would be, <em>withdrawal</em>.</p>\n"}],"owner":{"account_id":19949157,"reputation":15,"user_id":14619183,"display_name":"itsrunan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76425596,"answer_count":2,"score":0,"last_activity_date":1686158919,"creation_date":1686157134,"question_id":76425567,"body_markdown":"I&#39;m pretty new to Java and stackoverflow so sorry for any confusions. Below is my code and I got the following errors:\r\n\r\n```\r\n./LETest.java:8: error: incompatible types: void cannot be converted to int\r\nint returned = savingsTest.withdraw(200);\r\n^\r\n./LETest.java:18: error: incompatible types: void cannot be converted to int\r\nint returned = savingsTest.withdraw(500);\r\n^\r\n2 errors\r\n```\r\n\r\nThe IDE did print out the following results though:\r\n\r\n```\r\nHello!\r\nYour balance is\r\nYou just deposited 500\r\nYou just withdrew 200\r\n```\r\n\r\nCode:\r\n\r\n```\r\npublic class SavingsAccount {\r\n  \r\n  int balance;\r\n  int amountToDeposit;\r\n  int amountToWithdraw;\r\n  \r\n  // initial balance\r\n  public SavingsAccount(int initialBalance){\r\n    balance = initialBalance;\r\n  }\r\n\r\n  // check balance\r\n  public void checkBalance(){\r\n    System.out.println(&quot;Hello!&quot;);\r\n    System.out.println(&quot;Your balance is &quot; + balance);\r\n  }\r\n  \r\n  // deposit\r\n  public void deposit(int amountToDeposit){\r\n    balance = balance + amountToDeposit;\r\n    System.out.println(&quot;You just deposited &quot; + amountToDeposit);\r\n  }\r\n\r\n  // withdraw\r\n  public void withdraw(int amountToWithdraw){\r\n    balance = balance - amountToWithdraw;\r\n    System.out.println(&quot;You just withdrew &quot; + amountToWithdraw);\r\n  }\r\n\r\n  public static void main(String[] args){\r\n    SavingsAccount savings = new SavingsAccount(2000);\r\n\r\n    savings.checkBalance();\r\n    savings.deposit(500);\r\n    savings.withdraw(200);\r\n\r\n  }       \r\n}\r\n```\r\n\r\nWould someone mind helping?\r\n\r\nI tried changing void to int in the withdraw() method and got a new error \r\n```\r\nSavingsAccount.java:30: error: missing return statement\r\n  }\r\n  ^\r\n1 error\r\n```\r\n\r\n","title":"got error &quot;incompatible types: void cannot be converted to int&quot; in OOP","body":"<p>I'm pretty new to Java and stackoverflow so sorry for any confusions. Below is my code and I got the following errors:</p>\n<pre><code>./LETest.java:8: error: incompatible types: void cannot be converted to int\nint returned = savingsTest.withdraw(200);\n^\n./LETest.java:18: error: incompatible types: void cannot be converted to int\nint returned = savingsTest.withdraw(500);\n^\n2 errors\n</code></pre>\n<p>The IDE did print out the following results though:</p>\n<pre><code>Hello!\nYour balance is\nYou just deposited 500\nYou just withdrew 200\n</code></pre>\n<p>Code:</p>\n<pre><code>public class SavingsAccount {\n  \n  int balance;\n  int amountToDeposit;\n  int amountToWithdraw;\n  \n  // initial balance\n  public SavingsAccount(int initialBalance){\n    balance = initialBalance;\n  }\n\n  // check balance\n  public void checkBalance(){\n    System.out.println(&quot;Hello!&quot;);\n    System.out.println(&quot;Your balance is &quot; + balance);\n  }\n  \n  // deposit\n  public void deposit(int amountToDeposit){\n    balance = balance + amountToDeposit;\n    System.out.println(&quot;You just deposited &quot; + amountToDeposit);\n  }\n\n  // withdraw\n  public void withdraw(int amountToWithdraw){\n    balance = balance - amountToWithdraw;\n    System.out.println(&quot;You just withdrew &quot; + amountToWithdraw);\n  }\n\n  public static void main(String[] args){\n    SavingsAccount savings = new SavingsAccount(2000);\n\n    savings.checkBalance();\n    savings.deposit(500);\n    savings.withdraw(200);\n\n  }       \n}\n</code></pre>\n<p>Would someone mind helping?</p>\n<p>I tried changing void to int in the withdraw() method and got a new error</p>\n<pre><code>SavingsAccount.java:30: error: missing return statement\n  }\n  ^\n1 error\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":3515199,"reputation":2077,"user_id":2938810,"accept_rate":88,"display_name":"Seweryn Habdank-Wojew&#243;dzki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616761970,"creation_date":1616744747,"answer_id":66812810,"question_id":66812162,"body_markdown":" 1. IMHO this is logical mistake to create consumer group with UUID. Logically if the same process restarts, it is the same app - the same consumer. You will solve your problem giving good consumer groups names related to what logically do the app.\r\n 2. I would delete consumer groups on the server side, having &quot;GC&quot; set on certain level of lag. \r\n\r\nAgain consumer group is not application id. It is not intended to be randomly created. \r\nAnd honestly spoken I not sure what kind of problem do you solve doing this. \r\nBecause in fact by saying that consumer group is random, you say my code is doing random things and I have no clue what happens in message processing.\r\nWe have very complex Kafka message processing and always there is better or worse name for the process, but at least exist one, which is not random.","title":"How to delete dynamically created consumer groups in spring boot app","body":"<ol>\n<li>IMHO this is logical mistake to create consumer group with UUID. Logically if the same process restarts, it is the same app - the same consumer. You will solve your problem giving good consumer groups names related to what logically do the app.</li>\n<li>I would delete consumer groups on the server side, having &quot;GC&quot; set on certain level of lag.</li>\n</ol>\n<p>Again consumer group is not application id. It is not intended to be randomly created.\nAnd honestly spoken I not sure what kind of problem do you solve doing this.\nBecause in fact by saying that consumer group is random, you say my code is doing random things and I have no clue what happens in message processing.\nWe have very complex Kafka message processing and always there is better or worse name for the process, but at least exist one, which is not random.</p>\n"},{"tags":[],"owner":{"account_id":14101551,"reputation":34,"user_id":10186784,"display_name":"zhiwei zhou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616745575,"creation_date":1616745575,"answer_id":66812994,"question_id":66812162,"body_markdown":"Using UUID as the consumer goup name is terrible.You can definition a final str as consumer goup name for each spring boot app.","title":"How to delete dynamically created consumer groups in spring boot app","body":"<p>Using UUID as the consumer goup name is terrible.You can definition a final str as consumer goup name for each spring boot app.</p>\n"},{"tags":[],"owner":{"account_id":27543766,"reputation":1,"user_id":21020078,"display_name":"akshay mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686158542,"creation_date":1686134742,"answer_id":76422462,"question_id":66812162,"body_markdown":"FYI, `deleteConsumerGroups` method will delete consumerGroups asynchronously and before that your application was shutdown and adminClient also disconnected. So that&#39;s why it&#39;s throwing AdminClient&#39;s thread is not accepting new calls. \r\n\r\nTo avoid this issue you can try synchronous call to delete consumerGroups.\r\n\r\n```\r\n  DeleteConsumerGroupsResult deleteConsumerGroupsResult = kafkaAdminClient.deleteConsumerGroups(kafkaConsumerGroups);\r\n  try {\r\n    deleteConsumerGroupsResult.all().get();\r\n  } catch (Exception e) {\r\n    log.error(&quot;Received exception while deleting consumerGroups: {}, {}&quot;, e.getMessage(),\r\n            ExceptionUtils.getStackTrace(e));\r\n  }\r\n```","title":"How to delete dynamically created consumer groups in spring boot app","body":"<p>FYI, <code>deleteConsumerGroups</code> method will delete consumerGroups asynchronously and before that your application was shutdown and adminClient also disconnected. So that's why it's throwing AdminClient's thread is not accepting new calls.</p>\n<p>To avoid this issue you can try synchronous call to delete consumerGroups.</p>\n<pre><code>  DeleteConsumerGroupsResult deleteConsumerGroupsResult = kafkaAdminClient.deleteConsumerGroups(kafkaConsumerGroups);\n  try {\n    deleteConsumerGroupsResult.all().get();\n  } catch (Exception e) {\n    log.error(&quot;Received exception while deleting consumerGroups: {}, {}&quot;, e.getMessage(),\n            ExceptionUtils.getStackTrace(e));\n  }\n</code></pre>\n"}],"owner":{"account_id":18284019,"reputation":67,"user_id":13312333,"display_name":"user97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1686158542,"creation_date":1616741146,"question_id":66812162,"body_markdown":"I have multiple instances of my spring boot app consuming from a kafka topic. Since I want all instances to get data from all partitions of this topic, I assigned different consumers groups for each instances which would be created dynamically when starting this application.\r\n\r\n    @Configuration\r\n    @EnableKafka\r\n    public class KafkaStreamConfig {\r\n    @Bean(&quot;provisioningStreamsBuilderFactoryBean&quot;)\r\n      public StreamsBuilderFactoryBean myStreamsBuilderFactoryBean() {\r\n        String myCGName = &quot;MY-CG-&quot; + UUID.randomUUID().toString();\r\n        Properties streamsConfiguration = new Properties();\r\n        streamsConfiguration.put(APPLICATION_ID_CONFIG, myCGName); // setting consumer group name\r\n        // setting other props\r\n        StreamsBuilderFactoryBean streamsBuilderFactoryBean = new StreamsBuilderFactoryBean();\r\n        streamsBuilderFactoryBean.setStreamsConfiguration(streamsConfiguration);\r\n        return streamsBuilderFactoryBean;\r\n      }\r\n    }\r\n\r\nSo every time an instance restarts or a new instance is created, a new consumer group is created. And this&#39;s the consumer which reads from my topic.\r\n\r\n    @Component\r\n    public class MyConsumer {\r\n        @Autowired\r\n        private StreamsBuilder streamsBuilder;\r\n    \r\n        @PostConstruct\r\n        public void consume() {\r\n          final KStream&lt;String, GenericRecord&gt; events = streamsBuilder.stream(&quot;my-topic&quot;);\r\n          events\r\n          .selectKey((key, record) -&gt; record.get(&quot;id&quot;).toString())\r\n          .foreach((id, record) -&gt; {\r\n              // some computations with the events consumed\r\n          });\r\n        }\r\n    }\r\n\r\n\r\nNow because of these dynamically created consumer groups stay on, and since they&#39;re not used in my application once an instance restarts, these don&#39;t consume messages anymore and show a lot of lag and hence give rise to false alerts.\r\n\r\nSo I&#39;d like to delete these consumer groups when the application shuts down with Kafka&#39;s AdminClient api. I was thinking of trying to delete it in a shutdown hook like in a method annotated with ```@PreDestroy``` inside **MyConsumer** class like this:\r\n\r\n    @PreDestroy\r\n    public void destroyMYCG() {\r\n      try (AdminClient admin = KafkaAdminClient.create(properties)) {\r\n        DeleteConsumerGroupsResult deleteConsumerGroupsResult = admin.deleteConsumerGroups(Collections.singletonList(provGroupName));\r\n        KafkaFuture&lt;Void&gt; future =  deleteConsumerGroupsResult.all();\r\n        future.whenComplete((aVoid, throwable) -&gt; {\r\n          System.out.println(&quot;EXCEPTION :: &quot; + ExceptionUtils.getStackTrace(throwable));\r\n        });\r\n      }\r\n      System.out.println(getClass().getCanonicalName() + &quot; :: DESTROYING :: &quot; + provGroupName);\r\n    }\r\n\r\nbut I&#39;m getting this exception if I tried that and consumer groups still shows up in the list of consumer groups:\r\n\r\n&gt; org.apache.kafka.common.errors.TimeoutException: The AdminClient thread is not accepting new calls.\r\n\r\nCan someone please help me with this?","title":"How to delete dynamically created consumer groups in spring boot app","body":"<p>I have multiple instances of my spring boot app consuming from a kafka topic. Since I want all instances to get data from all partitions of this topic, I assigned different consumers groups for each instances which would be created dynamically when starting this application.</p>\n<pre><code>@Configuration\n@EnableKafka\npublic class KafkaStreamConfig {\n@Bean(&quot;provisioningStreamsBuilderFactoryBean&quot;)\n  public StreamsBuilderFactoryBean myStreamsBuilderFactoryBean() {\n    String myCGName = &quot;MY-CG-&quot; + UUID.randomUUID().toString();\n    Properties streamsConfiguration = new Properties();\n    streamsConfiguration.put(APPLICATION_ID_CONFIG, myCGName); // setting consumer group name\n    // setting other props\n    StreamsBuilderFactoryBean streamsBuilderFactoryBean = new StreamsBuilderFactoryBean();\n    streamsBuilderFactoryBean.setStreamsConfiguration(streamsConfiguration);\n    return streamsBuilderFactoryBean;\n  }\n}\n</code></pre>\n<p>So every time an instance restarts or a new instance is created, a new consumer group is created. And this's the consumer which reads from my topic.</p>\n<pre><code>@Component\npublic class MyConsumer {\n    @Autowired\n    private StreamsBuilder streamsBuilder;\n\n    @PostConstruct\n    public void consume() {\n      final KStream&lt;String, GenericRecord&gt; events = streamsBuilder.stream(&quot;my-topic&quot;);\n      events\n      .selectKey((key, record) -&gt; record.get(&quot;id&quot;).toString())\n      .foreach((id, record) -&gt; {\n          // some computations with the events consumed\n      });\n    }\n}\n</code></pre>\n<p>Now because of these dynamically created consumer groups stay on, and since they're not used in my application once an instance restarts, these don't consume messages anymore and show a lot of lag and hence give rise to false alerts.</p>\n<p>So I'd like to delete these consumer groups when the application shuts down with Kafka's AdminClient api. I was thinking of trying to delete it in a shutdown hook like in a method annotated with <code>@PreDestroy</code> inside <strong>MyConsumer</strong> class like this:</p>\n<pre><code>@PreDestroy\npublic void destroyMYCG() {\n  try (AdminClient admin = KafkaAdminClient.create(properties)) {\n    DeleteConsumerGroupsResult deleteConsumerGroupsResult = admin.deleteConsumerGroups(Collections.singletonList(provGroupName));\n    KafkaFuture&lt;Void&gt; future =  deleteConsumerGroupsResult.all();\n    future.whenComplete((aVoid, throwable) -&gt; {\n      System.out.println(&quot;EXCEPTION :: &quot; + ExceptionUtils.getStackTrace(throwable));\n    });\n  }\n  System.out.println(getClass().getCanonicalName() + &quot; :: DESTROYING :: &quot; + provGroupName);\n}\n</code></pre>\n<p>but I'm getting this exception if I tried that and consumer groups still shows up in the list of consumer groups:</p>\n<blockquote>\n<p>org.apache.kafka.common.errors.TimeoutException: The AdminClient thread is not accepting new calls.</p>\n</blockquote>\n<p>Can someone please help me with this?</p>\n"},{"tags":["java","sonarqube","future","sonarlint","interrupted-exception"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":2,"creation_date":1686157262,"post_id":76425216,"comment_id":134761827,"body_markdown":"Does this answer your question? [Handling InterruptedException in Java](https://stackoverflow.com/questions/3976344/handling-interruptedexception-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3976344/handling-interruptedexception-in-java\">Handling InterruptedException in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686154771,"creation_date":1686154771,"answer_id":76425326,"question_id":76425216,"body_markdown":"The catching of an `InterruptedException` also clears the interrupted status of the thread. If you decide to eat the `InterruptedException`, then in all cases I can think of you should call `Thread.currentThread().interrupt()` to re-mark the thread as interrupted, so that any other call on that thread to `Thread.isInterrupted()` will report that an interrupt occurred.  The other viable alternative (which SonarQube suggests) is to change various method signatures to declare that `InterruptedException` can be thrown, and then don&#39;t catch the exception.  Both of these approaches ensure that the fact that the thread was interrupted at some point is available to interested parties.\r\n\r\nIn almost all cases I can think of where you can&#39;t adjust method signatures, the first option is exactly what you want to do.\r\n\r\nIt sounds like for whatever (perhaps valid) reason maybe you don&#39;t want to do this, so assuming that your case is valid, I suppose you could just (as SonarQube suggests) simply log the exception without resetting the original interrupted status of the thread, but just be aware that you&#39;re losing information in this case (everything will look to other parties as if an interrupt never occurred).","title":"Correct Handling of `InterruptedExceptions` in Java","body":"<p>The catching of an <code>InterruptedException</code> also clears the interrupted status of the thread. If you decide to eat the <code>InterruptedException</code>, then in all cases I can think of you should call <code>Thread.currentThread().interrupt()</code> to re-mark the thread as interrupted, so that any other call on that thread to <code>Thread.isInterrupted()</code> will report that an interrupt occurred.  The other viable alternative (which SonarQube suggests) is to change various method signatures to declare that <code>InterruptedException</code> can be thrown, and then don't catch the exception.  Both of these approaches ensure that the fact that the thread was interrupted at some point is available to interested parties.</p>\n<p>In almost all cases I can think of where you can't adjust method signatures, the first option is exactly what you want to do.</p>\n<p>It sounds like for whatever (perhaps valid) reason maybe you don't want to do this, so assuming that your case is valid, I suppose you could just (as SonarQube suggests) simply log the exception without resetting the original interrupted status of the thread, but just be aware that you're losing information in this case (everything will look to other parties as if an interrupt never occurred).</p>\n"},{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686156999,"creation_date":1686156374,"answer_id":76425499,"question_id":76425216,"body_markdown":"You should never ignore `InterruptedException` indeed. \r\n\r\nRisen `InterruptedException` means running thread was marked as interrupted, that signal (could be checked with `Thread.currentThread.isInterrupted()`) was received and **removed**. So catching it without throwing up/calling `Thread.currentThread().interrupt()` leads to forgetting the fact of interruption forever.\r\n\r\nIf you have caught an `InterruptedException` do graceful return from the method and throw exception up or recover the flag and return.\r\n\r\nIn your particular case getting an `InterruptedException` in the specified line means your **main** thread has been interrupted (not an executor&#39;s). It means somebody stopped the program, thus is not interested in method return value anymore. I suggest you either:\r\n1. Call `Thread.currentThread().interrupt()` and then `throw new RuntimeException(e)`. That&#39;s okey - you both keep the flag of interruption and indicate that your `getDataAsynchronously()` hasn&#39;t been executed correctly and there is no answer to return.\r\n2. Do &quot;best effort&quot; - call `Thread.currentThread().interrupt()` and just return from `extractFutureIntoList`. Your program would continue executing `extractFutureIntoList` calls left. If any of other futures would be already complete, thus their result is available immediately, `future.get()` would return calculation result without throwing `InterruptedException`. So you would collect data from all futures done at the moment of thread interruption. It would be a kind of graceful shutdown.\r\n3. If possible - mark `getDataAsynchronously` as `throws InterruptedException` and re-throw exception. It&#39;s a best practice - mark any blocking method as `throws InterruptedException`. Your method `getDataAsynchronously` is blocking and actually implies to throw it.  ","title":"Correct Handling of `InterruptedExceptions` in Java","body":"<p>You should never ignore <code>InterruptedException</code> indeed.</p>\n<p>Risen <code>InterruptedException</code> means running thread was marked as interrupted, that signal (could be checked with <code>Thread.currentThread.isInterrupted()</code>) was received and <strong>removed</strong>. So catching it without throwing up/calling <code>Thread.currentThread().interrupt()</code> leads to forgetting the fact of interruption forever.</p>\n<p>If you have caught an <code>InterruptedException</code> do graceful return from the method and throw exception up or recover the flag and return.</p>\n<p>In your particular case getting an <code>InterruptedException</code> in the specified line means your <strong>main</strong> thread has been interrupted (not an executor's). It means somebody stopped the program, thus is not interested in method return value anymore. I suggest you either:</p>\n<ol>\n<li>Call <code>Thread.currentThread().interrupt()</code> and then <code>throw new RuntimeException(e)</code>. That's okey - you both keep the flag of interruption and indicate that your <code>getDataAsynchronously()</code> hasn't been executed correctly and there is no answer to return.</li>\n<li>Do &quot;best effort&quot; - call <code>Thread.currentThread().interrupt()</code> and just return from <code>extractFutureIntoList</code>. Your program would continue executing <code>extractFutureIntoList</code> calls left. If any of other futures would be already complete, thus their result is available immediately, <code>future.get()</code> would return calculation result without throwing <code>InterruptedException</code>. So you would collect data from all futures done at the moment of thread interruption. It would be a kind of graceful shutdown.</li>\n<li>If possible - mark <code>getDataAsynchronously</code> as <code>throws InterruptedException</code> and re-throw exception. It's a best practice - mark any blocking method as <code>throws InterruptedException</code>. Your method <code>getDataAsynchronously</code> is blocking and actually implies to throw it.</li>\n</ol>\n"}],"owner":{"account_id":2822432,"reputation":60,"user_id":2425886,"display_name":"Harry Geoffrey Trebing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76425499,"answer_count":2,"score":1,"last_activity_date":1686156999,"creation_date":1686153937,"question_id":76425216,"body_markdown":"So, I am having an issue where Sonar Qube is flagging my code due to improper handling of `InterruptedExceptions`. The exact Sonar Qube error is `java:S2142`, and can be found here: https://github.com/joansmith/sonar-java/blob/master/java-checks/src/main/resources/org/sonar/l10n/java/rules/squid/S2142.html\r\n\r\nMy code is below - Sonar Qube is flagging the handling of possible `InterruptedExceptions` in `extractFutureIntoList()` as the source of the problem:\r\n```java\r\n@Service\r\n@Log4j2\r\npublic class AsynchronousDataGrabber {\r\n\r\n  ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n\r\n  public List&lt;MyDataObject&gt; getDataAsynchronously() {\r\n    Optional&lt;Future&lt;MyDataObject&gt;&gt; future01 = getDataFuture(&quot;01&quot;);\r\n    Optional&lt;Future&lt;MyDataObject&gt;&gt; future02 = getDataFuture(&quot;02&quot;);\r\n    Optional&lt;Future&lt;MyDataObject&gt;&gt; future03 = getDataFuture(&quot;03&quot;);\r\n\r\n    List&lt;MyDataObject&gt; list = new ArrayList();\r\n\t\r\n    extractFutureIntoList(future01, list);\r\n    extractFutureIntoList(future02, list);\r\n    extractFutureIntoList(future03, list);\r\n    \r\n    return list;\r\n  }\r\n\r\n\r\n  private Optional&lt;Future&lt;MyDataObject&gt;&gt; getDataFuture(String key) {\r\n    try {\r\n      return Optional.of(executorService.submit(() -&gt; getDataFromRemoteApi(key)));\r\n    } catch(Exception e) {\r\n\t  log.error(&quot;Exception&quot;, e);\r\n      return Optional.empty();\r\n    }\r\n  }\r\n  \r\n  private void extractFutureIntoList(Optional&lt;Future&lt;MyDataObject&gt;&gt; future, List&lt;MyDataObject&gt; list) {\r\n    try {\r\n      if (future.isPresent()) {  \r\n        // This is apparently where the `InterruptedException` can occur - Future.get()\r\n\tlist.add(future.get().get());  \r\n      }\r\n    } catch (Exception e) {\r\n      // SonarQube is telling me that merely logging an `InterupptedException` is not enough\r\n      // Apparently, I must either rethrow the `InterruptedException`,\r\n      //or call `Thread.currentThread().interrupt()\r\n      log.error(&quot;Exception&quot;, e);\r\n      return;\t\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nSonar Qube proposes that I solve this problem either by rethrowing `InterruptedException`, or by calling `Thread.currentThread().interrupt()` -- whenever `Future.get()` is interrupted.\r\n\r\nMy problem with this is that `getDataAsynchronously()` is being called by my application&#39;s main thread. If the only acceptable response to an `InterruptedException` is to rethrow it or interrupt the current thread, then a single interrupt in one of my `executorService&#39;s` threads will bring down my entire application. This seems to be an excessive response, especially given that the task being run by the threads - `getDataFromRemoteApi()` - may not always be successful anyway.\r\n\r\nIs there a better way to handle `InterruptedException` - ideally one that is acceptable to Sonar Qube, but doesn&#39;t involve killing the thread that is trying to call `Future.get()`?\r\n\r\n\r\nI have tried logging the `InterruptedException` (`log.error(&quot;Exception&quot;, e);`), and I have tried to catch and rethrow the `InterruptedException` (`throw new RuntimeException(e);`) - neither appeased Sonar Qube.","title":"Correct Handling of `InterruptedExceptions` in Java","body":"<p>So, I am having an issue where Sonar Qube is flagging my code due to improper handling of <code>InterruptedExceptions</code>. The exact Sonar Qube error is <code>java:S2142</code>, and can be found here: <a href=\"https://github.com/joansmith/sonar-java/blob/master/java-checks/src/main/resources/org/sonar/l10n/java/rules/squid/S2142.html\" rel=\"nofollow noreferrer\">https://github.com/joansmith/sonar-java/blob/master/java-checks/src/main/resources/org/sonar/l10n/java/rules/squid/S2142.html</a></p>\n<p>My code is below - Sonar Qube is flagging the handling of possible <code>InterruptedExceptions</code> in <code>extractFutureIntoList()</code> as the source of the problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Log4j2\npublic class AsynchronousDataGrabber {\n\n  ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n  public List&lt;MyDataObject&gt; getDataAsynchronously() {\n    Optional&lt;Future&lt;MyDataObject&gt;&gt; future01 = getDataFuture(&quot;01&quot;);\n    Optional&lt;Future&lt;MyDataObject&gt;&gt; future02 = getDataFuture(&quot;02&quot;);\n    Optional&lt;Future&lt;MyDataObject&gt;&gt; future03 = getDataFuture(&quot;03&quot;);\n\n    List&lt;MyDataObject&gt; list = new ArrayList();\n    \n    extractFutureIntoList(future01, list);\n    extractFutureIntoList(future02, list);\n    extractFutureIntoList(future03, list);\n    \n    return list;\n  }\n\n\n  private Optional&lt;Future&lt;MyDataObject&gt;&gt; getDataFuture(String key) {\n    try {\n      return Optional.of(executorService.submit(() -&gt; getDataFromRemoteApi(key)));\n    } catch(Exception e) {\n      log.error(&quot;Exception&quot;, e);\n      return Optional.empty();\n    }\n  }\n  \n  private void extractFutureIntoList(Optional&lt;Future&lt;MyDataObject&gt;&gt; future, List&lt;MyDataObject&gt; list) {\n    try {\n      if (future.isPresent()) {  \n        // This is apparently where the `InterruptedException` can occur - Future.get()\n    list.add(future.get().get());  \n      }\n    } catch (Exception e) {\n      // SonarQube is telling me that merely logging an `InterupptedException` is not enough\n      // Apparently, I must either rethrow the `InterruptedException`,\n      //or call `Thread.currentThread().interrupt()\n      log.error(&quot;Exception&quot;, e);\n      return;   \n    }\n  }\n}\n</code></pre>\n<p>Sonar Qube proposes that I solve this problem either by rethrowing <code>InterruptedException</code>, or by calling <code>Thread.currentThread().interrupt()</code> -- whenever <code>Future.get()</code> is interrupted.</p>\n<p>My problem with this is that <code>getDataAsynchronously()</code> is being called by my application's main thread. If the only acceptable response to an <code>InterruptedException</code> is to rethrow it or interrupt the current thread, then a single interrupt in one of my <code>executorService's</code> threads will bring down my entire application. This seems to be an excessive response, especially given that the task being run by the threads - <code>getDataFromRemoteApi()</code> - may not always be successful anyway.</p>\n<p>Is there a better way to handle <code>InterruptedException</code> - ideally one that is acceptable to Sonar Qube, but doesn't involve killing the thread that is trying to call <code>Future.get()</code>?</p>\n<p>I have tried logging the <code>InterruptedException</code> (<code>log.error(&quot;Exception&quot;, e);</code>), and I have tried to catch and rethrow the <code>InterruptedException</code> (<code>throw new RuntimeException(e);</code>) - neither appeased Sonar Qube.</p>\n"},{"tags":["java","cloud","cloud-foundry","filehandle","resource-leak"],"comments":[{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":0,"creation_date":1684782897,"post_id":76303395,"comment_id":134564429,"body_markdown":"Hard to say what is going on exactly, but unless your app is doing something particularly disk intensive, &quot;too many open files&quot; typically means too many open network connections. Linux considers them to be &quot;files&quot; as well, so open network connections will count to the limit. Look at `VCAP_APPLICATION`, it has a `limits` section which will tell you how many open files your app instance can have. I can&#39;t speak to your environment, but it&#39;s usually in the thousands, so a couple of hundred db connections or open jar files is usually a small fraction of the total.","body":"Hard to say what is going on exactly, but unless your app is doing something particularly disk intensive, &quot;too many open files&quot; typically means too many open network connections. Linux considers them to be &quot;files&quot; as well, so open network connections will count to the limit. Look at <code>VCAP_APPLICATION</code>, it has a <code>limits</code> section which will tell you how many open files your app instance can have. I can&#39;t speak to your environment, but it&#39;s usually in the thousands, so a couple of hundred db connections or open jar files is usually a small fraction of the total."},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":0,"creation_date":1684782968,"post_id":76303395,"comment_id":134564439,"body_markdown":"Are you expecting your application to be very busy? If it has a lot of traffic, you might be just hitting the point where you need to scale up and add more instances. Each instance has its own file limit so you can scale the max open files by adding more instances.","body":"Are you expecting your application to be very busy? If it has a lot of traffic, you might be just hitting the point where you need to scale up and add more instances. Each instance has its own file limit so you can scale the max open files by adding more instances."},{"owner":{"account_id":2282818,"reputation":1576,"user_id":2007533,"accept_rate":47,"display_name":"Kumar"},"score":0,"creation_date":1684840814,"post_id":76303395,"comment_id":134572954,"body_markdown":"@DanielMikusa: I checked by doing ssh on application. The limit is ~32000. We already have scaling in place. The app has minimum 3 instances and max 6 instances.","body":"@DanielMikusa: I checked by doing ssh on application. The limit is ~32000. We already have scaling in place. The app has minimum 3 instances and max 6 instances."},{"owner":{"account_id":2282818,"reputation":1576,"user_id":2007533,"accept_rate":47,"display_name":"Kumar"},"score":0,"creation_date":1684840885,"post_id":76303395,"comment_id":134572974,"body_markdown":"@DanielMikusa: Can the broken pipe error while accessing DB leak file handle?","body":"@DanielMikusa: Can the broken pipe error while accessing DB leak file handle?"},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":0,"creation_date":1684850302,"post_id":76303395,"comment_id":134575335,"body_markdown":"I recommend running `cf env` and looking at `VCAP_APPLICATION`. When you `cf ssh` into a container, the environment is not always the same as the environment where the app is running. I don&#39;t know if that would impact how you are checking the limits, but I do know that what is reported in `VCAP_APPLICATION` will always be correct.","body":"I recommend running <code>cf env</code> and looking at <code>VCAP_APPLICATION</code>. When you <code>cf ssh</code> into a container, the environment is not always the same as the environment where the app is running. I don&#39;t know if that would impact how you are checking the limits, but I do know that what is reported in <code>VCAP_APPLICATION</code> will always be correct."},{"owner":{"account_id":2282818,"reputation":1576,"user_id":2007533,"accept_rate":47,"display_name":"Kumar"},"score":0,"creation_date":1684938744,"post_id":76303395,"comment_id":134591177,"body_markdown":"@DanielMikusa: It is 32768 in `VCAP_APPLICATION`","body":"@DanielMikusa: It is 32768 in <code>VCAP_APPLICATION</code>"},{"owner":{"account_id":2282818,"reputation":1576,"user_id":2007533,"accept_rate":47,"display_name":"Kumar"},"score":0,"creation_date":1686150806,"post_id":76303395,"comment_id":134760475,"body_markdown":"@DanielMikusa: Today I took the lsof dump when the count was close to 17K (It happened after few days). Most of the entries (~16.5 K) looks like following:\n`java      7 vcap  128u     sock                0,8      0t0 1365000653 protocol: TCP`\nAs JAVA application, we make only http calls - from our app there seems no connection leak. Even the count of open http connections in lsof were in few hundreds. The netstat didn&#39;t provide anything interesting but sockstat shows TCP alloc count as ~65K and TCP mem as ~30K. Any clues - what we can do to proceed further...","body":"@DanielMikusa: Today I took the lsof dump when the count was close to 17K (It happened after few days). Most of the entries (~16.5 K) looks like following: <code>java      7 vcap  128u     sock                0,8      0t0 1365000653 protocol: TCP</code> As JAVA application, we make only http calls - from our app there seems no connection leak. Even the count of open http connections in lsof were in few hundreds. The netstat didn&#39;t provide anything interesting but sockstat shows TCP alloc count as ~65K and TCP mem as ~30K. Any clues - what we can do to proceed further..."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1686219798,"post_id":76303395,"comment_id":134770412,"body_markdown":"The open jars should correspond to the classpath of the running tomcat plus the classpath elements of web-apps and other services. They shouldn&#39;t be opened per request, only when a request hits new codebase of a loaded service. If you had 100 webapps each containing same jar I&#39;d expect to see 100 file handle use of that jar path, whereas 100 webapps could use same server classpath jar for as one filehandle.","body":"The open jars should correspond to the classpath of the running tomcat plus the classpath elements of web-apps and other services. They shouldn&#39;t be opened per request, only when a request hits new codebase of a loaded service. If you had 100 webapps each containing same jar I&#39;d expect to see 100 file handle use of that jar path, whereas 100 webapps could use same server classpath jar for as one filehandle."},{"owner":{"account_id":2282818,"reputation":1576,"user_id":2007533,"accept_rate":47,"display_name":"Kumar"},"score":0,"creation_date":1686288414,"post_id":76303395,"comment_id":134781086,"body_markdown":"@DuncG: Yes, you are right. I think the command I ran printed it per tenant. So, I again ran command when there were too many open file handles and it’s result is in my previous comment.","body":"@DuncG: Yes, you are right. I think the command I ran printed it per tenant. So, I again ran command when there were too many open file handles and it’s result is in my previous comment."},{"owner":{"account_id":1445493,"reputation":5311,"user_id":1364149,"accept_rate":57,"display_name":"Shloim"},"score":0,"creation_date":1686750875,"post_id":76303395,"comment_id":134842314,"body_markdown":"@Kumar Can you run `netstat -pnta` (or `ss -pnta`) when the count is close to 17K ?","body":"@Kumar Can you run <code>netstat -pnta</code> (or <code>ss -pnta</code>) when the count is close to 17K ?"}],"owner":{"account_id":2282818,"reputation":1576,"user_id":2007533,"accept_rate":47,"display_name":"Kumar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686156543,"creation_date":1684735436,"question_id":76303395,"body_markdown":"I have a java (tomcat / spring based) cloud multi-tenant application running on cloud foundry, which uses a cloud database. We use `tomcat jdbc` for connection pooling with maximum 8 connections per tenant. We have max wait configured for 60 seconds on connections in `tomcat jdbc`. We cache connection for 300 tenants at any given time.\r\n\r\nRecently we experienced `Too many open files` Error.\r\n\r\nWhen we checked `lsof`, we had some interesting findings:\r\n\r\n 1. There were 191 entries for each jar in `lsof` output. Does it mean, the jar file is being opened for each request?\r\n 2. There were many socket connections (to Cloud Database and Load Balancer - We have one http call to another micro-service in some calls) in `CLOSE_WAIT` state.\r\n\r\nWe further checked our dynatrace and found following:\r\n\r\n 1. We had some `getConnection` calls which failed with Broken Pipe error during `borrowConnection` (reconnect or validate), after 10 mins. I am not sure why `max wait` was not honoured, and is the socket closed after the Broken Pipe.\r\n 2. Eventually `getConnection` and `jar loading` (Don&#39;t know, why jar is being loaded again) started failing with `Too many open files` Error.\r\n\r\nWe also don&#39;t see any connection leak as it would resulted in `PoolExhaustedException` not the current one.\r\n\r\nAny ideas / hints on what is going wrong? ","title":"Too many open files Error in Cloud Foundry","body":"<p>I have a java (tomcat / spring based) cloud multi-tenant application running on cloud foundry, which uses a cloud database. We use <code>tomcat jdbc</code> for connection pooling with maximum 8 connections per tenant. We have max wait configured for 60 seconds on connections in <code>tomcat jdbc</code>. We cache connection for 300 tenants at any given time.</p>\n<p>Recently we experienced <code>Too many open files</code> Error.</p>\n<p>When we checked <code>lsof</code>, we had some interesting findings:</p>\n<ol>\n<li>There were 191 entries for each jar in <code>lsof</code> output. Does it mean, the jar file is being opened for each request?</li>\n<li>There were many socket connections (to Cloud Database and Load Balancer - We have one http call to another micro-service in some calls) in <code>CLOSE_WAIT</code> state.</li>\n</ol>\n<p>We further checked our dynatrace and found following:</p>\n<ol>\n<li>We had some <code>getConnection</code> calls which failed with Broken Pipe error during <code>borrowConnection</code> (reconnect or validate), after 10 mins. I am not sure why <code>max wait</code> was not honoured, and is the socket closed after the Broken Pipe.</li>\n<li>Eventually <code>getConnection</code> and <code>jar loading</code> (Don't know, why jar is being loaded again) started failing with <code>Too many open files</code> Error.</li>\n</ol>\n<p>We also don't see any connection leak as it would resulted in <code>PoolExhaustedException</code> not the current one.</p>\n<p>Any ideas / hints on what is going wrong?</p>\n"},{"tags":["java","hibernate","jpa","concurrency","optimistic-locking"],"comments":[{"owner":{"account_id":478441,"reputation":3062,"user_id":890537,"accept_rate":70,"display_name":"m02ph3u5"},"score":0,"creation_date":1686138997,"post_id":76418742,"comment_id":134757540,"body_markdown":"What do you use as version? Show us some code :)","body":"What do you use as version? Show us some code :)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686152818,"post_id":76418742,"comment_id":134760926,"body_markdown":"Optimistic locking works at at the database level, so it is the same across multiple VMs as it is in multiple processes in a single VM. It is simple- it just checks that the version of the data in the DB matches what is expected in the update/delete statement. It is up to the application to ensure though that the versions in the entities are being respected, and you aren&#39;t doing something like serializing data around and merging it into the latest entity read from the database yourself - if you do, you&#39;ll want to check the version number yourself too.","body":"Optimistic locking works at at the database level, so it is the same across multiple VMs as it is in multiple processes in a single VM. It is simple- it just checks that the version of the data in the DB matches what is expected in the update/delete statement. It is up to the application to ensure though that the versions in the entities are being respected, and you aren&#39;t doing something like serializing data around and merging it into the latest entity read from the database yourself - if you do, you&#39;ll want to check the version number yourself too."},{"owner":{"account_id":4162185,"reputation":11,"user_id":3412036,"display_name":"Toddy Zed"},"score":0,"creation_date":1686156186,"post_id":76418742,"comment_id":134761613,"body_markdown":"We are using JPA with hibernate under the hood. @m02ph3u5. Optimistic locking is working, at least between the threads inside each service, I can see it tripping exceptions and trying in the retry listener i added.\n\nI added some code to the question up top.","body":"We are using JPA with hibernate under the hood. @m02ph3u5. Optimistic locking is working, at least between the threads inside each service, I can see it tripping exceptions and trying in the retry listener i added.  I added some code to the question up top."},{"owner":{"account_id":4162185,"reputation":11,"user_id":3412036,"display_name":"Toddy Zed"},"score":0,"creation_date":1686156907,"post_id":76418742,"comment_id":134761758,"body_markdown":"@Chris What do you mean by it works at the database level? Isn&#39;t optimistic locking an application-level concurrency control? Don&#39;t we need the first level cache to guarantee session-level repeatable reads?","body":"@Chris What do you mean by it works at the database level? Isn&#39;t optimistic locking an application-level concurrency control? Don&#39;t we need the first level cache to guarantee session-level repeatable reads?"},{"owner":{"account_id":4162185,"reputation":11,"user_id":3412036,"display_name":"Toddy Zed"},"score":0,"creation_date":1686166837,"post_id":76418742,"comment_id":134763608,"body_markdown":"@m02ph3u5 for version we have a column in the database tables where we want locking. This is updated automatically by JPA hibernate whenever there is an update to the record.","body":"@m02ph3u5 for version we have a column in the database tables where we want locking. This is updated automatically by JPA hibernate whenever there is an update to the record."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686175459,"post_id":76418742,"comment_id":134765034,"body_markdown":"No, it has no requirements on caching. It is at the DB level because the DB updates the row or doesn&#39;t with the application using a clause that includes the ID for the row as well as the locking field value. ie where id = X and version=Y. Nothing is updated and an exception occurs if the version isn&#39;t still set to Y. This works for applications because the version field is passed around, and when that data is merged in, can&#39;t overwrite the data if the version field is at Y+N. Your other application might be incrementing the version or just not passing it around","body":"No, it has no requirements on caching. It is at the DB level because the DB updates the row or doesn&#39;t with the application using a clause that includes the ID for the row as well as the locking field value. ie where id = X and version=Y. Nothing is updated and an exception occurs if the version isn&#39;t still set to Y. This works for applications because the version field is passed around, and when that data is merged in, can&#39;t overwrite the data if the version field is at Y+N. Your other application might be incrementing the version or just not passing it around"}],"owner":{"account_id":4162185,"reputation":11,"user_id":3412036,"display_name":"Toddy Zed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686156482,"creation_date":1686089166,"question_id":76418742,"body_markdown":"We are using Optimistic Locking with JPA and it seems to work perfectly within each multi-threaded service no matter how many threads we add, but when two services running as separate apps are updating the same columns in a table they overwrite each other (dirty reads). Is Hibernate optimistic locking not guaranteed to work across separate JVMs? I&#39;ve had a hard time finding any info on this.\r\n\r\nWe are using JPA with hibernate under the hood. Optimistic locking is working, at least between the threads inside each service, I can see it tripping exceptions and trying in the retry listener i added.\r\n\r\nHere is some code\r\n\r\n    @Transactional\r\n    @Retryable(value = {Exception.class}, maxAttemptsExpression  = &quot;${locking.max.retry.count:30}&quot;,\r\n            backoff = @Backoff(delayExpression = &quot;${locking.retry.sleep.time:10}&quot;),\r\n                    listeners = &quot;accountUpdateRetryListener&quot;)\r\n    public void balancesAndAmtsUpdate(TransactionSet transactionSet) {\r\n\r\n           // new entity versions are picked up in here\r\n            mapTransactionsToAccounts(transactionSet);\r\n            groupAccounts(transactionSet);\r\n\r\n            // update Accounts\r\n            transactionSet.getAccountPostingAggregators().forEach( agg -&gt; accountUpdate(agg, transactionSet));\r\n\r\n            transactionSet.getNettingAggregators().forEach( agg -&gt; {\r\n                if (transactionSet.getDigestForPosting()) {\r\n                    accountNetTotalsUpdate(agg);\r\n                }\r\n                accountsNetSourceUpdate(transactionSet, agg);\r\n            });\r\n    }","title":"Does Hibernate Optimistic Locking not work across different JVMs?","body":"<p>We are using Optimistic Locking with JPA and it seems to work perfectly within each multi-threaded service no matter how many threads we add, but when two services running as separate apps are updating the same columns in a table they overwrite each other (dirty reads). Is Hibernate optimistic locking not guaranteed to work across separate JVMs? I've had a hard time finding any info on this.</p>\n<p>We are using JPA with hibernate under the hood. Optimistic locking is working, at least between the threads inside each service, I can see it tripping exceptions and trying in the retry listener i added.</p>\n<p>Here is some code</p>\n<pre><code>@Transactional\n@Retryable(value = {Exception.class}, maxAttemptsExpression  = &quot;${locking.max.retry.count:30}&quot;,\n        backoff = @Backoff(delayExpression = &quot;${locking.retry.sleep.time:10}&quot;),\n                listeners = &quot;accountUpdateRetryListener&quot;)\npublic void balancesAndAmtsUpdate(TransactionSet transactionSet) {\n\n       // new entity versions are picked up in here\n        mapTransactionsToAccounts(transactionSet);\n        groupAccounts(transactionSet);\n\n        // update Accounts\n        transactionSet.getAccountPostingAggregators().forEach( agg -&gt; accountUpdate(agg, transactionSet));\n\n        transactionSet.getNettingAggregators().forEach( agg -&gt; {\n            if (transactionSet.getDigestForPosting()) {\n                accountNetTotalsUpdate(agg);\n            }\n            accountsNetSourceUpdate(transactionSet, agg);\n        });\n}\n</code></pre>\n"},{"tags":["java","graph","jgrapht"],"comments":[{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1686067556,"post_id":76414979,"comment_id":134747056,"body_markdown":"I&#39;m not sure I understand the question. What do you mean by &quot;all incoming edges to a vertex of a specific length&quot;. How do you define the length of an edge here? Similarly you state: &quot;(A, B), (D, E) (i.e., all incoming paths of length 2 for vertex C&quot; but these are not paths, these are 2 edges in your graph? If you are looking for all paths of length 2 that end up in vertex C, then I would expect as a result: {(A,B,C),(D,E,C)}. Is that what you are looking for? If so, please update and clarify your question.","body":"I&#39;m not sure I understand the question. What do you mean by &quot;all incoming edges to a vertex of a specific length&quot;. How do you define the length of an edge here? Similarly you state: &quot;(A, B), (D, E) (i.e., all incoming paths of length 2 for vertex C&quot; but these are not paths, these are 2 edges in your graph? If you are looking for all paths of length 2 that end up in vertex C, then I would expect as a result: {(A,B,C),(D,E,C)}. Is that what you are looking for? If so, please update and clarify your question."},{"owner":{"account_id":5491579,"reputation":47,"user_id":4364569,"display_name":"Austin Mordahl"},"score":0,"creation_date":1686130313,"post_id":76414979,"comment_id":134755708,"body_markdown":"@JorisKinable Apologies for the imprecision. I&#39;ve edited the question; let me know if you require further clarification.","body":"@JorisKinable Apologies for the imprecision. I&#39;ve edited the question; let me know if you require further clarification."}],"answers":[{"tags":[],"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686156369,"creation_date":1686156369,"answer_id":76425498,"question_id":76414979,"body_markdown":"The easiest approach is to simply use a shortest path algorithm.\r\n\r\n```\r\nGraph&lt;Integer,DefaultEdge&gt; graph = ...; //whatever graph you like\r\n//Create a new shortest path algorithm with limited radius\r\nDijkstraShortestPath dsp = new DijkstraShortestPath&lt;&gt;(graph, 2.0);\r\nSingleSourcePaths&lt;Integer,DefaultEdge&gt; paths = dsp.getPaths(targetVertex);\r\n```\r\n\r\nNote that the above code finds all paths starting from `targetVertex`. In your example, you seem to have a directed graph with arcs pointing towards vertex `C`. You would either have to specify the graph as undirected, or revert the arc directions to make this work out-of-the-box.\r\n\r\nVarious other solutions exist as well, but I wouldn&#39;t use them unless you have a good reason to do so:\r\n\r\n- compute an all pairs shortest path using the [Floyd-Warshall algorithm](https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/alg/shortestpath/FloydWarshallShortestPaths.html). Iterate over all vertices in your graph, query the distance to your target vertex, and if it&#39;s meets your distance `k`, then you can query the corresponding path.\r\n\r\n- Similar to the first shortest path approach, if you change the directions of the arcs, you can also run a [breadth-first-search](https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/traverse/BreadthFirstIterator.html) (BFS) from the `targetVertex`. Iterate over all vertices, query their depth in the BFS tree (see `getDepth(.)` method. If a vertex is at the desired depth `k`, you can backtrack the tree to the root node.\r\n\r\n- The shortest path approaches or the BFS approach only give you a single path per vertex. There might exist multiple paths. E.g. if your graph had the following paths: (A,B,C) and (A,D,C), then only one would be returned. If you are interested in **all** paths into `targetVertex` of a specific length, you would have to implement a simple dynamic program that generates all paths of length `k` to the `targetVertex` by traversing arcs backwards.\r\n","title":"JGraphT: All paths of a given length that terminate in a specified vertex","body":"<p>The easiest approach is to simply use a shortest path algorithm.</p>\n<pre><code>Graph&lt;Integer,DefaultEdge&gt; graph = ...; //whatever graph you like\n//Create a new shortest path algorithm with limited radius\nDijkstraShortestPath dsp = new DijkstraShortestPath&lt;&gt;(graph, 2.0);\nSingleSourcePaths&lt;Integer,DefaultEdge&gt; paths = dsp.getPaths(targetVertex);\n</code></pre>\n<p>Note that the above code finds all paths starting from <code>targetVertex</code>. In your example, you seem to have a directed graph with arcs pointing towards vertex <code>C</code>. You would either have to specify the graph as undirected, or revert the arc directions to make this work out-of-the-box.</p>\n<p>Various other solutions exist as well, but I wouldn't use them unless you have a good reason to do so:</p>\n<ul>\n<li><p>compute an all pairs shortest path using the <a href=\"https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/alg/shortestpath/FloydWarshallShortestPaths.html\" rel=\"nofollow noreferrer\">Floyd-Warshall algorithm</a>. Iterate over all vertices in your graph, query the distance to your target vertex, and if it's meets your distance <code>k</code>, then you can query the corresponding path.</p>\n</li>\n<li><p>Similar to the first shortest path approach, if you change the directions of the arcs, you can also run a <a href=\"https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/traverse/BreadthFirstIterator.html\" rel=\"nofollow noreferrer\">breadth-first-search</a> (BFS) from the <code>targetVertex</code>. Iterate over all vertices, query their depth in the BFS tree (see <code>getDepth(.)</code> method. If a vertex is at the desired depth <code>k</code>, you can backtrack the tree to the root node.</p>\n</li>\n<li><p>The shortest path approaches or the BFS approach only give you a single path per vertex. There might exist multiple paths. E.g. if your graph had the following paths: (A,B,C) and (A,D,C), then only one would be returned. If you are interested in <strong>all</strong> paths into <code>targetVertex</code> of a specific length, you would have to implement a simple dynamic program that generates all paths of length <code>k</code> to the <code>targetVertex</code> by traversing arcs backwards.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":5491579,"reputation":47,"user_id":4364569,"display_name":"Austin Mordahl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76425498,"answer_count":1,"score":0,"last_activity_date":1686156369,"creation_date":1686056780,"question_id":76414979,"body_markdown":"I am using JGraphT and am looking for a way to compute all incoming paths to a vertex of a specific length. For example, given a directed graph:\r\n\r\n`A -&gt; B`\r\n\r\n`B -&gt; C`\r\n\r\n`D -&gt; E`\r\n\r\n`E -&gt; C`\r\n\r\n`F -&gt; C`\r\n\r\nI am looking for some function `function(node, k)` that gives me all paths that are `k` edges long that terminate in `node` (e.g., for the above graph, `function(C, 2)` should give `(A, B, C), (D, E, C)`). Does such functionality exist out-of-the-box in the library, or do I need to write an algorithm myself?\r\n\r\nThanks in advance!\r\n\r\nI&#39;ve tried going through the API documentation, and found functions that allow me to compute paths between two nodes, not all paths incoming to one node.\r\n\r\nEDIT: Clarified question per Joris&#39; feedback.","title":"JGraphT: All paths of a given length that terminate in a specified vertex","body":"<p>I am using JGraphT and am looking for a way to compute all incoming paths to a vertex of a specific length. For example, given a directed graph:</p>\n<p><code>A -&gt; B</code></p>\n<p><code>B -&gt; C</code></p>\n<p><code>D -&gt; E</code></p>\n<p><code>E -&gt; C</code></p>\n<p><code>F -&gt; C</code></p>\n<p>I am looking for some function <code>function(node, k)</code> that gives me all paths that are <code>k</code> edges long that terminate in <code>node</code> (e.g., for the above graph, <code>function(C, 2)</code> should give <code>(A, B, C), (D, E, C)</code>). Does such functionality exist out-of-the-box in the library, or do I need to write an algorithm myself?</p>\n<p>Thanks in advance!</p>\n<p>I've tried going through the API documentation, and found functions that allow me to compute paths between two nodes, not all paths incoming to one node.</p>\n<p>EDIT: Clarified question per Joris' feedback.</p>\n"},{"tags":["java","string","escaping"],"comments":[{"owner":{"account_id":118337,"reputation":170822,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"score":0,"creation_date":1276469340,"post_id":3034186,"comment_id":3103786,"body_markdown":"Related: http://stackoverflow.com/questions/2678483/simple-direct-heredoc-way-of-constructing-a-html-string-in-java","body":"Related: <a href=\"http://stackoverflow.com/questions/2678483/simple-direct-heredoc-way-of-constructing-a-html-string-in-java\" title=\"simple direct heredoc way of constructing a html string in java\">stackoverflow.com/questions/2678483/&hellip;</a>"},{"owner":{"account_id":174227,"reputation":27776,"user_id":403455,"accept_rate":83,"display_name":"Jeff Axelrod"},"score":0,"creation_date":1331318569,"post_id":3034186,"comment_id":12236666,"body_markdown":"[This answer](http://stackoverflow.com/a/121513/403455) shows how to paste multi-line escaped strings in Eclispe.","body":"<a href=\"http://stackoverflow.com/a/121513/403455\">This answer</a> shows how to paste multi-line escaped strings in Eclispe."},{"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":3,"creation_date":1517095458,"post_id":3034186,"comment_id":83956134,"body_markdown":"Update 2018: raw string literals for Java might be coming. [See my answer below](https://stackoverflow.com/a/48481601/6309)","body":"Update 2018: raw string literals for Java might be coming. <a href=\"https://stackoverflow.com/a/48481601/6309\">See my answer below</a>"},{"owner":{"account_id":7730120,"reputation":751,"user_id":5853556,"accept_rate":68,"display_name":"Kervvv"},"score":0,"creation_date":1537936087,"post_id":3034186,"comment_id":91959903,"body_markdown":"import jackson ObjectMapper then \n  `System.out.println(mapperObj.writeValueAsString(mapperObj.readValue(str, Object.class)));`","body":"import jackson ObjectMapper then    <code>System.out.println(mapperObj.writeValueAsString(mapperObj.re&zwnj;&#8203;adValue(str, Object.class)));</code>"},{"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1544905479,"post_id":3034186,"comment_id":94443540,"body_markdown":"update Q4 2018: raw string literal are *not* coming just yet. See my [updated answer](https://stackoverflow.com/a/48481601/6309).","body":"update Q4 2018: raw string literal are <i>not</i> coming just yet. See my <a href=\"https://stackoverflow.com/a/48481601/6309\">updated answer</a>."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":1,"creation_date":1578286305,"post_id":3034186,"comment_id":105377436,"body_markdown":"Coming back to this issue after away from java six years is irritating.","body":"Coming back to this issue after away from java six years is irritating."}],"answers":[{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1507102215,"creation_date":1276469310,"answer_id":3034195,"question_id":3034186,"body_markdown":"The answer is no, and the proof resides in the __Java Language Specification__:\r\n\r\n      StringLiteral:\r\n       &quot;StringCharacters&quot;\r\n\r\n      StringCharacters:\r\n       StringCharacter\r\n       | StringCharacters StringCharacter\r\n\r\n      StringCharacter:\r\n       InputCharacter but not &quot; or \\\r\n       | EscapeSequence\r\n\r\nAs you can see a `StringLiteral` can just be bound by `&quot;` and cannot contain special character without escapes..\r\n\r\nA side note: you can embed [Groovy][1] inside your project, this will extend the syntax of Java allowing you to use `&#39;&#39;&#39;multi line string &#39;&#39;&#39; `, `&#39; &quot;string with single quotes&quot; &#39;` and also `&quot;string with ${variable}&quot;`.\r\n\r\n\r\n  [1]: http://groovy-lang.org/","title":"In Java, is there a way to write a string literal without having to escape quotes?","body":"<p>The answer is no, and the proof resides in the <strong>Java Language Specification</strong>:</p>\n\n<pre><code>  StringLiteral:\n   \"StringCharacters\"\n\n  StringCharacters:\n   StringCharacter\n   | StringCharacters StringCharacter\n\n  StringCharacter:\n   InputCharacter but not \" or \\\n   | EscapeSequence\n</code></pre>\n\n<p>As you can see a <code>StringLiteral</code> can just be bound by <code>\"</code> and cannot contain special character without escapes..</p>\n\n<p>A side note: you can embed <a href=\"http://groovy-lang.org/\" rel=\"noreferrer\">Groovy</a> inside your project, this will extend the syntax of Java allowing you to use <code>'''multi line string '''</code>, <code>' \"string with single quotes\" '</code> and also <code>\"string with ${variable}\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":110220,"reputation":37362,"user_id":291741,"accept_rate":87,"display_name":"Chris Lercher"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1276469395,"creation_date":1276469395,"answer_id":3034199,"question_id":3034186,"body_markdown":"Simple answer: No.\r\n\r\nFor longer strings that must be escaped, I usually read them from some external resource.","title":"In Java, is there a way to write a string literal without having to escape quotes?","body":"<p>Simple answer: No.</p>\n\n<p>For longer strings that must be escaped, I usually read them from some external resource.</p>\n"},{"tags":[],"owner":{"account_id":11817,"reputation":16579,"user_id":22979,"accept_rate":66,"display_name":"benjismith"},"down_vote_count":1,"up_vote_count":167,"is_accepted":false,"score":166,"last_activity_date":1276469622,"creation_date":1276469622,"answer_id":3034206,"question_id":3034186,"body_markdown":"No, and I&#39;ve always been annoyed by the lack of different string-literal syntaxes in Java.\r\n\r\nHere&#39;s a trick I&#39;ve used from time to time:\r\n\r\n    String myString = &quot;using `backticks` instead of quotes&quot;.replace(&#39;`&#39;, &#39;&quot;&#39;);\r\n\r\nI mainly only do something like that for a static field. Since it&#39;s static the string-replace code gets called once, upon initialization of the class. So the runtime performance penalty is practically nonexistent, and it makes the code considerably more legible.\r\n\r\n   ","title":"In Java, is there a way to write a string literal without having to escape quotes?","body":"<p>No, and I've always been annoyed by the lack of different string-literal syntaxes in Java.</p>\n\n<p>Here's a trick I've used from time to time:</p>\n\n<pre><code>String myString = \"using `backticks` instead of quotes\".replace('`', '\"');\n</code></pre>\n\n<p>I mainly only do something like that for a static field. Since it's static the string-replace code gets called once, upon initialization of the class. So the runtime performance penalty is practically nonexistent, and it makes the code considerably more legible.</p>\n"},{"tags":[],"owner":{"account_id":367804,"reputation":10671,"user_id":714211,"accept_rate":72,"display_name":"Doua Beri"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1595268752,"creation_date":1346662626,"answer_id":12244764,"question_id":3034186,"body_markdown":"you can also use [StringEscapeUtils][1] from apache commons\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html\r\n\r\n\r\n**UPDATE**: If someone is interested in some examples here is a useful link : https://dzone.com/articles/commons-lang-3-improved-and-powerful-StringEscapeUtils","title":"In Java, is there a way to write a string literal without having to escape quotes?","body":"<p>you can also use <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">StringEscapeUtils</a> from apache commons</p>\n<p><strong>UPDATE</strong>: If someone is interested in some examples here is a useful link : <a href=\"https://dzone.com/articles/commons-lang-3-improved-and-powerful-StringEscapeUtils\" rel=\"nofollow noreferrer\">https://dzone.com/articles/commons-lang-3-improved-and-powerful-StringEscapeUtils</a></p>\n"},{"tags":[],"owner":{"account_id":3206402,"reputation":172,"user_id":2707397,"display_name":"Anonymous Person"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1406185571,"creation_date":1377259964,"answer_id":18402561,"question_id":3034186,"body_markdown":"The following seems to work for me:\r\n\r\n    String x = &quot;Some Text&quot; + &#39;&quot;&#39; + &quot;More Text&quot; + &#39;&quot;&#39; + &quot;Even More Text&quot;;\r\n\r\nI think because char is the primitive variable type for String, Strings and chars can be combined (at least the eclipse compiler doesn&#39;t seem to complain).","title":"In Java, is there a way to write a string literal without having to escape quotes?","body":"<p>The following seems to work for me:</p>\n\n<pre><code>String x = \"Some Text\" + '\"' + \"More Text\" + '\"' + \"Even More Text\";\n</code></pre>\n\n<p>I think because char is the primitive variable type for String, Strings and chars can be combined (at least the eclipse compiler doesn't seem to complain).</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1544905423,"creation_date":1517095420,"answer_id":48481601,"question_id":3034186,"body_markdown":"Update Dec. 2018 (12 months later):\n\nRaw string literals (which are on the [amber list][1]) won&#39;t make it to JDK 12.  \nSee the [criticisms here][2].\n\n---\n\nThere might be in a future version of Java (10 or more).\n\nSee [JEPS 8196004][3] from January 2018: ([&quot;JEP&quot; is the &quot;JDK Enhancement Program&quot;][4])\n\n&gt; ## JEP draft: Raw String Literals\n&gt;\n&gt; Add a new kind of literal, a raw string literal, to the Java programming language.  \nLike the traditional string literal, a raw string literal produces a String, but **does not interpret string escapes and can span multiple lines of source code**.\n\nSo instead of:\n\n    Runtime.getRuntime().exec(&quot;\\&quot;C:\\\\Program Files\\\\foo\\&quot; bar&quot;);\n    String html = &quot;&lt;html&gt;\\n&quot;\n                  &quot;    &lt;body&gt;\\n&quot; +\n                  &quot;         &lt;p&gt;Hello World.&lt;/p&gt;\\n&quot; +\n                  &quot;    &lt;/body&gt;\\n&quot; +\n                  &quot;&lt;/html&gt;\\n&quot;;\n    System.out.println(&quot;this&quot;.matches(&quot;\\\\w\\\\w\\\\w\\\\w&quot;));\n\nYou would be able to type:\n    \n\n    Runtime.getRuntime().exec(`&quot;C:\\Program Files\\foo&quot; bar&quot;`);\n        \n    String html = `&lt;html&gt;\n                       &lt;body&gt;\n                           &lt;p&gt;Hello World.&lt;/p&gt;\n                       &lt;/body&gt;\n                   &lt;/html&gt;\n                  `;\n    \n    System.out.println(&quot;this&quot;.matches(`\\w\\w\\w\\w`));\n\nNeat!\n\nBut it is still [just a draft][5]: it will need to posted, submitted, be a candidate, and funded, before being completed and making it into the next JDK.\n\n\n  [1]: https://openjdk.java.net/projects/amber/\n  [2]: https://mail.openjdk.java.net/pipermail/jdk-dev/2018-December/002402.html\n  [3]: http://openjdk.java.net/jeps/8196004\n  [4]: https://en.wikipedia.org/wiki/JDK_Enhancement_Proposal\n  [5]: http://openjdk.java.net/jeps/1#Process-states","title":"In Java, is there a way to write a string literal without having to escape quotes?","body":"<p>Update Dec. 2018 (12 months later):</p>\n<p>Raw string literals (which are on the <a href=\"https://openjdk.java.net/projects/amber/\" rel=\"noreferrer\">amber list</a>) won't make it to JDK 12.<br />\nSee the <a href=\"https://mail.openjdk.java.net/pipermail/jdk-dev/2018-December/002402.html\" rel=\"noreferrer\">criticisms here</a>.</p>\n<hr />\n<p>There might be in a future version of Java (10 or more).</p>\n<p>See <a href=\"http://openjdk.java.net/jeps/8196004\" rel=\"noreferrer\">JEPS 8196004</a> from January 2018: (<a href=\"https://en.wikipedia.org/wiki/JDK_Enhancement_Proposal\" rel=\"noreferrer\">&quot;JEP&quot; is the &quot;JDK Enhancement Program&quot;</a>)</p>\n<blockquote>\n<h2>JEP draft: Raw String Literals</h2>\n<p>Add a new kind of literal, a raw string literal, to the Java programming language.<br />\nLike the traditional string literal, a raw string literal produces a String, but <strong>does not interpret string escapes and can span multiple lines of source code</strong>.</p>\n</blockquote>\n<p>So instead of:</p>\n<pre><code>Runtime.getRuntime().exec(&quot;\\&quot;C:\\\\Program Files\\\\foo\\&quot; bar&quot;);\nString html = &quot;&lt;html&gt;\\n&quot;\n              &quot;    &lt;body&gt;\\n&quot; +\n              &quot;         &lt;p&gt;Hello World.&lt;/p&gt;\\n&quot; +\n              &quot;    &lt;/body&gt;\\n&quot; +\n              &quot;&lt;/html&gt;\\n&quot;;\nSystem.out.println(&quot;this&quot;.matches(&quot;\\\\w\\\\w\\\\w\\\\w&quot;));\n</code></pre>\n<p>You would be able to type:</p>\n<pre><code>Runtime.getRuntime().exec(`&quot;C:\\Program Files\\foo&quot; bar&quot;`);\n    \nString html = `&lt;html&gt;\n                   &lt;body&gt;\n                       &lt;p&gt;Hello World.&lt;/p&gt;\n                   &lt;/body&gt;\n               &lt;/html&gt;\n              `;\n\nSystem.out.println(&quot;this&quot;.matches(`\\w\\w\\w\\w`));\n</code></pre>\n<p>Neat!</p>\n<p>But it is still <a href=\"http://openjdk.java.net/jeps/1#Process-states\" rel=\"noreferrer\">just a draft</a>: it will need to posted, submitted, be a candidate, and funded, before being completed and making it into the next JDK.</p>\n"},{"tags":[],"owner":{"account_id":4240688,"reputation":792,"user_id":3470670,"display_name":"Mateusz Marchel"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1686156277,"creation_date":1598379257,"answer_id":63584850,"question_id":3034186,"body_markdown":"Since Java 15&#185; there is new feature called Text Blocks. It looks similar to what you mentioned is available in Python:\r\n\r\n    String text = &quot;&quot;&quot;\r\n                  {\r\n                     &quot;property&quot;: &quot;value&quot;,\r\n                     &quot;otherProperty&quot;: 12\r\n                  }\r\n                  &quot;&quot;&quot;;\r\n\r\nMore details with examples can be found here: https://openjdk.java.net/jeps/378 JEP 378: Text Blocks\r\n\r\n---\r\n&#185; *Previewed in Java 13 and 14.*","title":"In Java, is there a way to write a string literal without having to escape quotes?","body":"<p>Since Java 15¹ there is new feature called Text Blocks. It looks similar to what you mentioned is available in Python:</p>\n<pre><code>String text = &quot;&quot;&quot;\n              {\n                 &quot;property&quot;: &quot;value&quot;,\n                 &quot;otherProperty&quot;: 12\n              }\n              &quot;&quot;&quot;;\n</code></pre>\n<p>More details with examples can be found here: <a href=\"https://openjdk.java.net/jeps/378\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/378</a> JEP 378: Text Blocks</p>\n<hr />\n<p>¹ <em>Previewed in Java 13 and 14.</em></p>\n"},{"tags":[],"owner":{"account_id":5814329,"reputation":86,"user_id":4584464,"display_name":"h4nek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645210222,"creation_date":1645210222,"answer_id":71178485,"question_id":3034186,"body_markdown":"You could use left and/or right quotes if you don&#39;t mind the difference, they look pretty similar:\r\n\r\n    &quot;These “double quotes” don&#39;t need nor want to be escaped&quot;","title":"In Java, is there a way to write a string literal without having to escape quotes?","body":"<p>You could use left and/or right quotes if you don't mind the difference, they look pretty similar:</p>\n<pre><code>&quot;These “double quotes” don't need nor want to be escaped&quot;\n</code></pre>\n"}],"owner":{"account_id":36811,"reputation":28304,"user_id":105084,"accept_rate":92,"display_name":"Matthew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140090,"favorite_count":0,"down_vote_count":1,"up_vote_count":142,"accepted_answer_id":3034195,"answer_count":8,"score":141,"last_activity_date":1686156277,"creation_date":1276469153,"question_id":3034186,"body_markdown":"Say you have a String literal with a lot of quotation marks inside it. You could escape them all, but it&#39;s a pain, and difficult to read.\r\n\r\nIn some languages, you can just do this:\r\n\r\n    foo = &#39;&quot;Hello, World&quot;&#39;;\r\n\r\nIn Java, however, `&#39;&#39;` is used for `char`s, so you can&#39;t use it for `String`s this way. Some languages have syntax to work around this. For example, in python, you can do this:\r\n\r\n    &quot;&quot;&quot;A pretty &quot;convenient&quot; string&quot;&quot;&quot;\r\n\r\nDoes Java have anything similar?","title":"In Java, is there a way to write a string literal without having to escape quotes?","body":"<p>Say you have a String literal with a lot of quotation marks inside it. You could escape them all, but it's a pain, and difficult to read.</p>\n\n<p>In some languages, you can just do this:</p>\n\n<pre><code>foo = '\"Hello, World\"';\n</code></pre>\n\n<p>In Java, however, <code>''</code> is used for <code>char</code>s, so you can't use it for <code>String</code>s this way. Some languages have syntax to work around this. For example, in python, you can do this:</p>\n\n<pre><code>\"\"\"A pretty \"convenient\" string\"\"\"\n</code></pre>\n\n<p>Does Java have anything similar?</p>\n"},{"tags":["java","sql","postgresql","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":2771907,"reputation":642,"user_id":2386338,"accept_rate":71,"display_name":"Grancein"},"score":0,"creation_date":1687510895,"post_id":76425460,"comment_id":134950165,"body_markdown":"I found the solution. I create a custom function that cast the result of json_extract_path_text and I call in cb.funcion this custom fuction.","body":"I found the solution. I create a custom function that cast the result of json_extract_path_text and I call in cb.funcion this custom fuction."}],"owner":{"account_id":2771907,"reputation":642,"user_id":2386338,"accept_rate":71,"display_name":"Grancein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686155998,"creation_date":1686155998,"question_id":76425460,"body_markdown":"I want do a select according to values in a json column, using jpa specifications. I&#39;m using postgres 9.6 as db e spring-data-jpa 1.11. \r\n\r\nThe query could be a little complicated. I could search for strings or numbers or dates. \r\nThe query for string type is really simple, but for the other types is a bit complicated.\r\n\r\nIn postgresql the queries would be:\r\n\r\n    SELECT * FROM (SELECT json_value -&gt;&gt; &#39;userId&#39; AS userId FROM my_table) x WHERE cast(x.userid as integer) &gt;2\r\n\r\nand\r\n\r\n    SELECT * FROM (SELECT json_value -&gt;&gt; &#39;userName&#39; AS userName FROM my_table) x WHERE x.userName=&#39;xxx&#39;\r\n\r\nI tried the same code using jpa, but I have some problems with number type.\r\nFor the string, the code is:\r\n\r\n    var func = cb.function(&quot;json_extract_path_text&quot;, String.class,\r\n          root.get(my_table.json_value), cb.literal(&quot;userName&quot;));\r\n    Predicate predicate = cb.greaterThan(func, &quot;xxx&quot;);\r\n    return cq.where(predicate).getRestriction();\r\n\r\nand I haven&#39;t problem, while trying the cast for the number:\r\n\r\n    var func = cb.function(&quot;json_extract_path_text&quot;, String.class,\r\n          root.get(my_table.json_value), cb.literal(&quot;userName&quot;));\r\n    Predicate predicate = cb.greaterThan(func.as(Integer.class, 2);\r\n    return cq.where(predicate).getRestriction();\r\n\r\nI get this error:\r\n\r\n*org.hibernate.QueryException: cast() requires two arguments [select generatedAlias0 from myTable as generatedAlias0 where cast(function(&#39;json_extract_path_text&#39;, generatedAlias0.json_value, :param0) as integer)&gt;2]; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: cast() requires two arguments [select generatedAlias0 from my_table as generatedAlias0 where cast(function(&#39;json_extract_path_text&#39;, generatedAlias0.json_value, :param0) as integer)&gt;2]*\r\n\r\nI tried also to use alias but without good results.\r\n\r\nCan anyone help me, please?","title":"Jpa Specification json query","body":"<p>I want do a select according to values in a json column, using jpa specifications. I'm using postgres 9.6 as db e spring-data-jpa 1.11.</p>\n<p>The query could be a little complicated. I could search for strings or numbers or dates.\nThe query for string type is really simple, but for the other types is a bit complicated.</p>\n<p>In postgresql the queries would be:</p>\n<pre><code>SELECT * FROM (SELECT json_value -&gt;&gt; 'userId' AS userId FROM my_table) x WHERE cast(x.userid as integer) &gt;2\n</code></pre>\n<p>and</p>\n<pre><code>SELECT * FROM (SELECT json_value -&gt;&gt; 'userName' AS userName FROM my_table) x WHERE x.userName='xxx'\n</code></pre>\n<p>I tried the same code using jpa, but I have some problems with number type.\nFor the string, the code is:</p>\n<pre><code>var func = cb.function(&quot;json_extract_path_text&quot;, String.class,\n      root.get(my_table.json_value), cb.literal(&quot;userName&quot;));\nPredicate predicate = cb.greaterThan(func, &quot;xxx&quot;);\nreturn cq.where(predicate).getRestriction();\n</code></pre>\n<p>and I haven't problem, while trying the cast for the number:</p>\n<pre><code>var func = cb.function(&quot;json_extract_path_text&quot;, String.class,\n      root.get(my_table.json_value), cb.literal(&quot;userName&quot;));\nPredicate predicate = cb.greaterThan(func.as(Integer.class, 2);\nreturn cq.where(predicate).getRestriction();\n</code></pre>\n<p>I get this error:</p>\n<p><em>org.hibernate.QueryException: cast() requires two arguments [select generatedAlias0 from myTable as generatedAlias0 where cast(function('json_extract_path_text', generatedAlias0.json_value, :param0) as integer)&gt;2]; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: cast() requires two arguments [select generatedAlias0 from my_table as generatedAlias0 where cast(function('json_extract_path_text', generatedAlias0.json_value, :param0) as integer)&gt;2]</em></p>\n<p>I tried also to use alias but without good results.</p>\n<p>Can anyone help me, please?</p>\n"},{"tags":["java","otcconverter","otcframework"],"answers":[{"tags":[],"owner":{"account_id":6784544,"reputation":134,"user_id":5223772,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685974607,"creation_date":1685974607,"answer_id":76407360,"question_id":76367074,"body_markdown":"Delete the &quot;/tmd&quot; and &quot;/target&quot; folders in ${OTC_HOME} and run again. Some files generated during the previous compilation must be there.","title":"ClassNotFoundException while running the OTC framework test project","body":"<p>Delete the &quot;/tmd&quot; and &quot;/target&quot; folders in ${OTC_HOME} and run again. Some files generated during the previous compilation must be there.</p>\n"}],"owner":{"account_id":4224397,"reputation":91,"user_id":3458261,"accept_rate":57,"display_name":"sabari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76407360,"answer_count":1,"score":-2,"last_activity_date":1686155896,"creation_date":1685466045,"question_id":76367074,"body_markdown":"`enter code here`ClassNotFoundExcpetion while trying to map a source to a target object using an OTC framework\r\n\r\nSteps To reproduce:\r\n1. Created pojo class for ndc schema version 18.1(target) and 21.3(source).\r\n2. Copied the jars files into otc-home-&gt;lib folder.\r\n3. Started otceditor.jar file inside otc folder.\r\n4. Created a mapping file and the otc editor generates entryClassName: &lt;&gt; with given source and target package name.\r\n5. While testing the generated otcs file using the test project provided in otc framework, an error was returned in  OtcExecutor, as \r\n&quot;java.lang.ClassNotFoundException: AirShopping.IATAAirShoppingRQ__AirShoppingRQ&quot;\r\n\r\nPlease help me to resolve the issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LGG9R.png\r\n  [2]: https://i.stack.imgur.com/EVHc7.jpg","title":"ClassNotFoundException while running the OTC framework test project","body":"<p><code>enter code here</code>ClassNotFoundExcpetion while trying to map a source to a target object using an OTC framework</p>\n<p>Steps To reproduce:</p>\n<ol>\n<li>Created pojo class for ndc schema version 18.1(target) and 21.3(source).</li>\n<li>Copied the jars files into otc-home-&gt;lib folder.</li>\n<li>Started otceditor.jar file inside otc folder.</li>\n<li>Created a mapping file and the otc editor generates entryClassName: &lt;&gt; with given source and target package name.</li>\n<li>While testing the generated otcs file using the test project provided in otc framework, an error was returned in  OtcExecutor, as\n&quot;java.lang.ClassNotFoundException: AirShopping.IATAAirShoppingRQ__AirShoppingRQ&quot;</li>\n</ol>\n<p>Please help me to resolve the issue.</p>\n<p><a href=\"https://i.stack.imgur.com/LGG9R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LGG9R.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EVHc7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EVHc7.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","micronaut","micronaut-data"],"answers":[{"tags":[],"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686145804,"creation_date":1686145804,"answer_id":76424033,"question_id":76421104,"body_markdown":"To start off with you are mixing JPA and Micronaut Data annotations.\r\n```\r\n@javax.persistence.Entity\r\n@MappedEntity\r\n```\r\n```\r\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n@Relation(value = Relation.Kind.ONE_TO_MANY)\r\n```\r\nWhich might be possible, haven&#39;t tried. But based on your `ConfigurationRepository` you should be using the Micronaut Data annotations, see the guide on &quot;[Access a database with Micronaut Data R2DBC](https://guides.micronaut.io/latest/micronaut-data-r2dbc-repository-gradle-java.html)&quot;.\r\n\r\nBelow is a simple non-reactive version of your code:\r\n```java\r\nimport io.micronaut.data.annotation.GeneratedValue;\r\nimport io.micronaut.data.annotation.Id;\r\nimport io.micronaut.data.annotation.MappedEntity;\r\n\r\n@MappedEntity\r\npublic class Fleet {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    ... getter and setters...\r\n}\r\n```\r\n```java\r\nimport io.micronaut.core.annotation.Nullable;\r\nimport io.micronaut.data.annotation.GeneratedValue;\r\nimport io.micronaut.data.annotation.Id;\r\nimport io.micronaut.data.annotation.MappedEntity;\r\nimport io.micronaut.data.annotation.Relation;\r\n\r\n@MappedEntity\r\npublic class Software {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String version;\r\n\r\n    @Relation(Relation.Kind.MANY_TO_ONE)\r\n    private Configuration configurations;\r\n\r\n    ... getter and setters...\r\n}\r\n```\r\n```java\r\nimport io.micronaut.core.annotation.Nullable;\r\nimport io.micronaut.data.annotation.GeneratedValue;\r\nimport io.micronaut.data.annotation.Id;\r\nimport io.micronaut.data.annotation.MappedEntity;\r\nimport io.micronaut.data.annotation.Relation;\r\n\r\n@MappedEntity\r\npublic class Configuration {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @Relation(value = Relation.Kind.MANY_TO_ONE, cascade = Relation.Cascade.ALL)\r\n    private Fleet fleet;\r\n\r\n    @Nullable\r\n    @Relation(value = Relation.Kind.ONE_TO_MANY, cascade = Relation.Cascade.ALL)\r\n    private List&lt;Software&gt; softwares;\r\n\r\n    ... getter and setters...\r\n}\r\n```\r\n```java\r\n@JdbcRepository(dialect = Dialect.POSTGRES)\r\n@JoinSpecifications(\r\n        {\r\n                @Join(value = &quot;softwares&quot;, type = Join.Type.LEFT_FETCH),\r\n                @Join(value = &quot;fleet&quot;, type = Join.Type.LEFT_FETCH)\r\n        }\r\n)\r\n//-- or --- \r\n//@Join(value = &quot;fleet&quot;, type = Join.Type.LEFT_FETCH)\r\n//@Join(value = &quot;softwares&quot;, type = Join.Type.LEFT_FETCH)\r\npublic interface ConfigurationRepository extends CrudRepository&lt;Configuration, Long&gt; {\r\n}\r\n```\r\nMicronaut Data [documentation](https://micronaut-projects.github.io/micronaut-data/latest/guide/)","title":"Loading relations in DB entity does not work","body":"<p>To start off with you are mixing JPA and Micronaut Data annotations.</p>\n<pre><code>@javax.persistence.Entity\n@MappedEntity\n</code></pre>\n<pre><code>@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n@Relation(value = Relation.Kind.ONE_TO_MANY)\n</code></pre>\n<p>Which might be possible, haven't tried. But based on your <code>ConfigurationRepository</code> you should be using the Micronaut Data annotations, see the guide on &quot;<a href=\"https://guides.micronaut.io/latest/micronaut-data-r2dbc-repository-gradle-java.html\" rel=\"nofollow noreferrer\">Access a database with Micronaut Data R2DBC</a>&quot;.</p>\n<p>Below is a simple non-reactive version of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.micronaut.data.annotation.GeneratedValue;\nimport io.micronaut.data.annotation.Id;\nimport io.micronaut.data.annotation.MappedEntity;\n\n@MappedEntity\npublic class Fleet {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    ... getter and setters...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import io.micronaut.core.annotation.Nullable;\nimport io.micronaut.data.annotation.GeneratedValue;\nimport io.micronaut.data.annotation.Id;\nimport io.micronaut.data.annotation.MappedEntity;\nimport io.micronaut.data.annotation.Relation;\n\n@MappedEntity\npublic class Software {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String version;\n\n    @Relation(Relation.Kind.MANY_TO_ONE)\n    private Configuration configurations;\n\n    ... getter and setters...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import io.micronaut.core.annotation.Nullable;\nimport io.micronaut.data.annotation.GeneratedValue;\nimport io.micronaut.data.annotation.Id;\nimport io.micronaut.data.annotation.MappedEntity;\nimport io.micronaut.data.annotation.Relation;\n\n@MappedEntity\npublic class Configuration {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Relation(value = Relation.Kind.MANY_TO_ONE, cascade = Relation.Cascade.ALL)\n    private Fleet fleet;\n\n    @Nullable\n    @Relation(value = Relation.Kind.ONE_TO_MANY, cascade = Relation.Cascade.ALL)\n    private List&lt;Software&gt; softwares;\n\n    ... getter and setters...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@JdbcRepository(dialect = Dialect.POSTGRES)\n@JoinSpecifications(\n        {\n                @Join(value = &quot;softwares&quot;, type = Join.Type.LEFT_FETCH),\n                @Join(value = &quot;fleet&quot;, type = Join.Type.LEFT_FETCH)\n        }\n)\n//-- or --- \n//@Join(value = &quot;fleet&quot;, type = Join.Type.LEFT_FETCH)\n//@Join(value = &quot;softwares&quot;, type = Join.Type.LEFT_FETCH)\npublic interface ConfigurationRepository extends CrudRepository&lt;Configuration, Long&gt; {\n}\n</code></pre>\n<p>Micronaut Data <a href=\"https://micronaut-projects.github.io/micronaut-data/latest/guide/\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}],"owner":{"account_id":2037371,"reputation":3159,"user_id":1819402,"accept_rate":74,"display_name":"MAGx2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76424033,"answer_count":1,"score":0,"last_activity_date":1686155766,"creation_date":1686124864,"question_id":76421104,"body_markdown":"I have this (one-to-many) relationships `Fleet` -&gt; `Configuration` -&gt; `Software` and I&#39;m interested to get all `Configurations` (with one `Fleet` and all `Software`). The problem is that Micronaut do not want to load systems. \r\n\r\nNote: \r\n\r\n 1. I&#39;ve tried to use combination of `@Join` and `@JoinSpecifications` but it didn&#39;t worked\r\n 2. SQL is generated correctly, just the mapping does not work\r\n\r\nMy classes:\r\n\r\n```java\r\n@javax.persistence.Entity\r\n@MappedEntity\r\n@NoArgsConstructor\r\n@Data\r\n@Builder\r\npublic class Configuration {\r\n\r\n    @Id\r\n    @GeneratedValue(GeneratedValue.Type.AUTO)\r\n    private Long id;\r\n\r\n    // other fields\r\n\r\n    @NotNull\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(nullable = false, updatable = false)\r\n    private Fleet fleet;\r\n\r\n    @NotNull\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @Relation(value = Relation.Kind.ONE_TO_MANY)\r\n    private List&lt;Software&gt; softwares;\r\n}\r\n```\r\n\r\n```java\r\n@javax.persistence.Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Builder\r\npublic class Fleet {\r\n\r\n    @Id\r\n    @GeneratedValue(GeneratedValue.Type.AUTO)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Size(min = 1, max = 255)\r\n    @Column(unique = true)\r\n    private String name;\r\n\r\n    // no mapping to Configuration - I&#39;m not interested in it\r\n}\r\n```\r\n\r\n```java\r\n@MappedEntity\r\n@javax.persistence.Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Builder\r\npublic class Software implements Entity {\r\n\r\n    @Id\r\n    @GeneratedValue(GeneratedValue.Type.AUTO)\r\n    private Long id;\r\n\r\n    // other fields\r\n\r\n    @NotNull\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(nullable = false, updatable = false)\r\n    @Relation(value = Relation.Kind.MANY_TO_ONE)\r\n    @ToString.Exclude\r\n    private Configuration configuration;\r\n}\r\n```\r\n\r\n```java\r\n@JdbcRepository(dialect = Dialect.H2)\r\n@JoinSpecifications(\r\n        {\r\n                @Join(value = &quot;softwares&quot;, type = Join.Type.LEFT_FETCH),\r\n                @Join(value = &quot;fleet&quot;, type = Join.Type.LEFT_FETCH)\r\n        }\r\n)\r\npublic interface ConfigurationRepository extends ReactorPageableRepository&lt;Configuration, Long&gt; {}\r\n```\r\n\r\n```sql\r\nSELECT configuration_.`id`,\r\n       configuration_.`name`,\r\n       configuration_.`project_name`,\r\n       configuration_.`version_w`,\r\n       configuration_.`version_x`,\r\n       configuration_.`version_y`,\r\n       configuration_.`version_z`,\r\n       configuration_.`version_description`,\r\n       configuration_.`approved_date`,\r\n       configuration_.`imported_date`,\r\n       configuration_.`fleet_id`,\r\n       configuration_softwares_.`id`                  AS softwares_id,\r\n       configuration_softwares_.`name`                AS softwares_name,\r\n       configuration_softwares_.`supplier`            AS softwares_supplier,\r\n       configuration_softwares_.`description`         AS softwares_description,\r\n       configuration_softwares_.`circuit_diagram`     AS softwares_circuit_diagram,\r\n       configuration_softwares_.`comment`             AS softwares_comment,\r\n       configuration_softwares_.`date`                AS softwares_date,\r\n       configuration_softwares_.`version_w`           AS softwares_version_w,\r\n       configuration_softwares_.`version_x`           AS softwares_version_x,\r\n       configuration_softwares_.`version_y`           AS softwares_version_y,\r\n       configuration_softwares_.`version_z`           AS softwares_version_z,\r\n       configuration_softwares_.`version_description` AS softwares_version_description,\r\n       configuration_softwares_.`checksum_cipher`     AS softwares_checksum_cipher,\r\n       configuration_softwares_.`checksum_hash`       AS softwares_checksum_hash,\r\n       configuration_softwares_.`system_id`           AS softwares_system_id,\r\n       configuration_softwares_.`configuration_id`    AS softwares_configuration_id,\r\n       configuration_fleet_.`name`                    AS fleet_name\r\nFROM `configuration` configuration_\r\n         LEFT JOIN `fleet` configuration_fleet_\r\n                   ON configuration_.`fleet_id` = configuration_fleet_.`id`\r\n         INNER JOIN `configuration_software` configuration_softwares_configuration_software_\r\n                    ON configuration_.`id` =\r\n                       configuration_softwares_configuration_software_.`configuration_id`\r\n         INNER JOIN `software` configuration_softwares_\r\n                    ON configuration_softwares_configuration_software_.`software_id` =\r\n                       configuration_softwares_.`id`\r\nORDER BY configuration_.name ASC, configuration_.approved_date ASC, configuration_.imported_date ASC\r\n```","title":"Loading relations in DB entity does not work","body":"<p>I have this (one-to-many) relationships <code>Fleet</code> -&gt; <code>Configuration</code> -&gt; <code>Software</code> and I'm interested to get all <code>Configurations</code> (with one <code>Fleet</code> and all <code>Software</code>). The problem is that Micronaut do not want to load systems.</p>\n<p>Note:</p>\n<ol>\n<li>I've tried to use combination of <code>@Join</code> and <code>@JoinSpecifications</code> but it didn't worked</li>\n<li>SQL is generated correctly, just the mapping does not work</li>\n</ol>\n<p>My classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.persistence.Entity\n@MappedEntity\n@NoArgsConstructor\n@Data\n@Builder\npublic class Configuration {\n\n    @Id\n    @GeneratedValue(GeneratedValue.Type.AUTO)\n    private Long id;\n\n    // other fields\n\n    @NotNull\n    @ManyToOne(optional = false)\n    @JoinColumn(nullable = false, updatable = false)\n    private Fleet fleet;\n\n    @NotNull\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n    @Relation(value = Relation.Kind.ONE_TO_MANY)\n    private List&lt;Software&gt; softwares;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.persistence.Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Builder\npublic class Fleet {\n\n    @Id\n    @GeneratedValue(GeneratedValue.Type.AUTO)\n    private Long id;\n\n    @NotNull\n    @Size(min = 1, max = 255)\n    @Column(unique = true)\n    private String name;\n\n    // no mapping to Configuration - I'm not interested in it\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedEntity\n@javax.persistence.Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Builder\npublic class Software implements Entity {\n\n    @Id\n    @GeneratedValue(GeneratedValue.Type.AUTO)\n    private Long id;\n\n    // other fields\n\n    @NotNull\n    @ManyToOne(optional = false)\n    @JoinColumn(nullable = false, updatable = false)\n    @Relation(value = Relation.Kind.MANY_TO_ONE)\n    @ToString.Exclude\n    private Configuration configuration;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@JdbcRepository(dialect = Dialect.H2)\n@JoinSpecifications(\n        {\n                @Join(value = &quot;softwares&quot;, type = Join.Type.LEFT_FETCH),\n                @Join(value = &quot;fleet&quot;, type = Join.Type.LEFT_FETCH)\n        }\n)\npublic interface ConfigurationRepository extends ReactorPageableRepository&lt;Configuration, Long&gt; {}\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT configuration_.`id`,\n       configuration_.`name`,\n       configuration_.`project_name`,\n       configuration_.`version_w`,\n       configuration_.`version_x`,\n       configuration_.`version_y`,\n       configuration_.`version_z`,\n       configuration_.`version_description`,\n       configuration_.`approved_date`,\n       configuration_.`imported_date`,\n       configuration_.`fleet_id`,\n       configuration_softwares_.`id`                  AS softwares_id,\n       configuration_softwares_.`name`                AS softwares_name,\n       configuration_softwares_.`supplier`            AS softwares_supplier,\n       configuration_softwares_.`description`         AS softwares_description,\n       configuration_softwares_.`circuit_diagram`     AS softwares_circuit_diagram,\n       configuration_softwares_.`comment`             AS softwares_comment,\n       configuration_softwares_.`date`                AS softwares_date,\n       configuration_softwares_.`version_w`           AS softwares_version_w,\n       configuration_softwares_.`version_x`           AS softwares_version_x,\n       configuration_softwares_.`version_y`           AS softwares_version_y,\n       configuration_softwares_.`version_z`           AS softwares_version_z,\n       configuration_softwares_.`version_description` AS softwares_version_description,\n       configuration_softwares_.`checksum_cipher`     AS softwares_checksum_cipher,\n       configuration_softwares_.`checksum_hash`       AS softwares_checksum_hash,\n       configuration_softwares_.`system_id`           AS softwares_system_id,\n       configuration_softwares_.`configuration_id`    AS softwares_configuration_id,\n       configuration_fleet_.`name`                    AS fleet_name\nFROM `configuration` configuration_\n         LEFT JOIN `fleet` configuration_fleet_\n                   ON configuration_.`fleet_id` = configuration_fleet_.`id`\n         INNER JOIN `configuration_software` configuration_softwares_configuration_software_\n                    ON configuration_.`id` =\n                       configuration_softwares_configuration_software_.`configuration_id`\n         INNER JOIN `software` configuration_softwares_\n                    ON configuration_softwares_configuration_software_.`software_id` =\n                       configuration_softwares_.`id`\nORDER BY configuration_.name ASC, configuration_.approved_date ASC, configuration_.imported_date ASC\n</code></pre>\n"},{"tags":["java","junit","quarkus"],"answers":[{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686133019,"creation_date":1686130210,"answer_id":76421828,"question_id":76421680,"body_markdown":"I did some similar yesterday to integrate wiremock in my tests using [`QuarkusTestResourceLifecycleManager`][1]:\r\n\r\n    public class Wiremock implements QuarkusTestResourceLifecycleManager {\r\n    \tWireMockServer server;\r\n    \r\n    \t@Override\r\n    \tpublic Map&lt;String, String&gt; start() {\r\n    \t\tthis.server = new WireMockServer(WireMockConfiguration.options().port(9001));\r\n    \t\tserver.start();\r\n    \t\treturn Map.of();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void stop() {\r\n    \t\tthis.server.stop();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void inject(TestInjector testInjector) {\r\n    \t\ttestInjector.injectIntoFields(server, new TestInjector.MatchesType(WireMockServer.class));\r\n    \t}\r\n    }\r\n\r\nand my test\r\n\r\n    @QuarkusTest\r\n    @QuarkusTestResource(MercurioApiGatewayWiremock.class)\r\n    @TestHTTPEndpoint(ForwardAccessTokensToMercurioFilterTest.TestResource.class)\r\n    class ForwardAccessTokensToMercurioFilterTest\r\n    {\r\n    \tWireMockServer wiremock;\r\n    \r\n    \t@Test\r\n    \t@TestSecurity\r\n    \tvoid testFilter()\r\n    \t{\r\n    \t\twiremock.stubFor(WireMock.post(WireMock.urlEqualTo(&quot;/public/login&quot;))\r\n    \t\t\t\t.willReturn(WireMock.aResponse()\r\n    \t\t\t\t\t\t.withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON)\r\n    \t\t\t\t\t\t.withBody(&quot;&quot;&quot;\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t&quot;accessToken&quot; : &quot;access-token&quot;,\r\n    \t\t\t\t\t\t\t\t\t&quot;refreshToken&quot; : &quot;refresh-token&quot;\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t&quot;&quot;&quot;)));\r\n    \t\tRestAssured.given()\r\n    \t\t\t\t.post(&quot;login&quot;)\r\n    \t\t\t\t.then()\r\n    \t\t\t\t.statusCode(200);\r\n    \t}\r\n    }\r\n\r\nAdd `@BeforeEach` and/or `@AfterEach` in test class as you need.\r\n\r\n  [1]: https://quarkus.io/guides/getting-started-testing#quarkus-test-resource","title":"Inject field from @QuarkusTestResource and access from BeforeEachCallback of custom junit extension","body":"<p>I did some similar yesterday to integrate wiremock in my tests using <a href=\"https://quarkus.io/guides/getting-started-testing#quarkus-test-resource\" rel=\"nofollow noreferrer\"><code>QuarkusTestResourceLifecycleManager</code></a>:</p>\n<pre><code>public class Wiremock implements QuarkusTestResourceLifecycleManager {\n    WireMockServer server;\n\n    @Override\n    public Map&lt;String, String&gt; start() {\n        this.server = new WireMockServer(WireMockConfiguration.options().port(9001));\n        server.start();\n        return Map.of();\n    }\n\n    @Override\n    public void stop() {\n        this.server.stop();\n    }\n\n    @Override\n    public void inject(TestInjector testInjector) {\n        testInjector.injectIntoFields(server, new TestInjector.MatchesType(WireMockServer.class));\n    }\n}\n</code></pre>\n<p>and my test</p>\n<pre><code>@QuarkusTest\n@QuarkusTestResource(MercurioApiGatewayWiremock.class)\n@TestHTTPEndpoint(ForwardAccessTokensToMercurioFilterTest.TestResource.class)\nclass ForwardAccessTokensToMercurioFilterTest\n{\n    WireMockServer wiremock;\n\n    @Test\n    @TestSecurity\n    void testFilter()\n    {\n        wiremock.stubFor(WireMock.post(WireMock.urlEqualTo(&quot;/public/login&quot;))\n                .willReturn(WireMock.aResponse()\n                        .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON)\n                        .withBody(&quot;&quot;&quot;\n                                {\n                                    &quot;accessToken&quot; : &quot;access-token&quot;,\n                                    &quot;refreshToken&quot; : &quot;refresh-token&quot;\n                                }\n                                &quot;&quot;&quot;)));\n        RestAssured.given()\n                .post(&quot;login&quot;)\n                .then()\n                .statusCode(200);\n    }\n}\n</code></pre>\n<p>Add <code>@BeforeEach</code> and/or <code>@AfterEach</code> in test class as you need.</p>\n"},{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686131856,"creation_date":1686131856,"answer_id":76422057,"question_id":76421680,"body_markdown":"If you need to inject value to a field of a test class you sould use implement `inject` mehtod of `QuarkusTestResourceLifecycleManager`.\r\n\r\n`QuarkusTestBeforeEachCallback` allows to access injected field.\r\n\r\nThe following example injects a `TestClient` instance to an annotated field and beforeEach callback calls some method on the injected instance (e.g. re-init the TestClient instance)\r\n\r\n```java\r\npublic class TestClientInjector implements QuarkusTestResourceLifecycleManager, QuarkusTestBeforeEachCallback {\r\n\r\n    @Override\r\n    public Map&lt;String, String&gt; start() {\r\n        return Collections.emptyMap();\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void inject(Object testInstance) {\r\n\r\n        // org.junit.platform.commons.util.AnnotationUtils;\r\n        findAnnotatedFields(\r\n                testInstance.getClass(),\r\n                ClientTest.class,\r\n                f -&gt; f.getType().isAssignableFrom(TestMqClient.class))\r\n                .forEach(f -&gt; {\r\n                    try {\r\n                        injectValue(f, testInstance);\r\n                    } catch (IllegalAccessException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    private void injectValue(Field field, Object testInstance) throws IllegalAccessException {\r\n        field.setAccessible(true);\r\n        // initiate instance somehow (e.g. using Arc.container())\r\n        var clientInstance = new TestMqClient();\r\n        // set value\r\n        field.set(testInstance, clientInstance);\r\n    }\r\n\r\n    @Override\r\n    public void beforeEach(QuarkusTestMethodContext context) {\r\n        findAnnotatedFields(\r\n                context.getTestInstance().getClass(),\r\n                ClientTest.class,\r\n                (f) -&gt; f.getType().isAssignableFrom(TestMqClient.class)\r\n        ).forEach(f -&gt; {\r\n            try {\r\n                f.setAccessible(true);\r\n                TestMqClient clientField = (TestMqClient) f.get(context.getTestInstance());\r\n                if (null != clientField) {\r\n                    // do something what needed\r\n                    clientField.clearClient();\r\n                }\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(&quot;Unable to clear client &quot; + f.getName(), e);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe dummy test client\r\n\r\n```java\r\npublic class TestMqClient {\r\n\r\n    public void clearClient() {\r\n        System.out.println(&quot;Clearing client&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAn example test:\r\n\r\n```java\r\n@QuarkusTest\r\n@QuarkusTestResource(TestClientInjector.class)\r\nclass SomeTest {\r\n\r\n    @ClientTest\r\n    TestMqClient client;\r\n\r\n    @Test\r\n    void foo() {\r\n        System.out.println(&quot;run&quot;);\r\n        assertNotNull(client);\r\n    }\r\n}\r\n```\r\n\r\nAfter the test run the output looks like:\r\n\r\n```none\r\n2023-06-07 11:46:44,039 INFO  [io.quarkus] (main) Installed features: [cdi, hibernate-orm, hibernate-reactive, hibernate-reactive-panache, smallrye-context-propagation, vertx]\r\nClearing client\r\nrun\r\n2023-06-07 11:46:44,124 INFO  [io.quarkus] (main) quarkus-scheduler-vertx stopped in 0.031s\r\n```\r\n\r\n**NOTE**: Don&#39;t forget to register the callback in `META-INF/services/io.quarkus.test.junit.callback.QuarkusTestBeforeEachCallback`","title":"Inject field from @QuarkusTestResource and access from BeforeEachCallback of custom junit extension","body":"<p>If you need to inject value to a field of a test class you sould use implement <code>inject</code> mehtod of <code>QuarkusTestResourceLifecycleManager</code>.</p>\n<p><code>QuarkusTestBeforeEachCallback</code> allows to access injected field.</p>\n<p>The following example injects a <code>TestClient</code> instance to an annotated field and beforeEach callback calls some method on the injected instance (e.g. re-init the TestClient instance)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClientInjector implements QuarkusTestResourceLifecycleManager, QuarkusTestBeforeEachCallback {\n\n    @Override\n    public Map&lt;String, String&gt; start() {\n        return Collections.emptyMap();\n    }\n\n    @Override\n    public void stop() {\n\n    }\n\n    @Override\n    public void inject(Object testInstance) {\n\n        // org.junit.platform.commons.util.AnnotationUtils;\n        findAnnotatedFields(\n                testInstance.getClass(),\n                ClientTest.class,\n                f -&gt; f.getType().isAssignableFrom(TestMqClient.class))\n                .forEach(f -&gt; {\n                    try {\n                        injectValue(f, testInstance);\n                    } catch (IllegalAccessException e) {\n                        throw new RuntimeException(e);\n                    }\n                });\n\n    }\n\n    private void injectValue(Field field, Object testInstance) throws IllegalAccessException {\n        field.setAccessible(true);\n        // initiate instance somehow (e.g. using Arc.container())\n        var clientInstance = new TestMqClient();\n        // set value\n        field.set(testInstance, clientInstance);\n    }\n\n    @Override\n    public void beforeEach(QuarkusTestMethodContext context) {\n        findAnnotatedFields(\n                context.getTestInstance().getClass(),\n                ClientTest.class,\n                (f) -&gt; f.getType().isAssignableFrom(TestMqClient.class)\n        ).forEach(f -&gt; {\n            try {\n                f.setAccessible(true);\n                TestMqClient clientField = (TestMqClient) f.get(context.getTestInstance());\n                if (null != clientField) {\n                    // do something what needed\n                    clientField.clearClient();\n                }\n            } catch (Exception e) {\n                throw new RuntimeException(&quot;Unable to clear client &quot; + f.getName(), e);\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>The dummy test client</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestMqClient {\n\n    public void clearClient() {\n        System.out.println(&quot;Clearing client&quot;);\n    }\n}\n</code></pre>\n<p>An example test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@QuarkusTest\n@QuarkusTestResource(TestClientInjector.class)\nclass SomeTest {\n\n    @ClientTest\n    TestMqClient client;\n\n    @Test\n    void foo() {\n        System.out.println(&quot;run&quot;);\n        assertNotNull(client);\n    }\n}\n</code></pre>\n<p>After the test run the output looks like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-06-07 11:46:44,039 INFO  [io.quarkus] (main) Installed features: [cdi, hibernate-orm, hibernate-reactive, hibernate-reactive-panache, smallrye-context-propagation, vertx]\nClearing client\nrun\n2023-06-07 11:46:44,124 INFO  [io.quarkus] (main) quarkus-scheduler-vertx stopped in 0.031s\n</code></pre>\n<p><strong>NOTE</strong>: Don't forget to register the callback in <code>META-INF/services/io.quarkus.test.junit.callback.QuarkusTestBeforeEachCallback</code></p>\n"},{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686155462,"creation_date":1686155462,"answer_id":76425401,"question_id":76421680,"body_markdown":"I have a feeling this is a classloading issue, similar to https://github.com/quarkusio/quarkus/issues/27821. In the course of executing a JUnit test, the class will be accessed through two different classloaders. The second classloader is what creates the `@QuarkusTest` magic, such as injection. Since there&#39;s two classloaders, that can create some inconsistencies in edge cases. The JUnit Extension may be one of those edge cases.\r\n\r\nSo far, the JUnit API hasn&#39;t had the endpoints which would let Quarkus tell JUnit what classloader should be used for test classes, but there&#39;s a promising-looking endpoint in JUnit 5.10. (Once that&#39;s released, Quarkus may be able to update its test engine to avoid the classloading problems.)\r\n\r\nFor this use case, however, could you relax the requirement that setup and teardown (connection and disconnection) be done before each test method. If so, I think you could get away with what&#39;s already in Quarkus, with no need for a custom JUnit extension. As others have suggested, with that relaxed requirement, a `QuarkusTestResourceLifecycleManager` in combination with `@QuarkusTestResource` would be invoked by the framework at the right(ish) time (once per test). ","title":"Inject field from @QuarkusTestResource and access from BeforeEachCallback of custom junit extension","body":"<p>I have a feeling this is a classloading issue, similar to <a href=\"https://github.com/quarkusio/quarkus/issues/27821\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/27821</a>. In the course of executing a JUnit test, the class will be accessed through two different classloaders. The second classloader is what creates the <code>@QuarkusTest</code> magic, such as injection. Since there's two classloaders, that can create some inconsistencies in edge cases. The JUnit Extension may be one of those edge cases.</p>\n<p>So far, the JUnit API hasn't had the endpoints which would let Quarkus tell JUnit what classloader should be used for test classes, but there's a promising-looking endpoint in JUnit 5.10. (Once that's released, Quarkus may be able to update its test engine to avoid the classloading problems.)</p>\n<p>For this use case, however, could you relax the requirement that setup and teardown (connection and disconnection) be done before each test method. If so, I think you could get away with what's already in Quarkus, with no need for a custom JUnit extension. As others have suggested, with that relaxed requirement, a <code>QuarkusTestResourceLifecycleManager</code> in combination with <code>@QuarkusTestResource</code> would be invoked by the framework at the right(ish) time (once per test).</p>\n"}],"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686155462,"creation_date":1686129195,"question_id":76421680,"body_markdown":"I have a `@QuarkusTestResource` that injects a field into my test.\r\nThe field happens to be a client which needs to be connected before a test and disconnected after each test.\r\n\r\n```\r\n@QuarkusTestResource(MyTestResource.class)\r\n@QuarkusTest\r\nclass MyTest {\r\n\r\n  @ClientInject\r\n  TestMqttClient testClient\r\n\r\n  @BeforeEach\r\n  void setUp() {\r\n    testClient.connect();\r\n  }\r\n\r\n  @AfterEach\r\n  void tearDown() {\r\n    testClient.disconnect();\r\n  }\r\n\r\n  ...\r\n}\r\n```\r\n\r\nTo not have to connect/diconnect in a boilerplate `@BeforEach`/`@AfterEach`, I would like to extract this to a jUnit extension with a `BeforeEachCallback`/`AfterEachCallback`.\r\n\r\n```\r\n@QuarkusTestResource(MyTestResource.class)\r\n@ExtendWith(ConnectClientExtension.class)\r\n@QuarkusTest\r\nclass MyTest {\r\n\r\n  @ClientInject\r\n  TestMqttClient testClient\r\n\r\n  @Test\r\n  void myTest() {\r\n    testClient.doStuff();\r\n  }\r\n\r\n}\r\n```\r\n\r\nWhile my extension does the following magic:\r\n```\r\npublic class ConnectMqttClientInterceptor implements BeforeEachCallback, AfterEachCallback{\r\n\r\n    private Optional&lt;TestMqttClient&gt; getTestMqttClient(ExtensionContext context) {\r\n        Optional&lt;Method&gt; testMqttClientGetter =\r\n                findRecursive(context.getRequiredTestClass());\r\n        return testMqttClientGetter.map(method -&gt; {\r\n            try {\r\n                if(!method.trySetAccessible()){\r\n                    throw new IllegalAccessError(&quot;Cannot access TestMqttClient field&quot;);\r\n                }\r\n                Object testInstance = getTestInstance(context, method);\r\n                return (TestMqttClient) method.invoke(testInstance);\r\n            } catch (IllegalArgumentException | IllegalAccessException | InvocationTargetException e) {\r\n                throw new IllegalAccessError();\r\n            }\r\n        });\r\n    }\r\n\r\n    private Object getTestInstance(ExtensionContext context, Method method) {\r\n        Class&lt;?&gt; targetClass = method.getDeclaringClass();\r\n        Optional&lt;Object&gt; targetTestInstance = context.getRequiredTestInstances().getAllInstances().stream().filter(instance -&gt; instance.getClass().equals(targetClass)).collect(QumeaCollectors.getSingleElement());\r\n        return targetTestInstance.orElseThrow(() -&gt; new IllegalStateException(&quot;Could not find testinstance for class &quot;+ targetClass.getCanonicalName()));\r\n    }\r\n\r\n    private Optional&lt;Method&gt; findRecursive(Class&lt;?&gt; clazz) {\r\n        Method[] declaredMethods = clazz.getDeclaredMethods();\r\n        Optional&lt;Method&gt; testMqttClientGetter = Stream.of(declaredMethods)\r\n                .filter(method -&gt; method.getReturnType().equals(TestMqttClient.class))\r\n                .collect(QumeaCollectors.getSingleElement());\r\n        if (testMqttClientGetter.isEmpty() &amp;&amp; clazz.getEnclosingClass() != null) {\r\n            return findRecursive(clazz.getEnclosingClass());\r\n        }\r\n        return testMqttClientGetter;\r\n    }\r\n\r\n    @Override\r\n    public void beforeEach(ExtensionContext context) throws Exception {\r\n        Optional&lt;TestMqttClient&gt; testMqttClient = getTestMqttClient(context);\r\n        testMqttClient.ifPresent(TestMqttClient::connect);\r\n    }\r\n\r\n    @Override\r\n    public void afterEach(ExtensionContext context) throws Exception {  \r\n        Optional&lt;TestMqttClient&gt; testMqttClient = getTestMqttClient(context);          \r\n        testMqttClient.ifPresent(TestMqttClient::disconnect);\r\n    }\r\n}\r\n```\r\n\r\nWhen my jUnit extension is executing its `BeforeEachCallback`, the field `testClient` of my test instance still seems to be `null`. Is this beacuse the test instance which I receive within my jUnit extension is not the bean that actually holds the injected field or is the junit extension just beeing executed too early??\r\n\r\nIn general, is it possible to access a `TestInjector` injected field from a jUnit `BeforeEachCallback` in a `@QuarkusTest`?\r\n","title":"Inject field from @QuarkusTestResource and access from BeforeEachCallback of custom junit extension","body":"<p>I have a <code>@QuarkusTestResource</code> that injects a field into my test.\nThe field happens to be a client which needs to be connected before a test and disconnected after each test.</p>\n<pre><code>@QuarkusTestResource(MyTestResource.class)\n@QuarkusTest\nclass MyTest {\n\n  @ClientInject\n  TestMqttClient testClient\n\n  @BeforeEach\n  void setUp() {\n    testClient.connect();\n  }\n\n  @AfterEach\n  void tearDown() {\n    testClient.disconnect();\n  }\n\n  ...\n}\n</code></pre>\n<p>To not have to connect/diconnect in a boilerplate <code>@BeforEach</code>/<code>@AfterEach</code>, I would like to extract this to a jUnit extension with a <code>BeforeEachCallback</code>/<code>AfterEachCallback</code>.</p>\n<pre><code>@QuarkusTestResource(MyTestResource.class)\n@ExtendWith(ConnectClientExtension.class)\n@QuarkusTest\nclass MyTest {\n\n  @ClientInject\n  TestMqttClient testClient\n\n  @Test\n  void myTest() {\n    testClient.doStuff();\n  }\n\n}\n</code></pre>\n<p>While my extension does the following magic:</p>\n<pre><code>public class ConnectMqttClientInterceptor implements BeforeEachCallback, AfterEachCallback{\n\n    private Optional&lt;TestMqttClient&gt; getTestMqttClient(ExtensionContext context) {\n        Optional&lt;Method&gt; testMqttClientGetter =\n                findRecursive(context.getRequiredTestClass());\n        return testMqttClientGetter.map(method -&gt; {\n            try {\n                if(!method.trySetAccessible()){\n                    throw new IllegalAccessError(&quot;Cannot access TestMqttClient field&quot;);\n                }\n                Object testInstance = getTestInstance(context, method);\n                return (TestMqttClient) method.invoke(testInstance);\n            } catch (IllegalArgumentException | IllegalAccessException | InvocationTargetException e) {\n                throw new IllegalAccessError();\n            }\n        });\n    }\n\n    private Object getTestInstance(ExtensionContext context, Method method) {\n        Class&lt;?&gt; targetClass = method.getDeclaringClass();\n        Optional&lt;Object&gt; targetTestInstance = context.getRequiredTestInstances().getAllInstances().stream().filter(instance -&gt; instance.getClass().equals(targetClass)).collect(QumeaCollectors.getSingleElement());\n        return targetTestInstance.orElseThrow(() -&gt; new IllegalStateException(&quot;Could not find testinstance for class &quot;+ targetClass.getCanonicalName()));\n    }\n\n    private Optional&lt;Method&gt; findRecursive(Class&lt;?&gt; clazz) {\n        Method[] declaredMethods = clazz.getDeclaredMethods();\n        Optional&lt;Method&gt; testMqttClientGetter = Stream.of(declaredMethods)\n                .filter(method -&gt; method.getReturnType().equals(TestMqttClient.class))\n                .collect(QumeaCollectors.getSingleElement());\n        if (testMqttClientGetter.isEmpty() &amp;&amp; clazz.getEnclosingClass() != null) {\n            return findRecursive(clazz.getEnclosingClass());\n        }\n        return testMqttClientGetter;\n    }\n\n    @Override\n    public void beforeEach(ExtensionContext context) throws Exception {\n        Optional&lt;TestMqttClient&gt; testMqttClient = getTestMqttClient(context);\n        testMqttClient.ifPresent(TestMqttClient::connect);\n    }\n\n    @Override\n    public void afterEach(ExtensionContext context) throws Exception {  \n        Optional&lt;TestMqttClient&gt; testMqttClient = getTestMqttClient(context);          \n        testMqttClient.ifPresent(TestMqttClient::disconnect);\n    }\n}\n</code></pre>\n<p>When my jUnit extension is executing its <code>BeforeEachCallback</code>, the field <code>testClient</code> of my test instance still seems to be <code>null</code>. Is this beacuse the test instance which I receive within my jUnit extension is not the bean that actually holds the injected field or is the junit extension just beeing executed too early??</p>\n<p>In general, is it possible to access a <code>TestInjector</code> injected field from a jUnit <code>BeforeEachCallback</code> in a <code>@QuarkusTest</code>?</p>\n"},{"tags":["java","android","tabs","android-tablayout"],"answers":[{"tags":[],"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686154793,"creation_date":1686154793,"answer_id":76425327,"question_id":76415892,"body_markdown":"To avoid this margin before the `TabLayout` you have to remove the property `android:paddingTop=&quot;?attr/actionBarSize&quot;` from the `ConstraintLayout` in your `activity_main.xml` file which adds a padding from the top area in your Activity. By removing this padding all your fragment containers will eliminate this top space.","title":"A big space/margin before the tablayout","body":"<p>To avoid this margin before the <code>TabLayout</code> you have to remove the property <code>android:paddingTop=&quot;?attr/actionBarSize&quot;</code> from the <code>ConstraintLayout</code> in your <code>activity_main.xml</code> file which adds a padding from the top area in your Activity. By removing this padding all your fragment containers will eliminate this top space.</p>\n"}],"owner":{"account_id":27588826,"reputation":95,"user_id":21056438,"display_name":"Katufo Prem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76425327,"answer_count":1,"score":0,"last_activity_date":1686154793,"creation_date":1686062972,"question_id":76415892,"body_markdown":"I&#39;ve been stuck trying to figure out what and how this space margin happened just before the tab layout. I&#39;m using fragments, and the problem was inside fragment_home.xml. My app are using fragments, navigation drawer, and bottom navigation menu.  I cannot find any related problem with an answer at the internet. Below is the code for home fragments and main activity.java, and I&#39;m sure it could help solving the problem.\r\n\r\nThe problem is, a space before the tab layout.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/plpxb.png)](https://i.stack.imgur.com/plpxb.png)\r\n\r\n\r\n\r\nHere is the code for my fragment_home.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.home.HomeFragment&quot;\r\n    android:fitsSystemWindows=&quot;false&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text_home&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tab_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/title_kids&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/title_beauty&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/title_notifications&quot; /&gt;\r\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/view_pager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_below=&quot;@id/tab_layout&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nFor activity_main.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;false&quot;\r\n    tools:openDrawer=&quot;start&quot;&gt;\r\n\r\n    &lt;!-- Content Frame --&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:paddingTop=&quot;?attr/actionBarSize&quot;&gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:background=&quot;@color/blue&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/bottom_nav_menu&quot;\r\n            app:labelVisibilityMode=&quot;labeled&quot;\r\n            app:itemIconTint=&quot;@color/white&quot;\r\n            app:itemTextColor=&quot;@color/white&quot; /&gt;\r\n\r\n        &lt;fragment\r\n            android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;!-- Navigation Drawer --&gt;\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_drawer&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        app:headerLayout=&quot;@layout/nav_header&quot;\r\n        app:menu=&quot;@menu/drawer_menu&quot; /&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n```\r\n\r\nHome Fragment.java\r\n```\r\npublic class HomeFragment extends Fragment {\r\n\r\n    private FragmentHomeBinding binding;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        HomeViewModel homeViewModel =\r\n                new ViewModelProvider(this).get(HomeViewModel.class);\r\n\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        final TextView textView = binding.textHome;\r\n        homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n```\r\n\r\n\r\nLastly, for MainActivity.java:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener  {\r\n\r\n    private ActivityMainBinding binding;\r\n    private AppBarConfiguration appBarConfiguration;\r\n    private DrawerLayout drawerLayout;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n\r\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n\r\n        drawerLayout = binding.drawerLayout;\r\n        NavigationView navigationView = binding.navDrawer;\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawerLayout, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        BottomNavigationView navView = findViewById(R.id.nav_view);\r\n\r\n        // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\r\n                R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications, R.id.navigation_beauty, R.id.navigation_child)\r\n                .build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n        NavigationUI.setupWithNavController(binding.navView, navController);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.toolbar_menu, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n        boolean open = drawerLayout.isOpen();\r\n\r\n        if (id == R.id.new_menu &amp;&amp; open == false) {\r\n            // Handle settings menu item click\r\n            drawerLayout.open();\r\n        return true;\r\n        } else {\r\n            drawerLayout.close();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        int id = item.getItemId();\r\n\r\n        // Handle navigation item clicks here\r\n        if (id == R.id.nav_item1) {\r\n            // Handle item1 click\r\n            Toast.makeText(this, &quot;Item 1 clicked&quot;, Toast.LENGTH_SHORT).show();\r\n        } else if (id == R.id.nav_item2) {\r\n            // Handle item2 click\r\n            Toast.makeText(this, &quot;Item 2 clicked&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        drawerLayout.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)) {\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\r\n        return NavigationUI.navigateUp(navController, appBarConfiguration) || super.onSupportNavigateUp();\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nI have also already tried to change the layout into relative, frame &amp; linear yet nothing changes, all other layout that is using fragments are getting the problem.\r\n\r\nI have also tried to remove the navigation drawer &amp; appbar/toolbar menu, thinking it will help yet no.\r\n\r\nI haven&#39;t tried to configure the home fragment or main activity java for the tab layout.\r\n\r\nI have also tried to adjust the tab layout, I made any possible changes to move its location, like adding Y, changing from top to bottom, etc.\r\n\r\n\r\nAny answers are much really appreciated. Thank you!","title":"A big space/margin before the tablayout","body":"<p>I've been stuck trying to figure out what and how this space margin happened just before the tab layout. I'm using fragments, and the problem was inside fragment_home.xml. My app are using fragments, navigation drawer, and bottom navigation menu.  I cannot find any related problem with an answer at the internet. Below is the code for home fragments and main activity.java, and I'm sure it could help solving the problem.</p>\n<p>The problem is, a space before the tab layout.</p>\n<p><a href=\"https://i.stack.imgur.com/plpxb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/plpxb.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code for my fragment_home.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.home.HomeFragment&quot;\n    android:fitsSystemWindows=&quot;false&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_home&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/tab_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/title_kids&quot; /&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/title_beauty&quot; /&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/title_notifications&quot; /&gt;\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/view_pager&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_weight=&quot;1&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_below=&quot;@id/tab_layout&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>For activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;false&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n    &lt;!-- Content Frame --&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:paddingTop=&quot;?attr/actionBarSize&quot;&gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/nav_view&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:layout_marginEnd=&quot;0dp&quot;\n            android:background=&quot;@color/blue&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:menu=&quot;@menu/bottom_nav_menu&quot;\n            app:labelVisibilityMode=&quot;labeled&quot;\n            app:itemIconTint=&quot;@color/white&quot;\n            app:itemTextColor=&quot;@color/white&quot; /&gt;\n\n        &lt;fragment\n            android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            app:defaultNavHost=&quot;true&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;!-- Navigation Drawer --&gt;\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_drawer&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        app:headerLayout=&quot;@layout/nav_header&quot;\n        app:menu=&quot;@menu/drawer_menu&quot; /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n\n</code></pre>\n<p>Home Fragment.java</p>\n<pre><code>public class HomeFragment extends Fragment {\n\n    private FragmentHomeBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        HomeViewModel homeViewModel =\n                new ViewModelProvider(this).get(HomeViewModel.class);\n\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        final TextView textView = binding.textHome;\n        homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n</code></pre>\n<p>Lastly, for MainActivity.java:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener  {\n\n    private ActivityMainBinding binding;\n    private AppBarConfiguration appBarConfiguration;\n    private DrawerLayout drawerLayout;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n\n        drawerLayout = binding.drawerLayout;\n        NavigationView navigationView = binding.navDrawer;\n        navigationView.setNavigationItemSelectedListener(this);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this, drawerLayout, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawerLayout.addDrawerListener(toggle);\n        toggle.syncState();\n\n        BottomNavigationView navView = findViewById(R.id.nav_view);\n\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications, R.id.navigation_beauty, R.id.navigation_child)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n        NavigationUI.setupWithNavController(binding.navView, navController);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.toolbar_menu, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        boolean open = drawerLayout.isOpen();\n\n        if (id == R.id.new_menu &amp;&amp; open == false) {\n            // Handle settings menu item click\n            drawerLayout.open();\n        return true;\n        } else {\n            drawerLayout.close();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        int id = item.getItemId();\n\n        // Handle navigation item clicks here\n        if (id == R.id.nav_item1) {\n            // Handle item1 click\n            Toast.makeText(this, &quot;Item 1 clicked&quot;, Toast.LENGTH_SHORT).show();\n        } else if (id == R.id.nav_item2) {\n            // Handle item2 click\n            Toast.makeText(this, &quot;Item 2 clicked&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        drawerLayout.closeDrawer(GravityCompat.START);\n        return true;\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)) {\n            drawerLayout.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\n        return NavigationUI.navigateUp(navController, appBarConfiguration) || super.onSupportNavigateUp();\n    }\n\n</code></pre>\n<p>I have also already tried to change the layout into relative, frame &amp; linear yet nothing changes, all other layout that is using fragments are getting the problem.</p>\n<p>I have also tried to remove the navigation drawer &amp; appbar/toolbar menu, thinking it will help yet no.</p>\n<p>I haven't tried to configure the home fragment or main activity java for the tab layout.</p>\n<p>I have also tried to adjust the tab layout, I made any possible changes to move its location, like adding Y, changing from top to bottom, etc.</p>\n<p>Any answers are much really appreciated. Thank you!</p>\n"},{"tags":["java","azure-devops"],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1586453442,"creation_date":1586453442,"answer_id":61126841,"question_id":61124946,"body_markdown":"Add the following `script` before you run Maven for Unix based agents\r\n\r\n```yaml\r\n- script: |\r\n    echo &quot;##vso[task.setvariable variable=JAVA_HOME]$(JAVA_HOME_11_X64)&quot;\r\n    echo &quot;##vso[task.setvariable variable=PATH]$(JAVA_HOME_11_X64)/bin:$(PATH)&quot;\r\n  displayName: &quot;Set java version&quot;\r\n```\r\n\r\nFor Windows based agents\r\n```yaml\r\n- script: |\r\n    echo &quot;##vso[task.setvariable variable=JAVA_HOME]$(JAVA_HOME_11_X64)&quot;\r\n    echo &quot;##vso[task.setvariable variable=PATH]$(JAVA_HOME_11_X64)\\bin;$(PATH)&quot;\r\n  displayName: &quot;Set java version&quot;\r\n```\r\n\r\nThis part of the pipeline code shows how the JAVA_HOME value is selected:\r\nhttps://github.com/microsoft/azure-pipelines-tasks/blob/master/Tasks/Common/java-common/java-common.ts","title":"How to you use a specific version of Java in Azure Devops Agent without downloading?","body":"<p>Add the following <code>script</code> before you run Maven for Unix based agents</p>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>- script: |\n    echo \"##vso[task.setvariable variable=JAVA_HOME]$(JAVA_HOME_11_X64)\"\n    echo \"##vso[task.setvariable variable=PATH]$(JAVA_HOME_11_X64)/bin:$(PATH)\"\n  displayName: \"Set java version\"\n</code></pre>\n\n<p>For Windows based agents</p>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>- script: |\n    echo \"##vso[task.setvariable variable=JAVA_HOME]$(JAVA_HOME_11_X64)\"\n    echo \"##vso[task.setvariable variable=PATH]$(JAVA_HOME_11_X64)\\bin;$(PATH)\"\n  displayName: \"Set java version\"\n</code></pre>\n\n<p>This part of the pipeline code shows how the JAVA_HOME value is selected:\n<a href=\"https://github.com/microsoft/azure-pipelines-tasks/blob/master/Tasks/Common/java-common/java-common.ts\" rel=\"noreferrer\">https://github.com/microsoft/azure-pipelines-tasks/blob/master/Tasks/Common/java-common/java-common.ts</a></p>\n"},{"tags":[],"owner":{"account_id":4164817,"reputation":1067,"user_id":3463091,"display_name":"pallxk"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1595900196,"creation_date":1595900196,"answer_id":63125824,"question_id":61124946,"body_markdown":"The Java version to be used can be set via `env` field of the task for Linux or macOS:\r\n\r\n```yaml\r\n- script: |\r\n    java -version\r\n  env:\r\n    JAVA_HOME: $(JAVA_HOME_8_X64)\r\n    PATH: $(JAVA_HOME_8_X64)/bin:$(PATH)\r\n```\r\n\r\nand for Windows, change the colon in PATH to semicolon:\r\n\r\n```yaml\r\n- script: |\r\n    java -version\r\n  env:\r\n    JAVA_HOME: $(JAVA_HOME_8_X64)\r\n    PATH: $(JAVA_HOME_8_X64)/bin;$(PATH)\r\n```\r\n\r\nAlternatives of Java version include:\r\n* `JAVA_HOME_7_X64`\r\n  * Available on Windows: `vs2017-win2016`, `windows-2019`\r\n  * Avaiable on macOS: `macos-10.14`, `macos-10.15`\r\n  * Available on Linux: `ubuntu-16.04`, `ubuntu-18.04`\r\n* `JAVA_HOME_8_X64`\r\n  * Available on Windows: `vs2017-win2016`, `windows-2019`\r\n  * Available on macOS: `macos-10.14`, `macos-10.15`\r\n  * Available on Linux: `ubuntu-16.04`, `ubuntu-18.04`, `ubuntu-20.04`\r\n* `JAVA_HOME_11_X64`\r\n  * Available on Windows: `vs2017-win2016`, `windows-2019`\r\n  * Available on macOS: `macos-10.14`, `macos-10.15`\r\n  * Available on Linux: `ubuntu-16.04`, `ubuntu-18.04`, `ubuntu-20.04`\r\n* `JAVA_HOME_12_X64`\r\n  * Available on macOS: `macos-10.14`, `macos-10.15`\r\n  * Available on Linux: `ubuntu-16.04`, `ubuntu-18.04`\r\n* `JAVA_HOME_13_X64`\r\n  * Available on Windows: `vs2017-win2016`, `windows-2019`\r\n  * Available on macOS: `macos-10.14`, `macos-10.15`\r\n* `JAVA_HOME_14_X64`\r\n  * Available on macOS: `macos-10.14`, `macos-10.15`","title":"How to you use a specific version of Java in Azure Devops Agent without downloading?","body":"<p>The Java version to be used can be set via <code>env</code> field of the task for Linux or macOS:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- script: |\n    java -version\n  env:\n    JAVA_HOME: $(JAVA_HOME_8_X64)\n    PATH: $(JAVA_HOME_8_X64)/bin:$(PATH)\n</code></pre>\n<p>and for Windows, change the colon in PATH to semicolon:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- script: |\n    java -version\n  env:\n    JAVA_HOME: $(JAVA_HOME_8_X64)\n    PATH: $(JAVA_HOME_8_X64)/bin;$(PATH)\n</code></pre>\n<p>Alternatives of Java version include:</p>\n<ul>\n<li><code>JAVA_HOME_7_X64</code>\n<ul>\n<li>Available on Windows: <code>vs2017-win2016</code>, <code>windows-2019</code></li>\n<li>Avaiable on macOS: <code>macos-10.14</code>, <code>macos-10.15</code></li>\n<li>Available on Linux: <code>ubuntu-16.04</code>, <code>ubuntu-18.04</code></li>\n</ul>\n</li>\n<li><code>JAVA_HOME_8_X64</code>\n<ul>\n<li>Available on Windows: <code>vs2017-win2016</code>, <code>windows-2019</code></li>\n<li>Available on macOS: <code>macos-10.14</code>, <code>macos-10.15</code></li>\n<li>Available on Linux: <code>ubuntu-16.04</code>, <code>ubuntu-18.04</code>, <code>ubuntu-20.04</code></li>\n</ul>\n</li>\n<li><code>JAVA_HOME_11_X64</code>\n<ul>\n<li>Available on Windows: <code>vs2017-win2016</code>, <code>windows-2019</code></li>\n<li>Available on macOS: <code>macos-10.14</code>, <code>macos-10.15</code></li>\n<li>Available on Linux: <code>ubuntu-16.04</code>, <code>ubuntu-18.04</code>, <code>ubuntu-20.04</code></li>\n</ul>\n</li>\n<li><code>JAVA_HOME_12_X64</code>\n<ul>\n<li>Available on macOS: <code>macos-10.14</code>, <code>macos-10.15</code></li>\n<li>Available on Linux: <code>ubuntu-16.04</code>, <code>ubuntu-18.04</code></li>\n</ul>\n</li>\n<li><code>JAVA_HOME_13_X64</code>\n<ul>\n<li>Available on Windows: <code>vs2017-win2016</code>, <code>windows-2019</code></li>\n<li>Available on macOS: <code>macos-10.14</code>, <code>macos-10.15</code></li>\n</ul>\n</li>\n<li><code>JAVA_HOME_14_X64</code>\n<ul>\n<li>Available on macOS: <code>macos-10.14</code>, <code>macos-10.15</code></li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17574098,"reputation":715,"user_id":12749249,"display_name":"Martin Kreidenweis"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1602154568,"creation_date":1602154243,"answer_id":64260978,"question_id":61124946,"body_markdown":"You can [now][1] also use the `JavaToolInstaller` task to activate one of the pre-installed Java versions, e.g.\r\n```yml\r\n- task: JavaToolInstaller@0\r\n  inputs:\r\n    versionSpec: &#39;11&#39;\r\n    jdkArchitectureOption: &#39;x64&#39;\r\n    jdkSourceOption: &#39;PreInstalled&#39;\r\n```\r\n\r\nSee documentation at:\r\nhttps://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops\r\n\r\nIt will also set `JAVA_HOME` and prepend the `PATH`, see source:\r\nhttps://github.com/microsoft/azure-pipelines-tasks/blob/46cca412451ac4418d6332114fca8ef8c3095de1/Tasks/JavaToolInstallerV0/javatoolinstaller.ts#L80\r\n\r\n\r\n  [1]: https://github.com/microsoft/azure-pipelines-tasks/pull/12918","title":"How to you use a specific version of Java in Azure Devops Agent without downloading?","body":"<p>You can <a href=\"https://github.com/microsoft/azure-pipelines-tasks/pull/12918\" rel=\"noreferrer\">now</a> also use the <code>JavaToolInstaller</code> task to activate one of the pre-installed Java versions, e.g.</p>\n<pre class=\"lang-yml prettyprint-override\"><code>- task: JavaToolInstaller@0\n  inputs:\n    versionSpec: '11'\n    jdkArchitectureOption: 'x64'\n    jdkSourceOption: 'PreInstalled'\n</code></pre>\n<p>See documentation at:\n<a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops</a></p>\n<p>It will also set <code>JAVA_HOME</code> and prepend the <code>PATH</code>, see source:\n<a href=\"https://github.com/microsoft/azure-pipelines-tasks/blob/46cca412451ac4418d6332114fca8ef8c3095de1/Tasks/JavaToolInstallerV0/javatoolinstaller.ts#L80\" rel=\"noreferrer\">https://github.com/microsoft/azure-pipelines-tasks/blob/46cca412451ac4418d6332114fca8ef8c3095de1/Tasks/JavaToolInstallerV0/javatoolinstaller.ts#L80</a></p>\n"},{"tags":[],"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653030373,"creation_date":1653030373,"answer_id":72314866,"question_id":61124946,"body_markdown":"Just like already mentioned by [Martin Kreidenweis][1], [JavaToolInstaller][2] can be used.  \r\nWhen this is used however on **self-hosted agent**, Java needs to be installed on the agent(s) and the required environment variable needs to be set to point to the installation directory.\r\n\r\nJavaToolInstaller uses an environment variable derived from its configuration. Convention:\r\n\r\n    JAVA_HOME_${versionSpec}_${jdkArchitectureOption}\r\n\r\nThe environment variable can we set in the agent&#39;s home directory in the `.env` file like this:\r\n\r\n``` lang-properties\r\nJAVA_HOME_17_x64=/usr/lib/jvm/temurin-17-jdk-amd64\r\n```\r\n\r\nAfter editing `.env`, the agent needs to be restarted to make the environment variable available for the pipeline. This can be done via *(agent home)*:\r\n\r\n``` lang-sh\r\n./svc.sh stop\r\n./svc.sh start\r\n```\r\nSee [Azure documentation][3].  \r\n\r\n  \r\n\r\nAfter that a step can be added like:\r\n\r\n``` lang-yaml\r\n- task: JavaToolInstaller@0\r\n inputs:\r\n   versionSpec: &#39;17&#39;\r\n   jdkArchitectureOption: &#39;x64&#39;\r\n   jdkSourceOption: &#39;PreInstalled&#39;\r\n```\r\n\r\n[1]: https://stackoverflow.com/a/64260978/1183010\r\n[2]: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops\r\n[3]: https://learn.microsoft.com/en-us/azure/devops/pipelines/agents/v2-linux?view=azure-devops#service-update-environment-variablesmark","title":"How to you use a specific version of Java in Azure Devops Agent without downloading?","body":"<p>Just like already mentioned by <a href=\"https://stackoverflow.com/a/64260978/1183010\">Martin Kreidenweis</a>, <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops\" rel=\"noreferrer\">JavaToolInstaller</a> can be used.<br />\nWhen this is used however on <strong>self-hosted agent</strong>, Java needs to be installed on the agent(s) and the required environment variable needs to be set to point to the installation directory.</p>\n<p>JavaToolInstaller uses an environment variable derived from its configuration. Convention:</p>\n<pre><code>JAVA_HOME_${versionSpec}_${jdkArchitectureOption}\n</code></pre>\n<p>The environment variable can we set in the agent's home directory in the <code>.env</code> file like this:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>JAVA_HOME_17_x64=/usr/lib/jvm/temurin-17-jdk-amd64\n</code></pre>\n<p>After editing <code>.env</code>, the agent needs to be restarted to make the environment variable available for the pipeline. This can be done via <em>(agent home)</em>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>./svc.sh stop\n./svc.sh start\n</code></pre>\n<p>See <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/agents/v2-linux?view=azure-devops#service-update-environment-variablesmark\" rel=\"noreferrer\">Azure documentation</a>.</p>\n<p>After that a step can be added like:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- task: JavaToolInstaller@0\n inputs:\n   versionSpec: '17'\n   jdkArchitectureOption: 'x64'\n   jdkSourceOption: 'PreInstalled'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686154106,"creation_date":1686154106,"answer_id":76425237,"question_id":61124946,"body_markdown":"Just FYI, this is what I used for including java 17 in my azure pipeline script:\r\n    - task: JavaToolInstaller@0\r\n      inputs:\r\n        versionSpec: &#39;17&#39;\r\n        jdkArchitectureOption: &#39;x64&#39;\r\n        jdkSourceOption: &#39;PreInstalled&#39;\r\n      displayName: &#39;Installing Java 17&#39;\r\n    \r\n","title":"How to you use a specific version of Java in Azure Devops Agent without downloading?","body":"<p>Just FYI, this is what I used for including java 17 in my azure pipeline script:\n- task: JavaToolInstaller@0\ninputs:\nversionSpec: '17'\njdkArchitectureOption: 'x64'\njdkSourceOption: 'PreInstalled'\ndisplayName: 'Installing Java 17'</p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39736,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":64260978,"answer_count":5,"score":40,"last_activity_date":1686154106,"creation_date":1586447055,"question_id":61124946,"body_markdown":"I am trying to run Maven using the Maven wrapper rather than the Maven task.  However, it&#39;s failing because it is using an older version of Java.  The JavaInstaller task seems to require a remote source for the JDK, I would rather avoid doing that and use the one that works with Maven task, but I can&#39;t find it documented anywhere.","title":"How to you use a specific version of Java in Azure Devops Agent without downloading?","body":"<p>I am trying to run Maven using the Maven wrapper rather than the Maven task.  However, it's failing because it is using an older version of Java.  The JavaInstaller task seems to require a remote source for the JDK, I would rather avoid doing that and use the one that works with Maven task, but I can't find it documented anywhere.</p>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1686060020,"post_id":76415150,"comment_id":134745252,"body_markdown":"Does `FlashCard` have `JavaFX` properties? If so, does `Jackson` support `JavaFX` properties? Why are you doing `objectMapper.writeValue(file, flashcards.toArray(new Flashcard[0]));` instead of `objectMapper.writeValue(file, flashcards);`? I have never liked `Jackson` so I don&#39;t have much experience with it, but according to [this](https://stackoverflow.com/questions/13514570/jackson-best-way-writes-a-java-list-to-a-json-array), it should work.","body":"Does <code>FlashCard</code> have <code>JavaFX</code> properties? If so, does <code>Jackson</code> support <code>JavaFX</code> properties? Why are you doing <code>objectMapper.writeValue(file, flashcards.toArray(new Flashcard[0]));</code> instead of <code>objectMapper.writeValue(file, flashcards);</code>? I have never liked <code>Jackson</code> so I don&#39;t have much experience with it, but according to <a href=\"https://stackoverflow.com/questions/13514570/jackson-best-way-writes-a-java-list-to-a-json-array\">this</a>, it should work."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1686060084,"post_id":76415150,"comment_id":134745271,"body_markdown":"Due to a [moderator/volunteer strike](https://meta.stackexchange.com/questions/389811/moderator-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-and?r=Saves_AllUserSaves) I will not be performing any content curation on this question.","body":"Due to a <a href=\"https://meta.stackexchange.com/questions/389811/moderator-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-and?r=Saves_AllUserSaves\">moderator/volunteer strike</a> I will not be performing any content curation on this question."},{"owner":{"display_name":"user22030129"},"score":0,"creation_date":1686584357,"post_id":76415150,"comment_id":134815346,"body_markdown":"Can you reply to this now?","body":"Can you reply to this now?"}],"owner":{"display_name":"user22030129"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686153699,"creation_date":1686057903,"question_id":76415150,"body_markdown":"I am creating an application where I have a `saveToStorage()` and `loadFromStorage()` methods, but I can&#39;t see the flashcards being saved to FlashcardList, neither they are loaded when I restart the application. \r\n\r\n**code block where this procedure is supposed to happen**\r\n\r\n```\r\n@FXML\r\nprivate void handleNewButton() {\r\n  try {\r\n      FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;single_flashcard.fxml&quot;));\r\n      Parent root = loader.load();\r\n\r\n      SingleFlashcardController singleFlashcardController = loader.getController();\r\n      // Perform any additional initialization or passing data to the singleFlashcardController if needed\r\n\r\n      singleFlashcardController.setStage(new Stage());\r\n      singleFlashcardController.setFlashcardList(flashcardList); // Pass the flashcardList to the SingleFlashcardController\r\n\r\n      Stage stage = singleFlashcardController.getStage();\r\n      stage.setScene(new Scene(root));\r\n      stage.show();\r\n\r\n      // After the flashcard is saved, retrieve the flashcard data from singleFlashcardController\r\n      singleFlashcardController.getStage().setOnCloseRequest(event -&gt; {\r\n          Flashcard flashcard = singleFlashcardController.getFlashcard();\r\n          if (flashcard != null) {\r\n              saveFlashcardsToStorage(flashcardList);\r\n          }\r\n      });\r\n\r\n  } catch (IOException e) {\r\n      e.printStackTrace();\r\n  }\r\n}\r\n\r\nprivate void saveFlashcardsToStorage(List&lt;Flashcard&gt; flashcards) {\r\n  try {\r\n      File file = new File(&quot;flashcards.json&quot;);\r\n      saveFlashcardsToFile(flashcards, file);\r\n  } catch (IOException e) {\r\n      e.printStackTrace();\r\n      // Handle exception appropriately\r\n  }\r\n}\r\n\r\nprivate void saveFlashcardsToFile(List&lt;Flashcard&gt; flashcards, File file) throws IOException {\r\n  if(flashcards!=null) {\r\n      ObjectMapper objectMapper = new ObjectMapper();\r\n      objectMapper.writeValue(file, flashcards.toArray(new Flashcard[0]));\r\n  }\r\n}\r\n\r\npublic List&lt;Flashcard&gt; loadFlashcardsFromStorage() {\r\n  if(flashcardList!=null) {\r\n      flashcardList.clear();\r\n  }\r\n  List&lt;Flashcard&gt; flashcards = new ArrayList&lt;&gt;();\r\n\r\n  try {\r\n      File file = new File(&quot;flashcards.json&quot;);\r\n      if (file.exists()) {\r\n          flashcards = loadFlashcardsFromFile(file);\r\n          if(flashcardList!=null) {\r\n              flashcardList.addAll(flashcards);\r\n          }\r\n      }\r\n  } catch (IOException e) {\r\n      e.printStackTrace();\r\n      // Handle exception appropriately\r\n  }\r\n\r\n  return flashcards;\r\n}\r\n\r\nprivate List&lt;Flashcard&gt; loadFlashcardsFromFile(File file) throws IOException {\r\n  ObjectMapper objectMapper = new ObjectMapper();\r\n  Flashcard[] flashcards = objectMapper.readValue(file, Flashcard[].class);\r\n  return Arrays.asList(flashcards);\r\n}\r\n```\r\n\r\nCode of **SingleFlashcardController class** where a new flashcard is created and being saved to storage:\r\n\r\n\r\n```\r\n@FXML\r\n    private void handleSaveButton() {\r\n    String question = questionTextField.getText();\r\n    String answer = answerTextArea.getText();        \r\n    // Update the flashcard with the new question and answer\r\n\r\n    if(flashcard!=null) {\r\n        flashcard.setQuestion(question);\r\n        flashcard.setAnswer(answer);\r\n    }\r\n\r\n    // Save the flashcard to storage\r\n    saveFlashcardToStorage(flashcard);\r\n\r\n    // Update the flashcard in the flashcardList if it exists\r\n    if(flashcardList!=null) {\r\n        int index = flashcardList.indexOf(flashcard);\r\n        if (index != -1) {\r\n            flashcardList.set(index, flashcard);\r\n        }\r\n    }\r\n\r\n    // Notify the showFlashcardController of the updated flashcard\r\n    if (showFlashcardController != null) {\r\n        showFlashcardController.setFlashcard(flashcard);\r\n    }\r\n\r\n    // Close the stage\r\n    closeStage();\r\n\r\n    // Clear the input fields\r\n    clearFields();\r\n}\r\n\r\nprivate void clearFields() {\r\n    questionTextField.clear();\r\n    answerTextArea.clear();\r\n}\r\n```\r\n\r\nInitially the methods were getting saved to Flashcard ListView atleast, then I dont know where the changes made impacted the code that now that `saveFlashcardstoStorage()` even isn&#39;t working.\r\n\r\nIn case you need the complete code to see where implementation is going wrong, code is as follows:\r\n**FlashcardScreenController class:**\r\n\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ListCell;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.*;\r\n\r\npublic class FlashcardScreenController implements Initializable {\r\n    @FXML\r\n    private Button deleteButton;\r\n    private Controller deckScreenController;\r\n\r\n    public void setDeckScreenController(Controller deckScreenController) {\r\n        this.deckScreenController = deckScreenController;\r\n    }\r\n\r\n    private ShowFlashcardController showFlashcardController;\r\n    private SingleFlashcardController singleFlashcardController;\r\n\r\n    public void setSingleFlashcardController(SingleFlashcardController singleFlashcardController) {\r\n        this.singleFlashcardController = singleFlashcardController;\r\n    }\r\n\r\n    public void setShowFlashcardController(ShowFlashcardController showFlashcardController) {\r\n        this.showFlashcardController = showFlashcardController;\r\n    }\r\n\r\n    @FXML\r\n    private ListView&lt;Flashcard&gt; flashcardListView;\r\n    @FXML\r\n    private ObservableList&lt;Flashcard&gt; flashcardList = FXCollections.observableArrayList();\r\n\r\n    @FXML\r\n    private Label titleLabel;\r\n    @FXML\r\n    private Label questionLabel;\r\n    @FXML\r\n    private Label answerLabel;\r\n\r\n    private Deck deck;\r\n\r\n    @FXML\r\n    private Button backButton;\r\n    private Flashcard flashcard;\r\n\r\n    private static FlashcardScreenController instance;\r\n\r\n    public FlashcardScreenController() {\r\n        instance = this;\r\n    }\r\n\r\n    public static FlashcardScreenController getInstance() {\r\n        return instance;\r\n    }\r\n\r\n    public void setFlashcard(Flashcard flashcard) {\r\n        this.flashcard = flashcard;\r\n        questionLabel.setText(flashcard.getQuestion());\r\n        answerLabel.setText(flashcard.getAnswer());\r\n    }\r\n\r\n    public void setDeck(Deck deck) {\r\n        this.deck = deck;\r\n        titleLabel.setText(deck.getName());\r\n\r\n\r\n        // Clear the flashcardList before adding elements\r\n        flashcardList.clear();\r\n\r\n        // Populate the flashcards list from the deck\r\n        if (deck != null) {\r\n            Collection&lt;Flashcard&gt; flashcards = deck.getFlashcards();\r\n            if (flashcards != null) {\r\n                flashcardList.addAll(flashcards);\r\n            }\r\n        }\r\n        flashcardListView.setCellFactory(listView -&gt; new FlashcardCell());\r\n    }\r\n\r\n    @FXML\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n\r\n        loadFlashcardsFromStorage(); // Load flashcards when the controller is initialized\r\n\r\n        flashcardListView.setCellFactory(listView -&gt; new FlashcardCell());\r\n        flashcardListView.setItems(flashcardList);\r\n\r\n        flashcardListView.sceneProperty().addListener((observable, oldScene, newScene) -&gt; {\r\n            if (newScene != null) {\r\n                Stage stage = (Stage) flashcardListView.getScene().getWindow();\r\n                if (stage != null) {\r\n                    // Set the close request handler\r\n                    stage.setOnCloseRequest(event -&gt; closeFlashcardScreen());\r\n                }\r\n            }\r\n        });\r\n\r\n        flashcardListView.setOnMouseClicked(event -&gt; {\r\n            if (event.getClickCount() == 2) {\r\n                Flashcard selectedFlashcard = flashcardListView.getSelectionModel().getSelectedItem();\r\n                if (selectedFlashcard != null) {\r\n                    instance.openSingleFlashcardView(selectedFlashcard);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Initialize titleLabel here\r\n        titleLabel.setText(&quot;Flasho&quot;);\r\n\r\n        if (showFlashcardController != null) {\r\n            showFlashcardController.setFlashcardList(flashcardList);\r\n            // Set the flashcardList in the ShowFlashcardController\r\n        }\r\n\r\n        setShowFlashcardController(showFlashcardController); // Pass the ShowFlashcardController instance to FlashcardScreenController\r\n\r\n        backButton.setOnAction(this::handleBackButtonAction);\r\n    }\r\n\r\n\r\n    public void openSingleFlashcardView(Flashcard flashcard) {\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;showFlashcard.fxml&quot;));\r\n            Parent root = loader.load();\r\n\r\n            ShowFlashcardController showFlashcardController = loader.getController();\r\n            showFlashcardController.setFlashcard(flashcard);\r\n\r\n            Stage stage = new Stage();\r\n            stage.setTitle(&quot;Flashcard&quot;);\r\n            stage.setScene(new Scene(root));\r\n\r\n            // Pass the FlashcardScreenController instance to the ShowFlashcardController\r\n            showFlashcardController.setFlashcardScreenController(this);\r\n\r\n            // After the single flashcard view is closed, update the flashcard if it was modified\r\n            if(singleFlashcardController != null) {\r\n                if (singleFlashcardController.isFlashcardModified()) {\r\n                    Flashcard modifiedFlashcard = singleFlashcardController.getFlashcard();\r\n                    // Update the flashcard in the flashcard list\r\n                    flashcardList.set(flashcardList.indexOf(flashcard), modifiedFlashcard);\r\n\r\n                    // Update the flashcard in the ShowFlashcardController\r\n                    setFlashcard(modifiedFlashcard);\r\n                }\r\n            }\r\n\r\n            stage.showAndWait();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    @FXML\r\n    private void handleNewButton() {\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;single_flashcard.fxml&quot;));\r\n            Parent root = loader.load();\r\n\r\n            SingleFlashcardController singleFlashcardController = loader.getController();\r\n            // Perform any additional initialization or passing data to the singleFlashcardController if needed\r\n\r\n            singleFlashcardController.setStage(new Stage());\r\n            singleFlashcardController.setFlashcardList(flashcardList); // Pass the flashcardList to the SingleFlashcardController\r\n\r\n            Stage stage = singleFlashcardController.getStage();\r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n\r\n            // After the flashcard is saved, retrieve the flashcard data from singleFlashcardController\r\n            singleFlashcardController.getStage().setOnCloseRequest(event -&gt; {\r\n                Flashcard flashcard = singleFlashcardController.getFlashcard();\r\n                if (flashcard != null) {\r\n                    saveFlashcardsToStorage(flashcardList);\r\n                }\r\n            });\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void saveFlashcardsToStorage(List&lt;Flashcard&gt; flashcards) {\r\n        try {\r\n            File file = new File(&quot;flashcards.json&quot;);\r\n            saveFlashcardsToFile(flashcards, file);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            // Handle exception appropriately\r\n        }\r\n    }\r\n\r\n    private void saveFlashcardsToFile(List&lt;Flashcard&gt; flashcards, File file) throws IOException {\r\n        if(flashcards!=null) {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.writeValue(file, flashcards.toArray(new Flashcard[0]));\r\n        }\r\n    }\r\n\r\n    public List&lt;Flashcard&gt; loadFlashcardsFromStorage() {\r\n        if(flashcardList!=null) {\r\n            flashcardList.clear();\r\n        }\r\n        List&lt;Flashcard&gt; flashcards = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            File file = new File(&quot;flashcards.json&quot;);\r\n            if (file.exists()) {\r\n                flashcards = loadFlashcardsFromFile(file);\r\n                if(flashcardList!=null) {\r\n                    flashcardList.addAll(flashcards);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            // Handle exception appropriately\r\n        }\r\n\r\n        return flashcards;\r\n    }\r\n\r\n    private List&lt;Flashcard&gt; loadFlashcardsFromFile(File file) throws IOException {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        Flashcard[] flashcards = objectMapper.readValue(file, Flashcard[].class);\r\n        return Arrays.asList(flashcards);\r\n    }\r\n\r\n\r\n    public void displayFlashcards(Deck deck) {\r\n        if (flashcardList != null) {\r\n            flashcardList.clear();\r\n\r\n            if (deck != null) {\r\n                Collection&lt;Flashcard&gt; flashcards = deck.getFlashcards();\r\n                if (flashcards != null) {\r\n                    flashcardList.addAll(flashcards);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /* handling switching to single flashcard */\r\n    @FXML\r\n    private void handleFlashcardClick(MouseEvent event) {\r\n        if (event.getClickCount() == 2) { // Double-click event\r\n            Flashcard selectedFlashcard = flashcardListView.getSelectionModel().getSelectedItem();\r\n            if (selectedFlashcard != null) {\r\n                openSingleFlashcardView(selectedFlashcard);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private void openSingleFlashcardEditView(Flashcard flashcard) {\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;single_flashcard.fxml&quot;));\r\n            Parent root = loader.load();\r\n\r\n            SingleFlashcardController singleFlashcardController = loader.getController();\r\n            singleFlashcardController.setStage(new Stage());\r\n            singleFlashcardController.setFlashcard(flashcard);\r\n\r\n            Stage stage = singleFlashcardController.getStage();\r\n            stage.setScene(new Scene(root));\r\n            stage.showAndWait();\r\n\r\n            // After the single flashcard edit view is closed, update the flashcard if it was modified\r\n            if (singleFlashcardController.isFlashcardModified()) {\r\n                Flashcard modifiedFlashcard = singleFlashcardController.getFlashcard();\r\n                // Update the flashcard in the flashcard list\r\n                flashcardList.set(flashcardList.indexOf(flashcard), modifiedFlashcard);\r\n\r\n                // Update the flashcard in the show flashcard controller\r\n                ShowFlashcardController showFlashcardController = loader.getController();\r\n                showFlashcardController.setFlashcard(modifiedFlashcard);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public void closeFlashcardScreen() {\r\n        // Hide the flashcard screen\r\n        Stage stage = (Stage) backButton.getScene().getWindow();\r\n        stage.hide();\r\n\r\n        if (deckScreenController != null) {\r\n            // Show the deck screen\r\n            deckScreenController.showDeckScreen();\r\n        }\r\n\r\n        saveFlashcardsToStorage(flashcardList);\r\n\r\n        //reload decks when FlashcardScreen si closed\r\n        if (deckScreenController != null) {\r\n            deckScreenController.loadDecks();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public void initializeFlashcardScreen(Deck deck) {\r\n        if (deck != null) {\r\n            if(flashcardList!=null) {\r\n                flashcardList.clear();\r\n            }\r\n            Collection&lt;Flashcard&gt; flashcards = deck.getFlashcards();\r\n            if (flashcards != null) {\r\n                flashcardList.addAll(flashcards);\r\n            }\r\n\r\n\r\n\r\n            flashcardListView.setItems(flashcardList);\r\n\r\n            flashcardListView.setCellFactory(param -&gt; new ListCell&lt;Flashcard&gt;() {\r\n                @Override\r\n                protected void updateItem(Flashcard flashcard, boolean empty) {\r\n                    super.updateItem(flashcard, empty);\r\n                    if (empty || flashcard == null) {\r\n                        setText(null);\r\n                    } else {\r\n                        setText(flashcard.getQuestion());\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public void switchToDeckScreen() {\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;gui.fxml&quot;));\r\n            Parent root = loader.load();\r\n\r\n            Controller deckController = loader.getController();\r\n            deckController.initializeDeckScreen();\r\n\r\n            Stage stage = new Stage();\r\n            stage.setTitle(&quot;Deck&quot;);\r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n\r\n            // Set the close request handler for the new stage\r\n            stage.setOnCloseRequest(event -&gt; {\r\n                deckController.closeDeckScreen();\r\n                event.consume();\r\n            });\r\n\r\n            // Hide the flashcard screen\r\n            Stage flashcardScreenStage = (Stage) backButton.getScene().getWindow();\r\n            flashcardScreenStage.hide();\r\n        } catch(IOException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    @FXML\r\n    private void handleBackButtonAction(ActionEvent event) {\r\n        switchToDeckScreen();\r\n    }\r\n\r\n    public void showFlashcardScreen() {\r\n        try {\r\n            // Save the flashcards to storage\r\n            saveFlashcardsToStorage(flashcardList);\r\n\r\n            // Retrieve the stage of the current controller\r\n            Stage currentStage = (Stage) flashcardListView.getScene().getWindow();\r\n\r\n            // Load the FXML file for the deck screen\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;flashcardScreen.fxml&quot;));\r\n            Parent root = loader.load();\r\n            FlashcardScreenController flashcardScreenController = loader.getController();\r\n\r\n            // Set any necessary data or configurations on the deck screen controller\r\n            // ...\r\n\r\n            // Create a new stage for the deck screen\r\n            Stage flashcardScreenStage = new Stage();\r\n            flashcardScreenStage.setTitle(&quot;Flashcard Screen&quot;);\r\n            flashcardScreenStage.setScene(new Scene(root));\r\n\r\n            // Hide the current stage and show the flashcard screen stage\r\n            currentStage.hide();\r\n            flashcardScreenStage.show();\r\n        } catch (IOException e) {\r\n            // Handle the exception appropriately (e.g., show an error message)\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    /* DELETE BUTTON */\r\n    @FXML\r\n    private void handleDeleteButtonAction(ActionEvent event) {\r\n        Flashcard selectedFlashcard = flashcardListView.getSelectionModel().getSelectedItem();\r\n        if (selectedFlashcard != null) {\r\n            flashcardList.remove(selectedFlashcard);\r\n            // Save the updated flashcard list\r\n            File file = new File(&quot;flashcards.json&quot;);\r\n            saveFlashcardsToStorage(flashcardList);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**SingleFlashcardController class:**\r\n\r\n```\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.PrimitiveIterator;\r\n\r\npublic class SingleFlashcardController {\r\n    private boolean editMode = false;\r\n    private boolean flashcardModified;\r\n    @FXML\r\n    private Button editButton;\r\n\r\n    @FXML\r\n    private Button saveButton;\r\n\r\n\r\n    @FXML\r\n    private Label questionLabel;\r\n    @FXML\r\n    private Label answerLabel;\r\n\r\n    private List&lt;Flashcard&gt; flashcards = new ArrayList&lt;&gt;();\r\n    private ObservableList&lt;Flashcard&gt; flashcardList;\r\n\r\n    @FXML\r\n    private TextField questionTextField;\r\n\r\n    @FXML\r\n    private TextArea answerTextArea;\r\n\r\n    private Stage stage;\r\n    private Flashcard flashcard;\r\n\r\n    private ShowFlashcardController showFlashcardController;\r\n\r\n    public void setShowFlashcardController(ShowFlashcardController showFlashcardController) {\r\n        this.showFlashcardController = showFlashcardController;\r\n    }\r\n\r\n    public void setFlashcardList(ObservableList&lt;Flashcard&gt; flashcardList) {\r\n        this.flashcardList = flashcardList;\r\n    }\r\n\r\n    public void setFlashcard(Flashcard flashcard) {\r\n        this.flashcard = flashcard;\r\n        // Update the UI components with the flashcard data\r\n        questionTextField.setText(flashcard.getQuestion());\r\n        answerTextArea.setText(flashcard.getAnswer());\r\n    }\r\n\r\n    public Flashcard getFlashcard() {\r\n        String question = questionTextField.getText();\r\n        String answer = answerTextArea.getText();\r\n\r\n        // Perform any necessary validation or processing on the question and answer\r\n\r\n        if (!question.isEmpty() &amp;&amp; !answer.isEmpty()) {\r\n            return new Flashcard(question, answer);\r\n        } else {\r\n            // Return null or handle the case when the flashcard is not valid\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public void setStage(Stage stage) {\r\n        this.stage = stage;\r\n    }\r\n\r\n    @FXML\r\n    private void initialize() {\r\n\r\n        // Set up event handlers\r\n        questionTextField.setOnMouseClicked(this::handleQuestionTextFieldClick);\r\n        answerTextArea.setOnMouseClicked(this::handleAnswerTextAreaClick);\r\n\r\n        questionTextField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            if (!newValue) {\r\n                questionTextField.setEditable(false);\r\n            }\r\n        });\r\n\r\n        answerTextArea.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            if(!newValue) {\r\n                answerTextArea.setEditable(true);\r\n            }\r\n        });\r\n\r\n        if (showFlashcardController != null) {\r\n            showFlashcardController.setFlashcardList(flashcardList); // Set the flashcardList in the ShowFlashcardController\r\n        }\r\n            setShowFlashcardController(showFlashcardController); // Pass the ShowFlashcardController instance to FlashcardScreenController\r\n    }\r\n\r\n    @FXML\r\n    private void handleQuestionTextFieldClick(MouseEvent event) {\r\n        // Allow user to start writing when the question text field is clicked\r\n        questionTextField.setEditable(true);\r\n    }\r\n\r\n    @FXML\r\n    private void handleAnswerTextAreaClick(MouseEvent event) {\r\n        // Allow user to start writing when the answer text area is clicked\r\n        answerTextArea.setEditable(true);\r\n    }\r\n\r\n\r\n    @FXML\r\n    private void handleSaveButton() {\r\n        String question = questionTextField.getText();\r\n        String answer = answerTextArea.getText();\r\n\r\n        // Update the flashcard with the new question and answer\r\n        if(flashcard!=null) {\r\n            flashcard.setQuestion(question);\r\n            flashcard.setAnswer(answer);\r\n        }\r\n\r\n        // Save the flashcard to storage\r\n        saveFlashcardToStorage(flashcard);\r\n\r\n        // Update the flashcard in the flashcardList if it exists\r\n        if(flashcardList!=null) {\r\n            int index = flashcardList.indexOf(flashcard);\r\n            if (index != -1) {\r\n                flashcardList.set(index, flashcard);\r\n            }\r\n        }\r\n\r\n        // Notify the showFlashcardController of the updated flashcard\r\n        if (showFlashcardController != null) {\r\n            showFlashcardController.setFlashcard(flashcard);\r\n        }\r\n\r\n        // Close the stage\r\n        closeStage();\r\n\r\n        // Clear the input fields\r\n        clearFields();\r\n    }\r\n\r\n    private void clearFields() {\r\n        questionTextField.clear();\r\n        answerTextArea.clear();\r\n    }\r\n\r\n    @FXML\r\n    private void handleEditButtonClick(ActionEvent event){\r\n        questionTextField.setEditable(true);\r\n        answerTextArea.setEditable(true);\r\n\r\n        if (showFlashcardController != null) {\r\n            showFlashcardController.enableEditButton();\r\n        }\r\n    }\r\n    public Stage getStage() {\r\n        return stage;\r\n    }\r\n\r\n    // Method to check if the flashcard was modified\r\n    public boolean isFlashcardModified() {\r\n        return flashcardModified;\r\n    }\r\n\r\n    private void handleCloseButton() {\r\n        closeStage();\r\n    }\r\n\r\n    private void closeStage() {\r\n        if(stage!=null) {\r\n            stage.close();\r\n        }\r\n    }\r\n\r\n    public void openSingleFlashcardView() {\r\n        stage.showAndWait();\r\n    }\r\n\r\n    public void initializeFlashcard(Flashcard flashcard, boolean editMode) {\r\n        // Set the flashcard data\r\n\r\n        // Toggle visibility of elements based on edit mode\r\n        if (editMode) {\r\n            if(questionLabel!=null){\r\n            questionLabel.setVisible(false);}\r\n            if(questionTextField!=null){\r\n            questionTextField.setVisible(true);}\r\n            questionTextField.setText(flashcard.getQuestion());\r\n\r\n            if(answerLabel!=null){\r\n            answerLabel.setVisible(false);}\r\n            if(answerTextArea!=null){\r\n            answerTextArea.setVisible(true);}\r\n            answerTextArea.setText(flashcard.getAnswer());\r\n\r\n        } else {\r\n            if(questionLabel!=null){\r\n            questionLabel.setVisible(true);}\r\n            if(questionTextField!=null){\r\n            questionTextField.setVisible(false);}\r\n            questionLabel.setText(flashcard.getQuestion());\r\n\r\n            if(answerLabel!=null){\r\n            answerLabel.setVisible(true);}\r\n            if(answerTextArea!=null){\r\n            answerTextArea.setVisible(false);}\r\n            answerLabel.setText(flashcard.getAnswer());\r\n        }\r\n\r\n        this.editMode = editMode;\r\n    }\r\n\r\n    private void saveFlashcardToStorage(Flashcard flashcard) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        try {\r\n            File file = new File(&quot;flashcards.json&quot;);\r\n            List&lt;Flashcard&gt; flashcards = loadFlashcardsFromStorage();\r\n\r\n            // Find the index of the flashcard in the flashcards list\r\n            int index = -1;\r\n            if (flashcards != null) {\r\n                index = flashcards.indexOf(flashcard);\r\n            }\r\n\r\n            if (index != -1) {\r\n                // Update the flashcard in the list\r\n                flashcards.set(index, flashcard);\r\n            } else {\r\n                // Add the new flashcard to the list\r\n                flashcards.add(flashcard);\r\n            }\r\n\r\n            // Save the updated flashcards list to the file\r\n            objectMapper.writeValue(file, flashcards);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            // Handle exception appropriately\r\n        }\r\n    }\r\n\r\n    private List&lt;Flashcard&gt; loadFlashcardsFromStorage() {\r\n        List&lt;Flashcard&gt; flashcards = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            File file = new File(&quot;flashcards.json&quot;);\r\n            if (file.exists()) {\r\n                ObjectMapper objectMapper = new ObjectMapper();\r\n                flashcards = objectMapper.readValue(file, new TypeReference&lt;List&lt;Flashcard&gt;&gt;() {});\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            // Handle exception appropriately\r\n        }\r\n\r\n        return flashcards;\r\n    }\r\n}\r\n```","title":"Objects not properly saving to &amp; loading from JSON file","body":"<p>I am creating an application where I have a <code>saveToStorage()</code> and <code>loadFromStorage()</code> methods, but I can't see the flashcards being saved to FlashcardList, neither they are loaded when I restart the application.</p>\n<p><strong>code block where this procedure is supposed to happen</strong></p>\n<pre><code>@FXML\nprivate void handleNewButton() {\n  try {\n      FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;single_flashcard.fxml&quot;));\n      Parent root = loader.load();\n\n      SingleFlashcardController singleFlashcardController = loader.getController();\n      // Perform any additional initialization or passing data to the singleFlashcardController if needed\n\n      singleFlashcardController.setStage(new Stage());\n      singleFlashcardController.setFlashcardList(flashcardList); // Pass the flashcardList to the SingleFlashcardController\n\n      Stage stage = singleFlashcardController.getStage();\n      stage.setScene(new Scene(root));\n      stage.show();\n\n      // After the flashcard is saved, retrieve the flashcard data from singleFlashcardController\n      singleFlashcardController.getStage().setOnCloseRequest(event -&gt; {\n          Flashcard flashcard = singleFlashcardController.getFlashcard();\n          if (flashcard != null) {\n              saveFlashcardsToStorage(flashcardList);\n          }\n      });\n\n  } catch (IOException e) {\n      e.printStackTrace();\n  }\n}\n\nprivate void saveFlashcardsToStorage(List&lt;Flashcard&gt; flashcards) {\n  try {\n      File file = new File(&quot;flashcards.json&quot;);\n      saveFlashcardsToFile(flashcards, file);\n  } catch (IOException e) {\n      e.printStackTrace();\n      // Handle exception appropriately\n  }\n}\n\nprivate void saveFlashcardsToFile(List&lt;Flashcard&gt; flashcards, File file) throws IOException {\n  if(flashcards!=null) {\n      ObjectMapper objectMapper = new ObjectMapper();\n      objectMapper.writeValue(file, flashcards.toArray(new Flashcard[0]));\n  }\n}\n\npublic List&lt;Flashcard&gt; loadFlashcardsFromStorage() {\n  if(flashcardList!=null) {\n      flashcardList.clear();\n  }\n  List&lt;Flashcard&gt; flashcards = new ArrayList&lt;&gt;();\n\n  try {\n      File file = new File(&quot;flashcards.json&quot;);\n      if (file.exists()) {\n          flashcards = loadFlashcardsFromFile(file);\n          if(flashcardList!=null) {\n              flashcardList.addAll(flashcards);\n          }\n      }\n  } catch (IOException e) {\n      e.printStackTrace();\n      // Handle exception appropriately\n  }\n\n  return flashcards;\n}\n\nprivate List&lt;Flashcard&gt; loadFlashcardsFromFile(File file) throws IOException {\n  ObjectMapper objectMapper = new ObjectMapper();\n  Flashcard[] flashcards = objectMapper.readValue(file, Flashcard[].class);\n  return Arrays.asList(flashcards);\n}\n</code></pre>\n<p>Code of <strong>SingleFlashcardController class</strong> where a new flashcard is created and being saved to storage:</p>\n<pre><code>@FXML\n    private void handleSaveButton() {\n    String question = questionTextField.getText();\n    String answer = answerTextArea.getText();        \n    // Update the flashcard with the new question and answer\n\n    if(flashcard!=null) {\n        flashcard.setQuestion(question);\n        flashcard.setAnswer(answer);\n    }\n\n    // Save the flashcard to storage\n    saveFlashcardToStorage(flashcard);\n\n    // Update the flashcard in the flashcardList if it exists\n    if(flashcardList!=null) {\n        int index = flashcardList.indexOf(flashcard);\n        if (index != -1) {\n            flashcardList.set(index, flashcard);\n        }\n    }\n\n    // Notify the showFlashcardController of the updated flashcard\n    if (showFlashcardController != null) {\n        showFlashcardController.setFlashcard(flashcard);\n    }\n\n    // Close the stage\n    closeStage();\n\n    // Clear the input fields\n    clearFields();\n}\n\nprivate void clearFields() {\n    questionTextField.clear();\n    answerTextArea.clear();\n}\n</code></pre>\n<p>Initially the methods were getting saved to Flashcard ListView atleast, then I dont know where the changes made impacted the code that now that <code>saveFlashcardstoStorage()</code> even isn't working.</p>\n<p>In case you need the complete code to see where implementation is going wrong, code is as follows:\n<strong>FlashcardScreenController class:</strong></p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.scene.input.MouseEvent;\nimport javafx.stage.Stage;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.*;\n\npublic class FlashcardScreenController implements Initializable {\n    @FXML\n    private Button deleteButton;\n    private Controller deckScreenController;\n\n    public void setDeckScreenController(Controller deckScreenController) {\n        this.deckScreenController = deckScreenController;\n    }\n\n    private ShowFlashcardController showFlashcardController;\n    private SingleFlashcardController singleFlashcardController;\n\n    public void setSingleFlashcardController(SingleFlashcardController singleFlashcardController) {\n        this.singleFlashcardController = singleFlashcardController;\n    }\n\n    public void setShowFlashcardController(ShowFlashcardController showFlashcardController) {\n        this.showFlashcardController = showFlashcardController;\n    }\n\n    @FXML\n    private ListView&lt;Flashcard&gt; flashcardListView;\n    @FXML\n    private ObservableList&lt;Flashcard&gt; flashcardList = FXCollections.observableArrayList();\n\n    @FXML\n    private Label titleLabel;\n    @FXML\n    private Label questionLabel;\n    @FXML\n    private Label answerLabel;\n\n    private Deck deck;\n\n    @FXML\n    private Button backButton;\n    private Flashcard flashcard;\n\n    private static FlashcardScreenController instance;\n\n    public FlashcardScreenController() {\n        instance = this;\n    }\n\n    public static FlashcardScreenController getInstance() {\n        return instance;\n    }\n\n    public void setFlashcard(Flashcard flashcard) {\n        this.flashcard = flashcard;\n        questionLabel.setText(flashcard.getQuestion());\n        answerLabel.setText(flashcard.getAnswer());\n    }\n\n    public void setDeck(Deck deck) {\n        this.deck = deck;\n        titleLabel.setText(deck.getName());\n\n\n        // Clear the flashcardList before adding elements\n        flashcardList.clear();\n\n        // Populate the flashcards list from the deck\n        if (deck != null) {\n            Collection&lt;Flashcard&gt; flashcards = deck.getFlashcards();\n            if (flashcards != null) {\n                flashcardList.addAll(flashcards);\n            }\n        }\n        flashcardListView.setCellFactory(listView -&gt; new FlashcardCell());\n    }\n\n    @FXML\n    public void initialize(URL location, ResourceBundle resources) {\n\n        loadFlashcardsFromStorage(); // Load flashcards when the controller is initialized\n\n        flashcardListView.setCellFactory(listView -&gt; new FlashcardCell());\n        flashcardListView.setItems(flashcardList);\n\n        flashcardListView.sceneProperty().addListener((observable, oldScene, newScene) -&gt; {\n            if (newScene != null) {\n                Stage stage = (Stage) flashcardListView.getScene().getWindow();\n                if (stage != null) {\n                    // Set the close request handler\n                    stage.setOnCloseRequest(event -&gt; closeFlashcardScreen());\n                }\n            }\n        });\n\n        flashcardListView.setOnMouseClicked(event -&gt; {\n            if (event.getClickCount() == 2) {\n                Flashcard selectedFlashcard = flashcardListView.getSelectionModel().getSelectedItem();\n                if (selectedFlashcard != null) {\n                    instance.openSingleFlashcardView(selectedFlashcard);\n                }\n            }\n        });\n\n        // Initialize titleLabel here\n        titleLabel.setText(&quot;Flasho&quot;);\n\n        if (showFlashcardController != null) {\n            showFlashcardController.setFlashcardList(flashcardList);\n            // Set the flashcardList in the ShowFlashcardController\n        }\n\n        setShowFlashcardController(showFlashcardController); // Pass the ShowFlashcardController instance to FlashcardScreenController\n\n        backButton.setOnAction(this::handleBackButtonAction);\n    }\n\n\n    public void openSingleFlashcardView(Flashcard flashcard) {\n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;showFlashcard.fxml&quot;));\n            Parent root = loader.load();\n\n            ShowFlashcardController showFlashcardController = loader.getController();\n            showFlashcardController.setFlashcard(flashcard);\n\n            Stage stage = new Stage();\n            stage.setTitle(&quot;Flashcard&quot;);\n            stage.setScene(new Scene(root));\n\n            // Pass the FlashcardScreenController instance to the ShowFlashcardController\n            showFlashcardController.setFlashcardScreenController(this);\n\n            // After the single flashcard view is closed, update the flashcard if it was modified\n            if(singleFlashcardController != null) {\n                if (singleFlashcardController.isFlashcardModified()) {\n                    Flashcard modifiedFlashcard = singleFlashcardController.getFlashcard();\n                    // Update the flashcard in the flashcard list\n                    flashcardList.set(flashcardList.indexOf(flashcard), modifiedFlashcard);\n\n                    // Update the flashcard in the ShowFlashcardController\n                    setFlashcard(modifiedFlashcard);\n                }\n            }\n\n            stage.showAndWait();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    @FXML\n    private void handleNewButton() {\n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;single_flashcard.fxml&quot;));\n            Parent root = loader.load();\n\n            SingleFlashcardController singleFlashcardController = loader.getController();\n            // Perform any additional initialization or passing data to the singleFlashcardController if needed\n\n            singleFlashcardController.setStage(new Stage());\n            singleFlashcardController.setFlashcardList(flashcardList); // Pass the flashcardList to the SingleFlashcardController\n\n            Stage stage = singleFlashcardController.getStage();\n            stage.setScene(new Scene(root));\n            stage.show();\n\n            // After the flashcard is saved, retrieve the flashcard data from singleFlashcardController\n            singleFlashcardController.getStage().setOnCloseRequest(event -&gt; {\n                Flashcard flashcard = singleFlashcardController.getFlashcard();\n                if (flashcard != null) {\n                    saveFlashcardsToStorage(flashcardList);\n                }\n            });\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void saveFlashcardsToStorage(List&lt;Flashcard&gt; flashcards) {\n        try {\n            File file = new File(&quot;flashcards.json&quot;);\n            saveFlashcardsToFile(flashcards, file);\n        } catch (IOException e) {\n            e.printStackTrace();\n            // Handle exception appropriately\n        }\n    }\n\n    private void saveFlashcardsToFile(List&lt;Flashcard&gt; flashcards, File file) throws IOException {\n        if(flashcards!=null) {\n            ObjectMapper objectMapper = new ObjectMapper();\n            objectMapper.writeValue(file, flashcards.toArray(new Flashcard[0]));\n        }\n    }\n\n    public List&lt;Flashcard&gt; loadFlashcardsFromStorage() {\n        if(flashcardList!=null) {\n            flashcardList.clear();\n        }\n        List&lt;Flashcard&gt; flashcards = new ArrayList&lt;&gt;();\n\n        try {\n            File file = new File(&quot;flashcards.json&quot;);\n            if (file.exists()) {\n                flashcards = loadFlashcardsFromFile(file);\n                if(flashcardList!=null) {\n                    flashcardList.addAll(flashcards);\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            // Handle exception appropriately\n        }\n\n        return flashcards;\n    }\n\n    private List&lt;Flashcard&gt; loadFlashcardsFromFile(File file) throws IOException {\n        ObjectMapper objectMapper = new ObjectMapper();\n        Flashcard[] flashcards = objectMapper.readValue(file, Flashcard[].class);\n        return Arrays.asList(flashcards);\n    }\n\n\n    public void displayFlashcards(Deck deck) {\n        if (flashcardList != null) {\n            flashcardList.clear();\n\n            if (deck != null) {\n                Collection&lt;Flashcard&gt; flashcards = deck.getFlashcards();\n                if (flashcards != null) {\n                    flashcardList.addAll(flashcards);\n                }\n            }\n        }\n    }\n\n\n    /* handling switching to single flashcard */\n    @FXML\n    private void handleFlashcardClick(MouseEvent event) {\n        if (event.getClickCount() == 2) { // Double-click event\n            Flashcard selectedFlashcard = flashcardListView.getSelectionModel().getSelectedItem();\n            if (selectedFlashcard != null) {\n                openSingleFlashcardView(selectedFlashcard);\n            }\n        }\n    }\n\n\n    private void openSingleFlashcardEditView(Flashcard flashcard) {\n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;single_flashcard.fxml&quot;));\n            Parent root = loader.load();\n\n            SingleFlashcardController singleFlashcardController = loader.getController();\n            singleFlashcardController.setStage(new Stage());\n            singleFlashcardController.setFlashcard(flashcard);\n\n            Stage stage = singleFlashcardController.getStage();\n            stage.setScene(new Scene(root));\n            stage.showAndWait();\n\n            // After the single flashcard edit view is closed, update the flashcard if it was modified\n            if (singleFlashcardController.isFlashcardModified()) {\n                Flashcard modifiedFlashcard = singleFlashcardController.getFlashcard();\n                // Update the flashcard in the flashcard list\n                flashcardList.set(flashcardList.indexOf(flashcard), modifiedFlashcard);\n\n                // Update the flashcard in the show flashcard controller\n                ShowFlashcardController showFlashcardController = loader.getController();\n                showFlashcardController.setFlashcard(modifiedFlashcard);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    public void closeFlashcardScreen() {\n        // Hide the flashcard screen\n        Stage stage = (Stage) backButton.getScene().getWindow();\n        stage.hide();\n\n        if (deckScreenController != null) {\n            // Show the deck screen\n            deckScreenController.showDeckScreen();\n        }\n\n        saveFlashcardsToStorage(flashcardList);\n\n        //reload decks when FlashcardScreen si closed\n        if (deckScreenController != null) {\n            deckScreenController.loadDecks();\n        }\n    }\n\n\n\n    public void initializeFlashcardScreen(Deck deck) {\n        if (deck != null) {\n            if(flashcardList!=null) {\n                flashcardList.clear();\n            }\n            Collection&lt;Flashcard&gt; flashcards = deck.getFlashcards();\n            if (flashcards != null) {\n                flashcardList.addAll(flashcards);\n            }\n\n\n\n            flashcardListView.setItems(flashcardList);\n\n            flashcardListView.setCellFactory(param -&gt; new ListCell&lt;Flashcard&gt;() {\n                @Override\n                protected void updateItem(Flashcard flashcard, boolean empty) {\n                    super.updateItem(flashcard, empty);\n                    if (empty || flashcard == null) {\n                        setText(null);\n                    } else {\n                        setText(flashcard.getQuestion());\n                    }\n                }\n            });\n        }\n    }\n\n    public void switchToDeckScreen() {\n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;gui.fxml&quot;));\n            Parent root = loader.load();\n\n            Controller deckController = loader.getController();\n            deckController.initializeDeckScreen();\n\n            Stage stage = new Stage();\n            stage.setTitle(&quot;Deck&quot;);\n            stage.setScene(new Scene(root));\n            stage.show();\n\n            // Set the close request handler for the new stage\n            stage.setOnCloseRequest(event -&gt; {\n                deckController.closeDeckScreen();\n                event.consume();\n            });\n\n            // Hide the flashcard screen\n            Stage flashcardScreenStage = (Stage) backButton.getScene().getWindow();\n            flashcardScreenStage.hide();\n        } catch(IOException e){\n            e.printStackTrace();\n        }\n    }\n\n\n    @FXML\n    private void handleBackButtonAction(ActionEvent event) {\n        switchToDeckScreen();\n    }\n\n    public void showFlashcardScreen() {\n        try {\n            // Save the flashcards to storage\n            saveFlashcardsToStorage(flashcardList);\n\n            // Retrieve the stage of the current controller\n            Stage currentStage = (Stage) flashcardListView.getScene().getWindow();\n\n            // Load the FXML file for the deck screen\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;flashcardScreen.fxml&quot;));\n            Parent root = loader.load();\n            FlashcardScreenController flashcardScreenController = loader.getController();\n\n            // Set any necessary data or configurations on the deck screen controller\n            // ...\n\n            // Create a new stage for the deck screen\n            Stage flashcardScreenStage = new Stage();\n            flashcardScreenStage.setTitle(&quot;Flashcard Screen&quot;);\n            flashcardScreenStage.setScene(new Scene(root));\n\n            // Hide the current stage and show the flashcard screen stage\n            currentStage.hide();\n            flashcardScreenStage.show();\n        } catch (IOException e) {\n            // Handle the exception appropriately (e.g., show an error message)\n            e.printStackTrace();\n        }\n    }\n\n    /* DELETE BUTTON */\n    @FXML\n    private void handleDeleteButtonAction(ActionEvent event) {\n        Flashcard selectedFlashcard = flashcardListView.getSelectionModel().getSelectedItem();\n        if (selectedFlashcard != null) {\n            flashcardList.remove(selectedFlashcard);\n            // Save the updated flashcard list\n            File file = new File(&quot;flashcards.json&quot;);\n            saveFlashcardsToStorage(flashcardList);\n        }\n    }\n}\n</code></pre>\n<p><strong>SingleFlashcardController class:</strong></p>\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.MouseEvent;\nimport javafx.stage.Stage;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.PrimitiveIterator;\n\npublic class SingleFlashcardController {\n    private boolean editMode = false;\n    private boolean flashcardModified;\n    @FXML\n    private Button editButton;\n\n    @FXML\n    private Button saveButton;\n\n\n    @FXML\n    private Label questionLabel;\n    @FXML\n    private Label answerLabel;\n\n    private List&lt;Flashcard&gt; flashcards = new ArrayList&lt;&gt;();\n    private ObservableList&lt;Flashcard&gt; flashcardList;\n\n    @FXML\n    private TextField questionTextField;\n\n    @FXML\n    private TextArea answerTextArea;\n\n    private Stage stage;\n    private Flashcard flashcard;\n\n    private ShowFlashcardController showFlashcardController;\n\n    public void setShowFlashcardController(ShowFlashcardController showFlashcardController) {\n        this.showFlashcardController = showFlashcardController;\n    }\n\n    public void setFlashcardList(ObservableList&lt;Flashcard&gt; flashcardList) {\n        this.flashcardList = flashcardList;\n    }\n\n    public void setFlashcard(Flashcard flashcard) {\n        this.flashcard = flashcard;\n        // Update the UI components with the flashcard data\n        questionTextField.setText(flashcard.getQuestion());\n        answerTextArea.setText(flashcard.getAnswer());\n    }\n\n    public Flashcard getFlashcard() {\n        String question = questionTextField.getText();\n        String answer = answerTextArea.getText();\n\n        // Perform any necessary validation or processing on the question and answer\n\n        if (!question.isEmpty() &amp;&amp; !answer.isEmpty()) {\n            return new Flashcard(question, answer);\n        } else {\n            // Return null or handle the case when the flashcard is not valid\n            return null;\n        }\n    }\n\n    public void setStage(Stage stage) {\n        this.stage = stage;\n    }\n\n    @FXML\n    private void initialize() {\n\n        // Set up event handlers\n        questionTextField.setOnMouseClicked(this::handleQuestionTextFieldClick);\n        answerTextArea.setOnMouseClicked(this::handleAnswerTextAreaClick);\n\n        questionTextField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if (!newValue) {\n                questionTextField.setEditable(false);\n            }\n        });\n\n        answerTextArea.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if(!newValue) {\n                answerTextArea.setEditable(true);\n            }\n        });\n\n        if (showFlashcardController != null) {\n            showFlashcardController.setFlashcardList(flashcardList); // Set the flashcardList in the ShowFlashcardController\n        }\n            setShowFlashcardController(showFlashcardController); // Pass the ShowFlashcardController instance to FlashcardScreenController\n    }\n\n    @FXML\n    private void handleQuestionTextFieldClick(MouseEvent event) {\n        // Allow user to start writing when the question text field is clicked\n        questionTextField.setEditable(true);\n    }\n\n    @FXML\n    private void handleAnswerTextAreaClick(MouseEvent event) {\n        // Allow user to start writing when the answer text area is clicked\n        answerTextArea.setEditable(true);\n    }\n\n\n    @FXML\n    private void handleSaveButton() {\n        String question = questionTextField.getText();\n        String answer = answerTextArea.getText();\n\n        // Update the flashcard with the new question and answer\n        if(flashcard!=null) {\n            flashcard.setQuestion(question);\n            flashcard.setAnswer(answer);\n        }\n\n        // Save the flashcard to storage\n        saveFlashcardToStorage(flashcard);\n\n        // Update the flashcard in the flashcardList if it exists\n        if(flashcardList!=null) {\n            int index = flashcardList.indexOf(flashcard);\n            if (index != -1) {\n                flashcardList.set(index, flashcard);\n            }\n        }\n\n        // Notify the showFlashcardController of the updated flashcard\n        if (showFlashcardController != null) {\n            showFlashcardController.setFlashcard(flashcard);\n        }\n\n        // Close the stage\n        closeStage();\n\n        // Clear the input fields\n        clearFields();\n    }\n\n    private void clearFields() {\n        questionTextField.clear();\n        answerTextArea.clear();\n    }\n\n    @FXML\n    private void handleEditButtonClick(ActionEvent event){\n        questionTextField.setEditable(true);\n        answerTextArea.setEditable(true);\n\n        if (showFlashcardController != null) {\n            showFlashcardController.enableEditButton();\n        }\n    }\n    public Stage getStage() {\n        return stage;\n    }\n\n    // Method to check if the flashcard was modified\n    public boolean isFlashcardModified() {\n        return flashcardModified;\n    }\n\n    private void handleCloseButton() {\n        closeStage();\n    }\n\n    private void closeStage() {\n        if(stage!=null) {\n            stage.close();\n        }\n    }\n\n    public void openSingleFlashcardView() {\n        stage.showAndWait();\n    }\n\n    public void initializeFlashcard(Flashcard flashcard, boolean editMode) {\n        // Set the flashcard data\n\n        // Toggle visibility of elements based on edit mode\n        if (editMode) {\n            if(questionLabel!=null){\n            questionLabel.setVisible(false);}\n            if(questionTextField!=null){\n            questionTextField.setVisible(true);}\n            questionTextField.setText(flashcard.getQuestion());\n\n            if(answerLabel!=null){\n            answerLabel.setVisible(false);}\n            if(answerTextArea!=null){\n            answerTextArea.setVisible(true);}\n            answerTextArea.setText(flashcard.getAnswer());\n\n        } else {\n            if(questionLabel!=null){\n            questionLabel.setVisible(true);}\n            if(questionTextField!=null){\n            questionTextField.setVisible(false);}\n            questionLabel.setText(flashcard.getQuestion());\n\n            if(answerLabel!=null){\n            answerLabel.setVisible(true);}\n            if(answerTextArea!=null){\n            answerTextArea.setVisible(false);}\n            answerLabel.setText(flashcard.getAnswer());\n        }\n\n        this.editMode = editMode;\n    }\n\n    private void saveFlashcardToStorage(Flashcard flashcard) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        try {\n            File file = new File(&quot;flashcards.json&quot;);\n            List&lt;Flashcard&gt; flashcards = loadFlashcardsFromStorage();\n\n            // Find the index of the flashcard in the flashcards list\n            int index = -1;\n            if (flashcards != null) {\n                index = flashcards.indexOf(flashcard);\n            }\n\n            if (index != -1) {\n                // Update the flashcard in the list\n                flashcards.set(index, flashcard);\n            } else {\n                // Add the new flashcard to the list\n                flashcards.add(flashcard);\n            }\n\n            // Save the updated flashcards list to the file\n            objectMapper.writeValue(file, flashcards);\n        } catch (IOException e) {\n            e.printStackTrace();\n            // Handle exception appropriately\n        }\n    }\n\n    private List&lt;Flashcard&gt; loadFlashcardsFromStorage() {\n        List&lt;Flashcard&gt; flashcards = new ArrayList&lt;&gt;();\n\n        try {\n            File file = new File(&quot;flashcards.json&quot;);\n            if (file.exists()) {\n                ObjectMapper objectMapper = new ObjectMapper();\n                flashcards = objectMapper.readValue(file, new TypeReference&lt;List&lt;Flashcard&gt;&gt;() {});\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            // Handle exception appropriately\n        }\n\n        return flashcards;\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686152696,"creation_date":1686152696,"answer_id":76425048,"question_id":76424327,"body_markdown":"If the send fails, normal (blocking) retry logic applies; by default, the error handler will perform a seek so that the failed record will be redelivered.","title":"SpringKafka handling retry failures","body":"<p>If the send fails, normal (blocking) retry logic applies; by default, the error handler will perform a seek so that the failed record will be redelivered.</p>\n"}],"owner":{"account_id":5464290,"reputation":137,"user_id":4345521,"display_name":"Oleg K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76425048,"answer_count":1,"score":0,"last_activity_date":1686152696,"creation_date":1686147544,"question_id":76424327,"body_markdown":"We consider using spring kafka [non-blocking retries][1]. Everything is quite straightforward and looks nice: if exception is thrown inside annotated ```@KafkaListener``` method, configured ```KafkaTemplate``` sends failed message to predefined retry topic. But one thing that I didn&#39;t find - what happens if sending to retry topic fails for some reason (temporary connectivity issue with broker, for example), how we should handle errors inside retry mechanism? So far I found only tuning [Producer retries][2], but perhaps there is better way? Thanks\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/reference/html/#retry-topic\r\n  [2]: https://www.conduktor.io/kafka/kafka-producer-retries/","title":"SpringKafka handling retry failures","body":"<p>We consider using spring kafka <a href=\"https://docs.spring.io/spring-kafka/reference/html/#retry-topic\" rel=\"nofollow noreferrer\">non-blocking retries</a>. Everything is quite straightforward and looks nice: if exception is thrown inside annotated <code>@KafkaListener</code> method, configured <code>KafkaTemplate</code> sends failed message to predefined retry topic. But one thing that I didn't find - what happens if sending to retry topic fails for some reason (temporary connectivity issue with broker, for example), how we should handle errors inside retry mechanism? So far I found only tuning <a href=\"https://www.conduktor.io/kafka/kafka-producer-retries/\" rel=\"nofollow noreferrer\">Producer retries</a>, but perhaps there is better way? Thanks</p>\n"},{"tags":["java","json","serialization","enums","jackson"],"comments":[{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":0,"creation_date":1402474978,"post_id":24157817,"comment_id":37282431,"body_markdown":"Which version of Jackson are you on? Take a look at this JIRA https://jira.codehaus.org/browse/JACKSON-861","body":"Which version of Jackson are you on? Take a look at this JIRA <a href=\"https://jira.codehaus.org/browse/JACKSON-861\" rel=\"nofollow noreferrer\">jira.codehaus.org/browse/JACKSON-861</a>"},{"owner":{"account_id":482539,"reputation":8702,"user_id":896997,"accept_rate":95,"display_name":"tom91136"},"score":0,"creation_date":1402475702,"post_id":24157817,"comment_id":37282809,"body_markdown":"I&#39;m using Jackson 2.2.3","body":"I&#39;m using Jackson 2.2.3"},{"owner":{"account_id":482539,"reputation":8702,"user_id":896997,"accept_rate":95,"display_name":"tom91136"},"score":0,"creation_date":1402476969,"post_id":24157817,"comment_id":37283544,"body_markdown":"OK I just updated to 2.4.0-RC3","body":"OK I just updated to 2.4.0-RC3"}],"answers":[{"tags":[],"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"down_vote_count":1,"up_vote_count":109,"is_accepted":false,"score":108,"last_activity_date":1425605174,"creation_date":1402498525,"answer_id":24166163,"question_id":24157817,"body_markdown":"I ran into this same issue in my project, we decided to build our enums with a string key and use `@JsonValue` and a static constructor for serialization and deserialization respectively.\r\n\r\n    public enum DataType {\r\n        JSON(&quot;json&quot;), \r\n        HTML(&quot;html&quot;);\r\n    \r\n        private String key;\r\n\r\n        DataType(String key) {\r\n            this.key = key;\r\n        }\r\n\r\n        @JsonCreator\r\n        public static DataType fromString(String key) {\r\n            return key == null\r\n                    ? null\r\n                    : DataType.valueOf(key.toUpperCase());\r\n        }\r\n\r\n        @JsonValue\r\n        public String getKey() {\r\n            return key;\r\n        }\r\n    }","title":"Jackson databind enum case insensitive","body":"<p>I ran into this same issue in my project, we decided to build our enums with a string key and use <code>@JsonValue</code> and a static constructor for serialization and deserialization respectively.</p>\n\n<pre><code>public enum DataType {\n    JSON(\"json\"), \n    HTML(\"html\");\n\n    private String key;\n\n    DataType(String key) {\n        this.key = key;\n    }\n\n    @JsonCreator\n    public static DataType fromString(String key) {\n        return key == null\n                ? null\n                : DataType.valueOf(key.toUpperCase());\n    }\n\n    @JsonValue\n    public String getKey() {\n        return key;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"down_vote_count":2,"up_vote_count":44,"is_accepted":false,"score":42,"last_activity_date":1402525651,"creation_date":1402525651,"answer_id":24173645,"question_id":24157817,"body_markdown":"In version 2.4.0 you can register a custom serializer for all the Enum types ([link][1] to the github issue). Also you can replace the standard Enum deserializer on your own that will be aware about the Enum type. Here is an example:\r\n\r\n    public class JacksonEnum {\r\n    \r\n        public static enum DataType {\r\n            JSON, HTML\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            List&lt;DataType&gt; types = Arrays.asList(JSON, HTML);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            SimpleModule module = new SimpleModule();\r\n            module.setDeserializerModifier(new BeanDeserializerModifier() {\r\n                @Override\r\n                public JsonDeserializer&lt;Enum&gt; modifyEnumDeserializer(DeserializationConfig config,\r\n                                                                  final JavaType type,\r\n                                                                  BeanDescription beanDesc,\r\n                                                                  final JsonDeserializer&lt;?&gt; deserializer) {\r\n                    return new JsonDeserializer&lt;Enum&gt;() {\r\n                        @Override\r\n                        public Enum deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException {\r\n                            Class&lt;? extends Enum&gt; rawClass = (Class&lt;Enum&lt;?&gt;&gt;) type.getRawClass();\r\n                            return Enum.valueOf(rawClass, jp.getValueAsString().toUpperCase());\r\n                        }\r\n                    };\r\n                }\r\n            });\r\n            module.addSerializer(Enum.class, new StdSerializer&lt;Enum&gt;(Enum.class) {\r\n                @Override\r\n                public void serialize(Enum value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\r\n                    jgen.writeString(value.name().toLowerCase());\r\n                }\r\n            });\r\n            mapper.registerModule(module);\r\n            String json = mapper.writeValueAsString(types);\r\n            System.out.println(json);\r\n            List&lt;DataType&gt; types2 = mapper.readValue(json, new TypeReference&lt;List&lt;DataType&gt;&gt;() {});\r\n            System.out.println(types2);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    [&quot;json&quot;,&quot;html&quot;]\r\n    [JSON, HTML]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/issues/227\r\n\r\n","title":"Jackson databind enum case insensitive","body":"<p>In version 2.4.0 you can register a custom serializer for all the Enum types (<a href=\"https://github.com/FasterXML/jackson-databind/issues/227\" rel=\"noreferrer\">link</a> to the github issue). Also you can replace the standard Enum deserializer on your own that will be aware about the Enum type. Here is an example:</p>\n\n<pre><code>public class JacksonEnum {\n\n    public static enum DataType {\n        JSON, HTML\n    }\n\n    public static void main(String[] args) throws IOException {\n        List&lt;DataType&gt; types = Arrays.asList(JSON, HTML);\n        ObjectMapper mapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule();\n        module.setDeserializerModifier(new BeanDeserializerModifier() {\n            @Override\n            public JsonDeserializer&lt;Enum&gt; modifyEnumDeserializer(DeserializationConfig config,\n                                                              final JavaType type,\n                                                              BeanDescription beanDesc,\n                                                              final JsonDeserializer&lt;?&gt; deserializer) {\n                return new JsonDeserializer&lt;Enum&gt;() {\n                    @Override\n                    public Enum deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException {\n                        Class&lt;? extends Enum&gt; rawClass = (Class&lt;Enum&lt;?&gt;&gt;) type.getRawClass();\n                        return Enum.valueOf(rawClass, jp.getValueAsString().toUpperCase());\n                    }\n                };\n            }\n        });\n        module.addSerializer(Enum.class, new StdSerializer&lt;Enum&gt;(Enum.class) {\n            @Override\n            public void serialize(Enum value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\n                jgen.writeString(value.name().toLowerCase());\n            }\n        });\n        mapper.registerModule(module);\n        String json = mapper.writeValueAsString(types);\n        System.out.println(json);\n        List&lt;DataType&gt; types2 = mapper.readValue(json, new TypeReference&lt;List&lt;DataType&gt;&gt;() {});\n        System.out.println(types2);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[\"json\",\"html\"]\n[JSON, HTML]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":286974,"reputation":3435,"user_id":586522,"display_name":"bhdrk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1411641427,"creation_date":1411641427,"answer_id":26036465,"question_id":24157817,"body_markdown":"Problem is releated to [com.fasterxml.jackson.databind.util.EnumResolver][1]. it uses HashMap to hold enum values and HashMap doesn&#39;t support case insensitive keys.  \r\n\r\nin answers above, all chars should be uppercase or lowercase. but I fixed all (in)sensitive problems for enums with that:\r\n\r\n\r\nhttps://gist.github.com/bhdrk/02307ba8066d26fa1537\r\n\r\n\r\n**CustomDeserializers.java**\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import com.fasterxml.jackson.databind.BeanDescription;\r\n    import com.fasterxml.jackson.databind.DeserializationConfig;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.deser.std.EnumDeserializer;\r\n    import com.fasterxml.jackson.databind.module.SimpleDeserializers;\r\n    import com.fasterxml.jackson.databind.util.EnumResolver;\r\n     \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n     \r\n     \r\n    public class CustomDeserializers extends SimpleDeserializers {\r\n     \r\n        @Override\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public JsonDeserializer&lt;?&gt; findEnumDeserializer(Class&lt;?&gt; type, DeserializationConfig config, BeanDescription beanDesc) throws JsonMappingException {\r\n            return createDeserializer((Class&lt;Enum&gt;) type);\r\n        }\r\n     \r\n        private &lt;T extends Enum&lt;T&gt;&gt; JsonDeserializer&lt;?&gt; createDeserializer(Class&lt;T&gt; enumCls) {\r\n            T[] enumValues = enumCls.getEnumConstants();\r\n            HashMap&lt;String, T&gt; map = createEnumValuesMap(enumValues);\r\n            return new EnumDeserializer(new EnumCaseInsensitiveResolver&lt;T&gt;(enumCls, enumValues, map));\r\n        }\r\n     \r\n        private &lt;T extends Enum&lt;T&gt;&gt; HashMap&lt;String, T&gt; createEnumValuesMap(T[] enumValues) {\r\n            HashMap&lt;String, T&gt; map = new HashMap&lt;String, T&gt;();\r\n            // from last to first, so that in case of duplicate values, first wins\r\n            for (int i = enumValues.length; --i &gt;= 0; ) {\r\n                T e = enumValues[i];\r\n                map.put(e.toString(), e);\r\n            }\r\n            return map;\r\n        }\r\n     \r\n        public static class EnumCaseInsensitiveResolver&lt;T extends Enum&lt;T&gt;&gt; extends EnumResolver&lt;T&gt; {\r\n            protected EnumCaseInsensitiveResolver(Class&lt;T&gt; enumClass, T[] enums, HashMap&lt;String, T&gt; map) {\r\n                super(enumClass, enums, map);\r\n            }\r\n     \r\n            @Override\r\n            public T findEnum(String key) {\r\n                for (Map.Entry&lt;String, T&gt; entry : _enumsById.entrySet()) {\r\n                    if (entry.getKey().equalsIgnoreCase(key)) { // magic line &lt;--\r\n                        return entry.getValue();\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**Usage:**\r\n\r\n\r\n&lt;!-- language: lang-java--&gt;\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n     \r\n\r\n    public class JSON {\r\n     \r\n        public static void main(String[] args) {\r\n            SimpleModule enumModule = new SimpleModule();\r\n            enumModule.setDeserializers(new CustomDeserializers());\r\n     \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.registerModule(enumModule);\r\n        }\r\n        \r\n    }\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/blob/master/src/main/java/com/fasterxml/jackson/databind/util/EnumResolver.java#L120","title":"Jackson databind enum case insensitive","body":"<p>Problem is releated to <a href=\"https://github.com/FasterXML/jackson-databind/blob/master/src/main/java/com/fasterxml/jackson/databind/util/EnumResolver.java#L120\" rel=\"nofollow\">com.fasterxml.jackson.databind.util.EnumResolver</a>. it uses HashMap to hold enum values and HashMap doesn't support case insensitive keys.  </p>\n\n<p>in answers above, all chars should be uppercase or lowercase. but I fixed all (in)sensitive problems for enums with that:</p>\n\n<p><a href=\"https://gist.github.com/bhdrk/02307ba8066d26fa1537\" rel=\"nofollow\">https://gist.github.com/bhdrk/02307ba8066d26fa1537</a></p>\n\n<p><strong>CustomDeserializers.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.BeanDescription;\nimport com.fasterxml.jackson.databind.DeserializationConfig;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.deser.std.EnumDeserializer;\nimport com.fasterxml.jackson.databind.module.SimpleDeserializers;\nimport com.fasterxml.jackson.databind.util.EnumResolver;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n\npublic class CustomDeserializers extends SimpleDeserializers {\n\n    @Override\n    @SuppressWarnings(\"unchecked\")\n    public JsonDeserializer&lt;?&gt; findEnumDeserializer(Class&lt;?&gt; type, DeserializationConfig config, BeanDescription beanDesc) throws JsonMappingException {\n        return createDeserializer((Class&lt;Enum&gt;) type);\n    }\n\n    private &lt;T extends Enum&lt;T&gt;&gt; JsonDeserializer&lt;?&gt; createDeserializer(Class&lt;T&gt; enumCls) {\n        T[] enumValues = enumCls.getEnumConstants();\n        HashMap&lt;String, T&gt; map = createEnumValuesMap(enumValues);\n        return new EnumDeserializer(new EnumCaseInsensitiveResolver&lt;T&gt;(enumCls, enumValues, map));\n    }\n\n    private &lt;T extends Enum&lt;T&gt;&gt; HashMap&lt;String, T&gt; createEnumValuesMap(T[] enumValues) {\n        HashMap&lt;String, T&gt; map = new HashMap&lt;String, T&gt;();\n        // from last to first, so that in case of duplicate values, first wins\n        for (int i = enumValues.length; --i &gt;= 0; ) {\n            T e = enumValues[i];\n            map.put(e.toString(), e);\n        }\n        return map;\n    }\n\n    public static class EnumCaseInsensitiveResolver&lt;T extends Enum&lt;T&gt;&gt; extends EnumResolver&lt;T&gt; {\n        protected EnumCaseInsensitiveResolver(Class&lt;T&gt; enumClass, T[] enums, HashMap&lt;String, T&gt; map) {\n            super(enumClass, enums, map);\n        }\n\n        @Override\n        public T findEnum(String key) {\n            for (Map.Entry&lt;String, T&gt; entry : _enumsById.entrySet()) {\n                if (entry.getKey().equalsIgnoreCase(key)) { // magic line &lt;--\n                    return entry.getValue();\n                }\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\n\npublic class JSON {\n\n    public static void main(String[] args) {\n        SimpleModule enumModule = new SimpleModule();\n        enumModule.setDeserializers(new CustomDeserializers());\n\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(enumModule);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1428497752,"creation_date":1428497752,"answer_id":29515266,"question_id":24157817,"body_markdown":"Here&#39;s how I sometimes handle enums when I want to deserialize in a case-insensitive manner (building on the code posted in the question):\r\n\r\n    @JsonIgnore\r\n    public void setDataType(DataType dataType)\r\n    {\r\n      type = dataType;\r\n    }\r\n    \r\n    @JsonProperty\r\n    public void setDataType(String dataType)\r\n    {\r\n      // Clean up/validate String however you want. I like\r\n      // org.apache.commons.lang3.StringUtils.trimToEmpty\r\n      String d = StringUtils.trimToEmpty(dataType).toUpperCase();\r\n      setDataType(DataType.valueOf(d));\r\n    }\r\n\r\nIf the enum is non-trivial and thus in its own class I usually add a static parse method to handle lowercase Strings.\r\n","title":"Jackson databind enum case insensitive","body":"<p>Here's how I sometimes handle enums when I want to deserialize in a case-insensitive manner (building on the code posted in the question):</p>\n\n<pre><code>@JsonIgnore\npublic void setDataType(DataType dataType)\n{\n  type = dataType;\n}\n\n@JsonProperty\npublic void setDataType(String dataType)\n{\n  // Clean up/validate String however you want. I like\n  // org.apache.commons.lang3.StringUtils.trimToEmpty\n  String d = StringUtils.trimToEmpty(dataType).toUpperCase();\n  setDataType(DataType.valueOf(d));\n}\n</code></pre>\n\n<p>If the enum is non-trivial and thus in its own class I usually add a static parse method to handle lowercase Strings.</p>\n"},{"tags":[],"owner":{"account_id":6963221,"reputation":11,"user_id":5342071,"display_name":"Iago Fern&#225;ndez"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1443369777,"creation_date":1443308267,"answer_id":32802851,"question_id":24157817,"body_markdown":"Deserialize enum with jackson is simple. When you want deserialize enum based in String need a constructor, a getter and a setter to your enum.Also class that use that enum must have a setter which receive DataType as param, not String:\r\n\r\n    public class Endpoint {\r\n\r\n         public enum DataType {\r\n            JSON(&quot;json&quot;), HTML(&quot;html&quot;);\r\n        \r\n            private String type;\r\n        \r\n            @JsonValue\r\n            public String getDataType(){\r\n               return type;\r\n            }\r\n        \r\n            @JsonSetter\r\n            public void setDataType(String t){\r\n               type = t.toLowerCase();\r\n            }\r\n         }\r\n\r\n         public String url;\r\n         public DataType type;\r\n\r\n         public Endpoint() {\r\n    \t\r\n         }\r\n    \r\n         public void setType(DataType dataType){\r\n            type = dataType;\r\n         }\r\n\r\n    }\r\n\r\nWhen you have your json, you can deserialize to Endpoint class using ObjectMapper of Jackson:\r\n\r\n    \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\ttry {\r\n\t\tEndpoint endpoint = mapper.readValue(&quot;{\\&quot;url\\&quot;:\\&quot;foo\\&quot;,\\&quot;type\\&quot;:\\&quot;json\\&quot;}&quot;, Endpoint.class);\r\n\t} catch (IOException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\te1.printStackTrace();\r\n\t}\r\n    \r\n\r\n\r\n","title":"Jackson databind enum case insensitive","body":"<p>Deserialize enum with jackson is simple. When you want deserialize enum based in String need a constructor, a getter and a setter to your enum.Also class that use that enum must have a setter which receive DataType as param, not String:</p>\n\n<pre><code>public class Endpoint {\n\n     public enum DataType {\n        JSON(\"json\"), HTML(\"html\");\n\n        private String type;\n\n        @JsonValue\n        public String getDataType(){\n           return type;\n        }\n\n        @JsonSetter\n        public void setDataType(String t){\n           type = t.toLowerCase();\n        }\n     }\n\n     public String url;\n     public DataType type;\n\n     public Endpoint() {\n\n     }\n\n     public void setType(DataType dataType){\n        type = dataType;\n     }\n\n}\n</code></pre>\n\n<p>When you have your json, you can deserialize to Endpoint class using ObjectMapper of Jackson:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.enable(SerializationFeature.INDENT_OUTPUT);\ntry {\n    Endpoint endpoint = mapper.readValue(\"{\\\"url\\\":\\\"foo\\\",\\\"type\\\":\\\"json\\\"}\", Endpoint.class);\n} catch (IOException e1) {\n        // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":559587,"reputation":11480,"user_id":1245622,"accept_rate":76,"display_name":"linqu"},"down_vote_count":2,"up_vote_count":39,"is_accepted":false,"score":37,"last_activity_date":1461680807,"creation_date":1461668137,"answer_id":36862870,"question_id":24157817,"body_markdown":"I went for the solution of *Sam B.* but a simpler variant.\r\n\r\n\tpublic enum Type {\r\n\t\tPIZZA, APPLE, PEAR, SOUP;\r\n\r\n\t\t@JsonCreator\r\n\t\tpublic static Type fromString(String key) {\r\n\t\t\tfor(Type type : Type.values()) {\r\n\t\t\t\tif(type.name().equalsIgnoreCase(key)) {\r\n\t\t\t\t\treturn type;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}","title":"Jackson databind enum case insensitive","body":"<p>I went for the solution of <em>Sam B.</em> but a simpler variant.</p>\n\n<pre><code>public enum Type {\n    PIZZA, APPLE, PEAR, SOUP;\n\n    @JsonCreator\n    public static Type fromString(String key) {\n        for(Type type : Type.values()) {\n            if(type.name().equalsIgnoreCase(key)) {\n                return type;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5621801,"reputation":897,"user_id":4451384,"display_name":"Andrew Bickerton"},"down_vote_count":7,"up_vote_count":80,"is_accepted":false,"score":73,"last_activity_date":1465249414,"creation_date":1465249414,"answer_id":37667341,"question_id":24157817,"body_markdown":"Since Jackson 2.6, you can simply do this:\r\n\r\n        public enum DataType {\r\n            @JsonProperty(&quot;json&quot;)\r\n            JSON,\r\n            @JsonProperty(&quot;html&quot;)\r\n            HTML\r\n        }\r\nFor a full example, see [this gist](https://gist.github.com/iambic69/b58136a9f513a2fd9459c8753e15d785).","title":"Jackson databind enum case insensitive","body":"<p>Since Jackson 2.6, you can simply do this:</p>\n\n<pre><code>    public enum DataType {\n        @JsonProperty(\"json\")\n        JSON,\n        @JsonProperty(\"html\")\n        HTML\n    }\n</code></pre>\n\n<p>For a full example, see <a href=\"https://gist.github.com/iambic69/b58136a9f513a2fd9459c8753e15d785\">this gist</a>.</p>\n"},{"tags":[],"owner":{"account_id":1086954,"reputation":29057,"user_id":1082449,"accept_rate":71,"display_name":"davnicwil"},"down_vote_count":0,"up_vote_count":204,"is_accepted":true,"score":204,"last_activity_date":1598279355,"creation_date":1495893231,"answer_id":44217670,"question_id":24157817,"body_markdown":"Jackson 2.9\r\n---\r\n\r\nThis is now very simple, using `jackson-databind` 2.9.0 and above\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS);\r\n\r\n    // objectMapper now deserializes enums in a case-insensitive manner\r\n___\r\n\r\n*Full example with tests*\r\n\r\n    import com.fasterxml.jackson.databind.MapperFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n    public class Main {\r\n\r\n      private enum TestEnum { ONE }\r\n      private static class TestObject { public TestEnum testEnum; }\r\n\r\n      public static void main (String[] args) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS);\r\n\r\n        try {\r\n          TestObject uppercase = \r\n            objectMapper.readValue(&quot;{ \\&quot;testEnum\\&quot;: \\&quot;ONE\\&quot; }&quot;, TestObject.class);\r\n          TestObject lowercase = \r\n            objectMapper.readValue(&quot;{ \\&quot;testEnum\\&quot;: \\&quot;one\\&quot; }&quot;, TestObject.class);\r\n          TestObject mixedcase = \r\n            objectMapper.readValue(&quot;{ \\&quot;testEnum\\&quot;: \\&quot;oNe\\&quot; }&quot;, TestObject.class);\r\n\r\n          if (uppercase.testEnum != TestEnum.ONE) throw new Exception(&quot;cannot deserialize uppercase value&quot;);\r\n          if (lowercase.testEnum != TestEnum.ONE) throw new Exception(&quot;cannot deserialize lowercase value&quot;);\r\n          if (mixedcase.testEnum != TestEnum.ONE) throw new Exception(&quot;cannot deserialize mixedcase value&quot;);\r\n\r\n          System.out.println(&quot;Success: all deserializations worked&quot;);\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }","title":"Jackson databind enum case insensitive","body":"<h2>Jackson 2.9</h2>\n<p>This is now very simple, using <code>jackson-databind</code> 2.9.0 and above</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS);\n\n// objectMapper now deserializes enums in a case-insensitive manner\n</code></pre>\n<hr />\n<p><em>Full example with tests</em></p>\n<pre><code>import com.fasterxml.jackson.databind.MapperFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class Main {\n\n  private enum TestEnum { ONE }\n  private static class TestObject { public TestEnum testEnum; }\n\n  public static void main (String[] args) {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS);\n\n    try {\n      TestObject uppercase = \n        objectMapper.readValue(&quot;{ \\&quot;testEnum\\&quot;: \\&quot;ONE\\&quot; }&quot;, TestObject.class);\n      TestObject lowercase = \n        objectMapper.readValue(&quot;{ \\&quot;testEnum\\&quot;: \\&quot;one\\&quot; }&quot;, TestObject.class);\n      TestObject mixedcase = \n        objectMapper.readValue(&quot;{ \\&quot;testEnum\\&quot;: \\&quot;oNe\\&quot; }&quot;, TestObject.class);\n\n      if (uppercase.testEnum != TestEnum.ONE) throw new Exception(&quot;cannot deserialize uppercase value&quot;);\n      if (lowercase.testEnum != TestEnum.ONE) throw new Exception(&quot;cannot deserialize lowercase value&quot;);\n      if (mixedcase.testEnum != TestEnum.ONE) throw new Exception(&quot;cannot deserialize mixedcase value&quot;);\n\n      System.out.println(&quot;Success: all deserializations worked&quot;);\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":359415,"reputation":192,"user_id":3122385,"display_name":"trooper31"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578401996,"creation_date":1541021358,"answer_id":53092208,"question_id":24157817,"body_markdown":"I used a modification of Iago Fern&#225;ndez  and Paul solution .\r\n\r\nI had an enum in my requestobject which needed to be case insensitive\r\n\r\n\r\n    @POST\r\n    public Response doSomePostAction(RequestObject object){\r\n     //resource implementation\r\n    }\r\n\r\n   \r\n    \r\n    class RequestObject{\r\n     //other params \r\n     MyEnumType myType;\r\n     \r\n     @JsonSetter\r\n     public void setMyType(String type){\r\n       myType = MyEnumType.valueOf(type.toUpperCase());\r\n     }\r\n     @JsonGetter\r\n     public String getType(){\r\n       return myType.toString();//this can change \r\n     }\r\n    }\r\n\r\n  \r\n\r\n    \r\n\r\n\r\n\r\n","title":"Jackson databind enum case insensitive","body":"<p>I used a modification of Iago Fernández  and Paul solution .</p>\n\n<p>I had an enum in my requestobject which needed to be case insensitive</p>\n\n<pre><code>@POST\npublic Response doSomePostAction(RequestObject object){\n //resource implementation\n}\n\n\n\nclass RequestObject{\n //other params \n MyEnumType myType;\n\n @JsonSetter\n public void setMyType(String type){\n   myType = MyEnumType.valueOf(type.toUpperCase());\n }\n @JsonGetter\n public String getType(){\n   return myType.toString();//this can change \n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7381491,"reputation":603,"user_id":5618041,"display_name":"harpresing"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1550155390,"creation_date":1550153690,"answer_id":54692478,"question_id":24157817,"body_markdown":"If you&#39;re using Spring Boot `2.1.x` with Jackson `2.9` you can simply use this application property:\r\n\r\n```spring.jackson.mapper.accept-case-insensitive-enums=true```","title":"Jackson databind enum case insensitive","body":"<p>If you're using Spring Boot <code>2.1.x</code> with Jackson <code>2.9</code> you can simply use this application property:</p>\n\n<p><code>spring.jackson.mapper.accept-case-insensitive-enums=true</code></p>\n"},{"tags":[],"owner":{"account_id":5022046,"reputation":660,"user_id":4035262,"display_name":"Konstantin Ziubin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1567618043,"creation_date":1567617626,"answer_id":57793147,"question_id":24157817,"body_markdown":"For those who tries to deserialize Enum ignoring case in **GET parameters**, enabling ACCEPT_CASE_INSENSITIVE_ENUMS will not do any good. It won&#39;t help because this option only works for **body deserialization**. Instead try this: \r\n\r\n    public class StringToEnumConverter implements Converter&lt;String, Modes&gt; {\r\n        @Override\r\n        public Modes convert(String from) {\r\n            return Modes.valueOf(from.toUpperCase());\r\n        }\r\n    }\r\nand then \r\n\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n     \r\n        @Override\r\n        public void addFormatters(FormatterRegistry registry) {\r\n            registry.addConverter(new StringToEnumConverter());\r\n        }\r\n    }\r\n\r\nThe answer and code samples are from [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-custom-data-binder","title":"Jackson databind enum case insensitive","body":"<p>For those who tries to deserialize Enum ignoring case in <strong>GET parameters</strong>, enabling ACCEPT_CASE_INSENSITIVE_ENUMS will not do any good. It won't help because this option only works for <strong>body deserialization</strong>. Instead try this: </p>\n\n<pre><code>public class StringToEnumConverter implements Converter&lt;String, Modes&gt; {\n    @Override\n    public Modes convert(String from) {\n        return Modes.valueOf(from.toUpperCase());\n    }\n}\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new StringToEnumConverter());\n    }\n}\n</code></pre>\n\n<p>The answer and code samples are from <a href=\"https://www.baeldung.com/spring-mvc-custom-data-binder\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581873941,"creation_date":1581873941,"answer_id":60251159,"question_id":24157817,"body_markdown":"With apologies to @Konstantin Zyubin, his answer was close to what I needed - but I didn&#39;t understand it, so here&#39;s how I think it should go:\r\n\r\nIf you want to deserialize one enum type as case insensitive - i.e. you don&#39;t want to, or can&#39;t, modify the behavior of the entire application, you can create a custom deserializer just for one type - by sub-classing `StdConverter` and force Jackson to use it only on the relevant fields using the `JsonDeserialize` annotation.\r\n\r\nExample:\r\n\r\n```Java\r\npublic class ColorHolder {\r\n\r\n  public enum Color {\r\n    RED, GREEN, BLUE\r\n  }\r\n\r\n  public static final class ColorParser extends StdConverter&lt;String, Color&gt; {\r\n    @Override\r\n    public Color convert(String value) {\r\n      return Arrays.stream(Color.values())\r\n        .filter(e -&gt; e.getName().equalsIgnoreCase(value.trim()))\r\n        .findFirst()\r\n        .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid value &#39;&quot; + value + &quot;&#39;&quot;));\r\n\t}\r\n  }\r\n\r\n  @JsonDeserialize(converter = ColorParser.class)\r\n  Color color;\r\n}\r\n```","title":"Jackson databind enum case insensitive","body":"<p>With apologies to @Konstantin Zyubin, his answer was close to what I needed - but I didn't understand it, so here's how I think it should go:</p>\n\n<p>If you want to deserialize one enum type as case insensitive - i.e. you don't want to, or can't, modify the behavior of the entire application, you can create a custom deserializer just for one type - by sub-classing <code>StdConverter</code> and force Jackson to use it only on the relevant fields using the <code>JsonDeserialize</code> annotation.</p>\n\n<p>Example:</p>\n\n<pre><code>public class ColorHolder {\n\n  public enum Color {\n    RED, GREEN, BLUE\n  }\n\n  public static final class ColorParser extends StdConverter&lt;String, Color&gt; {\n    @Override\n    public Color convert(String value) {\n      return Arrays.stream(Color.values())\n        .filter(e -&gt; e.getName().equalsIgnoreCase(value.trim()))\n        .findFirst()\n        .orElseThrow(() -&gt; new IllegalArgumentException(\"Invalid value '\" + value + \"'\"));\n    }\n  }\n\n  @JsonDeserialize(converter = ColorParser.class)\n  Color color;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":430875,"reputation":12228,"user_id":814548,"accept_rate":58,"display_name":"Vivek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589224720,"creation_date":1589224720,"answer_id":61737600,"question_id":24157817,"body_markdown":"To allow case insensitive deserialization of enums in jackson, simply add the below property to the `application.properties` file of your spring boot project.\r\n\r\n    spring.jackson.mapper.accept-case-insensitive-enums=true\r\n\r\n\r\nIf you have the yaml version of properties file, add below property to your `application.yml` file.\r\n\r\n    spring:\r\n      jackson:\r\n        mapper:\r\n          accept-case-insensitive-enums: true","title":"Jackson databind enum case insensitive","body":"<p>To allow case insensitive deserialization of enums in jackson, simply add the below property to the <code>application.properties</code> file of your spring boot project.</p>\n\n<pre><code>spring.jackson.mapper.accept-case-insensitive-enums=true\n</code></pre>\n\n<p>If you have the yaml version of properties file, add below property to your <code>application.yml</code> file.</p>\n\n<pre><code>spring:\n  jackson:\n    mapper:\n      accept-case-insensitive-enums: true\n</code></pre>\n"}],"owner":{"account_id":482539,"reputation":8702,"user_id":896997,"accept_rate":95,"display_name":"tom91136"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119145,"favorite_count":0,"down_vote_count":0,"up_vote_count":156,"accepted_answer_id":44217670,"answer_count":13,"score":156,"last_activity_date":1686152517,"creation_date":1402474380,"question_id":24157817,"body_markdown":"How can I deserialize  JSON string that contains enum values that are case insensitive? (using Jackson Databind)\r\n\r\nThe JSON string:\r\n\r\n    [{&quot;url&quot;: &quot;foo&quot;, &quot;type&quot;: &quot;json&quot;}]\r\n\r\n\r\nand my Java POJO:\r\n\r\n    public static class Endpoint {\r\n\t\t\r\n\t\tpublic enum DataType {\r\n\t\t\tJSON, HTML\r\n\t\t}\r\n\t\t\r\n\t\tpublic String url;\r\n\t\tpublic DataType type;\r\n\r\n\t\tpublic Endpoint() {\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nin this case,deserializing the JSON with `&quot;type&quot;:&quot;json&quot;` would fail where as `&quot;type&quot;:&quot;JSON&quot;` would work.\r\nBut I want `&quot;json&quot;` to work as well for naming convention reasons.\r\n\r\n\r\nSerializing the POJO also results in upper case `&quot;type&quot;:&quot;JSON&quot;`\r\n\r\nI thought of using `@JsonCreator` and @JsonGetter:\r\n\r\n        @JsonCreator\r\n\t\tprivate Endpoint(@JsonProperty(&quot;name&quot;) String url, @JsonProperty(&quot;type&quot;) String type) {\r\n\t\t\tthis.url = url;\r\n\t\t\tthis.type = DataType.valueOf(type.toUpperCase());\r\n\t\t}\r\n\r\n        //....\r\n        @JsonGetter\r\n\t\tprivate String getType() {\r\n\t\t\treturn type.name().toLowerCase();\r\n\t\t}\r\n\r\n  \r\nAnd it worked. But I was wondering whether there&#39;s a better solutuon because this looks like a hack to me. \r\n\r\nI can also write a custom deserializer but I got many different POJOs that use enums and it would be hard to maintain.\r\n\r\nCan anyone suggest a better way to serialize and deserialize enums with proper naming convention?\r\n\r\n**I don&#39;t want my enums in java to be lowercase!**\r\n\r\nHere is some test code that I used:\r\n\r\n        String data = &quot;[{\\&quot;url\\&quot;:\\&quot;foo\\&quot;, \\&quot;type\\&quot;:\\&quot;json\\&quot;}]&quot;;\r\n        Endpoint[] arr = new ObjectMapper().readValue(data, Endpoint[].class);\r\n\t\t\tSystem.out.println(&quot;POJO[]-&gt;&quot; + Arrays.toString(arr));\r\n\t\t\tSystem.out.println(&quot;JSON -&gt;&quot; + new ObjectMapper().writeValueAsString(arr));\r\n","title":"Jackson databind enum case insensitive","body":"<p>How can I deserialize  JSON string that contains enum values that are case insensitive? (using Jackson Databind)</p>\n\n<p>The JSON string:</p>\n\n<pre><code>[{\"url\": \"foo\", \"type\": \"json\"}]\n</code></pre>\n\n<p>and my Java POJO:</p>\n\n<pre><code>public static class Endpoint {\n\n    public enum DataType {\n        JSON, HTML\n    }\n\n    public String url;\n    public DataType type;\n\n    public Endpoint() {\n\n    }\n\n}\n</code></pre>\n\n<p>in this case,deserializing the JSON with <code>\"type\":\"json\"</code> would fail where as <code>\"type\":\"JSON\"</code> would work.\nBut I want <code>\"json\"</code> to work as well for naming convention reasons.</p>\n\n<p>Serializing the POJO also results in upper case <code>\"type\":\"JSON\"</code></p>\n\n<p>I thought of using <code>@JsonCreator</code> and @JsonGetter:</p>\n\n<pre><code>    @JsonCreator\n    private Endpoint(@JsonProperty(\"name\") String url, @JsonProperty(\"type\") String type) {\n        this.url = url;\n        this.type = DataType.valueOf(type.toUpperCase());\n    }\n\n    //....\n    @JsonGetter\n    private String getType() {\n        return type.name().toLowerCase();\n    }\n</code></pre>\n\n<p>And it worked. But I was wondering whether there's a better solutuon because this looks like a hack to me. </p>\n\n<p>I can also write a custom deserializer but I got many different POJOs that use enums and it would be hard to maintain.</p>\n\n<p>Can anyone suggest a better way to serialize and deserialize enums with proper naming convention?</p>\n\n<p><strong>I don't want my enums in java to be lowercase!</strong></p>\n\n<p>Here is some test code that I used:</p>\n\n<pre><code>    String data = \"[{\\\"url\\\":\\\"foo\\\", \\\"type\\\":\\\"json\\\"}]\";\n    Endpoint[] arr = new ObjectMapper().readValue(data, Endpoint[].class);\n        System.out.println(\"POJO[]-&gt;\" + Arrays.toString(arr));\n        System.out.println(\"JSON -&gt;\" + new ObjectMapper().writeValueAsString(arr));\n</code></pre>\n"},{"tags":["java","spring","email","firewall","antivirus"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686152370,"post_id":76424914,"comment_id":134760826,"body_markdown":"I would start by trying to turn on debug logging for the mailing software","body":"I would start by trying to turn on debug logging for the mailing software"},{"owner":{"account_id":28756329,"reputation":54,"user_id":22023284,"display_name":"Mergo"},"score":0,"creation_date":1686152488,"post_id":76424914,"comment_id":134760863,"body_markdown":"Actually that&#39;s a great idea","body":"Actually that&#39;s a great idea"},{"owner":{"account_id":28756329,"reputation":54,"user_id":22023284,"display_name":"Mergo"},"score":0,"creation_date":1686153146,"post_id":76424914,"comment_id":134761018,"body_markdown":"I turned on debug logging. It has not provided further clues for the reason of the SocketTimeoutException.","body":"I turned on debug logging. It has not provided further clues for the reason of the SocketTimeoutException."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686159377,"post_id":76424914,"comment_id":134762266,"body_markdown":"To what address are you connecting and with what protocol? Don&#39;t forget that there&#39;s also `-Djavax.net.debug`","body":"To what address are you connecting and with what protocol? Don&#39;t forget that there&#39;s also <code>-Djavax.net.debug</code>"}],"owner":{"account_id":28756329,"reputation":54,"user_id":22023284,"display_name":"Mergo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686151853,"creation_date":1686151853,"question_id":76424914,"body_markdown":"I am currently developing a server with Java Spring and am trying to send an email from the server. The server runs locally on my lap top and I live in a dorm. When I send an email I get a timeout exception. My research has shown that the most likely reason would be a firewall or antivirus. When I connect my laptop to my cell phone hot spot, it still doesn&#39;t work.\r\n\r\nHow can I find out if a firewall or an anti-virus is actually responsible for the problem?\r\n\r\nI did a little research but haven&#39;t found any concrete instructions that answer this question.","title":"Java Spring send mail - SocketTimeoutException - How to know if firewall or antivirus is the problem?","body":"<p>I am currently developing a server with Java Spring and am trying to send an email from the server. The server runs locally on my lap top and I live in a dorm. When I send an email I get a timeout exception. My research has shown that the most likely reason would be a firewall or antivirus. When I connect my laptop to my cell phone hot spot, it still doesn't work.</p>\n<p>How can I find out if a firewall or an anti-virus is actually responsible for the problem?</p>\n<p>I did a little research but haven't found any concrete instructions that answer this question.</p>\n"},{"tags":["java","snmp","snmp4j"],"answers":[{"tags":[],"owner":{"account_id":8323954,"reputation":1796,"user_id":6284025,"accept_rate":86,"display_name":"TallChuck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686151687,"creation_date":1686151687,"answer_id":76424892,"question_id":76424543,"body_markdown":"The `-Ox` flag that you are asking about doesn&#39;t affect the SNMP transaction, only the interpretation of the received data. In short, instead of using `varBinding.toValueString()`, you want to be using `OctetString.toHexString()`. Based on the [documentation][1], it looks like you can extract the value as a `Variable`, and then cast it to an `OctetString`. Here&#39;s an example:\r\n\r\n    Variable value = varBinding.getVariable();\r\n    if (!value.getSyntaxString().equals(&quot;OCTET_STRING&quot;)) {\r\n        // Throw an exception or something\r\n    }\r\n    \r\n    OctetString octet_string = (OctetString) value;\r\n    String hex = octet_string.toHexString();\r\n\r\n  [1]: https://javadoc.io/static/org.snmp4j/snmp4j/2.8.2/org/snmp4j/smi/VariableBinding.html","title":"How can I use SNMP4J with Java to run snmpwalk with the -Ox parameter to force raw values?","body":"<p>The <code>-Ox</code> flag that you are asking about doesn't affect the SNMP transaction, only the interpretation of the received data. In short, instead of using <code>varBinding.toValueString()</code>, you want to be using <code>OctetString.toHexString()</code>. Based on the <a href=\"https://javadoc.io/static/org.snmp4j/snmp4j/2.8.2/org/snmp4j/smi/VariableBinding.html\" rel=\"nofollow noreferrer\">documentation</a>, it looks like you can extract the value as a <code>Variable</code>, and then cast it to an <code>OctetString</code>. Here's an example:</p>\n<pre><code>Variable value = varBinding.getVariable();\nif (!value.getSyntaxString().equals(&quot;OCTET_STRING&quot;)) {\n    // Throw an exception or something\n}\n\nOctetString octet_string = (OctetString) value;\nString hex = octet_string.toHexString();\n</code></pre>\n"}],"owner":{"account_id":28771083,"reputation":3,"user_id":22034826,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76424892,"answer_count":1,"score":0,"last_activity_date":1686151687,"creation_date":1686149020,"question_id":76424543,"body_markdown":"I have found with some devices (mainly cisco) that they sometimes return some interesting values when running an snmpwalk. I have found specifically that they can change a HEX value to ASCII. \r\n\r\nI&#39;m able to pull back the raw values by using the following cmd passing through **-Ox** as a parameter:\r\n`snmpwalk -Os **-Ox** -c &lt;community&gt; -v 2c &lt;ip_address&gt; &lt;OID&gt;= Hex-STRING: &lt;result_as_hex&gt;`\r\n\r\n**^^^I would like to do that with snmp4j if possible.**\r\n\r\nThe following cmd results in the same as the java code using snmp4j:\r\n`snmpwalk -Os -c &lt;community&gt; -v 2c &lt;ip_address&gt; &lt;OID&gt; = STRING: &lt;result_as_ASCII_value&gt;`\r\n\r\nMany thanks in advance!\r\nJ\r\n\r\nI get the same response when I try to use snmp4j even though I am trying to get the VariableBinding.toValueString:\r\n\r\n    public Map&lt;String, String&gt; doWalk(String tableOid, Target target) throws IOException {\r\n    \t\tlog.info(&quot;doWalk({}, {})&quot;, tableOid, target);\r\n    \t\tMap&lt;String, String&gt; result = new TreeMap&lt;&gt;();\r\n    \t\tTransportMapping&lt;? extends Address&gt; transport = new DefaultUdpTransportMapping();\r\n    \t\t\r\n    \t\tlog.info(transport.getListenAddress().toString());\r\n    \t\tSnmp snmp = new Snmp(transport);\r\n    \t\t\r\n    \t\ttransport.listen();\r\n    \t\t\r\n    \t\tTreeUtils treeUtils = new TreeUtils(snmp, new DefaultPDUFactory());\r\n    \t\tList&lt;TreeEvent&gt; events = treeUtils.getSubtree(target, new OID(tableOid));\r\n    \t\t\r\n    \t\tif (events == null || events.isEmpty()) {\r\n    \t\t\tlog.info(&quot;Error: Unable to read table...&quot;);\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \r\n    \t\tlog.info(&quot;event size is {}&quot;, events.size());\r\n    \t\tfor (TreeEvent event : events) {\r\n    \t\t\tif (event == null) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\tif (event.isError()) {\r\n    \t\t\t\tlog.info(&quot;Error: table OID [{}] {}&quot;, tableOid, event.getErrorMessage());\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n                \r\n    \t\t\tVariableBinding[] varBindings = event.getVariableBindings();\r\n    \t\t\tif (varBindings == null || varBindings.length == 0) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\tfor (VariableBinding varBinding : varBindings) {\r\n    \t\t\t\tif (varBinding == null) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tresult.put(&quot;.&quot; + varBinding.getOid().toString(), varBinding.toValueString());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tsnmp.close();\r\n    \r\n    \t\treturn result;\r\n    \t}","title":"How can I use SNMP4J with Java to run snmpwalk with the -Ox parameter to force raw values?","body":"<p>I have found with some devices (mainly cisco) that they sometimes return some interesting values when running an snmpwalk. I have found specifically that they can change a HEX value to ASCII.</p>\n<p>I'm able to pull back the raw values by using the following cmd passing through <strong>-Ox</strong> as a parameter:\n<code>snmpwalk -Os **-Ox** -c &lt;community&gt; -v 2c &lt;ip_address&gt; &lt;OID&gt;= Hex-STRING: &lt;result_as_hex&gt;</code></p>\n<p><strong>^^^I would like to do that with snmp4j if possible.</strong></p>\n<p>The following cmd results in the same as the java code using snmp4j:\n<code>snmpwalk -Os -c &lt;community&gt; -v 2c &lt;ip_address&gt; &lt;OID&gt; = STRING: &lt;result_as_ASCII_value&gt;</code></p>\n<p>Many thanks in advance!\nJ</p>\n<p>I get the same response when I try to use snmp4j even though I am trying to get the VariableBinding.toValueString:</p>\n<pre><code>public Map&lt;String, String&gt; doWalk(String tableOid, Target target) throws IOException {\n        log.info(&quot;doWalk({}, {})&quot;, tableOid, target);\n        Map&lt;String, String&gt; result = new TreeMap&lt;&gt;();\n        TransportMapping&lt;? extends Address&gt; transport = new DefaultUdpTransportMapping();\n        \n        log.info(transport.getListenAddress().toString());\n        Snmp snmp = new Snmp(transport);\n        \n        transport.listen();\n        \n        TreeUtils treeUtils = new TreeUtils(snmp, new DefaultPDUFactory());\n        List&lt;TreeEvent&gt; events = treeUtils.getSubtree(target, new OID(tableOid));\n        \n        if (events == null || events.isEmpty()) {\n            log.info(&quot;Error: Unable to read table...&quot;);\n            return result;\n        }\n\n        log.info(&quot;event size is {}&quot;, events.size());\n        for (TreeEvent event : events) {\n            if (event == null) {\n                continue;\n            }\n            if (event.isError()) {\n                log.info(&quot;Error: table OID [{}] {}&quot;, tableOid, event.getErrorMessage());\n                continue;\n            }\n            \n            VariableBinding[] varBindings = event.getVariableBindings();\n            if (varBindings == null || varBindings.length == 0) {\n                continue;\n            }\n            for (VariableBinding varBinding : varBindings) {\n                if (varBinding == null) {\n                    continue;\n                }\n\n                result.put(&quot;.&quot; + varBinding.getOid().toString(), varBinding.toValueString());\n            }\n        }\n        snmp.close();\n\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":5,"creation_date":1686150543,"post_id":76424702,"comment_id":134760415,"body_markdown":"Use `replaceAll` to use regex replacement, and `\\b` to match word boundaries: `replaceAll(&quot;\\\\bis\\\\b&quot;, &quot;FOO&quot;)`.","body":"Use <code>replaceAll</code> to use regex replacement, and <code>\\b</code> to match word boundaries: <code>replaceAll(&quot;\\\\bis\\\\b&quot;, &quot;FOO&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":15546478,"reputation":113,"user_id":11215529,"display_name":"Onke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686151540,"creation_date":1686150954,"answer_id":76424784,"question_id":76424702,"body_markdown":"Can you try using regular expressions like the ff? \r\n\r\n    String string = &quot;John is distinguished&quot;;\r\n    String result = string.replaceAll(&quot;\\\\bis\\\\b&quot;,&quot;FOO&quot;);\r\n    \r\n    System.out.Println(result);\r\n\r\n\r\nThe &quot;\\\\\\b&quot; ensure that &quot;is&quot; is matched as whole word rather than just a part of the complete word, in a way ensure word boundary.\r\n\r\n","title":"How to replace a word in a string using Java","body":"<p>Can you try using regular expressions like the ff?</p>\n<pre><code>String string = &quot;John is distinguished&quot;;\nString result = string.replaceAll(&quot;\\\\bis\\\\b&quot;,&quot;FOO&quot;);\n\nSystem.out.Println(result);\n</code></pre>\n<p>The &quot;\\\\b&quot; ensure that &quot;is&quot; is matched as whole word rather than just a part of the complete word, in a way ensure word boundary.</p>\n"}],"owner":{"account_id":26853543,"reputation":31,"user_id":20438146,"display_name":"WilliamG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76424784,"answer_count":1,"score":-1,"last_activity_date":1686151540,"creation_date":1686150295,"question_id":76424702,"body_markdown":"Suppose I have the string &quot;John is distinguished&quot; and I wish to replace &quot;is&quot; with &quot;FOO&quot;. When I use the replace methods, Java returns this string &quot;John FOO dFOOtinguFOOhed&quot; rather than the expected result, &quot;John FOO distinguished&quot;. Java replaced every literal occurrence of &quot;is&quot; in the string with &quot;FOO&quot; which is not the intended result. \r\n\r\nI would prefer not to invoke the replace method this way, `replace(&quot; is &quot;, &quot;FOO&quot;)`, because any occurrence of &quot;is&quot; that is next to a punctuation or comma will be ignored. Example, calling replace this way with the input string &quot;John is... distinguished&quot; would result in the same string &quot;John is... distinguished&quot; rather than the correct output &quot;John FOO... distinguished&quot;. ","title":"How to replace a word in a string using Java","body":"<p>Suppose I have the string &quot;John is distinguished&quot; and I wish to replace &quot;is&quot; with &quot;FOO&quot;. When I use the replace methods, Java returns this string &quot;John FOO dFOOtinguFOOhed&quot; rather than the expected result, &quot;John FOO distinguished&quot;. Java replaced every literal occurrence of &quot;is&quot; in the string with &quot;FOO&quot; which is not the intended result.</p>\n<p>I would prefer not to invoke the replace method this way, <code>replace(&quot; is &quot;, &quot;FOO&quot;)</code>, because any occurrence of &quot;is&quot; that is next to a punctuation or comma will be ignored. Example, calling replace this way with the input string &quot;John is... distinguished&quot; would result in the same string &quot;John is... distinguished&quot; rather than the correct output &quot;John FOO... distinguished&quot;.</p>\n"},{"tags":["java","selenium-webdriver","automation","dropdown"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1686151474,"post_id":76424797,"comment_id":134760645,"body_markdown":"Are you allowed to share the URL in public? if yes, please share the URL of the application.","body":"Are you allowed to share the URL in public? if yes, please share the URL of the application."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1686164893,"post_id":76424797,"comment_id":134763282,"body_markdown":"Which element are you pointing towards, to get the dropdown?","body":"Which element are you pointing towards, to get the dropdown?"}],"owner":{"account_id":22857930,"reputation":21,"user_id":17002498,"display_name":"Aris Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686151087,"creation_date":1686151087,"question_id":76424797,"body_markdown":"I am trying to get all the options of the dropdown list as below:\r\nBut I the options list is not shown as in common dropdown list. The selected option is displayed as an inputted value.\r\nIs there any way to get all the options in this case??\r\n\r\n\r\n```\r\n&lt;div class=&quot;oxd-select-text oxd-select-text--active&quot; data-v-67d2aedf=&quot;&quot; data-v-13cf171c=&quot;&quot;&gt;&lt;div class=&quot;oxd-select-text-input&quot; tabindex=&quot;0&quot; data-v-67d2aedf=&quot;&quot;&gt;Admin&lt;/div&gt;&lt;div class=&quot;oxd-select-text--after&quot; data-v-67d2aedf=&quot;&quot;&gt;&lt;i class=&quot;oxd-icon bi-caret-down-fill oxd-select-text--arrow&quot; data-v-bddebfba=&quot;&quot; data-v-67d2aedf=&quot;&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/VSfZd.png)](https://i.stack.imgur.com/VSfZd.png)\r\n\r\n\r\nI can not get the xpath of the options because it&#39;s dynamic","title":"How to handle dropdown list but does not show options list in HTML?","body":"<p>I am trying to get all the options of the dropdown list as below:\nBut I the options list is not shown as in common dropdown list. The selected option is displayed as an inputted value.\nIs there any way to get all the options in this case??</p>\n<pre><code>&lt;div class=&quot;oxd-select-text oxd-select-text--active&quot; data-v-67d2aedf=&quot;&quot; data-v-13cf171c=&quot;&quot;&gt;&lt;div class=&quot;oxd-select-text-input&quot; tabindex=&quot;0&quot; data-v-67d2aedf=&quot;&quot;&gt;Admin&lt;/div&gt;&lt;div class=&quot;oxd-select-text--after&quot; data-v-67d2aedf=&quot;&quot;&gt;&lt;i class=&quot;oxd-icon bi-caret-down-fill oxd-select-text--arrow&quot; data-v-bddebfba=&quot;&quot; data-v-67d2aedf=&quot;&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VSfZd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VSfZd.png\" alt=\"enter image description here\" /></a></p>\n<p>I can not get the xpath of the options because it's dynamic</p>\n"},{"tags":["java","maven-3","aem","junit5","sling-models"],"comments":[{"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"score":0,"creation_date":1686556962,"post_id":76423919,"comment_id":134809132,"body_markdown":"In which line do you get the NPE? Can you show the stack trace?","body":"In which line do you get the NPE? Can you show the stack trace?"}],"owner":{"account_id":25523476,"reputation":151,"user_id":19312929,"display_name":"Mario R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686150466,"creation_date":1686145088,"question_id":76423919,"body_markdown":"I have the below JUNIT code. \r\nCase 1\r\nI get Nullpointer exception error when I tried to execute it in Eclipse and I get all test cases passed when I run it in command prompt. \r\n\r\nCase 2 - I get Nullpointer exception error error sometime even when I ran the code in command prompt with to execute. Maven command used - mvn clean install -PautoInstallBundle\r\n\r\nI guess it is because of the resource I am loading. But it this resource is always there in eclipse build path.\r\n\r\nJunit code \r\n\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import com.techcombank.core.constants.TestConstants;\r\n    import com.techcombank.core.testcontext.AppAemContext;\r\n    import io.wcm.testing.mock.aem.junit5.AemContext;\r\n    import io.wcm.testing.mock.aem.junit5.AemContextExtension;\r\n    import org.apache.sling.api.resource.Resource;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    import com.day.cq.wcm.api.WCMMode;\r\n    \r\n    import java.util.List;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    @ExtendWith({ AemContextExtension.class, MockitoExtension.class })\r\n    \r\n    public class FeatureListModelTest  {\r\n    \r\n    \tprivate final AemContext ctx = AppAemContext.newAemContext();\r\n    \t\r\n    \tFeatureListModel featureModel;\r\n    \t\r\n    \r\n    \t@BeforeEach\r\n    \tvoid setUp() throws Exception {\r\n    \r\n    \t\tctx.load().json(&quot;/content/mysite/en/featurelist.json&quot;, &quot;/content&quot;);\r\n    \t\tctx.addModelsForClasses(FeatureListModel.class);\r\n    \t\tfeatureModel = getModel(&quot;/content/jcr:content/root/feature&quot;);\r\n    \t}\r\n    \t\r\n    \t @Test\r\n    \t    void getFeaturePath() {\r\n    \t        final String expected = &quot;/content/dam/mysite/logo.jpg&quot;;\r\n    \t        assertEquals(expected, featureModel.getFeaturePath());\r\n    \t    }\r\n    \t \r\n    \t private FeatureListModel getModel(String currentResource) {\r\n    \t\t\tctx.request().setAttribute(WCMMode.class.getName(), WCMMode.EDIT);\r\n    \t\t\tctx.currentResource(currentResource);\r\n    \t\t\tFeatureListModel fm = ctx.currentResource().adaptTo(FeatureListModel.class);\r\n    \t\t\treturn fm;\r\n    \t\t}\r\n    }\r\n\r\nAny idea on case 1 and case 2. Why is this consistent happen ? In fact I restarted eclipse and my windows machine but no luck.","title":"Junit result is not consistent always in AEM","body":"<p>I have the below JUNIT code.\nCase 1\nI get Nullpointer exception error when I tried to execute it in Eclipse and I get all test cases passed when I run it in command prompt.</p>\n<p>Case 2 - I get Nullpointer exception error error sometime even when I ran the code in command prompt with to execute. Maven command used - mvn clean install -PautoInstallBundle</p>\n<p>I guess it is because of the resource I am loading. But it this resource is always there in eclipse build path.</p>\n<p>Junit code</p>\n<pre><code>import org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport com.techcombank.core.constants.TestConstants;\nimport com.techcombank.core.testcontext.AppAemContext;\nimport io.wcm.testing.mock.aem.junit5.AemContext;\nimport io.wcm.testing.mock.aem.junit5.AemContextExtension;\nimport org.apache.sling.api.resource.Resource;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport com.day.cq.wcm.api.WCMMode;\n\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n@ExtendWith({ AemContextExtension.class, MockitoExtension.class })\n\npublic class FeatureListModelTest  {\n\n    private final AemContext ctx = AppAemContext.newAemContext();\n    \n    FeatureListModel featureModel;\n    \n\n    @BeforeEach\n    void setUp() throws Exception {\n\n        ctx.load().json(&quot;/content/mysite/en/featurelist.json&quot;, &quot;/content&quot;);\n        ctx.addModelsForClasses(FeatureListModel.class);\n        featureModel = getModel(&quot;/content/jcr:content/root/feature&quot;);\n    }\n    \n     @Test\n        void getFeaturePath() {\n            final String expected = &quot;/content/dam/mysite/logo.jpg&quot;;\n            assertEquals(expected, featureModel.getFeaturePath());\n        }\n     \n     private FeatureListModel getModel(String currentResource) {\n            ctx.request().setAttribute(WCMMode.class.getName(), WCMMode.EDIT);\n            ctx.currentResource(currentResource);\n            FeatureListModel fm = ctx.currentResource().adaptTo(FeatureListModel.class);\n            return fm;\n        }\n}\n</code></pre>\n<p>Any idea on case 1 and case 2. Why is this consistent happen ? In fact I restarted eclipse and my windows machine but no luck.</p>\n"},{"tags":["java","git","macos","intellij-idea","macos-mojave"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1540359944,"post_id":52961757,"comment_id":92830211,"body_markdown":"Try to run it from console (with full path). What output do you have?","body":"Try to run it from console (with full path). What output do you have?"},{"owner":{"account_id":11431446,"reputation":51,"user_id":10466508,"display_name":"CHIRAG CHOPRA"},"score":0,"creation_date":1540360474,"post_id":52961757,"comment_id":92830395,"body_markdown":"How to run it from console ?","body":"How to run it from console ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1540360592,"post_id":52961757,"comment_id":92830436,"body_markdown":"*&quot;How to run it from console ?&quot;*  - Type &quot;git --version&quot;!   Then &quot;which git&quot;.  But my bet is that you don&#39;t have a free-standing &quot;git&quot; installation.  So the solution would be to install git!","body":"<i>&quot;How to run it from console ?&quot;</i>  - Type &quot;git --version&quot;!   Then &quot;which git&quot;.  But my bet is that you don&#39;t have a free-standing &quot;git&quot; installation.  So the solution would be to install git!"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1540360659,"post_id":52961757,"comment_id":92830455,"body_markdown":"@StephenC it will be better to type `/usr/bin/git` because it is what Idea try to run.","body":"@StephenC it will be better to type <code>&#47;usr&#47;bin&#47;git</code> because it is what Idea try to run."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1540360697,"post_id":52961757,"comment_id":92830468,"body_markdown":"Except that &quot;/usr/bin/git&quot; is not correct.  See the error message!","body":"Except that &quot;/usr/bin/git&quot; is not correct.  See the error message!"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1540360710,"post_id":52961757,"comment_id":92830473,"body_markdown":"I don&#39;t have experience with Mac, but google said you can try this https://blog.teamtreehouse.com/introduction-to-the-mac-os-x-command-line","body":"I don&#39;t have experience with Mac, but google said you can try this <a href=\"https://blog.teamtreehouse.com/introduction-to-the-mac-os-x-command-line\" rel=\"nofollow noreferrer\">blog.teamtreehouse.com/&hellip;</a>"},{"owner":{"account_id":11431446,"reputation":51,"user_id":10466508,"display_name":"CHIRAG CHOPRA"},"score":0,"creation_date":1540360831,"post_id":52961757,"comment_id":92830511,"body_markdown":"when i typed git it throwed this error\n\ngit: error: unable to read SDK settings for &#39;/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk&#39;\ngit: error: unable to read SDK settings for &#39;/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk&#39;","body":"when i typed git it throwed this error  git: error: unable to read SDK settings for &#39;/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk&#39; git: error: unable to read SDK settings for &#39;/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk&#39;"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1540360895,"post_id":52961757,"comment_id":92830540,"body_markdown":"@StephenC I think that&#39;s default path for git. We need to find out why it is error. There is several option here: file don&#39;t exist, file is not accessible, file is corrupted. Running it in console can give us a clue about what is actually happened.","body":"@StephenC I think that&#39;s default path for git. We need to find out why it is error. There is several option here: file don&#39;t exist, file is not accessible, file is corrupted. Running it in console can give us a clue about what is actually happened."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1540360945,"post_id":52961757,"comment_id":92830560,"body_markdown":"You could try this .... https://stackoverflow.com/questions/30388636/git-error-sdk-macosx-cannot-be-located","body":"You could try this .... <a href=\"https://stackoverflow.com/questions/30388636/git-error-sdk-macosx-cannot-be-located\" title=\"git error sdk macosx cannot be located\">stackoverflow.com/questions/30388636/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1540360994,"post_id":52961757,"comment_id":92830575,"body_markdown":"Or this https://stackoverflow.com/questions/52665394/git-error-unable-to-read-sdk-settings-for-macosx-sdk.  In fact, my guess is that your Q is a dup of this one.  Basically, it says you need to **update** your XCode installation.","body":"Or this <a href=\"https://stackoverflow.com/questions/52665394/git-error-unable-to-read-sdk-settings-for-macosx-sdk\" title=\"git error unable to read sdk settings for macosx sdk\">stackoverflow.com/questions/52665394/&hellip;</a>.  In fact, my guess is that your Q is a dup of this one.  Basically, it says you need to <b>update</b> your XCode installation."},{"owner":{"account_id":1100469,"reputation":498,"user_id":1092982,"accept_rate":50,"display_name":"Ian G"},"score":0,"creation_date":1549640570,"post_id":52961757,"comment_id":95987718,"body_markdown":"I encountered this issue as well with IntelliJ @StephenC but I did not get the error described in that question from terminal, only from IntelliJ. I posted the steps which worked to resolve the issue IntelliJ was having.","body":"I encountered this issue as well with IntelliJ @StephenC but I did not get the error described in that question from terminal, only from IntelliJ. I posted the steps which worked to resolve the issue IntelliJ was having."}],"answers":[{"tags":[],"owner":{"account_id":11308037,"reputation":755,"user_id":8291971,"display_name":"Patryk Rudnicki"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1562844354,"creation_date":1540366099,"answer_id":52963208,"question_id":52961757,"body_markdown":"To solve this problem you need to install xcode developer tools.\r\n\r\nRun this command, the problem will be fixed:\r\n\r\n`xcode-select --install`\r\n\r\nI had the same problem after upgrade and this solved it.","title":"INTELLIJ IDEA ERROR: &quot;Can&#39;t start Git: /usr/bin/git Probably the path to Git executable is not valid. Fix it.&quot; How to Fix it?","body":"<p>To solve this problem you need to install xcode developer tools.</p>\n\n<p>Run this command, the problem will be fixed:</p>\n\n<p><code>xcode-select --install</code></p>\n\n<p>I had the same problem after upgrade and this solved it.</p>\n"},{"tags":[],"owner":{"account_id":1100469,"reputation":498,"user_id":1092982,"accept_rate":50,"display_name":"Ian G"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549639823,"creation_date":1549591567,"answer_id":54585132,"question_id":52961757,"body_markdown":"I performed the following steps to solve this problem:\r\n\r\n 1. Run `sudo xcode-select --switch  /Application/Xcode.app/Contents/Developer` (this step may be optional)\r\n 2. Open **App Store**\r\n 3. Update **xcode**\r\n 4. *Wait for update to complete before continuing with next steps*\r\n 5. Run `sudo xcodebuild -license`\r\n 6. Press &lt;kbd&gt;enter&lt;/kbd&gt; key to view agreement (to page down the agreement hold &lt;kbd&gt;space&lt;/kbd&gt; or press it multiple times)\r\n 7. Once at the end of the agreement if you agree type `agree` and press &lt;kbd&gt;enter&lt;/kbd&gt;\r\n 8. Close and re-open IntelliJ and GIT should work again.\r\n\r\nI hope this helps others!","title":"INTELLIJ IDEA ERROR: &quot;Can&#39;t start Git: /usr/bin/git Probably the path to Git executable is not valid. Fix it.&quot; How to Fix it?","body":"<p>I performed the following steps to solve this problem:</p>\n\n<ol>\n<li>Run <code>sudo xcode-select --switch  /Application/Xcode.app/Contents/Developer</code> (this step may be optional)</li>\n<li>Open <strong>App Store</strong></li>\n<li>Update <strong>xcode</strong></li>\n<li><em>Wait for update to complete before continuing with next steps</em></li>\n<li>Run <code>sudo xcodebuild -license</code></li>\n<li>Press <kbd>enter</kbd> key to view agreement (to page down the agreement hold <kbd>space</kbd> or press it multiple times)</li>\n<li>Once at the end of the agreement if you agree type <code>agree</code> and press <kbd>enter</kbd></li>\n<li>Close and re-open IntelliJ and GIT should work again.</li>\n</ol>\n\n<p>I hope this helps others!</p>\n"},{"tags":[],"owner":{"account_id":11353198,"reputation":31,"user_id":8323528,"display_name":"Akash A N"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686150390,"creation_date":1686150390,"answer_id":76424714,"question_id":52961757,"body_markdown":"I ran into the same error on mac after updating the OS to Ventura. Tried the above solutions which did not solve the error,\r\n\r\n&gt; xcode-select: error: command line tools are already installed, use &quot;Software Update&quot; in System Settings to install updates\r\n\r\nWhat worked: System Settings --&gt; Privacy and Security --&gt; Developer Tools &lt;br/&gt;\r\nToggle the button next to Terminal\r\n\r\n[ScreenShot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KDMyD.png","title":"INTELLIJ IDEA ERROR: &quot;Can&#39;t start Git: /usr/bin/git Probably the path to Git executable is not valid. Fix it.&quot; How to Fix it?","body":"<p>I ran into the same error on mac after updating the OS to Ventura. Tried the above solutions which did not solve the error,</p>\n<blockquote>\n<p>xcode-select: error: command line tools are already installed, use &quot;Software Update&quot; in System Settings to install updates</p>\n</blockquote>\n<p>What worked: System Settings --&gt; Privacy and Security --&gt; Developer Tools <br/>\nToggle the button next to Terminal</p>\n<p><a href=\"https://i.stack.imgur.com/KDMyD.png\" rel=\"nofollow noreferrer\">ScreenShot</a></p>\n"}],"owner":{"account_id":11431446,"reputation":51,"user_id":10466508,"display_name":"CHIRAG CHOPRA"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12913,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1686150390,"creation_date":1540359776,"question_id":52961757,"body_markdown":"I updated my mac to macOS Mojave version 10.14, I already had Xcode installed in the previous OS version and now while I run intelliJ this error is thrown:- \r\n\r\n&gt; Can&#39;t start Git: /usr/bin/git Probably the path to Git executable is\r\n&gt; not valid. Fix it\r\n\r\n[Screenshot of the error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bemor.png","title":"INTELLIJ IDEA ERROR: &quot;Can&#39;t start Git: /usr/bin/git Probably the path to Git executable is not valid. Fix it.&quot; How to Fix it?","body":"<p>I updated my mac to macOS Mojave version 10.14, I already had Xcode installed in the previous OS version and now while I run intelliJ this error is thrown:- </p>\n\n<blockquote>\n  <p>Can't start Git: /usr/bin/git Probably the path to Git executable is\n  not valid. Fix it</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/Bemor.png\" rel=\"nofollow noreferrer\">Screenshot of the error</a></p>\n"},{"tags":["java","http","networking","jsoup","asynchttpclient"],"owner":{"account_id":6721640,"reputation":120,"user_id":16963686,"display_name":"CampingCow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686150209,"creation_date":1686150209,"question_id":76424694,"body_markdown":"want to get the data from reddit profile pages. Some of these pages are tagged as nsfw, so users have to click accept in gui. (e.g. https://old.reddit.com/user/3DigitIQ) After clicking the page send a post request with &quot;over18=yes&quot; body and gets redirected to get request.\r\n\r\n\r\nNow I want to rebuild this request in jsoup. the first request is allways getting redirected to reddit startpage. The second AsyncHttpClient request works fine and redirects correctly to https://old.reddit.com/user/3DigitIQ . I think its the same request. So one of these libaries is doing something in the background I dont understand. Someone knows whats the difference?\r\n\r\n\r\n\r\n            String url2 = &quot; https://old.reddit.com/over18?dest=https://old.reddit.com/user/3DigitIQ&quot;;\r\n            String res = Jsoup.connect(url2)\r\n                .method(Connection.Method.POST)\r\n                .header(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded;charset=UTF-8&quot;)\r\n                .requestBody(&quot;over18=yes&quot;)\r\n                .followRedirects(true)\r\n                .execute()\r\n                .body();\r\n\r\n        System.out.println(Jsoup.parse(res).select(&quot;title&quot;).text());\r\n        // REDIRECT TO REDDIT MAIN PAGE\r\n\r\n        AsyncHttpClient client = new DefaultAsyncHttpClient();\r\n        String newPageBody = client.prepare(&quot;POST&quot;, url2)\r\n                .setBody(&quot;over18=yes&quot;)\r\n                .setFollowRedirect(true)\r\n                .execute()\r\n                .get()\r\n                .getResponseBody();\r\n\r\n        System.out.println(Jsoup.parse(newPageBody).select(&quot;title&quot;).text());\r\n        // REDIRECT TO EXPECTED REDDIT USER PAGE","title":"Why is the same http post request failing with jsoup but working with AsyncHttpClient?","body":"<p>want to get the data from reddit profile pages. Some of these pages are tagged as nsfw, so users have to click accept in gui. (e.g. <a href=\"https://old.reddit.com/user/3DigitIQ\" rel=\"nofollow noreferrer\">https://old.reddit.com/user/3DigitIQ</a>) After clicking the page send a post request with &quot;over18=yes&quot; body and gets redirected to get request.</p>\n<p>Now I want to rebuild this request in jsoup. the first request is allways getting redirected to reddit startpage. The second AsyncHttpClient request works fine and redirects correctly to <a href=\"https://old.reddit.com/user/3DigitIQ\" rel=\"nofollow noreferrer\">https://old.reddit.com/user/3DigitIQ</a> . I think its the same request. So one of these libaries is doing something in the background I dont understand. Someone knows whats the difference?</p>\n<pre><code>        String url2 = &quot; https://old.reddit.com/over18?dest=https://old.reddit.com/user/3DigitIQ&quot;;\n        String res = Jsoup.connect(url2)\n            .method(Connection.Method.POST)\n            .header(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded;charset=UTF-8&quot;)\n            .requestBody(&quot;over18=yes&quot;)\n            .followRedirects(true)\n            .execute()\n            .body();\n\n    System.out.println(Jsoup.parse(res).select(&quot;title&quot;).text());\n    // REDIRECT TO REDDIT MAIN PAGE\n\n    AsyncHttpClient client = new DefaultAsyncHttpClient();\n    String newPageBody = client.prepare(&quot;POST&quot;, url2)\n            .setBody(&quot;over18=yes&quot;)\n            .setFollowRedirect(true)\n            .execute()\n            .get()\n            .getResponseBody();\n\n    System.out.println(Jsoup.parse(newPageBody).select(&quot;title&quot;).text());\n    // REDIRECT TO EXPECTED REDDIT USER PAGE\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-ecs","aws-fargate","java-17"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686070928,"creation_date":1686070928,"answer_id":76416900,"question_id":76416799,"body_markdown":"You are doing one of two things:\r\n\r\n- Building the docker image on an X86 computer (like a standard Intel or AMD PC), pushing it to ECR, and then deploying it to a Graviton Fargate instance.\r\n- Building the docker image on an M1 Mac, or other ARM based computer, pushing it to ECR, and then deploying it to a standard Fargate instance.\r\n\r\nIn either case, the CPU architecture of your build machine does not match the CPU architecture of your deployment environment.","title":"Getting this error in cloudwatch : exec /usr/bin/java: exec format error","body":"<p>You are doing one of two things:</p>\n<ul>\n<li>Building the docker image on an X86 computer (like a standard Intel or AMD PC), pushing it to ECR, and then deploying it to a Graviton Fargate instance.</li>\n<li>Building the docker image on an M1 Mac, or other ARM based computer, pushing it to ECR, and then deploying it to a standard Fargate instance.</li>\n</ul>\n<p>In either case, the CPU architecture of your build machine does not match the CPU architecture of your deployment environment.</p>\n"},{"tags":[],"owner":{"account_id":13796340,"reputation":31,"user_id":9957470,"display_name":"Nischal Jadhav H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686150205,"creation_date":1686150205,"answer_id":76424691,"question_id":76416799,"body_markdown":"Previously, I was getting this error bcz in Code Build pipeline I chose Operating System as Amazon Linux 2, Run time as Standard. Image as aws/codebuild/amazonlinux2-aarch64-standard:3.0 \r\n\r\nHow I resolved this issue.\r\nVery interesting, just did trial and error by selecting the images one by one and build the image.\r\n\r\nUltimately for image &quot;aws/codebuild/amazonlinux2-x86_64-standard:5.0&quot; . It actually worked.\r\n[![enter image description here][1]][1]\r\n\r\nFor more information visit this aws documentation:\r\n[https://docs.aws.amazon.com/codebuild/latest/userguide/build-env-ref-available.html][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/styDu.png\r\n  [2]: https://docs.aws.amazon.com/codebuild/latest/userguide/build-env-ref-available.html","title":"Getting this error in cloudwatch : exec /usr/bin/java: exec format error","body":"<p>Previously, I was getting this error bcz in Code Build pipeline I chose Operating System as Amazon Linux 2, Run time as Standard. Image as aws/codebuild/amazonlinux2-aarch64-standard:3.0</p>\n<p>How I resolved this issue.\nVery interesting, just did trial and error by selecting the images one by one and build the image.</p>\n<p>Ultimately for image &quot;aws/codebuild/amazonlinux2-x86_64-standard:5.0&quot; . It actually worked.\n<a href=\"https://i.stack.imgur.com/styDu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/styDu.png\" alt=\"enter image description here\" /></a></p>\n<p>For more information visit this aws documentation:\n<a href=\"https://docs.aws.amazon.com/codebuild/latest/userguide/build-env-ref-available.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/codebuild/latest/userguide/build-env-ref-available.html</a></p>\n"}],"owner":{"account_id":13796340,"reputation":31,"user_id":9957470,"display_name":"Nischal Jadhav H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686150205,"creation_date":1686070086,"question_id":76416799,"body_markdown":"I am unable to understand what mistake I am doing. Please look at this and help. \r\nI have chosen Linux family operating system in task definiton. Getting this error. Please take a look into below screenshots.\r\n\r\nThis is the cloud watch error I am getting when I run the task definition in ECS fargate cluster. \r\n[![This is the cloud watch error][1]][1]\r\n\r\n\r\n \r\nThis is the Dockerfile in the springboot project. I am running \r\n[![Dockerfile of the springboot project][2]][2]\r\n\r\nThis is the environment config of my code build pipeline. \r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0mgpq.png\r\n  [2]: https://i.stack.imgur.com/jlS1j.png\r\n  [3]: https://i.stack.imgur.com/7WHhx.png\r\n\r\n","title":"Getting this error in cloudwatch : exec /usr/bin/java: exec format error","body":"<p>I am unable to understand what mistake I am doing. Please look at this and help.\nI have chosen Linux family operating system in task definiton. Getting this error. Please take a look into below screenshots.</p>\n<p>This is the cloud watch error I am getting when I run the task definition in ECS fargate cluster.\n<a href=\"https://i.stack.imgur.com/0mgpq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0mgpq.png\" alt=\"This is the cloud watch error\" /></a></p>\n<p>This is the Dockerfile in the springboot project. I am running\n<a href=\"https://i.stack.imgur.com/jlS1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jlS1j.png\" alt=\"Dockerfile of the springboot project\" /></a></p>\n<p>This is the environment config of my code build pipeline.\n<a href=\"https://i.stack.imgur.com/7WHhx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7WHhx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-studio","popup","popupwindow"],"owner":{"account_id":27072924,"reputation":11,"user_id":20623318,"display_name":"Amila Udara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686149015,"creation_date":1686134824,"question_id":76422476,"body_markdown":"My AppLocker Android App does not show the System Navigation Button on the Lock Screen.  The status bar on the lock screen is also not working as I want.\r\n\r\nI want when I open an app that I have locked, the lock screen should only be on that opened app.  The status bar and system navigation buttons should work normally.\r\n\r\nI have obtained the Accessibility Permission and Appear on top Permission from the user.\r\n\r\n```\r\npackage com.coremora.secure.lockScreens;\r\n\r\nimport android.app.Dialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Build;\r\nimport android.os.Vibrator;\r\nimport android.view.Gravity;\r\nimport android.view.KeyEvent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageView;\r\nimport com.andrognito.patternlockview.PatternLockView;\r\nimport com.andrognito.patternlockview.listener.PatternLockViewListener;\r\nimport com.andrognito.patternlockview.utils.PatternLockUtils;\r\nimport com.coremora.secure.R;\r\nimport java.util.List;\r\n\r\npublic class PatternLockScreen {\r\n\r\n    static Dialog dialog;\r\n\r\n    static SharedPreferences pref;\r\n\r\n    static ImageView imageView;\r\n\r\n    public static void PatternLockScreen(Context context, String packageName) {\r\n\r\n        pref = context.getSharedPreferences(&quot;AppLocker&quot;, 0);\r\n\r\n        dialog = new Dialog(context, R.style.Base_Theme_CoremoraSecure);\r\n\r\n        LayoutInflater layoutInflater = LayoutInflater.from(context);\r\n\r\n        View promptsView = layoutInflater.inflate(R.layout.pattern_lock_screen, null, false);\r\n\r\n        imageView = promptsView.findViewById(R.id.app_icon_locked);\r\n\r\n        try {\r\n\r\n            Drawable icon = context.getPackageManager().getApplicationIcon(packageName);\r\n\r\n            imageView.setImageDrawable(icon);\r\n\r\n        } catch (PackageManager.NameNotFoundException e) {\r\n\r\n            e.printStackTrace();\r\n\r\n        }\r\n\r\n        PatternLockView patternLockView = promptsView.findViewById(R.id.pattern_lock_view);\r\n\r\n        patternLockView.addPatternLockListener(new PatternLockViewListener() {\r\n\r\n            @Override\r\n\r\n            public void onStarted() {\r\n\r\n            }\r\n\r\n            @Override\r\n\r\n            public void onProgress(List&lt;PatternLockView.Dot&gt; progressPattern) {\r\n\r\n            }\r\n\r\n            @Override\r\n\r\n            public void onCleared() {\r\n\r\n            }\r\n\r\n            @Override\r\n\r\n            public void onComplete(List&lt;PatternLockView.Dot&gt; pattern) {\r\n\r\n                String enterdPattern = PatternLockUtils.patternToString(patternLockView, pattern);\r\n\r\n                if (enterdPattern.length() &lt; 4){\r\n\r\n                    patternLockView.clearPattern();\r\n\r\n                    return;\r\n\r\n                }\r\n\r\n                if (enterdPattern.equals((pref.getString(&quot;code&quot;, &quot;&quot;)))){\r\n\r\n                    dialog.dismiss();\r\n\r\n                }else {\r\n\r\n                    patternLockView.clearPattern();\r\n\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n\r\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n\r\n        dialog.getWindow().setType(WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY);\r\n\r\n        dialog.getWindow().setLayout(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.MATCH_PARENT);\r\n\r\n        dialog.setContentView(promptsView);\r\n\r\n        dialog.getWindow().setGravity(Gravity.CENTER);\r\n\r\n        dialog.setOnKeyListener(new Dialog.OnKeyListener() {\r\n\r\n            @Override\r\n\r\n            public boolean onKey(DialogInterface dialog, int keyCode,\r\n\r\n                                 KeyEvent event) {\r\n\r\n                if (keyCode == KeyEvent.KEYCODE_BACK\r\n\r\n                        &amp;&amp; event.getAction() == KeyEvent.ACTION_UP) {\r\n\r\n                    Intent startMain = new Intent(Intent.ACTION_MAIN);\r\n\r\n                    startMain.addCategory(Intent.CATEGORY_HOME);\r\n\r\n                    startMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\r\n                    context.startActivity(startMain);\r\n\r\n                }\r\n\r\n                return true;\r\n\r\n            }\r\n\r\n        });\r\n\r\n        dialog.show();\r\n    }\r\n}","title":"My AppLocker Android App does not show the System Navigation Button on the Lock Screen","body":"<p>My AppLocker Android App does not show the System Navigation Button on the Lock Screen.  The status bar on the lock screen is also not working as I want.</p>\n<p>I want when I open an app that I have locked, the lock screen should only be on that opened app.  The status bar and system navigation buttons should work normally.</p>\n<p>I have obtained the Accessibility Permission and Appear on top Permission from the user.</p>\n<pre><code>package com.coremora.secure.lockScreens;\n\nimport android.app.Dialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.content.pm.PackageManager;\nimport android.graphics.Color;\nimport android.graphics.drawable.Drawable;\nimport android.os.Build;\nimport android.os.Vibrator;\nimport android.view.Gravity;\nimport android.view.KeyEvent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.ImageView;\nimport com.andrognito.patternlockview.PatternLockView;\nimport com.andrognito.patternlockview.listener.PatternLockViewListener;\nimport com.andrognito.patternlockview.utils.PatternLockUtils;\nimport com.coremora.secure.R;\nimport java.util.List;\n\npublic class PatternLockScreen {\n\n    static Dialog dialog;\n\n    static SharedPreferences pref;\n\n    static ImageView imageView;\n\n    public static void PatternLockScreen(Context context, String packageName) {\n\n        pref = context.getSharedPreferences(&quot;AppLocker&quot;, 0);\n\n        dialog = new Dialog(context, R.style.Base_Theme_CoremoraSecure);\n\n        LayoutInflater layoutInflater = LayoutInflater.from(context);\n\n        View promptsView = layoutInflater.inflate(R.layout.pattern_lock_screen, null, false);\n\n        imageView = promptsView.findViewById(R.id.app_icon_locked);\n\n        try {\n\n            Drawable icon = context.getPackageManager().getApplicationIcon(packageName);\n\n            imageView.setImageDrawable(icon);\n\n        } catch (PackageManager.NameNotFoundException e) {\n\n            e.printStackTrace();\n\n        }\n\n        PatternLockView patternLockView = promptsView.findViewById(R.id.pattern_lock_view);\n\n        patternLockView.addPatternLockListener(new PatternLockViewListener() {\n\n            @Override\n\n            public void onStarted() {\n\n            }\n\n            @Override\n\n            public void onProgress(List&lt;PatternLockView.Dot&gt; progressPattern) {\n\n            }\n\n            @Override\n\n            public void onCleared() {\n\n            }\n\n            @Override\n\n            public void onComplete(List&lt;PatternLockView.Dot&gt; pattern) {\n\n                String enterdPattern = PatternLockUtils.patternToString(patternLockView, pattern);\n\n                if (enterdPattern.length() &lt; 4){\n\n                    patternLockView.clearPattern();\n\n                    return;\n\n                }\n\n                if (enterdPattern.equals((pref.getString(&quot;code&quot;, &quot;&quot;)))){\n\n                    dialog.dismiss();\n\n                }else {\n\n                    patternLockView.clearPattern();\n\n                }\n\n            }\n\n        });\n\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n\n        dialog.getWindow().setType(WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY);\n\n        dialog.getWindow().setLayout(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.MATCH_PARENT);\n\n        dialog.setContentView(promptsView);\n\n        dialog.getWindow().setGravity(Gravity.CENTER);\n\n        dialog.setOnKeyListener(new Dialog.OnKeyListener() {\n\n            @Override\n\n            public boolean onKey(DialogInterface dialog, int keyCode,\n\n                                 KeyEvent event) {\n\n                if (keyCode == KeyEvent.KEYCODE_BACK\n\n                        &amp;&amp; event.getAction() == KeyEvent.ACTION_UP) {\n\n                    Intent startMain = new Intent(Intent.ACTION_MAIN);\n\n                    startMain.addCategory(Intent.CATEGORY_HOME);\n\n                    startMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\n                    context.startActivity(startMain);\n\n                }\n\n                return true;\n\n            }\n\n        });\n\n        dialog.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686148086,"creation_date":1686148086,"answer_id":76424419,"question_id":76424316,"body_markdown":"You are telling Spring to connect to a database server with a hostname of `db`. But that `db` hostname will only work from within the docker bridge network created inside docker-compose. If you were running the Spring Boot application as another service inside the docker-compose file, then that address would work. But you don&#39;t appear to be doing that.\r\n\r\nYou most likely need to change the datasource URL in the Spring config file to this:\r\n\r\n```\r\nurl: jdbc:postgresql://localhost:5332/customer\r\n```\r\n\r\nBecause this line in your docker-compose file is exposing the database service on port `5332` on your local computer, or `localhost`:\r\n\r\n```\r\n    ports:\r\n      - &quot;5332:5432&quot;\r\n```","title":"Spring Boot Application connection to PostgreSQL database","body":"<p>You are telling Spring to connect to a database server with a hostname of <code>db</code>. But that <code>db</code> hostname will only work from within the docker bridge network created inside docker-compose. If you were running the Spring Boot application as another service inside the docker-compose file, then that address would work. But you don't appear to be doing that.</p>\n<p>You most likely need to change the datasource URL in the Spring config file to this:</p>\n<pre><code>url: jdbc:postgresql://localhost:5332/customer\n</code></pre>\n<p>Because this line in your docker-compose file is exposing the database service on port <code>5332</code> on your local computer, or <code>localhost</code>:</p>\n<pre><code>    ports:\n      - &quot;5332:5432&quot;\n</code></pre>\n"}],"owner":{"account_id":25272815,"reputation":15,"user_id":19101918,"display_name":"Batool Ragayah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686148086,"creation_date":1686147458,"question_id":76424316,"body_markdown":"I very recently started learning Java and spring boot and I was following a youtube tutorial on how to build a small project, but when it got to the point of checking the connection to the database i got this message:\r\n\r\n    customer=# \\dt\r\n    Did not find any relations.\r\n\r\n\r\nAnd because i&#39;m very much unfamilar with java and spring boot, i find myself debugging with no clear workflow. If anyone could guide me in the right direction I&#39;d very much appreciate it.\r\n\r\n\r\nHere is my code:\r\n\r\n**Main.java**\r\n\r\n    package com.example.demo;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    \r\n    @SpringBootApplication\r\n    @RestController\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Main.class, args);\r\n        }\r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public GreetingResponse greeting(){\r\n            GreetingResponse greetingString = new GreetingResponse(\r\n                    &quot;Hello&quot;,\r\n                    List.of(&quot;Python&quot;, &quot;Python&quot;, &quot;Python&quot;),\r\n                    new Person(&quot;Batool&quot;, 28, 500_000)\r\n            );\r\n            return greetingString;\r\n    \r\n    \r\n        }\r\n    \r\n        record Person(String name, int age, double savings){\r\n    \r\n        }\r\n        record GreetingResponse(\r\n                String greeting,\r\n                List&lt;String&gt; favProgrammingLanguages,\r\n                Person person\r\n        ){\r\n        }\r\n\r\n\r\n\r\n**Customer.java**\r\n\r\n    import java.util.Objects;\r\n    \r\n    import jakarta.persistence.*;\r\n    @Entity\r\n    public class Customer {\r\n        @Id\r\n        @SequenceGenerator(name = &quot;customer_id_sequence&quot;, sequenceName = &quot;customer_id_sequence&quot;)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;customer_id_sequence&quot;)\r\n        private Integer id;\r\n        private String name;\r\n        private String email;\r\n        private Integer age;\r\n    \r\n    \r\n        public Customer(Integer id, String name, String email, Integer age) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.email = email;\r\n            this.age = age;\r\n        }\r\n    \r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public Integer getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public void setAge(Integer age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Customer customer = (Customer) o;\r\n            return Objects.equals(id, customer.id) &amp;&amp; Objects.equals(name, customer.name) &amp;&amp; Objects.equals(email, customer.email) &amp;&amp; Objects.equals(age, customer.age);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id, name, email, age);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Customer{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&quot; + age +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\n**docker-compose.yml**\r\n\r\n    services:\r\n      db:\r\n        container_name: postgres\r\n        image: postgres\r\n        environment:\r\n          POSTGRES_USER: &lt;&gt;\r\n          POSTGRES_PASSWORD: &lt;&gt;\r\n          PGDATA: /data/postgres\r\n        volumes:\r\n          - db:/data/postgres\r\n        ports:\r\n          - &quot;5332:5432&quot;\r\n        networks:\r\n          - db\r\n        restart: unless-stopped\r\n    \r\n    networks:\r\n      db:\r\n        driver: bridge\r\n    \r\n    volumes:\r\n      db:\r\n\r\n\r\n**application.yml**\r\n\r\n\r\n    server:\r\n      port: 8080\r\n    \r\n    spring:\r\n      datasource:\r\n        platform: postgres\r\n        driverClassName: org.postgresql.Driver\r\n        url: jdbc:postgresql://db:5332/customer\r\n        username: &lt;&gt;\r\n        password: &lt;&gt;\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: create-drop\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.PostgreSQLDialect\r\n            format-sql: true\r\n          show-sql: true\r\n        main:\r\n          web-development-type: servlet\r\n\r\n","title":"Spring Boot Application connection to PostgreSQL database","body":"<p>I very recently started learning Java and spring boot and I was following a youtube tutorial on how to build a small project, but when it got to the point of checking the connection to the database i got this message:</p>\n<pre><code>customer=# \\dt\nDid not find any relations.\n</code></pre>\n<p>And because i'm very much unfamilar with java and spring boot, i find myself debugging with no clear workflow. If anyone could guide me in the right direction I'd very much appreciate it.</p>\n<p>Here is my code:</p>\n<p><strong>Main.java</strong></p>\n<pre><code>package com.example.demo;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\nimport java.util.Objects;\n\n@SpringBootApplication\n@RestController\npublic class Main {\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public GreetingResponse greeting(){\n        GreetingResponse greetingString = new GreetingResponse(\n                &quot;Hello&quot;,\n                List.of(&quot;Python&quot;, &quot;Python&quot;, &quot;Python&quot;),\n                new Person(&quot;Batool&quot;, 28, 500_000)\n        );\n        return greetingString;\n\n\n    }\n\n    record Person(String name, int age, double savings){\n\n    }\n    record GreetingResponse(\n            String greeting,\n            List&lt;String&gt; favProgrammingLanguages,\n            Person person\n    ){\n    }\n</code></pre>\n<p><strong>Customer.java</strong></p>\n<pre><code>import java.util.Objects;\n\nimport jakarta.persistence.*;\n@Entity\npublic class Customer {\n    @Id\n    @SequenceGenerator(name = &quot;customer_id_sequence&quot;, sequenceName = &quot;customer_id_sequence&quot;)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;customer_id_sequence&quot;)\n    private Integer id;\n    private String name;\n    private String email;\n    private Integer age;\n\n\n    public Customer(Integer id, String name, String email, Integer age) {\n        this.id = id;\n        this.name = name;\n        this.email = email;\n        this.age = age;\n    }\n\n\n    public Integer getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n    public String getEmail() {\n        return email;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Customer customer = (Customer) o;\n        return Objects.equals(id, customer.id) &amp;&amp; Objects.equals(name, customer.name) &amp;&amp; Objects.equals(email, customer.email) &amp;&amp; Objects.equals(age, customer.age);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, name, email, age);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Customer{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>docker-compose.yml</strong></p>\n<pre><code>services:\n  db:\n    container_name: postgres\n    image: postgres\n    environment:\n      POSTGRES_USER: &lt;&gt;\n      POSTGRES_PASSWORD: &lt;&gt;\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n    ports:\n      - &quot;5332:5432&quot;\n    networks:\n      - db\n    restart: unless-stopped\n\nnetworks:\n  db:\n    driver: bridge\n\nvolumes:\n  db:\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>server:\n  port: 8080\n\nspring:\n  datasource:\n    platform: postgres\n    driverClassName: org.postgresql.Driver\n    url: jdbc:postgresql://db:5332/customer\n    username: &lt;&gt;\n    password: &lt;&gt;\n  jpa:\n    hibernate:\n      ddl-auto: create-drop\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        format-sql: true\n      show-sql: true\n    main:\n      web-development-type: servlet\n</code></pre>\n"},{"tags":["java","multithreading","keyset"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686056102,"post_id":76414853,"comment_id":134744294,"body_markdown":"you don&#39;t put any data in them, and you don&#39;t understand why they are empty?","body":"you don&#39;t put any data in them, and you don&#39;t understand why they are empty?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1686056199,"post_id":76414853,"comment_id":134744321,"body_markdown":"I really don&#39;t know what you expect us to tell you. You already debugged your code far enugh that you know the problem: Your map that you try to print has size 0 and therefor you never added any elements to it. This is your problem and what you need to fix. Since you didn&#39;t include any complete example that shows how you fill your map and it&#39;s lists we can&#39;t tell you any details of what you did wrong, but you certainly did not add any elements to the map/list you try to print. Simply saying &quot;should not be 0&quot; doesn&#39;t help or solve anything. The size is 0 and that wasn&#39;t done by evil magic.","body":"I really don&#39;t know what you expect us to tell you. You already debugged your code far enugh that you know the problem: Your map that you try to print has size 0 and therefor you never added any elements to it. This is your problem and what you need to fix. Since you didn&#39;t include any complete example that shows how you fill your map and it&#39;s lists we can&#39;t tell you any details of what you did wrong, but you certainly did not add any elements to the map/list you try to print. Simply saying &quot;should not be 0&quot; doesn&#39;t help or solve anything. The size is 0 and that wasn&#39;t done by evil magic."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1686057387,"post_id":76414853,"comment_id":134744610,"body_markdown":"On a different note, why are you declaring your maps static?  Every instance of storage class will share those exact same maps.  Is that what you want?   If so, you should probably declare the default constructor as private.  And class names, by convention, start with uppercase.","body":"On a different note, why are you declaring your maps static?  Every instance of storage class will share those exact same maps.  Is that what you want?   If so, you should probably declare the default constructor as private.  And class names, by convention, start with uppercase."},{"owner":{"account_id":27982014,"reputation":1,"user_id":21369599,"display_name":"EdgeRunner"},"score":0,"creation_date":1686148320,"post_id":76414853,"comment_id":134759818,"body_markdown":"@ON GOD SPIDERS I have updated my description. I appreciate your time.","body":"@ON GOD SPIDERS I have updated my description. I appreciate your time."},{"owner":{"account_id":27982014,"reputation":1,"user_id":21369599,"display_name":"EdgeRunner"},"score":0,"creation_date":1686148762,"post_id":76414853,"comment_id":134759924,"body_markdown":"I think that because Subscriber can receive messages, the map in storage should not be empty","body":"I think that because Subscriber can receive messages, the map in storage should not be empty"},{"owner":{"account_id":27982014,"reputation":1,"user_id":21369599,"display_name":"EdgeRunner"},"score":0,"creation_date":1686148883,"post_id":76414853,"comment_id":134759962,"body_markdown":"How should I fix this problem?","body":"How should I fix this problem?"},{"owner":{"account_id":27982014,"reputation":1,"user_id":21369599,"display_name":"EdgeRunner"},"score":0,"creation_date":1686149188,"post_id":76414853,"comment_id":134760044,"body_markdown":"It feels like publishers can send messages properly, subscriber can receive messages properly, but when I try to print those messages, they have been gone.","body":"It feels like publishers can send messages properly, subscriber can receive messages properly, but when I try to print those messages, they have been gone."}],"owner":{"account_id":27982014,"reputation":1,"user_id":21369599,"display_name":"EdgeRunner"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686148009,"creation_date":1686055941,"question_id":76414853,"body_markdown":"This is the class I defined, he has a static field PubMsgs.\r\n```\r\nclass storage{\r\n    private static Map&lt;String, List&lt;String&gt;&gt; subLists = new HashMap&lt;&gt;();\r\n    private static Map&lt;String, List&lt;Request&gt;&gt; pubMsgs = new HashMap&lt;&gt;();\r\n    private static Lock lock = new ReentrantLock();\r\n\r\n    public static void printPubMsgs(){\r\n        lock.lock();\r\n        Set&lt;String&gt; keyss = subLists.keySet();\r\n        System.out.println(&quot;keyss:&quot; + keyss);\r\n        Set&lt;String&gt; keys = pubMsgs.keySet();\r\n        System.out.println(&quot;keys:&quot; + keys);\r\n        for (String key :\r\n                keys) {\r\n            List&lt;Request&gt; list = pubMsgs.get(key);\r\n            System.out.println(&quot;list1:&quot; + list.toString());\r\n            Iterator&lt;Request&gt; iterator = list.listIterator();\r\n            while (iterator.hasNext()) {\r\n                System.out.println(iterator);\r\n                System.out.println(&quot;here&quot;);\r\n            }\r\n        }\r\n        lock.unlock();\r\n    }\r\n\r\n}\r\n```\r\nI call its printPubMsgs method in other places, but he always returns empty, and I&#39;m sure I have added elements before.\r\n\r\nI tried to debug and found that the size of the map in the printPubMsgs function is 0.\r\n[debug](https://i.stack.imgur.com/fVrZb.png)\r\nI confirmed that he should not be 0, because another thread sends a request to storage, he still has a return.\r\n[enter image description here](https://i.stack.imgur.com/kXSyj.png)\r\n\r\n\r\n----------\r\nLet me explain a little more clearly.\r\nFirst, the publisher publishes some news. These messages are accepted by the instance of topic class, and the instance calls the method addMessage of the storage class to store these messages in the storage class.  \r\n[published][1]  \r\n[accepted][2]\r\n\r\n    public static void addMessage(Request request) {\r\n        lock.lock();\r\n        if (pubMsgs.containsKey(request.getSource())) {\r\n            pubMsgs.get(request.getSource()).add(request);\r\n        } else {\r\n            List&lt;Request&gt; list = new ArrayList&lt;&gt;();\r\n            list.add(request);\r\n            pubMsgs.put(request.getSource(), list);\r\n        }\r\n        lock.unlock();\r\n    }\r\n\r\n---\r\nThis project is to simulate a message queue, I use multithreading to simulate the concurrency scenario of multiple subscribers and publishers.\r\n\r\n\r\n----------\r\nI post the key code of my project below.  \r\nPublisher.java\r\n\r\n    @Override\r\n    public void run() {\r\n        try (Socket socket = new Socket(address, port);\r\n            ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());) {\r\n\r\n            oos.writeObject(new Request(pubHead, msg, id));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nSubscriber.java\r\n\r\n    @Override\r\n        public void run() {\r\n            try (Socket s = new Socket(address, port);\r\n                ObjectOutputStream oos = new ObjectOutputStream(s.getOutputStream());) {\r\n                oos.writeObject(new Request(subHead, sub_id, id));\r\n                oos.close();\r\n            } catch (Exception e) {\r\n    \r\n                e.printStackTrace();\r\n            }\r\n    \r\n            try (Socket socket = new Socket(address, port);\r\n                ObjectOutputStream oos1 = new ObjectOutputStream(socket.getOutputStream());) {\r\n                oos1.writeObject(new Request(getHead, &quot;&quot;, id));\r\n    //            sleep(1000);\r\n                while (true) {\r\n                    ObjectInputStream ooi = new ObjectInputStream(socket.getInputStream());\r\n                    Request req = (Request) ooi.readObject();\r\n                    if (Objects.equals(req.getHead(), wrongHead)) {\r\n                        System.out.println(req.getBody());\r\n                        break;\r\n                    } else if (Objects.equals(req.getHead(), completeHead)) {\r\n                        System.out.println(req.getBody());\r\n                        break;\r\n                    }\r\n                    else{\r\n                        System.out.println(req.getBody());\r\n                    }\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nTopic.java\r\n\r\n    @Override\r\n    public void run() {\r\n        storage.update();\r\n        try(ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());){\r\n            Request req = (Request) ois.readObject();\r\n            if (req.getHead().equals(pubHead)) {\r\n                System.out.println(&quot;&gt;&gt;&gt; Successfully receive publish request&quot;);\r\n                storage.addMessage(req);\r\n            } else if (req.getHead().equals(getHead)) {\r\n                System.out.println(&quot;&gt;&gt;&gt; Successfully receive get request&quot;);\r\n                List&lt;Request&gt; res = storage.getMessage(req.getSource());\r\n                if (res == null) {\r\n                    ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\r\n                    oos.writeObject(new Request(wrongHead, &quot;you should subscribe first&quot;, &quot;topic&quot;));\r\n                } else if (res.isEmpty()) {\r\n                    ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\r\n                    oos.writeObject(new Request(wrongHead, &quot;there are no messages from whom you subscribe&quot;, &quot;topic&quot;));\r\n                } else {\r\n                    for (Request re : res) {\r\n                        ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\r\n                        oos.writeObject(re);\r\n                    }\r\n                    ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\r\n                    oos.writeObject(new Request(completeHead, &quot;&gt;&gt;&gt; all messages have been gotten&quot;, &quot;topic&quot;));\r\n                }\r\n            } else if (req.getHead().equals(subHead)) {\r\n                storage.accessSub(req.getSource(), req.getBody());\r\n                System.out.println(&quot;&gt;&gt;&gt; Successfully receive subscribe request&quot;);\r\n            }\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nStorage.java\r\n\r\n    class storage{\r\n        private static Map&lt;String, List&lt;String&gt;&gt; subLists = new HashMap&lt;&gt;();\r\n        private static Map&lt;String, List&lt;Request&gt;&gt; pubMsgs = new HashMap&lt;&gt;();\r\n        private static Lock lock = new ReentrantLock();\r\n    \r\n        public static void printPubMsgs(){\r\n            lock.lock();\r\n            Set&lt;String&gt; keyss = subLists.keySet();\r\n            System.out.println(&quot;keyss:&quot; + keyss);\r\n            Set&lt;String&gt; keys = pubMsgs.keySet();\r\n            System.out.println(&quot;keys:&quot; + keys);\r\n            for (String key :\r\n                    keys) {\r\n                List&lt;Request&gt; list = pubMsgs.get(key);\r\n                System.out.println(&quot;list1:&quot; + list.toString());\r\n                Iterator&lt;Request&gt; iterator = list.listIterator();\r\n                while (iterator.hasNext()) {\r\n                    System.out.println(iterator);\r\n                    System.out.println(&quot;here&quot;);\r\n                }\r\n            }\r\n            lock.unlock();\r\n        }\r\n    \r\n        public static void addMessage(Request request) {\r\n            lock.lock();\r\n            if (pubMsgs.containsKey(request.getSource())) {\r\n                pubMsgs.get(request.getSource()).add(request);\r\n            } else {\r\n                List&lt;Request&gt; list = new ArrayList&lt;&gt;();\r\n                list.add(request);\r\n                pubMsgs.put(request.getSource(), list);\r\n            }\r\n            lock.unlock();\r\n        }\r\n    \r\n        public static List&lt;Request&gt; getMessage(String source) {\r\n            lock.lock();\r\n            List&lt;Request&gt; result = new ArrayList&lt;&gt;();\r\n            if (subLists.containsKey(source)) {\r\n                List&lt;String&gt; list = subLists.get(source);\r\n                for (String s : list) {\r\n                    if (!pubMsgs.containsKey(s)) continue;\r\n                    for (Request req : pubMsgs.get(s)) {\r\n                        result.add(new Request(req.getHead(), req.getBody(), req.getSource()));\r\n                    }\r\n                }\r\n            } else {\r\n                lock.unlock();\r\n                return null; // wrong request\r\n            }\r\n            lock.unlock();\r\n            return result; // if empty --&gt; wrong request\r\n        }\r\n    \r\n        public static void accessSub(String source, String destination) {\r\n            lock.lock();\r\n            if (subLists.containsKey(source)) {\r\n                subLists.get(source).add(destination);\r\n            } else {\r\n                List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n                list.add(destination);\r\n                subLists.put(source, list);\r\n            }\r\n            lock.unlock();\r\n        }\r\n    \r\n        /**\r\n         * if the existence exceed 1000s, then remove\r\n         */\r\n        public static void update() {\r\n            lock.lock();\r\n            Set&lt;String&gt; keys = pubMsgs.keySet();\r\n            for (String key : keys) {\r\n                List&lt;Request&gt; list = pubMsgs.get(key);\r\n                Iterator&lt;Request&gt; iterator = list.listIterator();\r\n                while (iterator.hasNext()) {\r\n                    Date now = new Date();\r\n                    Date date = iterator.next().getDate();\r\n                    if ((now.getTime() - date.getTime()) / 1000 &gt; 1000) {\r\n                        iterator.remove();\r\n                        System.out.println(&quot;test&quot;);\r\n                    }\r\n                }\r\n            }\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\nAny help on this is appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OMEYQ.png\r\n  [2]: https://i.stack.imgur.com/5jnEV.png\r\n","title":"Access the map type fields of the static class, and use the keyset() method to obtain its key set, but it is always empty","body":"<p>This is the class I defined, he has a static field PubMsgs.</p>\n<pre><code>class storage{\n    private static Map&lt;String, List&lt;String&gt;&gt; subLists = new HashMap&lt;&gt;();\n    private static Map&lt;String, List&lt;Request&gt;&gt; pubMsgs = new HashMap&lt;&gt;();\n    private static Lock lock = new ReentrantLock();\n\n    public static void printPubMsgs(){\n        lock.lock();\n        Set&lt;String&gt; keyss = subLists.keySet();\n        System.out.println(&quot;keyss:&quot; + keyss);\n        Set&lt;String&gt; keys = pubMsgs.keySet();\n        System.out.println(&quot;keys:&quot; + keys);\n        for (String key :\n                keys) {\n            List&lt;Request&gt; list = pubMsgs.get(key);\n            System.out.println(&quot;list1:&quot; + list.toString());\n            Iterator&lt;Request&gt; iterator = list.listIterator();\n            while (iterator.hasNext()) {\n                System.out.println(iterator);\n                System.out.println(&quot;here&quot;);\n            }\n        }\n        lock.unlock();\n    }\n\n}\n</code></pre>\n<p>I call its printPubMsgs method in other places, but he always returns empty, and I'm sure I have added elements before.</p>\n<p>I tried to debug and found that the size of the map in the printPubMsgs function is 0.\n<a href=\"https://i.stack.imgur.com/fVrZb.png\" rel=\"nofollow noreferrer\">debug</a>\nI confirmed that he should not be 0, because another thread sends a request to storage, he still has a return.\n<a href=\"https://i.stack.imgur.com/kXSyj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<hr />\n<p>Let me explain a little more clearly.\nFirst, the publisher publishes some news. These messages are accepted by the instance of topic class, and the instance calls the method addMessage of the storage class to store these messages in the storage class.<br />\n<a href=\"https://i.stack.imgur.com/OMEYQ.png\" rel=\"nofollow noreferrer\">published</a><br />\n<a href=\"https://i.stack.imgur.com/5jnEV.png\" rel=\"nofollow noreferrer\">accepted</a></p>\n<pre><code>public static void addMessage(Request request) {\n    lock.lock();\n    if (pubMsgs.containsKey(request.getSource())) {\n        pubMsgs.get(request.getSource()).add(request);\n    } else {\n        List&lt;Request&gt; list = new ArrayList&lt;&gt;();\n        list.add(request);\n        pubMsgs.put(request.getSource(), list);\n    }\n    lock.unlock();\n}\n</code></pre>\n<hr />\n<p>This project is to simulate a message queue, I use multithreading to simulate the concurrency scenario of multiple subscribers and publishers.</p>\n<hr />\n<p>I post the key code of my project below.<br />\nPublisher.java</p>\n<pre><code>@Override\npublic void run() {\n    try (Socket socket = new Socket(address, port);\n        ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());) {\n\n        oos.writeObject(new Request(pubHead, msg, id));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Subscriber.java</p>\n<pre><code>@Override\n    public void run() {\n        try (Socket s = new Socket(address, port);\n            ObjectOutputStream oos = new ObjectOutputStream(s.getOutputStream());) {\n            oos.writeObject(new Request(subHead, sub_id, id));\n            oos.close();\n        } catch (Exception e) {\n\n            e.printStackTrace();\n        }\n\n        try (Socket socket = new Socket(address, port);\n            ObjectOutputStream oos1 = new ObjectOutputStream(socket.getOutputStream());) {\n            oos1.writeObject(new Request(getHead, &quot;&quot;, id));\n//            sleep(1000);\n            while (true) {\n                ObjectInputStream ooi = new ObjectInputStream(socket.getInputStream());\n                Request req = (Request) ooi.readObject();\n                if (Objects.equals(req.getHead(), wrongHead)) {\n                    System.out.println(req.getBody());\n                    break;\n                } else if (Objects.equals(req.getHead(), completeHead)) {\n                    System.out.println(req.getBody());\n                    break;\n                }\n                else{\n                    System.out.println(req.getBody());\n                }\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Topic.java</p>\n<pre><code>@Override\npublic void run() {\n    storage.update();\n    try(ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());){\n        Request req = (Request) ois.readObject();\n        if (req.getHead().equals(pubHead)) {\n            System.out.println(&quot;&gt;&gt;&gt; Successfully receive publish request&quot;);\n            storage.addMessage(req);\n        } else if (req.getHead().equals(getHead)) {\n            System.out.println(&quot;&gt;&gt;&gt; Successfully receive get request&quot;);\n            List&lt;Request&gt; res = storage.getMessage(req.getSource());\n            if (res == null) {\n                ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\n                oos.writeObject(new Request(wrongHead, &quot;you should subscribe first&quot;, &quot;topic&quot;));\n            } else if (res.isEmpty()) {\n                ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\n                oos.writeObject(new Request(wrongHead, &quot;there are no messages from whom you subscribe&quot;, &quot;topic&quot;));\n            } else {\n                for (Request re : res) {\n                    ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\n                    oos.writeObject(re);\n                }\n                ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\n                oos.writeObject(new Request(completeHead, &quot;&gt;&gt;&gt; all messages have been gotten&quot;, &quot;topic&quot;));\n            }\n        } else if (req.getHead().equals(subHead)) {\n            storage.accessSub(req.getSource(), req.getBody());\n            System.out.println(&quot;&gt;&gt;&gt; Successfully receive subscribe request&quot;);\n        }\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Storage.java</p>\n<pre><code>class storage{\n    private static Map&lt;String, List&lt;String&gt;&gt; subLists = new HashMap&lt;&gt;();\n    private static Map&lt;String, List&lt;Request&gt;&gt; pubMsgs = new HashMap&lt;&gt;();\n    private static Lock lock = new ReentrantLock();\n\n    public static void printPubMsgs(){\n        lock.lock();\n        Set&lt;String&gt; keyss = subLists.keySet();\n        System.out.println(&quot;keyss:&quot; + keyss);\n        Set&lt;String&gt; keys = pubMsgs.keySet();\n        System.out.println(&quot;keys:&quot; + keys);\n        for (String key :\n                keys) {\n            List&lt;Request&gt; list = pubMsgs.get(key);\n            System.out.println(&quot;list1:&quot; + list.toString());\n            Iterator&lt;Request&gt; iterator = list.listIterator();\n            while (iterator.hasNext()) {\n                System.out.println(iterator);\n                System.out.println(&quot;here&quot;);\n            }\n        }\n        lock.unlock();\n    }\n\n    public static void addMessage(Request request) {\n        lock.lock();\n        if (pubMsgs.containsKey(request.getSource())) {\n            pubMsgs.get(request.getSource()).add(request);\n        } else {\n            List&lt;Request&gt; list = new ArrayList&lt;&gt;();\n            list.add(request);\n            pubMsgs.put(request.getSource(), list);\n        }\n        lock.unlock();\n    }\n\n    public static List&lt;Request&gt; getMessage(String source) {\n        lock.lock();\n        List&lt;Request&gt; result = new ArrayList&lt;&gt;();\n        if (subLists.containsKey(source)) {\n            List&lt;String&gt; list = subLists.get(source);\n            for (String s : list) {\n                if (!pubMsgs.containsKey(s)) continue;\n                for (Request req : pubMsgs.get(s)) {\n                    result.add(new Request(req.getHead(), req.getBody(), req.getSource()));\n                }\n            }\n        } else {\n            lock.unlock();\n            return null; // wrong request\n        }\n        lock.unlock();\n        return result; // if empty --&gt; wrong request\n    }\n\n    public static void accessSub(String source, String destination) {\n        lock.lock();\n        if (subLists.containsKey(source)) {\n            subLists.get(source).add(destination);\n        } else {\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\n            list.add(destination);\n            subLists.put(source, list);\n        }\n        lock.unlock();\n    }\n\n    /**\n     * if the existence exceed 1000s, then remove\n     */\n    public static void update() {\n        lock.lock();\n        Set&lt;String&gt; keys = pubMsgs.keySet();\n        for (String key : keys) {\n            List&lt;Request&gt; list = pubMsgs.get(key);\n            Iterator&lt;Request&gt; iterator = list.listIterator();\n            while (iterator.hasNext()) {\n                Date now = new Date();\n                Date date = iterator.next().getDate();\n                if ((now.getTime() - date.getTime()) / 1000 &gt; 1000) {\n                    iterator.remove();\n                    System.out.println(&quot;test&quot;);\n                }\n            }\n        }\n        lock.unlock();\n    }\n}\n</code></pre>\n<p>Any help on this is appreciated.</p>\n"},{"tags":["java","spring","architecture","spring-webflux","jobs"],"answers":[{"tags":[],"owner":{"account_id":9518780,"reputation":26,"user_id":7123428,"display_name":"Roman A Musiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686147813,"creation_date":1686147813,"answer_id":76424365,"question_id":76423947,"body_markdown":"If we are talking about solution in java you have different options. \r\nOne of them is to use [JSR-352][1] implementation, for example [Spring Batch][2]. This framework allows you to organise your processing in pretty natural way. The domain of JSR-352 is already consists of such terms as Job, Step, Chunk, Execution and so on. To start you have to define the Job and the Steps it consists of. I have simple [example][3] of using Spring Batch in my github. \r\n\r\nAnother option is prepare that processing skeleton by yourself. I&#39;m not sure that there is some ready-to-use design pattern but you can look how Spring Batch internal processing is organised. Also you can take a look into [command][4] design pattern.\r\n\r\n&gt; however in my situtaion, each worker would be responsible for completely different job.\r\n\r\nThe main trick here is that you have to separate concerns. E.g. worker should be some abstract entity that know nothing about the some specific job. The job itself could implement some interface - contract that all jobs should follow. \r\n\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=352\r\n  [2]: https://spring.io/projects/spring-batch\r\n  [3]: https://github.com/musiy/sample_batching_app\r\n  [4]: https://refactoring.guru/design-patterns/command","title":"Architecture for Job Execution &amp; Managment service","body":"<p>If we are talking about solution in java you have different options.\nOne of them is to use <a href=\"https://jcp.org/en/jsr/detail?id=352\" rel=\"nofollow noreferrer\">JSR-352</a> implementation, for example <a href=\"https://spring.io/projects/spring-batch\" rel=\"nofollow noreferrer\">Spring Batch</a>. This framework allows you to organise your processing in pretty natural way. The domain of JSR-352 is already consists of such terms as Job, Step, Chunk, Execution and so on. To start you have to define the Job and the Steps it consists of. I have simple <a href=\"https://github.com/musiy/sample_batching_app\" rel=\"nofollow noreferrer\">example</a> of using Spring Batch in my github.</p>\n<p>Another option is prepare that processing skeleton by yourself. I'm not sure that there is some ready-to-use design pattern but you can look how Spring Batch internal processing is organised. Also you can take a look into <a href=\"https://refactoring.guru/design-patterns/command\" rel=\"nofollow noreferrer\">command</a> design pattern.</p>\n<blockquote>\n<p>however in my situtaion, each worker would be responsible for completely different job.</p>\n</blockquote>\n<p>The main trick here is that you have to separate concerns. E.g. worker should be some abstract entity that know nothing about the some specific job. The job itself could implement some interface - contract that all jobs should follow.</p>\n"}],"owner":{"account_id":26335980,"reputation":3,"user_id":19995812,"display_name":"uzarkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76424365,"answer_count":1,"score":0,"last_activity_date":1686147813,"creation_date":1686145269,"question_id":76423947,"body_markdown":"I have a following situation: my application may accept `Job` from a client. There are many clients submitting separate `Jobs`. `Job` consists of multiple `Tasks` which are executed in a given order, one after another (each `Task` will use result of previous one). Let&#39;s say that each `Task` is some kind of calculation, however, how long they can last varies greatly - sometimes it is a few minutes and sometimes a few hours. So the whole `Job` could take up to a day or two. `Job` can be cancelled or modified by client at any time - for example some `Tasks` might be removed or even stopped during execution, which would result in moving to the next `Task`. Client could also ask about the progress of the `Job` at every moment. So I think that I would need some kind of `JobManager` and `JobProcessor/TaskProcessor` to handle given requirements. I was looking at some design patterns and solutions, but I couldn&#39;t find any that would fit my problem good enough. \r\n\r\nThe first thing that came to my mind was using `Master-Worker` pattern. `Master` would be a `Manager` and each `Worker` would be responsible for executing a single `Job`. I&#39;m not sure if its a good solution, as workers in this pattern are usually working on different parts of one job, however in my situtaion, each worker would be responsible for completely different job. \r\n\r\nDo you know of any patterns or some improvement to my proposed solution that would help me solve this case? It is going to be implemented in `Spring WebFlux` if that helps.","title":"Architecture for Job Execution &amp; Managment service","body":"<p>I have a following situation: my application may accept <code>Job</code> from a client. There are many clients submitting separate <code>Jobs</code>. <code>Job</code> consists of multiple <code>Tasks</code> which are executed in a given order, one after another (each <code>Task</code> will use result of previous one). Let's say that each <code>Task</code> is some kind of calculation, however, how long they can last varies greatly - sometimes it is a few minutes and sometimes a few hours. So the whole <code>Job</code> could take up to a day or two. <code>Job</code> can be cancelled or modified by client at any time - for example some <code>Tasks</code> might be removed or even stopped during execution, which would result in moving to the next <code>Task</code>. Client could also ask about the progress of the <code>Job</code> at every moment. So I think that I would need some kind of <code>JobManager</code> and <code>JobProcessor/TaskProcessor</code> to handle given requirements. I was looking at some design patterns and solutions, but I couldn't find any that would fit my problem good enough.</p>\n<p>The first thing that came to my mind was using <code>Master-Worker</code> pattern. <code>Master</code> would be a <code>Manager</code> and each <code>Worker</code> would be responsible for executing a single <code>Job</code>. I'm not sure if its a good solution, as workers in this pattern are usually working on different parts of one job, however in my situtaion, each worker would be responsible for completely different job.</p>\n<p>Do you know of any patterns or some improvement to my proposed solution that would help me solve this case? It is going to be implemented in <code>Spring WebFlux</code> if that helps.</p>\n"},{"tags":["java","gstreamer","gstreamer-1.0"],"owner":{"account_id":25839069,"reputation":21,"user_id":19574955,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686147771,"creation_date":1686147771,"question_id":76424361,"body_markdown":"I&#39;m using a simple GStreamer script and I noticed that the my pipeline is remaining in PLAYING state even after file ended.\r\n\r\n    pipeline = (Pipeline) Gst.parseLaunch(pipelineDescription);\r\n    bus = pipeline.getBus();\r\n    bus.connect((Bus.EOS) source -&gt; Gst.quit());\r\n\r\n    //Continuously obtaining state:\r\n    new Thread(() -&gt; {\r\n                  while(true){\r\n                    System.out.println(pipeline.getState());\r\n                    try{\r\n                       Thread.sleep(500);\r\n                    }catch(Exception e){\r\n                       System.out.println(e);\r\n                    }\r\n                  }\r\n    }).start();\r\n\r\n \r\n    pipeline.play();\r\n    Output: PLAYING\r\n    Gst.main();\r\n    Output: PLAYING","title":"GStreamer pipeline state remains PLAYING even after file has ended","body":"<p>I'm using a simple GStreamer script and I noticed that the my pipeline is remaining in PLAYING state even after file ended.</p>\n<pre><code>pipeline = (Pipeline) Gst.parseLaunch(pipelineDescription);\nbus = pipeline.getBus();\nbus.connect((Bus.EOS) source -&gt; Gst.quit());\n\n//Continuously obtaining state:\nnew Thread(() -&gt; {\n              while(true){\n                System.out.println(pipeline.getState());\n                try{\n                   Thread.sleep(500);\n                }catch(Exception e){\n                   System.out.println(e);\n                }\n              }\n}).start();\n\n\npipeline.play();\nOutput: PLAYING\nGst.main();\nOutput: PLAYING\n</code></pre>\n"},{"tags":["java","unit-testing","junit","junit4"],"answers":[{"tags":[],"owner":{"account_id":10050,"reputation":35058,"user_id":18804,"accept_rate":80,"display_name":"philant"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1286346830,"creation_date":1286346448,"answer_id":3869979,"question_id":3869954,"body_markdown":"I think the usual use case is to call it when no exception was thrown in a negative test.\r\n\r\nSomething like the following pseudo-code:\r\n\r\n    test_addNilThrowsNullPointerException()\r\n    {\r\n        try {\r\n            foo.add(NIL);                      // we expect a NullPointerException here\r\n            fail(&quot;No NullPointerException&quot;);   // cause the test to fail if we reach this            \r\n         } catch (NullNullPointerException e) {\r\n            // OK got the expected exception\r\n        }\r\n    }\r\n\r\n","title":"What&#39;s the actual use of &#39;fail&#39; in JUnit test case?","body":"<p>I think the usual use case is to call it when no exception was thrown in a negative test.</p>\n\n<p>Something like the following pseudo-code:</p>\n\n<pre><code>test_addNilThrowsNullPointerException()\n{\n    try {\n        foo.add(NIL);                      // we expect a NullPointerException here\n        fail(\"No NullPointerException\");   // cause the test to fail if we reach this            \n     } catch (NullNullPointerException e) {\n        // OK got the expected exception\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":162,"is_accepted":true,"score":162,"last_activity_date":1292236320,"creation_date":1286346502,"answer_id":3869986,"question_id":3869954,"body_markdown":"Some cases where I have found it useful:\r\n\r\n - mark a test that is incomplete, so it fails and warns you until you can finish it\r\n - making sure an exception is thrown:\r\n\r\n&gt;     try{\r\n&gt;       // do stuff...\r\n&gt;       fail(&quot;Exception not thrown&quot;);\r\n&gt;     }catch(Exception e){\r\n&gt;       assertTrue(e.hasSomeFlag());\r\n&gt;     }\r\n&gt;     \r\n\r\nNote:\r\n\r\nSince JUnit4, there is a more elegant way to test that an exception is being thrown:\r\nUse the annotation `@Test(expected=IndexOutOfBoundsException.class)`\r\n\r\nHowever, this won&#39;t work if you also want to inspect the exception, then you still need `fail()`.","title":"What&#39;s the actual use of &#39;fail&#39; in JUnit test case?","body":"<p>Some cases where I have found it useful:</p>\n\n<ul>\n<li>mark a test that is incomplete, so it fails and warns you until you can finish it</li>\n<li>making sure an exception is thrown:</li>\n</ul>\n\n<blockquote>\n<pre><code>try{\n  // do stuff...\n  fail(\"Exception not thrown\");\n}catch(Exception e){\n  assertTrue(e.hasSomeFlag());\n}\n</code></pre>\n</blockquote>\n\n<p>Note:</p>\n\n<p>Since JUnit4, there is a more elegant way to test that an exception is being thrown:\nUse the annotation <code>@Test(expected=IndexOutOfBoundsException.class)</code></p>\n\n<p>However, this won't work if you also want to inspect the exception, then you still need <code>fail()</code>.</p>\n"},{"tags":[],"owner":{"account_id":212542,"reputation":773,"user_id":5760280,"display_name":"kartheek"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1597080520,"creation_date":1286346514,"answer_id":3869989,"question_id":3869954,"body_markdown":"Let&#39;s say you are writing a test case for a negative flow where the code being tested should raise an exception.\r\n\r\n    try{\r\n       bizMethod(badData);\r\n       fail(); // FAIL when no exception is thrown\r\n    } catch (BizException e) {\r\n       assert(e.errorCode == THE_ERROR_CODE_U_R_LOOKING_FOR)\r\n    }\r\n\r\n","title":"What&#39;s the actual use of &#39;fail&#39; in JUnit test case?","body":"<p>Let's say you are writing a test case for a negative flow where the code being tested should raise an exception.</p>\n<pre><code>try{\n   bizMethod(badData);\n   fail(); // FAIL when no exception is thrown\n} catch (BizException e) {\n   assert(e.errorCode == THE_ERROR_CODE_U_R_LOOKING_FOR)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3652634,"reputation":49,"user_id":3044364,"display_name":"user3044364"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1450083093,"creation_date":1385613512,"answer_id":20257829,"question_id":3869954,"body_markdown":"This is how I use the Fail method.\r\n\r\nThere are three states that your test case can end up in\r\n\r\n 1. Passed : The function under test executed successfully and returned\r\n    data as expected \r\n 2. Not Passed : The function under test executed successfully but the\r\n    returned data was not as expected\r\n 3. Failed : The function did not execute successfully and this was not\r\n\r\nintended (Unlike negative test cases that expect a exception to\r\n    occur).\r\n\r\nIf you are using eclipse there three states are indicated by a Green, Blue and red marker respectively.\r\n\r\nI use the fail operation for the the third scenario.\r\n\r\ne.g. : public Integer add(integer a, Integer b) { return new Integer(a.intValue() + b.intValue())}\r\n\r\n1. Passed Case : a = new Interger(1), b= new Integer(2) and the function returned 3\r\n2. Not Passed Case: a = new Interger(1), b= new Integer(2) and the function returned soem value other than 3\r\n3. Failed Case : a =null , b= null and the function throws a NullPointerException\r\n","title":"What&#39;s the actual use of &#39;fail&#39; in JUnit test case?","body":"<p>This is how I use the Fail method.</p>\n\n<p>There are three states that your test case can end up in</p>\n\n<ol>\n<li>Passed : The function under test executed successfully and returned\ndata as expected </li>\n<li>Not Passed : The function under test executed successfully but the\nreturned data was not as expected</li>\n<li>Failed : The function did not execute successfully and this was not</li>\n</ol>\n\n<p>intended (Unlike negative test cases that expect a exception to\n    occur).</p>\n\n<p>If you are using eclipse there three states are indicated by a Green, Blue and red marker respectively.</p>\n\n<p>I use the fail operation for the the third scenario.</p>\n\n<p>e.g. : public Integer add(integer a, Integer b) { return new Integer(a.intValue() + b.intValue())}</p>\n\n<ol>\n<li>Passed Case : a = new Interger(1), b= new Integer(2) and the function returned 3</li>\n<li>Not Passed Case: a = new Interger(1), b= new Integer(2) and the function returned soem value other than 3</li>\n<li>Failed Case : a =null , b= null and the function throws a NullPointerException</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4168947,"reputation":1023,"user_id":3417242,"display_name":"Ryan D"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1408651613,"creation_date":1408651613,"answer_id":25435031,"question_id":3869954,"body_markdown":"I&#39;ve used it in the case where something may have gone awry in my @Before method.\r\n\r\n    public Object obj;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        // Do some set up\r\n        obj = new Object();\r\n    }\r\n\r\n    @Test\r\n    public void testObjectManipulation() {\r\n        if(obj == null) {\r\n            fail(&quot;obj should not be null&quot;);\r\n         }\r\n\r\n        // Do some other valuable testing\r\n    }","title":"What&#39;s the actual use of &#39;fail&#39; in JUnit test case?","body":"<p>I've used it in the case where something may have gone awry in my @Before method.</p>\n\n<pre><code>public Object obj;\n\n@Before\npublic void setUp() {\n    // Do some set up\n    obj = new Object();\n}\n\n@Test\npublic void testObjectManipulation() {\n    if(obj == null) {\n        fail(\"obj should not be null\");\n     }\n\n    // Do some other valuable testing\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69504,"reputation":2510,"user_id":202166,"display_name":"Alen Siljak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520288861,"creation_date":1443511168,"answer_id":32837971,"question_id":3869954,"body_markdown":"I, for example, use `fail()` to indicate tests that are not yet finished (it happens); otherwise, they would show as successful.\r\n\r\nThis is perhaps due to the fact that I am unaware of some sort of incomplete() functionality, which exists in NUnit.","title":"What&#39;s the actual use of &#39;fail&#39; in JUnit test case?","body":"<p>I, for example, use <code>fail()</code> to indicate tests that are not yet finished (it happens); otherwise, they would show as successful.</p>\n\n<p>This is perhaps due to the fact that I am unaware of some sort of incomplete() functionality, which exists in NUnit.</p>\n"},{"tags":[],"owner":{"account_id":1009178,"reputation":12360,"user_id":1022141,"accept_rate":96,"display_name":"Udo Held"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489926709,"creation_date":1489926709,"answer_id":42886607,"question_id":3869954,"body_markdown":"The most important use case is probably exception checking.\r\n\r\nWhile junit4 includes the [expected element](http://junit.org/junit4/javadoc/latest/org/junit/Test.html#expected()) for checking if an exception occurred, it seems like it isn&#39;t part of the newer junit5. Another advantage of using `fail()` over the `expected` is that you can combine it with `finally` allowing test-case cleanup.\r\n\r\n    dao.insert(obj);\r\n    try {\r\n      dao.insert(obj);\r\n      fail(&quot;No DuplicateKeyException thrown.&quot;);\r\n    } catch (DuplicateKeyException e) {\r\n      assertEquals(&quot;Error code doesn&#39;t match&quot;, 123, e.getErrorCode());\r\n    } finally {\r\n      //cleanup\r\n      dao.delete(obj);\r\n    }\r\n   \r\nAs noted in another comment. Having a test to fail until you can finish implementing it sounds reasonable as well.","title":"What&#39;s the actual use of &#39;fail&#39; in JUnit test case?","body":"<p>The most important use case is probably exception checking.</p>\n\n<p>While junit4 includes the <a href=\"http://junit.org/junit4/javadoc/latest/org/junit/Test.html#expected()\" rel=\"nofollow noreferrer\">expected element</a> for checking if an exception occurred, it seems like it isn't part of the newer junit5. Another advantage of using <code>fail()</code> over the <code>expected</code> is that you can combine it with <code>finally</code> allowing test-case cleanup.</p>\n\n<pre><code>dao.insert(obj);\ntry {\n  dao.insert(obj);\n  fail(\"No DuplicateKeyException thrown.\");\n} catch (DuplicateKeyException e) {\n  assertEquals(\"Error code doesn't match\", 123, e.getErrorCode());\n} finally {\n  //cleanup\n  dao.delete(obj);\n}\n</code></pre>\n\n<p>As noted in another comment. Having a test to fail until you can finish implementing it sounds reasonable as well.</p>\n"},{"tags":[],"owner":{"account_id":257842,"reputation":9939,"user_id":539599,"accept_rate":86,"display_name":"Raphael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529080606,"creation_date":1529080606,"answer_id":50879647,"question_id":3869954,"body_markdown":"In concurrent and/or asynchronous settings, you may want to verify that certain methods (e.g. delegates, event listeners, response handlers, you name it) are *not* called. Mocking frameworks aside, you can call `fail()` in those methods to fail the tests. Expired timeouts are another natural failure condition in such scenarios.\r\n\r\nFor example:\r\n\r\n\tfinal CountDownLatch latch = new CountDownLatch(1);\r\n\r\n    service.asyncCall(someParameter, new ResponseHandler&lt;SomeType&gt;() {\r\n        @Override\r\n        public void onSuccess(SomeType result) {\r\n            assertNotNull(result);\r\n\t\t\t// Further test assertions on the result\r\n            latch.countDown();\r\n        }\r\n\r\n        @Override\r\n        public void onError(Exception e) {\r\n            fail(exception.getMessage());\r\n            latch.countDown();\r\n        }\r\n    });\r\n\r\n    if ( !latch.await(5, TimeUnit.SECONDS) ) {\r\n        fail(&quot;No response after 5s&quot;);\r\n    }","title":"What&#39;s the actual use of &#39;fail&#39; in JUnit test case?","body":"<p>In concurrent and/or asynchronous settings, you may want to verify that certain methods (e.g. delegates, event listeners, response handlers, you name it) are <em>not</em> called. Mocking frameworks aside, you can call <code>fail()</code> in those methods to fail the tests. Expired timeouts are another natural failure condition in such scenarios.</p>\n\n<p>For example:</p>\n\n<pre><code>final CountDownLatch latch = new CountDownLatch(1);\n\nservice.asyncCall(someParameter, new ResponseHandler&lt;SomeType&gt;() {\n    @Override\n    public void onSuccess(SomeType result) {\n        assertNotNull(result);\n        // Further test assertions on the result\n        latch.countDown();\n    }\n\n    @Override\n    public void onError(Exception e) {\n        fail(exception.getMessage());\n        latch.countDown();\n    }\n});\n\nif ( !latch.await(5, TimeUnit.SECONDS) ) {\n    fail(\"No response after 5s\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686147549,"creation_date":1686147549,"answer_id":76424328,"question_id":3869954,"body_markdown":"Here is a short Junit 5 example that illustrates the difference between unit test failure and error. (Note that JUnit 5 has a `assertThrows(…)` method, so the use of `fail(…)` to indicate the absence of an exception is seldom needed.)\r\n\r\nLet&#39;s say I have a method `deleteFileTree(Path fileTreeRoot)` to delete a directory even if it has files in it. My method works, except that the first time I wrote it I assumed there was a directory to delete. In the field I ran into a case where the directory didn&#39;t exist to begin with, and it threw a `NoSuchFileException`. I want this method to be idempotent (it&#39;s not a problem if we try to delete a directory that is missing, or if we delete the directory twice), so I fixed the problem. The integration test looks like this:\r\n\r\n```java\r\n@Test\r\nvoid verifyDeleteFileTreeThrowsNoExceptionIfPathDoesNotExist(@TempDir Path tempDir) throws IOException {\r\n  try {\r\n    final Path missingDir = tempDir.resolve(&quot;missing&quot;);\r\n    assertThat(Files.deleteFileTree(missingDir), is(missingDir));\r\n  } catch(final NoSuchFileException noSuchFileException) {\r\n    fail(&quot;Should not throw exception if path is already missing.&quot;, noSuchFileException);\r\n  }\r\n}\r\n```\r\n\r\nIn this case the test was to make sure it did not throw `NoSuchFileException`; if it does, the test _fails_. But if some other exception is thrown, the test has an _error_, as the problem is something unexpected and unrelated to what I&#39;m testing—i.e. the test is not working correctly.\r\n\r\nIf I had not have checked for `NoSuchFileException` and used `fail(…)`, the test would have indicated an error condition. This would not have been correct semantically, as the test was working correctly and had no error—rather, the method I was testing failed the test.","title":"What&#39;s the actual use of &#39;fail&#39; in JUnit test case?","body":"<p>Here is a short Junit 5 example that illustrates the difference between unit test failure and error. (Note that JUnit 5 has a <code>assertThrows(…)</code> method, so the use of <code>fail(…)</code> to indicate the absence of an exception is seldom needed.)</p>\n<p>Let's say I have a method <code>deleteFileTree(Path fileTreeRoot)</code> to delete a directory even if it has files in it. My method works, except that the first time I wrote it I assumed there was a directory to delete. In the field I ran into a case where the directory didn't exist to begin with, and it threw a <code>NoSuchFileException</code>. I want this method to be idempotent (it's not a problem if we try to delete a directory that is missing, or if we delete the directory twice), so I fixed the problem. The integration test looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid verifyDeleteFileTreeThrowsNoExceptionIfPathDoesNotExist(@TempDir Path tempDir) throws IOException {\n  try {\n    final Path missingDir = tempDir.resolve(&quot;missing&quot;);\n    assertThat(Files.deleteFileTree(missingDir), is(missingDir));\n  } catch(final NoSuchFileException noSuchFileException) {\n    fail(&quot;Should not throw exception if path is already missing.&quot;, noSuchFileException);\n  }\n}\n</code></pre>\n<p>In this case the test was to make sure it did not throw <code>NoSuchFileException</code>; if it does, the test <em>fails</em>. But if some other exception is thrown, the test has an <em>error</em>, as the problem is something unexpected and unrelated to what I'm testing—i.e. the test is not working correctly.</p>\n<p>If I had not have checked for <code>NoSuchFileException</code> and used <code>fail(…)</code>, the test would have indicated an error condition. This would not have been correct semantically, as the test was working correctly and had no error—rather, the method I was testing failed the test.</p>\n"}],"owner":{"account_id":96254,"reputation":3197,"user_id":261707,"accept_rate":61,"display_name":"Sanju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191743,"favorite_count":0,"down_vote_count":2,"up_vote_count":147,"accepted_answer_id":3869986,"answer_count":9,"score":145,"last_activity_date":1686147549,"creation_date":1286346119,"question_id":3869954,"body_markdown":"What&#39;s the actual use of &#39;fail&#39; in JUnit test case?","title":"What&#39;s the actual use of &#39;fail&#39; in JUnit test case?","body":"<p>What's the actual use of 'fail' in JUnit test case?</p>\n"},{"tags":["java","swing","jpanel","grid-layout"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1686145043,"post_id":76423399,"comment_id":134758919,"body_markdown":"Try this change: `errorLabel = new JLabel(&quot; &quot;);`","body":"Try this change: <code>errorLabel = new JLabel(&quot; &quot;);</code>"},{"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"score":0,"creation_date":1686145910,"post_id":76423399,"comment_id":134759141,"body_markdown":"@GilbertLeBlanc thanks! I have another small issue. When i put it full screen the formatting changes. Any tips on that?","body":"@GilbertLeBlanc thanks! I have another small issue. When i put it full screen the formatting changes. Any tips on that?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1686147269,"post_id":76423399,"comment_id":134759513,"body_markdown":"*When i put it full screen the formatting changes* Use layout managers effectively. Some layout managers provide dynamic resizing, other retain size. Determine which layout manger(s) are effective for you. GridLayout will resize automatically to take up all the available space. You could use a &quot;wrapper&quot; panel. A panel will a FlowLayout respects the size of the components added. So you could add the form panel to a &quot;wrapper panel and then add the wrapper panel to the main panel.","body":"<i>When i put it full screen the formatting changes</i> Use layout managers effectively. Some layout managers provide dynamic resizing, other retain size. Determine which layout manger(s) are effective for you. GridLayout will resize automatically to take up all the available space. You could use a &quot;wrapper&quot; panel. A panel will a FlowLayout respects the size of the components added. So you could add the form panel to a &quot;wrapper panel and then add the wrapper panel to the main panel."}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686147129,"creation_date":1686141433,"question_id":76423399,"body_markdown":"I have a very simple login screen. When it fails to authenticate the user it adds an error message (on a different JPanel). When such error message appear the JPanel containing the login form changes size.\r\n\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    public class LoginScreen {\r\n        private JFrame frame;\r\n        private JTextField usernameField;\r\n        private JPasswordField passwordField;\r\n        private JLabel errorLabel;\r\n    \r\n        public LoginScreen() {\r\n            frame = new JFrame(&quot;Login&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(500, 300);\r\n            frame.setLocationRelativeTo(null);\r\n    \r\n            JPanel mainPanel = new JPanel(new GridBagLayout());\r\n            JPanel formPanel = new JPanel(new GridLayout(3, 2, 0, 0));\r\n            JPanel errorPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n    \r\n            formPanel.setBackground(Color.PINK);\r\n            errorPanel.setBackground(Color.ORANGE);\r\n    \r\n            JLabel usernameLabel = new JLabel(&quot;Username:&quot;);\r\n            usernameField = new JTextField(30);\r\n    \r\n            JLabel passwordLabel = new JLabel(&quot;Password:&quot;);\r\n            passwordField = new JPasswordField(30);\r\n    \r\n            JButton loginButton = new JButton(&quot;Login&quot;);\r\n            loginButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    String username = usernameField.getText();\r\n                    char[] passwordChars = passwordField.getPassword();\r\n                    String password = new String(passwordChars);\r\n    \r\n                    // Perform authentication here\r\n                    if (authenticate(username, password)) {\r\n                        System.out.println(&quot;all good&quot;);\r\n                    } else {\r\n                        showError(&quot;Invalid username or password&quot;);\r\n                    }\r\n                }\r\n            });\r\n    \r\n            errorLabel = new JLabel();\r\n            errorLabel.setForeground(Color.RED);\r\n    \r\n            formPanel.add(usernameLabel);\r\n            formPanel.add(usernameField);\r\n            formPanel.add(passwordLabel);\r\n            formPanel.add(passwordField);\r\n            formPanel.add(new JLabel());\r\n            formPanel.add(loginButton);\r\n    \r\n            errorPanel.add(errorLabel);\r\n    \r\n            GridBagConstraints constraints = new GridBagConstraints();\r\n            constraints.gridx = 0;\r\n            constraints.gridy = 0;\r\n            constraints.fill = GridBagConstraints.BOTH;\r\n            constraints.insets = new Insets(10, 10, 0, 10);\r\n            mainPanel.add(formPanel, constraints);\r\n    \r\n            constraints.gridy = 1;\r\n            constraints.insets = new Insets(10, 10, 0, 10);\r\n            mainPanel.add(errorPanel, constraints);\r\n    \r\n            frame.getContentPane().add(mainPanel);\r\n        }\r\n    \r\n        private boolean authenticate(String username, String password) {\r\n            // Implement your authentication logic here\r\n            // You can make a request to the backend or check against a local database\r\n            // Return true if the authentication is successful, false otherwise\r\n            return username.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;password&quot;);\r\n        }\r\n    \r\n        private void showError(String errorMessage) {\r\n            errorLabel.setText(errorMessage);\r\n        }\r\n    \r\n        public void show() {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            LoginScreen loginScreen = new LoginScreen();\r\n            loginScreen.show();\r\n        }\r\n    }","title":"How do I avoid a JPanel from resizing automatically?","body":"<p>I have a very simple login screen. When it fails to authenticate the user it adds an error message (on a different JPanel). When such error message appear the JPanel containing the login form changes size.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class LoginScreen {\n    private JFrame frame;\n    private JTextField usernameField;\n    private JPasswordField passwordField;\n    private JLabel errorLabel;\n\n    public LoginScreen() {\n        frame = new JFrame(&quot;Login&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(500, 300);\n        frame.setLocationRelativeTo(null);\n\n        JPanel mainPanel = new JPanel(new GridBagLayout());\n        JPanel formPanel = new JPanel(new GridLayout(3, 2, 0, 0));\n        JPanel errorPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n\n        formPanel.setBackground(Color.PINK);\n        errorPanel.setBackground(Color.ORANGE);\n\n        JLabel usernameLabel = new JLabel(&quot;Username:&quot;);\n        usernameField = new JTextField(30);\n\n        JLabel passwordLabel = new JLabel(&quot;Password:&quot;);\n        passwordField = new JPasswordField(30);\n\n        JButton loginButton = new JButton(&quot;Login&quot;);\n        loginButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String username = usernameField.getText();\n                char[] passwordChars = passwordField.getPassword();\n                String password = new String(passwordChars);\n\n                // Perform authentication here\n                if (authenticate(username, password)) {\n                    System.out.println(&quot;all good&quot;);\n                } else {\n                    showError(&quot;Invalid username or password&quot;);\n                }\n            }\n        });\n\n        errorLabel = new JLabel();\n        errorLabel.setForeground(Color.RED);\n\n        formPanel.add(usernameLabel);\n        formPanel.add(usernameField);\n        formPanel.add(passwordLabel);\n        formPanel.add(passwordField);\n        formPanel.add(new JLabel());\n        formPanel.add(loginButton);\n\n        errorPanel.add(errorLabel);\n\n        GridBagConstraints constraints = new GridBagConstraints();\n        constraints.gridx = 0;\n        constraints.gridy = 0;\n        constraints.fill = GridBagConstraints.BOTH;\n        constraints.insets = new Insets(10, 10, 0, 10);\n        mainPanel.add(formPanel, constraints);\n\n        constraints.gridy = 1;\n        constraints.insets = new Insets(10, 10, 0, 10);\n        mainPanel.add(errorPanel, constraints);\n\n        frame.getContentPane().add(mainPanel);\n    }\n\n    private boolean authenticate(String username, String password) {\n        // Implement your authentication logic here\n        // You can make a request to the backend or check against a local database\n        // Return true if the authentication is successful, false otherwise\n        return username.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;password&quot;);\n    }\n\n    private void showError(String errorMessage) {\n        errorLabel.setText(errorMessage);\n    }\n\n    public void show() {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        LoginScreen loginScreen = new LoginScreen();\n        loginScreen.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1686118262,"post_id":76419352,"comment_id":134753384,"body_markdown":"What is your spigot MC version? If below 1.13, it&#39;s with byte data. Else, it&#39;s like &quot;OAK_PLANK&quot; so check for &quot;JUNGLE_PLANK&quot; etc","body":"What is your spigot MC version? If below 1.13, it&#39;s with byte data. Else, it&#39;s like &quot;OAK_PLANK&quot; so check for &quot;JUNGLE_PLANK&quot; etc"},{"owner":{"account_id":15091436,"reputation":427,"user_id":10891226,"display_name":"RIVERMAN2010"},"score":0,"creation_date":1686144191,"post_id":76419352,"comment_id":134758697,"body_markdown":"the version I am using is 1.19, the problem is that spigot uses `MaterialChoice` to allow multiple types of materials, but when I get the `ItemStack` from the ingredient map it is always OAK_PLANK for recipes like sticks or chests that can be made from varying types of planks","body":"the version I am using is 1.19, the problem is that spigot uses <code>MaterialChoice</code> to allow multiple types of materials, but when I get the <code>ItemStack</code> from the ingredient map it is always OAK_PLANK for recipes like sticks or chests that can be made from varying types of planks"}],"answers":[{"tags":[],"owner":{"account_id":15091436,"reputation":427,"user_id":10891226,"display_name":"RIVERMAN2010"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686147047,"creation_date":1686147047,"answer_id":76424270,"question_id":76419352,"body_markdown":"`ShapelessRecipe` also has a method called `getChoiceMap` which can be used to get the recipe choices for a given recipe, which allows a search of variant materials that can also be used.","title":"How to get all variants of the ingredients for a recipe?","body":"<p><code>ShapelessRecipe</code> also has a method called <code>getChoiceMap</code> which can be used to get the recipe choices for a given recipe, which allows a search of variant materials that can also be used.</p>\n"}],"owner":{"account_id":15091436,"reputation":427,"user_id":10891226,"display_name":"RIVERMAN2010"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686147047,"creation_date":1686101299,"question_id":76419352,"body_markdown":"I have an auto-crafter plugin for a Minecraft server, what&#39;s important is that it lookups the recipe of the item it is to craft using the ingredient map `((ShapedRecipe)recipe).getIngredientMap();`. the ingredient map links a character in the recipe to an `ItemStack`. The issue is for a recipe (such as a stick) that uses variants of wood types, when getting the `ItemStack` from the map, it is always an Oak plank, even though sticks in-game can be crafted with other wood varients.  is there any way to get all variants of wood from the `ItemStack` in the ingredient map? ","title":"How to get all variants of the ingredients for a recipe?","body":"<p>I have an auto-crafter plugin for a Minecraft server, what's important is that it lookups the recipe of the item it is to craft using the ingredient map <code>((ShapedRecipe)recipe).getIngredientMap();</code>. the ingredient map links a character in the recipe to an <code>ItemStack</code>. The issue is for a recipe (such as a stick) that uses variants of wood types, when getting the <code>ItemStack</code> from the map, it is always an Oak plank, even though sticks in-game can be crafted with other wood varients.  is there any way to get all variants of wood from the <code>ItemStack</code> in the ingredient map?</p>\n"},{"tags":["java","android","interface"],"comments":[{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":1,"creation_date":1686146423,"post_id":76424093,"comment_id":134759271,"body_markdown":"Where are you initializing the `packageSender` field?","body":"Where are you initializing the <code>packageSender</code> field?"}],"answers":[{"tags":[],"owner":{"account_id":26335795,"reputation":948,"user_id":19995658,"display_name":"Sparkling Marcel "},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686146609,"creation_date":1686146609,"answer_id":76424167,"question_id":76424093,"body_markdown":"There is at least two problems with your code:\r\n\r\n    public  class ApiService {\r\n        RetrofitApi retrofitApi;\r\n        packageSender packageSender;\r\n\r\nfirst you do this, you declared a new class, and 2 variables inside. But you never initialized packageSender variable, therefore packageSnder is null\r\n\r\nlater on you do `retrofitApi = retrofit.create(RetrofitApi.class);` which assign a new value to retrofitApi, but you never assign a value to packageSender.\r\n\r\nTo fix your problem, you would have to create an instance of a class that implements your interface (careful! you can&#39;t instantiate an interface, so you&#39;d need a class that implements the interface) and then assign it to your variable in the constructor","title":"Calling interface cause NullPointerEx","body":"<p>There is at least two problems with your code:</p>\n<pre><code>public  class ApiService {\n    RetrofitApi retrofitApi;\n    packageSender packageSender;\n</code></pre>\n<p>first you do this, you declared a new class, and 2 variables inside. But you never initialized packageSender variable, therefore packageSnder is null</p>\n<p>later on you do <code>retrofitApi = retrofit.create(RetrofitApi.class);</code> which assign a new value to retrofitApi, but you never assign a value to packageSender.</p>\n<p>To fix your problem, you would have to create an instance of a class that implements your interface (careful! you can't instantiate an interface, so you'd need a class that implements the interface) and then assign it to your variable in the constructor</p>\n"}],"owner":{"account_id":26215555,"reputation":35,"user_id":19893729,"display_name":"KMD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76424167,"answer_count":1,"score":0,"last_activity_date":1686146609,"creation_date":1686146137,"question_id":76424093,"body_markdown":"I&#39;m trying to pass my respond to mainActivity via an interface but when I call or initialize it to give it the response, it says that the interface which is packageSender is null.\r\nmy response is not null, the interface is.\r\nwhy is that and what is the solution?\r\n\r\n```java \r\npublic  class ApiService {\r\n    RetrofitApi retrofitApi;\r\n    packageSender packageSender;\r\n\r\n    public ApiService(){\r\n        Retrofit retrofit = new Retrofit.Builder().addConverterFactory(GsonConverterFactory.create()).baseUrl(url).build();\r\n        retrofitApi = retrofit.create(RetrofitApi.class);\r\n        retrofitApi.getStudent().enqueue(new Callback&lt;List&lt;Student&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Student&gt;&gt; call, Response&lt;List&lt;Student&gt;&gt; response) {\r\n                getStudentPack(response.body());\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Student&gt;&gt; call, Throwable t) {\r\n            }\r\n        });\r\n    }\r\n    public interface packageSender{\r\n        void packageItself(List&lt;Student&gt; pack);\r\n    }\r\n    private void getStudentPack (List&lt;Student&gt; students){\r\n            packageSender.packageItself(students);\r\n    }\r\n}\r\n```","title":"Calling interface cause NullPointerEx","body":"<p>I'm trying to pass my respond to mainActivity via an interface but when I call or initialize it to give it the response, it says that the interface which is packageSender is null.\nmy response is not null, the interface is.\nwhy is that and what is the solution?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public  class ApiService {\n    RetrofitApi retrofitApi;\n    packageSender packageSender;\n\n    public ApiService(){\n        Retrofit retrofit = new Retrofit.Builder().addConverterFactory(GsonConverterFactory.create()).baseUrl(url).build();\n        retrofitApi = retrofit.create(RetrofitApi.class);\n        retrofitApi.getStudent().enqueue(new Callback&lt;List&lt;Student&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;List&lt;Student&gt;&gt; call, Response&lt;List&lt;Student&gt;&gt; response) {\n                getStudentPack(response.body());\n            }\n\n            @Override\n            public void onFailure(Call&lt;List&lt;Student&gt;&gt; call, Throwable t) {\n            }\n        });\n    }\n    public interface packageSender{\n        void packageItself(List&lt;Student&gt; pack);\n    }\n    private void getStudentPack (List&lt;Student&gt; students){\n            packageSender.packageItself(students);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686146967,"post_id":76422856,"comment_id":134759419,"body_markdown":"Yes you can define both. Mark the one you want to use  with `@Primary`, or don&#39;t mark yours and add an `@Bean` method which would override the bean created with `@Service` or/and exclude the one you don&#39;t need from component scanning (that is what the exclude filters are for).","body":"Yes you can define both. Mark the one you want to use  with <code>@Primary</code>, or don&#39;t mark yours and add an <code>@Bean</code> method which would override the bean created with <code>@Service</code> or/and exclude the one you don&#39;t need from component scanning (that is what the exclude filters are for)."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686146118,"creation_date":1686146118,"answer_id":76424089,"question_id":76422856,"body_markdown":"In case of ambiguous definition of a Spring Component (Service in your case) you can use the `@Qualifier` annotation to distinguish them.","title":"Dependency injection in Spring Boot project","body":"<p>In case of ambiguous definition of a Spring Component (Service in your case) you can use the <code>@Qualifier</code> annotation to distinguish them.</p>\n"}],"owner":{"account_id":17363872,"reputation":35,"user_id":15980587,"display_name":"jenny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686146118,"creation_date":1686137621,"question_id":76422856,"body_markdown":"I&#39;m straggling to reach the correct structure with spring&#39;s dependency injection.\r\nI have a common subproject that is shared between multiple project. It has the following interface and class:\r\n\r\n    public interface ICommonConfigurationService \r\n    public class CommonConfigurationService implements ICommonConfigurationService \r\n\r\nI added @service at the implementation so it could be injected.\r\n\r\nIn another project that depends on the common project, I have:\r\n\r\n    public interface IConfigurationService extends ICommonConfigurationService \r\n    public class ConfigurationService extends CommonConfigurationService implements IConfigurationService \r\n\r\nbecause in the scope of the subproject that depends on common, I want to be able to access the implementation and functions of the common file from above.\r\nThe issue is, in the scope of the subproject- I want it to access the subproject implementation - ConfigurationService. But, in the scope of the common project, I want it to inject the CommonConfigurationService implementation. \r\n\r\nI can&#39;t define both of them as @Service, because in the subproject it yells that it has 2 qualifying beans. I also can&#39;t remove @Service from common, because tests in the common project can&#39;t find implementation that way.\r\n\r\nI hope my issue is clear and would appreciate you assistance with the correct structure/annotation.\r\n\r\n\r\n","title":"Dependency injection in Spring Boot project","body":"<p>I'm straggling to reach the correct structure with spring's dependency injection.\nI have a common subproject that is shared between multiple project. It has the following interface and class:</p>\n<pre><code>public interface ICommonConfigurationService \npublic class CommonConfigurationService implements ICommonConfigurationService \n</code></pre>\n<p>I added @service at the implementation so it could be injected.</p>\n<p>In another project that depends on the common project, I have:</p>\n<pre><code>public interface IConfigurationService extends ICommonConfigurationService \npublic class ConfigurationService extends CommonConfigurationService implements IConfigurationService \n</code></pre>\n<p>because in the scope of the subproject that depends on common, I want to be able to access the implementation and functions of the common file from above.\nThe issue is, in the scope of the subproject- I want it to access the subproject implementation - ConfigurationService. But, in the scope of the common project, I want it to inject the CommonConfigurationService implementation.</p>\n<p>I can't define both of them as @Service, because in the subproject it yells that it has 2 qualifying beans. I also can't remove @Service from common, because tests in the common project can't find implementation that way.</p>\n<p>I hope my issue is clear and would appreciate you assistance with the correct structure/annotation.</p>\n"},{"tags":["java","string","compression"],"comments":[{"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"score":0,"creation_date":1686088231,"post_id":76418655,"comment_id":134750790,"body_markdown":"The assertion didn&#39;t come out correctly in the above question. The last space after &quot;leaves&quot; is replaced with a junk character and hence the AssertionFailedError","body":"The assertion didn&#39;t come out correctly in the above question. The last space after &quot;leaves&quot; is replaced with a junk character and hence the AssertionFailedError"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686090722,"post_id":76418655,"comment_id":134751061,"body_markdown":"That&#39;s a strange situation.  It appears to remove only a single, non-alphabet, character.","body":"That&#39;s a strange situation.  It appears to remove only a single, non-alphabet, character."},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":2,"creation_date":1686095266,"post_id":76418655,"comment_id":134751450,"body_markdown":"I am glad to see that you spelled deflator and inflator correctly. The Java librarians were unable.","body":"I am glad to see that you spelled deflator and inflator correctly. The Java librarians were unable."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1686133249,"post_id":76418655,"comment_id":134756287,"body_markdown":"Two problems with this code (and answers) - you shouldn&#39;t need to know the original stream size in order to decompress, and `compress` returning payloadArray converted as String might corrupt the data - it should return the `byte[]`. Perhaps you are lucky it works for ISO_8859_1 case.","body":"Two problems with this code (and answers) - you shouldn&#39;t need to know the original stream size in order to decompress, and <code>compress</code> returning payloadArray converted as String might corrupt the data - it should return the <code>byte[]</code>. Perhaps you are lucky it works for ISO_8859_1 case."},{"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"score":0,"creation_date":1686141325,"post_id":76418655,"comment_id":134758010,"body_markdown":"Hi @DuncG, my end goal is to store the compressed string in the file and then also read the same compressed string back. Also, the compressed string will be appended with other string via a pipe delimiter. So what do you suggest?","body":"Hi @DuncG, my end goal is to store the compressed string in the file and then also read the same compressed string back. Also, the compressed string will be appended with other string via a pipe delimiter. So what do you suggest?"}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686089682,"creation_date":1686089355,"answer_id":76418755,"question_id":76418655,"body_markdown":"As far as I can suggest, your issue is in this line:\r\n```java\r\nbyte[] output = new byte[payload.length()];\r\n```\r\n Deflater class in Java compresses the data into a format that doesn&#39;t necessarily result in a smaller size. This is especially true when the data is small or not easily compressible, since it uses the ZLIB compression library, which adds metadata and a checksum to the output (!). For small inputs, the size of this additional data can cause the compressed output to be larger than the input\r\n\r\nTo prove this option, you may need to call\r\n```\r\ndeflater.finished() // false in your case\r\n```\r\nright after the deflate call, which returns true when all input data has been processed and all compressed data has been written to the output, and false - meaning that the output array is not large enough to hold all the compressed data.\r\n\r\nI can make an assumption, that it makes sense to have an output array size of at least 2x of input string size in your case (or 100, as minimum), so it should work:\r\n```\r\npublic String compress(String payload) {\r\n   Deflater deflater = new Deflater();\r\n   deflater.setInput(payload.getBytes(StandardCharsets.ISO_8859_1));\r\n   deflater.finish();\r\n\r\n   byte[] output = new byte[payload.length() * 2];\r\n   int size = deflater.deflate(output);\r\n\r\n   byte[] payloadArray = Arrays.copyOf(output, size);\r\n   deflater.end();\r\n\r\n   return new String(payloadArray, StandardCharsets.ISO_8859_1);\r\n}\r\n```\r\n\r\nUPD:\r\n\r\nFor a typical deflate stream, overhead is defined as 2 bytes at the start for the zlib header, and 4 bytes at the end for the Adler-32 checksum, for a total of 6 bytes of metadata; so +6 for the length even for single byte string will be always enough \r\n","title":"Java Inflator &amp; Deflator Issue","body":"<p>As far as I can suggest, your issue is in this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] output = new byte[payload.length()];\n</code></pre>\n<p>Deflater class in Java compresses the data into a format that doesn't necessarily result in a smaller size. This is especially true when the data is small or not easily compressible, since it uses the ZLIB compression library, which adds metadata and a checksum to the output (!). For small inputs, the size of this additional data can cause the compressed output to be larger than the input</p>\n<p>To prove this option, you may need to call</p>\n<pre><code>deflater.finished() // false in your case\n</code></pre>\n<p>right after the deflate call, which returns true when all input data has been processed and all compressed data has been written to the output, and false - meaning that the output array is not large enough to hold all the compressed data.</p>\n<p>I can make an assumption, that it makes sense to have an output array size of at least 2x of input string size in your case (or 100, as minimum), so it should work:</p>\n<pre><code>public String compress(String payload) {\n   Deflater deflater = new Deflater();\n   deflater.setInput(payload.getBytes(StandardCharsets.ISO_8859_1));\n   deflater.finish();\n\n   byte[] output = new byte[payload.length() * 2];\n   int size = deflater.deflate(output);\n\n   byte[] payloadArray = Arrays.copyOf(output, size);\n   deflater.end();\n\n   return new String(payloadArray, StandardCharsets.ISO_8859_1);\n}\n</code></pre>\n<p>UPD:</p>\n<p>For a typical deflate stream, overhead is defined as 2 bytes at the start for the zlib header, and 4 bytes at the end for the Adler-32 checksum, for a total of 6 bytes of metadata; so +6 for the length even for single byte string will be always enough</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686095379,"creation_date":1686095379,"answer_id":76419091,"question_id":76418655,"body_markdown":"I may be just re-iterating your question here.\r\n\r\nAs mentioned by _@Begging_, I believe it has to do with the _originalPayloadSize_ you&#39;re providing as a _byte_ array length.\r\n\r\nConsider the following example from the _Inflater_ class JavaDoc.\r\n\r\n&gt; _&quot;The following code fragment demonstrates a trivial compression and decompression of a string using Deflater and Inflater.&quot;_\r\n\r\n```java\r\ntry {\r\n    // Encode a String into bytes\r\n    String inputString = &quot;blahblahblah€€&quot;;\r\n    byte[] input = inputString.getBytes(&quot;UTF-8&quot;);\r\n\r\n    // Compress the bytes\r\n    byte[] output = new byte[100];\r\n    Deflater compresser = new Deflater();\r\n    compresser.setInput(input);\r\n    compresser.finish();\r\n    int compressedDataLength = compresser.deflate(output);\r\n\r\n    // Decompress the bytes\r\n    Inflater decompresser = new Inflater();\r\n    decompresser.setInput(output, 0, compressedDataLength);\r\n    byte[] result = new byte[100];\r\n    int resultLength = decompresser.inflate(result);\r\n    decompresser.end();\r\n\r\n    // Decode the bytes into a String\r\n    String outputString = new String(result, 0, resultLength, &quot;UTF-8&quot;);\r\n} catch (java.io.UnsupportedEncodingException ex) {\r\n    // handle\r\n} catch (java.util.zip.DataFormatException ex) {\r\n    // handle\r\n}\r\n```\r\n\r\nThis will result in a valid inflation using the _string_ you provided.\r\n\r\n```none\r\n&#39;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves &#39;\r\n```\r\n\r\nIf I change the _output_ and _result_ byte arrays to _inputString.length()_, it results in an invalid inflation.\r\n\r\n```none\r\n&#39;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves&#39;\r\n```\r\n\r\nAnd, for your code, if I provide an ample amount of space within the array, I get a result with additional 0, null characters.\r\n\r\n```java\r\nbyte[] output = new byte[originalPayloadSize * 3];\r\n```\r\n\r\n```none\r\ninflated 159, &#39;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves                                                                                                           &#39;\r\noriginal 53, &#39;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves &#39;\r\n```\r\n\r\nThis appears to be remedied in the example code using, the _[String(byte[], int, int, Charset)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,int,int,java.nio.charset.Charset))_ constructor method.\r\n\r\n```java\r\nreturn new String(output, 0, orgSize, StandardCharsets.ISO_8859_1);\r\n```\r\n\r\n```none\r\ndeflated 59, &#39;x3T0R0V0Q0U0S0W&#176;P&#176;T&#200;&#207;KU()&#207;WH,(&#200;IU&#200;/J&#204;KOUHJ&#204;\u0003B&#212;&#196;&#178;&#212;b\u0005 n\u0010\u000F&#201;&#39;\r\ninflated 53, &#39;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves &#39;\r\noriginal 53, &#39;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves &#39;\r\n```","title":"Java Inflator &amp; Deflator Issue","body":"<p>I may be just re-iterating your question here.</p>\n<p>As mentioned by <em>@Begging</em>, I believe it has to do with the <em>originalPayloadSize</em> you're providing as a <em>byte</em> array length.</p>\n<p>Consider the following example from the <em>Inflater</em> class JavaDoc.</p>\n<blockquote>\n<p><em>&quot;The following code fragment demonstrates a trivial compression and decompression of a string using Deflater and Inflater.&quot;</em></p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    // Encode a String into bytes\n    String inputString = &quot;blahblahblah€€&quot;;\n    byte[] input = inputString.getBytes(&quot;UTF-8&quot;);\n\n    // Compress the bytes\n    byte[] output = new byte[100];\n    Deflater compresser = new Deflater();\n    compresser.setInput(input);\n    compresser.finish();\n    int compressedDataLength = compresser.deflate(output);\n\n    // Decompress the bytes\n    Inflater decompresser = new Inflater();\n    decompresser.setInput(output, 0, compressedDataLength);\n    byte[] result = new byte[100];\n    int resultLength = decompresser.inflate(result);\n    decompresser.end();\n\n    // Decode the bytes into a String\n    String outputString = new String(result, 0, resultLength, &quot;UTF-8&quot;);\n} catch (java.io.UnsupportedEncodingException ex) {\n    // handle\n} catch (java.util.zip.DataFormatException ex) {\n    // handle\n}\n</code></pre>\n<p>This will result in a valid inflation using the <em>string</em> you provided.</p>\n<pre class=\"lang-none prettyprint-override\"><code>'1 2 3 4 5 6 7 8 9 one two apple orange banana leaves '\n</code></pre>\n<p>If I change the <em>output</em> and <em>result</em> byte arrays to <em>inputString.length()</em>, it results in an invalid inflation.</p>\n<pre class=\"lang-none prettyprint-override\"><code>'1 2 3 4 5 6 7 8 9 one two apple orange banana leaves'\n</code></pre>\n<p>And, for your code, if I provide an ample amount of space within the array, I get a result with additional 0, null characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] output = new byte[originalPayloadSize * 3];\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>inflated 159, '1 2 3 4 5 6 7 8 9 one two apple orange banana leaves                                                                                                           '\noriginal 53, '1 2 3 4 5 6 7 8 9 one two apple orange banana leaves '\n</code></pre>\n<p>This appears to be remedied in the example code using, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,int,int,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">String(byte[], int, int, Charset)</a></em> constructor method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return new String(output, 0, orgSize, StandardCharsets.ISO_8859_1);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>deflated 59, 'x3T0R0V0Q0U0S0W°P°TÈÏKU()ÏWH,(ÈIUÈ/JÌKOUHJÌBÔÄ²Ôb n\u0010\u000FÉ'\ninflated 53, '1 2 3 4 5 6 7 8 9 one two apple orange banana leaves '\noriginal 53, '1 2 3 4 5 6 7 8 9 one two apple orange banana leaves '\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686146100,"creation_date":1686142612,"answer_id":76423546,"question_id":76418655,"body_markdown":"The return value from `compress(String payload)` should be `byte[]` as returning back a String may corrupt compressed bytes - the binary version may not be valid charset sequence. Also you don&#39;t want to guess the buffer sizes, you can use any buffer size if you loop over the inflator/deflator code correctly.\r\n\r\nAs your end goal is to write compressed String to a file, it is simpler to make use of `java.util.zip.DeflaterOutputStream` and `java.util.zip.InflaterInputStream` which handle loop over the input data correctly.\r\n\r\nThis way you also avoid the issue your code has with deciding what buffer sizes to use, and you don&#39;t risk corrupting the byte[] as a String. The basic calls to deflate/inflate any byte[] are:\r\n\r\n    public static void deflate(byte[] payload, Path file) throws IOException {\r\n        try(var os = new DeflaterOutputStream(Files.newOutputStream(file))) {\r\n            os.write(payload);\r\n        }\r\n    }\r\n    public static byte[] inflate(Path file) throws IOException {\r\n        try(var is = new InflaterInputStream(Files.newInputStream(file))) {\r\n            return is.readAllBytes();\r\n        }\r\n    }\r\n\r\nYou can combine with `Charset` to permit switching String&lt;-&gt;file instead:\r\n\r\n    public static void deflate(String payload, Charset charset, Path file) throws IOException {\r\n        deflate(payload.getBytes(charset), file);\r\n    }\r\n    public static String inflate(Charset charset, Path file) throws IOException {\r\n        return new String(inflate(file), charset);\r\n    }\r\n\r\nSmall test program - as it stands payload is actually larger as a deflated stream due to the overheads, but you can test with longer strings:\r\n\r\n    final String payload = &quot;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves &quot;;\r\n\r\n    Path orig = Path.of(&quot;/tmp/payload.str&quot;);\r\n    Path deflated = Path.of(&quot;/tmp/payload.small&quot;);\r\n    Files.writeString(orig, payload);\r\n    StringCompressor.deflate(payload, StandardCharsets.ISO_8859_1, deflated);\r\n\r\n    System.out.println(&quot;Size of &quot;+orig+&quot; is &quot;+Files.size(orig));\r\n    System.out.println(&quot;Size of &quot;+deflated+&quot; is &quot;+Files.size(deflated));\r\n\r\n    String s = StringCompressor.inflate(StandardCharsets.ISO_8859_1, deflated);\r\n    System.out.println(&quot;Read from file =[&quot;+s.length()+&quot;] = [&quot;+s+&quot;]&quot;);\r\n    System.out.println(&quot;s.equals(payload)=&quot;+s.equals(payload));\r\n","title":"Java Inflator &amp; Deflator Issue","body":"<p>The return value from <code>compress(String payload)</code> should be <code>byte[]</code> as returning back a String may corrupt compressed bytes - the binary version may not be valid charset sequence. Also you don't want to guess the buffer sizes, you can use any buffer size if you loop over the inflator/deflator code correctly.</p>\n<p>As your end goal is to write compressed String to a file, it is simpler to make use of <code>java.util.zip.DeflaterOutputStream</code> and <code>java.util.zip.InflaterInputStream</code> which handle loop over the input data correctly.</p>\n<p>This way you also avoid the issue your code has with deciding what buffer sizes to use, and you don't risk corrupting the byte[] as a String. The basic calls to deflate/inflate any byte[] are:</p>\n<pre><code>public static void deflate(byte[] payload, Path file) throws IOException {\n    try(var os = new DeflaterOutputStream(Files.newOutputStream(file))) {\n        os.write(payload);\n    }\n}\npublic static byte[] inflate(Path file) throws IOException {\n    try(var is = new InflaterInputStream(Files.newInputStream(file))) {\n        return is.readAllBytes();\n    }\n}\n</code></pre>\n<p>You can combine with <code>Charset</code> to permit switching String&lt;-&gt;file instead:</p>\n<pre><code>public static void deflate(String payload, Charset charset, Path file) throws IOException {\n    deflate(payload.getBytes(charset), file);\n}\npublic static String inflate(Charset charset, Path file) throws IOException {\n    return new String(inflate(file), charset);\n}\n</code></pre>\n<p>Small test program - as it stands payload is actually larger as a deflated stream due to the overheads, but you can test with longer strings:</p>\n<pre><code>final String payload = &quot;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves &quot;;\n\nPath orig = Path.of(&quot;/tmp/payload.str&quot;);\nPath deflated = Path.of(&quot;/tmp/payload.small&quot;);\nFiles.writeString(orig, payload);\nStringCompressor.deflate(payload, StandardCharsets.ISO_8859_1, deflated);\n\nSystem.out.println(&quot;Size of &quot;+orig+&quot; is &quot;+Files.size(orig));\nSystem.out.println(&quot;Size of &quot;+deflated+&quot; is &quot;+Files.size(deflated));\n\nString s = StringCompressor.inflate(StandardCharsets.ISO_8859_1, deflated);\nSystem.out.println(&quot;Read from file =[&quot;+s.length()+&quot;] = [&quot;+s+&quot;]&quot;);\nSystem.out.println(&quot;s.equals(payload)=&quot;+s.equals(payload));\n</code></pre>\n"}],"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76418755,"answer_count":3,"score":1,"last_activity_date":1686146100,"creation_date":1686087862,"question_id":76418655,"body_markdown":"I need help in understanding an issue that I am seeing in using Inflater and Deflator classes in Java. My requirement is very simple. I want to compress and decompress Java strings. \r\n\r\nThe issue is that if my string is less than 54 characters then the decompression does not returns all the characters of the strings. My compression and decompression code are as follows:\r\n\r\n```\r\npublic String compress(String payload) {\r\n\r\n        \r\n        Deflater deflater = new Deflater();\r\n        deflater.setInput(payload.getBytes(StandardCharsets.ISO_8859_1));\r\n        deflater.finish();\r\n\r\n        byte[] output = new byte[payload.length()];\r\n        int size = deflater.deflate(output);\r\n\r\n        byte[] payloadArray = Arrays.copyOf(output, size);// I do this to make sure only the compressed data is returned\r\n\r\n        deflater.end();\r\n\r\n        return new String(payloadArray, StandardCharsets.ISO_8859_1);\r\n\r\n    }\r\n\r\npublic String decompress(String compressedPayload, int originalPayloadSize) {\r\n\r\n        \r\n        Inflater inflater = new Inflater();\r\n        inflater.setInput(compressedPayload.getBytes(StandardCharsets.ISO_8859_1));\r\n\r\n        byte[] output = new byte[originalPayloadSize];\r\n        int orgSize = inflater.inflate(output);\r\n\r\n        inflater.end();\r\n\r\n        return new String(output, StandardCharsets.ISO_8859_1);\r\n\r\n    }\r\n```\r\n\r\nMy test case is as follows:\r\n```\r\n @Test\r\n    void verify() {\r\n\r\n        final String payload = &quot;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves &quot;;// This fails!!\r\n\r\n        CompressionDeCompression compressionDecompression = new CompressionDeCompression();\r\n        String compressedPayload = compressionDecompression.compress(payload);\r\n        Assertions.assertNotNull(compressedPayload);\r\n\r\n        String decompressedPayload = compressionDecompression.decompress(compressedPayload, payload.length());\r\n\r\n        Assertions.assertEquals(payload.length(), decompressedPayload.length());\r\n        Assertions.assertEquals(payload, decompressedPayload);\r\n    }\r\n```\r\n\r\nThe above test case fails with the following exception:\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :1 2 3 4 5 6 7 8 9 one two apple orange banana leaves \r\nActual   :1 2 3 4 5 6 7 8 9 one two apple orange banana leaves\r\n```\r\n\r\nBut if I simply add one more character in the payload then it works. For example;\r\n```\r\nfinal String payload = &quot;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves t&quot;;\r\n```\r\n\r\nIn short this does work:\r\nfinal String payload = &quot;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves t&quot;;\r\n\r\nThis doesn&#39;t work:\r\nfinal String payload = &quot;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves &quot;;\r\n\r\nCan someone please help me understand this issue?","title":"Java Inflator &amp; Deflator Issue","body":"<p>I need help in understanding an issue that I am seeing in using Inflater and Deflator classes in Java. My requirement is very simple. I want to compress and decompress Java strings.</p>\n<p>The issue is that if my string is less than 54 characters then the decompression does not returns all the characters of the strings. My compression and decompression code are as follows:</p>\n<pre><code>public String compress(String payload) {\n\n        \n        Deflater deflater = new Deflater();\n        deflater.setInput(payload.getBytes(StandardCharsets.ISO_8859_1));\n        deflater.finish();\n\n        byte[] output = new byte[payload.length()];\n        int size = deflater.deflate(output);\n\n        byte[] payloadArray = Arrays.copyOf(output, size);// I do this to make sure only the compressed data is returned\n\n        deflater.end();\n\n        return new String(payloadArray, StandardCharsets.ISO_8859_1);\n\n    }\n\npublic String decompress(String compressedPayload, int originalPayloadSize) {\n\n        \n        Inflater inflater = new Inflater();\n        inflater.setInput(compressedPayload.getBytes(StandardCharsets.ISO_8859_1));\n\n        byte[] output = new byte[originalPayloadSize];\n        int orgSize = inflater.inflate(output);\n\n        inflater.end();\n\n        return new String(output, StandardCharsets.ISO_8859_1);\n\n    }\n</code></pre>\n<p>My test case is as follows:</p>\n<pre><code> @Test\n    void verify() {\n\n        final String payload = &quot;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves &quot;;// This fails!!\n\n        CompressionDeCompression compressionDecompression = new CompressionDeCompression();\n        String compressedPayload = compressionDecompression.compress(payload);\n        Assertions.assertNotNull(compressedPayload);\n\n        String decompressedPayload = compressionDecompression.decompress(compressedPayload, payload.length());\n\n        Assertions.assertEquals(payload.length(), decompressedPayload.length());\n        Assertions.assertEquals(payload, decompressedPayload);\n    }\n</code></pre>\n<p>The above test case fails with the following exception:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :1 2 3 4 5 6 7 8 9 one two apple orange banana leaves \nActual   :1 2 3 4 5 6 7 8 9 one two apple orange banana leaves\n</code></pre>\n<p>But if I simply add one more character in the payload then it works. For example;</p>\n<pre><code>final String payload = &quot;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves t&quot;;\n</code></pre>\n<p>In short this does work:\nfinal String payload = &quot;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves t&quot;;</p>\n<p>This doesn't work:\nfinal String payload = &quot;1 2 3 4 5 6 7 8 9 one two apple orange banana leaves &quot;;</p>\n<p>Can someone please help me understand this issue?</p>\n"},{"tags":["java","spring-boot","rest","multipartform-data"],"owner":{"account_id":26443411,"reputation":11,"user_id":20087552,"display_name":"Ashu J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686145969,"creation_date":1686145969,"question_id":76424062,"body_markdown":"I&#39;m calling one restful api and the response content-type of the api is image/png, text/plain,text/xml etc based on the file uploaded originally into file repository. \r\n\r\nI have tired with below code..\r\n\r\n```\r\nHttpEntity&lt;?&gt; wsRequest =\r\n          new HttpEntity&lt;&gt;(\r\n              request,\r\n              this.createHttpHeader(MediaType.APPLICATION_JSON, MediaType.APPLICATION_JSON));\r\n\r\n      List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n      MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n      converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n      messageConverters.add(converter);\r\n      restTemplate.setMessageConverters(messageConverters);\r\n\r\n      ResponseEntity&lt;Object&gt; wsResponse =\r\n          restTemplate.exchange(\r\n              url,\r\n              HttpMethod.POST,\r\n              wsRequest,\r\n              new ParameterizedTypeReference&lt;Object&gt;() {});\r\n``` \r\nAble to read the text/plain type response but remaining formats getting issue.\r\n\r\nError Info\r\n```\r\n- RestClientException for request=\r\norg.springframework.web.client.RestClientException: Error while extracting response for type [class java.lang.Object] and content type [image/png]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ((CTRL-CHAR, code 137)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;); nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ((CTRL-CHAR, code 137)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n```\r\nhow api returning the response? added screenshots for the reference.    \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kwtjh.png\r\n  [2]: https://i.stack.imgur.com/aswmH.png","title":"How to read multipart response with RESTful API","body":"<p>I'm calling one restful api and the response content-type of the api is image/png, text/plain,text/xml etc based on the file uploaded originally into file repository.</p>\n<p>I have tired with below code..</p>\n<pre><code>HttpEntity&lt;?&gt; wsRequest =\n          new HttpEntity&lt;&gt;(\n              request,\n              this.createHttpHeader(MediaType.APPLICATION_JSON, MediaType.APPLICATION_JSON));\n\n      List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\n      MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n      converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n      messageConverters.add(converter);\n      restTemplate.setMessageConverters(messageConverters);\n\n      ResponseEntity&lt;Object&gt; wsResponse =\n          restTemplate.exchange(\n              url,\n              HttpMethod.POST,\n              wsRequest,\n              new ParameterizedTypeReference&lt;Object&gt;() {});\n</code></pre>\n<p>Able to read the text/plain type response but remaining formats getting issue.</p>\n<p>Error Info</p>\n<pre><code>- RestClientException for request=\norg.springframework.web.client.RestClientException: Error while extracting response for type [class java.lang.Object] and content type [image/png]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ((CTRL-CHAR, code 137)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false'); nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ((CTRL-CHAR, code 137)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n</code></pre>\n<p>how api returning the response? added screenshots for the reference.</p>\n<p><a href=\"https://i.stack.imgur.com/kwtjh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kwtjh.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/aswmH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aswmH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","classloader","linkageerror","icedtea","icedtea-web"],"answers":[{"tags":[],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686145937,"creation_date":1686145937,"answer_id":76424054,"question_id":76416918,"body_markdown":"Yes, there is a known [issue][1] with the IcedTea-Web&#39;s `JNLPClassLoader` that can lead to a race condition, causing a LinkageError with the message &quot;attempted duplicate class definition&quot;. The error was reported to occur when starting IcedTea-Web with certain project applications, such as the Volvo RTDMS project. The likely cause was identified as a lack of proper synchronization in `net.sourceforge.jnlp.runtime.classloader.JNLPClassLoader.loadClass(final String name)​`\r\n\r\nA fix for this issue was provided in a GitHub pull request. The fix involves adding thread synchronization on the class loader to prevent the duplicate class loading issue. Apparently, this fix was tested extensively in the Volvo project and was found to work fine without affecting performance. The [pull request][2] with the fix was subsequently merged into the AdoptOpenJDK:master on March 18, 2021​​.\r\n\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/IcedTea-Web/issues/782\r\n  [2]: https://github.com/AdoptOpenJDK/IcedTea-Web/pull/783\r\n\r\nMoreover, it seems the fix is yet to be included in an upcoming release.","title":"How do I solve this LinkageError duplicate class definition?","body":"<p>Yes, there is a known <a href=\"https://github.com/AdoptOpenJDK/IcedTea-Web/issues/782\" rel=\"nofollow noreferrer\">issue</a> with the IcedTea-Web's <code>JNLPClassLoader</code> that can lead to a race condition, causing a LinkageError with the message &quot;attempted duplicate class definition&quot;. The error was reported to occur when starting IcedTea-Web with certain project applications, such as the Volvo RTDMS project. The likely cause was identified as a lack of proper synchronization in <code>net.sourceforge.jnlp.runtime.classloader.JNLPClassLoader.loadClass(final String name)​</code></p>\n<p>A fix for this issue was provided in a GitHub pull request. The fix involves adding thread synchronization on the class loader to prevent the duplicate class loading issue. Apparently, this fix was tested extensively in the Volvo project and was found to work fine without affecting performance. The <a href=\"https://github.com/AdoptOpenJDK/IcedTea-Web/pull/783\" rel=\"nofollow noreferrer\">pull request</a> with the fix was subsequently merged into the AdoptOpenJDK:master on March 18, 2021​​.</p>\n<p>Moreover, it seems the fix is yet to be included in an upcoming release.</p>\n"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76424054,"answer_count":1,"score":-1,"last_activity_date":1686145937,"creation_date":1686071144,"question_id":76416918,"body_markdown":"I&#39;m using [IcedTea-Web][1] to run a java application with jnlp/javaws.\r\nThe application used to work fine running with Java 8 and java web start.\r\nI&#39;m trying to move to Java 17 and IcedTea-Web.\r\n\r\nThe error I have is :\r\n\r\n    java.lang.LinkageError: loader net.sourceforge.jnlp.runtime.JNLPClassLoader @55e1be49 attempted duplicate class definition for com.mypackage.MyClass. (com.mypackage.MyClass is in unnamed module of loader net.sourceforge.jnlp.runtime.JNLPClassLoader @55e1be49, parent loader &#39;bootstrap&#39;)\r\n\r\nIssue happens when application tries to load classes from their names using ClassLoader net.sourceforge.jnlp.runtime.JNLPClassLoader.\r\n\r\nIs there a known bug of race condition causing LinkageError &quot;duplicate class definition&quot; in IcedTea-Web&#39;s JNLPClassLoader ?\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/IcedTea-Web","title":"How do I solve this LinkageError duplicate class definition?","body":"<p>I'm using <a href=\"https://github.com/AdoptOpenJDK/IcedTea-Web\" rel=\"nofollow noreferrer\">IcedTea-Web</a> to run a java application with jnlp/javaws.\nThe application used to work fine running with Java 8 and java web start.\nI'm trying to move to Java 17 and IcedTea-Web.</p>\n<p>The error I have is :</p>\n<pre><code>java.lang.LinkageError: loader net.sourceforge.jnlp.runtime.JNLPClassLoader @55e1be49 attempted duplicate class definition for com.mypackage.MyClass. (com.mypackage.MyClass is in unnamed module of loader net.sourceforge.jnlp.runtime.JNLPClassLoader @55e1be49, parent loader 'bootstrap')\n</code></pre>\n<p>Issue happens when application tries to load classes from their names using ClassLoader net.sourceforge.jnlp.runtime.JNLPClassLoader.</p>\n<p>Is there a known bug of race condition causing LinkageError &quot;duplicate class definition&quot; in IcedTea-Web's JNLPClassLoader ?</p>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1686136903,"post_id":76419539,"comment_id":134757059,"body_markdown":"Why did you hide the most important method calls?","body":"Why did you hide the most important method calls?"},{"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"score":0,"creation_date":1686140336,"post_id":76419539,"comment_id":134757815,"body_markdown":"which methods should be there in the question? I tried to narrow as much as possible the code because I really think the problem lays in that scope","body":"which methods should be there in the question? I tried to narrow as much as possible the code because I really think the problem lays in that scope"},{"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1686140938,"post_id":76419539,"comment_id":134757930,"body_markdown":"Your usage of JDABuilder determines almost everything about how you receive events with the library","body":"Your usage of JDABuilder determines almost everything about how you receive events with the library"},{"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"score":0,"creation_date":1686144900,"post_id":76419539,"comment_id":134758882,"body_markdown":"Got it. Ive edited it","body":"Got it. Ive edited it"}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686145896,"creation_date":1686145896,"answer_id":76424047,"question_id":76419539,"body_markdown":"You should use a scheduler to update the activity in a set interval:\r\n\r\n\r\n```java\r\n// Build your JDA instance\r\nJDA jda = JDABuilder...build();\r\n\r\n// Every 60 seconds (don&#39;t update this too quickly)\r\njda.getGatewayPool().scheduleAtFixedRate(() -&gt; {\r\n  int onlineMembers = eventListener.getQuantityOnlineMembers();\r\n  jda.getPresence().setActivity(Activity.listening(&quot;Users online: &quot; + onlineMembers));\r\n}, 0, 60, TimeUnit.SECONDS);\r\n```","title":"Can&#39;t display the amount of online users on Discord through bot activity","body":"<p>You should use a scheduler to update the activity in a set interval:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Build your JDA instance\nJDA jda = JDABuilder...build();\n\n// Every 60 seconds (don't update this too quickly)\njda.getGatewayPool().scheduleAtFixedRate(() -&gt; {\n  int onlineMembers = eventListener.getQuantityOnlineMembers();\n  jda.getPresence().setActivity(Activity.listening(&quot;Users online: &quot; + onlineMembers));\n}, 0, 60, TimeUnit.SECONDS);\n</code></pre>\n"}],"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76424047,"answer_count":1,"score":0,"last_activity_date":1686145896,"creation_date":1686105051,"question_id":76419539,"body_markdown":"I&#39;m coding a discord bot using JDA and I&#39;m having a tough time trying to figure out a way to show in the bot&#39;s activity section the number of online users in a server.\r\n\r\nThis is my main bot class:\r\n\r\n```\r\npublic DiscordBot() throws LoginException {\r\n\r\n        config = Dotenv.configure().load();\r\n        String token = config.get(&quot;TOKENDISCORD&quot;);\r\n        eventListener = new BotEventListener();\r\n        eventListener.addOnlineStatusChangeListener(event -&gt; {\r\n            int onlineMembers = eventListener.getQuantityOnlineMembers();\r\n        });\r\n\r\n  bot = JDABuilder.createDefault(token,\r\n                        GatewayIntent.GUILD_MEMBERS,\r\n                        GatewayIntent.GUILD_MESSAGES,\r\n                        GatewayIntent.GUILD_PRESENCES,\r\n                        GatewayIntent.GUILD_VOICE_STATES\r\n                )\r\n                .setMemberCachePolicy(MemberCachePolicy.ALL)\r\n                .disableCache(EnumSet.of(\r\n                        CacheFlag.CLIENT_STATUS,\r\n                        CacheFlag.ACTIVITY,\r\n                        CacheFlag.EMOTE\r\n                ))\r\n                .setChunkingFilter(ChunkingFilter.ALL)\r\n                .enableCache(EnumSet.of(\r\n                        CacheFlag.ONLINE_STATUS\r\n                ))\r\n                .setActivity(Activity.listening(new CustomActivity(eventListener).getName()))\r\n                .setMemberCachePolicy(MemberCachePolicy.VOICE)\r\n                .addEventListeners(eventListener)\r\n                .addEventListeners(new BotCommands())\r\n                .enableCache(CacheFlag.VOICE_STATE)\r\n                .build();\r\n    }\r\n\r\n```\r\n\r\nEvent listener class:\r\n\r\n```\r\n//Triggering observer whenever a user is online or offline\r\n    @Override\r\n    public void onUserUpdateOnlineStatus(UserUpdateOnlineStatusEvent event) {\r\n        System.out.println(&quot;test 1&quot;);\r\n        onlineStatusEvent = event;\r\n        int onlineMembers = getQuantityOnlineMembers();\r\n        for (Consumer&lt;Integer&gt; listener : onlineStatusChangeListeners) {\r\n            listener.accept(onlineMembers);\r\n        }\r\n    }\r\n\r\n//Evaluating user amount\r\n    public int getQuantityOnlineMembers() {\r\n        System.out.println(&quot;test 2&quot;);\r\n        if (onlineStatusEvent == null) {\r\n            return 0;\r\n        }\r\n        System.out.println(&quot;test 3&quot;);\r\n        List&lt;Member&gt; members = onlineStatusEvent.getGuild().getMembers();\r\n        int onlineMembers = 0;\r\n        for (Member member : members) {\r\n            if (member.getOnlineStatus() == OnlineStatus.ONLINE) {\r\n                onlineMembers++;\r\n                System.out.println(onlineMembers);\r\n            }\r\n        }\r\n        return onlineMembers;\r\n    }\r\n```\r\n\r\n//And I&#39;ve created a CustomActivity class to make the code cleaner when calling it from the bot&#39;s .setActivity\r\n```\r\npublic class CustomActivity extends ActivityImpl {\r\n    private BotEventListener eventListener;\r\n\r\n\r\n    public CustomActivity(BotEventListener eventListener) {\r\n        super(null);\r\n        this.eventListener = eventListener;\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        int onlineMembers = eventListener.getQuantityOnlineMembers();\r\n        return &quot;Users online: &quot; + String.valueOf(onlineMembers);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve noticed that once the bot starts, it never goes back to update its activity display. Maybe creating a map to the amount of users and updating it forcefully when the observer in onUserUpdateOnlineStatus is triggered.","title":"Can&#39;t display the amount of online users on Discord through bot activity","body":"<p>I'm coding a discord bot using JDA and I'm having a tough time trying to figure out a way to show in the bot's activity section the number of online users in a server.</p>\n<p>This is my main bot class:</p>\n<pre><code>public DiscordBot() throws LoginException {\n\n        config = Dotenv.configure().load();\n        String token = config.get(&quot;TOKENDISCORD&quot;);\n        eventListener = new BotEventListener();\n        eventListener.addOnlineStatusChangeListener(event -&gt; {\n            int onlineMembers = eventListener.getQuantityOnlineMembers();\n        });\n\n  bot = JDABuilder.createDefault(token,\n                        GatewayIntent.GUILD_MEMBERS,\n                        GatewayIntent.GUILD_MESSAGES,\n                        GatewayIntent.GUILD_PRESENCES,\n                        GatewayIntent.GUILD_VOICE_STATES\n                )\n                .setMemberCachePolicy(MemberCachePolicy.ALL)\n                .disableCache(EnumSet.of(\n                        CacheFlag.CLIENT_STATUS,\n                        CacheFlag.ACTIVITY,\n                        CacheFlag.EMOTE\n                ))\n                .setChunkingFilter(ChunkingFilter.ALL)\n                .enableCache(EnumSet.of(\n                        CacheFlag.ONLINE_STATUS\n                ))\n                .setActivity(Activity.listening(new CustomActivity(eventListener).getName()))\n                .setMemberCachePolicy(MemberCachePolicy.VOICE)\n                .addEventListeners(eventListener)\n                .addEventListeners(new BotCommands())\n                .enableCache(CacheFlag.VOICE_STATE)\n                .build();\n    }\n\n</code></pre>\n<p>Event listener class:</p>\n<pre><code>//Triggering observer whenever a user is online or offline\n    @Override\n    public void onUserUpdateOnlineStatus(UserUpdateOnlineStatusEvent event) {\n        System.out.println(&quot;test 1&quot;);\n        onlineStatusEvent = event;\n        int onlineMembers = getQuantityOnlineMembers();\n        for (Consumer&lt;Integer&gt; listener : onlineStatusChangeListeners) {\n            listener.accept(onlineMembers);\n        }\n    }\n\n//Evaluating user amount\n    public int getQuantityOnlineMembers() {\n        System.out.println(&quot;test 2&quot;);\n        if (onlineStatusEvent == null) {\n            return 0;\n        }\n        System.out.println(&quot;test 3&quot;);\n        List&lt;Member&gt; members = onlineStatusEvent.getGuild().getMembers();\n        int onlineMembers = 0;\n        for (Member member : members) {\n            if (member.getOnlineStatus() == OnlineStatus.ONLINE) {\n                onlineMembers++;\n                System.out.println(onlineMembers);\n            }\n        }\n        return onlineMembers;\n    }\n</code></pre>\n<p>//And I've created a CustomActivity class to make the code cleaner when calling it from the bot's .setActivity</p>\n<pre><code>public class CustomActivity extends ActivityImpl {\n    private BotEventListener eventListener;\n\n\n    public CustomActivity(BotEventListener eventListener) {\n        super(null);\n        this.eventListener = eventListener;\n    }\n\n    @Override\n    public String getName() {\n        int onlineMembers = eventListener.getQuantityOnlineMembers();\n        return &quot;Users online: &quot; + String.valueOf(onlineMembers);\n    }\n}\n</code></pre>\n<p>I've noticed that once the bot starts, it never goes back to update its activity display. Maybe creating a map to the amount of users and updating it forcefully when the observer in onUserUpdateOnlineStatus is triggered.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1686137059,"post_id":76422772,"comment_id":134757095,"body_markdown":"When you try to transform this into valid Java code, you’ll notice that methods have *return types*. Which is the preferred way to hand data over to a caller, rather than static variables. To pass data into the other direction, use parameters. Besides that, Streams are not Collections. There is no `append` method. Instead, you can create a Stream from a Collection, but this is not necessary here.","body":"When you try to transform this into valid Java code, you’ll notice that methods have <i>return types</i>. Which is the preferred way to hand data over to a caller, rather than static variables. To pass data into the other direction, use parameters. Besides that, Streams are not Collections. There is no <code>append</code> method. Instead, you can create a Stream from a Collection, but this is not necessary here."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686137800,"post_id":76422772,"comment_id":134757275,"body_markdown":"When you get around to consulting the Javadoc you will find that `Stream` doesn&#39;t have an `append()` method. Or you could just keep guessing.","body":"When you get around to consulting the Javadoc you will find that <code>Stream</code> doesn&#39;t have an <code>append()</code> method. Or you could just keep guessing."},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1686139988,"post_id":76422772,"comment_id":134757738,"body_markdown":"Updated the question. That was just a pseudo code.","body":"Updated the question. That was just a pseudo code."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686141616,"post_id":76422772,"comment_id":134758083,"body_markdown":"Do you need to use Streams at all? What is the upstream that needs to be gotten. You should not keep a reference to a stream as your data because they can be consumed. ie `Class1.stream1.forEach()` is a terminal operation. Then stream1 will have been consumed. Why not just keep a List?","body":"Do you need to use Streams at all? What is the upstream that needs to be gotten. You should not keep a reference to a stream as your data because they can be consumed. ie <code>Class1.stream1.forEach()</code> is a terminal operation. Then stream1 will have been consumed. Why not just keep a List?"},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1686141733,"post_id":76422772,"comment_id":134758111,"body_markdown":"@matt I need to keep appending data and reading. Like a data stream.","body":"@matt I need to keep appending data and reading. Like a data stream."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686142831,"creation_date":1686137792,"answer_id":76422875,"question_id":76422772,"body_markdown":"You can&#39;t append collection or more elements to a stream. You can however concatenate 2 streams together using [Stream.concat()][1], by getting another stream from your collection.\r\n```\r\nstatic void getDataFromUpstream(List&lt;SomeData&gt; data){\r\n  stream1 = Stream.concat(stream1, data.stream());\r\n}\r\n```\r\nEdit: Since you want to keep appending and reading, a [Queue][2] would be more appropriate.\r\n```\r\nstatic Queue&lt;SomeData&gt; queue;\r\n\r\nstatic void getDataFromUpstream(List&lt;SomeData&gt; data){\r\n  queue.addAll(data);\r\n}\r\n```\r\nYou can&#39;t achieve this with a stream, because you can&#39;t add elements to it.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html","title":"Transfer data between methods using streams","body":"<p>You can't append collection or more elements to a stream. You can however concatenate 2 streams together using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-\" rel=\"nofollow noreferrer\">Stream.concat()</a>, by getting another stream from your collection.</p>\n<pre><code>static void getDataFromUpstream(List&lt;SomeData&gt; data){\n  stream1 = Stream.concat(stream1, data.stream());\n}\n</code></pre>\n<p>Edit: Since you want to keep appending and reading, a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html\" rel=\"nofollow noreferrer\">Queue</a> would be more appropriate.</p>\n<pre><code>static Queue&lt;SomeData&gt; queue;\n\nstatic void getDataFromUpstream(List&lt;SomeData&gt; data){\n  queue.addAll(data);\n}\n</code></pre>\n<p>You can't achieve this with a stream, because you can't add elements to it.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686145333,"creation_date":1686144740,"answer_id":76423864,"question_id":76422772,"body_markdown":"If you want to create an infinite stream of sorts where you keep providing data and elements can continue reading from it. You can use [Stream#generate](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#generate(java.util.function.Supplier)). \r\n\r\n    KindaInfinite&lt;T&gt;{\r\n        LinkedBlockingQueue&lt;T&gt;  queue = new LinkedBlockingQueue();\r\n        Stream&lt;T&gt; getInfiniteStream(){\r\n            return Stream.generate( () -&gt; {\r\n                try{\r\n                    return queue.take();\r\n                catch(Exception e){\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n        }\r\n        public void addData(List&lt;T&gt; data){\r\n            queue.addAll(data);\r\n        }\r\n    }\r\n\r\nNow you can run,\r\n\r\n    KindaInfinite&lt;String&gt; strings = new KindaInfinite&lt;&gt;();\r\n    Stream&lt;String&gt; stream = strings.getInfiniteStream();\r\n    stream.forEach( s-&gt; System.out.println(s));\r\n\r\nThe forEach will never return because it will always be trying to consume the new elements. You would need a second thread to add items to the KindaInfinite to consume them. \r\n\r\nYou could limit the stream by using `takeWhile` and sending a special value, as per [this anser](https://stackoverflow.com/a/53194912/2067492).\r\n\r\n\r\nI would probably just use the Queue without the stream though.\r\n\r\n","title":"Transfer data between methods using streams","body":"<p>If you want to create an infinite stream of sorts where you keep providing data and elements can continue reading from it. You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#generate(java.util.function.Supplier)\" rel=\"nofollow noreferrer\">Stream#generate</a>.</p>\n<pre><code>KindaInfinite&lt;T&gt;{\n    LinkedBlockingQueue&lt;T&gt;  queue = new LinkedBlockingQueue();\n    Stream&lt;T&gt; getInfiniteStream(){\n        return Stream.generate( () -&gt; {\n            try{\n                return queue.take();\n            catch(Exception e){\n                throw new RuntimeException(e);\n            }\n        });\n    }\n    public void addData(List&lt;T&gt; data){\n        queue.addAll(data);\n    }\n}\n</code></pre>\n<p>Now you can run,</p>\n<pre><code>KindaInfinite&lt;String&gt; strings = new KindaInfinite&lt;&gt;();\nStream&lt;String&gt; stream = strings.getInfiniteStream();\nstream.forEach( s-&gt; System.out.println(s));\n</code></pre>\n<p>The forEach will never return because it will always be trying to consume the new elements. You would need a second thread to add items to the KindaInfinite to consume them.</p>\n<p>You could limit the stream by using <code>takeWhile</code> and sending a special value, as per <a href=\"https://stackoverflow.com/a/53194912/2067492\">this anser</a>.</p>\n<p>I would probably just use the Queue without the stream though.</p>\n"}],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686145333,"creation_date":1686136849,"question_id":76422772,"body_markdown":"I want to transfer data generated by a method in a class to another method in another class. I assume this can be done with `Streams` but I am not sure if this is the right way. Below is the pseudo code of what I am trying to achieve:\r\n\r\nClass1.java\r\n\r\n    static Stream stream1; \r\n    getDataFromUpstream(List&lt;SomeData&gt; data){\r\n        Stream2 = Stream.of(data);\r\n        stream1.concat(stream2);\r\n    }\r\n\r\nClass2.java\r\n\r\n    getData() {\r\n        Class1.stream1.forEach(data -&gt; //do something);\r\n    }\r\n\r\nIf this can be achieved using streams, kindly suggest how. Otherwise, if there is any other way of streaming data like this in Java, please let me know.\r\n\r\nI cannot call `getData()` method from `getDataFromUpstream()` directly.\r\n","title":"Transfer data between methods using streams","body":"<p>I want to transfer data generated by a method in a class to another method in another class. I assume this can be done with <code>Streams</code> but I am not sure if this is the right way. Below is the pseudo code of what I am trying to achieve:</p>\n<p>Class1.java</p>\n<pre><code>static Stream stream1; \ngetDataFromUpstream(List&lt;SomeData&gt; data){\n    Stream2 = Stream.of(data);\n    stream1.concat(stream2);\n}\n</code></pre>\n<p>Class2.java</p>\n<pre><code>getData() {\n    Class1.stream1.forEach(data -&gt; //do something);\n}\n</code></pre>\n<p>If this can be achieved using streams, kindly suggest how. Otherwise, if there is any other way of streaming data like this in Java, please let me know.</p>\n<p>I cannot call <code>getData()</code> method from <code>getDataFromUpstream()</code> directly.</p>\n"},{"tags":["java","collections","set"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":8,"creation_date":1686142735,"post_id":76423536,"comment_id":134758350,"body_markdown":"Why do you expect this to return false? The result as current is logically correct: you&#39;re asking if the list contains all items of a list, and the answer to that is: yes, it contains all those items (the fact that the list is empty does not make that assertion false).","body":"Why do you expect this to return false? The result as current is logically correct: you&#39;re asking if the list contains all items of a list, and the answer to that is: yes, it contains all those items (the fact that the list is empty does not make that assertion false)."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1686142859,"post_id":76423536,"comment_id":134758385,"body_markdown":"To put it another way: `x.containsAll(y)` should only return *false* if there&#39;s an element in `y` which isn&#39;t in `x`. Which element do you believe meets that condition in `allReasons.contains(reasons)`?","body":"To put it another way: <code>x.containsAll(y)</code> should only return <i>false</i> if there&#39;s an element in <code>y</code> which isn&#39;t in <code>x</code>. Which element do you believe meets that condition in <code>allReasons.contains(reasons)</code>?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1686142995,"post_id":76423536,"comment_id":134758420,"body_markdown":"Or phrased differently, you&#39;re asking if for all items in `reasons`, is each item contained in `allReasons`, and that assertion is true if `reasons` is empty. See also https://en.wikipedia.org/wiki/Universal_quantification#The_empty_set","body":"Or phrased differently, you&#39;re asking if for all items in <code>reasons</code>, is each item contained in <code>allReasons</code>, and that assertion is true if <code>reasons</code> is empty. See also <a href=\"https://en.wikipedia.org/wiki/Universal_quantification#The_empty_set\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Universal_quantification#The_empty_set</a>"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1686143239,"post_id":76423536,"comment_id":134758478,"body_markdown":"You may also want to read up on [power sets](https://en.wikipedia.org/wiki/Power_set); the empty set is a subset of a non-empty set.","body":"You may also want to read up on <a href=\"https://en.wikipedia.org/wiki/Power_set\" rel=\"nofollow noreferrer\">power sets</a>; the empty set is a subset of a non-empty set."},{"owner":{"account_id":3783388,"reputation":197,"user_id":3142164,"display_name":"Mohammad"},"score":0,"creation_date":1686143650,"post_id":76423536,"comment_id":134758573,"body_markdown":"Thanks @MarkRotteveel, those wiki pages really helped.","body":"Thanks @MarkRotteveel, those wiki pages really helped."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686208264,"post_id":76423536,"comment_id":134768281,"body_markdown":"Also known as [Vacuous truth](https://en.wikipedia.org/wiki/Vacuous_truth)","body":"Also known as <a href=\"https://en.wikipedia.org/wiki/Vacuous_truth\" rel=\"nofollow noreferrer\">Vacuous truth</a>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686144921,"creation_date":1686143199,"answer_id":76423630,"question_id":76423536,"body_markdown":"`x.containsAll(y)`  returns `true` if `x` contains all the elements in `y`, which in this case, is a vacuous truth.\r\n\r\nIt&#39;s easier to understand if you rephrase the definition in negative terms - `x.containsAll(y)` returns `true` if `y` has no element that is not contained in `x`. If `y` is empty it has no elements at all, and specifically cannot have any element that isn&#39;t contained in `x`.\r\n\r\nIn short, in your case `allReasons.containsAll(reasons)` should return `true`, and your current assertion is wrong.","title":"Java Set.containsAll returns true for empty list","body":"<p><code>x.containsAll(y)</code>  returns <code>true</code> if <code>x</code> contains all the elements in <code>y</code>, which in this case, is a vacuous truth.</p>\n<p>It's easier to understand if you rephrase the definition in negative terms - <code>x.containsAll(y)</code> returns <code>true</code> if <code>y</code> has no element that is not contained in <code>x</code>. If <code>y</code> is empty it has no elements at all, and specifically cannot have any element that isn't contained in <code>x</code>.</p>\n<p>In short, in your case <code>allReasons.containsAll(reasons)</code> should return <code>true</code>, and your current assertion is wrong.</p>\n"}],"owner":{"account_id":3783388,"reputation":197,"user_id":3142164,"display_name":"Mohammad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76423630,"answer_count":1,"score":1,"last_activity_date":1686145002,"creation_date":1686142559,"question_id":76423536,"body_markdown":"The `containsAll` method in the `AbstractCollection` class is implemented as below:\r\n\r\n    public boolean containsAll(Collection&lt;?&gt; c) {\r\n        for (Object e : c)\r\n            if (!contains(e))\r\n                return false;\r\n        return true;\r\n    }\r\n\r\nIt doesn&#39;t check for empty c and still returns `true` for the below testcase:\r\n\r\n    @Test\r\n    public void testContainsAllOfHashSet() {\r\n        List&lt;String&gt; reasons = new LinkedList&lt;&gt;();\r\n        Set&lt;String&gt; allReasons = new HashSet&lt;&gt;();\r\n        allReasons.add(&quot;Java&quot;);\r\n        Assert.assertFalse(allReasons.containsAll(reasons));\r\n    }\r\n\r\nThe above test is failing as `containsAll` is returning `true` for empty reasons. `allreasons` contains at least one element and definitely no empty elements are there. Therefore, the above test case should pass. Let me know if my understanding here is wrong.","title":"Java Set.containsAll returns true for empty list","body":"<p>The <code>containsAll</code> method in the <code>AbstractCollection</code> class is implemented as below:</p>\n<pre><code>public boolean containsAll(Collection&lt;?&gt; c) {\n    for (Object e : c)\n        if (!contains(e))\n            return false;\n    return true;\n}\n</code></pre>\n<p>It doesn't check for empty c and still returns <code>true</code> for the below testcase:</p>\n<pre><code>@Test\npublic void testContainsAllOfHashSet() {\n    List&lt;String&gt; reasons = new LinkedList&lt;&gt;();\n    Set&lt;String&gt; allReasons = new HashSet&lt;&gt;();\n    allReasons.add(&quot;Java&quot;);\n    Assert.assertFalse(allReasons.containsAll(reasons));\n}\n</code></pre>\n<p>The above test is failing as <code>containsAll</code> is returning <code>true</code> for empty reasons. <code>allreasons</code> contains at least one element and definitely no empty elements are there. Therefore, the above test case should pass. Let me know if my understanding here is wrong.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686143953,"post_id":76423712,"comment_id":134758642,"body_markdown":"Exec expects a path of a file in a filesystem. What is the value of `resource.getPath()`?","body":"Exec expects a path of a file in a filesystem. What is the value of <code>resource.getPath()</code>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686145467,"post_id":76423712,"comment_id":134759022,"body_markdown":"You can&#39;t execute a resource as a Windows batch file. You would have to save the resource somewhere first as a file and then execute it as a batch file. Use `ProcessBuilder` with `inheritIO` to do that","body":"You can&#39;t execute a resource as a Windows batch file. You would have to save the resource somewhere first as a file and then execute it as a batch file. Use <code>ProcessBuilder</code> with <code>inheritIO</code> to do that"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1686146320,"post_id":76423712,"comment_id":134759248,"body_markdown":"Is there any way to mention the relative path ? I dont want to hard code full path","body":"Is there any way to mention the relative path ? I dont want to hard code full path"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686146436,"post_id":76423712,"comment_id":134759274,"body_markdown":"Yes, *In a sense* they are all relative anyway as they are urls off a classpath. If it&#39;s at the root, I would use a form of `&quot;/a.bat&quot;`","body":"Yes, <i>In a sense</i> they are all relative anyway as they are urls off a classpath. If it&#39;s at the root, I would use a form of <code>&quot;&#47;a.bat&quot;</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686149352,"post_id":76423712,"comment_id":134760080,"body_markdown":"Actually it&#39;s not *inconceivable* that you could do it without creating a file but I wouldn&#39;t recommend it","body":"Actually it&#39;s not <i>inconceivable</i> that you could do it without creating a file but I wouldn&#39;t recommend it"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686144940,"creation_date":1686144940,"answer_id":76423900,"question_id":76423712,"body_markdown":"You don&#39;t need to bring it as a resource. Simply do this:\r\n\r\n      Process proc = Runtime.getRuntime().exec(&quot;/full/path/a.bat &quot; + clusterName);\r\n               proc.waitFor();","title":"execute bat script in JAVA","body":"<p>You don't need to bring it as a resource. Simply do this:</p>\n<pre><code>  Process proc = Runtime.getRuntime().exec(&quot;/full/path/a.bat &quot; + clusterName);\n           proc.waitFor();\n</code></pre>\n"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686144940,"creation_date":1686143772,"question_id":76423712,"body_markdown":"I want to execute bat script . the script is placed in the same location as the JAVA classes. \r\nhere is the code \r\n\r\n \r\n\r\n               ClassLoader loader = WebController.class.getClassLoader();\r\n    \t\t   URL resource = loader.getResource(&quot;a.bat&quot;);\r\n    \t\t   Process proc = Runtime.getRuntime().exec(resource.getPath() + clusterName);\r\n    \t\t   proc.waitFor();\r\n\r\n \r\n\r\n   clusterName is the argument which is being passed to bat script. \r\n\r\nHowever, the `resource` object is coming as null and bat script is not executing\r\nnot sure what is the correct syntax of putting a.bat. \r\n\r\nMy understanding is, a.bat is in the same package where all the JAVA classes are there , so I dont have to mention any relative path . \r\nplease suggest ","title":"execute bat script in JAVA","body":"<p>I want to execute bat script . the script is placed in the same location as the JAVA classes.\nhere is the code</p>\n<pre><code>           ClassLoader loader = WebController.class.getClassLoader();\n           URL resource = loader.getResource(&quot;a.bat&quot;);\n           Process proc = Runtime.getRuntime().exec(resource.getPath() + clusterName);\n           proc.waitFor();\n</code></pre>\n<p>clusterName is the argument which is being passed to bat script.</p>\n<p>However, the <code>resource</code> object is coming as null and bat script is not executing\nnot sure what is the correct syntax of putting a.bat.</p>\n<p>My understanding is, a.bat is in the same package where all the JAVA classes are there , so I dont have to mention any relative path .\nplease suggest</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1685609443,"post_id":76379615,"comment_id":134684952,"body_markdown":"Well, it&#39;s a *singleton* map that holds a *single* entry and is therefore immutable. Refer to the [docs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#singletonMap(K,V))","body":"Well, it&#39;s a <i>singleton</i> map that holds a <i>single</i> entry and is therefore immutable. Refer to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#singletonMap(K,V)\" rel=\"nofollow noreferrer\">docs</a>"}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685604875,"creation_date":1685604875,"answer_id":76379627,"question_id":76379615,"body_markdown":"The map returned from `Collections.singletonMap()` is immutable so you cannot modify it after creation:\r\n```java\r\n/**\r\n * Returns an immutable map, mapping only the specified key to the\r\n * specified value.  The returned map is serializable.\r\n *\r\n * @param &lt;K&gt; the class of the map keys\r\n * @param &lt;V&gt; the class of the map values\r\n * @param key the sole key to be stored in the returned map.\r\n * @param value the value to which the returned map maps {@code key}.\r\n * @return an immutable map containing only the specified key-value\r\n *         mapping.\r\n * @since 1.3\r\n */\r\npublic static &lt;K,V&gt; Map&lt;K,V&gt; singletonMap(K key, V value) {\r\n    return new SingletonMap&lt;&gt;(key, value);\r\n}\r\n```","title":"Hashmap is unable to be added to a collecitons.singletonmap","body":"<p>The map returned from <code>Collections.singletonMap()</code> is immutable so you cannot modify it after creation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Returns an immutable map, mapping only the specified key to the\n * specified value.  The returned map is serializable.\n *\n * @param &lt;K&gt; the class of the map keys\n * @param &lt;V&gt; the class of the map values\n * @param key the sole key to be stored in the returned map.\n * @param value the value to which the returned map maps {@code key}.\n * @return an immutable map containing only the specified key-value\n *         mapping.\n * @since 1.3\n */\npublic static &lt;K,V&gt; Map&lt;K,V&gt; singletonMap(K key, V value) {\n    return new SingletonMap&lt;&gt;(key, value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685605018,"creation_date":1685605018,"answer_id":76379644,"question_id":76379615,"body_markdown":"`Collections.singletonMap()` returns an immutable map. Use some other `Map` implementation, for example:\r\n\r\n```java\r\nHashMap&lt;String, String&gt; toEmails = new HashMap();\r\ntoEmails.put(&quot;key&quot;, &quot;Value&quot;)\r\n\r\nMap&lt;String, String&gt; userEmails = new HashMap&lt;&gt;();\r\nuserEmails.put(&quot;abc@gmail.com&quot;, &quot;abc&quot;);\r\n\r\ntoEmails.putAll(userEmails);\r\n```","title":"Hashmap is unable to be added to a collecitons.singletonmap","body":"<p><code>Collections.singletonMap()</code> returns an immutable map. Use some other <code>Map</code> implementation, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;String, String&gt; toEmails = new HashMap();\ntoEmails.put(&quot;key&quot;, &quot;Value&quot;)\n\nMap&lt;String, String&gt; userEmails = new HashMap&lt;&gt;();\nuserEmails.put(&quot;abc@gmail.com&quot;, &quot;abc&quot;);\n\ntoEmails.putAll(userEmails);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6022910,"reputation":36,"user_id":4729507,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685609355,"creation_date":1685609355,"answer_id":76380163,"question_id":76379615,"body_markdown":"`Collections.singletonMap()` returns a `SingletonMap`. This is an implementation of `Map` but do not support `put` method. When the `SingletonMap.putAll` is called, it then calls `SingletonMap.put` and then throws an Exception. This is the reason why it&#39;s `immutable`.","title":"Hashmap is unable to be added to a collecitons.singletonmap","body":"<p><code>Collections.singletonMap()</code> returns a <code>SingletonMap</code>. This is an implementation of <code>Map</code> but do not support <code>put</code> method. When the <code>SingletonMap.putAll</code> is called, it then calls <code>SingletonMap.put</code> and then throws an Exception. This is the reason why it's <code>immutable</code>.</p>\n"}],"owner":{"account_id":28651296,"reputation":31,"user_id":21938222,"display_name":"Srigadha Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76379644,"answer_count":3,"score":0,"last_activity_date":1686144820,"creation_date":1685604773,"question_id":76379615,"body_markdown":"```\r\nimport java.util.*;\r\n\r\npublic class Hash_Map_Demo {\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; userEmails = new HashMap&lt;&gt;();\r\n        userEmails.put(&quot;abc@gmail.com&quot;, &quot;abc&quot;);\r\n\r\n        Map&lt;String, String&gt; toEmails = Collections.singletonMap(&quot;key&quot;, &quot;Value&quot;);\r\n        toEmails.putAll(userEmails);\r\n    }\r\n}\r\n```\r\nWhen I&#39;m trying to run the above code, I&#39;m encountering the following exception:\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n\tat java.util.AbstractMap.put(AbstractMap.java:209)\r\n\tat java.util.AbstractMap.putAll(AbstractMap.java:281)\r\n\tat Hash_Map_Demo.main(Hash_Map_Demo.java:13)\r\n```\r\n\r\nI understand that here I&#39;m trying to add a `Hashmap` to `Collections.singletonmap`.\r\nBut aren&#39;t they same and what is happening behind.","title":"Hashmap is unable to be added to a collecitons.singletonmap","body":"<pre><code>import java.util.*;\n\npublic class Hash_Map_Demo {\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; userEmails = new HashMap&lt;&gt;();\n        userEmails.put(&quot;abc@gmail.com&quot;, &quot;abc&quot;);\n\n        Map&lt;String, String&gt; toEmails = Collections.singletonMap(&quot;key&quot;, &quot;Value&quot;);\n        toEmails.putAll(userEmails);\n    }\n}\n</code></pre>\n<p>When I'm trying to run the above code, I'm encountering the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\n    at java.util.AbstractMap.put(AbstractMap.java:209)\n    at java.util.AbstractMap.putAll(AbstractMap.java:281)\n    at Hash_Map_Demo.main(Hash_Map_Demo.java:13)\n</code></pre>\n<p>I understand that here I'm trying to add a <code>Hashmap</code> to <code>Collections.singletonmap</code>.\nBut aren't they same and what is happening behind.</p>\n"},{"tags":["java","spring-boot","docker","gradle","docker-compose"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1685462141,"post_id":76366127,"comment_id":134661940,"body_markdown":"What command are you using to access the service? From where are you running the command?","body":"What command are you using to access the service? From where are you running the command?"},{"owner":{"account_id":13501362,"reputation":37,"user_id":9740709,"display_name":"nigood"},"score":0,"creation_date":1685522132,"post_id":76366127,"comment_id":134670397,"body_markdown":"@DazWilkin: I tried it with both regular curl and Postman. Neither `POST` nor `GET` requests work. I make the respective REST request to `http://localhost:8085/endpoint`.","body":"@DazWilkin: I tried it with both regular curl and Postman. Neither <code>POST</code> nor <code>GET</code> requests work. I make the respective REST request to <code>http:&#47;&#47;localhost:8085&#47;endpoint</code>."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1685547437,"post_id":76366127,"comment_id":134676374,"body_markdown":"What&#39;s the host (Linux, Windows, Mac)?","body":"What&#39;s the host (Linux, Windows, Mac)?"},{"owner":{"account_id":13501362,"reputation":37,"user_id":9740709,"display_name":"nigood"},"score":0,"creation_date":1685629071,"post_id":76366127,"comment_id":134689575,"body_markdown":"It&#39;s running on a Linux machine.","body":"It&#39;s running on a Linux machine."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1685632934,"post_id":76366127,"comment_id":134690687,"body_markdown":"Absent being able to run your containers, I&#39;m at a loss. Can you shell into `services` and try curl&#39;ing the endpoint directly in the container? If not, you could add another service e.g. `radial/busyboxplus:curl` and then try `command: /bin/sh -c &quot;while true; do curl --silent --write-out &#39;%{response_code}\\n&#39; http://service:8080/endpoint; sleep 5; done` to see whether another service is able to access it. Or, just run the container standalone (`docker run --interactive --tty --rm --publish=8085:8080/tcp ....`.","body":"Absent being able to run your containers, I&#39;m at a loss. Can you shell into <code>services</code> and try curl&#39;ing the endpoint directly in the container? If not, you could add another service e.g. <code>radial&#47;busyboxplus:curl</code> and then try <code>command: &#47;bin&#47;sh -c &quot;while true; do curl --silent --write-out &#39;%{response_code}\\n&#39; http:&#47;&#47;service:8080&#47;endpoint; sleep 5; done</code> to see whether another service is able to access it. Or, just run the container standalone (<code>docker run --interactive --tty --rm --publish=8085:8080&#47;tcp ....</code>."}],"answers":[{"tags":[],"owner":{"account_id":13501362,"reputation":37,"user_id":9740709,"display_name":"nigood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686144819,"creation_date":1686144819,"answer_id":76423883,"question_id":76366127,"body_markdown":"I had some more time to look at the issue and I have found the source it.\r\n\r\nI started up the stack by calling `docker compose -f firstService/docker-compose.yml -f secondService/docker-compose.yml ... up`.\r\n\r\nApparently, `docker compose` will use the location of the compose file defined in the first position throughout the process. Therefore, while the process was able to locate the proper compose files, it did always copy the `.jar` file from the first service into all containers.\r\n\r\nI circumvented this unwanted behaviour by adding the `--project-directory` option to my docker compose command and adapted the `context` field in all `Dockerfile`s. The whole thing works now as expected.","title":"Why do I get a 404 error when accessing REST API of my Dockerized Spring Boot application?","body":"<p>I had some more time to look at the issue and I have found the source it.</p>\n<p>I started up the stack by calling <code>docker compose -f firstService/docker-compose.yml -f secondService/docker-compose.yml ... up</code>.</p>\n<p>Apparently, <code>docker compose</code> will use the location of the compose file defined in the first position throughout the process. Therefore, while the process was able to locate the proper compose files, it did always copy the <code>.jar</code> file from the first service into all containers.</p>\n<p>I circumvented this unwanted behaviour by adding the <code>--project-directory</code> option to my docker compose command and adapted the <code>context</code> field in all <code>Dockerfile</code>s. The whole thing works now as expected.</p>\n"}],"owner":{"account_id":13501362,"reputation":37,"user_id":9740709,"display_name":"nigood"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76423883,"answer_count":1,"score":-1,"last_activity_date":1686144819,"creation_date":1685458541,"question_id":76366127,"body_markdown":"I&#39;m trying to dockerize my services stack consisting of multiple Spring Boot applications.\r\n\r\nThese services provide REST APIs. They allow to start a job and request the final result.\r\n\r\nAll of the services offer a REST API which I can access, as expected, when starting the applications with `bootRun` or by executing the built `.jar` files. The response after starting the jobs contains the job&#39;s id. This id can be used to request the result of the job.\r\n\r\nAfter creating the Docker images containing the built `.jar`s and starting the containers with `docker compose`, I receive unexpected responses. The response from the containers is an error code `404` instead of either the job id or some other more reasonable error.\r\n\r\nThe `build.gradle` for one of these services looks something like this:\r\n```lang-gradle\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;dev.some.path&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\timplementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nThe `Dockerfile` for one of these services looks something like this:\r\n```lang-dockerfile\r\nFROM openjdk:17-jdk-alpine\r\nVOLUME /tmp\r\nEXPOSE 8080\r\nARG JAR_FILE=build/libs/service-0.0.1-SNAPSHOT.jar\r\nADD ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\nChanging to a non-alpine version of the base image does not change the result. Dropping the randomizer argument in the entrypoint does not change anything either.\r\n\r\nThe `docker-compose.yml` for one of these services looks something like this:\r\n```lang-yaml\r\nversion: &#39;3&#39;\r\nservices:\r\n  service:\r\n    container_name: service\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - 8085:8080\r\n```\r\n\r\nThe output after running `docker compose up` does look promising and very similar to when starting the application either via `bootRun` or by executing the `.jar` file. When trying to access the REST endpoint, the service is responding. The log output is showing that the initialization of the service did complete:\r\n```\r\nservice | 2023-05-30T14:20:42.052Z  INFO 1 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\nservice | 2023-05-30T14:20:42.053Z  INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\nservice | 2023-05-30T14:20:42.054Z  INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n```\r\nBut the expected behaviour ends there. Instead of logging further hints that the flow continues, the log output stays unchanged and the received response from the request looks something like this:\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-05-30T14:20:42.097+00:00&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;path&quot;: &quot;/endpoint&quot;\r\n}\r\n```\r\n\r\nDoes anyone of you have an idea why this is not working in it&#39;s containerized as it is working &quot;regularly&quot;?\r\n","title":"Why do I get a 404 error when accessing REST API of my Dockerized Spring Boot application?","body":"<p>I'm trying to dockerize my services stack consisting of multiple Spring Boot applications.</p>\n<p>These services provide REST APIs. They allow to start a job and request the final result.</p>\n<p>All of the services offer a REST API which I can access, as expected, when starting the applications with <code>bootRun</code> or by executing the built <code>.jar</code> files. The response after starting the jobs contains the job's id. This id can be used to request the result of the job.</p>\n<p>After creating the Docker images containing the built <code>.jar</code>s and starting the containers with <code>docker compose</code>, I receive unexpected responses. The response from the containers is an error code <code>404</code> instead of either the job id or some other more reasonable error.</p>\n<p>The <code>build.gradle</code> for one of these services looks something like this:</p>\n<pre class=\"lang-gradle prettyprint-override\"><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.5'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'dev.some.path'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.apache.commons:commons-lang3:3.12.0'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>The <code>Dockerfile</code> for one of these services looks something like this:</p>\n<pre class=\"lang-dockerfile prettyprint-override\"><code>FROM openjdk:17-jdk-alpine\nVOLUME /tmp\nEXPOSE 8080\nARG JAR_FILE=build/libs/service-0.0.1-SNAPSHOT.jar\nADD ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>Changing to a non-alpine version of the base image does not change the result. Dropping the randomizer argument in the entrypoint does not change anything either.</p>\n<p>The <code>docker-compose.yml</code> for one of these services looks something like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3'\nservices:\n  service:\n    container_name: service\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - 8085:8080\n</code></pre>\n<p>The output after running <code>docker compose up</code> does look promising and very similar to when starting the application either via <code>bootRun</code> or by executing the <code>.jar</code> file. When trying to access the REST endpoint, the service is responding. The log output is showing that the initialization of the service did complete:</p>\n<pre><code>service | 2023-05-30T14:20:42.052Z  INFO 1 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\nservice | 2023-05-30T14:20:42.053Z  INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\nservice | 2023-05-30T14:20:42.054Z  INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n<p>But the expected behaviour ends there. Instead of logging further hints that the flow continues, the log output stays unchanged and the received response from the request looks something like this:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-05-30T14:20:42.097+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;path&quot;: &quot;/endpoint&quot;\n}\n</code></pre>\n<p>Does anyone of you have an idea why this is not working in it's containerized as it is working &quot;regularly&quot;?</p>\n"},{"tags":["javascript","java","spring","thymeleaf"],"comments":[{"owner":{"account_id":14686604,"reputation":28244,"user_id":10606400,"display_name":"Swati"},"score":0,"creation_date":1686140535,"post_id":76423011,"comment_id":134757845,"body_markdown":"Hi, what does `openPopup` and `closePopup` does ? Can you add code for that as well ?","body":"Hi, what does <code>openPopup</code> and <code>closePopup</code> does ? Can you add code for that as well ?"},{"owner":{"account_id":16430837,"reputation":181,"user_id":11869740,"display_name":"Yunus Emrah Ulu&#231;ay"},"score":0,"creation_date":1686144871,"post_id":76423011,"comment_id":134758877,"body_markdown":"Hi, I have added css code also.","body":"Hi, I have added css code also."},{"owner":{"account_id":14686604,"reputation":28244,"user_id":10606400,"display_name":"Swati"},"score":0,"creation_date":1686146001,"post_id":76423011,"comment_id":134759164,"body_markdown":"Please , check if [this](https://jsfiddle.net/268ogpjL/) works for you.","body":"Please , check if <a href=\"https://jsfiddle.net/268ogpjL/\" rel=\"nofollow noreferrer\">this</a> works for you."},{"owner":{"account_id":16430837,"reputation":181,"user_id":11869740,"display_name":"Yunus Emrah Ulu&#231;ay"},"score":0,"creation_date":1686147643,"post_id":76423011,"comment_id":134759625,"body_markdown":"No it is not working. Here the problem for me is to running this on my Spring Boot application in Java. And I am using for HTML things Thymeleaf.","body":"No it is not working. Here the problem for me is to running this on my Spring Boot application in Java. And I am using for HTML things Thymeleaf."}],"owner":{"account_id":16430837,"reputation":181,"user_id":11869740,"display_name":"Yunus Emrah Ulu&#231;ay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686144792,"creation_date":1686138706,"question_id":76423011,"body_markdown":"I am making a project in Spring Boot with Thymeleaf. I want to add a dynamic popup to my project for this purpose I want to add some Javascript code to my project. But it is not working. \r\n\r\ntest.html : \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    \r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Title&lt;/title&gt;\r\n    \r\n        &lt;script src= &quot;https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js&quot; &gt;&lt;/script&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot; /&gt;\r\n        &lt;script type=&quot;text/javascript&quot; src=&quot;script.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n      &lt;button type=&quot;submit&quot; class=&quot;btn&quot;&gt;Submit&lt;/button&gt;\r\n      &lt;div class=&quot;popup&quot; id=&quot;popup&quot; onclick=&quot;openPopup()&quot;&gt;\r\n        &lt;img src=&quot;tick.png&quot; &gt;\r\n        &lt;h2&gt;Thank you!&lt;/h2&gt;\r\n        &lt;p&gt;Your details bla bla simple message.&lt;/p&gt;\r\n        &lt;button type=&quot;button&quot; onclick=&quot;closePopup()&quot;&gt;OK&lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt; \r\n\r\nscript.js : \r\n\r\n    let popup = document.getElementById(&quot;popup&quot;);\r\n    function openPopup() {\r\n        popup.classList.add(&quot;open-popup&quot;);\r\n    }\r\n    \r\n    function closePopup() {\r\n        popup.classList.remove(&quot;open-popup&quot;);\r\n    }\r\n\r\nstyle.css :\r\n\r\n    * {\r\n        margin: 0;\r\n        padding: 0;\r\n        box-sizing: border-box;\r\n        font-family: &#39;Poppins&#39;, sans-serif;\r\n    }\r\n    \r\n    .container {\r\n        width: 100%;\r\n        height: 100vh;\r\n        background: #3c5077;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n    \r\n    .btn {\r\n        padding: 10px 60px;\r\n        background: #fff;\r\n        border: 0;\r\n        outline: none;\r\n        cursor: pointer;\r\n        font-size: 22px;\r\n        font-weight: 500;\r\n        border-radius: 30px;\r\n    }\r\n    \r\n    .popup {\r\n        width: 400px;\r\n        background: #fff;\r\n        border-radius: 6px;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%) scale(0.1);\r\n        text-align: center;\r\n        padding: 0 30px 30px;\r\n        color: #333;\r\n        visibility: hidden;\r\n        transition: transform 0.4s, top 0.4s;\r\n    }\r\n    \r\n    .open-popup {\r\n        visibility: visible;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%) scale(1);\r\n    }\r\n    \r\n    .popup img {\r\n        width: 100px;\r\n        margin-top: -50px;\r\n        border-radius: 50%;\r\n        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\r\n    }\r\n    \r\n    .popup h2 {\r\n        font-size: 38px;\r\n        font-weight: 500;\r\n        margin: 30px 0 10px;\r\n    }\r\n    \r\n    .popup button {\r\n        width: 100%;\r\n        margin-top: 50px;\r\n        padding: 10px 0;\r\n        background: #6fd649;\r\n        color: #fff;\r\n        border: 0;\r\n        outline: none;\r\n        font-size: 18px;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\r\n    }\r\n\r\n\r\nWhen I open html file in view mode it is like this(popup is hidden in the beginning) : [![enter image description here][1]][1]\r\nWhen I started the application it seems like : [![enter image description here][2]][2]\r\n\r\nHow can I solve this issue? Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F3vb6.png\r\n  [2]: https://i.stack.imgur.com/qEXxR.png\r\n","title":"Dynamic Javascript code is not working in Thymeleaf","body":"<p>I am making a project in Spring Boot with Thymeleaf. I want to add a dynamic popup to my project for this purpose I want to add some Javascript code to my project. But it is not working.</p>\n<p>test.html :</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n\n    &lt;script src= &quot;https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js&quot; &gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot; /&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;script.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n  &lt;button type=&quot;submit&quot; class=&quot;btn&quot;&gt;Submit&lt;/button&gt;\n  &lt;div class=&quot;popup&quot; id=&quot;popup&quot; onclick=&quot;openPopup()&quot;&gt;\n    &lt;img src=&quot;tick.png&quot; &gt;\n    &lt;h2&gt;Thank you!&lt;/h2&gt;\n    &lt;p&gt;Your details bla bla simple message.&lt;/p&gt;\n    &lt;button type=&quot;button&quot; onclick=&quot;closePopup()&quot;&gt;OK&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n<p>script.js :</p>\n<pre><code>let popup = document.getElementById(&quot;popup&quot;);\nfunction openPopup() {\n    popup.classList.add(&quot;open-popup&quot;);\n}\n\nfunction closePopup() {\n    popup.classList.remove(&quot;open-popup&quot;);\n}\n</code></pre>\n<p>style.css :</p>\n<pre><code>* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Poppins', sans-serif;\n}\n\n.container {\n    width: 100%;\n    height: 100vh;\n    background: #3c5077;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.btn {\n    padding: 10px 60px;\n    background: #fff;\n    border: 0;\n    outline: none;\n    cursor: pointer;\n    font-size: 22px;\n    font-weight: 500;\n    border-radius: 30px;\n}\n\n.popup {\n    width: 400px;\n    background: #fff;\n    border-radius: 6px;\n    position: absolute;\n    top: 0;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(0.1);\n    text-align: center;\n    padding: 0 30px 30px;\n    color: #333;\n    visibility: hidden;\n    transition: transform 0.4s, top 0.4s;\n}\n\n.open-popup {\n    visibility: visible;\n    top: 50%;\n    transform: translate(-50%, -50%) scale(1);\n}\n\n.popup img {\n    width: 100px;\n    margin-top: -50px;\n    border-radius: 50%;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n}\n\n.popup h2 {\n    font-size: 38px;\n    font-weight: 500;\n    margin: 30px 0 10px;\n}\n\n.popup button {\n    width: 100%;\n    margin-top: 50px;\n    padding: 10px 0;\n    background: #6fd649;\n    color: #fff;\n    border: 0;\n    outline: none;\n    font-size: 18px;\n    border-radius: 4px;\n    cursor: pointer;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n}\n</code></pre>\n<p>When I open html file in view mode it is like this(popup is hidden in the beginning) : <a href=\"https://i.stack.imgur.com/F3vb6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F3vb6.png\" alt=\"enter image description here\" /></a>\nWhen I started the application it seems like : <a href=\"https://i.stack.imgur.com/qEXxR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qEXxR.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I solve this issue? Thanks in advance.</p>\n"},{"tags":["java","spring-boot","file","optimization","blockchain"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686145085,"post_id":76423858,"comment_id":134758932,"body_markdown":"I hope you have registered your security with the SEC and report every transaction on your blockchain to the IRS; otherwise, you&#39;re going to have a bit of an issue with the US government. I doubt that answers your question, which seems to be a rambling screed about synchronization. Try copy-on-write.","body":"I hope you have registered your security with the SEC and report every transaction on your blockchain to the IRS; otherwise, you&#39;re going to have a bit of an issue with the US government. I doubt that answers your question, which seems to be a rambling screed about synchronization. Try copy-on-write."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150315,"post_id":76423858,"comment_id":134760340,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":24876185,"reputation":1,"user_id":18750001,"display_name":"germes mercury"},"score":0,"creation_date":1686154341,"post_id":76423858,"comment_id":134761257,"body_markdown":"Elliot frisch I don&#39;t live in the US and am not a US citizen, why should I register there? Bro))","body":"Elliot frisch I don&#39;t live in the US and am not a US citizen, why should I register there? Bro))"},{"owner":{"account_id":24876185,"reputation":1,"user_id":18750001,"display_name":"germes mercury"},"score":0,"creation_date":1686154484,"post_id":76423858,"comment_id":134761280,"body_markdown":"Elliot Frisch I am ready to send you two thousand coins if you go to my discord and we can discuss with you what you mean.","body":"Elliot Frisch I am ready to send you two thousand coins if you go to my discord and we can discuss with you what you mean."}],"owner":{"account_id":24876185,"reputation":1,"user_id":18750001,"display_name":"germes mercury"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686144701,"creation_date":1686144701,"question_id":76423858,"body_markdown":"I have a blockchain system and I have a problem. The fact is that all participants mine the block on their computers and transfer it to the central servers, they also download the blockchain from there in order to continue mining from the current block. I am forced to synchronize the method, because if the file is updated and someone asks for a new version, then it may no longer be up to date. How can I make it so that until they change the file, several people can download at the same time, but as soon as the update begins, the rest continue to wait until the file is completely updated.\r\nReady to transfer coins if you are ready to participate\r\nfull code in github     https://github.com/CorporateFounder/unitedStates_final                  https://github.com/CorporateFounder/unitedStates_storage     my discord https://discord.gg/J5KF5NPJ\r\n    \r\n\r\nI expect this way of storing, when one member updates the code, then other members should not download, if the code is updated, then all members should have access to download.","title":"Multiple people must be downloading files at the same time unless there is an update","body":"<p>I have a blockchain system and I have a problem. The fact is that all participants mine the block on their computers and transfer it to the central servers, they also download the blockchain from there in order to continue mining from the current block. I am forced to synchronize the method, because if the file is updated and someone asks for a new version, then it may no longer be up to date. How can I make it so that until they change the file, several people can download at the same time, but as soon as the update begins, the rest continue to wait until the file is completely updated.\nReady to transfer coins if you are ready to participate\nfull code in github     <a href=\"https://github.com/CorporateFounder/unitedStates_final\" rel=\"nofollow noreferrer\">https://github.com/CorporateFounder/unitedStates_final</a>                  <a href=\"https://github.com/CorporateFounder/unitedStates_storage\" rel=\"nofollow noreferrer\">https://github.com/CorporateFounder/unitedStates_storage</a>     my discord <a href=\"https://discord.gg/J5KF5NPJ\" rel=\"nofollow noreferrer\">https://discord.gg/J5KF5NPJ</a></p>\n<p>I expect this way of storing, when one member updates the code, then other members should not download, if the code is updated, then all members should have access to download.</p>\n"},{"tags":["java","delay"],"comments":[{"owner":{"account_id":4311695,"reputation":2056,"user_id":6472447,"display_name":"Ahmed I. Elsayed"},"score":0,"creation_date":1685736365,"post_id":76393189,"comment_id":134708337,"body_markdown":"`.sleep(timeInMs)`","body":"<code>.sleep(timeInMs)</code>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1685736373,"post_id":76393189,"comment_id":134708339,"body_markdown":"In short, no. Because (if for no other reason) the user might end the program immediately. What should happen then?","body":"In short, no. Because (if for no other reason) the user might end the program immediately. What should happen then?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685736834,"post_id":76393189,"comment_id":134708416,"body_markdown":"Just add the _throws_ declaration to your method declaration.  This will remove the requirement to have _Thread.sleep_ within a _try-catch_.","body":"Just add the <i>throws</i> declaration to your method declaration.  This will remove the requirement to have <i>Thread.sleep</i> within a <i>try-catch</i>."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685760002,"post_id":76393189,"comment_id":134710394,"body_markdown":"@ElliottFrisch That comment is very misleading. `InterruptedException` __cannot__ be triggered by the user directly, e.g. CTRL+C or &#39;nice&#39; killing the app (posix `kill pid`) _does not_ cause InterruptedExceptions. It just hard-kills all threads, but your shutdownhooks will run, and any files registered for deletion on VM termination do get deleted. The ONLY way threads get interrupted if you or some other code you choose to run (given that the JVM doesn&#39;t just do this on its own volition) calls `oneOfYourThreads.interrupt()`.","body":"@ElliottFrisch That comment is very misleading. <code>InterruptedException</code> <b>cannot</b> be triggered by the user directly, e.g. CTRL+C or &#39;nice&#39; killing the app (posix <code>kill pid</code>) <i>does not</i> cause InterruptedExceptions. It just hard-kills all threads, but your shutdownhooks will run, and any files registered for deletion on VM termination do get deleted. The ONLY way threads get interrupted if you or some other code you choose to run (given that the JVM doesn&#39;t just do this on its own volition) calls <code>oneOfYourThreads.interrupt()</code>."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1685771775,"post_id":76393189,"comment_id":134711015,"body_markdown":"@rzwitserloot [Sauce](https://stackoverflow.com/a/11761627/2970947).","body":"@rzwitserloot <a href=\"https://stackoverflow.com/a/11761627/2970947\">Sauce</a>."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685793903,"post_id":76393189,"comment_id":134712835,"body_markdown":"@ElliottFrisch that &#39;sauce&#39; confirms what I said and confirms your comment is misleading. I&#39;d say &quot;Sauce&quot; is.. just piling on with the misleading commentary.","body":"@ElliottFrisch that &#39;sauce&#39; confirms what I said and confirms your comment is misleading. I&#39;d say &quot;Sauce&quot; is.. just piling on with the misleading commentary."}],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1685736690,"creation_date":1685736528,"answer_id":76393212,"question_id":76393189,"body_markdown":"It doesn&#39;t throw an interrupted exception - it potentially can so at runtime. So you need to wrap it. \r\n\r\nYou can create a function that has the try catch and call that instead of writing try catch each time like\r\n```\r\nvoid dontCareSleep(long time) {\r\ntry { Thread.sleep(time) } catch (Exception e) {}\r\n}\r\n```\r\nNow you can use this method everywhere \r\n\r\nAnother option is to use kotlin instead where the sleep doesn&#39;t need to be try caught everytime","title":"How to create a delay without try/catch?","body":"<p>It doesn't throw an interrupted exception - it potentially can so at runtime. So you need to wrap it.</p>\n<p>You can create a function that has the try catch and call that instead of writing try catch each time like</p>\n<pre><code>void dontCareSleep(long time) {\ntry { Thread.sleep(time) } catch (Exception e) {}\n}\n</code></pre>\n<p>Now you can use this method everywhere</p>\n<p>Another option is to use kotlin instead where the sleep doesn't need to be try caught everytime</p>\n"},{"tags":[],"owner":{"account_id":6137187,"reputation":470,"user_id":4785618,"display_name":"radschapur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685738158,"creation_date":1685738158,"answer_id":76393339,"question_id":76393189,"body_markdown":"Depending on why exactly you are sleeping, there might be better alternatives than Thread.sleep().\r\n\r\nIn case you are waiting for some asynchronous operation to complete in a test, I found tools like awaitility to be a nice choice, especially for testing.\r\n\r\nBasically, instead of\r\n```\r\nlongRunningOperation();\r\n\r\nThread.sleep();\r\nassertTrue(getResult());\r\n```\r\n\r\nYou would have\r\n```\r\nawait()\r\n  .atMost(Duration.ofMillis(x))\r\n  .pollInterval(Duration.ofMillis(y))\r\n  .until(getResult());\r\n```\r\n\r\nIf the time is up, it&#39;ll throw an exception, but it&#39;s a RuntimeException, so you don&#39;t have to catch it.\r\n\r\nI recently wrote an article about this topic if you are interested in more: https://link.medium.com/pJGQaQLnjAb","title":"How to create a delay without try/catch?","body":"<p>Depending on why exactly you are sleeping, there might be better alternatives than Thread.sleep().</p>\n<p>In case you are waiting for some asynchronous operation to complete in a test, I found tools like awaitility to be a nice choice, especially for testing.</p>\n<p>Basically, instead of</p>\n<pre><code>longRunningOperation();\n\nThread.sleep();\nassertTrue(getResult());\n</code></pre>\n<p>You would have</p>\n<pre><code>await()\n  .atMost(Duration.ofMillis(x))\n  .pollInterval(Duration.ofMillis(y))\n  .until(getResult());\n</code></pre>\n<p>If the time is up, it'll throw an exception, but it's a RuntimeException, so you don't have to catch it.</p>\n<p>I recently wrote an article about this topic if you are interested in more: <a href=\"https://link.medium.com/pJGQaQLnjAb\" rel=\"nofollow noreferrer\">https://link.medium.com/pJGQaQLnjAb</a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685760891,"creation_date":1685738815,"answer_id":76393388,"question_id":76393189,"body_markdown":"Just write a method or lambda. You can put it in your library.\r\n```\r\npublic static void sleep(long mill){\r\n  try {\r\n     Thread.sleep(mill);\r\n  } catch(InterruptedException e){\r\n       Thread.currentThread()\r\n             .interrupt();\r\n  }\r\n}\r\n```\r\nOr create a lambda.  Here a `LongConsumer` is used.\r\n```\r\nLongConsumer sleep = (delay) -&gt; {\r\n     try {\r\n         Thread.sleep(delay);\r\n     } catch (InterruptedException e) { \r\n        Thread.currentThread()\r\n              .interrupt(); \r\n };\r\n```\r\nAnd invoke it as follows:\r\n```\r\nsleep.accept(1000);","title":"How to create a delay without try/catch?","body":"<p>Just write a method or lambda. You can put it in your library.</p>\n<pre><code>public static void sleep(long mill){\n  try {\n     Thread.sleep(mill);\n  } catch(InterruptedException e){\n       Thread.currentThread()\n             .interrupt();\n  }\n}\n</code></pre>\n<p>Or create a lambda.  Here a <code>LongConsumer</code> is used.</p>\n<pre><code>LongConsumer sleep = (delay) -&gt; {\n     try {\n         Thread.sleep(delay);\n     } catch (InterruptedException e) { \n        Thread.currentThread()\n              .interrupt(); \n };\n</code></pre>\n<p>And invoke it as follows:</p>\n<pre><code>sleep.accept(1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685760323,"creation_date":1685760323,"answer_id":76394362,"question_id":76393189,"body_markdown":"Anytime you want to do a certain task many times, you write a method, instead of copy/pasting the same code over and over. &quot;Just sleep for a little bit&quot; sounds like a very simple job but it really isn&#39;t, so, into a method it goes!\r\n\r\n```\r\n/**\r\n * Pauses this thread for {@code millis} milliseconds.\r\n *\r\n * If interrupted, the thread restarts immediately, and the\r\n * interruption flag remains set.\r\n */\r\npublic static void sleep(long millis) {\r\n  try {\r\n    Thread.sleep(millis);\r\n  } catch (InterruptedException e) {\r\n    // Best course of action is to stop sleeping but propagate\r\n    // the interruption so the caller gets to deal with it.\r\n    Thread.currentThread().interrupt();\r\n  }\r\n}\r\n\r\n","title":"How to create a delay without try/catch?","body":"<p>Anytime you want to do a certain task many times, you write a method, instead of copy/pasting the same code over and over. &quot;Just sleep for a little bit&quot; sounds like a very simple job but it really isn't, so, into a method it goes!</p>\n<pre><code>/**\n * Pauses this thread for {@code millis} milliseconds.\n *\n * If interrupted, the thread restarts immediately, and the\n * interruption flag remains set.\n */\npublic static void sleep(long millis) {\n  try {\n    Thread.sleep(millis);\n  } catch (InterruptedException e) {\n    // Best course of action is to stop sleeping but propagate\n    // the interruption so the caller gets to deal with it.\n    Thread.currentThread().interrupt();\n  }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685779131,"creation_date":1685779131,"answer_id":76395099,"question_id":76393189,"body_markdown":"There are two methods:\r\n\r\n### 1) Coroutines\r\n\r\nTry using `coroutines` to work with. It&#39;s easy and will not block your main thread\r\n\r\nCall function\r\n\r\n    addDelay(500) {\r\n        // showToast\r\n    }\r\n\r\nDeclare function\r\n\r\n    fun addDelay(timeMillis: Int = 1000, callback: () -&gt; Unit) {\r\n        CoroutineScope(Dispatchers.Main).launch {\r\n            delay(timeMillis.toLong())\r\n            callback.invoke()\r\n        }\r\n    }\r\n\r\n### 2) Handler\r\n\r\nCall function\r\n\r\n    withDelay(500) {\r\n        // showToast\r\n    }\r\n\r\nDeclare function\r\n\r\n    fun withDelay(timeMillis: Int = 1000, callback: () -&gt; Unit) {\r\n        Handler(Looper.getMainLooper()).postDelayed(block, timeMillis)\r\n    }\r\n\r\n","title":"How to create a delay without try/catch?","body":"<p>There are two methods:</p>\n<h3>1) Coroutines</h3>\n<p>Try using <code>coroutines</code> to work with. It's easy and will not block your main thread</p>\n<p>Call function</p>\n<pre><code>addDelay(500) {\n    // showToast\n}\n</code></pre>\n<p>Declare function</p>\n<pre><code>fun addDelay(timeMillis: Int = 1000, callback: () -&gt; Unit) {\n    CoroutineScope(Dispatchers.Main).launch {\n        delay(timeMillis.toLong())\n        callback.invoke()\n    }\n}\n</code></pre>\n<h3>2) Handler</h3>\n<p>Call function</p>\n<pre><code>withDelay(500) {\n    // showToast\n}\n</code></pre>\n<p>Declare function</p>\n<pre><code>fun withDelay(timeMillis: Int = 1000, callback: () -&gt; Unit) {\n    Handler(Looper.getMainLooper()).postDelayed(block, timeMillis)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16215668,"reputation":9,"user_id":11708570,"display_name":"Vladmix6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686144466,"creation_date":1686144466,"answer_id":76423815,"question_id":76393189,"body_markdown":"There is a even better option without using Thread.sleep() (which creates flakiness especially in tests) --&gt; use Awaitility library, specially created to handle asynchronous calls.\r\n\r\nhere is an example for what are you trying to accomplish:\r\n\r\n    await().pollDelay(1000, MILLISECONDS).untilAsserted(() -&gt; Assert.assertTrue(true));\r\n\r\nIt will check the assert (which is always true) after a delay of 1s.\r\n\r\nYou can create a method for it if you need to do it multiple times with different delay values:\r\n\r\n        public void sleep( int delayValue) {\r\n    \r\n            await().pollDelay(delayValue, MILLISECONDS).untilAsserted(() -&gt; Assert.assertTrue(true));\r\n    }\r\n\r\nThis library offers solutions also for other scenarios, for example if you want to wait for method to be executed first you can do:\r\n\r\n    @Test\r\n    public void updatesCustomerStatus() {\r\n        // Publish an asynchronous message to a broker (e.g. RabbitMQ):\r\n        messageBroker.publishMessage(updateCustomerStatusMessage);\r\n    \r\n        // Awaitility lets you wait until the asynchronous operation completes:\r\n        await().atMost(5, SECONDS).until(customerStatusIsUpdated());\r\n        \r\n    }\r\n\r\nSee more usage scenarios on their website.","title":"How to create a delay without try/catch?","body":"<p>There is a even better option without using Thread.sleep() (which creates flakiness especially in tests) --&gt; use Awaitility library, specially created to handle asynchronous calls.</p>\n<p>here is an example for what are you trying to accomplish:</p>\n<pre><code>await().pollDelay(1000, MILLISECONDS).untilAsserted(() -&gt; Assert.assertTrue(true));\n</code></pre>\n<p>It will check the assert (which is always true) after a delay of 1s.</p>\n<p>You can create a method for it if you need to do it multiple times with different delay values:</p>\n<pre><code>    public void sleep( int delayValue) {\n\n        await().pollDelay(delayValue, MILLISECONDS).untilAsserted(() -&gt; Assert.assertTrue(true));\n}\n</code></pre>\n<p>This library offers solutions also for other scenarios, for example if you want to wait for method to be executed first you can do:</p>\n<pre><code>@Test\npublic void updatesCustomerStatus() {\n    // Publish an asynchronous message to a broker (e.g. RabbitMQ):\n    messageBroker.publishMessage(updateCustomerStatusMessage);\n\n    // Awaitility lets you wait until the asynchronous operation completes:\n    await().atMost(5, SECONDS).until(customerStatusIsUpdated());\n    \n}\n</code></pre>\n<p>See more usage scenarios on their website.</p>\n"}],"owner":{"account_id":28739497,"reputation":1,"user_id":22009930,"display_name":"Zach"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":6,"score":-1,"last_activity_date":1686144466,"creation_date":1685736249,"question_id":76393189,"body_markdown":"Is there a way to create a delay without having to use try/catch?\r\n\r\nI tried using the `Thread.sleep(5000);`and `wait(5);` commands but it keeps throwing a `InterruptedException` error unless I use try/catch. I want to be able to use simple commands because of how much I use the commands.","title":"How to create a delay without try/catch?","body":"<p>Is there a way to create a delay without having to use try/catch?</p>\n<p>I tried using the <code>Thread.sleep(5000);</code>and <code>wait(5);</code> commands but it keeps throwing a <code>InterruptedException</code> error unless I use try/catch. I want to be able to use simple commands because of how much I use the commands.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1686132928,"post_id":76422145,"comment_id":134756220,"body_markdown":"Are you using Spring Boot or just plain Spring?","body":"Are you using Spring Boot or just plain Spring?"},{"owner":{"account_id":5364882,"reputation":621,"user_id":4275167,"accept_rate":22,"display_name":"JCvanDamme"},"score":0,"creation_date":1686139250,"post_id":76422145,"comment_id":134757591,"body_markdown":"Plain Spring MVC","body":"Plain Spring MVC"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1686140555,"post_id":76422145,"comment_id":134757851,"body_markdown":"Note that the mentioned website is mainly about Spring Boot. Did you try defining the `mvc:resources` tag in a `-servlet.xml` file instead of the `web.context.xml`?","body":"Note that the mentioned website is mainly about Spring Boot. Did you try defining the <code>mvc:resources</code> tag in a <code>-servlet.xml</code> file instead of the <code>web.context.xml</code>?"},{"owner":{"account_id":5364882,"reputation":621,"user_id":4275167,"accept_rate":22,"display_name":"JCvanDamme"},"score":0,"creation_date":1686141208,"post_id":76422145,"comment_id":134757980,"body_markdown":"On the mentioned website only section 2 is about Spring Boot. Section 3 and section 4 apply to Spring MVC. What is the full name of the `-servlet.xml` file? I don&#39;t think I have such a file.","body":"On the mentioned website only section 2 is about Spring Boot. Section 3 and section 4 apply to Spring MVC. What is the full name of the <code>-servlet.xml</code> file? I don&#39;t think I have such a file."}],"answers":[{"tags":[],"owner":{"account_id":5364882,"reputation":621,"user_id":4275167,"accept_rate":22,"display_name":"JCvanDamme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686144279,"creation_date":1686144279,"answer_id":76423786,"question_id":76422145,"body_markdown":"Spring MVC serves resources from `src/main/webapp/resources/` (and not `src/main/resources/`) per default. No additional configuration i. e. the `&lt;mvc:resources&gt;` tag mentioned above, is required. \r\n\r\nI did not find the description of this behavior in the official Spring reference. ","title":"Serving static resources with Spring MVC","body":"<p>Spring MVC serves resources from <code>src/main/webapp/resources/</code> (and not <code>src/main/resources/</code>) per default. No additional configuration i. e. the <code>&lt;mvc:resources&gt;</code> tag mentioned above, is required.</p>\n<p>I did not find the description of this behavior in the official Spring reference.</p>\n"}],"owner":{"account_id":5364882,"reputation":621,"user_id":4275167,"accept_rate":22,"display_name":"JCvanDamme"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686144279,"creation_date":1686132416,"question_id":76422145,"body_markdown":"My goal is to configure the Spring MVC dispatcher servlet to serve static resources under /resources/ as described in https://www.baeldung.com/spring-mvc-static-resources. \r\n\r\nWith the configuration below and placing an index.html under any of `/resources`, `/resources/resources/` or `WEB-INF/resources` I still get a http 404 not found when sending a GET to `/resources/index.html`. \r\n\r\nI am using the latest Spring 6.0.9. I also tried the annotation-based configuration as described under 4.2 and I can confirm that the code is executed during startup but the result is the same 404 not found. \r\n\r\nBesides serving static resources the dynamic part of the Spring MVC application (Controllers etc.) works as expected. \r\n\r\n**web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n    \r\n    &lt;!DOCTYPE web-app PUBLIC\r\n            &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n            &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\r\n    \r\n    &lt;web-app&gt;\r\n        &lt;display-name&gt;Backend Application&lt;/display-name&gt;\r\n    \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n                classpath:root-context.xml\r\n            &lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;Spring Dispatcher Servlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n                &lt;param-value&gt;classpath:web-context.xml&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;Spring Dispatcher Servlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n**root-context.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n            https://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/context\r\n            http://www.springframework.org/schema/context/spring-context.xsd\r\n            http://www.springframework.org/schema/jee\r\n            http://www.springframework.org/schema/jee/spring-jee-3.0.xsd&quot;&gt;\r\n    \r\n      &lt;context:component-scan base-package=&quot;my.application&quot;/&gt;\r\n    \r\n    &lt;!-- database configuration --&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n**web-context.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans\r\n            https://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/mvc\r\n            https://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n            http://www.springframework.org/schema/context\r\n            http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n        &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot;/&gt;\r\n        &lt;mvc:annotation-driven/&gt;\r\n        &lt;context:component-scan base-package=&quot;my.application&quot;/&gt;\r\n        &lt;mvc:cors&gt;\r\n            &lt;mvc:mapping path=&quot;/**&quot;/&gt;\r\n        &lt;/mvc:cors&gt;\r\n    &lt;/beans&gt;","title":"Serving static resources with Spring MVC","body":"<p>My goal is to configure the Spring MVC dispatcher servlet to serve static resources under /resources/ as described in <a href=\"https://www.baeldung.com/spring-mvc-static-resources\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-static-resources</a>.</p>\n<p>With the configuration below and placing an index.html under any of <code>/resources</code>, <code>/resources/resources/</code> or <code>WEB-INF/resources</code> I still get a http 404 not found when sending a GET to <code>/resources/index.html</code>.</p>\n<p>I am using the latest Spring 6.0.9. I also tried the annotation-based configuration as described under 4.2 and I can confirm that the code is executed during startup but the result is the same 404 not found.</p>\n<p>Besides serving static resources the dynamic part of the Spring MVC application (Controllers etc.) works as expected.</p>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\n\n&lt;!DOCTYPE web-app PUBLIC\n        &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n        &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\n\n&lt;web-app&gt;\n    &lt;display-name&gt;Backend Application&lt;/display-name&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            classpath:root-context.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Spring Dispatcher Servlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;classpath:web-context.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Spring Dispatcher Servlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>root-context.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/jee\n        http://www.springframework.org/schema/jee/spring-jee-3.0.xsd&quot;&gt;\n\n  &lt;context:component-scan base-package=&quot;my.application&quot;/&gt;\n\n&lt;!-- database configuration --&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p><strong>web-context.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/mvc\n        https://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot;/&gt;\n    &lt;mvc:annotation-driven/&gt;\n    &lt;context:component-scan base-package=&quot;my.application&quot;/&gt;\n    &lt;mvc:cors&gt;\n        &lt;mvc:mapping path=&quot;/**&quot;/&gt;\n    &lt;/mvc:cors&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686142471,"post_id":76423477,"comment_id":134758290,"body_markdown":"Have you read the exception? It does call the method but somehow it needs a proxy for the `UpdatingBatch` (due to the step scope). For this it needs either `public` or `protected` constructors on the class.","body":"Have you read the exception? It does call the method but somehow it needs a proxy for the <code>UpdatingBatch</code> (due to the step scope). For this it needs either <code>public</code> or <code>protected</code> constructors on the class."},{"owner":{"account_id":4423449,"reputation":109,"user_id":3602614,"accept_rate":50,"display_name":"apboutos"},"score":0,"creation_date":1686142699,"post_id":76423477,"comment_id":134758339,"body_markdown":"M.Deinum yes, I know this. The UpdatingBatch class has no public constructors, but It is a dependency class and I have no way of changing it. Is there no way around this?","body":"M.Deinum yes, I know this. The UpdatingBatch class has no public constructors, but It is a dependency class and I have no way of changing it. Is there no way around this?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686142771,"post_id":76423477,"comment_id":134758362,"body_markdown":"As I stated you need a proxy due to the stepscope, so no there is no way around this, unless removing the step scope is an option but it probably isn&#39;t.","body":"As I stated you need a proxy due to the stepscope, so no there is no way around this, unless removing the step scope is an option but it probably isn&#39;t."},{"owner":{"account_id":461096,"reputation":59403,"user_id":862594,"accept_rate":83,"display_name":"nickb"},"score":0,"creation_date":1686142852,"post_id":76423477,"comment_id":134758384,"body_markdown":"Correct, the real issue here is `@StepScope`, which is equivalent to `@Scope(value=&quot;step&quot;, proxyMode=TARGET_CLASS)`, causing the necessity of the proxy.","body":"Correct, the real issue here is <code>@StepScope</code>, which is equivalent to <code>@Scope(value=&quot;step&quot;, proxyMode=TARGET_CLASS)</code>, causing the necessity of the proxy."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686144254,"creation_date":1686144254,"answer_id":76423779,"question_id":76423477,"body_markdown":"As stated in the comments the @Bean and @StepScope won&#39;t work in your case. As you can&#39;t provide a constructor in a third-party class.\r\n\r\nInstead of the above you can create a Component class with a field of type UpdatingBatch and implement a StepListener to create a new instance of UpdatingBatch before each Step run.","title":"Cannot create a Spring bean through a factory method","body":"<p>As stated in the comments the @Bean and @StepScope won't work in your case. As you can't provide a constructor in a third-party class.</p>\n<p>Instead of the above you can create a Component class with a field of type UpdatingBatch and implement a StepListener to create a new instance of UpdatingBatch before each Step run.</p>\n"}],"owner":{"account_id":4423449,"reputation":109,"user_id":3602614,"accept_rate":50,"display_name":"apboutos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686144254,"creation_date":1686142090,"question_id":76423477,"body_markdown":"I have the following config class \r\n```\r\n@Configuration\r\npublic class UpdatingBatchConfig {\r\n\r\n    @Bean\r\n    @StepScope\r\n    public UpdatingBatch updatingBatch(OSRefEnabledFileNetConnectionContext context) {\r\n        return UpdatingBatch.createUpdatingBatchInstance(context,Refreshmode.OFF);\r\n    }\r\n}\r\n```\r\n\r\nWhen I run the application I get the following error \r\n```\r\nCould not generate CGLIB subclass of class com.filenet.api.core.UpdatingBatch:\r\nCaused by: java.lang.IllegalArgumentException: No visible constructors in class com.filenet.api.core.UpdatingBatch\r\n```\r\nI do not understand why this is happening. Why is Spring not calling the updatingBatch() method whenever it requires a new UpdatingBatch instance and it is attempting to call the constructor? Isn&#39;t this the purpose of decorating methods with the @Bean annotation?","title":"Cannot create a Spring bean through a factory method","body":"<p>I have the following config class</p>\n<pre><code>@Configuration\npublic class UpdatingBatchConfig {\n\n    @Bean\n    @StepScope\n    public UpdatingBatch updatingBatch(OSRefEnabledFileNetConnectionContext context) {\n        return UpdatingBatch.createUpdatingBatchInstance(context,Refreshmode.OFF);\n    }\n}\n</code></pre>\n<p>When I run the application I get the following error</p>\n<pre><code>Could not generate CGLIB subclass of class com.filenet.api.core.UpdatingBatch:\nCaused by: java.lang.IllegalArgumentException: No visible constructors in class com.filenet.api.core.UpdatingBatch\n</code></pre>\n<p>I do not understand why this is happening. Why is Spring not calling the updatingBatch() method whenever it requires a new UpdatingBatch instance and it is attempting to call the constructor? Isn't this the purpose of decorating methods with the @Bean annotation?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686135990,"post_id":76422620,"comment_id":134756868,"body_markdown":"I believe this is the relevant docs: https://kotlinlang.org/docs/returns.html#return-to-labels","body":"I believe this is the relevant docs: <a href=\"https://kotlinlang.org/docs/returns.html#return-to-labels\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/returns.html#return-to-labels</a>"}],"answers":[{"tags":[],"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686136227,"creation_date":1686136227,"answer_id":76422678,"question_id":76422620,"body_markdown":"Kotlin has to know what block `return` refers to. It&#39;s more strict than in Java. Example:\r\n\r\n```kotlin\r\nfun test1() {\r\n    run {\r\n        //This return returns only from this run block\r\n        return@run\r\n    }\r\n    \r\n    run name@{\r\n        //We can also add a custom name to this block\r\n        return@name\r\n    }\r\n    \r\n    run {\r\n        //This return returns from the whole function test1!\r\n        return\r\n    }\r\n    \r\n    run {\r\n        //This never runs, because we returned in the previous run block\r\n    }\r\n}\r\n```\r\n\r\nRead more about it [here][1]\r\n\r\n  [1]: https://kotlinlang.org/docs/returns.html","title":"Why I am getting this &quot;This function must return a value of type View&quot; error despite the interface function is returning void?","body":"<p>Kotlin has to know what block <code>return</code> refers to. It's more strict than in Java. Example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun test1() {\n    run {\n        //This return returns only from this run block\n        return@run\n    }\n    \n    run name@{\n        //We can also add a custom name to this block\n        return@name\n    }\n    \n    run {\n        //This return returns from the whole function test1!\n        return\n    }\n    \n    run {\n        //This never runs, because we returned in the previous run block\n    }\n}\n</code></pre>\n<p>Read more about it <a href=\"https://kotlinlang.org/docs/returns.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686144038,"creation_date":1686144038,"answer_id":76423751,"question_id":76422620,"body_markdown":"Returns from inside lambda functions must be labeled to distinguish them from returns from the outer function that the lambda is declared within. Java doesn&#39;t need this restriction because it doesn&#39;t have inline lambdas, so you can&#39;t return from the outer function from within a lambda--nothing to distinguish.\r\n\r\nEven though a listener isn&#39;t an inline lambda, the restriction is still there for consistent syntax throughout the language.","title":"Why I am getting this &quot;This function must return a value of type View&quot; error despite the interface function is returning void?","body":"<p>Returns from inside lambda functions must be labeled to distinguish them from returns from the outer function that the lambda is declared within. Java doesn't need this restriction because it doesn't have inline lambdas, so you can't return from the outer function from within a lambda--nothing to distinguish.</p>\n<p>Even though a listener isn't an inline lambda, the restriction is still there for consistent syntax throughout the language.</p>\n"}],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76422678,"answer_count":2,"score":0,"last_activity_date":1686144038,"creation_date":1686135765,"question_id":76422620,"body_markdown":"I have the following function without issue.\r\n\r\n    calendarSection.onMonthChangeListener = CalendarView.OnMonthChangeListener { year, month -&gt;\r\n        val string = getHumanReadableMonthYearString(year, month)\r\n\r\n        (activity as? MainActivity)?.setToolbarTextView(string)\r\n    }\r\n\r\nIf I refactor the code to the following with early return\r\n\r\n    calendarSection.onMonthChangeListener = CalendarView.OnMonthChangeListener { year, month -&gt;\r\n        val mainActivity = activity as? MainActivity ?: return\r\n\r\n        val string = getHumanReadableMonthYearString(year, month)\r\n\r\n        mainActivity.setToolbarTextView(string)\r\n    }\r\n\r\nI am getting the following error at the early return statement.\r\n\r\n&gt; &quot;This function must return a value of type View&quot;\r\n\r\nAfter several trial-n-error, I figure out I need to write the code in the following way\r\n\r\n    calendarSection.onMonthChangeListener = CalendarView.OnMonthChangeListener { year, month -&gt;\r\n        val mainActivity = activity as? MainActivity ?: return@OnMonthChangeListener\r\n\r\n        val string = getHumanReadableMonthYearString(year, month)\r\n\r\n        mainActivity.setToolbarTextView(string)\r\n    }\r\n\r\nMay I know why is it so?\r\n\r\nThe interface is a legacy Java interface. It is returning void. Hence, when compiler mentions I should return `View`, I am getting confused.\r\n\r\n    public class CalendarView\r\n        public interface OnMonthChangeListener {\r\n            void onMonthChange(int year, int month);\r\n        }\r\n    }","title":"Why I am getting this &quot;This function must return a value of type View&quot; error despite the interface function is returning void?","body":"<p>I have the following function without issue.</p>\n<pre><code>calendarSection.onMonthChangeListener = CalendarView.OnMonthChangeListener { year, month -&gt;\n    val string = getHumanReadableMonthYearString(year, month)\n\n    (activity as? MainActivity)?.setToolbarTextView(string)\n}\n</code></pre>\n<p>If I refactor the code to the following with early return</p>\n<pre><code>calendarSection.onMonthChangeListener = CalendarView.OnMonthChangeListener { year, month -&gt;\n    val mainActivity = activity as? MainActivity ?: return\n\n    val string = getHumanReadableMonthYearString(year, month)\n\n    mainActivity.setToolbarTextView(string)\n}\n</code></pre>\n<p>I am getting the following error at the early return statement.</p>\n<blockquote>\n<p>&quot;This function must return a value of type View&quot;</p>\n</blockquote>\n<p>After several trial-n-error, I figure out I need to write the code in the following way</p>\n<pre><code>calendarSection.onMonthChangeListener = CalendarView.OnMonthChangeListener { year, month -&gt;\n    val mainActivity = activity as? MainActivity ?: return@OnMonthChangeListener\n\n    val string = getHumanReadableMonthYearString(year, month)\n\n    mainActivity.setToolbarTextView(string)\n}\n</code></pre>\n<p>May I know why is it so?</p>\n<p>The interface is a legacy Java interface. It is returning void. Hence, when compiler mentions I should return <code>View</code>, I am getting confused.</p>\n<pre><code>public class CalendarView\n    public interface OnMonthChangeListener {\n        void onMonthChange(int year, int month);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","swagger-codegen"],"answers":[{"tags":[],"owner":{"account_id":2128462,"reputation":5739,"user_id":1889928,"accept_rate":89,"display_name":"yyunikov"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1498215460,"creation_date":1498215460,"answer_id":44719746,"question_id":44697883,"body_markdown":"Try to add a following filter (you can customize it for you own needs and methods supported):\r\n\r\n    @Component\r\n    public class CorsFilter extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\r\n                                        final FilterChain filterChain) throws ServletException, IOException {\r\n            response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT, PATCH, HEAD&quot;);\r\n            response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers&quot;);\r\n            response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Access-Control-Allow-Origin, Access-Control-Allow-Credentials&quot;);\r\n            response.addHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.addIntHeader(&quot;Access-Control-Max-Age&quot;, 10);\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }","title":"Can you completely disable CORS support in Spring?","body":"<p>Try to add a following filter (you can customize it for you own needs and methods supported):</p>\n\n<pre><code>@Component\npublic class CorsFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\n                                    final FilterChain filterChain) throws ServletException, IOException {\n        response.addHeader(\"Access-Control-Allow-Origin\", \"*\");\n        response.addHeader(\"Access-Control-Allow-Methods\", \"GET, POST, DELETE, PUT, PATCH, HEAD\");\n        response.addHeader(\"Access-Control-Allow-Headers\", \"Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers\");\n        response.addHeader(\"Access-Control-Expose-Headers\", \"Access-Control-Allow-Origin, Access-Control-Allow-Credentials\");\n        response.addHeader(\"Access-Control-Allow-Credentials\", \"true\");\n        response.addIntHeader(\"Access-Control-Max-Age\", 10);\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1236184,"reputation":11230,"user_id":1199731,"accept_rate":69,"display_name":"d0x"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1507672586,"creation_date":1507669931,"answer_id":46676114,"question_id":44697883,"body_markdown":"From their [documentation][1]:\r\n\r\nIf you are using Spring Web MVC\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tpublic void addCorsMappings(CorsRegistry registry) {\r\n    \t\tregistry.addMapping(&quot;/**&quot;)\r\n                    .allowedMethods(&quot;HEAD&quot;, &quot;GET&quot;, &quot;PUT&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;);\r\n    \t}\r\n    }\r\n\r\nIf you are using Spring Boot:\r\n\r\n    @Configuration\r\n    public class MyConfiguration {\r\n    \r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer() {\r\n            return new WebMvcConfigurerAdapter() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n                    registry.addMapping(&quot;/**&quot;)\r\n                            .allowedMethods(&quot;HEAD&quot;, &quot;GET&quot;, &quot;PUT&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n\r\nYuriy Yunikov answer is correct as well. But I don&#39;t like the &quot;custom&quot; filter.\r\n\r\nIn case you have Spring Web Security which causes you trouble. Check [this][2] SO Answer.\r\n\r\n\r\n  [1]: https://spring.io/blog/2015/06/08/cors-support-in-spring-framework#javaconfig\r\n  [2]: https://stackoverflow.com/questions/40418441/spring-security-cors-filter","title":"Can you completely disable CORS support in Spring?","body":"<p>From their <a href=\"https://spring.io/blog/2015/06/08/cors-support-in-spring-framework#javaconfig\" rel=\"noreferrer\">documentation</a>:</p>\n\n<p>If you are using Spring Web MVC</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\")\n                .allowedMethods(\"HEAD\", \"GET\", \"PUT\", \"POST\", \"DELETE\", \"PATCH\");\n    }\n}\n</code></pre>\n\n<p>If you are using Spring Boot:</p>\n\n<pre><code>@Configuration\npublic class MyConfiguration {\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurerAdapter() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(\"/**\")\n                        .allowedMethods(\"HEAD\", \"GET\", \"PUT\", \"POST\", \"DELETE\", \"PATCH\");\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Yuriy Yunikov answer is correct as well. But I don't like the \"custom\" filter.</p>\n\n<p>In case you have Spring Web Security which causes you trouble. Check <a href=\"https://stackoverflow.com/questions/40418441/spring-security-cors-filter\">this</a> SO Answer.</p>\n"},{"tags":[],"owner":{"account_id":331432,"reputation":3297,"user_id":656094,"accept_rate":40,"display_name":"Panthro"},"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1588752691,"creation_date":1557844791,"answer_id":56133048,"question_id":44697883,"body_markdown":"For newer versions of spring boot:\r\n\r\n```java\r\n@Configuration\r\npublic class WebConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe Kotlin way\r\n\r\n```kotlin\r\n@Configuration\r\nclass WebConfiguration : WebMvcConfigurer {\r\n    override fun addCorsMappings(registry: CorsRegistry) {\r\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;)\r\n    }\r\n}\r\n```\r\n","title":"Can you completely disable CORS support in Spring?","body":"<p>For newer versions of spring boot:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\").allowedMethods(\"*\");\n    }\n}\n\n</code></pre>\n\n<p>The Kotlin way</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\nclass WebConfiguration : WebMvcConfigurer {\n    override fun addCorsMappings(registry: CorsRegistry) {\n        registry.addMapping(\"/**\").allowedMethods(\"*\")\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1565268796,"creation_date":1563385875,"answer_id":57081659,"question_id":44697883,"body_markdown":"I use Spring Security in my Spring Boot application and enable access from specific domains (or from all domains).\r\n\r\nMy *WebSecurityConfig*:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        // ...\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n            // add http.cors()\r\n            http.cors().and().csrf().disable().authorizeRequests()\r\n                    .antMatchers(&quot;/get/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/update/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .httpBasic(); // Authenticate users with HTTP basic authentication\r\n    \r\n            // REST is stateless\r\n            http.sessionManagement()\r\n                   .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        }\r\n    \r\n        // To enable CORS\r\n        @Bean\r\n        public CorsConfigurationSource corsConfigurationSource() {\r\n            final CorsConfiguration configuration = new CorsConfiguration();\r\n    \r\n            configuration.setAllowedOrigins(ImmutableList.of(&quot;https://www.yourdomain.com&quot;)); // www - obligatory\r\n    //        configuration.setAllowedOrigins(ImmutableList.of(&quot;*&quot;));  //set access from all domains\r\n            configuration.setAllowedMethods(ImmutableList.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\r\n            configuration.setAllowCredentials(true);\r\n            configuration.setAllowedHeaders(ImmutableList.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;));\r\n    \r\n            final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    \r\n            return source;\r\n        }\r\n    \r\n    }\r\n\r\nSometimes is needed to clear browser history before testing.\r\n\r\nDetailed information may be seen here:\r\nhttp://appsdeveloperblog.com/crossorigin-restful-web-service/\r\n\r\n-----\r\n\r\nJust for those who use **Angular**. From Angular I run requests to backend:\r\n\r\n    export class HttpService {\r\n    \r\n      username = &#39;..&#39;;\r\n      password = &#39;..&#39;;\r\n      host = environment.api;\r\n      uriUpdateTank = &#39;/update/tank&#39;;\r\n      \r\n      headers: HttpHeaders = new HttpHeaders({\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n        Authorization: &#39;Basic &#39; + btoa(this.username + &#39;:&#39; + this.password)\r\n      });\r\n    \r\n      constructor(private http: HttpClient) {\r\n      }\r\n    \r\n      onInsertTank(tank: Tank) {\r\n        return this.http.put(this.host + this.uriUpdateTank, tank, {\r\n          headers: this.headers\r\n        })\r\n          .pipe(\r\n            catchError(this.handleError)\r\n          );\r\n      }\r\n    ...\r\n    }\r\n\r\n-----\r\n**Old version.**\r\nIn my Spring Boot application no other ways worked then this:\r\n\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class RequestFilter implements Filter {\r\n    \r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) {\r\n    \r\n            HttpServletRequest request = (HttpServletRequest) req;\r\n            HttpServletResponse response = (HttpServletResponse) res;\r\n    \r\n            response.setHeader(&quot;Access-control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, PUT, GET, OPTIONS, DELETE&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;x-requested-with, x-auth-token&quot;);\r\n            response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n    \r\n            if (!(request.getMethod().equalsIgnoreCase(&quot;OPTIONS&quot;))) {\r\n                try {\r\n                    chain.doFilter(req, res);\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Pre-flight&quot;);\r\n                response.setHeader(&quot;Access-Control-Allowed-Methods&quot;, &quot;POST, GET, DELETE&quot;);\r\n                response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n                response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;authorization, content-type,x-auth-token, &quot; +\r\n                        &quot;access-control-request-headers, access-control-request-method, accept, origin, authorization, x-requested-with&quot;);\r\n    \r\n                response.setStatus(HttpServletResponse.SC_OK);\r\n            }\r\n    \r\n        }\r\n    \r\n        public void init(FilterConfig filterConfig) {\r\n        }\r\n    \r\n        public void destroy() {\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Can you completely disable CORS support in Spring?","body":"<p>I use Spring Security in my Spring Boot application and enable access from specific domains (or from all domains).</p>\n\n<p>My <em>WebSecurityConfig</em>:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    // ...\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        // add http.cors()\n        http.cors().and().csrf().disable().authorizeRequests()\n                .antMatchers(\"/get/**\").permitAll()\n                .antMatchers(\"/update/**\").hasRole(\"ADMIN\")\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic(); // Authenticate users with HTTP basic authentication\n\n        // REST is stateless\n        http.sessionManagement()\n               .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n\n    // To enable CORS\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        final CorsConfiguration configuration = new CorsConfiguration();\n\n        configuration.setAllowedOrigins(ImmutableList.of(\"https://www.yourdomain.com\")); // www - obligatory\n//        configuration.setAllowedOrigins(ImmutableList.of(\"*\"));  //set access from all domains\n        configuration.setAllowedMethods(ImmutableList.of(\"GET\", \"POST\", \"PUT\", \"DELETE\"));\n        configuration.setAllowCredentials(true);\n        configuration.setAllowedHeaders(ImmutableList.of(\"Authorization\", \"Cache-Control\", \"Content-Type\"));\n\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(\"/**\", configuration);\n\n        return source;\n    }\n\n}\n</code></pre>\n\n<p>Sometimes is needed to clear browser history before testing.</p>\n\n<p>Detailed information may be seen here:\n<a href=\"http://appsdeveloperblog.com/crossorigin-restful-web-service/\" rel=\"noreferrer\">http://appsdeveloperblog.com/crossorigin-restful-web-service/</a></p>\n\n<hr>\n\n<p>Just for those who use <strong>Angular</strong>. From Angular I run requests to backend:</p>\n\n<pre><code>export class HttpService {\n\n  username = '..';\n  password = '..';\n  host = environment.api;\n  uriUpdateTank = '/update/tank';\n\n  headers: HttpHeaders = new HttpHeaders({\n    'Content-Type': 'application/json',\n    Authorization: 'Basic ' + btoa(this.username + ':' + this.password)\n  });\n\n  constructor(private http: HttpClient) {\n  }\n\n  onInsertTank(tank: Tank) {\n    return this.http.put(this.host + this.uriUpdateTank, tank, {\n      headers: this.headers\n    })\n      .pipe(\n        catchError(this.handleError)\n      );\n  }\n...\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Old version.</strong>\nIn my Spring Boot application no other ways worked then this:</p>\n\n<pre><code>import org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class RequestFilter implements Filter {\n\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) {\n\n        HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n\n        response.setHeader(\"Access-control-Allow-Origin\", \"*\");\n        response.setHeader(\"Access-Control-Allow-Methods\", \"POST, PUT, GET, OPTIONS, DELETE\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"x-requested-with, x-auth-token\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n\n        if (!(request.getMethod().equalsIgnoreCase(\"OPTIONS\"))) {\n            try {\n                chain.doFilter(req, res);\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        } else {\n            System.out.println(\"Pre-flight\");\n            response.setHeader(\"Access-Control-Allowed-Methods\", \"POST, GET, DELETE\");\n            response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n            response.setHeader(\"Access-Control-Allow-Headers\", \"authorization, content-type,x-auth-token, \" +\n                    \"access-control-request-headers, access-control-request-method, accept, origin, authorization, x-requested-with\");\n\n            response.setStatus(HttpServletResponse.SC_OK);\n        }\n\n    }\n\n    public void init(FilterConfig filterConfig) {\n    }\n\n    public void destroy() {\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11713771,"reputation":721,"user_id":9215291,"display_name":"200OK"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1603815931,"creation_date":1595270762,"answer_id":63001937,"question_id":44697883,"body_markdown":"Try this one if you have at least Java 8:\r\n\r\n```java\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().configurationSource(request -&gt; new CorsConfiguration().applyPermitDefaultValues());\r\n    }\r\n}\r\n```","title":"Can you completely disable CORS support in Spring?","body":"<p>Try this one if you have at least Java 8:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().configurationSource(request -&gt; new CorsConfiguration().applyPermitDefaultValues());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18621865,"reputation":101,"user_id":13571829,"display_name":"oasis"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1616446356,"creation_date":1616446356,"answer_id":66753686,"question_id":44697883,"body_markdown":"Previous answers almost all about ENABLING CORS, this worked for me to disable.\r\n\r\n\r\n    \r\n    @Configuration\r\n    public class MyConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.cors().and().csrf().disable();\r\n        }\r\n    \r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer() {\r\n            return new WebMvcConfigurer() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n                    registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n","title":"Can you completely disable CORS support in Spring?","body":"<p>Previous answers almost all about ENABLING CORS, this worked for me to disable.</p>\n<pre><code>@Configuration\npublic class MyConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable();\n    }\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1652764605,"creation_date":1637286165,"answer_id":70028838,"question_id":44697883,"body_markdown":"## Spring MVC\r\n- https://docs.spring.io/spring-framework/docs/5.3.13/reference/html/web.html#mvc-cors-global-java\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;).allowedHeaders(&quot;*&quot;);\r\n    }\r\n}\r\n```\r\n\r\n## Spring Boot\r\n- https://docs.spring.io/spring-boot/docs/2.5.7/reference/htmlsingle/#features.developing-web-applications.spring-mvc.cors\r\n\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\npublic class MyConfiguration {\r\n\r\n    @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(final CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;).allowedHeaders(&quot;*&quot;);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n## Spring Security ( with Spring MVC or Spring Boot)\r\n\r\nIf using Spring Security, set following configuration additionally:\r\n\r\n- https://docs.spring.io/spring-security/site/docs/5.5.3/reference/html5/#cors\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n        // ...\r\n\r\n        // see also: https://docs.spring.io/spring-security/site/docs/5.5.3/reference/html5/#csrf-when\r\n        http.csrf().disabled();\r\n\r\n        // if Spring MVC is on classpath and no CorsConfigurationSource is provided,\r\n        // Spring Security will use CORS configuration provided to Spring MVC\r\n        http.cors(Customizer.withDefaults());\r\n    }\r\n}\r\n```","title":"Can you completely disable CORS support in Spring?","body":"<h2>Spring MVC</h2>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/5.3.13/reference/html/web.html#mvc-cors-global-java\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/5.3.13/reference/html/web.html#mvc-cors-global-java</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;).allowedHeaders(&quot;*&quot;);\n    }\n}\n</code></pre>\n<h2>Spring Boot</h2>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/2.5.7/reference/htmlsingle/#features.developing-web-applications.spring-mvc.cors\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.5.7/reference/htmlsingle/#features.developing-web-applications.spring-mvc.cors</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\npublic class MyConfiguration {\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(final CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;).allowedHeaders(&quot;*&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n<h2>Spring Security ( with Spring MVC or Spring Boot)</h2>\n<p>If using Spring Security, set following configuration additionally:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-security/site/docs/5.5.3/reference/html5/#cors\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/5.5.3/reference/html5/#cors</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        // ...\n\n        // see also: https://docs.spring.io/spring-security/site/docs/5.5.3/reference/html5/#csrf-when\n        http.csrf().disabled();\n\n        // if Spring MVC is on classpath and no CorsConfigurationSource is provided,\n        // Spring Security will use CORS configuration provided to Spring MVC\n        http.cors(Customizer.withDefaults());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12829196,"reputation":3692,"user_id":9280994,"display_name":"Jonathan R"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652731277,"creation_date":1652731277,"answer_id":72264954,"question_id":44697883,"body_markdown":"None of the above worked for me. Here is how I did it for Spring-Boot 2.6.7 and Java 18.\r\n\r\n(I know I will have to look this up myself the next time I have to set up a spring backend again):\r\n\r\n```java\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable();\r\n    }\r\n\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        final CorsConfiguration config = new CorsConfiguration();\r\n        config.addAllowedOrigin(&quot;*&quot;);\r\n        config.addAllowedHeader(&quot;*&quot;);\r\n        config.addAllowedMethod(&quot;*&quot;);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        return new CorsFilter(source);\r\n    }\r\n}\r\n```","title":"Can you completely disable CORS support in Spring?","body":"<p>None of the above worked for me. Here is how I did it for Spring-Boot 2.6.7 and Java 18.</p>\n<p>(I know I will have to look this up myself the next time I have to set up a spring backend again):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable();\n    }\n\n    @Bean\n    public CorsFilter corsFilter() {\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        final CorsConfiguration config = new CorsConfiguration();\n        config.addAllowedOrigin(&quot;*&quot;);\n        config.addAllowedHeader(&quot;*&quot;);\n        config.addAllowedMethod(&quot;*&quot;);\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return new CorsFilter(source);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22301239,"reputation":3,"user_id":16526434,"display_name":"enesergen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661165141,"creation_date":1661165141,"answer_id":73443859,"question_id":44697883,"body_markdown":"I use spring boot and this is solved my problem. \r\nI am using React for front-end.\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n    \r\n    @Configuration\r\n    public class CorsConfig extends WebMvcConfigurerAdapter {\r\n    \r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer() {\r\n            return new WebMvcConfigurerAdapter() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n                    registry.addMapping(&quot;/**&quot;)\r\n                            .allowedMethods(&quot;HEAD&quot;, &quot;GET&quot;, &quot;PUT&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;);\r\n                }\r\n            };\r\n        }\r\n    }","title":"Can you completely disable CORS support in Spring?","body":"<p>I use spring boot and this is solved my problem.\nI am using React for front-end.</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\n\n@Configuration\npublic class CorsConfig extends WebMvcConfigurerAdapter {\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurerAdapter() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;)\n                        .allowedMethods(&quot;HEAD&quot;, &quot;GET&quot;, &quot;PUT&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14425529,"reputation":290,"user_id":10420415,"display_name":"Markus Ridziauskas"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1686143984,"creation_date":1681674436,"answer_id":76029997,"question_id":44697883,"body_markdown":"Most of the answers use deprecated api.\r\nThe following snippet will allow all headers, methods and urls to bypass the cors security rule using the suggested approach of configuring `HttpSecurity` by spring\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.cors(httpSecurityCorsConfigurer -&gt; \r\n        httpSecurityCorsConfigurer.configurationSource(request -&gt; \r\n           new CorsConfiguration().applyPermitDefaultValues()\r\n        )\r\n    );\r\n    return http.build();\r\n}\r\n```","title":"Can you completely disable CORS support in Spring?","body":"<p>Most of the answers use deprecated api.\nThe following snippet will allow all headers, methods and urls to bypass the cors security rule using the suggested approach of configuring <code>HttpSecurity</code> by spring</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.cors(httpSecurityCorsConfigurer -&gt; \n        httpSecurityCorsConfigurer.configurationSource(request -&gt; \n           new CorsConfiguration().applyPermitDefaultValues()\n        )\n    );\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":985121,"reputation":6589,"user_id":1003830,"accept_rate":76,"display_name":"baynezy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171344,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":10,"score":54,"last_activity_date":1686143984,"creation_date":1498130350,"question_id":44697883,"body_markdown":"As described in https://stackoverflow.com/questions/38507370/cors-preflight-request-fails-due-to-a-standard-header if you send requests to `OPTIONS` endpoints with the `Origin` and `Access-Control-Request-Method` headers set then they get intercepted by the Spring framework, and your method does not get executed. The accepted solution is the use `@CrossOrigin` annotations to stop Spring returning a `403`. However, I am generating my API code with [Swagger Codegen](https://github.com/swagger-api/swagger-codegen) and so I just want to disable this and implement my `OPTIONS` responses manually.\r\n\r\nSo can you disable the CORS interception in Spring?","title":"Can you completely disable CORS support in Spring?","body":"<p>As described in <a href=\"https://stackoverflow.com/questions/38507370/cors-preflight-request-fails-due-to-a-standard-header\">CORS preflight request fails due to a standard header</a> if you send requests to <code>OPTIONS</code> endpoints with the <code>Origin</code> and <code>Access-Control-Request-Method</code> headers set then they get intercepted by the Spring framework, and your method does not get executed. The accepted solution is the use <code>@CrossOrigin</code> annotations to stop Spring returning a <code>403</code>. However, I am generating my API code with <a href=\"https://github.com/swagger-api/swagger-codegen\" rel=\"noreferrer\">Swagger Codegen</a> and so I just want to disable this and implement my <code>OPTIONS</code> responses manually.</p>\n\n<p>So can you disable the CORS interception in Spring?</p>\n"},{"tags":["java","apache-camel"],"owner":{"account_id":22010208,"reputation":25,"user_id":16280606,"display_name":"xtrx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686143914,"creation_date":1686125750,"question_id":76421222,"body_markdown":"I have the following code snippet that periodically starts a timer with a leader election mechanism.\r\n```\r\n@Produces\r\npublic LambdaRouteBuilder routes() {\r\n    return rb -&gt; rb.from(&quot;master:timer-ns:timer:foo&quot;)\r\n            .to(log(&quot;com.example&quot;));\r\n}\r\n```\r\nI want to rewrite it with Endpoint-DSL syntax.\r\n\r\n\r\nI found that master component available in Endpoint-DSL in `StaticEndpointBuilders`. But there is no method to set delegate endpoint to it.\r\nFor example:\r\n`StaticEndpointBuilders.master(&quot;master-ns&quot;, StaticEndpointBuilders.timer(&quot;foo))`\r\n\r\nAny help on that?","title":"How to use Apache Camel Master Component with Endpoint-DSL","body":"<p>I have the following code snippet that periodically starts a timer with a leader election mechanism.</p>\n<pre><code>@Produces\npublic LambdaRouteBuilder routes() {\n    return rb -&gt; rb.from(&quot;master:timer-ns:timer:foo&quot;)\n            .to(log(&quot;com.example&quot;));\n}\n</code></pre>\n<p>I want to rewrite it with Endpoint-DSL syntax.</p>\n<p>I found that master component available in Endpoint-DSL in <code>StaticEndpointBuilders</code>. But there is no method to set delegate endpoint to it.\nFor example:\n<code>StaticEndpointBuilders.master(&quot;master-ns&quot;, StaticEndpointBuilders.timer(&quot;foo))</code></p>\n<p>Any help on that?</p>\n"},{"tags":["java","spring-boot","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686143864,"creation_date":1686143864,"answer_id":76423725,"question_id":76422433,"body_markdown":"The `PoolingDriver` plugin is not distributed in `log4j-core`.\r\n\r\nIf you are using Maven, you need to add:\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-jdbc-dbcp2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.20.0&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nto your dependencies.","title":"Log4j2 JDBC Appender PoolingDriver configuration","body":"<p>The <code>PoolingDriver</code> plugin is not distributed in <code>log4j-core</code>.</p>\n<p>If you are using Maven, you need to add:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-jdbc-dbcp2&lt;/artifactId&gt;\n    &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to your dependencies.</p>\n"}],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76423725,"answer_count":1,"score":1,"last_activity_date":1686143864,"creation_date":1686134562,"question_id":76422433,"body_markdown":"I&#39;m trying to configure Log4j2 using JDBC Appender with the following `log4j2.xml` file for my Spring Boot application:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;JDBC name=&quot;DB&quot; tableName=&quot;log&quot;&gt;\r\n            &lt;PoolingDriver connectionString=&quot;url&quot; userName=&quot;username&quot; password=&quot;password&quot;/&gt;\r\n            &lt;Column name=&quot;COD_LOG_ID&quot; literal=&quot;log0.nextval&quot;/&gt;\r\n            &lt;Column name=&quot;TIM_TIMESTAM&quot; isEventTimestamp=&quot;true&quot;/&gt;\r\n            &lt;Column name=&quot;DES_LOGGER&quot; pattern=&quot;%c&quot;/&gt;\r\n            &lt;Column name=&quot;COD_JLEVEL&quot; pattern=&quot;%level&quot;/&gt;\r\n            &lt;Column name=&quot;DES_LMESSAGE&quot; pattern=&quot;%m%n%ex{full}&quot; isClob=&quot;true&quot;/&gt;\r\n        &lt;/JDBC&gt;\r\n\r\n        &lt;Async name=&quot;Async&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;DB&quot;/&gt;\r\n        &lt;/Async&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Async&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nBut trying to run the application produces the following error:\r\n\r\n```\r\n2023-06-07 12:36:23,622 main ERROR No ConnectionSource provided: connectionSource\r\n2023-06-07 12:36:23,628 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender for element JDBC org.apache.logging.log4j.core.config.ConfigurationException: Arguments given for element JDBC are invalid: field &#39;connectionSource&#39; has invalid value &#39;null&#39;\r\n\tat org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.injectFields(PluginBuilder.java:210)\r\n\tat org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:121)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\n\tat org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\n\tat org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n\tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jLog.&lt;clinit&gt;(LogAdapter.java:155)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jAdapter.createLog(LogAdapter.java:122)\r\n\tat org.apache.commons.logging.LogAdapter.createLog(LogAdapter.java:89)\r\n\tat org.apache.commons.logging.LogFactoryService.getInstance(LogFactoryService.java:46)\r\n\tat org.apache.commons.logging.LogFactoryService.getInstance(LogFactoryService.java:41)\r\n\tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:655)\r\n\tat org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:196)\r\n\tat com.bbva.eysea.ganbaru.Application.main(Application.java:28)\r\n```\r\n\r\nReplacing `PoolingDriver` with `DriverManager` works, but according to [documentation][1] I should use a pooling connection, which is theoretically provided by `PoolingDriver`. Any hints?\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/appenders.html#jdbcappender","title":"Log4j2 JDBC Appender PoolingDriver configuration","body":"<p>I'm trying to configure Log4j2 using JDBC Appender with the following <code>log4j2.xml</code> file for my Spring Boot application:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;JDBC name=&quot;DB&quot; tableName=&quot;log&quot;&gt;\n            &lt;PoolingDriver connectionString=&quot;url&quot; userName=&quot;username&quot; password=&quot;password&quot;/&gt;\n            &lt;Column name=&quot;COD_LOG_ID&quot; literal=&quot;log0.nextval&quot;/&gt;\n            &lt;Column name=&quot;TIM_TIMESTAM&quot; isEventTimestamp=&quot;true&quot;/&gt;\n            &lt;Column name=&quot;DES_LOGGER&quot; pattern=&quot;%c&quot;/&gt;\n            &lt;Column name=&quot;COD_JLEVEL&quot; pattern=&quot;%level&quot;/&gt;\n            &lt;Column name=&quot;DES_LMESSAGE&quot; pattern=&quot;%m%n%ex{full}&quot; isClob=&quot;true&quot;/&gt;\n        &lt;/JDBC&gt;\n\n        &lt;Async name=&quot;Async&quot;&gt;\n            &lt;AppenderRef ref=&quot;DB&quot;/&gt;\n        &lt;/Async&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;Async&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>But trying to run the application produces the following error:</p>\n<pre><code>2023-06-07 12:36:23,622 main ERROR No ConnectionSource provided: connectionSource\n2023-06-07 12:36:23,628 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender for element JDBC org.apache.logging.log4j.core.config.ConfigurationException: Arguments given for element JDBC are invalid: field 'connectionSource' has invalid value 'null'\n    at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.injectFields(PluginBuilder.java:210)\n    at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:121)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\n    at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\n    at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.commons.logging.LogAdapter$Log4jLog.&lt;clinit&gt;(LogAdapter.java:155)\n    at org.apache.commons.logging.LogAdapter$Log4jAdapter.createLog(LogAdapter.java:122)\n    at org.apache.commons.logging.LogAdapter.createLog(LogAdapter.java:89)\n    at org.apache.commons.logging.LogFactoryService.getInstance(LogFactoryService.java:46)\n    at org.apache.commons.logging.LogFactoryService.getInstance(LogFactoryService.java:41)\n    at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:655)\n    at org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:196)\n    at com.bbva.eysea.ganbaru.Application.main(Application.java:28)\n</code></pre>\n<p>Replacing <code>PoolingDriver</code> with <code>DriverManager</code> works, but according to <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#jdbcappender\" rel=\"nofollow noreferrer\">documentation</a> I should use a pooling connection, which is theoretically provided by <code>PoolingDriver</code>. Any hints?</p>\n"},{"tags":["java","android","kotlin","mpandroidchart"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1685712592,"post_id":76376641,"comment_id":134703552,"body_markdown":"Can you edit the question clarify what it is you want as the outcome (e.g. add a picture)? There is some discussion about RTL locales [here](https://github.com/PhilJay/MPAndroidChart/issues/3109) and drawing in reverse [here](https://stackoverflow.com/questions/29809282/how-to-plot-data-from-right-to-left-in-mpandroidchart) but it&#39;s not clear if those are what you are asking about. The chart is usually just x-y points drawn all at once without a &quot;direction&quot; - are you trying to animate the chart filling in from right to left?","body":"Can you edit the question clarify what it is you want as the outcome (e.g. add a picture)? There is some discussion about RTL locales <a href=\"https://github.com/PhilJay/MPAndroidChart/issues/3109\" rel=\"nofollow noreferrer\">here</a> and drawing in reverse <a href=\"https://stackoverflow.com/questions/29809282/how-to-plot-data-from-right-to-left-in-mpandroidchart\">here</a> but it&#39;s not clear if those are what you are asking about. The chart is usually just x-y points drawn all at once without a &quot;direction&quot; - are you trying to animate the chart filling in from right to left?"},{"owner":{"account_id":3140769,"reputation":14861,"user_id":2656275,"accept_rate":87,"display_name":"Hussain Shabbir"},"score":0,"creation_date":1685714812,"post_id":76376641,"comment_id":134704108,"body_markdown":"@TylerV, Yes exactly am looking into that but I want to animate drawing in reverse direction as well which I am not able to achieve that using this lineChart.animateX(1000, Easing.EasingOption.Linear)","body":"@TylerV, Yes exactly am looking into that but I want to animate drawing in reverse direction as well which I am not able to achieve that using this lineChart.animateX(1000, Easing.EasingOption.Linear)"}],"answers":[{"tags":[],"owner":{"account_id":3140769,"reputation":14861,"user_id":2656275,"accept_rate":87,"display_name":"Hussain Shabbir"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1686143748,"creation_date":1685660986,"answer_id":76386243,"question_id":76376641,"body_markdown":"Here is an easy solution I found without any much code if anyone is looking into it:-\r\n\r\n**Inside your XML file add one View on top of line chart like that below:-**\r\n\r\n        &lt;FrameLayout\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;com.github.mikephil.charting.charts.LineChart\r\n           android:id=&quot;@+id/lineChart&quot;\r\n           android:layout_width=&quot;400dp&quot;\r\n           android:layout_height=&quot;244dp&quot;/&gt;\r\n        \r\n        &lt;LinearLayout\r\n           android:id=&quot;@+id/llOverLay&quot;\r\n           android:layout_width=&quot;400dp&quot;\r\n           android:layout_height=&quot;200dp&quot;\r\n           android:background=&quot;@color/white&quot;/&gt;\r\n       &lt;/FrameLayout&gt;\r\n\r\n**Rendered line chart without animation first** \r\n\r\n    lineChart?.invalidate()\r\n\r\n\r\nThen apply reveal animation from right to left which is translate llOverLayView on top of line chart like below\r\n   \r\n\r\n    lineChart?.doOnLayout {\r\n        ObjectAnimator.ofFloat(binding.llOverLay, &quot;translationX&quot;, -screenWidth).apply {\r\n                                        duration = 1000\r\n                                        start()\r\n    }\r\n\r\nNow this makes Line Chart rendering from right to left and thats it!!\r\n\r\n**Please be advised, this approach has one restriction which enforced single or multiple series rendering in one fixed direction. Either forward or reverse direction at the same time.**","title":"How to Plot Line Chart in reverse direction ie. starting from right to left direction in Android using MPAndroidChart library?","body":"<p>Here is an easy solution I found without any much code if anyone is looking into it:-</p>\n<p><strong>Inside your XML file add one View on top of line chart like that below:-</strong></p>\n<pre><code>    &lt;FrameLayout\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;com.github.mikephil.charting.charts.LineChart\n       android:id=&quot;@+id/lineChart&quot;\n       android:layout_width=&quot;400dp&quot;\n       android:layout_height=&quot;244dp&quot;/&gt;\n    \n    &lt;LinearLayout\n       android:id=&quot;@+id/llOverLay&quot;\n       android:layout_width=&quot;400dp&quot;\n       android:layout_height=&quot;200dp&quot;\n       android:background=&quot;@color/white&quot;/&gt;\n   &lt;/FrameLayout&gt;\n</code></pre>\n<p><strong>Rendered line chart without animation first</strong></p>\n<pre><code>lineChart?.invalidate()\n</code></pre>\n<p>Then apply reveal animation from right to left which is translate llOverLayView on top of line chart like below</p>\n<pre><code>lineChart?.doOnLayout {\n    ObjectAnimator.ofFloat(binding.llOverLay, &quot;translationX&quot;, -screenWidth).apply {\n                                    duration = 1000\n                                    start()\n}\n</code></pre>\n<p>Now this makes Line Chart rendering from right to left and thats it!!</p>\n<p><strong>Please be advised, this approach has one restriction which enforced single or multiple series rendering in one fixed direction. Either forward or reverse direction at the same time.</strong></p>\n"}],"owner":{"account_id":3140769,"reputation":14861,"user_id":2656275,"accept_rate":87,"display_name":"Hussain Shabbir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76386243,"answer_count":1,"score":1,"last_activity_date":1686143748,"creation_date":1685560778,"question_id":76376641,"body_markdown":"Hi I am using this library https://github.com/PhilJay/MPAndroidChart and trying to draw line chart from Endpoint to Start point that is from right to left direction, I followed library document and tried to implement below custom class code:\r\n\r\n        class CustomLineChartRender(\r\n        chart: LineDataProvider?,\r\n        animator: ChartAnimator?, viewPortHandler: ViewPortHandler?,\r\n    ) : LineChartRenderer(chart, animator, viewPortHandler) {\r\n        override fun drawHorizontalBezier(dataSet: ILineDataSet) {\r\n    \r\n            val phaseY = mAnimator.phaseY\r\n    \r\n            val trans = mChart.getTransformer(dataSet.axisDependency)\r\n    \r\n            mXBounds[mChart] = dataSet\r\n    \r\n            cubicPath.reset()\r\n    \r\n            if (mXBounds.range &gt;= 1) {\r\n                var prev = dataSet.getEntryForIndex(mXBounds.max)\r\n                var cur = prev\r\n    \r\n                // let the spline start\r\n                cubicPath.moveTo(cur.x, cur.y * phaseY)\r\n                //for (j in mXBounds.min + 1..mXBounds.range + mXBounds.min) {\r\n                for (j in (mXBounds.min until mXBounds.max).reversed()) {\r\n                    prev = cur\r\n                    cur = dataSet.getEntryForIndex(j)\r\n                    val cpx = (prev.x\r\n                            - (prev.x - cur.x) / 2.0f)\r\n                    cubicPath.cubicTo(\r\n                        cpx, prev.y * phaseY,\r\n                        cpx, cur.y * phaseY,\r\n                        cur.x, cur.y * phaseY)\r\n                }\r\n            }\r\n    \r\n            // if filled is enabled, close the path\r\n            if (dataSet.isDrawFilledEnabled) {\r\n                cubicFillPath.reset()\r\n                cubicFillPath.addPath(cubicPath)\r\n                // create a new path, this is bad for performance\r\n                drawCubicFill(mBitmapCanvas, dataSet, cubicFillPath, trans, mXBounds)\r\n            }\r\n            mRenderPaint.color = dataSet.color\r\n            mRenderPaint.style = Paint.Style.STROKE\r\n            trans.pathValueToPixel(cubicPath)\r\n            mBitmapCanvas.drawPath(cubicPath, mRenderPaint)\r\n            mRenderPaint.pathEffect = null\r\n        }\r\n    }\r\n\r\nBut above code stops animation `lineChart.animateX(1000, Easing.EasingOption.Linear)`starting from right direction at all. Any pointer will be appreciated!!\r\n\r\nCurrent behavior is Line chart start rendering from Left to Right direction and \r\nExpected behavior is Line chart should start rendering from Right to Left direction with animation\r\n\r\nThank You","title":"How to Plot Line Chart in reverse direction ie. starting from right to left direction in Android using MPAndroidChart library?","body":"<p>Hi I am using this library <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow noreferrer\">https://github.com/PhilJay/MPAndroidChart</a> and trying to draw line chart from Endpoint to Start point that is from right to left direction, I followed library document and tried to implement below custom class code:</p>\n<pre><code>    class CustomLineChartRender(\n    chart: LineDataProvider?,\n    animator: ChartAnimator?, viewPortHandler: ViewPortHandler?,\n) : LineChartRenderer(chart, animator, viewPortHandler) {\n    override fun drawHorizontalBezier(dataSet: ILineDataSet) {\n\n        val phaseY = mAnimator.phaseY\n\n        val trans = mChart.getTransformer(dataSet.axisDependency)\n\n        mXBounds[mChart] = dataSet\n\n        cubicPath.reset()\n\n        if (mXBounds.range &gt;= 1) {\n            var prev = dataSet.getEntryForIndex(mXBounds.max)\n            var cur = prev\n\n            // let the spline start\n            cubicPath.moveTo(cur.x, cur.y * phaseY)\n            //for (j in mXBounds.min + 1..mXBounds.range + mXBounds.min) {\n            for (j in (mXBounds.min until mXBounds.max).reversed()) {\n                prev = cur\n                cur = dataSet.getEntryForIndex(j)\n                val cpx = (prev.x\n                        - (prev.x - cur.x) / 2.0f)\n                cubicPath.cubicTo(\n                    cpx, prev.y * phaseY,\n                    cpx, cur.y * phaseY,\n                    cur.x, cur.y * phaseY)\n            }\n        }\n\n        // if filled is enabled, close the path\n        if (dataSet.isDrawFilledEnabled) {\n            cubicFillPath.reset()\n            cubicFillPath.addPath(cubicPath)\n            // create a new path, this is bad for performance\n            drawCubicFill(mBitmapCanvas, dataSet, cubicFillPath, trans, mXBounds)\n        }\n        mRenderPaint.color = dataSet.color\n        mRenderPaint.style = Paint.Style.STROKE\n        trans.pathValueToPixel(cubicPath)\n        mBitmapCanvas.drawPath(cubicPath, mRenderPaint)\n        mRenderPaint.pathEffect = null\n    }\n}\n</code></pre>\n<p>But above code stops animation <code>lineChart.animateX(1000, Easing.EasingOption.Linear)</code>starting from right direction at all. Any pointer will be appreciated!!</p>\n<p>Current behavior is Line chart start rendering from Left to Right direction and\nExpected behavior is Line chart should start rendering from Right to Left direction with animation</p>\n<p>Thank You</p>\n"},{"tags":["java","kotlin","vert.x","quarkus","reactive-postgresql-client"],"answers":[{"tags":[],"owner":{"account_id":3323950,"reputation":31,"user_id":2794411,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639766018,"creation_date":1639766018,"answer_id":70397469,"question_id":70295971,"body_markdown":"Spent a lot of time to figure this out and the only way i was able to achieve this is by passing around the object of following class\r\n\r\n&gt; `io.vertx.reactivex.sqlclient.SqlConnection`\r\n\r\nAnd this worked pretty smooth.\r\n\r\n","title":"Elegant way to join Transactions in Reactive Vert.X","body":"<p>Spent a lot of time to figure this out and the only way i was able to achieve this is by passing around the object of following class</p>\n<blockquote>\n<p><code>io.vertx.reactivex.sqlclient.SqlConnection</code></p>\n</blockquote>\n<p>And this worked pretty smooth.</p>\n"},{"tags":[],"owner":{"account_id":6021246,"reputation":342,"user_id":4728240,"accept_rate":75,"display_name":"Ultranium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686143667,"creation_date":1686143667,"answer_id":76423695,"question_id":70295971,"body_markdown":"You can use the `withTransaction()` function block with `TransactionPropagation.CONTEXT` parameter:\r\n\r\n```\r\nfun someServiceMethod() {\r\n    client.withTransaction(TransactionPropagation.CONTEXT) { c -&gt;\r\n        val bla = someServiceMethod2() // works\r\n\r\n        someRepo.doSthRepoStuff(bla)) // works\r\n\r\n        throw Exception(&quot;Just for test purpose&quot;) // crashes -&gt; should also rollback transaction from doSthRepoStuff\r\n    }\r\n}\r\n\r\n...\r\n\r\nfun doSthRepoStuff(bla : String) {\r\n    client.withTransaction(TransactionPropagation.CONTEXT) { c -&gt; \r\n        // do db related stuff here\r\n    }\r\n}\r\n```\r\n\r\nThis way, if current context doesn&#39;t have a started transaction, it will be initiated and propagated to all subsequent DB calls, even in injected beans.\r\n\r\nJust keep in mind, that all calls to the `withTransaction()` in all beans must have the `TransactionPropagation.CONTEXT` argument.\r\nTo get a reference to a DB client, you just inject an instance of `PgPool` in each bean as usual:\r\n\r\n```\r\n@ApplicationScoped\r\nclass Bean1 {\r\n    @Inject\r\n    lateinit var client: PgPool\r\n\r\n    fun doStuff1(): Uni&lt;Void&gt; {\r\n        return client.withTransaction(TransactionPropagation.CONTEXT) { c -&gt;\r\n            // DB related calls using an existing TX \r\n            // or creating a new one if absent\r\n        }\r\n    }\r\n}\r\n\r\n@ApplicationScoped\r\nclass Bean2 {\r\n    @Inject\r\n    lateinit var client: PgPool\r\n\r\n    @Inject\r\n    lateinit var bean1: Bean1\r\n\r\n    fun doStuff2(): Uni&lt;Void&gt; {\r\n        // Start a new TX\r\n        return client.withTransaction(TransactionPropagation.CONTEXT) { c -&gt;\r\n            // Bean1&#39;s DB calls will use this just created transaction\r\n            bean1.doStuff1() \r\n                .onItem.transform { _ -&gt;\r\n                     // DB related calls using the existing TX\r\n                 }\r\n        }\r\n    }\r\n}\r\n```","title":"Elegant way to join Transactions in Reactive Vert.X","body":"<p>You can use the <code>withTransaction()</code> function block with <code>TransactionPropagation.CONTEXT</code> parameter:</p>\n<pre><code>fun someServiceMethod() {\n    client.withTransaction(TransactionPropagation.CONTEXT) { c -&gt;\n        val bla = someServiceMethod2() // works\n\n        someRepo.doSthRepoStuff(bla)) // works\n\n        throw Exception(&quot;Just for test purpose&quot;) // crashes -&gt; should also rollback transaction from doSthRepoStuff\n    }\n}\n\n...\n\nfun doSthRepoStuff(bla : String) {\n    client.withTransaction(TransactionPropagation.CONTEXT) { c -&gt; \n        // do db related stuff here\n    }\n}\n</code></pre>\n<p>This way, if current context doesn't have a started transaction, it will be initiated and propagated to all subsequent DB calls, even in injected beans.</p>\n<p>Just keep in mind, that all calls to the <code>withTransaction()</code> in all beans must have the <code>TransactionPropagation.CONTEXT</code> argument.\nTo get a reference to a DB client, you just inject an instance of <code>PgPool</code> in each bean as usual:</p>\n<pre><code>@ApplicationScoped\nclass Bean1 {\n    @Inject\n    lateinit var client: PgPool\n\n    fun doStuff1(): Uni&lt;Void&gt; {\n        return client.withTransaction(TransactionPropagation.CONTEXT) { c -&gt;\n            // DB related calls using an existing TX \n            // or creating a new one if absent\n        }\n    }\n}\n\n@ApplicationScoped\nclass Bean2 {\n    @Inject\n    lateinit var client: PgPool\n\n    @Inject\n    lateinit var bean1: Bean1\n\n    fun doStuff2(): Uni&lt;Void&gt; {\n        // Start a new TX\n        return client.withTransaction(TransactionPropagation.CONTEXT) { c -&gt;\n            // Bean1's DB calls will use this just created transaction\n            bean1.doStuff1() \n                .onItem.transform { _ -&gt;\n                     // DB related calls using the existing TX\n                 }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5022927,"reputation":723,"user_id":4035864,"accept_rate":70,"display_name":"Ahmet K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686143667,"creation_date":1639079844,"question_id":70295971,"body_markdown":"Let&#39;s say I have a service method where I do some validation/restcalls etc. (e.g. someServiceMethod2 in) and want to make it safe in a transactional way. I also have a repoMethod which includes a transaction.\r\nHow can I rollback the child transaction when the parent transaction throws an exception ?\r\n\r\n Is there a way to join these two methods in a transaction? Just like what the \t`TransactionDefinition.PROPAGATION_REQUIRED` propagation would do in Spring lib.\r\n\r\n    fun someServiceMethod () {\r\n        client.withTransaction { c -&gt;\r\n            val bla = someServiceMethod2() // works\r\n    \r\n            someRepo.doSthRepoStuff(bla)) // works\r\n    \r\n            throw Exception(&quot;Just for test purpose&quot;) // crashes -&gt; should also rollback transaction from doSthRepoStuff\r\n        }\r\n    }\r\n\r\n    ...\r\n    \r\n    fun doSthRepoStuff(bla : String) {\r\n        client.withTransaction { c -&gt; \r\n            // do db related stuff here\r\n        }\r\n    }\r\nThe only way I could do it right now is to use only the service transaction and pass the connection to the repo method. This somehow feels weird to me (to give a repo method a sql connection) \r\n\r\nIs there an elegant way to solve this ?\r\n","title":"Elegant way to join Transactions in Reactive Vert.X","body":"<p>Let's say I have a service method where I do some validation/restcalls etc. (e.g. someServiceMethod2 in) and want to make it safe in a transactional way. I also have a repoMethod which includes a transaction.\nHow can I rollback the child transaction when the parent transaction throws an exception ?</p>\n<p>Is there a way to join these two methods in a transaction? Just like what the  <code>TransactionDefinition.PROPAGATION_REQUIRED</code> propagation would do in Spring lib.</p>\n<pre><code>fun someServiceMethod () {\n    client.withTransaction { c -&gt;\n        val bla = someServiceMethod2() // works\n\n        someRepo.doSthRepoStuff(bla)) // works\n\n        throw Exception(&quot;Just for test purpose&quot;) // crashes -&gt; should also rollback transaction from doSthRepoStuff\n    }\n}\n\n...\n\nfun doSthRepoStuff(bla : String) {\n    client.withTransaction { c -&gt; \n        // do db related stuff here\n    }\n}\n</code></pre>\n<p>The only way I could do it right now is to use only the service transaction and pass the connection to the repo method. This somehow feels weird to me (to give a repo method a sql connection)</p>\n<p>Is there an elegant way to solve this ?</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1686142812,"post_id":76423391,"comment_id":134758375,"body_markdown":"Have read and tried https://stackoverflow.com/questions/24342886/how-to-install-java-8-on-mac?rq=2 ?","body":"Have read and tried <a href=\"https://stackoverflow.com/questions/24342886/how-to-install-java-8-on-mac?rq=2\" title=\"how to install java 8 on mac\">stackoverflow.com/questions/24342886/&hellip;</a> ?"},{"owner":{"account_id":27908218,"reputation":420,"user_id":21310959,"display_name":"Eldinur the Kolibri"},"score":0,"creation_date":1686143068,"post_id":76423391,"comment_id":134758437,"body_markdown":"There are many possibilities here. Verify the installation path: Check the installation path of the JDK to ensure it matches the path specified in your environment variables. Make sure that the path is correct. I don&#39;t know if that was only a typo, but try `java -version` instead. Check the PATH variable: Ensure that the JDK&#39;s bin directory is added to your PATH environment variable.","body":"There are many possibilities here. Verify the installation path: Check the installation path of the JDK to ensure it matches the path specified in your environment variables. Make sure that the path is correct. I don&#39;t know if that was only a typo, but try <code>java -version</code> instead. Check the PATH variable: Ensure that the JDK&#39;s bin directory is added to your PATH environment variable."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686143580,"post_id":76423391,"comment_id":134758555,"body_markdown":"You are not mentioning what distribution, version and architecture of the JDK are you trying to install, and the architecture of your computer.","body":"You are not mentioning what distribution, version and architecture of the JDK are you trying to install, and the architecture of your computer."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686143850,"post_id":76423391,"comment_id":134758617,"body_markdown":"`~username` is shorthand for the home directory of the user named `username`. You meant to use `-version`.","body":"<code>~username</code> is shorthand for the home directory of the user named <code>username</code>. You meant to use <code>-version</code>."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686143665,"creation_date":1686143665,"answer_id":76423694,"question_id":76423391,"body_markdown":"The command actually is `java -version`. You are using an incorrect tilde `~` character instead of a dash `-`.","title":"Cant install JDK in mac Monterey","body":"<p>The command actually is <code>java -version</code>. You are using an incorrect tilde <code>~</code> character instead of a dash <code>-</code>.</p>\n"}],"owner":{"account_id":28772493,"reputation":1,"user_id":22035937,"display_name":"Valentina Bianchi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1686198247,"answer_count":1,"score":-3,"last_activity_date":1686143665,"creation_date":1686141384,"question_id":76423391,"body_markdown":"i&#39;m installing the JDK in my computer Monterey 12.6.5, the installer runs ok and says its finished but when i go to my terminal and write java \\~version and it says ```zsh: no such user or named directory: version``` and then i try to install the ambient and doesn&#39;t work either. Any thoughts on what may be happening?\r\nI downloading the installer from the oracle page, and i&#39;m sure its the correct one. Also the installer let me run it again and again without saying that&#39;s already installed or something like that.\r\n\r\nI had the JDK installed a while ago and i uninstalled now i cant bring it back.\r\n\r\nThanks for your help. ","title":"Cant install JDK in mac Monterey","body":"<p>i'm installing the JDK in my computer Monterey 12.6.5, the installer runs ok and says its finished but when i go to my terminal and write java ~version and it says <code>zsh: no such user or named directory: version</code> and then i try to install the ambient and doesn't work either. Any thoughts on what may be happening?\nI downloading the installer from the oracle page, and i'm sure its the correct one. Also the installer let me run it again and again without saying that's already installed or something like that.</p>\n<p>I had the JDK installed a while ago and i uninstalled now i cant bring it back.</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","h2"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686143242,"creation_date":1686143242,"answer_id":76423635,"question_id":76423558,"body_markdown":"`ConnectionEventListener` is the one you&#39;re looking for.\r\n\r\nMore details here: [https://docs.oracle.com/javase/8/docs/api/javax/sql/ConnectionEventListener.html][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/sql/ConnectionEventListener.html","title":"Error database listener in spring boot aplication with hibernate","body":"<p><code>ConnectionEventListener</code> is the one you're looking for.</p>\n<p>More details here: <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sql/ConnectionEventListener.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/sql/ConnectionEventListener.html</a></p>\n"}],"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686143242,"creation_date":1686142756,"question_id":76423558,"body_markdown":"How to write a listener that catches the moment when something happens to the database, e.g. a ResultSet exception that closes the entire embedded database. Is an `ApplicationListener` ok? \r\nI&#39;d like to close another task that runs at certain intervals when sth happens with database.\r\n```java \r\npublic class DatabaseClosedListener implements ApplicationListener&lt;ContextClosedEvent&gt;\r\n```","title":"Error database listener in spring boot aplication with hibernate","body":"<p>How to write a listener that catches the moment when something happens to the database, e.g. a ResultSet exception that closes the entire embedded database. Is an <code>ApplicationListener</code> ok?\nI'd like to close another task that runs at certain intervals when sth happens with database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DatabaseClosedListener implements ApplicationListener&lt;ContextClosedEvent&gt;\n</code></pre>\n"},{"tags":["java","arrays","functional-programming"],"answers":[{"tags":[],"owner":{"account_id":1888905,"reputation":15353,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1420927307,"creation_date":1420927307,"answer_id":27881673,"question_id":27881627,"body_markdown":"You need to use [flatMap][1] in order to map with the content of the stream . As you noticed that `Arrays::stream` generate separate streams and what you want is to flatten all those streams into single stream E.g.\r\n\r\n\r\n       System.out.println(Stream.of(input)\r\n               .map(w -&gt; w.split(&quot;&quot;))\r\n               .flatMap(Arrays::stream)\r\n               .distinct()\r\n               .collect(Collectors.toList()));\r\n\r\nOutput\r\n\r\n    [T, h, i, s, n, o, t]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-","title":"Java 8 Stream unique characters from array","body":"<p>You need to use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"noreferrer\">flatMap</a> in order to map with the content of the stream . As you noticed that <code>Arrays::stream</code> generate separate streams and what you want is to flatten all those streams into single stream E.g.</p>\n\n<pre><code>   System.out.println(Stream.of(input)\n           .map(w -&gt; w.split(\"\"))\n           .flatMap(Arrays::stream)\n           .distinct()\n           .collect(Collectors.toList()));\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>[T, h, i, s, n, o, t]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1420933600,"creation_date":1420933600,"answer_id":27882407,"question_id":27881627,"body_markdown":"Another solution to complement @sol4me&#39;s answer:\r\n\r\n    System.out.println(Stream.of(input).flatMapToInt(CharSequence::chars)\r\n        .distinct().mapToObj(c -&gt; Character.valueOf((char) c))\r\n        .collect(Collectors.toList()));\r\n\r\nCould probably be written in a more efficient manner.\r\n\r\nThe JDK doesn&#39;t define `CharStream`, unfortunately...","title":"Java 8 Stream unique characters from array","body":"<p>Another solution to complement @sol4me's answer:</p>\n\n<pre><code>System.out.println(Stream.of(input).flatMapToInt(CharSequence::chars)\n    .distinct().mapToObj(c -&gt; Character.valueOf((char) c))\n    .collect(Collectors.toList()));\n</code></pre>\n\n<p>Could probably be written in a more efficient manner.</p>\n\n<p>The JDK doesn't define <code>CharStream</code>, unfortunately...</p>\n"},{"tags":[],"owner":{"account_id":10401629,"reputation":109,"user_id":7669707,"display_name":"jegadeesh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1530613369,"creation_date":1530612924,"answer_id":51152031,"question_id":27881627,"body_markdown":"Java in Action 8 : has nice explanation of using flat map, I am reiterate the solution which is posted earlier and giving the explanation as per the book. \r\n\r\n    String[] input = {&quot;This&quot;, &quot;is&quot;, &quot;This&quot;, &quot;not&quot;};\r\n\r\n\r\n\r\nmap function returns a stream consisting of the results of applying the given function to the elements of this stream.\r\n\r\n    &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper);\r\n\r\n        List&lt;Stream&lt;String&gt;&gt; steramsOfStream = Arrays.stream(input)\r\n                .map(word -&gt; word.split(&quot;&quot;))\r\n                .map(Arrays::stream)\r\n                .distinct().collect(Collectors.toList());\r\n\r\n        steramsOfStream.forEach(a -&gt; {\r\n                a.forEach(System.out::print);\r\n                System.out.print(&quot;\\n&quot;);\r\n            });\r\n\r\nThis will produce the following output\r\n\r\noutput : \r\n[This,is, This, not ] \r\n\r\n[![enter image description here][1]][1]\r\n\r\nflat map Returns a stream consisting of the results of &quot; replacing each element of this stream with the contents of a mapped stream produced by applying the provided mapping function to each element.\r\n\r\n    &lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper);\r\n\r\n        List&lt;String&gt; listOfStringss = Arrays.stream(input)\r\n                .map(word -&gt; word.split(&quot;&quot;))\r\n                .flatMap(Arrays::stream)\r\n                .distinct().collect(Collectors.toList());\r\n\r\n        System.out.println(listOfStringss);\r\n\r\nproduces output : \r\n[T, h, i, s, n, o, t]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PmtRf.jpg\r\n  [2]: https://i.stack.imgur.com/h4mNP.jpg","title":"Java 8 Stream unique characters from array","body":"<p>Java in Action 8 : has nice explanation of using flat map, I am reiterate the solution which is posted earlier and giving the explanation as per the book. </p>\n\n<pre><code>String[] input = {\"This\", \"is\", \"This\", \"not\"};\n</code></pre>\n\n<p>map function returns a stream consisting of the results of applying the given function to the elements of this stream.</p>\n\n<pre><code>&lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper);\n\n    List&lt;Stream&lt;String&gt;&gt; steramsOfStream = Arrays.stream(input)\n            .map(word -&gt; word.split(\"\"))\n            .map(Arrays::stream)\n            .distinct().collect(Collectors.toList());\n\n    steramsOfStream.forEach(a -&gt; {\n            a.forEach(System.out::print);\n            System.out.print(\"\\n\");\n        });\n</code></pre>\n\n<p>This will produce the following output</p>\n\n<p>output : \n[This,is, This, not ] </p>\n\n<p><a href=\"https://i.stack.imgur.com/PmtRf.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PmtRf.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>flat map Returns a stream consisting of the results of \" replacing each element of this stream with the contents of a mapped stream produced by applying the provided mapping function to each element.</p>\n\n<pre><code>&lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper);\n\n    List&lt;String&gt; listOfStringss = Arrays.stream(input)\n            .map(word -&gt; word.split(\"\"))\n            .flatMap(Arrays::stream)\n            .distinct().collect(Collectors.toList());\n\n    System.out.println(listOfStringss);\n</code></pre>\n\n<p>produces output : \n[T, h, i, s, n, o, t]\n[<img src=\"https://i.stack.imgur.com/h4mNP.jpg\" alt=\"enter image description here\">]<a href=\"https://i.stack.imgur.com/h4mNP.jpg\" rel=\"noreferrer\">2</a></p>\n"},{"tags":[],"owner":{"account_id":22748502,"reputation":1,"user_id":16908981,"display_name":"SaiedTalebi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686143133,"creation_date":1685904821,"answer_id":76401978,"question_id":27881627,"body_markdown":"    List&lt;String&gt; findUniqueCharacters(String[] arr) {\r\n        List&lt;String&gt; uniqueList = Arrays.stream(arr)\r\n                .flatMap(str -&gt; Arrays.stream(str.split(&quot;&quot;)))\r\n                .collect(Collectors.toMap(k -&gt; k, v -&gt; 1, (v1, v2) -&gt; v1 + v2))\r\n                .entrySet()\r\n                .stream()\r\n                .filter(e -&gt; e.getValue() == 1)\r\n                .map(e -&gt; e.getKey())\r\n                .collect(Collectors.toList());\r\n        return uniqueList;\r\n    }","title":"Java 8 Stream unique characters from array","body":"<pre><code>List&lt;String&gt; findUniqueCharacters(String[] arr) {\n    List&lt;String&gt; uniqueList = Arrays.stream(arr)\n            .flatMap(str -&gt; Arrays.stream(str.split(&quot;&quot;)))\n            .collect(Collectors.toMap(k -&gt; k, v -&gt; 1, (v1, v2) -&gt; v1 + v2))\n            .entrySet()\n            .stream()\n            .filter(e -&gt; e.getValue() == 1)\n            .map(e -&gt; e.getKey())\n            .collect(Collectors.toList());\n    return uniqueList;\n}\n</code></pre>\n"}],"owner":{"account_id":5485852,"reputation":1763,"user_id":4360647,"accept_rate":88,"display_name":"adam.kubi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27881673,"answer_count":4,"score":1,"last_activity_date":1686143133,"creation_date":1420927020,"question_id":27881627,"body_markdown":"Trying to write a simple program that will print the unique words from an input array in **Java8** . For example if the input is \r\n\r\n       String[] input = {&quot;This&quot;, &quot;is&quot;, &quot;This&quot;, &quot;not&quot;};\r\nThe program should output `[T, h, i, s, n, o, t]` , the order of elements should follow the same pattern as they appear in input. My approach is to `split` the input , then `map`, `distinct` and finally `collect` it toList. But the following code is printing list of streams instead of words, what am i missing?.E.g.\r\n\r\n    String[] input = {&quot;This&quot;, &quot;is&quot;, &quot;This&quot;, &quot;not&quot;};\r\n           System.out.println(Arrays.stream(input)\r\n                   .map(word -&gt; word.split(&quot;&quot;))\r\n                   .map(Arrays::stream)\r\n                   .distinct()\r\n                   .collect(toList()));\r\nCurrent output\r\n\r\n    [java.util.stream.ReferencePipeline$Head@548c4f57, java.util.stream.ReferencePipeline$Head@1218025c, java.util.stream.ReferencePipeline$Head@816f27d, java.util.stream.ReferencePipeline$Head@87aac27]\r\n\r\nI am interested to see if there are some other ways in Java8 to achieve the same. \r\n\r\n","title":"Java 8 Stream unique characters from array","body":"<p>Trying to write a simple program that will print the unique words from an input array in <strong>Java8</strong> . For example if the input is </p>\n\n<pre><code>   String[] input = {\"This\", \"is\", \"This\", \"not\"};\n</code></pre>\n\n<p>The program should output <code>[T, h, i, s, n, o, t]</code> , the order of elements should follow the same pattern as they appear in input. My approach is to <code>split</code> the input , then <code>map</code>, <code>distinct</code> and finally <code>collect</code> it toList. But the following code is printing list of streams instead of words, what am i missing?.E.g.</p>\n\n<pre><code>String[] input = {\"This\", \"is\", \"This\", \"not\"};\n       System.out.println(Arrays.stream(input)\n               .map(word -&gt; word.split(\"\"))\n               .map(Arrays::stream)\n               .distinct()\n               .collect(toList()));\n</code></pre>\n\n<p>Current output</p>\n\n<pre><code>[java.util.stream.ReferencePipeline$Head@548c4f57, java.util.stream.ReferencePipeline$Head@1218025c, java.util.stream.ReferencePipeline$Head@816f27d, java.util.stream.ReferencePipeline$Head@87aac27]\n</code></pre>\n\n<p>I am interested to see if there are some other ways in Java8 to achieve the same. </p>\n"},{"tags":["java","openapi","gradle-plugin","swagger-codegen","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":17193192,"reputation":124,"user_id":12446589,"display_name":"Igor Nosovskyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649244664,"creation_date":1649244664,"answer_id":71765971,"question_id":64559945,"body_markdown":"I get the same error. After a few hours of looking found the [answer here][1]. The problem was in my API doc. Try to change it.\r\n\r\n    startDate:\r\n              type: string\r\n              format: &#39;yyyy-mm-dd&#39;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61082113/bug-in-openapi-generator-wrong-format-for-the-example-value-of-date-datatype","title":"Wrong serialized LocalDateTime with OpenAPI Generator","body":"<p>I get the same error. After a few hours of looking found the <a href=\"https://stackoverflow.com/questions/61082113/bug-in-openapi-generator-wrong-format-for-the-example-value-of-date-datatype\">answer here</a>. The problem was in my API doc. Try to change it.</p>\n<pre><code>startDate:\n          type: string\n          format: 'yyyy-mm-dd'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11507773,"reputation":71,"user_id":8725920,"display_name":"Shterneregen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686143067,"creation_date":1686143067,"answer_id":76423605,"question_id":64559945,"body_markdown":"I was looking for a solution to the same problem for LocalDate\r\n\r\nFor me the solution was:\r\n```groovy\r\ntypeMappings = [\r\n        LocalDate: &quot;String&quot;\r\n]\r\n```\r\n\r\nAlso I found explanation of this behaviour in the tread: https://stackoverflow.com/a/75881743/8725920\r\n\r\n&gt; This is not a bug, but a conscious decision on the part of the developers. You said you are using the **java** generator with the **resttemplate** library. By default, the resttemplate library generates a class called **RFC3339DateFormat**, and a class called JavaTimeFormatter","title":"Wrong serialized LocalDateTime with OpenAPI Generator","body":"<p>I was looking for a solution to the same problem for LocalDate</p>\n<p>For me the solution was:</p>\n<pre><code>typeMappings = [\n        LocalDate: &quot;String&quot;\n]\n</code></pre>\n<p>Also I found explanation of this behaviour in the tread: <a href=\"https://stackoverflow.com/a/75881743/8725920\">https://stackoverflow.com/a/75881743/8725920</a></p>\n<blockquote>\n<p>This is not a bug, but a conscious decision on the part of the developers. You said you are using the <strong>java</strong> generator with the <strong>resttemplate</strong> library. By default, the resttemplate library generates a class called <strong>RFC3339DateFormat</strong>, and a class called JavaTimeFormatter</p>\n</blockquote>\n"}],"owner":{"account_id":6355790,"reputation":163,"user_id":4933141,"display_name":"braren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3081,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1686143067,"creation_date":1603820154,"question_id":64559945,"body_markdown":"I&#39;m using OpenAPI Generator to create a client, but when I trying to make a POST request is serialized the LocalDateTime like a integer array, looks like\r\n\r\n```json\r\n{\r\n  &quot;startDate&quot;: [ 2019, 11, 13, 0, 0 ],\r\n  &quot;endDate&quot;: [ 2020, 12, 31, 0, 0 ]\r\n}\r\n```\r\n\r\nI&#39;m waiting for this result, parse like a ISO string\r\n\r\n```json\r\n{\r\n  &quot;startDate&quot;: &quot;2019-11-13T00:00&quot;,\r\n  &quot;endDate&quot;: &quot;2020-12-31T00:00&quot;\r\n}\r\n```\r\n\r\nMy gradle configuration is this:\r\n\r\n```gradle\r\ndependencies {\r\n  compile &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.3&#39;\r\n  classpath &#39;org.openapitools:openapi-generator-gradle-plugin:4.2.3&#39;\r\n}\r\n\r\ntask generateClientDS(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\r\n  inputSpec = &quot;$rootDir/specifications/client-ds.yaml&quot;.toString()\r\n  outputDir = &quot;$rootDir&quot;.toString()\r\n  generatorName = &#39;java&#39;\r\n  library = &#39;resttemplate&#39;\r\n  apiPackage = &#39;com.example.gen.clients.clientds.api&#39;\r\n  modelPackage = &#39;com.example.gen.clients.clientds.dto&#39;\r\n  modelNameSuffix = &#39;DTO&#39;\r\n  configOptions = [\r\n          hideGenerationTimestamp: &#39;true&#39;,\r\n          dateLibrary: &#39;java8&#39;\r\n  ]\r\n  typeMappings = [\r\n          OffsetDateTime: &#39;java.time.LocalDateTime&#39;\r\n  ]\r\n}\r\n```\r\n\r\napplication.properties\r\n\r\n```properties\r\nspring.jackson.serialization.write-dates-as-timestamps=false\r\n```\r\n\r\nI&#39;ve even added it as been but it doesn&#39;t work, any idea what is wrong?","title":"Wrong serialized LocalDateTime with OpenAPI Generator","body":"<p>I'm using OpenAPI Generator to create a client, but when I trying to make a POST request is serialized the LocalDateTime like a integer array, looks like</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;startDate&quot;: [ 2019, 11, 13, 0, 0 ],\n  &quot;endDate&quot;: [ 2020, 12, 31, 0, 0 ]\n}\n</code></pre>\n<p>I'm waiting for this result, parse like a ISO string</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;startDate&quot;: &quot;2019-11-13T00:00&quot;,\n  &quot;endDate&quot;: &quot;2020-12-31T00:00&quot;\n}\n</code></pre>\n<p>My gradle configuration is this:</p>\n<pre><code>dependencies {\n  compile 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.3'\n  classpath 'org.openapitools:openapi-generator-gradle-plugin:4.2.3'\n}\n\ntask generateClientDS(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\n  inputSpec = &quot;$rootDir/specifications/client-ds.yaml&quot;.toString()\n  outputDir = &quot;$rootDir&quot;.toString()\n  generatorName = 'java'\n  library = 'resttemplate'\n  apiPackage = 'com.example.gen.clients.clientds.api'\n  modelPackage = 'com.example.gen.clients.clientds.dto'\n  modelNameSuffix = 'DTO'\n  configOptions = [\n          hideGenerationTimestamp: 'true',\n          dateLibrary: 'java8'\n  ]\n  typeMappings = [\n          OffsetDateTime: 'java.time.LocalDateTime'\n  ]\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.jackson.serialization.write-dates-as-timestamps=false\n</code></pre>\n<p>I've even added it as been but it doesn't work, any idea what is wrong?</p>\n"},{"tags":["java","openapi","maven-plugin","openapi-generator","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":4417047,"reputation":545,"user_id":3598311,"display_name":"sgupta"},"score":1,"creation_date":1668555009,"post_id":73853636,"comment_id":131433089,"body_markdown":"Did you find any answer? I am facing same issue..where generating kotlin files, it generates only allOf field, but no other properties are in generated class. Please let me know if you found a solution","body":"Did you find any answer? I am facing same issue..where generating kotlin files, it generates only allOf field, but no other properties are in generated class. Please let me know if you found a solution"},{"owner":{"account_id":8115891,"reputation":174,"user_id":6114412,"display_name":"appel500"},"score":0,"creation_date":1668766307,"post_id":73853636,"comment_id":131491199,"body_markdown":"@sgupta https://github.com/OpenAPITools/openapi-generator/issues/10010 - no solution yet","body":"@sgupta <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/10010\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/10010</a> - no solution yet"}],"answers":[{"tags":[],"owner":{"account_id":17270907,"reputation":147,"user_id":12506649,"display_name":"zeval"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686142569,"creation_date":1686142569,"answer_id":76423538,"question_id":73853636,"body_markdown":"The way `allOf` is processed has recently changed, as of v6.5.0, in order to deal with the exact issue you&#39;re describing. The changes were motivated by [this issue][1], and introduced in [this PR][2].\r\n\r\nThe new functionality is not default behaviour, however. In order to try it, you can use the `REFACTOR_ALLOF_WITH_PROPERTIES_ONLY` flag. The following example is for the [openapi-generator-cli][3], though it can easily be extended to the Maven plugin using the [`openApiNormalizer`][4] configuration.\r\n\r\n```bash\r\nopenapi-generator generate -g &lt;target_language&gt; -i &lt;api_spec_file&gt; -o gen --openapi-normalizer REFACTOR_ALLOF_WITH_PROPERTIES_ONLY=true\r\n```\r\n\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator/issues/10010\r\n  [2]: https://github.com/OpenAPITools/openapi-generator/pull/15039\r\n  [3]: https://github.com/OpenAPITools/openapi-generator-cli\r\n  [4]: https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin#:~:text=follow%20the%20spec.-,openapiNormalizer,-openapi.generator.maven","title":"Open API generator allOf not generating model correctly","body":"<p>The way <code>allOf</code> is processed has recently changed, as of v6.5.0, in order to deal with the exact issue you're describing. The changes were motivated by <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/10010\" rel=\"nofollow noreferrer\">this issue</a>, and introduced in <a href=\"https://github.com/OpenAPITools/openapi-generator/pull/15039\" rel=\"nofollow noreferrer\">this PR</a>.</p>\n<p>The new functionality is not default behaviour, however. In order to try it, you can use the <code>REFACTOR_ALLOF_WITH_PROPERTIES_ONLY</code> flag. The following example is for the <a href=\"https://github.com/OpenAPITools/openapi-generator-cli\" rel=\"nofollow noreferrer\">openapi-generator-cli</a>, though it can easily be extended to the Maven plugin using the <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin#:%7E:text=follow%20the%20spec.-,openapiNormalizer,-openapi.generator.maven\" rel=\"nofollow noreferrer\"><code>openApiNormalizer</code></a> configuration.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>openapi-generator generate -g &lt;target_language&gt; -i &lt;api_spec_file&gt; -o gen --openapi-normalizer REFACTOR_ALLOF_WITH_PROPERTIES_ONLY=true\n</code></pre>\n"}],"owner":{"account_id":8115891,"reputation":174,"user_id":6114412,"display_name":"appel500"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3986,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1686142569,"creation_date":1664192440,"question_id":73853636,"body_markdown":"I want to generate our models based on an Openapi spec 3.0 yml definition. In my spec I have a definition using `allOf` to include the fields of the other components. When generating the models with the `openapi-generator-maven-plugin`. I see the following warning `allOf with multiple schemas defined. Using only the first one`.\r\n\r\nThe result is that only the first `allOf` definition&#39;s properties are included. While I expected all fields to be included. https://editor.swagger.io/ generates the schemas correct.\r\n\r\nWhy are not all properties defined in an `allOf` included?\r\n\r\nSchema definition:\r\n\r\n    Dto:\r\n      title: Dto\r\n      type: object\r\n      properties:\r\n        created_by:\r\n          type: string\r\n          format: date-time\r\n    \r\n    Foo:\r\n      title: Foo\r\n      type: object\r\n      allOf:\r\n        - $ref: &#39;#/Dto&#39;\r\n      properties:\r\n        fooProperty:\r\n          type: string\r\n    \r\n    Bar:\r\n      title: Bar\r\n      type: object\r\n      allOf:\r\n        - $ref: &#39;#/Foo&#39;\r\n      properties:\r\n        barProperty:\r\n          type: string\r\n\r\n\r\n\r\nmaven plugin configuration:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;6.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;inputSpec&gt;myspec.yml&lt;/inputSpec&gt;\r\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                            &lt;generateApis&gt;false&lt;/generateApis&gt;\r\n                            &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n                            &lt;configOptions&gt;\r\n                                &lt;serializableModel&gt;true&lt;/serializableModel&gt;\r\n                                &lt;documentationProvider&gt;none&lt;/documentationProvider&gt;\r\n                                &lt;openApiNullable&gt;false&lt;/openApiNullable&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nThe result is `Bar` with only the fields of `Dto` and `Bar` but not those of `Foo`.\r\nWhy are not all properties defined in an `allOf` included?\r\n","title":"Open API generator allOf not generating model correctly","body":"<p>I want to generate our models based on an Openapi spec 3.0 yml definition. In my spec I have a definition using <code>allOf</code> to include the fields of the other components. When generating the models with the <code>openapi-generator-maven-plugin</code>. I see the following warning <code>allOf with multiple schemas defined. Using only the first one</code>.</p>\n<p>The result is that only the first <code>allOf</code> definition's properties are included. While I expected all fields to be included. <a href=\"https://editor.swagger.io/\" rel=\"noreferrer\">https://editor.swagger.io/</a> generates the schemas correct.</p>\n<p>Why are not all properties defined in an <code>allOf</code> included?</p>\n<p>Schema definition:</p>\n<pre><code>Dto:\n  title: Dto\n  type: object\n  properties:\n    created_by:\n      type: string\n      format: date-time\n\nFoo:\n  title: Foo\n  type: object\n  allOf:\n    - $ref: '#/Dto'\n  properties:\n    fooProperty:\n      type: string\n\nBar:\n  title: Bar\n  type: object\n  allOf:\n    - $ref: '#/Foo'\n  properties:\n    barProperty:\n      type: string\n</code></pre>\n<p>maven plugin configuration:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;inputSpec&gt;myspec.yml&lt;/inputSpec&gt;\n                        &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                        &lt;generateApis&gt;false&lt;/generateApis&gt;\n                        &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n                        &lt;configOptions&gt;\n                            &lt;serializableModel&gt;true&lt;/serializableModel&gt;\n                            &lt;documentationProvider&gt;none&lt;/documentationProvider&gt;\n                            &lt;openApiNullable&gt;false&lt;/openApiNullable&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>The result is <code>Bar</code> with only the fields of <code>Dto</code> and <code>Bar</code> but not those of <code>Foo</code>.\nWhy are not all properties defined in an <code>allOf</code> included?</p>\n"},{"tags":["java","postgresql","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686119351,"post_id":76418413,"comment_id":134753532,"body_markdown":"Use the `PostgresqlDialect` instead. Newer versions of hibernate don&#39;t include the one you mentioned any more. Also remove the `spring.jpa.database` property as that does the same as the dialect (they should be mutually exclusive imho).","body":"Use the <code>PostgresqlDialect</code> instead. Newer versions of hibernate don&#39;t include the one you mentioned any more. Also remove the <code>spring.jpa.database</code> property as that does the same as the dialect (they should be mutually exclusive imho)."},{"owner":{"account_id":14593315,"reputation":109,"user_id":10539821,"display_name":"Emmanuel Madarassou"},"score":0,"creation_date":1686121579,"post_id":76418413,"comment_id":134753938,"body_markdown":"Thanks you for your answer and your time. I will try that as soon as I get back home and will keep you updated.","body":"Thanks you for your answer and your time. I will try that as soon as I get back home and will keep you updated."}],"answers":[{"tags":[],"owner":{"account_id":14593315,"reputation":109,"user_id":10539821,"display_name":"Emmanuel Madarassou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686142427,"creation_date":1686142427,"answer_id":76423522,"question_id":76418413,"body_markdown":"spring.jpa.properties.hibernate.dialect must be set to org.hibernate.dialect.PostgreSQLDialect","title":"Add PostgreSQL dependency with spring-boot","body":"<p>spring.jpa.properties.hibernate.dialect must be set to org.hibernate.dialect.PostgreSQLDialect</p>\n"}],"owner":{"account_id":14593315,"reputation":109,"user_id":10539821,"display_name":"Emmanuel Madarassou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686142427,"creation_date":1686085092,"question_id":76418413,"body_markdown":"I&#39;m trying to setup my postgreSQL connection with my db and I have this NoClassDefFound error when I add postgresql dependency in my pom while doing a mvn clean install. I think it might be a casual error but I&#39;m new to Spring and I can&#39;t find a proper explanation on forum. I also tried to specify postgresql dependency version but didn&#39;t get much results out of it.\r\n\r\n```\r\n    Caused by: java.lang.NoClassDefFoundError: org/hibernate/dialect/PostgreSQL95Dialect\r\n```\r\n\r\nHere is my application.yml:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    platform: postgres\r\n    url: jdbc:postgresql://localhost:5432/mtc_db\r\n    username: postgres\r\n    password: postgres\r\n    driverClassName: org.postgresql.Driver\r\n  jpa:\r\n    database: postgresql\r\n    show-sql: true\r\n    hibernate:\r\n      ddl-auto: create-drop\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.PostgreSQL95Dialect\r\n```\r\n\r\nAnd my pom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;mtc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mtc-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;mtc-api&lt;/name&gt;\r\n\t&lt;description&gt;API for MTC application&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;kotlin.version&gt;1.8.21&lt;/kotlin.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n\t\t&lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;args&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n\t\t\t\t\t&lt;/args&gt;\r\n\t\t\t\t\t&lt;compilerPlugins&gt;\r\n\t\t\t\t\t\t&lt;plugin&gt;spring&lt;/plugin&gt;\r\n\t\t\t\t\t\t&lt;plugin&gt;jpa&lt;/plugin&gt;\r\n\t\t\t\t\t\t&lt;!-- Or &quot;spring&quot; for the Spring support --&gt;\r\n\t\t\t\t\t\t&lt;plugin&gt;all-open&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;/compilerPlugins&gt;\r\n\t\t\t\t\t&lt;pluginOptions&gt;\r\n\t\t\t\t\t\t&lt;!-- Each annotation is placed on its own line --&gt;\r\n\t\t\t\t\t\t&lt;option&gt;all-open:annotation=com.my.Annotation&lt;/option&gt;\r\n\t\t\t\t\t\t&lt;option&gt;all-open:annotation=com.their.AnotherAnnotation&lt;/option&gt;\r\n\t\t\t\t\t&lt;/pluginOptions&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"Add PostgreSQL dependency with spring-boot","body":"<p>I'm trying to setup my postgreSQL connection with my db and I have this NoClassDefFound error when I add postgresql dependency in my pom while doing a mvn clean install. I think it might be a casual error but I'm new to Spring and I can't find a proper explanation on forum. I also tried to specify postgresql dependency version but didn't get much results out of it.</p>\n<pre><code>    Caused by: java.lang.NoClassDefFoundError: org/hibernate/dialect/PostgreSQL95Dialect\n</code></pre>\n<p>Here is my application.yml:</p>\n<pre><code>spring:\n  datasource:\n    platform: postgres\n    url: jdbc:postgresql://localhost:5432/mtc_db\n    username: postgres\n    password: postgres\n    driverClassName: org.postgresql.Driver\n  jpa:\n    database: postgresql\n    show-sql: true\n    hibernate:\n      ddl-auto: create-drop\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQL95Dialect\n</code></pre>\n<p>And my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;mtc&lt;/groupId&gt;\n    &lt;artifactId&gt;mtc-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mtc-api&lt;/name&gt;\n    &lt;description&gt;API for MTC application&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.8.21&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                        &lt;plugin&gt;jpa&lt;/plugin&gt;\n                        &lt;!-- Or &quot;spring&quot; for the Spring support --&gt;\n                        &lt;plugin&gt;all-open&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                    &lt;pluginOptions&gt;\n                        &lt;!-- Each annotation is placed on its own line --&gt;\n                        &lt;option&gt;all-open:annotation=com.my.Annotation&lt;/option&gt;\n                        &lt;option&gt;all-open:annotation=com.their.AnotherAnnotation&lt;/option&gt;\n                    &lt;/pluginOptions&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","servlets"],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686128413,"creation_date":1686128413,"answer_id":76421582,"question_id":76421444,"body_markdown":"Try below solution with modification :\r\n\r\nFROM -&gt;\r\n\r\n    @GetMapping(path = &quot;/{fileName}&quot;)\r\n    public void download(@PathVariable String fileName, @RequestParam String ip, HttpServletResponse response) throws IOException {    \r\n        var output = response.getOutputStream();\r\n        useCaseFactory.makeDownloadVideo(ip, fileName, output).execute();\r\n    }\r\n\r\nTO -&gt;\r\n\r\n    @GetMapping(path = &quot;/{fileName}&quot;)\r\n    public void download(@PathVariable String fileName, @RequestParam String ip, HttpServletResponse response) throws IOException {\r\n        ServletOutputStream output = response.getOutputStream();\r\n        useCaseFactory.makeDownloadVideo(ip, fileName, output).execute();\r\n    }","title":"Invoked method jakarta.servlet.ServletResponse.getOutputStream() is no accessor method","body":"<p>Try below solution with modification :</p>\n<p>FROM -&gt;</p>\n<pre><code>@GetMapping(path = &quot;/{fileName}&quot;)\npublic void download(@PathVariable String fileName, @RequestParam String ip, HttpServletResponse response) throws IOException {    \n    var output = response.getOutputStream();\n    useCaseFactory.makeDownloadVideo(ip, fileName, output).execute();\n}\n</code></pre>\n<p>TO -&gt;</p>\n<pre><code>@GetMapping(path = &quot;/{fileName}&quot;)\npublic void download(@PathVariable String fileName, @RequestParam String ip, HttpServletResponse response) throws IOException {\n    ServletOutputStream output = response.getOutputStream();\n    useCaseFactory.makeDownloadVideo(ip, fileName, output).execute();\n}\n</code></pre>\n"}],"owner":{"account_id":9420882,"reputation":1,"user_id":9821385,"display_name":"drdr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686142129,"creation_date":1686127425,"question_id":76421444,"body_markdown":"Since updating to Spring Boot 3 I get this exception when I try to retrieve ServletOutPutStream from HttpServletResponse. This was never an issue with Spring Boot 2x.\r\n\r\n```\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport net.infraview.uss.videoeventapi.entrypoints.UseCaseFactory;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;/download&quot;)\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class DownloadController{\r\n\r\n    private final UseCaseFactory useCaseFactory;\r\n\r\n    @GetMapping(path = &quot;/{fileName}&quot;)\r\n    public void download(@PathVariable String fileName, @RequestParam String ip, HttpServletResponse response)\r\n        throws IOException {\r\n\r\n        var output = response.getOutputStream();\r\n        useCaseFactory.makeDownloadVideo(ip, fileName, output)\r\n            .execute();\r\n    }\r\n```\r\nFull exception\r\n\r\n```\r\n{\r\n    &quot;type&quot;: &quot;about:blank&quot;,\r\n    &quot;title&quot;: &quot;Bad Request&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;detail&quot;: &quot;Invoked method public abstract jakarta.servlet.ServletOutputStream jakarta.servlet.ServletResponse.getOutputStream() throws java.io.IOException is no accessor method&quot;,\r\n    &quot;instance&quot;: &quot;/download/reports.mp4&quot;\r\n}\r\n```\r\n\r\nHas anyone experienced similar issue? If so what was the solution?\r\n\r\n\r\n\r\n\r\nI tried the newest Spring Boot 3.1.0 and Spring Cloud Version 2022.0.2\r\nbut the problem persists.","title":"Invoked method jakarta.servlet.ServletResponse.getOutputStream() is no accessor method","body":"<p>Since updating to Spring Boot 3 I get this exception when I try to retrieve ServletOutPutStream from HttpServletResponse. This was never an issue with Spring Boot 2x.</p>\n<pre><code>import jakarta.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport net.infraview.uss.videoeventapi.entrypoints.UseCaseFactory;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(path = &quot;/download&quot;)\n@RequiredArgsConstructor\n@Slf4j\npublic class DownloadController{\n\n    private final UseCaseFactory useCaseFactory;\n\n    @GetMapping(path = &quot;/{fileName}&quot;)\n    public void download(@PathVariable String fileName, @RequestParam String ip, HttpServletResponse response)\n        throws IOException {\n\n        var output = response.getOutputStream();\n        useCaseFactory.makeDownloadVideo(ip, fileName, output)\n            .execute();\n    }\n</code></pre>\n<p>Full exception</p>\n<pre><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Bad Request&quot;,\n    &quot;status&quot;: 400,\n    &quot;detail&quot;: &quot;Invoked method public abstract jakarta.servlet.ServletOutputStream jakarta.servlet.ServletResponse.getOutputStream() throws java.io.IOException is no accessor method&quot;,\n    &quot;instance&quot;: &quot;/download/reports.mp4&quot;\n}\n</code></pre>\n<p>Has anyone experienced similar issue? If so what was the solution?</p>\n<p>I tried the newest Spring Boot 3.1.0 and Spring Cloud Version 2022.0.2\nbut the problem persists.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":6,"creation_date":1341564901,"post_id":11358945,"comment_id":14962374,"body_markdown":"Considering this comment *&quot;wait for 1 millisecond to avoid duplicate file name&quot;* you might want to give more background as waiting is maybe not the best solution in this case.","body":"Considering this comment <i>&quot;wait for 1 millisecond to avoid duplicate file name&quot;</i> you might want to give more background as waiting is maybe not the best solution in this case."},{"owner":{"account_id":344283,"reputation":2371,"user_id":676506,"accept_rate":74,"display_name":"Rick-Rainer Ludwig"},"score":2,"creation_date":1341565068,"post_id":11358945,"comment_id":14962426,"body_markdown":"Some things to mention: 1) Better do not wait for a time period. Wait for an event to happen. 2) If you do not have an event and taken your comment, you should use synchronization to avoid some conflicts. 3) How accurate has the time period to be? Some more information about your current problem would be helpful to answer this question correctly.","body":"Some things to mention: 1) Better do not wait for a time period. Wait for an event to happen. 2) If you do not have an event and taken your comment, you should use synchronization to avoid some conflicts. 3) How accurate has the time period to be? Some more information about your current problem would be helpful to answer this question correctly."},{"owner":{"account_id":1594118,"reputation":19382,"user_id":1476749,"accept_rate":57,"display_name":"Jury A"},"score":0,"creation_date":1341566110,"post_id":11358945,"comment_id":14962853,"body_markdown":"My script creates test file to save logs. The text file named with the date and time. I used wait to avoid two threads creating the same file name at the same moment. So, if the Program waits for 1ms, this guarantees non duplicate names as the name contains milliseconds.","body":"My script creates test file to save logs. The text file named with the date and time. I used wait to avoid two threads creating the same file name at the same moment. So, if the Program waits for 1ms, this guarantees non duplicate names as the name contains milliseconds."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1341567444,"post_id":11358945,"comment_id":14963433,"body_markdown":"@JuryA You could have a separate thread-safe class with a `getUniqueFileName()` method that generates a unique file name with time stamp. Then you can handle the duplicate issue in that class by keeping the last created filename for example - and if the new one is the same, append something...","body":"@JuryA You could have a separate thread-safe class with a <code>getUniqueFileName()</code> method that generates a unique file name with time stamp. Then you can handle the duplicate issue in that class by keeping the last created filename for example - and if the new one is the same, append something..."},{"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"score":0,"creation_date":1341567674,"post_id":11358945,"comment_id":14963539,"body_markdown":"Why can&#39;t you just put a critical section (`synchronized`) around the code that generates the file, such that multiple threads cannot overlap on that part of the code?","body":"Why can&#39;t you just put a critical section (<code>synchronized</code>) around the code that generates the file, such that multiple threads cannot overlap on that part of the code?"},{"owner":{"account_id":1594118,"reputation":19382,"user_id":1476749,"accept_rate":57,"display_name":"Jury A"},"score":0,"creation_date":1341610055,"post_id":11358945,"comment_id":14980994,"body_markdown":"@Tudor: The file name contains the date and time (with ms). But, what if 2 files created in less than millisecond (with synchronize)? so their name will be same, &amp; one will override the other.","body":"@Tudor: The file name contains the date and time (with ms). But, what if 2 files created in less than millisecond (with synchronize)? so their name will be same, &amp; one will override the other."}],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1341570043,"creation_date":1341569343,"answer_id":11360174,"question_id":11358945,"body_markdown":"Very few systems have a resolution of 1ms in the `System.currentTimeMillis()` call. If you want to wait until it changes then that is what you should do.\r\n\r\n    long start = System.currentTimeMillis();\r\n    while ( System.currentTimeMillis() == start ) {\r\n      Thread.sleep(1);\r\n    }\r\n\r\nor perhaps a little better:\r\n    \r\n    private static long lastMillis = 0;\r\n    \r\n    static synchronized long nextMillis() throws InterruptedException {\r\n      long nextMillis;\r\n      while ((nextMillis = System.currentTimeMillis()) == lastMillis) {\r\n        Thread.sleep(1);\r\n      }\r\n      return lastMillis = nextMillis;\r\n    }\r\n","title":"How can I make thread waits for 1ms in Java?","body":"<p>Very few systems have a resolution of 1ms in the <code>System.currentTimeMillis()</code> call. If you want to wait until it changes then that is what you should do.</p>\n\n<pre><code>long start = System.currentTimeMillis();\nwhile ( System.currentTimeMillis() == start ) {\n  Thread.sleep(1);\n}\n</code></pre>\n\n<p>or perhaps a little better:</p>\n\n<pre><code>private static long lastMillis = 0;\n\nstatic synchronized long nextMillis() throws InterruptedException {\n  long nextMillis;\n  while ((nextMillis = System.currentTimeMillis()) == lastMillis) {\n    Thread.sleep(1);\n  }\n  return lastMillis = nextMillis;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16215668,"reputation":9,"user_id":11708570,"display_name":"Vladmix6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686141809,"creation_date":1686141809,"answer_id":76423441,"question_id":11358945,"body_markdown":"There is a even better option without using Thread.sleep() (which creates flakiness especially in tests) --&gt; use **Awaitility** library, specially created to handle asynchronous calls.\r\n\r\nhere is an example for what are you trying to accomplish:\r\n\r\n   \r\n\r\n    await().pollDelay(1000, MILLISECONDS).untilAsserted(() -&gt; Assert.assertTrue(true));\r\n\r\nIt will check the assert (which is always true) after a delay of 1s.\r\n\r\nThis library offers solutions also for other scenarios, for example if you want to wait for  method to be executed first you can do:\r\n\r\n    @Test\r\n    public void updatesCustomerStatus() {\r\n        // Publish an asynchronous message to a broker (e.g. RabbitMQ):\r\n        messageBroker.publishMessage(updateCustomerStatusMessage);\r\n    \r\n        // Awaitility lets you wait until the asynchronous operation completes:\r\n        await().atMost(5, SECONDS).until(customerStatusIsUpdated());\r\n        ...\r\n    }\r\n    \r\n\r\nSee more usage scenarios on [their website][1].\r\n\r\n \r\n\r\n\r\n  [1]: http://www.awaitility.org/","title":"How can I make thread waits for 1ms in Java?","body":"<p>There is a even better option without using Thread.sleep() (which creates flakiness especially in tests) --&gt; use <strong>Awaitility</strong> library, specially created to handle asynchronous calls.</p>\n<p>here is an example for what are you trying to accomplish:</p>\n<pre><code>await().pollDelay(1000, MILLISECONDS).untilAsserted(() -&gt; Assert.assertTrue(true));\n</code></pre>\n<p>It will check the assert (which is always true) after a delay of 1s.</p>\n<p>This library offers solutions also for other scenarios, for example if you want to wait for  method to be executed first you can do:</p>\n<pre><code>@Test\npublic void updatesCustomerStatus() {\n    // Publish an asynchronous message to a broker (e.g. RabbitMQ):\n    messageBroker.publishMessage(updateCustomerStatusMessage);\n\n    // Awaitility lets you wait until the asynchronous operation completes:\n    await().atMost(5, SECONDS).until(customerStatusIsUpdated());\n    ...\n}\n</code></pre>\n<p>See more usage scenarios on <a href=\"http://www.awaitility.org/\" rel=\"nofollow noreferrer\">their website</a>.</p>\n"}],"owner":{"account_id":1594118,"reputation":19382,"user_id":1476749,"accept_rate":57,"display_name":"Jury A"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11360174,"answer_count":2,"score":0,"last_activity_date":1686141809,"creation_date":1341564721,"question_id":11358945,"body_markdown":"If I have a certain line, that I want any thread to wait for 1ms before execute it. How can I achieve this please. I&#39;m using the following lines before the line that I wanted but not sure if this is the right thing: \r\n\r\n    try // wait for 1 millisecond to avoid duplicate file name\r\n    {\r\n    Thread.sleep(1);  //wait for 1 ms\r\n    \r\n    }catch (InterruptedException ie)\r\n    {\r\n    System.out.println(ie.getMessage());\r\n    }\r\n","title":"How can I make thread waits for 1ms in Java?","body":"<p>If I have a certain line, that I want any thread to wait for 1ms before execute it. How can I achieve this please. I'm using the following lines before the line that I wanted but not sure if this is the right thing: </p>\n\n<pre><code>try // wait for 1 millisecond to avoid duplicate file name\n{\nThread.sleep(1);  //wait for 1 ms\n\n}catch (InterruptedException ie)\n{\nSystem.out.println(ie.getMessage());\n}\n</code></pre>\n"},{"tags":["java","json","jackson","deserialization"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1686140157,"post_id":76423154,"comment_id":134757781,"body_markdown":"I would suggest to take a look at [this answer](https://stackoverflow.com/questions/70897528/json-deserialize-in-java-for-different-type-of-variable-in-same-object/70903626#70903626), it deals with the same problem.","body":"I would suggest to take a look at <a href=\"https://stackoverflow.com/questions/70897528/json-deserialize-in-java-for-different-type-of-variable-in-same-object/70903626#70903626\">this answer</a>, it deals with the same problem."}],"answers":[{"tags":[],"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686140692,"creation_date":1686140692,"answer_id":76423286,"question_id":76423154,"body_markdown":"Usually there is a structure and pattern to these things and you would not need a Pojo for every variation, but your examples seem off to me, are you sure this is exactly what you are receiving?\r\n\r\nTypically your variants could be covered using something like below. \r\n\r\n```Java\r\npublic class ErrorRoot {\r\n    public String errorType;\r\n    public String errorMessage;\r\n}\r\n````\r\n\r\n**OR**\r\n\r\n```Java\r\npublic class ErrorRoot {\r\n    public ErrorMessage errorMessage;\r\n    public String errorType;\r\n}\r\n\r\npublic class ErrorMessage {\r\n    public int code;\r\n    public String message;\r\n}\r\n````\r\n\r\n\r\nUsage:\r\n\r\n```Java\r\n// Using fasterxml.jackson\r\nObjectMapper om = new ObjectMapper();\r\nRoot root = om.readValue(myJsonString, ErrorRoot.class);\r\n````","title":"I would like to deserialize JSON , in which one field may have more than one dataType","body":"<p>Usually there is a structure and pattern to these things and you would not need a Pojo for every variation, but your examples seem off to me, are you sure this is exactly what you are receiving?</p>\n<p>Typically your variants could be covered using something like below.</p>\n<pre><code>public class ErrorRoot {\n    public String errorType;\n    public String errorMessage;\n}\n</code></pre>\n<p><strong>OR</strong></p>\n<pre><code>public class ErrorRoot {\n    public ErrorMessage errorMessage;\n    public String errorType;\n}\n\npublic class ErrorMessage {\n    public int code;\n    public String message;\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>// Using fasterxml.jackson\nObjectMapper om = new ObjectMapper();\nRoot root = om.readValue(myJsonString, ErrorRoot.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686141795,"creation_date":1686141795,"answer_id":76423440,"question_id":76423154,"body_markdown":"I would suggest to serialize it into Map&lt;String, Object&gt; it will always work, but than you have to analyze your map and see what the structure is.\r\n\r\nYou can use Json Jackson library directly and use class `ObjectMapper` to do so. Also you can use `JsonUtils` class which is a thin wrapper over `ObjectMapper` class and allows you to do simple serialization/deserialization in one line. Here is an example:\r\n&lt;br&gt;\r\n\r\n\r\n    try {\r\n        Map&lt;String, Object&gt; myMap = JsonUtils.readObjectFromJsonString(jsonString, Map.class);\r\n    catch(IOException ioe) {\r\n      ...\r\n    }\r\n`JsonUtils` class is available as part of Open Source MgntUtils java library written and maintained by me. Here is [JsonUtils Javadoc][1] and the library may be obtained as [maven artifact][2] or from [github][3] (including source code and Javadoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://central.sonatype.com/artifact/com.github.michaelgantman/MgntUtils/1.6.0.6/versions\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"I would like to deserialize JSON , in which one field may have more than one dataType","body":"<p>I would suggest to serialize it into Map&lt;String, Object&gt; it will always work, but than you have to analyze your map and see what the structure is.</p>\n<p>You can use Json Jackson library directly and use class <code>ObjectMapper</code> to do so. Also you can use <code>JsonUtils</code> class which is a thin wrapper over <code>ObjectMapper</code> class and allows you to do simple serialization/deserialization in one line. Here is an example:\n<br></p>\n<pre><code>try {\n    Map&lt;String, Object&gt; myMap = JsonUtils.readObjectFromJsonString(jsonString, Map.class);\ncatch(IOException ioe) {\n  ...\n}\n</code></pre>\n<p><code>JsonUtils</code> class is available as part of Open Source MgntUtils java library written and maintained by me. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils Javadoc</a> and the library may be obtained as <a href=\"https://central.sonatype.com/artifact/com.github.michaelgantman/MgntUtils/1.6.0.6/versions\" rel=\"nofollow noreferrer\">maven artifact</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">github</a> (including source code and Javadoc)</p>\n"}],"owner":{"account_id":26412857,"reputation":5,"user_id":20061709,"display_name":"Web Nerd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76423286,"answer_count":2,"score":0,"last_activity_date":1686141795,"creation_date":1686139662,"question_id":76423154,"body_markdown":"I would like to deserialize a JSON body in java, in which one field may have more than one dataType and different field.\r\n\r\nFor example :\r\n\r\n1st Variant\r\n\r\n```\r\n{\r\n    &quot;errorMessage&quot;: &quot; Task timed out after 60.04 seconds&quot;\r\n}\r\n````\r\n\r\n2nd Variant\r\n\r\n```\r\n{\r\n    &quot;errorType&quot;: &quot;Runtime.ExitError&quot;,\r\n    &quot;errorMessage&quot;: &quot;RequestId: xyz Error: Runtime exited with error: signal: aborted&quot;\r\n}\r\n```\r\n\r\n3rd Variant\r\n```\r\n &quot;errorMessage&quot;: {\r\n        &quot;code&quot;: 502,\r\n        &quot;message&quot;: &quot;Failed to read object from S3: abcd9.json with error message: NoSuchBucket: The specified bucket does not exist&quot;\r\n    },\r\n    &quot;errorType&quot;: &quot;Error&quot;,\r\n```\r\n\r\n\r\n\r\nI am confuse how to design a pojo or data model to handle this and deserialize.\r\n\r\nIf its 3rd type of the JSON I want to access the code and message in my class.\r\n\r\nI was trying to create a customDeserializer but didn&#39;t get success.\r\n","title":"I would like to deserialize JSON , in which one field may have more than one dataType","body":"<p>I would like to deserialize a JSON body in java, in which one field may have more than one dataType and different field.</p>\n<p>For example :</p>\n<p>1st Variant</p>\n<pre><code>{\n    &quot;errorMessage&quot;: &quot; Task timed out after 60.04 seconds&quot;\n}\n</code></pre>\n<p>2nd Variant</p>\n<pre><code>{\n    &quot;errorType&quot;: &quot;Runtime.ExitError&quot;,\n    &quot;errorMessage&quot;: &quot;RequestId: xyz Error: Runtime exited with error: signal: aborted&quot;\n}\n</code></pre>\n<p>3rd Variant</p>\n<pre><code> &quot;errorMessage&quot;: {\n        &quot;code&quot;: 502,\n        &quot;message&quot;: &quot;Failed to read object from S3: abcd9.json with error message: NoSuchBucket: The specified bucket does not exist&quot;\n    },\n    &quot;errorType&quot;: &quot;Error&quot;,\n</code></pre>\n<p>I am confuse how to design a pojo or data model to handle this and deserialize.</p>\n<p>If its 3rd type of the JSON I want to access the code and message in my class.</p>\n<p>I was trying to create a customDeserializer but didn't get success.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9608,"page":384,"page_size":100}
