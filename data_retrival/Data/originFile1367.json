{"items":[{"tags":["java","spring","microservices","spring-cloud","auto-registration"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1500417756,"post_id":45085790,"comment_id":77325012,"body_markdown":"Yes, this is a problem I created that I plan to remedy soon.","body":"Yes, this is a problem I created that I plan to remedy soon."}],"answers":[{"tags":[],"owner":{"account_id":11753449,"reputation":1,"user_id":8601835,"display_name":"long"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505289726,"creation_date":1505288130,"answer_id":46191547,"question_id":45085790,"body_markdown":"Code\r\n----\r\n    discoveryClient.getServices().forEach(id -&gt; {\r\n                discoveryClient.getInstances(id).forEach(instance -&gt; {\r\n                    logger.info(&quot;/hello, host:&quot; + instance.getHost() + &quot;, service_id:&quot; + instance.getServiceId());\r\n                });\r\n            });","title":"Spring cloud DiscoveryClient. getLocalServiceInstance() deprecated, how to use Registration?","body":"<h2>Code</h2>\n\n<pre><code>discoveryClient.getServices().forEach(id -&gt; {\n            discoveryClient.getInstances(id).forEach(instance -&gt; {\n                logger.info(\"/hello, host:\" + instance.getHost() + \", service_id:\" + instance.getServiceId());\n            });\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11040878,"reputation":123,"user_id":8108852,"display_name":"localhost-er"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651980253,"creation_date":1651979197,"answer_id":72157770,"question_id":45085790,"body_markdown":"We can directly inject a `Registration` bean to do that, since class `Registration` is an abstraction, it should be adapted by different discovery clients, like if you are using Eureka, it will be an `EurekaRegistration` instance. For getting service instanceId, we can use the following code:\r\n```\r\n@Resource\r\nprivate Registration serviceRegistration;\r\n\r\npublic Object someMethod() {\r\n    //...\r\n    String instanceId = serviceRegistration.getInstanceId();\r\n    //...\r\n}\r\n```\r\nwe can also customize the `instanceId` by using `eureka.instance.instance-id` property in application.yml, see [spring eureka instanceId answer.](https://stackoverflow.com/a/46206548/8108852)\r\n","title":"Spring cloud DiscoveryClient. getLocalServiceInstance() deprecated, how to use Registration?","body":"<p>We can directly inject a <code>Registration</code> bean to do that, since class <code>Registration</code> is an abstraction, it should be adapted by different discovery clients, like if you are using Eureka, it will be an <code>EurekaRegistration</code> instance. For getting service instanceId, we can use the following code:</p>\n<pre><code>@Resource\nprivate Registration serviceRegistration;\n\npublic Object someMethod() {\n    //...\n    String instanceId = serviceRegistration.getInstanceId();\n    //...\n}\n</code></pre>\n<p>we can also customize the <code>instanceId</code> by using <code>eureka.instance.instance-id</code> property in application.yml, see <a href=\"https://stackoverflow.com/a/46206548/8108852\">spring eureka instanceId answer.</a></p>\n"}],"owner":{"account_id":331432,"reputation":3297,"user_id":656094,"accept_rate":40,"display_name":"Panthro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2087,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1651980253,"creation_date":1499961478,"question_id":45085790,"body_markdown":"I have a requirement to get the current instance-id of the running microservice, the problem is that I have the requirement that if the process is not registered a &quot;random generated&quot; instance id has to be provided.\r\n\r\nI&#39;m trying to get the service instance id from the DiscoveryClient but as the code points out the `getLocalServiceInstance` is deprecated and I can&#39;t use it.\r\n\r\nI tried to use the `Registration` as stated in the javadoc but coudn&#39;t find a way to get it initialized.\r\n\r\nIs there a conventional/specific way to get a service own registration?\r\n\r\nBtw, I cannot use a direct implementation because it is a starter that does not know what DiscoveryService implementation will be available at runtime.\r\n\r\n    /**\r\n\t * @deprecated use the {@link org.springframework.cloud.client.serviceregistry.Registration} bean instead\r\n\t *\r\n\t * @return ServiceInstance with information used to register the local service\r\n\t */\r\n\t@Deprecated\r\n\tServiceInstance getLocalServiceInstance();","title":"Spring cloud DiscoveryClient. getLocalServiceInstance() deprecated, how to use Registration?","body":"<p>I have a requirement to get the current instance-id of the running microservice, the problem is that I have the requirement that if the process is not registered a \"random generated\" instance id has to be provided.</p>\n\n<p>I'm trying to get the service instance id from the DiscoveryClient but as the code points out the <code>getLocalServiceInstance</code> is deprecated and I can't use it.</p>\n\n<p>I tried to use the <code>Registration</code> as stated in the javadoc but coudn't find a way to get it initialized.</p>\n\n<p>Is there a conventional/specific way to get a service own registration?</p>\n\n<p>Btw, I cannot use a direct implementation because it is a starter that does not know what DiscoveryService implementation will be available at runtime.</p>\n\n<pre><code>/**\n * @deprecated use the {@link org.springframework.cloud.client.serviceregistry.Registration} bean instead\n *\n * @return ServiceInstance with information used to register the local service\n */\n@Deprecated\nServiceInstance getLocalServiceInstance();\n</code></pre>\n"},{"tags":["java","amazon-s3","junit","minio"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1651821037,"post_id":72136575,"comment_id":127459004,"body_markdown":"you do not have to mock `iterator` `results` `result`","body":"you do not have to mock <code>iterator</code> <code>results</code> <code>result</code>"},{"owner":{"account_id":20478969,"reputation":1,"user_id":15027563,"display_name":"Prakash"},"score":0,"creation_date":1651908833,"post_id":72136575,"comment_id":127480731,"body_markdown":"That&#39;s okay. Then, how do I get my desired output? Please share the correct way of mocking this code.","body":"That&#39;s okay. Then, how do I get my desired output? Please share the correct way of mocking this code."},{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":0,"creation_date":1651941252,"post_id":72136575,"comment_id":127487626,"body_markdown":"Please provide more info of your class and test class","body":"Please provide more info of your class and test class"}],"owner":{"account_id":20478969,"reputation":1,"user_id":15027563,"display_name":"Prakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651976740,"creation_date":1651815053,"question_id":72136575,"body_markdown":"I am using `minioClient.listObjects` to fetch all the objects from `s3`. It returns the `iterable Result&lt;Item&gt;`. Here I was iterating over these results.\r\n\r\n```\r\npublic class S3class\r\n{       //this class is part of spring boot application. So here no main class.\r\n     public void s3method(){\r\n        MinioClient minioClient = MinioClient.builder().endpoint(&quot;&quot;)\r\n        .build();\r\n\r\n        Iterable&lt;Result&lt;Item&gt;&gt; results = minioClient.listObjects(\r\n                ListObjectsArgs.builder()\r\n                        .bucket(&quot;bucket_name&quot;)\r\n                        .recursive(true)\r\n                        .startAfter(&quot;something&quot;)\r\n                        .build()\r\n        );\r\n\r\n        for (Result&lt;Item&gt; result : results) {\r\n            Item item;\r\n            try {\r\n                System.out.println(&quot;inside try&quot;);\r\n                item = result.get();     ///it returns null. How to mock this\r\n                System.out.println(&quot;if it reach here, no problem&quot;);\r\n            } \r\n            catch (Exception e) {\r\n                System.out.println(&quot;problem is here&quot;);\r\n                throw new Error();\r\n            }\r\n\r\n            Tags tags = minioClient.getObjectTags(\r\n                    GetObjectTagsArgs.builder()\r\n                            .bucket(bucket)\r\n                            .object(item.objectName()) //beforei was tried like result.get().objectName(). but it fails. Here always i want to return &quot;dummy&quot; string. but it gives **null**.\r\n                            .build()\r\n            );\r\n         }\r\n     }\r\n}\r\n```\r\n\r\n**Testing method**\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class Testclass{\r\n@InjectMocks\r\n\tprivate S3class s3class;\r\n@Mock\r\n\tprivate MinioClient minioClient;\r\n@Mock\r\n\tprivate Result&lt;Item&gt; result;\r\n\r\n\t@Mock\r\n\tprivate Iterable&lt;Result&lt;Item&gt;&gt; results;\r\n\r\n\t@Mock\r\n\tprivate Iterator&lt;Result&lt;Item&gt;&gt; iterator;\r\n\r\n\t@Mock\r\n\tprivate Consumer&lt;Result&lt;Item&gt;&gt; consumer;\r\n      \r\n    public void testmethod(){\r\n        Item item = new Item(&quot;dummy&quot;) {};\r\n\t\tresult = new Result&lt;Item&gt;(item);\r\n\t\t// Mockito.when(result.get()).thenReturn(item);\r\n      \r\n        Mockito.when(minioClient.listObjects(\r\n                    Mockito.any(ListObjectsArgs.class)))\r\n                    .thenReturn(results);\r\n\t\tMockito.doCallRealMethod().when(results).forEach(consumer);\r\n\t\tMockito.when(iterator.hasNext()).thenReturn(true,false);\r\n\t\tMockito.when(iterator.next()).thenReturn(result);\r\n\t\tMockito.when(results.iterator()).thenReturn(iterator);\r\n \r\n         s3class.s3method();\r\n      }\r\n}\r\n\r\n```\r\n\r\nI mocked the `minioclient`. But I can&#39;t mock this `result.get().objectName()`. I used `when and thenReturn` but no use. Here I want to return `some string` whenever `result.get().objectName()` called.\r\n\r\nI tried this whole day in many ways. But I couldn&#39;t. Can anyone help me with this?","title":"How to mock the forEach elements which is iterate over the minioclient collection?","body":"<p>I am using <code>minioClient.listObjects</code> to fetch all the objects from <code>s3</code>. It returns the <code>iterable Result&lt;Item&gt;</code>. Here I was iterating over these results.</p>\n<pre><code>public class S3class\n{       //this class is part of spring boot application. So here no main class.\n     public void s3method(){\n        MinioClient minioClient = MinioClient.builder().endpoint(&quot;&quot;)\n        .build();\n\n        Iterable&lt;Result&lt;Item&gt;&gt; results = minioClient.listObjects(\n                ListObjectsArgs.builder()\n                        .bucket(&quot;bucket_name&quot;)\n                        .recursive(true)\n                        .startAfter(&quot;something&quot;)\n                        .build()\n        );\n\n        for (Result&lt;Item&gt; result : results) {\n            Item item;\n            try {\n                System.out.println(&quot;inside try&quot;);\n                item = result.get();     ///it returns null. How to mock this\n                System.out.println(&quot;if it reach here, no problem&quot;);\n            } \n            catch (Exception e) {\n                System.out.println(&quot;problem is here&quot;);\n                throw new Error();\n            }\n\n            Tags tags = minioClient.getObjectTags(\n                    GetObjectTagsArgs.builder()\n                            .bucket(bucket)\n                            .object(item.objectName()) //beforei was tried like result.get().objectName(). but it fails. Here always i want to return &quot;dummy&quot; string. but it gives **null**.\n                            .build()\n            );\n         }\n     }\n}\n</code></pre>\n<p><strong>Testing method</strong></p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class Testclass{\n@InjectMocks\n    private S3class s3class;\n@Mock\n    private MinioClient minioClient;\n@Mock\n    private Result&lt;Item&gt; result;\n\n    @Mock\n    private Iterable&lt;Result&lt;Item&gt;&gt; results;\n\n    @Mock\n    private Iterator&lt;Result&lt;Item&gt;&gt; iterator;\n\n    @Mock\n    private Consumer&lt;Result&lt;Item&gt;&gt; consumer;\n      \n    public void testmethod(){\n        Item item = new Item(&quot;dummy&quot;) {};\n        result = new Result&lt;Item&gt;(item);\n        // Mockito.when(result.get()).thenReturn(item);\n      \n        Mockito.when(minioClient.listObjects(\n                    Mockito.any(ListObjectsArgs.class)))\n                    .thenReturn(results);\n        Mockito.doCallRealMethod().when(results).forEach(consumer);\n        Mockito.when(iterator.hasNext()).thenReturn(true,false);\n        Mockito.when(iterator.next()).thenReturn(result);\n        Mockito.when(results.iterator()).thenReturn(iterator);\n \n         s3class.s3method();\n      }\n}\n\n</code></pre>\n<p>I mocked the <code>minioclient</code>. But I can't mock this <code>result.get().objectName()</code>. I used <code>when and thenReturn</code> but no use. Here I want to return <code>some string</code> whenever <code>result.get().objectName()</code> called.</p>\n<p>I tried this whole day in many ways. But I couldn't. Can anyone help me with this?</p>\n"},{"tags":["java","regex","hashmap"],"comments":[{"owner":{"account_id":2363085,"reputation":6406,"user_id":2069368,"accept_rate":60,"display_name":"pepuch"},"score":0,"creation_date":1426660392,"post_id":29115488,"comment_id":46459179,"body_markdown":"How this string has been generated? By some library? Do you want to convert only this one string or maybe you have a lot similar strings? If yes do they have the same property names?","body":"How this string has been generated? By some library? Do you want to convert only this one string or maybe you have a lot similar strings? If yes do they have the same property names?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1426660824,"post_id":29115488,"comment_id":46459343,"body_markdown":"Why do you have this string in the first place?","body":"Why do you have this string in the first place?"}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1426660409,"creation_date":1426660409,"answer_id":29115560,"question_id":29115488,"body_markdown":"Something like this will work for you : \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;{id=1111, company=A Sample Company}&quot;;\r\n\t\ts=s.replaceAll(&quot;\\\\{|\\\\}&quot;, &quot;&quot;);\r\n\t\tMap&lt;String, String&gt; hm = new HashMap&lt;String, String&gt;();\r\n\t\tString[] entrySetValues = s.split(&quot;,&quot;);\r\n\t\tfor(String str : entrySetValues){\r\n\t\t\tString[] arr = str.trim().split(&quot;=&quot;);\r\n\t\t\thm.put(arr[0], arr[1]);\r\n\t\t}\r\n\t\tSystem.out.println(hm);\r\n\t}\r\n\r\n    {id=1111, company=A Sample Company}","title":"Convert String to Hashmap in Java","body":"<p>Something like this will work for you : </p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"{id=1111, company=A Sample Company}\";\n    s=s.replaceAll(\"\\\\{|\\\\}\", \"\");\n    Map&lt;String, String&gt; hm = new HashMap&lt;String, String&gt;();\n    String[] entrySetValues = s.split(\",\");\n    for(String str : entrySetValues){\n        String[] arr = str.trim().split(\"=\");\n        hm.put(arr[0], arr[1]);\n    }\n    System.out.println(hm);\n}\n\n{id=1111, company=A Sample Company}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4462709,"reputation":811,"user_id":3631077,"accept_rate":25,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426660560,"creation_date":1426660560,"answer_id":29115588,"question_id":29115488,"body_markdown":"You can use Guava&#39;a splitter (com.google.common.base.Splitter)\r\nhttps://code.google.com/p/guava-libraries/\r\n\r\n\r\n    String s = &quot;{id=1111, company=A Sample Company}&quot;;\r\n    String stringWithoutBracket = s.substring(1, s.length() - 1);\r\n    Map&lt;String, String&gt; properties = Splitter.on(&quot;,&quot;).withKeyValueSeparator(&quot;=&quot;).split(stringWithoutBracket);","title":"Convert String to Hashmap in Java","body":"<p>You can use Guava'a splitter (com.google.common.base.Splitter)\n<a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow\">https://code.google.com/p/guava-libraries/</a></p>\n\n<pre><code>String s = \"{id=1111, company=A Sample Company}\";\nString stringWithoutBracket = s.substring(1, s.length() - 1);\nMap&lt;String, String&gt; properties = Splitter.on(\",\").withKeyValueSeparator(\"=\").split(stringWithoutBracket);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651976733,"creation_date":1651976733,"answer_id":72157655,"question_id":29115488,"body_markdown":"Using Java Stream:\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\tString value = &quot;{id=1111, company=A Sample Company}&quot;;\r\n\t\tMap&lt;String, String&gt; map = Arrays.stream(value.replaceAll(&quot;[{}]&quot;, &quot; &quot;).split(&quot;,&quot;))\r\n\t\t\t\t.map(s -&gt; s.split(&quot;=&quot;, 2))\r\n\t\t\t\t.collect(Collectors.toMap(s -&gt; s[0].trim(), s -&gt; s[1].trim()));\r\n\t\tSystem.out.println(map);\r\n\t}\r\n\r\nO/P: `{company=A Sample Company, id=1111}`","title":"Convert String to Hashmap in Java","body":"<p>Using Java Stream:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n    String value = &quot;{id=1111, company=A Sample Company}&quot;;\n    Map&lt;String, String&gt; map = Arrays.stream(value.replaceAll(&quot;[{}]&quot;, &quot; &quot;).split(&quot;,&quot;))\n            .map(s -&gt; s.split(&quot;=&quot;, 2))\n            .collect(Collectors.toMap(s -&gt; s[0].trim(), s -&gt; s[1].trim()));\n    System.out.println(map);\n}\n</code></pre>\n<p>O/P: <code>{company=A Sample Company, id=1111}</code></p>\n"}],"owner":{"account_id":4092359,"reputation":627,"user_id":3360031,"accept_rate":48,"display_name":"user3360031"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29115560,"answer_count":3,"score":1,"last_activity_date":1651976733,"creation_date":1426660114,"question_id":29115488,"body_markdown":"I have the following string:\r\n\r\n    {id=1111, company=A Sample Company}\r\n\r\nI want to convert it back to hashmap. I tried the following code below\r\n\r\n    protected HashMap&lt;String,String&gt; convertToStringToHashMap(String text){\r\n    \tHashMap&lt;String,String&gt; data = new HashMap&lt;String,String&gt;();\r\n    \tPattern p = Pattern.compile(&quot;[\\\\{\\\\}\\\\=\\\\, ]++&quot;);\r\n    \tString[] split = p.split(text);\r\n    \tfor ( int i=1; i+2 &lt;= split.length; i+=2 ){\r\n    \t\tdata.put( split[i], split[i+1] );\r\n    \t}\r\n    \treturn data;\r\n    }\r\n\r\nbut the problem is that it can&#39;t convert the string with spaces. It outputs something like this:\r\n\r\n    {id=1111, company=A, Sample=Company}\r\n\r\nI think it has something to do with the regex. Help! Thanks.","title":"Convert String to Hashmap in Java","body":"<p>I have the following string:</p>\n\n<pre><code>{id=1111, company=A Sample Company}\n</code></pre>\n\n<p>I want to convert it back to hashmap. I tried the following code below</p>\n\n<pre><code>protected HashMap&lt;String,String&gt; convertToStringToHashMap(String text){\n    HashMap&lt;String,String&gt; data = new HashMap&lt;String,String&gt;();\n    Pattern p = Pattern.compile(\"[\\\\{\\\\}\\\\=\\\\, ]++\");\n    String[] split = p.split(text);\n    for ( int i=1; i+2 &lt;= split.length; i+=2 ){\n        data.put( split[i], split[i+1] );\n    }\n    return data;\n}\n</code></pre>\n\n<p>but the problem is that it can't convert the string with spaces. It outputs something like this:</p>\n\n<pre><code>{id=1111, company=A, Sample=Company}\n</code></pre>\n\n<p>I think it has something to do with the regex. Help! Thanks.</p>\n"},{"tags":["java","macos","svn","jenkins","access-denied"],"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1453804543,"post_id":35011699,"comment_id":57750677,"body_markdown":"The file is locked by another process. Might be you have that file open in some program (SVN-client?) or it&#39;s a directory that&#39;s open in Explorer or it is the working directory of a command shell.","body":"The file is locked by another process. Might be you have that file open in some program (SVN-client?) or it&#39;s a directory that&#39;s open in Explorer or it is the working directory of a command shell."}],"answers":[{"tags":[],"owner":{"account_id":5308692,"reputation":610,"user_id":4235763,"accept_rate":75,"display_name":"Julien Charon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453804545,"creation_date":1453804545,"answer_id":35011834,"question_id":35011699,"body_markdown":"Seems like the os user which is running jenkins has no write privileges for either the complete workspace directory or some of the files in the workspace directory.","title":"java.nio.file.AccessDeniedException at Jenkins build","body":"<p>Seems like the os user which is running jenkins has no write privileges for either the complete workspace directory or some of the files in the workspace directory.</p>\n"},{"tags":[],"owner":{"account_id":5196485,"reputation":14190,"user_id":4157589,"accept_rate":100,"display_name":"valdeci"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1625263339,"creation_date":1557406623,"answer_id":56059969,"question_id":35011699,"body_markdown":"This problem is occurring because you don&#39;t have permission to execute the job on the Jenkins jobs dir (in your case `/Users/Shared/Jenkins/Home/jobs`) or you don&#39;t have permission on the jenkins dir `/var/lib/jenkins/`.\r\n\r\nI got the same problem when I tried to copy the jobs dir from a server to another.\r\n\r\nTo solve this we need to change the owner of `jobs` to the `jenkins` user:\r\n\r\n    sudo chown -R jenkins:jenkins jobs\r\n\r\nIf this does no solve, the the problem can be with the permission of your `var/lib/jenkins` dir:\r\n    \r\n    sudo chown -R jenkins:jenkins /var/lib/jenkins/\r\n\r\nThis will solve your problem.\r\n\r\nps. Maybe you will need to restart your Jenkins application","title":"java.nio.file.AccessDeniedException at Jenkins build","body":"<p>This problem is occurring because you don't have permission to execute the job on the Jenkins jobs dir (in your case <code>/Users/Shared/Jenkins/Home/jobs</code>) or you don't have permission on the jenkins dir <code>/var/lib/jenkins/</code>.</p>\n<p>I got the same problem when I tried to copy the jobs dir from a server to another.</p>\n<p>To solve this we need to change the owner of <code>jobs</code> to the <code>jenkins</code> user:</p>\n<pre><code>sudo chown -R jenkins:jenkins jobs\n</code></pre>\n<p>If this does no solve, the the problem can be with the permission of your <code>var/lib/jenkins</code> dir:</p>\n<pre><code>sudo chown -R jenkins:jenkins /var/lib/jenkins/\n</code></pre>\n<p>This will solve your problem.</p>\n<p>ps. Maybe you will need to restart your Jenkins application</p>\n"},{"tags":[],"owner":{"account_id":17000693,"reputation":101,"user_id":12298160,"display_name":"Praveen Muniraj"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1580385673,"creation_date":1580383617,"answer_id":59984973,"question_id":35011699,"body_markdown":"You need to modify the permission for jenkins user so that you can run the shell commands. \r\nMake root user of your machine as default user of jenkins, will slove your problem.\r\n\r\nFollowing process is for CentOS\r\n\r\n1. Open up the this script (using VIM or other editor):\r\n\r\n`vim /etc/sysconfig/jenkins`\r\n\r\n\r\n2. Find this $JENKINS_USER and change to “root”:\r\n\r\n`$JENKINS_USER=&quot;root&quot;`\r\n\r\n3. Then change the ownership of Jenkins home, webroot and logs:\r\n```\r\nchown -R root:root /var/lib/jenkins\r\nchown -R root:root /var/cache/jenkins\r\nchown -R root:root /var/log/jenkins\r\n```\r\n\r\n4. Restart Jenkins and check the user has been changed:\r\n```\r\nservice jenkins restart\r\nps -ef | grep jenkins\r\n```","title":"java.nio.file.AccessDeniedException at Jenkins build","body":"<p>You need to modify the permission for jenkins user so that you can run the shell commands. \nMake root user of your machine as default user of jenkins, will slove your problem.</p>\n\n<p>Following process is for CentOS</p>\n\n<ol>\n<li>Open up the this script (using VIM or other editor):</li>\n</ol>\n\n<p><code>vim /etc/sysconfig/jenkins</code></p>\n\n<ol start=\"2\">\n<li>Find this $JENKINS_USER and change to “root”:</li>\n</ol>\n\n<p><code>$JENKINS_USER=\"root\"</code></p>\n\n<ol start=\"3\">\n<li>Then change the ownership of Jenkins home, webroot and logs:</li>\n</ol>\n\n<pre><code>chown -R root:root /var/lib/jenkins\nchown -R root:root /var/cache/jenkins\nchown -R root:root /var/log/jenkins\n</code></pre>\n\n<ol start=\"4\">\n<li>Restart Jenkins and check the user has been changed:</li>\n</ol>\n\n<pre><code>service jenkins restart\nps -ef | grep jenkins\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15345556,"reputation":1363,"user_id":13541620,"display_name":"Affes Salem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651976539,"creation_date":1651976539,"answer_id":72157647,"question_id":35011699,"body_markdown":"If you have encountred this issue usually it&#39;s related to the user running the jenkins process and sometimes that user wouldn&#39;t be able to do some actions or access files so you will need to provide him with certain permissions as said above you can use `chown` or `chmod` like so:\r\n```sh\r\n# Change ownership to a whole directory\r\nchmod -R user:group /path/to/dir\r\n# Change ownership to a single file\r\nchmod user:group /path/to/file\r\n```\r\n```sh\r\n# Careful with the value after chmod\r\n# You will need to only give what&#39;s needed\r\n# Change ownership to a whole directory\r\nchmod 744 -R /path/to/dir\r\n# Change ownership to a single file\r\nchmod 744 /path/to/file\r\n```\r\nAn in your case since you&#39;re dealing with jenkins usually you can either find the directory of jenkins data under:\r\n\r\n- Default path: `/var/lib/jenkins/`\r\n- Env var (usually defined like that in a docker container): `JENKINS_HOME=/var/jenkins_home`\r\n- In case you have access to the configuration page, you can find it on the header as **Home directory** : `http://localhost:8080/configure`\r\n","title":"java.nio.file.AccessDeniedException at Jenkins build","body":"<p>If you have encountred this issue usually it's related to the user running the jenkins process and sometimes that user wouldn't be able to do some actions or access files so you will need to provide him with certain permissions as said above you can use <code>chown</code> or <code>chmod</code> like so:</p>\n<pre class=\"lang-sh prettyprint-override\"><code># Change ownership to a whole directory\nchmod -R user:group /path/to/dir\n# Change ownership to a single file\nchmod user:group /path/to/file\n</code></pre>\n<pre class=\"lang-sh prettyprint-override\"><code># Careful with the value after chmod\n# You will need to only give what's needed\n# Change ownership to a whole directory\nchmod 744 -R /path/to/dir\n# Change ownership to a single file\nchmod 744 /path/to/file\n</code></pre>\n<p>An in your case since you're dealing with jenkins usually you can either find the directory of jenkins data under:</p>\n<ul>\n<li>Default path: <code>/var/lib/jenkins/</code></li>\n<li>Env var (usually defined like that in a docker container): <code>JENKINS_HOME=/var/jenkins_home</code></li>\n<li>In case you have access to the configuration page, you can find it on the header as <strong>Home directory</strong> : <code>http://localhost:8080/configure</code></li>\n</ul>\n"}],"owner":{"account_id":7712163,"reputation":81,"user_id":5841110,"display_name":"marcelZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40357,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1651976539,"creation_date":1453804103,"question_id":35011699,"body_markdown":"I&#39;m setting up a Jenkins system at MacOSX Server for an automatically build after a svn checkin. But when the build is starting I get these java error at the console output. Does anyone have experience with Jenkins and these error? \r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Gestartet durch Benutzer anonymous\r\n    [EnvInject] - Loading node environment variables.\r\n    Baue in Workspace /Users/Shared/Jenkins/Home/jobs/myProject/workspace\r\n    Cleaning local Directory .\r\n    java.nio.file.AccessDeniedException: /Users/Shared/Jenkins/Home/jobs/my Project/workspace/./.svn/pristine/04/040d4cd4de48d844246c38e096a78718879bfafb.svn-base\r\n    \tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:84)\r\n    \tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\r\n    \tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\r\n    \tat sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:244)\r\n    \tat sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:103)\r\n    \tat java.nio.file.Files.delete(Files.java:1126)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat hudson.Util.deleteFile(Util.java:255)\r\n    \tat hudson.Util.deleteRecursive(Util.java:318)\r\n    \tat hudson.Util.deleteContentsRecursive(Util.java:220)\r\n    \tat hudson.Util.deleteRecursive(Util.java:309)\r\n    \tat hudson.Util.deleteContentsRecursive(Util.java:220)\r\n    \tat hudson.Util.deleteRecursive(Util.java:309)\r\n    \tat hudson.Util.deleteContentsRecursive(Util.java:220)\r\n    \tat hudson.Util.deleteRecursive(Util.java:309)\r\n    \tat hudson.Util.deleteContentsRecursive(Util.java:220)\r\n    \tat hudson.scm.subversion.CheckoutUpdater$1.perform(CheckoutUpdater.java:81)\r\n    \tat hudson.scm.subversion.WorkspaceUpdater$UpdateTask.delegateTo(WorkspaceUpdater.java:162)\r\n    \tat hudson.scm.SubversionSCM$CheckOutTask.perform(SubversionSCM.java:988)\r\n    \tat hudson.scm.SubversionSCM$CheckOutTask.invoke(SubversionSCM.java:969)\r\n    \tat hudson.scm.SubversionSCM$CheckOutTask.invoke(SubversionSCM.java:945)\r\n    \tat hudson.FilePath.act(FilePath.java:990)\r\n    \tat hudson.FilePath.act(FilePath.java:968)\r\n    \tat hudson.scm.SubversionSCM.checkout(SubversionSCM.java:894)\r\n    \tat hudson.scm.SubversionSCM.checkout(SubversionSCM.java:830)\r\n    \tat hudson.scm.SCM.checkout(SCM.java:485)\r\n    \tat hudson.model.AbstractProject.checkout(AbstractProject.java:1276)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:607)\r\n    \tat jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:529)\r\n    \tat hudson.model.Run.execute(Run.java:1738)\r\n    \tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\r\n    \tat hudson.model.ResourceController.execute(ResourceController.java:98)\r\n    \tat hudson.model.Executor.run(Executor.java:410)\r\n    Sending e-mails to: m...\r\n    Finished: FAILURE\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"java.nio.file.AccessDeniedException at Jenkins build","body":"<p>I'm setting up a Jenkins system at MacOSX Server for an automatically build after a svn checkin. But when the build is starting I get these java error at the console output. Does anyone have experience with Jenkins and these error? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Gestartet durch Benutzer anonymous\r\n[EnvInject] - Loading node environment variables.\r\nBaue in Workspace /Users/Shared/Jenkins/Home/jobs/myProject/workspace\r\nCleaning local Directory .\r\njava.nio.file.AccessDeniedException: /Users/Shared/Jenkins/Home/jobs/my Project/workspace/./.svn/pristine/04/040d4cd4de48d844246c38e096a78718879bfafb.svn-base\r\n\tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:84)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\r\n\tat sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:244)\r\n\tat sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:103)\r\n\tat java.nio.file.Files.delete(Files.java:1126)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat hudson.Util.deleteFile(Util.java:255)\r\n\tat hudson.Util.deleteRecursive(Util.java:318)\r\n\tat hudson.Util.deleteContentsRecursive(Util.java:220)\r\n\tat hudson.Util.deleteRecursive(Util.java:309)\r\n\tat hudson.Util.deleteContentsRecursive(Util.java:220)\r\n\tat hudson.Util.deleteRecursive(Util.java:309)\r\n\tat hudson.Util.deleteContentsRecursive(Util.java:220)\r\n\tat hudson.Util.deleteRecursive(Util.java:309)\r\n\tat hudson.Util.deleteContentsRecursive(Util.java:220)\r\n\tat hudson.scm.subversion.CheckoutUpdater$1.perform(CheckoutUpdater.java:81)\r\n\tat hudson.scm.subversion.WorkspaceUpdater$UpdateTask.delegateTo(WorkspaceUpdater.java:162)\r\n\tat hudson.scm.SubversionSCM$CheckOutTask.perform(SubversionSCM.java:988)\r\n\tat hudson.scm.SubversionSCM$CheckOutTask.invoke(SubversionSCM.java:969)\r\n\tat hudson.scm.SubversionSCM$CheckOutTask.invoke(SubversionSCM.java:945)\r\n\tat hudson.FilePath.act(FilePath.java:990)\r\n\tat hudson.FilePath.act(FilePath.java:968)\r\n\tat hudson.scm.SubversionSCM.checkout(SubversionSCM.java:894)\r\n\tat hudson.scm.SubversionSCM.checkout(SubversionSCM.java:830)\r\n\tat hudson.scm.SCM.checkout(SCM.java:485)\r\n\tat hudson.model.AbstractProject.checkout(AbstractProject.java:1276)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:607)\r\n\tat jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:529)\r\n\tat hudson.model.Run.execute(Run.java:1738)\r\n\tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\r\n\tat hudson.model.ResourceController.execute(ResourceController.java:98)\r\n\tat hudson.model.Executor.run(Executor.java:410)\r\nSending e-mails to: m...\r\nFinished: FAILURE</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","multithreading","animation","graphics","repaint"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1651976552,"post_id":72157637,"comment_id":127493071,"body_markdown":"Remember that Swing is a desktop GUI, not a game engine.  &quot;Efficiency&quot; means sometimes combining updates.  Also if you&#39;re calling `Thread.sleep()` on the GUI thread, that&#39;s a big problem.  C.f. &quot;Low latency painting in Swing&quot; https://pavelfatin.com/low-latency-painting-in-awt-and-swing/","body":"Remember that Swing is a desktop GUI, not a game engine.  &quot;Efficiency&quot; means sometimes combining updates.  Also if you&#39;re calling <code>Thread.sleep()</code> on the GUI thread, that&#39;s a big problem.  C.f. &quot;Low latency painting in Swing&quot; <a href=\"https://pavelfatin.com/low-latency-painting-in-awt-and-swing/\" rel=\"nofollow noreferrer\">pavelfatin.com/low-latency-painting-in-awt-and-swing</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1651977537,"post_id":72157637,"comment_id":127493162,"body_markdown":"Swing is single threaded and not thread safe, this means, you shouldn&#39;t call any blocking operations on the Event Dispatching Thread and should not update the UI or it&#39;s state, from out of the Event Dispatching Thread. See [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for the solution","body":"Swing is single threaded and not thread safe, this means, you shouldn&#39;t call any blocking operations on the Event Dispatching Thread and should not update the UI or it&#39;s state, from out of the Event Dispatching Thread. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for the solution"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651977808,"post_id":72157637,"comment_id":127493183,"body_markdown":"For [example](https://stackoverflow.com/questions/54393447/make-animation-more-smoother/54396190#54396190) and [example](https://stackoverflow.com/questions/27933159/how-to-draw-an-bufferedimage-to-a-jpanel/27933189#27933189) and [example](https://stackoverflow.com/questions/35472233/load-a-sprites-image-in-java/35472418#35472418)","body":"For <a href=\"https://stackoverflow.com/questions/54393447/make-animation-more-smoother/54396190#54396190\">example</a> and <a href=\"https://stackoverflow.com/questions/27933159/how-to-draw-an-bufferedimage-to-a-jpanel/27933189#27933189\">example</a> and <a href=\"https://stackoverflow.com/questions/35472233/load-a-sprites-image-in-java/35472418#35472418\">example</a>"}],"owner":{"account_id":11628607,"reputation":13,"user_id":8517617,"display_name":"Hayden Poyfair"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651976332,"creation_date":1651976332,"question_id":72157637,"body_markdown":"Im making a game over the summer break and im having trouble with dealing with the walking animation. Im trying to put a stepping animation in between moving to the left or right trying to invoke repaint() for the first animation with a thread.sleep() inbetween followed by another repaint().\r\n\r\n    \tcase 65 :\r\n\t\t\tpaintNum = 4;\r\n\t\t\tx = x-10;\r\n\t\t\tpanel.changeNum(4);\r\n\t\t\tpanel.setX(x);\r\n\t\t\tpanel.repaint(200);\r\n\t\t\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tThread.sleep(200);\r\n\t\t\t\t\r\n\t\t\t} catch (InterruptedException e1) {\r\n\t\t\t\t\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\tpanel.changeNum(3);\r\n\t\t\tpanel.repaint();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//a\r\n\t\t\tbreak;\r\n\r\n\r\n-----------------\r\n\r\n    public void paint(Graphics g) {\r\n\t\tGraphics2D g2 = (Graphics2D)g;\r\n\t\tsuper.paintComponent(g);\r\n\t\tg2.drawImage(list.get(paintNum),x,y,50,50,null);\r\n\t\t\r\n\t\r\n\t\t\r\n\t}\r\n\tpublic void changeNum(int num) {\r\n\t\tpaintNum =num;\r\n\t\r\n\t\t\r\n\t}\r\n\tpublic void setX(int num) {\r\n\t\tx = x +num;\r\n\t\r\n\t}\r\n\tpublic void setY(int num) {\r\n\t\ty = y+  num;\r\n\t\t\r\n\t}\r\nMy code takes the break but skips the first repaint and goes straight to the second one.\r\nFor context I have the movement in a switch case in another class that calls on the paint() method in my panel class. The paintNum is just the number for an array of the walking images.","title":"Java Trying to wait inbetween repaints","body":"<p>Im making a game over the summer break and im having trouble with dealing with the walking animation. Im trying to put a stepping animation in between moving to the left or right trying to invoke repaint() for the first animation with a thread.sleep() inbetween followed by another repaint().</p>\n<pre><code>    case 65 :\n        paintNum = 4;\n        x = x-10;\n        panel.changeNum(4);\n        panel.setX(x);\n        panel.repaint(200);\n    \n        \n        try {\n            \n            Thread.sleep(200);\n            \n        } catch (InterruptedException e1) {\n            \n            e1.printStackTrace();\n        }\n        panel.changeNum(3);\n        panel.repaint();\n        \n        \n        //a\n        break;\n</code></pre>\n<hr />\n<pre><code>public void paint(Graphics g) {\n    Graphics2D g2 = (Graphics2D)g;\n    super.paintComponent(g);\n    g2.drawImage(list.get(paintNum),x,y,50,50,null);\n    \n\n    \n}\npublic void changeNum(int num) {\n    paintNum =num;\n\n    \n}\npublic void setX(int num) {\n    x = x +num;\n\n}\npublic void setY(int num) {\n    y = y+  num;\n    \n}\n</code></pre>\n<p>My code takes the break but skips the first repaint and goes straight to the second one.\nFor context I have the movement in a switch case in another class that calls on the paint() method in my panel class. The paintNum is just the number for an array of the walking images.</p>\n"},{"tags":["java","ocr","tesseract","tess4j"],"answers":[{"tags":[],"owner":{"account_id":392659,"reputation":8270,"user_id":754060,"display_name":"nguyenq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651973294,"creation_date":1651973294,"answer_id":72157455,"question_id":70928626,"body_markdown":"No, Tesseract does not support it. `TessPDFRendererCreate` expects a string for file path as input.\r\n\r\nhttps://tesseract-ocr.github.io/tessapi/5.x/a00008.html","title":"Java TESSERACT create byte[] instead of pdf file - tessInstance.createDocuments()","body":"<p>No, Tesseract does not support it. <code>TessPDFRendererCreate</code> expects a string for file path as input.</p>\n<p><a href=\"https://tesseract-ocr.github.io/tessapi/5.x/a00008.html\" rel=\"nofollow noreferrer\">https://tesseract-ocr.github.io/tessapi/5.x/a00008.html</a></p>\n"}],"owner":{"account_id":12984815,"reputation":5,"user_id":9386028,"display_name":"Stefano Miculian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72157455,"answer_count":1,"score":0,"last_activity_date":1651973294,"creation_date":1643643389,"question_id":70928626,"body_markdown":"Is it possible to generate with Tess4j the byte[] of a PDF with OCR instead of a physical file?\r\n\r\nI need to make PDF files searchable via OCR, it works but I would like to avoid this step.\r\n\r\n    Tesseract tessInst = new Tesseract();\r\n\ttessInst.setDatapath(&quot;C:\\\\Tess4J&quot;);\r\n    List&lt;RenderedFormat&gt; list = new ArrayList&lt;RenderedFormat&gt;();\r\n\tlist.add(RenderedFormat.PDF);\r\n    tessInst.createDocuments(inputFile.getPath(), &quot;C:\\\\a\\\\b\\\\b\\\\Tess4J\\\\filename&quot;, list); // i dont want to create this, i just need a byte[]!\r\n\r\nThx!\r\n","title":"Java TESSERACT create byte[] instead of pdf file - tessInstance.createDocuments()","body":"<p>Is it possible to generate with Tess4j the byte[] of a PDF with OCR instead of a physical file?</p>\n<p>I need to make PDF files searchable via OCR, it works but I would like to avoid this step.</p>\n<pre><code>Tesseract tessInst = new Tesseract();\ntessInst.setDatapath(&quot;C:\\\\Tess4J&quot;);\nList&lt;RenderedFormat&gt; list = new ArrayList&lt;RenderedFormat&gt;();\nlist.add(RenderedFormat.PDF);\ntessInst.createDocuments(inputFile.getPath(), &quot;C:\\\\a\\\\b\\\\b\\\\Tess4J\\\\filename&quot;, list); // i dont want to create this, i just need a byte[]!\n</code></pre>\n<p>Thx!</p>\n"},{"tags":["java","list","exception","arraylist","hashmap"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651968185,"post_id":72156256,"comment_id":127492327,"body_markdown":"By the way, `Map.of` is simpler syntax for instantiating a non-modifiable map.","body":"By the way, <code>Map.of</code> is simpler syntax for instantiating a non-modifiable map."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1651971982,"post_id":72156256,"comment_id":127492646,"body_markdown":"I think you meant to name your method `getGenre()`, not `getGender()`.","body":"I think you meant to name your method <code>getGenre()</code>, not <code>getGender()</code>."}],"answers":[{"tags":[],"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651960316,"creation_date":1651957064,"answer_id":72156327,"question_id":72156256,"body_markdown":"\r\nThe answer from Alexander Ivanchenko correctly identifies the cause of the exception you&#39;re seeing (so you should accept his answer!).  My answer talks below talks about other problems with your code.\r\n\r\n-------\r\n\r\nYour hashmap contains values that are Strings:\r\n\r\n        HashMap&lt;Integer, String&gt; hashMap\r\n\r\ntherefore\r\n\r\n        m.getValue()\r\n\r\nis a String, and therefore you cannot cast it to an ArrayList of Strings\r\n\r\n        resultList = (ArrayList&lt;String&gt;) m.getValue();\r\n\r\nI think what you want is to accumulate values in your result list:\r\n\r\n       resultList.add(m.getValue());\r\n\r\nAdditionally, as pointed out by @racraman, this comparison is problematic:\r\n\r\n       if (arrayList.contains(m.getValue())\r\n\r\nThe list `arrayList` contains Integers; m.getValue() is a String; I am surprised this compiles at all. I think from the description you meant\r\n\r\n        if (arrayList.contains(m.getKey())\r\n\r\nso maybe was a transcription error when writing this post?\r\n","title":"Compare keys in a Map with elements in a List in java","body":"<p>The answer from Alexander Ivanchenko correctly identifies the cause of the exception you're seeing (so you should accept his answer!).  My answer talks below talks about other problems with your code.</p>\n<hr />\n<p>Your hashmap contains values that are Strings:</p>\n<pre><code>    HashMap&lt;Integer, String&gt; hashMap\n</code></pre>\n<p>therefore</p>\n<pre><code>    m.getValue()\n</code></pre>\n<p>is a String, and therefore you cannot cast it to an ArrayList of Strings</p>\n<pre><code>    resultList = (ArrayList&lt;String&gt;) m.getValue();\n</code></pre>\n<p>I think what you want is to accumulate values in your result list:</p>\n<pre><code>   resultList.add(m.getValue());\n</code></pre>\n<p>Additionally, as pointed out by @racraman, this comparison is problematic:</p>\n<pre><code>   if (arrayList.contains(m.getValue())\n</code></pre>\n<p>The list <code>arrayList</code> contains Integers; m.getValue() is a String; I am surprised this compiles at all. I think from the description you meant</p>\n<pre><code>    if (arrayList.contains(m.getKey())\n</code></pre>\n<p>so maybe was a transcription error when writing this post?</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651969916,"creation_date":1651958932,"answer_id":72156483,"question_id":72156256,"body_markdown":"&gt; I get `ExceptionInInitializerError`\r\n\r\nThis error is triggered by an *exception* that occur during initialization of a `static` field or while executing a *static initializer block*. A quote from the [Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/lang/ExceptionInInitializerError.html):\r\n\r\n&gt; An `ExceptionInInitializerError` is thrown to indicate that an exception occurred during evaluation of a static initializer or the initializer for a static variable.\r\n\r\nIn this case, you are trying to typecast a map returned by `unmodifiableMap()` to `HashMap` and this casting fails. It can&#39;t succeed because `unmodifiableMap()` is meant to wrap any implementation of the `Map` interface (`TreeMap`, `LinkedHashMap`, etc.). And this method returns an instance of class `UnmodifiableMap` which implements `Map` interface (i.e. it overrides all required methods) and maintains a variable of type `Map` (*a wrapped map that was passed as an argument*) and delegates to calls to it. Inherently `UnmodifiableMap` and `HashMap` are *siblings*, they both implement `Map`, but they don&#39;t extend each other, therefore you can&#39;t cast between these types.\r\n\r\nA **remedy**: [*write your code against interfaces*](https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface), not *concrete types*, and you&#39;ll be fine. `CONSTANT_MAP` should be of type `Map`, not `HashMap` (by the way, I suggest to use more meaningful name like `ganreById`). Similarly, an argument of your method should be a `List`, not `ArrayList`.\r\n\r\n&gt; I need a method that would compare `HashMap` keys with `ArrayList` elements. If the keys are equal the `Hashmap` value should be put to a separate `ArrayList` and be returned.\r\n\r\nFirstly, judging by the contents of the map I believe you&#39;ve misspelled the method name, and you meant `genre`, not `gender`. In the code below I&#39;ve changed it, as well as parameter-names (*sure, names are totally up to you, it&#39;s only an example, but keep in mind that they have a huge impact on the readability of the code and hence important*) and parameter types are changed to be the types of interfaces `List` and `Map`.\r\n\r\nThe most efficient way to approach this task is to iterate over the *list* and check whether a particular *element* is contained in the *map*. \r\n\r\nNot the opposite like you&#39;ve done in your code because `contains()` check is **costful** on a *list* (*you need to walk through all the elements to find  out if the matching element exists*), it&#39;s **O(n)** time if you&#39;re familiar with *Big O* notation. Conversely, `containsKey()` check on a `HashMap` is almost instant - **O(1)**.\r\n\r\nIf the matching key exist, the value associated with it will get added to the resulting list.\r\n```\r\npublic static List&lt;String&gt; getGenre(List&lt;Integer&gt; ids, \r\n                                    Map&lt;Integer, String&gt; genreById) {\r\n\r\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n    for (Integer id: ids) {\r\n        if (genreById.containsKey(id))\r\n            result.add(genreById.get(id));\r\n    }\r\n    return result;\r\n}\r\n```\r\n***Sidenotes:***\r\n\r\n* If this method resides in the same class where the *map* is defined as a static field, passing it as parameter is *redundant*.\r\n* You can substitute double-curly braces initialization (*which isn&#39;t considered to be a good practice*) with the static method [`Map.ofEntries()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)) accessible with Java 9. It returns a map which is already unmodifiable, so there will be no need to wrap it with `Collections.unmodifiableMap()`.","title":"Compare keys in a Map with elements in a List in java","body":"<blockquote>\n<p>I get <code>ExceptionInInitializerError</code></p>\n</blockquote>\n<p>This error is triggered by an <em>exception</em> that occur during initialization of a <code>static</code> field or while executing a <em>static initializer block</em>. A quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/lang/ExceptionInInitializerError.html\" rel=\"nofollow noreferrer\">Javadoc</a>:</p>\n<blockquote>\n<p>An <code>ExceptionInInitializerError</code> is thrown to indicate that an exception occurred during evaluation of a static initializer or the initializer for a static variable.</p>\n</blockquote>\n<p>In this case, you are trying to typecast a map returned by <code>unmodifiableMap()</code> to <code>HashMap</code> and this casting fails. It can't succeed because <code>unmodifiableMap()</code> is meant to wrap any implementation of the <code>Map</code> interface (<code>TreeMap</code>, <code>LinkedHashMap</code>, etc.). And this method returns an instance of class <code>UnmodifiableMap</code> which implements <code>Map</code> interface (i.e. it overrides all required methods) and maintains a variable of type <code>Map</code> (<em>a wrapped map that was passed as an argument</em>) and delegates to calls to it. Inherently <code>UnmodifiableMap</code> and <code>HashMap</code> are <em>siblings</em>, they both implement <code>Map</code>, but they don't extend each other, therefore you can't cast between these types.</p>\n<p>A <strong>remedy</strong>: <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\"><em>write your code against interfaces</em></a>, not <em>concrete types</em>, and you'll be fine. <code>CONSTANT_MAP</code> should be of type <code>Map</code>, not <code>HashMap</code> (by the way, I suggest to use more meaningful name like <code>ganreById</code>). Similarly, an argument of your method should be a <code>List</code>, not <code>ArrayList</code>.</p>\n<blockquote>\n<p>I need a method that would compare <code>HashMap</code> keys with <code>ArrayList</code> elements. If the keys are equal the <code>Hashmap</code> value should be put to a separate <code>ArrayList</code> and be returned.</p>\n</blockquote>\n<p>Firstly, judging by the contents of the map I believe you've misspelled the method name, and you meant <code>genre</code>, not <code>gender</code>. In the code below I've changed it, as well as parameter-names (<em>sure, names are totally up to you, it's only an example, but keep in mind that they have a huge impact on the readability of the code and hence important</em>) and parameter types are changed to be the types of interfaces <code>List</code> and <code>Map</code>.</p>\n<p>The most efficient way to approach this task is to iterate over the <em>list</em> and check whether a particular <em>element</em> is contained in the <em>map</em>.</p>\n<p>Not the opposite like you've done in your code because <code>contains()</code> check is <strong>costful</strong> on a <em>list</em> (<em>you need to walk through all the elements to find  out if the matching element exists</em>), it's <strong>O(n)</strong> time if you're familiar with <em>Big O</em> notation. Conversely, <code>containsKey()</code> check on a <code>HashMap</code> is almost instant - <strong>O(1)</strong>.</p>\n<p>If the matching key exist, the value associated with it will get added to the resulting list.</p>\n<pre><code>public static List&lt;String&gt; getGenre(List&lt;Integer&gt; ids, \n                                    Map&lt;Integer, String&gt; genreById) {\n\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    for (Integer id: ids) {\n        if (genreById.containsKey(id))\n            result.add(genreById.get(id));\n    }\n    return result;\n}\n</code></pre>\n<p><em><strong>Sidenotes:</strong></em></p>\n<ul>\n<li>If this method resides in the same class where the <em>map</em> is defined as a static field, passing it as parameter is <em>redundant</em>.</li>\n<li>You can substitute double-curly braces initialization (<em>which isn't considered to be a good practice</em>) with the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)\" rel=\"nofollow noreferrer\"><code>Map.ofEntries()</code></a> accessible with Java 9. It returns a map which is already unmodifiable, so there will be no need to wrap it with <code>Collections.unmodifiableMap()</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18979754,"reputation":21,"user_id":13851365,"display_name":"Tsyshiu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651959627,"creation_date":1651959627,"answer_id":72156543,"question_id":72156256,"body_markdown":"well, if you just want to check whether the keys in hashmap is equal to the arraylist, you could use `hashMap.keySet().equals(new HashSet&lt;Integer&gt;(arrayList))`, and then use `hashMap.values()` to get all the values. \r\n","title":"Compare keys in a Map with elements in a List in java","body":"<p>well, if you just want to check whether the keys in hashmap is equal to the arraylist, you could use <code>hashMap.keySet().equals(new HashSet&lt;Integer&gt;(arrayList))</code>, and then use <code>hashMap.values()</code> to get all the values.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651972586,"creation_date":1651972197,"answer_id":72157408,"question_id":72156256,"body_markdown":"Long story short, use the collections library to do the work for you:\r\n\r\n```\r\npublic static List&lt;String&gt; getGenres(List&lt;Integer&gt; list, Map&lt;Integer, String&gt; map) {\r\n    return map.entrySet().stream()\r\n        .filter(e -&gt; list.contains(e.getKey()))\r\n        .map(Map.Entry::getValue)\r\n        .collect(Collectors.toList());\r\n}\r\n```\r\n\r\nNote also the use of the *abstract* type (eg `List`, `Map`, etc) in preference to the *concrete* type (eg `ArrayList`, `HashMap`, etc): see [The Liskov substitution principle (LSP)][1]\r\n\r\nNote also the correction of the spelling error in the method name from `getGender` to `getGenres`, correcting both the semantic meaning and pluralisation - methods that return a collection should be named in the plural.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Liskov_substitution_principle","title":"Compare keys in a Map with elements in a List in java","body":"<p>Long story short, use the collections library to do the work for you:</p>\n<pre><code>public static List&lt;String&gt; getGenres(List&lt;Integer&gt; list, Map&lt;Integer, String&gt; map) {\n    return map.entrySet().stream()\n        .filter(e -&gt; list.contains(e.getKey()))\n        .map(Map.Entry::getValue)\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>Note also the use of the <em>abstract</em> type (eg <code>List</code>, <code>Map</code>, etc) in preference to the <em>concrete</em> type (eg <code>ArrayList</code>, <code>HashMap</code>, etc): see <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">The Liskov substitution principle (LSP)</a></p>\n<p>Note also the correction of the spelling error in the method name from <code>getGender</code> to <code>getGenres</code>, correcting both the semantic meaning and pluralisation - methods that return a collection should be named in the plural.</p>\n"}],"owner":{"account_id":12027415,"reputation":97,"user_id":10560969,"display_name":"Alex20280"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1651972586,"creation_date":1651956418,"question_id":72156256,"body_markdown":"I have a static `HashMap &lt;Integer, String&gt;` and an `Arraylist&lt;Integer&gt;`. \r\n\r\n```\r\npublic static final HashMap&lt;Integer, String&gt; CONSTANT_MAP =\r\n    (HashMap&lt;Integer, String&gt;) Collections.unmodifiableMap(new HashMap&lt;Integer, String&gt;() {\r\n        {\r\n            put(28, &quot;Action&quot;);\r\n            put(12, &quot;Adventure&quot;);\r\n            put(16, &quot;Animation&quot;);\r\n            put(35, &quot;Comedy&quot;);\r\n            put(80, &quot;Crime&quot;);\r\n            put(99, &quot;Documentary&quot;);\r\n            put(18, &quot;Drama&quot;);\r\n            put(10751, &quot;Family&quot;);\r\n            put(14, &quot;Fantasy&quot;);\r\n            put(36, &quot;History&quot;);\r\n            put(27, &quot;Horror&quot;);\r\n            put(10402, &quot;Music&quot;);\r\n            put(9648, &quot;Mystery&quot;);\r\n            put(10749, &quot;Romance&quot;);\r\n            put(878, &quot;Science Fiction&quot;);\r\n            put(10770, &quot;TV Movie&quot;);\r\n            put(53, &quot;Thriller&quot;);\r\n            put(10752, &quot;War&quot;);\r\n            put(37, &quot;Western&quot;);\r\n        }\r\n    });\r\n```\r\nI need a method that would compare `HashMap` *keys* with `ArrayList` *elements*. If the keys are equal, the `Hashmap` value should be put to a separate `ArrayList` and be returned.\r\n\r\nI tried the following, but it doesn&#39;t work. I get `ExceptionInInitializerError`. \r\n```\r\npublic static ArrayList&lt;String&gt; getGender(ArrayList&lt;Integer&gt; arrayList, HashMap&lt;Integer, String&gt; hashMap) {\r\n    ArrayList&lt;String&gt; resultList = new ArrayList&lt;String&gt;();\r\n    for (Map.Entry m : hashMap.entrySet()) {\r\n        if (arrayList.contains(m.getValue()))\r\n            resultList = (ArrayList&lt;String&gt;) m.getValue();\r\n    }\r\n    return resultList;\r\n} \r\n```","title":"Compare keys in a Map with elements in a List in java","body":"<p>I have a static <code>HashMap &lt;Integer, String&gt;</code> and an <code>Arraylist&lt;Integer&gt;</code>.</p>\n<pre><code>public static final HashMap&lt;Integer, String&gt; CONSTANT_MAP =\n    (HashMap&lt;Integer, String&gt;) Collections.unmodifiableMap(new HashMap&lt;Integer, String&gt;() {\n        {\n            put(28, &quot;Action&quot;);\n            put(12, &quot;Adventure&quot;);\n            put(16, &quot;Animation&quot;);\n            put(35, &quot;Comedy&quot;);\n            put(80, &quot;Crime&quot;);\n            put(99, &quot;Documentary&quot;);\n            put(18, &quot;Drama&quot;);\n            put(10751, &quot;Family&quot;);\n            put(14, &quot;Fantasy&quot;);\n            put(36, &quot;History&quot;);\n            put(27, &quot;Horror&quot;);\n            put(10402, &quot;Music&quot;);\n            put(9648, &quot;Mystery&quot;);\n            put(10749, &quot;Romance&quot;);\n            put(878, &quot;Science Fiction&quot;);\n            put(10770, &quot;TV Movie&quot;);\n            put(53, &quot;Thriller&quot;);\n            put(10752, &quot;War&quot;);\n            put(37, &quot;Western&quot;);\n        }\n    });\n</code></pre>\n<p>I need a method that would compare <code>HashMap</code> <em>keys</em> with <code>ArrayList</code> <em>elements</em>. If the keys are equal, the <code>Hashmap</code> value should be put to a separate <code>ArrayList</code> and be returned.</p>\n<p>I tried the following, but it doesn't work. I get <code>ExceptionInInitializerError</code>.</p>\n<pre><code>public static ArrayList&lt;String&gt; getGender(ArrayList&lt;Integer&gt; arrayList, HashMap&lt;Integer, String&gt; hashMap) {\n    ArrayList&lt;String&gt; resultList = new ArrayList&lt;String&gt;();\n    for (Map.Entry m : hashMap.entrySet()) {\n        if (arrayList.contains(m.getValue()))\n            resultList = (ArrayList&lt;String&gt;) m.getValue();\n    }\n    return resultList;\n} \n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":4,"creation_date":1651970132,"post_id":72157238,"comment_id":127492490,"body_markdown":"Your examples do not match your description. &quot;if the decimal point is above 1&quot; should mean that 1.1 rounds to 1, because the decimal (1) is not above 1. Do you perhaps mean you&#39;d like to round **up** if the decimal is above **zero**?","body":"Your examples do not match your description. &quot;if the decimal point is above 1&quot; should mean that 1.1 rounds to 1, because the decimal (1) is not above 1. Do you perhaps mean you&#39;d like to round <b>up</b> if the decimal is above <b>zero</b>?"}],"answers":[{"tags":[],"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651969920,"creation_date":1651969601,"answer_id":72157254,"question_id":72157238,"body_markdown":"Use the `Math` library, do not reinvent the wheel.\r\n\r\n    private int roundUp(float value){\r\n        return (int) Math.ceil(value);\r\n    }","title":"How to round up a value in Java?","body":"<p>Use the <code>Math</code> library, do not reinvent the wheel.</p>\n<pre><code>private int roundUp(float value){\n    return (int) Math.ceil(value);\n}\n</code></pre>\n"}],"owner":{"account_id":21733790,"reputation":387,"user_id":16042088,"display_name":"Mike Marsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651970675,"accepted_answer_id":72157254,"answer_count":1,"score":0,"last_activity_date":1651971841,"creation_date":1651969167,"question_id":72157238,"body_markdown":"I want to round up the value. For example,\r\n\r\n    23.0f / 10.0f = 2.3f -&gt; round up to 3\r\n    11.0f / 10.0f = 1.1f -&gt; round up to 2\r\n    15.0f / 10.0f = 1.5f -&gt; round up to 2\r\n    67.0f / 10.0f = 6.7f -&gt; round up to 7\r\n    1738.0f / 10.0 = 173.8f -&gt; round up to 174\r\n\r\nMy current approach does not work, it rounds to the nearest integer instead of up:\r\n\r\n    public class Test {\r\n    \r\n        private static final DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n    \r\n        public static void main(String[] args) {\r\n            final float a = 23;\r\n            final float b = 10;\r\n            final float k = a / b;\r\n            System.out.println(k);\r\n            final float roundup = Math.round(k * 100) / 100;\r\n            System.out.println(roundOff);\r\n        }\r\n    }\r\n\r\nHow can I achieve the desired behavior in Java?","title":"How to round up a value in Java?","body":"<p>I want to round up the value. For example,</p>\n<pre><code>23.0f / 10.0f = 2.3f -&gt; round up to 3\n11.0f / 10.0f = 1.1f -&gt; round up to 2\n15.0f / 10.0f = 1.5f -&gt; round up to 2\n67.0f / 10.0f = 6.7f -&gt; round up to 7\n1738.0f / 10.0 = 173.8f -&gt; round up to 174\n</code></pre>\n<p>My current approach does not work, it rounds to the nearest integer instead of up:</p>\n<pre><code>public class Test {\n\n    private static final DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\n\n    public static void main(String[] args) {\n        final float a = 23;\n        final float b = 10;\n        final float k = a / b;\n        System.out.println(k);\n        final float roundup = Math.round(k * 100) / 100;\n        System.out.println(roundOff);\n    }\n}\n</code></pre>\n<p>How can I achieve the desired behavior in Java?</p>\n"},{"tags":["java","eclipse","selenium","browser"],"comments":[{"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"score":0,"creation_date":1439241935,"post_id":31929347,"comment_id":51770903,"body_markdown":"What does `System.out.println(windowHandles);` return?","body":"What does <code>System.out.println(windowHandles);</code> return?"}],"answers":[{"tags":[],"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439242239,"creation_date":1439242239,"answer_id":31929523,"question_id":31929347,"body_markdown":"You are getting correct counts. But never switched to newly opened windows. In enhanced for loop you want to switch to each window and then check url\r\n\r\n    String originalWindowHandle = driver.getWindowHandle();\r\n    System.out.println(&quot;original Window handles are: &quot; + originalWindowHandle);\r\n    System.out.println(&quot;Title of original Page:&quot; + driver.getTitle());  \r\n    java.util.Set&lt;java.lang.String&gt; windowHandles = driver.getWindowHandles();\r\n    System.out.println(windowHandles);\r\n    int count = windowHandles.size();\r\n    //if (count &gt; 1) {\r\n    for (String window: windowHandles) {\r\n    \tif(!window.equals(originalWindowHandle)){\r\n    \t\tdriver.switchTo().window(window);\r\n    \t\tString url = driver.getCurrentUrl();\r\n            System.out.println(&quot;current url is: &quot; + url);        \r\n    \t}  \r\n    \t//to go back to original\t\r\n    \tdriver.switchTo().window(originalWindowHandle);\t\r\n    \t\r\n    }   \r\n    //}","title":"How to get handlers for all open windows and browsers browsers on selenium?","body":"<p>You are getting correct counts. But never switched to newly opened windows. In enhanced for loop you want to switch to each window and then check url</p>\n\n<pre><code>String originalWindowHandle = driver.getWindowHandle();\nSystem.out.println(\"original Window handles are: \" + originalWindowHandle);\nSystem.out.println(\"Title of original Page:\" + driver.getTitle());  \njava.util.Set&lt;java.lang.String&gt; windowHandles = driver.getWindowHandles();\nSystem.out.println(windowHandles);\nint count = windowHandles.size();\n//if (count &gt; 1) {\nfor (String window: windowHandles) {\n    if(!window.equals(originalWindowHandle)){\n        driver.switchTo().window(window);\n        String url = driver.getCurrentUrl();\n        System.out.println(\"current url is: \" + url);        \n    }  \n    //to go back to original    \n    driver.switchTo().window(originalWindowHandle); \n\n}   \n//}\n</code></pre>\n"}],"owner":{"account_id":6768585,"reputation":21,"user_id":5212734,"display_name":"Dancia868"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11568,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651971227,"creation_date":1439241411,"question_id":31929347,"body_markdown":"I am searching for a method that will return the urls and handlers **across all open windows, tabs, and browsers,** not just the one that is currently being run in selenium. My code below only returns the current window that was instantiated by running the current test.\r\n\r\n    String originalWindowHandle = driver.getWindowHandle();\r\n    System.out.println(&quot;original Window handles are: &quot; + originalWindowHandle);\r\n    System.out.println(&quot;Title of original Page:&quot; + driver.getTitle());\t\r\n    java.util.Set&lt;java.lang.String&gt; windowHandles = driver.getWindowHandles();\r\n    System.out.println(windowHandles);\r\n    int count = windowHandles.size();\r\n    //if (count &gt; 1) {\r\n    for (String window: windowHandles) {\r\n    \t\tString url = driver.getCurrentUrl();\r\n    \t\tSystem.out.println(&quot;current url is: &quot; + url);\r\n    \t}\t\t\r\n    //}\r\n","title":"How to get handlers for all open windows and browsers browsers on selenium?","body":"<p>I am searching for a method that will return the urls and handlers <strong>across all open windows, tabs, and browsers,</strong> not just the one that is currently being run in selenium. My code below only returns the current window that was instantiated by running the current test.</p>\n<pre><code>String originalWindowHandle = driver.getWindowHandle();\nSystem.out.println(&quot;original Window handles are: &quot; + originalWindowHandle);\nSystem.out.println(&quot;Title of original Page:&quot; + driver.getTitle());  \njava.util.Set&lt;java.lang.String&gt; windowHandles = driver.getWindowHandles();\nSystem.out.println(windowHandles);\nint count = windowHandles.size();\n//if (count &gt; 1) {\nfor (String window: windowHandles) {\n        String url = driver.getCurrentUrl();\n        System.out.println(&quot;current url is: &quot; + url);\n    }       \n//}\n</code></pre>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651970387,"creation_date":1651934718,"answer_id":72153575,"question_id":72153533,"body_markdown":"&gt; why java works this way? \r\n\r\nTo support polymorphism and maintain the idea of checked exceptions. The point of checked exceptions is to tell the caller, &quot;Hey, this method might throw this checked exception - you need to catch it or declare that you might throw it too&quot;. Suppose you had:\r\n\r\n```java\r\nSuperclass x = new Subclass();\r\nx.doSomething();\r\n```\r\n\r\n... if `Superclass.doSomething()` doesn&#39;t declare that it can throw any checked exceptions, but the override of it in `Subclass` *does* throw a checked exception, the compiler can&#39;t &quot;know&quot; that, so it can&#39;t check it.","title":"Exception handling with method overriding in Java doesn&#39;t make sense","body":"<blockquote>\n<p>why java works this way?</p>\n</blockquote>\n<p>To support polymorphism and maintain the idea of checked exceptions. The point of checked exceptions is to tell the caller, &quot;Hey, this method might throw this checked exception - you need to catch it or declare that you might throw it too&quot;. Suppose you had:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Superclass x = new Subclass();\nx.doSomething();\n</code></pre>\n<p>... if <code>Superclass.doSomething()</code> doesn't declare that it can throw any checked exceptions, but the override of it in <code>Subclass</code> <em>does</em> throw a checked exception, the compiler can't &quot;know&quot; that, so it can't check it.</p>\n"}],"owner":{"account_id":20534296,"reputation":49,"user_id":16373199,"display_name":"Hicham Jerdaoui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1651970387,"creation_date":1651934416,"question_id":72153533,"body_markdown":"In an article (here&#39;s the link: https://www.javatpoint.com/exception-handling-with-method-overriding)\r\nthey said that :\r\n *&quot;If the superclass method does not declare an exception, subclass overridden method cannot declare the checked exception but it can declare an unchecked exception.&quot;*\r\n\r\nWhy does Java work this way? Since the overridden method can have more features than the superclass&#39;s method, it can throw some exceptions that the superclass&#39;s method won&#39;t throw.\r\n","title":"Exception handling with method overriding in Java doesn&#39;t make sense","body":"<p>In an article (here's the link: <a href=\"https://www.javatpoint.com/exception-handling-with-method-overriding\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/exception-handling-with-method-overriding</a>)\nthey said that :\n<em>&quot;If the superclass method does not declare an exception, subclass overridden method cannot declare the checked exception but it can declare an unchecked exception.&quot;</em></p>\n<p>Why does Java work this way? Since the overridden method can have more features than the superclass's method, it can throw some exceptions that the superclass's method won't throw.</p>\n"},{"tags":["java","class","oop","methods"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1651962439,"post_id":72156755,"comment_id":127491660,"body_markdown":"Well, how exactly did you try to run it? What commands did you type?","body":"Well, how exactly did you try to run it? What commands did you type?"},{"owner":{"account_id":25195931,"reputation":15,"user_id":19035468,"display_name":"LawlessTJ "},"score":0,"creation_date":1651962573,"post_id":72156755,"comment_id":127491674,"body_markdown":"I pasted the code into the online compiler I use- https://www.onlinegdb.com/. I click run @PresidentJamesK.Polk","body":"I pasted the code into the online compiler I use- <a href=\"https://www.onlinegdb.com/\" rel=\"nofollow noreferrer\">onlinegdb.com</a>. I click run @PresidentJamesK.Polk"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1651962771,"post_id":72156755,"comment_id":127491705,"body_markdown":"Ok, well apparently that website assumes the class that contains your `main` method is named `Main`. So you&#39;ll have to rename `Registration` to `Main`, at least when you run it on that site.","body":"Ok, well apparently that website assumes the class that contains your <code>main</code> method is named <code>Main</code>. So you&#39;ll have to rename <code>Registration</code> to <code>Main</code>, at least when you run it on that site."},{"owner":{"account_id":25195931,"reputation":15,"user_id":19035468,"display_name":"LawlessTJ "},"score":0,"creation_date":1651963286,"post_id":72156755,"comment_id":127491767,"body_markdown":"Very much obliged @PresidentJamesK.Polk , my code now works perfectly!","body":"Very much obliged @PresidentJamesK.Polk , my code now works perfectly!"}],"answers":[{"tags":[],"owner":{"account_id":25206793,"reputation":34,"user_id":19045018,"display_name":"s_em_pervirens"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1651969047,"creation_date":1651963073,"answer_id":72156828,"question_id":72156755,"body_markdown":"Whenever Java code is compiled on that website, the website&#39;s compiler looks for a class named &quot;Main&quot; to start execution from. Once its compiler finds that class, it calls whatever method has the signature of `public static void main(String[] args)` . In your case, there&#39;s no class named &quot;Main&quot;, so the compiler doesn&#39;t know where to start running the program. An easy fix to this is changing the class name &quot;Registration&quot; to &quot;Main&quot;.\r\n","title":"My Java code is not running due to error, how do I fix it to run","body":"<p>Whenever Java code is compiled on that website, the website's compiler looks for a class named &quot;Main&quot; to start execution from. Once its compiler finds that class, it calls whatever method has the signature of <code>public static void main(String[] args)</code> . In your case, there's no class named &quot;Main&quot;, so the compiler doesn't know where to start running the program. An easy fix to this is changing the class name &quot;Registration&quot; to &quot;Main&quot;.</p>\n"}],"owner":{"account_id":25195931,"reputation":15,"user_id":19035468,"display_name":"LawlessTJ "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72156828,"answer_count":1,"score":0,"last_activity_date":1651969047,"creation_date":1651962216,"question_id":72156755,"body_markdown":"The error I get is:\r\nError: Could not find or load main class Main\r\nCaused by: java.lang.ClassNotFoundException: Main\r\n\r\nI am new to Java and dont understand what to do in this instance or how to fix this code to run\r\n\r\nI think this has something to do with classes due to the error description, but I am not sure \r\n\r\n    import java.util.Scanner;\r\n    import java.util.regex.*;\r\n    \r\n    class Login{\r\n        String user;\r\n        String password;\r\n        String firstName;\r\n        String lastName;\r\n    \r\n        boolean checkUserName(String user){\r\n            if(user.length()&gt;5 || user.indexOf(&#39;_&#39;)==-1){\r\n                return false;\r\n            }\r\n            else{\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        boolean checkPasswordComplexity(String password){\r\n            String regex = &quot;^(?=.*[0-9])&quot;\r\n                           + &quot;(?=.*[a-z])(?=.*[A-Z])&quot;\r\n                           + &quot;(?=.*[@#$%^&amp;+=])&quot;\r\n                           + &quot;(?=\\\\S+$).{8,20}$&quot;;\r\n            Pattern p = Pattern.compile(regex);\r\n            Matcher m = p.matcher(password);\r\n            return m.matches();\r\n        }\r\n    \r\n        boolean loginUser(String user,String password){\r\n            if(user.equals(this.user) &amp;&amp; password.equals(this.password)){\r\n                return true;\r\n            }\r\n            else{\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        String returnLoginStatus(String user,String password){\r\n            if(loginUser(user, password)){\r\n                return &quot;Welcome &quot;+firstName+lastName+&quot; it is greater to see you again.&quot;;\r\n            }\r\n            else{\r\n                return &quot;Username or passoword incorrect, please try again.&quot;;\r\n            }\r\n        }\r\n    \r\n        void registerUser(String firstName,String lastName,String user,String password){\r\n    \r\n            if(checkUserName(user)){\r\n                this.user = user;\r\n                System.out.println(&quot;Username successfully Captured&quot;);\r\n            }\r\n            else{\r\n                System.out.println(&quot;Username is not correctly formatted, please ensure that your username contains an underscore and is no more than 5 characters long.&quot;);\r\n            }\r\n           if(checkPasswordComplexity(password)){\r\n               this.password = password;\r\n                System.out.println(&quot;Password successfully captured&quot;);\r\n            }\r\n            else{\r\n                System.out.println(&quot;Password is not correctly formatted, please ensure that the passoword contains atleast 8 characters, a capital letter, a number and a special character.&quot;);\r\n            }\r\n            if(checkUserName(user) &amp;&amp; checkPasswordComplexity(password)){\r\n                this.firstName = firstName;\r\n                this.lastName = lastName;\r\n                System.out.println(returnLoginStatus(user, password));\r\n            }\r\n        }\r\n    }\r\n    \r\n    class Registration{\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            \r\n            System.out.print(&quot;Enter the username:&quot;);\r\n            String user = sc.nextLine();\r\n            System.out.print(&quot;Enter the password:&quot;);\r\n            String password = sc.nextLine();\r\n            System.out.print(&quot;Enter your First Name:&quot;);\r\n            String firstName = sc.nextLine();\r\n            System.out.print(&quot;Enter Your Last Name:&quot;);\r\n            String lastName = sc.nextLine();\r\n            sc.close();\r\n            Login user1 = new Login();\r\n            user1.registerUser(firstName, lastName, user, password);\r\n    \r\n        }\r\n       \r\n        \r\n    }\r\n\r\n","title":"My Java code is not running due to error, how do I fix it to run","body":"<p>The error I get is:\nError: Could not find or load main class Main\nCaused by: java.lang.ClassNotFoundException: Main</p>\n<p>I am new to Java and dont understand what to do in this instance or how to fix this code to run</p>\n<p>I think this has something to do with classes due to the error description, but I am not sure</p>\n<pre><code>import java.util.Scanner;\nimport java.util.regex.*;\n\nclass Login{\n    String user;\n    String password;\n    String firstName;\n    String lastName;\n\n    boolean checkUserName(String user){\n        if(user.length()&gt;5 || user.indexOf('_')==-1){\n            return false;\n        }\n        else{\n            return true;\n        }\n    }\n\n    boolean checkPasswordComplexity(String password){\n        String regex = &quot;^(?=.*[0-9])&quot;\n                       + &quot;(?=.*[a-z])(?=.*[A-Z])&quot;\n                       + &quot;(?=.*[@#$%^&amp;+=])&quot;\n                       + &quot;(?=\\\\S+$).{8,20}$&quot;;\n        Pattern p = Pattern.compile(regex);\n        Matcher m = p.matcher(password);\n        return m.matches();\n    }\n\n    boolean loginUser(String user,String password){\n        if(user.equals(this.user) &amp;&amp; password.equals(this.password)){\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n\n    String returnLoginStatus(String user,String password){\n        if(loginUser(user, password)){\n            return &quot;Welcome &quot;+firstName+lastName+&quot; it is greater to see you again.&quot;;\n        }\n        else{\n            return &quot;Username or passoword incorrect, please try again.&quot;;\n        }\n    }\n\n    void registerUser(String firstName,String lastName,String user,String password){\n\n        if(checkUserName(user)){\n            this.user = user;\n            System.out.println(&quot;Username successfully Captured&quot;);\n        }\n        else{\n            System.out.println(&quot;Username is not correctly formatted, please ensure that your username contains an underscore and is no more than 5 characters long.&quot;);\n        }\n       if(checkPasswordComplexity(password)){\n           this.password = password;\n            System.out.println(&quot;Password successfully captured&quot;);\n        }\n        else{\n            System.out.println(&quot;Password is not correctly formatted, please ensure that the passoword contains atleast 8 characters, a capital letter, a number and a special character.&quot;);\n        }\n        if(checkUserName(user) &amp;&amp; checkPasswordComplexity(password)){\n            this.firstName = firstName;\n            this.lastName = lastName;\n            System.out.println(returnLoginStatus(user, password));\n        }\n    }\n}\n\nclass Registration{\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter the username:&quot;);\n        String user = sc.nextLine();\n        System.out.print(&quot;Enter the password:&quot;);\n        String password = sc.nextLine();\n        System.out.print(&quot;Enter your First Name:&quot;);\n        String firstName = sc.nextLine();\n        System.out.print(&quot;Enter Your Last Name:&quot;);\n        String lastName = sc.nextLine();\n        sc.close();\n        Login user1 = new Login();\n        user1.registerUser(firstName, lastName, user, password);\n\n    }\n   \n    \n}\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":6856067,"reputation":111,"user_id":6669196,"display_name":"Geoff"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651967201,"creation_date":1651966823,"answer_id":72157085,"question_id":72157037,"body_markdown":"Try `(ACDNT: +)(.*?)( +(CMV|PERS INJ))?$`\r\n\r\nYour problem is that `.*` is greedy and consumes the entire rest of the string--that&#39;s why you&#39;re seeing &quot;SOMEWHERE PERS INJ&quot; all in the same group. I changed `*` to `*?` to make it reluctant instead of greedy, and I added `$` at the end to force the matcher to consider the whole string.\r\n\r\nThere are still some caveats. Note that an input consisting of &quot;ACDNT: &quot; followed by any string will still be a successful match. You could help address this by being more specific with what&#39;s allowed for the location instead of `.*`.","title":"Optional group in regular expression","body":"<p>Try <code>(ACDNT: +)(.*?)( +(CMV|PERS INJ))?$</code></p>\n<p>Your problem is that <code>.*</code> is greedy and consumes the entire rest of the string--that's why you're seeing &quot;SOMEWHERE PERS INJ&quot; all in the same group. I changed <code>*</code> to <code>*?</code> to make it reluctant instead of greedy, and I added <code>$</code> at the end to force the matcher to consider the whole string.</p>\n<p>There are still some caveats. Note that an input consisting of &quot;ACDNT: &quot; followed by any string will still be a successful match. You could help address this by being more specific with what's allowed for the location instead of <code>.*</code>.</p>\n"}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72157085,"answer_count":1,"score":0,"last_activity_date":1651967201,"creation_date":1651965906,"question_id":72157037,"body_markdown":"I have lines I&#39;m trying to match that could be:\r\n\r\n    ACDNT: BLAHBLAH COUNTY, NC\r\n    ACDNT: BLAHBLAH COUNTY, NC PERS INJ\r\n    ACDNT: BLAHBLAH COUNTY, NC CMV\r\n    ACDNT: SOMEWHERE ELSE\r\n\r\nSo I want a regular expression that matches &quot;ACDNT: &quot;, a location with or without the NC county, and then either nothing, &quot;PERS INJ&quot;, or &quot;CMV&quot;. I want to capture the location and the &#39;extra&#39; (PERS INJ or CMV) in groups.\r\n\r\nI&#39;m trying:\r\n\r\n    (ACDNT: +)(.*)( +(CMV|PERS INJ))?\r\n\r\nwith the test string:\r\n\r\n    ACDNT: SOMEWHERE PERS INJ\r\n\r\nand regex101 (with the Java option) matches &#39;SOMEWHERE PERS INJ&#39; as group 2. I was expecting &quot;PERS INJ&quot; to be in its own group.\r\n\r\nI thought the trailing question mark would make the group enclosing the space and the last text optional. How would alter the regular expression to do that?\r\n\r\nTo summarize, I want to match the location (whether it&#39;s an NC county or not) as its own group, then have an optional group that has one of the two &#39;extra&#39; strings if they&#39;re there.\r\n\r\n(&quot;a programmer had a problem and decided to solve it with regular expressions. Now he has two problems...&quot;)","title":"Optional group in regular expression","body":"<p>I have lines I'm trying to match that could be:</p>\n<pre><code>ACDNT: BLAHBLAH COUNTY, NC\nACDNT: BLAHBLAH COUNTY, NC PERS INJ\nACDNT: BLAHBLAH COUNTY, NC CMV\nACDNT: SOMEWHERE ELSE\n</code></pre>\n<p>So I want a regular expression that matches &quot;ACDNT: &quot;, a location with or without the NC county, and then either nothing, &quot;PERS INJ&quot;, or &quot;CMV&quot;. I want to capture the location and the 'extra' (PERS INJ or CMV) in groups.</p>\n<p>I'm trying:</p>\n<pre><code>(ACDNT: +)(.*)( +(CMV|PERS INJ))?\n</code></pre>\n<p>with the test string:</p>\n<pre><code>ACDNT: SOMEWHERE PERS INJ\n</code></pre>\n<p>and regex101 (with the Java option) matches 'SOMEWHERE PERS INJ' as group 2. I was expecting &quot;PERS INJ&quot; to be in its own group.</p>\n<p>I thought the trailing question mark would make the group enclosing the space and the last text optional. How would alter the regular expression to do that?</p>\n<p>To summarize, I want to match the location (whether it's an NC county or not) as its own group, then have an optional group that has one of the two 'extra' strings if they're there.</p>\n<p>(&quot;a programmer had a problem and decided to solve it with regular expressions. Now he has two problems...&quot;)</p>\n"},{"tags":["java","mongodb","mongodb-java"],"comments":[{"owner":{"account_id":2923661,"reputation":89,"user_id":2505442,"display_name":"mans.luv.2.code"},"score":0,"creation_date":1651964133,"post_id":72156795,"comment_id":127491877,"body_markdown":"you can find the answer in this post Here&#39;s [a link](https://stackoverflow.com/questions/47791326/querying-data-in-mongodb-java-to-remove-id-and-show-only-specified-field)","body":"you can find the answer in this post Here&#39;s <a href=\"https://stackoverflow.com/questions/47791326/querying-data-in-mongodb-java-to-remove-id-and-show-only-specified-field\">a link</a>"}],"answers":[{"tags":[],"owner":{"account_id":12378465,"reputation":204,"user_id":9025202,"display_name":"Can Arda Aydin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651964470,"creation_date":1651964470,"answer_id":72156941,"question_id":72156795,"body_markdown":"The term for this is projection, you can have a look at: https://www.mongodb.com/docs/manual/tutorial/project-fields-from-query-results/\r\n\r\nAs the documentation suggests;\r\n\r\n&gt; You can remove the _id field from the results by setting it to 0 in the projection, as in the following example:\r\n\r\n    findIterable = collection.find(eq(&quot;status&quot;, &quot;A&quot;))\r\n        .projection(fields(include(&quot;item&quot;, &quot;status&quot;), excludeId()))","title":"Return only results of specific field - Mongodb java","body":"<p>The term for this is projection, you can have a look at: <a href=\"https://www.mongodb.com/docs/manual/tutorial/project-fields-from-query-results/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/manual/tutorial/project-fields-from-query-results/</a></p>\n<p>As the documentation suggests;</p>\n<blockquote>\n<p>You can remove the _id field from the results by setting it to 0 in the projection, as in the following example:</p>\n</blockquote>\n<pre><code>findIterable = collection.find(eq(&quot;status&quot;, &quot;A&quot;))\n    .projection(fields(include(&quot;item&quot;, &quot;status&quot;), excludeId()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22976663,"reputation":45,"user_id":17104176,"display_name":"Vincent Banks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651966919,"creation_date":1651966919,"answer_id":72157092,"question_id":72156795,"body_markdown":"I improved it by adding \r\n```.append(&quot;id&quot;,0)``` to the projection\r\n\r\n``` final MONGODB mongodb = new MONGODB();\r\n    public ArrayList&lt;Document&gt; getRoom(long id) {\r\n        ArrayList&lt;Document&gt; results = mongodb.collection.find(\r\n                new Document(&quot;id&quot;,id)\r\n        ).projection(\r\n                new Document(&quot;room&quot;,1).append(&quot;_id&quot;,0)\r\n        ).into(new ArrayList&lt;&gt;());\r\n        System.out.println(results.size());\r\n        for (Document result : results) {\r\n            System.out.println(result);\r\n        }\r\n        return results;\r\n    } \r\n```\r\nthis now returns what I need\r\n```Document{{room=pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl}}```","title":"Return only results of specific field - Mongodb java","body":"<p>I improved it by adding\n<code>.append(&quot;id&quot;,0)</code> to the projection</p>\n<pre><code>    public ArrayList&lt;Document&gt; getRoom(long id) {\n        ArrayList&lt;Document&gt; results = mongodb.collection.find(\n                new Document(&quot;id&quot;,id)\n        ).projection(\n                new Document(&quot;room&quot;,1).append(&quot;_id&quot;,0)\n        ).into(new ArrayList&lt;&gt;());\n        System.out.println(results.size());\n        for (Document result : results) {\n            System.out.println(result);\n        }\n        return results;\n    } \n</code></pre>\n<p>this now returns what I need\n<code>Document{{room=pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl}}</code></p>\n"}],"owner":{"account_id":22976663,"reputation":45,"user_id":17104176,"display_name":"Vincent Banks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72156941,"answer_count":2,"score":0,"last_activity_date":1651966919,"creation_date":1651962746,"question_id":72156795,"body_markdown":"Hello I am using MONGODB java driver version 4.5.1, I created a method to query a document and grab a specific field.\r\n\r\n(id is a discord id not document _id)\r\n```\r\nfinal MONGODB mongodb = new MONGODB();\r\n    public ArrayList&lt;Document&gt; getRoom(long id) {\r\n        ArrayList&lt;Document&gt; results = mongodb.collection.find(\r\n                new Document(&quot;id&quot;,id)\r\n        ).projection(\r\n                new Document(&quot;room&quot;,1)\r\n        ).into(new ArrayList&lt;&gt;());\r\n        System.out.println(results.size());\r\n        for (Document result : results) {\r\n            System.out.println(result);\r\n        }\r\n        return results;\r\n    }\r\n```\r\nthis returns\r\n```Document{{_id=6276ed329a9a491cc223ae32, room=pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl}}```\r\n\r\nI am looking to improve this to only have it return the contents of room=, and not the _id field","title":"Return only results of specific field - Mongodb java","body":"<p>Hello I am using MONGODB java driver version 4.5.1, I created a method to query a document and grab a specific field.</p>\n<p>(id is a discord id not document _id)</p>\n<pre><code>final MONGODB mongodb = new MONGODB();\n    public ArrayList&lt;Document&gt; getRoom(long id) {\n        ArrayList&lt;Document&gt; results = mongodb.collection.find(\n                new Document(&quot;id&quot;,id)\n        ).projection(\n                new Document(&quot;room&quot;,1)\n        ).into(new ArrayList&lt;&gt;());\n        System.out.println(results.size());\n        for (Document result : results) {\n            System.out.println(result);\n        }\n        return results;\n    }\n</code></pre>\n<p>this returns\n<code>Document{{_id=6276ed329a9a491cc223ae32, room=pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl pt pt pt pt pt nl}}</code></p>\n<p>I am looking to improve this to only have it return the contents of room=, and not the _id field</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1652110421,"post_id":72157053,"comment_id":127521011,"body_markdown":"What value should it have been and how are you passing in this INSTANCE_ID value to your EntityManager context?","body":"What value should it have been and how are you passing in this INSTANCE_ID value to your EntityManager context?"}],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651966168,"creation_date":1651966168,"question_id":72157053,"body_markdown":"I&#39;m trying to use &quot;INSTANCE_ID&quot; as the tenant discriminator column for table ML_CACHELOCK. and try to test it via @DataJpaTest,  but finally find that this column can&#39;t be set in advance and the insert statement is not automatically including this column.  \r\nCould you help?  \r\nBelow is the related code.  \r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;ML_CACHE_LOCK&quot;)\r\n    @Multitenant(MultitenantType.SINGLE_TABLE)\r\n    @TenantDiscriminatorColumn(name = &quot;INSTANCE_ID&quot;)\r\n    \r\n    public class MLCacheLock implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;REQUEST_ID&quot;, nullable = false)\r\n    \tprivate Long requestID;\r\n    \r\n    \t@Column(name = &quot;LOCK_STATUS&quot;, nullable = false)\r\n    \tprivate long lockStatus;\r\n    \r\n    }\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import com.sap.cloud.platform.mobile.services.service.offline.persistence.domain.MLCacheLock;\r\n    \r\n    public interface MLCacheLockRepository extends JpaRepository&lt;MLCacheLock, Long&gt; {\r\n    \r\n    }\r\n\r\nThe test code: \r\n\r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase\r\n    @RunWith(SpringRunner.class)\r\n    public class RepositoryIT {\r\n\r\n\t@Autowired\r\n\tprivate MLCacheLockRepository cacheLockRepository;\r\n\r\n\r\n\t@Test\r\n\tpublic void testFindAll() {\r\n\t\tcacheLockRepository.saveAll(Arrays.asList(new MLCacheLock(1111L, 1L), new MLCacheLock(1112L, 2L)));\r\n\r\n\t\tcacheLockRepository.flush();\r\n\r\n\t\tList&lt;MLCacheLock&gt; res = cacheLockRepository.findAll();\r\n\t\tassertTrue(2 == res.size());\r\n\t  }\r\n    }\r\n\r\n\r\nFinally,  it always reports that : INSTANCE_ID is missing in the insert operation. ","title":"@TenantDiscriminatorColumn not work in @DataJpaTest","body":"<p>I'm trying to use &quot;INSTANCE_ID&quot; as the tenant discriminator column for table ML_CACHELOCK. and try to test it via @DataJpaTest,  but finally find that this column can't be set in advance and the insert statement is not automatically including this column.<br />\nCould you help?<br />\nBelow is the related code.</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;ML_CACHE_LOCK&quot;)\n@Multitenant(MultitenantType.SINGLE_TABLE)\n@TenantDiscriminatorColumn(name = &quot;INSTANCE_ID&quot;)\n\npublic class MLCacheLock implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;REQUEST_ID&quot;, nullable = false)\n    private Long requestID;\n\n    @Column(name = &quot;LOCK_STATUS&quot;, nullable = false)\n    private long lockStatus;\n\n}\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.sap.cloud.platform.mobile.services.service.offline.persistence.domain.MLCacheLock;\n\npublic interface MLCacheLockRepository extends JpaRepository&lt;MLCacheLock, Long&gt; {\n\n}\n</code></pre>\n<p>The test code:</p>\n<pre><code>@DataJpaTest\n@AutoConfigureTestDatabase\n@RunWith(SpringRunner.class)\npublic class RepositoryIT {\n\n@Autowired\nprivate MLCacheLockRepository cacheLockRepository;\n\n\n@Test\npublic void testFindAll() {\n    cacheLockRepository.saveAll(Arrays.asList(new MLCacheLock(1111L, 1L), new MLCacheLock(1112L, 2L)));\n\n    cacheLockRepository.flush();\n\n    List&lt;MLCacheLock&gt; res = cacheLockRepository.findAll();\n    assertTrue(2 == res.size());\n  }\n}\n</code></pre>\n<p>Finally,  it always reports that : INSTANCE_ID is missing in the insert operation.</p>\n"},{"tags":["java","arrays","swing","random"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1651964951,"post_id":72156649,"comment_id":127491981,"body_markdown":"See [my answer](https://stackoverflow.com/a/8115744/418556) to [Generating Unique Random Numbers in Java](https://stackoverflow.com/q/8115722/418556) for tips that should lead to an approach.","body":"See <a href=\"https://stackoverflow.com/a/8115744/418556\">my answer</a> to <a href=\"https://stackoverflow.com/q/8115722/418556\">Generating Unique Random Numbers in Java</a> for tips that should lead to an approach."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1651965277,"post_id":72156649,"comment_id":127492022,"body_markdown":"*&quot;I want to avoid generating the same thing **directly** after.&quot;* Wait .. so &#39;banana&#39;, &#39;apple&#39;, &#39;banana&#39; ..  would be a valid sequence? It would fit the requirement? It&#39;s that word *directly* which makes me think it would be valid.","body":"<i>&quot;I want to avoid generating the same thing <b>directly</b> after.&quot;</i> Wait .. so &#39;banana&#39;, &#39;apple&#39;, &#39;banana&#39; ..  would be a valid sequence? It would fit the requirement? It&#39;s that word <i>directly</i> which makes me think it would be valid."},{"owner":{"display_name":"user19046617"},"score":1,"creation_date":1651965662,"post_id":72156649,"comment_id":127492066,"body_markdown":"I do not know if you will get this reply, but yes, that is correct","body":"I do not know if you will get this reply, but yes, that is correct"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1651980017,"post_id":72156649,"comment_id":127493338,"body_markdown":"Thanks for confirming, and glad you seem to have solved it using the advice below. :)","body":"Thanks for confirming, and glad you seem to have solved it using the advice below. :)"}],"answers":[{"tags":[],"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651961629,"creation_date":1651961629,"answer_id":72156716,"question_id":72156649,"body_markdown":"Basically you can do something like this:\r\n\r\n    ArrayList&lt;String&gt; fruits = new ArrayList&lt;&gt;(Arrays.asList(&quot;banana&quot;, &quot;apple&quot;, &quot;orange&quot;,&quot;grape&quot;,&quot;watermelon&quot;));\r\n    Random r = new Random();\r\n    while(fruits.size()&gt;0) {\r\n       int random = r.nextInt(fruits.size());\r\n       System.out.println(fruits.get(randomInt));\r\n       fruits.remove(randomInt);\r\n    }\r\n\r\ncreate a list.\\\r\ngenerate a random index, pop the element in this index, repeat.","title":"Random that doesn’t repeat the last random","body":"<p>Basically you can do something like this:</p>\n<pre><code>ArrayList&lt;String&gt; fruits = new ArrayList&lt;&gt;(Arrays.asList(&quot;banana&quot;, &quot;apple&quot;, &quot;orange&quot;,&quot;grape&quot;,&quot;watermelon&quot;));\nRandom r = new Random();\nwhile(fruits.size()&gt;0) {\n   int random = r.nextInt(fruits.size());\n   System.out.println(fruits.get(randomInt));\n   fruits.remove(randomInt);\n}\n</code></pre>\n<p>create a list.<br />\ngenerate a random index, pop the element in this index, repeat.</p>\n"},{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651963305,"creation_date":1651963305,"answer_id":72156846,"question_id":72156649,"body_markdown":"If you want it to be able to repeat results, just not the last one it produced, you can store the last result it produced and check if the new is the same. If it is, generate another one. Taking the example from ATP&#39;s answer and modifying it to accomplish this, it would look as follows:\r\n\r\n```Java\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\nclass RandomGenerator\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tArrayList&lt;String&gt; fruits = new ArrayList&lt;&gt;(Arrays.asList(&quot;banana&quot;, &quot;apple&quot;, &quot;orange&quot;,&quot;grape&quot;,&quot;watermelon&quot;));\r\n\t\tRandom r = new Random();\r\n\t\tint previousRandom = -1;\r\n\t\tint random = r.nextInt(fruits.size());\r\n\t\tSystem.out.println(&quot;double size: &quot; + 2 * fruits.size());\r\n\t\tfor (int i = 0; i &lt; 2 * fruits.size(); i++) {\r\n\t\t\tif (random == previousRandom) {\r\n\t\t\t\trandom = r.nextInt(fruits.size());\r\n\t\t\t\ti = i -1;\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(fruits.get(random));\r\n\t\t\t\tpreviousRandom = random;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\t\r\n```\r\n\r\nIf you don&#39;t want it to ever repeat any result, and generate only as many results as possible values you have, then ATP&#39;s answer will do the trick.","title":"Random that doesn’t repeat the last random","body":"<p>If you want it to be able to repeat results, just not the last one it produced, you can store the last result it produced and check if the new is the same. If it is, generate another one. Taking the example from ATP's answer and modifying it to accomplish this, it would look as follows:</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\nclass RandomGenerator\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        ArrayList&lt;String&gt; fruits = new ArrayList&lt;&gt;(Arrays.asList(&quot;banana&quot;, &quot;apple&quot;, &quot;orange&quot;,&quot;grape&quot;,&quot;watermelon&quot;));\n        Random r = new Random();\n        int previousRandom = -1;\n        int random = r.nextInt(fruits.size());\n        System.out.println(&quot;double size: &quot; + 2 * fruits.size());\n        for (int i = 0; i &lt; 2 * fruits.size(); i++) {\n            if (random == previousRandom) {\n                random = r.nextInt(fruits.size());\n                i = i -1;\n            } else {\n                System.out.println(fruits.get(random));\n                previousRandom = random;\n            }\n        }\n    }\n}   \n</code></pre>\n<p>If you don't want it to ever repeat any result, and generate only as many results as possible values you have, then ATP's answer will do the trick.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651966084,"creation_date":1651966084,"answer_id":72157047,"question_id":72156649,"body_markdown":"For a, &quot;different&quot; approach, you could make use of [`Collections#shuffle`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List)) to randomise a `List` of values\r\n\r\nFirst, you will need...\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n\r\nNext, you will need define a series of &quot;random&quot; `List`s.  This allows us a simpler method for getting the next random value while maintaining a reference to the &quot;original&quot; values, for example...\r\n\r\n\r\n        private String[] masterStyles = {&quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Steampunk&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Sci-Fi&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Medieval&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Imprisoned&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Superpowered&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Villainous&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Primal&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Musical&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Aquatic&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Undead&lt;/p&gt;&lt;/html&gt;&quot;};\r\n        private String[] masterRaces = {&quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Sorcerer&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Alien&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Knight&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Orc&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Elf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Bear&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Human&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Vampire&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Werewolf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Dwarf&lt;/p&gt;&lt;/html&gt;&quot;};\r\n        private String[] masterWeapons = {&quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Bow&lt;br /&gt;And Arrow&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Blade&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Gun&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Nunchucks&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Shield&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Bomb&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Claws&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Mace&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Axe&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Staff&lt;/p&gt;&lt;/html&gt;&quot;};\r\n        \r\n        private List&lt;String&gt; randomStyles = new ArrayList&lt;&gt;(8);\r\n        private List&lt;String&gt; randomRaces = new ArrayList&lt;&gt;(8);\r\n        private List&lt;String&gt; randomWeapons = new ArrayList&lt;&gt;(8);\r\n\r\nThen, you would modify your `returnXxx` methods to return the next random value, except, if the random `List` `isEmpty`, you fill it with the original values and then `shuffle` it, for example...\r\n\r\n\r\n        public String returnStyle() {\r\n            if (randomStyles.isEmpty()) {\r\n                randomStyles.addAll(Arrays.asList(masterStyles));\r\n                Collections.shuffle(randomStyles);\r\n            }\r\n            return randomStyles.remove(0);\r\n        }\r\n\r\n        public String returnRace() {\r\n            if (randomRaces.isEmpty()) {\r\n                randomRaces.addAll(Arrays.asList(masterRaces));\r\n                Collections.shuffle(randomRaces);\r\n            }\r\n            return randomRaces.remove(0);\r\n        }\r\n\r\n        public String returnWeapon() {\r\n            if (randomWeapons.isEmpty()) {\r\n                randomWeapons.addAll(Arrays.asList(masterWeapons));\r\n                Collections.shuffle(randomWeapons);\r\n            }\r\n            return randomWeapons.remove(0);\r\n        }\r\n\r\nThis guarantees that values from the `List` will only begin to repeat once you have used ALL the values from the original `List`\r\n\r\nWe could then encapsulate the concept into a class to make it easier, for example...\r\n\r\n    public class RandomList&lt;Value&gt; {\r\n        private List&lt;Value&gt; masterValues;\r\n        private List&lt;Value&gt; randomValues;\r\n        \r\n        public RandomList(Value[] masterValues) {\r\n            this(Arrays.asList(masterValues));\r\n        }\r\n\r\n        public RandomList(List&lt;Value&gt; masterValues) {\r\n            this.masterValues = masterValues;\r\n            randomValues = new ArrayList&lt;&gt;(masterValues);\r\n            Collections.shuffle(randomValues);\r\n        }\r\n        \r\n        public Value next() {\r\n            if (randomValues.isEmpty()) {\r\n                randomValues.addAll(masterValues);\r\n                Collections.shuffle(randomValues);\r\n            }\r\n            return randomValues.remove(0);\r\n        }\r\n        \r\n        public Value nextOrNull() {\r\n            if (randomValues.isEmpty()) {\r\n                return null;\r\n            }\r\n            return randomValues.remove(0);\r\n        }\r\n    }\r\n\r\nWhich would change your code to something like...\r\n\r\n\r\n        private RandomList&lt;String&gt; randomStyles = new RandomList&lt;&gt;(new String [] {&quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Steampunk&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Sci-Fi&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Medieval&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Imprisoned&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Superpowered&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Villainous&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Primal&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Musical&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Aquatic&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Undead&lt;/p&gt;&lt;/html&gt;&quot;});\r\n        private RandomList&lt;String&gt; randomRaces = new RandomList&lt;&gt;(new String [] {&quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Sorcerer&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Alien&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Knight&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Orc&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Elf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Bear&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Human&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Vampire&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Werewolf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Dwarf&lt;/p&gt;&lt;/html&gt;&quot;});\r\n        private RandomList&lt;String&gt; randomWeapons = new RandomList&lt;&gt;(new String [] {&quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Bow&lt;br /&gt;And Arrow&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Blade&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Gun&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Nunchucks&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Shield&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Bomb&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Claws&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Mace&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Axe&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Staff&lt;/p&gt;&lt;/html&gt;&quot;});\r\n\r\nand your `returnXxx` methods to something like...\r\n\r\n        public String returnStyle() {\r\n            return randomStyles.next();\r\n        }\r\n\r\n        public String returnRace() {\r\n            return randomRaces.next();\r\n        }\r\n\r\n        public String returnWeapon() {\r\n            return randomWeapons.next();\r\n        }\r\n\r\nwhich is much simpler and cleaner and removes all the duplicate code ... but, this might be a bit more &quot;advanced&quot; then you are right now, but something to keep in mind &#128521;","title":"Random that doesn’t repeat the last random","body":"<p>For a, &quot;different&quot; approach, you could make use of <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections#shuffle</code></a> to randomise a <code>List</code> of values</p>\n<p>First, you will need...</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n</code></pre>\n<p>Next, you will need define a series of &quot;random&quot; <code>List</code>s.  This allows us a simpler method for getting the next random value while maintaining a reference to the &quot;original&quot; values, for example...</p>\n<pre><code>    private String[] masterStyles = {&quot;&lt;html&gt;&lt;p align='center'&gt;Steampunk&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Sci-Fi&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Medieval&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Imprisoned&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Superpowered&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Villainous&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Primal&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Musical&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Aquatic&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Undead&lt;/p&gt;&lt;/html&gt;&quot;};\n    private String[] masterRaces = {&quot;&lt;html&gt;&lt;p align='center'&gt;Sorcerer&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Alien&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Knight&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Orc&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Elf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Bear&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Human&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Vampire&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Werewolf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Dwarf&lt;/p&gt;&lt;/html&gt;&quot;};\n    private String[] masterWeapons = {&quot;&lt;html&gt;&lt;p align='center'&gt;Bow&lt;br /&gt;And Arrow&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Blade&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Gun&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Nunchucks&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Shield&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Bomb&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Claws&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Mace&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Axe&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Staff&lt;/p&gt;&lt;/html&gt;&quot;};\n    \n    private List&lt;String&gt; randomStyles = new ArrayList&lt;&gt;(8);\n    private List&lt;String&gt; randomRaces = new ArrayList&lt;&gt;(8);\n    private List&lt;String&gt; randomWeapons = new ArrayList&lt;&gt;(8);\n</code></pre>\n<p>Then, you would modify your <code>returnXxx</code> methods to return the next random value, except, if the random <code>List</code> <code>isEmpty</code>, you fill it with the original values and then <code>shuffle</code> it, for example...</p>\n<pre><code>    public String returnStyle() {\n        if (randomStyles.isEmpty()) {\n            randomStyles.addAll(Arrays.asList(masterStyles));\n            Collections.shuffle(randomStyles);\n        }\n        return randomStyles.remove(0);\n    }\n\n    public String returnRace() {\n        if (randomRaces.isEmpty()) {\n            randomRaces.addAll(Arrays.asList(masterRaces));\n            Collections.shuffle(randomRaces);\n        }\n        return randomRaces.remove(0);\n    }\n\n    public String returnWeapon() {\n        if (randomWeapons.isEmpty()) {\n            randomWeapons.addAll(Arrays.asList(masterWeapons));\n            Collections.shuffle(randomWeapons);\n        }\n        return randomWeapons.remove(0);\n    }\n</code></pre>\n<p>This guarantees that values from the <code>List</code> will only begin to repeat once you have used ALL the values from the original <code>List</code></p>\n<p>We could then encapsulate the concept into a class to make it easier, for example...</p>\n<pre><code>public class RandomList&lt;Value&gt; {\n    private List&lt;Value&gt; masterValues;\n    private List&lt;Value&gt; randomValues;\n    \n    public RandomList(Value[] masterValues) {\n        this(Arrays.asList(masterValues));\n    }\n\n    public RandomList(List&lt;Value&gt; masterValues) {\n        this.masterValues = masterValues;\n        randomValues = new ArrayList&lt;&gt;(masterValues);\n        Collections.shuffle(randomValues);\n    }\n    \n    public Value next() {\n        if (randomValues.isEmpty()) {\n            randomValues.addAll(masterValues);\n            Collections.shuffle(randomValues);\n        }\n        return randomValues.remove(0);\n    }\n    \n    public Value nextOrNull() {\n        if (randomValues.isEmpty()) {\n            return null;\n        }\n        return randomValues.remove(0);\n    }\n}\n</code></pre>\n<p>Which would change your code to something like...</p>\n<pre><code>    private RandomList&lt;String&gt; randomStyles = new RandomList&lt;&gt;(new String [] {&quot;&lt;html&gt;&lt;p align='center'&gt;Steampunk&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Sci-Fi&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Medieval&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Imprisoned&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Superpowered&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Villainous&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Primal&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Musical&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Aquatic&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Undead&lt;/p&gt;&lt;/html&gt;&quot;});\n    private RandomList&lt;String&gt; randomRaces = new RandomList&lt;&gt;(new String [] {&quot;&lt;html&gt;&lt;p align='center'&gt;Sorcerer&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Alien&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Knight&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Orc&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Elf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Bear&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Human&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Vampire&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Werewolf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Dwarf&lt;/p&gt;&lt;/html&gt;&quot;});\n    private RandomList&lt;String&gt; randomWeapons = new RandomList&lt;&gt;(new String [] {&quot;&lt;html&gt;&lt;p align='center'&gt;Bow&lt;br /&gt;And Arrow&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Blade&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Gun&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Nunchucks&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Shield&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Bomb&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Claws&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Mace&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Axe&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Staff&lt;/p&gt;&lt;/html&gt;&quot;});\n</code></pre>\n<p>and your <code>returnXxx</code> methods to something like...</p>\n<pre><code>    public String returnStyle() {\n        return randomStyles.next();\n    }\n\n    public String returnRace() {\n        return randomRaces.next();\n    }\n\n    public String returnWeapon() {\n        return randomWeapons.next();\n    }\n</code></pre>\n<p>which is much simpler and cleaner and removes all the duplicate code ... but, this might be a bit more &quot;advanced&quot; then you are right now, but something to keep in mind 😉</p>\n"}],"owner":{"display_name":"user19046617"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72157047,"answer_count":3,"score":1,"last_activity_date":1651966084,"creation_date":1651960895,"question_id":72156649,"body_markdown":"I am working on a simple program in Java swing that randomly selects a word from an array when you click a button. The issue is that I do not want to have the same thing generated after clicking the button again. For example, You click the button and it generates the word ‘donut’ from the array, you click again, and it generates donut again. I want to avoid generating the same thing directly after. \r\n\r\nHere is the code:\r\n\r\n```\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.util.Random;\r\nimport java.awt.event.*;\r\n\r\nclass Main implements ActionListener{\r\n  JFrame f = new JFrame(&quot;ℂ&#120153;&#120146;&#120163;&#120146;&#120148;&#120165;&#120150;&#120163; &#120126;&#120150;&#120159;&#120150;&#120163;&#120146;&#120165;&#120160;&#120163;&quot;);\r\n  Random r = new Random();\r\n  JButton generate = new JButton(&quot;Generate&quot;);\r\n  JButton clear = new JButton(&quot;Clear&quot;);\r\n\r\n  JLabel characterClass = new JLabel(&quot;Style&quot;, JLabel.CENTER);\r\n  JLabel characterClass2 = new JLabel(&quot;Race&quot;, JLabel.CENTER);\r\n  JLabel characterClass3 = new JLabel(&quot;Weapon&quot;, JLabel.CENTER);\r\n  \r\n  JLabel newGenerate = new JLabel(&quot;?&quot;, JLabel.CENTER);\r\n  JLabel newGenerate2 = new JLabel(&quot;?&quot;, JLabel.CENTER);\r\n  JLabel newGenerate3 = new JLabel(&quot;?&quot;, JLabel.CENTER);\r\n\r\n  Color custBlue = new Color(10, 63, 250);\r\n  Color custOrange = new Color(251,167,88);\r\n  Color saturatedCustOrange = new Color(254, 127, 46);\r\n  ImageIcon wheel = new ImageIcon(&quot;images/loading_wheel.gif&quot;);\r\n  JLabel img = new JLabel(wheel);\r\n  ImageIcon back_image = new ImageIcon(&quot;images/back_ground.png&quot;);\r\n  JLabel img2 = new JLabel(back_image);\r\n\r\n  String[] style = {&quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Steampunk&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Sci-Fi&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Medieval&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Imprisoned&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Superpowered&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Villainous&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Primal&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Musical&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Aquatic&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Undead&lt;/p&gt;&lt;/html&gt;&quot;};\r\n\r\n  String[] race = {&quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Sorcerer&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Alien&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Knight&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Orc&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Elf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Bear&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Human&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Vampire&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Werewolf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Dwarf&lt;/p&gt;&lt;/html&gt;&quot;};\r\n\r\n  String[] weapon = {&quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Bow&lt;br /&gt;And Arrow&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Blade&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Gun&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Nunchucks&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Shield&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Bomb&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Claws&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Mace&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Axe&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Staff&lt;/p&gt;&lt;/html&gt;&quot;};\r\n  \r\n  public static void main(String[] args) {\r\n    Main o = new Main();\r\n    o.gui();\r\n  }\r\n  public void gui(){\r\n    f.setSize(500, 400);\r\n    \r\n    this.newGenerate.setBounds(132,107, 180, 40);\r\n    newGenerate.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\r\n    this.newGenerate.setForeground(saturatedCustOrange);\r\n    f.add(this.newGenerate);\r\n\r\n    this.newGenerate2.setBounds(304,107, 180, 40);\r\n    newGenerate2.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\r\n    this.newGenerate2.setForeground(saturatedCustOrange);\r\n    f.add(this.newGenerate2);\r\n\r\n    this.newGenerate3.setBounds(218,250, 180, 40);\r\n    newGenerate3.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\r\n    this.newGenerate3.setForeground(saturatedCustOrange);\r\n    f.add(this.newGenerate3);\r\n\r\n    characterClass.setBounds(132,50, 180, 40);\r\n    characterClass.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\r\n    this.characterClass.setForeground(saturatedCustOrange);\r\n    f.add(this.characterClass);\r\n\r\n    characterClass2.setBounds(304,50, 180, 40);\r\n    characterClass2.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\r\n    this.characterClass2.setForeground(saturatedCustOrange);\r\n    f.add(this.characterClass2);\r\n\r\n    characterClass3.setBounds(218,192, 180, 40);\r\n    characterClass3.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\r\n    this.characterClass3.setForeground(saturatedCustOrange);\r\n    f.add(this.characterClass3);\r\n\r\n    this.generate.setBounds(50, 240, 120, 40);\r\n    generate.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\r\n    this.generate.setForeground(custOrange);\r\n    this.generate.setBackground(custBlue);\r\n    this.generate.addActionListener(this);\r\n    f.add(this.generate);\r\n\r\n    this.clear.setBounds(50, 290, 120, 40);\r\n    clear.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\r\n    this.clear.setForeground(custOrange);\r\n    this.clear.setBackground(custBlue);\r\n    this.clear.addActionListener(this);\r\n    f.add(this.clear);\r\n\r\n    \r\n    img.setBounds(0, -10,500,400);\r\n    f.add(img);\r\n\r\n    img2.setBounds(0, -10,500,400);\r\n    f.add(img2);\r\n       \r\n    f.setLayout(null);\r\n    f.setVisible(true);\r\n  }\r\n  public void actionPerformed(ActionEvent e){\r\n  if(e.getSource() == this.clear){\r\n    img.setVisible(true);\r\n    this.newGenerate.setText(&quot;?&quot;);\r\n    this.newGenerate2.setText(&quot;?&quot;);\r\n    this.newGenerate3.setText(&quot;?&quot;);\r\n  }\r\n  else{\r\n    this.newGenerate.setText(this.returnStyle());\r\n    this.newGenerate2.setText(this.returnRace());\r\n    this.newGenerate3.setText(this.returnWeapon());\r\n    img.setVisible(false); \r\n  }\r\n}\r\n\r\n  public String returnStyle() {\r\n    int ranNum = r.nextInt(this.style.length);\r\n\r\n    return this.style[ranNum];\r\n }\r\n\r\n  public String returnRace() {\r\n    int ranNum = r.nextInt(this.race.length);\r\n    \r\n    return this.race[ranNum];\r\n }\r\n\r\n  public String returnWeapon() {\r\n    int ranNum = r.nextInt(this.weapon.length);\r\n    \r\n    return this.weapon[ranNum];\r\n }\r\n\r\n}  \r\n\r\n```\r\nIf it is confusing, the program generates a character. It randomly mixes the style of character (like medieval or sci-fi), a race (like human or vampire), and a weapon (like a blade or axe).\r\n\r\nI specifically need help with this portion, and I preferably need to do it with a loop, since it is the only way I could think to work a loop into this (it is required for my final project.)\r\n``` \r\npublic String returnStyle() {\r\n    int ranNum = r.nextInt(this.style.length);\r\n\r\n    return this.style[ranNum];\r\n}","title":"Random that doesn’t repeat the last random","body":"<p>I am working on a simple program in Java swing that randomly selects a word from an array when you click a button. The issue is that I do not want to have the same thing generated after clicking the button again. For example, You click the button and it generates the word ‘donut’ from the array, you click again, and it generates donut again. I want to avoid generating the same thing directly after.</p>\n<p>Here is the code:</p>\n<pre><code>\nimport javax.swing.*;\nimport java.awt.*;\nimport java.util.Random;\nimport java.awt.event.*;\n\nclass Main implements ActionListener{\n  JFrame f = new JFrame(&quot;ℂ𝕙𝕒𝕣𝕒𝕔𝕥𝕖𝕣 𝔾𝕖𝕟𝕖𝕣𝕒𝕥𝕠𝕣&quot;);\n  Random r = new Random();\n  JButton generate = new JButton(&quot;Generate&quot;);\n  JButton clear = new JButton(&quot;Clear&quot;);\n\n  JLabel characterClass = new JLabel(&quot;Style&quot;, JLabel.CENTER);\n  JLabel characterClass2 = new JLabel(&quot;Race&quot;, JLabel.CENTER);\n  JLabel characterClass3 = new JLabel(&quot;Weapon&quot;, JLabel.CENTER);\n  \n  JLabel newGenerate = new JLabel(&quot;?&quot;, JLabel.CENTER);\n  JLabel newGenerate2 = new JLabel(&quot;?&quot;, JLabel.CENTER);\n  JLabel newGenerate3 = new JLabel(&quot;?&quot;, JLabel.CENTER);\n\n  Color custBlue = new Color(10, 63, 250);\n  Color custOrange = new Color(251,167,88);\n  Color saturatedCustOrange = new Color(254, 127, 46);\n  ImageIcon wheel = new ImageIcon(&quot;images/loading_wheel.gif&quot;);\n  JLabel img = new JLabel(wheel);\n  ImageIcon back_image = new ImageIcon(&quot;images/back_ground.png&quot;);\n  JLabel img2 = new JLabel(back_image);\n\n  String[] style = {&quot;&lt;html&gt;&lt;p align='center'&gt;Steampunk&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Sci-Fi&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Medieval&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Imprisoned&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Superpowered&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Villainous&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Primal&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Musical&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Aquatic&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Undead&lt;/p&gt;&lt;/html&gt;&quot;};\n\n  String[] race = {&quot;&lt;html&gt;&lt;p align='center'&gt;Sorcerer&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Alien&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Knight&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Orc&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Elf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Bear&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Human&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Vampire&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Werewolf&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Dwarf&lt;/p&gt;&lt;/html&gt;&quot;};\n\n  String[] weapon = {&quot;&lt;html&gt;&lt;p align='center'&gt;Bow&lt;br /&gt;And Arrow&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Blade&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Gun&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Nunchucks&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Shield&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Bomb&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Claws&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Mace&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Axe&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Staff&lt;/p&gt;&lt;/html&gt;&quot;};\n  \n  public static void main(String[] args) {\n    Main o = new Main();\n    o.gui();\n  }\n  public void gui(){\n    f.setSize(500, 400);\n    \n    this.newGenerate.setBounds(132,107, 180, 40);\n    newGenerate.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\n    this.newGenerate.setForeground(saturatedCustOrange);\n    f.add(this.newGenerate);\n\n    this.newGenerate2.setBounds(304,107, 180, 40);\n    newGenerate2.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\n    this.newGenerate2.setForeground(saturatedCustOrange);\n    f.add(this.newGenerate2);\n\n    this.newGenerate3.setBounds(218,250, 180, 40);\n    newGenerate3.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\n    this.newGenerate3.setForeground(saturatedCustOrange);\n    f.add(this.newGenerate3);\n\n    characterClass.setBounds(132,50, 180, 40);\n    characterClass.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\n    this.characterClass.setForeground(saturatedCustOrange);\n    f.add(this.characterClass);\n\n    characterClass2.setBounds(304,50, 180, 40);\n    characterClass2.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\n    this.characterClass2.setForeground(saturatedCustOrange);\n    f.add(this.characterClass2);\n\n    characterClass3.setBounds(218,192, 180, 40);\n    characterClass3.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\n    this.characterClass3.setForeground(saturatedCustOrange);\n    f.add(this.characterClass3);\n\n    this.generate.setBounds(50, 240, 120, 40);\n    generate.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\n    this.generate.setForeground(custOrange);\n    this.generate.setBackground(custBlue);\n    this.generate.addActionListener(this);\n    f.add(this.generate);\n\n    this.clear.setBounds(50, 290, 120, 40);\n    clear.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\n    this.clear.setForeground(custOrange);\n    this.clear.setBackground(custBlue);\n    this.clear.addActionListener(this);\n    f.add(this.clear);\n\n    \n    img.setBounds(0, -10,500,400);\n    f.add(img);\n\n    img2.setBounds(0, -10,500,400);\n    f.add(img2);\n       \n    f.setLayout(null);\n    f.setVisible(true);\n  }\n  public void actionPerformed(ActionEvent e){\n  if(e.getSource() == this.clear){\n    img.setVisible(true);\n    this.newGenerate.setText(&quot;?&quot;);\n    this.newGenerate2.setText(&quot;?&quot;);\n    this.newGenerate3.setText(&quot;?&quot;);\n  }\n  else{\n    this.newGenerate.setText(this.returnStyle());\n    this.newGenerate2.setText(this.returnRace());\n    this.newGenerate3.setText(this.returnWeapon());\n    img.setVisible(false); \n  }\n}\n\n  public String returnStyle() {\n    int ranNum = r.nextInt(this.style.length);\n\n    return this.style[ranNum];\n }\n\n  public String returnRace() {\n    int ranNum = r.nextInt(this.race.length);\n    \n    return this.race[ranNum];\n }\n\n  public String returnWeapon() {\n    int ranNum = r.nextInt(this.weapon.length);\n    \n    return this.weapon[ranNum];\n }\n\n}  \n\n</code></pre>\n<p>If it is confusing, the program generates a character. It randomly mixes the style of character (like medieval or sci-fi), a race (like human or vampire), and a weapon (like a blade or axe).</p>\n<p>I specifically need help with this portion, and I preferably need to do it with a loop, since it is the only way I could think to work a loop into this (it is required for my final project.)</p>\n<pre><code>public String returnStyle() {\n    int ranNum = r.nextInt(this.style.length);\n\n    return this.style[ranNum];\n}\n</code></pre>\n"},{"tags":["java","arrays","memory-management"],"answers":[{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1390769079,"creation_date":1390769079,"answer_id":21368947,"question_id":21368930,"body_markdown":"&gt; Does the JVM set the pointers the same?\r\n\r\nYes.\r\n\r\n&gt; Am I at any risk of losing the myArray variable to the garbage collector?\r\n\r\nNo.\r\n\r\nAs long as you don&#39;t modify your array using the `initArray` reference after the method call, there is no reason to make a copy of your array.\r\n\r\n&gt; What happens if initArray is a local variable created in some other function?\r\n\r\nThat is just fine. As long as at least one variable points to your array (in this case, you have your `myArray`), it won&#39;t be eligible for garbage collection.","title":"What happens when I assign an array argument to a member in constructor?","body":"<blockquote>\n  <p>Does the JVM set the pointers the same?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>Am I at any risk of losing the myArray variable to the garbage collector?</p>\n</blockquote>\n\n<p>No.</p>\n\n<p>As long as you don't modify your array using the <code>initArray</code> reference after the method call, there is no reason to make a copy of your array.</p>\n\n<blockquote>\n  <p>What happens if initArray is a local variable created in some other function?</p>\n</blockquote>\n\n<p>That is just fine. As long as at least one variable points to your array (in this case, you have your <code>myArray</code>), it won't be eligible for garbage collection.</p>\n"},{"tags":[],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1390769773,"creation_date":1390769094,"answer_id":21368951,"question_id":21368930,"body_markdown":"*Does the JVM set the pointers the same?*  \r\n-&gt; Yes, in Java they are better called references.\r\n\r\n*Am I at any risk of losing the myArray variable to the garbage collector?*  \r\n-&gt; No, unless you lose the reference to your MyClass object.\r\n\r\n*Would it be preferable to do the following?*  \r\n-&gt; Preferable - no. It depends on what you need,  \r\nhere you create an actual copy, both are OK.  \r\nSetting there the `initArray = null;` is useless btw  \r\nas `initArray` is not passed in by reference. In Java  \r\neverything is passed by value, even references  \r\n(`initArray` is a reference here)\r\n\r\n*In the first method, what happens if initArray is a  \r\nlocal variable created in some other function?*  \r\n-&gt; Think of it as you&#39;re saving a reference to that local variable  \r\nin your MyClass object, you won&#39;t lose it when your function finishes  \r\nexecution (I guess that&#39;s your concern). Simply put, it will live  \r\nas long as your MyClass object (in which you saved it) lives.","title":"What happens when I assign an array argument to a member in constructor?","body":"<p><em>Does the JVM set the pointers the same?</em><br>\n-> Yes, in Java they are better called references.</p>\n\n<p><em>Am I at any risk of losing the myArray variable to the garbage collector?</em><br>\n-> No, unless you lose the reference to your MyClass object.</p>\n\n<p><em>Would it be preferable to do the following?</em><br>\n-> Preferable - no. It depends on what you need,<br>\nhere you create an actual copy, both are OK.<br>\nSetting there the <code>initArray = null;</code> is useless btw<br>\nas <code>initArray</code> is not passed in by reference. In Java<br>\neverything is passed by value, even references<br>\n(<code>initArray</code> is a reference here)</p>\n\n<p><em>In the first method, what happens if initArray is a<br>\nlocal variable created in some other function?</em><br>\n-> Think of it as you're saving a reference to that local variable<br>\nin your MyClass object, you won't lose it when your function finishes<br>\nexecution (I guess that's your concern). Simply put, it will live<br>\nas long as your MyClass object (in which you saved it) lives.</p>\n"},{"tags":[],"owner":{"account_id":3914018,"reputation":559,"user_id":3238440,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390770162,"creation_date":1390770162,"answer_id":21369159,"question_id":21368930,"body_markdown":"The pointer does point to the same array, and as long as it is pointing to the array, it will not be considered as garbage. ","title":"What happens when I assign an array argument to a member in constructor?","body":"<p>The pointer does point to the same array, and as long as it is pointing to the array, it will not be considered as garbage. </p>\n"}],"owner":{"account_id":311346,"reputation":16448,"user_id":624869,"accept_rate":82,"display_name":"JDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":21368951,"answer_count":3,"score":3,"last_activity_date":1651965369,"creation_date":1390768953,"question_id":21368930,"body_markdown":"I have a class `MyClass` with member `float[] myArray`. I construct using the following:\r\n\r\n    public MyClass(float[] initArray) {\r\n        myArray = initArray;\r\n    }\r\n\r\nI&#39;m wondering what happens under the hood: does the JVM set the pointers the same? Am I at any risk of losing the `myArray` variable to the garbage collector? \r\n\r\nWould it be preferable to do the following:\r\n\r\n    public MyClass(float[] initArray) {\r\n        int len = initArray.length;\r\n        myArray = new float[len];\r\n        System.arraycopy(initArray, 0, myArray, 0, len);\r\n        initArray = null;\r\n    }\r\n\r\nI ask because I am programming on an embedded environment where memory is tight, and I don&#39;t want to lose variables (e.g. the first example) or waste extra space (e.g. by setting `initArray` to null, I want the GC to take care of it and give me back that RAM). \r\n\r\nEdit\r\n---\r\n\r\nIn the first method, what happens if `initArray` is a local variable created in some other function? \r\n","title":"What happens when I assign an array argument to a member in constructor?","body":"<p>I have a class <code>MyClass</code> with member <code>float[] myArray</code>. I construct using the following:</p>\n<pre><code>public MyClass(float[] initArray) {\n    myArray = initArray;\n}\n</code></pre>\n<p>I'm wondering what happens under the hood: does the JVM set the pointers the same? Am I at any risk of losing the <code>myArray</code> variable to the garbage collector?</p>\n<p>Would it be preferable to do the following:</p>\n<pre><code>public MyClass(float[] initArray) {\n    int len = initArray.length;\n    myArray = new float[len];\n    System.arraycopy(initArray, 0, myArray, 0, len);\n    initArray = null;\n}\n</code></pre>\n<p>I ask because I am programming on an embedded environment where memory is tight, and I don't want to lose variables (e.g. the first example) or waste extra space (e.g. by setting <code>initArray</code> to null, I want the GC to take care of it and give me back that RAM).</p>\n<h2>Edit</h2>\n<p>In the first method, what happens if <code>initArray</code> is a local variable created in some other function?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1651873606,"post_id":72147556,"comment_id":127476669,"body_markdown":"`int count = 0; for (String key : map.keySet()) System.out.print((count++ % 3 == 0 ? &quot;\\n&quot; : &quot; / &quot;) + key);`","body":"<code>int count = 0; for (String key : map.keySet()) System.out.print((count++ % 3 == 0 ? &quot;\\n&quot; : &quot; &#47; &quot;) + key);</code>"},{"owner":{"account_id":25220132,"reputation":21,"user_id":19056719,"display_name":"omar ibrahim"},"score":0,"creation_date":1651874573,"post_id":72147556,"comment_id":127476824,"body_markdown":"I mean this is one of ways but I want the best way to do it like trying to make it as simple as possible","body":"I mean this is one of ways but I want the best way to do it like trying to make it as simple as possible"}],"answers":[{"tags":[],"owner":{"account_id":7009040,"reputation":134,"user_id":5382934,"display_name":"Gerardo Gonzalez - Nemis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651879490,"creation_date":1651879490,"answer_id":72148276,"question_id":72147556,"body_markdown":"\r\nThe solution I propose is the following:\r\n\r\nThe idea is to keep a counter to know when it is multiples of three and jump to a new line.\r\n\r\n    public static void main(String[] args) {\r\n            Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n            map.put(&quot;key1&quot;, 0);\r\n            map.put(&quot;key2&quot;, 1);\r\n            map.put(&quot;key3&quot;, 2);\r\n            map.put(&quot;key4&quot;, 3);\r\n            map.put(&quot;key5&quot;, 4);\r\n            map.put(&quot;key6&quot;, 5);\r\n            map.put(&quot;key7&quot;, 6);\r\n            map.put(&quot;key8&quot;, 7);\r\n            map.put(&quot;key9&quot;, 8);\r\n            map.put(&quot;key10&quot;, 9);\r\n    \r\n    \r\n            int counter = 1;\r\n    \r\n            for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\r\n                String key = entry.getKey();\r\n                if((counter)%3==0)\r\n                {\r\n                    System.out.println(key);\r\n                }\r\n                else{\r\n                    System.out.print(key+&quot; / &quot;);\r\n                }\r\n                counter++;\r\n            }\r\n    \r\n\r\n\r\nThe output is the following:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e7toA.png\r\n\r\nRemark: \r\n**I changed from HashMap&lt;&gt;() to LinkedHashMap&lt;&gt;() because HashMap does not maintain an insertion order and LinkedHashMap does.**","title":"Analysis the hashmap keys as 3 keys in each one lane","body":"<p>The solution I propose is the following:</p>\n<p>The idea is to keep a counter to know when it is multiples of three and jump to a new line.</p>\n<pre><code>public static void main(String[] args) {\n        Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n        map.put(&quot;key1&quot;, 0);\n        map.put(&quot;key2&quot;, 1);\n        map.put(&quot;key3&quot;, 2);\n        map.put(&quot;key4&quot;, 3);\n        map.put(&quot;key5&quot;, 4);\n        map.put(&quot;key6&quot;, 5);\n        map.put(&quot;key7&quot;, 6);\n        map.put(&quot;key8&quot;, 7);\n        map.put(&quot;key9&quot;, 8);\n        map.put(&quot;key10&quot;, 9);\n\n\n        int counter = 1;\n\n        for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\n            String key = entry.getKey();\n            if((counter)%3==0)\n            {\n                System.out.println(key);\n            }\n            else{\n                System.out.print(key+&quot; / &quot;);\n            }\n            counter++;\n        }\n</code></pre>\n<p>The output is the following:</p>\n<p><a href=\"https://i.stack.imgur.com/e7toA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e7toA.png\" alt=\"enter image description here\" /></a></p>\n<p>Remark:\n<strong>I changed from HashMap&lt;&gt;() to LinkedHashMap&lt;&gt;() because HashMap does not maintain an insertion order and LinkedHashMap does.</strong></p>\n"},{"tags":[],"owner":{"account_id":25220132,"reputation":21,"user_id":19056719,"display_name":"omar ibrahim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651965078,"creation_date":1651959352,"answer_id":72156522,"question_id":72147556,"body_markdown":"I finally find out that the easiest way to do it which is, it&#39;s only in one line :\r\n\r\n```java\r\n\r\nAtomicInteger counter = new AtomicInteger(0);\r\n \r\nSystem.out.println(map.keySet().stream().map(map -&gt; ((counter.getAndAdd(1) % 3 == 0) ? &quot;\\n&quot; : &quot; / &quot;) + map).collect(Collectors.joining(&quot;&quot;)));\r\n\r\n```\r\n\r\nNote: make sure that I used here the AtomicInteger and get the counter as `counter.getAndAdd()` not `counter.addAndGet()` which put me in 30 minutes thinking about why it&#39;s not working.\r\n\r\nthanks to @shmosel because he is the one who gives the code and I just change a few things that make it in one line only.\r\n\r\nthe result is this: \r\n\r\n```cmd \r\nkey1 / key2 / key3\r\nkey4 / key5 / key6\r\nkey7 / key8 / key9\r\nkey10 / key11\r\n```","title":"Analysis the hashmap keys as 3 keys in each one lane","body":"<p>I finally find out that the easiest way to do it which is, it's only in one line :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nAtomicInteger counter = new AtomicInteger(0);\n \nSystem.out.println(map.keySet().stream().map(map -&gt; ((counter.getAndAdd(1) % 3 == 0) ? &quot;\\n&quot; : &quot; / &quot;) + map).collect(Collectors.joining(&quot;&quot;)));\n\n</code></pre>\n<p>Note: make sure that I used here the AtomicInteger and get the counter as <code>counter.getAndAdd()</code> not <code>counter.addAndGet()</code> which put me in 30 minutes thinking about why it's not working.</p>\n<p>thanks to @shmosel because he is the one who gives the code and I just change a few things that make it in one line only.</p>\n<p>the result is this:</p>\n<pre><code>key1 / key2 / key3\nkey4 / key5 / key6\nkey7 / key8 / key9\nkey10 / key11\n</code></pre>\n"}],"owner":{"account_id":25220132,"reputation":21,"user_id":19056719,"display_name":"omar ibrahim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72156522,"answer_count":2,"score":0,"last_activity_date":1651965078,"creation_date":1651872595,"question_id":72147556,"body_markdown":"I&#39;m trying to analyze a hashmap keys, so I want to make every 3 keys from the hashmap send as one line, and then after sending 3 keys it will put a &quot;\\n&quot; so it will go to the next line and put another 3 values and etc... till the hashmap keys print all.\r\n\r\n **Example:** \r\n\r\n```text\r\nkey1 / key2 / key3\r\nkey4 / key5 / key6\r\nkey7 / key8\r\n```\r\n\r\nMy code for now is : \r\n```java\r\n\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;key1&quot;, 0); \r\n    map.put(&quot;key2&quot;, 1); \r\n    map.put(&quot;key3&quot;, 2); \r\n    map.put(&quot;key4&quot;, 3); \r\n    map.put(&quot;key5&quot;, 4); \r\n    map.put(&quot;key6&quot;, 5); \r\n    map.put(&quot;key7&quot;, 6); \r\n    map.put(&quot;key8&quot;, 7); \r\n    \r\n    System.out.println(map.keySet().stream().collect(Collectors.joining(&quot; / &quot;)));\r\n\r\n```\r\n\r\nand the result is only in one line.","title":"Analysis the hashmap keys as 3 keys in each one lane","body":"<p>I'm trying to analyze a hashmap keys, so I want to make every 3 keys from the hashmap send as one line, and then after sending 3 keys it will put a &quot;\\n&quot; so it will go to the next line and put another 3 values and etc... till the hashmap keys print all.</p>\n<p><strong>Example:</strong></p>\n<pre><code>key1 / key2 / key3\nkey4 / key5 / key6\nkey7 / key8\n</code></pre>\n<p>My code for now is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;key1&quot;, 0); \n    map.put(&quot;key2&quot;, 1); \n    map.put(&quot;key3&quot;, 2); \n    map.put(&quot;key4&quot;, 3); \n    map.put(&quot;key5&quot;, 4); \n    map.put(&quot;key6&quot;, 5); \n    map.put(&quot;key7&quot;, 6); \n    map.put(&quot;key8&quot;, 7); \n    \n    System.out.println(map.keySet().stream().collect(Collectors.joining(&quot; / &quot;)));\n\n</code></pre>\n<p>and the result is only in one line.</p>\n"},{"tags":["java","selenium-webdriver","browser-automation"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1592387514,"post_id":62282865,"comment_id":110404939,"body_markdown":"If you deploy your app under test in local infrastructure you can use [GreenMail](https://www.webelement.click/en/greenmail_setup_mock_to_test_emailing_with_greenmail) server to get the full control over your email traffic","body":"If you deploy your app under test in local infrastructure you can use <a href=\"https://www.webelement.click/en/greenmail_setup_mock_to_test_emailing_with_greenmail\" rel=\"nofollow noreferrer\">GreenMail</a> server to get the full control over your email traffic"}],"answers":[{"tags":[],"owner":{"account_id":7997735,"reputation":21,"user_id":6033496,"display_name":"kuldeep chhipa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591713719,"creation_date":1591713719,"answer_id":62285231,"question_id":62282865,"body_markdown":"&gt; The QA teams leave such tasks for manual testing instead of writing automation tests for these scenarios. \\\r\n\r\nBut, all communication from the email can be automated by the disposable email service. This article will describe how to use this service within the automation suite using Nightwatch.js (Node).\r\n\r\n[Registration and Login automation][1]\r\n\r\n  [1]: https://docs.mail7.io/tutorials/registration-and-login-automation-using-selenium-with-disposable-email\r\n\r\nYou can use this code as well to automate such things:\r\n\r\n**2. Write down the logic of getEmail in common-function class and add dependencies in pom.xml file :**\r\n\r\n```\r\n\r\n&lt;dependency&gt;\r\n\r\n  \r\n\r\n&lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\r\n\r\n  \r\n\r\n&lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n\r\n  \r\n\r\n&lt;version&gt;1.4.9&lt;/version&gt;\r\n\r\n  \r\n\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nWe will use Unirest for handling the Mail7 API code. it is a set of lightweight HTTP libraries available in multiple languages, built and maintained by Mashape, who also maintain the open-source API Gateway Kong.\r\n\r\n  \r\n\r\n&gt; Create a mail7.java file with below code\r\n\r\n  \r\n\r\n```\r\n\r\n  \r\n\r\nimport org.apcahe.commons.lang3.RandomStringUtils;\r\n\r\n  \r\n\r\npublic class mail7{\r\n\r\n  \r\n\r\nprivate static final String EMAIL-DOMAIN = ‘mail.io’;\r\n\r\nprivate static final String EMAIL_APIKEY = ‘mail7_api_key’;\r\n\r\nprivate static final String EMAIL_APISecret = ‘mail7_api_secret’;\r\n\r\nprivate String emailid;\r\n\r\n  \r\n\r\npublic usernameGenerator(){\r\n\r\n  \r\n\r\nString username = RandomStringUtils.randomAlphanumeric(8).toLowerCase();\r\n\r\nSystem.out. println(“Random Username is ” + username);\r\n\r\nreturn username;\r\n\r\n}\r\n\r\n  \r\n\r\npublic getInbox(String username){\r\n\r\n  \r\n\r\nHttpResponse &lt;String&gt; httpResponse = Unirest.get(“&quot;https://api.mail7.io/inbox?apikey=&quot; + EMAIL_APIKEY + &quot;&amp;apisecret=&quot; + EMAIL_APISecret + &quot;&amp;to=&quot; + username”)\r\n\r\n.asString();\r\n\r\nSystem.out.println( httpResponse.getHeaders().get(&quot;Content-Type&quot;));\r\n\r\nSystem.out.println(httpResponse.getBody());\r\n\r\nreturn httpResponse.getBody();\r\n\r\n  \r\n\r\n}\r\n\r\n```\r\n\r\n  \r\n\r\n**3. Create a class file for Test Script of Register and Login event** :\r\n\r\n```\r\n\r\nimport org.openqa.selenium.*;\r\n\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\n\r\nimport java.util.List;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n  \r\n\r\npublic class TestEmail throws IOException, UnirestException\r\n\r\n{\r\n\r\n  \r\n\r\npublic static void main(String[] args) {\r\n\r\n  \r\n\r\n//create a Selenium WebDriver instance\r\n\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;dir_path\\\\geckodriver.exe&quot;);\r\n\r\nWebDriver driver = new FirefoxDriver();\r\n\r\n  \r\n\r\n//launch the Firefox browser and navigate to the website\r\n\r\ndriver.get(“YOUR_TEST_URL&quot;);\r\n\r\n  \r\n\r\n//puts an implicit wait for 10 seconds before throwing exceptions\r\n\r\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n\r\n  \r\n\r\n//locate the email field\r\n\r\nWebElement email = driver.findElement(By.xpath(&quot;//input[@type=&#39;email&#39;]&quot;));\r\n\r\n  \r\n\r\n// create a random email address\r\n\r\n  \r\n\r\nString username = usernameGenerator();\r\n\r\n  \r\n\r\nString emailID = username.concat(“@”+EMAIL_DOMIAN);\r\n\r\n  \r\n\r\n//set the field&#39;s value\r\n\r\nemail.sendKeys(emailID);\r\n\r\n  \r\n\r\n//locate the password field\r\n\r\nWebElement password = driver.findElement(By.xpath(&quot;//input[@type=&#39;password&#39;]&quot;));\r\n\r\n  \r\n\r\n//set the password&#39;s value\r\n\r\npassword.sendKeys(&quot;password&quot;);\r\n\r\n  \r\n\r\n//locate and click the submit button\r\n\r\ndriver.findElement(By.xpath(&quot;//input[@type=&#39;submit&#39;]&quot;)).click();\r\n\r\n  \r\n\r\n//check if the mail has been received or not\r\n\r\nString response = getInbo(username );\r\n\r\n  \r\n\r\nif(response.isEmpty()) {\r\n\r\nSystem.out.println(&quot;Test not passed&quot;);\r\n\r\n}else {\r\n\r\nSystem.out.println(&quot;Test passed&quot;);\r\n\r\n}\r\n\r\n  \r\n\r\n//close the Firefox browser.\r\n\r\ndriver.close();\r\n\r\n}\r\n\r\n}\r\n\r\n}\r\n\r\n}\r\n\r\n```\r\n","title":"How to test email verification flow with dynamic email generation and get email data in automation?","body":"<blockquote>\n  <p>The QA teams leave such tasks for manual testing instead of writing automation tests for these scenarios. \\</p>\n</blockquote>\n\n<p>But, all communication from the email can be automated by the disposable email service. This article will describe how to use this service within the automation suite using Nightwatch.js (Node).</p>\n\n<p><a href=\"https://docs.mail7.io/tutorials/registration-and-login-automation-using-selenium-with-disposable-email\" rel=\"nofollow noreferrer\">Registration and Login automation</a></p>\n\n<p>You can use this code as well to automate such things:</p>\n\n<p><strong>2. Write down the logic of getEmail in common-function class and add dependencies in pom.xml file :</strong></p>\n\n<pre><code>\n&lt;dependency&gt;\n\n\n\n&lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\n\n\n\n&lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n\n\n\n&lt;version&gt;1.4.9&lt;/version&gt;\n\n\n\n&lt;/dependency&gt;\n\n</code></pre>\n\n<p>We will use Unirest for handling the Mail7 API code. it is a set of lightweight HTTP libraries available in multiple languages, built and maintained by Mashape, who also maintain the open-source API Gateway Kong.</p>\n\n<blockquote>\n  <p>Create a mail7.java file with below code</p>\n</blockquote>\n\n<pre><code>\n\n\nimport org.apcahe.commons.lang3.RandomStringUtils;\n\n\n\npublic class mail7{\n\n\n\nprivate static final String EMAIL-DOMAIN = ‘mail.io’;\n\nprivate static final String EMAIL_APIKEY = ‘mail7_api_key’;\n\nprivate static final String EMAIL_APISecret = ‘mail7_api_secret’;\n\nprivate String emailid;\n\n\n\npublic usernameGenerator(){\n\n\n\nString username = RandomStringUtils.randomAlphanumeric(8).toLowerCase();\n\nSystem.out. println(“Random Username is ” + username);\n\nreturn username;\n\n}\n\n\n\npublic getInbox(String username){\n\n\n\nHttpResponse &lt;String&gt; httpResponse = Unirest.get(“\"https://api.mail7.io/inbox?apikey=\" + EMAIL_APIKEY + \"&amp;apisecret=\" + EMAIL_APISecret + \"&amp;to=\" + username”)\n\n.asString();\n\nSystem.out.println( httpResponse.getHeaders().get(\"Content-Type\"));\n\nSystem.out.println(httpResponse.getBody());\n\nreturn httpResponse.getBody();\n\n\n\n}\n\n</code></pre>\n\n<p><strong>3. Create a class file for Test Script of Register and Login event</strong> :</p>\n\n<pre><code>\nimport org.openqa.selenium.*;\n\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\nimport java.util.List;\n\nimport java.util.concurrent.TimeUnit;\n\n\n\npublic class TestEmail throws IOException, UnirestException\n\n{\n\n\n\npublic static void main(String[] args) {\n\n\n\n//create a Selenium WebDriver instance\n\nSystem.setProperty(\"webdriver.gecko.driver\",\"dir_path\\\\geckodriver.exe\");\n\nWebDriver driver = new FirefoxDriver();\n\n\n\n//launch the Firefox browser and navigate to the website\n\ndriver.get(“YOUR_TEST_URL\");\n\n\n\n//puts an implicit wait for 10 seconds before throwing exceptions\n\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n\n\n\n//locate the email field\n\nWebElement email = driver.findElement(By.xpath(\"//input[@type='email']\"));\n\n\n\n// create a random email address\n\n\n\nString username = usernameGenerator();\n\n\n\nString emailID = username.concat(“@”+EMAIL_DOMIAN);\n\n\n\n//set the field's value\n\nemail.sendKeys(emailID);\n\n\n\n//locate the password field\n\nWebElement password = driver.findElement(By.xpath(\"//input[@type='password']\"));\n\n\n\n//set the password's value\n\npassword.sendKeys(\"password\");\n\n\n\n//locate and click the submit button\n\ndriver.findElement(By.xpath(\"//input[@type='submit']\")).click();\n\n\n\n//check if the mail has been received or not\n\nString response = getInbo(username );\n\n\n\nif(response.isEmpty()) {\n\nSystem.out.println(\"Test not passed\");\n\n}else {\n\nSystem.out.println(\"Test passed\");\n\n}\n\n\n\n//close the Firefox browser.\n\ndriver.close();\n\n}\n\n}\n\n}\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":5634839,"reputation":61,"user_id":4460619,"display_name":"Himanshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651964937,"creation_date":1591706521,"question_id":62282865,"body_markdown":"I am facing a problem with registration and login flow where it is required to generate an email and get token for verification. I need a service which allows user to generate n numbers of disposable emails with email data access that can self-destructs max 24 hours. Could anyone please share the service code to use in selenium java automation?","title":"How to test email verification flow with dynamic email generation and get email data in automation?","body":"<p>I am facing a problem with registration and login flow where it is required to generate an email and get token for verification. I need a service which allows user to generate n numbers of disposable emails with email data access that can self-destructs max 24 hours. Could anyone please share the service code to use in selenium java automation?</p>\n"},{"tags":["java","spring","spring-cloud","project-reactor"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1651966518,"post_id":72156975,"comment_id":127492163,"body_markdown":"I would say not except that which is done during the implementing classes construction.","body":"I would say not except that which is done during the implementing classes construction."},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1651966650,"post_id":72156975,"comment_id":127492177,"body_markdown":"The thing is there is no return value for probe aside from a throw.  So unless creating the flux itself throws the exception there&#39;s nothing really to indicate any error.","body":"The thing is there is no return value for probe aside from a throw.  So unless creating the flux itself throws the exception there&#39;s nothing really to indicate any error."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1651966855,"post_id":72156975,"comment_id":127492197,"body_markdown":"Not exactly. You point to an interface. When `probe` is called there must be some class that has implemented the interface. When the class is instantiated its constructor is called. Things would have been done there but it would have been done anyway. Calling probe will not do anything but the implementation classes constructor will have done something for what that&#39;s worth. See, e.g., `ReactiveCompositeDiscoveryClient`. The method `getServices` could conceivably do something before constructing the `Flux` but who knows.","body":"Not exactly. You point to an interface. When <code>probe</code> is called there must be some class that has implemented the interface. When the class is instantiated its constructor is called. Things would have been done there but it would have been done anyway. Calling probe will not do anything but the implementation classes constructor will have done something for what that&#39;s worth. See, e.g., <code>ReactiveCompositeDiscoveryClient</code>. The method <code>getServices</code> could conceivably do something before constructing the <code>Flux</code> but who knows."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1651977535,"post_id":72156975,"comment_id":127493161,"body_markdown":"See the consul implementation","body":"See the consul implementation"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651964925,"creation_date":1651964925,"question_id":72156975,"body_markdown":"I&#39;m looking through the code for ReactiveDiscoveryClient and I noticed the following\r\n\r\n```java\r\n\tFlux&lt;String&gt; getServices();\r\n\r\n\t/**\r\n\t * Can be used to verify the client is still valid and able to make calls.\r\n\t * &lt;p&gt;\r\n\t * A successful invocation with no exception thrown implies the client is able to make\r\n\t * calls.\r\n\t * &lt;p&gt;\r\n\t * The default implementation simply calls {@link #getServices()} - client\r\n\t * implementations can override with a lighter weight operation if they choose to.\r\n\t */\r\n\tdefault void probe() {\r\n\t\tgetServices();\r\n\t}\r\n```\r\n\r\nBut since `getServices()` returns a `Flux` and `Flux` don&#39;t do anything until `subscribe` occurs, would `probes` using the default implementation be a no-op?","title":"Does ReactiveDiscoveryClient.probe actually do anything?","body":"<p>I'm looking through the code for ReactiveDiscoveryClient and I noticed the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Flux&lt;String&gt; getServices();\n\n    /**\n     * Can be used to verify the client is still valid and able to make calls.\n     * &lt;p&gt;\n     * A successful invocation with no exception thrown implies the client is able to make\n     * calls.\n     * &lt;p&gt;\n     * The default implementation simply calls {@link #getServices()} - client\n     * implementations can override with a lighter weight operation if they choose to.\n     */\n    default void probe() {\n        getServices();\n    }\n</code></pre>\n<p>But since <code>getServices()</code> returns a <code>Flux</code> and <code>Flux</code> don't do anything until <code>subscribe</code> occurs, would <code>probes</code> using the default implementation be a no-op?</p>\n"},{"tags":["java","testing","jmeter","performance-testing"],"answers":[{"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443729809,"creation_date":1443729032,"answer_id":32895731,"question_id":32886073,"body_markdown":"Sometimes I have seen this in Jmeter when you use `View Results Tree` listener &amp; switch to different response types to XML/JSON/TXT etc with the test results.\r\n\r\nThere was also a bug that Java v8 does not work with JMeter. http://mail-archives.apache.org/mod_mbox/jmeter-issues/201401.mbox/%3Cbug-56080-58895@https.issues.apache.org/bugzilla/%3E\r\n\r\nSee if Java 6 or 7 resolves the issue. ","title":"In JMETER CMD console window-Issue on while Adding Components under Threadgroup using mouse scrolling except Listeners","body":"<p>Sometimes I have seen this in Jmeter when you use <code>View Results Tree</code> listener &amp; switch to different response types to XML/JSON/TXT etc with the test results.</p>\n\n<p>There was also a bug that Java v8 does not work with JMeter. <a href=\"http://mail-archives.apache.org/mod_mbox/jmeter-issues/201401.mbox/%3Cbug-56080-58895@https.issues.apache.org/bugzilla/%3E\" rel=\"nofollow\">http://mail-archives.apache.org/mod_mbox/jmeter-issues/201401.mbox/%3Cbug-56080-58895@https.issues.apache.org/bugzilla/%3E</a></p>\n\n<p>See if Java 6 or 7 resolves the issue. </p>\n"}],"owner":{"account_id":7026277,"reputation":1,"user_id":5383543,"accept_rate":0,"display_name":"Dhani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651963956,"creation_date":1443697677,"question_id":32886073,"body_markdown":"While Adding Components under Threadgroup using mouse scroll it will simply\r\nhangs and in jmeter CMD windows displaying exception like :\r\n\r\n    Uncaught Exception java.lang.ArrayIndexOutOfBoundsException: -1. See log file\r\n    for details.\r\n    Uncaught Exception java.lang.ArrayIndexOutOfBoundsException: -1. See log file\r\n    for details.\r\n    Uncaught Exception java.lang.ArrayIndexOutOfBoundsException: -16. See log file\r\n    for details.\r\n    Uncaught Exception java.lang.ArrayIndexOutOfBoundsException: -16. See log  file\r\n    for details.\r\n    Uncaught Exception java.lang.ArrayIndexOutOfBoundsException: -19. See log file\r\n    for details.\r\n    Uncaught Exception java.lang.ArrayIndexOutOfBoundsException: -19. See log file\r\n    for details.\r\n\r\nWhy Jmeter CMD showing me this","title":"In JMETER CMD console window-Issue on while Adding Components under Threadgroup using mouse scrolling except Listeners","body":"<p>While Adding Components under Threadgroup using mouse scroll it will simply\nhangs and in jmeter CMD windows displaying exception like :</p>\n\n<pre><code>Uncaught Exception java.lang.ArrayIndexOutOfBoundsException: -1. See log file\nfor details.\nUncaught Exception java.lang.ArrayIndexOutOfBoundsException: -1. See log file\nfor details.\nUncaught Exception java.lang.ArrayIndexOutOfBoundsException: -16. See log file\nfor details.\nUncaught Exception java.lang.ArrayIndexOutOfBoundsException: -16. See log  file\nfor details.\nUncaught Exception java.lang.ArrayIndexOutOfBoundsException: -19. See log file\nfor details.\nUncaught Exception java.lang.ArrayIndexOutOfBoundsException: -19. See log file\nfor details.\n</code></pre>\n\n<p>Why Jmeter CMD showing me this</p>\n"},{"tags":["java","eclipse","selenium-webdriver","automation"],"answers":[{"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371678356,"creation_date":1371678009,"answer_id":17201857,"question_id":17201797,"body_markdown":"Try this:\r\n\r\n    String request_uri = null;\r\n    String url = &quot;http://news.google.com/?ned=us&amp;topic=t&quot;;\r\n\r\n    if (url.startsWith(&quot;http://&quot;) {\r\n        request_uri = url.substring(7).split(&quot;/&quot;)[1];\r\n    } else {\r\n        request_uri = url.split(&quot;/&quot;)[1];\r\n    }\r\n\r\n    System.out.println (request_uri); // prints: ?ned=us&amp;topic=t\r\n\r\nIf you&#39;re only interested in the *query string* i.e. for `google.com/search?q=key+words` you want to ignore `search?` then just split on `?` directly\r\n\r\n    // prints: q=key+words\r\n    System.out.println (&quot;google.com/search?q=key+words&quot;.split(&quot;\\\\?&quot;)[0]);","title":"Java How to copy part of a url in webdriver?","body":"<p>Try this:</p>\n\n<pre><code>String request_uri = null;\nString url = \"http://news.google.com/?ned=us&amp;topic=t\";\n\nif (url.startsWith(\"http://\") {\n    request_uri = url.substring(7).split(\"/\")[1];\n} else {\n    request_uri = url.split(\"/\")[1];\n}\n\nSystem.out.println (request_uri); // prints: ?ned=us&amp;topic=t\n</code></pre>\n\n<p>If you're only interested in the <em>query string</em> i.e. for <code>google.com/search?q=key+words</code> you want to ignore <code>search?</code> then just split on <code>?</code> directly</p>\n\n<pre><code>// prints: q=key+words\nSystem.out.println (\"google.com/search?q=key+words\".split(\"\\\\?\")[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108548,"reputation":2266,"user_id":288052,"accept_rate":80,"display_name":"Spiff"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371678634,"creation_date":1371678634,"answer_id":17202006,"question_id":17201797,"body_markdown":"You should have a look at the [java.net.URL][1] class and its `getPath()` and `getQuery()` methods.\r\n\r\n\t@Test\r\n\tpublic void urls() throws MalformedURLException {\r\n\t\tfinal URL url = new URL(&quot;http://news.google.com/?ned=us&amp;topic=t&quot;);\r\n\r\n\t\tassertEquals(&quot;ned=us&amp;topic=t&quot;, url.getQuery());\r\n\t\tassertEquals(&quot;?ned=us&amp;topic=t&quot;, &quot;?&quot; + url.getQuery());\r\n\t\tassertEquals(&quot;/&quot;, url.getPath());\r\n\t}\r\n\r\nRegular expressions are fun, but IMO this is easier to understand.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/URL.html","title":"Java How to copy part of a url in webdriver?","body":"<p>You should have a look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URL.html\" rel=\"nofollow\">java.net.URL</a> class and its <code>getPath()</code> and <code>getQuery()</code> methods.</p>\n\n<pre><code>@Test\npublic void urls() throws MalformedURLException {\n    final URL url = new URL(\"http://news.google.com/?ned=us&amp;topic=t\");\n\n    assertEquals(\"ned=us&amp;topic=t\", url.getQuery());\n    assertEquals(\"?ned=us&amp;topic=t\", \"?\" + url.getQuery());\n    assertEquals(\"/\", url.getPath());\n}\n</code></pre>\n\n<p>Regular expressions are fun, but IMO this is easier to understand.</p>\n"},{"tags":[],"owner":{"account_id":1442304,"reputation":1797,"user_id":1362049,"accept_rate":40,"display_name":"Simon Arsenault"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371678790,"creation_date":1371678790,"answer_id":17202042,"question_id":17201797,"body_markdown":"You can use regular expression to extract the part you want:\r\n\r\n    String txt = &quot;http://news.google.com/?ned=us&amp;topic=t&quot;;\r\n    \r\n    String re1 = &quot;(http:\\\\/\\\\/news\\\\.google\\\\.com\\\\/)&quot;; // unwanted part\r\n    String re2 = &quot;(\\\\?.*)&quot;; // wanted part\r\n    \r\n    Pattern p = Pattern.compile(re1 + re2, Pattern.CASE_INSENSITIVE | Pattern.DOTALL);\r\n    Matcher m = p.matcher(txt);\r\n    if (m.find())\r\n    {\r\n    \tString query = m.group(2);\r\n    \tSystem.out.print(query);\r\n    }","title":"Java How to copy part of a url in webdriver?","body":"<p>You can use regular expression to extract the part you want:</p>\n\n<pre><code>String txt = \"http://news.google.com/?ned=us&amp;topic=t\";\n\nString re1 = \"(http:\\\\/\\\\/news\\\\.google\\\\.com\\\\/)\"; // unwanted part\nString re2 = \"(\\\\?.*)\"; // wanted part\n\nPattern p = Pattern.compile(re1 + re2, Pattern.CASE_INSENSITIVE | Pattern.DOTALL);\nMatcher m = p.matcher(txt);\nif (m.find())\n{\n    String query = m.group(2);\n    System.out.print(query);\n}\n</code></pre>\n"}],"owner":{"account_id":2372319,"reputation":37,"user_id":2076651,"accept_rate":0,"display_name":"nbhgt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1651963894,"creation_date":1371677747,"question_id":17201797,"body_markdown":"I want to know how can copy the &quot;?ned=us&amp;topic=t&quot; part in &quot;http://news.google.com/?ned=us&amp;topic=t&quot;. Basically, I want to copy the path of the url, or the portion after the &quot;.com&quot;. How do I do this?\r\n\r\n    public class Example  {\r\n    public static String url = &quot;http://news.google.com/?ned=us&amp;topic=t&quot;;\r\n    \tpublic static void main(String[] args) {\r\n            WebDriver driver = new FirefoxDriver();\r\n                driver.get(url);\r\n             \tWebElement reportCln=driver.findElement(By.id(&quot;id_submit_button&quot;));\r\n             \tString path=driver.getCurrentUrl();\r\n             \tSystem.out.println(path);\r\n    }\r\n    }","title":"Java How to copy part of a url in webdriver?","body":"<p>I want to know how can copy the \"?ned=us&amp;topic=t\" part in \"<a href=\"http://news.google.com/?ned=us&amp;topic=t\" rel=\"nofollow\">http://news.google.com/?ned=us&amp;topic=t</a>\". Basically, I want to copy the path of the url, or the portion after the \".com\". How do I do this?</p>\n\n<pre><code>public class Example  {\npublic static String url = \"http://news.google.com/?ned=us&amp;topic=t\";\n    public static void main(String[] args) {\n        WebDriver driver = new FirefoxDriver();\n            driver.get(url);\n            WebElement reportCln=driver.findElement(By.id(\"id_submit_button\"));\n            String path=driver.getCurrentUrl();\n            System.out.println(path);\n}\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"score":0,"creation_date":1651932723,"post_id":72153231,"comment_id":127485460,"body_markdown":"Okay, but first loop. X should passed to setReleveBancaireId and the second loop should pass another value, finally should display the first and the second not only the second, am I wrong ?","body":"Okay, but first loop. X should passed to setReleveBancaireId and the second loop should pass another value, finally should display the first and the second not only the second, am I wrong ?"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":1,"creation_date":1651933422,"post_id":72153231,"comment_id":127485608,"body_markdown":"In your example code, X (minor side note: it should be lowercase, but not important right now) is set once per item in your map, but passed to your DTO only at the end of the for loop since the set its outside the for loop. Meaning that it will set the last value of X. You will probably need one DTO to store each `releveBancaireId` (That depends on the actual usage of the DTO)","body":"In your example code, X (minor side note: it should be lowercase, but not important right now) is set once per item in your map, but passed to your DTO only at the end of the for loop since the set its outside the for loop. Meaning that it will set the last value of X. You will probably need one DTO to store each <code>releveBancaireId</code> (That depends on the actual usage of the DTO)"},{"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"score":0,"creation_date":1651933686,"post_id":72153231,"comment_id":127485677,"body_markdown":"Can you share snippet of code Jetto!","body":"Can you share snippet of code Jetto!"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1651938170,"post_id":72153231,"comment_id":127486810,"body_markdown":"I would need a more complete piece of code. I don&#39;t know where the other properties of the DTO are set not where it is returned. The &#39;easy&#39; fix would be to put the set inside the nested for loop, but that would produce the same result as the releveBancaireId would be overriden in every loop.","body":"I would need a more complete piece of code. I don&#39;t know where the other properties of the DTO are set not where it is returned. The &#39;easy&#39; fix would be to put the set inside the nested for loop, but that would produce the same result as the releveBancaireId would be overriden in every loop."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1651938270,"post_id":72153231,"comment_id":127486842,"body_markdown":"It looks like your map implementation has different values stored for the same key. This is not how a map is supposed to work, but you always show the &quot;contents&quot; of your map as comments. Please show us some [mre] and not just some loose snippets.","body":"It looks like your map implementation has different values stored for the same key. This is not how a map is supposed to work, but you always show the &quot;contents&quot; of your map as comments. Please show us some <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and not just some loose snippets."},{"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"score":0,"creation_date":1651961725,"post_id":72153231,"comment_id":127491571,"body_markdown":"I have updated my question included full code, sorry for the long explanation but really need your help about this","body":"I have updated my question included full code, sorry for the long explanation but really need your help about this"},{"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"score":0,"creation_date":1651994714,"post_id":72153231,"comment_id":127494877,"body_markdown":"`for (Entry&lt;String, Object&gt; stringObjectEntry : variables.entrySet()) {\n      releveBancaireId = stringObjectEntry.getValue().toString();\n      }`\nHere you are completion your map iteration , so always its sets the last value. May be look at your indentation properly","body":"<code>for (Entry&lt;String, Object&gt; stringObjectEntry : variables.entrySet()) {       releveBancaireId = stringObjectEntry.getValue().toString();       }</code> Here you are completion your map iteration , so always its sets the last value. May be look at your indentation properly"}],"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651962917,"creation_date":1651932227,"question_id":72153231,"body_markdown":"I have this List\r\n\r\n    List&lt;Task&gt; = []\r\n\r\ninside Task there is a methode that returns a `Map&lt;String, Object&gt;`. This is how it looks like this Map `{releveId=20, releveId=30}` I&#39;m retrieving only the values `20 &amp; 30` and store them into a variable `X`.\r\n\r\nNow I have a class called `TaskDto`. This class will carry all the data I need.\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Table\r\n    @Entity\r\n    public class TaskDto {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      private int taskId;\r\n      private int releveBancaireId;\r\n      private String variableName;\r\n      private String variableTypeName;\r\n      private String proccessesName;\r\n      private String id;\r\n      private String assignee;\r\n      private String name;\r\n      private String description;\r\n      private int priority;\r\n      private String processDefinitionId;\r\n      private String processInstanceId;\r\n      private Date createTime;\r\n    \r\n    }\r\n\r\n\r\n\r\nOne of the fields `TaskDto` has is `releveId`.\r\n\r\nSo while looping over the `List&lt;Task&gt;` and storing Map value in `X` \r\nWhen I try to do this : `taskDto.setReleveId(X)` this stores only the last one in our case is `30` where it should store both 20 &amp; 30 \r\n\r\n\r\n\r\nThis is my for loop:\r\n\r\n```JAVA\r\nfor (Task taskLoop: tasks) {\r\n\tMap&lt;String, Object&gt; variables = taskLoop.getProcessVariables();\r\n\tSystem.out.println(&quot;showing variables &quot; + variables); // this displays {relevebancaireId=20} {relevebancaireId=30}\r\n\tfor (Entry&lt;String, Object&gt; stringObjectEntry: variables.entrySet()) {\r\n\t\tX = stringObjectEntry.getValue().toString();\r\n\t\tSystem.out.println(&quot;displaying X &quot; + X); // this displays 20 &amp; 30\r\n\t}\r\n}\r\n```\r\n\r\ntaskDto.setReleveBancaireId(Integer.parseInt(X));\r\n\r\nExpected return: \r\n\r\n    showing task dto TaskDto(releveBancaireId=20, variableName=relevebancaireId, variableTypeName=long,)\r\n    showing task dto TaskDto(releveBancaireId=30, variableName=relevebancaireId, variableTypeName=long,)\r\n\r\n\r\nactual return:\r\n\r\n    showing task dto TaskDto(releveBancaireId=30, variableName=relevebancaireId, variableTypeName=long,)\r\n    showing task dto TaskDto(releveBancaireId=30, variableName=relevebancaireId, variableTypeName=long,)\r\n\r\n\r\n\r\n**Long explanation:**\r\n\r\nthis service will get all tasks that are currerntly uncompleted by Activiti workflow. What I&#39;m doing here is to display all the Tasks\r\n\r\n       public List&lt;TaskDto&gt; getTasks(String assignee) {\r\n        ProcessDefinition processDefinition = repositoryService.createProcessDefinitionQuery().singleResult();\r\n        List&lt;HistoricVariableInstance&gt; historicVariableInstance = historyService.createHistoricVariableInstanceQuery().list();\r\n        ProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();\r\n        TaskService taskService = processEngine.getTaskService();\r\n    \r\n    // here I&#39;m specifying the proccess\r\n        List&lt;Task&gt; tasks = taskService.createTaskQuery().taskDefinitionKey(&quot;sid-4131471b-5de5-4760-97c7-c651b27c0258&quot;).includeProcessVariables().orderByTaskCreateTime().desc().list();\r\n    \r\n    // and here I&#39;m trying to retrieve releveBancaireId from a Map to set it to TaskDto\r\n        for (Task task : tasks) {\r\n          Map&lt;String, Object&gt; variables = task.getProcessVariables();\r\n          for (Entry&lt;String, Object&gt; stringObjectEntry : variables.entrySet()) {\r\n          releveBancaireId = stringObjectEntry.getValue().toString();\r\n          }\r\n        }\r\n        for (HistoricVariableInstance variableInstance : historicVariableInstance) {\r\n          variableName = variableInstance.getVariableName();\r\n          variableTypeName = variableInstance.getVariableTypeName();\r\n        }\r\n    \r\n    // here I&#39;m retrieving all the tasks and set every field in TaskDto and every Task has a different releveBancaireId. That is what this question is all about.\r\n    \r\n        List&lt;Task&gt; taskList = taskService.createTaskQuery().taskAssignee(assignee).list();\r\n        String finalVariableName = variableName;\r\n        String finalVariableTypeName = variableTypeName;\r\n         return taskList.stream().map(task -&gt;{\r\n          TaskDto taskDto = new TaskDto();\r\n    // this line I&#39;m setting the above releveBancaireId to this dto\r\n          taskDto.setReleveBancaireId(Integer.parseInt(releveBancaireId));\r\n          taskDto.setVariableName(finalVariableName);\r\n          taskDto.setVariableTypeName(finalVariableTypeName);\r\n          taskDto.setProccessesName(processDefinition.getName());\r\n          taskDto.setId(task.getId());\r\n          taskDto.setAssignee(task.getAssignee());\r\n          taskDto.setName(task.getName());\r\n          taskDto.setDescription(task.getDescription());\r\n          taskDto.setPriority(task.getPriority());\r\n          taskDto.setProcessDefinitionId(task.getProcessDefinitionId());\r\n          taskDto.setCreateTime(task.getCreateTime());\r\n          return taskDto;\r\n        }\r\n        ).collect(Collectors.toList());\r\n      }\r\n\r\n  // Retrieve assigned tasks\r\n\r\n      @RequestMapping(value = &quot;/tasks&quot;)\r\n      public ResponseEntity&lt;List&lt;TaskDto&gt;&gt; getTasks(@RequestParam String assignee) {\r\n        return new ResponseEntity&lt;&gt;(processService.getTasks(assignee), HttpStatus.OK);\r\n    \r\n      }\r\n\r\n\r\nthose pictures shows the output of the Map &amp; the taskDto:\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnother example See only the last value is getting stored:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI tried to make setter inside for loop but still ovveride it , also I tried to make TaskDto a entity and persist it to MySQL just to give a try if this has something about persisting but also in MySQL table has the last value persisted I don&#39;t know where the problem is.\r\n\r\nMy apology for the long explanation, but to simplify the problem is that for loop is ovveriding all the values and store only the last one, that&#39;s the problem. I really need this help I&#39;ve tried many solutions but nothing\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oQ9w9.png\r\n  [2]: https://i.stack.imgur.com/3ciq2.png\r\n  [3]: https://i.stack.imgur.com/D5UI6.png","title":"Java Enhanced For-Loop only stores the last value","body":"<p>I have this List</p>\n<pre><code>List&lt;Task&gt; = []\n</code></pre>\n<p>inside Task there is a methode that returns a <code>Map&lt;String, Object&gt;</code>. This is how it looks like this Map <code>{releveId=20, releveId=30}</code> I'm retrieving only the values <code>20 &amp; 30</code> and store them into a variable <code>X</code>.</p>\n<p>Now I have a class called <code>TaskDto</code>. This class will carry all the data I need.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Table\n@Entity\npublic class TaskDto {\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private int taskId;\n  private int releveBancaireId;\n  private String variableName;\n  private String variableTypeName;\n  private String proccessesName;\n  private String id;\n  private String assignee;\n  private String name;\n  private String description;\n  private int priority;\n  private String processDefinitionId;\n  private String processInstanceId;\n  private Date createTime;\n\n}\n</code></pre>\n<p>One of the fields <code>TaskDto</code> has is <code>releveId</code>.</p>\n<p>So while looping over the <code>List&lt;Task&gt;</code> and storing Map value in <code>X</code>\nWhen I try to do this : <code>taskDto.setReleveId(X)</code> this stores only the last one in our case is <code>30</code> where it should store both 20 &amp; 30</p>\n<p>This is my for loop:</p>\n<pre><code>for (Task taskLoop: tasks) {\n    Map&lt;String, Object&gt; variables = taskLoop.getProcessVariables();\n    System.out.println(&quot;showing variables &quot; + variables); // this displays {relevebancaireId=20} {relevebancaireId=30}\n    for (Entry&lt;String, Object&gt; stringObjectEntry: variables.entrySet()) {\n        X = stringObjectEntry.getValue().toString();\n        System.out.println(&quot;displaying X &quot; + X); // this displays 20 &amp; 30\n    }\n}\n</code></pre>\n<p>taskDto.setReleveBancaireId(Integer.parseInt(X));</p>\n<p>Expected return:</p>\n<pre><code>showing task dto TaskDto(releveBancaireId=20, variableName=relevebancaireId, variableTypeName=long,)\nshowing task dto TaskDto(releveBancaireId=30, variableName=relevebancaireId, variableTypeName=long,)\n</code></pre>\n<p>actual return:</p>\n<pre><code>showing task dto TaskDto(releveBancaireId=30, variableName=relevebancaireId, variableTypeName=long,)\nshowing task dto TaskDto(releveBancaireId=30, variableName=relevebancaireId, variableTypeName=long,)\n</code></pre>\n<p><strong>Long explanation:</strong></p>\n<p>this service will get all tasks that are currerntly uncompleted by Activiti workflow. What I'm doing here is to display all the Tasks</p>\n<pre><code>   public List&lt;TaskDto&gt; getTasks(String assignee) {\n    ProcessDefinition processDefinition = repositoryService.createProcessDefinitionQuery().singleResult();\n    List&lt;HistoricVariableInstance&gt; historicVariableInstance = historyService.createHistoricVariableInstanceQuery().list();\n    ProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();\n    TaskService taskService = processEngine.getTaskService();\n\n// here I'm specifying the proccess\n    List&lt;Task&gt; tasks = taskService.createTaskQuery().taskDefinitionKey(&quot;sid-4131471b-5de5-4760-97c7-c651b27c0258&quot;).includeProcessVariables().orderByTaskCreateTime().desc().list();\n\n// and here I'm trying to retrieve releveBancaireId from a Map to set it to TaskDto\n    for (Task task : tasks) {\n      Map&lt;String, Object&gt; variables = task.getProcessVariables();\n      for (Entry&lt;String, Object&gt; stringObjectEntry : variables.entrySet()) {\n      releveBancaireId = stringObjectEntry.getValue().toString();\n      }\n    }\n    for (HistoricVariableInstance variableInstance : historicVariableInstance) {\n      variableName = variableInstance.getVariableName();\n      variableTypeName = variableInstance.getVariableTypeName();\n    }\n\n// here I'm retrieving all the tasks and set every field in TaskDto and every Task has a different releveBancaireId. That is what this question is all about.\n\n    List&lt;Task&gt; taskList = taskService.createTaskQuery().taskAssignee(assignee).list();\n    String finalVariableName = variableName;\n    String finalVariableTypeName = variableTypeName;\n     return taskList.stream().map(task -&gt;{\n      TaskDto taskDto = new TaskDto();\n// this line I'm setting the above releveBancaireId to this dto\n      taskDto.setReleveBancaireId(Integer.parseInt(releveBancaireId));\n      taskDto.setVariableName(finalVariableName);\n      taskDto.setVariableTypeName(finalVariableTypeName);\n      taskDto.setProccessesName(processDefinition.getName());\n      taskDto.setId(task.getId());\n      taskDto.setAssignee(task.getAssignee());\n      taskDto.setName(task.getName());\n      taskDto.setDescription(task.getDescription());\n      taskDto.setPriority(task.getPriority());\n      taskDto.setProcessDefinitionId(task.getProcessDefinitionId());\n      taskDto.setCreateTime(task.getCreateTime());\n      return taskDto;\n    }\n    ).collect(Collectors.toList());\n  }\n</code></pre>\n<p>// Retrieve assigned tasks</p>\n<pre><code>  @RequestMapping(value = &quot;/tasks&quot;)\n  public ResponseEntity&lt;List&lt;TaskDto&gt;&gt; getTasks(@RequestParam String assignee) {\n    return new ResponseEntity&lt;&gt;(processService.getTasks(assignee), HttpStatus.OK);\n\n  }\n</code></pre>\n<p>those pictures shows the output of the Map &amp; the taskDto:</p>\n<p><a href=\"https://i.stack.imgur.com/oQ9w9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oQ9w9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3ciq2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ciq2.png\" alt=\"enter image description here\" /></a></p>\n<p>Another example See only the last value is getting stored:</p>\n<p><a href=\"https://i.stack.imgur.com/D5UI6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D5UI6.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to make setter inside for loop but still ovveride it , also I tried to make TaskDto a entity and persist it to MySQL just to give a try if this has something about persisting but also in MySQL table has the last value persisted I don't know where the problem is.</p>\n<p>My apology for the long explanation, but to simplify the problem is that for loop is ovveriding all the values and store only the last one, that's the problem. I really need this help I've tried many solutions but nothing</p>\n"},{"tags":["java","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":4733764,"reputation":891,"user_id":3828678,"display_name":"Ravikumar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1466003277,"creation_date":1466002967,"answer_id":37839108,"question_id":37838987,"body_markdown":"The question is not very clear may be this might be the problem.\r\nYou are creating an WebDriver object inside a function.\r\nMake WebDriver object global.\r\n\r\nExample\r\n\r\n    public class test {\r\n    WebDriver driver = new FirefoxDriver();\r\n    \r\n    public void test1(){\r\n     //test logic\r\n    }\r\n\r\n    public void test2(){\r\n     // test logic\r\n    }\r\n    }","title":"Selenium Webdriver and TestNG","body":"<p>The question is not very clear may be this might be the problem.\nYou are creating an WebDriver object inside a function.\nMake WebDriver object global.</p>\n\n<p>Example</p>\n\n<pre><code>public class test {\nWebDriver driver = new FirefoxDriver();\n\npublic void test1(){\n //test logic\n}\n\npublic void test2(){\n // test logic\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7313269,"reputation":603,"user_id":5571746,"accept_rate":59,"display_name":"colin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466004126,"creation_date":1466004126,"answer_id":37839555,"question_id":37838987,"body_markdown":"I would also put &quot;@Test(priority=1)&quot; inside the &quot;public void launchSandBoxTestingTestNg&quot; and declare the webdriver inside the &quot;launchSandBoxTestingTestNG&quot; but outside the test methods\r\n\r\n    \r\n    public void launchSandBoxTestingTestNG() throws InterruptedException{\r\n\r\n    // Import FireFox Driver\r\n    WebDriver driver = new FirefoxDriver();\r\n\r\n\r\n     @Test(priority=1)\r\n     public void test1(){\r\n    // Open up Sandbox Page\r\n    driver.get(&quot;****&quot;);\r\n\r\n    // Enter Usename and Password\r\n\r\n    // User\r\n    driver.findElement(By.id(&quot;userId&quot;)).sendKeys(&quot;****&quot;);\r\n    Thread.sleep(3000);\r\n\r\n    // Password\r\n    driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;****&quot;);\r\n    Thread.sleep(3000);\r\n\r\n    // Click Login Button\r\n    driver.findElement(By.id(&quot;loginButton&quot;)).click();\r\n    }\r\n\r\n    @Test(priority=2)\r\n    public void test2(){\r\n    driver.findElement(By.xpath(&quot;****&quot;)).click();\r\n    // When I try running this code above it underlines the find element in red \r\n       // When I run it on web driver the test2 syntax doesnt work\r\n    //It gives me an option of casting an argument but not sure what that means  \r\n       }\r\n\r\n    }","title":"Selenium Webdriver and TestNG","body":"<p>I would also put \"@Test(priority=1)\" inside the \"public void launchSandBoxTestingTestNg\" and declare the webdriver inside the \"launchSandBoxTestingTestNG\" but outside the test methods</p>\n\n<pre><code>public void launchSandBoxTestingTestNG() throws InterruptedException{\n\n// Import FireFox Driver\nWebDriver driver = new FirefoxDriver();\n\n\n @Test(priority=1)\n public void test1(){\n// Open up Sandbox Page\ndriver.get(\"****\");\n\n// Enter Usename and Password\n\n// User\ndriver.findElement(By.id(\"userId\")).sendKeys(\"****\");\nThread.sleep(3000);\n\n// Password\ndriver.findElement(By.id(\"password\")).sendKeys(\"****\");\nThread.sleep(3000);\n\n// Click Login Button\ndriver.findElement(By.id(\"loginButton\")).click();\n}\n\n@Test(priority=2)\npublic void test2(){\ndriver.findElement(By.xpath(\"****\")).click();\n// When I try running this code above it underlines the find element in red \n   // When I run it on web driver the test2 syntax doesnt work\n//It gives me an option of casting an argument but not sure what that means  \n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8540961,"reputation":3,"user_id":6401108,"accept_rate":11,"display_name":"user6401108"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1651962600,"creation_date":1466002643,"question_id":37838987,"body_markdown":"I&#39;m running a code on webdriver with TESTNG... the first test works perfectly fine but after when I try executing test2 ... the **driver.findelement** gets underlined in red and doesn&#39;t execute at all. Previous driver.findelement was brown but after test2 is blue, any reason to why its not working?\r\n\r\n\r\n\r\n\t@Test(priority=1)\r\n\tpublic void launchSandBoxTestingTestNG() throws InterruptedException{\r\n\t\t\r\n\t\t// Import FireFox Driver\r\n\t\tWebDriver driver = new FirefoxDriver();\r\n\t\t\r\n\t\t\r\n\t\t// Open up Sandbox Page\r\n\t\tdriver.get(&quot;****&quot;);\r\n\t\t\r\n\t\t// Enter Usename and Password\r\n\t\t\r\n\t\t// User\r\n\t\tdriver.findElement(By.id(&quot;userId&quot;)).sendKeys(&quot;****&quot;);\r\n\t\tThread.sleep(3000);\r\n\t\t\r\n\t\t// Password\r\n\t\tdriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;****&quot;);\r\n\t\tThread.sleep(3000);\r\n\t\t\r\n\t\t// Click Login Button\r\n\t\tdriver.findElement(By.id(&quot;loginButton&quot;)).click();\r\n\t}\r\n\t\t\r\n\t@Test(priority=2)\r\n\tpublic void test2(){\r\n\t\tdriver.findElement(By.xpath(&quot;****&quot;)).click();\r\n\t\t// When I try running this code above it underlines the find element in red \r\n       // When I run it on web driver the test2 syntax doesnt work\r\n       //It gives me an option of casting an argument but not sure what that means\t\r\n\t\t}\r\n\t\r\n\t}","title":"Selenium Webdriver and TestNG","body":"<p>I'm running a code on webdriver with TESTNG... the first test works perfectly fine but after when I try executing test2 ... the <strong>driver.findelement</strong> gets underlined in red and doesn't execute at all. Previous driver.findelement was brown but after test2 is blue, any reason to why its not working?</p>\n\n<pre><code>@Test(priority=1)\npublic void launchSandBoxTestingTestNG() throws InterruptedException{\n\n    // Import FireFox Driver\n    WebDriver driver = new FirefoxDriver();\n\n\n    // Open up Sandbox Page\n    driver.get(\"****\");\n\n    // Enter Usename and Password\n\n    // User\n    driver.findElement(By.id(\"userId\")).sendKeys(\"****\");\n    Thread.sleep(3000);\n\n    // Password\n    driver.findElement(By.id(\"password\")).sendKeys(\"****\");\n    Thread.sleep(3000);\n\n    // Click Login Button\n    driver.findElement(By.id(\"loginButton\")).click();\n}\n\n@Test(priority=2)\npublic void test2(){\n    driver.findElement(By.xpath(\"****\")).click();\n    // When I try running this code above it underlines the find element in red \n   // When I run it on web driver the test2 syntax doesnt work\n   //It gives me an option of casting an argument but not sure what that means  \n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","menu","jmenu"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651858520,"post_id":72145403,"comment_id":127472824,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651961872,"creation_date":1651859092,"answer_id":72145512,"question_id":72145403,"body_markdown":"If you want a side menu with buttons, I imagine you probably want to use a JPanel with GridLayout. Something like:\r\n\r\n    JPanel p = new JPanel();\r\n    p.setLayout(new GridLayout(2,2));\r\n    Jlabel l = new JLabel(&quot;a&quot;);\r\n    p.add(l);\r\n    JButton btn = new JButton(&quot;click&quot;);\r\n    p.add (btn);\r\n    l = new JLabel(&quot;b&quot;);\r\n    p.add(l);\r\n    btn = new JButton(&quot;click&quot;);\r\n    p.add (btn);\r\n\r\n","title":"How to make a vertical side menu, Jmenus in swing?","body":"<p>If you want a side menu with buttons, I imagine you probably want to use a JPanel with GridLayout. Something like:</p>\n<pre><code>JPanel p = new JPanel();\np.setLayout(new GridLayout(2,2));\nJlabel l = new JLabel(&quot;a&quot;);\np.add(l);\nJButton btn = new JButton(&quot;click&quot;);\np.add (btn);\nl = new JLabel(&quot;b&quot;);\np.add(l);\nbtn = new JButton(&quot;click&quot;);\np.add (btn);\n</code></pre>\n"}],"owner":{"account_id":24369853,"reputation":3,"user_id":19044009,"display_name":"ice_coffee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72145512,"answer_count":1,"score":0,"last_activity_date":1651961872,"creation_date":1651858387,"question_id":72145403,"body_markdown":"I&#39;m relatively new to java swing, so I don&#39;t know to change the menu component in swing with a vertical one.","title":"How to make a vertical side menu, Jmenus in swing?","body":"<p>I'm relatively new to java swing, so I don't know to change the menu component in swing with a vertical one.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1651958809,"post_id":72156442,"comment_id":127491090,"body_markdown":"You did not even post the complete code. We have to guess by reading that snippet. Also the real problem is not clear. Does it not compile? Does it not do what you intend it to?","body":"You did not even post the complete code. We have to guess by reading that snippet. Also the real problem is not clear. Does it not compile? Does it not do what you intend it to?"},{"owner":{"account_id":8920733,"reputation":1,"user_id":6657409,"display_name":"Ab T"},"score":0,"creation_date":1651959237,"post_id":72156442,"comment_id":127491160,"body_markdown":"the problem is that i want to accesse the methods and attributes of the class Arme from the class PersonnageArme how can i do that please , no it does not compile","body":"the problem is that i want to accesse the methods and attributes of the class Arme from the class PersonnageArme how can i do that please , no it does not compile"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1651959361,"post_id":72156442,"comment_id":127491181,"body_markdown":"You have a constructor that generates a person with a weapon, and weapons have methods that you can access from an instance of the weapon class. What is preventing you from using that constructor to make a person with a weapon and then use whatever methods you want from the weapon class through the person&#39;s weapon?","body":"You have a constructor that generates a person with a weapon, and weapons have methods that you can access from an instance of the weapon class. What is preventing you from using that constructor to make a person with a weapon and then use whatever methods you want from the weapon class through the person&#39;s weapon?"},{"owner":{"account_id":8920733,"reputation":1,"user_id":6657409,"display_name":"Ab T"},"score":0,"creation_date":1651959369,"post_id":72156442,"comment_id":127491183,"body_markdown":"if let&#39;s say this method in the class PersonnageArme wont work                                            public boolean attaque(final PersonnageArme adversaire){\n \n if (testarme1.getArme().getBonusAttaque(BonusAttaque)  &gt; testarme2.getBonusAttaque(BonusAttaque) || p1.getClasseDArmure() &gt; p2.getClasseDArmure()){\n \n return true;\n \n } \n \n\n  }","body":"if let&#39;s say this method in the class PersonnageArme wont work                                            public boolean attaque(final PersonnageArme adversaire){    if (testarme1.getArme().getBonusAttaque(BonusAttaque)  &gt; testarme2.getBonusAttaque(BonusAttaque) || p1.getClasseDArmure() &gt; p2.getClasseDArmure()){    return true;    }       }"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1651959453,"post_id":72156442,"comment_id":127491202,"body_markdown":"If the problem is that your code does not compile, post the full code of the class that doesn&#39;t compile and the error messages that you see when trying to compile it.","body":"If the problem is that your code does not compile, post the full code of the class that doesn&#39;t compile and the error messages that you see when trying to compile it."},{"owner":{"account_id":8920733,"reputation":1,"user_id":6657409,"display_name":"Ab T"},"score":0,"creation_date":1651960284,"post_id":72156442,"comment_id":127491353,"body_markdown":"i wqnted to create a relathionship between the class Arme et PersonnageArme  is there a possible way to do it thank you","body":"i wqnted to create a relathionship between the class Arme et PersonnageArme  is there a possible way to do it thank you"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1651960502,"post_id":72156442,"comment_id":127491387,"body_markdown":"You have already done that, since PersonnageArme already has a field of type Arme","body":"You have already done that, since PersonnageArme already has a field of type Arme"},{"owner":{"account_id":8920733,"reputation":1,"user_id":6657409,"display_name":"Ab T"},"score":0,"creation_date":1651960732,"post_id":72156442,"comment_id":127491421,"body_markdown":"yes tahk you that is true but i have an error in the constructor","body":"yes tahk you that is true but i have an error in the constructor"},{"owner":{"account_id":8920733,"reputation":1,"user_id":6657409,"display_name":"Ab T"},"score":0,"creation_date":1651960758,"post_id":72156442,"comment_id":127491427,"body_markdown":"public PersonnageArme(String n, Arme a, int othernbpointsvie, int autreclassearmure) {\n\n  super(n,  Arme a );  ==========&gt; error\n\n   nom = n;\n\n   Arme = a;\n   \n  }","body":"public PersonnageArme(String n, Arme a, int othernbpointsvie, int autreclassearmure) {    super(n,  Arme a );  ==========&gt; error     nom = n;     Arme = a;       }"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1651960832,"post_id":72156442,"comment_id":127491436,"body_markdown":"Again, if the problem is that your code does not compile, post the code that does not compile and the error messages","body":"Again, if the problem is that your code does not compile, post the code that does not compile and the error messages"},{"owner":{"account_id":8920733,"reputation":1,"user_id":6657409,"display_name":"Ab T"},"score":0,"creation_date":1651960839,"post_id":72156442,"comment_id":127491439,"body_markdown":"sorry it was not clear                    super(n,  Arme a ); ==&gt; show error\n\n   nom = n;\n\n   Arme = a;\n   \n  }","body":"sorry it was not clear                    super(n,  Arme a ); ==&gt; show error     nom = n;     Arme = a;       }"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1651960899,"post_id":72156442,"comment_id":127491452,"body_markdown":"Again, &quot;show error&quot; means nothing. What error? Please edit your question to include the error messages and a [mre].","body":"Again, &quot;show error&quot; means nothing. What error? Please edit your question to include the error messages and a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":16015779,"reputation":3,"user_id":11558570,"display_name":"M.Lipiński"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651961201,"creation_date":1651961201,"answer_id":72156682,"question_id":72156442,"body_markdown":"You can create communication interface that both Classes implement, that way you can set up communication based on every Claas implementation of the interface methods similiar to listener interface\r\n","title":"i have an issue in making two classes communicatiion the goal is to make one casse accessthe methods and attributes to the other class","body":"<p>You can create communication interface that both Classes implement, that way you can set up communication based on every Claas implementation of the interface methods similiar to listener interface</p>\n"}],"owner":{"account_id":8920733,"reputation":1,"user_id":6657409,"display_name":"Ab T"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651961201,"creation_date":1651958353,"question_id":72156442,"body_markdown":"i have an issue with somme java code i explain i want to make a relationship between two classes that share somme attributes and commuicate\r\n\r\nit is a java game code(simulation)\r\n\r\ni will paste a snippet of code\r\n\r\nthe objectif is to add the properties of an arme(weapon) to the PersoonageArme\r\n\r\n\r\nthat is the objectif\r\n\r\n\r\n\r\n\r\n\r\n\r\njust want to let the two classes communicate\r\n\r\n\r\nMy question is how to get the class PersonnageArme communicate with the class Arme i mean how it can aceess the class Arme methods and attributes ?\r\n\r\n\r\nPersonnageArme ==&gt; means a person with a weapon\r\n\r\nArme ===========&gt; weapon\r\n\r\nBonusAttaque ======&gt; attack bonus\r\n\r\nMaxdegats  ================&gt; maximum damage\r\n\r\nLancede  ===================&gt; dice random function(06 faces)\r\n\r\n\r\nthank you\r\n\r\n\r\n\r\n\r\n```class LanceDe {\r\n\r\n  private static int deNFaces(final int n){\r\n    return (int) (Math.random()*n+1);\r\n    }\r\n\r\n  public static int de20(){\r\n    return deNFaces(20);\r\n    }\r\n  public static int de6(){\r\n    return deNFaces(6);\r\n    }\r\n  }\r\n\r\n\r\nclass Personnage  {\r\n/*public static final int MAX_NBPOINTVIE = 12;\r\npublic static final int MAX_CLASSARM = 16;*/\r\npublic String nom;\r\npublic int nbpointsvie;\r\nprivate int classearmure;\r\n\r\n  Personnage p1 = new Personnage(&quot;p1&quot;);\r\n  Personnage p2 = new Personnage(&quot;p2&quot;);\r\n\r\n\r\n  \r\npublic Personnage(String otherName, int othernbpointsvie, int autreclassearmure){\r\n  \r\n\t    nom = otherName;\r\n\t    nbpointsvie = othernbpointsvie;\r\n\t    classearmure = autreclassearmure;\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\npublic Personnage(String otherName){\r\n\t    nom = otherName;\r\n\t    nbpointsvie = LanceDe.de6() + LanceDe.de6();\r\n\t    classearmure = LanceDe.de20();\r\n\t}\r\n\r\n\t\r\n\r\n \r\n public String getNom()\r\n {\r\n return nom;\r\n \r\n }\r\n \r\n public int getPointDeVie() \r\n {\r\n return nbpointsvie  ;\r\n \r\n }\r\n \r\n public int getClasseDArmure()\r\n \r\n {\r\n return classearmure;\r\n \r\n }\r\n \r\n\r\n \r\n  public boolean estVivant(){\r\n  \r\n  \r\n  return nbpointsvie &gt; 0;\r\n\r\n    }\r\n\r\n  public void recoitDommage(final int dmg){\r\n  \r\n  nbpointsvie = nbpointsvie - dmg;\r\n  \r\n  \r\n    }\r\n\r\n  public boolean attaque(final Personnage adversaire){\r\n  \r\n if (p1.getClasseDArmure() &gt; p2.getClasseDArmure()){\r\n   p1.recoitDommage(1);\r\n   }\r\n return true;\r\n \r\n\r\n \r\n  \r\n    }\r\n\r\n  @Override\r\n  public String toString(){\r\n   return &quot;Hello&quot;;\r\n  \r\n    }\r\n  \r\n}\r\n\r\n\r\nclass Arme   {\r\n\r\n/*public static final int BONUS_ATTAQUE = 10;\r\npublic static final int MAX_DEGATS= 10;*/\r\nprivate String nom;   \r\nprivate String arme;\r\nprivate int BonusAttaque = 0;\r\nprivate int MaxDegats = 0;\r\n\r\n\r\n\r\n\r\npublic Arme(String otherName, String otherarme, int anotherBonusAttaque, int anotherMaxDegats ) {\r\nnom = otherName;\r\narme = otherarme;\r\n\r\nBonusAttaque = anotherBonusAttaque ;\r\n\r\nMaxDegats  =  anotherMaxDegats;\r\n\r\n }\r\n\r\n public Arme(String otherName, String otherarme) {\r\nnom = otherName;\r\narme = otherarme;\r\n\r\nBonusAttaque = LanceDe.de6() ;\r\n\r\nMaxDegats  =  LanceDe.de6();\r\n\r\n } \r\n \r\npublic static int getBonusAttaque(final int BonusAttaque ) \r\n {\r\n   while ( BonusAttaque &gt; 0){\r\n     \r\n     }\r\n\r\n   return  (int) BonusAttaque;\r\n }\r\n \r\n  public static int getMaxDegats(final int  MaxDegats  )\r\n \r\n {\r\n\r\n   while(MaxDegats &gt; 0){\r\n\r\n     \r\n   }\r\n\r\n return (int) MaxDegats;\r\n }\r\n \r\npublic int  infligerDegat(){\r\nint degats =LanceDe.de6(); \r\nwhile (degats &lt;  MaxDegats ){\r\n \r\n return (int) degats ;\r\n\r\n \r\n   }\r\n\r\n  \r\n \r\n }\r\n \r\n \r\n\r\nclass PersonnageArme extends Personnage {\r\nprivate String nom;\r\nprivate  Arme Arme;\r\n\r\n\r\n  PersonnageArme testarme1 = new PersonnageArme(&quot;Test arme 1&quot;, 10, 10);\r\n\r\n  PersonnageArme testarme2 = new PersonnageArme(&quot;Test arme 2&quot;, 10, 10);\r\n\r\n public PersonnageArme(String n, Arme a, int othernbpointsvie, int autreclassearmure) {\r\n\r\n  super(n,  Arme a, );\r\n\r\n   nom = n;\r\n\r\n   Arme = a;\r\n   \r\n  }\r\n\r\n  \r\n public PersonnageArme(String otherName){\r\n super(otherName );\r\n  \r\n\t  \r\n \r\n}\r\n \r\n\r\npublic PersonnageArme(String otherName, int othernbpointsvie,  \r\n int autreclassearmure) {\r\n super(otherName, othernbpointsvie, autreclassearmure);\r\n  \r\n\t  \r\n \r\n}\r\n \r\n  \r\n\r\n\r\n\r\n\r\n \r\n  public boolean attaque(final PersonnageArme adversaire){\r\n \r\n if (testarme.getArme().getBonusAttaque(BonusAttaque)  &gt; Arme.getBonusAttaque(BonusAttaque) || p1.getClasseDArmure() &gt; p2.getClasseDArmure()){\r\n \r\n return true;\r\n \r\n } \r\n \r\n\r\n  }```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ni would like to get interaction between the two classes Arme  and PersonnageArme\r\n\r\n\r\nany suggestions would be be very appreciated\r\n\r\nthaank you","title":"i have an issue in making two classes communicatiion the goal is to make one casse accessthe methods and attributes to the other class","body":"<p>i have an issue with somme java code i explain i want to make a relationship between two classes that share somme attributes and commuicate</p>\n<p>it is a java game code(simulation)</p>\n<p>i will paste a snippet of code</p>\n<p>the objectif is to add the properties of an arme(weapon) to the PersoonageArme</p>\n<p>that is the objectif</p>\n<p>just want to let the two classes communicate</p>\n<p>My question is how to get the class PersonnageArme communicate with the class Arme i mean how it can aceess the class Arme methods and attributes ?</p>\n<p>PersonnageArme ==&gt; means a person with a weapon</p>\n<p>Arme ===========&gt; weapon</p>\n<p>BonusAttaque ======&gt; attack bonus</p>\n<p>Maxdegats  ================&gt; maximum damage</p>\n<p>Lancede  ===================&gt; dice random function(06 faces)</p>\n<p>thank you</p>\n<pre><code>\n  private static int deNFaces(final int n){\n    return (int) (Math.random()*n+1);\n    }\n\n  public static int de20(){\n    return deNFaces(20);\n    }\n  public static int de6(){\n    return deNFaces(6);\n    }\n  }\n\n\nclass Personnage  {\n/*public static final int MAX_NBPOINTVIE = 12;\npublic static final int MAX_CLASSARM = 16;*/\npublic String nom;\npublic int nbpointsvie;\nprivate int classearmure;\n\n  Personnage p1 = new Personnage(&quot;p1&quot;);\n  Personnage p2 = new Personnage(&quot;p2&quot;);\n\n\n  \npublic Personnage(String otherName, int othernbpointsvie, int autreclassearmure){\n  \n        nom = otherName;\n        nbpointsvie = othernbpointsvie;\n        classearmure = autreclassearmure;\n    }\n\n\n\n\n\n\npublic Personnage(String otherName){\n        nom = otherName;\n        nbpointsvie = LanceDe.de6() + LanceDe.de6();\n        classearmure = LanceDe.de20();\n    }\n\n    \n\n \n public String getNom()\n {\n return nom;\n \n }\n \n public int getPointDeVie() \n {\n return nbpointsvie  ;\n \n }\n \n public int getClasseDArmure()\n \n {\n return classearmure;\n \n }\n \n\n \n  public boolean estVivant(){\n  \n  \n  return nbpointsvie &gt; 0;\n\n    }\n\n  public void recoitDommage(final int dmg){\n  \n  nbpointsvie = nbpointsvie - dmg;\n  \n  \n    }\n\n  public boolean attaque(final Personnage adversaire){\n  \n if (p1.getClasseDArmure() &gt; p2.getClasseDArmure()){\n   p1.recoitDommage(1);\n   }\n return true;\n \n\n \n  \n    }\n\n  @Override\n  public String toString(){\n   return &quot;Hello&quot;;\n  \n    }\n  \n}\n\n\nclass Arme   {\n\n/*public static final int BONUS_ATTAQUE = 10;\npublic static final int MAX_DEGATS= 10;*/\nprivate String nom;   \nprivate String arme;\nprivate int BonusAttaque = 0;\nprivate int MaxDegats = 0;\n\n\n\n\npublic Arme(String otherName, String otherarme, int anotherBonusAttaque, int anotherMaxDegats ) {\nnom = otherName;\narme = otherarme;\n\nBonusAttaque = anotherBonusAttaque ;\n\nMaxDegats  =  anotherMaxDegats;\n\n }\n\n public Arme(String otherName, String otherarme) {\nnom = otherName;\narme = otherarme;\n\nBonusAttaque = LanceDe.de6() ;\n\nMaxDegats  =  LanceDe.de6();\n\n } \n \npublic static int getBonusAttaque(final int BonusAttaque ) \n {\n   while ( BonusAttaque &gt; 0){\n     \n     }\n\n   return  (int) BonusAttaque;\n }\n \n  public static int getMaxDegats(final int  MaxDegats  )\n \n {\n\n   while(MaxDegats &gt; 0){\n\n     \n   }\n\n return (int) MaxDegats;\n }\n \npublic int  infligerDegat(){\nint degats =LanceDe.de6(); \nwhile (degats &lt;  MaxDegats ){\n \n return (int) degats ;\n\n \n   }\n\n  \n \n }\n \n \n\nclass PersonnageArme extends Personnage {\nprivate String nom;\nprivate  Arme Arme;\n\n\n  PersonnageArme testarme1 = new PersonnageArme(&quot;Test arme 1&quot;, 10, 10);\n\n  PersonnageArme testarme2 = new PersonnageArme(&quot;Test arme 2&quot;, 10, 10);\n\n public PersonnageArme(String n, Arme a, int othernbpointsvie, int autreclassearmure) {\n\n  super(n,  Arme a, );\n\n   nom = n;\n\n   Arme = a;\n   \n  }\n\n  \n public PersonnageArme(String otherName){\n super(otherName );\n  \n      \n \n}\n \n\npublic PersonnageArme(String otherName, int othernbpointsvie,  \n int autreclassearmure) {\n super(otherName, othernbpointsvie, autreclassearmure);\n  \n      \n \n}\n \n  \n\n\n\n\n \n  public boolean attaque(final PersonnageArme adversaire){\n \n if (testarme.getArme().getBonusAttaque(BonusAttaque)  &gt; Arme.getBonusAttaque(BonusAttaque) || p1.getClasseDArmure() &gt; p2.getClasseDArmure()){\n \n return true;\n \n } \n \n\n  }```\n\n\n\n\n\n\n\n\n\ni would like to get interaction between the two classes Arme  and PersonnageArme\n\n\nany suggestions would be be very appreciated\n\nthaank you\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2341852,"reputation":509,"user_id":2052954,"display_name":"vmallet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651961070,"creation_date":1651961070,"answer_id":72156666,"question_id":72156575,"body_markdown":"You read each line, parse it, and then proceed to add its values to ALL the rows from 0 to flightsLength, every time.\r\n\r\nInstead you need to read each line, parse it, and then add it to the next row in your bookings. \r\n\r\nEffectively, get rid of the `for (int row = 0; row &lt; flightsLength; row++) {` (and the matching `}`) that ruin things for you, and maintain your own `row` index, something like:\r\n\r\n            int row = 0;\r\n            \r\n            //while next line is available, loop\r\n            while ((line = br.readLine()) != null) {\r\n                String[] values = line.split(&quot;,&quot;);\r\n                \r\n                for (int cell = 0; cell &lt;= 4; cell++) {\r\n                    bookings[row][cell] = values[cell];\r\n                }\r\n                row++;\r\n            }\r\n","title":"Why does this code add the same entry from my csv file to the 2d array?","body":"<p>You read each line, parse it, and then proceed to add its values to ALL the rows from 0 to flightsLength, every time.</p>\n<p>Instead you need to read each line, parse it, and then add it to the next row in your bookings.</p>\n<p>Effectively, get rid of the <code>for (int row = 0; row &lt; flightsLength; row++) {</code> (and the matching <code>}</code>) that ruin things for you, and maintain your own <code>row</code> index, something like:</p>\n<pre><code>        int row = 0;\n        \n        //while next line is available, loop\n        while ((line = br.readLine()) != null) {\n            String[] values = line.split(&quot;,&quot;);\n            \n            for (int cell = 0; cell &lt;= 4; cell++) {\n                bookings[row][cell] = values[cell];\n            }\n            row++;\n        }\n</code></pre>\n"}],"owner":{"account_id":24763333,"reputation":25,"user_id":18647446,"display_name":"BaileyLylyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72156666,"answer_count":1,"score":0,"last_activity_date":1651961070,"creation_date":1651960133,"question_id":72156575,"body_markdown":"I am reading from a csv file called bookings which has 3 rows currently\r\n\r\n    1,000,Test Name,1,First\r\n    2,000,Another Name,2,First\r\n    3,001,Yet Another,3,Business\r\n\r\nI have a method which is meant to read through the file and add each element into a 2d array of bookings, however, the method instead adds the same record to all elements in the 2d array\r\n\r\nOutput:\r\n\r\n    Bookings: [[3, 001, Yet Another, 3, Business], [3, 001, Yet Another, 3, Business], [3, 001, Yet Another, 3, Business]\r\n\r\nCode:\r\n\r\n    public class Booker {\r\n    \r\n        int flightsLength;\r\n        int nextFlight;\r\n        // 2D Array representing bookings\r\n        String[][] bookings = new String[1000][5];\r\n        //        Read bookings from csvr\r\n        //file path\r\n        String path =&quot;bookings.csv&quot;;\r\n        //current line being read\r\n        String line;\r\n    \r\n    \r\n    \r\n        public void readBookings() {\r\n    \r\n            try {\r\n                //new buffered reader object named br\r\n                BufferedReader br;\r\n                System.out.println(&quot;RUNNING:&quot;);\r\n                //initialise the buffered reader with the file as a parameter\r\n                br = new BufferedReader(new FileReader(path));\r\n                //     Store length of flights csv\r\n                flightsLength = getFlightsCount();\r\n    \r\n                //while next line is available, loop\r\n                while ((line = br.readLine()) != null) {\r\n    \r\n                    String[] values = line.split(&quot;,&quot;);\r\n    \r\n                    for (int row = 0; row &lt; flightsLength; row++) {\r\n                        for (int cell = 0; cell &lt;= 4; cell++) {\r\n                            bookings[row][cell] = values[cell];\r\n    \r\n    \r\n                        }\r\n                    }\r\n                }\r\n                System.out.println(&quot;Bookings: &quot; + Arrays.deepToString(bookings));\r\n                System.out.println();\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nPlease let me know if I should explain the code more or if there is any confusion, and thank you in advance for the help.","title":"Why does this code add the same entry from my csv file to the 2d array?","body":"<p>I am reading from a csv file called bookings which has 3 rows currently</p>\n<pre><code>1,000,Test Name,1,First\n2,000,Another Name,2,First\n3,001,Yet Another,3,Business\n</code></pre>\n<p>I have a method which is meant to read through the file and add each element into a 2d array of bookings, however, the method instead adds the same record to all elements in the 2d array</p>\n<p>Output:</p>\n<pre><code>Bookings: [[3, 001, Yet Another, 3, Business], [3, 001, Yet Another, 3, Business], [3, 001, Yet Another, 3, Business]\n</code></pre>\n<p>Code:</p>\n<pre><code>public class Booker {\n\n    int flightsLength;\n    int nextFlight;\n    // 2D Array representing bookings\n    String[][] bookings = new String[1000][5];\n    //        Read bookings from csvr\n    //file path\n    String path =&quot;bookings.csv&quot;;\n    //current line being read\n    String line;\n\n\n\n    public void readBookings() {\n\n        try {\n            //new buffered reader object named br\n            BufferedReader br;\n            System.out.println(&quot;RUNNING:&quot;);\n            //initialise the buffered reader with the file as a parameter\n            br = new BufferedReader(new FileReader(path));\n            //     Store length of flights csv\n            flightsLength = getFlightsCount();\n\n            //while next line is available, loop\n            while ((line = br.readLine()) != null) {\n\n                String[] values = line.split(&quot;,&quot;);\n\n                for (int row = 0; row &lt; flightsLength; row++) {\n                    for (int cell = 0; cell &lt;= 4; cell++) {\n                        bookings[row][cell] = values[cell];\n\n\n                    }\n                }\n            }\n            System.out.println(&quot;Bookings: &quot; + Arrays.deepToString(bookings));\n            System.out.println();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Please let me know if I should explain the code more or if there is any confusion, and thank you in advance for the help.</p>\n"},{"tags":["java","algorithm","math","division","exponent"],"comments":[{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1652081808,"post_id":72156597,"comment_id":127510395,"body_markdown":"[`double`](https://en.wikipedia.org/wiki/Double-precision_floating-point_format) has only 11 bit exponent and your result needs 32 !!! Also why not use [Power by squaring for negative exponents](https://stackoverflow.com/a/30962495/2521214) ?","body":"<a href=\"https://en.wikipedia.org/wiki/Double-precision_floating-point_format\" rel=\"nofollow noreferrer\"><code>double</code></a> has only 11 bit exponent and your result needs 32 !!! Also why not use <a href=\"https://stackoverflow.com/a/30962495/2521214\">Power by squaring for negative exponents</a> ?"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1652086046,"post_id":72156597,"comment_id":127511744,"body_markdown":"@Spektre: Could you please elaborate on &quot;double has only 11 bit exponent and your result needs 32!!!&quot;? I don&#39;t understand this","body":"@Spektre: Could you please elaborate on &quot;double has only 11 bit exponent and your result needs 32!!!&quot;? I don&#39;t understand this"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1652086881,"post_id":72156597,"comment_id":127512026,"body_markdown":"11 bit exponent in `double` means it can store (normalized) numbers with exponents `exp = (+/-) 2^10` so `2^-1024 ... 2^+1024`  and your result is `2^-2147483648` where `log2(2147483648)=31` + 1 bit for sign so you would need 32 bit exponent instead of 11 ... you can not store numbers (with decadic exponent) bigger/smaller  than `~ 10 ^ (+/-) 308` in `double` while `2^-2147483648 -&gt; ~ 10^-646456993.24`  which is clearly outside double range","body":"11 bit exponent in <code>double</code> means it can store (normalized) numbers with exponents <code>exp = (+&#47;-) 2^10</code> so <code>2^-1024 ... 2^+1024</code>  and your result is <code>2^-2147483648</code> where <code>log2(2147483648)=31</code> + 1 bit for sign so you would need 32 bit exponent instead of 11 ... you can not store numbers (with decadic exponent) bigger/smaller  than <code>~ 10 ^ (+&#47;-) 308</code> in <code>double</code> while <code>2^-2147483648 -&gt; ~ 10^-646456993.24</code>  which is clearly outside double range"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1652093808,"post_id":72156597,"comment_id":127514483,"body_markdown":"@Spektre: For the purpose of this post 0 is what I expected. But out of curiosity how is what you described solved then?","body":"@Spektre: For the purpose of this post 0 is what I expected. But out of curiosity how is what you described solved then?"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1652105788,"post_id":72156597,"comment_id":127519026,"body_markdown":"depends on case ... for example you can use: higher precision FPU variable, arbitrary precision datatype, logarithmic scale of equation ...","body":"depends on case ... for example you can use: higher precision FPU variable, arbitrary precision datatype, logarithmic scale of equation ..."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1652110009,"post_id":72156597,"comment_id":127520842,"body_markdown":"@Spektre: would that mean not using java? I don&#39;t know what a higher precision FPU variable would be when programming in Java","body":"@Spektre: would that mean not using java? I don&#39;t know what a higher precision FPU variable would be when programming in Java"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1652127966,"post_id":72156597,"comment_id":127526718,"body_markdown":"unless you want to implement it yourself there are libs for stuff like that for example try/google `BigDecimal` ...","body":"unless you want to implement it yourself there are libs for stuff like that for example try/google <code>BigDecimal</code> ..."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1652174064,"post_id":72156597,"comment_id":127536300,"body_markdown":"@Spektre: How did you come with `10^(+/-)308` when earlier you said it can store up to `2^(+/-)1024`? From the calculator 10^308 != 2^1024","body":"@Spektre: How did you come with <code>10^(+&#47;-)308</code> when earlier you said it can store up to <code>2^(+&#47;-)1024</code>? From the calculator 10^308 != 2^1024"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1652175130,"post_id":72156597,"comment_id":127536716,"body_markdown":"its basic logarithm math (changing base from 2 to 10): `2^1024 = 10^(1024*log10(2)) = 10^(1024*0.30102999) = 10^308.2547` its very useful for [number printing routines](https://stackoverflow.com/a/59861545/2521214) so you know how much space to allocate for string and can store in reverse order directly instead of adding another pass. Not sure what calculator you have my (win7 x64 calc) returns this: `2^1024 = 1.797693134862315907729305190789e+308` and `10^308.2547 = 1.7976287282083264877504930088425e+308` which is pretty close considering i rounded quite a few decimal digits of the exponent","body":"its basic logarithm math (changing base from 2 to 10): <code>2^1024 = 10^(1024*log10(2)) = 10^(1024*0.30102999) = 10^308.2547</code> its very useful for <a href=\"https://stackoverflow.com/a/59861545/2521214\">number printing routines</a> so you know how much space to allocate for string and can store in reverse order directly instead of adding another pass. Not sure what calculator you have my (win7 x64 calc) returns this: <code>2^1024 = 1.797693134862315907729305190789e+308</code> and <code>10^308.2547 = 1.7976287282083264877504930088425e+308</code> which is pretty close considering i rounded quite a few decimal digits of the exponent"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1652181589,"post_id":72156597,"comment_id":127539257,"body_markdown":"@Spektre: I just used this to calculate 10^308 https://www.mathsisfun.com/calculator-precision.html It gives `1.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e+308` While for 2^1024 it gives `1.7976931348623159077293051907890247336179769789423065727343008115773267580550096313270847732240753602112011387987139335765878976881441662249284743063947412437776789342486548527630221960124609411945308e+308`","body":"@Spektre: I just used this to calculate 10^308 <a href=\"https://www.mathsisfun.com/calculator-precision.html\" rel=\"nofollow noreferrer\">mathsisfun.com/calculator-precision.html</a> It gives <code>1.0000000000000000000000000000000000000000000000000000000000&zwnj;&#8203;00000000000000000000&zwnj;&#8203;00000000000000000000&zwnj;&#8203;00000000000000000000&zwnj;&#8203;00000000000000000000&zwnj;&#8203;00000000000000000000&zwnj;&#8203;00000000000000000000&zwnj;&#8203;00000000000000000000&zwnj;&#8203;0e+308</code> While for 2^1024 it gives <code>1.7976931348623159077293051907890247336179769789423065727343&zwnj;&#8203;00811577326758055009&zwnj;&#8203;63132708477322407536&zwnj;&#8203;02112011387987139335&zwnj;&#8203;76587897688144166224&zwnj;&#8203;92847430639474124377&zwnj;&#8203;76789342486548527630&zwnj;&#8203;22196012460941194530&zwnj;&#8203;8e+308</code>"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1652181786,"post_id":72156597,"comment_id":127539338,"body_markdown":"yep both are correct ... (you truncated the decadic exponent to ~308 so the result might be off by up to factor of 10 (single digit)... but that is usually enough for rough comparison of magnitudes)","body":"yep both are correct ... (you truncated the decadic exponent to ~308 so the result might be off by up to factor of 10 (single digit)... but that is usually enough for rough comparison of magnitudes)"}],"answers":[{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1651960952,"creation_date":1651960952,"answer_id":72156657,"question_id":72156597,"body_markdown":"`Math.abs(n)` is still an `int`, and only afterwards it is assigned to a `long`, Therefore, the absolute value of `-2147483648` was `-2147483648` again (this is noted in [the documentation of `Math.abs(int)`](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#abs-int-)). With the negative bound, the loop performed no iterations.\r\n\r\n`Math.abs((long)n)` would work around that issue.","title":"Power to n implementation that produces wrong results for negative exponent","body":"<p><code>Math.abs(n)</code> is still an <code>int</code>, and only afterwards it is assigned to a <code>long</code>, Therefore, the absolute value of <code>-2147483648</code> was <code>-2147483648</code> again (this is noted in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#abs-int-\" rel=\"noreferrer\">the documentation of <code>Math.abs(int)</code></a>). With the negative bound, the loop performed no iterations.</p>\n<p><code>Math.abs((long)n)</code> would work around that issue.</p>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72156657,"answer_count":1,"score":0,"last_activity_date":1651960952,"creation_date":1651960377,"question_id":72156597,"body_markdown":"In the following (naive) implementation of a `pow(x, n)` method, ignoring completely any optimized approach, I find the following problem:  \r\n\r\n    public double pow(double x, int n) {  \r\n      boolean negative = n &lt; 0;  \r\n      long power = Math.abs(n);  \r\n      double ans = 1.0;  \r\n      for(long i = 0; i &lt; power; i++) {  \r\n        ans = ans * x;  \r\n      }    \r\n      return negative ? 1.0/ans: ans;  \r\n    }  \r\n\r\nHere I have made the assumption that for the case of negative exponent I simply calculate the `x^n` and then return `1/(x^n)` since e.g. `2^(-3) = 1/(2^3)`  \r\n\r\nProblem:  \r\nThe code fails in the following case:  \r\n`pow(2.00000, -2147483648)`  \r\nThe output is `1.00000` while the expected correct result is `0.00000`  \r\n\r\nIf I change the code as follows:  \r\n\r\n    public double pow(double x, int n) {  \r\n      long power = n;  \r\n      if(power &lt; 0) {  \r\n        x = 1 / x;  \r\n        power = -power;\r\n      }  \r\n      double ans = 1.0;  \r\n      for(long i = 0; i &lt; power; i++) {  \r\n        ans = ans * x;  \r\n      }    \r\n      return ans;  \r\n    }  \r\nThe result is correct!  \r\n\r\nSo what is the difference between doing the approaches? I was expecting them to be equivalent but they are not","title":"Power to n implementation that produces wrong results for negative exponent","body":"<p>In the following (naive) implementation of a <code>pow(x, n)</code> method, ignoring completely any optimized approach, I find the following problem:</p>\n<pre><code>public double pow(double x, int n) {  \n  boolean negative = n &lt; 0;  \n  long power = Math.abs(n);  \n  double ans = 1.0;  \n  for(long i = 0; i &lt; power; i++) {  \n    ans = ans * x;  \n  }    \n  return negative ? 1.0/ans: ans;  \n}  \n</code></pre>\n<p>Here I have made the assumption that for the case of negative exponent I simply calculate the <code>x^n</code> and then return <code>1/(x^n)</code> since e.g. <code>2^(-3) = 1/(2^3)</code></p>\n<p>Problem:<br />\nThe code fails in the following case:<br />\n<code>pow(2.00000, -2147483648)</code><br />\nThe output is <code>1.00000</code> while the expected correct result is <code>0.00000</code></p>\n<p>If I change the code as follows:</p>\n<pre><code>public double pow(double x, int n) {  \n  long power = n;  \n  if(power &lt; 0) {  \n    x = 1 / x;  \n    power = -power;\n  }  \n  double ans = 1.0;  \n  for(long i = 0; i &lt; power; i++) {  \n    ans = ans * x;  \n  }    \n  return ans;  \n}  \n</code></pre>\n<p>The result is correct!</p>\n<p>So what is the difference between doing the approaches? I was expecting them to be equivalent but they are not</p>\n"},{"tags":["java","mutation-testing","pitest"],"comments":[{"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"score":0,"creation_date":1633019691,"post_id":69386883,"comment_id":122656761,"body_markdown":"What version of pitest are you using?","body":"What version of pitest are you using?"},{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":0,"creation_date":1633111670,"post_id":69386883,"comment_id":122682468,"body_markdown":"You&#39;re right! We upgraded to the latest version: `1.7.1` and it&#39;s working now","body":"You&#39;re right! We upgraded to the latest version: <code>1.7.1</code> and it&#39;s working now"}],"answers":[{"tags":[],"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633113439,"creation_date":1633111938,"answer_id":69410343,"question_id":69386883,"body_markdown":"As pointed by henry&#39;s comment, I fixed the issue by upgrading to the latest version of pitest. These versions worked for me: \r\n\r\n\r\n```xml\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.1&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.14&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n```","title":"pitest report can&#39;t mix JUnit 4 and JUnit 5 tests","body":"<p>As pointed by henry's comment, I fixed the issue by upgrading to the latest version of pitest. These versions worked for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n                &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n                &lt;version&gt;1.7.1&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n                        &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;0.14&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3995853,"reputation":540,"user_id":3293436,"display_name":"MauroB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651960615,"creation_date":1651960615,"answer_id":72156616,"question_id":69386883,"body_markdown":"For **Junit5**, I use this &quot;**build**&quot; section in my pom.xml\r\n\r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.7.6&lt;/version&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.15&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\nand I run pi-test with this **command**:\r\n\r\n     mvn test-compile org.pitest:pitest-maven:mutationCoverage","title":"pitest report can&#39;t mix JUnit 4 and JUnit 5 tests","body":"<p>For <strong>Junit5</strong>, I use this &quot;<strong>build</strong>&quot; section in my pom.xml</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n                &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n                &lt;version&gt;1.7.6&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n                        &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;0.15&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>and I run pi-test with this <strong>command</strong>:</p>\n<pre><code> mvn test-compile org.pitest:pitest-maven:mutationCoverage\n</code></pre>\n"}],"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1817,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69410343,"answer_count":2,"score":0,"last_activity_date":1651960615,"creation_date":1632981465,"question_id":69386883,"body_markdown":"Recently, I introduced Pitest as the mutation testing tool to our team to diagnose test quality, and we loved it. \r\n\r\nIn our codebase, we have lots of preexisting JUnit 4, and now we&#39;re writing all of our new unit tests in JUnit 5. \r\nUnfortunately, even after adding Pitest JUnit 5 plugin when we try to run the mutation testing goal `mvn org.pitest:pitest-maven:mutationCoverage`, and it only picks up JUnit 4 tests and ignores JUnit 5 tests. \r\n\r\nWe want our report to contain JUnit 4 and 5 tests. Is there a way(hack) to generate a report mixed with JUnit 4 and 5? ","title":"pitest report can&#39;t mix JUnit 4 and JUnit 5 tests","body":"<p>Recently, I introduced Pitest as the mutation testing tool to our team to diagnose test quality, and we loved it.</p>\n<p>In our codebase, we have lots of preexisting JUnit 4, and now we're writing all of our new unit tests in JUnit 5.\nUnfortunately, even after adding Pitest JUnit 5 plugin when we try to run the mutation testing goal <code>mvn org.pitest:pitest-maven:mutationCoverage</code>, and it only picks up JUnit 4 tests and ignores JUnit 5 tests.</p>\n<p>We want our report to contain JUnit 4 and 5 tests. Is there a way(hack) to generate a report mixed with JUnit 4 and 5?</p>\n"},{"tags":["java","character","ascii"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":1,"creation_date":1651953253,"post_id":72155918,"comment_id":127490137,"body_markdown":"You can check answers under this post [here](https://stackoverflow.com/questions/20050309/how-do-i-display-unicode-characters-in-the-eclipse-console-window)","body":"You can check answers under this post <a href=\"https://stackoverflow.com/questions/20050309/how-do-i-display-unicode-characters-in-the-eclipse-console-window\">here</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1651953733,"post_id":72155918,"comment_id":127490223,"body_markdown":"Terminology check: The [ASCII character set](https://en.wikipedia.org/wiki/ASCII#Character_set) is limited. It sounds like you are asking about non-ASCII characters, such as this one: [Unicode Character &#39;BLACK LARGE SQUARE&#39;](https://www.fileformat.info/info/unicode/char/2b1b/index.htm).","body":"Terminology check: The <a href=\"https://en.wikipedia.org/wiki/ASCII#Character_set\" rel=\"nofollow noreferrer\">ASCII character set</a> is limited. It sounds like you are asking about non-ASCII characters, such as this one: <a href=\"https://www.fileformat.info/info/unicode/char/2b1b/index.htm\" rel=\"nofollow noreferrer\">Unicode Character &#39;BLACK LARGE SQUARE&#39;</a>."},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":0,"creation_date":1651959108,"post_id":72155918,"comment_id":127491142,"body_markdown":"From the Java programming point of view, you simply print it: `System.out.println(&quot; \\u2B1B&quot;)` for example.   Beyond that, it&#39;s a matter of your specific display, and in particular, having a font with that character.  I tried it at one of the online Java IDEs, and got the expected black square.","body":"From the Java programming point of view, you simply print it: <code>System.out.println(&quot; \\u2B1B&quot;)</code> for example.   Beyond that, it&#39;s a matter of your specific display, and in particular, having a font with that character.  I tried it at one of the online Java IDEs, and got the expected black square."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1652269878,"post_id":72155918,"comment_id":127564676,"body_markdown":"`System.out.println(&quot;\\u2B1B&quot;)` works fine on my Eclipse console. You may be using a font that doesn&#39;t contain that character.","body":"<code>System.out.println(&quot;\\u2B1B&quot;)</code> works fine on my Eclipse console. You may be using a font that doesn&#39;t contain that character."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651958961,"creation_date":1651958347,"answer_id":72156441,"question_id":72155918,"body_markdown":"ASCII is a seven bit code that contains 128 characters. Intentionally it is the same as the first 128 characters found in UNICODE using UTF-8. The code point \\u2B1B is way beyond that and therefore no ASCII.\r\n\r\nIf that code cannot be printed, it is likely the font you are using does not contain a [glyph][1] for it.\r\n\r\nLearn about Unicode characters and glyphs. A good starting point is https://home.unicode.org/\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Glyph#Typography","title":"How to print unique ASCII in Eclipse&#39;s console?","body":"<p>ASCII is a seven bit code that contains 128 characters. Intentionally it is the same as the first 128 characters found in UNICODE using UTF-8. The code point \\u2B1B is way beyond that and therefore no ASCII.</p>\n<p>If that code cannot be printed, it is likely the font you are using does not contain a <a href=\"https://en.wikipedia.org/wiki/Glyph#Typography\" rel=\"nofollow noreferrer\">glyph</a> for it.</p>\n<p>Learn about Unicode characters and glyphs. A good starting point is <a href=\"https://home.unicode.org/\" rel=\"nofollow noreferrer\">https://home.unicode.org/</a></p>\n"}],"owner":{"account_id":23766351,"reputation":5,"user_id":17781067,"display_name":"Krystian Malinowski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651958961,"creation_date":1651952950,"question_id":72155918,"body_markdown":"How can I print ASCII characters that are not added in the Eclipse Console? I need to use some charachters to my game and every time I get &quot;?&quot; or smething like that? For example I woudl like to use 11034 in decimal or \\u2B1B from source code for java. Thanks for help! \r\n","title":"How to print unique ASCII in Eclipse&#39;s console?","body":"<p>How can I print ASCII characters that are not added in the Eclipse Console? I need to use some charachters to my game and every time I get &quot;?&quot; or smething like that? For example I woudl like to use 11034 in decimal or \\u2B1B from source code for java. Thanks for help!</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1440432414,"creation_date":1367385830,"answer_id":16313180,"question_id":16309911,"body_markdown":"The first question you have to answer should be the level of auditing you need. Is a simple list of changes enough? Is a string representation good enough? Or do you want to be able to support revisions of your entity where you would be able to go back and fetch the data of revision X &quot;without any hassle&quot;?\r\n\r\nIf a list of changes is enough and you use hibernate anyway I would go for a `HibernateEventListener` (not JPA), simply because you already get all the changes in the postevents. No need to create the delta yourself. \r\n\r\nEnvers on the other hand is quite easy to integrate and configure. Annotating your entities with @Audited is enough to get going with &quot;full&quot; revision support. The fact that you cannot directly use Spring Data to query the revision entities is secondary, in my belief, since you can always write your `AuditReaderRepository` bean and use the hibernate audit query interface directly. Fiddling out the change list between two revisions would be left to you in this case, which basically means fetching the revisions and determining the delta between them. The main advantage of Envers in this case is that a user representation is still a User class and not just a String (creator f.e.)\r\n\r\nIt depends which level of auditing you like to support and I would go with the smallest needed implementation. There are some good blogs about what kind of auditing strategies to choose in the www.","title":"Audit DB record changes with Spring Data","body":"<p>The first question you have to answer should be the level of auditing you need. Is a simple list of changes enough? Is a string representation good enough? Or do you want to be able to support revisions of your entity where you would be able to go back and fetch the data of revision X \"without any hassle\"?</p>\n\n<p>If a list of changes is enough and you use hibernate anyway I would go for a <code>HibernateEventListener</code> (not JPA), simply because you already get all the changes in the postevents. No need to create the delta yourself. </p>\n\n<p>Envers on the other hand is quite easy to integrate and configure. Annotating your entities with @Audited is enough to get going with \"full\" revision support. The fact that you cannot directly use Spring Data to query the revision entities is secondary, in my belief, since you can always write your <code>AuditReaderRepository</code> bean and use the hibernate audit query interface directly. Fiddling out the change list between two revisions would be left to you in this case, which basically means fetching the revisions and determining the delta between them. The main advantage of Envers in this case is that a user representation is still a User class and not just a String (creator f.e.)</p>\n\n<p>It depends which level of auditing you like to support and I would go with the smallest needed implementation. There are some good blogs about what kind of auditing strategies to choose in the www.</p>\n"},{"tags":[],"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1651958530,"creation_date":1367444930,"answer_id":16327081,"question_id":16309911,"body_markdown":"Use Spring Data Envers\r\n\r\n&quot;This project is an extension of the Spring Data JPA project to allow access to entity revisions managed by Hibernate Envers. &quot;\r\n\r\nhttps://spring.io/projects/spring-data-envers","title":"Audit DB record changes with Spring Data","body":"<p>Use Spring Data Envers</p>\n<p>&quot;This project is an extension of the Spring Data JPA project to allow access to entity revisions managed by Hibernate Envers. &quot;</p>\n<p><a href=\"https://spring.io/projects/spring-data-envers\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-data-envers</a></p>\n"}],"owner":{"account_id":385817,"reputation":4453,"user_id":743203,"accept_rate":78,"display_name":"David Moreno Garc&#237;a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9467,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":16313180,"answer_count":2,"score":5,"last_activity_date":1651958530,"creation_date":1367360450,"question_id":16309911,"body_markdown":"I need to audit all changes on some of my DB tables. For example, for a given Employee I need to know all addresses and the day that this field was modified. Actually I&#39;m using Spring Data, Hibernate and JPA. A good option would be to use Hibernation Envers but the problem is that I can&#39;t get history records with Spring Data. The other option would be to have a Employee_history table but I don&#39;t see a way to grab Employee records from two different tables (I want to insert in Employee table but grab data from Employee and Employee_history). Is there any other way to accomplish this?","title":"Audit DB record changes with Spring Data","body":"<p>I need to audit all changes on some of my DB tables. For example, for a given Employee I need to know all addresses and the day that this field was modified. Actually I'm using Spring Data, Hibernate and JPA. A good option would be to use Hibernation Envers but the problem is that I can't get history records with Spring Data. The other option would be to have a Employee_history table but I don't see a way to grab Employee records from two different tables (I want to insert in Employee table but grab data from Employee and Employee_history). Is there any other way to accomplish this?</p>\n"},{"tags":["java","concurrency","volatile"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":0,"creation_date":1391111816,"post_id":21466171,"comment_id":32396434,"body_markdown":"There are probably better, more sophisticated concurrent data structures for your use, such as `CopyOnWriteArrayList`.","body":"There are probably better, more sophisticated concurrent data structures for your use, such as <code>CopyOnWriteArrayList</code>."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1391111860,"post_id":21466171,"comment_id":32396452,"body_markdown":"@MattBall If this is only about communicating an effectively unmodifiable list between threads, then a plain list implementation is perfect.","body":"@MattBall If this is only about communicating an effectively unmodifiable list between threads, then a plain list implementation is perfect."},{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":0,"creation_date":1391111863,"post_id":21466171,"comment_id":32396453,"body_markdown":"Yes it&#39;s guaranteed(Program Order Rule &lt; Volatile Write &lt; Volatile Read &lt; Program Order Rule). But you should follow advice from Matt Ball.","body":"Yes it&#39;s guaranteed(Program Order Rule &lt; Volatile Write &lt; Volatile Read &lt; Program Order Rule). But you should follow advice from Matt Ball."}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1391112044,"creation_date":1391111617,"answer_id":21466207,"question_id":21466171,"body_markdown":"&gt;Is &quot;o&quot; guaranteed to refer to the string added by the thread 1?\r\n\r\nIf you can guarantee that no other inter-thread action except those you have explicitly mentioned will ever be committed against your list, then yes, you have the guarantee you are asking about. \r\n\r\nIf any thread mutates the list after it has been published via the `volatile` variable, then no inter-thread guarantees hold any more.","title":"Is volatile enough for changing reference to a list?","body":"<blockquote>\n  <p>Is \"o\" guaranteed to refer to the string added by the thread 1?</p>\n</blockquote>\n\n<p>If you can guarantee that no other inter-thread action except those you have explicitly mentioned will ever be committed against your list, then yes, you have the guarantee you are asking about. </p>\n\n<p>If any thread mutates the list after it has been published via the <code>volatile</code> variable, then no inter-thread guarantees hold any more.</p>\n"},{"tags":[],"owner":{"account_id":125988,"reputation":4853,"user_id":2115021,"accept_rate":20,"display_name":"Kick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391111651,"creation_date":1391111651,"answer_id":21466216,"question_id":21466171,"body_markdown":"YES,if Thread1 is executed before the Thread2 then it will provide the guarantee.","title":"Is volatile enough for changing reference to a list?","body":"<p>YES,if Thread1 is executed before the Thread2 then it will provide the guarantee.</p>\n"}],"owner":{"account_id":1051930,"reputation":1461,"user_id":1055638,"accept_rate":66,"display_name":"Janek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":21466207,"answer_count":2,"score":5,"last_activity_date":1651957992,"creation_date":1391111449,"question_id":21466171,"body_markdown":"Let&#39;s say we have a list reference:\r\n\r\n    volatile List&lt;Object&gt; a;\r\n\r\nnow thread 1 initializes it:\r\n\r\n    List&lt;Object&gt; newA = new LinkedList&lt;&gt;();\r\n    newA.add(new String(&quot;a&quot;));\r\n    // Write to a volatile\r\n    a = newA; \r\n\r\nthen thread 2 does:\r\n\r\n    // first we read a volatile reference value, then invoke .get() method on it. \r\n    Object o = a.get(0); \r\n\r\nIs &quot;o&quot; guaranteed to refer to the string added by the thread 1? Or am I missing something? Assuming that the code from the thread 1 is executed before the code from the thread 2.\r\n\r\n ","title":"Is volatile enough for changing reference to a list?","body":"<p>Let's say we have a list reference:</p>\n<pre><code>volatile List&lt;Object&gt; a;\n</code></pre>\n<p>now thread 1 initializes it:</p>\n<pre><code>List&lt;Object&gt; newA = new LinkedList&lt;&gt;();\nnewA.add(new String(&quot;a&quot;));\n// Write to a volatile\na = newA; \n</code></pre>\n<p>then thread 2 does:</p>\n<pre><code>// first we read a volatile reference value, then invoke .get() method on it. \nObject o = a.get(0); \n</code></pre>\n<p>Is &quot;o&quot; guaranteed to refer to the string added by the thread 1? Or am I missing something? Assuming that the code from the thread 1 is executed before the code from the thread 2.</p>\n"},{"tags":["java","multithreading","volatile","java-memory-model"],"comments":[{"owner":{"account_id":1370027,"reputation":49110,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"score":0,"creation_date":1401027843,"post_id":23855677,"comment_id":36715677,"body_markdown":"I don&#39;t understand the part with the `ReentrantReadWriteLock`. Is there a _ReadWriteLock_? Or is the question whether it is possible without a _ReadWriteLock_?","body":"I don&#39;t understand the part with the <code>ReentrantReadWriteLock</code>. Is there a <i>ReadWriteLock</i>? Or is the question whether it is possible without a <i>ReadWriteLock</i>?"},{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":0,"creation_date":1401029262,"post_id":23855677,"comment_id":36716093,"body_markdown":"@nosid: Edited the question - I mention the lock because it exists to coordinate the readers/writers and it might make a difference - but the question is not about the lock just about necessary synchronization on accessing the fields of the mutable object","body":"@nosid: Edited the question - I mention the lock because it exists to coordinate the readers/writers and it might make a difference - but the question is not about the lock just about necessary synchronization on accessing the fields of the mutable object"},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":0,"creation_date":1401034802,"post_id":23855677,"comment_id":36717906,"body_markdown":"You might want to make that inner class static for memory efficiency.","body":"You might want to make that inner class static for memory efficiency."},{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":0,"creation_date":1401034979,"post_id":23855677,"comment_id":36717962,"body_markdown":"@DavidEhrmann: It&#39;s one of the rare uses of non static inner classes this (in my design at least) - the nodes must know the tree (for the record it&#39;s a disk based b+ tree)","body":"@DavidEhrmann: It&#39;s one of the rare uses of non static inner classes this (in my design at least) - the nodes must know the tree (for the record it&#39;s a disk based b+ tree)"}],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1401023941,"creation_date":1401023941,"answer_id":23855704,"question_id":23855677,"body_markdown":"No.\r\n\r\nPlacing a reference to an object in a `volatile` field does not affect the object itself in any way.\r\n\r\nOnce you load the reference to the object from the volatile field, you have an object no different from any other object, and the volatility has no further effect.","title":"Volatile reference to mutable object - will updates to the object&#39;s fields be visible to all threads","body":"<p>No.</p>\n\n<p>Placing a reference to an object in a <code>volatile</code> field does not affect the object itself in any way.</p>\n\n<p>Once you load the reference to the object from the volatile field, you have an object no different from any other object, and the volatility has no further effect.</p>\n"},{"tags":[],"owner":{"account_id":1370027,"reputation":49110,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1401035906,"creation_date":1401032077,"answer_id":23856974,"question_id":23855677,"body_markdown":"The are two question. Let&#39;s start with the second.\r\n\r\nAssigning newly constructed objects to _volatile_ variables works nicely. Every thread, that reads the _volatile_ variable, will see a _fully constructed_ object. There is no need for _further_ synchronization. This pattern is usually seen in combination with _immutable types_. \r\n\r\n    class Tree {\r\n        private volatile Node node;\r\n        public void update() {\r\n            node = new Node(...);\r\n        }\r\n        public Node get() {\r\n            return node;\r\n        }\r\n    }\r\n\r\nRegarding the first question. You can use _volatile_ variables to synchronize access to _non-volatile_ variable. The following listing shows an example. Imagine that the two variables are initialized as shown, and that the two methods are executed concurrently. It is guaranteed, that if the second thread sees the update to `foo`, it will also see the update to `bar`.\r\n\r\n    volatile int foo = 0;\r\n    int bar = 0;\r\n\r\n    void thread1() {\r\n        bar = 1;\r\n        foo = 1; // write to volatile variable\r\n    }\r\n\r\n    void thread2() {\r\n        if (foo == 1) { // read from volatile variable\r\n            int r = bar; // r == 1\r\n        }\r\n    }\r\n\r\nHowever, your example is different. The reading and writing might look as follows. In contrast to the above example, both threads read from the _volatile_ variable. However, _read operations_ on _volatile_ variables do not synchronize with each other.\r\n\r\n    void thread1() {\r\n        Node temp = root; // read from volatile variable\r\n        temp.numOfKeys = 1;\r\n    }\r\n\r\n    void thread2() {\r\n        Node temp = root; // read from volatile variable\r\n        int r = temp.numOfKeys;\r\n    }\r\n\r\nIn other words: If thread _A_ writes to a _volatile_ variable _x_ and thread _B_ reads the value written to _x_, then after the read operation, thread _B_ will see all write operations of thread _A_, that occurred before the write to _x_. But without a write operation to a _volatile_ variable, there is no effect on updates to other variables.\r\n\r\n---\r\n\r\nThat sounds more complicated than it actually is. Actually, there is only one rule to consider, which you can find in [JLS8 &#167;17.4.5](http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5):\r\n\r\n&gt; [..] If all sequentially consistent executions are free of data races, [..] then all executions of the program will appear to be sequentially consistent.\r\n\r\nSimply put, a _data race_ exists if two threads can access the same variable at the same time, at least one operation is a write operation, and the variable is _non-volatile_. _Data races_ can be eliminated by declaring _shared variables_ as _volatile_. Without _data races_, there is no problem with _visibility_ of updates.","title":"Volatile reference to mutable object - will updates to the object&#39;s fields be visible to all threads","body":"<p>The are two question. Let's start with the second.</p>\n\n<p>Assigning newly constructed objects to <em>volatile</em> variables works nicely. Every thread, that reads the <em>volatile</em> variable, will see a <em>fully constructed</em> object. There is no need for <em>further</em> synchronization. This pattern is usually seen in combination with <em>immutable types</em>. </p>\n\n<pre><code>class Tree {\n    private volatile Node node;\n    public void update() {\n        node = new Node(...);\n    }\n    public Node get() {\n        return node;\n    }\n}\n</code></pre>\n\n<p>Regarding the first question. You can use <em>volatile</em> variables to synchronize access to <em>non-volatile</em> variable. The following listing shows an example. Imagine that the two variables are initialized as shown, and that the two methods are executed concurrently. It is guaranteed, that if the second thread sees the update to <code>foo</code>, it will also see the update to <code>bar</code>.</p>\n\n<pre><code>volatile int foo = 0;\nint bar = 0;\n\nvoid thread1() {\n    bar = 1;\n    foo = 1; // write to volatile variable\n}\n\nvoid thread2() {\n    if (foo == 1) { // read from volatile variable\n        int r = bar; // r == 1\n    }\n}\n</code></pre>\n\n<p>However, your example is different. The reading and writing might look as follows. In contrast to the above example, both threads read from the <em>volatile</em> variable. However, <em>read operations</em> on <em>volatile</em> variables do not synchronize with each other.</p>\n\n<pre><code>void thread1() {\n    Node temp = root; // read from volatile variable\n    temp.numOfKeys = 1;\n}\n\nvoid thread2() {\n    Node temp = root; // read from volatile variable\n    int r = temp.numOfKeys;\n}\n</code></pre>\n\n<p>In other words: If thread <em>A</em> writes to a <em>volatile</em> variable <em>x</em> and thread <em>B</em> reads the value written to <em>x</em>, then after the read operation, thread <em>B</em> will see all write operations of thread <em>A</em>, that occurred before the write to <em>x</em>. But without a write operation to a <em>volatile</em> variable, there is no effect on updates to other variables.</p>\n\n<hr>\n\n<p>That sounds more complicated than it actually is. Actually, there is only one rule to consider, which you can find in <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5\" rel=\"noreferrer\">JLS8 §17.4.5</a>:</p>\n\n<blockquote>\n  <p>[..] If all sequentially consistent executions are free of data races, [..] then all executions of the program will appear to be sequentially consistent.</p>\n</blockquote>\n\n<p>Simply put, a <em>data race</em> exists if two threads can access the same variable at the same time, at least one operation is a write operation, and the variable is <em>non-volatile</em>. <em>Data races</em> can be eliminated by declaring <em>shared variables</em> as <em>volatile</em>. Without <em>data races</em>, there is no problem with <em>visibility</em> of updates.</p>\n"}],"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9722,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":23856974,"answer_count":2,"score":15,"last_activity_date":1651957773,"creation_date":1401023776,"question_id":23855677,"body_markdown":"... without additional synchronization ? The Tree class below is meant to be accessed by multiple threads (it is a singleton but not implemented via an enum)\r\n\r\n    class Tree {\r\n    \r\n        private volatile Node root;\r\n    \r\n        Tree() {\r\n            root = new Node();\r\n            // the threads are spawned _after_ the tree is constructed\r\n        }\r\n    \r\n        private final class Node {\r\n            short numOfKeys;\r\n        }\r\n    }\r\n\r\n- Will updates to the `numOfKeys` field be visible to reader threads without any explicit synchronization (notice that both readers and writers have to acquire an instance of [`ReentrantReadWriteLock`][1] - same instance for each node - but barring that) ? If not would making `numOfKeys` volatile suffice ?\r\n- Is changing the root as simple as `root = new Node()` (only a writer thread would change the root, apart from the main thread which calls the Tree constructor)\r\n\r\nRelated:\r\n\r\n- https://stackoverflow.com/questions/21283293/multiple-fields-volatile-or-atomicreference\r\n- https://stackoverflow.com/questions/21466171/is-volatile-enough-for-changing-reference-to-a-list\r\n- https://stackoverflow.com/questions/18030570/are-mutable-fields-in-a-pojo-object-threadsafe-if-stored-in-a-concurrenthashmap\r\n- https://stackoverflow.com/questions/4614331/using-volatile-keyword-with-mutable-object\r\n\r\n**EDIT**: interested in post Java 5 semantics\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html","title":"Volatile reference to mutable object - will updates to the object&#39;s fields be visible to all threads","body":"<p>... without additional synchronization ? The Tree class below is meant to be accessed by multiple threads (it is a singleton but not implemented via an enum)</p>\n\n<pre><code>class Tree {\n\n    private volatile Node root;\n\n    Tree() {\n        root = new Node();\n        // the threads are spawned _after_ the tree is constructed\n    }\n\n    private final class Node {\n        short numOfKeys;\n    }\n}\n</code></pre>\n\n<ul>\n<li>Will updates to the <code>numOfKeys</code> field be visible to reader threads without any explicit synchronization (notice that both readers and writers have to acquire an instance of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"noreferrer\"><code>ReentrantReadWriteLock</code></a> - same instance for each node - but barring that) ? If not would making <code>numOfKeys</code> volatile suffice ?</li>\n<li>Is changing the root as simple as <code>root = new Node()</code> (only a writer thread would change the root, apart from the main thread which calls the Tree constructor)</li>\n</ul>\n\n<p>Related:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/21283293/multiple-fields-volatile-or-atomicreference\">multiple fields: volatile or AtomicReference?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21466171/is-volatile-enough-for-changing-reference-to-a-list\">Is volatile enough for changing reference to a list?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18030570/are-mutable-fields-in-a-pojo-object-threadsafe-if-stored-in-a-concurrenthashmap\">Are mutable fields in a POJO object threadsafe if stored in a concurrentHashMap?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4614331/using-volatile-keyword-with-mutable-object\">Using volatile keyword with mutable object</a></li>\n</ul>\n\n<p><strong>EDIT</strong>: interested in post Java 5 semantics</p>\n"},{"tags":["java","swing","graphics","mouselistener","mousemotionlistener"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1651956481,"post_id":72156197,"comment_id":127490720,"body_markdown":"Why do you think the cursor goes behind the painting? You are using black on black and I would guess you also have transparent pixels in the cursor so you also get the black painting showing through the cursor. Try painting a different color object. *The reason for providing this zip file is because my code requires the images ...* - the images are irrelevant to the question. You can easily demonstrate the problem by using text on the buttons. When asking a question the code included should be in the form of an [mre].","body":"Why do you think the cursor goes behind the painting? You are using black on black and I would guess you also have transparent pixels in the cursor so you also get the black painting showing through the cursor. Try painting a different color object. <i>The reason for providing this zip file is because my code requires the images ...</i> - the images are irrelevant to the question. You can easily demonstrate the problem by using text on the buttons. When asking a question the code included should be in the form of an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":20901952,"reputation":1,"user_id":15354874,"display_name":"MZX"},"score":0,"creation_date":1651956741,"post_id":72156197,"comment_id":127490761,"body_markdown":"@camickr excuse me my friend i was genuinely not aware","body":"@camickr excuse me my friend i was genuinely not aware"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1651960224,"post_id":72156197,"comment_id":127491344,"body_markdown":"*&quot;i was genuinely not aware&quot;* Now that you are, note that you can [edit] the question any time to remove the current classes and add that MRE.","body":"<i>&quot;i was genuinely not aware&quot;</i> Now that you are, note that you can <a href=\"https://stackoverflow.com/posts/72156197/edit\">edit</a> the question any time to remove the current classes and add that MRE."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651966303,"post_id":72156197,"comment_id":127492136,"body_markdown":"`g = View.panel.getGraphics();` no, no, no, a thousand times no - this is NOT how custom painting is done and there is no good reason to ever use `getGraphics` (I&#39;d like to meet the developer who thought it was required to have this as a public method). See [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) to learn how painting works in Swing and how you should work with it","body":"<code>g = View.panel.getGraphics();</code> no, no, no, a thousand times no - this is NOT how custom painting is done and there is no good reason to ever use <code>getGraphics</code> (I&#39;d like to meet the developer who thought it was required to have this as a public method). See <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> to learn how painting works in Swing and how you should work with it"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651966370,"post_id":72156197,"comment_id":127492148,"body_markdown":"Why does `Controller` extend from `View` - this makes no sense","body":"Why does <code>Controller</code> extend from <code>View</code> - this makes no sense"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651966483,"post_id":72156197,"comment_id":127492157,"body_markdown":"`protected static int imgNum = new File(&quot;src//imgs&quot;).listFiles().length;` - nope, this isn&#39;t going to work once the app is exported, you should NEVER reference `src` in your code.  Your `imgs` folder (and it&#39;s contents) will become embedded resources and at runtime, you will need to use `Class#getResource` to load them, this also means, you won&#39;t be able to list the contents at runtime (a limitation of embedded resources)","body":"<code>protected static int imgNum = new File(&quot;src&#47;&#47;imgs&quot;).listFiles().length;</code> - nope, this isn&#39;t going to work once the app is exported, you should NEVER reference <code>src</code> in your code.  Your <code>imgs</code> folder (and it&#39;s contents) will become embedded resources and at runtime, you will need to use <code>Class#getResource</code> to load them, this also means, you won&#39;t be able to list the contents at runtime (a limitation of embedded resources)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651966723,"post_id":72156197,"comment_id":127492181,"body_markdown":"`private Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();`, `private double width = screenSize.getWidth(), height = screenSize.getHeight();`, `this.setSize(new Dimension((int) width - 20, (int) height - 60));`, no, no and no. Use [`JFrame#setExtendedState`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Frame.html#setExtendedState(int)) if you want to maximise the window. You are not taking into appropriate account system related elements which could (or not) occupy parts of the screen or the fact that they could be different sizes","body":"<code>private Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();</code>, <code>private double width = screenSize.getWidth(), height = screenSize.getHeight();</code>, <code>this.setSize(new Dimension((int) width - 20, (int) height - 60));</code>, no, no and no. Use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Frame.html#setExtendedState(int)\" rel=\"nofollow noreferrer\"><code>JFrame#setExtendedState</code></a> if you want to maximise the window. You are not taking into appropriate account system related elements which could (or not) occupy parts of the screen or the fact that they could be different sizes"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651966791,"post_id":72156197,"comment_id":127492189,"body_markdown":"`new Controller(new View(), new Model());` ???  `Controller` extends from `View`, so why create ANOTHER instance of `View` only to pass it to `Controller`, it makes no sense at all, in fact, you don&#39;t seem to fully understand how &quot;model-view-controller&quot; works","body":"<code>new Controller(new View(), new Model());</code> ???  <code>Controller</code> extends from <code>View</code>, so why create ANOTHER instance of <code>View</code> only to pass it to <code>Controller</code>, it makes no sense at all, in fact, you don&#39;t seem to fully understand how &quot;model-view-controller&quot; works"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651957752,"creation_date":1651957752,"answer_id":72156392,"question_id":72156197,"body_markdown":"I also believe the cursor is on top but black on black.\r\nTherefore I see two ways out of this:\r\n\r\n- Surround your shape with a thin line of white pixels so you can see the cursor regardless of a dark or light background\r\n\r\n- configure your cursor not to be black/transparent on whatever.Instead make the black pixels just &#39;invert&#39; the background. I guess this is an XOR operation instead of an overwrite","title":"Mouse Goes behind part of the panel where it has been drawn on","body":"<p>I also believe the cursor is on top but black on black.\nTherefore I see two ways out of this:</p>\n<ul>\n<li><p>Surround your shape with a thin line of white pixels so you can see the cursor regardless of a dark or light background</p>\n</li>\n<li><p>configure your cursor not to be black/transparent on whatever.Instead make the black pixels just 'invert' the background. I guess this is an XOR operation instead of an overwrite</p>\n</li>\n</ul>\n"}],"owner":{"account_id":20901952,"reputation":1,"user_id":15354874,"display_name":"MZX"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651957752,"creation_date":1651955907,"question_id":72156197,"body_markdown":"So I am currently making a canvas painter in the style of Microsoft paint in Java. One of the features I was currently working on is the color picker. Now I got it to change the icon cursor but the issue comes with its implementation. I wish to get the color of the pixel that the cursor clicked on (which I already got it working). However, When I try to hover the curser over something I drew on the panel, the mouse goes behind the drawing that I made. To better explain this, I have added a [Gif of the aforementioned issue][1].\r\n\r\nHere is the code for my program\r\n\r\nMain.java\r\n```\r\nimport javax.swing.JPanel;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Controller(new View(),new Model());\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nView.java\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Toolkit;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.Insets;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.Box;\r\nimport javax.swing.BoxLayout;\r\nimport javax.swing.Icon;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JMenu;\r\nimport javax.swing.JMenuBar;\r\nimport javax.swing.JMenuItem;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JSlider;\r\nimport javax.swing.SpringLayout;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.UnsupportedLookAndFeelException;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\nimport javax.swing.plaf.ColorUIResource;\r\nimport javax.swing.plaf.PanelUI;\r\n\r\nimport java.awt.FlowLayout;\r\nimport java.awt.BorderLayout;\r\nimport java.net.URL;\r\nimport java.nio.channels.NonReadableChannelException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.stream.Stream;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport org.kordamp.ikonli.swing.FontIcon;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.GridLayout;\r\nimport java.awt.GridBagConstraints;\r\n\r\npublic class View extends JFrame implements MouseListener{\r\n\tprotected static int imgNum = new File(&quot;src//imgs&quot;).listFiles().length;\r\n\tprivate Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n\tprivate double width = screenSize.getWidth(), height = screenSize.getHeight();\r\n\tprotected static JPanel panel = new JPanel();\r\n\tprivate JPanel buttonsPanel = new JPanel(), colPre = new JPanel();\r\n\tprivate static JLabel[] toolsButtonSetIcons = new JLabel[imgNum];\r\n\tprivate JMenuBar menuBar = new JMenuBar();\r\n\tprivate ImageIcon[] icons = new ImageIcon[imgNum];\r\n\tprotected static URL[] iconURLs = new URL[imgNum];\r\n\tprivate JMenu menu = new JMenu(&quot;File&quot;), edit = new JMenu(&quot;Edit&quot;);\r\n\tprotected JMenuItem picImport = new JMenuItem(&quot;Import Picture&quot;), pencilSizeChangeMenu = new JMenuItem(&quot;Change Pen Size&quot;);\r\n\tprivate GridBagConstraints gbc = new GridBagConstraints();\r\n\tprivate JSlider redSlider,greenSlider,blueSlider;\r\n\tURL[] tempURLArr;\r\n\tprivate static String[] toolNameStrings = { &quot;Eraser&quot;, &quot;Cutter&quot;, &quot;Pencil&quot;, &quot;Color Chooser&quot;, &quot;Color Picker&quot;,\r\n\t\t\t&quot;Transform&quot;, &quot;Picture&quot;, &quot;Color Slider&quot;,&quot;Move&quot; };\r\n\tJLabel imgLabel;\r\n\t\r\n\tpublic View() {\r\n\t}\r\n\r\n\tpublic void setupDisplay() {\r\n\t\tthis.setSize(new Dimension((int) width - 20, (int) height - 60));\r\n\t\tthis.setTitle(&quot;Canvas Painter&quot;);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setVisible(true);\r\n\t\tthis.setResizable(false);\r\n\t\tthis.setLocationRelativeTo(null);\r\n\t\tthis.add(panel);\r\n\t\tthis.add(buttonsPanel, BorderLayout.WEST);\r\n\t\tthis.setJMenuBar(menuBar);\r\n\t\ttry {\r\n\t\t\tUIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;);\r\n\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException\r\n\t\t\t\t| UnsupportedLookAndFeelException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tmenu.add(picImport);\r\n\t\tmenuBar.add(menu);\r\n\t\tmenuBar.add(edit);\r\n\t\tbuttonsPanel.setLayout(new FlowLayout(FlowLayout.LEFT));\r\n\t\t\r\n\t\tsetupToolButtonSet();\r\n\t\tnew Controller().setupPicImportMenuAction(picImport, panel,imgLabel);\r\n\t\tSystem.out.printf(&quot;JFrame width: %d and height: %d\\n&quot;, this.getWidth(), this.getHeight());\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\r\n\tprivate void setupToolButtonSet() {\r\n\t\tbuttonsPanel.setPreferredSize(new Dimension(150, 100));\r\n\r\n\t\tSystem.out.println(imgNum);\r\n\t\tfor (int i = 0; i &lt; imgNum; i++) {\r\n\t\t\t// buttonsPanel.add(Box.createRigidArea(new Dimension(5, 35)));\r\n\t\t\ticonURLs[i] = getClass().getResource(String.format(&quot;./imgs/icon%d.png&quot;, i));\r\n\t\t\tSystem.out.println(String.format(&quot;./imgs/icon%d.png&quot;, i));\r\n\t\t\ticons[i] = new ImageIcon(\r\n\t\t\t\t\tnew ImageIcon(iconURLs[i]).getImage().getScaledInstance(20, 20, Image.SCALE_DEFAULT));\r\n\t\t\ttoolsButtonSetIcons[i] = new JLabel(icons[i]);\r\n\t\t\ttoolsButtonSetIcons[i].setToolTipText(toolNameStrings[i]);\r\n\t\t\tbuttonsPanel.add(toolsButtonSetIcons[i]);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {\r\n\r\n\t}\r\n\r\n\tprotected static JLabel[] getLabelSet() {\r\n\t\treturn toolsButtonSetIcons;\r\n\t}\r\n\r\n\tprotected static String[] getLabelNameArray() {\r\n\t\treturn toolNameStrings;\r\n\t}\r\n\t\r\n\tprotected static URL[] getURLArray() {return iconURLs;}\r\n\r\n\tprotected void displayColorSliderDialogue() {\r\n\t\tJPanel colorDialogPanel = new JPanel(), westColorDialoguePanel = new JPanel(), colorPreviewPanel = new JPanel();\r\n\t\tJButton colorDialogValidateButton = new JButton(&quot;Ok&quot;);\r\n\t\tJDialog colorDialog = new JDialog(this, &quot;Color Customization&quot;);\r\n\t\tJSlider rSlider = new JSlider(0, 255), gSlider = new JSlider(0, 255), bSlider = new JSlider(0, 255);\r\n\t\tcolorDialog.setSize(new Dimension(400, 240));\r\n\t\tcolorDialog.add(westColorDialoguePanel, BorderLayout.WEST);\r\n\t\tcolorDialog.add(colorPreviewPanel, BorderLayout.CENTER);\r\n\t\tcolorDialog.add(colorDialogPanel, BorderLayout.SOUTH);\r\n\t\twestColorDialoguePanel.add(Box.createRigidArea(new Dimension(5, 5)));\r\n\t\twestColorDialoguePanel.setLayout(new BoxLayout(westColorDialoguePanel, BoxLayout.Y_AXIS));\r\n\t\twestColorDialoguePanel.add(new JLabel(&quot;R&quot;));\r\n\t\twestColorDialoguePanel.add(rSlider);\r\n\t\twestColorDialoguePanel.add(Box.createRigidArea(new Dimension(5, 20)));\r\n\t\twestColorDialoguePanel.add(new JLabel(&quot;G&quot;));\r\n\t\twestColorDialoguePanel.add(gSlider);\r\n\t\twestColorDialoguePanel.add(Box.createRigidArea(new Dimension(5, 20)));\r\n\t\twestColorDialoguePanel.add(new JLabel(&quot;B&quot;));\r\n\t\twestColorDialoguePanel.add(bSlider);\r\n\t\tcolorDialogPanel.add(colorDialogValidateButton);\r\n\t\tcolorPreviewPanel.setBackground(new Color(rSlider.getValue(), gSlider.getValue(), bSlider.getValue()));\r\n\t\tnew Controller().setupColorChangeDialogAction(rSlider,gSlider,bSlider,colorDialogValidateButton,colorPreviewPanel);\r\n\t\tcolorDialog.setLocationRelativeTo(null);\r\n\t\tcolorDialog.setVisible(true);\r\n\t\tcolorDialog.setResizable(false);\r\n\t\tcolorDialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\n\t}\r\n\r\n\tprotected JSlider getRSlider() {return redSlider;}\r\n\tprotected JSlider getGSlider() {return greenSlider;}\r\n\tprotected JSlider getBSlider() {return blueSlider;}\r\n\tprotected JPanel getColPrevLab() {return colPre;}\r\n\tprotected ImageIcon [] getIconArray() {return icons;}\r\n\r\n\tprivate class Panel extends JPanel {\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\nController.java\r\n```\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseEvent;\r\nimport java.util.TimerTask;\r\nimport java.awt.event.MouseListener;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.Robot;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JColorChooser;\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JMenuItem;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JSlider;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\nimport javax.swing.filechooser.FileNameExtensionFilter;\r\nimport javax.swing.plaf.ColorUIResource;\r\nimport javax.swing.text.AttributeSet.ColorAttribute;\r\nimport java.awt.MouseInfo;\r\nimport java.awt.AWTException;\r\nimport java.awt.Color;\r\nimport java.awt.event.MouseMotionListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.awt.Cursor;\r\nimport java.awt.Point;\r\nimport java.awt.Toolkit;\r\n\r\n/**\r\n * \r\n * @author Malik\r\n *\r\n */\r\npublic class Controller extends View implements MouseListener, MouseMotionListener {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate Graphics g;\r\n\tprivate static Color drawColor;\r\n\tprivate JLabel[] buttonLabels = getLabelSet();\r\n\tprivate String[] labelNameStrings = getLabelNameArray();\r\n\tprivate URL[] urlArray = getURLArray();\r\n\tprivate final int ERASER = 0, CUTTER = 1, PENCIL = 2, COLOR_CHOOSER = 3, COLOR_PICKER = 4, TRANSFORM = 5,\r\n\t\t\tPICTURE = 6, COLOR_SLIDER = 7;\r\n\tprivate final Color defaultColor = new Color(0, 0, 0);\r\n\tprivate static boolean colorChanged = false;\r\n\tprivate String currentTool = &quot;pencil&quot;;\r\n\tprivate JSlider rSlider = super.getRSlider(), gSlider = super.getGSlider(), bSlider = super.getBSlider();\r\n\tprivate JPanel colPreview = super.getColPrevLab();\r\n\tprivate JLabel imgLb;\r\n\tprivate Image image;\r\n\r\n\tpublic Controller(View v, Model m) {\r\n\t\tSystem.out.println(&quot;inside controller&quot;);\r\n\t\tv.setupDisplay();\r\n\t\tsetLabelVisibility(buttonLabels);\r\n\t\tView.panel.addMouseListener(this);\r\n\t\tView.panel.addMouseMotionListener(this);\r\n\r\n\t\tfor (int i = 0; i &lt; buttonLabels.length; i++)\r\n\t\t\tbuttonLabels[i].addMouseListener(this);\r\n\t}\r\n\r\n\tpublic Controller() {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\r\n\t\tfor (int i = 0; i &lt; buttonLabels.length; i++) {\r\n\r\n\t\t\tif (e.getSource() == buttonLabels[COLOR_CHOOSER]) {\r\n\t\t\t\t// g.setColor();\r\n\t\t\t\tSystem.out.printf(&quot;You clicked: %s\\n&quot;, labelNameStrings[COLOR_CHOOSER]);\r\n\t\t\t\tdrawColor = JColorChooser.showDialog(this, &quot;Select a color&quot;, Color.RED);\r\n\t\t\t\tcolorChanged = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (e.getSource() == buttonLabels[ERASER]) {\r\n\t\t\t\tcurrentTool = &quot;eraser&quot;;\r\n\t\t\t\tSystem.out.printf(&quot;You clicked: %s\\n&quot;, labelNameStrings[COLOR_CHOOSER]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (e.getSource() == buttonLabels[PENCIL]) {\r\n\t\t\t\tcurrentTool = &quot;pencil&quot;;\r\n\t\t\t\tsuper.panel.setCursor(null);\r\n\t\t\t\tSystem.out.printf(&quot;You clicked: %s\\n&quot;, labelNameStrings[PENCIL]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (e.getSource() == buttonLabels[COLOR_SLIDER]) {\r\n\t\t\t\tcurrentTool = &quot;Color Slider&quot;;\r\n\t\t\t\tsuper.displayColorSliderDialogue();\r\n\t\t\t\tSystem.out.printf(&quot;You clicked: %s\\n&quot;, labelNameStrings[COLOR_SLIDER]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (e.getSource() == buttonLabels[COLOR_PICKER]) {\r\n\t\t\t\tcurrentTool = &quot;Color Picker&quot;;\r\n\t\t\t\t// System.out.println(urlArray[0].toString());\r\n\t\t\t\tSystem.out.printf(&quot;You clicked: %s&quot;, labelNameStrings[COLOR_PICKER]);\r\n\t\t\t\tchangeCursor(super.panel, buttonLabels[COLOR_PICKER], urlArray[COLOR_PICKER]);\r\n\t\t\t\tsuper.panel.addMouseListener(new MouseListener() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\t\tint xValue = MouseInfo.getPointerInfo().getLocation().x;\r\n\t\t\t\t\t\tint yValue = MouseInfo.getPointerInfo().getLocation().y;\r\n\t\t\t\t\t\tRobot robot;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\trobot = new Robot();\r\n\t\t\t\t\t\t\tColor color = robot.getPixelColor(xValue, yValue);\r\n\t\t\t\t\t\t\tSystem.out.println(color);\r\n\t\t\t\t\t\t\tpanel.revalidate();\r\n\t\t\t\t\t\t} catch (AWTException e1) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// View.panel.repaint();\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\tif (e.getSource() == View.panel &amp;&amp; currentTool == &quot;pencil&quot;) {\r\n\t\t\tg = View.panel.getGraphics();\r\n\t\t\tif (colorChanged == false)\r\n\t\t\t\tg.setColor(defaultColor);\r\n\t\t\telse\r\n\t\t\t\tg.setColor(drawColor);\r\n\r\n\t\t\tg.fillOval(e.getX() - 15, e.getY() - 20, 30, 30);\r\n\t\t\tSystem.out.println(&quot;Test&quot;);\r\n\t\t\tmouseDragged(e);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {\r\n\t\tfor (int i = 0; i &lt; buttonLabels.length; i++) {\r\n\t\t\tbuttonLabels[i].setOpaque(true);\r\n\t\t\tif (e.getSource() == buttonLabels[i]) {\r\n\t\t\t\tbuttonLabels[i].setBackground(Color.GRAY);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {\r\n\t\tfor (int i = 0; i &lt; buttonLabels.length; i++) {\r\n\t\t\tif (e.getSource() == buttonLabels[i] &amp;&amp; buttonLabels[i].getBackground() == Color.GRAY)\r\n\t\t\t\tbuttonLabels[i].setBackground(new JButton().getBackground());\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseDragged(MouseEvent e) {\r\n\t\tif (e.getSource() == View.panel &amp;&amp; currentTool == &quot;pencil&quot;) {\r\n\t\t\tg = View.panel.getGraphics();\r\n\t\t\tif (colorChanged == false)\r\n\t\t\t\tg.setColor(defaultColor);\r\n\t\t\telse\r\n\t\t\t\tg.setColor(drawColor);\r\n\t\t\tg.fillOval(e.getX() - 15, e.getY() - 20, 30, 30);\r\n\t\t\tSystem.out.println(&quot;Test&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseMoved(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\tprivate void setLabelVisibility(JLabel[] labelArray) {\r\n\t\tfor (int i = 0; i &lt; labelArray.length; i++)\r\n\t\t\tlabelArray[i].setOpaque(true);\r\n\t}\r\n\r\n\tpublic static void setColor(Color c) {\r\n\t\tcolorChanged = true;\r\n\t\tdrawColor = c;\r\n\t}\r\n\r\n\tpublic void setupColorChangeDialogAction(JSlider r, JSlider g, JSlider b, JButton confirmBtn, JPanel colPreview) {\r\n\t\tr.addChangeListener(new ChangeListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void stateChanged(ChangeEvent e) {\r\n\t\t\t\tcolPreview.setBackground(new Color(r.getValue(), g.getValue(), b.getValue()));\r\n\t\t\t}\r\n\t\t});\r\n\t\tg.addChangeListener(new ChangeListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void stateChanged(ChangeEvent e) {\r\n\t\t\t\tcolPreview.setBackground(new Color(r.getValue(), g.getValue(), b.getValue()));\r\n\t\t\t}\r\n\t\t});\r\n\t\tb.addChangeListener(new ChangeListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void stateChanged(ChangeEvent e) {\r\n\t\t\t\tcolPreview.setBackground(new Color(r.getValue(), g.getValue(), b.getValue()));\r\n\t\t\t}\r\n\t\t});\r\n\t\tconfirmBtn.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tcolPreview.setBackground(new Color(r.getValue(), g.getValue(), b.getValue()));\r\n\t\t\t\tController.setColor(new Color(r.getValue(), g.getValue(), b.getValue()));\r\n\t\t\t\tdispose();\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tpublic void setupPicImportMenuAction(JMenuItem picImportButton, JPanel panel, JLabel imgLbl) {\r\n\t\tpicImportButton.addActionListener(new ActionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tJFileChooser jfc = new JFileChooser();\r\n\t\t\t\tFileNameExtensionFilter pngOnly = new FileNameExtensionFilter(&quot;.png&quot;, &quot;png&quot;);\r\n\t\t\t\tFileNameExtensionFilter jpegOnly = new FileNameExtensionFilter(&quot;.jpg&quot;, &quot;jpg&quot;);\r\n\t\t\t\tjfc.addChoosableFileFilter(pngOnly);\r\n\t\t\t\tjfc.addChoosableFileFilter(jpegOnly);\r\n\r\n\t\t\t\tjfc.setAcceptAllFileFilterUsed(false);\r\n\t\t\t\tint response = jfc.showOpenDialog(null);\r\n\t\t\t\tif (response == JFileChooser.APPROVE_OPTION) {\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tBufferedImage ii = ImageIO.read(new FileInputStream(jfc.getSelectedFile().getAbsolutePath()));\r\n\t\t\t\t\t\taddImageToCanvas(panel, ii, imgLbl);\r\n\t\t\t\t\t} catch (IOException e1) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(jfc.getSelectedFile().getAbsolutePath());\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tprotected void addImageToCanvas(JPanel panel, BufferedImage bi, JLabel label) {\r\n\t\tlabel = new JLabel(new ImageIcon(bi));\r\n\t\timgLabel = label;\r\n\t\tpanel.add(label);\r\n\t\tpanel.revalidate();\r\n\t\tlabel.setOpaque(true);\r\n\t}\r\n\r\n\r\n\tprivate void changeCursor(JPanel panel, JLabel newCursorImageLabel, URL iconURL) {\r\n\t\tToolkit toolkit = Toolkit.getDefaultToolkit();\r\n\t\timage = toolkit.getImage(iconURL);\r\n\t\tSystem.out.println(&quot;\\ninside changeCursor  &quot; + iconURL.toString());\r\n\t\tpanel.setCursor(Toolkit.getDefaultToolkit().createCustomCursor(image, new Point(0, 0), &quot;img&quot;));\r\n\t}\r\n\r\n\tpublic void getClickedComponentColor() {\r\n\r\n\t}\r\n\r\n\tprivate class drag {\r\n\r\n\t}\r\n\r\n\tprivate class drop {\r\n\r\n\t}\r\n}\r\n\r\n```\r\n\r\nModel.java\r\n```\r\n\r\npublic class Model {\r\n\r\n}\r\n\r\n```\r\n\r\nI have also provided [a zip file containing the entire project][2]. The reason for providing this zip file is because my code requires the images that are located in a folder inside the src folder. \r\n\r\nIf anyone could help me with the issue regarding the mouse going behind the part of screen that has been drawn on that would be much appreciated\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e6Peh.gif\r\n  [2]: https://drive.google.com/file/d/1PhFFXqjTRgvgAchq05eQtyiHKQI5IQ1z/view?usp=sharing","title":"Mouse Goes behind part of the panel where it has been drawn on","body":"<p>So I am currently making a canvas painter in the style of Microsoft paint in Java. One of the features I was currently working on is the color picker. Now I got it to change the icon cursor but the issue comes with its implementation. I wish to get the color of the pixel that the cursor clicked on (which I already got it working). However, When I try to hover the curser over something I drew on the panel, the mouse goes behind the drawing that I made. To better explain this, I have added a <a href=\"https://i.stack.imgur.com/e6Peh.gif\" rel=\"nofollow noreferrer\">Gif of the aforementioned issue</a>.</p>\n<p>Here is the code for my program</p>\n<p>Main.java</p>\n<pre><code>import javax.swing.JPanel;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Controller(new View(),new Model());\n\n    }\n\n}\n\n</code></pre>\n<p>View.java</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Toolkit;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.Insets;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.Box;\nimport javax.swing.BoxLayout;\nimport javax.swing.Icon;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.SpringLayout;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport javax.swing.plaf.ColorUIResource;\nimport javax.swing.plaf.PanelUI;\n\nimport java.awt.FlowLayout;\nimport java.awt.BorderLayout;\nimport java.net.URL;\nimport java.nio.channels.NonReadableChannelException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.stream.Stream;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport org.kordamp.ikonli.swing.FontIcon;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.GridBagConstraints;\n\npublic class View extends JFrame implements MouseListener{\n    protected static int imgNum = new File(&quot;src//imgs&quot;).listFiles().length;\n    private Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n    private double width = screenSize.getWidth(), height = screenSize.getHeight();\n    protected static JPanel panel = new JPanel();\n    private JPanel buttonsPanel = new JPanel(), colPre = new JPanel();\n    private static JLabel[] toolsButtonSetIcons = new JLabel[imgNum];\n    private JMenuBar menuBar = new JMenuBar();\n    private ImageIcon[] icons = new ImageIcon[imgNum];\n    protected static URL[] iconURLs = new URL[imgNum];\n    private JMenu menu = new JMenu(&quot;File&quot;), edit = new JMenu(&quot;Edit&quot;);\n    protected JMenuItem picImport = new JMenuItem(&quot;Import Picture&quot;), pencilSizeChangeMenu = new JMenuItem(&quot;Change Pen Size&quot;);\n    private GridBagConstraints gbc = new GridBagConstraints();\n    private JSlider redSlider,greenSlider,blueSlider;\n    URL[] tempURLArr;\n    private static String[] toolNameStrings = { &quot;Eraser&quot;, &quot;Cutter&quot;, &quot;Pencil&quot;, &quot;Color Chooser&quot;, &quot;Color Picker&quot;,\n            &quot;Transform&quot;, &quot;Picture&quot;, &quot;Color Slider&quot;,&quot;Move&quot; };\n    JLabel imgLabel;\n    \n    public View() {\n    }\n\n    public void setupDisplay() {\n        this.setSize(new Dimension((int) width - 20, (int) height - 60));\n        this.setTitle(&quot;Canvas Painter&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setVisible(true);\n        this.setResizable(false);\n        this.setLocationRelativeTo(null);\n        this.add(panel);\n        this.add(buttonsPanel, BorderLayout.WEST);\n        this.setJMenuBar(menuBar);\n        try {\n            UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;);\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException\n                | UnsupportedLookAndFeelException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        menu.add(picImport);\n        menuBar.add(menu);\n        menuBar.add(edit);\n        buttonsPanel.setLayout(new FlowLayout(FlowLayout.LEFT));\n        \n        setupToolButtonSet();\n        new Controller().setupPicImportMenuAction(picImport, panel,imgLabel);\n        System.out.printf(&quot;JFrame width: %d and height: %d\\n&quot;, this.getWidth(), this.getHeight());\n        this.setVisible(true);\n    }\n\n    private void setupToolButtonSet() {\n        buttonsPanel.setPreferredSize(new Dimension(150, 100));\n\n        System.out.println(imgNum);\n        for (int i = 0; i &lt; imgNum; i++) {\n            // buttonsPanel.add(Box.createRigidArea(new Dimension(5, 35)));\n            iconURLs[i] = getClass().getResource(String.format(&quot;./imgs/icon%d.png&quot;, i));\n            System.out.println(String.format(&quot;./imgs/icon%d.png&quot;, i));\n            icons[i] = new ImageIcon(\n                    new ImageIcon(iconURLs[i]).getImage().getScaledInstance(20, 20, Image.SCALE_DEFAULT));\n            toolsButtonSetIcons[i] = new JLabel(icons[i]);\n            toolsButtonSetIcons[i].setToolTipText(toolNameStrings[i]);\n            buttonsPanel.add(toolsButtonSetIcons[i]);\n\n        }\n\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n\n    }\n\n    protected static JLabel[] getLabelSet() {\n        return toolsButtonSetIcons;\n    }\n\n    protected static String[] getLabelNameArray() {\n        return toolNameStrings;\n    }\n    \n    protected static URL[] getURLArray() {return iconURLs;}\n\n    protected void displayColorSliderDialogue() {\n        JPanel colorDialogPanel = new JPanel(), westColorDialoguePanel = new JPanel(), colorPreviewPanel = new JPanel();\n        JButton colorDialogValidateButton = new JButton(&quot;Ok&quot;);\n        JDialog colorDialog = new JDialog(this, &quot;Color Customization&quot;);\n        JSlider rSlider = new JSlider(0, 255), gSlider = new JSlider(0, 255), bSlider = new JSlider(0, 255);\n        colorDialog.setSize(new Dimension(400, 240));\n        colorDialog.add(westColorDialoguePanel, BorderLayout.WEST);\n        colorDialog.add(colorPreviewPanel, BorderLayout.CENTER);\n        colorDialog.add(colorDialogPanel, BorderLayout.SOUTH);\n        westColorDialoguePanel.add(Box.createRigidArea(new Dimension(5, 5)));\n        westColorDialoguePanel.setLayout(new BoxLayout(westColorDialoguePanel, BoxLayout.Y_AXIS));\n        westColorDialoguePanel.add(new JLabel(&quot;R&quot;));\n        westColorDialoguePanel.add(rSlider);\n        westColorDialoguePanel.add(Box.createRigidArea(new Dimension(5, 20)));\n        westColorDialoguePanel.add(new JLabel(&quot;G&quot;));\n        westColorDialoguePanel.add(gSlider);\n        westColorDialoguePanel.add(Box.createRigidArea(new Dimension(5, 20)));\n        westColorDialoguePanel.add(new JLabel(&quot;B&quot;));\n        westColorDialoguePanel.add(bSlider);\n        colorDialogPanel.add(colorDialogValidateButton);\n        colorPreviewPanel.setBackground(new Color(rSlider.getValue(), gSlider.getValue(), bSlider.getValue()));\n        new Controller().setupColorChangeDialogAction(rSlider,gSlider,bSlider,colorDialogValidateButton,colorPreviewPanel);\n        colorDialog.setLocationRelativeTo(null);\n        colorDialog.setVisible(true);\n        colorDialog.setResizable(false);\n        colorDialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\n    }\n\n    protected JSlider getRSlider() {return redSlider;}\n    protected JSlider getGSlider() {return greenSlider;}\n    protected JSlider getBSlider() {return blueSlider;}\n    protected JPanel getColPrevLab() {return colPre;}\n    protected ImageIcon [] getIconArray() {return icons;}\n\n    private class Panel extends JPanel {\n        \n    }\n}\n\n</code></pre>\n<p>Controller.java</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseEvent;\nimport java.util.TimerTask;\nimport java.awt.event.MouseListener;\nimport java.util.Timer;\nimport java.util.TimerTask;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.Robot;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JColorChooser;\nimport javax.swing.JFileChooser;\nimport javax.swing.JLabel;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport javax.swing.filechooser.FileNameExtensionFilter;\nimport javax.swing.plaf.ColorUIResource;\nimport javax.swing.text.AttributeSet.ColorAttribute;\nimport java.awt.MouseInfo;\nimport java.awt.AWTException;\nimport java.awt.Color;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.awt.Cursor;\nimport java.awt.Point;\nimport java.awt.Toolkit;\n\n/**\n * \n * @author Malik\n *\n */\npublic class Controller extends View implements MouseListener, MouseMotionListener {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    private Graphics g;\n    private static Color drawColor;\n    private JLabel[] buttonLabels = getLabelSet();\n    private String[] labelNameStrings = getLabelNameArray();\n    private URL[] urlArray = getURLArray();\n    private final int ERASER = 0, CUTTER = 1, PENCIL = 2, COLOR_CHOOSER = 3, COLOR_PICKER = 4, TRANSFORM = 5,\n            PICTURE = 6, COLOR_SLIDER = 7;\n    private final Color defaultColor = new Color(0, 0, 0);\n    private static boolean colorChanged = false;\n    private String currentTool = &quot;pencil&quot;;\n    private JSlider rSlider = super.getRSlider(), gSlider = super.getGSlider(), bSlider = super.getBSlider();\n    private JPanel colPreview = super.getColPrevLab();\n    private JLabel imgLb;\n    private Image image;\n\n    public Controller(View v, Model m) {\n        System.out.println(&quot;inside controller&quot;);\n        v.setupDisplay();\n        setLabelVisibility(buttonLabels);\n        View.panel.addMouseListener(this);\n        View.panel.addMouseMotionListener(this);\n\n        for (int i = 0; i &lt; buttonLabels.length; i++)\n            buttonLabels[i].addMouseListener(this);\n    }\n\n    public Controller() {\n\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n\n        for (int i = 0; i &lt; buttonLabels.length; i++) {\n\n            if (e.getSource() == buttonLabels[COLOR_CHOOSER]) {\n                // g.setColor();\n                System.out.printf(&quot;You clicked: %s\\n&quot;, labelNameStrings[COLOR_CHOOSER]);\n                drawColor = JColorChooser.showDialog(this, &quot;Select a color&quot;, Color.RED);\n                colorChanged = true;\n                break;\n            }\n\n            if (e.getSource() == buttonLabels[ERASER]) {\n                currentTool = &quot;eraser&quot;;\n                System.out.printf(&quot;You clicked: %s\\n&quot;, labelNameStrings[COLOR_CHOOSER]);\n                break;\n            }\n\n            if (e.getSource() == buttonLabels[PENCIL]) {\n                currentTool = &quot;pencil&quot;;\n                super.panel.setCursor(null);\n                System.out.printf(&quot;You clicked: %s\\n&quot;, labelNameStrings[PENCIL]);\n                break;\n            }\n\n            if (e.getSource() == buttonLabels[COLOR_SLIDER]) {\n                currentTool = &quot;Color Slider&quot;;\n                super.displayColorSliderDialogue();\n                System.out.printf(&quot;You clicked: %s\\n&quot;, labelNameStrings[COLOR_SLIDER]);\n                break;\n            }\n\n            if (e.getSource() == buttonLabels[COLOR_PICKER]) {\n                currentTool = &quot;Color Picker&quot;;\n                // System.out.println(urlArray[0].toString());\n                System.out.printf(&quot;You clicked: %s&quot;, labelNameStrings[COLOR_PICKER]);\n                changeCursor(super.panel, buttonLabels[COLOR_PICKER], urlArray[COLOR_PICKER]);\n                super.panel.addMouseListener(new MouseListener() {\n\n                    @Override\n                    public void mouseClicked(MouseEvent e) {\n                        int xValue = MouseInfo.getPointerInfo().getLocation().x;\n                        int yValue = MouseInfo.getPointerInfo().getLocation().y;\n                        Robot robot;\n                        try {\n                            robot = new Robot();\n                            Color color = robot.getPixelColor(xValue, yValue);\n                            System.out.println(color);\n                            panel.revalidate();\n                        } catch (AWTException e1) {\n                            // TODO Auto-generated catch block\n                            e1.printStackTrace();\n                        }\n                        \n                    }\n\n                    @Override\n                    public void mousePressed(MouseEvent e) {\n                        // TODO Auto-generated method stub\n                        \n                    }\n\n                    @Override\n                    public void mouseReleased(MouseEvent e) {\n                        // TODO Auto-generated method stub\n                        \n                    }\n\n                    @Override\n                    public void mouseEntered(MouseEvent e) {\n                        // TODO Auto-generated method stub\n                        \n                    }\n\n                    @Override\n                    public void mouseExited(MouseEvent e) {\n                        // TODO Auto-generated method stub\n                        \n                    }\n                    \n                });\n                break;\n            }\n\n        }\n\n        // View.panel.repaint();\n\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        if (e.getSource() == View.panel &amp;&amp; currentTool == &quot;pencil&quot;) {\n            g = View.panel.getGraphics();\n            if (colorChanged == false)\n                g.setColor(defaultColor);\n            else\n                g.setColor(drawColor);\n\n            g.fillOval(e.getX() - 15, e.getY() - 20, 30, 30);\n            System.out.println(&quot;Test&quot;);\n            mouseDragged(e);\n\n        }\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        for (int i = 0; i &lt; buttonLabels.length; i++) {\n            buttonLabels[i].setOpaque(true);\n            if (e.getSource() == buttonLabels[i]) {\n                buttonLabels[i].setBackground(Color.GRAY);\n            }\n        }\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        for (int i = 0; i &lt; buttonLabels.length; i++) {\n            if (e.getSource() == buttonLabels[i] &amp;&amp; buttonLabels[i].getBackground() == Color.GRAY)\n                buttonLabels[i].setBackground(new JButton().getBackground());\n        }\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n        if (e.getSource() == View.panel &amp;&amp; currentTool == &quot;pencil&quot;) {\n            g = View.panel.getGraphics();\n            if (colorChanged == false)\n                g.setColor(defaultColor);\n            else\n                g.setColor(drawColor);\n            g.fillOval(e.getX() - 15, e.getY() - 20, 30, 30);\n            System.out.println(&quot;Test&quot;);\n        }\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    private void setLabelVisibility(JLabel[] labelArray) {\n        for (int i = 0; i &lt; labelArray.length; i++)\n            labelArray[i].setOpaque(true);\n    }\n\n    public static void setColor(Color c) {\n        colorChanged = true;\n        drawColor = c;\n    }\n\n    public void setupColorChangeDialogAction(JSlider r, JSlider g, JSlider b, JButton confirmBtn, JPanel colPreview) {\n        r.addChangeListener(new ChangeListener() {\n            @Override\n            public void stateChanged(ChangeEvent e) {\n                colPreview.setBackground(new Color(r.getValue(), g.getValue(), b.getValue()));\n            }\n        });\n        g.addChangeListener(new ChangeListener() {\n            @Override\n            public void stateChanged(ChangeEvent e) {\n                colPreview.setBackground(new Color(r.getValue(), g.getValue(), b.getValue()));\n            }\n        });\n        b.addChangeListener(new ChangeListener() {\n            @Override\n            public void stateChanged(ChangeEvent e) {\n                colPreview.setBackground(new Color(r.getValue(), g.getValue(), b.getValue()));\n            }\n        });\n        confirmBtn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                colPreview.setBackground(new Color(r.getValue(), g.getValue(), b.getValue()));\n                Controller.setColor(new Color(r.getValue(), g.getValue(), b.getValue()));\n                dispose();\n            }\n\n        });\n    }\n\n    public void setupPicImportMenuAction(JMenuItem picImportButton, JPanel panel, JLabel imgLbl) {\n        picImportButton.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JFileChooser jfc = new JFileChooser();\n                FileNameExtensionFilter pngOnly = new FileNameExtensionFilter(&quot;.png&quot;, &quot;png&quot;);\n                FileNameExtensionFilter jpegOnly = new FileNameExtensionFilter(&quot;.jpg&quot;, &quot;jpg&quot;);\n                jfc.addChoosableFileFilter(pngOnly);\n                jfc.addChoosableFileFilter(jpegOnly);\n\n                jfc.setAcceptAllFileFilterUsed(false);\n                int response = jfc.showOpenDialog(null);\n                if (response == JFileChooser.APPROVE_OPTION) {\n\n                    try {\n                        BufferedImage ii = ImageIO.read(new FileInputStream(jfc.getSelectedFile().getAbsolutePath()));\n                        addImageToCanvas(panel, ii, imgLbl);\n                    } catch (IOException e1) {\n                        // TODO Auto-generated catch block\n                        e1.printStackTrace();\n                    }\n                    System.out.println(jfc.getSelectedFile().getAbsolutePath());\n\n                }\n            }\n\n        });\n    }\n\n    protected void addImageToCanvas(JPanel panel, BufferedImage bi, JLabel label) {\n        label = new JLabel(new ImageIcon(bi));\n        imgLabel = label;\n        panel.add(label);\n        panel.revalidate();\n        label.setOpaque(true);\n    }\n\n\n    private void changeCursor(JPanel panel, JLabel newCursorImageLabel, URL iconURL) {\n        Toolkit toolkit = Toolkit.getDefaultToolkit();\n        image = toolkit.getImage(iconURL);\n        System.out.println(&quot;\\ninside changeCursor  &quot; + iconURL.toString());\n        panel.setCursor(Toolkit.getDefaultToolkit().createCustomCursor(image, new Point(0, 0), &quot;img&quot;));\n    }\n\n    public void getClickedComponentColor() {\n\n    }\n\n    private class drag {\n\n    }\n\n    private class drop {\n\n    }\n}\n\n</code></pre>\n<p>Model.java</p>\n<pre><code>\npublic class Model {\n\n}\n\n</code></pre>\n<p>I have also provided <a href=\"https://drive.google.com/file/d/1PhFFXqjTRgvgAchq05eQtyiHKQI5IQ1z/view?usp=sharing\" rel=\"nofollow noreferrer\">a zip file containing the entire project</a>. The reason for providing this zip file is because my code requires the images that are located in a folder inside the src folder.</p>\n<p>If anyone could help me with the issue regarding the mouse going behind the part of screen that has been drawn on that would be much appreciated</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1651947732,"post_id":72155263,"comment_id":127489048,"body_markdown":"If your code is working, and you just want to ask for a &quot;better way to do it&quot; consider posting it at [codereview.se]. See [help/on-topic] for what questions are suitable for Stackoverflow.","body":"If your code is working, and you just want to ask for a &quot;better way to do it&quot; consider posting it at <a href=\"https://codereview.stackexchange.com\">Code Review</a>. See <a href=\"https://stackoverflow.com/help/on-topic\">help center</a> for what questions are suitable for Stackoverflow."}],"answers":[{"tags":[],"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651948877,"creation_date":1651948877,"answer_id":72155463,"question_id":72155263,"body_markdown":"The best way is to use Jackson [https://mkyong.com/java/jackson-how-to-parse-json/][1]\r\n\r\n\r\n  [1]: https://mkyong.com/java/jackson-how-to-parse-json/","title":"How to access a previously mapped value in Java stream API","body":"<p>The best way is to use Jackson <a href=\"https://mkyong.com/java/jackson-how-to-parse-json/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/jackson-how-to-parse-json/</a></p>\n"},{"tags":[],"owner":{"account_id":21637087,"reputation":1183,"user_id":15959847,"display_name":"McKinley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651957457,"creation_date":1651955928,"answer_id":72156203,"question_id":72155263,"body_markdown":"To avoid duplicating the `getQuote().getUSD()`, why don&#39;t we expand the single-line lambda function and declare a variable inside it called `usd`:\r\n```java\r\ncrypto.getData().stream()\r\n    .map(data -&gt; {\r\n        // Unpack USD here so that we can avoid repeating &quot;getQuote().getUSD()&quot; later\r\n        var usd = data.getQuote().getUsd();\r\n        return new CryptoCurrency(\r\n            data.getId(),\r\n            usd.getPrice(),\r\n            usd.getMarket_cap(),\r\n            usd.getPrice(),\r\n            LocalDateTime.now());\r\n    }).collect(Collectors.toList());\r\n```\r\nIf we wanted to use other parts of the data repeatedly, such as `data.getQuote()`, then we could declare other variables.","title":"How to access a previously mapped value in Java stream API","body":"<p>To avoid duplicating the <code>getQuote().getUSD()</code>, why don't we expand the single-line lambda function and declare a variable inside it called <code>usd</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>crypto.getData().stream()\n    .map(data -&gt; {\n        // Unpack USD here so that we can avoid repeating &quot;getQuote().getUSD()&quot; later\n        var usd = data.getQuote().getUsd();\n        return new CryptoCurrency(\n            data.getId(),\n            usd.getPrice(),\n            usd.getMarket_cap(),\n            usd.getPrice(),\n            LocalDateTime.now());\n    }).collect(Collectors.toList());\n</code></pre>\n<p>If we wanted to use other parts of the data repeatedly, such as <code>data.getQuote()</code>, then we could declare other variables.</p>\n"}],"owner":{"account_id":21664383,"reputation":33,"user_id":15983029,"display_name":"Kauan Abrah&#227;o"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651957457,"creation_date":1651947290,"question_id":72155263,"body_markdown":"I&#39;m parsing a JSON as a DTO (CryptoCoinResponse) as follow:\r\n\r\n```\r\n{\r\n   &quot;data&quot;:[\r\n      {\r\n         &quot;quote&quot;:{\r\n            &quot;USD&quot;:{\r\n               &quot;price&quot;:35957.144434663925,\r\n               &quot;volume_24h&quot;:22208499250,\r\n               &quot;market_cap&quot;:684385813954\r\n            }\r\n         },\r\n         &quot;id&quot;:&quot;bitcoin&quot;\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\nand trying to convert every object inside &quot;data&quot; to a Entity using stream API. I tried to do as follow:\r\n\r\n```\r\n  public static List&lt;CryptoCurrency&gt; parseDtoToEntity(CryptoCoinResponse crypto){\r\n        return crypto.getData().stream()\r\n                .map(CryptoCoinResponse.Data::getQuote)\r\n                .map(CryptoCoinResponse.Quote::getUsd)\r\n                .map(usd -&gt;\r\n                        new CryptoCurrency(\r\n                                data.getId(),\r\n                                usd.getPrice(),\r\n                                usd.getMarket_cap(),\r\n                                usd.getPrice(),\r\n                                LocalDateTime.now()))\r\n                .collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nbut I cannot access id property (data.getId()) from previouysly map. My solution was to do as follow:\r\n\r\n```\r\n    public static List&lt;CryptoCurrency&gt; parseDtoToEntity(CryptoCoinResponse crypto){\r\n        return crypto.getData().stream()\r\n                .map(data -&gt;\r\n                        new CryptoCurrency(\r\n                                data.getId(),\r\n                                data.getQuote().getUsd().getPrice(),\r\n                                data.getQuote().getUsd().getMarket_cap(),\r\n                                data.getQuote().getUsd().getPrice(),\r\n                                LocalDateTime.now()))\r\n                .collect(Collectors.toList());\r\n```\r\nand I was wondering, is this a better way to do it? \r\n\r\nThanks in advance","title":"How to access a previously mapped value in Java stream API","body":"<p>I'm parsing a JSON as a DTO (CryptoCoinResponse) as follow:</p>\n<pre><code>{\n   &quot;data&quot;:[\n      {\n         &quot;quote&quot;:{\n            &quot;USD&quot;:{\n               &quot;price&quot;:35957.144434663925,\n               &quot;volume_24h&quot;:22208499250,\n               &quot;market_cap&quot;:684385813954\n            }\n         },\n         &quot;id&quot;:&quot;bitcoin&quot;\n      }\n   ]\n}\n</code></pre>\n<p>and trying to convert every object inside &quot;data&quot; to a Entity using stream API. I tried to do as follow:</p>\n<pre><code>  public static List&lt;CryptoCurrency&gt; parseDtoToEntity(CryptoCoinResponse crypto){\n        return crypto.getData().stream()\n                .map(CryptoCoinResponse.Data::getQuote)\n                .map(CryptoCoinResponse.Quote::getUsd)\n                .map(usd -&gt;\n                        new CryptoCurrency(\n                                data.getId(),\n                                usd.getPrice(),\n                                usd.getMarket_cap(),\n                                usd.getPrice(),\n                                LocalDateTime.now()))\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p>but I cannot access id property (data.getId()) from previouysly map. My solution was to do as follow:</p>\n<pre><code>    public static List&lt;CryptoCurrency&gt; parseDtoToEntity(CryptoCoinResponse crypto){\n        return crypto.getData().stream()\n                .map(data -&gt;\n                        new CryptoCurrency(\n                                data.getId(),\n                                data.getQuote().getUsd().getPrice(),\n                                data.getQuote().getUsd().getMarket_cap(),\n                                data.getQuote().getUsd().getPrice(),\n                                LocalDateTime.now()))\n                .collect(Collectors.toList());\n</code></pre>\n<p>and I was wondering, is this a better way to do it?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","split"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1651955406,"post_id":72156046,"comment_id":127490518,"body_markdown":"What problems are you facing when you are trying to split it farther? For now it looks like your CSV line is in form `name surname, address ,date`. You can first split row on comma and then split relevant parts farther, like split `name surname` on space and `address` on `;`.","body":"What problems are you facing when you are trying to split it farther? For now it looks like your CSV line is in form <code>name surname, address ,date</code>. You can first split row on comma and then split relevant parts farther, like split <code>name surname</code> on space and <code>address</code> on <code>;</code>."}],"answers":[{"tags":[],"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651957028,"creation_date":1651955810,"answer_id":72156188,"question_id":72156046,"body_markdown":"You should use `.split(delimiter)` more than once in your code to process the string.\r\n\r\nAlso, you should use `.trim()` method to get rid of whitespaces.\r\n\r\n\r\nTo be more clear, your code should look like:\r\n\r\n    final int ADDRESS_INDEX = 1;\r\n    \r\n    String[] csv = {&quot;John Cena, 38;80331;Munich;Germany ,09.12.1989&quot;,\r\n                            &quot;Brad Pitt, 56;70173;Stuttgart;Germany ,01.02.1972&quot;};\r\n    for(String row : csv){ //for each string in the string array.\r\n        String[] csv_person = row.split(&quot;,&quot;); //the components of a person(name, address, birthdate)\r\n        String[] csv_address = csv_person[ADDRESS_INDEX].trim().split(&quot;;&quot;); //the components of the address\r\n        String[] csv_person_name = csv_person[0].split(&quot; &quot;); //the components of the name(first and last names)\r\n    \r\n        Person p = new Person(csv_person_name[0],csv_person_name[1], new Adress(csv_address[0],csv_address[1],csv_address[2],csv_address[3], csv_person[2]));\r\n    }","title":"How can i split the data in the array csv, such that the 2 instances of type Person can be created?","body":"<p>You should use <code>.split(delimiter)</code> more than once in your code to process the string.</p>\n<p>Also, you should use <code>.trim()</code> method to get rid of whitespaces.</p>\n<p>To be more clear, your code should look like:</p>\n<pre><code>final int ADDRESS_INDEX = 1;\n\nString[] csv = {&quot;John Cena, 38;80331;Munich;Germany ,09.12.1989&quot;,\n                        &quot;Brad Pitt, 56;70173;Stuttgart;Germany ,01.02.1972&quot;};\nfor(String row : csv){ //for each string in the string array.\n    String[] csv_person = row.split(&quot;,&quot;); //the components of a person(name, address, birthdate)\n    String[] csv_address = csv_person[ADDRESS_INDEX].trim().split(&quot;;&quot;); //the components of the address\n    String[] csv_person_name = csv_person[0].split(&quot; &quot;); //the components of the name(first and last names)\n\n    Person p = new Person(csv_person_name[0],csv_person_name[1], new Adress(csv_address[0],csv_address[1],csv_address[2],csv_address[3], csv_person[2]));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651956082,"creation_date":1651956082,"answer_id":72156213,"question_id":72156046,"body_markdown":"Use a [StringTokenizer][1] like so:\r\n\r\n    for (int i = 0; i &lt; csv.length; i++) {\r\n        String csv_row = csv[i];\r\n        StringTokenizer st = new StringTokenizer(csv_row, &quot;;&quot;);\r\n\r\n        String firstname = st.nextToken();\r\n        String lastname = st.nextToken();\r\n        // For the Address try to apply the same splitting as for Person - I throw away this token on purpose now\r\n        Address address = null; st.nextToken();\r\n        String dateOfBirth = st.nextToken();\r\n\r\n        Person p = new Person(firstname, lastname, address, dateOfBirth);\r\n        // do whatever you want with this person\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringTokenizer.html","title":"How can i split the data in the array csv, such that the 2 instances of type Person can be created?","body":"<p>Use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringTokenizer.html\" rel=\"nofollow noreferrer\">StringTokenizer</a> like so:</p>\n<pre><code>for (int i = 0; i &lt; csv.length; i++) {\n    String csv_row = csv[i];\n    StringTokenizer st = new StringTokenizer(csv_row, &quot;;&quot;);\n\n    String firstname = st.nextToken();\n    String lastname = st.nextToken();\n    // For the Address try to apply the same splitting as for Person - I throw away this token on purpose now\n    Address address = null; st.nextToken();\n    String dateOfBirth = st.nextToken();\n\n    Person p = new Person(firstname, lastname, address, dateOfBirth);\n    // do whatever you want with this person\n}\n</code></pre>\n"}],"owner":{"account_id":24874511,"reputation":31,"user_id":18748567,"display_name":"Omar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651957028,"creation_date":1651954471,"question_id":72156046,"body_markdown":"I need help to create 2 instance variables of type Person,that Takes data from the array csv and put it in the instance variables p1 and p2.\r\n\r\nIf i put data directly, it would be like that:\r\n\r\n```\r\nPerson p1= new Person(&quot;John&quot;,&quot;Sina&quot;,new Adress(&quot;38&quot;,80331,&quot;Munich&quot;,&quot;Germany&quot;),&quot;09.12.1989&quot;,))\r\n\r\nPerson p2= new Person(&quot;Brad&quot;,&quot;Pitt&quot;,new Adress(&quot;56&quot;, 70173,&quot;Stuttgart&quot;,&quot;Germany&quot;),&quot;01.02.1972&quot;,))\r\n\r\n```\r\nbut i have to take data from the array csv.\r\n\r\n```\r\npublic class Address {\r\n    private String houseNumber;\r\n    private int zipCode;\r\n    private String city;\r\n    private String country;\r\n\r\n    public Address(String housenum, int zipCode, String city, String country) {\r\n        this.houseNumber = housenum;\r\n        this.zipCode = zipCode;\r\n        this.city = city;\r\n        this.country = country;\r\n    }\r\n}\r\n\r\npublic class Person {\r\n    private String firstname;\r\n    private String lastname;\r\n    private Address address;\r\n    private String dateOfBirth;\r\n\r\n    public Person(String firstname, String lastname, Address address, String dateOfBirth) {\r\n        this.firstname = firstname;\r\n        this.lastname = lastname;\r\n        this.address = address;\r\n        this.dateOfBirth = dateOfBirth;\r\n    }\r\n}\r\n\r\npublic class MyApplication {\r\n    public static void main(String[] args) {\r\n        String[] csv = {&quot;John Cena, 38;80331;Munich;Germany ,09.12.1989&quot;,\r\n                        &quot;Brad Pitt, 56;70173;Stuttgart;Germany ,01.02.1972&quot;};\r\n        for (int i = 0; i &lt; csv.length; i++) {\r\n            String csv_row = csv[i];\r\n\r\n        }\r\n    }\r\n} \r\n\r\n```","title":"How can i split the data in the array csv, such that the 2 instances of type Person can be created?","body":"<p>I need help to create 2 instance variables of type Person,that Takes data from the array csv and put it in the instance variables p1 and p2.</p>\n<p>If i put data directly, it would be like that:</p>\n<pre><code>Person p1= new Person(&quot;John&quot;,&quot;Sina&quot;,new Adress(&quot;38&quot;,80331,&quot;Munich&quot;,&quot;Germany&quot;),&quot;09.12.1989&quot;,))\n\nPerson p2= new Person(&quot;Brad&quot;,&quot;Pitt&quot;,new Adress(&quot;56&quot;, 70173,&quot;Stuttgart&quot;,&quot;Germany&quot;),&quot;01.02.1972&quot;,))\n\n</code></pre>\n<p>but i have to take data from the array csv.</p>\n<pre><code>public class Address {\n    private String houseNumber;\n    private int zipCode;\n    private String city;\n    private String country;\n\n    public Address(String housenum, int zipCode, String city, String country) {\n        this.houseNumber = housenum;\n        this.zipCode = zipCode;\n        this.city = city;\n        this.country = country;\n    }\n}\n\npublic class Person {\n    private String firstname;\n    private String lastname;\n    private Address address;\n    private String dateOfBirth;\n\n    public Person(String firstname, String lastname, Address address, String dateOfBirth) {\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.address = address;\n        this.dateOfBirth = dateOfBirth;\n    }\n}\n\npublic class MyApplication {\n    public static void main(String[] args) {\n        String[] csv = {&quot;John Cena, 38;80331;Munich;Germany ,09.12.1989&quot;,\n                        &quot;Brad Pitt, 56;70173;Stuttgart;Germany ,01.02.1972&quot;};\n        for (int i = 0; i &lt; csv.length; i++) {\n            String csv_row = csv[i];\n\n        }\n    }\n} \n\n</code></pre>\n"},{"tags":["java","xml","dom","xml-parsing","stax"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651956459,"creation_date":1651956459,"answer_id":72156260,"question_id":72149822,"body_markdown":"Using streaming in XSLT 3.0, you can do\r\n\r\n    &lt;xsl:template match=&quot;user&quot; mode=&quot;streamed&quot;&gt;\r\n      &lt;xsl:apply-templates select=&quot;copy-of(.)&quot; mode=&quot;unstreamed&quot;/&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\nand in the unstreamed mode you can then process the (copied) `user` element as a subtree in memory with no streaming restrictions.\r\n\r\nI&#39;ve done the same with SAX; it&#39;s easy enough when you hit a startElement event for `user` to start building a tree, and when the corresponding endElement event occurs, to process that tree any way you like.\r\n\r\nI wouldn&#39;t use a pull API like StAX for this. I&#39;m sure it can be done, but it&#39;s probably more effort.","title":"Java - Update Elements in Large XML Files","body":"<p>Using streaming in XSLT 3.0, you can do</p>\n<pre><code>&lt;xsl:template match=&quot;user&quot; mode=&quot;streamed&quot;&gt;\n  &lt;xsl:apply-templates select=&quot;copy-of(.)&quot; mode=&quot;unstreamed&quot;/&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n<p>and in the unstreamed mode you can then process the (copied) <code>user</code> element as a subtree in memory with no streaming restrictions.</p>\n<p>I've done the same with SAX; it's easy enough when you hit a startElement event for <code>user</code> to start building a tree, and when the corresponding endElement event occurs, to process that tree any way you like.</p>\n<p>I wouldn't use a pull API like StAX for this. I'm sure it can be done, but it's probably more effort.</p>\n"}],"owner":{"account_id":25222708,"reputation":1,"user_id":19058958,"display_name":"doziem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651956459,"creation_date":1651902407,"question_id":72149822,"body_markdown":"I work with very large XML datasets (1 GB+) and need to backtrack and update specific elements per node, depending on the values of other elements that follow.\r\n\r\nFor example, in this record/node:\r\n\r\n```\r\n&lt;user&gt;\r\n    &lt;role&gt;Associate&lt;/role&gt;\r\n    &lt;team&gt;Hufflepuff&lt;/team&gt;\r\n    &lt;experience&gt;7&lt;/experience&gt;\r\n&lt;/user&gt;\r\n\r\n```\r\n\r\nSince &quot;experience&quot; is greater than 5 years, the role needs to be updated from &quot;Associate&quot; to &quot;Senior.&quot;\r\n\r\nI would like to avoid loading the entire file into memory via the DOM.\r\n\r\nIdeally, I would process each single &quot;user&quot; in the XML and append the data to a new XML file one at a time. I started off by processing in a stream using StAX, but I don&#39;t know how to transform each XMLEventWriter event content into a useable DOM document that writes to an XML file and clears from memory afterwards.\r\n\r\nIf the description is unclear in any way, please let me know. Any help on this will be greatly appreciated.\r\n\r\nThanks.","title":"Java - Update Elements in Large XML Files","body":"<p>I work with very large XML datasets (1 GB+) and need to backtrack and update specific elements per node, depending on the values of other elements that follow.</p>\n<p>For example, in this record/node:</p>\n<pre><code>&lt;user&gt;\n    &lt;role&gt;Associate&lt;/role&gt;\n    &lt;team&gt;Hufflepuff&lt;/team&gt;\n    &lt;experience&gt;7&lt;/experience&gt;\n&lt;/user&gt;\n\n</code></pre>\n<p>Since &quot;experience&quot; is greater than 5 years, the role needs to be updated from &quot;Associate&quot; to &quot;Senior.&quot;</p>\n<p>I would like to avoid loading the entire file into memory via the DOM.</p>\n<p>Ideally, I would process each single &quot;user&quot; in the XML and append the data to a new XML file one at a time. I started off by processing in a stream using StAX, but I don't know how to transform each XMLEventWriter event content into a useable DOM document that writes to an XML file and clears from memory afterwards.</p>\n<p>If the description is unclear in any way, please let me know. Any help on this will be greatly appreciated.</p>\n<p>Thanks.</p>\n"},{"tags":["java","liferay-7.3"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652706736,"post_id":72155625,"comment_id":127663570,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651956325,"creation_date":1651956325,"answer_id":72156245,"question_id":72155625,"body_markdown":"It seems you created a gradle task that depends on some other task. But be it directly or indirectly, the other task requires this task as a dependency. Gradle cannot figure out where to start building.\r\n\r\nCheck the three listed tasks, focusing on their dependencies. Remove as much as possible. If that does not work out, maybe you have to redesign your build structure.","title":"Circular dependency In Liferay Studio","body":"<p>It seems you created a gradle task that depends on some other task. But be it directly or indirectly, the other task requires this task as a dependency. Gradle cannot figure out where to start building.</p>\n<p>Check the three listed tasks, focusing on their dependencies. Remove as much as possible. If that does not work out, maybe you have to redesign your build structure.</p>\n"}],"owner":{"account_id":25227875,"reputation":1,"user_id":19063463,"display_name":"Ummed Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651956325,"creation_date":1651950161,"question_id":72155625,"body_markdown":"An error occur when I&#39;m fetch the data with the database so how to solve this problem\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCircular dependency between the following tasks:\r\n:modules:amfregistration:amfregistration-api:classes\r\n\\--- :modules:amfregistration:amfregistration-api:compileJava\r\n     \\--- :modules:amfregistration:amfregistration-api:jar\r\n          +--- :modules:amfregistration:amfregistration-api:classes (*)\r\n          \\--- :modules:amfregistration:amfregistration-api:jar (*)\r\n\r\n(*) - details omitted (listed previously)\r\n\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.6.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 1s\r\n\r\n\r\nThanks in advance","title":"Circular dependency In Liferay Studio","body":"<p>An error occur when I'm fetch the data with the database so how to solve this problem</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCircular dependency between the following tasks:\n:modules:amfregistration:amfregistration-api:classes\n--- :modules:amfregistration:amfregistration-api:compileJava\n--- :modules:amfregistration:amfregistration-api:jar\n+--- :modules:amfregistration:amfregistration-api:classes (<em>)\n--- :modules:amfregistration:amfregistration-api:jar (</em>)</li>\n</ul>\n<p>(*) - details omitted (listed previously)</p>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee <a href=\"https://docs.gradle.org/6.6.1/userguide/command_line_interface.html#sec:command_line_warnings\" rel=\"nofollow noreferrer\">https://docs.gradle.org/6.6.1/userguide/command_line_interface.html#sec:command_line_warnings</a></p>\n<p>BUILD FAILED in 1s</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","selenium","scroll","testng","javascriptexecutor"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651956132,"creation_date":1651956132,"answer_id":72156220,"question_id":72156011,"body_markdown":"Before you attempt to [**scrollIntoView()**](https://stackoverflow.com/a/58537189/7429447) you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the  [_visibilityOfElementLocated()_](https://stackoverflow.com/a/49749804/7429447) as follows:\r\n\r\n\tWebElement ele = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[text()=&#39;Select Selection Field 3&#39;]&quot;)));\r\n\t((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, ele);\r\n\t\r\nIn a single line:\r\n\r\n\t((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[text()=&#39;Select Selection Field 3&#39;]&quot;))));","title":"JavaScriptExecutor scroll into View is not working in my TestNG Automation","body":"<p>Before you attempt to <a href=\"https://stackoverflow.com/a/58537189/7429447\"><strong>scrollIntoView()</strong></a> you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the  <a href=\"https://stackoverflow.com/a/49749804/7429447\"><em>visibilityOfElementLocated()</em></a> as follows:</p>\n<pre><code>WebElement ele = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[text()='Select Selection Field 3']&quot;)));\n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, ele);\n</code></pre>\n<p>In a single line:</p>\n<pre><code>((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[text()='Select Selection Field 3']&quot;))));\n</code></pre>\n"}],"owner":{"account_id":8314336,"reputation":1,"user_id":6248230,"display_name":"Priya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651956132,"creation_date":1651954059,"question_id":72156011,"body_markdown":"\r\nI am using the below code-\r\n  \r\n\r\n\r\n\r\n\t\t \r\n\tWebElement ele= driver.findElement(By.xpath(&quot;//span[text()=&#39;Select Selection Field 3&#39;]&quot;));\r\n\t ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, ele);\r\n\t\t \r\nAnd it doesn&#39;t perform any function. I dont get any error but scrolling is becoming a blocker for me. \r\nPlease Help!!","title":"JavaScriptExecutor scroll into View is not working in my TestNG Automation","body":"<p>I am using the below code-</p>\n<pre><code>WebElement ele= driver.findElement(By.xpath(&quot;//span[text()='Select Selection Field 3']&quot;));\n ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, ele);\n     \n</code></pre>\n<p>And it doesn't perform any function. I dont get any error but scrolling is becoming a blocker for me.\nPlease Help!!</p>\n"},{"tags":["java","amazon-web-services","amazon-sqs","aws-java-sdk-2.x"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1651998474,"post_id":72156216,"comment_id":127495477,"body_markdown":"`And how can I read more than 10 messages, looks like the max limit is we can read up-to 10 message only. If I want to process 10k records how can we do that?`- correct, speaking from experience to get around this you will need to do multi-threading to send more than 10 records at a time. you can&#39;t increase the 10 message batch limit.","body":"<code>And how can I read more than 10 messages, looks like the max limit is we can read up-to 10 message only. If I want to process 10k records how can we do that?</code>- correct, speaking from experience to get around this you will need to do multi-threading to send more than 10 records at a time. you can&#39;t increase the 10 message batch limit."}],"owner":{"account_id":23350387,"reputation":1509,"user_id":17424027,"display_name":"Brady Maf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651956102,"creation_date":1651956102,"question_id":72156216,"body_markdown":"I&#39;m trying to retrieve all messages from my SQS queue using AWS Java SDK, but it always return only one message. I&#39;ve set `maxNumberOfMessages(10)` still it return only one message. Please find my code below - what I&#39;m missing here. In my queue I&#39;ve more than 10k records. \r\n\r\nAnd how can I read more than 10 messages, looks like the max limit is we can read up-to 10 message only. If I want to process 10k records how can we do that? \r\n\r\nIt would be really appreciated if you could assist me with these two issues. Thanks!\r\n\r\n\r\n\r\n    public void getMessage(String queue) {\r\n    \r\n    ReceiveMessageRequest receiveMessageRequest = ReceiveMessageRequest.builder()\r\n            .queueUrl(queue)\r\n            .waitTimeSeconds(10)\r\n            .maxNumberOfMessages(10)\r\n            .build();\r\n\r\n    List&lt;Message&gt; messages = sqsClient.receiveMessage(receiveMessageRequest).messages();\r\n    for (Message msg : messages) {\r\n        System.out.println(&quot;msgID: &quot;+msg.messageId());\r\n        System.out.println(&quot;message: &quot;+msg.body());\r\n    }\r\n \r\n}","title":"SQS messages not returning all messages using AWS SDK Java","body":"<p>I'm trying to retrieve all messages from my SQS queue using AWS Java SDK, but it always return only one message. I've set <code>maxNumberOfMessages(10)</code> still it return only one message. Please find my code below - what I'm missing here. In my queue I've more than 10k records.</p>\n<p>And how can I read more than 10 messages, looks like the max limit is we can read up-to 10 message only. If I want to process 10k records how can we do that?</p>\n<p>It would be really appreciated if you could assist me with these two issues. Thanks!</p>\n<pre><code>public void getMessage(String queue) {\n\nReceiveMessageRequest receiveMessageRequest = ReceiveMessageRequest.builder()\n        .queueUrl(queue)\n        .waitTimeSeconds(10)\n        .maxNumberOfMessages(10)\n        .build();\n\nList&lt;Message&gt; messages = sqsClient.receiveMessage(receiveMessageRequest).messages();\nfor (Message msg : messages) {\n    System.out.println(&quot;msgID: &quot;+msg.messageId());\n    System.out.println(&quot;message: &quot;+msg.body());\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android-studio","dependencies"],"answers":[{"tags":[],"owner":{"account_id":15971482,"reputation":67,"user_id":11952897,"display_name":"Xvx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651955899,"creation_date":1651955899,"answer_id":72156196,"question_id":72156158,"body_markdown":"go to the Gradle Scripts folder and click settings.gradle. Copy and paste ```maven { url &quot;https://jitpack.io&quot; }``` in the repositories{}. Now you can go back to build.gradle in your Gradle Scripts folder to add in your implementations.","title":"Using Dependencies","body":"<p>go to the Gradle Scripts folder and click settings.gradle. Copy and paste <code>maven { url &quot;https://jitpack.io&quot; }</code> in the repositories{}. Now you can go back to build.gradle in your Gradle Scripts folder to add in your implementations.</p>\n"}],"owner":{"account_id":15971482,"reputation":67,"user_id":11952897,"display_name":"Xvx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651955899,"creation_date":1651955565,"question_id":72156158,"body_markdown":"When I try using using the dependency ``` implementation &#39;com.github.dhaval2404:imagepicker:2.1&#39; ``` or ```implementation &#39;com.github.dhaval2404:imagepicker-support:1.7.1&#39;``` I will get a warning message that says &quot;Failed to resolve: com.github.dhaval2404:imagepicker-support:1.7.1\r\n&lt;a href=&quot;open.dependency.in.project.structure&quot;&gt;Show in Project Structure dialog&lt;/ a &gt;\r\nAffected Modules: &lt;a href=&quot;openFile:C:/Users/Akeem/AndroidStudioProjects/GoodOnes/app/build.gradle&quot;&gt;app&lt;/ a &gt;&quot;\r\nHow do I get rid of this warning? \r\nThis is the link to the github I am working on **https://github.com/Dhaval2404/ImagePicker**\r\n\r\nI tried adding the build.gradle from the folder but I don&#39;t know where to add it, when I copy and paste the entire thing I get an error saying \r\n&quot;Build was configured to prefer settings repositories over project repositories but repository &#39;maven&#39; was added by build file &#39;app\\build.gradle&#39;&quot; \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PXDis.png","title":"Using Dependencies","body":"<p>When I try using using the dependency <code>implementation 'com.github.dhaval2404:imagepicker:2.1'</code> or <code>implementation 'com.github.dhaval2404:imagepicker-support:1.7.1'</code> I will get a warning message that says &quot;Failed to resolve: com.github.dhaval2404:imagepicker-support:1.7.1\nShow in Project Structure dialog&lt;/ a &gt;\nAffected Modules: app&lt;/ a &gt;&quot;\nHow do I get rid of this warning?\nThis is the link to the github I am working on <strong>https://github.com/Dhaval2404/ImagePicker</strong></p>\n<p>I tried adding the build.gradle from the folder but I don't know where to add it, when I copy and paste the entire thing I get an error saying\n&quot;Build was configured to prefer settings repositories over project repositories but repository 'maven' was added by build file 'app\\build.gradle'&quot;\n<a href=\"https://i.stack.imgur.com/PXDis.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXDis.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-web-services","amazon-s3","multipart-upload"],"answers":[{"tags":[],"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651954591,"creation_date":1651953719,"answer_id":72155982,"question_id":72155497,"body_markdown":"&gt;  Is it possible to complete a multipart upload with a new `uploadId`?\r\n\r\nNo, you require the same `uploadId` used to first initiate the multipart upload.","title":"S3AsyncClient resume multipart upload after application restart","body":"<blockquote>\n<p>Is it possible to complete a multipart upload with a new <code>uploadId</code>?</p>\n</blockquote>\n<p>No, you require the same <code>uploadId</code> used to first initiate the multipart upload.</p>\n"}],"owner":{"account_id":4924225,"reputation":51,"user_id":3965926,"display_name":"ernest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72155982,"answer_count":1,"score":0,"last_activity_date":1651954591,"creation_date":1651949186,"question_id":72155497,"body_markdown":"I&#39;m using `S3AsyncClient` client in Java to upload a big file using multipart upload.\r\n\r\nIf the application restarts during upload, a new `S3AsyncClient` instance is created with a new `uploadId`.\r\n\r\nIs it possible to complete a multipart upload with a new `uploadId`?","title":"S3AsyncClient resume multipart upload after application restart","body":"<p>I'm using <code>S3AsyncClient</code> client in Java to upload a big file using multipart upload.</p>\n<p>If the application restarts during upload, a new <code>S3AsyncClient</code> instance is created with a new <code>uploadId</code>.</p>\n<p>Is it possible to complete a multipart upload with a new <code>uploadId</code>?</p>\n"},{"tags":["java","dna-sequence","biojava"],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651952810,"creation_date":1651952461,"answer_id":72155869,"question_id":72155659,"body_markdown":"I don&#39;t know if BioJava stores these properties anywhere. But it&#39;s easy to just list all the amino acids with their properties manually. Then iterate over the sequence and count those that satisfy the property. Here&#39;s an example for the polarity:\r\n\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.util.Set;\r\n    \r\n    import org.biojava.nbio.core.sequence.ProteinSequence;\r\n    import org.biojava.nbio.core.sequence.compound.AminoAcidCompound;\r\n    import org.biojava.nbio.core.sequence.io.FastaReaderHelper;\r\n    \r\n    public class BioSeq {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            ProteinSequence seq = loadFromUniprot(&quot;P31574&quot;);\r\n    \r\n            int polarCount = numberOfOccurrences(seq, /*Polar AAs:*/ Set.of(&quot;Y&quot;, &quot;S&quot;, &quot;T&quot;, &quot;N&quot;, &quot;Q&quot;, &quot;C&quot;));\r\n            System.out.println(&quot;% of polar AAs: &quot; + ((double)polarCount)/seq.getLength());\r\n        }\r\n    \r\n        public static ProteinSequence loadFromUniprot(String uniProtId) throws Exception {\r\n            URL uniprotFasta = new URL(String.format(&quot;https://rest.uniprot.org/uniprotkb/%s.fasta&quot;, uniProtId));\r\n            try (InputStream is = uniprotFasta.openStream()) {\r\n                return FastaReaderHelper.readFastaProteinSequence(is).get(uniProtId);\r\n            }\r\n        }\r\n    \r\n        private static int numberOfOccurrences(ProteinSequence seq, Set&lt;String&gt; bases) {\r\n            int count = 0;\r\n            for (AminoAcidCompound aminoAcid : seq)\r\n                if(bases.contains(aminoAcid.getBase()))\r\n                    count++;\r\n            return count;\r\n        }\r\n    }\r\n\r\nPS: don&#39;t forget to close IO streams after you used them. In the example above I used try-with-resources syntax which automatically closes the InputStream.","title":"Calculating physico-chemical properties of amino acids in Biojava","body":"<p>I don't know if BioJava stores these properties anywhere. But it's easy to just list all the amino acids with their properties manually. Then iterate over the sequence and count those that satisfy the property. Here's an example for the polarity:</p>\n<pre><code>import java.io.InputStream;\nimport java.net.URL;\nimport java.util.Set;\n\nimport org.biojava.nbio.core.sequence.ProteinSequence;\nimport org.biojava.nbio.core.sequence.compound.AminoAcidCompound;\nimport org.biojava.nbio.core.sequence.io.FastaReaderHelper;\n\npublic class BioSeq {\n\n    public static void main(String[] args) throws Exception {\n        ProteinSequence seq = loadFromUniprot(&quot;P31574&quot;);\n\n        int polarCount = numberOfOccurrences(seq, /*Polar AAs:*/ Set.of(&quot;Y&quot;, &quot;S&quot;, &quot;T&quot;, &quot;N&quot;, &quot;Q&quot;, &quot;C&quot;));\n        System.out.println(&quot;% of polar AAs: &quot; + ((double)polarCount)/seq.getLength());\n    }\n\n    public static ProteinSequence loadFromUniprot(String uniProtId) throws Exception {\n        URL uniprotFasta = new URL(String.format(&quot;https://rest.uniprot.org/uniprotkb/%s.fasta&quot;, uniProtId));\n        try (InputStream is = uniprotFasta.openStream()) {\n            return FastaReaderHelper.readFastaProteinSequence(is).get(uniProtId);\n        }\n    }\n\n    private static int numberOfOccurrences(ProteinSequence seq, Set&lt;String&gt; bases) {\n        int count = 0;\n        for (AminoAcidCompound aminoAcid : seq)\n            if(bases.contains(aminoAcid.getBase()))\n                count++;\n        return count;\n    }\n}\n</code></pre>\n<p>PS: don't forget to close IO streams after you used them. In the example above I used try-with-resources syntax which automatically closes the InputStream.</p>\n"}],"owner":{"account_id":22926239,"reputation":57,"user_id":17061255,"display_name":"arteagavskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72155869,"answer_count":1,"score":2,"last_activity_date":1651952810,"creation_date":1651950451,"question_id":72155659,"body_markdown":"I need to **calculate the number and percentages of polar/non-polar, aliphatic/aromatic/heterocyclic amino acids in this protein sequence that I got from UNIPROT, using BioJava.**\r\n\r\nI have found in the BioJava tutorial how to read the Fasta files and implemented this code. But I have no ideas how to solve this problem.\r\n\r\nIf you have some ideas please help me. \r\n\r\nMaybe there are some sources where I can check it.\r\n\r\nThis is the code.\r\n\r\n    package biojava.biojava_project;\r\n    \r\n    import java.net.URL;\r\n    \r\n    import org.biojava.nbio.core.sequence.ProteinSequence;\r\n    import org.biojava.nbio.core.sequence.io.FastaReaderHelper;\r\n    \r\n    public class BioSeq {\r\n        // Inserting the sequence from UNIPROT\r\n        public static ProteinSequence getSequenceForId(String uniProtId) throws Exception {\r\n            URL uniprotFasta = new URL(String.format(&quot;https://rest.uniprot.org/uniprotkb/P31574.fasta&quot;, uniProtId));\r\n            ProteinSequence seq = FastaReaderHelper.readFastaProteinSequence(uniprotFasta.openStream()).get(uniProtId);\r\n            System.out.printf(&quot;id : P31574&quot;, uniProtId, seq, System.getProperty(&quot;line.separator&quot;), seq.getOriginalHeader());\r\n            System.out.println();\r\n            return seq;\r\n        }\r\n        public static void main(String[] args) {\r\n            try {\r\n                System.out.println(getSequenceForId(&quot;P31574&quot;));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Calculating physico-chemical properties of amino acids in Biojava","body":"<p>I need to <strong>calculate the number and percentages of polar/non-polar, aliphatic/aromatic/heterocyclic amino acids in this protein sequence that I got from UNIPROT, using BioJava.</strong></p>\n<p>I have found in the BioJava tutorial how to read the Fasta files and implemented this code. But I have no ideas how to solve this problem.</p>\n<p>If you have some ideas please help me.</p>\n<p>Maybe there are some sources where I can check it.</p>\n<p>This is the code.</p>\n<pre><code>package biojava.biojava_project;\n\nimport java.net.URL;\n\nimport org.biojava.nbio.core.sequence.ProteinSequence;\nimport org.biojava.nbio.core.sequence.io.FastaReaderHelper;\n\npublic class BioSeq {\n    // Inserting the sequence from UNIPROT\n    public static ProteinSequence getSequenceForId(String uniProtId) throws Exception {\n        URL uniprotFasta = new URL(String.format(&quot;https://rest.uniprot.org/uniprotkb/P31574.fasta&quot;, uniProtId));\n        ProteinSequence seq = FastaReaderHelper.readFastaProteinSequence(uniprotFasta.openStream()).get(uniProtId);\n        System.out.printf(&quot;id : P31574&quot;, uniProtId, seq, System.getProperty(&quot;line.separator&quot;), seq.getOriginalHeader());\n        System.out.println();\n        return seq;\n    }\n    public static void main(String[] args) {\n        try {\n            System.out.println(getSequenceForId(&quot;P31574&quot;));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","compiler-errors","stream"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651949585,"creation_date":1651948530,"answer_id":72155418,"question_id":72155387,"body_markdown":"In your statement with `Arrays.asList(array)` you&#39;re creating a `List` where each element is an array of int, so when you&#39;re streaming the `List`, the stream expects each element to be `int[]`, not `int`. In your case, the stream only contains the `array` variable. When you&#39;re performing `x -&gt; x % 2 == 0`, you&#39;re not applying it on the array&#39;s elements but on the array itself; thus giving you the error.\r\n\r\nBesides, lambda expressions only allow to use final or effectively final variables, i.e. variables whose value does not change. Your `++j` expression within the stream won&#39;t be accepted either.\r\n\r\nThis is a fixed version of your code:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int[] array = new int[]{5, 3, 1, 8, 0};\r\n\r\n        //Passing to list returned by the stream to a PriorityQueue to store the odd numbers sorted with their natural order.\r\n        //In this way, there is no need to sort the elements within the stream and we can use the queue as an effectively final variable while still polling its elements\r\n        PriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(Arrays.stream(array).filter(x -&gt; x % 2 != 0).boxed().collect(Collectors.toList()));\r\n\r\n        //Declaring and initializing the result array in order to pass it to the toArray method\r\n        Integer[] res = new Integer[0];\r\n\r\n        //For each element of the stream we return the even numbers while we pop the odd sorted numbers from the queue\r\n        res = Arrays.stream(array).boxed().map(x -&gt; x % 2 == 0 ? x : queue.poll()).collect(Collectors.toList()).toArray(res);\r\n\r\n        //Printing the result on screen\r\n        System.out.println(Arrays.toString(res));\r\n    }\r\n}\r\n```","title":"Why I get this error : error: bad operand types for binary operator &#39;%&#39;?","body":"<p>In your statement with <code>Arrays.asList(array)</code> you're creating a <code>List</code> where each element is an array of int, so when you're streaming the <code>List</code>, the stream expects each element to be <code>int[]</code>, not <code>int</code>. In your case, the stream only contains the <code>array</code> variable. When you're performing <code>x -&gt; x % 2 == 0</code>, you're not applying it on the array's elements but on the array itself; thus giving you the error.</p>\n<p>Besides, lambda expressions only allow to use final or effectively final variables, i.e. variables whose value does not change. Your <code>++j</code> expression within the stream won't be accepted either.</p>\n<p>This is a fixed version of your code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int[] array = new int[]{5, 3, 1, 8, 0};\n\n        //Passing to list returned by the stream to a PriorityQueue to store the odd numbers sorted with their natural order.\n        //In this way, there is no need to sort the elements within the stream and we can use the queue as an effectively final variable while still polling its elements\n        PriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(Arrays.stream(array).filter(x -&gt; x % 2 != 0).boxed().collect(Collectors.toList()));\n\n        //Declaring and initializing the result array in order to pass it to the toArray method\n        Integer[] res = new Integer[0];\n\n        //For each element of the stream we return the even numbers while we pop the odd sorted numbers from the queue\n        res = Arrays.stream(array).boxed().map(x -&gt; x % 2 == 0 ? x : queue.poll()).collect(Collectors.toList()).toArray(res);\n\n        //Printing the result on screen\n        System.out.println(Arrays.toString(res));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651952489,"creation_date":1651952131,"answer_id":72155833,"question_id":72155387,"body_markdown":"There are essentially 3 changes you need to make:\r\n\r\n1. Change `Arrays.stream(array)` to `IntStream.of(array)`\r\n2. Change `int j = 0;` to `int[] j = {0};`\r\n3. Change `++j` to `j[0]++`\r\n\r\nThe first change is needed because `Arrays.stream(array)` creates a stream of `int[]` with 1 element, but you want a stream of `int`, so use `IntStream` directly.\r\n\r\nThe second change is more subtle. Because all terms in a lambda must be *effectively final* - ie you can&#39;t change their value - `++j` won&#39;t compile. By making `j` an `int[]` you can change its *contents* without changing the *reference* to `j`.\r\n\r\nThe third change is a logic problem: `++j` (or `++j[0]` in the new version) increments *before* its use and so will cause an out of bounds exception for the final operation.\r\n\r\nYour code fixed:\r\n\r\n    int[] j = {0};\r\n    int[] odds = IntStream.of(array).filter(x -&gt; x%2 != 0).sorted().toArray();\r\n    int [] res = IntStream.of(array).map(x -&gt; x%2 == 0 ? x : odds[j[0]++]).toArray();\r\n\r\nNote that you don&#39;t need to box `int` to `Integer`, and I renamed the cryptic `listInt` to `odds` for readability.\r\n\r\nThe &quot;proper&quot; solution is to change `j` to `AtomicInteger` - similarly the *reference* to `j` won&#39;t change, but its *contents* may change:\r\n\r\n    AtomicInteger j = new AtomicInteger();\r\n    int[] odds = IntStream.of(array).filter(x -&gt; x%2 != 0).sorted().toArray();\r\n    int [] res = IntStream.of(array).map(x -&gt; x%2 == 0 ? x : odds[j.getAndIncrement()]).toArray();\r\n","title":"Why I get this error : error: bad operand types for binary operator &#39;%&#39;?","body":"<p>There are essentially 3 changes you need to make:</p>\n<ol>\n<li>Change <code>Arrays.stream(array)</code> to <code>IntStream.of(array)</code></li>\n<li>Change <code>int j = 0;</code> to <code>int[] j = {0};</code></li>\n<li>Change <code>++j</code> to <code>j[0]++</code></li>\n</ol>\n<p>The first change is needed because <code>Arrays.stream(array)</code> creates a stream of <code>int[]</code> with 1 element, but you want a stream of <code>int</code>, so use <code>IntStream</code> directly.</p>\n<p>The second change is more subtle. Because all terms in a lambda must be <em>effectively final</em> - ie you can't change their value - <code>++j</code> won't compile. By making <code>j</code> an <code>int[]</code> you can change its <em>contents</em> without changing the <em>reference</em> to <code>j</code>.</p>\n<p>The third change is a logic problem: <code>++j</code> (or <code>++j[0]</code> in the new version) increments <em>before</em> its use and so will cause an out of bounds exception for the final operation.</p>\n<p>Your code fixed:</p>\n<pre><code>int[] j = {0};\nint[] odds = IntStream.of(array).filter(x -&gt; x%2 != 0).sorted().toArray();\nint [] res = IntStream.of(array).map(x -&gt; x%2 == 0 ? x : odds[j[0]++]).toArray();\n</code></pre>\n<p>Note that you don't need to box <code>int</code> to <code>Integer</code>, and I renamed the cryptic <code>listInt</code> to <code>odds</code> for readability.</p>\n<p>The &quot;proper&quot; solution is to change <code>j</code> to <code>AtomicInteger</code> - similarly the <em>reference</em> to <code>j</code> won't change, but its <em>contents</em> may change:</p>\n<pre><code>AtomicInteger j = new AtomicInteger();\nint[] odds = IntStream.of(array).filter(x -&gt; x%2 != 0).sorted().toArray();\nint [] res = IntStream.of(array).map(x -&gt; x%2 == 0 ? x : odds[j.getAndIncrement()]).toArray();\n</code></pre>\n"}],"owner":{"account_id":20726694,"reputation":37,"user_id":15219831,"display_name":"Yacine TAZDAIT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1651952805,"creation_date":1651948307,"question_id":72155387,"body_markdown":"I&#39;m currently working on an exercise to sort only the odd element of an array of `int`. The program shouldn&#39;t affect the even elements, For example:\r\n\r\n    [5, 3, 8, 0, 1] --&gt; [1, 3, 8, 0, 5]\r\n\r\nHowever, when I run the following code, the compiler gives the following error:\r\n\r\n    Main.java:21: error: &#39;)&#39; expected\r\n            int [] res = Arrays.asList(array).stream().mapToInt((x[0]) -&gt; x[0]%2 == 0 ? x[0] : listInt.get(++j)).collect(Collectors.toList()).toArray();\r\n                                                                      ^\r\n    Main.java:21: error: not a statement\r\n            int [] res = Arrays.asList(array).stream().mapToInt((x[0]) -&gt; x[0]%2 == 0 ? x[0] : listInt.get(++j)).collect(Collectors.toList()).toArray();\r\n                                                                                      ^\r\n    Main.java:21: error: &#39;;&#39; expected\r\n            int [] res = Arrays.asList(array).stream().mapToInt((x[0]) -&gt; x[0]%2 == 0 ? x[0] : listInt.get(++j)).collect(Collectors.toList()).toArray();\r\n                                                                                                               ^\r\n    3 errors\r\n\r\n\r\nHere&#39;s my code:\r\n\r\n\tpublic static void main(String[] args) {\r\n        int[] array = new int[]{ 5, 3, 1, 8, 0 };\r\n        int j = 0;\r\n        List&lt;Integer&gt; listInt = Arrays.stream(array).filter(x -&gt; x%2 != 0).sorted().boxed().collect(Collectors.toList());\r\n        int [] res = Arrays.asList(array).stream().mapToInt(x -&gt; x%2 == 0 ? x : listInt.get(++j)).collect(Collectors.toList()).toArray();   \r\n\t}\r\n\r\nCould you help me to fix those error?\r\n\r\n","title":"Why I get this error : error: bad operand types for binary operator &#39;%&#39;?","body":"<p>I'm currently working on an exercise to sort only the odd element of an array of <code>int</code>. The program shouldn't affect the even elements, For example:</p>\n<pre><code>[5, 3, 8, 0, 1] --&gt; [1, 3, 8, 0, 5]\n</code></pre>\n<p>However, when I run the following code, the compiler gives the following error:</p>\n<pre><code>Main.java:21: error: ')' expected\n        int [] res = Arrays.asList(array).stream().mapToInt((x[0]) -&gt; x[0]%2 == 0 ? x[0] : listInt.get(++j)).collect(Collectors.toList()).toArray();\n                                                                  ^\nMain.java:21: error: not a statement\n        int [] res = Arrays.asList(array).stream().mapToInt((x[0]) -&gt; x[0]%2 == 0 ? x[0] : listInt.get(++j)).collect(Collectors.toList()).toArray();\n                                                                                  ^\nMain.java:21: error: ';' expected\n        int [] res = Arrays.asList(array).stream().mapToInt((x[0]) -&gt; x[0]%2 == 0 ? x[0] : listInt.get(++j)).collect(Collectors.toList()).toArray();\n                                                                                                           ^\n3 errors\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>public static void main(String[] args) {\n    int[] array = new int[]{ 5, 3, 1, 8, 0 };\n    int j = 0;\n    List&lt;Integer&gt; listInt = Arrays.stream(array).filter(x -&gt; x%2 != 0).sorted().boxed().collect(Collectors.toList());\n    int [] res = Arrays.asList(array).stream().mapToInt(x -&gt; x%2 == 0 ? x : listInt.get(++j)).collect(Collectors.toList()).toArray();   \n}\n</code></pre>\n<p>Could you help me to fix those error?</p>\n"},{"tags":["java","android","selenium","appium-android"],"comments":[{"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"score":0,"creation_date":1645368800,"post_id":71174276,"comment_id":125847703,"body_markdown":"Share some of the code, can&#39;t help without seeing any code","body":"Share some of the code, can&#39;t help without seeing any code"}],"answers":[{"tags":[],"owner":{"account_id":16841582,"reputation":11,"user_id":12176855,"display_name":"Maxim Simonov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649949425,"creation_date":1649949425,"answer_id":71873926,"question_id":71174276,"body_markdown":"So, I&#39;ve found a way to verify it via dumpsys of  systemUIservice. The code looks like this:\r\n\r\n        public static boolean validateAirplaneModeBySystemUIService(DeviceAng deviceAng) throws Exception {\r\n        String systemUIService = &quot;activity service SystemUIService&quot;;\r\n        return deviceAng.getADB().shell().dumpsys().service(systemUIService, &quot;mAirplaneMode=true&quot;).GetBoolean()\r\n                &amp;&amp; deviceAng.getADB().shell().dumpsys().service(systemUIService,\r\n                &quot;icon=StatusBarMobileView(slot=mobile state=MobileIconState&quot;).GetString().contains(&quot;visible=false&quot;)\r\n                &amp;&amp; deviceAng.getADB().shell().dumpsys().service(systemUIService,\r\n                &quot;icon=StatusBarIconView(slot=airplane icon=StatusBarIcon&quot;).GetString().contains(&quot;visible user=0&quot;);\r\n    }","title":"How to verify icon&#39;s presence in statusBar of Android with Selenium?","body":"<p>So, I've found a way to verify it via dumpsys of  systemUIservice. The code looks like this:</p>\n<pre><code>    public static boolean validateAirplaneModeBySystemUIService(DeviceAng deviceAng) throws Exception {\n    String systemUIService = &quot;activity service SystemUIService&quot;;\n    return deviceAng.getADB().shell().dumpsys().service(systemUIService, &quot;mAirplaneMode=true&quot;).GetBoolean()\n            &amp;&amp; deviceAng.getADB().shell().dumpsys().service(systemUIService,\n            &quot;icon=StatusBarMobileView(slot=mobile state=MobileIconState&quot;).GetString().contains(&quot;visible=false&quot;)\n            &amp;&amp; deviceAng.getADB().shell().dumpsys().service(systemUIService,\n            &quot;icon=StatusBarIconView(slot=airplane icon=StatusBarIcon&quot;).GetString().contains(&quot;visible user=0&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":16841582,"reputation":11,"user_id":12176855,"display_name":"Maxim Simonov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651951998,"creation_date":1645190907,"question_id":71174276,"body_markdown":"I need to write code (Java, Selenium) that verifies icon&#39;s presence in Android status bar. For instance, after enabling airplane mode, a plane icon appears. But I can&#39;t figure out how to do this, what selectors should be used? Appium desktop doesn&#39;t seem to work with the status bar and &#39;adb shell dumpsys statusbar&#39; also gives no useful info. I have written verifications of the elements in the notification bar, quick options, etc, but I&#39;m stuck at finding about status bar icons. Please help.","title":"How to verify icon&#39;s presence in statusBar of Android with Selenium?","body":"<p>I need to write code (Java, Selenium) that verifies icon's presence in Android status bar. For instance, after enabling airplane mode, a plane icon appears. But I can't figure out how to do this, what selectors should be used? Appium desktop doesn't seem to work with the status bar and 'adb shell dumpsys statusbar' also gives no useful info. I have written verifications of the elements in the notification bar, quick options, etc, but I'm stuck at finding about status bar icons. Please help.</p>\n"},{"tags":["java","selenium","testing","automation"],"answers":[{"tags":[],"owner":{"account_id":11873984,"reputation":406,"user_id":8689468,"display_name":"Mzia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1510814567,"creation_date":1510814567,"answer_id":47323229,"question_id":47314309,"body_markdown":"Try to add &#39; after class=\r\n\r\n         driver.findElement(By.xpath(&quot;//button[@class=&#39; .btn btn-default primary-bg btn-lg&#39;]&quot;)).click();\r\n\r\n\r\nOr maybe\r\n\r\n\r\n         driver.findElement(By.xpath(&quot;//button[@class=&#39;btn btn-default primary-bg btn-lg&#39;]&quot;)).click();\r\n","title":"Automating a button click issue","body":"<p>Try to add ' after class=</p>\n\n<pre><code>     driver.findElement(By.xpath(\"//button[@class=' .btn btn-default primary-bg btn-lg']\")).click();\n</code></pre>\n\n<p>Or maybe</p>\n\n<pre><code>     driver.findElement(By.xpath(\"//button[@class='btn btn-default primary-bg btn-lg']\")).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11916431,"reputation":584,"user_id":8720211,"display_name":"JanZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510814790,"creation_date":1510814790,"answer_id":47323279,"question_id":47314309,"body_markdown":"If this button is this only one on page with this class:\r\n\r\n    driver.findElement(By.className(&quot;btn-default&quot;)).click();\r\n\r\nIf you have more buttons with same class:\r\n\r\n    List&lt;WebElement&gt; btnList =driver.findElements(By.className(&quot;btn-default&quot;)).click();\r\n    for(WebElement btn : btnList){\r\n      if(btn.getText().equals(&quot;Submit&quot;){\r\n        btn.click();\r\n      }\r\n    }\r\n\r\n\r\n","title":"Automating a button click issue","body":"<p>If this button is this only one on page with this class:</p>\n\n<pre><code>driver.findElement(By.className(\"btn-default\")).click();\n</code></pre>\n\n<p>If you have more buttons with same class:</p>\n\n<pre><code>List&lt;WebElement&gt; btnList =driver.findElements(By.className(\"btn-default\")).click();\nfor(WebElement btn : btnList){\n  if(btn.getText().equals(\"Submit\"){\n    btn.click();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12258546,"reputation":3,"user_id":8946936,"display_name":"stackasker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47323229,"answer_count":2,"score":0,"last_activity_date":1651951967,"creation_date":1510768788,"question_id":47314309,"body_markdown":"I&#39;m having some trouble with automating a button test.\r\nHow can I automate a test with Java&amp;Selenium to auto-click this following button?\r\n\r\n    &lt;button class=&quot;btn btn-default primary-bg btn-lg&quot;&gt;Submit&lt;/button&gt;\r\n\r\nI tried this:\r\n\r\n    driver.findElement(By.xpath(&quot;//button[@class= .btn btn-default primary-bg btn-lg&#39;]&quot;)).click();\r\n\r\nWhat am I doing wrong? What other solutions are there?\r\n","title":"Automating a button click issue","body":"<p>I'm having some trouble with automating a button test.\nHow can I automate a test with Java&amp;Selenium to auto-click this following button?</p>\n<pre><code>&lt;button class=&quot;btn btn-default primary-bg btn-lg&quot;&gt;Submit&lt;/button&gt;\n</code></pre>\n<p>I tried this:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//button[@class= .btn btn-default primary-bg btn-lg']&quot;)).click();\n</code></pre>\n<p>What am I doing wrong? What other solutions are there?</p>\n"},{"tags":["java","2d"],"answers":[{"tags":[],"owner":{"account_id":20499100,"reputation":377,"user_id":15043397,"display_name":"yuri777"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651909731,"creation_date":1651909731,"answer_id":72150515,"question_id":72150421,"body_markdown":"Try this:\r\n\r\n    public void demo() {\r\n        int[][] num = {{0, 30}, {5, 10}, {15, 20}};\r\n\r\n        for(int i=0;i&lt;num.length;i++){\r\n           System.out.println(num[i][1]); \r\n        }\r\n    }","title":"Printing the 2nd values in 2d Array","body":"<p>Try this:</p>\n<pre><code>public void demo() {\n    int[][] num = {{0, 30}, {5, 10}, {15, 20}};\n\n    for(int i=0;i&lt;num.length;i++){\n       System.out.println(num[i][1]); \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5632493,"reputation":905,"user_id":4459027,"accept_rate":86,"display_name":"Sheikh Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72150515,"answer_count":1,"score":1,"last_activity_date":1651951756,"creation_date":1651908697,"question_id":72150421,"body_markdown":"What change do I need to make in the following code\r\n\r\n    public void demo() {\r\n        int[][] num = {{0, 30}, {5, 10}, {15, 20}};\r\n\r\n        for(int i = 0; i &lt; num.length; i++) {\r\n         // System.out.println(num[i][0]); \r\n            for(int j = 0; j &lt; num[i].length; j++) {\r\n                System.out.println(num[j][i]);\r\n            }\r\n        }\r\n    }\r\n\r\nSo that I can get 30,10,20 ?  \r\nI want to find 0,5,15 which `num[i][0]` is doing. I am not sure what change to make just to get the 30,10,20\r\n\r\nI do not want to use `num[i][j]` to get the pair values.","title":"Printing the 2nd values in 2d Array","body":"<p>What change do I need to make in the following code</p>\n<pre><code>public void demo() {\n    int[][] num = {{0, 30}, {5, 10}, {15, 20}};\n\n    for(int i = 0; i &lt; num.length; i++) {\n     // System.out.println(num[i][0]); \n        for(int j = 0; j &lt; num[i].length; j++) {\n            System.out.println(num[j][i]);\n        }\n    }\n}\n</code></pre>\n<p>So that I can get 30,10,20 ?<br />\nI want to find 0,5,15 which <code>num[i][0]</code> is doing. I am not sure what change to make just to get the 30,10,20</p>\n<p>I do not want to use <code>num[i][j]</code> to get the pair values.</p>\n"},{"tags":["java","automated-tests","cucumber","appium"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1567081725,"post_id":57706856,"comment_id":101862463,"body_markdown":"Hooks can either have no arguments or a Scenario object as an argument. The Scenario object is injected by the framework. Store the port and simulator in a properties file.","body":"Hooks can either have no arguments or a Scenario object as an argument. The Scenario object is injected by the framework. Store the port and simulator in a properties file."},{"owner":{"account_id":16596692,"reputation":3,"user_id":11993395,"display_name":"benni"},"score":0,"creation_date":1567086356,"post_id":57706856,"comment_id":101865397,"body_markdown":"Storing port and simulator in a properties file, I would not be able to change their values directly from the TestRunner, would I?","body":"Storing port and simulator in a properties file, I would not be able to change their values directly from the TestRunner, would I?"}],"answers":[{"tags":[],"owner":{"account_id":7452628,"reputation":425,"user_id":5666850,"display_name":"Arun Nair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567131494,"creation_date":1567131494,"answer_id":57719719,"question_id":57706856,"body_markdown":"You can pass from Maven or you can use System properties\r\n\r\n","title":"How do I call a @Before method from my Hooks class, in TestRunner?","body":"<p>You can pass from Maven or you can use System properties</p>\n"}],"owner":{"account_id":16596692,"reputation":3,"user_id":11993395,"display_name":"benni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651951701,"creation_date":1567069934,"question_id":57706856,"body_markdown":"I am setting up an automated framework to run tests on Android emulators, using Appium. I have added logic to launch Appium and the emulator programatically, but would like to be able to edit the &quot;launch settings&quot; from the TestRunner class. \r\n\r\nMy ideal goal is to have everything I need in the TestRunner class, so I can run my tests against a specific port, emulator, and tags.\r\n\r\nBut currently with the method I have now, I am receiving the following error: \r\n\r\n&gt;&gt;&gt;&#39;Message: cucumber.runtime.CucumberException: Hooks must declare 0 or 1 arguments.&#39; \r\n&gt;&gt;&gt;\r\n\r\n```@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-reports&quot;}\r\n        , monochrome = true\r\n        , features = &quot;src/test/java/feature&quot;\r\n        , tags = &quot;@Login&quot;\r\n)\r\n\r\npublic class TestRunner {\r\n\r\n    public void run() throws MalformedURLException, InterruptedException {\r\n        setUpDriver(4723, &quot;Android9&quot;);\r\n    }\r\n}\r\n\r\n_________________________________________________________\r\n\r\npublic class Hooks extends DriverFactory {\r\n\r\n\r\n    static AppiumDriverLocalService service;\r\n\r\n    @Before\r\n    public static void setUpDriver(int port, String simulator) throws InterruptedException {\r\n        service = AppiumDriverLocalService\r\n                .buildService(new AppiumServiceBuilder().usingPort(port)\r\n                        .usingDriverExecutable(new File(&quot;path/to/node/file&quot;))\r\n                        .withAppiumJS(new File(&quot;/path/to/appium/file&quot;)));\r\n        System.out.println(&quot;\\n Appium server: &quot; + service.getUrl());\r\n        service.start();\r\n        Thread.sleep(2000);\r\n\r\n        try {\r\n            setUpMobileDriver(simulator);\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"How do I call a @Before method from my Hooks class, in TestRunner?","body":"<p>I am setting up an automated framework to run tests on Android emulators, using Appium. I have added logic to launch Appium and the emulator programatically, but would like to be able to edit the \"launch settings\" from the TestRunner class. </p>\n\n<p>My ideal goal is to have everything I need in the TestRunner class, so I can run my tests against a specific port, emulator, and tags.</p>\n\n<p>But currently with the method I have now, I am receiving the following error: </p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>'Message: cucumber.runtime.CucumberException: Hooks must declare 0 or 1 arguments.' </p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<pre><code>@CucumberOptions(\n        plugin = {\"pretty\", \"html:target/cucumber-reports\"}\n        , monochrome = true\n        , features = \"src/test/java/feature\"\n        , tags = \"@Login\"\n)\n\npublic class TestRunner {\n\n    public void run() throws MalformedURLException, InterruptedException {\n        setUpDriver(4723, \"Android9\");\n    }\n}\n\n_________________________________________________________\n\npublic class Hooks extends DriverFactory {\n\n\n    static AppiumDriverLocalService service;\n\n    @Before\n    public static void setUpDriver(int port, String simulator) throws InterruptedException {\n        service = AppiumDriverLocalService\n                .buildService(new AppiumServiceBuilder().usingPort(port)\n                        .usingDriverExecutable(new File(\"path/to/node/file\"))\n                        .withAppiumJS(new File(\"/path/to/appium/file\")));\n        System.out.println(\"\\n Appium server: \" + service.getUrl());\n        service.start();\n        Thread.sleep(2000);\n\n        try {\n            setUpMobileDriver(simulator);\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1651951556,"creation_date":1651951556,"answer_id":72155775,"question_id":72152105,"body_markdown":"This should be\r\n\r\n\tpublic class Interceptor implements HandlerInterceptor {\r\n\r\n\t  @Override\r\n\t  public boolean preHandle(HttpServletRequest request, HttpServletResponse response,\r\n\t\t  Object handler) throws Exception {\r\n\t\t......................\r\n\t\treturn true;\r\n\t  }\r\n\t}\r\n\t\r\nNotice that the method returns a boolean value. It tells Spring to further process the request (true) or not (false).\r\n\r\nThe default implementation of `preHandle()` in `HandlerInterceptor` just returns `true` ( https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html#preHandle-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-java.lang.Object- )","title":"Migrate HandlerInterceptor to Spring boot 2.6","body":"<p>This should be</p>\n<pre><code>public class Interceptor implements HandlerInterceptor {\n\n  @Override\n  public boolean preHandle(HttpServletRequest request, HttpServletResponse response,\n      Object handler) throws Exception {\n    ......................\n    return true;\n  }\n}\n</code></pre>\n<p>Notice that the method returns a boolean value. It tells Spring to further process the request (true) or not (false).</p>\n<p>The default implementation of <code>preHandle()</code> in <code>HandlerInterceptor</code> just returns <code>true</code> ( <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html#preHandle-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-java.lang.Object-\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html#preHandle-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-java.lang.Object-</a> )</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1801,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72155775,"answer_count":1,"score":4,"last_activity_date":1651951556,"creation_date":1651923465,"question_id":72152105,"body_markdown":"I have this old code implemented for Spring 2.4\r\n\r\n    public class Interceptor extends HandlerInterceptorAdapter {\r\n    \r\n      @Override\r\n      public boolean preHandle(HttpServletRequest request, HttpServletResponse response,\r\n          Object handler) throws Exception {\r\n        ........\r\n        return super.preHandle(request, response, handler);\r\n      }\r\n    }\r\n\r\nI migrated the code to Spring 2.6:\r\n\r\n    public class Interceptor implements HandlerInterceptor {\r\n    \r\n      @Override\r\n      public boolean preHandle(HttpServletRequest request, HttpServletResponse response,\r\n          Object handler) throws Exception {\r\n        ......................\r\n        return HandlerInterceptor.super.preHandle(request, response, handler);\r\n      }\r\n    }\r\n\r\nI got `Cannot resolve method &#39;preHandle&#39; in &#39;Object&#39;` so I change the code to `HandlerInterceptor.super.preHandle(request, response, handler);`\r\n\r\nIs it correct to edit the code this way: `HandlerInterceptor.super.preHandle(request, response, handler);` or this should be edited another way?\r\n\r\n\r\n","title":"Migrate HandlerInterceptor to Spring boot 2.6","body":"<p>I have this old code implemented for Spring 2.4</p>\n<pre><code>public class Interceptor extends HandlerInterceptorAdapter {\n\n  @Override\n  public boolean preHandle(HttpServletRequest request, HttpServletResponse response,\n      Object handler) throws Exception {\n    ........\n    return super.preHandle(request, response, handler);\n  }\n}\n</code></pre>\n<p>I migrated the code to Spring 2.6:</p>\n<pre><code>public class Interceptor implements HandlerInterceptor {\n\n  @Override\n  public boolean preHandle(HttpServletRequest request, HttpServletResponse response,\n      Object handler) throws Exception {\n    ......................\n    return HandlerInterceptor.super.preHandle(request, response, handler);\n  }\n}\n</code></pre>\n<p>I got <code>Cannot resolve method 'preHandle' in 'Object'</code> so I change the code to <code>HandlerInterceptor.super.preHandle(request, response, handler);</code></p>\n<p>Is it correct to edit the code this way: <code>HandlerInterceptor.super.preHandle(request, response, handler);</code> or this should be edited another way?</p>\n"},{"tags":["java","javafx","server","controller","client"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1651959955,"post_id":72155253,"comment_id":127491298,"body_markdown":"[mcve] please.. mind the __M__!","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.. mind the <b>M</b>!"}],"owner":{"account_id":25197626,"reputation":5,"user_id":19036933,"display_name":"Alabama92"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651951205,"creation_date":1651947150,"question_id":72155253,"body_markdown":"I built myself a small multithread Server and have to run it over different ports on my local Host.\r\nBasically I start the Application over &quot;AddMovieApplication&quot;, &quot;AddMovieManually&quot; is the Controller here. I Start my Server and my Client, which connects to the server on a onetime port for a stable connection. I somehow need to tell the controller now over which Socket it has to send the data for every new client. Is there a way to pass the client to the controller so that the Application knows the socket?\r\n\r\nController\r\n```\r\npackage com.controller;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.model.Movie;\r\nimport com.model.MyClient;\r\nimport com.view.AddMovieApplication;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.TextField;\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.ResourceBundle;\r\n\r\nimport com.controller.SceneController;\r\n\r\npublic class AddMovieManually extends SceneController{\r\n\r\n    MyClient client = new MyClient();\r\n    @FXML\r\n    public TextField textTitle;\r\n    @FXML\r\n    public TextField textGenre;\r\n    @FXML\r\n    public TextField textPosterSrc;\r\n    @FXML\r\n    public TextField textReleaseDate;\r\n    @FXML\r\n    public TextField textMovieLength;\r\n    @FXML\r\n    public TextField textRegisseur;\r\n    @FXML\r\n    public TextField textAuthor;\r\n    @FXML\r\n    public TextField textCast;\r\n\r\n    ArrayList&lt;String&gt; genreList = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; authorList = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; castList = new ArrayList&lt;&gt;();\r\n\r\n    public AddMovieManually() throws IOException {\r\n    }\r\n\r\n    @FXML\r\n    public void genreAdd(){\r\n        genreList.add(textGenre.getText());\r\n        textGenre.clear();\r\n    }\r\n    @FXML\r\n    public void authorAdd(){\r\n        authorList.add(textAuthor.getText());\r\n        textAuthor.clear();\r\n    }\r\n    @FXML\r\n    public void castAdd(){\r\n        castList.add(textCast.getText());\r\n        textCast.clear();\r\n    }\r\n\r\n    @FXML\r\n    //Checks if the Film already exists, if not, create a new movie Object using the Parameter\r\n    //given from the Textfields and pushes it into the Database. If it already exists take the\r\n    //Movie Object off the database, change the variables and pushes it back in.\r\n    public boolean save()  {\r\n        String title = textTitle.getText();\r\n\r\n        String posterSrc = textPosterSrc.getText();\r\n        int releaseDate = Integer.parseInt(textReleaseDate.getText());\r\n        int movieLength = Integer.parseInt(textMovieLength.getText());\r\n        String regisseur = textRegisseur.getText();\r\n        ArrayList&lt;String&gt; genre = this.genreList;\r\n        ArrayList&lt;String&gt; author = this.authorList;\r\n        ArrayList&lt;String&gt; cast = this.castList;\r\n\r\n\r\n        Movie movie = new Movie(title,posterSrc,releaseDate,movieLength,regisseur,genreList,authorList,castList);\r\n        System.out.println(movie.toString());\r\n        try {\r\n            String jsonMovie = new ObjectMapper().writeValueAsString(movie);\r\n            PrintWriter pw = new PrintWriter(new OutputStreamWriter(this.client.getClientSocket().getOutputStream()));\r\n            pw.println(jsonMovie);\r\n            pw.flush();\r\n            pw.close();\r\n        }catch(Exception e){\r\n            System.out.println(&quot;Sending Movie to Server failed ...&quot;);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n    @FXML\r\n    //Goes back to the last page without doing anything\r\n    public void abort(){\r\n        switchToSceneWithStage(&quot;Login.fxml&quot;);\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\nApplication\r\n```\r\npublic class AddMovieApplication extends Application {\r\n\r\n\r\n\r\n    public void start(Stage stage) throws Exception {\r\n        Scene newScene = new Scene(FXMLLoader.load(getClass().getResource(&quot;/addFilmGUI.fxml&quot;)));\r\n        //FXMLLoader fxmlLoader = new FXMLLoader(addMovieApplication.class.getResource(&quot;addFilmGUI.fxml&quot;));\r\n        //Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setTitle(&quot;Here you can manually put in movies&quot;);\r\n        stage.setScene(newScene);\r\n        stage.show();\r\n\r\n\r\n    }\r\n    public static void main() {launch();}\r\n}\r\n```\r\nThe Client I want to start the Application when it connects\r\n```\r\npackage com.model;\r\n\r\nimport java.io.*;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\n\r\nimport com.controller.AddMovieManually;\r\nimport com.view.AddMovieApplication;\r\nimport com.view.MainAppGUI;\r\n\r\n\r\n\r\npublic class MyClient {\r\n    public MyClient() throws IOException  {\r\n        /* for the Login we create a client which requests a connection over port 4 and gets a new\r\n        port for usage from the Server afterwards since we don&#39;t have a switch for our Project.*/\r\n        Socket requestSocket = new Socket(&quot;localhost&quot;, 4999);\r\n        Scanner scanner = new Scanner(new BufferedReader(new InputStreamReader(requestSocket.getInputStream())));\r\n        int portForConnection = scanner.nextInt();\r\n        System.out.println(&quot;Connected to Server over port : &quot; + portForConnection);\r\n        scanner.close();\r\n        this.clientSocket = new Socket(&quot;localhost&quot;, portForConnection);\r\n        this.printwriter = new PrintWriter(new OutputStreamWriter(new BufferedOutputStream(clientSocket.getOutputStream())));\r\n        this.scanner = new Scanner(new BufferedReader(new InputStreamReader(clientSocket.getInputStream())));\r\n    }\r\n\r\n\r\n\r\n    private Socket clientSocket = null;\r\n    final PrintWriter printwriter;\r\n    final Scanner scanner;\r\n    private User user;\r\n\r\n    public Socket getClientSocket() { return this.clientSocket; }\r\n    public User getUser() { return this.user; }\r\n    public void setUser(User user) { this.user = user; }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        MyClient client = new MyClient();\r\n        AddMovieApplication.main();\r\n        //AddMovieManually add = new AddMovieManually(client.getClientSocket());\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\nI also give you the code for the Server just in case\r\n```\r\npackage com.model;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.io.*;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\npublic class myServer {\r\n\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n\r\n\r\n        int requestPort = 4999;\r\n        int newClientPort = 5001;\r\n\r\n\r\n\r\n        while (true) {\r\n\r\n            ServerSocket serverSocket = new ServerSocket(requestPort);\r\n            /*Create a temporary connection on our request port 10 to send\r\n              a port for stable connection to every Client */\r\n\r\n            System.out.println(&quot;Waiting for Client ...&quot;);\r\n            Socket clientSocketTemp = serverSocket.accept();\r\n\r\n            PrintWriter pw = new PrintWriter(new OutputStreamWriter(clientSocketTemp.getOutputStream()));\r\n            pw.println(newClientPort);\r\n            pw.flush();\r\n            serverSocket.close();\r\n            ServerSocket stableConnectedServerSocket = new ServerSocket(newClientPort);\r\n            Socket stableConnectionSocket = stableConnectedServerSocket.accept();\r\n            pw.close();\r\n\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    System.out.println(&quot;[Server] : waiting for input ...&quot;);\r\n                    while(stableConnectionSocket.isConnected()) {\r\n\r\n\r\n\r\n                        try {\r\n\r\n                            ObjectMapper om = new ObjectMapper();\r\n                            Scanner scanner = new Scanner(new BufferedReader(new InputStreamReader(stableConnectionSocket.getInputStream())));\r\n                            PrintWriter pw = new PrintWriter(new OutputStreamWriter(stableConnectionSocket.getOutputStream()));\r\n\r\n\r\n\r\n\r\n                            if (scanner.hasNextLine()) {\r\n                                String inputString = scanner.nextLine();\r\n                                System.out.println(inputString);\r\n                            }\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                            System.out.println(&quot;create Streams failed&quot;);\r\n                            throw new RuntimeException(e);\r\n                        }\r\n\r\n                    }\r\n\r\n\r\n                }\r\n            }).start();\r\n\r\n            newClientPort++;\r\n        }\r\n\r\n    }\r\n    public static void sendJsonToClient(Scanner input ,PrintWriter output,String userJson){\r\n        output.println(userJson);\r\n        output.flush();\r\n    }\r\n    public static void sendJsonToDatabase(String userJson, int databasePort) throws IOException {\r\n        Socket databaseSocket = new Socket(&quot;localhost&quot;,databasePort);\r\n        PrintWriter output = new PrintWriter(new OutputStreamWriter(databaseSocket.getOutputStream()));\r\n        output.println(userJson);\r\n        output.flush();\r\n        output.close();\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```","title":"Pass an Object from a javaFX application to the Controller to have multiple threads with the controller","body":"<p>I built myself a small multithread Server and have to run it over different ports on my local Host.\nBasically I start the Application over &quot;AddMovieApplication&quot;, &quot;AddMovieManually&quot; is the Controller here. I Start my Server and my Client, which connects to the server on a onetime port for a stable connection. I somehow need to tell the controller now over which Socket it has to send the data for every new client. Is there a way to pass the client to the controller so that the Application knows the socket?</p>\n<p>Controller</p>\n<pre><code>package com.controller;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.model.Movie;\nimport com.model.MyClient;\nimport com.view.AddMovieApplication;\nimport javafx.application.Application;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.TextField;\n\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.ResourceBundle;\n\nimport com.controller.SceneController;\n\npublic class AddMovieManually extends SceneController{\n\n    MyClient client = new MyClient();\n    @FXML\n    public TextField textTitle;\n    @FXML\n    public TextField textGenre;\n    @FXML\n    public TextField textPosterSrc;\n    @FXML\n    public TextField textReleaseDate;\n    @FXML\n    public TextField textMovieLength;\n    @FXML\n    public TextField textRegisseur;\n    @FXML\n    public TextField textAuthor;\n    @FXML\n    public TextField textCast;\n\n    ArrayList&lt;String&gt; genreList = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; authorList = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; castList = new ArrayList&lt;&gt;();\n\n    public AddMovieManually() throws IOException {\n    }\n\n    @FXML\n    public void genreAdd(){\n        genreList.add(textGenre.getText());\n        textGenre.clear();\n    }\n    @FXML\n    public void authorAdd(){\n        authorList.add(textAuthor.getText());\n        textAuthor.clear();\n    }\n    @FXML\n    public void castAdd(){\n        castList.add(textCast.getText());\n        textCast.clear();\n    }\n\n    @FXML\n    //Checks if the Film already exists, if not, create a new movie Object using the Parameter\n    //given from the Textfields and pushes it into the Database. If it already exists take the\n    //Movie Object off the database, change the variables and pushes it back in.\n    public boolean save()  {\n        String title = textTitle.getText();\n\n        String posterSrc = textPosterSrc.getText();\n        int releaseDate = Integer.parseInt(textReleaseDate.getText());\n        int movieLength = Integer.parseInt(textMovieLength.getText());\n        String regisseur = textRegisseur.getText();\n        ArrayList&lt;String&gt; genre = this.genreList;\n        ArrayList&lt;String&gt; author = this.authorList;\n        ArrayList&lt;String&gt; cast = this.castList;\n\n\n        Movie movie = new Movie(title,posterSrc,releaseDate,movieLength,regisseur,genreList,authorList,castList);\n        System.out.println(movie.toString());\n        try {\n            String jsonMovie = new ObjectMapper().writeValueAsString(movie);\n            PrintWriter pw = new PrintWriter(new OutputStreamWriter(this.client.getClientSocket().getOutputStream()));\n            pw.println(jsonMovie);\n            pw.flush();\n            pw.close();\n        }catch(Exception e){\n            System.out.println(&quot;Sending Movie to Server failed ...&quot;);\n            return false;\n        }\n\n        return true;\n    }\n    @FXML\n    //Goes back to the last page without doing anything\n    public void abort(){\n        switchToSceneWithStage(&quot;Login.fxml&quot;);\n    }\n\n\n\n}\n</code></pre>\n<p>Application</p>\n<pre><code>public class AddMovieApplication extends Application {\n\n\n\n    public void start(Stage stage) throws Exception {\n        Scene newScene = new Scene(FXMLLoader.load(getClass().getResource(&quot;/addFilmGUI.fxml&quot;)));\n        //FXMLLoader fxmlLoader = new FXMLLoader(addMovieApplication.class.getResource(&quot;addFilmGUI.fxml&quot;));\n        //Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Here you can manually put in movies&quot;);\n        stage.setScene(newScene);\n        stage.show();\n\n\n    }\n    public static void main() {launch();}\n}\n</code></pre>\n<p>The Client I want to start the Application when it connects</p>\n<pre><code>package com.model;\n\nimport java.io.*;\nimport java.net.Socket;\nimport java.util.Scanner;\n\n\nimport com.controller.AddMovieManually;\nimport com.view.AddMovieApplication;\nimport com.view.MainAppGUI;\n\n\n\npublic class MyClient {\n    public MyClient() throws IOException  {\n        /* for the Login we create a client which requests a connection over port 4 and gets a new\n        port for usage from the Server afterwards since we don't have a switch for our Project.*/\n        Socket requestSocket = new Socket(&quot;localhost&quot;, 4999);\n        Scanner scanner = new Scanner(new BufferedReader(new InputStreamReader(requestSocket.getInputStream())));\n        int portForConnection = scanner.nextInt();\n        System.out.println(&quot;Connected to Server over port : &quot; + portForConnection);\n        scanner.close();\n        this.clientSocket = new Socket(&quot;localhost&quot;, portForConnection);\n        this.printwriter = new PrintWriter(new OutputStreamWriter(new BufferedOutputStream(clientSocket.getOutputStream())));\n        this.scanner = new Scanner(new BufferedReader(new InputStreamReader(clientSocket.getInputStream())));\n    }\n\n\n\n    private Socket clientSocket = null;\n    final PrintWriter printwriter;\n    final Scanner scanner;\n    private User user;\n\n    public Socket getClientSocket() { return this.clientSocket; }\n    public User getUser() { return this.user; }\n    public void setUser(User user) { this.user = user; }\n\n\n\n\n\n\n\n\n\n\n    public static void main(String[] args) throws IOException {\n        MyClient client = new MyClient();\n        AddMovieApplication.main();\n        //AddMovieManually add = new AddMovieManually(client.getClientSocket());\n\n    }\n\n\n}\n</code></pre>\n<p>I also give you the code for the Server just in case</p>\n<pre><code>package com.model;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.*;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic class myServer {\n\n\n\n    public static void main(String[] args) throws IOException {\n\n\n\n        int requestPort = 4999;\n        int newClientPort = 5001;\n\n\n\n        while (true) {\n\n            ServerSocket serverSocket = new ServerSocket(requestPort);\n            /*Create a temporary connection on our request port 10 to send\n              a port for stable connection to every Client */\n\n            System.out.println(&quot;Waiting for Client ...&quot;);\n            Socket clientSocketTemp = serverSocket.accept();\n\n            PrintWriter pw = new PrintWriter(new OutputStreamWriter(clientSocketTemp.getOutputStream()));\n            pw.println(newClientPort);\n            pw.flush();\n            serverSocket.close();\n            ServerSocket stableConnectedServerSocket = new ServerSocket(newClientPort);\n            Socket stableConnectionSocket = stableConnectedServerSocket.accept();\n            pw.close();\n\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    System.out.println(&quot;[Server] : waiting for input ...&quot;);\n                    while(stableConnectionSocket.isConnected()) {\n\n\n\n                        try {\n\n                            ObjectMapper om = new ObjectMapper();\n                            Scanner scanner = new Scanner(new BufferedReader(new InputStreamReader(stableConnectionSocket.getInputStream())));\n                            PrintWriter pw = new PrintWriter(new OutputStreamWriter(stableConnectionSocket.getOutputStream()));\n\n\n\n\n                            if (scanner.hasNextLine()) {\n                                String inputString = scanner.nextLine();\n                                System.out.println(inputString);\n                            }\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                            System.out.println(&quot;create Streams failed&quot;);\n                            throw new RuntimeException(e);\n                        }\n\n                    }\n\n\n                }\n            }).start();\n\n            newClientPort++;\n        }\n\n    }\n    public static void sendJsonToClient(Scanner input ,PrintWriter output,String userJson){\n        output.println(userJson);\n        output.flush();\n    }\n    public static void sendJsonToDatabase(String userJson, int databasePort) throws IOException {\n        Socket databaseSocket = new Socket(&quot;localhost&quot;,databasePort);\n        PrintWriter output = new PrintWriter(new OutputStreamWriter(databaseSocket.getOutputStream()));\n        output.println(userJson);\n        output.flush();\n        output.close();\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","terminal","antlr4"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1651949965,"post_id":72155515,"comment_id":127489529,"body_markdown":"_&quot;why terminal inside Intellij Idea can not run the same command as default system terminal?&quot;_ - Because it doesn&#39;t have the same classpath?","body":"<i>&quot;why terminal inside Intellij Idea can not run the same command as default system terminal?&quot;</i> - Because it doesn&#39;t have the same classpath?"},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":1,"creation_date":1651954941,"post_id":72155515,"comment_id":127490432,"body_markdown":"Try using the &quot;-jar &lt;full-path-to-antl4-complete.jar&gt;&quot;.","body":"Try using the &quot;-jar &lt;full-path-to-antl4-complete.jar&gt;&quot;."},{"owner":{"account_id":2700750,"reputation":688,"user_id":2331527,"display_name":"floating cat"},"score":0,"creation_date":1652094246,"post_id":72155515,"comment_id":127514637,"body_markdown":"Your Terminal might configure the `CLASSPATH` environment variable but this environment variable doesn&#39;t exist in the environment that the IDEA tries to run your makefile for some reason. Try using the IDE main menu `Run | Edit Configuration`, find your makefile configuration, configure a `CLASSPATH` environment variable there. Or make sure that you have configured the `CLASSPATH` in a shell initialization script  (not just `export` it temporarily in the Terminal) and restart the IDE to let it load this environment variable to see if it helps.","body":"Your Terminal might configure the <code>CLASSPATH</code> environment variable but this environment variable doesn&#39;t exist in the environment that the IDEA tries to run your makefile for some reason. Try using the IDE main menu <code>Run | Edit Configuration</code>, find your makefile configuration, configure a <code>CLASSPATH</code> environment variable there. Or make sure that you have configured the <code>CLASSPATH</code> in a shell initialization script  (not just <code>export</code> it temporarily in the Terminal) and restart the IDE to let it load this environment variable to see if it helps."}],"owner":{"account_id":17744513,"reputation":31,"user_id":12884078,"display_name":"Dablup"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651950635,"creation_date":1651949314,"question_id":72155515,"body_markdown":"I am trying to use ANTLR in my project, I have Makefile that contains such lines: \r\n\r\n```\r\nJAVAC=javac\r\nJAVAC_FLAGS=-sourcepath .\r\nJAVA=java\r\nJAVA_FLAGS=\r\nPARSER=${JAVA} ${JAVA_FLAGS} org.antlr.v4.Tool\r\nPARSER_FLAGS=-lib Syntax/normal -package Syntax.normal\r\nLEXER=${JAVA} ${JAVA_FLAGS} org.antlr.v4.Tool\r\nLEXER_FLAGS=-lib Syntax/normal -package Syntax.normal\r\nall : test\r\n\r\nSyntax/normal/normalLexer.java : Syntax/normal/normalLexer.g4\r\n\t${LEXER} ${LEXER_FLAGS} Syntax/normal/normalLexer.g4\r\n```\r\n\r\nThe last line converts to the:\r\n\r\n`java  org.antlr.v4.Tool -lib Syntax/normal -package Syntax.normal Syntax/normal/normalLexer.g4\r\n`\r\n\r\nWhen I run Makefile from the **Intellij Idea** then this java call gives error:\r\n\r\n```\r\nError: Could not find or load main class org.antlr.v4.Tool\r\nCaused by: java.lang.ClassNotFoundException: org.antlr.v4.Tool\r\n```\r\n\r\nBut in the same time, when I use default terminal to run this command, it executes perfectly:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CU4L7.png\r\n\r\n\r\nAlso if I use default system terminal to run `make` command, it runs without errors. But inside Inteliji Idea&#39;s terminal it gives me error.\r\n\r\nThe main question is: why terminal inside Intellij Idea can not run the same command as default system terminal? ","title":"Can&#39;t run org.antlr.v4.Tool from terminal inside Intellij Idea","body":"<p>I am trying to use ANTLR in my project, I have Makefile that contains such lines:</p>\n<pre><code>JAVAC=javac\nJAVAC_FLAGS=-sourcepath .\nJAVA=java\nJAVA_FLAGS=\nPARSER=${JAVA} ${JAVA_FLAGS} org.antlr.v4.Tool\nPARSER_FLAGS=-lib Syntax/normal -package Syntax.normal\nLEXER=${JAVA} ${JAVA_FLAGS} org.antlr.v4.Tool\nLEXER_FLAGS=-lib Syntax/normal -package Syntax.normal\nall : test\n\nSyntax/normal/normalLexer.java : Syntax/normal/normalLexer.g4\n    ${LEXER} ${LEXER_FLAGS} Syntax/normal/normalLexer.g4\n</code></pre>\n<p>The last line converts to the:</p>\n<p><code>java  org.antlr.v4.Tool -lib Syntax/normal -package Syntax.normal Syntax/normal/normalLexer.g4 </code></p>\n<p>When I run Makefile from the <strong>Intellij Idea</strong> then this java call gives error:</p>\n<pre><code>Error: Could not find or load main class org.antlr.v4.Tool\nCaused by: java.lang.ClassNotFoundException: org.antlr.v4.Tool\n</code></pre>\n<p>But in the same time, when I use default terminal to run this command, it executes perfectly:</p>\n<p><a href=\"https://i.stack.imgur.com/CU4L7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CU4L7.png\" alt=\"enter image description here\" /></a></p>\n<p>Also if I use default system terminal to run <code>make</code> command, it runs without errors. But inside Inteliji Idea's terminal it gives me error.</p>\n<p>The main question is: why terminal inside Intellij Idea can not run the same command as default system terminal?</p>\n"},{"tags":["java","android","android-studio","drawing","pascals-triangle"],"owner":{"account_id":23801088,"reputation":11,"user_id":17811283,"display_name":"ApeSander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651950600,"creation_date":1651950600,"question_id":72155680,"body_markdown":"im new to app development and im working on my first android app and its gonna be a small app that will generate pascal&#39;s triangle [(Wikipedia page)](https://en.wikipedia.org/wiki/Pascal%27s_triangle). It generates an ArrayList of BigInteger arrays and i wanna show that as a triangle. How can i draw these rectangles?\r\n\r\nthis is an example of how the arraylist looks like:\r\n\r\n    [1]\r\n    [1, 1]\r\n    [1, 2, 1]\r\n    [1, 3, 3, 1]\r\n    [1, 4, 6, 4, 1]\r\n    [1, 5, 10, 10, 5, 1]\r\n    [1, 6, 15, 20, 15, 6, 1]\r\n    [1, 7, 21, 35, 35, 21, 7, 1]\r\n    [1, 8, 28, 56, 70, 56, 28, 8, 1]\r\n    [1, 9, 36, 84, 126, 126, 84, 36, 9, 1]\r\n    [1, 10, 45, 120, 210, 252, 210, 120, 45, 10, 1]\r\n    [1, 11, 55, 165, 330, 462, 462, 330, 165, 55, 11, 1]\r\n    [1, 12, 66, 220, 495, 792, 924, 792, 495, 220, 66, 12, 1]\r\n    [1, 13, 78, 286, 715, 1287, 1716, 1716, 1287, 715, 286, 78, 13, 1]\r\n    [1, 14, 91, 364, 1001, 2002, 3003, 3432, 3003, 2002, 1001, 364, 91, 14, 1]\r\n\r\nand this is an example of pascal&#39;s triangle:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/011VX.png","title":"Android studio drawing rectangle","body":"<p>im new to app development and im working on my first android app and its gonna be a small app that will generate pascal's triangle <a href=\"https://en.wikipedia.org/wiki/Pascal%27s_triangle\" rel=\"nofollow noreferrer\">(Wikipedia page)</a>. It generates an ArrayList of BigInteger arrays and i wanna show that as a triangle. How can i draw these rectangles?</p>\n<p>this is an example of how the arraylist looks like:</p>\n<pre><code>[1]\n[1, 1]\n[1, 2, 1]\n[1, 3, 3, 1]\n[1, 4, 6, 4, 1]\n[1, 5, 10, 10, 5, 1]\n[1, 6, 15, 20, 15, 6, 1]\n[1, 7, 21, 35, 35, 21, 7, 1]\n[1, 8, 28, 56, 70, 56, 28, 8, 1]\n[1, 9, 36, 84, 126, 126, 84, 36, 9, 1]\n[1, 10, 45, 120, 210, 252, 210, 120, 45, 10, 1]\n[1, 11, 55, 165, 330, 462, 462, 330, 165, 55, 11, 1]\n[1, 12, 66, 220, 495, 792, 924, 792, 495, 220, 66, 12, 1]\n[1, 13, 78, 286, 715, 1287, 1716, 1716, 1287, 715, 286, 78, 13, 1]\n[1, 14, 91, 364, 1001, 2002, 3003, 3432, 3003, 2002, 1001, 364, 91, 14, 1]\n</code></pre>\n<p>and this is an example of pascal's triangle:\n<a href=\"https://i.stack.imgur.com/011VX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/011VX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","windows","if-statement","logic"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1651949143,"post_id":72155116,"comment_id":127489347,"body_markdown":"Welcome to Stack Overflow.\nSorry, but this site is not a discussion forum or programming tutorial site.\nPlease take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively. \nAlso read \n[Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236/18157)","body":"Welcome to Stack Overflow. Sorry, but this site is not a discussion forum or programming tutorial site. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively.  Also read  <a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is “Can someone help me?” not an actual question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651949372,"creation_date":1651949372,"answer_id":72155523,"question_id":72155116,"body_markdown":"variable board is string array so logic replace 1,2,3,.. and other numbers to X or O here:\r\n&#39;board[numInput - 1] = turn;&#39;\r\n\r\nfirst player is always &#39;X&#39; after his first turn:\r\n&#39;if (turn.equals(&quot;X&quot;)) {&#39; -&gt; change player to &#39;O&#39;\r\nand after second player turn it back to &#39;X&#39; and so on","title":"Logic behind the turn of player in Tic tac toe java","body":"<p>variable board is string array so logic replace 1,2,3,.. and other numbers to X or O here:\n'board[numInput - 1] = turn;'</p>\n<p>first player is always 'X' after his first turn:\n'if (turn.equals(&quot;X&quot;)) {' -&gt; change player to 'O'\nand after second player turn it back to 'X' and so on</p>\n"}],"owner":{"account_id":21395603,"reputation":1,"user_id":15758709,"display_name":"CO - 175 SHUBHAM MOURYA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1651949372,"creation_date":1651946036,"question_id":72155116,"body_markdown":"I cannot understand logic behind deciding the turn. and also how the integer value is replaced by the character.\r\n\r\nthe source code of the program is from [full code][1]\r\n\r\n        // This game has two player x and O.\r\n        // Here is the logic to decide the turn.\r\n        if (board[numInput - 1].equals(\r\n                String.valueOf(numInput))) {\r\n            board[numInput - 1] = turn;\r\n\r\n            if (turn.equals(&quot;X&quot;)) {\r\n                turn = &quot;O&quot;;\r\n            } else {\r\n                turn = &quot;X&quot;;\r\n            }\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/tic-tac-toe-game-in-java/","title":"Logic behind the turn of player in Tic tac toe java","body":"<p>I cannot understand logic behind deciding the turn. and also how the integer value is replaced by the character.</p>\n<p>the source code of the program is from <a href=\"https://www.geeksforgeeks.org/tic-tac-toe-game-in-java/\" rel=\"nofollow noreferrer\">full code</a></p>\n<pre><code>    // This game has two player x and O.\n    // Here is the logic to decide the turn.\n    if (board[numInput - 1].equals(\n            String.valueOf(numInput))) {\n        board[numInput - 1] = turn;\n\n        if (turn.equals(&quot;X&quot;)) {\n            turn = &quot;O&quot;;\n        } else {\n            turn = &quot;X&quot;;\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","spring-data"],"comments":[{"owner":{"display_name":"user14687465"},"score":2,"creation_date":1651940552,"post_id":72154300,"comment_id":127487472,"body_markdown":"There is no such method getIngredients() provided by CrudRepository.","body":"There is no such method getIngredients() provided by CrudRepository."},{"owner":{"account_id":14113455,"reputation":210,"user_id":10195722,"display_name":"GenZ Dev"},"score":0,"creation_date":1651943532,"post_id":72154300,"comment_id":127488180,"body_markdown":"Silly me. I replaced the method with findAll() and it worked. This is a good point for me to note","body":"Silly me. I replaced the method with findAll() and it worked. This is a good point for me to note"}],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651949193,"creation_date":1651949193,"answer_id":72155499,"question_id":72154300,"body_markdown":"Just remove the method `getIngredients()` and use `findAll()` (provided by the super interface) instead.\r\n\r\nYou should also remove the other methods, because they are already provided by the super interface\r\n\r\n- `save()` &lt;- provided by `CrudRepository`\r\n- `getById()` &lt;- `CrudRepository` provide `Optional&lt;T&gt; findById(ID id);`\r\n- `getIngredients` &lt;- `CrudRepository` provide `Iterable&lt;T&gt; findAll();`","title":"Spring Data JDBC: No such property found for type","body":"<p>Just remove the method <code>getIngredients()</code> and use <code>findAll()</code> (provided by the super interface) instead.</p>\n<p>You should also remove the other methods, because they are already provided by the super interface</p>\n<ul>\n<li><code>save()</code> &lt;- provided by <code>CrudRepository</code></li>\n<li><code>getById()</code> &lt;- <code>CrudRepository</code> provide <code>Optional&lt;T&gt; findById(ID id);</code></li>\n<li><code>getIngredients</code> &lt;- <code>CrudRepository</code> provide <code>Iterable&lt;T&gt; findAll();</code></li>\n</ul>\n"}],"owner":{"account_id":14113455,"reputation":210,"user_id":10195722,"display_name":"GenZ Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72155499,"answer_count":1,"score":0,"last_activity_date":1651949193,"creation_date":1651939892,"question_id":72154300,"body_markdown":"I am a beginner in Spring Data JDBC. I am following Spring in action 6th edition and have created the repository as follows:\r\n\r\n    package com.springinaction.tacocloud;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    public interface IngredientRepository extends CrudRepository&lt;Ingredient, String&gt;{\r\n    \r\n    \tpublic Optional&lt;Ingredient&gt; getById(String id);\r\n    \t\r\n    \tpublic Iterable&lt;Ingredient&gt; getIngredients();\r\n    \t\r\n    \tpublic Ingredient save(Ingredient ingredient);\r\n    }\r\n\r\nAnd I have injected this repository in my controller. \r\n\r\n    @Slf4j\r\n    @Controller\r\n    @RequestMapping(&quot;/design&quot;)\r\n    public class DesignTacoController {\r\n    \t\r\n    \tprotected IngredientRepository ingredientRepo;\r\n    \t\r\n    \tpublic DesignTacoController(IngredientRepository ingredientRepo) {\r\n    \t\tthis.ingredientRepo = ingredientRepo;\r\n    \t}\r\n    \r\n    \t@ModelAttribute\r\n    \tpublic void addIngredientsToModel(Model model) {\r\n    \t\tIterable&lt;Ingredient&gt; ingredientsFromJdbc = ingredientRepo.getIngredients();\r\n    \t\t//converting Iterable returned by JdbcTemplate to a List\r\n    \t\tList&lt;Ingredient&gt; ingredients = new ArrayList&lt;Ingredient&gt;();\r\n    \t\tingredientsFromJdbc.forEach(ingredients::add);\r\n    \t\tType[] types = Ingredient.Type.values();\r\n    \t\tfor (Type type : types) {\r\n    \t\t\tmodel.addAttribute(type.toString().toLowerCase(),filterByType(ingredients, type));\r\n    \t\t}\r\n    \t}\r\n    .......................................................................\r\n\r\nFor invoking the method getIngredients() in the controller it throws the following exception\r\n\r\n    nested exception is org.springframework.data.mapping.PropertyReferenceException: No property &#39;getIngredients&#39; found for type &#39;Ingredient&#39;!\r\n\r\nWhat am I missing here?","title":"Spring Data JDBC: No such property found for type","body":"<p>I am a beginner in Spring Data JDBC. I am following Spring in action 6th edition and have created the repository as follows:</p>\n<pre><code>package com.springinaction.tacocloud;\n\nimport java.util.Optional;\n\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface IngredientRepository extends CrudRepository&lt;Ingredient, String&gt;{\n\n    public Optional&lt;Ingredient&gt; getById(String id);\n    \n    public Iterable&lt;Ingredient&gt; getIngredients();\n    \n    public Ingredient save(Ingredient ingredient);\n}\n</code></pre>\n<p>And I have injected this repository in my controller.</p>\n<pre><code>@Slf4j\n@Controller\n@RequestMapping(&quot;/design&quot;)\npublic class DesignTacoController {\n    \n    protected IngredientRepository ingredientRepo;\n    \n    public DesignTacoController(IngredientRepository ingredientRepo) {\n        this.ingredientRepo = ingredientRepo;\n    }\n\n    @ModelAttribute\n    public void addIngredientsToModel(Model model) {\n        Iterable&lt;Ingredient&gt; ingredientsFromJdbc = ingredientRepo.getIngredients();\n        //converting Iterable returned by JdbcTemplate to a List\n        List&lt;Ingredient&gt; ingredients = new ArrayList&lt;Ingredient&gt;();\n        ingredientsFromJdbc.forEach(ingredients::add);\n        Type[] types = Ingredient.Type.values();\n        for (Type type : types) {\n            model.addAttribute(type.toString().toLowerCase(),filterByType(ingredients, type));\n        }\n    }\n.......................................................................\n</code></pre>\n<p>For invoking the method getIngredients() in the controller it throws the following exception</p>\n<pre><code>nested exception is org.springframework.data.mapping.PropertyReferenceException: No property 'getIngredients' found for type 'Ingredient'!\n</code></pre>\n<p>What am I missing here?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1651896325,"post_id":72149239,"comment_id":127479319,"body_markdown":"Im having doubt on the getters for the views. Why not just call them without the getters?","body":"Im having doubt on the getters for the views. Why not just call them without the getters?"},{"owner":{"account_id":12286694,"reputation":23,"user_id":8965772,"display_name":"Troy Marker"},"score":0,"creation_date":1651937678,"post_id":72149239,"comment_id":127486681,"body_markdown":"I initially felt the same way. But I used a template I got off line, and decided to give it a try. It worked, so I left them.","body":"I initially felt the same way. But I used a template I got off line, and decided to give it a try. It worked, so I left them."}],"owner":{"account_id":12286694,"reputation":23,"user_id":8965772,"display_name":"Troy Marker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651948097,"creation_date":1651893836,"question_id":72149239,"body_markdown":"I am working on a game called Space Mines. I am trying to get a list of planets on the screen, but am having trouble and do not know why. I try to debug the app, but it only goes up to item 6, and then does nothing. It keeps running, but the screen is completely blank. This is my view adapter,\r\n\r\n     /******************************************************************************\r\n      * Space Mines Android Game                                                   *\r\n      * Copyright (c) 2022. By Troy Marker Enterprises.                            *\r\n      * All rights Reserved.                                                       *\r\n      * The code in this file was created for the game Space Mines.                *\r\n      * This code may not be used outside this game.                               *\r\n      ******************************************************************************/\r\n      package com.troymarkerenterprises.spacemines.adapters;\r\n\r\n      import android.view.LayoutInflater;\r\n      import android.view.View;\r\n      import android.view.ViewGroup;\r\n      import android.widget.ImageView;\r\n      import android.widget.TextView;\r\n\r\n      import androidx.annotation.NonNull;\r\n      import androidx.recyclerview.widget.RecyclerView;\r\n\r\n      import com.troymarkerenterprises.spacemines.R;\r\n      import com.troymarkerenterprises.spacemines.model.Planet;\r\n\r\n      import java.util.ArrayList;\r\n\r\n      public class GalaxyRVA extends RecyclerView.Adapter&lt;GalaxyRVA.ViewHolder&gt; {\r\n          private final ArrayList&lt;Planet&gt; mDataSet;\r\n\r\n          public static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n              private final ImageView planetIcon;\r\n              private final TextView planetId;\r\n              private final TextView planetName;\r\n              private final TextView planetSize;\r\n\r\n              public ViewHolder(View view) {\r\n                  super(view);\r\n                  planetIcon = view.findViewById(R.id.imgPlanetIcon);\r\n                  planetId = view.findViewById(R.id.txtPlanetId);\r\n                  planetName = view.findViewById(R.id.txtPlanetName);\r\n                  planetSize = view.findViewById(R.id.txtPlanetSize);\r\n              }\r\n\r\n              public ImageView getPlanetIcon() {\r\n                  return planetIcon;\r\n              }\r\n\r\n              public TextView getPlanetId() {\r\n                  return planetId;\r\n              }\r\n\r\n              public TextView getPlanetName() {\r\n                  return planetName;\r\n              }\r\n\r\n              public TextView getPlanetSize() {\r\n                  return planetSize;\r\n              }\r\n          }\r\n\r\n          public GalaxyRVA(ArrayList&lt;Planet&gt; dataSet) {\r\n              mDataSet = dataSet;\r\n          }\r\n\r\n          @NonNull\r\n          @Override\r\n          public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n              View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.list_planet,\r\n                      viewGroup, false);\r\n              return new ViewHolder(view);\r\n          }\r\n\r\n          @Override\r\n          public void onBindViewHolder(@NonNull ViewHolder viewHolder, final int       position) {\r\n              int icon = mDataSet.get(position).getIcon();\r\n              int id = mDataSet.get(position).getId();\r\n              String name = mDataSet.get(position).getName();\r\n              int size = mDataSet.get(position).getSize();\r\n\r\n              switch(icon) {\r\n                  case 1:\r\n                      viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_01);\r\n                      break;\r\n                  case 2:\r\n                      viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_02);\r\n                      break;\r\n                  case 3:\r\n                      viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_03);\r\n                      break;\r\n                  case 4:\r\n                      viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_04);\r\n                      break;\r\n                  case 5:\r\n                      viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_05);\r\n                      break;\r\n                  case 6:\r\n                      viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_06);\r\n                      break;\r\n                  case 7:\r\n                      viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_07);\r\n                      break;\r\n                  case 8:\r\n                      viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_08);\r\n                      break;\r\n                  case 9:\r\n                      viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_09);\r\n                      break;\r\n                  default:\r\n                      throw new IllegalStateException(&quot;Unexpected value: &quot; + icon);\r\n              }\r\n\r\n              viewHolder.getPlanetId().setText(String.format(&quot;Plant ID: %s&quot;, id));\r\n              viewHolder.getPlanetName().setText(String.format(&quot;Planet Name: %s&quot;,name));\r\n              viewHolder.getPlanetSize().setText(String.format(&quot;Planet Diameter: %s miles&quot;, size));\r\n          }\r\n\r\n          @Override\r\n          public int getItemCount() {\r\n              return mDataSet.size();\r\n          }\r\n      }\r\n\r\nThe list of planets is read in another part of the app, here is the code that reads the planets from the database,\r\n\r\n     /******************************************************************************\r\n      * Space Mines Android Game                                                   *\r\n      * Copyright (c) 2022. By Troy Marker Enterprises.                            *\r\n      * All rights Reserved.                                                       *\r\n      * The code in this file was created for the game Space Mines.                *\r\n      * This code may not be used outside this game.                               *\r\n     ******************************************************************************/\r\n\r\n     package com.troymarkerenterprises.spacemines.database;\r\n\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_AG;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_AU;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_CU;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_ICON;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_ID;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_MS_AG;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_MS_AU;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_MS_CU;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_MS_PD;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_MS_PT;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_M_AG;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_M_AU;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_M_CU;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_M_PD;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_M_PT;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_NAME;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_PD;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_POP;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_PT;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_SIZE;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_S_AG;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_S_AU;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_S_CU;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_S_PD;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_S_PT;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.DATABASE_NAME;\r\n     import static com.troymarkerenterprises.spacemines.constants.DbCon.PLANETS_TABLE;\r\n     \r\n     import android.annotation.SuppressLint;\r\n     import android.content.ContentValues;\r\n     import android.content.Context;\r\n     import android.database.Cursor;\r\n     import android.database.sqlite.SQLiteDatabase;\r\n     import android.database.sqlite.SQLiteOpenHelper;\r\n     import androidx.annotation.Nullable;\r\n     \r\n     import com.troymarkerenterprises.spacemines.helpers.GeneralHelper;\r\n     import com.troymarkerenterprises.spacemines.helpers.PlanetHelper;\r\n     import com.troymarkerenterprises.spacemines.model.Planet;\r\n\r\n     import java.util.ArrayList;\r\n\r\n     public class Database extends SQLiteOpenHelper {\r\n\r\n         SQLiteDatabase db;\r\n         PlanetHelper ph = new PlanetHelper();\r\n         GeneralHelper gh = new GeneralHelper();\r\n         Context context;\r\n\r\n         public Database(@Nullable Context context) {\r\n             super(context, DATABASE_NAME, null, 1);\r\n             this.context = context;\r\n         }\r\n\r\n         @Override\r\n         public void onCreate(SQLiteDatabase db) {\r\n             String sql = String.format(\r\n                     &quot;create table %s &quot; +\r\n                             &quot;(%s INTEGER PRIMARY KEY, &quot; +\r\n                             &quot;%s TEXT NOT NULL, &quot; +\r\n                             &quot;%s INTEGER, &quot; +\r\n                             &quot;%s INTEGER,&quot; +\r\n                             &quot;%s REAL, &quot; +\r\n                             &quot;%s REAL, &quot; +\r\n                             &quot;%s REAL, &quot; +\r\n                             &quot;%s REAL, &quot; +\r\n                             &quot;%s REAL, &quot; +\r\n                             &quot;%s TEXT, &quot; +\r\n                             &quot;%s TEXT, &quot; +\r\n                             &quot;%s TEXT, &quot; +\r\n                             &quot;%S TEXT, &quot; +\r\n                             &quot;%s TEXT, &quot; +\r\n                             &quot;%s REAL, &quot; +\r\n                             &quot;%s REAL, &quot; +\r\n                             &quot;%s REAL, &quot; +\r\n                             &quot;%s REAL, &quot; +\r\n                             &quot;%S REAL, &quot; +\r\n                             &quot;%s TEXT, &quot; +\r\n                             &quot;%s TEXT, &quot; +\r\n                             &quot;%s TEXT, &quot; +\r\n                             &quot;%S TEXT, &quot; +\r\n                             &quot;%s TEXT, &quot; +\r\n                             &quot;%s INTEGER)&quot;,\r\n                     PLANETS_TABLE,\r\n                     COL_ID,\r\n                     COL_NAME,\r\n                     COL_SIZE,\r\n                     COL_POP,\r\n                     COL_CU,\r\n                     COL_AG,\r\n                     COL_AU,\r\n                     COL_PT,\r\n                     COL_PD,\r\n                     COL_S_CU,\r\n                     COL_S_AG,\r\n                     COL_S_AU,\r\n                     COL_S_PT,\r\n                     COL_S_PD,\r\n                     COL_M_CU,\r\n                     COL_M_AG,\r\n                     COL_M_AU,\r\n                     COL_M_PT,\r\n                     COL_M_PD,\r\n                     COL_MS_CU,\r\n                     COL_MS_AG,\r\n                     COL_MS_AU,\r\n                     COL_MS_PT,\r\n                     COL_MS_PD,\r\n                     COL_ICON);\r\n             db.execSQL(sql);\r\n         }\r\n\r\n         @Override\r\n         public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n  \r\n         }\r\n\r\n         public void createGalaxy() {\r\n             db = getWritableDatabase();\r\n             db.delete(PLANETS_TABLE,null,null);\r\n             int size;\r\n             double radius;\r\n             double surfaceArea;\r\n             double minableCrust;\r\n             double crustMass;\r\n             int i = 0;\r\n             while (i &lt; 20) {\r\n                 size = ph.getSize();\r\n                 radius = size / 2;\r\n                 surfaceArea = ph.getSurfaceArea(radius);\r\n                 minableCrust = ph.getMinableCrust(surfaceArea);\r\n                 crustMass = ph.getCrustMass(minableCrust);\r\n                 ContentValues values = new ContentValues();\r\n                 values.put(COL_ID, i);\r\n                 values.put(COL_NAME, ph.getName());\r\n                 values.put(COL_SIZE, size);\r\n                 values.put(COL_POP, 0);\r\n                 values.put(COL_CU, ph.getCU(crustMass));\r\n                 values.put(COL_AG, ph.getAG(crustMass));\r\n                 values.put(COL_AU, ph.getAU(crustMass));\r\n                 values.put(COL_PT, ph.getPT(crustMass));\r\n                 values.put(COL_PD, ph.getPD(crustMass));\r\n                 values.put(COL_S_CU, ph.getNamedNumber(ph.getCU(crustMass)));\r\n                 values.put(COL_S_AG, gh.getNamedNumber(ph.getAG(crustMass)));\r\n                 values.put(COL_S_AU, gh.getNamedNumber(ph.getAU(crustMass)));\r\n                 values.put(COL_S_PT, gh.getNamedNumber(ph.getPT(crustMass)));\r\n                 values.put(COL_S_PD, gh.getNamedNumber(ph.getPD(crustMass)));\r\n                 values.put(COL_M_CU, 0);\r\n                 values.put(COL_M_AG, 0);\r\n                 values.put(COL_M_AU, 0);\r\n                 values.put(COL_M_PT, 0);\r\n                 values.put(COL_M_PD, 0);\r\n                 values.put(COL_MS_CU, gh.getNamedNumber(0));\r\n                 values.put(COL_MS_AG, gh.getNamedNumber(0));\r\n                 values.put(COL_MS_AU, gh.getNamedNumber(0));\r\n                 values.put(COL_MS_PT, gh.getNamedNumber(0));\r\n                 values.put(COL_MS_PD, gh.getNamedNumber(0));\r\n                 values.put(COL_ICON, ph.getIcon());\r\n                 db.insert(PLANETS_TABLE, null, values);\r\n                 i++;\r\n             }\r\n             db.close();\r\n         }\r\n\r\n         public ArrayList&lt;Planet&gt; loadGalaxy() {\r\n             ArrayList&lt;Planet&gt; planets = new ArrayList&lt;&gt;();\r\n             SQLiteDatabase db = getReadableDatabase();\r\n             String sql = String.format(&quot;SELECT * FROM %s ORDER BY %s&quot;, PLANETS_TABLE, \r\n     COL_ID);\r\n             @SuppressLint(&quot;Recycle&quot;) Cursor cursor = db.rawQuery(sql, null);\r\n             while(cursor.moveToNext()) {\r\n                 int id = cursor.getInt(0);\r\n                 String name = cursor.getString(1);\r\n                 int size = cursor.getInt(2);\r\n                 int population = cursor.getInt(3);\r\n                 double t_cu = cursor.getDouble(4);\r\n                 double t_ag = cursor.getDouble(5);\r\n                 double t_au = cursor.getDouble(6);\r\n                 double t_pt = cursor.getDouble(7);\r\n                 double t_pd = cursor.getDouble(8);\r\n                 String s_cu = cursor.getString(9);\r\n                 String s_ag = cursor.getString(10);\r\n                 String s_au = cursor.getString(11);\r\n                 String s_pt = cursor.getString(12);\r\n                 String s_pd = cursor.getString(13);\r\n                 double m_cu = cursor.getInt(14);\r\n                 double m_ag = cursor.getInt(15);\r\n                 double m_au = cursor.getInt(16);\r\n                 double m_pt = cursor.getInt(17);\r\n                 double m_pd = cursor.getInt(18);\r\n                 String m_s_cu = cursor.getString(19);\r\n                 String m_s_ag = cursor.getString(20);\r\n                 String m_s_au = cursor.getString(21);\r\n                 String m_s_pt = cursor.getString(22);\r\n                 String m_s_pd = cursor.getString(23);\r\n                 int icon = cursor.getInt(24);\r\n                 planets.add(new Planet(id, name, size, population, t_cu, t_ag, t_au, \r\n     t_pt, t_pd, s_cu,\r\n                         s_ag, s_au, s_pt, s_pd, m_cu, m_ag, m_au, m_pt, m_pd, m_s_cu, \r\n     m_s_ag, m_s_au,\r\n                         m_s_pt, m_s_pd, icon));\r\n             }\r\n     \r\n             db.close();\r\n             return planets;\r\n         }\r\n\r\n         public boolean doesTableExist(String tableName) {\r\n             if(db == null || !db.isOpen()) {\r\n                 db = getReadableDatabase();\r\n             }\r\n             if(!db.isReadOnly()) {\r\n                 db.close();\r\n                 db = getReadableDatabase();\r\n             }\r\n             String query = String.format(&quot;SELECT DISTINCT * FROM %s&quot;, tableName);\r\n             try {\r\n                 Cursor cursor = db.rawQuery(query, null);\r\n                 if(cursor!=null) {\r\n                     if(cursor.getCount()&gt;0) {\r\n                         cursor.close();\r\n                         return true;\r\n                     }\r\n                 }\r\n                 return false;\r\n             } catch (Exception ex) {\r\n                 ex.printStackTrace();\r\n                 return false;\r\n             }\r\n         }\r\n     }\r\n\r\nI believe I have included all the relevant code for my problem. If you need to see some other code, I have it on my GitHub account here: https://github.com/troy-marker/Space-Mines.\r\n\r\nThank you for any suggestions and/or help.\r\nTroy Marker\r\n\r\nAddition: I did get the to work the way I wanted it to, but I changed something in the code and it stopped working. Unfortunately I don&#39;t remember what I changed.\r\n","title":"Problem with a recyclerview adapter in android?","body":"<p>I am working on a game called Space Mines. I am trying to get a list of planets on the screen, but am having trouble and do not know why. I try to debug the app, but it only goes up to item 6, and then does nothing. It keeps running, but the screen is completely blank. This is my view adapter,</p>\n<pre><code> /******************************************************************************\n  * Space Mines Android Game                                                   *\n  * Copyright (c) 2022. By Troy Marker Enterprises.                            *\n  * All rights Reserved.                                                       *\n  * The code in this file was created for the game Space Mines.                *\n  * This code may not be used outside this game.                               *\n  ******************************************************************************/\n  package com.troymarkerenterprises.spacemines.adapters;\n\n  import android.view.LayoutInflater;\n  import android.view.View;\n  import android.view.ViewGroup;\n  import android.widget.ImageView;\n  import android.widget.TextView;\n\n  import androidx.annotation.NonNull;\n  import androidx.recyclerview.widget.RecyclerView;\n\n  import com.troymarkerenterprises.spacemines.R;\n  import com.troymarkerenterprises.spacemines.model.Planet;\n\n  import java.util.ArrayList;\n\n  public class GalaxyRVA extends RecyclerView.Adapter&lt;GalaxyRVA.ViewHolder&gt; {\n      private final ArrayList&lt;Planet&gt; mDataSet;\n\n      public static class ViewHolder extends RecyclerView.ViewHolder {\n\n          private final ImageView planetIcon;\n          private final TextView planetId;\n          private final TextView planetName;\n          private final TextView planetSize;\n\n          public ViewHolder(View view) {\n              super(view);\n              planetIcon = view.findViewById(R.id.imgPlanetIcon);\n              planetId = view.findViewById(R.id.txtPlanetId);\n              planetName = view.findViewById(R.id.txtPlanetName);\n              planetSize = view.findViewById(R.id.txtPlanetSize);\n          }\n\n          public ImageView getPlanetIcon() {\n              return planetIcon;\n          }\n\n          public TextView getPlanetId() {\n              return planetId;\n          }\n\n          public TextView getPlanetName() {\n              return planetName;\n          }\n\n          public TextView getPlanetSize() {\n              return planetSize;\n          }\n      }\n\n      public GalaxyRVA(ArrayList&lt;Planet&gt; dataSet) {\n          mDataSet = dataSet;\n      }\n\n      @NonNull\n      @Override\n      public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n          View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.list_planet,\n                  viewGroup, false);\n          return new ViewHolder(view);\n      }\n\n      @Override\n      public void onBindViewHolder(@NonNull ViewHolder viewHolder, final int       position) {\n          int icon = mDataSet.get(position).getIcon();\n          int id = mDataSet.get(position).getId();\n          String name = mDataSet.get(position).getName();\n          int size = mDataSet.get(position).getSize();\n\n          switch(icon) {\n              case 1:\n                  viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_01);\n                  break;\n              case 2:\n                  viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_02);\n                  break;\n              case 3:\n                  viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_03);\n                  break;\n              case 4:\n                  viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_04);\n                  break;\n              case 5:\n                  viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_05);\n                  break;\n              case 6:\n                  viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_06);\n                  break;\n              case 7:\n                  viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_07);\n                  break;\n              case 8:\n                  viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_08);\n                  break;\n              case 9:\n                  viewHolder.getPlanetIcon().setImageResource(R.drawable.planet_09);\n                  break;\n              default:\n                  throw new IllegalStateException(&quot;Unexpected value: &quot; + icon);\n          }\n\n          viewHolder.getPlanetId().setText(String.format(&quot;Plant ID: %s&quot;, id));\n          viewHolder.getPlanetName().setText(String.format(&quot;Planet Name: %s&quot;,name));\n          viewHolder.getPlanetSize().setText(String.format(&quot;Planet Diameter: %s miles&quot;, size));\n      }\n\n      @Override\n      public int getItemCount() {\n          return mDataSet.size();\n      }\n  }\n</code></pre>\n<p>The list of planets is read in another part of the app, here is the code that reads the planets from the database,</p>\n<pre><code> /******************************************************************************\n  * Space Mines Android Game                                                   *\n  * Copyright (c) 2022. By Troy Marker Enterprises.                            *\n  * All rights Reserved.                                                       *\n  * The code in this file was created for the game Space Mines.                *\n  * This code may not be used outside this game.                               *\n ******************************************************************************/\n\n package com.troymarkerenterprises.spacemines.database;\n\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_AG;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_AU;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_CU;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_ICON;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_ID;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_MS_AG;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_MS_AU;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_MS_CU;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_MS_PD;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_MS_PT;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_M_AG;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_M_AU;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_M_CU;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_M_PD;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_M_PT;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_NAME;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_PD;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_POP;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_PT;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_SIZE;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_S_AG;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_S_AU;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_S_CU;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_S_PD;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.COL_S_PT;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.DATABASE_NAME;\n import static com.troymarkerenterprises.spacemines.constants.DbCon.PLANETS_TABLE;\n \n import android.annotation.SuppressLint;\n import android.content.ContentValues;\n import android.content.Context;\n import android.database.Cursor;\n import android.database.sqlite.SQLiteDatabase;\n import android.database.sqlite.SQLiteOpenHelper;\n import androidx.annotation.Nullable;\n \n import com.troymarkerenterprises.spacemines.helpers.GeneralHelper;\n import com.troymarkerenterprises.spacemines.helpers.PlanetHelper;\n import com.troymarkerenterprises.spacemines.model.Planet;\n\n import java.util.ArrayList;\n\n public class Database extends SQLiteOpenHelper {\n\n     SQLiteDatabase db;\n     PlanetHelper ph = new PlanetHelper();\n     GeneralHelper gh = new GeneralHelper();\n     Context context;\n\n     public Database(@Nullable Context context) {\n         super(context, DATABASE_NAME, null, 1);\n         this.context = context;\n     }\n\n     @Override\n     public void onCreate(SQLiteDatabase db) {\n         String sql = String.format(\n                 &quot;create table %s &quot; +\n                         &quot;(%s INTEGER PRIMARY KEY, &quot; +\n                         &quot;%s TEXT NOT NULL, &quot; +\n                         &quot;%s INTEGER, &quot; +\n                         &quot;%s INTEGER,&quot; +\n                         &quot;%s REAL, &quot; +\n                         &quot;%s REAL, &quot; +\n                         &quot;%s REAL, &quot; +\n                         &quot;%s REAL, &quot; +\n                         &quot;%s REAL, &quot; +\n                         &quot;%s TEXT, &quot; +\n                         &quot;%s TEXT, &quot; +\n                         &quot;%s TEXT, &quot; +\n                         &quot;%S TEXT, &quot; +\n                         &quot;%s TEXT, &quot; +\n                         &quot;%s REAL, &quot; +\n                         &quot;%s REAL, &quot; +\n                         &quot;%s REAL, &quot; +\n                         &quot;%s REAL, &quot; +\n                         &quot;%S REAL, &quot; +\n                         &quot;%s TEXT, &quot; +\n                         &quot;%s TEXT, &quot; +\n                         &quot;%s TEXT, &quot; +\n                         &quot;%S TEXT, &quot; +\n                         &quot;%s TEXT, &quot; +\n                         &quot;%s INTEGER)&quot;,\n                 PLANETS_TABLE,\n                 COL_ID,\n                 COL_NAME,\n                 COL_SIZE,\n                 COL_POP,\n                 COL_CU,\n                 COL_AG,\n                 COL_AU,\n                 COL_PT,\n                 COL_PD,\n                 COL_S_CU,\n                 COL_S_AG,\n                 COL_S_AU,\n                 COL_S_PT,\n                 COL_S_PD,\n                 COL_M_CU,\n                 COL_M_AG,\n                 COL_M_AU,\n                 COL_M_PT,\n                 COL_M_PD,\n                 COL_MS_CU,\n                 COL_MS_AG,\n                 COL_MS_AU,\n                 COL_MS_PT,\n                 COL_MS_PD,\n                 COL_ICON);\n         db.execSQL(sql);\n     }\n\n     @Override\n     public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n     }\n\n     public void createGalaxy() {\n         db = getWritableDatabase();\n         db.delete(PLANETS_TABLE,null,null);\n         int size;\n         double radius;\n         double surfaceArea;\n         double minableCrust;\n         double crustMass;\n         int i = 0;\n         while (i &lt; 20) {\n             size = ph.getSize();\n             radius = size / 2;\n             surfaceArea = ph.getSurfaceArea(radius);\n             minableCrust = ph.getMinableCrust(surfaceArea);\n             crustMass = ph.getCrustMass(minableCrust);\n             ContentValues values = new ContentValues();\n             values.put(COL_ID, i);\n             values.put(COL_NAME, ph.getName());\n             values.put(COL_SIZE, size);\n             values.put(COL_POP, 0);\n             values.put(COL_CU, ph.getCU(crustMass));\n             values.put(COL_AG, ph.getAG(crustMass));\n             values.put(COL_AU, ph.getAU(crustMass));\n             values.put(COL_PT, ph.getPT(crustMass));\n             values.put(COL_PD, ph.getPD(crustMass));\n             values.put(COL_S_CU, ph.getNamedNumber(ph.getCU(crustMass)));\n             values.put(COL_S_AG, gh.getNamedNumber(ph.getAG(crustMass)));\n             values.put(COL_S_AU, gh.getNamedNumber(ph.getAU(crustMass)));\n             values.put(COL_S_PT, gh.getNamedNumber(ph.getPT(crustMass)));\n             values.put(COL_S_PD, gh.getNamedNumber(ph.getPD(crustMass)));\n             values.put(COL_M_CU, 0);\n             values.put(COL_M_AG, 0);\n             values.put(COL_M_AU, 0);\n             values.put(COL_M_PT, 0);\n             values.put(COL_M_PD, 0);\n             values.put(COL_MS_CU, gh.getNamedNumber(0));\n             values.put(COL_MS_AG, gh.getNamedNumber(0));\n             values.put(COL_MS_AU, gh.getNamedNumber(0));\n             values.put(COL_MS_PT, gh.getNamedNumber(0));\n             values.put(COL_MS_PD, gh.getNamedNumber(0));\n             values.put(COL_ICON, ph.getIcon());\n             db.insert(PLANETS_TABLE, null, values);\n             i++;\n         }\n         db.close();\n     }\n\n     public ArrayList&lt;Planet&gt; loadGalaxy() {\n         ArrayList&lt;Planet&gt; planets = new ArrayList&lt;&gt;();\n         SQLiteDatabase db = getReadableDatabase();\n         String sql = String.format(&quot;SELECT * FROM %s ORDER BY %s&quot;, PLANETS_TABLE, \n COL_ID);\n         @SuppressLint(&quot;Recycle&quot;) Cursor cursor = db.rawQuery(sql, null);\n         while(cursor.moveToNext()) {\n             int id = cursor.getInt(0);\n             String name = cursor.getString(1);\n             int size = cursor.getInt(2);\n             int population = cursor.getInt(3);\n             double t_cu = cursor.getDouble(4);\n             double t_ag = cursor.getDouble(5);\n             double t_au = cursor.getDouble(6);\n             double t_pt = cursor.getDouble(7);\n             double t_pd = cursor.getDouble(8);\n             String s_cu = cursor.getString(9);\n             String s_ag = cursor.getString(10);\n             String s_au = cursor.getString(11);\n             String s_pt = cursor.getString(12);\n             String s_pd = cursor.getString(13);\n             double m_cu = cursor.getInt(14);\n             double m_ag = cursor.getInt(15);\n             double m_au = cursor.getInt(16);\n             double m_pt = cursor.getInt(17);\n             double m_pd = cursor.getInt(18);\n             String m_s_cu = cursor.getString(19);\n             String m_s_ag = cursor.getString(20);\n             String m_s_au = cursor.getString(21);\n             String m_s_pt = cursor.getString(22);\n             String m_s_pd = cursor.getString(23);\n             int icon = cursor.getInt(24);\n             planets.add(new Planet(id, name, size, population, t_cu, t_ag, t_au, \n t_pt, t_pd, s_cu,\n                     s_ag, s_au, s_pt, s_pd, m_cu, m_ag, m_au, m_pt, m_pd, m_s_cu, \n m_s_ag, m_s_au,\n                     m_s_pt, m_s_pd, icon));\n         }\n \n         db.close();\n         return planets;\n     }\n\n     public boolean doesTableExist(String tableName) {\n         if(db == null || !db.isOpen()) {\n             db = getReadableDatabase();\n         }\n         if(!db.isReadOnly()) {\n             db.close();\n             db = getReadableDatabase();\n         }\n         String query = String.format(&quot;SELECT DISTINCT * FROM %s&quot;, tableName);\n         try {\n             Cursor cursor = db.rawQuery(query, null);\n             if(cursor!=null) {\n                 if(cursor.getCount()&gt;0) {\n                     cursor.close();\n                     return true;\n                 }\n             }\n             return false;\n         } catch (Exception ex) {\n             ex.printStackTrace();\n             return false;\n         }\n     }\n }\n</code></pre>\n<p>I believe I have included all the relevant code for my problem. If you need to see some other code, I have it on my GitHub account here: <a href=\"https://github.com/troy-marker/Space-Mines\" rel=\"nofollow noreferrer\">https://github.com/troy-marker/Space-Mines</a>.</p>\n<p>Thank you for any suggestions and/or help.\nTroy Marker</p>\n<p>Addition: I did get the to work the way I wanted it to, but I changed something in the code and it stopped working. Unfortunately I don't remember what I changed.</p>\n"},{"tags":["java","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651947890,"creation_date":1649704434,"answer_id":71833146,"question_id":71832298,"body_markdown":"Please read https://stackoverflow.com/questions/71862896/log4j-difference-between-dollar-and-percent-patterns-in-layout for more details. Not all claims in the original answer are factually correct (and might lead to surprising behavior).\r\n\r\n***\r\n\r\nA double `$` character will escape the second dollar character and make it a literal dollar character in your ouput.\r\n\r\nFormat the date as `%d{...}` and not `$${date:...}` (you can also try `${date:...}`, note the single dollar):\r\n\r\n```\r\n  &lt;RollingFile\r\n      name=&quot;LogToRollingFile&quot;\r\n      fileName=&quot;logs/app.log&quot;\r\n      filePattern=&quot;logs/%d{yyyy-MM-dd-HH-mm}/app_%d{yyyy-MM-dd-HH-mm}_%i.log&quot;&gt;\r\n```\r\n\r\nAs for why the [documentation](https://logging.apache.org/log4j/2.x/manual/appenders.html) mixes both `%d` and `${date:}` in a single example, I don&#39;t know.","title":"The presence of : character in filePattern causes Illegal Char error in RollingFileAppender (log4j2) when configuring programatically","body":"<p>Please read <a href=\"https://stackoverflow.com/questions/71862896/log4j-difference-between-dollar-and-percent-patterns-in-layout\">Log4j difference between dollar and percent patterns in layout</a> for more details. Not all claims in the original answer are factually correct (and might lead to surprising behavior).</p>\n<hr />\n<p>A double <code>$</code> character will escape the second dollar character and make it a literal dollar character in your ouput.</p>\n<p>Format the date as <code>%d{...}</code> and not <code>$${date:...}</code> (you can also try <code>${date:...}</code>, note the single dollar):</p>\n<pre><code>  &lt;RollingFile\n      name=&quot;LogToRollingFile&quot;\n      fileName=&quot;logs/app.log&quot;\n      filePattern=&quot;logs/%d{yyyy-MM-dd-HH-mm}/app_%d{yyyy-MM-dd-HH-mm}_%i.log&quot;&gt;\n</code></pre>\n<p>As for why the <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html\" rel=\"nofollow noreferrer\">documentation</a> mixes both <code>%d</code> and <code>${date:}</code> in a single example, I don't know.</p>\n"}],"owner":{"account_id":15442554,"reputation":57,"user_id":11140659,"display_name":"Srikar Rao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71833146,"answer_count":1,"score":0,"last_activity_date":1651947890,"creation_date":1649699917,"question_id":71832298,"body_markdown":"In log4j2.xml when defining the RollingFileAppender, it works fine. Programatically its throwing the error.\r\nXML file -\r\n```\r\n  &lt;RollingFile name=&quot;LogToRollingFile&quot; fileName=&quot;logs/app.log&quot;\r\n                     filePattern=&quot;logs/$${date:yyyy-MM-dd-HH-mm}/app_%d{yyyy-MM-dd-HH-mm}_%i.log&quot;&gt;\r\n```\r\n\r\nJava Code trying to replicate the same.\r\n```\r\nfinal RollingFileAppender rollingFileAppender = RollingFileAppender.newBuilder()\r\n                    .setName(&quot;RollingFileAppenderFor&quot;+fileName)\r\n                    .withFileName(&quot;logs/&quot;+ fileName+&quot;.log&quot;)\r\n                    .withFilePattern(&quot;logs/$${date:yyyy-MM-dd-HH-mm}/&quot;+ fileName +&quot;-%d{yyyy-MM-dd-HH-mm}-%i.log.gz&quot;)\r\n                    .withAppend(true)\r\n                    .setConfiguration(config)\r\n                    .setLayout(layout)\r\n                    .withPolicy(CompositeTriggeringPolicy.createPolicy(timeBasedTriggeringPolicy,sizeBasedTriggeringPolicy))\r\n                    .withStrategy(defaultRolloverStrategy)\r\n                    .build();\r\n```\r\nCauses the following error.\r\n\r\n```\r\n2022-04-11 23:20:55,164 main ERROR An exception occurred processing Appender RollingFileAppenderForMephisto java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 11: logs\\${date:yyyy-MM-dd-HH-mm}\r\n\tat java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n\tat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n\tat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n\tat java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\r\n\tat java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:232)\r\n\tat java.base/java.io.File.toPath(File.java:2387)\r\n\tat org.apache.logging.log4j.core.appender.rolling.AbstractRolloverStrategy.getEligibleFiles(AbstractRolloverStrategy.java:121)\r\n\tat org.apache.logging.log4j.core.appender.rolling.AbstractRolloverStrategy.getEligibleFiles(AbstractRolloverStrategy.java:95)\r\n\tat org.apache.logging.log4j.core.appender.rolling.AbstractRolloverStrategy.getEligibleFiles(AbstractRolloverStrategy.java:86)\r\n\tat org.apache.logging.log4j.core.appender.rolling.DefaultRolloverStrategy.purgeAscending(DefaultRolloverStrategy.java:414)\r\n\tat org.apache.logging.log4j.core.appender.rolling.DefaultRolloverStrategy.purge(DefaultRolloverStrategy.java:401)\r\n\tat org.apache.logging.log4j.core.appender.rolling.DefaultRolloverStrategy.rollover(DefaultRolloverStrategy.java:530)\r\n\tat org.apache.logging.log4j.core.appender.rolling.RollingFileManager.rollover(RollingFileManager.java:502)\r\n\tat org.apache.logging.log4j.core.appender.rolling.RollingFileManager.rollover(RollingFileManager.java:392)\r\n\tat org.apache.logging.log4j.core.appender.rolling.RollingFileManager.checkRollover(RollingFileManager.java:308)\r\n\tat org.apache.logging.log4j.core.appender.RollingFileAppender.append(RollingFileAppender.java:311)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:542)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:500)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:483)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:417)\r\n\tat org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\r\n\tat org.apache.logging.log4j.core.Logger.log(Logger.java:161)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2017)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1983)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.log(AbstractLogger.java:1652)\r\n\tat mcoc.ChampionLogger.addLoggerWithModificationAndLog(ChampionLogger.java:137)\r\n\tat mcoc.Test3.main(Test3.java:8)\r\n```\r\nIs there anything I can do for this, is there a replacement for the : character in here. ","title":"The presence of : character in filePattern causes Illegal Char error in RollingFileAppender (log4j2) when configuring programatically","body":"<p>In log4j2.xml when defining the RollingFileAppender, it works fine. Programatically its throwing the error.\nXML file -</p>\n<pre><code>  &lt;RollingFile name=&quot;LogToRollingFile&quot; fileName=&quot;logs/app.log&quot;\n                     filePattern=&quot;logs/$${date:yyyy-MM-dd-HH-mm}/app_%d{yyyy-MM-dd-HH-mm}_%i.log&quot;&gt;\n</code></pre>\n<p>Java Code trying to replicate the same.</p>\n<pre><code>final RollingFileAppender rollingFileAppender = RollingFileAppender.newBuilder()\n                    .setName(&quot;RollingFileAppenderFor&quot;+fileName)\n                    .withFileName(&quot;logs/&quot;+ fileName+&quot;.log&quot;)\n                    .withFilePattern(&quot;logs/$${date:yyyy-MM-dd-HH-mm}/&quot;+ fileName +&quot;-%d{yyyy-MM-dd-HH-mm}-%i.log.gz&quot;)\n                    .withAppend(true)\n                    .setConfiguration(config)\n                    .setLayout(layout)\n                    .withPolicy(CompositeTriggeringPolicy.createPolicy(timeBasedTriggeringPolicy,sizeBasedTriggeringPolicy))\n                    .withStrategy(defaultRolloverStrategy)\n                    .build();\n</code></pre>\n<p>Causes the following error.</p>\n<pre><code>2022-04-11 23:20:55,164 main ERROR An exception occurred processing Appender RollingFileAppenderForMephisto java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 11: logs\\${date:yyyy-MM-dd-HH-mm}\n    at java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\n    at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\n    at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\n    at java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\n    at java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:232)\n    at java.base/java.io.File.toPath(File.java:2387)\n    at org.apache.logging.log4j.core.appender.rolling.AbstractRolloverStrategy.getEligibleFiles(AbstractRolloverStrategy.java:121)\n    at org.apache.logging.log4j.core.appender.rolling.AbstractRolloverStrategy.getEligibleFiles(AbstractRolloverStrategy.java:95)\n    at org.apache.logging.log4j.core.appender.rolling.AbstractRolloverStrategy.getEligibleFiles(AbstractRolloverStrategy.java:86)\n    at org.apache.logging.log4j.core.appender.rolling.DefaultRolloverStrategy.purgeAscending(DefaultRolloverStrategy.java:414)\n    at org.apache.logging.log4j.core.appender.rolling.DefaultRolloverStrategy.purge(DefaultRolloverStrategy.java:401)\n    at org.apache.logging.log4j.core.appender.rolling.DefaultRolloverStrategy.rollover(DefaultRolloverStrategy.java:530)\n    at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.rollover(RollingFileManager.java:502)\n    at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.rollover(RollingFileManager.java:392)\n    at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.checkRollover(RollingFileManager.java:308)\n    at org.apache.logging.log4j.core.appender.RollingFileAppender.append(RollingFileAppender.java:311)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\n    at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:542)\n    at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:500)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:483)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:417)\n    at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\n    at org.apache.logging.log4j.core.Logger.log(Logger.java:161)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2017)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1983)\n    at org.apache.logging.log4j.spi.AbstractLogger.log(AbstractLogger.java:1652)\n    at mcoc.ChampionLogger.addLoggerWithModificationAndLog(ChampionLogger.java:137)\n    at mcoc.Test3.main(Test3.java:8)\n</code></pre>\n<p>Is there anything I can do for this, is there a replacement for the : character in here.</p>\n"},{"tags":["java","class","kotlin","methods"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1651916231,"post_id":72151039,"comment_id":127482075,"body_markdown":"I have edited the question to make it more clear about what I want","body":"I have edited the question to make it more clear about what I want"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":4,"creation_date":1651916391,"post_id":72151039,"comment_id":127482117,"body_markdown":"What you want is **not** possible without using interfaces.","body":"What you want is <b>not</b> possible without using interfaces."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1651916469,"post_id":72151039,"comment_id":127482134,"body_markdown":"Ok @Olivier. Just wanted to know if it possible or not. I won&#39;t bother that thou. That was never what I wanted in my project. Just curiosity.","body":"Ok @Olivier. Just wanted to know if it possible or not. I won&#39;t bother that thou. That was never what I wanted in my project. Just curiosity."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1651920447,"post_id":72151039,"comment_id":127482871,"body_markdown":"Could you share the code of `doRandomTask`, so it&#39;s easier to understand the problem? The example is somewhat confusing - `doRandomTask(new ClassWhichHasMethod());` will not compile, because `doRandomTask` is declared to accept parameter of type `Class&lt;?&gt;` and neither `ClassWhichHasMethod`, nor `ClassWhichDoesNotHaveMethod` are such.","body":"Could you share the code of <code>doRandomTask</code>, so it&#39;s easier to understand the problem? The example is somewhat confusing - <code>doRandomTask(new ClassWhichHasMethod());</code> will not compile, because <code>doRandomTask</code> is declared to accept parameter of type <code>Class&lt;?&gt;</code> and neither <code>ClassWhichHasMethod</code>, nor <code>ClassWhichDoesNotHaveMethod</code> are such."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1651929599,"post_id":72151039,"comment_id":127484746,"body_markdown":"Do you want to pass an instance describing the class or do you want to pass an instance of a class, i.e. an object?","body":"Do you want to pass an instance describing the class or do you want to pass an instance of a class, i.e. an object?"}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651947619,"creation_date":1651947619,"answer_id":72155307,"question_id":72151039,"body_markdown":"You need to use an *interface* to do that. When an object implements an interface, that guarantees that it has the methods, properties etc that the interface defines. You don&#39;t need to know what *class* the object is, just that it can be treated as the interface&#39;s type:\r\n\r\n````\r\ninterface MethodHaver {\r\n    fun myCoolMethod(something: String)\r\n}\r\n\r\nclass Whatever : MethodHaver {\r\n    // need to implement/override the method in the interface to satisfy the contract\r\n    override fun myCoolMethod(something: String) {\r\n        // do a thing\r\n    }\r\n}\r\n\r\nclass SomethingElse {\r\n    // uses anything that implements MethodHaver\r\n    fun doTheThing(myObject: MethodHaver) {\r\n        // the object definitely has this method, because the MethodHaver type requires it\r\n        myObject.myCoolMethod(&quot;wow&quot;)\r\n    }\r\n}\r\n````\r\n\r\n----\r\n\r\nYou can do it with anonymous objects too, doesn&#39;t have to be classes\r\n\r\n````\r\nSomethingElse().doTheThing(object : MethodHaver {\r\n    override fun myCoolMethod(something: String) {\r\n        // do something\r\n    }\r\n})\r\n````\r\n\r\nOr, in Kotlin, since the interface only has one method, you can make it a [functional interface][1], and then you can pass a lambda instead that matches the single method&#39;s signature:\r\n````\r\n// note the &#39;fun&#39; keyword before &#39;interface&#39;\r\nfun interface MethodHaver {\r\n    fun myCoolMethod(something: String)\r\n}\r\n\r\n// pass a lambda that matches the method signature, i.e. takes a String and returns Unit (doesn&#39;t return anything)\r\nSomethingElse().doTheThing { something -&gt; // do something }\r\n````\r\n----\r\n\r\nAnd finally, in Kotlin you can skip the interfaces and use function types instead\r\n\r\n````\r\nclass SomethingElse {\r\n    // accepts any function that takes a String and returns Unit\r\n    fun doTheThing(f: (String) -&gt; Unit) {\r\n        // call the passed function like any other\r\n        f(&quot;wow&quot;)\r\n    }\r\n}\r\n\r\n// has the method you&#39;re interested in, but it isn&#39;t implementing an interface\r\nclass ClassWithMethod {\r\n    fun someMethod(string: String) {\r\n        println(string)\r\n    }\r\n}\r\n\r\nfun main() {\r\n    // call it passing a lambda\r\n    SomethingElse().doTheThing { println(it) }\r\n\r\n    // or pass a function reference, like a method on a specific object\r\n    val myClass = ClassWithMethod()\r\n    SomethingElse().doTheThing(myClass::someMethod)\r\n}\r\n````\r\nWith the function reference example there, instead of having to pass *an object that has a particular method*, you can just pass *a reference to the method itself*. So instead of having to involve interfaces (so the type system can confirm you&#39;re passing a valid object with the appropriate method), you can cut out the middleman and pass the method itself directly. So long as its signature matches (parameters and return type), it&#39;s valid\r\n\r\nSo yeah, lots of options depending on exactly what you need to do!\r\n\r\n  [1]: https://kotlinlang.org/docs/fun-interfaces.html","title":"Take a class as a parameter which has a particular method in it","body":"<p>You need to use an <em>interface</em> to do that. When an object implements an interface, that guarantees that it has the methods, properties etc that the interface defines. You don't need to know what <em>class</em> the object is, just that it can be treated as the interface's type:</p>\n<pre><code>interface MethodHaver {\n    fun myCoolMethod(something: String)\n}\n\nclass Whatever : MethodHaver {\n    // need to implement/override the method in the interface to satisfy the contract\n    override fun myCoolMethod(something: String) {\n        // do a thing\n    }\n}\n\nclass SomethingElse {\n    // uses anything that implements MethodHaver\n    fun doTheThing(myObject: MethodHaver) {\n        // the object definitely has this method, because the MethodHaver type requires it\n        myObject.myCoolMethod(&quot;wow&quot;)\n    }\n}\n</code></pre>\n<hr />\n<p>You can do it with anonymous objects too, doesn't have to be classes</p>\n<pre><code>SomethingElse().doTheThing(object : MethodHaver {\n    override fun myCoolMethod(something: String) {\n        // do something\n    }\n})\n</code></pre>\n<p>Or, in Kotlin, since the interface only has one method, you can make it a <a href=\"https://kotlinlang.org/docs/fun-interfaces.html\" rel=\"nofollow noreferrer\">functional interface</a>, and then you can pass a lambda instead that matches the single method's signature:</p>\n<pre><code>// note the 'fun' keyword before 'interface'\nfun interface MethodHaver {\n    fun myCoolMethod(something: String)\n}\n\n// pass a lambda that matches the method signature, i.e. takes a String and returns Unit (doesn't return anything)\nSomethingElse().doTheThing { something -&gt; // do something }\n</code></pre>\n<hr />\n<p>And finally, in Kotlin you can skip the interfaces and use function types instead</p>\n<pre><code>class SomethingElse {\n    // accepts any function that takes a String and returns Unit\n    fun doTheThing(f: (String) -&gt; Unit) {\n        // call the passed function like any other\n        f(&quot;wow&quot;)\n    }\n}\n\n// has the method you're interested in, but it isn't implementing an interface\nclass ClassWithMethod {\n    fun someMethod(string: String) {\n        println(string)\n    }\n}\n\nfun main() {\n    // call it passing a lambda\n    SomethingElse().doTheThing { println(it) }\n\n    // or pass a function reference, like a method on a specific object\n    val myClass = ClassWithMethod()\n    SomethingElse().doTheThing(myClass::someMethod)\n}\n</code></pre>\n<p>With the function reference example there, instead of having to pass <em>an object that has a particular method</em>, you can just pass <em>a reference to the method itself</em>. So instead of having to involve interfaces (so the type system can confirm you're passing a valid object with the appropriate method), you can cut out the middleman and pass the method itself directly. So long as its signature matches (parameters and return type), it's valid</p>\n<p>So yeah, lots of options depending on exactly what you need to do!</p>\n"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72155307,"answer_count":1,"score":-1,"last_activity_date":1651947619,"creation_date":1651914379,"question_id":72151039,"body_markdown":"I know that we can pass a class in a param which has a particular class as its super. For example, see this:\r\n```java\r\npublic void sampleMethod(Class&lt;? super MyParentClass&gt; class){\r\n   // my random code &#128530;\r\n}\r\n```\r\n\r\nand in kotlin:\r\n```kotlin\r\nfun sampleMethod(class:Class&lt;? super MyParentClass&gt;){\r\n   // my random code &#128530;\r\n}\r\n```\r\nBut, can I have something like this?:\r\n```java\r\npublic void sampleMethod(Class &lt;? hasMethod myMethod&gt; class){\r\n   // my random code &#128530;\r\n}\r\n```\r\n\r\nor in Kotlin:\r\n```kotlin\r\nfun sampleMethod(class:Class&lt;? hasMethod MyParentClass&gt;){\r\n   // my random code &#128530;\r\n}\r\n```\r\n\r\nBasically I only want to accept a class in that param which has a method mentioned in it. Is it possible?\r\n\r\nIf yes, I want the code in java and Kotlin\r\n\r\nIf no, then any alternative will be ok\r\n\r\n## Edit\r\n---\r\nMost of the answers here are not what I want. So, I am explaining it a bit more here:\r\n```\r\npublic class MyClass1{\r\n   public static void main(String[] args){\r\n      doRandomTask(new ClassWhichHasMethod()); // works fine\r\n      doRandomTask(new ClassWhichDoesNotHaveMethod()); // gives error as it does not have that method\r\n   }\r\n\r\n   static class ClassWhichHasMethod{\r\n      public void theMethodIWant(){} // the method I want to check\r\n   }\r\n\r\n   static class ClassWhichDoesNotHaveMethod{ // no method here}\r\n\r\n   public static void doRandomTask(Class&lt;? hasMethod theMethodIWant&gt; class){\r\n      // my random code \r\n   }\r\n\r\n}\r\n```","title":"Take a class as a parameter which has a particular method in it","body":"<p>I know that we can pass a class in a param which has a particular class as its super. For example, see this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sampleMethod(Class&lt;? super MyParentClass&gt; class){\n   // my random code 😒\n}\n</code></pre>\n<p>and in kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun sampleMethod(class:Class&lt;? super MyParentClass&gt;){\n   // my random code 😒\n}\n</code></pre>\n<p>But, can I have something like this?:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sampleMethod(Class &lt;? hasMethod myMethod&gt; class){\n   // my random code 😒\n}\n</code></pre>\n<p>or in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun sampleMethod(class:Class&lt;? hasMethod MyParentClass&gt;){\n   // my random code 😒\n}\n</code></pre>\n<p>Basically I only want to accept a class in that param which has a method mentioned in it. Is it possible?</p>\n<p>If yes, I want the code in java and Kotlin</p>\n<p>If no, then any alternative will be ok</p>\n<h2>Edit</h2>\n<hr />\n<p>Most of the answers here are not what I want. So, I am explaining it a bit more here:</p>\n<pre><code>public class MyClass1{\n   public static void main(String[] args){\n      doRandomTask(new ClassWhichHasMethod()); // works fine\n      doRandomTask(new ClassWhichDoesNotHaveMethod()); // gives error as it does not have that method\n   }\n\n   static class ClassWhichHasMethod{\n      public void theMethodIWant(){} // the method I want to check\n   }\n\n   static class ClassWhichDoesNotHaveMethod{ // no method here}\n\n   public static void doRandomTask(Class&lt;? hasMethod theMethodIWant&gt; class){\n      // my random code \n   }\n\n}\n</code></pre>\n"},{"tags":["java","spring","rest","unirest","unirest-java"],"comments":[{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1651948848,"post_id":72155168,"comment_id":127489281,"body_markdown":"possible a duplicate of https://stackoverflow.com/questions/50877484/java-sql-time-exception ?","body":"possible a duplicate of <a href=\"https://stackoverflow.com/questions/50877484/java-sql-time-exception\" title=\"java sql time exception\">stackoverflow.com/questions/50877484/java-sql-time-exception</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651947412,"creation_date":1651947412,"answer_id":72155279,"question_id":72155168,"body_markdown":"Content-Type for JSON Patch requests should be application/json-patch+json\r\n\r\nSorry i see you used just &quot;patch&quot;, tbh json-patch is better according to me.\r\n","title":"java.lang.NoClassDefFoundError: java/sql/Time Exception when trying to send a PATCH request","body":"<p>Content-Type for JSON Patch requests should be application/json-patch+json</p>\n<p>Sorry i see you used just &quot;patch&quot;, tbh json-patch is better according to me.</p>\n"}],"owner":{"account_id":24036445,"reputation":1,"user_id":18016663,"display_name":"Patryk Łasek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651947412,"creation_date":1651946365,"question_id":72155168,"body_markdown":"I&#39;m trying to make an application which updates an Entity. Server is made using Spring Boot.\r\nI&#39;m trying to send a PATCH request using Unirest, but I&#39;m getting this exception:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NoClassDefFoundError: java/sql/Time\r\n    \tat com.google.gson.Gson.&lt;init&gt;(Gson.java:265)\r\n    \tat com.google.gson.Gson.&lt;init&gt;(Gson.java:186)\r\n    \tat unirest.java@3.13.6/kong.unirest.json.CoreFactory$JavaTypeAdapter.&lt;init&gt;(CoreFactory.java:54)\r\n    \tat unirest.java@3.13.6/kong.unirest.json.CoreFactory.&lt;clinit&gt;(CoreFactory.java:42)\r\n    \tat unirest.java@3.13.6/kong.unirest.json.JSONElement.&lt;clinit&gt;(JSONElement.java:38)\r\n    \tat unirest.java@3.13.6/kong.unirest.JsonNode.&lt;init&gt;(JsonNode.java:41)\r\n    \tat unirest.java@3.13.6/kong.unirest.JsonResponse.getNode(JsonResponse.java:40)\r\n    \tat unirest.java@3.13.6/kong.unirest.JsonResponse.&lt;init&gt;(JsonResponse.java:35)\r\n    \tat unirest.java@3.13.6/kong.unirest.apache.BaseApacheClient.transformBody(BaseApacheClient.java:60)\r\n    \tat unirest.java@3.13.6/kong.unirest.apache.ApacheClient.request(ApacheClient.java:132)\r\n    \tat unirest.java@3.13.6/kong.unirest.Client.request(Client.java:57)\r\n    \tat unirest.java@3.13.6/kong.unirest.BaseRequest.request(BaseRequest.java:359)\r\n    \tat unirest.java@3.13.6/kong.unirest.BaseRequest.asJson(BaseRequest.java:244)\r\n    \tat AplikacjaDoLogowania/com.Controller.FXMLImageMenuController.lambda$updateWindow$3(FXMLImageMenuController.java:176)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@19-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base@19-ea/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@19-ea/javafx.scene.Scene$KeyHandler.process(Scene.java:4089)\r\n    \tat javafx.graphics@19-ea/javafx.scene.Scene.processKeyEvent(Scene.java:2146)\r\n    \tat javafx.graphics@19-ea/javafx.scene.Scene$ScenePeerListener.keyEvent(Scene.java:2614)\r\n    \tat javafx.graphics@19-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:218)\r\n    \tat javafx.graphics@19-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:150)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics@19-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleKeyEvent$1(GlassViewEventHandler.java:250)\r\n    \tat javafx.graphics@19-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n    \tat javafx.graphics@19-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleKeyEvent(GlassViewEventHandler.java:249)\r\n    \tat javafx.graphics@19-ea/com.sun.glass.ui.View.handleKeyEvent(View.java:542)\r\n    \tat javafx.graphics@19-ea/com.sun.glass.ui.View.notifyKey(View.java:966)\r\n    \tat javafx.graphics@19-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@19-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.ClassNotFoundException: java.sql.Time\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 41 more\r\n\r\nI don&#39;t know why it&#39;s behaving like that because I&#39;m not updating any time value\r\n\r\nEntity from server:\r\n\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import java.time.LocalDateTime;\r\n    \r\n    @Entity\r\n    public class Entity{\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n        private int scannerNumber;\r\n        private String loggedUser;\r\n        private boolean inService;\r\n        private LocalDateTime timeOfLogin;\r\n    \r\n        public Entity() {\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public int getScannerNumber() {\r\n            return scannerNumber;\r\n        }\r\n    \r\n        public void setScannerNumber(int scannerNumber) {\r\n            this.scannerNumber = scannerNumber;\r\n        }\r\n    \r\n        public String getLoggedUser() {\r\n            return loggedUser;\r\n        }\r\n    \r\n        public void setLoggedUser(String loggedUser) {\r\n            this.loggedUser = loggedUser;\r\n        }\r\n    \r\n        public boolean isInService() {\r\n            return inService;\r\n        }\r\n    \r\n        public void setInService(boolean inService) {\r\n            this.inService = inService;\r\n        }\r\n    \r\n        public LocalDateTime getTimeOfLogin() {\r\n            return timeOfLogin;\r\n        }\r\n    \r\n        public void setTimeOfLogin(LocalDateTime timeOfLogin) {\r\n            this.timeOfLogin = timeOfLogin;\r\n        }\r\n    }\r\n\r\nController from server:\r\n\r\n    @RestController\r\n    public class EntityController{\r\n        private static final Logger logger = LoggerFactory.getLogger(ScannerController.class);\r\n        private final EntityRepository repository;\r\n    \r\n        public EntityController(EntityRepository repository) {\r\n            this.repository = repository;\r\n        }\r\n    \r\n        @GetMapping(&quot;/scanners&quot;)\r\n        ResponseEntity&lt;List&lt;Scanner&gt;&gt; findAll(){\r\n            return ResponseEntity.ok(repository.findAll());\r\n        }\r\n        @GetMapping(&quot;/scanners/{id}&quot;)\r\n        ResponseEntity&lt;?&gt; findById(@PathVariable int id){\r\n            if (repository.existsById(id)){\r\n                return ResponseEntity.ok(repository.findById(id));\r\n    \r\n            } else {\r\n                logger.warn(&quot;Brak skanera o podanym numerze&quot;);\r\n                return ResponseEntity.notFound().build();\r\n            }\r\n        }\r\n        @GetMapping(&quot;/scanners/service/{param}&quot;)\r\n        ResponseEntity&lt;List&lt;Entity&gt;&gt; findByInService(@PathVariable boolean param){\r\n            return ResponseEntity.ok(repository.findByInService(param));\r\n        }\r\n        @PatchMapping(&quot;/scanners/{id}&quot;)\r\n        ResponseEntity&lt;?&gt;updateScanner(@PathVariable int id, @Valid Entity toUpdate){\r\n            if (repository.existsById(id)){\r\n                if(!repository.findById(id).get().isInService()){\r\n                    Entity entity = toUpdate;\r\n                    entity.setTimeOfLogin(LocalDateTime.now());\r\n                    entity.setId(id);\r\n                    repository.save(entity);\r\n                    return ResponseEntity.noContent().build();\r\n                } else {\r\n                    logger.info(&quot;Device in service&quot;);\r\n                    return ResponseEntity.badRequest().build();\r\n                }\r\n    \r\n            } else {\r\n                return ResponseEntity.notFound().build();\r\n            }\r\n    \r\n        }\r\n\r\nand my PATCH request from an client application:\r\n\r\n\r\n    HttpResponse&lt;JsonNode&gt; request = Unirest.patch(&quot;http://localhost:8080/scanners/&quot; + entity.getId())\r\n                            .header(&quot;accept&quot;, &quot;application/json&quot;)\r\n                            .field(&quot;loggedUser&quot;, loggedUserTextField.getText())\r\n                            .asJson();\r\n\r\n\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: java/sql/Time Exception when trying to send a PATCH request","body":"<p>I'm trying to make an application which updates an Entity. Server is made using Spring Boot.\nI'm trying to send a PATCH request using Unirest, but I'm getting this exception:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NoClassDefFoundError: java/sql/Time\n    at com.google.gson.Gson.&lt;init&gt;(Gson.java:265)\n    at com.google.gson.Gson.&lt;init&gt;(Gson.java:186)\n    at unirest.java@3.13.6/kong.unirest.json.CoreFactory$JavaTypeAdapter.&lt;init&gt;(CoreFactory.java:54)\n    at unirest.java@3.13.6/kong.unirest.json.CoreFactory.&lt;clinit&gt;(CoreFactory.java:42)\n    at unirest.java@3.13.6/kong.unirest.json.JSONElement.&lt;clinit&gt;(JSONElement.java:38)\n    at unirest.java@3.13.6/kong.unirest.JsonNode.&lt;init&gt;(JsonNode.java:41)\n    at unirest.java@3.13.6/kong.unirest.JsonResponse.getNode(JsonResponse.java:40)\n    at unirest.java@3.13.6/kong.unirest.JsonResponse.&lt;init&gt;(JsonResponse.java:35)\n    at unirest.java@3.13.6/kong.unirest.apache.BaseApacheClient.transformBody(BaseApacheClient.java:60)\n    at unirest.java@3.13.6/kong.unirest.apache.ApacheClient.request(ApacheClient.java:132)\n    at unirest.java@3.13.6/kong.unirest.Client.request(Client.java:57)\n    at unirest.java@3.13.6/kong.unirest.BaseRequest.request(BaseRequest.java:359)\n    at unirest.java@3.13.6/kong.unirest.BaseRequest.asJson(BaseRequest.java:244)\n    at AplikacjaDoLogowania/com.Controller.FXMLImageMenuController.lambda$updateWindow$3(FXMLImageMenuController.java:176)\n    at javafx.base@19-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19-ea/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19-ea/javafx.scene.Scene$KeyHandler.process(Scene.java:4089)\n    at javafx.graphics@19-ea/javafx.scene.Scene.processKeyEvent(Scene.java:2146)\n    at javafx.graphics@19-ea/javafx.scene.Scene$ScenePeerListener.keyEvent(Scene.java:2614)\n    at javafx.graphics@19-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:218)\n    at javafx.graphics@19-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:150)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleKeyEvent$1(GlassViewEventHandler.java:250)\n    at javafx.graphics@19-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleKeyEvent(GlassViewEventHandler.java:249)\n    at javafx.graphics@19-ea/com.sun.glass.ui.View.handleKeyEvent(View.java:542)\n    at javafx.graphics@19-ea/com.sun.glass.ui.View.notifyKey(View.java:966)\n    at javafx.graphics@19-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ClassNotFoundException: java.sql.Time\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 41 more\n</code></pre>\n<p>I don't know why it's behaving like that because I'm not updating any time value</p>\n<p>Entity from server:</p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport java.time.LocalDateTime;\n\n@Entity\npublic class Entity{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private int scannerNumber;\n    private String loggedUser;\n    private boolean inService;\n    private LocalDateTime timeOfLogin;\n\n    public Entity() {\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getScannerNumber() {\n        return scannerNumber;\n    }\n\n    public void setScannerNumber(int scannerNumber) {\n        this.scannerNumber = scannerNumber;\n    }\n\n    public String getLoggedUser() {\n        return loggedUser;\n    }\n\n    public void setLoggedUser(String loggedUser) {\n        this.loggedUser = loggedUser;\n    }\n\n    public boolean isInService() {\n        return inService;\n    }\n\n    public void setInService(boolean inService) {\n        this.inService = inService;\n    }\n\n    public LocalDateTime getTimeOfLogin() {\n        return timeOfLogin;\n    }\n\n    public void setTimeOfLogin(LocalDateTime timeOfLogin) {\n        this.timeOfLogin = timeOfLogin;\n    }\n}\n</code></pre>\n<p>Controller from server:</p>\n<pre><code>@RestController\npublic class EntityController{\n    private static final Logger logger = LoggerFactory.getLogger(ScannerController.class);\n    private final EntityRepository repository;\n\n    public EntityController(EntityRepository repository) {\n        this.repository = repository;\n    }\n\n    @GetMapping(&quot;/scanners&quot;)\n    ResponseEntity&lt;List&lt;Scanner&gt;&gt; findAll(){\n        return ResponseEntity.ok(repository.findAll());\n    }\n    @GetMapping(&quot;/scanners/{id}&quot;)\n    ResponseEntity&lt;?&gt; findById(@PathVariable int id){\n        if (repository.existsById(id)){\n            return ResponseEntity.ok(repository.findById(id));\n\n        } else {\n            logger.warn(&quot;Brak skanera o podanym numerze&quot;);\n            return ResponseEntity.notFound().build();\n        }\n    }\n    @GetMapping(&quot;/scanners/service/{param}&quot;)\n    ResponseEntity&lt;List&lt;Entity&gt;&gt; findByInService(@PathVariable boolean param){\n        return ResponseEntity.ok(repository.findByInService(param));\n    }\n    @PatchMapping(&quot;/scanners/{id}&quot;)\n    ResponseEntity&lt;?&gt;updateScanner(@PathVariable int id, @Valid Entity toUpdate){\n        if (repository.existsById(id)){\n            if(!repository.findById(id).get().isInService()){\n                Entity entity = toUpdate;\n                entity.setTimeOfLogin(LocalDateTime.now());\n                entity.setId(id);\n                repository.save(entity);\n                return ResponseEntity.noContent().build();\n            } else {\n                logger.info(&quot;Device in service&quot;);\n                return ResponseEntity.badRequest().build();\n            }\n\n        } else {\n            return ResponseEntity.notFound().build();\n        }\n\n    }\n</code></pre>\n<p>and my PATCH request from an client application:</p>\n<pre><code>HttpResponse&lt;JsonNode&gt; request = Unirest.patch(&quot;http://localhost:8080/scanners/&quot; + entity.getId())\n                        .header(&quot;accept&quot;, &quot;application/json&quot;)\n                        .field(&quot;loggedUser&quot;, loggedUserTextField.getText())\n                        .asJson();\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","bean-validation"],"owner":{"account_id":20627356,"reputation":49,"user_id":15142894,"display_name":"Vikas Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651946701,"creation_date":1651946701,"question_id":72155210,"body_markdown":"I wanted to add some validation on my bean, I tried to do that, I got everything perfect but I&#39;m not getting error message which I had set in the bean file. Even I used **addFlashAttribute** but I got error after submit the form. I&#39;m using here thymeleaf too. I had tried all methods which are on StackOverflow but I got error only. help me any one....\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- hibernate-validator --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;6.1.3.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nCategory.java\r\n\r\n    @Entity\r\n    @DynamicInsert\r\n    @DynamicUpdate\r\n    @Table(uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;categoryName&quot;})})\r\n    public class Category {\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private long cId;\r\n    \r\n        @NotBlank(message = &quot;Field is empty !!&quot;)\r\n        @NotEmpty(message = &quot;Field is empty !!&quot;)\r\n        @NotNull\r\n        @Size(min = 2, message = &quot;Min character should be atleast 2 !!&quot;)\r\n        private String categoryName;\r\n\r\n\r\nAdminController.java\r\n\r\n     @GetMapping(&quot;/category/{page}&quot;)\r\n        public String addCategory(@PathVariable(&quot;page&quot;) Integer page,\r\n                @RequestParam(required = false, name = &quot;categoryMess&quot;) String categoryMess,\r\n                @RequestParam(required = false, name = &quot;catDataname&quot;) String catDataname,\r\n                @RequestParam(required = false, name = &quot;catcardtitle&quot;) String catcardtitle,\r\n                Model model) {\r\n    \r\n    \r\n                    if (!model.containsAttribute(&quot;category&quot;)) {\r\n                        model.addAttribute(&quot;category&quot;, new Category());\r\n                    }\r\n    \r\n            // if (!model.asMap().containsKey(&quot;category&quot;)) {\r\n            //     model.addAttribute(&quot;category&quot;, new Category());\r\n            // }\r\n            //didn&#39;t work\r\n    \r\n           \r\n            // pagination has started !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n            Pageable pageable = PageRequest.of(page, ConstantData.PAGE_SIZE);\r\n            Page&lt;Category&gt; pagecategoryDataList = categoryDaoImpl.gettingCategoryData(pageable);\r\n            // storing all ategory data in list from database\r\n            List&lt;Category&gt; categoryDataList = pagecategoryDataList.getContent();\r\n            // pagination has ended!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n            return &quot;adminSpace/addCategory&quot;;\r\n        }\r\n\r\n\r\nCategoryController.java\r\n\r\n    @PostMapping(&quot;/saveCategory/{currentPage}&quot;)\r\n        public ModelAndView savingCategory(@Valid @ModelAttribute Category category, BindingResult result, ModelMap model, RedirectAttributes rediret) {\r\n    \r\n    \r\n            if(result.hasErrors()){rediret.addFlashAttribute(&quot;org.springframework.validation.BindingResult.category&quot;, result);\r\n                rediret.addFlashAttribute(&quot;category&quot;, category);\r\n                return new ModelAndView(&quot;redirect:/admin/category/&quot; + currentPage, model);\r\n            }\r\n   \r\n            return new ModelAndView(&quot;redirect:/admin/category/&quot; + currentPage, model);\r\n        }\r\n\r\n\r\naddCategory.html\r\n\r\n     &lt;form th:action=&quot;@{/admin/category/saveCategory}+&#39;/&#39;+${currentPage}&quot; th:object=&quot;${category}&quot; method=&quot;post&quot;&gt;\r\n                                        &lt;div class=&quot;form-group&quot;&gt;\r\n                                            &lt;!-- th:value=&quot;categoryName&quot; --&gt;\r\n                                            &lt;input class=&quot;form-control&quot; th:value=&quot;${catDataname}&quot;  th:classappend=&quot;${#fields.hasErrors(&#39;categoryName&#39;)?&#39;is-invalid&#39;:&#39;&#39;}&quot;\r\n                                                type=&quot;text&quot; placeholder=&quot;Category name&quot; name=&quot;categoryName&quot; th:field=&quot;*{categoryName}&quot;&gt;\r\n                                        &lt;/div&gt;\r\n                                        &lt;div class=&quot;alert alert-danger&quot; th:each=&quot;e : ${#fields.errors(&#39;categoryName&#39;)}&quot; th:text=&quot;${e}&quot;&gt;&lt;/div&gt;\r\n                                        \r\n                                        &lt;!-- &lt;div class=&quot;alert alert-warning&quot; th:if=&quot;${#fields.hasErrors(&#39;categoryName&#39;)}&quot; th:errors=&quot;*{categoryName}&quot;&gt;&lt;/div&gt; --&gt;\r\n    \r\n                                        &lt;div class=&quot;form-group text-right&quot;&gt;\r\n                                            &lt;button type=&quot;submit&quot; class=&quot;btn btn-success px-4 mt-2&quot;&gt;save&lt;/button&gt;\r\n                                        &lt;/div&gt;\r\n                                    &lt;/form&gt;","title":"Failed to convert value of type &#39;org.springframework.validation.BeanPropertyBindingResult&#39; to required type &#39;java.lang.String&#39;;","body":"<p>I wanted to add some validation on my bean, I tried to do that, I got everything perfect but I'm not getting error message which I had set in the bean file. Even I used <strong>addFlashAttribute</strong> but I got error after submit the form. I'm using here thymeleaf too. I had tried all methods which are on StackOverflow but I got error only. help me any one....</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- hibernate-validator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.1.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Category.java</p>\n<pre><code>@Entity\n@DynamicInsert\n@DynamicUpdate\n@Table(uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;categoryName&quot;})})\npublic class Category {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long cId;\n\n    @NotBlank(message = &quot;Field is empty !!&quot;)\n    @NotEmpty(message = &quot;Field is empty !!&quot;)\n    @NotNull\n    @Size(min = 2, message = &quot;Min character should be atleast 2 !!&quot;)\n    private String categoryName;\n</code></pre>\n<p>AdminController.java</p>\n<pre><code> @GetMapping(&quot;/category/{page}&quot;)\n    public String addCategory(@PathVariable(&quot;page&quot;) Integer page,\n            @RequestParam(required = false, name = &quot;categoryMess&quot;) String categoryMess,\n            @RequestParam(required = false, name = &quot;catDataname&quot;) String catDataname,\n            @RequestParam(required = false, name = &quot;catcardtitle&quot;) String catcardtitle,\n            Model model) {\n\n\n                if (!model.containsAttribute(&quot;category&quot;)) {\n                    model.addAttribute(&quot;category&quot;, new Category());\n                }\n\n        // if (!model.asMap().containsKey(&quot;category&quot;)) {\n        //     model.addAttribute(&quot;category&quot;, new Category());\n        // }\n        //didn't work\n\n       \n        // pagination has started !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n        Pageable pageable = PageRequest.of(page, ConstantData.PAGE_SIZE);\n        Page&lt;Category&gt; pagecategoryDataList = categoryDaoImpl.gettingCategoryData(pageable);\n        // storing all ategory data in list from database\n        List&lt;Category&gt; categoryDataList = pagecategoryDataList.getContent();\n        // pagination has ended!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n        return &quot;adminSpace/addCategory&quot;;\n    }\n</code></pre>\n<p>CategoryController.java</p>\n<pre><code>@PostMapping(&quot;/saveCategory/{currentPage}&quot;)\n    public ModelAndView savingCategory(@Valid @ModelAttribute Category category, BindingResult result, ModelMap model, RedirectAttributes rediret) {\n\n\n        if(result.hasErrors()){rediret.addFlashAttribute(&quot;org.springframework.validation.BindingResult.category&quot;, result);\n            rediret.addFlashAttribute(&quot;category&quot;, category);\n            return new ModelAndView(&quot;redirect:/admin/category/&quot; + currentPage, model);\n        }\n\n        return new ModelAndView(&quot;redirect:/admin/category/&quot; + currentPage, model);\n    }\n</code></pre>\n<p>addCategory.html</p>\n<pre><code> &lt;form th:action=&quot;@{/admin/category/saveCategory}+'/'+${currentPage}&quot; th:object=&quot;${category}&quot; method=&quot;post&quot;&gt;\n                                    &lt;div class=&quot;form-group&quot;&gt;\n                                        &lt;!-- th:value=&quot;categoryName&quot; --&gt;\n                                        &lt;input class=&quot;form-control&quot; th:value=&quot;${catDataname}&quot;  th:classappend=&quot;${#fields.hasErrors('categoryName')?'is-invalid':''}&quot;\n                                            type=&quot;text&quot; placeholder=&quot;Category name&quot; name=&quot;categoryName&quot; th:field=&quot;*{categoryName}&quot;&gt;\n                                    &lt;/div&gt;\n                                    &lt;div class=&quot;alert alert-danger&quot; th:each=&quot;e : ${#fields.errors('categoryName')}&quot; th:text=&quot;${e}&quot;&gt;&lt;/div&gt;\n                                    \n                                    &lt;!-- &lt;div class=&quot;alert alert-warning&quot; th:if=&quot;${#fields.hasErrors('categoryName')}&quot; th:errors=&quot;*{categoryName}&quot;&gt;&lt;/div&gt; --&gt;\n\n                                    &lt;div class=&quot;form-group text-right&quot;&gt;\n                                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-success px-4 mt-2&quot;&gt;save&lt;/button&gt;\n                                    &lt;/div&gt;\n                                &lt;/form&gt;\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1651932787,"post_id":72153263,"comment_id":127485476,"body_markdown":"Arrays.asList is a method invocation.  `int[] arr` is an array declaration.  They are simply two separate things.  The fact that they both use commas does not make them the same thing.  And there are no “holes” in an array or in method parameters.","body":"Arrays.asList is a method invocation.  <code>int[] arr</code> is an array declaration.  They are simply two separate things.  The fact that they both use commas does not make them the same thing.  And there are no “holes” in an array or in method parameters."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1651932798,"post_id":72153263,"comment_id":127485480,"body_markdown":"Why should `ArrayList` work the same way as arrays? They are completely different things.","body":"Why should <code>ArrayList</code> work the same way as arrays? They are completely different things."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651933989,"creation_date":1651933989,"answer_id":72153473,"question_id":72153263,"body_markdown":"&gt; hereas I understand through various websites that Array with trailing comma(s) will create holes and iterating that will skip the holes\r\n\r\nNot in java it doesn&#39;t. That&#39;s referring to various other languages where you can e.g. type `[, , ,]` and this makes a list of 4x &quot;nothing&quot;. But java doesn&#39;t have that - the closest thing to nothing that java has is `null`, but you&#39;d have to type it out. `List.of(null, null, null, null)` would make &#39;a list of 4x nothing&#39; in java, as near as can be.\r\n\r\n## So what about java&#39;s trailing commas\r\n\r\nAs per the java language spec, in method invocations, you can&#39;t just toss a pointless and completely optional comma at the end of an arguments list. It&#39;s simply not valid java. However, when writing an array initializer, you CAN do that. Why? Just cuz. Spec says so. At some point your question boils down to: &quot;What was the language designer thinking&quot; - which is beyond the scope of Stack Overflow. You&#39;d have to ask them.\r\n\r\nAt any rate, you are allowed to do it, and __it does nothing at all__. There is zero difference between `int[] x = {1,2,};` and `int[] x = {1,2};`. Both produce a 2-sized array with elements `1` and `2`. The trailing comma is completely optional and has absolutely no effect. Whatsoever. Identical class files. Go ahead, try it, compile it, run a byte-differ on the class files that come out. Identical.\r\n\r\n## But... why?\r\n\r\nThe reason trailing commas are convenient at times is because of __version control systems__. Stop thinking about writing 5 lines of script and your first programming lessons for a moment - think working in a bigger team, producing a product that hundreds of thousands of users depend on, where billions of euros just go up in smoke if e.g. a security issue is plaguing the code base.\r\n\r\nYou want to be capable of working together in teams, which means not all code you look at is written by you, neccessarily. That means you may want to, for any given line, ask the system: Hey, who last changed this line, and can you show me the other stuff they did around that time, and it would be even better if I can see a comment or a link to a ticket in a ticketing system that explains why they did all this, because I need that context to know what&#39;s happening.\r\n\r\nThe solution to that is version control systems, where you &#39;check in&#39;, as a unit of work, a bunch of modifications to existing source files. &quot;Today, I added these 5 lines here, removed these 2 lines here, changed these 2 lines, and added these 2 whole new files. That whole thing comprises the fix for the bug mentioned in ticket 12894&quot;. That sort of thing.\r\n\r\nOnce you have that, you get a convenient route for code review: That your edits aren&#39;t just pushed straight into what powers, say, `google.com`, but that someone else first tests this out and looks at your changes; a second pair of eyes. They can look at exactly what you changed.\r\n\r\nAnd only now can you understand the point of optional trailing commas. They do absolutely nothing, but imagine you have a list of, say, known US states. You might have:\r\n\r\n```\r\nString[] STATES = {\r\n  &quot;Alabama&quot;,\r\n  &quot;Arkansas&quot;,\r\n  &quot;New york&quot;\r\n};\r\n```\r\n\r\nand then someone wants to add a new state to the list, so they edit that code:\r\n\r\n```\r\nString[] STATES = {\r\n  &quot;Alabama&quot;,\r\n  &quot;Arkansas&quot;,\r\n  &quot;New york&quot;,\r\n  &quot;Hawaii&quot;\r\n};\r\n```\r\n\r\nThe problem is, technically they changed __2__ lines there. They changed the `New York` line, by adding a comma. That &#39;noises it all up&#39;.\r\n\r\nLet&#39;s say I notice that its a bit odd they didn&#39;t spell it `New York` - that Y is customarily capitalized. Possibly some other system requires that it&#39;s all lowercase except the first letter, perhaps. I want to see who edited/made that New york line, what ticket is associated with it, and when it happened. So I ask the system and I get.... your edit. The one that added Hawaii - the one that is utterly irrelevant. Only because of that silly trailing comma. A code reviewer will also have to review that edit which also seems pointless.\r\n\r\nImagine instead that we have a policy of always using that pointless trailing comma that does nothing at all, and we started with:\r\n\r\n```\r\nString[] STATES = {\r\n  &quot;Alabama&quot;,\r\n  &quot;Arkansas&quot;,\r\n  &quot;New york&quot;,\r\n};\r\n```\r\n\r\ninstead. Now I can add that Hawaii line (adding a pointless trailing comma), and now I haven&#39;t noised it up. My &#39;commit&#39; (list of changes I made, it&#39;s a term of art in the Version Control System world) is just the one line adding hawaii, nothing more.\r\n\r\nThat&#39;s the __only__ reason that java, or any other language, allows this concept of &#39;trailing commas in comma separated lists that do not actually do anything&#39;. They do not create holes or an extra entry. They exist only to keep commits as clean as they can be.\r\n\r\nYou may correctly conclude I dislike the fact that you can&#39;t put trailing commas in method invocations. I&#39;ll make a point to mention this when the opportunity arises in amber-dev or what not - I&#39;m pretty sure the structure of the language spec can handle it.","title":"Comma separator confusion in Array and ArrayList","body":"<blockquote>\n<p>hereas I understand through various websites that Array with trailing comma(s) will create holes and iterating that will skip the holes</p>\n</blockquote>\n<p>Not in java it doesn't. That's referring to various other languages where you can e.g. type <code>[, , ,]</code> and this makes a list of 4x &quot;nothing&quot;. But java doesn't have that - the closest thing to nothing that java has is <code>null</code>, but you'd have to type it out. <code>List.of(null, null, null, null)</code> would make 'a list of 4x nothing' in java, as near as can be.</p>\n<h2>So what about java's trailing commas</h2>\n<p>As per the java language spec, in method invocations, you can't just toss a pointless and completely optional comma at the end of an arguments list. It's simply not valid java. However, when writing an array initializer, you CAN do that. Why? Just cuz. Spec says so. At some point your question boils down to: &quot;What was the language designer thinking&quot; - which is beyond the scope of Stack Overflow. You'd have to ask them.</p>\n<p>At any rate, you are allowed to do it, and <strong>it does nothing at all</strong>. There is zero difference between <code>int[] x = {1,2,};</code> and <code>int[] x = {1,2};</code>. Both produce a 2-sized array with elements <code>1</code> and <code>2</code>. The trailing comma is completely optional and has absolutely no effect. Whatsoever. Identical class files. Go ahead, try it, compile it, run a byte-differ on the class files that come out. Identical.</p>\n<h2>But... why?</h2>\n<p>The reason trailing commas are convenient at times is because of <strong>version control systems</strong>. Stop thinking about writing 5 lines of script and your first programming lessons for a moment - think working in a bigger team, producing a product that hundreds of thousands of users depend on, where billions of euros just go up in smoke if e.g. a security issue is plaguing the code base.</p>\n<p>You want to be capable of working together in teams, which means not all code you look at is written by you, neccessarily. That means you may want to, for any given line, ask the system: Hey, who last changed this line, and can you show me the other stuff they did around that time, and it would be even better if I can see a comment or a link to a ticket in a ticketing system that explains why they did all this, because I need that context to know what's happening.</p>\n<p>The solution to that is version control systems, where you 'check in', as a unit of work, a bunch of modifications to existing source files. &quot;Today, I added these 5 lines here, removed these 2 lines here, changed these 2 lines, and added these 2 whole new files. That whole thing comprises the fix for the bug mentioned in ticket 12894&quot;. That sort of thing.</p>\n<p>Once you have that, you get a convenient route for code review: That your edits aren't just pushed straight into what powers, say, <code>google.com</code>, but that someone else first tests this out and looks at your changes; a second pair of eyes. They can look at exactly what you changed.</p>\n<p>And only now can you understand the point of optional trailing commas. They do absolutely nothing, but imagine you have a list of, say, known US states. You might have:</p>\n<pre><code>String[] STATES = {\n  &quot;Alabama&quot;,\n  &quot;Arkansas&quot;,\n  &quot;New york&quot;\n};\n</code></pre>\n<p>and then someone wants to add a new state to the list, so they edit that code:</p>\n<pre><code>String[] STATES = {\n  &quot;Alabama&quot;,\n  &quot;Arkansas&quot;,\n  &quot;New york&quot;,\n  &quot;Hawaii&quot;\n};\n</code></pre>\n<p>The problem is, technically they changed <strong>2</strong> lines there. They changed the <code>New York</code> line, by adding a comma. That 'noises it all up'.</p>\n<p>Let's say I notice that its a bit odd they didn't spell it <code>New York</code> - that Y is customarily capitalized. Possibly some other system requires that it's all lowercase except the first letter, perhaps. I want to see who edited/made that New york line, what ticket is associated with it, and when it happened. So I ask the system and I get.... your edit. The one that added Hawaii - the one that is utterly irrelevant. Only because of that silly trailing comma. A code reviewer will also have to review that edit which also seems pointless.</p>\n<p>Imagine instead that we have a policy of always using that pointless trailing comma that does nothing at all, and we started with:</p>\n<pre><code>String[] STATES = {\n  &quot;Alabama&quot;,\n  &quot;Arkansas&quot;,\n  &quot;New york&quot;,\n};\n</code></pre>\n<p>instead. Now I can add that Hawaii line (adding a pointless trailing comma), and now I haven't noised it up. My 'commit' (list of changes I made, it's a term of art in the Version Control System world) is just the one line adding hawaii, nothing more.</p>\n<p>That's the <strong>only</strong> reason that java, or any other language, allows this concept of 'trailing commas in comma separated lists that do not actually do anything'. They do not create holes or an extra entry. They exist only to keep commits as clean as they can be.</p>\n<p>You may correctly conclude I dislike the fact that you can't put trailing commas in method invocations. I'll make a point to mention this when the opportunity arises in amber-dev or what not - I'm pretty sure the structure of the language spec can handle it.</p>\n"}],"owner":{"account_id":22714313,"reputation":5,"user_id":16879825,"display_name":"Anshul Jyoti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72153473,"answer_count":1,"score":-1,"last_activity_date":1651946156,"creation_date":1651932434,"question_id":72153263,"body_markdown":"Why am I getting an error while initializing `ArrayList` with a trailing comma (,) whereas I understand through various websites that `Array` with trailing comma(s) will create holes and iterating that will skip the holes?\r\n\r\nJava:\r\n\r\n```java\r\nclass ProblemA {\r\n    public static void main(String[] args) {\r\n    //HashMap&lt;Integer,Integer&gt; map=new HashMap&lt;&gt;();\r\n    ArrayList&lt;Integer&gt; map = new ArrayList&lt;&gt;(Arrays.asList(1,2,2,3,2,));\r\n    int[] arr = {1,2,2,3,2,};\r\n    }\r\n}\r\n```\r\n\r\n[![Java code in ArrayList][1]][1]\r\n\r\n  \r\n  [1]: https://i.stack.imgur.com/enLCv.png","title":"Comma separator confusion in Array and ArrayList","body":"<p>Why am I getting an error while initializing <code>ArrayList</code> with a trailing comma (,) whereas I understand through various websites that <code>Array</code> with trailing comma(s) will create holes and iterating that will skip the holes?</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ProblemA {\n    public static void main(String[] args) {\n    //HashMap&lt;Integer,Integer&gt; map=new HashMap&lt;&gt;();\n    ArrayList&lt;Integer&gt; map = new ArrayList&lt;&gt;(Arrays.asList(1,2,2,3,2,));\n    int[] arr = {1,2,2,3,2,};\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/enLCv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/enLCv.png\" alt=\"Java code in ArrayList\" /></a></p>\n"},{"tags":["java","arrays","sorting","data-structures"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1651946009,"post_id":72154980,"comment_id":127488703,"body_markdown":"See https://stackoverflow.com/questions/29391575/type-mismatch-cannot-convert-from-element-type-object-to-parent do `List&lt;Integer&gt; left`, same for right","body":"See <a href=\"https://stackoverflow.com/questions/29391575/type-mismatch-cannot-convert-from-element-type-object-to-parent\" title=\"type mismatch cannot convert from element type object to parent\">stackoverflow.com/questions/29391575/&hellip;</a> do <code>List&lt;Integer&gt; left</code>, same for right"}],"answers":[{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651945906,"creation_date":1651945906,"answer_id":72155096,"question_id":72154980,"body_markdown":"I really don&#39;t know where to start, when I am honest. \r\n\r\nFirst of all: Whatever you&#39;re doing here, it is not what I&#39;d call [Quicksort][1] - therefore the method name is already misleading. But since you return the source list back anyway and not working on its reference, you&#39;re leaving the whole function useless to begin with. \r\n\r\nYour error is because lists in Java are parameterised - meaning they need to know the datatype of the entries they will contain. Since everything in Java is a subclass of Object, the &quot;default&quot; type for Lists is Object. That&#39;s what the `&lt;&gt;` next to the datatype is for: to define the type of the List.\r\n\r\nSo for your example: `List&lt;Integer&gt; left`, and so on would fix at least the error but not your faulty function. When using `Collections.sort` you can actually perform it directly on your List, no need to write an own function for it to wrap it.\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Quicksort","title":"How to convert and cast an object list to an integer list?","body":"<p>I really don't know where to start, when I am honest.</p>\n<p>First of all: Whatever you're doing here, it is not what I'd call <a href=\"https://en.wikipedia.org/wiki/Quicksort\" rel=\"nofollow noreferrer\">Quicksort</a> - therefore the method name is already misleading. But since you return the source list back anyway and not working on its reference, you're leaving the whole function useless to begin with.</p>\n<p>Your error is because lists in Java are parameterised - meaning they need to know the datatype of the entries they will contain. Since everything in Java is a subclass of Object, the &quot;default&quot; type for Lists is Object. That's what the <code>&lt;&gt;</code> next to the datatype is for: to define the type of the List.</p>\n<p>So for your example: <code>List&lt;Integer&gt; left</code>, and so on would fix at least the error but not your faulty function. When using <code>Collections.sort</code> you can actually perform it directly on your List, no need to write an own function for it to wrap it.</p>\n"},{"tags":[],"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651946092,"creation_date":1651946092,"answer_id":72155125,"question_id":72154980,"body_markdown":"There&#39;s a logic bug, `Arrays.asList(arr)` actually creates a list of lists `List&lt;List&lt;Integer&gt;&gt;` while it looks like what you want is a List&lt;Integer&gt; where arr already is one..\r\n\r\nAlso you need to properly parameterize `List left` and `List right` as `List&lt;Integer&gt;` otherwise it&#39;s treated as default type `Object`.\r\n\r\n\r\n```java\r\npublic static List&lt;Integer&gt; quickSort(List&lt;Integer&gt; arr) {\r\n    if(arr.size() == 1) {\r\n        return arr;\r\n    }\r\n    int mid = arr.size() / 2;\r\n    List&lt;Integer&gt; left =  arr.subList(0, mid);\r\n    List&lt;Integer&gt; right =  arr.subList(mid, arr.size());\r\n    Collections.sort(left);\r\n    Collections.sort(right);\r\n    for (Integer x : left) {\r\n        right.add(x);\r\n    }\r\n    return arr;\r\n}\r\n```\r\n\r\nEDIT: also returning arr in the return statement means your function does nothing as it just spits out the unedited input.","title":"How to convert and cast an object list to an integer list?","body":"<p>There's a logic bug, <code>Arrays.asList(arr)</code> actually creates a list of lists <code>List&lt;List&lt;Integer&gt;&gt;</code> while it looks like what you want is a List where arr already is one..</p>\n<p>Also you need to properly parameterize <code>List left</code> and <code>List right</code> as <code>List&lt;Integer&gt;</code> otherwise it's treated as default type <code>Object</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Integer&gt; quickSort(List&lt;Integer&gt; arr) {\n    if(arr.size() == 1) {\n        return arr;\n    }\n    int mid = arr.size() / 2;\n    List&lt;Integer&gt; left =  arr.subList(0, mid);\n    List&lt;Integer&gt; right =  arr.subList(mid, arr.size());\n    Collections.sort(left);\n    Collections.sort(right);\n    for (Integer x : left) {\n        right.add(x);\n    }\n    return arr;\n}\n</code></pre>\n<p>EDIT: also returning arr in the return statement means your function does nothing as it just spits out the unedited input.</p>\n"}],"owner":{"account_id":19469485,"reputation":1,"user_id":14242152,"display_name":"is89r"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72155125,"answer_count":2,"score":-2,"last_activity_date":1651946092,"creation_date":1651945083,"question_id":72154980,"body_markdown":"Bellow code snippet errors with:\r\n\r\n```\r\n &quot;Type mismatch: cannot convert from element type Object to Integer&quot;.\r\n```\r\n\r\n---\r\n\r\n    public static List&lt;Integer&gt; quickSort(List&lt;Integer&gt; arr) {\r\n\t\tif(arr.size() == 1) {\r\n\t\t\treturn arr;\r\n\t\t}\r\n\t\tint mid = arr.size() / 2;\r\n\t\tList left =  Arrays.asList(arr).subList(0, mid);\r\n\t\tList right =  Arrays.asList(arr).subList(mid, arr.size());\r\n        Collections.sort(left);\r\n        Collections.sort(right);\r\n        for (Integer x : left) {\r\n        \tright.add(x);\r\n        }\r\n        return arr;\r\n    }","title":"How to convert and cast an object list to an integer list?","body":"<p>Bellow code snippet errors with:</p>\n<pre><code> &quot;Type mismatch: cannot convert from element type Object to Integer&quot;.\n</code></pre>\n<hr />\n<pre><code>public static List&lt;Integer&gt; quickSort(List&lt;Integer&gt; arr) {\n    if(arr.size() == 1) {\n        return arr;\n    }\n    int mid = arr.size() / 2;\n    List left =  Arrays.asList(arr).subList(0, mid);\n    List right =  Arrays.asList(arr).subList(mid, arr.size());\n    Collections.sort(left);\n    Collections.sort(right);\n    for (Integer x : left) {\n        right.add(x);\n    }\n    return arr;\n}\n</code></pre>\n"},{"tags":["java","android","bitmap"],"comments":[{"owner":{"account_id":226472,"reputation":1016,"user_id":487543,"accept_rate":20,"display_name":"MengMeng"},"score":0,"creation_date":1393924004,"post_id":22167192,"comment_id":33642574,"body_markdown":"what is your android os version?","body":"what is your android os version?"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1393924073,"post_id":22167192,"comment_id":33642611,"body_markdown":"Do the image bytes have the same dimension as your bitmap (540x719)?","body":"Do the image bytes have the same dimension as your bitmap (540x719)?"},{"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"score":0,"creation_date":1393924129,"post_id":22167192,"comment_id":33642641,"body_markdown":"Don&#39;t you need to set the buffer size with ByteBuffer.allocate?","body":"Don&#39;t you need to set the buffer size with ByteBuffer.allocate?"},{"owner":{"account_id":3981112,"reputation":1104,"user_id":3282969,"accept_rate":85,"display_name":"WWJD"},"score":0,"creation_date":1393924163,"post_id":22167192,"comment_id":33642672,"body_markdown":"I&#39;m using 4.1.2(API level 16).","body":"I&#39;m using 4.1.2(API level 16)."},{"owner":{"account_id":3981112,"reputation":1104,"user_id":3282969,"accept_rate":85,"display_name":"WWJD"},"score":0,"creation_date":1393924362,"post_id":22167192,"comment_id":33642784,"body_markdown":"@Henry Yes. The length of the byte[] is 540*719*4.","body":"@Henry Yes. The length of the byte[] is 540*719*4."},{"owner":{"account_id":3981112,"reputation":1104,"user_id":3282969,"accept_rate":85,"display_name":"WWJD"},"score":0,"creation_date":1393925369,"post_id":22167192,"comment_id":33643410,"body_markdown":"@JamesB I tried to allocate the ByteBuffer but it still gives me the same exception.","body":"@JamesB I tried to allocate the ByteBuffer but it still gives me the same exception."},{"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"score":0,"creation_date":1393925474,"post_id":22167192,"comment_id":33643468,"body_markdown":"How did you allocate it?","body":"How did you allocate it?"},{"owner":{"account_id":3981112,"reputation":1104,"user_id":3282969,"accept_rate":85,"display_name":"WWJD"},"score":0,"creation_date":1393937472,"post_id":22167192,"comment_id":33651681,"body_markdown":"@JamesB I had another error. Now I&#39;m using \n`result = os.toByteArray(); \nByteBuffer buffer = ByteBuffer.allocate(result.length);\nbuffer = ByteBuffer.wrap(result);` \nand it works but it&#39;s too slow.","body":"@JamesB I had another error. Now I&#39;m using  <code>result = os.toByteArray();  ByteBuffer buffer = ByteBuffer.allocate(result.length); buffer = ByteBuffer.wrap(result);</code>  and it works but it&#39;s too slow."}],"answers":[{"tags":[],"owner":{"account_id":465801,"reputation":1649,"user_id":870135,"accept_rate":81,"display_name":"CCJ"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1400619555,"creation_date":1400619555,"answer_id":23769833,"question_id":22167192,"body_markdown":"Take a look at the source (version 2.3.4_r1, last time Bitmap was updated on Grepcode prior to 4.4) for [Bitmap::copyPixelsFromBuffer()][1]\r\n\r\nThe wording of the error is a bit unclear, but the code clarifies-- it means that your buffer is calculated as not having enough data to fill the pixels of your bitmap.\r\nThis is (possibly) because they use the buffer&#39;s remaining() method to figure the capacity of the buffer, which takes into account the current value of its position attribute.  If you call rewind() on your buffer before you invoke copyFromPixels(), you might see the runtime exception disappear.  I say &#39;might&#39; because the ByteBuffer::wrap() method should set the position attribute value to zero, removing the need to call rewind, but judging by similar questions and my own experience resetting the position explicitly may do the trick. \r\n\r\nTry\r\n\r\n    ByteBuffer buffer = ByteBuffer.wrap(os.toByteArray());\r\n    buffer.rewind();\r\n    bitmap_tmp.copyPixelsFromBuffer(buffer);\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.3.4_r1/android/graphics/Bitmap.java#Bitmap.copyPixelsFromBuffer%28java.nio.Buffer%29","title":"RuntimeException: Buffer not large enough for pixels","body":"<p>Take a look at the source (version 2.3.4_r1, last time Bitmap was updated on Grepcode prior to 4.4) for <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.3.4_r1/android/graphics/Bitmap.java#Bitmap.copyPixelsFromBuffer%28java.nio.Buffer%29\" rel=\"noreferrer\">Bitmap::copyPixelsFromBuffer()</a></p>\n\n<p>The wording of the error is a bit unclear, but the code clarifies-- it means that your buffer is calculated as not having enough data to fill the pixels of your bitmap.\nThis is (possibly) because they use the buffer's remaining() method to figure the capacity of the buffer, which takes into account the current value of its position attribute.  If you call rewind() on your buffer before you invoke copyFromPixels(), you might see the runtime exception disappear.  I say 'might' because the ByteBuffer::wrap() method should set the position attribute value to zero, removing the need to call rewind, but judging by similar questions and my own experience resetting the position explicitly may do the trick. </p>\n\n<p>Try</p>\n\n<pre><code>ByteBuffer buffer = ByteBuffer.wrap(os.toByteArray());\nbuffer.rewind();\nbitmap_tmp.copyPixelsFromBuffer(buffer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14745750,"reputation":11,"user_id":10649150,"display_name":"Jakub Czupryna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542154463,"creation_date":1542154463,"answer_id":53291348,"question_id":22167192,"body_markdown":"The buffer size should be exactly 1553040B (assuming bitmap&#39;s height, width and 32bit to encode each color).","title":"RuntimeException: Buffer not large enough for pixels","body":"<p>The buffer size should be exactly 1553040B (assuming bitmap's height, width and 32bit to encode each color).</p>\n"}],"owner":{"account_id":3981112,"reputation":1104,"user_id":3282969,"accept_rate":85,"display_name":"WWJD"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18050,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":23769833,"answer_count":2,"score":10,"last_activity_date":1651945811,"creation_date":1393923672,"question_id":22167192,"body_markdown":"I&#39;m receiving a Bitmap in byte array through socket and I read it and then I want to set it `os.toByteArray` as `ImageView` in my application. The code I use is:\r\n\r\n    try {\r\n        //bmp = BitmapFactory.decodeByteArray(result, 0, result.length);\r\n        bitmap_tmp = Bitmap.createBitmap(540, 719, Bitmap.Config.ARGB_8888);\r\n        ByteBuffer buffer = ByteBuffer.wrap(os.toByteArray());\r\n    \r\n        bitmap_tmp.copyPixelsFromBuffer(buffer);\r\n        Log.d(&quot;Server&quot;,result+&quot;Length:&quot;+result.length);\r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                imageView.setImageBitmap(bitmap_tmp);\r\n            }\r\n        });\r\n        return bmp;\r\n    } finally {\r\n    }\r\n\r\nWhen I run my application and start receiving `Byte[]` and expect that `ImageView` is changed, it&#39;s not.\r\n\r\n**LogCat** says: \r\n\r\n    java.lang.RuntimeException: Buffer not large enough for pixels at\r\n    android.graphics.Bitmap.copyPixelsFromBuffer\r\n\r\nI searched in similar questions but couldn&#39;t find a solution to my problem.","title":"RuntimeException: Buffer not large enough for pixels","body":"<p>I'm receiving a Bitmap in byte array through socket and I read it and then I want to set it <code>os.toByteArray</code> as <code>ImageView</code> in my application. The code I use is:</p>\n\n<pre><code>try {\n    //bmp = BitmapFactory.decodeByteArray(result, 0, result.length);\n    bitmap_tmp = Bitmap.createBitmap(540, 719, Bitmap.Config.ARGB_8888);\n    ByteBuffer buffer = ByteBuffer.wrap(os.toByteArray());\n\n    bitmap_tmp.copyPixelsFromBuffer(buffer);\n    Log.d(\"Server\",result+\"Length:\"+result.length);\n    runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n            imageView.setImageBitmap(bitmap_tmp);\n        }\n    });\n    return bmp;\n} finally {\n}\n</code></pre>\n\n<p>When I run my application and start receiving <code>Byte[]</code> and expect that <code>ImageView</code> is changed, it's not.</p>\n\n<p><strong>LogCat</strong> says: </p>\n\n<pre><code>java.lang.RuntimeException: Buffer not large enough for pixels at\nandroid.graphics.Bitmap.copyPixelsFromBuffer\n</code></pre>\n\n<p>I searched in similar questions but couldn't find a solution to my problem.</p>\n"},{"tags":["java","spring-boot","jpa","backend","data-conversion"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1651926997,"post_id":72152412,"comment_id":127484127,"body_markdown":"Have you seen projections - https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.  Basically, you can have each different screen calling its own Service, that returning its own projection.","body":"Have you seen projections - <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>&zwnj;&#8203;.  Basically, you can have each different screen calling its own Service, that returning its own projection."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":1,"creation_date":1651931061,"post_id":72152412,"comment_id":127485093,"body_markdown":"Use DTO objects see details https://martinfowler.com/eaaCatalog/dataTransferObject.html","body":"Use DTO objects see details <a href=\"https://martinfowler.com/eaaCatalog/dataTransferObject.html\" rel=\"nofollow noreferrer\">martinfowler.com/eaaCatalog/dataTransferObject.html</a>"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1651936265,"post_id":72152412,"comment_id":127486285,"body_markdown":"Use DTO as said by @Eugene. You can hide fields you don&#39;t want to display with json annotation such a `@JsonIgnore` https://medium.com/@bhanuchaddha/using-jsonignore-or-jsonproperty-to-hide-sensitive-data-in-json-response-ad12b1aacbf3","body":"Use DTO as said by @Eugene. You can hide fields you don&#39;t want to display with json annotation such a <code>@JsonIgnore</code> <a href=\"https://medium.com/@bhanuchaddha/using-jsonignore-or-jsonproperty-to-hide-sensitive-data-in-json-response-ad12b1aacbf3\" rel=\"nofollow noreferrer\">medium.com/@bhanuchaddha/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651945371,"creation_date":1651945371,"answer_id":72155020,"question_id":72152412,"body_markdown":"Idea 1 is exactly how it is usually done. The &quot;frontend classes&quot; as you called them are usually called Data Transfer Objects (DTOs) which are essentially &quot;views&quot; of the data stored in the DB tailored specifically for effectiveness of transfer from backend to frontend (via aggregation of multiple related entities) and ease of use (display) by the frontend.\r\n\r\nThe problem of conversion is a known one and is quite successfully solved by so called &quot;mappers&quot; that allow for (semi-)automatic conversion between DB entities and DTOs. One great example of such a mapper is `MapStruct` (https://mapstruct.org/documentation/stable/reference/html/) which nicely integrates with Spring and Lombok and has support in IntelliJ Idea.\r\n","title":"Separation of database(JPA) objects from data for the frontend in SpringBoot","body":"<p>Idea 1 is exactly how it is usually done. The &quot;frontend classes&quot; as you called them are usually called Data Transfer Objects (DTOs) which are essentially &quot;views&quot; of the data stored in the DB tailored specifically for effectiveness of transfer from backend to frontend (via aggregation of multiple related entities) and ease of use (display) by the frontend.</p>\n<p>The problem of conversion is a known one and is quite successfully solved by so called &quot;mappers&quot; that allow for (semi-)automatic conversion between DB entities and DTOs. One great example of such a mapper is <code>MapStruct</code> (<a href=\"https://mapstruct.org/documentation/stable/reference/html/\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/reference/html/</a>) which nicely integrates with Spring and Lombok and has support in IntelliJ Idea.</p>\n"}],"owner":{"account_id":9588611,"reputation":23,"user_id":19061199,"display_name":"sese317j"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72155020,"answer_count":1,"score":1,"last_activity_date":1651945371,"creation_date":1651925850,"question_id":72152412,"body_markdown":"I am currently developing a full-stack web application as a hobby project.\r\n\r\nMy tech stack is:\r\n-\tMySql Database\r\n-\tSpringBoot RestApi backend with JPA for the database interaction\r\n-\tVue frontend\r\n\r\nI have already modelled the database and created jpa entities for all the tables in the database. The data model includes some bi-directional relationships (many to many relationships). I then started creating some API Endpoints for the frontend to interact with, but I have some problems with deciding how I want the data to be serialized and sent to the frontend.\r\n\r\nIn most of the tutorials and examples the objects that directly resemble the database objects are serialized and then sent to the frontend. But I dont want that, mainly because of the bi-directional relationships which create unserializable recursions, but also because not all the data of an object from the database is meant to be sent to the frontend.\r\n\r\n**So I want to know how the separation/conversion between the database(jpa) objects and the objects that are serialized and then sent to the frontend is usually achieved.**\r\n\r\nI had some ideas, but I dont know how feasible they are in the real world:\r\n\r\n*Idea 1*: Create separate frontend classes of all entities which only include the data which has to be sent to the frontend.\r\nBut this possibly creates additional problems because of the continuous conversion between classes in every request/answer.\r\n\r\n*Idea 2*: Only send the &quot;raw&quot; object with all relations only as Ids, and just block all the &quot;unwanted&quot; data from serialization.\r\nIn this case the frontend now has to do way more requests to the backend in order to resolve all those ids to the required data.\r\n","title":"Separation of database(JPA) objects from data for the frontend in SpringBoot","body":"<p>I am currently developing a full-stack web application as a hobby project.</p>\n<p>My tech stack is:</p>\n<ul>\n<li>MySql Database</li>\n<li>SpringBoot RestApi backend with JPA for the database interaction</li>\n<li>Vue frontend</li>\n</ul>\n<p>I have already modelled the database and created jpa entities for all the tables in the database. The data model includes some bi-directional relationships (many to many relationships). I then started creating some API Endpoints for the frontend to interact with, but I have some problems with deciding how I want the data to be serialized and sent to the frontend.</p>\n<p>In most of the tutorials and examples the objects that directly resemble the database objects are serialized and then sent to the frontend. But I dont want that, mainly because of the bi-directional relationships which create unserializable recursions, but also because not all the data of an object from the database is meant to be sent to the frontend.</p>\n<p><strong>So I want to know how the separation/conversion between the database(jpa) objects and the objects that are serialized and then sent to the frontend is usually achieved.</strong></p>\n<p>I had some ideas, but I dont know how feasible they are in the real world:</p>\n<p><em>Idea 1</em>: Create separate frontend classes of all entities which only include the data which has to be sent to the frontend.\nBut this possibly creates additional problems because of the continuous conversion between classes in every request/answer.</p>\n<p><em>Idea 2</em>: Only send the &quot;raw&quot; object with all relations only as Ids, and just block all the &quot;unwanted&quot; data from serialization.\nIn this case the frontend now has to do way more requests to the backend in order to resolve all those ids to the required data.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-rest","spring-hateoas"],"comments":[{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":1,"creation_date":1472115128,"post_id":39053663,"comment_id":65625862,"body_markdown":"If you ask for HTML, then you get HTML.","body":"If you ask for HTML, then you get HTML."},{"owner":{"account_id":2859645,"reputation":147,"user_id":2455157,"accept_rate":50,"display_name":"user2455157"},"score":0,"creation_date":1472140840,"post_id":39053663,"comment_id":65643158,"body_markdown":"Thank you for the reply - however even if I add the application/json+hal content type header to the &quot;Custom Request Headers&quot; section of the HAL browser, I still get the HAL browser itself returned as the response. Furthermore, there is absolutely no indication in the documentation that this should be needed (and any examples I have seen of a running HAL browser do not appear to need to pass the content type header either).","body":"Thank you for the reply - however even if I add the application/json+hal content type header to the &quot;Custom Request Headers&quot; section of the HAL browser, I still get the HAL browser itself returned as the response. Furthermore, there is absolutely no indication in the documentation that this should be needed (and any examples I have seen of a running HAL browser do not appear to need to pass the content type header either)."},{"owner":{"account_id":2859645,"reputation":147,"user_id":2455157,"accept_rate":50,"display_name":"user2455157"},"score":0,"creation_date":1472141853,"post_id":39053663,"comment_id":65643772,"body_markdown":"My mistake, I should have used &quot;Accept: application/hal+json&quot;, which does indeed return the correct data. So, I guess the issue is the way that the spring boot package puts the redirect to the HAL browser on the same endpoint as the API, thus by default it won&#39;t work as expected.","body":"My mistake, I should have used &quot;Accept: application/hal+json&quot;, which does indeed return the correct data. So, I guess the issue is the way that the spring boot package puts the redirect to the HAL browser on the same endpoint as the API, thus by default it won&#39;t work as expected."}],"answers":[{"tags":[],"owner":{"account_id":4094684,"reputation":91,"user_id":3361807,"display_name":"user3361807"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471980298,"creation_date":1471980298,"answer_id":39109208,"question_id":39053663,"body_markdown":"A simple solution is to copy the hal-browser files for example from the repo:\r\nhttps://github.com/mikekelly/hal-browser in the \r\n\r\n`src/main/resources/static/`\r\n\r\nof your Spring Boot Application.","title":"Spring Data REST - HAL browser - returning HAL browser HTML rather than root of API","body":"<p>A simple solution is to copy the hal-browser files for example from the repo:\n<a href=\"https://github.com/mikekelly/hal-browser\" rel=\"nofollow\">https://github.com/mikekelly/hal-browser</a> in the </p>\n\n<p><code>src/main/resources/static/</code></p>\n\n<p>of your Spring Boot Application.</p>\n"},{"tags":[],"owner":{"account_id":2859645,"reputation":147,"user_id":2455157,"accept_rate":50,"display_name":"user2455157"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1529308801,"creation_date":1529308801,"answer_id":50905011,"question_id":39053663,"body_markdown":"Taking the information from the comments on the original question, the answer is as follows:\r\n\r\n[a-better-oliver:](https://stackoverflow.com/users/2151351/a-better-oliver)  \r\n`If you ask for HTML, then you get HTML`\r\n\r\nMe:  \r\n`I should have used &quot;Accept: application/hal+json&quot;, which does indeed return the correct data.`","title":"Spring Data REST - HAL browser - returning HAL browser HTML rather than root of API","body":"<p>Taking the information from the comments on the original question, the answer is as follows:</p>\n\n<p><a href=\"https://stackoverflow.com/users/2151351/a-better-oliver\">a-better-oliver:</a><br>\n<code>If you ask for HTML, then you get HTML</code></p>\n\n<p>Me:<br>\n<code>I should have used \"Accept: application/hal+json\", which does indeed return the correct data.</code></p>\n"},{"tags":[],"owner":{"account_id":2479831,"reputation":1430,"user_id":2159525,"accept_rate":50,"display_name":"Nallamachu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537193096,"creation_date":1537193096,"answer_id":52369612,"question_id":39053663,"body_markdown":"As one of the solution suggested in the same page like copy HAL browser files and all. I don&#39;t want to make any complexity of that for using REST-HAL-Browser.\r\n\r\nI have done a small R&amp;D to know, how to configure REST-HAL-Browser with Springboot application and How to use it? in a simple and easy manner and made steps available to every one. Even returning data, I am getting in the JSON format than the traditional HTML format. \r\n\r\nIn my application, I used SpringBoot-2.x version and below dependency for REST-HAL-browser.\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[Look at hear][1] for how did I configure and Used.\r\n\r\n**Note:** It&#39;s better to configure Producer type as **application/json** along with path, if your method is returning something.\r\n\r\n\r\n  [1]: https://github.com/Nallamachu/SpringBoot/blob/master/Actuator%20with%20REST-HAL-Browser/SpringBoot%20Actuator%20configuration%20with%20REST-HAL-Browser.md","title":"Spring Data REST - HAL browser - returning HAL browser HTML rather than root of API","body":"<p>As one of the solution suggested in the same page like copy HAL browser files and all. I don't want to make any complexity of that for using REST-HAL-Browser.</p>\n\n<p>I have done a small R&amp;D to know, how to configure REST-HAL-Browser with Springboot application and How to use it? in a simple and easy manner and made steps available to every one. Even returning data, I am getting in the JSON format than the traditional HTML format. </p>\n\n<p>In my application, I used SpringBoot-2.x version and below dependency for REST-HAL-browser.</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"https://github.com/Nallamachu/SpringBoot/blob/master/Actuator%20with%20REST-HAL-Browser/SpringBoot%20Actuator%20configuration%20with%20REST-HAL-Browser.md\" rel=\"nofollow noreferrer\">Look at hear</a> for how did I configure and Used.</p>\n\n<p><strong>Note:</strong> It's better to configure Producer type as <strong>application/json</strong> along with path, if your method is returning something.</p>\n"},{"tags":[],"owner":{"account_id":56966,"reputation":610,"user_id":170619,"display_name":"shivaspk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573187635,"creation_date":1573187635,"answer_id":58760414,"question_id":39053663,"body_markdown":"If you are using Spring 2.2.X please just use with REST HAL browser just go to : http://localhost:8080/ instead of http://localhost:8080/browser.\r\n\r\nThanks","title":"Spring Data REST - HAL browser - returning HAL browser HTML rather than root of API","body":"<p>If you are using Spring 2.2.X please just use with REST HAL browser just go to : <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">http://localhost:8080/</a> instead of <a href=\"http://localhost:8080/browser\" rel=\"nofollow noreferrer\">http://localhost:8080/browser</a>.</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":8785961,"reputation":171,"user_id":6567891,"display_name":"Bablu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1628783181,"creation_date":1623519538,"answer_id":67951434,"question_id":39053663,"body_markdown":"Try changing dependency from\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nto\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\nand then goto: http://localhost:8080","title":"Spring Data REST - HAL browser - returning HAL browser HTML rather than root of API","body":"<p>Try changing dependency from</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and then goto: http://localhost:8080</p>\n"},{"tags":[],"owner":{"account_id":3484456,"reputation":2621,"user_id":2915738,"display_name":"Asif Kamran Malick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624209638,"creation_date":1624209638,"answer_id":68058354,"question_id":39053663,"body_markdown":"For future readers: HAL Browser is **deprecated** in newer versions of Spring Boot as per their Spring-Io GitHub issue.\r\n\r\nIf you face issues with Hal Browser, please try using the **Hal Explorer** instead:\r\nhttps://mvnrepository.com/artifact/org.springframework.data/spring-data-rest-hal-explorer\r\n\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nMore information can be found in this GitHub issue :\r\n[Spring Boot 2.2 apps should use spring-data-rest-hal-explorer rather than spring-data-rest-hal-browser](https://github.com/spring-io/start.spring.io/issues/184)\r\n","title":"Spring Data REST - HAL browser - returning HAL browser HTML rather than root of API","body":"<p>For future readers: HAL Browser is <strong>deprecated</strong> in newer versions of Spring Boot as per their Spring-Io GitHub issue.</p>\n<p>If you face issues with Hal Browser, please try using the <strong>Hal Explorer</strong> instead:\n<a href=\"https://mvnrepository.com/artifact/org.springframework.data/spring-data-rest-hal-explorer\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.data/spring-data-rest-hal-explorer</a></p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>More information can be found in this GitHub issue :\n<a href=\"https://github.com/spring-io/start.spring.io/issues/184\" rel=\"nofollow noreferrer\">Spring Boot 2.2 apps should use spring-data-rest-hal-explorer rather than spring-data-rest-hal-browser</a></p>\n"},{"tags":[],"owner":{"account_id":17557619,"reputation":21,"user_id":12736753,"display_name":"Billy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651944890,"creation_date":1651944890,"answer_id":72154955,"question_id":39053663,"body_markdown":"Changing the context path in Spring boot really messes spring-data-rest-hal-explorer. Expect /mycontext/explorer/index.html but get 404 instead.\r\n\r\nSo I remove spring-data-rest-hal-explorer from pom. Then add:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hal-explorer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.42&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAfter that I can access hal explorer at:\r\n/mycontext/webjars/hal-explorer/index.html","title":"Spring Data REST - HAL browser - returning HAL browser HTML rather than root of API","body":"<p>Changing the context path in Spring boot really messes spring-data-rest-hal-explorer. Expect /mycontext/explorer/index.html but get 404 instead.</p>\n<p>So I remove spring-data-rest-hal-explorer from pom. Then add:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;hal-explorer&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\n            &lt;version&gt;0.42&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>After that I can access hal explorer at:\n/mycontext/webjars/hal-explorer/index.html</p>\n"}],"owner":{"account_id":2859645,"reputation":147,"user_id":2455157,"accept_rate":50,"display_name":"user2455157"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16552,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50905011,"answer_count":7,"score":3,"last_activity_date":1651944890,"creation_date":1471692952,"question_id":39053663,"body_markdown":"I am having a look into Spring Data REST, specifically the HAL browser. I have been following the documentation at http://docs.spring.io/spring-data/rest/docs/current/reference/html/#_the_hal_browser.\r\n\r\nWhen I navigate to `http://localhost:8080` it redirects me (as expected) to `http://localhost:8080/browser/index.html#/`, and the HAL browser is displayed. My issue is, rather than this page displaying details about the root of my API, it is trying to display itself. For example, the **Response Body** section has the `HTML` of the HAL browser in it, not `JSON` from my API.\r\n\r\n[![Screenshot of Response body][1]][1]\r\n\r\nI&#39;m not sure if I have done something wrong in my setup - it is pretty vanilla (complete source listing below), so would appreciate any pointers in the right direction!\r\n\r\nFor completeness - if I enter `/users` into the **Explorer** text field and select Go!, then I do see details of my API as expected. Furthermore, if I remove the HAL browser dependency and browse to `http://localhost:8080`, then I see the root of my API as expected.\r\n\r\n[![Screenshot of response when not using HAL browser][2]][2]\r\n\r\n*pom.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;sample&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;restsample&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;My application&lt;/name&gt;\r\n    \t&lt;description&gt;My application description&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n*Application.java*\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n*User.java*\r\n\r\n    @Data\r\n    @Entity\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n\r\n        @NotBlank\r\n        @Size(min = 1, max = 100)\r\n        @Column(unique = true)\r\n        private String username;\r\n    }\r\n\r\n*UserRepository.java*\r\n\r\n    @RepositoryRestResource\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n    \tUser save(User user);\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RtKEz.png\r\n  [2]: http://i.stack.imgur.com/GwgzG.png","title":"Spring Data REST - HAL browser - returning HAL browser HTML rather than root of API","body":"<p>I am having a look into Spring Data REST, specifically the HAL browser. I have been following the documentation at <a href=\"http://docs.spring.io/spring-data/rest/docs/current/reference/html/#_the_hal_browser\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-data/rest/docs/current/reference/html/#_the_hal_browser</a>.</p>\n\n<p>When I navigate to <code>http://localhost:8080</code> it redirects me (as expected) to <code>http://localhost:8080/browser/index.html#/</code>, and the HAL browser is displayed. My issue is, rather than this page displaying details about the root of my API, it is trying to display itself. For example, the <strong>Response Body</strong> section has the <code>HTML</code> of the HAL browser in it, not <code>JSON</code> from my API.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RtKEz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RtKEz.png\" alt=\"Screenshot of Response body\"></a></p>\n\n<p>I'm not sure if I have done something wrong in my setup - it is pretty vanilla (complete source listing below), so would appreciate any pointers in the right direction!</p>\n\n<p>For completeness - if I enter <code>/users</code> into the <strong>Explorer</strong> text field and select Go!, then I do see details of my API as expected. Furthermore, if I remove the HAL browser dependency and browse to <code>http://localhost:8080</code>, then I see the root of my API as expected.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GwgzG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GwgzG.png\" alt=\"Screenshot of response when not using HAL browser\"></a></p>\n\n<p><em>pom.xml</em></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;sample&lt;/groupId&gt;\n    &lt;artifactId&gt;restsample&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;My application&lt;/name&gt;\n    &lt;description&gt;My application description&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p><em>Application.java</em></p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p><em>User.java</em></p>\n\n<pre><code>@Data\n@Entity\npublic class User {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @NotBlank\n    @Size(min = 1, max = 100)\n    @Column(unique = true)\n    private String username;\n}\n</code></pre>\n\n<p><em>UserRepository.java</em></p>\n\n<pre><code>@RepositoryRestResource\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n    User save(User user);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":17001805,"reputation":104,"user_id":12299029,"display_name":"colin paice"},"score":0,"creation_date":1651944318,"post_id":72146129,"comment_id":127488343,"body_markdown":"How do you know this is an MQ problem,  In my experience (MQ performance) most performance problems were due to the other processing for example\nMQGET(fast) database update(slow)..  commit","body":"How do you know this is an MQ problem,  In my experience (MQ performance) most performance problems were due to the other processing for example MQGET(fast) database update(slow)..  commit"}],"answers":[{"tags":[],"owner":{"account_id":17001805,"reputation":104,"user_id":12299029,"display_name":"colin paice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651944741,"creation_date":1651944741,"answer_id":72154933,"question_id":72146129,"body_markdown":"How do you know this is an MQ problem,  In my experience (MQ performance) most performance problems were due to the other processing for example\r\nMQGET(fast) database update(slow)..  commit.   \r\n\r\nI would put some code around the various components, and time them.  For example\r\n\r\nGet time1 \r\nMQGET\r\nGet time2\r\n\r\ncalculate time2 - time 1\r\nif delta &gt; 10 ms report this ( or add it to a global counter)\r\n\r\ndo database work\r\nget time 3 \r\ncalculate time 3 - time 2 \r\n\r\nIf delta &gt; 10 ms report this (or add it to a global counter).\r\n\r\nIf this does not report any problems, drop the  time from 10ms to 2 ms.\r\n\r\n\r\nIf this does not report any problems, try adding additional instances of your program, as it could be that work is coming in faster than one thread can process it.\r\n\r\nI&#39;ve also seen reducing threads helped!   When they did a database insert/update this caused contention and threads were all waiting on the thread holding the lock-  you would see this from the long database times.\r\n\r\nAs a first step you could turn on some MQ traces to report how long the MQ calls take.... but adding the code I mentioned is good practice - especially if they problems is else where.\r\n\r\n\r\n","title":"How to improve message processing faster in spring boot and MQ app?","body":"<p>How do you know this is an MQ problem,  In my experience (MQ performance) most performance problems were due to the other processing for example\nMQGET(fast) database update(slow)..  commit.</p>\n<p>I would put some code around the various components, and time them.  For example</p>\n<p>Get time1\nMQGET\nGet time2</p>\n<p>calculate time2 - time 1\nif delta &gt; 10 ms report this ( or add it to a global counter)</p>\n<p>do database work\nget time 3\ncalculate time 3 - time 2</p>\n<p>If delta &gt; 10 ms report this (or add it to a global counter).</p>\n<p>If this does not report any problems, drop the  time from 10ms to 2 ms.</p>\n<p>If this does not report any problems, try adding additional instances of your program, as it could be that work is coming in faster than one thread can process it.</p>\n<p>I've also seen reducing threads helped!   When they did a database insert/update this caused contention and threads were all waiting on the thread holding the lock-  you would see this from the long database times.</p>\n<p>As a first step you could turn on some MQ traces to report how long the MQ calls take.... but adding the code I mentioned is good practice - especially if they problems is else where.</p>\n"}],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651944741,"creation_date":1651862941,"question_id":72146129,"body_markdown":"Got a small spring-boot messaging app that receives a message from the queue and inserts/updates a row in DB2 table. Noticed this week it received lot of messages but consumption was very slow that msgs filling the disk (infra complained about it). How could we improve the reading of the messages from the queue faster?\r\n\r\nJMS Config\r\n\r\n    ...\r\n    \t...\r\n    \t@Bean\r\n        public MQXAConnectionFactory mqxaQueueConnectionFactory() {\r\n            MQXAConnectionFactory mqxaConnectionFactory = new MQXAConnectionFactory();\r\n            log.info(&quot;Host: {}&quot;, host);\r\n            log.info(&quot;Port: {}&quot;, port);\r\n            log.info(&quot;Channel: {}&quot;, channel);\r\n            log.info(&quot;Timeout: {}&quot;, receiveTimeout);\r\n            try {\r\n                mqxaConnectionFactory.setHostName(host);\r\n                mqxaConnectionFactory.setPort(port);\r\n                mqxaConnectionFactory.setQueueManager(queueManager);\r\n                if (channel != null &amp;&amp; !channel.trim().isEmpty()) {\r\n                    mqxaConnectionFactory.setChannel(channel);\r\n                }\r\n                mqxaConnectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\r\n            } catch (JMSException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            return mqxaConnectionFactory;\r\n        }\r\n    \r\n        @Bean\r\n        public CachingConnectionFactory cachingConnectionFactory(MQXAConnectionFactory mqxaConnectionFactory) {\r\n            CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\r\n            cachingConnectionFactory.setTargetConnectionFactory(mqxaConnectionFactory);\r\n            cachingConnectionFactory.setSessionCacheSize(this.sessionCacheSize);\r\n            cachingConnectionFactory.setCacheConsumers(this.cacheConsumers);\r\n            cachingConnectionFactory.setReconnectOnException(true);\r\n            return cachingConnectionFactory;\r\n        }\r\n    \r\n        @Bean\r\n        @Primary\r\n        public SingleConnectionFactory singleConnectionFactory(MQXAConnectionFactory mqxaConnectionFactory) {\r\n            SingleConnectionFactory singleConnectionFactory = new SingleConnectionFactory(mqxaConnectionFactory);\r\n            singleConnectionFactory.setTargetConnectionFactory(mqxaConnectionFactory);\r\n            singleConnectionFactory.setReconnectOnException(true);\r\n            return singleConnectionFactory;\r\n        }\r\n    \r\n        @Bean\r\n        public PlatformTransactionManager platformTransactionManager(CachingConnectionFactory cachingConnectionFactory) {\r\n            return new JmsTransactionManager(cachingConnectionFactory);\r\n        }\r\n    \r\n        @Bean\r\n        public JmsOperations jmsOperations(CachingConnectionFactory cachingConnectionFactory) {\r\n            JmsTemplate jmsTemplate = new JmsTemplate(cachingConnectionFactory);\r\n            jmsTemplate.setReceiveTimeout(receiveTimeout);\r\n            return jmsTemplate;\r\n        }\r\n    \r\n        @Bean\r\n        public DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory(PlatformTransactionManager transactionManager,\r\n                  @Qualifier(&quot;singleConnectionFactory&quot;) SingleConnectionFactory singleConnectionFactory) {\r\n            EnhancedJmsListenerContainerFactory factory = new EnhancedJmsListenerContainerFactory();\r\n            factory.setConnectionFactory(singleConnectionFactory);\r\n            factory.setTransactionManager(transactionManager);\r\n            factory.setConcurrency(concurrency);\r\n            factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n            factory.setSessionTransacted(true);\r\n            factory.setMaxMessagesPerTask(this.messagesPerTask);\r\n            factory.setIdleTaskExecutionLimit(this.idleTaskExecutionLimit);\r\n            return factory;\r\n        }\r\n    \t...\r\n    \t...\r\n\r\nWe moved from CachingConnectionFactory to SingleConnectionFactory since it opened too many queue connections.\r\n\r\nQueue Listener\r\n\r\n    @Transactional\r\n    @Slf4j\r\n    @Component\r\n    @Profile(&quot;!thdtest&quot;)\r\n    public class QueueListener {\r\n        private CatalogStatusDataProcessor catalogStatusDataProcessor;\r\n        private HostToDestDataAckProcessor hostToDestDataAckProcessor;\r\n    \r\n        @Autowired\r\n        public QueueListener(CatalogStatusDataProcessor catalogStatusDataProcessor, HostToDestDataAckProcessor hostToDestDataAckProcessor) {\r\n            this.catalogStatusDataProcessor = catalogStatusDataProcessor;\r\n            this.hostToDestDataAckProcessor = hostToDestDataAckProcessor;\r\n        }\r\n    \r\n        @JmsListener(destination = &quot;${project.mq.queue}&quot;, containerFactory = &quot;defaultJmsListenerContainerFactory&quot;)\r\n        public void onMessage(MAOMessage message) throws Exception {\r\n    \r\n            String messageString = message.getStringMessagePayload();\r\n            try {\r\n                if (log.isDebugEnabled())\r\n                    log.debug(&quot;Message received = &quot;+messageString);\r\n                StopWatch sw = new StopWatch(&quot;Received message&quot;);\r\n                sw.start();\r\n                Object obj= XMLGenerator.generateTOfromXML(messageString);\r\n                if(obj instanceof ResponseTO){\r\n                    catalogStatusDataProcessor.processCatalogStatusInfo((ResponseTO)obj);\r\n                }\r\n                else if(obj instanceof HostToStoreDataAckWrapper){\r\n                    hostToDestDataAckProcessor.processHostToDestDataACK(messageString);\r\n                }\r\n                sw.stop();\r\n                log.info(&quot;Message is processed in = &quot;+sw.getTotalTimeSeconds() +&quot; seconds&quot;);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Exception in processing message: {}&quot;, e);\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n\r\n Tried changing the concurrency settings from 2-4 to 4-6 and it didn&#39;t improve much.\r\nUsing spring-boot 1.5.4.RELEASE, JdK8, javax.jms 2.0.1, MQ allclient 9.0","title":"How to improve message processing faster in spring boot and MQ app?","body":"<p>Got a small spring-boot messaging app that receives a message from the queue and inserts/updates a row in DB2 table. Noticed this week it received lot of messages but consumption was very slow that msgs filling the disk (infra complained about it). How could we improve the reading of the messages from the queue faster?</p>\n<p>JMS Config</p>\n<pre><code>...\n    ...\n    @Bean\n    public MQXAConnectionFactory mqxaQueueConnectionFactory() {\n        MQXAConnectionFactory mqxaConnectionFactory = new MQXAConnectionFactory();\n        log.info(&quot;Host: {}&quot;, host);\n        log.info(&quot;Port: {}&quot;, port);\n        log.info(&quot;Channel: {}&quot;, channel);\n        log.info(&quot;Timeout: {}&quot;, receiveTimeout);\n        try {\n            mqxaConnectionFactory.setHostName(host);\n            mqxaConnectionFactory.setPort(port);\n            mqxaConnectionFactory.setQueueManager(queueManager);\n            if (channel != null &amp;&amp; !channel.trim().isEmpty()) {\n                mqxaConnectionFactory.setChannel(channel);\n            }\n            mqxaConnectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\n        } catch (JMSException e) {\n            throw new RuntimeException(e);\n        }\n        return mqxaConnectionFactory;\n    }\n\n    @Bean\n    public CachingConnectionFactory cachingConnectionFactory(MQXAConnectionFactory mqxaConnectionFactory) {\n        CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\n        cachingConnectionFactory.setTargetConnectionFactory(mqxaConnectionFactory);\n        cachingConnectionFactory.setSessionCacheSize(this.sessionCacheSize);\n        cachingConnectionFactory.setCacheConsumers(this.cacheConsumers);\n        cachingConnectionFactory.setReconnectOnException(true);\n        return cachingConnectionFactory;\n    }\n\n    @Bean\n    @Primary\n    public SingleConnectionFactory singleConnectionFactory(MQXAConnectionFactory mqxaConnectionFactory) {\n        SingleConnectionFactory singleConnectionFactory = new SingleConnectionFactory(mqxaConnectionFactory);\n        singleConnectionFactory.setTargetConnectionFactory(mqxaConnectionFactory);\n        singleConnectionFactory.setReconnectOnException(true);\n        return singleConnectionFactory;\n    }\n\n    @Bean\n    public PlatformTransactionManager platformTransactionManager(CachingConnectionFactory cachingConnectionFactory) {\n        return new JmsTransactionManager(cachingConnectionFactory);\n    }\n\n    @Bean\n    public JmsOperations jmsOperations(CachingConnectionFactory cachingConnectionFactory) {\n        JmsTemplate jmsTemplate = new JmsTemplate(cachingConnectionFactory);\n        jmsTemplate.setReceiveTimeout(receiveTimeout);\n        return jmsTemplate;\n    }\n\n    @Bean\n    public DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory(PlatformTransactionManager transactionManager,\n              @Qualifier(&quot;singleConnectionFactory&quot;) SingleConnectionFactory singleConnectionFactory) {\n        EnhancedJmsListenerContainerFactory factory = new EnhancedJmsListenerContainerFactory();\n        factory.setConnectionFactory(singleConnectionFactory);\n        factory.setTransactionManager(transactionManager);\n        factory.setConcurrency(concurrency);\n        factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n        factory.setSessionTransacted(true);\n        factory.setMaxMessagesPerTask(this.messagesPerTask);\n        factory.setIdleTaskExecutionLimit(this.idleTaskExecutionLimit);\n        return factory;\n    }\n    ...\n    ...\n</code></pre>\n<p>We moved from CachingConnectionFactory to SingleConnectionFactory since it opened too many queue connections.</p>\n<p>Queue Listener</p>\n<pre><code>@Transactional\n@Slf4j\n@Component\n@Profile(&quot;!thdtest&quot;)\npublic class QueueListener {\n    private CatalogStatusDataProcessor catalogStatusDataProcessor;\n    private HostToDestDataAckProcessor hostToDestDataAckProcessor;\n\n    @Autowired\n    public QueueListener(CatalogStatusDataProcessor catalogStatusDataProcessor, HostToDestDataAckProcessor hostToDestDataAckProcessor) {\n        this.catalogStatusDataProcessor = catalogStatusDataProcessor;\n        this.hostToDestDataAckProcessor = hostToDestDataAckProcessor;\n    }\n\n    @JmsListener(destination = &quot;${project.mq.queue}&quot;, containerFactory = &quot;defaultJmsListenerContainerFactory&quot;)\n    public void onMessage(MAOMessage message) throws Exception {\n\n        String messageString = message.getStringMessagePayload();\n        try {\n            if (log.isDebugEnabled())\n                log.debug(&quot;Message received = &quot;+messageString);\n            StopWatch sw = new StopWatch(&quot;Received message&quot;);\n            sw.start();\n            Object obj= XMLGenerator.generateTOfromXML(messageString);\n            if(obj instanceof ResponseTO){\n                catalogStatusDataProcessor.processCatalogStatusInfo((ResponseTO)obj);\n            }\n            else if(obj instanceof HostToStoreDataAckWrapper){\n                hostToDestDataAckProcessor.processHostToDestDataACK(messageString);\n            }\n            sw.stop();\n            log.info(&quot;Message is processed in = &quot;+sw.getTotalTimeSeconds() +&quot; seconds&quot;);\n        } catch (Exception e) {\n            log.error(&quot;Exception in processing message: {}&quot;, e);\n            throw e;\n        }\n    }\n}\n</code></pre>\n<p>Tried changing the concurrency settings from 2-4 to 4-6 and it didn't improve much.\nUsing spring-boot 1.5.4.RELEASE, JdK8, javax.jms 2.0.1, MQ allclient 9.0</p>\n"},{"tags":["java","android","kotlin","android-espresso","junit5"],"answers":[{"tags":[],"owner":{"account_id":14809612,"reputation":1470,"user_id":10695663,"display_name":"MehranB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651944519,"creation_date":1651944519,"answer_id":72154914,"question_id":72154732,"body_markdown":"Try this:\r\n```\r\nprivate val intent = Intent(ApplicationProvider.getApplicationContext(), MainActivity::class.java).apply {\r\n    putParcelableArrayListExtra(&quot;CROP_URIS&quot;, ArrayList())\r\n}\r\n\r\n@Rule\r\n@JvmField\r\nval activity = ActivityScenarioRule&lt;MainActivity&gt;(intent)\r\n```","title":"Launching Activity with extra attached to Intent in Instrumented test, running on espresso and JUnit 5","body":"<p>Try this:</p>\n<pre><code>private val intent = Intent(ApplicationProvider.getApplicationContext(), MainActivity::class.java).apply {\n    putParcelableArrayListExtra(&quot;CROP_URIS&quot;, ArrayList())\n}\n\n@Rule\n@JvmField\nval activity = ActivityScenarioRule&lt;MainActivity&gt;(intent)\n</code></pre>\n"}],"owner":{"account_id":16717630,"reputation":27,"user_id":12083276,"display_name":"w2sv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72154914,"answer_count":1,"score":1,"last_activity_date":1651944519,"creation_date":1651943289,"question_id":72154732,"body_markdown":"I&#39;d like to launch my `ActivityScenarioExtension` with an extra attached to the `startActivityIntent`. The extra-less scenario extension launching, which works just as intended, I carry out via\r\n``` \r\ninternal class TestMainActivity{\r\n    @JvmField\r\n    @RegisterExtension\r\n    val scenarioExtension = ActivityScenarioExtension.launch&lt;MainActivity&gt;()\r\n\r\n    @BeforeEach\r\n    fun recreateActivity(scenario: ActivityScenario&lt;MainActivity&gt;){\r\n        scenario.recreate()\r\n    }\r\n}\r\n``` \r\n, however I&#39;m not sure as to how to add in the required extra.\r\n\r\nNot having found any real reference addressing how to achieve that, I simply tried\r\n\r\n``` \r\n@JvmField\r\n@RegisterExtension\r\nval scenarioExtension = ActivityScenarioExtension.launch&lt;MainActivity&gt;(\r\n    Intent().putParcelableArrayListExtra(&quot;CROP_URIS&quot;, ArrayList())\r\n)\r\n\r\n```\r\n, which however led to \r\n\r\n    java.lang.RuntimeException: Unable to resolve activity for: Intent { (has extras) }\r\n    at androidx.test.core.app.InstrumentationActivityInvoker.startActivity(InstrumentationActivityInvoker.java:402)\r\n    at androidx.test.core.app.InstrumentationActivityInvoker.startActivity(InstrumentationActivityInvoker.java:437)\r\n    at androidx.test.core.app.ActivityScenario.launchInternal(ActivityScenario.java:265)\r\n    at androidx.test.core.app.ActivityScenario.launch(ActivityScenario.java:226)\r\n    at de.mannodermaus.junit5.ActivityScenarioExtension$Companion$launch$2.invoke(ActivityScenarioExtension.kt:130)\r\n    at de.mannodermaus.junit5.ActivityScenarioExtension$Companion$launch$2.invoke(ActivityScenarioExtension.kt:130)\r\n    at de.mannodermaus.junit5.ActivityScenarioExtension.beforeEach(ActivityScenarioExtension.kt:156)\r\n\r\n \r\nThe implementation propositions exclusively concerning JUnit 4 in turn, I&#39;ve found in https://stackoverflow.com/questions/31752303/espresso-startactivity-that-depends-on-intent, I didn&#39;t quite manage to transfer into the realm of JUnit 5 and its newly introduced Extension model.\r\n\r\nThanks in advance for whatever kind of help.","title":"Launching Activity with extra attached to Intent in Instrumented test, running on espresso and JUnit 5","body":"<p>I'd like to launch my <code>ActivityScenarioExtension</code> with an extra attached to the <code>startActivityIntent</code>. The extra-less scenario extension launching, which works just as intended, I carry out via</p>\n<pre><code>internal class TestMainActivity{\n    @JvmField\n    @RegisterExtension\n    val scenarioExtension = ActivityScenarioExtension.launch&lt;MainActivity&gt;()\n\n    @BeforeEach\n    fun recreateActivity(scenario: ActivityScenario&lt;MainActivity&gt;){\n        scenario.recreate()\n    }\n}\n</code></pre>\n<p>, however I'm not sure as to how to add in the required extra.</p>\n<p>Not having found any real reference addressing how to achieve that, I simply tried</p>\n<pre><code>@JvmField\n@RegisterExtension\nval scenarioExtension = ActivityScenarioExtension.launch&lt;MainActivity&gt;(\n    Intent().putParcelableArrayListExtra(&quot;CROP_URIS&quot;, ArrayList())\n)\n\n</code></pre>\n<p>, which however led to</p>\n<pre><code>java.lang.RuntimeException: Unable to resolve activity for: Intent { (has extras) }\nat androidx.test.core.app.InstrumentationActivityInvoker.startActivity(InstrumentationActivityInvoker.java:402)\nat androidx.test.core.app.InstrumentationActivityInvoker.startActivity(InstrumentationActivityInvoker.java:437)\nat androidx.test.core.app.ActivityScenario.launchInternal(ActivityScenario.java:265)\nat androidx.test.core.app.ActivityScenario.launch(ActivityScenario.java:226)\nat de.mannodermaus.junit5.ActivityScenarioExtension$Companion$launch$2.invoke(ActivityScenarioExtension.kt:130)\nat de.mannodermaus.junit5.ActivityScenarioExtension$Companion$launch$2.invoke(ActivityScenarioExtension.kt:130)\nat de.mannodermaus.junit5.ActivityScenarioExtension.beforeEach(ActivityScenarioExtension.kt:156)\n</code></pre>\n<p>The implementation propositions exclusively concerning JUnit 4 in turn, I've found in <a href=\"https://stackoverflow.com/questions/31752303/espresso-startactivity-that-depends-on-intent\">Espresso startActivity that depends on Intent</a>, I didn't quite manage to transfer into the realm of JUnit 5 and its newly introduced Extension model.</p>\n<p>Thanks in advance for whatever kind of help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1611070785,"post_id":65794570,"comment_id":116328934,"body_markdown":"look at using maven and also read this  https://www3.ntu.edu.sg/home/ehchua/programming/java/J9c_PackageClasspath.html","body":"look at using maven and also read this  <a href=\"https://www3.ntu.edu.sg/home/ehchua/programming/java/J9c_PackageClasspath.html\" rel=\"nofollow noreferrer\">www3.ntu.edu.sg/home/ehchua/programming/java/&hellip;</a>"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1611071213,"post_id":65794570,"comment_id":116329197,"body_markdown":"The output from `javac -help` should get you started. And FWIW, you should read about java naming conventions..","body":"The output from <code>javac -help</code> should get you started. And FWIW, you should read about java naming conventions.."}],"answers":[{"tags":[],"owner":{"account_id":14504534,"reputation":477,"user_id":10476654,"display_name":"Geeganage Punsara Prathibha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651944204,"creation_date":1611075936,"answer_id":65796176,"question_id":65794570,"body_markdown":"According to Oracle says, you have to follow few steps to build a simple java application.\r\n\r\n1. Firstly, before building and running an application from the command line, verify that your java version is higher than 1.5 of the Java SE software JDK version since the jar command is not available under it. But not supported since JDK 11 also. You can run the java -version command to confirm it.\r\n\r\n2. After verifying the java version, then Compile Class Files. Use the javac compiler from the Java SE development kit to compile Java source files.\r\n\r\nCommand :`javac -target 1.3 -source 1.3 \r\n   -bootclasspath ../../lib/cldc_10.jar;../../lib/midp2.0.jar\r\n   -d tmpclasses\r\n   src/*.java`\r\n\r\n3. Preverify Class Files using the Java ME Platform SDK pre-verify utility.\r\n\r\nCommand :  `preverify.exe   -classpath ..\\..\\lib\\cldcapi10.jar;..\\..\\lib\\midpapi20.jar   -d classes   tmpclasses`\r\n\r\n\r\nPlease Refer [Oracle Official Website link][1] for further details.\r\n\r\n\r\n\r\n\r\n  [1]: https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://docs.oracle.com/javame/dev-tools/jme-sdk-3.0-mac/UserGuide-html/z400007747176.html&amp;ved=2ahUKEwiX0ZOUuKjuAhWm7XMBHd6WDhIQFjABegQIAhAE&amp;usg=AOvVaw26VRcgOF1ltP71P1tp80uf","title":"Compiling multiple packages","body":"<p>According to Oracle says, you have to follow few steps to build a simple java application.</p>\n<ol>\n<li><p>Firstly, before building and running an application from the command line, verify that your java version is higher than 1.5 of the Java SE software JDK version since the jar command is not available under it. But not supported since JDK 11 also. You can run the java -version command to confirm it.</p>\n</li>\n<li><p>After verifying the java version, then Compile Class Files. Use the javac compiler from the Java SE development kit to compile Java source files.</p>\n</li>\n</ol>\n<p>Command :<code>javac -target 1.3 -source 1.3  -bootclasspath ../../lib/cldc_10.jar;../../lib/midp2.0.jar -d tmpclasses src/*.java</code></p>\n<ol start=\"3\">\n<li>Preverify Class Files using the Java ME Platform SDK pre-verify utility.</li>\n</ol>\n<p>Command :  <code>preverify.exe   -classpath ..\\..\\lib\\cldcapi10.jar;..\\..\\lib\\midpapi20.jar   -d classes   tmpclasses</code></p>\n<p>Please Refer <a href=\"https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://docs.oracle.com/javame/dev-tools/jme-sdk-3.0-mac/UserGuide-html/z400007747176.html&amp;ved=2ahUKEwiX0ZOUuKjuAhWm7XMBHd6WDhIQFjABegQIAhAE&amp;usg=AOvVaw26VRcgOF1ltP71P1tp80uf\" rel=\"nofollow noreferrer\">Oracle Official Website link</a> for further details.</p>\n"}],"owner":{"account_id":17859448,"reputation":180,"user_id":12973318,"display_name":"Vaggelis_Lazarakis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":65796176,"answer_count":1,"score":-1,"last_activity_date":1651944204,"creation_date":1611070353,"question_id":65794570,"body_markdown":"I&#39;m building a small Java project and must compile it from the command line and can&#39;t figure out how. The packages of the project are the following :\r\n\r\n    Project\r\n     + src\r\n      + area\r\n        - area.java\r\n        + classroom\r\n         - classroom.java\r\n        + yard\r\n         - yard.java\r\n        + floor\r\n         - floor.java\r\n        + stairs\r\n         - stairs.java\r\n        + corridor\r\n         - corridor.java\r\n        + school\r\n         - school.java\r\n      + person\r\n       - pesron.java\r\n       + student\r\n         - student.java\r\n         + junior\r\n          - junior.java\r\n         + senior\r\n          - senior.java\r\n       + teacher\r\n        - teacher.java\r\n     + main\r\n      - main.java    \r\n\r\nThe main.java is the main program of the project\r\nI want the *.class files in a separete folder at the end of the compilation","title":"Compiling multiple packages","body":"<p>I'm building a small Java project and must compile it from the command line and can't figure out how. The packages of the project are the following :</p>\n<pre><code>Project\n + src\n  + area\n    - area.java\n    + classroom\n     - classroom.java\n    + yard\n     - yard.java\n    + floor\n     - floor.java\n    + stairs\n     - stairs.java\n    + corridor\n     - corridor.java\n    + school\n     - school.java\n  + person\n   - pesron.java\n   + student\n     - student.java\n     + junior\n      - junior.java\n     + senior\n      - senior.java\n   + teacher\n    - teacher.java\n + main\n  - main.java    \n</code></pre>\n<p>The main.java is the main program of the project\nI want the *.class files in a separete folder at the end of the compilation</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","awss3transfermanager"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":1,"creation_date":1651952225,"post_id":72154769,"comment_id":127489961,"body_markdown":"SSE-KMS with the AWS-managed KMS key or your own KMS key? Or do you mean SSE-C with a CMK?","body":"SSE-KMS with the AWS-managed KMS key or your own KMS key? Or do you mean SSE-C with a CMK?"}],"owner":{"account_id":8027207,"reputation":374,"user_id":6053665,"accept_rate":21,"display_name":"Ajayv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1651944119,"creation_date":1651943510,"question_id":72154769,"body_markdown":"I am currently trying to use AWS S3 TransferManager to upload a file greater than 5GB to S3, since S3 requires multi part upload for files greater than 5GB.\r\n\r\nI am using the following code to do this:\r\n\r\n```\r\nTransferManager tm = TransferManagerBuilder.standard().withS3Client(s3Client).build();\r\nUpload up = tm.upload(bucketName, bucketKey, localfile);\r\nup.waitForCompletion();\r\n```\r\n\r\nThis achieves the behavior that I want, but I want to provide a KMS key to encrypt the file while uploading it to S3. Previously, I was using the PutObject API provided by S3 to do the uploads.\r\n\r\n```\r\nputObject(s3Client, bucketName, bucketKey, localFile, kmsKeyId)\r\n```\r\n\r\n\r\nHow do I achieve the same behavior as putObject above with the transferManager upload?\r\n","title":"Provide AWS KMS key when doing MultiPartUpload with S3 TransferManager","body":"<p>I am currently trying to use AWS S3 TransferManager to upload a file greater than 5GB to S3, since S3 requires multi part upload for files greater than 5GB.</p>\n<p>I am using the following code to do this:</p>\n<pre><code>TransferManager tm = TransferManagerBuilder.standard().withS3Client(s3Client).build();\nUpload up = tm.upload(bucketName, bucketKey, localfile);\nup.waitForCompletion();\n</code></pre>\n<p>This achieves the behavior that I want, but I want to provide a KMS key to encrypt the file while uploading it to S3. Previously, I was using the PutObject API provided by S3 to do the uploads.</p>\n<pre><code>putObject(s3Client, bucketName, bucketKey, localFile, kmsKeyId)\n</code></pre>\n<p>How do I achieve the same behavior as putObject above with the transferManager upload?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","gradlew"],"comments":[{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1651950843,"post_id":72154282,"comment_id":127489712,"body_markdown":"What source folder(s) are you using? I think it&#39;s usual to put Java classes in `src/main/java`, and Kotlin classes in `src/main/kotlin` — at least, that&#39;s how our projects work.","body":"What source folder(s) are you using? I think it&#39;s usual to put Java classes in <code>src&#47;main&#47;java</code>, and Kotlin classes in <code>src&#47;main&#47;kotlin</code> — at least, that&#39;s how our projects work."},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1651964242,"post_id":72154282,"comment_id":127491887,"body_markdown":"I put all classes in src/main/kotlin/com.example....  I don&#39;t want to create a separate package for this because it would be inconvenient to look at the project","body":"I put all classes in src/main/kotlin/com.example....  I don&#39;t want to create a separate package for this because it would be inconvenient to look at the project"}],"answers":[{"tags":[],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651939833,"creation_date":1651939833,"answer_id":72154293,"question_id":72154282,"body_markdown":"I found such a solution, but it seems to me it is not quite right.\r\n\r\n```kotlin\r\n    configure&lt;SourceSetContainer&gt; {\r\n        named(&quot;main&quot;) {\r\n            java.srcDir(&quot;src/main/kotlin&quot;)\r\n        }\r\n    }\r\n```","title":"Java and kotlin in one spring project","body":"<p>I found such a solution, but it seems to me it is not quite right.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    configure&lt;SourceSetContainer&gt; {\n        named(&quot;main&quot;) {\n            java.srcDir(&quot;src/main/kotlin&quot;)\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72154293,"answer_count":1,"score":1,"last_activity_date":1651943337,"creation_date":1651939715,"question_id":72154282,"body_markdown":"I have a spring project on kotlin.\r\nFor faster development, it was decided to add another opportunity to develop on java.\r\nBut when we started adding java classes, we found that spring doesn&#39;t see them.\r\n\r\n\r\n**build.gradle.kts**\r\n```kotlin\r\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\nplugins {\r\n    id(&quot;org.springframework.boot&quot;) version &quot;2.6.7&quot;\r\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.11.RELEASE&quot;\r\n    kotlin(&quot;jvm&quot;) version &quot;1.6.21&quot;\r\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.6.21&quot;\r\n    kotlin(&quot;plugin.jpa&quot;) version &quot;1.6.21&quot;\r\n    kotlin(&quot;plugin.allopen&quot;) version &quot;1.4.32&quot;\r\n    kotlin(&quot;kapt&quot;) version &quot;1.4.32&quot;\r\n}\r\n\r\ngroup = &quot;com.example&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_17\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom(configurations.annotationProcessor.get())\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.13.2&quot;)\r\n    implementation(&quot;io.jsonwebtoken:jjwt:0.9.1&quot;)\r\n    implementation(&quot;io.jsonwebtoken:jjwt-api:0.11.2&quot;)\r\n    implementation(&quot;org.springdoc:springdoc-openapi-ui:1.6.0&quot;)\r\n    implementation(&quot;org.springdoc:springdoc-openapi-kotlin:1.6.0&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n    kapt(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\r\n        exclude(module = &quot;junit&quot;)\r\n        exclude(module = &quot;mockito-core&quot;)\r\n    }\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine&quot;)\r\n    testImplementation(&quot;com.ninja-squad:springmockk:3.0.1&quot;)\r\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\r\n}\r\n\r\nallOpen {\r\n    annotation(&quot;javax.persistence.Entity&quot;)\r\n    annotation(&quot;javax.persistence.Embeddable&quot;)\r\n    annotation(&quot;javax.persistence.MappedSuperclass&quot;)\r\n}\r\n\r\ntasks.withType&lt;KotlinCompile&gt; {\r\n    kotlinOptions {\r\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\r\n        jvmTarget = &quot;17&quot;\r\n    }\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI know there are projects that support many languages within themselves.\r\n\r\nI tried to connect java plugin, but nothing worked.","title":"Java and kotlin in one spring project","body":"<p>I have a spring project on kotlin.\nFor faster development, it was decided to add another opportunity to develop on java.\nBut when we started adding java classes, we found that spring doesn't see them.</p>\n<p><strong>build.gradle.kts</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;2.6.7&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.11.RELEASE&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.6.21&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.6.21&quot;\n    kotlin(&quot;plugin.jpa&quot;) version &quot;1.6.21&quot;\n    kotlin(&quot;plugin.allopen&quot;) version &quot;1.4.32&quot;\n    kotlin(&quot;kapt&quot;) version &quot;1.4.32&quot;\n}\n\ngroup = &quot;com.example&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.13.2&quot;)\n    implementation(&quot;io.jsonwebtoken:jjwt:0.9.1&quot;)\n    implementation(&quot;io.jsonwebtoken:jjwt-api:0.11.2&quot;)\n    implementation(&quot;org.springdoc:springdoc-openapi-ui:1.6.0&quot;)\n    implementation(&quot;org.springdoc:springdoc-openapi-kotlin:1.6.0&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\n    kapt(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\n        exclude(module = &quot;junit&quot;)\n        exclude(module = &quot;mockito-core&quot;)\n    }\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine&quot;)\n    testImplementation(&quot;com.ninja-squad:springmockk:3.0.1&quot;)\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\n}\n\nallOpen {\n    annotation(&quot;javax.persistence.Entity&quot;)\n    annotation(&quot;javax.persistence.Embeddable&quot;)\n    annotation(&quot;javax.persistence.MappedSuperclass&quot;)\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\n        jvmTarget = &quot;17&quot;\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I know there are projects that support many languages within themselves.</p>\n<p>I tried to connect java plugin, but nothing worked.</p>\n"},{"tags":["java","spring","mongodb","mono","reactive"],"answers":[{"tags":[],"owner":{"account_id":18331712,"reputation":41,"user_id":13350085,"display_name":"Robert Radzik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651938852,"creation_date":1651938852,"answer_id":72154152,"question_id":72147205,"body_markdown":"I&#39;ve spent some time to figure out solution for this problem, but as I&#39;m learning I don&#39;t know if it&#39;s good way of solving problems. \r\n\r\nAdded some methods to Category:\r\n\r\n    @Getter\r\n    @Builder\r\n    public class Category {\r\n\r\n        private String id;\r\n        private String name;\r\n        private String details;\r\n        private Long version;\r\n        private Category parentCategory;\r\n\r\n        @Builder.Default\r\n        private Set&lt;Category&gt; childCategories = new HashSet&lt;&gt;();\r\n\r\n        public void addChildCategory(Category childCategory) {\r\n            childCategory.updateParentCategory(this);\r\n            this.childCategories.add(childCategory);\r\n        }\r\n\r\n        public void updateParentCategory(Category parentCategory) {\r\n            this.parentCategory = parentCategory;\r\n        }\r\n\r\n    }\r\n\r\nFunction inside service would look like this:\r\n\r\n    @Override\r\n    public Mono&lt;Category&gt; findById(String id) {\r\n        return categoryRepository.findById(id).flatMap(\r\n                categoryDB -&gt; {\r\n                    Category category = CategoryDBMapper.INSTANCE.toDomain(categoryDB);\r\n                    Mono&lt;CategoryDB&gt; parentCategoryMono;\r\n                    if(!categoryDB.getParentCategoryId().isBlank()){\r\n                        parentCategoryMono = categoryRepository.findById(categoryDB.getParentCategoryId());\r\n                    }\r\n                    else {\r\n                        parentCategoryMono = Mono.empty();\r\n                    }\r\n                    Mono&lt;List&lt;CategoryDB&gt;&gt; childCategoriesMono = categoryRepository.findAllById(categoryDB.getChildCategoriesIds()).collectList();\r\n                    return Mono.zip(parentCategoryMono, childCategoriesMono, (parentCategoryDB, childCategoriesDB) -&gt; {\r\n                        Category parentCategory = CategoryDBMapper.INSTANCE.toDomain(parentCategoryDB);\r\n                        category.updateParentCategory(parentCategory);\r\n                        childCategoriesDB.forEach(childCategoryDB -&gt; {\r\n                            Category childCategory = CategoryDBMapper.INSTANCE.toDomain(childCategoryDB);\r\n                            category.addChildCategory(childCategory);\r\n                        });\r\n                        return category;\r\n                    });\r\n                }\r\n        );\r\n    }\r\n\r\nWhere mapper is used for just basic properties:\r\n    @Mapper\r\n    interface CategoryDBMapper {\r\n\r\n        CategoryDBMapper INSTANCE = Mappers.getMapper(CategoryDBMapper.class);\r\n\r\n        @Mappings({\r\n                @Mapping(target = &quot;parentCategoryId&quot;, source = &quot;parentCategory.id&quot;),\r\n                @Mapping(target = &quot;childCategoriesIds&quot;, ignore = true)\r\n        })\r\n        CategoryDB toDb(Category category);\r\n\r\n        @Mappings({\r\n                @Mapping(target = &quot;parentCategory&quot;, ignore = true),\r\n                @Mapping(target = &quot;childCategories&quot;, ignore = true)\r\n        })\r\n        Category toDomain(CategoryDB categoryDB);\r\n\r\n    }\r\n\r\nAs I said I don&#39;t know if it&#39;s correct way of solving the problem, but it seem to work. I would be grateful for review and directions.\r\n","title":"Java Spring Reactive, returning one Mono&lt;..&gt; from many multiple requests","body":"<p>I've spent some time to figure out solution for this problem, but as I'm learning I don't know if it's good way of solving problems.</p>\n<p>Added some methods to Category:</p>\n<pre><code>@Getter\n@Builder\npublic class Category {\n\n    private String id;\n    private String name;\n    private String details;\n    private Long version;\n    private Category parentCategory;\n\n    @Builder.Default\n    private Set&lt;Category&gt; childCategories = new HashSet&lt;&gt;();\n\n    public void addChildCategory(Category childCategory) {\n        childCategory.updateParentCategory(this);\n        this.childCategories.add(childCategory);\n    }\n\n    public void updateParentCategory(Category parentCategory) {\n        this.parentCategory = parentCategory;\n    }\n\n}\n</code></pre>\n<p>Function inside service would look like this:</p>\n<pre><code>@Override\npublic Mono&lt;Category&gt; findById(String id) {\n    return categoryRepository.findById(id).flatMap(\n            categoryDB -&gt; {\n                Category category = CategoryDBMapper.INSTANCE.toDomain(categoryDB);\n                Mono&lt;CategoryDB&gt; parentCategoryMono;\n                if(!categoryDB.getParentCategoryId().isBlank()){\n                    parentCategoryMono = categoryRepository.findById(categoryDB.getParentCategoryId());\n                }\n                else {\n                    parentCategoryMono = Mono.empty();\n                }\n                Mono&lt;List&lt;CategoryDB&gt;&gt; childCategoriesMono = categoryRepository.findAllById(categoryDB.getChildCategoriesIds()).collectList();\n                return Mono.zip(parentCategoryMono, childCategoriesMono, (parentCategoryDB, childCategoriesDB) -&gt; {\n                    Category parentCategory = CategoryDBMapper.INSTANCE.toDomain(parentCategoryDB);\n                    category.updateParentCategory(parentCategory);\n                    childCategoriesDB.forEach(childCategoryDB -&gt; {\n                        Category childCategory = CategoryDBMapper.INSTANCE.toDomain(childCategoryDB);\n                        category.addChildCategory(childCategory);\n                    });\n                    return category;\n                });\n            }\n    );\n}\n</code></pre>\n<p>Where mapper is used for just basic properties:\n@Mapper\ninterface CategoryDBMapper {</p>\n<pre><code>    CategoryDBMapper INSTANCE = Mappers.getMapper(CategoryDBMapper.class);\n\n    @Mappings({\n            @Mapping(target = &quot;parentCategoryId&quot;, source = &quot;parentCategory.id&quot;),\n            @Mapping(target = &quot;childCategoriesIds&quot;, ignore = true)\n    })\n    CategoryDB toDb(Category category);\n\n    @Mappings({\n            @Mapping(target = &quot;parentCategory&quot;, ignore = true),\n            @Mapping(target = &quot;childCategories&quot;, ignore = true)\n    })\n    Category toDomain(CategoryDB categoryDB);\n\n}\n</code></pre>\n<p>As I said I don't know if it's correct way of solving the problem, but it seem to work. I would be grateful for review and directions.</p>\n"}],"owner":{"account_id":18331712,"reputation":41,"user_id":13350085,"display_name":"Robert Radzik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651943334,"creation_date":1651870090,"question_id":72147205,"body_markdown":"[Java, Spring Reactive, MongoDB]\r\nI&#39;m currently trying to learn Reactive programming by doing and I found a challenge. \r\n\r\nI have db object CategoryDB which looks like this:\r\n\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Document(collection = DBConstraints.CATEGORY_COLLECTION_NAME)\r\n    class CategoryDB {\r\n    \r\n        @Id\r\n        private String id;\r\n        private String name;\r\n        private String details = &quot;&quot;;\r\n    \r\n        @Version\r\n        private Long version;\r\n    \r\n        private String parentCategoryId;\r\n        private Set&lt;String&gt; childCategoriesIds = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n\r\nIn a service layer I want to use model object Category.\r\n\r\n    @Getter\r\n    @Builder\r\n    public class Category {\r\n    \r\n        private String id;\r\n        private String name;\r\n        private String details;\r\n        private Long version;\r\n        private Category parentCategory;\r\n    \r\n        @Builder.Default\r\n        private Set&lt;Category&gt; childCategories = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n\r\nI want to create Service with method Mono&lt;Category getById(String id). In this case I want to fetch just one level of childCategories and direct parent Category. By default repository deliver Mono&lt;CategoryDB&gt; findById(..) and Flux&lt;CategoryDB&gt; findAllById(..) which I could use, but I&#39;m not sure what would be the best way to receive expected result. I would be grateful for either working example or directions where can I find solution for this problem.\r\n\r\n","title":"Java Spring Reactive, returning one Mono&lt;..&gt; from many multiple requests","body":"<p>[Java, Spring Reactive, MongoDB]\nI'm currently trying to learn Reactive programming by doing and I found a challenge.</p>\n<p>I have db object CategoryDB which looks like this:</p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\n@Document(collection = DBConstraints.CATEGORY_COLLECTION_NAME)\nclass CategoryDB {\n\n    @Id\n    private String id;\n    private String name;\n    private String details = &quot;&quot;;\n\n    @Version\n    private Long version;\n\n    private String parentCategoryId;\n    private Set&lt;String&gt; childCategoriesIds = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>In a service layer I want to use model object Category.</p>\n<pre><code>@Getter\n@Builder\npublic class Category {\n\n    private String id;\n    private String name;\n    private String details;\n    private Long version;\n    private Category parentCategory;\n\n    @Builder.Default\n    private Set&lt;Category&gt; childCategories = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>I want to create Service with method Mono&lt;Category getById(String id). In this case I want to fetch just one level of childCategories and direct parent Category. By default repository deliver Mono findById(..) and Flux findAllById(..) which I could use, but I'm not sure what would be the best way to receive expected result. I would be grateful for either working example or directions where can I find solution for this problem.</p>\n"},{"tags":["java","sql","postgresql"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1651942256,"post_id":72154574,"comment_id":127487853,"body_markdown":"The usual way wold be to repeat the same `if` statements with the same conditions.","body":"The usual way wold be to repeat the same <code>if</code> statements with the same conditions."},{"owner":{"account_id":1032733,"reputation":10647,"user_id":1040718,"accept_rate":57,"display_name":"cybertextron"},"score":1,"creation_date":1651942342,"post_id":72154574,"comment_id":127487878,"body_markdown":"@OleV.V. but order is not important here? if I add the `if` and the second is empty, how do I know that pstmt.setString() index is 1 or 2?","body":"@OleV.V. but order is not important here? if I add the <code>if</code> and the second is empty, how do I know that pstmt.setString() index is 1 or 2?"},{"owner":{"account_id":8272775,"reputation":22390,"user_id":6219979,"display_name":"Serg"},"score":2,"creation_date":1651942709,"post_id":72154574,"comment_id":127487978,"body_markdown":"Use a variable for the index. Increment it conditionally with the same if&#39;s","body":"Use a variable for the index. Increment it conditionally with the same if&#39;s"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651943074,"creation_date":1651943074,"answer_id":72154706,"question_id":72154574,"body_markdown":"You can try this approach:\r\n```java\r\nprivate void setQuery(String col1, String col2, String col3) throws SQLException {\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n    stringBuilder.append(\r\n        &quot; SELECT t1.id, t1.uuid, t2.client_id, t1.start_time, t1.end_time, t1.state FROM t1, t2 WHERE t1.id = t2.id &quot;\r\n    );\r\n\r\n    List&lt;String&gt; optionalParams = new ArrayList&lt;&gt;();\r\n\r\n    if (col1 != null &amp;&amp; !col1.isEmpty()) {\r\n        stringBuilder.append(&quot; AND t1.col1 = ?&quot;);\r\n        optionalParams.add(col1);\r\n    }\r\n    if (col2 != null &amp;&amp; !col2.isEmpty()) {\r\n        stringBuilder.append(&quot; AND t1.col2 = ?&quot;);\r\n        optionalParams.add(col2);\r\n    }\r\n    if (col3 != null &amp;&amp; !col3.isEmpty()) {\r\n        stringBuilder.append(&quot; AND t1.col3 = ?&quot;);\r\n        optionalParams.add(col3);\r\n    }\r\n\r\n    try (Connection connection = connectionProvider.getConnection();\r\n        PreparedStatement pstmt = connection.prepareStatement(stringBuilder.toString()) {\r\n        for(int i = 1; i &lt; optionalParams.size(); i++) {\r\n            pstmt.setString(i, optionalParams.get(i));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSome tips:\r\n1. You can also put `PreparedStatement` in `try-with-resource` statement, and then remove `finally` block.\r\n2. If your `setQuery` is not in a loop, you can just simply use `+` operator instead of `StringBuilder` to shorten the code.\r\n\r\n","title":"Appending to a query using PreparedStatement","body":"<p>You can try this approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void setQuery(String col1, String col2, String col3) throws SQLException {\n    StringBuilder stringBuilder = new StringBuilder();\n    stringBuilder.append(\n        &quot; SELECT t1.id, t1.uuid, t2.client_id, t1.start_time, t1.end_time, t1.state FROM t1, t2 WHERE t1.id = t2.id &quot;\n    );\n\n    List&lt;String&gt; optionalParams = new ArrayList&lt;&gt;();\n\n    if (col1 != null &amp;&amp; !col1.isEmpty()) {\n        stringBuilder.append(&quot; AND t1.col1 = ?&quot;);\n        optionalParams.add(col1);\n    }\n    if (col2 != null &amp;&amp; !col2.isEmpty()) {\n        stringBuilder.append(&quot; AND t1.col2 = ?&quot;);\n        optionalParams.add(col2);\n    }\n    if (col3 != null &amp;&amp; !col3.isEmpty()) {\n        stringBuilder.append(&quot; AND t1.col3 = ?&quot;);\n        optionalParams.add(col3);\n    }\n\n    try (Connection connection = connectionProvider.getConnection();\n        PreparedStatement pstmt = connection.prepareStatement(stringBuilder.toString()) {\n        for(int i = 1; i &lt; optionalParams.size(); i++) {\n            pstmt.setString(i, optionalParams.get(i));\n        }\n    }\n}\n</code></pre>\n<p>Some tips:</p>\n<ol>\n<li>You can also put <code>PreparedStatement</code> in <code>try-with-resource</code> statement, and then remove <code>finally</code> block.</li>\n<li>If your <code>setQuery</code> is not in a loop, you can just simply use <code>+</code> operator instead of <code>StringBuilder</code> to shorten the code.</li>\n</ol>\n"}],"owner":{"account_id":1032733,"reputation":10647,"user_id":1040718,"accept_rate":57,"display_name":"cybertextron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72154706,"answer_count":1,"score":2,"last_activity_date":1651943147,"creation_date":1651941990,"question_id":72154574,"body_markdown":"I have the following snippet of a function that queries a PostgreSQL DB:\r\n    \r\n    private void setQuery(String col1, String col2, String col3) {\r\n       StringBuilder stringBuilder = new StringBuilder();\r\n       stringBuilder.append(\r\n          &quot; SELECT  t1.id,t1.uuid, t2.client_id,t1.start_time, t1.end_time, t1.state FROM t1, t2 WHERE  t1.id=t2.id&quot;\r\n       );\r\n    \r\n       if (col1 != null &amp;&amp; !col1.isEmpty()) {\r\n         stringBuilder.append(&quot; AND t1.col1 = ?&quot;);\r\n       }\r\n       if (col2 != null &amp;&amp; !col2.isEmpty()) {\r\n         stringBuilder.append(&quot; AND t1.col2 = ?&quot;);\r\n       }\r\n       if (col3 != null &amp;&amp; !col3.isEmpty()) {\r\n         stringBuilder.append(&quot; AND t1.col3 = ?&quot;);\r\n       }\r\n       PreparedStatement pstmt = null;\r\n       try (Connection connection = connectionProvider.getConnection()) {\r\n         pstmt = connection.prepareStatement(stringBuilder.toString());\r\n         // how can I set the ? values in the stringBuilder, since they can be empty?\r\n         // pstmt.setString(1, col1);\r\n         // pstmt.setString(2, col2);\r\n         // pstmt.setString(3, col3);\r\n       } finally {\r\n         if (pstmt != null) pstmt.close();\r\n       }\r\n    }\r\n\r\n\r\nNotice `col1`, `col2`, `col3` can be empty or null, I need to add/remove those variables from the SQL query in case they are empty/null or not. Ideally, I would like to be allowed to append to the PreparedStatement, but I don&#39;t know how that&#39;s possible. \r\nWhat would be the best way to achieve this? How can I properly set the values into the prepared statement? ","title":"Appending to a query using PreparedStatement","body":"<p>I have the following snippet of a function that queries a PostgreSQL DB:</p>\n<pre><code>private void setQuery(String col1, String col2, String col3) {\n   StringBuilder stringBuilder = new StringBuilder();\n   stringBuilder.append(\n      &quot; SELECT  t1.id,t1.uuid, t2.client_id,t1.start_time, t1.end_time, t1.state FROM t1, t2 WHERE  t1.id=t2.id&quot;\n   );\n\n   if (col1 != null &amp;&amp; !col1.isEmpty()) {\n     stringBuilder.append(&quot; AND t1.col1 = ?&quot;);\n   }\n   if (col2 != null &amp;&amp; !col2.isEmpty()) {\n     stringBuilder.append(&quot; AND t1.col2 = ?&quot;);\n   }\n   if (col3 != null &amp;&amp; !col3.isEmpty()) {\n     stringBuilder.append(&quot; AND t1.col3 = ?&quot;);\n   }\n   PreparedStatement pstmt = null;\n   try (Connection connection = connectionProvider.getConnection()) {\n     pstmt = connection.prepareStatement(stringBuilder.toString());\n     // how can I set the ? values in the stringBuilder, since they can be empty?\n     // pstmt.setString(1, col1);\n     // pstmt.setString(2, col2);\n     // pstmt.setString(3, col3);\n   } finally {\n     if (pstmt != null) pstmt.close();\n   }\n}\n</code></pre>\n<p>Notice <code>col1</code>, <code>col2</code>, <code>col3</code> can be empty or null, I need to add/remove those variables from the SQL query in case they are empty/null or not. Ideally, I would like to be allowed to append to the PreparedStatement, but I don't know how that's possible.\nWhat would be the best way to achieve this? How can I properly set the values into the prepared statement?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651943001,"creation_date":1651940530,"answer_id":72154393,"question_id":72154343,"body_markdown":"check this -&gt; https://stackoverflow.com/questions/3631623/convert-url-to-absolutepath\r\n\r\n    Path p = Paths.get(url.toURI());\r\n\r\nand how say @GOTO 0\r\n\r\n&gt; Another option for those who use Java 11 or later:\r\n&gt; \r\n&gt; Path path = Path.of(url.toURI()); or as a string:\r\n&gt; \r\n&gt; String path = Path.of(url.toURI()).toString(); Both methods above\r\n&gt; throw a URISyntaxException that can be safely ignored if the URL is\r\n&gt; guaranteed to be a file URL.\r\n\r\n**UPDATE**\r\n\r\nAnd i found this -&gt; https://eed3si9n.com/encoding-file-path-as-URI-reference/\r\nThe solution to the problem is described in great detail here\r\n```java\r\n\r\npublic static void main(String[] args) throws URISyntaxException\r\n{\r\n    URI uri = new URI(&quot;file:/C:/a.txt&quot;);\r\n    save(uri);\r\n\r\n    uri = new URI(&quot;file:///C:/a.txt&quot;);\r\n    save(uri);\r\n\r\n    uri = new URI(&quot;file:///home/user/a.txt&quot;);\r\n    save(uri);\r\n\r\n}\r\n\r\npublic static void save(URI targetURI)\r\n{\r\n    Path p = Paths.get(targetURI);\r\n    String absolutePath = p.toString();\r\n    System.out.println(absolutePath);\r\n}\r\n```","title":"How to convert a Java File URI inot a absolute path?","body":"<p>check this -&gt; <a href=\"https://stackoverflow.com/questions/3631623/convert-url-to-absolutepath\">Convert URL to AbsolutePath</a></p>\n<pre><code>Path p = Paths.get(url.toURI());\n</code></pre>\n<p>and how say @GOTO 0</p>\n<blockquote>\n<p>Another option for those who use Java 11 or later:</p>\n<p>Path path = Path.of(url.toURI()); or as a string:</p>\n<p>String path = Path.of(url.toURI()).toString(); Both methods above\nthrow a URISyntaxException that can be safely ignored if the URL is\nguaranteed to be a file URL.</p>\n</blockquote>\n<p><strong>UPDATE</strong></p>\n<p>And i found this -&gt; <a href=\"https://eed3si9n.com/encoding-file-path-as-URI-reference/\" rel=\"nofollow noreferrer\">https://eed3si9n.com/encoding-file-path-as-URI-reference/</a>\nThe solution to the problem is described in great detail here</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static void main(String[] args) throws URISyntaxException\n{\n    URI uri = new URI(&quot;file:/C:/a.txt&quot;);\n    save(uri);\n\n    uri = new URI(&quot;file:///C:/a.txt&quot;);\n    save(uri);\n\n    uri = new URI(&quot;file:///home/user/a.txt&quot;);\n    save(uri);\n\n}\n\npublic static void save(URI targetURI)\n{\n    Path p = Paths.get(targetURI);\n    String absolutePath = p.toString();\n    System.out.println(absolutePath);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":372555,"reputation":4556,"user_id":721666,"accept_rate":48,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651941323,"creation_date":1651941323,"answer_id":72154497,"question_id":72154343,"body_markdown":"ok, quite simple\r\n\r\n```java\r\npublic void save(URI targetURI) {\r\n   Path p=Paths.get(targetURI).toString());\r\n   String absolutePath= p.toString();\r\n   ...\r\n}\r\n```","title":"How to convert a Java File URI inot a absolute path?","body":"<p>ok, quite simple</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void save(URI targetURI) {\n   Path p=Paths.get(targetURI).toString());\n   String absolutePath= p.toString();\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":372555,"reputation":4556,"user_id":721666,"accept_rate":48,"display_name":"Ralph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72154393,"answer_count":2,"score":1,"last_activity_date":1651943001,"creation_date":1651940213,"question_id":72154343,"body_markdown":"I have a situation in which I receive a File URI in the format\r\n\r\n    file:///home/user/a.txt\r\n\r\nI know that depending of the operation system other formats can be expected:\r\n\r\n    file:/C:/a.txt            &lt;- On Windows\r\n    file:///C:/a.txt          &lt;- On Windows\r\n    file:///home/user/a.txt   &lt;- On Linux\r\n\r\nI need the absolute file path to store the file. So I want to convert: \r\n\r\n    file:///home/user/a.txt   ===&gt;   /home/user/a.txt\r\n\r\nI do now this in a very clumsy way:\r\n```java\r\n    public void save(URI targetURI) {\r\n        Path path = Paths.get(&quot;/&quot;, targetURI.toString()).normalize();\r\n        String filePath=&quot;&quot;+path;\r\n        filePath=filePath.replace(&quot;/file:&quot;, &quot;&quot;);\r\n    ....\r\n    }\r\n```\r\nI expect there is a more elegant solution based on the java.io util classes?\r\n\r\n","title":"How to convert a Java File URI inot a absolute path?","body":"<p>I have a situation in which I receive a File URI in the format</p>\n<pre><code>file:///home/user/a.txt\n</code></pre>\n<p>I know that depending of the operation system other formats can be expected:</p>\n<pre><code>file:/C:/a.txt            &lt;- On Windows\nfile:///C:/a.txt          &lt;- On Windows\nfile:///home/user/a.txt   &lt;- On Linux\n</code></pre>\n<p>I need the absolute file path to store the file. So I want to convert:</p>\n<pre><code>file:///home/user/a.txt   ===&gt;   /home/user/a.txt\n</code></pre>\n<p>I do now this in a very clumsy way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void save(URI targetURI) {\n        Path path = Paths.get(&quot;/&quot;, targetURI.toString()).normalize();\n        String filePath=&quot;&quot;+path;\n        filePath=filePath.replace(&quot;/file:&quot;, &quot;&quot;);\n    ....\n    }\n</code></pre>\n<p>I expect there is a more elegant solution based on the java.io util classes?</p>\n"},{"tags":["java","android","xml","kotlin","language-translation"],"comments":[{"owner":{"account_id":19993238,"reputation":555,"user_id":14710362,"display_name":"WhiteBite"},"score":0,"creation_date":1651943191,"post_id":72150334,"comment_id":127488105,"body_markdown":"add screenshot with you gradle config and project tree","body":"add screenshot with you gradle config and project tree"},{"owner":{"account_id":23903408,"reputation":159,"user_id":17901287,"display_name":"BeeProDev"},"score":0,"creation_date":1652770918,"post_id":72150334,"comment_id":127679771,"body_markdown":"android:configChanges=&quot;locale&quot;\nPlace the line in activity tag in Manifest file\nIt will disable the effect of phone language changes to your app","body":"android:configChanges=&quot;locale&quot; Place the line in activity tag in Manifest file It will disable the effect of phone language changes to your app"}],"owner":{"account_id":4978545,"reputation":65,"user_id":4874427,"display_name":"Santosh Bhandary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651942820,"creation_date":1651907951,"question_id":72150334,"body_markdown":"Hi Every One I am facing rare problem in an android app currently I am working on. Whenever my app has changed to different language except from english.EditText input value  and TextView in my app automatically changes strings according to selected language though these strings are not from Strings.xml files. I could not find the cause for this problem. I am expecting any kind of help to get rid of this scenario. Thank you in advance","title":"Android appcompat edittext input automatically changes to selected language text problem","body":"<p>Hi Every One I am facing rare problem in an android app currently I am working on. Whenever my app has changed to different language except from english.EditText input value  and TextView in my app automatically changes strings according to selected language though these strings are not from Strings.xml files. I could not find the cause for this problem. I am expecting any kind of help to get rid of this scenario. Thank you in advance</p>\n"},{"tags":["java","android","kotlin","kapt"],"answers":[{"tags":[],"owner":{"account_id":17321389,"reputation":101,"user_id":12546784,"display_name":"3ameration"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651942565,"creation_date":1651942565,"answer_id":72154651,"question_id":68349054,"body_markdown":"make sure you have this in you gradle \r\n\r\n    annotationProcessor &quot;androidx.room:room-compiler:2.4.2&quot;\r\n\r\n","title":"kotlin kapt3 KaptBaseError: Error while annotation processing ::For Room Database","body":"<p>make sure you have this in you gradle</p>\n<pre><code>annotationProcessor &quot;androidx.room:room-compiler:2.4.2&quot;\n</code></pre>\n"}],"owner":{"account_id":1385275,"reputation":462,"user_id":1317454,"display_name":"ALearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1856,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1651942565,"creation_date":1626099863,"question_id":68349054,"body_markdown":"I am running into this strange issue in the Room database operation classes. There are lot of Annotations are used, starting from Database then Entity, DAO... Not sure why and where this issue is coming from.\r\nbuild.gradle file has the updated library references and there are no reference errors while using any of the annotations at their right places. Then why this error? Spent quite a good amount of time to find out the real problem. But still not resolved.\r\n\r\nFinally observed that removing the &#39;@Database&#39; Annotation is the issue disappeared. But nothing different than the standard statement I had used inside the &#39;@Database&#39;.\r\n\r\nHere is the exception details: \r\n```\r\nCaused by: org.jetbrains.kotlin.kapt3.base.util.KaptBaseError: Error while annotation processing\r\n\tat org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:121)\r\n\tat org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:31)\r\n\tat org.jetbrains.kotlin.kapt3.base.Kapt.kapt(Kapt.kt:45)\r\n\t... 30 more```","title":"kotlin kapt3 KaptBaseError: Error while annotation processing ::For Room Database","body":"<p>I am running into this strange issue in the Room database operation classes. There are lot of Annotations are used, starting from Database then Entity, DAO... Not sure why and where this issue is coming from.\nbuild.gradle file has the updated library references and there are no reference errors while using any of the annotations at their right places. Then why this error? Spent quite a good amount of time to find out the real problem. But still not resolved.</p>\n<p>Finally observed that removing the '@Database' Annotation is the issue disappeared. But nothing different than the standard statement I had used inside the '@Database'.</p>\n<p>Here is the exception details:</p>\n<pre><code>Caused by: org.jetbrains.kotlin.kapt3.base.util.KaptBaseError: Error while annotation processing\n    at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:121)\n    at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:31)\n    at org.jetbrains.kotlin.kapt3.base.Kapt.kapt(Kapt.kt:45)\n    ... 30 more```\n</code></pre>\n"},{"tags":["java","data-structures","graph","netbeans","uppaal"],"comments":[{"owner":{"account_id":3177795,"reputation":1503,"user_id":2685239,"display_name":"mariusm"},"score":0,"creation_date":1652071273,"post_id":72154611,"comment_id":127508072,"body_markdown":"Edge/transition layout is controlled by the nail elements, which in turn have x and y attributes. Locations also have x and y attributes. See the Document Type Definition (DTD) for details: https://www.it.uu.se/research/group/darts/uppaal/flat-1_5.dtd . So your translation needs to compute the layout and set the corresponding attributes.","body":"Edge/transition layout is controlled by the nail elements, which in turn have x and y attributes. Locations also have x and y attributes. See the Document Type Definition (DTD) for details: <a href=\"https://www.it.uu.se/research/group/darts/uppaal/flat-1_5.dtd\" rel=\"nofollow noreferrer\">it.uu.se/research/group/darts/uppaal/flat-1_5.dtd</a> . So your translation needs to compute the layout and set the corresponding attributes."},{"owner":{"account_id":25227176,"reputation":1,"user_id":19062866,"display_name":"Aqs Khan"},"score":0,"creation_date":1653638118,"post_id":72154611,"comment_id":127903794,"body_markdown":"You mean to say i should used above dtd as a declaration in my xml file. This will return me a structured model, when i will insert in uppaal. M i Right?","body":"You mean to say i should used above dtd as a declaration in my xml file. This will return me a structured model, when i will insert in uppaal. M i Right?"},{"owner":{"account_id":3177795,"reputation":1503,"user_id":2685239,"display_name":"mariusm"},"score":0,"creation_date":1653754145,"post_id":72154611,"comment_id":127930278,"body_markdown":"The DTD describes the scheme that XML file follows. It describes the elements and attributes. The visual elements (like `location`) have attributes (like `x` and `y`) which control how those elements are rendered in Uppaal.","body":"The DTD describes the scheme that XML file follows. It describes the elements and attributes. The visual elements (like <code>location</code>) have attributes (like <code>x</code> and <code>y</code>) which control how those elements are rendered in Uppaal."},{"owner":{"account_id":25227176,"reputation":1,"user_id":19062866,"display_name":"Aqs Khan"},"score":0,"creation_date":1653853857,"post_id":72154611,"comment_id":127947251,"body_markdown":"Got Your Point now using this scheme i do not need to create any algorithm to calculate my x ,y coordinates for each element.this layout compute it automatically.","body":"Got Your Point now using this scheme i do not need to create any algorithm to calculate my x ,y coordinates for each element.this layout compute it automatically."},{"owner":{"account_id":25227176,"reputation":1,"user_id":19062866,"display_name":"Aqs Khan"},"score":0,"creation_date":1653854167,"post_id":72154611,"comment_id":127947298,"body_markdown":"Or  Can u kindly describe this solution in STEPS , like how can i utilize  this dtd file to give proper x y coordinate to each element OF XML FILE.                                                                                 As i have now xml file that contains tags of transition and locations ,labels","body":"Or  Can u kindly describe this solution in STEPS , like how can i utilize  this dtd file to give proper x y coordinate to each element OF XML FILE.                                                                                 As i have now xml file that contains tags of transition and locations ,labels"},{"owner":{"account_id":3177795,"reputation":1503,"user_id":2685239,"display_name":"mariusm"},"score":0,"creation_date":1654012055,"post_id":72154611,"comment_id":127988604,"body_markdown":"You have to supply the x and y coordinates yourself. There are some software (eg graphviz) to compute the layout of a graph automatically, but it&#39;s a hard problem and solutions do not look as good as handcrafted.","body":"You have to supply the x and y coordinates yourself. There are some software (eg graphviz) to compute the layout of a graph automatically, but it&#39;s a hard problem and solutions do not look as good as handcrafted."},{"owner":{"account_id":25227176,"reputation":1,"user_id":19062866,"display_name":"Aqs Khan"},"score":0,"creation_date":1654242236,"post_id":72154611,"comment_id":128048880,"body_markdown":"Thank You for  corporation I Got your Point.!","body":"Thank You for  corporation I Got your Point.!"}],"owner":{"account_id":25227176,"reputation":1,"user_id":19062866,"display_name":"Aqs Khan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651942259,"creation_date":1651942259,"question_id":72154611,"body_markdown":"I need guidance how can i represent  edges ,nodes ,labels ,assignments ,conditions in organized way  On Uppaal while uploading a XML file . My project is basically conversion of C to XML(xml that supported Uppaal Only).  Conversion of C to XML is completed but when i upload  My generated XML file on Uppaal for the generation of Model.  Model is not showing in organized way . I am stuck here  how can i  set my x and y coordinates of edges nodes condition in a way  so that i can get a model that is understanable and in structured form.","title":"XML used in Uppaal Expert","body":"<p>I need guidance how can i represent  edges ,nodes ,labels ,assignments ,conditions in organized way  On Uppaal while uploading a XML file . My project is basically conversion of C to XML(xml that supported Uppaal Only).  Conversion of C to XML is completed but when i upload  My generated XML file on Uppaal for the generation of Model.  Model is not showing in organized way . I am stuck here  how can i  set my x and y coordinates of edges nodes condition in a way  so that i can get a model that is understanable and in structured form.</p>\n"},{"tags":["java","compilation","javac","java-compiler-api"],"comments":[{"owner":{"account_id":429168,"reputation":7139,"user_id":811918,"display_name":"Mathias Schwarz"},"score":0,"creation_date":1346227625,"post_id":12173294,"comment_id":16294502,"body_markdown":"There is a bit more in a class file than just byte code. A class file also holds method and field signatures etc. The byte codes are just the method bodies.","body":"There is a bit more in a class file than just byte code. A class file also holds method and field signatures etc. The byte codes are just the method bodies."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1490526345,"post_id":12173294,"comment_id":73141754,"body_markdown":"I have a library to do this.  You give it a String and it returns the complied class which you can call.  https://github.com/OpenHFT/Java-Runtime-Compiler you can add the class/method as a template to compile just a snippet of code and if that class implements a well know interface you can call it on an instance of the class.","body":"I have a library to do this.  You give it a String and it returns the complied class which you can call.  <a href=\"https://github.com/OpenHFT/Java-Runtime-Compiler\" rel=\"nofollow noreferrer\">github.com/OpenHFT/Java-Runtime-Compiler</a> you can add the class/method as a template to compile just a snippet of code and if that class implements a well know interface you can call it on an instance of the class."}],"answers":[{"tags":[],"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1448638329,"creation_date":1346227423,"answer_id":12173346,"question_id":12173294,"body_markdown":"I think this here might be of help it basically shows how to compile Java source from memory (the string is located in the class). \r\n\r\nIt uses the `PrinterWriter` and `StringWriter` to write the source to a `String`/in memory and then uses the `JavaCompiler` class (since JDK 6) to compile and run the program:\r\n\r\n\r\n    import javax.tools.Diagnostic;\r\n    import javax.tools.DiagnosticCollector;\r\n    import javax.tools.JavaCompiler;\r\n    import javax.tools.JavaCompiler.CompilationTask;\r\n    import javax.tools.JavaFileObject;\r\n    import javax.tools.SimpleJavaFileObject;\r\n    import javax.tools.ToolProvider;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.io.StringWriter;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.net.URI;\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n    import java.util.Arrays;\r\n\r\n  \r\n    public class CompileSourceInMemory {\r\n      public static void main(String args[]) throws IOException {\r\n        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n        DiagnosticCollector&lt;JavaFileObject&gt; diagnostics = new DiagnosticCollector&lt;JavaFileObject&gt;();\r\n    \r\n        StringWriter writer = new StringWriter();\r\n        PrintWriter out = new PrintWriter(writer);\r\n        out.println(&quot;public class HelloWorld {&quot;);\r\n        out.println(&quot;  public static void main(String args[]) {&quot;);\r\n        out.println(&quot;    System.out.println(\\&quot;This is in another java file\\&quot;);&quot;);    \r\n        out.println(&quot;  }&quot;);\r\n        out.println(&quot;}&quot;);\r\n        out.close();\r\n        JavaFileObject file = new JavaSourceFromString(&quot;HelloWorld&quot;, writer.toString());\r\n    \r\n        Iterable&lt;? extends JavaFileObject&gt; compilationUnits = Arrays.asList(file);\r\n        CompilationTask task = compiler.getTask(null, null, diagnostics, null, null, compilationUnits);\r\n        \r\n        boolean success = task.call();\r\n        for (Diagnostic diagnostic : diagnostics.getDiagnostics()) {\r\n          System.out.println(diagnostic.getCode());\r\n          System.out.println(diagnostic.getKind());\r\n          System.out.println(diagnostic.getPosition());\r\n          System.out.println(diagnostic.getStartPosition());\r\n          System.out.println(diagnostic.getEndPosition());\r\n          System.out.println(diagnostic.getSource());\r\n          System.out.println(diagnostic.getMessage(null));\r\n    \r\n        }\r\n        System.out.println(&quot;Success: &quot; + success);\r\n    \r\n        if (success) {\r\n          try {\r\n\r\n              URLClassLoader classLoader = URLClassLoader.newInstance(new URL[] { new File(&quot;&quot;).toURI().toURL() });\r\n              Class.forName(&quot;HelloWorld&quot;, true, classLoader).getDeclaredMethod(&quot;main&quot;, new Class[] { String[].class }).invoke(null, new Object[] { null });\r\n\r\n          } catch (ClassNotFoundException e) {\r\n            System.err.println(&quot;Class not found: &quot; + e);\r\n          } catch (NoSuchMethodException e) {\r\n            System.err.println(&quot;No such method: &quot; + e);\r\n          } catch (IllegalAccessException e) {\r\n            System.err.println(&quot;Illegal access: &quot; + e);\r\n          } catch (InvocationTargetException e) {\r\n            System.err.println(&quot;Invocation target: &quot; + e);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    class JavaSourceFromString extends SimpleJavaFileObject {\r\n      final String code;\r\n    \r\n      JavaSourceFromString(String name, String code) {\r\n        super(URI.create(&quot;string:///&quot; + name.replace(&#39;.&#39;,&#39;/&#39;) + Kind.SOURCE.extension),Kind.SOURCE);\r\n        this.code = code;\r\n      }\r\n    \r\n      @Override\r\n      public CharSequence getCharContent(boolean ignoreEncodingErrors) {\r\n        return code;\r\n      }\r\n    }\r\nIf you have a look at the reference link you will find a few more other examples too\r\n\r\n**Reference:**\r\n\r\n- [Compiling from Memory][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Java/JDK-6/CompilingfromMemory.htm","title":"Compile code fully in memory with javax.tools.JavaCompiler","body":"<p>I think this here might be of help it basically shows how to compile Java source from memory (the string is located in the class). </p>\n\n<p>It uses the <code>PrinterWriter</code> and <code>StringWriter</code> to write the source to a <code>String</code>/in memory and then uses the <code>JavaCompiler</code> class (since JDK 6) to compile and run the program:</p>\n\n<pre><code>import javax.tools.Diagnostic;\nimport javax.tools.DiagnosticCollector;\nimport javax.tools.JavaCompiler;\nimport javax.tools.JavaCompiler.CompilationTask;\nimport javax.tools.JavaFileObject;\nimport javax.tools.SimpleJavaFileObject;\nimport javax.tools.ToolProvider;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.io.StringWriter;\nimport java.lang.reflect.InvocationTargetException;\nimport java.net.URI;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.util.Arrays;\n\n\npublic class CompileSourceInMemory {\n  public static void main(String args[]) throws IOException {\n    JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n    DiagnosticCollector&lt;JavaFileObject&gt; diagnostics = new DiagnosticCollector&lt;JavaFileObject&gt;();\n\n    StringWriter writer = new StringWriter();\n    PrintWriter out = new PrintWriter(writer);\n    out.println(\"public class HelloWorld {\");\n    out.println(\"  public static void main(String args[]) {\");\n    out.println(\"    System.out.println(\\\"This is in another java file\\\");\");    \n    out.println(\"  }\");\n    out.println(\"}\");\n    out.close();\n    JavaFileObject file = new JavaSourceFromString(\"HelloWorld\", writer.toString());\n\n    Iterable&lt;? extends JavaFileObject&gt; compilationUnits = Arrays.asList(file);\n    CompilationTask task = compiler.getTask(null, null, diagnostics, null, null, compilationUnits);\n\n    boolean success = task.call();\n    for (Diagnostic diagnostic : diagnostics.getDiagnostics()) {\n      System.out.println(diagnostic.getCode());\n      System.out.println(diagnostic.getKind());\n      System.out.println(diagnostic.getPosition());\n      System.out.println(diagnostic.getStartPosition());\n      System.out.println(diagnostic.getEndPosition());\n      System.out.println(diagnostic.getSource());\n      System.out.println(diagnostic.getMessage(null));\n\n    }\n    System.out.println(\"Success: \" + success);\n\n    if (success) {\n      try {\n\n          URLClassLoader classLoader = URLClassLoader.newInstance(new URL[] { new File(\"\").toURI().toURL() });\n          Class.forName(\"HelloWorld\", true, classLoader).getDeclaredMethod(\"main\", new Class[] { String[].class }).invoke(null, new Object[] { null });\n\n      } catch (ClassNotFoundException e) {\n        System.err.println(\"Class not found: \" + e);\n      } catch (NoSuchMethodException e) {\n        System.err.println(\"No such method: \" + e);\n      } catch (IllegalAccessException e) {\n        System.err.println(\"Illegal access: \" + e);\n      } catch (InvocationTargetException e) {\n        System.err.println(\"Invocation target: \" + e);\n      }\n    }\n  }\n}\n\nclass JavaSourceFromString extends SimpleJavaFileObject {\n  final String code;\n\n  JavaSourceFromString(String name, String code) {\n    super(URI.create(\"string:///\" + name.replace('.','/') + Kind.SOURCE.extension),Kind.SOURCE);\n    this.code = code;\n  }\n\n  @Override\n  public CharSequence getCharContent(boolean ignoreEncodingErrors) {\n    return code;\n  }\n}\n</code></pre>\n\n<p>If you have a look at the reference link you will find a few more other examples too</p>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://www.java2s.com/Code/Java/JDK-6/CompilingfromMemory.htm\" rel=\"noreferrer\">Compiling from Memory</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1433263050,"creation_date":1346228157,"answer_id":12173529,"question_id":12173294,"body_markdown":"I wrote a library to do this a few years ago. It takes a String which can contain nested classes, compiles them and optionally loads them into the current class loader (so you don&#39;t need an additional class loader) If the JVM is running in debug mode it will write the generated code to a file so you can step through your generated code.\r\n\r\nhttp://vanillajava.blogspot.co.uk/2010_11_01_archive.html\r\n\r\n---\r\n\r\nTo paraphrase the example from `erolagnab` you can do\r\n\r\n    StringBuilder sourceCode = new StringBuilder();\r\n    sourceCode.append(&quot;package org.mdkt;\\n&quot;)\r\n              .append(&quot;public class HelloClass {\\n&quot;)\r\n              .append(&quot;   public String hello() { return \\&quot;hello\\&quot;; }&quot;)\r\n              .append(&quot;}&quot;);\r\n    \r\n    Class&lt;?&gt; helloClass = CACHED_COMPILER.compile(&quot;org.mdkt.HelloClass&quot;,\r\n                                                  sourceCode.toString());\r\n\r\nUpdate, the source is available here https://github.com/OpenHFT/Java-Runtime-Compiler\r\n\r\nAnd you can obtain the latest build via maven http://search.maven.org/#browse%7C842970587\r\n\r\n---\r\n\r\nA longer example.\r\n\r\n    // this writes the file to disk only when debugging is enabled.\r\n    CachedCompiler cc = CompilerUtils.DEBUGGING ?\r\n            new CachedCompiler(new File(parent, &quot;src/test/java&quot;), new File(parent, &quot;target/compiled&quot;)) :\r\n            CompilerUtils.CACHED_COMPILER;\r\n    \r\n    String text = &quot;generated test &quot; + new Date();\r\n    Class fooBarTeeClass = cc.loadFromJava(&quot;eg.FooBarTee&quot;, &quot;package eg;\\n&quot; +\r\n        &#39;\\n&#39; +\r\n        &quot;import eg.components.BarImpl;\\n&quot; +\r\n        &quot;import eg.components.TeeImpl;\\n&quot; +\r\n        &quot;import eg.components.Foo;\\n&quot; +\r\n        &#39;\\n&#39; +\r\n        &quot;public class FooBarTee{\\n&quot; +\r\n        &quot;    public final String name;\\n&quot; +\r\n        &quot;    public final TeeImpl tee;\\n&quot; +\r\n        &quot;    public final BarImpl bar;\\n&quot; +\r\n        &quot;    public final BarImpl copy;\\n&quot; +\r\n        &quot;    public final Foo foo;\\n&quot; +\r\n        &#39;\\n&#39; +\r\n        &quot;    public FooBarTee(String name) {\\n&quot; +\r\n        &quot;        // when viewing this file, ensure it is synchronised with the copy on disk.\\n&quot; +\r\n        &quot;        System.out.println(\\&quot;&quot; + text + &quot;\\&quot;);\\n&quot; +\r\n        &quot;        this.name = name;\\n&quot; +\r\n        &#39;\\n&#39; +\r\n        &quot;        tee = new TeeImpl(\\&quot;test\\&quot;);\\n&quot; +\r\n        &#39;\\n&#39; +\r\n        &quot;        bar = new BarImpl(tee, 55);\\n&quot; +\r\n        &#39;\\n&#39; +\r\n        &quot;        copy = new BarImpl(tee, 555);\\n&quot; +\r\n        &#39;\\n&#39; +\r\n        &quot;        // you should see the current date here after synchronisation.\\n&quot; +\r\n        &quot;        foo = new Foo(bar, copy, \\&quot;&quot; + text + &quot;\\&quot;, 5);\\n&quot; +\r\n        &quot;    }\\n&quot; +\r\n        &#39;\\n&#39; +\r\n        &quot;    public void start() {\\n&quot; +\r\n        &quot;    }\\n&quot; +\r\n        &#39;\\n&#39; +\r\n        &quot;    public void stop() {\\n&quot; +\r\n        &quot;    }\\n&quot; +\r\n        &#39;\\n&#39; +\r\n        &quot;    public void close() {\\n&quot; +\r\n        &quot;        stop();\\n&quot; +\r\n        &#39;\\n&#39; +\r\n        &quot;    }\\n&quot; +\r\n        &quot;}\\n&quot;);\r\n    \r\n    // add a debug break point here and step into this method.\r\n    FooBarTee fooBarTee = new FooBarTee(&quot;test foo bar tee&quot;);\r\n    Foo foo = fooBarTee.foo;\r\n    assertNotNull(foo);\r\n    assertEquals(text, foo.s);\r\n\r\n","title":"Compile code fully in memory with javax.tools.JavaCompiler","body":"<p>I wrote a library to do this a few years ago. It takes a String which can contain nested classes, compiles them and optionally loads them into the current class loader (so you don't need an additional class loader) If the JVM is running in debug mode it will write the generated code to a file so you can step through your generated code.</p>\n\n<p><a href=\"http://vanillajava.blogspot.co.uk/2010_11_01_archive.html\" rel=\"nofollow\">http://vanillajava.blogspot.co.uk/2010_11_01_archive.html</a></p>\n\n<hr>\n\n<p>To paraphrase the example from <code>erolagnab</code> you can do</p>\n\n<pre><code>StringBuilder sourceCode = new StringBuilder();\nsourceCode.append(\"package org.mdkt;\\n\")\n          .append(\"public class HelloClass {\\n\")\n          .append(\"   public String hello() { return \\\"hello\\\"; }\")\n          .append(\"}\");\n\nClass&lt;?&gt; helloClass = CACHED_COMPILER.compile(\"org.mdkt.HelloClass\",\n                                              sourceCode.toString());\n</code></pre>\n\n<p>Update, the source is available here <a href=\"https://github.com/OpenHFT/Java-Runtime-Compiler\" rel=\"nofollow\">https://github.com/OpenHFT/Java-Runtime-Compiler</a></p>\n\n<p>And you can obtain the latest build via maven <a href=\"http://search.maven.org/#browse%7C842970587\" rel=\"nofollow\">http://search.maven.org/#browse%7C842970587</a></p>\n\n<hr>\n\n<p>A longer example.</p>\n\n<pre><code>// this writes the file to disk only when debugging is enabled.\nCachedCompiler cc = CompilerUtils.DEBUGGING ?\n        new CachedCompiler(new File(parent, \"src/test/java\"), new File(parent, \"target/compiled\")) :\n        CompilerUtils.CACHED_COMPILER;\n\nString text = \"generated test \" + new Date();\nClass fooBarTeeClass = cc.loadFromJava(\"eg.FooBarTee\", \"package eg;\\n\" +\n    '\\n' +\n    \"import eg.components.BarImpl;\\n\" +\n    \"import eg.components.TeeImpl;\\n\" +\n    \"import eg.components.Foo;\\n\" +\n    '\\n' +\n    \"public class FooBarTee{\\n\" +\n    \"    public final String name;\\n\" +\n    \"    public final TeeImpl tee;\\n\" +\n    \"    public final BarImpl bar;\\n\" +\n    \"    public final BarImpl copy;\\n\" +\n    \"    public final Foo foo;\\n\" +\n    '\\n' +\n    \"    public FooBarTee(String name) {\\n\" +\n    \"        // when viewing this file, ensure it is synchronised with the copy on disk.\\n\" +\n    \"        System.out.println(\\\"\" + text + \"\\\");\\n\" +\n    \"        this.name = name;\\n\" +\n    '\\n' +\n    \"        tee = new TeeImpl(\\\"test\\\");\\n\" +\n    '\\n' +\n    \"        bar = new BarImpl(tee, 55);\\n\" +\n    '\\n' +\n    \"        copy = new BarImpl(tee, 555);\\n\" +\n    '\\n' +\n    \"        // you should see the current date here after synchronisation.\\n\" +\n    \"        foo = new Foo(bar, copy, \\\"\" + text + \"\\\", 5);\\n\" +\n    \"    }\\n\" +\n    '\\n' +\n    \"    public void start() {\\n\" +\n    \"    }\\n\" +\n    '\\n' +\n    \"    public void stop() {\\n\" +\n    \"    }\\n\" +\n    '\\n' +\n    \"    public void close() {\\n\" +\n    \"        stop();\\n\" +\n    '\\n' +\n    \"    }\\n\" +\n    \"}\\n\");\n\n// add a debug break point here and step into this method.\nFooBarTee fooBarTee = new FooBarTee(\"test foo bar tee\");\nFoo foo = fooBarTee.foo;\nassertNotNull(foo);\nassertEquals(text, foo.s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232450,"reputation":1114,"user_id":497300,"display_name":"trung"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1651942259,"creation_date":1425601374,"answer_id":28890356,"question_id":12173294,"body_markdown":"I&#39;ve run the above code in Mac OS Java 7. None of them works. So i wrote one\r\nhttps://github.com/trung/InMemoryJavaCompiler\r\n\r\n``` java\r\nStringBuilder source = new StringBuilder()\r\n    .append(&quot;package org.mdkt;\\n&quot;)\r\n    .append(&quot;public class HelloClass {\\n&quot;)\r\n    .append(&quot;   public String hello() { return \\&quot;hello\\&quot;; }&quot;)\r\n    .append(&quot;}&quot;);\r\n\r\nClass&lt;?&gt; helloClass = InMemoryJavaCompiler.compile(&quot;org.mdkt.HelloClass&quot;, source.toString());\r\n```","title":"Compile code fully in memory with javax.tools.JavaCompiler","body":"<p>I've run the above code in Mac OS Java 7. None of them works. So i wrote one\n<a href=\"https://github.com/trung/InMemoryJavaCompiler\" rel=\"nofollow noreferrer\">https://github.com/trung/InMemoryJavaCompiler</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder source = new StringBuilder()\n    .append(&quot;package org.mdkt;\\n&quot;)\n    .append(&quot;public class HelloClass {\\n&quot;)\n    .append(&quot;   public String hello() { return \\&quot;hello\\&quot;; }&quot;)\n    .append(&quot;}&quot;);\n\nClass&lt;?&gt; helloClass = InMemoryJavaCompiler.compile(&quot;org.mdkt.HelloClass&quot;, source.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3787937,"reputation":5676,"user_id":3886922,"accept_rate":69,"display_name":"Confuse"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1434987374,"creation_date":1434987374,"answer_id":30984126,"question_id":12173294,"body_markdown":"    String fileToCompile = ;\r\n    JavaCompile compiler = ToolProvider.getSystemJavaCompiler();\r\n    if(\r\n        compiler.run(null, null, null, &quot;PACKAGE_NAME&quot; + java.io.File.separator +&quot;CLASS_NAME.java&quot;) == 0\r\n    )\r\n        System.out.println(&quot;Compilation is successful&quot;);\r\n    else\r\n        System.out.println(&quot;Compilation Failed&quot;);","title":"Compile code fully in memory with javax.tools.JavaCompiler","body":"<pre><code>String fileToCompile = ;\nJavaCompile compiler = ToolProvider.getSystemJavaCompiler();\nif(\n    compiler.run(null, null, null, \"PACKAGE_NAME\" + java.io.File.separator +\"CLASS_NAME.java\") == 0\n)\n    System.out.println(\"Compilation is successful\");\nelse\n    System.out.println(\"Compilation Failed\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1537598596,"creation_date":1448653653,"answer_id":33963977,"question_id":12173294,"body_markdown":"This is a class that compiles *entirely* in memory.\r\n\r\nI&#39;ve taken (almost) the entirety of this from http://javapracs.blogspot.de/2011/06/dynamic-in-memory-compilation-using.html by Rekha Kumari (June 2011). Though this version is more than 100 lines shorter and has considerably more features (but no docs:P).\r\n\r\nIt can compile multiple classes at once, which is the only way to compile classes that depend on each other. If you wonder about the class &quot;CompilerFeedback&quot;: I was working on a tiny Java [IDE](https://i.stack.imgur.com/EJvrE.png) for coding-games where I needed that. I&#39;m including it here because I assume that you want to *do* something with this compiler, and the predigestion might help with that. (I realize that some of the code in the CompilerFeedback class is complete crap. It was recycled from a years old attempt.\r\n\r\nThere&#39;s also a utility method, not needed for compilation, that derives the full class name from a class&#39; source code (incl. package name, if it&#39;s provided). Very useful for calling the compiler, which does need this information.\r\n\r\n\r\nDEMO CLASS:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(final String[] args) {\r\n    \r\n            final InMemoryCompiler.IMCSourceCode cls1source;\r\n            final InMemoryCompiler.IMCSourceCode cls2source;\r\n    \r\n            final StringBuilder sb = new StringBuilder();\r\n            sb.append(&quot;package toast;\\n&quot;);\r\n            sb.append(&quot;public class DynaClass {\\n&quot;);\r\n            sb.append(&quot;    public static void main(final String[] args) {&quot;);\r\n            sb.append(&quot;        System.out.println(\\&quot;Based massively on the work of Rekha Kumari, http://javapracs.blogspot.de/2011/06/dynamic-in-memory-compilation-using.html\\&quot;);\\n&quot;);\r\n            sb.append(&quot;        System.out.println(\\&quot;This is the main method speaking.\\&quot;);\\n&quot;);\r\n            sb.append(&quot;        System.out.println(\\&quot;Args: \\&quot; + java.util.Arrays.toString(args));\\n&quot;);\r\n            sb.append(&quot;        final Test test = new Test();\\n&quot;);\r\n            sb.append(&quot;    }\\n&quot;);\r\n            sb.append(&quot;    public String toString() {\\n&quot;);\r\n            sb.append(&quot;        return \\&quot;Hello, I am \\&quot; + &quot;);\r\n            sb.append(&quot;this.getClass().getSimpleName();\\n&quot;);\r\n            sb.append(&quot;    }\\n&quot;);\r\n            sb.append(&quot;}\\n&quot;);\r\n            cls1source = new InMemoryCompiler.IMCSourceCode(&quot;toast.DynaClass&quot;, sb.toString());\r\n    \r\n            sb.setLength(0);\r\n            sb.append(&quot;package toast;\\n&quot;);\r\n            sb.append(&quot;public class Test {\\n&quot;);\r\n            sb.append(&quot;    public Test() {\\n&quot;);\r\n            sb.append(&quot;        System.out.println(\\&quot;class Test constructor reporting in.\\&quot;);\\n&quot;);\r\n            sb.append(&quot;        System.out.println(new DynaClass());\\n&quot;);\r\n            sb.append(&quot;    }\\n&quot;);\r\n            sb.append(&quot;}\\n&quot;);\r\n            cls2source = new InMemoryCompiler.IMCSourceCode(&quot;toast.Test&quot;, sb.toString());\r\n    \r\n            final List&lt;InMemoryCompiler.IMCSourceCode&gt; classSources = new ArrayList&lt;&gt;();\r\n            classSources.add(cls1source);\r\n            classSources.add(cls2source);\r\n    \r\n            final InMemoryCompiler uCompiler = new InMemoryCompiler(classSources);\r\n            final CompilerFeedback compilerFeedback = uCompiler.compile();\r\n            System.out.println(&quot;\\n\\nCOMPILER FEEDBACK: &quot; + compilerFeedback);\r\n    \r\n            if (compilerFeedback != null &amp;&amp; compilerFeedback.success) {\r\n    \r\n                try {\r\n                    System.out.println(&quot;\\nTOSTRING DEMO:&quot;);\r\n                    uCompiler.runToString(cls1source.fullClassName);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                try {\r\n                    System.out.println(&quot;\\nMAIN DEMO:&quot;);\r\n                    uCompiler.runMain(cls1source.fullClassName, new String[] { &quot;test1&quot;, &quot;test2&quot; });\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\nCOMPILER CLASS:\r\n\r\n    import javax.tools.*;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import java.net.URI;\r\n    import java.security.SecureClassLoader;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    /**\r\n     * MASSIVELY based on http://javapracs.blogspot.de/2011/06/dynamic-in-memory-compilation-using.html by Rekha Kumari\r\n     * (June 2011)\r\n     */\r\n    final public class InMemoryCompiler {\r\n    \r\n        final public static class IMCSourceCode {\r\n    \r\n            final public String fullClassName;\r\n            final public String sourceCode;\r\n    \r\n            /**\r\n             * @param fullClassName Full name of the class that will be compiled. If the class should be in some package,\r\n             *                      fullName should contain it too, for example: &quot;testpackage.DynaClass&quot;\r\n             * @param sourceCode    the source code\r\n             */\r\n            public IMCSourceCode(final String fullClassName, final String sourceCode) {\r\n    \r\n                this.fullClassName = fullClassName;\r\n                this.sourceCode = sourceCode;\r\n            }\r\n        }\r\n    \r\n        final public boolean valid;\r\n    \r\n        final private List&lt;IMCSourceCode&gt; classSourceCodes;\r\n        final private JavaFileManager fileManager;\r\n    \r\n        public InMemoryCompiler(final List&lt;IMCSourceCode&gt; classSourceCodes) {\r\n    \r\n            this.classSourceCodes = classSourceCodes;\r\n    \r\n            final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n            if (compiler == null) {\r\n                fileManager = null;\r\n                valid = false;\r\n                System.err.println(&quot;ToolProvider.getSystemJavaCompiler() returned null! This program needs to be run on a system with an installed JDK.&quot;);\r\n                return;\r\n            }\r\n            valid = true;\r\n    \r\n            fileManager = new ForwardingJavaFileManager&lt;JavaFileManager&gt;(compiler.getStandardFileManager(null, null, null)) {\r\n    \r\n                final private Map&lt;String, ByteArrayOutputStream&gt; byteStreams = new HashMap&lt;&gt;();\r\n    \r\n                @Override\r\n                public ClassLoader getClassLoader(final Location location) {\r\n    \r\n                    return new SecureClassLoader() {\r\n    \r\n                        @Override\r\n                        protected Class&lt;?&gt; findClass(final String className) throws ClassNotFoundException {\r\n    \r\n                            final ByteArrayOutputStream bos = byteStreams.get(className);\r\n                            if (bos == null) {\r\n                                return null;\r\n                            }\r\n                            final byte[] b = bos.toByteArray();\r\n                            return super.defineClass(className, b, 0, b.length);\r\n                        }\r\n                    };\r\n                }\r\n    \r\n                @Override\r\n                public JavaFileObject getJavaFileForOutput(final Location location, final String className, final JavaFileObject.Kind kind, final FileObject sibling) throws IOException {\r\n    \r\n                    return new SimpleJavaFileObject(URI.create(&quot;string:///&quot; + className.replace(&#39;.&#39;, &#39;/&#39;) + kind.extension), kind) {\r\n    \r\n                        @Override\r\n                        public OutputStream openOutputStream() throws IOException {\r\n    \r\n                            ByteArrayOutputStream bos = byteStreams.get(className);\r\n                            if (bos == null) {\r\n                                bos = new ByteArrayOutputStream();\r\n                                byteStreams.put(className, bos);\r\n                            }\r\n                            return bos;\r\n                        }\r\n                    };\r\n                }\r\n            };\r\n        }\r\n    \r\n        public CompilerFeedback compile() {\r\n    \r\n            if (!valid) {\r\n                return null;\r\n            }\r\n            final List&lt;JavaFileObject&gt; files = new ArrayList&lt;&gt;();\r\n            for (IMCSourceCode classSourceCode : classSourceCodes) {\r\n                URI uri = null;\r\n                try {\r\n                    uri = URI.create(&quot;string:///&quot; + classSourceCode.fullClassName.replace(&#39;.&#39;, &#39;/&#39;) + JavaFileObject.Kind.SOURCE.extension);\r\n                } catch (Exception e) {\r\n                    //                e.printStackTrace();\r\n                }\r\n                if (uri != null) {\r\n                    final SimpleJavaFileObject sjfo = new SimpleJavaFileObject(uri, JavaFileObject.Kind.SOURCE) {\r\n    \r\n                        @Override\r\n                        public CharSequence getCharContent(final boolean ignoreEncodingErrors) {\r\n    \r\n                            return classSourceCode.sourceCode;\r\n                        }\r\n                    };\r\n                    files.add(sjfo);\r\n                }\r\n            }\r\n    \r\n            final DiagnosticCollector&lt;JavaFileObject&gt; diagnostics = new DiagnosticCollector&lt;&gt;();\r\n    \r\n            final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n    \r\n            if (files.size() &gt; 0) {\r\n                final JavaCompiler.CompilationTask task = compiler.getTask(null, fileManager, diagnostics, null, null, files);\r\n                return new CompilerFeedback(task.call(), diagnostics);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public void runToString(final String className) throws InstantiationException, IllegalAccessException, ClassNotFoundException {\r\n    \r\n            if (!valid) {\r\n                return;\r\n            }\r\n            final Class&lt;?&gt; theClass = getCompiledClass(className);\r\n            final Object instance = theClass.newInstance();\r\n            System.out.println(instance);\r\n        }\r\n    \r\n        public void runMain(final String className, final String[] args) throws IllegalAccessException, ClassNotFoundException, NoSuchMethodException, InvocationTargetException {\r\n    \r\n            if (!valid) {\r\n                return;\r\n            }\r\n            final Class&lt;?&gt; theClass = getCompiledClass(className);\r\n            final Method mainMethod = theClass.getDeclaredMethod(&quot;main&quot;, String[].class);\r\n            mainMethod.invoke(null, new Object[] { args });\r\n        }\r\n    \r\n        public Class&lt;?&gt; getCompiledClass(final String className) throws ClassNotFoundException {\r\n    \r\n            if (!valid) {\r\n                throw new IllegalStateException(&quot;InMemoryCompiler instance not usable because ToolProvider.getSystemJavaCompiler() returned null: No JDK installed.&quot;);\r\n            }\r\n            final ClassLoader classLoader = fileManager.getClassLoader(null);\r\n            final Class&lt;?&gt; ret = classLoader.loadClass(className);\r\n            if (ret == null) {\r\n                throw new ClassNotFoundException(&quot;Class returned by ClassLoader was null!&quot;);\r\n            }\r\n            return ret;\r\n        }\r\n    }\r\n\r\nCOMPILERFEEDBACK CLASS:\r\n\r\n    import javax.tools.Diagnostic;\r\n    import javax.tools.DiagnosticCollector;\r\n    import javax.tools.JavaFileObject;\r\n    import javax.tools.SimpleJavaFileObject;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    final public class CompilerFeedback {\r\n    \r\n        final public boolean success;\r\n        final public List&lt;CompilerMessage&gt; messages = new ArrayList&lt;&gt;();\r\n    \r\n        public CompilerFeedback(final Boolean success, final DiagnosticCollector&lt;JavaFileObject&gt; diagnostics) {\r\n    \r\n            this.success = success != null &amp;&amp; success;\r\n            for (Diagnostic&lt;? extends JavaFileObject&gt; diagnostic : diagnostics.getDiagnostics()) {\r\n                messages.add(new CompilerMessage(diagnostic));\r\n            }\r\n        }\r\n\r\n        public String toString() {\r\n    \r\n            final StringBuilder sb = new StringBuilder();\r\n    \r\n            sb.append(&quot;SUCCESS: &quot;).append(success).append(&#39;\\n&#39;);\r\n            final int iTop = messages.size();\r\n            for (int i = 0; i &lt; iTop; i++) {\r\n                sb.append(&quot;\\n[MESSAGE &quot;).append(i + 1).append(&quot; OF &quot;).append(iTop).append(&quot;]\\n\\n&quot;);\r\n                // sb.append(messages.get(i).toString()).append(&quot;\\n&quot;);\r\n                // sb.append(messages.get(i).toStringForList()).append(&quot;\\n&quot;);\r\n                sb.append(messages.get(i).toStringForDebugging()).append(&quot;\\n&quot;);\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        final public static class CompilerMessage {\r\n    \r\n            final public Diagnostic&lt;? extends JavaFileObject&gt; compilerInfo;\r\n    \r\n            final public String typeOfProblem;\r\n            final public String typeOfProblem_forDebugging;\r\n    \r\n            final public String multiLineMessage;\r\n    \r\n            final public int lineNumber;\r\n            final public int columnNumber;\r\n    \r\n            final public int textHighlightPos_lineStart;\r\n            final public int textHighlightPos_problemStart;\r\n            final public int textHighlightPos_problemEnd;\r\n    \r\n            final public String sourceCode;\r\n            final public String codeOfConcern;\r\n            final public String codeOfConcernLong;\r\n    \r\n            CompilerMessage(final Diagnostic&lt;? extends JavaFileObject&gt; diagnostic) {\r\n    \r\n                final JavaFileObject sourceFileObject = diagnostic.getSource();\r\n                String sourceCodePreliminary = null;\r\n                if (sourceFileObject instanceof SimpleJavaFileObject) {\r\n                    final SimpleJavaFileObject simpleSourceFileObject = (SimpleJavaFileObject) sourceFileObject;\r\n    \r\n                    try {\r\n                        final CharSequence charSequence = simpleSourceFileObject.getCharContent(false);\r\n                        sourceCodePreliminary = charSequence.toString();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                if (sourceCodePreliminary == null) {\r\n                    sourceCode = &quot;[SOURCE CODE UNAVAILABLE]&quot;;\r\n                } else {\r\n                    sourceCode = sourceCodePreliminary;\r\n                }\r\n    \r\n                compilerInfo = diagnostic;\r\n    \r\n                typeOfProblem = diagnostic.getKind().name();\r\n                typeOfProblem_forDebugging = &quot;toString() = &quot; + diagnostic.getKind().toString() + &quot;; name() = &quot; + typeOfProblem;\r\n    \r\n                lineNumber = (int) compilerInfo.getLineNumber();\r\n                columnNumber = (int) compilerInfo.getColumnNumber();\r\n    \r\n                final int sourceLen = sourceCode.length();\r\n                textHighlightPos_lineStart = (int) Math.min(Math.max(0, diagnostic.getStartPosition()), sourceLen);\r\n                textHighlightPos_problemStart = (int) Math.min(Math.max(0, diagnostic.getPosition()), sourceLen);\r\n                textHighlightPos_problemEnd = (int) Math.min(Math.max(0, diagnostic.getEndPosition()), sourceLen);\r\n    \r\n                final StringBuilder reformattedMessage = new StringBuilder();\r\n                final String message = diagnostic.getMessage(Locale.US);\r\n                final int messageCutOffPosition = message.indexOf(&quot;location:&quot;);\r\n                final String[] messageParts;\r\n                if (messageCutOffPosition &gt;= 0) {\r\n                    messageParts = message.substring(0, messageCutOffPosition).split(&quot;\\n&quot;);\r\n                } else {\r\n                    messageParts = message.split(&quot;\\n&quot;);\r\n                }\r\n                for (String s : messageParts) {\r\n                    String s2 = s.trim();\r\n                    if (s2.length() &gt; 0) {\r\n                        boolean lengthChanged;\r\n                        do {\r\n                            final int lBeforeReplace = s2.length();\r\n                            s2 = s2.replace(&quot;  &quot;, &quot; &quot;);\r\n                            lengthChanged = (s2.length() != lBeforeReplace);\r\n                        } while (lengthChanged);\r\n                        reformattedMessage.append(s2).append(&quot;\\n&quot;);\r\n                    }\r\n                }\r\n    \r\n                codeOfConcern = sourceCode.substring(textHighlightPos_problemStart, textHighlightPos_problemEnd);\r\n                codeOfConcernLong = sourceCode.substring(textHighlightPos_lineStart, textHighlightPos_problemEnd);\r\n                if (!codeOfConcern.isEmpty()) {\r\n                    reformattedMessage.append(&quot;Code of concern: \\&quot;&quot;).append(codeOfConcern).append(&#39;\\&quot;&#39;);\r\n                }\r\n                multiLineMessage = reformattedMessage.toString();\r\n            }\r\n    \r\n            public String toStringForList() {\r\n    \r\n                if (compilerInfo == null) {\r\n                    return &quot;No compiler!&quot;;\r\n                } else {\r\n                    return compilerInfo.getCode();\r\n                }\r\n            }\r\n    \r\n            public String toStringForDebugging() {\r\n    \r\n                final StringBuilder ret = new StringBuilder();\r\n    \r\n                ret.append(&quot;Type of problem: &quot;).append(typeOfProblem_forDebugging).append(&quot;\\n\\n&quot;);\r\n                ret.append(&quot;Message:\\n&quot;).append(multiLineMessage).append(&quot;\\n\\n&quot;);\r\n    \r\n                ret.append(compilerInfo.getCode()).append(&quot;\\n\\n&quot;);\r\n    \r\n                ret.append(&quot;line number: &quot;).append(lineNumber).append(&quot;\\n&quot;);\r\n                ret.append(&quot;column number: &quot;).append(columnNumber).append(&quot;\\n&quot;);\r\n    \r\n                ret.append(&quot;textHighlightPos_lineStart: &quot;).append(textHighlightPos_lineStart).append(&quot;\\n&quot;);\r\n                ret.append(&quot;textHighlightPos_problemStart: &quot;).append(textHighlightPos_problemStart).append(&quot;\\n&quot;);\r\n                ret.append(&quot;textHighlightPos_problemEnd: &quot;).append(textHighlightPos_problemEnd).append(&quot;\\n&quot;);\r\n    \r\n                return ret.toString();\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n    \r\n                //            return compilerInfo.getMessage(Locale.US);\r\n                return typeOfProblem + &quot;: &quot; + multiLineMessage + &quot;\\n&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\nUTILITY METHOD (Not needed for the three classes further up.):\r\n\r\n    final public static String PREFIX_CLASSNAME = &quot;class &quot;;\r\n    final public static String PREFIX_PACKAGENAME = &quot;package &quot;;\r\n    final public static String CHARSET_JAVAKEYWORDENDERS = &quot; \\n[](){}&lt;&gt;;,\\&quot;\\\\/*+-=%!&amp;?@:&quot;;\r\n\r\n    /**\r\n     * @return e.g. &quot;com.dreamspacepresident.TestClass&quot; if the source&#39;s first root level &quot;class&quot; (I&#39;m talking about {}\r\n     * hierarchy.) is named &quot;TestClass&quot;, and if the &quot;package&quot; name is &quot;com.dreamspacepresident&quot;. Null is returned if\r\n     * sourceCode is null or does not provide a class name. (Mind that the parsing is done in a quite crappy way.)\r\n     */\r\n    public static String deriveFullClassNameFromSource(final String sourceCode) {\r\n\r\n        if (sourceCode == null) {\r\n            return null;\r\n        }\r\n        final int firstBr = sourceCode.indexOf(&#39;{&#39;);\r\n        if (firstBr &gt;= 0) {\r\n            // DETERMINE CLASS NAME\r\n            final int firstClass = sourceCode.indexOf(PREFIX_CLASSNAME);\r\n            if (firstClass &lt; firstBr) {\r\n                String className = sourceCode.substring(firstClass + PREFIX_CLASSNAME.length(), firstBr).trim();\r\n                final int classNameEnd = indexOfAnyOfThese(className, CHARSET_JAVAKEYWORDENDERS);\r\n                if (classNameEnd &gt;= 0) {\r\n                    className = className.substring(0, classNameEnd);\r\n                }\r\n                if (!className.isEmpty()) {\r\n                    // DETERMINE PACKAGE NAME\r\n                    String packageName = null;\r\n                    final int firstPackage = sourceCode.indexOf(PREFIX_PACKAGENAME);\r\n                    if (firstPackage &gt;= 0 &amp;&amp; firstPackage &lt; firstBr &amp;&amp; firstPackage &lt; firstClass) {\r\n                        packageName = sourceCode.substring(firstPackage + PREFIX_PACKAGENAME.length(), firstBr).trim();\r\n                        final int packageNameEnd = indexOfAnyOfThese(packageName, CHARSET_JAVAKEYWORDENDERS);\r\n                        if (packageNameEnd &gt;= 0) {\r\n                            packageName = packageName.substring(0, packageNameEnd);\r\n                        }\r\n                    }\r\n                    return (packageName != null &amp;&amp; !packageName.isEmpty() ? packageName + &quot;.&quot; : &quot;&quot;) + className;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    /**\r\n     * Looks for the first occurrence of ANY of the given characters, which is easier than using a bunch of\r\n     * String.indexOf() calls.\r\n     *\r\n     * @return -1 if not found, otherwise the String index of the first hit\r\n     */\r\n    public static int indexOfAnyOfThese(final String text, final String characters) {\r\n\r\n        if (text != null &amp;&amp; !text.isEmpty() &amp;&amp; characters != null &amp;&amp; !characters.isEmpty()) {\r\n            final int lenT = text.length();\r\n            final int lenC = characters.length();\r\n            for (int i = 0; i &lt; lenT; i++) {\r\n                final char c = text.charAt(i);\r\n                for (int ii = 0; ii &lt; lenC; ii++) {\r\n                    if (c == characters.charAt(ii)) {\r\n                        return i;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n","title":"Compile code fully in memory with javax.tools.JavaCompiler","body":"<p>This is a class that compiles <em>entirely</em> in memory.</p>\n\n<p>I've taken (almost) the entirety of this from <a href=\"http://javapracs.blogspot.de/2011/06/dynamic-in-memory-compilation-using.html\" rel=\"nofollow noreferrer\">http://javapracs.blogspot.de/2011/06/dynamic-in-memory-compilation-using.html</a> by Rekha Kumari (June 2011). Though this version is more than 100 lines shorter and has considerably more features (but no docs:P).</p>\n\n<p>It can compile multiple classes at once, which is the only way to compile classes that depend on each other. If you wonder about the class \"CompilerFeedback\": I was working on a tiny Java <a href=\"https://i.stack.imgur.com/EJvrE.png\" rel=\"nofollow noreferrer\">IDE</a> for coding-games where I needed that. I'm including it here because I assume that you want to <em>do</em> something with this compiler, and the predigestion might help with that. (I realize that some of the code in the CompilerFeedback class is complete crap. It was recycled from a years old attempt.</p>\n\n<p>There's also a utility method, not needed for compilation, that derives the full class name from a class' source code (incl. package name, if it's provided). Very useful for calling the compiler, which does need this information.</p>\n\n<p>DEMO CLASS:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Demo {\n\n    public static void main(final String[] args) {\n\n        final InMemoryCompiler.IMCSourceCode cls1source;\n        final InMemoryCompiler.IMCSourceCode cls2source;\n\n        final StringBuilder sb = new StringBuilder();\n        sb.append(\"package toast;\\n\");\n        sb.append(\"public class DynaClass {\\n\");\n        sb.append(\"    public static void main(final String[] args) {\");\n        sb.append(\"        System.out.println(\\\"Based massively on the work of Rekha Kumari, http://javapracs.blogspot.de/2011/06/dynamic-in-memory-compilation-using.html\\\");\\n\");\n        sb.append(\"        System.out.println(\\\"This is the main method speaking.\\\");\\n\");\n        sb.append(\"        System.out.println(\\\"Args: \\\" + java.util.Arrays.toString(args));\\n\");\n        sb.append(\"        final Test test = new Test();\\n\");\n        sb.append(\"    }\\n\");\n        sb.append(\"    public String toString() {\\n\");\n        sb.append(\"        return \\\"Hello, I am \\\" + \");\n        sb.append(\"this.getClass().getSimpleName();\\n\");\n        sb.append(\"    }\\n\");\n        sb.append(\"}\\n\");\n        cls1source = new InMemoryCompiler.IMCSourceCode(\"toast.DynaClass\", sb.toString());\n\n        sb.setLength(0);\n        sb.append(\"package toast;\\n\");\n        sb.append(\"public class Test {\\n\");\n        sb.append(\"    public Test() {\\n\");\n        sb.append(\"        System.out.println(\\\"class Test constructor reporting in.\\\");\\n\");\n        sb.append(\"        System.out.println(new DynaClass());\\n\");\n        sb.append(\"    }\\n\");\n        sb.append(\"}\\n\");\n        cls2source = new InMemoryCompiler.IMCSourceCode(\"toast.Test\", sb.toString());\n\n        final List&lt;InMemoryCompiler.IMCSourceCode&gt; classSources = new ArrayList&lt;&gt;();\n        classSources.add(cls1source);\n        classSources.add(cls2source);\n\n        final InMemoryCompiler uCompiler = new InMemoryCompiler(classSources);\n        final CompilerFeedback compilerFeedback = uCompiler.compile();\n        System.out.println(\"\\n\\nCOMPILER FEEDBACK: \" + compilerFeedback);\n\n        if (compilerFeedback != null &amp;&amp; compilerFeedback.success) {\n\n            try {\n                System.out.println(\"\\nTOSTRING DEMO:\");\n                uCompiler.runToString(cls1source.fullClassName);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            try {\n                System.out.println(\"\\nMAIN DEMO:\");\n                uCompiler.runMain(cls1source.fullClassName, new String[] { \"test1\", \"test2\" });\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n        System.exit(0);\n    }\n}\n</code></pre>\n\n<p>COMPILER CLASS:</p>\n\n<pre><code>import javax.tools.*;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.net.URI;\nimport java.security.SecureClassLoader;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * MASSIVELY based on http://javapracs.blogspot.de/2011/06/dynamic-in-memory-compilation-using.html by Rekha Kumari\n * (June 2011)\n */\nfinal public class InMemoryCompiler {\n\n    final public static class IMCSourceCode {\n\n        final public String fullClassName;\n        final public String sourceCode;\n\n        /**\n         * @param fullClassName Full name of the class that will be compiled. If the class should be in some package,\n         *                      fullName should contain it too, for example: \"testpackage.DynaClass\"\n         * @param sourceCode    the source code\n         */\n        public IMCSourceCode(final String fullClassName, final String sourceCode) {\n\n            this.fullClassName = fullClassName;\n            this.sourceCode = sourceCode;\n        }\n    }\n\n    final public boolean valid;\n\n    final private List&lt;IMCSourceCode&gt; classSourceCodes;\n    final private JavaFileManager fileManager;\n\n    public InMemoryCompiler(final List&lt;IMCSourceCode&gt; classSourceCodes) {\n\n        this.classSourceCodes = classSourceCodes;\n\n        final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n        if (compiler == null) {\n            fileManager = null;\n            valid = false;\n            System.err.println(\"ToolProvider.getSystemJavaCompiler() returned null! This program needs to be run on a system with an installed JDK.\");\n            return;\n        }\n        valid = true;\n\n        fileManager = new ForwardingJavaFileManager&lt;JavaFileManager&gt;(compiler.getStandardFileManager(null, null, null)) {\n\n            final private Map&lt;String, ByteArrayOutputStream&gt; byteStreams = new HashMap&lt;&gt;();\n\n            @Override\n            public ClassLoader getClassLoader(final Location location) {\n\n                return new SecureClassLoader() {\n\n                    @Override\n                    protected Class&lt;?&gt; findClass(final String className) throws ClassNotFoundException {\n\n                        final ByteArrayOutputStream bos = byteStreams.get(className);\n                        if (bos == null) {\n                            return null;\n                        }\n                        final byte[] b = bos.toByteArray();\n                        return super.defineClass(className, b, 0, b.length);\n                    }\n                };\n            }\n\n            @Override\n            public JavaFileObject getJavaFileForOutput(final Location location, final String className, final JavaFileObject.Kind kind, final FileObject sibling) throws IOException {\n\n                return new SimpleJavaFileObject(URI.create(\"string:///\" + className.replace('.', '/') + kind.extension), kind) {\n\n                    @Override\n                    public OutputStream openOutputStream() throws IOException {\n\n                        ByteArrayOutputStream bos = byteStreams.get(className);\n                        if (bos == null) {\n                            bos = new ByteArrayOutputStream();\n                            byteStreams.put(className, bos);\n                        }\n                        return bos;\n                    }\n                };\n            }\n        };\n    }\n\n    public CompilerFeedback compile() {\n\n        if (!valid) {\n            return null;\n        }\n        final List&lt;JavaFileObject&gt; files = new ArrayList&lt;&gt;();\n        for (IMCSourceCode classSourceCode : classSourceCodes) {\n            URI uri = null;\n            try {\n                uri = URI.create(\"string:///\" + classSourceCode.fullClassName.replace('.', '/') + JavaFileObject.Kind.SOURCE.extension);\n            } catch (Exception e) {\n                //                e.printStackTrace();\n            }\n            if (uri != null) {\n                final SimpleJavaFileObject sjfo = new SimpleJavaFileObject(uri, JavaFileObject.Kind.SOURCE) {\n\n                    @Override\n                    public CharSequence getCharContent(final boolean ignoreEncodingErrors) {\n\n                        return classSourceCode.sourceCode;\n                    }\n                };\n                files.add(sjfo);\n            }\n        }\n\n        final DiagnosticCollector&lt;JavaFileObject&gt; diagnostics = new DiagnosticCollector&lt;&gt;();\n\n        final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n\n        if (files.size() &gt; 0) {\n            final JavaCompiler.CompilationTask task = compiler.getTask(null, fileManager, diagnostics, null, null, files);\n            return new CompilerFeedback(task.call(), diagnostics);\n        } else {\n            return null;\n        }\n    }\n\n    public void runToString(final String className) throws InstantiationException, IllegalAccessException, ClassNotFoundException {\n\n        if (!valid) {\n            return;\n        }\n        final Class&lt;?&gt; theClass = getCompiledClass(className);\n        final Object instance = theClass.newInstance();\n        System.out.println(instance);\n    }\n\n    public void runMain(final String className, final String[] args) throws IllegalAccessException, ClassNotFoundException, NoSuchMethodException, InvocationTargetException {\n\n        if (!valid) {\n            return;\n        }\n        final Class&lt;?&gt; theClass = getCompiledClass(className);\n        final Method mainMethod = theClass.getDeclaredMethod(\"main\", String[].class);\n        mainMethod.invoke(null, new Object[] { args });\n    }\n\n    public Class&lt;?&gt; getCompiledClass(final String className) throws ClassNotFoundException {\n\n        if (!valid) {\n            throw new IllegalStateException(\"InMemoryCompiler instance not usable because ToolProvider.getSystemJavaCompiler() returned null: No JDK installed.\");\n        }\n        final ClassLoader classLoader = fileManager.getClassLoader(null);\n        final Class&lt;?&gt; ret = classLoader.loadClass(className);\n        if (ret == null) {\n            throw new ClassNotFoundException(\"Class returned by ClassLoader was null!\");\n        }\n        return ret;\n    }\n}\n</code></pre>\n\n<p>COMPILERFEEDBACK CLASS:</p>\n\n<pre><code>import javax.tools.Diagnostic;\nimport javax.tools.DiagnosticCollector;\nimport javax.tools.JavaFileObject;\nimport javax.tools.SimpleJavaFileObject;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\n\nfinal public class CompilerFeedback {\n\n    final public boolean success;\n    final public List&lt;CompilerMessage&gt; messages = new ArrayList&lt;&gt;();\n\n    public CompilerFeedback(final Boolean success, final DiagnosticCollector&lt;JavaFileObject&gt; diagnostics) {\n\n        this.success = success != null &amp;&amp; success;\n        for (Diagnostic&lt;? extends JavaFileObject&gt; diagnostic : diagnostics.getDiagnostics()) {\n            messages.add(new CompilerMessage(diagnostic));\n        }\n    }\n\n    public String toString() {\n\n        final StringBuilder sb = new StringBuilder();\n\n        sb.append(\"SUCCESS: \").append(success).append('\\n');\n        final int iTop = messages.size();\n        for (int i = 0; i &lt; iTop; i++) {\n            sb.append(\"\\n[MESSAGE \").append(i + 1).append(\" OF \").append(iTop).append(\"]\\n\\n\");\n            // sb.append(messages.get(i).toString()).append(\"\\n\");\n            // sb.append(messages.get(i).toStringForList()).append(\"\\n\");\n            sb.append(messages.get(i).toStringForDebugging()).append(\"\\n\");\n        }\n        return sb.toString();\n    }\n\n    final public static class CompilerMessage {\n\n        final public Diagnostic&lt;? extends JavaFileObject&gt; compilerInfo;\n\n        final public String typeOfProblem;\n        final public String typeOfProblem_forDebugging;\n\n        final public String multiLineMessage;\n\n        final public int lineNumber;\n        final public int columnNumber;\n\n        final public int textHighlightPos_lineStart;\n        final public int textHighlightPos_problemStart;\n        final public int textHighlightPos_problemEnd;\n\n        final public String sourceCode;\n        final public String codeOfConcern;\n        final public String codeOfConcernLong;\n\n        CompilerMessage(final Diagnostic&lt;? extends JavaFileObject&gt; diagnostic) {\n\n            final JavaFileObject sourceFileObject = diagnostic.getSource();\n            String sourceCodePreliminary = null;\n            if (sourceFileObject instanceof SimpleJavaFileObject) {\n                final SimpleJavaFileObject simpleSourceFileObject = (SimpleJavaFileObject) sourceFileObject;\n\n                try {\n                    final CharSequence charSequence = simpleSourceFileObject.getCharContent(false);\n                    sourceCodePreliminary = charSequence.toString();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            if (sourceCodePreliminary == null) {\n                sourceCode = \"[SOURCE CODE UNAVAILABLE]\";\n            } else {\n                sourceCode = sourceCodePreliminary;\n            }\n\n            compilerInfo = diagnostic;\n\n            typeOfProblem = diagnostic.getKind().name();\n            typeOfProblem_forDebugging = \"toString() = \" + diagnostic.getKind().toString() + \"; name() = \" + typeOfProblem;\n\n            lineNumber = (int) compilerInfo.getLineNumber();\n            columnNumber = (int) compilerInfo.getColumnNumber();\n\n            final int sourceLen = sourceCode.length();\n            textHighlightPos_lineStart = (int) Math.min(Math.max(0, diagnostic.getStartPosition()), sourceLen);\n            textHighlightPos_problemStart = (int) Math.min(Math.max(0, diagnostic.getPosition()), sourceLen);\n            textHighlightPos_problemEnd = (int) Math.min(Math.max(0, diagnostic.getEndPosition()), sourceLen);\n\n            final StringBuilder reformattedMessage = new StringBuilder();\n            final String message = diagnostic.getMessage(Locale.US);\n            final int messageCutOffPosition = message.indexOf(\"location:\");\n            final String[] messageParts;\n            if (messageCutOffPosition &gt;= 0) {\n                messageParts = message.substring(0, messageCutOffPosition).split(\"\\n\");\n            } else {\n                messageParts = message.split(\"\\n\");\n            }\n            for (String s : messageParts) {\n                String s2 = s.trim();\n                if (s2.length() &gt; 0) {\n                    boolean lengthChanged;\n                    do {\n                        final int lBeforeReplace = s2.length();\n                        s2 = s2.replace(\"  \", \" \");\n                        lengthChanged = (s2.length() != lBeforeReplace);\n                    } while (lengthChanged);\n                    reformattedMessage.append(s2).append(\"\\n\");\n                }\n            }\n\n            codeOfConcern = sourceCode.substring(textHighlightPos_problemStart, textHighlightPos_problemEnd);\n            codeOfConcernLong = sourceCode.substring(textHighlightPos_lineStart, textHighlightPos_problemEnd);\n            if (!codeOfConcern.isEmpty()) {\n                reformattedMessage.append(\"Code of concern: \\\"\").append(codeOfConcern).append('\\\"');\n            }\n            multiLineMessage = reformattedMessage.toString();\n        }\n\n        public String toStringForList() {\n\n            if (compilerInfo == null) {\n                return \"No compiler!\";\n            } else {\n                return compilerInfo.getCode();\n            }\n        }\n\n        public String toStringForDebugging() {\n\n            final StringBuilder ret = new StringBuilder();\n\n            ret.append(\"Type of problem: \").append(typeOfProblem_forDebugging).append(\"\\n\\n\");\n            ret.append(\"Message:\\n\").append(multiLineMessage).append(\"\\n\\n\");\n\n            ret.append(compilerInfo.getCode()).append(\"\\n\\n\");\n\n            ret.append(\"line number: \").append(lineNumber).append(\"\\n\");\n            ret.append(\"column number: \").append(columnNumber).append(\"\\n\");\n\n            ret.append(\"textHighlightPos_lineStart: \").append(textHighlightPos_lineStart).append(\"\\n\");\n            ret.append(\"textHighlightPos_problemStart: \").append(textHighlightPos_problemStart).append(\"\\n\");\n            ret.append(\"textHighlightPos_problemEnd: \").append(textHighlightPos_problemEnd).append(\"\\n\");\n\n            return ret.toString();\n        }\n\n        @Override\n        public String toString() {\n\n            //            return compilerInfo.getMessage(Locale.US);\n            return typeOfProblem + \": \" + multiLineMessage + \"\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>UTILITY METHOD (Not needed for the three classes further up.):</p>\n\n<pre><code>final public static String PREFIX_CLASSNAME = \"class \";\nfinal public static String PREFIX_PACKAGENAME = \"package \";\nfinal public static String CHARSET_JAVAKEYWORDENDERS = \" \\n[](){}&lt;&gt;;,\\\"\\\\/*+-=%!&amp;?@:\";\n\n/**\n * @return e.g. \"com.dreamspacepresident.TestClass\" if the source's first root level \"class\" (I'm talking about {}\n * hierarchy.) is named \"TestClass\", and if the \"package\" name is \"com.dreamspacepresident\". Null is returned if\n * sourceCode is null or does not provide a class name. (Mind that the parsing is done in a quite crappy way.)\n */\npublic static String deriveFullClassNameFromSource(final String sourceCode) {\n\n    if (sourceCode == null) {\n        return null;\n    }\n    final int firstBr = sourceCode.indexOf('{');\n    if (firstBr &gt;= 0) {\n        // DETERMINE CLASS NAME\n        final int firstClass = sourceCode.indexOf(PREFIX_CLASSNAME);\n        if (firstClass &lt; firstBr) {\n            String className = sourceCode.substring(firstClass + PREFIX_CLASSNAME.length(), firstBr).trim();\n            final int classNameEnd = indexOfAnyOfThese(className, CHARSET_JAVAKEYWORDENDERS);\n            if (classNameEnd &gt;= 0) {\n                className = className.substring(0, classNameEnd);\n            }\n            if (!className.isEmpty()) {\n                // DETERMINE PACKAGE NAME\n                String packageName = null;\n                final int firstPackage = sourceCode.indexOf(PREFIX_PACKAGENAME);\n                if (firstPackage &gt;= 0 &amp;&amp; firstPackage &lt; firstBr &amp;&amp; firstPackage &lt; firstClass) {\n                    packageName = sourceCode.substring(firstPackage + PREFIX_PACKAGENAME.length(), firstBr).trim();\n                    final int packageNameEnd = indexOfAnyOfThese(packageName, CHARSET_JAVAKEYWORDENDERS);\n                    if (packageNameEnd &gt;= 0) {\n                        packageName = packageName.substring(0, packageNameEnd);\n                    }\n                }\n                return (packageName != null &amp;&amp; !packageName.isEmpty() ? packageName + \".\" : \"\") + className;\n            }\n        }\n    }\n    return null;\n}\n\n\n/**\n * Looks for the first occurrence of ANY of the given characters, which is easier than using a bunch of\n * String.indexOf() calls.\n *\n * @return -1 if not found, otherwise the String index of the first hit\n */\npublic static int indexOfAnyOfThese(final String text, final String characters) {\n\n    if (text != null &amp;&amp; !text.isEmpty() &amp;&amp; characters != null &amp;&amp; !characters.isEmpty()) {\n        final int lenT = text.length();\n        final int lenC = characters.length();\n        for (int i = 0; i &lt; lenT; i++) {\n            final char c = text.charAt(i);\n            for (int ii = 0; ii &lt; lenC; ii++) {\n                if (c == characters.charAt(ii)) {\n                    return i;\n                }\n            }\n        }\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":161158,"reputation":4007,"user_id":381712,"accept_rate":53,"display_name":"soulmachine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478735772,"creation_date":1478735772,"answer_id":40517976,"question_id":12173294,"body_markdown":"I&#39;d like to introduce my solution which runs well in production.\r\n\r\nHere are the three source code files.\r\n\r\nMemoryJavaCompiler.java\r\n\r\n    package me.soulmachine.compiler;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.io.Writer;\r\n    import java.lang.reflect.Method;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import javax.tools.*;\r\n    \r\n    /**\r\n     * Simple interface to Java compiler using JSR 199 Compiler API.\r\n     */\r\n    public class MemoryJavaCompiler {\r\n        private javax.tools.JavaCompiler tool;\r\n        private StandardJavaFileManager stdManager;\r\n    \r\n        public MemoryJavaCompiler() {\r\n            tool = ToolProvider.getSystemJavaCompiler();\r\n            if (tool == null) {\r\n                throw new RuntimeException(&quot;Could not get Java compiler. Please, ensure that JDK is used instead of JRE.&quot;);\r\n            }\r\n            stdManager = tool.getStandardFileManager(null, null, null);\r\n        }\r\n    \r\n        /**\r\n         * Compile a single static method.\r\n         */\r\n        public Method compileStaticMethod(final String methodName, final String className,\r\n            final String source)\r\n            throws ClassNotFoundException {\r\n            final Map&lt;String, byte[]&gt; classBytes = compile(className + &quot;.java&quot;, source);\r\n            final MemoryClassLoader classLoader = new MemoryClassLoader(classBytes);\r\n            final Class clazz = classLoader.loadClass(className);\r\n            final Method[] methods = clazz.getDeclaredMethods();\r\n            for (final Method method : methods) {\r\n                if (method.getName().equals(methodName)) {\r\n                    if (!method.isAccessible()) method.setAccessible(true);\r\n                    return method;\r\n                }\r\n            }\r\n            throw new NoSuchMethodError(methodName);\r\n        }\r\n    \r\n    \r\n        public Map&lt;String, byte[]&gt; compile(String fileName, String source) {\r\n            return compile(fileName, source, new PrintWriter(System.err), null, null);\r\n        }\r\n    \r\n    \r\n        /**\r\n         * compile given String source and return bytecodes as a Map.\r\n         *\r\n         * @param fileName source fileName to be used for error messages etc.\r\n         * @param source Java source as String\r\n         * @param err error writer where diagnostic messages are written\r\n         * @param sourcePath location of additional .java source files\r\n         * @param classPath location of additional .class files\r\n         */\r\n        private Map&lt;String, byte[]&gt; compile(String fileName, String source,\r\n            Writer err, String sourcePath, String classPath) {\r\n            // to collect errors, warnings etc.\r\n            DiagnosticCollector&lt;JavaFileObject&gt; diagnostics =\r\n                new DiagnosticCollector&lt;JavaFileObject&gt;();\r\n    \r\n            // create a new memory JavaFileManager\r\n            MemoryJavaFileManager fileManager = new MemoryJavaFileManager(stdManager);\r\n    \r\n            // prepare the compilation unit\r\n            List&lt;JavaFileObject&gt; compUnits = new ArrayList&lt;JavaFileObject&gt;(1);\r\n            compUnits.add(fileManager.makeStringSource(fileName, source));\r\n    \r\n            return compile(compUnits, fileManager, err, sourcePath, classPath);\r\n        }\r\n    \r\n        private Map&lt;String, byte[]&gt; compile(final List&lt;JavaFileObject&gt; compUnits, \r\n            final MemoryJavaFileManager fileManager,\r\n            Writer err, String sourcePath, String classPath) {\r\n            // to collect errors, warnings etc.\r\n            DiagnosticCollector&lt;JavaFileObject&gt; diagnostics =\r\n                new DiagnosticCollector&lt;JavaFileObject&gt;();\r\n    \r\n            // javac options\r\n            List&lt;String&gt; options = new ArrayList&lt;String&gt;();\r\n            options.add(&quot;-Xlint:all&quot;);\r\n            //\t\toptions.add(&quot;-g:none&quot;);\r\n            options.add(&quot;-deprecation&quot;);\r\n            if (sourcePath != null) {\r\n                options.add(&quot;-sourcepath&quot;);\r\n                options.add(sourcePath);\r\n            }\r\n    \r\n            if (classPath != null) {\r\n                options.add(&quot;-classpath&quot;);\r\n                options.add(classPath);\r\n            }\r\n    \r\n            // create a compilation task\r\n            javax.tools.JavaCompiler.CompilationTask task =\r\n                tool.getTask(err, fileManager, diagnostics,\r\n                    options, null, compUnits);\r\n    \r\n            if (task.call() == false) {\r\n                PrintWriter perr = new PrintWriter(err);\r\n                for (Diagnostic diagnostic : diagnostics.getDiagnostics()) {\r\n                    perr.println(diagnostic);\r\n                }\r\n                perr.flush();\r\n                return null;\r\n            }\r\n    \r\n            Map&lt;String, byte[]&gt; classBytes = fileManager.getClassBytes();\r\n            try {\r\n                fileManager.close();\r\n            } catch (IOException exp) {\r\n            }\r\n    \r\n            return classBytes;\r\n        }\r\n    }\r\n\r\nMemoryJavaFileManager.java\r\n\r\n    package me.soulmachine.compiler;\r\n    \r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FilterOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.net.URI;\r\n    import java.nio.CharBuffer;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.tools.FileObject;\r\n    import javax.tools.ForwardingJavaFileManager;\r\n    import javax.tools.JavaFileManager;\r\n    import javax.tools.JavaFileObject;\r\n    import javax.tools.JavaFileObject.Kind;\r\n    import javax.tools.SimpleJavaFileObject;\r\n    \r\n    /**\r\n     * JavaFileManager that keeps compiled .class bytes in memory.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    final class MemoryJavaFileManager extends ForwardingJavaFileManager {\r\n    \r\n        /** Java source file extension. */\r\n        private final static String EXT = &quot;.java&quot;;\r\n    \r\n        private Map&lt;String, byte[]&gt; classBytes;\r\n    \r\n        public MemoryJavaFileManager(JavaFileManager fileManager) {\r\n            super(fileManager);\r\n            classBytes = new HashMap&lt;&gt;();\r\n        }\r\n    \r\n        public Map&lt;String, byte[]&gt; getClassBytes() {\r\n            return classBytes;\r\n        }\r\n    \r\n        public void close() throws IOException {\r\n            classBytes = null;\r\n        }\r\n    \r\n        public void flush() throws IOException {\r\n        }\r\n    \r\n        /**\r\n         * A file object used to represent Java source coming from a string.\r\n         */\r\n        private static class StringInputBuffer extends SimpleJavaFileObject {\r\n            final String code;\r\n    \r\n            StringInputBuffer(String fileName, String code) {\r\n                super(toURI(fileName), Kind.SOURCE);\r\n                this.code = code;\r\n            }\r\n    \r\n            public CharBuffer getCharContent(boolean ignoreEncodingErrors) {\r\n                return CharBuffer.wrap(code);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * A file object that stores Java bytecode into the classBytes map.\r\n         */\r\n        private class ClassOutputBuffer extends SimpleJavaFileObject {\r\n            private String name;\r\n    \r\n            ClassOutputBuffer(String name) {\r\n                super(toURI(name), Kind.CLASS);\r\n                this.name = name;\r\n            }\r\n    \r\n            public OutputStream openOutputStream() {\r\n                return new FilterOutputStream(new ByteArrayOutputStream()) {\r\n                    public void close() throws IOException {\r\n                        out.close();\r\n                        ByteArrayOutputStream bos = (ByteArrayOutputStream)out;\r\n                        classBytes.put(name, bos.toByteArray());\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    \r\n        public JavaFileObject getJavaFileForOutput(JavaFileManager.Location location,\r\n            String className,\r\n            Kind kind,\r\n            FileObject sibling) throws IOException {\r\n            if (kind == Kind.CLASS) {\r\n                return new ClassOutputBuffer(className);\r\n            } else {\r\n                return super.getJavaFileForOutput(location, className, kind, sibling);\r\n            }\r\n        }\r\n    \r\n        static JavaFileObject makeStringSource(String fileName, String code) {\r\n            return new StringInputBuffer(fileName, code);\r\n        }\r\n    \r\n        static URI toURI(String name) {\r\n            File file = new File(name);\r\n            if (file.exists()) {\r\n                return file.toURI();\r\n            } else {\r\n                try {\r\n                    final StringBuilder newUri = new StringBuilder();\r\n                    newUri.append(&quot;mfm:///&quot;);\r\n                    newUri.append(name.replace(&#39;.&#39;, &#39;/&#39;));\r\n                    if(name.endsWith(EXT)) newUri.replace(newUri.length() - EXT.length(), newUri.length(), EXT);\r\n                    return URI.create(newUri.toString());\r\n                } catch (Exception exp) {\r\n                    return URI.create(&quot;mfm:///com/sun/script/java/java_source&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nMemoryClassLoader.java\r\n\r\n    package me.soulmachine.compiler;\r\n    \r\n    \r\n    import java.io.File;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.StringTokenizer;\r\n    \r\n    /**\r\n     * ClassLoader that loads .class bytes from memory.\r\n     */\r\n    final class MemoryClassLoader extends URLClassLoader {\r\n        private Map&lt;String, byte[]&gt; classBytes;\r\n    \r\n        public MemoryClassLoader(Map&lt;String, byte[]&gt; classBytes,\r\n            String classPath, ClassLoader parent) {\r\n            super(toURLs(classPath), parent);\r\n            this.classBytes = classBytes;\r\n        }\r\n    \r\n        public MemoryClassLoader(Map&lt;String, byte[]&gt; classBytes, String classPath) {\r\n            this(classBytes, classPath, ClassLoader.getSystemClassLoader());\r\n        }\r\n    \r\n        public MemoryClassLoader(Map&lt;String, byte[]&gt; classBytes) {\r\n            this(classBytes, null, ClassLoader.getSystemClassLoader());\r\n        }\r\n    \r\n        public Class load(String className) throws ClassNotFoundException {\r\n            return loadClass(className);\r\n        }\r\n    \r\n        public Iterable&lt;Class&gt; loadAll() throws ClassNotFoundException {\r\n            List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;(classBytes.size());\r\n            for (String name : classBytes.keySet()) {\r\n                classes.add(loadClass(name));\r\n            }\r\n            return classes;\r\n        }\r\n    \r\n        protected Class findClass(String className) throws ClassNotFoundException {\r\n            byte[] buf = classBytes.get(className);\r\n            if (buf != null) {\r\n                // clear the bytes in map -- we don&#39;t need it anymore\r\n                classBytes.put(className, null);\r\n                return defineClass(className, buf, 0, buf.length);\r\n            } else {\r\n                return super.findClass(className);\r\n            }\r\n        }\r\n    \r\n        private static URL[] toURLs(String classPath) {\r\n            if (classPath == null) {\r\n                return new URL[0];\r\n            }\r\n    \r\n            List&lt;URL&gt; list = new ArrayList&lt;URL&gt;();\r\n            StringTokenizer st = new StringTokenizer(classPath, File.pathSeparator);\r\n            while (st.hasMoreTokens()) {\r\n                String token = st.nextToken();\r\n                File file = new File(token);\r\n                if (file.exists()) {\r\n                    try {\r\n                        list.add(file.toURI().toURL());\r\n                    } catch (MalformedURLException mue) {}\r\n                } else {\r\n                    try {\r\n                        list.add(new URL(token));\r\n                    } catch (MalformedURLException mue) {}\r\n                }\r\n            }\r\n            URL[] res = new URL[list.size()];\r\n            list.toArray(res);\r\n            return res;\r\n        }\r\n    }\r\n\r\n\r\n**Explanations**:\r\n\r\n1. In order to represent a  Java source file in memory instead of disk, I defined a `StringInputBuffer` class in the `MemoryJavaFileManager.java`.\r\n2. To save the compiled `.class` files in memory, I implemented a class `MemoryJavaFileManager`.  The main idea is to override the function `getJavaFileForOutput()` to store bytecodes into a map.\r\n3. To load the bytecodes in memory, I have to implement a customized classloader `MemoryClassLoader`, which reads bytecodes in the map and turn them into classes.\r\n\r\n\r\nHere is a unite test.\r\n\r\n\r\n    package me.soulmachine.compiler;\r\n    \r\n    \r\n    import org.junit.Test;\r\n    \r\n    import java.io.IOException;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import java.util.ArrayList;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    public class MemoryJavaCompilerTest {\r\n        private final static MemoryJavaCompiler compiler = new MemoryJavaCompiler();\r\n    \r\n        @Test public void compileStaticMethodTest()\r\n            throws ClassNotFoundException, InvocationTargetException, IllegalAccessException {\r\n            final String source = &quot;public final class Solution {\\n&quot;\r\n                + &quot;public static String greeting(String name) {\\n&quot;\r\n                + &quot;\\treturn \\&quot;Hello \\&quot; + name;\\n&quot; + &quot;}\\n}\\n&quot;;\r\n            final Method greeting = compiler.compileStaticMethod(&quot;greeting&quot;, &quot;Solution&quot;, source);\r\n            final Object result = greeting.invoke(null, &quot;soulmachine&quot;);\r\n            assertEquals(&quot;Hello soulmachine&quot;, result.toString());\r\n        }\r\n    }\r\n\r\n\r\n\r\n## Reference\r\n1. [JavaCompiler.java from Cloudera Morphlines](https://github.com/kite-sdk/kite/tree/master/kite-morphlines/kite-morphlines-core/src/main/java/org/kitesdk/morphline/scriptengine/java)\r\n2. [How to create an object from a string in Java (how to eval a string)?](https://stackoverflow.com/questions/1168931/how-to-create-an-object-from-a-string-in-java-how-to-eval-a-string)\r\n3. [InMemoryJavaCompiler](https://github.com/trung/InMemoryJavaCompiler)\r\n4. [Java-Runtime-Compiler](https://github.com/OpenHFT/Java-Runtime-Compiler)\r\n5. [动态的Java - 无废话JavaCompilerAPI中文指南]\r\n6. [Compile and Run Java Source Code in Memory](http://www.soulmachine.me/blog/2015/07/22/compile-and-run-java-source-code-in-memory/).","title":"Compile code fully in memory with javax.tools.JavaCompiler","body":"<p>I'd like to introduce my solution which runs well in production.</p>\n\n<p>Here are the three source code files.</p>\n\n<p>MemoryJavaCompiler.java</p>\n\n<pre><code>package me.soulmachine.compiler;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.io.Writer;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.tools.*;\n\n/**\n * Simple interface to Java compiler using JSR 199 Compiler API.\n */\npublic class MemoryJavaCompiler {\n    private javax.tools.JavaCompiler tool;\n    private StandardJavaFileManager stdManager;\n\n    public MemoryJavaCompiler() {\n        tool = ToolProvider.getSystemJavaCompiler();\n        if (tool == null) {\n            throw new RuntimeException(\"Could not get Java compiler. Please, ensure that JDK is used instead of JRE.\");\n        }\n        stdManager = tool.getStandardFileManager(null, null, null);\n    }\n\n    /**\n     * Compile a single static method.\n     */\n    public Method compileStaticMethod(final String methodName, final String className,\n        final String source)\n        throws ClassNotFoundException {\n        final Map&lt;String, byte[]&gt; classBytes = compile(className + \".java\", source);\n        final MemoryClassLoader classLoader = new MemoryClassLoader(classBytes);\n        final Class clazz = classLoader.loadClass(className);\n        final Method[] methods = clazz.getDeclaredMethods();\n        for (final Method method : methods) {\n            if (method.getName().equals(methodName)) {\n                if (!method.isAccessible()) method.setAccessible(true);\n                return method;\n            }\n        }\n        throw new NoSuchMethodError(methodName);\n    }\n\n\n    public Map&lt;String, byte[]&gt; compile(String fileName, String source) {\n        return compile(fileName, source, new PrintWriter(System.err), null, null);\n    }\n\n\n    /**\n     * compile given String source and return bytecodes as a Map.\n     *\n     * @param fileName source fileName to be used for error messages etc.\n     * @param source Java source as String\n     * @param err error writer where diagnostic messages are written\n     * @param sourcePath location of additional .java source files\n     * @param classPath location of additional .class files\n     */\n    private Map&lt;String, byte[]&gt; compile(String fileName, String source,\n        Writer err, String sourcePath, String classPath) {\n        // to collect errors, warnings etc.\n        DiagnosticCollector&lt;JavaFileObject&gt; diagnostics =\n            new DiagnosticCollector&lt;JavaFileObject&gt;();\n\n        // create a new memory JavaFileManager\n        MemoryJavaFileManager fileManager = new MemoryJavaFileManager(stdManager);\n\n        // prepare the compilation unit\n        List&lt;JavaFileObject&gt; compUnits = new ArrayList&lt;JavaFileObject&gt;(1);\n        compUnits.add(fileManager.makeStringSource(fileName, source));\n\n        return compile(compUnits, fileManager, err, sourcePath, classPath);\n    }\n\n    private Map&lt;String, byte[]&gt; compile(final List&lt;JavaFileObject&gt; compUnits, \n        final MemoryJavaFileManager fileManager,\n        Writer err, String sourcePath, String classPath) {\n        // to collect errors, warnings etc.\n        DiagnosticCollector&lt;JavaFileObject&gt; diagnostics =\n            new DiagnosticCollector&lt;JavaFileObject&gt;();\n\n        // javac options\n        List&lt;String&gt; options = new ArrayList&lt;String&gt;();\n        options.add(\"-Xlint:all\");\n        //      options.add(\"-g:none\");\n        options.add(\"-deprecation\");\n        if (sourcePath != null) {\n            options.add(\"-sourcepath\");\n            options.add(sourcePath);\n        }\n\n        if (classPath != null) {\n            options.add(\"-classpath\");\n            options.add(classPath);\n        }\n\n        // create a compilation task\n        javax.tools.JavaCompiler.CompilationTask task =\n            tool.getTask(err, fileManager, diagnostics,\n                options, null, compUnits);\n\n        if (task.call() == false) {\n            PrintWriter perr = new PrintWriter(err);\n            for (Diagnostic diagnostic : diagnostics.getDiagnostics()) {\n                perr.println(diagnostic);\n            }\n            perr.flush();\n            return null;\n        }\n\n        Map&lt;String, byte[]&gt; classBytes = fileManager.getClassBytes();\n        try {\n            fileManager.close();\n        } catch (IOException exp) {\n        }\n\n        return classBytes;\n    }\n}\n</code></pre>\n\n<p>MemoryJavaFileManager.java</p>\n\n<pre><code>package me.soulmachine.compiler;\n\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FilterOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.URI;\nimport java.nio.CharBuffer;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.tools.FileObject;\nimport javax.tools.ForwardingJavaFileManager;\nimport javax.tools.JavaFileManager;\nimport javax.tools.JavaFileObject;\nimport javax.tools.JavaFileObject.Kind;\nimport javax.tools.SimpleJavaFileObject;\n\n/**\n * JavaFileManager that keeps compiled .class bytes in memory.\n */\n@SuppressWarnings(\"unchecked\")\nfinal class MemoryJavaFileManager extends ForwardingJavaFileManager {\n\n    /** Java source file extension. */\n    private final static String EXT = \".java\";\n\n    private Map&lt;String, byte[]&gt; classBytes;\n\n    public MemoryJavaFileManager(JavaFileManager fileManager) {\n        super(fileManager);\n        classBytes = new HashMap&lt;&gt;();\n    }\n\n    public Map&lt;String, byte[]&gt; getClassBytes() {\n        return classBytes;\n    }\n\n    public void close() throws IOException {\n        classBytes = null;\n    }\n\n    public void flush() throws IOException {\n    }\n\n    /**\n     * A file object used to represent Java source coming from a string.\n     */\n    private static class StringInputBuffer extends SimpleJavaFileObject {\n        final String code;\n\n        StringInputBuffer(String fileName, String code) {\n            super(toURI(fileName), Kind.SOURCE);\n            this.code = code;\n        }\n\n        public CharBuffer getCharContent(boolean ignoreEncodingErrors) {\n            return CharBuffer.wrap(code);\n        }\n    }\n\n    /**\n     * A file object that stores Java bytecode into the classBytes map.\n     */\n    private class ClassOutputBuffer extends SimpleJavaFileObject {\n        private String name;\n\n        ClassOutputBuffer(String name) {\n            super(toURI(name), Kind.CLASS);\n            this.name = name;\n        }\n\n        public OutputStream openOutputStream() {\n            return new FilterOutputStream(new ByteArrayOutputStream()) {\n                public void close() throws IOException {\n                    out.close();\n                    ByteArrayOutputStream bos = (ByteArrayOutputStream)out;\n                    classBytes.put(name, bos.toByteArray());\n                }\n            };\n        }\n    }\n\n    public JavaFileObject getJavaFileForOutput(JavaFileManager.Location location,\n        String className,\n        Kind kind,\n        FileObject sibling) throws IOException {\n        if (kind == Kind.CLASS) {\n            return new ClassOutputBuffer(className);\n        } else {\n            return super.getJavaFileForOutput(location, className, kind, sibling);\n        }\n    }\n\n    static JavaFileObject makeStringSource(String fileName, String code) {\n        return new StringInputBuffer(fileName, code);\n    }\n\n    static URI toURI(String name) {\n        File file = new File(name);\n        if (file.exists()) {\n            return file.toURI();\n        } else {\n            try {\n                final StringBuilder newUri = new StringBuilder();\n                newUri.append(\"mfm:///\");\n                newUri.append(name.replace('.', '/'));\n                if(name.endsWith(EXT)) newUri.replace(newUri.length() - EXT.length(), newUri.length(), EXT);\n                return URI.create(newUri.toString());\n            } catch (Exception exp) {\n                return URI.create(\"mfm:///com/sun/script/java/java_source\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>MemoryClassLoader.java</p>\n\n<pre><code>package me.soulmachine.compiler;\n\n\nimport java.io.File;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.StringTokenizer;\n\n/**\n * ClassLoader that loads .class bytes from memory.\n */\nfinal class MemoryClassLoader extends URLClassLoader {\n    private Map&lt;String, byte[]&gt; classBytes;\n\n    public MemoryClassLoader(Map&lt;String, byte[]&gt; classBytes,\n        String classPath, ClassLoader parent) {\n        super(toURLs(classPath), parent);\n        this.classBytes = classBytes;\n    }\n\n    public MemoryClassLoader(Map&lt;String, byte[]&gt; classBytes, String classPath) {\n        this(classBytes, classPath, ClassLoader.getSystemClassLoader());\n    }\n\n    public MemoryClassLoader(Map&lt;String, byte[]&gt; classBytes) {\n        this(classBytes, null, ClassLoader.getSystemClassLoader());\n    }\n\n    public Class load(String className) throws ClassNotFoundException {\n        return loadClass(className);\n    }\n\n    public Iterable&lt;Class&gt; loadAll() throws ClassNotFoundException {\n        List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;(classBytes.size());\n        for (String name : classBytes.keySet()) {\n            classes.add(loadClass(name));\n        }\n        return classes;\n    }\n\n    protected Class findClass(String className) throws ClassNotFoundException {\n        byte[] buf = classBytes.get(className);\n        if (buf != null) {\n            // clear the bytes in map -- we don't need it anymore\n            classBytes.put(className, null);\n            return defineClass(className, buf, 0, buf.length);\n        } else {\n            return super.findClass(className);\n        }\n    }\n\n    private static URL[] toURLs(String classPath) {\n        if (classPath == null) {\n            return new URL[0];\n        }\n\n        List&lt;URL&gt; list = new ArrayList&lt;URL&gt;();\n        StringTokenizer st = new StringTokenizer(classPath, File.pathSeparator);\n        while (st.hasMoreTokens()) {\n            String token = st.nextToken();\n            File file = new File(token);\n            if (file.exists()) {\n                try {\n                    list.add(file.toURI().toURL());\n                } catch (MalformedURLException mue) {}\n            } else {\n                try {\n                    list.add(new URL(token));\n                } catch (MalformedURLException mue) {}\n            }\n        }\n        URL[] res = new URL[list.size()];\n        list.toArray(res);\n        return res;\n    }\n}\n</code></pre>\n\n<p><strong>Explanations</strong>:</p>\n\n<ol>\n<li>In order to represent a  Java source file in memory instead of disk, I defined a <code>StringInputBuffer</code> class in the <code>MemoryJavaFileManager.java</code>.</li>\n<li>To save the compiled <code>.class</code> files in memory, I implemented a class <code>MemoryJavaFileManager</code>.  The main idea is to override the function <code>getJavaFileForOutput()</code> to store bytecodes into a map.</li>\n<li>To load the bytecodes in memory, I have to implement a customized classloader <code>MemoryClassLoader</code>, which reads bytecodes in the map and turn them into classes.</li>\n</ol>\n\n<p>Here is a unite test.</p>\n\n<pre><code>package me.soulmachine.compiler;\n\n\nimport org.junit.Test;\n\nimport java.io.IOException;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\n\nimport static org.junit.Assert.assertEquals;\n\npublic class MemoryJavaCompilerTest {\n    private final static MemoryJavaCompiler compiler = new MemoryJavaCompiler();\n\n    @Test public void compileStaticMethodTest()\n        throws ClassNotFoundException, InvocationTargetException, IllegalAccessException {\n        final String source = \"public final class Solution {\\n\"\n            + \"public static String greeting(String name) {\\n\"\n            + \"\\treturn \\\"Hello \\\" + name;\\n\" + \"}\\n}\\n\";\n        final Method greeting = compiler.compileStaticMethod(\"greeting\", \"Solution\", source);\n        final Object result = greeting.invoke(null, \"soulmachine\");\n        assertEquals(\"Hello soulmachine\", result.toString());\n    }\n}\n</code></pre>\n\n<h2>Reference</h2>\n\n<ol>\n<li><a href=\"https://github.com/kite-sdk/kite/tree/master/kite-morphlines/kite-morphlines-core/src/main/java/org/kitesdk/morphline/scriptengine/java\" rel=\"nofollow noreferrer\">JavaCompiler.java from Cloudera Morphlines</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1168931/how-to-create-an-object-from-a-string-in-java-how-to-eval-a-string\">How to create an object from a string in Java (how to eval a string)?</a></li>\n<li><a href=\"https://github.com/trung/InMemoryJavaCompiler\" rel=\"nofollow noreferrer\">InMemoryJavaCompiler</a></li>\n<li><a href=\"https://github.com/OpenHFT/Java-Runtime-Compiler\" rel=\"nofollow noreferrer\">Java-Runtime-Compiler</a></li>\n<li>[动态的Java - 无废话JavaCompilerAPI中文指南]</li>\n<li><a href=\"http://www.soulmachine.me/blog/2015/07/22/compile-and-run-java-source-code-in-memory/\" rel=\"nofollow noreferrer\">Compile and Run Java Source Code in Memory</a>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":35077,"reputation":28118,"user_id":99256,"accept_rate":89,"display_name":"MartyIX"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486295754,"creation_date":1486295754,"answer_id":42051749,"question_id":12173294,"body_markdown":"I wanted:\r\n\r\n* **in-memory compilation of a java file** (useful for Java as a scripting language)\r\n* No additional dependencies (easy to setup)\r\n* Implementation in as low number of files as possible (easy to incorporate in a project)\r\n\r\nYou can try it first here: http://ideone.com/cu1GhE#view_edit_box\r\n\r\nThe following code is based on [Rekha Kumari][1] code: \r\n\r\n**Main.java**\r\n\r\n    package com.mycompany.java;\r\n    \r\n    //import org.slf4j.Logger;\r\n    //import org.slf4j.LoggerFactory;\r\n    \r\n    import java.io.PrintWriter;\r\n    import java.io.StringWriter;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \r\n        //private static final Logger logger = LoggerFactory.getLogger(Main.class);\r\n    \r\n        public static void main(String[] args) {    \r\n            try {\r\n                StringWriter writer = new StringWriter();\r\n                PrintWriter out = new PrintWriter(writer);\r\n                out.println(&quot;package com.mycompany.script;&quot;);\r\n                out.println(&quot;&quot;);\r\n                out.println(&quot;public class HelloWorld {&quot;);\r\n                out.println(&quot;  public static void main(String args[]) {&quot;);\r\n                out.println(&quot;    System.out.println(\\&quot;This is in another java file\\&quot;);&quot;);\r\n                out.println(&quot;  }&quot;);\r\n                out.println(&quot;}&quot;);\r\n                out.close();\r\n    \r\n                String fullName = &quot;com.mycompany.script.HelloWorld&quot;;\r\n                String src = writer.toString();\r\n    \r\n                DynamicCompiler uCompiler = new DynamicCompiler(fullName, src);\r\n                uCompiler.compile();\r\n                uCompiler.run();\r\n    \r\n            } catch (Exception e) {\r\n                //logger.error(&quot;Exception:&quot;, e);\r\n                System.out.print(&quot;Exception&quot;);\r\n            }\r\n        }    \r\n    }\r\n\r\n**DynamicCompiler.java**\r\n\r\n    package com.mycompany.java;\r\n    \r\n    //import org.slf4j.Logger;\r\n    //import org.slf4j.LoggerFactory;\r\n    \r\n    import javax.tools.*;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.net.URI;\r\n    import java.security.SecureClassLoader;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    // Based on: http://javapracs.blogspot.cz/2011/06/dynamic-in-memory-compilation-using.html\r\n    public class DynamicCompiler {\r\n        //private static final Logger logger = LoggerFactory.getLogger(DynamicCompiler.class);\r\n    \r\n        private JavaFileManager fileManager;\r\n        private String fullName;\r\n        private String sourceCode;\r\n    \r\n        public DynamicCompiler(String fullName, String srcCode) {\r\n            this.fullName = fullName;\r\n            this.sourceCode = srcCode;\r\n            this.fileManager = initFileManager();\r\n        }\r\n    \r\n        public JavaFileManager initFileManager() {\r\n            if (fileManager != null)\r\n                return fileManager;\r\n            else {\r\n                JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n                fileManager = new\r\n                        ClassFileManager(compiler\r\n                        .getStandardFileManager(null, null, null));\r\n                return fileManager;\r\n            }\r\n        }\r\n    \r\n        public void compile() {\r\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();    \r\n            List&lt;JavaFileObject&gt; files = new ArrayList&lt;&gt;();\r\n            files.add(new CharSequenceJavaFileObject(fullName, sourceCode));\r\n    \r\n            compiler.getTask(\r\n                    null,\r\n                    fileManager,\r\n                    null,\r\n                    null,\r\n                    null,\r\n                    files\r\n            ).call();\r\n        }\r\n    \r\n        public void run() throws InstantiationException, IllegalAccessException, ClassNotFoundException {\r\n            try {\r\n                fileManager\r\n                        .getClassLoader(null)\r\n                        .loadClass(fullName)\r\n                        .getDeclaredMethod(&quot;main&quot;, new Class[]{String[].class})\r\n                        .invoke(null, new Object[]{null});\r\n            } catch (InvocationTargetException e) {\r\n                System.out.print(&quot;InvocationTargetException&quot;);\r\n                //logger.error(&quot;InvocationTargetException:&quot;, e);\r\n            } catch (NoSuchMethodException e) {\r\n                System.out.print(&quot;NoSuchMethodException &quot;);\r\n                //logger.error(&quot;NoSuchMethodException:&quot;, e);\r\n            }\r\n        }\r\n    \r\n        public class CharSequenceJavaFileObject extends SimpleJavaFileObject {\r\n    \r\n            /**\r\n             * CharSequence representing the source code to be compiled\r\n             */\r\n            private CharSequence content;\r\n    \r\n            public CharSequenceJavaFileObject(String className, CharSequence content) {\r\n                super(URI.create(&quot;string:///&quot; + className.replace(&#39;.&#39;, &#39;/&#39;) + Kind.SOURCE.extension), Kind.SOURCE);\r\n                this.content = content;\r\n            }\r\n    \r\n            public CharSequence getCharContent(boolean ignoreEncodingErrors) {\r\n                return content;\r\n            }\r\n        }\r\n    \r\n        public class ClassFileManager extends ForwardingJavaFileManager {\r\n            private JavaClassObject javaClassObject;\r\n    \r\n            public ClassFileManager(StandardJavaFileManager standardManager) {\r\n                super(standardManager);\r\n            }\r\n    \r\n            @Override\r\n            public ClassLoader getClassLoader(Location location) {\r\n                return new SecureClassLoader() {\r\n                    @Override\r\n                    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n                        byte[] b = javaClassObject.getBytes();\r\n                        return super.defineClass(name, javaClassObject.getBytes(), 0, b.length);\r\n                    }\r\n                };\r\n            }\r\n    \r\n            public JavaFileObject getJavaFileForOutput(Location location, String className, JavaFileObject.Kind kind, FileObject sibling) throws IOException {\r\n                this.javaClassObject = new JavaClassObject(className, kind);\r\n                return this.javaClassObject;\r\n            }\r\n        }\r\n    \r\n        public class JavaClassObject extends SimpleJavaFileObject {\r\n            protected final ByteArrayOutputStream bos =\r\n                    new ByteArrayOutputStream();\r\n    \r\n            public JavaClassObject(String name, Kind kind) {\r\n                super(URI.create(&quot;string:///&quot; + name.replace(&#39;.&#39;, &#39;/&#39;)\r\n                        + kind.extension), kind);\r\n            }\r\n    \r\n            public byte[] getBytes() {\r\n                return bos.toByteArray();\r\n            }\r\n    \r\n            @Override\r\n            public OutputStream openOutputStream() throws IOException {\r\n                return bos;\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: http://javapracs.blogspot.de/2011/06/dynamic-in-memory-compilation-using.html","title":"Compile code fully in memory with javax.tools.JavaCompiler","body":"<p>I wanted:</p>\n\n<ul>\n<li><strong>in-memory compilation of a java file</strong> (useful for Java as a scripting language)</li>\n<li>No additional dependencies (easy to setup)</li>\n<li>Implementation in as low number of files as possible (easy to incorporate in a project)</li>\n</ul>\n\n<p>You can try it first here: <a href=\"http://ideone.com/cu1GhE#view_edit_box\" rel=\"nofollow noreferrer\">http://ideone.com/cu1GhE#view_edit_box</a></p>\n\n<p>The following code is based on <a href=\"http://javapracs.blogspot.de/2011/06/dynamic-in-memory-compilation-using.html\" rel=\"nofollow noreferrer\">Rekha Kumari</a> code: </p>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>package com.mycompany.java;\n\n//import org.slf4j.Logger;\n//import org.slf4j.LoggerFactory;\n\nimport java.io.PrintWriter;\nimport java.io.StringWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n\n    //private static final Logger logger = LoggerFactory.getLogger(Main.class);\n\n    public static void main(String[] args) {    \n        try {\n            StringWriter writer = new StringWriter();\n            PrintWriter out = new PrintWriter(writer);\n            out.println(\"package com.mycompany.script;\");\n            out.println(\"\");\n            out.println(\"public class HelloWorld {\");\n            out.println(\"  public static void main(String args[]) {\");\n            out.println(\"    System.out.println(\\\"This is in another java file\\\");\");\n            out.println(\"  }\");\n            out.println(\"}\");\n            out.close();\n\n            String fullName = \"com.mycompany.script.HelloWorld\";\n            String src = writer.toString();\n\n            DynamicCompiler uCompiler = new DynamicCompiler(fullName, src);\n            uCompiler.compile();\n            uCompiler.run();\n\n        } catch (Exception e) {\n            //logger.error(\"Exception:\", e);\n            System.out.print(\"Exception\");\n        }\n    }    \n}\n</code></pre>\n\n<p><strong>DynamicCompiler.java</strong></p>\n\n<pre><code>package com.mycompany.java;\n\n//import org.slf4j.Logger;\n//import org.slf4j.LoggerFactory;\n\nimport javax.tools.*;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.lang.reflect.InvocationTargetException;\nimport java.net.URI;\nimport java.security.SecureClassLoader;\nimport java.util.ArrayList;\nimport java.util.List;\n\n// Based on: http://javapracs.blogspot.cz/2011/06/dynamic-in-memory-compilation-using.html\npublic class DynamicCompiler {\n    //private static final Logger logger = LoggerFactory.getLogger(DynamicCompiler.class);\n\n    private JavaFileManager fileManager;\n    private String fullName;\n    private String sourceCode;\n\n    public DynamicCompiler(String fullName, String srcCode) {\n        this.fullName = fullName;\n        this.sourceCode = srcCode;\n        this.fileManager = initFileManager();\n    }\n\n    public JavaFileManager initFileManager() {\n        if (fileManager != null)\n            return fileManager;\n        else {\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n            fileManager = new\n                    ClassFileManager(compiler\n                    .getStandardFileManager(null, null, null));\n            return fileManager;\n        }\n    }\n\n    public void compile() {\n        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();    \n        List&lt;JavaFileObject&gt; files = new ArrayList&lt;&gt;();\n        files.add(new CharSequenceJavaFileObject(fullName, sourceCode));\n\n        compiler.getTask(\n                null,\n                fileManager,\n                null,\n                null,\n                null,\n                files\n        ).call();\n    }\n\n    public void run() throws InstantiationException, IllegalAccessException, ClassNotFoundException {\n        try {\n            fileManager\n                    .getClassLoader(null)\n                    .loadClass(fullName)\n                    .getDeclaredMethod(\"main\", new Class[]{String[].class})\n                    .invoke(null, new Object[]{null});\n        } catch (InvocationTargetException e) {\n            System.out.print(\"InvocationTargetException\");\n            //logger.error(\"InvocationTargetException:\", e);\n        } catch (NoSuchMethodException e) {\n            System.out.print(\"NoSuchMethodException \");\n            //logger.error(\"NoSuchMethodException:\", e);\n        }\n    }\n\n    public class CharSequenceJavaFileObject extends SimpleJavaFileObject {\n\n        /**\n         * CharSequence representing the source code to be compiled\n         */\n        private CharSequence content;\n\n        public CharSequenceJavaFileObject(String className, CharSequence content) {\n            super(URI.create(\"string:///\" + className.replace('.', '/') + Kind.SOURCE.extension), Kind.SOURCE);\n            this.content = content;\n        }\n\n        public CharSequence getCharContent(boolean ignoreEncodingErrors) {\n            return content;\n        }\n    }\n\n    public class ClassFileManager extends ForwardingJavaFileManager {\n        private JavaClassObject javaClassObject;\n\n        public ClassFileManager(StandardJavaFileManager standardManager) {\n            super(standardManager);\n        }\n\n        @Override\n        public ClassLoader getClassLoader(Location location) {\n            return new SecureClassLoader() {\n                @Override\n                protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n                    byte[] b = javaClassObject.getBytes();\n                    return super.defineClass(name, javaClassObject.getBytes(), 0, b.length);\n                }\n            };\n        }\n\n        public JavaFileObject getJavaFileForOutput(Location location, String className, JavaFileObject.Kind kind, FileObject sibling) throws IOException {\n            this.javaClassObject = new JavaClassObject(className, kind);\n            return this.javaClassObject;\n        }\n    }\n\n    public class JavaClassObject extends SimpleJavaFileObject {\n        protected final ByteArrayOutputStream bos =\n                new ByteArrayOutputStream();\n\n        public JavaClassObject(String name, Kind kind) {\n            super(URI.create(\"string:///\" + name.replace('.', '/')\n                    + kind.extension), kind);\n        }\n\n        public byte[] getBytes() {\n            return bos.toByteArray();\n        }\n\n        @Override\n        public OutputStream openOutputStream() throws IOException {\n            return bos;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":196335,"reputation":2607,"user_id":439719,"accept_rate":65,"display_name":"Sandman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41066,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"closed_date":1510764587,"accepted_answer_id":28890356,"answer_count":7,"score":47,"last_activity_date":1651942259,"creation_date":1346227210,"question_id":12173294,"body_markdown":"I&#39;m using the JavaCompiler from the javax.tools package (JDK 1.7) to compile some stuff on the fly, like this:\r\n\r\n    compiler.run(null, null, &quot;-cp&quot;, paths, &quot;path/to/my/file.java&quot;);\r\n\r\nIt works but I would like to do it all in memory (e.g. pass a string with the code, not the source file, and get the byte code back not a .class file). I found that extending the `InputStream` and `OutputStream` parameters is no use since it&#39;s probably just the same as in the console. Do you know a way to make the run method work like this? Or do you know a confirmed way to do this with the `getTask()` method? (extending the FileManager looks easy but isn&#39;t that easy :)","title":"Compile code fully in memory with javax.tools.JavaCompiler","body":"<p>I'm using the JavaCompiler from the javax.tools package (JDK 1.7) to compile some stuff on the fly, like this:</p>\n\n<pre><code>compiler.run(null, null, \"-cp\", paths, \"path/to/my/file.java\");\n</code></pre>\n\n<p>It works but I would like to do it all in memory (e.g. pass a string with the code, not the source file, and get the byte code back not a .class file). I found that extending the <code>InputStream</code> and <code>OutputStream</code> parameters is no use since it's probably just the same as in the console. Do you know a way to make the run method work like this? Or do you know a confirmed way to do this with the <code>getTask()</code> method? (extending the FileManager looks easy but isn't that easy :)</p>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1651941481,"post_id":72154486,"comment_id":127487678,"body_markdown":"You&#39;re not using the return value. You need `buffer = visit(node.left, buffer);` to replace the String with the new one.","body":"You&#39;re not using the return value. You need <code>buffer = visit(node.left, buffer);</code> to replace the String with the new one."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":3,"creation_date":1651941720,"post_id":72154486,"comment_id":127487728,"body_markdown":"`buffer += node.data + &quot; &quot;;` does not append to buffer - it creates a new String and assigns it to local buffer variable - Strings are immutable in java. Use StringBuilder instead. Alternatively, use return values as already suggested (this may have bigger memory overhead)","body":"<code>buffer += node.data + &quot; &quot;;</code> does not append to buffer - it creates a new String and assigns it to local buffer variable - Strings are immutable in java. Use StringBuilder instead. Alternatively, use return values as already suggested (this may have bigger memory overhead)"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651942251,"creation_date":1651942083,"answer_id":72154586,"question_id":72154486,"body_markdown":"The problem is that you don&#39;t modify `buffer`, you re-assign it to a new value, so what happen in the recursive call is lost\r\n\r\nbuffer = buffer + node.data + &quot; &quot;;\r\n\r\n\r\n---\r\n\r\nUse a mutable object instead like a `StringBuilder`\r\n\r\n    public static StringBuilder visit(Node node, StringBuilder buffer) {\r\n        if (node != null) {\r\n            buffer.append(node.data).append(&quot; &quot;);\r\n            visit(node.left, buffer);\r\n            visit(node.right, buffer);\r\n        }\r\n        return buffer;\r\n    }\r\n\r\n    // System.out.println(visit(n1, new StringBuilder()));\r\n\r\n---\r\n\r\nOr don&#39;t use one object that collect the values, but return them\r\n\r\n    public static String visit(Node node) {\r\n        if (node != null) {\r\n            return node.data + &quot; &quot; + visit(node.left) + visit(node.right);\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    // System.out.println(visit(n1));\r\n","title":"Recursively Writing to a String in Memory : Java","body":"<p>The problem is that you don't modify <code>buffer</code>, you re-assign it to a new value, so what happen in the recursive call is lost</p>\n<p>buffer = buffer + node.data + &quot; &quot;;</p>\n<hr />\n<p>Use a mutable object instead like a <code>StringBuilder</code></p>\n<pre><code>public static StringBuilder visit(Node node, StringBuilder buffer) {\n    if (node != null) {\n        buffer.append(node.data).append(&quot; &quot;);\n        visit(node.left, buffer);\n        visit(node.right, buffer);\n    }\n    return buffer;\n}\n\n// System.out.println(visit(n1, new StringBuilder()));\n</code></pre>\n<hr />\n<p>Or don't use one object that collect the values, but return them</p>\n<pre><code>public static String visit(Node node) {\n    if (node != null) {\n        return node.data + &quot; &quot; + visit(node.left) + visit(node.right);\n    }\n    return &quot;&quot;;\n}\n\n// System.out.println(visit(n1));\n</code></pre>\n"}],"owner":{"account_id":15280696,"reputation":131,"user_id":11025195,"display_name":"Ddeokbokki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72154586,"answer_count":1,"score":2,"last_activity_date":1651942251,"creation_date":1651941251,"question_id":72154486,"body_markdown":"I&#39;m working with trees for the first time. Learning about preOrder, postOrder and inOrder traversal. All of the functions I read online simply print the string to standard output, for example:\r\n\r\n```\r\n    void printPreorder(Node node) {\r\n        if (node == null) {\r\n            return;\r\n        }\r\n        System.out.print(node.data + &quot; &quot;);\r\n        \r\n        printPreorder(node.left);\r\n        \r\n        printPreorder(node.right);\r\n    }\r\n```\r\n \r\n**What if I want to write to a string in memory and then return the result?**\r\n \r\n```\r\n    static class Node {\r\n        int data;\r\n        Node left;\r\n        Node right;\r\n\r\n        Node(int data) {\r\n            this.data = data;\r\n            this.left = null;\r\n            this.right = null;\r\n        }\r\n    }\r\n\r\n    public static String visit(Node node, String buffer) {\r\n        if (node != null) {\r\n            buffer += node.data + &quot; &quot;;\r\n            visit(node.left, buffer);\r\n            visit(node.right, buffer);\r\n        }\r\n        return buffer;\r\n    }\r\n    \r\n    public static void main(String args[]) {\r\n        Node n1 = new Node(1);\r\n        Node n2 = new Node(2);\r\n        Node n3 = new Node(5);\r\n        Node n4 = new Node(3);\r\n        Node n5 = new Node(4);\r\n        Node n6 = new Node(6);\r\n\r\n        n1.right = n2;\r\n        n2.right = n3;\r\n        n3.left = n4;\r\n        n3.right = n6;\r\n        n4.left = n5;\r\n\r\n        System.out.println(visit(n1, &quot;&quot;));\r\n    }\r\n```\r\n\r\nWhen I debug my preOrder, I notice it reverts the string to a former state in the call stack, despite my call stack returning the latest string. \r\n\r\n**Why is the string being overwritten in memory, or how can I fix my function to return the desired output?**\r\n\r\nVisual Tree:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QA0jf.png","title":"Recursively Writing to a String in Memory : Java","body":"<p>I'm working with trees for the first time. Learning about preOrder, postOrder and inOrder traversal. All of the functions I read online simply print the string to standard output, for example:</p>\n<pre><code>    void printPreorder(Node node) {\n        if (node == null) {\n            return;\n        }\n        System.out.print(node.data + &quot; &quot;);\n        \n        printPreorder(node.left);\n        \n        printPreorder(node.right);\n    }\n</code></pre>\n<p><strong>What if I want to write to a string in memory and then return the result?</strong></p>\n<pre><code>    static class Node {\n        int data;\n        Node left;\n        Node right;\n\n        Node(int data) {\n            this.data = data;\n            this.left = null;\n            this.right = null;\n        }\n    }\n\n    public static String visit(Node node, String buffer) {\n        if (node != null) {\n            buffer += node.data + &quot; &quot;;\n            visit(node.left, buffer);\n            visit(node.right, buffer);\n        }\n        return buffer;\n    }\n    \n    public static void main(String args[]) {\n        Node n1 = new Node(1);\n        Node n2 = new Node(2);\n        Node n3 = new Node(5);\n        Node n4 = new Node(3);\n        Node n5 = new Node(4);\n        Node n6 = new Node(6);\n\n        n1.right = n2;\n        n2.right = n3;\n        n3.left = n4;\n        n3.right = n6;\n        n4.left = n5;\n\n        System.out.println(visit(n1, &quot;&quot;));\n    }\n</code></pre>\n<p>When I debug my preOrder, I notice it reverts the string to a former state in the call stack, despite my call stack returning the latest string.</p>\n<p><strong>Why is the string being overwritten in memory, or how can I fix my function to return the desired output?</strong></p>\n<p>Visual Tree:</p>\n<p><a href=\"https://i.stack.imgur.com/QA0jf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QA0jf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","intellij-idea","mysql-workbench"],"comments":[{"owner":{"account_id":18535956,"reputation":11,"user_id":13505623,"display_name":"KatSip"},"score":0,"creation_date":1589484914,"post_id":61783381,"comment_id":109321493,"body_markdown":"I looked at your comments but don&#39;t see any added information. Did you make a change of some kind? Sorry if I missed it.","body":"I looked at your comments but don&#39;t see any added information. Did you make a change of some kind? Sorry if I missed it."}],"answers":[{"tags":[],"owner":{"account_id":2667537,"reputation":378,"user_id":2305602,"display_name":"ivan.rosina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651941848,"creation_date":1651941848,"answer_id":72154558,"question_id":61783381,"body_markdown":"The message says that you are sending 1 parameter with name &#39;active&#39; with that values, but the endpoint /add require also a parameter called dietaryrestrictionssearches so it does not satisfy the request.\r\n\r\nIf what you send is right and you don&#39;t need that dietaryrestrictionssearches , simply change it in a @RequestParam (name =&quot;dietaryrestrictionssearches &quot;) \r\n\r\nIvan\r\n","title":"Parameter conditions &quot;dietaryrestrictionssearches&quot; not met for actual request parameters: active={304, 305}","body":"<p>The message says that you are sending 1 parameter with name 'active' with that values, but the endpoint /add require also a parameter called dietaryrestrictionssearches so it does not satisfy the request.</p>\n<p>If what you send is right and you don't need that dietaryrestrictionssearches , simply change it in a @RequestParam (name =&quot;dietaryrestrictionssearches &quot;)</p>\n<p>Ivan</p>\n"}],"owner":{"account_id":18535956,"reputation":11,"user_id":13505623,"display_name":"KatSip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651941848,"creation_date":1589398490,"question_id":61783381,"body_markdown":"my controller and model. I check two checkboxes and it should put those values 30 and 305 into table but I get this message. Any help would be appreciated\r\n\r\n```\r\n@RequestMapping(value=&quot;/add&quot;,method=RequestMethod.POST, params = {&quot;dietaryrestrictionssearches&quot;})\r\n    public String processUserDietaryRestrictions(@ModelAttribute @Valid User newUser,\r\n\r\n                                    @RequestBody List&lt;Integer&gt; dietaryrestrictionssearches,\r\n                                    Errors errors, Model model) {\r\n\r\n        if (errors.hasErrors()) {\r\n            model.addAttribute(&quot;title&quot;, &quot;AddUserRestriction&quot;);\r\n            return &quot;add&quot;;\r\n        }\r\n\r\n        if (!dietaryrestrictionssearches.isEmpty()) {\r\n\r\n            List&lt;DietaryRestrictionsSearch&gt; drsObjs = (List&lt;DietaryRestrictionsSearch&gt;) dietaryRestrictionsRepository.findAllById(dietaryrestrictionssearches);\r\n            if (!drsObjs.isEmpty()) {\r\n                newUser.setDietaryrestrictionssearches(drsObjs);\r\n            }\r\n            userRepository.save(newUser);\r\n            return &quot;redirect:/selection/&quot; + newUser.getId();\r\n        }\r\n        return &quot;redirect:../add&quot;;\r\n    }\r\n\r\n\r\n@Entity\r\npublic class DietaryRestrictionsSearch {\r\n\r\n    @Id\r\n    private int restrict_id;\r\n\r\n    @Column\r\n    private String restrictions;\r\n\r\n    public List&lt;User&gt; getUsers() {\r\n        return users;\r\n    }\r\n\r\n    public void setUsers(List&lt;User&gt; users) {\r\n        this.users = users;\r\n    }\r\n\r\n    @ManyToMany(mappedBy=&quot;dietaryrestrictionssearches&quot;)\r\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    public DietaryRestrictionsSearch() {}\r\n\r\n\r\n    public DietaryRestrictionsSearch(String restrictions, int restrict_id) {\r\n        super();\r\n        this.restrictions = restrictions;\r\n        this.restrict_id = restrict_id;\r\n    }\r\n  //getters and setters\r\n```\r\n","title":"Parameter conditions &quot;dietaryrestrictionssearches&quot; not met for actual request parameters: active={304, 305}","body":"<p>my controller and model. I check two checkboxes and it should put those values 30 and 305 into table but I get this message. Any help would be appreciated</p>\n\n<pre><code>@RequestMapping(value=\"/add\",method=RequestMethod.POST, params = {\"dietaryrestrictionssearches\"})\n    public String processUserDietaryRestrictions(@ModelAttribute @Valid User newUser,\n\n                                    @RequestBody List&lt;Integer&gt; dietaryrestrictionssearches,\n                                    Errors errors, Model model) {\n\n        if (errors.hasErrors()) {\n            model.addAttribute(\"title\", \"AddUserRestriction\");\n            return \"add\";\n        }\n\n        if (!dietaryrestrictionssearches.isEmpty()) {\n\n            List&lt;DietaryRestrictionsSearch&gt; drsObjs = (List&lt;DietaryRestrictionsSearch&gt;) dietaryRestrictionsRepository.findAllById(dietaryrestrictionssearches);\n            if (!drsObjs.isEmpty()) {\n                newUser.setDietaryrestrictionssearches(drsObjs);\n            }\n            userRepository.save(newUser);\n            return \"redirect:/selection/\" + newUser.getId();\n        }\n        return \"redirect:../add\";\n    }\n\n\n@Entity\npublic class DietaryRestrictionsSearch {\n\n    @Id\n    private int restrict_id;\n\n    @Column\n    private String restrictions;\n\n    public List&lt;User&gt; getUsers() {\n        return users;\n    }\n\n    public void setUsers(List&lt;User&gt; users) {\n        this.users = users;\n    }\n\n    @ManyToMany(mappedBy=\"dietaryrestrictionssearches\")\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n    public DietaryRestrictionsSearch() {}\n\n\n    public DietaryRestrictionsSearch(String restrictions, int restrict_id) {\n        super();\n        this.restrictions = restrictions;\n        this.restrict_id = restrict_id;\n    }\n  //getters and setters\n</code></pre>\n"},{"tags":["java","eclipse","spring-boot"],"comments":[{"owner":{"account_id":3520251,"reputation":114,"user_id":2942745,"display_name":"cogitoboy"},"score":0,"creation_date":1651937425,"post_id":72153516,"comment_id":127486603,"body_markdown":"This is because Spring cannot locate the &#39;com.example.repo.StudentRepo&#39; class.  I&#39;m not sure why running it in one ide works and the other no. Regardless, you can specify it so it works in all environments.  It looks like SpringBoot.  Try using `@SpringBootApplication(scanBasePackages = {&quot;com.example.*&quot;})`","body":"This is because Spring cannot locate the &#39;com.example.repo.StudentRepo&#39; class.  I&#39;m not sure why running it in one ide works and the other no. Regardless, you can specify it so it works in all environments.  It looks like SpringBoot.  Try using <code>@SpringBootApplication(scanBasePackages = {&quot;com.example.*&quot;})</code>"}],"answers":[{"tags":[],"owner":{"account_id":5791008,"reputation":319,"user_id":4568484,"display_name":"k0staa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651941536,"creation_date":1651941536,"answer_id":72154524,"question_id":72153516,"body_markdown":"When you are dealing with Spring Boot application you can always run it using maven or gradle for example : `./gradlew bootRun` or `./mvnw spring-boot:run`. \r\nIf it runs when you use those tools then everything is fine with your application and you probably make some mistake when you import it to your IDE.\r\nIt&#39;s hard to say what exacly wrong is with your config but try to check [this][1] post and see if you can find any differences to your configuration. \r\n \r\n\r\n\r\n  [1]: https://spring.io/blog/2015/03/18/spring-boot-support-in-spring-tool-suite-3-6-4","title":"When I am running in intellIj the same code is working properly but when running in eclipse with STS support I am gettinh below error","body":"<p>When you are dealing with Spring Boot application you can always run it using maven or gradle for example : <code>./gradlew bootRun</code> or <code>./mvnw spring-boot:run</code>.\nIf it runs when you use those tools then everything is fine with your application and you probably make some mistake when you import it to your IDE.\nIt's hard to say what exacly wrong is with your config but try to check <a href=\"https://spring.io/blog/2015/03/18/spring-boot-support-in-spring-tool-suite-3-6-4\" rel=\"nofollow noreferrer\">this</a> post and see if you can find any differences to your configuration.</p>\n"}],"owner":{"account_id":25226277,"reputation":9,"user_id":19062096,"display_name":"Abhishek srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1651941536,"creation_date":1651934298,"question_id":72153516,"body_markdown":"    Exception in thread &quot;main&quot; org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.repo.StudentRepo&#39; available\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172)\r\n    \tat com.example.demo.AddData.main(AddData.java:16)","title":"When I am running in intellIj the same code is working properly but when running in eclipse with STS support I am gettinh below error","body":"<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.repo.StudentRepo' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172)\n    at com.example.demo.AddData.main(AddData.java:16)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1651866341,"post_id":72143492,"comment_id":127475096,"body_markdown":"I don&#39;t agree with you. You hurried to close the question without even getting into it. This question is not a duplicate. You&#39;re wrong.","body":"I don&#39;t agree with you. You hurried to close the question without even getting into it. This question is not a duplicate. You&#39;re wrong."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1651909211,"post_id":72143492,"comment_id":127480785,"body_markdown":"I see it exactly as a use case of https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/cache/CacheBuilder.html#expireAfterWrite(long,java.util.concurrent.TimeUnit) . Anyway, if you cannot use 3rd party libs, this can be done with a `Map &lt;K,java.util.Timer&gt;` maintained parallel to your values map.","body":"I see it exactly as a use case of <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/cache/CacheBuilder.html#expireAfterWrite(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">guava.dev/releases/snapshot-jre/api/docs/com/google/common/&hellip;</a> . Anyway, if you cannot use 3rd party libs, this can be done with a <code>Map &lt;K,java.util.Timer&gt;</code> maintained parallel to your values map."}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651859795,"answer_count":0,"score":0,"last_activity_date":1651941273,"creation_date":1651848790,"question_id":72143492,"body_markdown":"[There is no answer to my question here!][1]\r\n\r\nFor example, there is a ,\r\n\r\n```java\r\nMap &lt;K,V&gt; map = new ConcurrentHashMap&lt;&gt;()\r\n\r\n```\r\n\r\n **V** - some object that can be in the **Map** for no more than **300 ms**. When we add an element to the **Map** (or it could be a **Queue** data structure), a **timer** would be turned on, which would delete the element after **300 ms**.\r\n\r\n At the same time, if an element is in this primitive cache, then when accessing it, you need to update the **timer** for this object (that is, start counting from the beginning, for this requested object). \r\n\r\nIn fact, this is an **LRU cache**, it has a certain **size**, removes the least used element from it (I know how to do this part), but at the same time, **each** serviced **element** must have an independent **timer** that will **remove** such an **element** from this **cache**, and when such **element** (in that **cache**) updating, the **timer** for such an element must be reset to zero, and if no one requires the **item** during the specified time, the **element** is automatically **deleted** from the **cache**.\r\n\r\nWho has any ideas how this could be organized?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3802370/java-time-based-map-cache-with-expiring-keys","title":"How can I organize the removal of elements from the Map by timer?","body":"<p><a href=\"https://stackoverflow.com/questions/3802370/java-time-based-map-cache-with-expiring-keys\">There is no answer to my question here!</a></p>\n<p>For example, there is a ,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt;K,V&gt; map = new ConcurrentHashMap&lt;&gt;()\n\n</code></pre>\n<p><strong>V</strong> - some object that can be in the <strong>Map</strong> for no more than <strong>300 ms</strong>. When we add an element to the <strong>Map</strong> (or it could be a <strong>Queue</strong> data structure), a <strong>timer</strong> would be turned on, which would delete the element after <strong>300 ms</strong>.</p>\n<p>At the same time, if an element is in this primitive cache, then when accessing it, you need to update the <strong>timer</strong> for this object (that is, start counting from the beginning, for this requested object).</p>\n<p>In fact, this is an <strong>LRU cache</strong>, it has a certain <strong>size</strong>, removes the least used element from it (I know how to do this part), but at the same time, <strong>each</strong> serviced <strong>element</strong> must have an independent <strong>timer</strong> that will <strong>remove</strong> such an <strong>element</strong> from this <strong>cache</strong>, and when such <strong>element</strong> (in that <strong>cache</strong>) updating, the <strong>timer</strong> for such an element must be reset to zero, and if no one requires the <strong>item</strong> during the specified time, the <strong>element</strong> is automatically <strong>deleted</strong> from the <strong>cache</strong>.</p>\n<p>Who has any ideas how this could be organized?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":6937456,"reputation":2312,"user_id":5324923,"display_name":"Dezso Gabos"},"score":0,"creation_date":1551645292,"post_id":54973431,"comment_id":96706059,"body_markdown":"This is basic Java. You are comparing two different Objects. Of course they are not equal... Add dependency for Hamcrest library, and add assertion like: assertThat(list1, containsInAnyOrder(list2.toArray()));","body":"This is basic Java. You are comparing two different Objects. Of course they are not equal... Add dependency for Hamcrest library, and add assertion like: assertThat(list1, containsInAnyOrder(list2.toArray()));"},{"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"score":5,"creation_date":1551645351,"post_id":54973431,"comment_id":96706070,"body_markdown":"In Range have you implemented an equals method?","body":"In Range have you implemented an equals method?"},{"owner":{"account_id":3029576,"reputation":1865,"user_id":2568885,"display_name":"binoternary"},"score":1,"creation_date":1551647856,"post_id":54973431,"comment_id":96706761,"body_markdown":"Two lists are equal if their corresponding elements are equal (and have the same length), so `assertEquals` is perfectly fine for testing two lists for equality. Make sure you have (correctly) implemented the `equals` method for `Range` class. E.g make sure this assertion passes: `assertEquals(new Range(1, 4), new Range(1, 4))`","body":"Two lists are equal if their corresponding elements are equal (and have the same length), so <code>assertEquals</code> is perfectly fine for testing two lists for equality. Make sure you have (correctly) implemented the <code>equals</code> method for <code>Range</code> class. E.g make sure this assertion passes: <code>assertEquals(new Range(1, 4), new Range(1, 4))</code>"},{"owner":{"account_id":556011,"reputation":2421,"user_id":884444,"accept_rate":51,"display_name":"ppb"},"score":0,"creation_date":1551724140,"post_id":54973431,"comment_id":96736353,"body_markdown":"Thank you. I have override equals method and it is working.","body":"Thank you. I have override equals method and it is working."}],"answers":[{"tags":[],"owner":{"account_id":2316085,"reputation":9998,"user_id":2873507,"accept_rate":70,"display_name":"Vic Seedoubleyew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561472243,"creation_date":1561472243,"answer_id":56756147,"question_id":54973431,"body_markdown":"Weirdly enough, `Arrays.asList` hasn&#39;t overridden `equals`, and thus even if it contains the same elements as another list of type `ArrayList`, they will not be compared as equal.\r\n\r\nOne solution is to wrap it into an `ArrayList`:\r\n\r\n    assertEquals(new ArrayList&lt;&gt;(Arrays.asList(...)), myArrayList);","title":"Junit Assertion Error for ArrayList and Arrays.asList()","body":"<p>Weirdly enough, <code>Arrays.asList</code> hasn't overridden <code>equals</code>, and thus even if it contains the same elements as another list of type <code>ArrayList</code>, they will not be compared as equal.</p>\n\n<p>One solution is to wrap it into an <code>ArrayList</code>:</p>\n\n<pre><code>assertEquals(new ArrayList&lt;&gt;(Arrays.asList(...)), myArrayList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15764627,"reputation":21,"user_id":11375396,"display_name":"Shaiq_Huseynzade"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585505604,"creation_date":1585505604,"answer_id":60918712,"question_id":54973431,"body_markdown":"I had the same problem.You should add in your class , which used in list, equals and hashcode . After that it will work. ","title":"Junit Assertion Error for ArrayList and Arrays.asList()","body":"<p>I had the same problem.You should add in your class , which used in list, equals and hashcode . After that it will work. </p>\n"},{"tags":[],"owner":{"account_id":10860427,"reputation":1,"user_id":7985476,"display_name":"pushpendra singh Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651826049,"creation_date":1651826049,"answer_id":72138514,"question_id":54973431,"body_markdown":"Adding Equals and Hashcode methods in the object which is being used in Arraylist will surely help in the case of assertEquals for arraylists of user defined objects.","title":"Junit Assertion Error for ArrayList and Arrays.asList()","body":"<p>Adding Equals and Hashcode methods in the object which is being used in Arraylist will surely help in the case of assertEquals for arraylists of user defined objects.</p>\n"},{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651941116,"creation_date":1651941116,"answer_id":72154467,"question_id":54973431,"body_markdown":"A quick and easy way: just simply add `@EqualsAndHashCode` on your Range class.\r\n`@EqualsAndHashCode` is provided by Project Lombok and generates hashCode and equals implementations from the fields of your object.\r\n\r\n```\r\n@EqualsAndHashCode\r\npublic class Range {\r\n   private int x;\r\n   // ...\r\n}\r\n```\r\n\r\nAnd the following assertion works well in JUnit  4.13.1\r\n\r\n```\r\nAssert.assertEquals(expectedArrayList, actualArrayList);\r\n```\r\n\r\nhttps://projectlombok.org/features/EqualsAndHashCode","title":"Junit Assertion Error for ArrayList and Arrays.asList()","body":"<p>A quick and easy way: just simply add <code>@EqualsAndHashCode</code> on your Range class.\n<code>@EqualsAndHashCode</code> is provided by Project Lombok and generates hashCode and equals implementations from the fields of your object.</p>\n<pre><code>@EqualsAndHashCode\npublic class Range {\n   private int x;\n   // ...\n}\n</code></pre>\n<p>And the following assertion works well in JUnit  4.13.1</p>\n<pre><code>Assert.assertEquals(expectedArrayList, actualArrayList);\n</code></pre>\n<p><a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/EqualsAndHashCode</a></p>\n"}],"owner":{"account_id":556011,"reputation":2421,"user_id":884444,"accept_rate":51,"display_name":"ppb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5938,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1651941116,"creation_date":1551645063,"question_id":54973431,"body_markdown":"I have method which returns ArrayList of object as below - \r\n\r\n    public &lt;Range&gt; getAllRanges(List&lt;Range&gt; ranges){\r\n      //Some business logic\r\n      ....\r\n      List&lt;Range&gt; resultRanges = new ArrayList&lt;&gt;();\r\n      .....\r\n      return resultRanges;\r\n    }\r\n\r\nI am writing Junit for this as - \r\n\r\n    @Test\r\n    public void someInputTest() {\r\n        final List&lt;Range&gt; ranges = Arrays.asList(new Range(1, 3), new Range(2, 4));\r\n        final List&lt;Range&gt; actual = myCalss.getAllRanges(ranges);\r\n        final List&lt;Range&gt; expected = Arrays.asList(new Range(1, 4));\r\n        assertEquals(expected, actual);\r\n    }\r\n\r\nbut I am getting Assertion Error like -\r\n\r\n    java.lang.AssertionError: expected: java.util.Arrays$ArrayList&lt;[(1, 4)]&gt; but was: java.util.ArrayList&lt;[(1, 4)]&gt;\r\n\t....\r\n\r\nAfter that I tried below code in test -\r\n\r\n    @Test\r\n    public void someInputTest() {\r\n        final List&lt;Range&gt; ranges = Arrays.asList(new Range(1, 3), new Range(2, 4));\r\n        final List&lt;Range&gt; actual = myCalss.getAllRanges(ranges);\r\n        final List&lt;Range&gt; expected = new ArrayList&lt;&gt;();\r\n        expected.add(new Range(1, 4));\r\n        assertEquals(expected, actual);\r\n    }\r\n\r\nbut after that I am getting -\r\n\r\n    java.lang.AssertionError: expected: java.util.ArrayList&lt;[(1, 4)]&gt; but was: java.util.ArrayList&lt;[(1, 4)]&gt;\r\n    ...\r\n\r\nNow expected and actual are bot same but still assertion error. What I am doing wrong here.","title":"Junit Assertion Error for ArrayList and Arrays.asList()","body":"<p>I have method which returns ArrayList of object as below - </p>\n\n<pre><code>public &lt;Range&gt; getAllRanges(List&lt;Range&gt; ranges){\n  //Some business logic\n  ....\n  List&lt;Range&gt; resultRanges = new ArrayList&lt;&gt;();\n  .....\n  return resultRanges;\n}\n</code></pre>\n\n<p>I am writing Junit for this as - </p>\n\n<pre><code>@Test\npublic void someInputTest() {\n    final List&lt;Range&gt; ranges = Arrays.asList(new Range(1, 3), new Range(2, 4));\n    final List&lt;Range&gt; actual = myCalss.getAllRanges(ranges);\n    final List&lt;Range&gt; expected = Arrays.asList(new Range(1, 4));\n    assertEquals(expected, actual);\n}\n</code></pre>\n\n<p>but I am getting Assertion Error like -</p>\n\n<pre><code>java.lang.AssertionError: expected: java.util.Arrays$ArrayList&lt;[(1, 4)]&gt; but was: java.util.ArrayList&lt;[(1, 4)]&gt;\n....\n</code></pre>\n\n<p>After that I tried below code in test -</p>\n\n<pre><code>@Test\npublic void someInputTest() {\n    final List&lt;Range&gt; ranges = Arrays.asList(new Range(1, 3), new Range(2, 4));\n    final List&lt;Range&gt; actual = myCalss.getAllRanges(ranges);\n    final List&lt;Range&gt; expected = new ArrayList&lt;&gt;();\n    expected.add(new Range(1, 4));\n    assertEquals(expected, actual);\n}\n</code></pre>\n\n<p>but after that I am getting -</p>\n\n<pre><code>java.lang.AssertionError: expected: java.util.ArrayList&lt;[(1, 4)]&gt; but was: java.util.ArrayList&lt;[(1, 4)]&gt;\n...\n</code></pre>\n\n<p>Now expected and actual are bot same but still assertion error. What I am doing wrong here.</p>\n"},{"tags":["java","classloader","readfile"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1651939276,"post_id":72154177,"comment_id":127487113,"body_markdown":"The problem is due to an incorrect path. You need to show the value for parameter `path` that you pass to method `readIntsFromFile` as well as the location of directory `resources` relative to directory `impl`.","body":"The problem is due to an incorrect path. You need to show the value for parameter <code>path</code> that you pass to method <code>readIntsFromFile</code> as well as the location of directory <code>resources</code> relative to directory <code>impl</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1651942251,"post_id":72154177,"comment_id":127487851,"body_markdown":"Note that putting a resource in the same package as a class is a good practice.  Putting a resource in the root package is a bad practice, because it risks collision with other applications/libraries.","body":"Note that putting a resource in the same package as a class is a good practice.  Putting a resource in the root package is a bad practice, because it risks collision with other applications/libraries."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651940085,"creation_date":1651940085,"answer_id":72154328,"question_id":72154177,"body_markdown":"The string value you pass to `SomeClass.class.getResource()` (as well as `getResourceAsStream`, of course) has two &#39;modes&#39;.\r\n\r\n1. It looks &#39;relative to the package of `SomeClass`&#39;, which means, effectively, if you ask for e.g. `&quot;img/load.png&quot;`, and `SomeClass` is in the package `com.foo`, you&#39;re really asking for `&quot;/com/foo/img/load.png&quot;` - this is __relative mode__.\r\n\r\n2. You want to go into absolute mode: You want the &#39;classpath source&#39; that provided the `SomeClass.class` file that the JVM used to load the code for SomeClass, and then look in that same place for, say, `/img/load.png` from there. In other words, if `SomeClass`&#39;s code was obtained by loading the bytecode from jar file entry `/com/foo/SomeClass.class` in jarfile `myapp.jar`, you want the data obtained by loading the jar file entry `/img/load.png` from jarfile `myapp.jar`. You can do that - simply start with a slash.\r\n\r\nGiven that your numbers.txt file appears to be in the &#39;root&#39; of `resources`, that would strongly suggest the string you pass to `.getResourceAsStream()` should be `&quot;/numbers.txt&quot;`. Note the leading slash.\r\n\r\nNB: It&#39;s not _quite_ a path. `..` and such do not work. Weirdly, `com.foo.numbers.txt` would, if the jar file contains `/com/foo/numbers.txt`.","title":"Reading File from another Package in Java using getResourceAsStream()","body":"<p>The string value you pass to <code>SomeClass.class.getResource()</code> (as well as <code>getResourceAsStream</code>, of course) has two 'modes'.</p>\n<ol>\n<li><p>It looks 'relative to the package of <code>SomeClass</code>', which means, effectively, if you ask for e.g. <code>&quot;img/load.png&quot;</code>, and <code>SomeClass</code> is in the package <code>com.foo</code>, you're really asking for <code>&quot;/com/foo/img/load.png&quot;</code> - this is <strong>relative mode</strong>.</p>\n</li>\n<li><p>You want to go into absolute mode: You want the 'classpath source' that provided the <code>SomeClass.class</code> file that the JVM used to load the code for SomeClass, and then look in that same place for, say, <code>/img/load.png</code> from there. In other words, if <code>SomeClass</code>'s code was obtained by loading the bytecode from jar file entry <code>/com/foo/SomeClass.class</code> in jarfile <code>myapp.jar</code>, you want the data obtained by loading the jar file entry <code>/img/load.png</code> from jarfile <code>myapp.jar</code>. You can do that - simply start with a slash.</p>\n</li>\n</ol>\n<p>Given that your numbers.txt file appears to be in the 'root' of <code>resources</code>, that would strongly suggest the string you pass to <code>.getResourceAsStream()</code> should be <code>&quot;/numbers.txt&quot;</code>. Note the leading slash.</p>\n<p>NB: It's not <em>quite</em> a path. <code>..</code> and such do not work. Weirdly, <code>com.foo.numbers.txt</code> would, if the jar file contains <code>/com/foo/numbers.txt</code>.</p>\n"}],"owner":{"account_id":25226620,"reputation":1,"user_id":19062378,"display_name":"Bern Kass"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72154328,"answer_count":1,"score":0,"last_activity_date":1651941103,"creation_date":1651938992,"question_id":72154177,"body_markdown":"I am trying to read a file called &quot;numbers.txt&quot; which is filled with int numbers (one int per line, no empty lines). I want to put the numbers into an array and return this array (method `readIntsFromFile`). Unfoutnetly the File does not get found, so the `InputStream cls` returns null. If I put the file &quot;numbers.txt&quot; into the same folder as the Class `ReadFileInput` it works but I do not know why it does not work if I put the &quot;numbers.txt&quot; file into the resources folder. I thought `getResourceAsStream()` can get it there? The main just creates a new class Object and calls the class function with the parameter &quot;numbers.txt&quot; and saves the result in an array. \r\n\r\nHere is the Class with the method `readIntsFromFile`:\r\n\r\n    package impl;\r\n    \r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.ArrayList;\r\n    \r\n    public class ReadFileInput {\r\n\r\n        public int[] readIntsFromFile(String path) {\r\n            ArrayList&lt;Integer&gt; arrList = new ArrayList&lt;&gt;();\r\n    \r\n            try {\r\n                InputStream cls = ReadFileInput.class.getResourceAsStream(path);\r\n                System.out.println(&quot;Get Resources as Stream: &quot; + cls);\r\n             \r\n                //Put cls in ArrayList\r\n            \r\n                }\r\n                cls.close();\r\n            } catch (Exception e) {\r\n                System.out.println(e);\r\n            }\r\n    \r\n            int[] arr = arrList.stream().mapToInt(Integer::intValue).toArray();\r\n            System.out.println(arr);\r\n            return arr;\r\n        }\r\n    }\r\n\r\n\r\nDo you know how it could work? \r\n\r\nAll the best!","title":"Reading File from another Package in Java using getResourceAsStream()","body":"<p>I am trying to read a file called &quot;numbers.txt&quot; which is filled with int numbers (one int per line, no empty lines). I want to put the numbers into an array and return this array (method <code>readIntsFromFile</code>). Unfoutnetly the File does not get found, so the <code>InputStream cls</code> returns null. If I put the file &quot;numbers.txt&quot; into the same folder as the Class <code>ReadFileInput</code> it works but I do not know why it does not work if I put the &quot;numbers.txt&quot; file into the resources folder. I thought <code>getResourceAsStream()</code> can get it there? The main just creates a new class Object and calls the class function with the parameter &quot;numbers.txt&quot; and saves the result in an array.</p>\n<p>Here is the Class with the method <code>readIntsFromFile</code>:</p>\n<pre><code>package impl;\n\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\n\npublic class ReadFileInput {\n\n    public int[] readIntsFromFile(String path) {\n        ArrayList&lt;Integer&gt; arrList = new ArrayList&lt;&gt;();\n\n        try {\n            InputStream cls = ReadFileInput.class.getResourceAsStream(path);\n            System.out.println(&quot;Get Resources as Stream: &quot; + cls);\n         \n            //Put cls in ArrayList\n        \n            }\n            cls.close();\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n\n        int[] arr = arrList.stream().mapToInt(Integer::intValue).toArray();\n        System.out.println(arr);\n        return arr;\n    }\n}\n</code></pre>\n<p>Do you know how it could work?</p>\n<p>All the best!</p>\n"},{"tags":["java","android","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651940768,"creation_date":1651940768,"answer_id":72154422,"question_id":72154291,"body_markdown":"Your site is being redirected to `https://innovativeapps.me`. When you use the `http://` schema, it redirects and returns a 301 letting you know that you need to update your url.","title":"Response Code 301 while sending request from Android","body":"<p>Your site is being redirected to <code>https://innovativeapps.me</code>. When you use the <code>http://</code> schema, it redirects and returns a 301 letting you know that you need to update your url.</p>\n"}],"owner":{"account_id":9834469,"reputation":1711,"user_id":7285283,"accept_rate":56,"display_name":"Panache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72154422,"answer_count":1,"score":0,"last_activity_date":1651940768,"creation_date":1651939823,"question_id":72154291,"body_markdown":"I need help, my app was working fine but after renew of Domain name, I started getting error 301. Is something to be fixed in my below code? Though if I use https://Google.com with same code, response code is 200. Hostgator is also not able to find the issue to fix. Can someone help, pls.\r\n\r\n    Thread thread = new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                URL url = new URL(&quot;http://innovativeapps.me&quot;);\r\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n                httpURLConnection.connect();\r\n                int con_respone_code = httpURLConnection.getResponseCode();\r\n                Log.i(&quot;Response Code: &quot;, con_respone_code + &quot;&quot;);\r\n                Log.i(&quot;Error Message&quot;, httpURLConnection.getResponseMessage());\r\n                httpURLConnection.disconnect();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    });\r\n    \r\n    thread.start();\r\n\r\nIf i open this using web browser, the url is working fine.","title":"Response Code 301 while sending request from Android","body":"<p>I need help, my app was working fine but after renew of Domain name, I started getting error 301. Is something to be fixed in my below code? Though if I use <a href=\"https://Google.com\" rel=\"nofollow noreferrer\">https://Google.com</a> with same code, response code is 200. Hostgator is also not able to find the issue to fix. Can someone help, pls.</p>\n<pre><code>Thread thread = new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            URL url = new URL(&quot;http://innovativeapps.me&quot;);\n            HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n            httpURLConnection.connect();\n            int con_respone_code = httpURLConnection.getResponseCode();\n            Log.i(&quot;Response Code: &quot;, con_respone_code + &quot;&quot;);\n            Log.i(&quot;Error Message&quot;, httpURLConnection.getResponseMessage());\n            httpURLConnection.disconnect();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n});\n\nthread.start();\n</code></pre>\n<p>If i open this using web browser, the url is working fine.</p>\n"},{"tags":["java","maven","junit5","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1574761123,"post_id":59047824,"comment_id":104336387,"body_markdown":"Why wouldn&#39;t you be able to use maven to run the tests?","body":"Why wouldn&#39;t you be able to use maven to run the tests?"},{"owner":{"account_id":17181062,"reputation":31,"user_id":12436472,"display_name":"aviram shterebaum"},"score":0,"creation_date":1574761722,"post_id":59047824,"comment_id":104336767,"body_markdown":"the machine that will need to run the code do not have maven and no access to repos.","body":"the machine that will need to run the code do not have maven and no access to repos."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1574766614,"post_id":59047824,"comment_id":104339617,"body_markdown":"Ahm...You have to run your unit tests/integration tests on a different machine? That sounds you are doing something wrong...The question is: Difference between building / running unit tests and running your application production ? you seemed to mistaken something? Or I don&#39;t understand things here...","body":"Ahm...You have to run your unit tests/integration tests on a different machine? That sounds you are doing something wrong...The question is: Difference between building / running unit tests and running your application production ? you seemed to mistaken something? Or I don&#39;t understand things here..."},{"owner":{"account_id":17181062,"reputation":31,"user_id":12436472,"display_name":"aviram shterebaum"},"score":0,"creation_date":1574844658,"post_id":59047824,"comment_id":104371054,"body_markdown":"yes. i know it sound strange.\nbut i use junit for E2E test becuse i reuse integration test framework to send, monitor and automaticly build the test scenarios.\nthe tests are runnig on sevral systems, smoe do have connection and full maven and some are isolated set up with nothing but java on the machine. \nwe are runnig the test first in a system that have maven and pack the full jar if all test&#39;s passed so we can suplay a test JAR with the PIPELINE that we suply.","body":"yes. i know it sound strange. but i use junit for E2E test becuse i reuse integration test framework to send, monitor and automaticly build the test scenarios. the tests are runnig on sevral systems, smoe do have connection and full maven and some are isolated set up with nothing but java on the machine.  we are runnig the test first in a system that have maven and pack the full jar if all test&#39;s passed so we can suplay a test JAR with the PIPELINE that we suply."},{"owner":{"account_id":217473,"reputation":6570,"user_id":473290,"accept_rate":85,"display_name":"Eric"},"score":0,"creation_date":1602634692,"post_id":59047824,"comment_id":113781281,"body_markdown":"I have run into a similar issue.  @aviramshterebaum did you find a solution to this?","body":"I have run into a similar issue.  @aviramshterebaum did you find a solution to this?"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574764239,"creation_date":1574764239,"answer_id":59048850,"question_id":59047824,"body_markdown":"Spring boot works with a Jar which is not a Jar really. When you use `spring-boot-maven- plugin` - you instruct maven to prepare such a spring boot jar. I suggest to open this jar with some kind of WinRar/WinZip application and see what&#39;s inside actually.\r\n\r\nSo, if you have a spring boot jar and try to run it as a spring boot application it will load the main class and run it. \r\n\r\nThis main class should run programmatically all the automation tests and If I understand correctly this is exactly what `SDAutomation` is supposed to do.\r\n\r\nBut then you use maven assembly plugin and try to edit its manifest and specify the main plugin - do not do it. Instead specify the main class in a spring boot plugin. So this is clearly a mistake\r\n\r\nThe third step is even more confusing - you create a test jar, that&#39;s cool, but where do you use it?\r\n\r\n\r\nSo how to really solve this issue:\r\n\r\n1. You should decide whether you want to use spring boot at all to run tests. Frankly I don&#39;t see a point of doing so - you could create a fat jar of all the dependencies and run tests from there. Unless these tests are not designed as `@SpringBootTest` which is also doesn&#39;t make sense for automation tests, here is why:\r\n\r\nSpring Boot Test is an **integration** framework as opposed to automation tests which are usually cover the end to end flow. Automation tests run in the different JVM as the application as opposed to spring boot tests that provide a lot of convenience features for loading the application context of the real application inside of the test (or a part of application context). Automation tests should not load any production code at all... Probably if you could elaborate more on the purpose of the automation test suite - I could provide more information.\r\n\r\n2. Even if you run the spring boot application, it should not be the same spring boot application that runs the production code. Probably you should create another maven module, provide a dependency on the artifact with a test classifier and in the main method use console application (again, no web server in this case is required) to run the test suite. \r\n\r\n3. Last but not the least. Surefire/failsafe plugins of maven besides actually running the tests, also produce reports that can be integrated with a CI tool. Since you won&#39;t have any maven / surefire there (from your comment) you won&#39;t be able to benefit from these reports.\r\n\r\n","title":"Junit 5 @SpringBootTest executable jar","body":"<p>Spring boot works with a Jar which is not a Jar really. When you use <code>spring-boot-maven- plugin</code> - you instruct maven to prepare such a spring boot jar. I suggest to open this jar with some kind of WinRar/WinZip application and see what's inside actually.</p>\n\n<p>So, if you have a spring boot jar and try to run it as a spring boot application it will load the main class and run it. </p>\n\n<p>This main class should run programmatically all the automation tests and If I understand correctly this is exactly what <code>SDAutomation</code> is supposed to do.</p>\n\n<p>But then you use maven assembly plugin and try to edit its manifest and specify the main plugin - do not do it. Instead specify the main class in a spring boot plugin. So this is clearly a mistake</p>\n\n<p>The third step is even more confusing - you create a test jar, that's cool, but where do you use it?</p>\n\n<p>So how to really solve this issue:</p>\n\n<ol>\n<li>You should decide whether you want to use spring boot at all to run tests. Frankly I don't see a point of doing so - you could create a fat jar of all the dependencies and run tests from there. Unless these tests are not designed as <code>@SpringBootTest</code> which is also doesn't make sense for automation tests, here is why:</li>\n</ol>\n\n<p>Spring Boot Test is an <strong>integration</strong> framework as opposed to automation tests which are usually cover the end to end flow. Automation tests run in the different JVM as the application as opposed to spring boot tests that provide a lot of convenience features for loading the application context of the real application inside of the test (or a part of application context). Automation tests should not load any production code at all... Probably if you could elaborate more on the purpose of the automation test suite - I could provide more information.</p>\n\n<ol start=\"2\">\n<li><p>Even if you run the spring boot application, it should not be the same spring boot application that runs the production code. Probably you should create another maven module, provide a dependency on the artifact with a test classifier and in the main method use console application (again, no web server in this case is required) to run the test suite. </p></li>\n<li><p>Last but not the least. Surefire/failsafe plugins of maven besides actually running the tests, also produce reports that can be integrated with a CI tool. Since you won't have any maven / surefire there (from your comment) you won't be able to benefit from these reports.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8027063,"reputation":89,"user_id":6053575,"display_name":"Uchiha Suryajit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651940682,"creation_date":1651940682,"answer_id":72154413,"question_id":59047824,"body_markdown":"Below are steps -&gt;\r\n\r\n**Step 1:** Add the below plugins to your POM file -\r\n\r\n \r\n\r\n    &lt;build&gt;\r\n            &lt;finalName&gt;dockerized-springfield&lt;/finalName&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;test-jar&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;\r\n                                    ${project.build.directory}/libs\r\n                                &lt;/outputDirectory&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.18.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;suiteXmlFile&gt;src/test/java/com/automation/framework/gui/testng.xml&lt;/suiteXmlFile&gt;\r\n                        &lt;/suiteXmlFiles&gt;\r\n                        &lt;argLine&gt;\r\n                            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                        &lt;/argLine&gt;\r\n                        &lt;classpathDependencyExcludes&gt;\r\n                            &lt;classpathDependencyExclude&gt;com.vaadin.external.google:android-json&lt;/classpathDependencyExclude&gt;\r\n                        &lt;/classpathDependencyExcludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n**Step 2**: Run mvn commands to create jars\r\n\r\n&gt; mvn package -DskipTests\r\n\r\nThis will create 3 jars files inside your target folder\r\n\r\n 1. application.jar  [Springboot jar which contains code inside &quot;main&quot; folders along with the dependencies.]\r\n 2. application.jar.original [Jar which ONLY contains code inside &quot;main&quot; folders]\r\n 3. application-tests.jar [Jar which contains code inside the &quot;test&quot; folder.]\r\n\r\nWe only need the 2nd and 3rd jar files. You may delete the first file.\r\nNow rename the second file and remove the &quot;.original&quot; from its file name. Let&#39;s say mainapplication.jar\r\n\r\nWe will also need the libs folder which contains jar files for respective dependencies mentioned in the POM file.\r\n\r\n**Step 3:** Run your jar files.\r\n\r\n    java -cp mainapplication.jar:application-tests.jar:libs/* org.testng.TestNG testng.xml\r\n\r\n","title":"Junit 5 @SpringBootTest executable jar","body":"<p>Below are steps -&gt;</p>\n<p><strong>Step 1:</strong> Add the below plugins to your POM file -</p>\n<pre><code>&lt;build&gt;\n        &lt;finalName&gt;dockerized-springfield&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;\n                                ${project.build.directory}/libs\n                            &lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.18.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;src/test/java/com/automation/framework/gui/testng.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                    &lt;argLine&gt;\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                    &lt;/argLine&gt;\n                    &lt;classpathDependencyExcludes&gt;\n                        &lt;classpathDependencyExclude&gt;com.vaadin.external.google:android-json&lt;/classpathDependencyExclude&gt;\n                    &lt;/classpathDependencyExcludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p><strong>Step 2</strong>: Run mvn commands to create jars</p>\n<blockquote>\n<p>mvn package -DskipTests</p>\n</blockquote>\n<p>This will create 3 jars files inside your target folder</p>\n<ol>\n<li>application.jar  [Springboot jar which contains code inside &quot;main&quot; folders along with the dependencies.]</li>\n<li>application.jar.original [Jar which ONLY contains code inside &quot;main&quot; folders]</li>\n<li>application-tests.jar [Jar which contains code inside the &quot;test&quot; folder.]</li>\n</ol>\n<p>We only need the 2nd and 3rd jar files. You may delete the first file.\nNow rename the second file and remove the &quot;.original&quot; from its file name. Let's say mainapplication.jar</p>\n<p>We will also need the libs folder which contains jar files for respective dependencies mentioned in the POM file.</p>\n<p><strong>Step 3:</strong> Run your jar files.</p>\n<pre><code>java -cp mainapplication.jar:application-tests.jar:libs/* org.testng.TestNG testng.xml\n</code></pre>\n"}],"owner":{"account_id":17181062,"reputation":31,"user_id":12436472,"display_name":"aviram shterebaum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2923,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1651940682,"creation_date":1574760989,"question_id":59047824,"body_markdown":"I am trying to create an executable jar with my test. I cannot use maven to run the tests so I am trying to create a jer that will execute them.\r\n\r\nI have a jar with all the test&#39;s and with all dependencies. But, when I try to run:\r\n \r\n\r\n    java -jar target/tests-0.0.1-SNAPSHOT-spring-boot.jar\r\n\r\nI am getting -\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: com.xxx.xx.tests.framework.SDAutomation\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\r\npom.xml include the following to create the jar:\r\n\r\n```\r\n  &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;classifier&gt;spring-boot&lt;/classifier&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n       &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;make-assembly&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;com.xxx.xx.tests.framework.SDAutomation&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                        &lt;descriptorRefs&gt;\r\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                        &lt;/descriptorRefs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;test-jar&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n```\r\n\r\nAny help will be great.\r\n\r\nEdit 1:\r\nfound a seleution by creating a main with LauncherFactory\r\nfor example:\r\n\r\n    \t\tLauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request()\r\n    \t\t\t\t                                   .selectors(\r\n    \t\t\t\t\t\t                                   selectClass(SDAutomation.class)\r\n    \t\t\t\t                                   )\r\n    \t\t\t\t                                   .build();\r\n    \t\t\r\n    \t\tLauncher launcher = LauncherFactory.create();\r\n    \t\t// Register a listener of your choice\r\n    \t\tSummaryGeneratingListener listener = new SummaryGeneratingListener();\r\n    \t\tlauncher.registerTestExecutionListeners(listener);\r\n    \t\t\r\n    \t\tlauncher.execute(request);\r\n    \t\tTestExecutionSummary summary = listener.getSummary();\r\n    \r\n\r\ntaken from [juint doc][1]\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#launcher-api-discovery","title":"Junit 5 @SpringBootTest executable jar","body":"<p>I am trying to create an executable jar with my test. I cannot use maven to run the tests so I am trying to create a jer that will execute them.</p>\n\n<p>I have a jar with all the test's and with all dependencies. But, when I try to run:</p>\n\n<pre><code>java -jar target/tests-0.0.1-SNAPSHOT-spring-boot.jar\n</code></pre>\n\n<p>I am getting -</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassNotFoundException: com.xxx.xx.tests.framework.SDAutomation\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n</code></pre>\n\n<p>pom.xml include the following to create the jar:</p>\n\n<pre><code>  &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;classifier&gt;spring-boot&lt;/classifier&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n       &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;com.xxx.xx.tests.framework.SDAutomation&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-jar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Any help will be great.</p>\n\n<p>Edit 1:\nfound a seleution by creating a main with LauncherFactory\nfor example:</p>\n\n<pre><code>        LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request()\n                                                   .selectors(\n                                                           selectClass(SDAutomation.class)\n                                                   )\n                                                   .build();\n\n        Launcher launcher = LauncherFactory.create();\n        // Register a listener of your choice\n        SummaryGeneratingListener listener = new SummaryGeneratingListener();\n        launcher.registerTestExecutionListeners(listener);\n\n        launcher.execute(request);\n        TestExecutionSummary summary = listener.getSummary();\n</code></pre>\n\n<p>taken from <a href=\"https://junit.org/junit5/docs/current/user-guide/#launcher-api-discovery\" rel=\"nofollow noreferrer\">juint doc</a></p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":9557,"reputation":14503,"user_id":17712,"accept_rate":67,"display_name":"Milhous"},"score":2,"creation_date":1252216319,"post_id":1384947,"comment_id":1225079,"body_markdown":"Could be answer be platform specific?","body":"Could be answer be platform specific?"},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1438110262,"post_id":1384947,"comment_id":51311658,"body_markdown":"See also http://stackoverflow.com/questions/794381/how-to-find-files-that-match-a-wildcard-string-in-java","body":"See also <a href=\"http://stackoverflow.com/questions/794381/how-to-find-files-that-match-a-wildcard-string-in-java\" title=\"how to find files that match a wildcard string in java\">stackoverflow.com/questions/794381/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1252215818,"creation_date":1252215818,"answer_id":1384961,"question_id":1384947,"body_markdown":"Try:\r\n\r\n    List&lt;String&gt; textFiles(String directory) {\r\n      List&lt;String&gt; textFiles = new ArrayList&lt;String&gt;();\r\n      File dir = new File(directory);\r\n      for (File file : dir.listFiles()) {\r\n        if (file.getName().endsWith((&quot;.txt&quot;))) {\r\n          textFiles.add(file.getName());\r\n        }\r\n      }\r\n      return textFiles;\r\n    }\r\n\r\nYou want to do a case insensitive search in which case:\r\n\r\n        if (file.getName().toLowerCase().endsWith((&quot;.txt&quot;))) {\r\n\r\nIf you want to recursively search for through a directory tree for text files, you should be able to adapt the above as either a recursive function or an iterative function using a stack.","title":"Java: Find .txt files in specified folder","body":"<p>Try:</p>\n\n<pre><code>List&lt;String&gt; textFiles(String directory) {\n  List&lt;String&gt; textFiles = new ArrayList&lt;String&gt;();\n  File dir = new File(directory);\n  for (File file : dir.listFiles()) {\n    if (file.getName().endsWith((\".txt\"))) {\n      textFiles.add(file.getName());\n    }\n  }\n  return textFiles;\n}\n</code></pre>\n\n<p>You want to do a case insensitive search in which case:</p>\n\n<pre><code>    if (file.getName().toLowerCase().endsWith((\".txt\"))) {\n</code></pre>\n\n<p>If you want to recursively search for through a directory tree for text files, you should be able to adapt the above as either a recursive function or an iterative function using a stack.</p>\n"},{"tags":[],"owner":{"account_id":9557,"reputation":14503,"user_id":17712,"accept_rate":67,"display_name":"Milhous"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1252216891,"creation_date":1252216891,"answer_id":1384989,"question_id":1384947,"body_markdown":"Here is my platform specific code(unix)\r\n\r\n    public static List&lt;File&gt; findFiles(String dir, String... names)\r\n\t\t{\r\n\t\t\tLinkedList&lt;String&gt; command = new LinkedList&lt;String&gt;();\r\n\t\t\tcommand.add(&quot;/usr/bin/find&quot;);\r\n\t\t\tcommand.add(dir);\r\n\t\t\tList&lt;File&gt; result = new LinkedList&lt;File&gt;();\r\n\t\t\tif (names.length &gt; 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tList&lt;String&gt; newNames = new LinkedList&lt;String&gt;(Arrays.asList(names));\r\n\t\t\t\t\tString first = newNames.remove(0);\r\n\t\t\t\t\tcommand.add(&quot;-name&quot;);\r\n\t\t\t\t\tcommand.add(first);\r\n\t\t\t\t\tfor (String newName : newNames)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcommand.add(&quot;-or&quot;);\r\n\t\t\t\t\t\t\tcommand.add(&quot;-name&quot;);\r\n\t\t\t\t\t\t\tcommand.add(newName);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\telse if (names.length &gt; 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tcommand.add(&quot;-name&quot;);\r\n\t\t\t\t\tcommand.add(names[0]);\r\n\t\t\t\t}\r\n\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tProcessBuilder pb = new ProcessBuilder(command);\r\n\t\t\t\t\tProcess p = pb.start();\r\n\t\t\t\t\tp.waitFor();\r\n\t\t\t\t\tInputStream is = p.getInputStream();\r\n\t\t\t\t\tInputStreamReader isr = new InputStreamReader(is);\r\n\t\t\t\t\tBufferedReader br = new BufferedReader(isr);\r\n\t\t\t\t\tString line;\r\n\t\t\t\t\twhile ((line = br.readLine()) != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// System.err.println(line);\r\n\t\t\t\t\t\t\tresult.add(new File(line));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tp.destroy();\r\n\t\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t\t{\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\r\n","title":"Java: Find .txt files in specified folder","body":"<p>Here is my platform specific code(unix)</p>\n\n<pre><code>public static List&lt;File&gt; findFiles(String dir, String... names)\n    {\n        LinkedList&lt;String&gt; command = new LinkedList&lt;String&gt;();\n        command.add(\"/usr/bin/find\");\n        command.add(dir);\n        List&lt;File&gt; result = new LinkedList&lt;File&gt;();\n        if (names.length &gt; 1)\n            {\n                List&lt;String&gt; newNames = new LinkedList&lt;String&gt;(Arrays.asList(names));\n                String first = newNames.remove(0);\n                command.add(\"-name\");\n                command.add(first);\n                for (String newName : newNames)\n                    {\n                        command.add(\"-or\");\n                        command.add(\"-name\");\n                        command.add(newName);\n                    }\n            }\n        else if (names.length &gt; 0)\n            {\n                command.add(\"-name\");\n                command.add(names[0]);\n            }\n        try\n            {\n                ProcessBuilder pb = new ProcessBuilder(command);\n                Process p = pb.start();\n                p.waitFor();\n                InputStream is = p.getInputStream();\n                InputStreamReader isr = new InputStreamReader(is);\n                BufferedReader br = new BufferedReader(isr);\n                String line;\n                while ((line = br.readLine()) != null)\n                    {\n                        // System.err.println(line);\n                        result.add(new File(line));\n                    }\n                p.destroy();\n            }\n        catch (Exception e)\n            {\n                e.printStackTrace();\n            }\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"down_vote_count":0,"up_vote_count":137,"is_accepted":true,"score":137,"last_activity_date":1473027371,"creation_date":1252217752,"answer_id":1385015,"question_id":1384947,"body_markdown":"You can use the `listFiles()` method provided by the `java.io.File` class.\r\n\r\n    import java.io.File;\r\n    import java.io.FilenameFilter;\r\n    \r\n    public class Filter {\r\n    \t\r\n    \tpublic File[] finder( String dirName){\r\n    \t\tFile dir = new File(dirName);\r\n    \r\n    \t\treturn dir.listFiles(new FilenameFilter() { \r\n    \t\t         public boolean accept(File dir, String filename)\r\n    \t\t              { return filename.endsWith(&quot;.txt&quot;); }\r\n    \t\t} );\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"Java: Find .txt files in specified folder","body":"<p>You can use the <code>listFiles()</code> method provided by the <code>java.io.File</code> class.</p>\n\n<pre><code>import java.io.File;\nimport java.io.FilenameFilter;\n\npublic class Filter {\n\n    public File[] finder( String dirName){\n        File dir = new File(dirName);\n\n        return dir.listFiles(new FilenameFilter() { \n                 public boolean accept(File dir, String filename)\n                      { return filename.endsWith(\".txt\"); }\n        } );\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":897669,"reputation":61,"user_id":934587,"display_name":"ald33"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1315495627,"creation_date":1315477746,"answer_id":7346577,"question_id":1384947,"body_markdown":"It&#39;s really useful, I used it with a slight change:\r\n\r\n    filename=directory.list(new FilenameFilter() { \r\n        public boolean accept(File dir, String filename) { \r\n            return filename.startsWith(ipro); \r\n        }\r\n    });\r\n\r\n","title":"Java: Find .txt files in specified folder","body":"<p>It's really useful, I used it with a slight change:</p>\n\n<pre><code>filename=directory.list(new FilenameFilter() { \n    public boolean accept(File dir, String filename) { \n        return filename.startsWith(ipro); \n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1824739,"reputation":489,"user_id":1657856,"display_name":"John Jintire"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1348407015,"creation_date":1347181166,"answer_id":12337798,"question_id":1384947,"body_markdown":"\timport org.apache.commons.io.filefilter.WildcardFileFilter;\r\n\r\n\t.........\r\n\t.........\r\n\r\n\tFile dir = new File(fileDir);\r\n\tFileFilter fileFilter = new WildcardFileFilter(&quot;*.txt&quot;);\r\n\tFile[] files = dir.listFiles(fileFilter);\r\n\r\nThe code above works great for me","title":"Java: Find .txt files in specified folder","body":"<pre><code>import org.apache.commons.io.filefilter.WildcardFileFilter;\n\n.........\n.........\n\nFile dir = new File(fileDir);\nFileFilter fileFilter = new WildcardFileFilter(\"*.txt\");\nFile[] files = dir.listFiles(fileFilter);\n</code></pre>\n\n<p>The code above works great for me</p>\n"},{"tags":[],"owner":{"account_id":1986203,"reputation":126,"user_id":1781359,"display_name":"Lokarno"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513243062,"creation_date":1356598756,"answer_id":14051951,"question_id":1384947,"body_markdown":"I made my solution based on the posts I found here with Google. And I thought there is no harm to post mine as well even if it is an old thread.\r\n\r\nThe only plus this code gives is that it can iterate through sub-directories as well.\r\n\r\n    import java.io.File;\r\n    import java.io.FileFilter;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import org.apache.commons.io.filefilter.DirectoryFileFilter;\r\n    import org.apache.commons.io.filefilter.WildcardFileFilter;\r\n\r\nMethod is as follows:\r\n\r\n    List &lt;File&gt; exploreThis(String dirPath){\r\n        \r\n        File topDir = new File(dirPath);\r\n        \r\n        List&lt;File&gt; directories = new ArrayList&lt;&gt;();\r\n        directories.add(topDir);\r\n        \r\n        List&lt;File&gt; textFiles = new ArrayList&lt;&gt;();\r\n        \r\n        List&lt;String&gt; filterWildcards = new ArrayList&lt;&gt;();\r\n        filterWildcards.add(&quot;*.txt&quot;);\r\n        filterWildcards.add(&quot;*.doc&quot;);\r\n        \r\n        FileFilter typeFilter = new WildcardFileFilter(filterWildcards);\r\n        \r\n        while (directories.isEmpty() == false)\r\n        {\r\n            List&lt;File&gt; subDirectories = new ArrayList();\r\n            \r\n            for(File f : directories)\r\n            {\r\n                subDirectories.addAll(Arrays.asList(f.listFiles((FileFilter)DirectoryFileFilter.INSTANCE)));\r\n                textFiles.addAll(Arrays.asList(f.listFiles(typeFilter)));\r\n            }\r\n            \r\n            directories.clear();\r\n            directories.addAll(subDirectories);\r\n        }\r\n        \r\n        return textFiles;\r\n    }","title":"Java: Find .txt files in specified folder","body":"<p>I made my solution based on the posts I found here with Google. And I thought there is no harm to post mine as well even if it is an old thread.</p>\n\n<p>The only plus this code gives is that it can iterate through sub-directories as well.</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileFilter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport org.apache.commons.io.filefilter.DirectoryFileFilter;\nimport org.apache.commons.io.filefilter.WildcardFileFilter;\n</code></pre>\n\n<p>Method is as follows:</p>\n\n<pre><code>List &lt;File&gt; exploreThis(String dirPath){\n\n    File topDir = new File(dirPath);\n\n    List&lt;File&gt; directories = new ArrayList&lt;&gt;();\n    directories.add(topDir);\n\n    List&lt;File&gt; textFiles = new ArrayList&lt;&gt;();\n\n    List&lt;String&gt; filterWildcards = new ArrayList&lt;&gt;();\n    filterWildcards.add(\"*.txt\");\n    filterWildcards.add(\"*.doc\");\n\n    FileFilter typeFilter = new WildcardFileFilter(filterWildcards);\n\n    while (directories.isEmpty() == false)\n    {\n        List&lt;File&gt; subDirectories = new ArrayList();\n\n        for(File f : directories)\n        {\n            subDirectories.addAll(Arrays.asList(f.listFiles((FileFilter)DirectoryFileFilter.INSTANCE)));\n            textFiles.addAll(Arrays.asList(f.listFiles(typeFilter)));\n        }\n\n        directories.clear();\n        directories.addAll(subDirectories);\n    }\n\n    return textFiles;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255712,"reputation":6480,"user_id":535935,"accept_rate":52,"display_name":"Abhi"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1596552761,"creation_date":1366895392,"answer_id":16215662,"question_id":1384947,"body_markdown":"````\r\nimport org.apache.commons.io.FileUtils;   \r\n\r\nList&lt;File&gt; htmFileList = new ArrayList&lt;File&gt;();\r\n\r\nfor (File file : (List&lt;File&gt;) FileUtils.listFiles(new File(srcDir), new String[]{&quot;txt&quot;, &quot;TXT&quot;}, true)) {\r\n    htmFileList.add(file);\r\n}\r\n````\r\n\r\n\r\nThis is my latest code to add all text files from a directory","title":"Java: Find .txt files in specified folder","body":"<pre><code>import org.apache.commons.io.FileUtils;   \n\nList&lt;File&gt; htmFileList = new ArrayList&lt;File&gt;();\n\nfor (File file : (List&lt;File&gt;) FileUtils.listFiles(new File(srcDir), new String[]{&quot;txt&quot;, &quot;TXT&quot;}, true)) {\n    htmFileList.add(file);\n}\n</code></pre>\n<p>This is my latest code to add all text files from a directory</p>\n"},{"tags":[],"owner":{"account_id":2272937,"reputation":1102,"user_id":1999894,"accept_rate":33,"display_name":"Dragan Menoski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1367011727,"creation_date":1367011727,"answer_id":16245503,"question_id":1384947,"body_markdown":"    import java.io.IOException;\r\n    import java.nio.file.FileSystems;\r\n    import java.nio.file.FileVisitResult;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.PathMatcher;\r\n    import java.nio.file.SimpleFileVisitor;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    import java.util.ArrayList;\r\n    \r\n    public class FileFinder extends SimpleFileVisitor&lt;Path&gt; {\r\n    \tprivate PathMatcher matcher;\r\n    \tpublic ArrayList&lt;Path&gt; foundPaths = new ArrayList&lt;&gt;();\r\n    \r\n    \tpublic FileFinder(String pattern) {\r\n    \t\tmatcher = FileSystems.getDefault().getPathMatcher(&quot;glob:&quot; + pattern);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n    \t\tPath name = file.getFileName();\r\n    \t\t\r\n    \t\tif (matcher.matches(name)) {\r\n    \t\t\tfoundPaths.add(file);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn FileVisitResult.CONTINUE;\r\n    \t}\r\n    }\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.LinkOption;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.ArrayList;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tPath fileDir = Paths.get(&quot;files&quot;);\r\n    \t\tFileFinder finder = new FileFinder(&quot;*.txt&quot;);\r\n    \t\tFiles.walkFileTree(fileDir, finder);\r\n    \t\t\r\n    \t\tArrayList&lt;Path&gt; foundFiles = finder.foundPaths;\r\n    \t\t\r\n    \t\tif (foundFiles.size() &gt; 0) {\r\n    \t\t\tfor (Path path : foundFiles) {\r\n    \t\t\t\tSystem.out.println(path.toRealPath(LinkOption.NOFOLLOW_LINKS));\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;No files were founds!&quot;);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Java: Find .txt files in specified folder","body":"<pre><code>import java.io.IOException;\nimport java.nio.file.FileSystems;\nimport java.nio.file.FileVisitResult;\nimport java.nio.file.Path;\nimport java.nio.file.PathMatcher;\nimport java.nio.file.SimpleFileVisitor;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.ArrayList;\n\npublic class FileFinder extends SimpleFileVisitor&lt;Path&gt; {\n    private PathMatcher matcher;\n    public ArrayList&lt;Path&gt; foundPaths = new ArrayList&lt;&gt;();\n\n    public FileFinder(String pattern) {\n        matcher = FileSystems.getDefault().getPathMatcher(\"glob:\" + pattern);\n    }\n\n    @Override\n    public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n        Path name = file.getFileName();\n\n        if (matcher.matches(name)) {\n            foundPaths.add(file);\n        }\n\n        return FileVisitResult.CONTINUE;\n    }\n}\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.LinkOption;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        Path fileDir = Paths.get(\"files\");\n        FileFinder finder = new FileFinder(\"*.txt\");\n        Files.walkFileTree(fileDir, finder);\n\n        ArrayList&lt;Path&gt; foundFiles = finder.foundPaths;\n\n        if (foundFiles.size() &gt; 0) {\n            for (Path path : foundFiles) {\n                System.out.println(path.toRealPath(LinkOption.NOFOLLOW_LINKS));\n            }\n        } else {\n            System.out.println(\"No files were founds!\");\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":52297,"reputation":5805,"user_id":156225,"accept_rate":95,"display_name":"Sri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170149,"favorite_count":0,"down_vote_count":4,"up_vote_count":63,"accepted_answer_id":1385015,"answer_count":8,"score":59,"last_activity_date":1651940604,"creation_date":1252215447,"question_id":1384947,"body_markdown":"Is there a built in Java code that will parse a given folder and search it for `.txt` files? \r\n","title":"Java: Find .txt files in specified folder","body":"<p>Is there a built in Java code that will parse a given folder and search it for <code>.txt</code> files? </p>\n"},{"tags":["java","uuid","unix-timestamp"],"comments":[{"owner":{"account_id":319492,"reputation":16283,"user_id":637284,"accept_rate":75,"display_name":"halex"},"score":1,"creation_date":1351176141,"post_id":13070674,"comment_id":17755416,"body_markdown":"Aren&#39;t you dividing by the wrong number (`10^8`)? Timestamp gives the number of 100 ns (10^-7 s) chunks, so you need 10^4 junks to get 1 ms (10^-3 s). Therefore you have to divide by 10000L.","body":"Aren&#39;t you dividing by the wrong number (<code>10^8</code>)? Timestamp gives the number of 100 ns (10^-7 s) chunks, so you need 10^4 junks to get 1 ms (10^-3 s). Therefore you have to divide by 10000L."},{"owner":{"account_id":312061,"reputation":529,"user_id":625945,"accept_rate":83,"display_name":"Thiyanesh"},"score":0,"creation_date":1496089138,"post_id":13070674,"comment_id":75508020,"body_markdown":"@Halex fixed the divisor. Thanks","body":"@Halex fixed the divisor. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1351176484,"creation_date":1351175222,"answer_id":13070811,"question_id":13070674,"body_markdown":"From the docs for `timestamp()`:\r\n\r\n&gt; The resulting timestamp is measured in 100-nanosecond units since midnight, October 15, 1582 UTC.\r\n\r\nSo you need to offset it from that. For example:\r\n\r\n    Calendar uuidEpoch = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    uuidEpoch.clear();\r\n    uuidEpoch.set(1582, 9, 15, 0, 0, 0); // 9 = October\r\n    long epochMillis = uuidEpoch.getTime().getTime();\r\n\r\n    long time = (uuid.timestamp() / 10000L) + epochMillis;\r\n    // Rest of code as before","title":"Get the UNIX timestamp from UUID version 1","body":"<p>From the docs for <code>timestamp()</code>:</p>\n\n<blockquote>\n  <p>The resulting timestamp is measured in 100-nanosecond units since midnight, October 15, 1582 UTC.</p>\n</blockquote>\n\n<p>So you need to offset it from that. For example:</p>\n\n<pre><code>Calendar uuidEpoch = Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"));\nuuidEpoch.clear();\nuuidEpoch.set(1582, 9, 15, 0, 0, 0); // 9 = October\nlong epochMillis = uuidEpoch.getTime().getTime();\n\nlong time = (uuid.timestamp() / 10000L) + epochMillis;\n// Rest of code as before\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4042338,"reputation":113,"user_id":3324777,"display_name":"user3324777"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1401216967,"creation_date":1401216967,"answer_id":23896948,"question_id":13070674,"body_markdown":"If you using datastax driver, it&#39;s:\r\n\r\nUUIDs.unixTimestamp(uuid)\r\n\r\nhttp://www.datastax.com/drivers/java/2.0/com/datastax/driver/core/utils/UUIDs.html#unixTimestamp(java.util.UUID)","title":"Get the UNIX timestamp from UUID version 1","body":"<p>If you using datastax driver, it's:</p>\n\n<p>UUIDs.unixTimestamp(uuid)</p>\n\n<p><a href=\"http://www.datastax.com/drivers/java/2.0/com/datastax/driver/core/utils/UUIDs.html#unixTimestamp%28java.util.UUID%29\" rel=\"noreferrer\">http://www.datastax.com/drivers/java/2.0/com/datastax/driver/core/utils/UUIDs.html#unixTimestamp(java.util.UUID)</a></p>\n"},{"tags":[],"owner":{"account_id":13146207,"reputation":21,"user_id":9496159,"display_name":"Md Manawyal Haque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568720165,"creation_date":1568720165,"answer_id":57973396,"question_id":13070674,"body_markdown":"In my case, the following code worked.\r\n \r\n        final long NUM_100NS_INTERVALS_SINCE_UUID_EPOCH = 0x01b21dd213814000L;\r\n\t\tUUID uuid = UUID.fromString(&quot;6470d760-d93d-11e9-8b32-858313a776ba&quot;);\r\n\t\tlong  time = (uuid.timestamp() - NUM_100NS_INTERVALS_SINCE_UUID_EPOCH) / 10000;\r\n\t\t// Rest of code as before","title":"Get the UNIX timestamp from UUID version 1","body":"<p>In my case, the following code worked.</p>\n\n<pre><code>    final long NUM_100NS_INTERVALS_SINCE_UUID_EPOCH = 0x01b21dd213814000L;\n    UUID uuid = UUID.fromString(\"6470d760-d93d-11e9-8b32-858313a776ba\");\n    long  time = (uuid.timestamp() - NUM_100NS_INTERVALS_SINCE_UUID_EPOCH) / 10000;\n    // Rest of code as before\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631591066,"creation_date":1569216652,"answer_id":58056153,"question_id":13070674,"body_markdown":"How to extract time from UUIDs using `UuidUtil` from [uuid-creator](https://github.com/f4b6a3/uuid-creator):\r\n\r\n```\r\nInstant instant = UuidUtil.getInstant(uuid);\r\n\r\nlong secs = instant.getEpochSecond(); // seconds since 1970-01-01\r\nlong msecs = instant.toEpochMilli(); // millis since 1970-01-01\r\n```\r\n\r\n","title":"Get the UNIX timestamp from UUID version 1","body":"<p>How to extract time from UUIDs using <code>UuidUtil</code> from <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">uuid-creator</a>:</p>\n<pre><code>Instant instant = UuidUtil.getInstant(uuid);\n\nlong secs = instant.getEpochSecond(); // seconds since 1970-01-01\nlong msecs = instant.toEpochMilli(); // millis since 1970-01-01\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23949316,"reputation":1,"user_id":17955026,"display_name":"druud62"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651940434,"creation_date":1651940434,"answer_id":72154381,"question_id":13070674,"body_markdown":"In MySQL:\r\n\r\n    SET \r\n      @t0:=SYSDATE(6)\r\n    , @u0:=UUID()\r\n    , @t1:=SYSDATE(6)\r\n    ; SELECT \r\n      @u0 AS _u0\r\n    , @u1:=CONCAT(SUBSTR(@u0,16,3),SUBSTR(@u0,10,4),SUBSTR(@u0,1,8)) AS _u1\r\n    , @t0 AS _t0\r\n    , FROM_UNIXTIME(CONV(@u1,16,10)/1e7-12219292800) AS _tu\r\n    , @t1 AS _t1 \\G\r\n\r\n    Query OK, 0 rows affected (0.00 sec)\r\n    \r\n    *************************** 1. row ***************************\r\n    _u0: 060e0537-ce21-11ec-9807-525400432b3b\r\n    _u1: 1ecce21060e0537\r\n    _t0: 2022-05-07 18:16:17.246698\r\n    _tu: 2022-05-07 18:16:17.246750\r\n    _t1: 2022-05-07 18:16:17.246755\r\n    1 row in set (0.00 sec)\r\n","title":"Get the UNIX timestamp from UUID version 1","body":"<p>In MySQL:</p>\n<pre><code>SET \n  @t0:=SYSDATE(6)\n, @u0:=UUID()\n, @t1:=SYSDATE(6)\n; SELECT \n  @u0 AS _u0\n, @u1:=CONCAT(SUBSTR(@u0,16,3),SUBSTR(@u0,10,4),SUBSTR(@u0,1,8)) AS _u1\n, @t0 AS _t0\n, FROM_UNIXTIME(CONV(@u1,16,10)/1e7-12219292800) AS _tu\n, @t1 AS _t1 \\G\n\nQuery OK, 0 rows affected (0.00 sec)\n\n*************************** 1. row ***************************\n_u0: 060e0537-ce21-11ec-9807-525400432b3b\n_u1: 1ecce21060e0537\n_t0: 2022-05-07 18:16:17.246698\n_tu: 2022-05-07 18:16:17.246750\n_t1: 2022-05-07 18:16:17.246755\n1 row in set (0.00 sec)\n</code></pre>\n"}],"owner":{"account_id":312061,"reputation":529,"user_id":625945,"accept_rate":83,"display_name":"Thiyanesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6516,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":13070811,"answer_count":5,"score":9,"last_activity_date":1651940434,"creation_date":1351174783,"question_id":13070674,"body_markdown":"In our Java application we are trying to get the UNIX time from the UUID [version 1][1]. But it&#39;s not giving the correct date time values.\r\n\r\n    long time = uuid.timestamp();\r\n    time = time / 10000L;   // Dividing by 10^4 as it&#39;s in 100 nanoseconds precision \r\n    Calendar c = Calendar.getInstance();\r\n    c.setTimeInMillis(time);\r\n    c.getTime();\r\n    \r\nCan someone please help?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_1_(date-time_and_MAC_address)","title":"Get the UNIX timestamp from UUID version 1","body":"<p>In our Java application we are trying to get the UNIX time from the UUID <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_1_(date-time_and_MAC_address)\" rel=\"nofollow noreferrer\">version 1</a>. But it's not giving the correct date time values.</p>\n<pre><code>long time = uuid.timestamp();\ntime = time / 10000L;   // Dividing by 10^4 as it's in 100 nanoseconds precision \nCalendar c = Calendar.getInstance();\nc.setTimeInMillis(time);\nc.getTime();\n</code></pre>\n<p>Can someone please help?</p>\n"},{"tags":["java","mysql","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651875654,"creation_date":1651873789,"answer_id":72147697,"question_id":72147219,"body_markdown":"The reason you&#39;re seeing this is because your persistence provider (presumably hibernate) doesn&#39;t know which version you want to update, so it treats it as a new object.\r\n\r\nTo your model, simply add\r\n\r\n    @Version\r\n    private Long version;\r\n\r\nand what you have there should work.  The version will be a part of the object now and when your request to update comes back in, provided the version field is populated, hibernate will know which row it needs to update.\r\n\r\nAlso, you&#39;ll need to add the id and version to your view layer (they can be hidden fields), they will look like this in your view\r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:field=&quot;*{id}&quot;&gt;\r\n    &lt;input type=&quot;hidden&quot; name=&quot;version&quot; th:field=&quot;*{version}&quot;&gt;","title":"Thymeleaf + spring save new object instead of update","body":"<p>The reason you're seeing this is because your persistence provider (presumably hibernate) doesn't know which version you want to update, so it treats it as a new object.</p>\n<p>To your model, simply add</p>\n<pre><code>@Version\nprivate Long version;\n</code></pre>\n<p>and what you have there should work.  The version will be a part of the object now and when your request to update comes back in, provided the version field is populated, hibernate will know which row it needs to update.</p>\n<p>Also, you'll need to add the id and version to your view layer (they can be hidden fields), they will look like this in your view</p>\n<pre><code>&lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:field=&quot;*{id}&quot;&gt;\n&lt;input type=&quot;hidden&quot; name=&quot;version&quot; th:field=&quot;*{version}&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651940212,"creation_date":1651921397,"answer_id":72151887,"question_id":72147219,"body_markdown":"One way to do this is by first fetching the job that matches your job argument from the repository and then applying the necessary changes to it before saving (updating) it to the database.\r\n\r\n    @Override\r\n    public void updateJob(Job job) {\r\n        //I assume  job.getId() returns an integer here, otherwise use another field that uniquely identifies a job\r\n        Job dbJob = getJobById(job.getId());\r\n        if(dbJob != null){\r\n          \r\n           dbJob.setStatus(job.getStatus());\r\n           dbJob.setTitle(job.getTitle());\r\n           //set all the other fields except id\r\n           \r\n         repository.save(dbJob);//this updates an existing job record\r\n        }else{\r\n          repository.save(job);//this inserts a new job \r\n        }\r\n       \r\n    }\r\n\r\nUPDATE: That error is thrown by your method getJobById. You can, of course, change that method so that it returns null whenever a record is not found in the repository (rather than throwing an exception as you&#39;re doing now). Note that the job id in this case is 0 and there exists no record in the repository with that id (0). If you&#39;re updating a record then you have to provide a unique id that already exists in the database (whether it&#39;s id or something else). I&#39;m guessing  you haven&#39;t set Job.id explicitly to 0 but rather id is initialized to its default value, which is 0. ","title":"Thymeleaf + spring save new object instead of update","body":"<p>One way to do this is by first fetching the job that matches your job argument from the repository and then applying the necessary changes to it before saving (updating) it to the database.</p>\n<pre><code>@Override\npublic void updateJob(Job job) {\n    //I assume  job.getId() returns an integer here, otherwise use another field that uniquely identifies a job\n    Job dbJob = getJobById(job.getId());\n    if(dbJob != null){\n      \n       dbJob.setStatus(job.getStatus());\n       dbJob.setTitle(job.getTitle());\n       //set all the other fields except id\n       \n     repository.save(dbJob);//this updates an existing job record\n    }else{\n      repository.save(job);//this inserts a new job \n    }\n   \n}\n</code></pre>\n<p>UPDATE: That error is thrown by your method getJobById. You can, of course, change that method so that it returns null whenever a record is not found in the repository (rather than throwing an exception as you're doing now). Note that the job id in this case is 0 and there exists no record in the repository with that id (0). If you're updating a record then you have to provide a unique id that already exists in the database (whether it's id or something else). I'm guessing  you haven't set Job.id explicitly to 0 but rather id is initialized to its default value, which is 0.</p>\n"}],"owner":{"account_id":25207007,"reputation":3,"user_id":19045202,"display_name":"Danee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72151887,"answer_count":2,"score":0,"last_activity_date":1651940212,"creation_date":1651870212,"question_id":72147219,"body_markdown":"I am asking for a hint. I searched the internet for a long time for a solution to the problem, but I&#39;m already desperate. I would like the update operation to update a record in the table instead of writing a new one. Sorry for my code i am a beginner.\r\n\r\n  It is my code: \r\n\r\n      @Entity\r\n    public class Job {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate long id;\r\n    \r\n    \t@NotEmpty(message = &quot;You must enter the title.&quot;)\r\n    \t@Size(min=2, max = 30, message = &quot;You must add a description with length beetwen 2 and 30 letters.&quot;)\r\n    \t@Column(name = &quot;title&quot;)\r\n    \tprivate String title;\r\n    \r\n    \t@NotEmpty(message = &quot;You must enter the description.&quot;)\r\n    \t@Size(min=10, max = 150, message = &quot;You must add a description with length beetwen 10 and 150 letters.&quot;)\r\n    \t@Column(name = &quot;description&quot;)\r\n    \tprivate String description;\r\n    \r\n    \t@NotEmpty(message = &quot;You must select profession&quot;)\r\n    \t@Column(name = &quot;profession&quot;)\r\n    \tprivate String profession;\r\n    \r\n    \t@NotEmpty(message = &quot;You must select status&quot;)\r\n    \t@Column(name = &quot;status&quot;)\r\n    \tprivate String status;\r\n    \r\n    \t@NotEmpty(message = &quot;You must select location&quot;)\r\n    \t@Column(name = &quot;location&quot;)\r\n    \tprivate String location;\r\n    \r\n        @CreationTimestamp\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n    \t@Column(name = &quot;publishDate&quot;)\r\n    \tprivate Date publishDate;\r\n\r\n+ getters setters and constructors \r\n\r\nservice layer: \r\n\r\n    @Service\r\n    public class JobServiceImpl implements JobService {\r\n    \r\n    \t@Autowired\r\n    \tprivate JobRepository repository;\r\n    \r\n    \t@Override\r\n    \tpublic Job saveJob(Job job) {\r\n    \r\n    \t\treturn repository.save(job);\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic Job getJobById(Long id) throws JobNotFoundException {\r\n    \r\n    \t\tOptional&lt;Job&gt; optional = repository.findById(id);\r\n    \r\n    \t\tif (optional.isPresent()) {\r\n    \t\t\treturn optional.get();\r\n    \t\t} else {\r\n    \t\t\tthrow new JobNotFoundException(&quot;Job with id: &quot; + id + &quot; not found &quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteJobById(Long id) throws JobNotFoundException {\r\n    \t\trepository.delete(getJobById(id));\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void updateJob(Job job) {\r\n    \r\n    \t\trepository.save(job);\r\n    \t}\r\n\r\ncontroller methods : \r\n\r\n    @GetMapping(&quot;/edit&quot;)\r\n    \tpublic String getEditPage(Model model, RedirectAttributes attributes, @RequestParam Long id) {\r\n    \t\tString page = null;\r\n    \t\tinitModel(model);\r\n    \t\ttry {\r\n    \t\t\tJob job = service.getJobById(id);\r\n    \t\t\tmodel.addAttribute(&quot;job&quot;, job);\r\n    \t\t\tpage = &quot;editJobPage&quot;;\r\n    \t\t} catch (JobNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tattributes.addAttribute(&quot;message&quot;, e.getMessage());\r\n    \t\t\tpage = &quot;redirect:getAllJobs&quot;;\r\n    \t\t}\r\n    \t\treturn page;\r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/edit&quot;)\r\n    \tpublic String updateJob(@ModelAttribute Job job, Model model, RedirectAttributes attributes) {\r\n    \t\tinitModel(model);\r\n    \t\tservice.updateJob(job);\r\n    \t\tLong id = job.getId();\r\n    \t\tattributes.addAttribute(&quot;message&quot;, &quot;Job advertisement with id: &#39;&quot; + id + &quot;&#39; is updated successfully !&quot;);\r\n    \t\treturn &quot;redirect:getAllJobs&quot;;\r\n    \t}\r\n\r\nand view layer: \r\n\r\n    &lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;link rel=&quot;stylesheet&quot;\r\n    \thref=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css&quot; /&gt;\r\n    &lt;script\r\n    \tsrc=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;link rel=&quot;stylesheet&quot;\r\n    \thref=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;div class=&quot;col-md-12&quot;&gt;\r\n    \t\t&lt;div class=&quot;container&quot;&gt;\r\n    \r\n    \t\t\t&lt;div class=&quot;card&quot;&gt;\r\n    \t\t\t\t&lt;div class=&quot;card-header text-center text-black&quot;&gt;\r\n    \t\t\t\t\t&lt;h3&gt;Edit advertisement&lt;/h3&gt;\r\n    \t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t&lt;div class=&quot;card-body&quot;&gt;\r\n    \t\t\t\t\t&lt;form action=&quot;/job/edit&quot; th:action=&quot;@{/job/edit}&quot; th:object=&quot;${job}&quot;\r\n    \t\t\t\t\t\tmethod=&quot;POST&quot; id=&quot;editJobPage&quot;&gt;\r\n    \t\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;div class=&quot;col-2&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;label for=&quot;title&quot;&gt;&lt;b&gt;Title&lt;/b&gt;&lt;/label&gt;\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t&lt;div class=&quot;col-6&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; class=&quot;form-control&quot;\r\n    \t\t\t\t\t\t\t\t\tname=&quot;title&quot; th:field=&quot;*{title}&quot;&gt;&lt;br /&gt;\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;br /&gt;\r\n    \t\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;div class=&quot;col-2&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;label for=&quot;location&quot;&gt;&lt;b&gt;Location&lt;/b&gt;&lt;/label&gt;\r\n    \t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t&lt;select id=&quot;location&quot; name=&quot;location&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;option value=&quot;&quot; disabled selected&gt;Select location&lt;/option&gt;\r\n    \t\t\t\t\t\t\t\t&lt;option th:each=&quot;location : ${locationsList}&quot;\r\n    \t\t\t\t\t\t\t\t\tth:text=&quot;${location}&quot; /&gt;\r\n    \t\t\t\t\t\t\t&lt;/select&gt; \r\n    \t\t\t\t\t\t\t\r\n    \r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;br /&gt;\r\n    \t\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;div class=&quot;col-2&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;label for=&quot;description&quot;&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/label&gt;\r\n    \t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t&lt;div class=&quot;col-6&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;textarea class=&quot;form-control&quot; rows=&quot;3&quot; \r\n    \t\t\t\t\t\t\t\t\t name=&quot;description&quot;\r\n    \t\t\t\t\t\t\t\t\tth:field=&quot;*{description}&quot;&gt;&lt;/textarea&gt;\r\n    \t\t\t\t\t\t\t\t&lt;br /&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;br /&gt;\r\n    \t\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;div class=&quot;col-2&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;label for=&quot;profession&quot;&gt;&lt;b&gt;Profession&lt;/b&gt;&lt;/label&gt;\r\n    \t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t&lt;select name=&quot;profession&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;option value=&quot;&quot; disabled selected&gt;Select profession&lt;/option&gt;\r\n    \t\t\t\t\t\t\t\t&lt;option th:each=&quot;profession : ${professionsList}&quot;\r\n    \t\t\t\t\t\t\t\t\tth:text=&quot;${profession}&quot; /&gt;\r\n    \r\n    \t\t\t\t\t\t\t&lt;/select&gt;\r\n    \t\t\t\t\t\r\n    \r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;br /&gt;\r\n    \t\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;div class=&quot;col-2&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;label for=&quot;status&quot;&gt;&lt;b&gt;Status&lt;/b&gt;&lt;/label&gt;\r\n    \t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t&lt;select name=&quot;status&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;option value=&quot;&quot; disabled selected&gt;Select status&lt;/option&gt;\r\n    \t\t\t\t\t\t\t\t&lt;option th:each=&quot;status : ${statusList}&quot; th:text=&quot;${status}&quot; /&gt;\r\n    \r\n    \t\t\t\t\t\t\t&lt;/select&gt;\r\n    \t\t\t\t\t\r\n    \r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;br /&gt;\r\n    \r\n    \t\t\t\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;\r\n    \t\t\t\t\t\t\tUpdate Advertisement &lt;i class=&quot;fa fa-plus-square&quot;\r\n    \t\t\t\t\t\t\t\taria-hidden=&quot;true&quot;&gt;&lt;/i&gt;\r\n    \t\t\t\t\t\t&lt;/button&gt;\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t&lt;/form&gt;\r\n    \t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t&lt;div th:if=&quot;${message!=null}&quot; class=&quot;card-footer bg-white text-info&quot;&gt;\r\n    \t\t\t\t\t&lt;span th:text=&quot;${message}&quot;&gt;&lt;/span&gt;\r\n    \t\t\t\t&lt;/div&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n\r\nNew error : \r\n\r\n    2022-05-07 15:51:48.027 DEBUG 29284 --- [nio-8080-exec-7] org.hibernate.SQL                        : select job0_.id as id1_0_0_, job0_.description as descript2_0_0_, job0_.location as location3_0_0_, job0_.profession as professi4_0_0_, job0_.publish_date as publish_5_0_0_, job0_.status as status6_0_0_, job0_.title as title7_0_0_ from job job0_ where job0_.id=?\r\n    2022-05-07 15:51:48.027 TRACE 29284 --- [nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [0]\r\n    com.example.job.advertisements.web.app.exceptionHandler.JobNotFoundException: Job with id: 0 not found \r\n    \tat com.example.job.advertisements.web.app.service.JobServiceImpl.getJobById(JobServiceImpl.java:39)\r\n    \tat com.example.job.advertisements.web.app.service.JobServiceImpl.updateJob(JobServiceImpl.java:53)\r\n    \tat com.example.job.advertisements.web.app.controller.JobController.updateJob(JobController.java:132)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    2022-05-07 15:51:48.049 DEBUG 29284 --- [nio-8080-exec-8] org.hibernate.SQL                        : select job0_.id as id1_0_, job0_.description as descript2_0_, job0_.location as location3_0_, job0_.profession as professi4_0_, job0_.publish_date as publish_5_0_, job0_.status as status6_0_, job0_.title as title7_0_ from job job0_\r\n    2022-05-07 15:51:48.050 TRACE 29284 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([id1_0_] : [BIGINT]) - [1]","title":"Thymeleaf + spring save new object instead of update","body":"<p>I am asking for a hint. I searched the internet for a long time for a solution to the problem, but I'm already desperate. I would like the update operation to update a record in the table instead of writing a new one. Sorry for my code i am a beginner.</p>\n<p>It is my code:</p>\n<pre><code>  @Entity\npublic class Job {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @NotEmpty(message = &quot;You must enter the title.&quot;)\n    @Size(min=2, max = 30, message = &quot;You must add a description with length beetwen 2 and 30 letters.&quot;)\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @NotEmpty(message = &quot;You must enter the description.&quot;)\n    @Size(min=10, max = 150, message = &quot;You must add a description with length beetwen 10 and 150 letters.&quot;)\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @NotEmpty(message = &quot;You must select profession&quot;)\n    @Column(name = &quot;profession&quot;)\n    private String profession;\n\n    @NotEmpty(message = &quot;You must select status&quot;)\n    @Column(name = &quot;status&quot;)\n    private String status;\n\n    @NotEmpty(message = &quot;You must select location&quot;)\n    @Column(name = &quot;location&quot;)\n    private String location;\n\n    @CreationTimestamp\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;publishDate&quot;)\n    private Date publishDate;\n</code></pre>\n<ul>\n<li>getters setters and constructors</li>\n</ul>\n<p>service layer:</p>\n<pre><code>@Service\npublic class JobServiceImpl implements JobService {\n\n    @Autowired\n    private JobRepository repository;\n\n    @Override\n    public Job saveJob(Job job) {\n\n        return repository.save(job);\n    }\n\n\n    @Override\n    public Job getJobById(Long id) throws JobNotFoundException {\n\n        Optional&lt;Job&gt; optional = repository.findById(id);\n\n        if (optional.isPresent()) {\n            return optional.get();\n        } else {\n            throw new JobNotFoundException(&quot;Job with id: &quot; + id + &quot; not found &quot;);\n        }\n\n    }\n\n    @Override\n    public void deleteJobById(Long id) throws JobNotFoundException {\n        repository.delete(getJobById(id));\n\n    }\n\n    @Override\n    public void updateJob(Job job) {\n\n        repository.save(job);\n    }\n</code></pre>\n<p>controller methods :</p>\n<pre><code>@GetMapping(&quot;/edit&quot;)\n    public String getEditPage(Model model, RedirectAttributes attributes, @RequestParam Long id) {\n        String page = null;\n        initModel(model);\n        try {\n            Job job = service.getJobById(id);\n            model.addAttribute(&quot;job&quot;, job);\n            page = &quot;editJobPage&quot;;\n        } catch (JobNotFoundException e) {\n            e.printStackTrace();\n            attributes.addAttribute(&quot;message&quot;, e.getMessage());\n            page = &quot;redirect:getAllJobs&quot;;\n        }\n        return page;\n    }\n\n    @PostMapping(&quot;/edit&quot;)\n    public String updateJob(@ModelAttribute Job job, Model model, RedirectAttributes attributes) {\n        initModel(model);\n        service.updateJob(job);\n        Long id = job.getId();\n        attributes.addAttribute(&quot;message&quot;, &quot;Job advertisement with id: '&quot; + id + &quot;' is updated successfully !&quot;);\n        return &quot;redirect:getAllJobs&quot;;\n    }\n</code></pre>\n<p>and view layer:</p>\n<pre><code>&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n&lt;link rel=&quot;stylesheet&quot;\n    href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css&quot; /&gt;\n&lt;script\n    src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n&lt;link rel=&quot;stylesheet&quot;\n    href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;col-md-12&quot;&gt;\n        &lt;div class=&quot;container&quot;&gt;\n\n            &lt;div class=&quot;card&quot;&gt;\n                &lt;div class=&quot;card-header text-center text-black&quot;&gt;\n                    &lt;h3&gt;Edit advertisement&lt;/h3&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;card-body&quot;&gt;\n                    &lt;form action=&quot;/job/edit&quot; th:action=&quot;@{/job/edit}&quot; th:object=&quot;${job}&quot;\n                        method=&quot;POST&quot; id=&quot;editJobPage&quot;&gt;\n                        &lt;div class=&quot;row&quot;&gt;\n                            &lt;div class=&quot;col-2&quot;&gt;\n                                &lt;label for=&quot;title&quot;&gt;&lt;b&gt;Title&lt;/b&gt;&lt;/label&gt;\n                                \n                            &lt;/div&gt;\n                            &lt;div class=&quot;col-6&quot;&gt;\n                                &lt;input type=&quot;text&quot; class=&quot;form-control&quot;\n                                    name=&quot;title&quot; th:field=&quot;*{title}&quot;&gt;&lt;br /&gt;\n                            \n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;br /&gt;\n                        &lt;div class=&quot;row&quot;&gt;\n                            &lt;div class=&quot;col-2&quot;&gt;\n                                &lt;label for=&quot;location&quot;&gt;&lt;b&gt;Location&lt;/b&gt;&lt;/label&gt;\n                            &lt;/div&gt;\n                            &lt;select id=&quot;location&quot; name=&quot;location&quot;&gt;\n                                &lt;option value=&quot;&quot; disabled selected&gt;Select location&lt;/option&gt;\n                                &lt;option th:each=&quot;location : ${locationsList}&quot;\n                                    th:text=&quot;${location}&quot; /&gt;\n                            &lt;/select&gt; \n                            \n\n                        &lt;/div&gt;\n                        &lt;br /&gt;\n                        &lt;div class=&quot;row&quot;&gt;\n                            &lt;div class=&quot;col-2&quot;&gt;\n                                &lt;label for=&quot;description&quot;&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/label&gt;\n                            &lt;/div&gt;\n                            &lt;div class=&quot;col-6&quot;&gt;\n                                &lt;textarea class=&quot;form-control&quot; rows=&quot;3&quot; \n                                     name=&quot;description&quot;\n                                    th:field=&quot;*{description}&quot;&gt;&lt;/textarea&gt;\n                                &lt;br /&gt;\n                    \n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;br /&gt;\n                        &lt;div class=&quot;row&quot;&gt;\n                            &lt;div class=&quot;col-2&quot;&gt;\n                                &lt;label for=&quot;profession&quot;&gt;&lt;b&gt;Profession&lt;/b&gt;&lt;/label&gt;\n                            &lt;/div&gt;\n                            &lt;select name=&quot;profession&quot;&gt;\n                                &lt;option value=&quot;&quot; disabled selected&gt;Select profession&lt;/option&gt;\n                                &lt;option th:each=&quot;profession : ${professionsList}&quot;\n                                    th:text=&quot;${profession}&quot; /&gt;\n\n                            &lt;/select&gt;\n                    \n\n                        &lt;/div&gt;\n                        &lt;br /&gt;\n                        &lt;div class=&quot;row&quot;&gt;\n                            &lt;div class=&quot;col-2&quot;&gt;\n                                &lt;label for=&quot;status&quot;&gt;&lt;b&gt;Status&lt;/b&gt;&lt;/label&gt;\n                            &lt;/div&gt;\n                            &lt;select name=&quot;status&quot;&gt;\n                                &lt;option value=&quot;&quot; disabled selected&gt;Select status&lt;/option&gt;\n                                &lt;option th:each=&quot;status : ${statusList}&quot; th:text=&quot;${status}&quot; /&gt;\n\n                            &lt;/select&gt;\n                    \n\n                        &lt;/div&gt;\n                        &lt;br /&gt;\n\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;\n                            Update Advertisement &lt;i class=&quot;fa fa-plus-square&quot;\n                                aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;\n                        &lt;/button&gt;\n                        \n                    &lt;/form&gt;\n                &lt;/div&gt;\n                &lt;div th:if=&quot;${message!=null}&quot; class=&quot;card-footer bg-white text-info&quot;&gt;\n                    &lt;span th:text=&quot;${message}&quot;&gt;&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>New error :</p>\n<pre><code>2022-05-07 15:51:48.027 DEBUG 29284 --- [nio-8080-exec-7] org.hibernate.SQL                        : select job0_.id as id1_0_0_, job0_.description as descript2_0_0_, job0_.location as location3_0_0_, job0_.profession as professi4_0_0_, job0_.publish_date as publish_5_0_0_, job0_.status as status6_0_0_, job0_.title as title7_0_0_ from job job0_ where job0_.id=?\n2022-05-07 15:51:48.027 TRACE 29284 --- [nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [0]\ncom.example.job.advertisements.web.app.exceptionHandler.JobNotFoundException: Job with id: 0 not found \n    at com.example.job.advertisements.web.app.service.JobServiceImpl.getJobById(JobServiceImpl.java:39)\n    at com.example.job.advertisements.web.app.service.JobServiceImpl.updateJob(JobServiceImpl.java:53)\n    at com.example.job.advertisements.web.app.controller.JobController.updateJob(JobController.java:132)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n2022-05-07 15:51:48.049 DEBUG 29284 --- [nio-8080-exec-8] org.hibernate.SQL                        : select job0_.id as id1_0_, job0_.description as descript2_0_, job0_.location as location3_0_, job0_.profession as professi4_0_, job0_.publish_date as publish_5_0_, job0_.status as status6_0_, job0_.title as title7_0_ from job job0_\n2022-05-07 15:51:48.050 TRACE 29284 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([id1_0_] : [BIGINT]) - [1]\n</code></pre>\n"},{"tags":["javascript","java","html","angularjs","thymeleaf"],"comments":[{"owner":{"account_id":3193004,"reputation":2220,"user_id":2696865,"accept_rate":86,"display_name":"Laurent B"},"score":0,"creation_date":1517392639,"post_id":48539210,"comment_id":84073505,"body_markdown":"use push or pull request.","body":"use push or pull request."},{"owner":{"account_id":8626960,"reputation":11,"user_id":6459896,"display_name":"Gerhard van Zyl"},"score":0,"creation_date":1517414583,"post_id":48539210,"comment_id":84088482,"body_markdown":"@LaurentB but wouldnt eat resources doing constant requests?","body":"@LaurentB but wouldnt eat resources doing constant requests?"},{"owner":{"account_id":3193004,"reputation":2220,"user_id":2696865,"accept_rate":86,"display_name":"Laurent B"},"score":0,"creation_date":1517472016,"post_id":48539210,"comment_id":84111460,"body_markdown":"Well at some point you got to use some resource. Be it a permanent connection for server push or frequent updates (at an interval of your choice) for pull request.","body":"Well at some point you got to use some resource. Be it a permanent connection for server push or frequent updates (at an interval of your choice) for pull request."},{"owner":{"account_id":11313787,"reputation":946,"user_id":8296184,"display_name":"virgiliogm"},"score":0,"creation_date":1559729695,"post_id":48539210,"comment_id":99508687,"body_markdown":"If you do not want the client to call the server, you must use push notifications or sockets to communicate from server to client.","body":"If you do not want the client to call the server, you must use push notifications or sockets to communicate from server to client."}],"answers":[{"tags":[],"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651939037,"creation_date":1651939037,"answer_id":72154184,"question_id":48539210,"body_markdown":"I would consider using SSE (Server-SentEvents) described for [example on baeldung][1].\r\n\r\n    @GetMapping(path = &quot;/stream-flux&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;String&gt; streamFlux() {\r\n        return Flux.interval(Duration.ofSeconds(1))\r\n          .map(sequence -&gt; &quot;Flux - &quot; + LocalTime.now().toString());\r\n    }\r\n\r\n\r\nPS: There is also websocket technology suitable for this need, but it does not support HTTP 2 and SSE is more suitable for such one way update.\r\n\r\n  [1]: https://www.baeldung.com/spring-server-sent-events\r\n","title":"Live interaction between Frontend and backend","body":"<p>I would consider using SSE (Server-SentEvents) described for <a href=\"https://www.baeldung.com/spring-server-sent-events\" rel=\"nofollow noreferrer\">example on baeldung</a>.</p>\n<pre><code>@GetMapping(path = &quot;/stream-flux&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;String&gt; streamFlux() {\n    return Flux.interval(Duration.ofSeconds(1))\n      .map(sequence -&gt; &quot;Flux - &quot; + LocalTime.now().toString());\n}\n</code></pre>\n<p>PS: There is also websocket technology suitable for this need, but it does not support HTTP 2 and SSE is more suitable for such one way update.</p>\n"}],"owner":{"account_id":8626960,"reputation":11,"user_id":6459896,"display_name":"Gerhard van Zyl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651939037,"creation_date":1517392506,"question_id":48539210,"body_markdown":"I&#39;m busy making a controller website where I switch relays on and off.\r\nMy switching has a schedule on so it can be activated without human interaction.\r\nmy question is how can I do a live update on my HTML frontend, if the scheduler activates a switch, to show the user the switch is active without needing to refresh the page?\r\n\r\nI have a basic spring boot application with tomcat angularjs and thymeleaf","title":"Live interaction between Frontend and backend","body":"<p>I'm busy making a controller website where I switch relays on and off.\nMy switching has a schedule on so it can be activated without human interaction.\nmy question is how can I do a live update on my HTML frontend, if the scheduler activates a switch, to show the user the switch is active without needing to refresh the page?</p>\n\n<p>I have a basic spring boot application with tomcat angularjs and thymeleaf</p>\n"},{"tags":["java","spring","algorithm","rethinkdb"],"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651938913,"creation_date":1651938913,"question_id":72154167,"body_markdown":"I am working on think, which should be &quot;live&quot;. I.e. use web-sockets or SSE to show current data in browser. Source of my data are two and they should be combined with a bit of business logic. Data can be retrieved using http get and they also come as web-hook notifications.\r\n\r\nI am able to code needed thing in java + spring, but readability would suffer. I have discovered that using [RethinkDB][1] would make my task much more easier. But it seems that given [project is not backed by live development][2].\r\n\r\n**I would like any java idiomatic approach / library / external SW (like database) to make easy (maintainable ~= less code) algorithm which would for example do thing like this**:\r\n\r\n2 inputs:\r\n* filesystem tree (git repo)\r\n* list of trees with some processing info in it. Each tree in list does contain:\r\n  * root node with some irrelevant info\r\n  * some number of children nodes\r\n  * leaf nodes with filename from filesystem (with path), duration of action with file and status of file processing\r\n\r\nNote: second input can contain for example 20 trees, where it have info about processing single file from filesystem tree 20 times. i.e. it is possible that for getting info about some particular file, we will need to crawl whole list of trees and there is no guarantee that file will have any matching processing info in second input. In this case, we will output &quot;N/A&quot; to resulting tree for given file.\r\n\r\nI would like to transform these two inputs to another tree, which will have structure like first input and will contain info about last status (last from array) and sum of duration.\r\n\r\nMy current approach was not reactive. It have involved a lot of java stream api and using http GET to get actual data from two sources. It was working ok, it was fast enough, but not enough to introduce pooling and make user feel that it is real time.\r\n\r\nTo make this reactive, it would involve a lot of spaghetti code to keep current algorithms in place. so I have started another approach (from scratch).\r\n\r\nI have started to make some nice OOP class, which will receive changes from both inputs and will produce &quot;observable&quot; changes as an output. This would be relatively nice, if my &quot;query&quot;, which computes output would be immutable. It is not, due to design changes of business logic.\r\n\r\nCan you point me to some approach making this problem implementation easy to maintain?\r\n\r\nPS: I was considering using spring cache mechanism for receiving changes (caching methods which make http get calls for inputs and returns parsed, partly processed, input data). But this part of code is a bit small to mane any difference.\r\n\r\n  [1]: https://rethinkdb.com/\r\n  [2]: https://github.com/rethinkdb/rethinkdb/issues/6981","title":"Live queries implementation / aproaches in backend","body":"<p>I am working on think, which should be &quot;live&quot;. I.e. use web-sockets or SSE to show current data in browser. Source of my data are two and they should be combined with a bit of business logic. Data can be retrieved using http get and they also come as web-hook notifications.</p>\n<p>I am able to code needed thing in java + spring, but readability would suffer. I have discovered that using <a href=\"https://rethinkdb.com/\" rel=\"nofollow noreferrer\">RethinkDB</a> would make my task much more easier. But it seems that given <a href=\"https://github.com/rethinkdb/rethinkdb/issues/6981\" rel=\"nofollow noreferrer\">project is not backed by live development</a>.</p>\n<p><strong>I would like any java idiomatic approach / library / external SW (like database) to make easy (maintainable ~= less code) algorithm which would for example do thing like this</strong>:</p>\n<p>2 inputs:</p>\n<ul>\n<li>filesystem tree (git repo)</li>\n<li>list of trees with some processing info in it. Each tree in list does contain:\n<ul>\n<li>root node with some irrelevant info</li>\n<li>some number of children nodes</li>\n<li>leaf nodes with filename from filesystem (with path), duration of action with file and status of file processing</li>\n</ul>\n</li>\n</ul>\n<p>Note: second input can contain for example 20 trees, where it have info about processing single file from filesystem tree 20 times. i.e. it is possible that for getting info about some particular file, we will need to crawl whole list of trees and there is no guarantee that file will have any matching processing info in second input. In this case, we will output &quot;N/A&quot; to resulting tree for given file.</p>\n<p>I would like to transform these two inputs to another tree, which will have structure like first input and will contain info about last status (last from array) and sum of duration.</p>\n<p>My current approach was not reactive. It have involved a lot of java stream api and using http GET to get actual data from two sources. It was working ok, it was fast enough, but not enough to introduce pooling and make user feel that it is real time.</p>\n<p>To make this reactive, it would involve a lot of spaghetti code to keep current algorithms in place. so I have started another approach (from scratch).</p>\n<p>I have started to make some nice OOP class, which will receive changes from both inputs and will produce &quot;observable&quot; changes as an output. This would be relatively nice, if my &quot;query&quot;, which computes output would be immutable. It is not, due to design changes of business logic.</p>\n<p>Can you point me to some approach making this problem implementation easy to maintain?</p>\n<p>PS: I was considering using spring cache mechanism for receiving changes (caching methods which make http get calls for inputs and returns parsed, partly processed, input data). But this part of code is a bit small to mane any difference.</p>\n"},{"tags":["java","printf"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1651937149,"post_id":72153857,"comment_id":127486515,"body_markdown":"What first come to mind is...Why? What are you actually trying to display? I **think** what you want is `%-10.2f`.","body":"What first come to mind is...Why? What are you actually trying to display? I <b>think</b> what you want is <code>%-10.2f</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1651937157,"post_id":72153857,"comment_id":127486518,"body_markdown":"Can you show your desired output?","body":"Can you show your desired output?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1651937252,"post_id":72153857,"comment_id":127486559,"body_markdown":"Use one directive: `%10.2f`","body":"Use one directive: <code>%10.2f</code>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1651937267,"post_id":72153857,"comment_id":127486567,"body_markdown":"What do you mean by &quot;multiple modifiers for one variable&quot;? The output for a single variable can only be formatted in one way and has only one type. Do you actually mean you want `price` to be a float w/ leading spaces at a given width?","body":"What do you mean by &quot;multiple modifiers for one variable&quot;? The output for a single variable can only be formatted in one way and has only one type. Do you actually mean you want <code>price</code> to be a float w/ leading spaces at a given width?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651937296,"post_id":72153857,"comment_id":127486575,"body_markdown":"You know you can use the same variable more than once..?","body":"You know you can use the same variable more than once..?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1651937865,"creation_date":1651937865,"answer_id":72154000,"question_id":72153857,"body_markdown":"It&#39;s not entirely clear what you want to do.\r\n\r\n## Print a number, but expanded to at least 10 &#39;width&#39;\r\n If you want to combine the idea of `%.2f` (as in, round down to 2 digits &#39;after the comma&#39;), and the idea of &#39;this should take up 10 width; if it is less than that, add spaces. If it is more, oof, well, okay, it&#39;ll look bad, but then just print more - then, what you&#39;re looking for `%10.2f` - each &#39;letter&#39; (`%f`, `%s`, etc) has its own set of modifiers, and the modifiers are completely independent (though there are trends). The `10` in `%10s` applies specifically to string formatting, you can&#39;t tell java: Can you apply this principle (of adding spaces to ensure it always occupies at least 10 width) - but to this completely different formatting letter?\r\n\r\nBut, the `%f` formatter also has a width (in fact, they pretty much all day), so use its &#39;width-setting&#39; feature: `%10.2f`.\r\n\r\n`%10.2f` means:\r\n\r\nFormat a numeric value. If the value as printed would have more than 2 digits in the fractional section, then round it so that it has 2 digits as a fraction instead; if it has less, use less. In addition, if the complete string (_including_ the fraction part, and the comma) is less than 10 characters long, add spaces to the left side (so that it is right-aligned), so that it is at least 10. If it&#39;s more, then it&#39;s more, don&#39;t try to lop off anything.\r\n\r\nYou may think that `10.2` would mean: 10 digits, then a comma, then 2 more digits. It does not.\r\n\r\n## I want to use the same argument more than once in the format string\r\n\r\nPerhaps instead you meant: I want one input (say, `price`) to be used twice in a row. This comes up a lot in date formatting (but, formatting dates with format is weird, so it doesn&#39;t come up a lot). The `&lt;` and `1$` options exist for this purpose. Example:\r\n\r\n```\r\nSystem.out.format(&quot;Your birthday is on: %tY-%tm-%te\\n&quot;, birthday, birthday, birthday);\r\n```\r\n\r\n`%tY` prints the year of the argument, tm the month, te the date. However, it&#39;s really annoying that we have to pass birthday 3 times in a row. We can fix this:\r\n\r\n```\r\nSystem.out.format(&quot;Your birthday is on: %tY-%&lt;tm-%&lt;te\\n&quot;, birthday);\r\n// -OR -\r\nSystem.out.format(&quot;Your birthday is on: %tY-%1$tm-%1$te\\n&quot;, birthday);\r\n```\r\n\r\nThe `&lt;` means: Re-use the same argument. `1$` means: Use the first argument (`2$`, etc, work just as well). Hence, the above 2 lines produce an identical result.\r\n\r\nThe [docs](https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html) cover all this in excruciating detail. Next time you have questions, it&#39;s generally a good plan to look up the javadoc, read that and follow any links it offers, and only if you&#39;re still confused, search the web generally, and only then, if you can&#39;t find anything, ask questions on SO.\r\n","title":"Java multiple modifiers to printformat one variable","body":"<p>It's not entirely clear what you want to do.</p>\n<h2>Print a number, but expanded to at least 10 'width'</h2>\n<p>If you want to combine the idea of <code>%.2f</code> (as in, round down to 2 digits 'after the comma'), and the idea of 'this should take up 10 width; if it is less than that, add spaces. If it is more, oof, well, okay, it'll look bad, but then just print more - then, what you're looking for <code>%10.2f</code> - each 'letter' (<code>%f</code>, <code>%s</code>, etc) has its own set of modifiers, and the modifiers are completely independent (though there are trends). The <code>10</code> in <code>%10s</code> applies specifically to string formatting, you can't tell java: Can you apply this principle (of adding spaces to ensure it always occupies at least 10 width) - but to this completely different formatting letter?</p>\n<p>But, the <code>%f</code> formatter also has a width (in fact, they pretty much all day), so use its 'width-setting' feature: <code>%10.2f</code>.</p>\n<p><code>%10.2f</code> means:</p>\n<p>Format a numeric value. If the value as printed would have more than 2 digits in the fractional section, then round it so that it has 2 digits as a fraction instead; if it has less, use less. In addition, if the complete string (<em>including</em> the fraction part, and the comma) is less than 10 characters long, add spaces to the left side (so that it is right-aligned), so that it is at least 10. If it's more, then it's more, don't try to lop off anything.</p>\n<p>You may think that <code>10.2</code> would mean: 10 digits, then a comma, then 2 more digits. It does not.</p>\n<h2>I want to use the same argument more than once in the format string</h2>\n<p>Perhaps instead you meant: I want one input (say, <code>price</code>) to be used twice in a row. This comes up a lot in date formatting (but, formatting dates with format is weird, so it doesn't come up a lot). The <code>&lt;</code> and <code>1$</code> options exist for this purpose. Example:</p>\n<pre><code>System.out.format(&quot;Your birthday is on: %tY-%tm-%te\\n&quot;, birthday, birthday, birthday);\n</code></pre>\n<p><code>%tY</code> prints the year of the argument, tm the month, te the date. However, it's really annoying that we have to pass birthday 3 times in a row. We can fix this:</p>\n<pre><code>System.out.format(&quot;Your birthday is on: %tY-%&lt;tm-%&lt;te\\n&quot;, birthday);\n// -OR -\nSystem.out.format(&quot;Your birthday is on: %tY-%1$tm-%1$te\\n&quot;, birthday);\n</code></pre>\n<p>The <code>&lt;</code> means: Re-use the same argument. <code>1$</code> means: Use the first argument (<code>2$</code>, etc, work just as well). Hence, the above 2 lines produce an identical result.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">docs</a> cover all this in excruciating detail. Next time you have questions, it's generally a good plan to look up the javadoc, read that and follow any links it offers, and only if you're still confused, search the web generally, and only then, if you can't find anything, ask questions on SO.</p>\n"}],"owner":{"account_id":22735292,"reputation":3,"user_id":16898577,"display_name":"R1lax"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72154000,"answer_count":1,"score":0,"last_activity_date":1651937865,"creation_date":1651936862,"question_id":72153857,"body_markdown":"I want to print a string for a table, but multiple modifiers are needed for one variable\r\n\r\n        System.out.format(&quot;%-3s %-20s %-12s %-6s %.2f %-9s\\n&quot;,\r\n                id, city, date, days, price, vehicle);\r\n    }\r\n\r\ni want something like this\r\n\r\n        System.out.format(&quot;%-3s %-20s %-12s %-6s %.2f%10s %-9s\\n&quot;,\r\n                id, city, date, days, price, vehicle);\r\n    }\r\n\r\nbut it throws an error because it thinks that the argument will not have 6 but 7 values\r\n","title":"Java multiple modifiers to printformat one variable","body":"<p>I want to print a string for a table, but multiple modifiers are needed for one variable</p>\n<pre><code>    System.out.format(&quot;%-3s %-20s %-12s %-6s %.2f %-9s\\n&quot;,\n            id, city, date, days, price, vehicle);\n}\n</code></pre>\n<p>i want something like this</p>\n<pre><code>    System.out.format(&quot;%-3s %-20s %-12s %-6s %.2f%10s %-9s\\n&quot;,\n            id, city, date, days, price, vehicle);\n}\n</code></pre>\n<p>but it throws an error because it thinks that the argument will not have 6 but 7 values</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1651936711,"post_id":72153813,"comment_id":127486390,"body_markdown":"With `for (int i = 0; i &lt; data.length; i++) { if (data[i + 1] &lt; data[i])`, `i+1` is outside of the array for the iteration of your loop (because it will be equal to `data.length` and the last valid index in your array is `data.length - 1`)","body":"With <code>for (int i = 0; i &lt; data.length; i++) { if (data[i + 1] &lt; data[i])</code>, <code>i+1</code> is outside of the array for the iteration of your loop (because it will be equal to <code>data.length</code> and the last valid index in your array is <code>data.length - 1</code>)"}],"answers":[{"tags":[],"owner":{"account_id":13080555,"reputation":121,"user_id":9451262,"display_name":"M&#252;seyib Ələkbər"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651936887,"creation_date":1651936887,"answer_id":72153860,"question_id":72153813,"body_markdown":"When &quot;i&quot; reaches last index, &quot;i+1&quot; is out of array length. Try this one:\r\n\r\n    public static int Sorted(int[] data) {\r\n        if (data == null)\r\n            return -1;\r\n        for (int i = 0; i &lt; data.length - 1; i++) {\r\n            if (data[i + 1] &lt; data[i])\r\n                return (i + 1);\r\n        }\r\n        return -1;\r\n    }","title":"java.lang.ArrayIndexOutOfBoundsException - Index 4 out of Bounds for Length 4","body":"<p>When &quot;i&quot; reaches last index, &quot;i+1&quot; is out of array length. Try this one:</p>\n<pre><code>public static int Sorted(int[] data) {\n    if (data == null)\n        return -1;\n    for (int i = 0; i &lt; data.length - 1; i++) {\n        if (data[i + 1] &lt; data[i])\n            return (i + 1);\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651937696,"creation_date":1651937696,"answer_id":72153973,"question_id":72153813,"body_markdown":"In java, the indexes for n-length array are {0,...n-1}.\r\n\r\nIn your if statement `if (data[i + 1] &lt; data[i])` , you exceed this n-1.\r\n\r\nThe reason is the following: For i variable, you iterate {0,...,n-1} which means, for i+1, you iterate {1,...,n}. When you try to access data[i + 1] for i+ 1 = n, you get out of the indexes and the computer says: Hey, there is no n-th element!\r\n\r\nTo summarize, you should not compare the last(n-1 th) element with n-th(that does not exist) element. You should iterate your i for {0,...,n-2}.\r\n\r\nTherefore, you should change your for loop as:\r\n\r\n    for (int i = 0; i &lt; data.length - 1; i++) {\r\n            if (data[i + 1] &lt; data[i])\r\n                return (i + 1);\r\n    }\r\n\r\n","title":"java.lang.ArrayIndexOutOfBoundsException - Index 4 out of Bounds for Length 4","body":"<p>In java, the indexes for n-length array are {0,...n-1}.</p>\n<p>In your if statement <code>if (data[i + 1] &lt; data[i])</code> , you exceed this n-1.</p>\n<p>The reason is the following: For i variable, you iterate {0,...,n-1} which means, for i+1, you iterate {1,...,n}. When you try to access data[i + 1] for i+ 1 = n, you get out of the indexes and the computer says: Hey, there is no n-th element!</p>\n<p>To summarize, you should not compare the last(n-1 th) element with n-th(that does not exist) element. You should iterate your i for {0,...,n-2}.</p>\n<p>Therefore, you should change your for loop as:</p>\n<pre><code>for (int i = 0; i &lt; data.length - 1; i++) {\n        if (data[i + 1] &lt; data[i])\n            return (i + 1);\n}\n</code></pre>\n"}],"owner":{"display_name":"user16392599"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651944647,"answer_count":2,"score":0,"last_activity_date":1651937696,"creation_date":1651936544,"question_id":72153813,"body_markdown":"Currently, I am getting an error for the following code. The error is Index 4 is out of bounds for length 4. Essentially what I am trying to do is return the first index of where data isn&#39;t sorted in ascending order. If the data is sorted the function returns the length of the array. An example being For example {10, 20, 90, 5, 70} would return 3 (90 &gt; 5). Then if data is invalid it returns -1. \r\n\r\n    \tpublic static int Sorted(int[] data) {\r\n\t\tif (data == null)\r\n\t\t\treturn -1;\r\n\t\tfor (int i = 0; i &lt; data.length; i++) {\r\n\t\t\tif (data[i + 1] &lt; data[i])\r\n\t\t\t\treturn (i + 1);\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\r\nThe test cases I am using are here below: \r\n\r\n    \t@Test\r\n\tpublic void testSorted() {\r\n\t\tassertEquals(-1, Stage1.partSorted(null));\r\n\t\tassertEquals(1, Stage1.partSorted(new int[] { 90, 20, 40, 100 }));\r\n\t\tassertEquals(4, Stage1.partSorted(new int[] { 10, 20, 40, 100 }));\r\n\t\tassertEquals(3, Stage1.partSorted(new int[] { 10, 20, 90, 70 }));\r\n\t\tassertEquals(4, Stage1.partSorted(new int[] { 20, 20, 30, 40, 5, 70, 90, 80 }));\r\n\r\nAny help or clues would be appreciated. ","title":"java.lang.ArrayIndexOutOfBoundsException - Index 4 out of Bounds for Length 4","body":"<p>Currently, I am getting an error for the following code. The error is Index 4 is out of bounds for length 4. Essentially what I am trying to do is return the first index of where data isn't sorted in ascending order. If the data is sorted the function returns the length of the array. An example being For example {10, 20, 90, 5, 70} would return 3 (90 &gt; 5). Then if data is invalid it returns -1.</p>\n<pre><code>    public static int Sorted(int[] data) {\n    if (data == null)\n        return -1;\n    for (int i = 0; i &lt; data.length; i++) {\n        if (data[i + 1] &lt; data[i])\n            return (i + 1);\n    }\n    return -1;\n}\n</code></pre>\n<p>The test cases I am using are here below:</p>\n<pre><code>    @Test\npublic void testSorted() {\n    assertEquals(-1, Stage1.partSorted(null));\n    assertEquals(1, Stage1.partSorted(new int[] { 90, 20, 40, 100 }));\n    assertEquals(4, Stage1.partSorted(new int[] { 10, 20, 40, 100 }));\n    assertEquals(3, Stage1.partSorted(new int[] { 10, 20, 90, 70 }));\n    assertEquals(4, Stage1.partSorted(new int[] { 20, 20, 30, 40, 5, 70, 90, 80 }));\n</code></pre>\n<p>Any help or clues would be appreciated.</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1651935566,"post_id":72153659,"comment_id":127486121,"body_markdown":"Why not simply call `toUpperCase` on the string before converting it into an enum?","body":"Why not simply call <code>toUpperCase</code> on the string before converting it into an enum?"},{"owner":{"account_id":1775998,"reputation":64,"user_id":1619786,"display_name":"WillSmith"},"score":0,"creation_date":1651935948,"post_id":72153659,"comment_id":127486221,"body_markdown":"Add property to enum (like String responseStatus) and replace ProjectStatus into  String in your Project class. And then match String with your Enum.","body":"Add property to enum (like String responseStatus) and replace ProjectStatus into  String in your Project class. And then match String with your Enum."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1651937130,"post_id":72153659,"comment_id":127486507,"body_markdown":"Can you make [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)? Also, which library are you using to deserialize, i suppose jackson?","body":"Can you make <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>? Also, which library are you using to deserialize, i suppose jackson?"}],"answers":[{"tags":[],"owner":{"account_id":25196903,"reputation":136,"user_id":19036320,"display_name":"Kirill Vizniuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651936357,"creation_date":1651936357,"answer_id":72153791,"question_id":72153659,"body_markdown":"Easies solution would be defining Value to what will be serialized via `@JsonValue` Annotation. Something along this lines\r\n```java\r\npublic enum MySuperEnum {\r\n    VALUE_1(&quot;value1&quot;, &quot;Value 1 Desc&quot;),\r\n    VALUE_2(&quot;valu2&quot;, &quot;Value 2 Desc&quot;),\r\n    VALUE_3(&quot;value3&quot;, &quot;Value 3 Desc&quot;)\r\n    ;\r\n\r\n    private final String code;\r\n    private final String desc;\r\n\r\n    MySuperEnum(String code, String desc){\r\n        this.code = code;\r\n        this.desc = desc;\r\n    }\r\n\r\n    @JsonValue\r\n    public String getCode() {\r\n        return code;\r\n    }\r\n\r\n    public String getDesc(){\r\n        return desc;\r\n    }\r\n}\r\n```","title":"Deserializing enum with lowercase - Java/Spring boot","body":"<p>Easies solution would be defining Value to what will be serialized via <code>@JsonValue</code> Annotation. Something along this lines</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum MySuperEnum {\n    VALUE_1(&quot;value1&quot;, &quot;Value 1 Desc&quot;),\n    VALUE_2(&quot;valu2&quot;, &quot;Value 2 Desc&quot;),\n    VALUE_3(&quot;value3&quot;, &quot;Value 3 Desc&quot;)\n    ;\n\n    private final String code;\n    private final String desc;\n\n    MySuperEnum(String code, String desc){\n        this.code = code;\n        this.desc = desc;\n    }\n\n    @JsonValue\n    public String getCode() {\n        return code;\n    }\n\n    public String getDesc(){\n        return desc;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651937501,"creation_date":1651937501,"answer_id":72153950,"question_id":72153659,"body_markdown":"I got it to work like this\r\n\r\n    public enum ProjectStatus {\r\n        I(&quot;I&quot;),\r\n        A(&quot;A&quot;),\r\n        C(&quot;C&quot;),\r\n        OPEN(&quot;Open&quot;),\r\n        CLOSED(&quot;Closed&quot;);\r\n\r\n        private String value;\r\n\r\n        ProjectStatus(String value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public String getValue() {\r\n            return this.value;\r\n        }\r\n\r\n        @JsonCreator\r\n        public static ProjectStatus fromString(String value) {\r\n            return ProjectStatus.valueOf(value.toUpperCase());\r\n        }\r\n    }","title":"Deserializing enum with lowercase - Java/Spring boot","body":"<p>I got it to work like this</p>\n<pre><code>public enum ProjectStatus {\n    I(&quot;I&quot;),\n    A(&quot;A&quot;),\n    C(&quot;C&quot;),\n    OPEN(&quot;Open&quot;),\n    CLOSED(&quot;Closed&quot;);\n\n    private String value;\n\n    ProjectStatus(String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return this.value;\n    }\n\n    @JsonCreator\n    public static ProjectStatus fromString(String value) {\n        return ProjectStatus.valueOf(value.toUpperCase());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1046,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651937501,"creation_date":1651935355,"question_id":72153659,"body_markdown":"I&#39;ve a Project class with these attributes\r\n\r\n    private String id;\r\n    private String name;\r\n    private ProjectStatus status;\r\n\r\nProjectstatus is an enum like this:\r\n\r\n    public enum ProjectStatus {\r\n        I,\r\n        A,\r\n        C,\r\n        OPEN,\r\n        CLOSED\r\n    }\r\n\r\nI&#39;m calling a remote rest service which responds with json to pull information about the project.\r\n\r\nThe issue I&#39;m having is that the status in the remote service payload is &#39;Open&#39; which causes an issue while trying to create the Project object as the status in my ProjectStatus enum is OPEN, all uppercase.\r\n\r\nI could create the ProjectStatus like this to match the response from the service:\r\n\r\n    public enum ProjectStatus {\r\n        I,\r\n        A,\r\n        C,\r\n        Open,\r\n        Closed\r\n    }\r\n\r\nHowever, I&#39;d be violating the standard to name enums.\r\n\r\nI&#39;ve also tried to do the following without success\r\n\r\n    public enum ProjectStatus {\r\n        I,\r\n        A,\r\n        C,\r\n        OPEN(&quot;Open&quot;),\r\n        CLOSED(&quot;Closed&quot;)\r\n    }\r\n\r\nWhat&#39;s the right way to go here?","title":"Deserializing enum with lowercase - Java/Spring boot","body":"<p>I've a Project class with these attributes</p>\n<pre><code>private String id;\nprivate String name;\nprivate ProjectStatus status;\n</code></pre>\n<p>Projectstatus is an enum like this:</p>\n<pre><code>public enum ProjectStatus {\n    I,\n    A,\n    C,\n    OPEN,\n    CLOSED\n}\n</code></pre>\n<p>I'm calling a remote rest service which responds with json to pull information about the project.</p>\n<p>The issue I'm having is that the status in the remote service payload is 'Open' which causes an issue while trying to create the Project object as the status in my ProjectStatus enum is OPEN, all uppercase.</p>\n<p>I could create the ProjectStatus like this to match the response from the service:</p>\n<pre><code>public enum ProjectStatus {\n    I,\n    A,\n    C,\n    Open,\n    Closed\n}\n</code></pre>\n<p>However, I'd be violating the standard to name enums.</p>\n<p>I've also tried to do the following without success</p>\n<pre><code>public enum ProjectStatus {\n    I,\n    A,\n    C,\n    OPEN(&quot;Open&quot;),\n    CLOSED(&quot;Closed&quot;)\n}\n</code></pre>\n<p>What's the right way to go here?</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"score":0,"creation_date":1651936733,"post_id":72153709,"comment_id":127486396,"body_markdown":"FirebaseAuthException does not have a `getInstance()` method. What are you attempting to do?","body":"FirebaseAuthException does not have a <code>getInstance()</code> method. What are you attempting to do?"},{"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"score":0,"creation_date":1651937129,"post_id":72153709,"comment_id":127486506,"body_markdown":"fAuth.createUserWithEmailAndPassword() doesnt work too, maybe i have to import something else?","body":"fAuth.createUserWithEmailAndPassword() doesnt work too, maybe i have to import something else?"}],"answers":[{"tags":[],"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651937470,"creation_date":1651937470,"answer_id":72153946,"question_id":72153709,"body_markdown":"It looks like you should be using `FirebaseAuth` instead of `FirebaseAuthException`. Use `FirebaseAuth.getInstance()` to obtain a reference to the `FirebaseAuth` object to then make subsequent calls like `createUserWithEmailAndPassword()` on.","title":"Getting error - Cannot resolve method &#39;getInstance&#39; in &#39;FirebaseAuthException&#39;","body":"<p>It looks like you should be using <code>FirebaseAuth</code> instead of <code>FirebaseAuthException</code>. Use <code>FirebaseAuth.getInstance()</code> to obtain a reference to the <code>FirebaseAuth</code> object to then make subsequent calls like <code>createUserWithEmailAndPassword()</code> on.</p>\n"}],"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651937470,"creation_date":1651935734,"question_id":72153709,"body_markdown":"Getting error when trying to fAuth = FirebaseAuthException.getInstance();\r\n\r\n\r\n```\r\npublic class Register extends AppCompatActivity {\r\n    FirebaseAuthException fAuth;\r\n    FirebaseDatabase db;\r\n    DatabaseReference users;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n\r\n        fAuth = FirebaseAuthException.getInstance();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","title":"Getting error - Cannot resolve method &#39;getInstance&#39; in &#39;FirebaseAuthException&#39;","body":"<p>Getting error when trying to fAuth = FirebaseAuthException.getInstance();</p>\n<pre><code>public class Register extends AppCompatActivity {\n    FirebaseAuthException fAuth;\n    FirebaseDatabase db;\n    DatabaseReference users;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n\n        fAuth = FirebaseAuthException.getInstance();\n    }\n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","memory","jvm","heap-memory","stack-memory"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":3,"creation_date":1311437782,"post_id":6801676,"comment_id":8074862,"body_markdown":"Related: http://stackoverflow.com/questions/4848669/perm-space-vs-heap-space, http://stackoverflow.com/questions/1279449/what-is-perm-space","body":"Related: <a href=\"http://stackoverflow.com/questions/4848669/perm-space-vs-heap-space\" title=\"perm space vs heap space\">stackoverflow.com/questions/4848669/perm-space-vs-heap-space</a>&zwnj;&#8203;, <a href=\"http://stackoverflow.com/questions/1279449/what-is-perm-space\">stackoverflow.com/questions/1279449/what-is-perm-space</a>"},{"owner":{"display_name":"user395760"},"score":1,"creation_date":1311437835,"post_id":6801676,"comment_id":8074868,"body_markdown":"[The stack is an implementation detail](http://blogs.msdn.com/b/ericlippert/archive/2009/04/27/the-stack-is-an-implementation-detail.aspx). May not be just as important for Java since it lacks user-defined value types, but still an important read for everyone working in a garbage-collected language.","body":"<a href=\"http://blogs.msdn.com/b/ericlippert/archive/2009/04/27/the-stack-is-an-implementation-detail.aspx\" rel=\"nofollow noreferrer\">The stack is an implementation detail</a>. May not be just as important for Java since it lacks user-defined value types, but still an important read for everyone working in a garbage-collected language."},{"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"score":0,"creation_date":1311438085,"post_id":6801676,"comment_id":8074907,"body_markdown":"other JVM languages use the same standard?","body":"other JVM languages use the same standard?"},{"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"score":1,"creation_date":1311565387,"post_id":6801676,"comment_id":8089908,"body_markdown":"Also of note, not all JVMs use PermSpace.","body":"Also of note, not all JVMs use PermSpace."},{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1311856714,"post_id":6801676,"comment_id":8157323,"body_markdown":"All JVM languages use the same standard, it has nothing to do with the language it *is teh JVM!!* that is divided into heap and stack space and the heap space is divided into younger and older generations and perm gen.","body":"All JVM languages use the same standard, it has nothing to do with the language it <i>is teh JVM!!</i> that is divided into heap and stack space and the heap space is divided into younger and older generations and perm gen."}],"answers":[{"tags":[],"owner":{"account_id":241111,"reputation":8151,"user_id":511736,"accept_rate":90,"display_name":"Kowser"},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1311445166,"creation_date":1311439601,"answer_id":6801838,"question_id":6801676,"body_markdown":"Simply\r\n\r\n - Heap space: All live objects are allocated here.\r\n - Stack space: Stores references to the object for variable in method call or variable instantiation.\r\n - Perm space: Stores loaded classes information\r\n\r\nFor example:\r\n\r\n    Student std = new Student();\r\n\r\nafter executing the line above memory status will be like this.\r\n\r\n - Heap: stores &quot;new Student()&quot;\r\n - Stack: stores information about &quot;std&quot;\r\n - Perm Space: stores information about Student class\r\n","title":"Heap vs Stack vs Perm Space","body":"<p>Simply</p>\n\n<ul>\n<li>Heap space: All live objects are allocated here.</li>\n<li>Stack space: Stores references to the object for variable in method call or variable instantiation.</li>\n<li>Perm space: Stores loaded classes information</li>\n</ul>\n\n<p>For example:</p>\n\n<pre><code>Student std = new Student();\n</code></pre>\n\n<p>after executing the line above memory status will be like this.</p>\n\n<ul>\n<li>Heap: stores \"new Student()\"</li>\n<li>Stack: stores information about \"std\"</li>\n<li>Perm Space: stores information about Student class</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":960314,"reputation":20995,"user_id":984830,"accept_rate":93,"display_name":"Nick Cardoso"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1504993384,"creation_date":1504993384,"answer_id":46135368,"question_id":6801676,"body_markdown":"Forgive me for adding an answer to such an old question - The current answer is great, but misses a couple of edge cases because of static code and Java 8 updates. \r\n\r\n**Overview**\r\n\r\n- Stack \r\n  - Allocated per Thread\r\n  - Stores local references and primitives\r\n  - This is scoped memory - When a method or thread ends, all their data in the stack is lost\r\n  - Has the fastest access, so a local primitive is faster to use than a local Object\r\n- Heap\r\n  - All allocated object instances exist here\r\n  - Divided into Generations, with the youngest generation being the first place GC looks\r\n  - *Available to all threads so allocations and deallocations should be synchronised*\r\n  - This memory can become fragmented (*but you do not usually manage this yourself*)\r\n- PermGen\r\n  - Stores loaded class information\r\n  - Stores immutable information (Primatives, interned Strings)\r\n  - Stores static class [members][1]\r\n\r\n**Example Code**\r\n\r\n    public class SimpleVal { //The Class (loaded by a classloader) is in the PermGen\r\n \r\n        private static final int MAGIC_CONSTANT = 42; //Static fields are stored in PermGen\r\n        private static final SimpleVal INSTANCE = new SimpleVal(1); //Static field objects are created in the heap normally, with the reference in the PermGen (&#39;class statics&#39; moved to the heap from Java 7+)\r\n        private static SimpleVal previousInstance; //Mutable static fields also have their reference in PermGen so they can easily cause memory leaks\r\n        \r\n        private int value; //Member variables will be part of the heap\r\n\r\n        public SimpleVal(int realValue) {\r\n            value = realValue;\r\n            ...\r\n        }\r\n\r\n        public static int subtract(SimpleVal val1, SimpleVal val2) {\r\n             ....\r\n        }\r\n\r\n        public int add(SimpleVal other) { //Only one copy of any method (static or not) exists - in PermGen\r\n             int sum = value + other.value; //Local values in methods are placed in the Stack memory\r\n             return sum;\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n  \r\n        SimpleVal val1 = null;\r\n        SimpleVal val2 = new SimpleVal(3); //Both of these variables (references) are stored in the Stack \r\n\r\n        val1 = new SimpleVal(14); //The actual objects we create and add to the variables are placed in the Heap (app global memory, initially in the Young Gen space and later moved to old generation, unless they are very large they can immediately go old gen)\r\n\r\n        int prim = val1.add(val2); //primitive value is stored directly in the Stack memory\r\n        Integer boxed = new Integer(prim); //but the boxed object will be in the heap (with a reference (variable) in the Stack)\r\n\r\n        String message = &quot;The output is: &quot;; //In Java 7+ the string is created in the heap, in 6 and below it is created in the PermGen\r\n        System.out.println(message + prim);\r\n\r\n    }\r\n\r\n**Java 8 Note:** PermGen space was replaced with what is called Metaspace. This still functions the same but can be resized automaticlly - by default Metaspace auto increases its size in native memory up to a maximum (specified in JVM params), but PermGen always has a fixed maximum size contiguous to the heap memory.\r\n\r\n**Android Note:** From Android 4.0 (from 3.0 in practice) Android should honour the described memory contracts - but on older versions the [implementation was broken][1]. The &#39;Stack&#39; memory in Android-Davlik is in fact register based (instruction sizes and counts vary between the two, but for a developer the functionality remains the same).\r\n\r\nFinally, for more info the best answer I&#39;ve ever seen to this subject on StackOverflow is [here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4610859/984830\r\n  [2]: https://stackoverflow.com/a/80113/984830","title":"Heap vs Stack vs Perm Space","body":"<p>Forgive me for adding an answer to such an old question - The current answer is great, but misses a couple of edge cases because of static code and Java 8 updates. </p>\n\n<p><strong>Overview</strong></p>\n\n<ul>\n<li>Stack \n\n<ul>\n<li>Allocated per Thread</li>\n<li>Stores local references and primitives</li>\n<li>This is scoped memory - When a method or thread ends, all their data in the stack is lost</li>\n<li>Has the fastest access, so a local primitive is faster to use than a local Object</li>\n</ul></li>\n<li>Heap\n\n<ul>\n<li>All allocated object instances exist here</li>\n<li>Divided into Generations, with the youngest generation being the first place GC looks</li>\n<li><em>Available to all threads so allocations and deallocations should be synchronised</em></li>\n<li>This memory can become fragmented (<em>but you do not usually manage this yourself</em>)</li>\n</ul></li>\n<li>PermGen\n\n<ul>\n<li>Stores loaded class information</li>\n<li>Stores immutable information (Primatives, interned Strings)</li>\n<li>Stores static class <a href=\"https://stackoverflow.com/a/4610859/984830\">members</a></li>\n</ul></li>\n</ul>\n\n<p><strong>Example Code</strong></p>\n\n<pre><code>public class SimpleVal { //The Class (loaded by a classloader) is in the PermGen\n\n    private static final int MAGIC_CONSTANT = 42; //Static fields are stored in PermGen\n    private static final SimpleVal INSTANCE = new SimpleVal(1); //Static field objects are created in the heap normally, with the reference in the PermGen ('class statics' moved to the heap from Java 7+)\n    private static SimpleVal previousInstance; //Mutable static fields also have their reference in PermGen so they can easily cause memory leaks\n\n    private int value; //Member variables will be part of the heap\n\n    public SimpleVal(int realValue) {\n        value = realValue;\n        ...\n    }\n\n    public static int subtract(SimpleVal val1, SimpleVal val2) {\n         ....\n    }\n\n    public int add(SimpleVal other) { //Only one copy of any method (static or not) exists - in PermGen\n         int sum = value + other.value; //Local values in methods are placed in the Stack memory\n         return sum;\n    }\n\n}\n\npublic static void main(String[] args) {\n\n    SimpleVal val1 = null;\n    SimpleVal val2 = new SimpleVal(3); //Both of these variables (references) are stored in the Stack \n\n    val1 = new SimpleVal(14); //The actual objects we create and add to the variables are placed in the Heap (app global memory, initially in the Young Gen space and later moved to old generation, unless they are very large they can immediately go old gen)\n\n    int prim = val1.add(val2); //primitive value is stored directly in the Stack memory\n    Integer boxed = new Integer(prim); //but the boxed object will be in the heap (with a reference (variable) in the Stack)\n\n    String message = \"The output is: \"; //In Java 7+ the string is created in the heap, in 6 and below it is created in the PermGen\n    System.out.println(message + prim);\n\n}\n</code></pre>\n\n<p><strong>Java 8 Note:</strong> PermGen space was replaced with what is called Metaspace. This still functions the same but can be resized automaticlly - by default Metaspace auto increases its size in native memory up to a maximum (specified in JVM params), but PermGen always has a fixed maximum size contiguous to the heap memory.</p>\n\n<p><strong>Android Note:</strong> From Android 4.0 (from 3.0 in practice) Android should honour the described memory contracts - but on older versions the <a href=\"https://stackoverflow.com/a/4610859/984830\">implementation was broken</a>. The 'Stack' memory in Android-Davlik is in fact register based (instruction sizes and counts vary between the two, but for a developer the functionality remains the same).</p>\n\n<p>Finally, for more info the best answer I've ever seen to this subject on StackOverflow is <a href=\"https://stackoverflow.com/a/80113/984830\">here</a></p>\n"}],"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24887,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":6801838,"answer_count":2,"score":41,"last_activity_date":1651937223,"creation_date":1311437638,"question_id":6801676,"body_markdown":"- What are the differences between the Java memory spaces (Perm Space, Space Stack, Heap Space)?\r\n- When does the JVM use one or another?\r\n- If I use Scala/Groovy/etc., are there differences?","title":"Heap vs Stack vs Perm Space","body":"<ul>\n<li>What are the differences between the Java memory spaces (Perm Space, Space Stack, Heap Space)?</li>\n<li>When does the JVM use one or another?</li>\n<li>If I use Scala/Groovy/etc., are there differences?</li>\n</ul>\n"},{"tags":["java","neo4j","neo4j-embedded"],"answers":[{"tags":[],"owner":{"account_id":3180712,"reputation":8436,"user_id":2954199,"display_name":"William Lyon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436879569,"creation_date":1436879569,"answer_id":31407666,"question_id":31403552,"body_markdown":"It is possible that your GraphDatabase instance was not properly shut down - leaving it in a locked state. I see in your code above that you are registering a shutdown hook, but for `graphDB` not `graph`. This might explain how the instance was not properly shut down.\r\n\r\nIf you know there are no other instances pointing to your Neo4j directory you can try manually deleting the `graph.db/lock` and `graph.db/store_lock` files and running your code again.","title":"Use different databases embedded in Neo4j with Java","body":"<p>It is possible that your GraphDatabase instance was not properly shut down - leaving it in a locked state. I see in your code above that you are registering a shutdown hook, but for <code>graphDB</code> not <code>graph</code>. This might explain how the instance was not properly shut down.</p>\n\n<p>If you know there are no other instances pointing to your Neo4j directory you can try manually deleting the <code>graph.db/lock</code> and <code>graph.db/store_lock</code> files and running your code again.</p>\n"},{"tags":[],"owner":{"account_id":1561201,"reputation":81,"user_id":1451029,"display_name":"Nikolai Varankine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651937214,"creation_date":1651937214,"answer_id":72153909,"question_id":31403552,"body_markdown":"There&#39;s long term common misunderstanding in the directory structure for (embedded) database storage location. Designers submit &quot;root&quot; DB folder in the API while required to submit child repository folder.\r\n\r\n    new GraphDatabaseFactory().newEmbeddedDatabase( &quot;path/to/db&quot; ) // wrong\r\n    new GraphDatabaseFactory().newEmbeddedDatabase( &quot;path/to/db/repository&quot; ) // correct\r\n\r\nFor described case, consider to extend paths to created/reused database locations, by &quot;repository&quot; folder (this name could be varied):\r\n\r\n    path/to/database/graphModel1/repository\r\n    path/to/database/graphModel2/repository\r\n\r\nWhen both DB instances start simultaneously, you will see next file system items created:\r\n\r\n    path/to/database/graphModel1/repository\r\n    path/to/database/graphModel1/logs\r\n    path/to/database/graphModel1/store_lock\r\n\r\n    path/to/database/graphModel2/repository\r\n    path/to/database/graphModel2/logs\r\n    path/to/database/graphModel2/store_lock\r\n\r\nAs one can see, there are no any &quot;store_lock&quot; conflicts there. Verified with Neo4j version 3.5.17, &quot;embedded&quot; setup.","title":"Use different databases embedded in Neo4j with Java","body":"<p>There's long term common misunderstanding in the directory structure for (embedded) database storage location. Designers submit &quot;root&quot; DB folder in the API while required to submit child repository folder.</p>\n<pre><code>new GraphDatabaseFactory().newEmbeddedDatabase( &quot;path/to/db&quot; ) // wrong\nnew GraphDatabaseFactory().newEmbeddedDatabase( &quot;path/to/db/repository&quot; ) // correct\n</code></pre>\n<p>For described case, consider to extend paths to created/reused database locations, by &quot;repository&quot; folder (this name could be varied):</p>\n<pre><code>path/to/database/graphModel1/repository\npath/to/database/graphModel2/repository\n</code></pre>\n<p>When both DB instances start simultaneously, you will see next file system items created:</p>\n<pre><code>path/to/database/graphModel1/repository\npath/to/database/graphModel1/logs\npath/to/database/graphModel1/store_lock\n\npath/to/database/graphModel2/repository\npath/to/database/graphModel2/logs\npath/to/database/graphModel2/store_lock\n</code></pre>\n<p>As one can see, there are no any &quot;store_lock&quot; conflicts there. Verified with Neo4j version 3.5.17, &quot;embedded&quot; setup.</p>\n"}],"owner":{"account_id":4653823,"reputation":133,"user_id":3769887,"accept_rate":33,"display_name":"d.r.91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1651937214,"creation_date":1436868253,"question_id":31403552,"body_markdown":"I am trying to evaluate different datamodels in Neo4j. For that reason I have created two databases which have those different models and saved them in the same directory:\r\n\r\n    path/to/database/graphModel1\r\n    path/to/database/graphModel2\r\n\r\nThe next step is that I have created an application with java where I can select the datamodel and the query I want to evaluate (there are only a few predefined queries). Depending which model was selected I want to use the instance of the embedded database. At the moment I use the following if-clause to distinguish between them:\r\n\r\n    if (model.equals(&quot;G1&quot;)) {\r\n\t\tgraph = new GraphDatabaseFactory().newEmbeddedDatabase(DB_PATH_1);\r\n\t} else if (model.equals(&quot;G2&quot;)) {\r\n\t\tgraph = new GraphDatabaseFactory().newEmbeddedDatabase(DB_PATH_2);\r\n\t} \r\n    registerShutdownHook(graph);\r\n\r\nBut using that snippet of code I got the following exception after I did the first query with model1 and want to compute the same query with model2:\r\n\r\n    Caused by: org.neo4j.kernel.lifecycle.LifecycleException: Component &#39;org.neo4j.kernel.StoreLockerLifecycleAdapter@1f1e9b8&#39; was successfully initialized, but failed to start. Please see attached cause exception.\r\n\tat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:513)\r\n\tat org.neo4j.kernel.lifecycle.LifeSupport.start(LifeSupport.java:115)\r\n\tat org.neo4j.kernel.InternalAbstractGraphDatabase.run(InternalAbstractGraphDatabase.java:330)\r\n\t... 69 more\r\n    Caused by: org.neo4j.kernel.StoreLockException: Unable to obtain lock on store lock file: path/to/database/graphModel1/store_lock. Please ensure no other process is using this database, and that the directory is writable (required even for read-only access)\r\n\tat org.neo4j.kernel.StoreLocker.checkLock(StoreLocker.java:78)\r\n\tat org.neo4j.kernel.StoreLockerLifecycleAdapter.start(StoreLockerLifecycleAdapter.java:44)\r\n\tat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:507)\r\n\t... 71 more\r\n    Caused by: java.io.IOException: Couldn&#39;t lock lock file path/to/database/graphModel1/lock because another process already holds the lock.\r\n\tat org.neo4j.io.fs.FileLock.getLockFileBasedFileLock(FileLock.java:126)\r\n\tat org.neo4j.io.fs.FileLock.getOsSpecificFileLock(FileLock.java:70)\r\n\tat org.neo4j.io.fs.DefaultFileSystemAbstraction.tryLock(DefaultFileSystemAbstraction.java:85)\r\n\tat org.neo4j.kernel.StoreLocker.checkLock(StoreLocker.java:74)\r\n\t... 73 more\r\n\r\nI realized that there are already a `store_lock` and a `lock` on the first database but how does this affect starting a second embedded database? Does anyone know how to solve this problem?\r\n\r\nThanks in advance!","title":"Use different databases embedded in Neo4j with Java","body":"<p>I am trying to evaluate different datamodels in Neo4j. For that reason I have created two databases which have those different models and saved them in the same directory:</p>\n\n<pre><code>path/to/database/graphModel1\npath/to/database/graphModel2\n</code></pre>\n\n<p>The next step is that I have created an application with java where I can select the datamodel and the query I want to evaluate (there are only a few predefined queries). Depending which model was selected I want to use the instance of the embedded database. At the moment I use the following if-clause to distinguish between them:</p>\n\n<pre><code>if (model.equals(\"G1\")) {\n    graph = new GraphDatabaseFactory().newEmbeddedDatabase(DB_PATH_1);\n} else if (model.equals(\"G2\")) {\n    graph = new GraphDatabaseFactory().newEmbeddedDatabase(DB_PATH_2);\n} \nregisterShutdownHook(graph);\n</code></pre>\n\n<p>But using that snippet of code I got the following exception after I did the first query with model1 and want to compute the same query with model2:</p>\n\n<pre><code>Caused by: org.neo4j.kernel.lifecycle.LifecycleException: Component 'org.neo4j.kernel.StoreLockerLifecycleAdapter@1f1e9b8' was successfully initialized, but failed to start. Please see attached cause exception.\nat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:513)\nat org.neo4j.kernel.lifecycle.LifeSupport.start(LifeSupport.java:115)\nat org.neo4j.kernel.InternalAbstractGraphDatabase.run(InternalAbstractGraphDatabase.java:330)\n... 69 more\nCaused by: org.neo4j.kernel.StoreLockException: Unable to obtain lock on store lock file: path/to/database/graphModel1/store_lock. Please ensure no other process is using this database, and that the directory is writable (required even for read-only access)\nat org.neo4j.kernel.StoreLocker.checkLock(StoreLocker.java:78)\nat org.neo4j.kernel.StoreLockerLifecycleAdapter.start(StoreLockerLifecycleAdapter.java:44)\nat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:507)\n... 71 more\nCaused by: java.io.IOException: Couldn't lock lock file path/to/database/graphModel1/lock because another process already holds the lock.\nat org.neo4j.io.fs.FileLock.getLockFileBasedFileLock(FileLock.java:126)\nat org.neo4j.io.fs.FileLock.getOsSpecificFileLock(FileLock.java:70)\nat org.neo4j.io.fs.DefaultFileSystemAbstraction.tryLock(DefaultFileSystemAbstraction.java:85)\nat org.neo4j.kernel.StoreLocker.checkLock(StoreLocker.java:74)\n... 73 more\n</code></pre>\n\n<p>I realized that there are already a <code>store_lock</code> and a <code>lock</code> on the first database but how does this affect starting a second embedded database? Does anyone know how to solve this problem?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","ubuntu"],"comments":[{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":1,"creation_date":1466086690,"post_id":37861833,"comment_id":63180911,"body_markdown":"set: server.port=80","body":"set: server.port=80"},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":1,"creation_date":1466088212,"post_id":37861833,"comment_id":63182021,"body_markdown":"Checked your firewall ?","body":"Checked your firewall ?"},{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":0,"creation_date":1466089035,"post_id":37861833,"comment_id":63182646,"body_markdown":"You may need to look at `iptables` command","body":"You may need to look at <code>iptables</code> command"},{"owner":{"account_id":5791008,"reputation":319,"user_id":4568484,"display_name":"k0staa"},"score":0,"creation_date":1651940809,"post_id":37861833,"comment_id":127487528,"body_markdown":"Try `sudo ufw allow 8083`. \nBTW LAMP stack is not needed when you run Spring Boot application using built in server (when you run this jar it also start server)","body":"Try <code>sudo ufw allow 8083</code>.  BTW LAMP stack is not needed when you run Spring Boot application using built in server (when you run this jar it also start server)"}],"owner":{"account_id":1216941,"reputation":2241,"user_id":1374587,"accept_rate":67,"display_name":"nickalchemist"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651936629,"creation_date":1466086636,"question_id":37861833,"body_markdown":"How can I open an HTTP port on Ubuntu server with the [LAMP][1] stack?\r\n\r\nI deployed a [Spring][2] application on Ubuntu server. The application is accessible from local, but it is not accessible via an external IP address.\r\n\r\n```lang-none\r\njava -jar demo-gate-0.0.1.jar\r\n```\r\n\r\nMy *application.properties* looks like this:\r\n\r\n```lang-none\r\nserver.port=8083\r\nserver.url=0.0.0.0\r\n\r\nIt was tried with\r\n\r\nserver.url=127.0.0.1\r\n\r\nas well. I am able to access 80 port of this server publicly, but I am not able to access port 8083 on which my [Spring Boot][3] application is running.\r\n\r\nThis is what my `iptables -L` output looks like:\r\n\r\nChain INPUT (policy DROP)\r\ntarget     prot opt source               destination\r\nACCEPT     udp  --  anywhere             anywhere             udp dpt:bootpc\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain\r\nACCEPT     udp  --  anywhere             anywhere             udp dpt:domain\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps\r\nACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps\r\nufw-before-logging-input  all  --  anywhere             anywhere\r\nufw-before-input  all  --  anywhere             anywhere\r\nufw-after-input  all  --  anywhere             anywhere\r\nufw-after-logging-input  all  --  anywhere             anywhere\r\nufw-reject-input  all  --  anywhere             anywhere\r\nufw-track-input  all  --  anywhere             anywhere\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:8083\r\n\r\nChain FORWARD (policy DROP)\r\ntarget     prot opt source               destination\r\nACCEPT     all  --  anywhere             anywhere\r\nACCEPT     all  --  anywhere             anywhere\r\nufw-before-logging-forward  all  --  anywhere             anywhere\r\nufw-before-forward  all  --  anywhere             anywhere\r\nufw-after-forward  all  --  anywhere             anywhere\r\nufw-after-logging-forward  all  --  anywhere             anywhere\r\nufw-reject-forward  all  --  anywhere             anywhere\r\nufw-track-forward  all  --  anywhere             anywhere\r\n\r\nChain OUTPUT (policy ACCEPT)\r\ntarget     prot opt source               destination\r\nufw-before-logging-output  all  --  anywhere             anywhere\r\nufw-before-output  all  --  anywhere             anywhere\r\nufw-after-output  all  --  anywhere             anywhere\r\nufw-after-logging-output  all  --  anywhere             anywhere\r\nufw-reject-output  all  --  anywhere             anywhere\r\nufw-track-output  all  --  anywhere             anywhere\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:8083\r\n\r\nChain ufw-after-forward (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-after-input (1 references)\r\ntarget     prot opt source               destination\r\nufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:netbios-ns\r\nufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:netbios-dgm\r\nufw-skip-to-policy-input  tcp  --  anywhere             anywhere             tcp dpt:netbios-ssn\r\nufw-skip-to-policy-input  tcp  --  anywhere             anywhere             tcp dpt:microsoft-ds\r\nufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:bootps\r\nufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:bootpc\r\nufw-skip-to-policy-input  all  --  anywhere             anywhere             ADDRTYPE match dst-type BROADCAST\r\n\r\nChain ufw-after-logging-forward (1 references)\r\ntarget     prot opt source               destination\r\nLOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix &quot;[UFW BLOCK] &quot;\r\n\r\nChain ufw-after-logging-input (1 references)\r\ntarget     prot opt source               destination\r\nLOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix &quot;[UFW BLOCK] &quot;\r\n\r\nChain ufw-after-logging-output (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-after-output (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-before-forward (1 references)\r\ntarget     prot opt source               destination\r\nACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED\r\nACCEPT     icmp --  anywhere             anywhere             icmp destination-unreachable\r\nACCEPT     icmp --  anywhere             anywhere             icmp source-quench\r\nACCEPT     icmp --  anywhere             anywhere             icmp time-exceeded\r\nACCEPT     icmp --  anywhere             anywhere             icmp parameter-problem\r\nACCEPT     icmp --  anywhere             anywhere             icmp echo-request\r\nufw-user-forward  all  --  anywhere             anywhere\r\n\r\nChain ufw-before-input (1 references)\r\ntarget     prot opt source               destination\r\nACCEPT     all  --  anywhere             anywhere\r\nACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED\r\nufw-logging-deny  all  --  anywhere             anywhere             ctstate INVALID\r\nDROP       all  --  anywhere             anywhere             ctstate INVALID\r\nACCEPT     icmp --  anywhere             anywhere             icmp destination-unreachable\r\nACCEPT     icmp --  anywhere             anywhere             icmp source-quench\r\nACCEPT     icmp --  anywhere             anywhere             icmp time-exceeded\r\nACCEPT     icmp --  anywhere             anywhere             icmp parameter-problem\r\nACCEPT     icmp --  anywhere             anywhere             icmp echo-request\r\nACCEPT     udp  --  anywhere             anywhere             udp spt:bootps dpt:bootpc\r\nufw-not-local  all  --  anywhere             anywhere\r\nACCEPT     udp  --  anywhere             X.0.0.X          udp dpt:mdns\r\nACCEPT     udp  --  anywhere             X.255.X.X      udp dpt:1900\r\nufw-user-input  all  --  anywhere             anywhere\r\n\r\nChain ufw-before-logging-forward (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-before-logging-input (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-before-logging-output (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-before-output (1 references)\r\ntarget     prot opt source               destination\r\nACCEPT     all  --  anywhere             anywhere\r\nACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED\r\nufw-user-output  all  --  anywhere             anywhere\r\n\r\nChain ufw-logging-allow (0 references)\r\ntarget     prot opt source               destination\r\nLOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix &quot;[UFW ALLOW] &quot;\r\n\r\nChain ufw-logging-deny (2 references)\r\ntarget     prot opt source               destination\r\nRETURN     all  --  anywhere             anywhere             ctstate INVALID limit: avg 3/min burst 10\r\nLOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix &quot;[UFW BLOCK] &quot;\r\n\r\nChain ufw-not-local (1 references)\r\ntarget     prot opt source               destination\r\nRETURN     all  --  anywhere             anywhere             ADDRTYPE match dst-type LOCAL\r\nRETURN     all  --  anywhere             anywhere             ADDRTYPE match dst-type MULTICAST\r\nRETURN     all  --  anywhere             anywhere             ADDRTYPE match dst-type BROADCAST\r\nufw-logging-deny  all  --  anywhere             anywhere             limit: avg 3/min burst 10\r\nDROP       all  --  anywhere             anywhere\r\n\r\nChain ufw-reject-forward (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-reject-input (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-reject-output (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-skip-to-policy-forward (0 references)\r\ntarget     prot opt source               destination\r\nDROP       all  --  anywhere             anywhere\r\n\r\nChain ufw-skip-to-policy-input (7 references)\r\ntarget     prot opt source               destination\r\nDROP       all  --  anywhere             anywhere\r\n\r\nChain ufw-skip-to-policy-output (0 references)\r\ntarget     prot opt source               destination\r\nACCEPT     all  --  anywhere             anywhere\r\n\r\nChain ufw-track-forward (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-track-input (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-track-output (1 references)\r\ntarget     prot opt source               destination\r\nACCEPT     tcp  --  anywhere             anywhere             ctstate NEW\r\nACCEPT     udp  --  anywhere             anywhere             ctstate NEW\r\n\r\nChain ufw-user-forward (1 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-user-input (1 references)\r\ntarget     prot opt source               destination\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:8084\r\nACCEPT     udp  --  anywhere             anywhere             udp dpt:8084\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:84\r\nACCEPT     udp  --  anywhere             anywhere             udp dpt:84\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:http\r\nACCEPT     udp  --  anywhere             anywhere             udp dpt:http\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:https\r\nACCEPT     udp  --  anywhere             anywhere             udp dpt:https\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:ssh\r\nACCEPT     udp  --  anywhere             anywhere             udp dpt:ssh\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:smtp\r\nACCEPT     udp  --  anywhere             anywhere             udp dpt:25\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:smtp\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:84\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:8084\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:8083\r\nACCEPT     udp  --  anywhere             anywhere             udp dpt:8083\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:85\r\nACCEPT     udp  --  anywhere             anywhere             udp dpt:85\r\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:85\r\n\r\nChain ufw-user-limit (0 references)\r\ntarget     prot opt source               destination\r\nLOG        all  --  anywhere             anywhere             limit: avg 3/min burst 5 LOG level warning prefix &quot;[UFW LIMIT BLOCK] &quot;\r\nREJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable\r\n\r\nChain ufw-user-limit-accept (0 references)\r\ntarget     prot opt source               destination\r\nACCEPT     all  --  anywhere             anywhere\r\n\r\nChain ufw-user-logging-forward (0 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-user-logging-input (0 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-user-logging-output (0 references)\r\ntarget     prot opt source               destination\r\n\r\nChain ufw-user-output (1 references)\r\ntarget     prot opt source               destination\r\n\r\n\r\nroot@server:/var/www# ufw status\r\nStatus: active\r\n\r\nTo                         Action      From\r\n--                         ------      ----\r\n8084                       ALLOW       Anywhere\r\n84                         ALLOW       Anywhere\r\n80                         ALLOW       Anywhere\r\n443                        ALLOW       Anywhere\r\n22                         ALLOW       Anywhere\r\n25                         ALLOW       Anywhere\r\n25/tcp                     ALLOW       Anywhere\r\n84/tcp                     ALLOW       Anywhere\r\n8084/tcp                   ALLOW       Anywhere\r\n8083                       ALLOW       Anywhere\r\n85                         ALLOW       Anywhere\r\n85/tcp                     ALLOW       Anywhere\r\n8084 (v6)                  ALLOW       Anywhere (v6)\r\n84 (v6)                    ALLOW       Anywhere (v6)\r\n80 (v6)                    ALLOW       Anywhere (v6)\r\n443 (v6)                   ALLOW       Anywhere (v6)\r\n22 (v6)                    ALLOW       Anywhere (v6)\r\n25 (v6)                    ALLOW       Anywhere (v6)\r\n25/tcp (v6)                ALLOW       Anywhere (v6)\r\n84/tcp (v6)                ALLOW       Anywhere (v6)\r\n8084/tcp (v6)              ALLOW       Anywhere (v6)\r\n8083 (v6)                  ALLOW       Anywhere (v6)\r\n85 (v6)                    ALLOW       Anywhere (v6)\r\n85/tcp (v6)                ALLOW       Anywhere (v6)\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/LAMP_%28software_bundle%29\r\n  [2]: https://en.wikipedia.org/wiki/Spring_Framework\r\n  [3]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n\r\n\r\n\r\n\r\n","title":"How can I open an HTTP port on Ubuntu server with LAMP stack for a Spring Boot application?","body":"<p>How can I open an HTTP port on Ubuntu server with the <a href=\"https://en.wikipedia.org/wiki/LAMP_%28software_bundle%29\" rel=\"nofollow noreferrer\">LAMP</a> stack?</p>\n<p>I deployed a <a href=\"https://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring</a> application on Ubuntu server. The application is accessible from local, but it is not accessible via an external IP address.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -jar demo-gate-0.0.1.jar\n</code></pre>\n<p>My <em>application.properties</em> looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>server.port=8083\nserver.url=0.0.0.0\n\nIt was tried with\n\nserver.url=127.0.0.1\n\nas well. I am able to access 80 port of this server publicly, but I am not able to access port 8083 on which my [Spring Boot][3] application is running.\n\nThis is what my `iptables -L` output looks like:\n\nChain INPUT (policy DROP)\ntarget     prot opt source               destination\nACCEPT     udp  --  anywhere             anywhere             udp dpt:bootpc\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:domain\nACCEPT     udp  --  anywhere             anywhere             udp dpt:domain\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:bootps\nACCEPT     udp  --  anywhere             anywhere             udp dpt:bootps\nufw-before-logging-input  all  --  anywhere             anywhere\nufw-before-input  all  --  anywhere             anywhere\nufw-after-input  all  --  anywhere             anywhere\nufw-after-logging-input  all  --  anywhere             anywhere\nufw-reject-input  all  --  anywhere             anywhere\nufw-track-input  all  --  anywhere             anywhere\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:8083\n\nChain FORWARD (policy DROP)\ntarget     prot opt source               destination\nACCEPT     all  --  anywhere             anywhere\nACCEPT     all  --  anywhere             anywhere\nufw-before-logging-forward  all  --  anywhere             anywhere\nufw-before-forward  all  --  anywhere             anywhere\nufw-after-forward  all  --  anywhere             anywhere\nufw-after-logging-forward  all  --  anywhere             anywhere\nufw-reject-forward  all  --  anywhere             anywhere\nufw-track-forward  all  --  anywhere             anywhere\n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination\nufw-before-logging-output  all  --  anywhere             anywhere\nufw-before-output  all  --  anywhere             anywhere\nufw-after-output  all  --  anywhere             anywhere\nufw-after-logging-output  all  --  anywhere             anywhere\nufw-reject-output  all  --  anywhere             anywhere\nufw-track-output  all  --  anywhere             anywhere\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:8083\n\nChain ufw-after-forward (1 references)\ntarget     prot opt source               destination\n\nChain ufw-after-input (1 references)\ntarget     prot opt source               destination\nufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:netbios-ns\nufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:netbios-dgm\nufw-skip-to-policy-input  tcp  --  anywhere             anywhere             tcp dpt:netbios-ssn\nufw-skip-to-policy-input  tcp  --  anywhere             anywhere             tcp dpt:microsoft-ds\nufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:bootps\nufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:bootpc\nufw-skip-to-policy-input  all  --  anywhere             anywhere             ADDRTYPE match dst-type BROADCAST\n\nChain ufw-after-logging-forward (1 references)\ntarget     prot opt source               destination\nLOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix &quot;[UFW BLOCK] &quot;\n\nChain ufw-after-logging-input (1 references)\ntarget     prot opt source               destination\nLOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix &quot;[UFW BLOCK] &quot;\n\nChain ufw-after-logging-output (1 references)\ntarget     prot opt source               destination\n\nChain ufw-after-output (1 references)\ntarget     prot opt source               destination\n\nChain ufw-before-forward (1 references)\ntarget     prot opt source               destination\nACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED\nACCEPT     icmp --  anywhere             anywhere             icmp destination-unreachable\nACCEPT     icmp --  anywhere             anywhere             icmp source-quench\nACCEPT     icmp --  anywhere             anywhere             icmp time-exceeded\nACCEPT     icmp --  anywhere             anywhere             icmp parameter-problem\nACCEPT     icmp --  anywhere             anywhere             icmp echo-request\nufw-user-forward  all  --  anywhere             anywhere\n\nChain ufw-before-input (1 references)\ntarget     prot opt source               destination\nACCEPT     all  --  anywhere             anywhere\nACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED\nufw-logging-deny  all  --  anywhere             anywhere             ctstate INVALID\nDROP       all  --  anywhere             anywhere             ctstate INVALID\nACCEPT     icmp --  anywhere             anywhere             icmp destination-unreachable\nACCEPT     icmp --  anywhere             anywhere             icmp source-quench\nACCEPT     icmp --  anywhere             anywhere             icmp time-exceeded\nACCEPT     icmp --  anywhere             anywhere             icmp parameter-problem\nACCEPT     icmp --  anywhere             anywhere             icmp echo-request\nACCEPT     udp  --  anywhere             anywhere             udp spt:bootps dpt:bootpc\nufw-not-local  all  --  anywhere             anywhere\nACCEPT     udp  --  anywhere             X.0.0.X          udp dpt:mdns\nACCEPT     udp  --  anywhere             X.255.X.X      udp dpt:1900\nufw-user-input  all  --  anywhere             anywhere\n\nChain ufw-before-logging-forward (1 references)\ntarget     prot opt source               destination\n\nChain ufw-before-logging-input (1 references)\ntarget     prot opt source               destination\n\nChain ufw-before-logging-output (1 references)\ntarget     prot opt source               destination\n\nChain ufw-before-output (1 references)\ntarget     prot opt source               destination\nACCEPT     all  --  anywhere             anywhere\nACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED\nufw-user-output  all  --  anywhere             anywhere\n\nChain ufw-logging-allow (0 references)\ntarget     prot opt source               destination\nLOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix &quot;[UFW ALLOW] &quot;\n\nChain ufw-logging-deny (2 references)\ntarget     prot opt source               destination\nRETURN     all  --  anywhere             anywhere             ctstate INVALID limit: avg 3/min burst 10\nLOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix &quot;[UFW BLOCK] &quot;\n\nChain ufw-not-local (1 references)\ntarget     prot opt source               destination\nRETURN     all  --  anywhere             anywhere             ADDRTYPE match dst-type LOCAL\nRETURN     all  --  anywhere             anywhere             ADDRTYPE match dst-type MULTICAST\nRETURN     all  --  anywhere             anywhere             ADDRTYPE match dst-type BROADCAST\nufw-logging-deny  all  --  anywhere             anywhere             limit: avg 3/min burst 10\nDROP       all  --  anywhere             anywhere\n\nChain ufw-reject-forward (1 references)\ntarget     prot opt source               destination\n\nChain ufw-reject-input (1 references)\ntarget     prot opt source               destination\n\nChain ufw-reject-output (1 references)\ntarget     prot opt source               destination\n\nChain ufw-skip-to-policy-forward (0 references)\ntarget     prot opt source               destination\nDROP       all  --  anywhere             anywhere\n\nChain ufw-skip-to-policy-input (7 references)\ntarget     prot opt source               destination\nDROP       all  --  anywhere             anywhere\n\nChain ufw-skip-to-policy-output (0 references)\ntarget     prot opt source               destination\nACCEPT     all  --  anywhere             anywhere\n\nChain ufw-track-forward (1 references)\ntarget     prot opt source               destination\n\nChain ufw-track-input (1 references)\ntarget     prot opt source               destination\n\nChain ufw-track-output (1 references)\ntarget     prot opt source               destination\nACCEPT     tcp  --  anywhere             anywhere             ctstate NEW\nACCEPT     udp  --  anywhere             anywhere             ctstate NEW\n\nChain ufw-user-forward (1 references)\ntarget     prot opt source               destination\n\nChain ufw-user-input (1 references)\ntarget     prot opt source               destination\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:8084\nACCEPT     udp  --  anywhere             anywhere             udp dpt:8084\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:84\nACCEPT     udp  --  anywhere             anywhere             udp dpt:84\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:http\nACCEPT     udp  --  anywhere             anywhere             udp dpt:http\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:https\nACCEPT     udp  --  anywhere             anywhere             udp dpt:https\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:ssh\nACCEPT     udp  --  anywhere             anywhere             udp dpt:ssh\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:smtp\nACCEPT     udp  --  anywhere             anywhere             udp dpt:25\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:smtp\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:84\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:8084\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:8083\nACCEPT     udp  --  anywhere             anywhere             udp dpt:8083\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:85\nACCEPT     udp  --  anywhere             anywhere             udp dpt:85\nACCEPT     tcp  --  anywhere             anywhere             tcp dpt:85\n\nChain ufw-user-limit (0 references)\ntarget     prot opt source               destination\nLOG        all  --  anywhere             anywhere             limit: avg 3/min burst 5 LOG level warning prefix &quot;[UFW LIMIT BLOCK] &quot;\nREJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable\n\nChain ufw-user-limit-accept (0 references)\ntarget     prot opt source               destination\nACCEPT     all  --  anywhere             anywhere\n\nChain ufw-user-logging-forward (0 references)\ntarget     prot opt source               destination\n\nChain ufw-user-logging-input (0 references)\ntarget     prot opt source               destination\n\nChain ufw-user-logging-output (0 references)\ntarget     prot opt source               destination\n\nChain ufw-user-output (1 references)\ntarget     prot opt source               destination\n\n\nroot@server:/var/www# ufw status\nStatus: active\n\nTo                         Action      From\n--                         ------      ----\n8084                       ALLOW       Anywhere\n84                         ALLOW       Anywhere\n80                         ALLOW       Anywhere\n443                        ALLOW       Anywhere\n22                         ALLOW       Anywhere\n25                         ALLOW       Anywhere\n25/tcp                     ALLOW       Anywhere\n84/tcp                     ALLOW       Anywhere\n8084/tcp                   ALLOW       Anywhere\n8083                       ALLOW       Anywhere\n85                         ALLOW       Anywhere\n85/tcp                     ALLOW       Anywhere\n8084 (v6)                  ALLOW       Anywhere (v6)\n84 (v6)                    ALLOW       Anywhere (v6)\n80 (v6)                    ALLOW       Anywhere (v6)\n443 (v6)                   ALLOW       Anywhere (v6)\n22 (v6)                    ALLOW       Anywhere (v6)\n25 (v6)                    ALLOW       Anywhere (v6)\n25/tcp (v6)                ALLOW       Anywhere (v6)\n84/tcp (v6)                ALLOW       Anywhere (v6)\n8084/tcp (v6)              ALLOW       Anywhere (v6)\n8083 (v6)                  ALLOW       Anywhere (v6)\n85 (v6)                    ALLOW       Anywhere (v6)\n85/tcp (v6)                ALLOW       Anywhere (v6)\n</code></pre>\n"},{"tags":["java","apache-spark","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":2529799,"reputation":341,"user_id":5981256,"display_name":"Russell Bie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651936458,"creation_date":1651935797,"answer_id":72153716,"question_id":71787386,"body_markdown":"I think [the neutrino framework](https://github.com/disneystreaming/neutrino) is exactly for your requirement.\r\n\r\nDisclaimer: I am the author of the neutrino framework.\r\n\r\nThis framework provides the capability to use dependency injection (DI) to generate the objects and control their scope at both the driver and executors.\r\n\r\n# How does it do that\r\nAs we know, to adopt the DI framework, we need to first build a dependency graph first, which describes the dependency relationship between various types and can be used to generate instances along with their dependencies. Guice uses Module API to build the graph while the Spring framework uses XML files or annotations.\r\nThe neutrino is built based on Guice framework, and of course, builds the dependency graph with the guice module API. It doesn&#39;t only keep the graph in the driver, but also has the same graph running on every executor.\r\n\r\n![serialize creation method](https://github.com/disneystreaming/neutrino/raw/main/images/serialize_creation_method.png)\r\nIn the dependency graph, some nodes may generate objects which may be passed to the executors, and neutrino framework would assign unique ids to these nodes. As every JVM have the same graph, the graph on each JVM have the same node id set.\r\nWhen an instance to be transferred is requested from the graph at the driver, instead of creating the actual instance, it just returns a stub object which holds the object creation method (including the node id). When the stub object is passed to the executors, the framework will find the corresponding node in the graph in the executor JVM with the id and recreate the same object and its dependencies there.\r\n\r\nHere is an example:\r\n# Example:\r\nHere is a simple example (just filter a event stream based on redis data):\r\n\r\n    trait EventFilter[T] {\r\n        def filter(t: T): Boolean\r\n    }\r\n    \r\n    // The RedisEventFilter class depends on JedisCommands directly,\r\n    // and doesn&#39;t extend `java.io.Serializable` interface.\r\n    class RedisEventFilter @Inject()(jedis: JedisCommands)\r\n    extends EventFilter[ClickEvent] {\r\n       override def filter(e: ClickEvent): Boolean = {\r\n           // filter logic based on redis\r\n       }\r\n    }\r\n\r\n    /* create injector */\r\n    val injector = ...\r\n    \r\n    val eventFilter = injector.instance[EventFilter[ClickEvent]]\r\n    val eventStream: DStream[ClickEvent] = ...\r\n    eventStream.filter(e =&gt; eventFilter.filter(e))\r\nHere is how to config the bindings:\r\n\r\n    class FilterModule(redisConfig: RedisConfig) extends SparkModule {\r\n       override def configure(): Unit = {\r\n           // the magic is here\r\n           // The method `withSerializableProxy` will generate a proxy \r\n           // extending `EventFilter` and `java.io.Serializable` interfaces with Scala macro.\r\n           // The module must extend `SparkModule` or `SparkPrivateModule` to get it\r\n           bind[EventFilter[ClickEvent]].withSerializableProxy\r\n               .to[RedisEventFilter].in[SingletonScope]\r\n       }\r\n    }\r\n\r\nWith neutrino, the `RedisEventFilter` doesn&#39;t even care about serialization problem. Every thing just works like in a single JVM.\r\n\r\nFor details, please refer to [the neutrino readme file](https://github.com/disneystreaming/neutrino).\r\n\r\n# Limitation\r\nSince this framework uses [scala macro](https://docs.scala-lang.org/overviews/macros/overview.html) to generate the proxy class, the guice modules and the logic of how to wire up these modules needs to be written with scala. Other classes such as EventFilter and its implementations can be java.","title":"Apache spark, is it possible to have Google guice as dependency injection technique","body":"<p>I think <a href=\"https://github.com/disneystreaming/neutrino\" rel=\"nofollow noreferrer\">the neutrino framework</a> is exactly for your requirement.</p>\n<p>Disclaimer: I am the author of the neutrino framework.</p>\n<p>This framework provides the capability to use dependency injection (DI) to generate the objects and control their scope at both the driver and executors.</p>\n<h1>How does it do that</h1>\n<p>As we know, to adopt the DI framework, we need to first build a dependency graph first, which describes the dependency relationship between various types and can be used to generate instances along with their dependencies. Guice uses Module API to build the graph while the Spring framework uses XML files or annotations.\nThe neutrino is built based on Guice framework, and of course, builds the dependency graph with the guice module API. It doesn't only keep the graph in the driver, but also has the same graph running on every executor.</p>\n<p><img src=\"https://github.com/disneystreaming/neutrino/raw/main/images/serialize_creation_method.png\" alt=\"serialize creation method\" />\nIn the dependency graph, some nodes may generate objects which may be passed to the executors, and neutrino framework would assign unique ids to these nodes. As every JVM have the same graph, the graph on each JVM have the same node id set.\nWhen an instance to be transferred is requested from the graph at the driver, instead of creating the actual instance, it just returns a stub object which holds the object creation method (including the node id). When the stub object is passed to the executors, the framework will find the corresponding node in the graph in the executor JVM with the id and recreate the same object and its dependencies there.</p>\n<p>Here is an example:</p>\n<h1>Example:</h1>\n<p>Here is a simple example (just filter a event stream based on redis data):</p>\n<pre><code>trait EventFilter[T] {\n    def filter(t: T): Boolean\n}\n\n// The RedisEventFilter class depends on JedisCommands directly,\n// and doesn't extend `java.io.Serializable` interface.\nclass RedisEventFilter @Inject()(jedis: JedisCommands)\nextends EventFilter[ClickEvent] {\n   override def filter(e: ClickEvent): Boolean = {\n       // filter logic based on redis\n   }\n}\n\n/* create injector */\nval injector = ...\n\nval eventFilter = injector.instance[EventFilter[ClickEvent]]\nval eventStream: DStream[ClickEvent] = ...\neventStream.filter(e =&gt; eventFilter.filter(e))\n</code></pre>\n<p>Here is how to config the bindings:</p>\n<pre><code>class FilterModule(redisConfig: RedisConfig) extends SparkModule {\n   override def configure(): Unit = {\n       // the magic is here\n       // The method `withSerializableProxy` will generate a proxy \n       // extending `EventFilter` and `java.io.Serializable` interfaces with Scala macro.\n       // The module must extend `SparkModule` or `SparkPrivateModule` to get it\n       bind[EventFilter[ClickEvent]].withSerializableProxy\n           .to[RedisEventFilter].in[SingletonScope]\n   }\n}\n</code></pre>\n<p>With neutrino, the <code>RedisEventFilter</code> doesn't even care about serialization problem. Every thing just works like in a single JVM.</p>\n<p>For details, please refer to <a href=\"https://github.com/disneystreaming/neutrino\" rel=\"nofollow noreferrer\">the neutrino readme file</a>.</p>\n<h1>Limitation</h1>\n<p>Since this framework uses <a href=\"https://docs.scala-lang.org/overviews/macros/overview.html\" rel=\"nofollow noreferrer\">scala macro</a> to generate the proxy class, the guice modules and the logic of how to wire up these modules needs to be written with scala. Other classes such as EventFilter and its implementations can be java.</p>\n"}],"owner":{"account_id":10974382,"reputation":11,"user_id":8063502,"display_name":"Vissu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651936458,"creation_date":1649356796,"question_id":71787386,"body_markdown":"Is it possible to use Google guice as dependency injection provider for a Apache spark Java application?\r\n\r\nI am able to achieve this if the execution is happening at the driver but no control over when the execution is happening at executors. \r\n\r\nIs it even possible to use the injected objects at the executors? Its hard to manage the code with out the dependency injection in the spark applications.","title":"Apache spark, is it possible to have Google guice as dependency injection technique","body":"<p>Is it possible to use Google guice as dependency injection provider for a Apache spark Java application?</p>\n<p>I am able to achieve this if the execution is happening at the driver but no control over when the execution is happening at executors.</p>\n<p>Is it even possible to use the injected objects at the executors? Its hard to manage the code with out the dependency injection in the spark applications.</p>\n"},{"tags":["java","dependency-injection","spark-java"],"comments":[{"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"score":0,"creation_date":1439957955,"post_id":32086458,"comment_id":52068715,"body_markdown":"Spring *can* be used as a lightweight DI by configuring the XML beans and not using libraries outside the core. Although I&#39;ve not used it personally there&#39;s the [@Inject](http://www.vogella.com/tutorials/DependencyInjection/article.html) annotation if that looks like something up your alley.","body":"Spring <i>can</i> be used as a lightweight DI by configuring the XML beans and not using libraries outside the core. Although I&#39;ve not used it personally there&#39;s the <a href=\"http://www.vogella.com/tutorials/DependencyInjection/article.html\" rel=\"nofollow noreferrer\">@Inject</a> annotation if that looks like something up your alley."},{"owner":{"account_id":2142253,"reputation":878,"user_id":1900629,"accept_rate":64,"display_name":"Daniel Jipa"},"score":1,"creation_date":1439964374,"post_id":32086458,"comment_id":52070863,"body_markdown":"You can try Pippo webframework. It has support for spring, guice and weld cdi","body":"You can try Pippo webframework. It has support for spring, guice and weld cdi"}],"answers":[{"tags":[],"owner":{"account_id":213709,"reputation":8276,"user_id":467240,"accept_rate":57,"display_name":"mtyson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445265136,"creation_date":1445265136,"answer_id":33217137,"question_id":32086458,"body_markdown":"I&#39;ve been working with Spark lately, and it does not include an IoC provider out of the box, however, you could easily include Spring or Guice *core*, and that would be a lightweight solution.\r\n\r\nAll you need to do is add the dependency to Maven and start using it.\r\n\r\nAs an alternative, you would look at [Ninja][1], which is a full-stack framework and includes Guice, JPA/Hibernate out of the box.\r\n\r\n\r\n  [1]: http://www.ninjaframework.org/","title":"Does Java Spark provide any support for dependency injection or IoC containers?","body":"<p>I've been working with Spark lately, and it does not include an IoC provider out of the box, however, you could easily include Spring or Guice <em>core</em>, and that would be a lightweight solution.</p>\n\n<p>All you need to do is add the dependency to Maven and start using it.</p>\n\n<p>As an alternative, you would look at <a href=\"http://www.ninjaframework.org/\" rel=\"nofollow\">Ninja</a>, which is a full-stack framework and includes Guice, JPA/Hibernate out of the box.</p>\n"},{"tags":[],"owner":{"account_id":5783939,"reputation":81,"user_id":4563781,"display_name":"pmackowski"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1446850649,"creation_date":1446850649,"answer_id":33577002,"question_id":32086458,"body_markdown":" Spring can be simply integrated with Spark. e.g. \r\n  \r\n    public interface Spark {\r\n\r\n      /**\r\n       * adds filters, routes, exceptions, websockets and others\r\n       */\r\n       void register();\r\n\r\n    }\r\n\r\n    @Configuration\r\n    public class SparkConfiguration {\r\n\r\n       @Autowired(required = false)\r\n       private List&lt;Spark&gt; sparks = new ArrayList&lt;&gt;();\r\n\r\n       @Bean\r\n       CommandLineRunner sparkRunner() {\r\n           return args -&gt; sparks.stream().forEach( spark -&gt; spark.register());\r\n       }\r\n\r\n    }\r\n\r\n    @Component\r\n    public class HelloSpark implements Spark {\r\n\r\n        @Autowired\r\n        private HelloWorldService helloWorldService;\r\n\r\n        @Override\r\n        public void register() {\r\n            get(&quot;/hello&quot;, (request, response) -&gt; helloWorldService.hello() );\r\n        }\r\n\r\n    }\r\n\r\nYou can find more on https://github.com/pmackowski/spring-boot-spark-java","title":"Does Java Spark provide any support for dependency injection or IoC containers?","body":"<p>Spring can be simply integrated with Spark. e.g. </p>\n\n<pre><code>public interface Spark {\n\n  /**\n   * adds filters, routes, exceptions, websockets and others\n   */\n   void register();\n\n}\n\n@Configuration\npublic class SparkConfiguration {\n\n   @Autowired(required = false)\n   private List&lt;Spark&gt; sparks = new ArrayList&lt;&gt;();\n\n   @Bean\n   CommandLineRunner sparkRunner() {\n       return args -&gt; sparks.stream().forEach( spark -&gt; spark.register());\n   }\n\n}\n\n@Component\npublic class HelloSpark implements Spark {\n\n    @Autowired\n    private HelloWorldService helloWorldService;\n\n    @Override\n    public void register() {\n        get(\"/hello\", (request, response) -&gt; helloWorldService.hello() );\n    }\n\n}\n</code></pre>\n\n<p>You can find more on <a href=\"https://github.com/pmackowski/spring-boot-spark-java\">https://github.com/pmackowski/spring-boot-spark-java</a></p>\n"},{"tags":[],"owner":{"account_id":2428011,"reputation":5905,"user_id":2119552,"display_name":"DevNG"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493209454,"creation_date":1493119296,"answer_id":43609306,"question_id":32086458,"body_markdown":"It is quite easy to use Guice with Java Spark. Basically you need to extend the `SparkFilter` in the following way in order to create the Guice injector.\r\n\r\n    public class SparkGuiceFilter extends SparkFilter {\r\n    \r\n    \tprivate Injector injector = null;\r\n    \r\n    \t@Override\r\n    \tprotected SparkApplication[] getApplications(final FilterConfig filterConfig) throws ServletException {\r\n    \t\tfinal SparkApplication[] applications = super.getApplications(filterConfig);\r\n    \r\n    \t\tif (this.injector == null) {\r\n    \t\t\tthis.injector = Guice.createInjector(new MainModule());\r\n    \t\t}\r\n    \r\n    \t\tif (applications != null &amp;&amp; applications.length != 0) {\r\n    \t\t\tfor (SparkApplication application : applications) {\r\n    \t\t\t\tthis.injector.injectMembers(application);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn applications;\r\n    \t}\r\n    }\r\n\r\nThen you need a `web.xml` and have to run your Spark application as a normal `war` application using Jetty or any other servlet container:\r\n\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \t\t xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \t\t version=&quot;3.0&quot;&gt;\r\n    \r\n    \t&lt;filter&gt;\r\n    \t\t&lt;filter-name&gt;SparkGuiceFilter&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;com.devng.spark.guice.SparkGuiceFilter&lt;/filter-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;applicationClass&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;com.devng.spark.SparkApp&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/filter&gt;\r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;filter-name&gt;SparkGuiceFilter&lt;/filter-name&gt;\r\n    \t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nHowever, there are some limitations with this approach. You cannot use request based or session scopes with Guice. If you don&#39;t need this then you are good to go, otherwise you need to integrate Guice Servlet Extensions and add the `GuiceFilter` in your `web.xml` as described in [the official Guice documentation][1]. You also need to make sure that you use the same injector instance in the `GuiceFilter` and the `SparkGuiceFilter` to do that you need to define a `GuiceServletContextListener` in your `web.xml` as described [here][2].\r\n\r\nYou can find a fully working example in my GitHub here [https://github.com/devng/demo/tree/master/sparkjava-guice][3]\r\n\r\n  [1]: https://github.com/google/guice/wiki/Servlets\r\n  [2]: https://github.com/google/guice/wiki/ServletModule\r\n  [3]: https://github.com/devng/demo/tree/master/sparkjava-guice","title":"Does Java Spark provide any support for dependency injection or IoC containers?","body":"<p>It is quite easy to use Guice with Java Spark. Basically you need to extend the <code>SparkFilter</code> in the following way in order to create the Guice injector.</p>\n\n<pre><code>public class SparkGuiceFilter extends SparkFilter {\n\n    private Injector injector = null;\n\n    @Override\n    protected SparkApplication[] getApplications(final FilterConfig filterConfig) throws ServletException {\n        final SparkApplication[] applications = super.getApplications(filterConfig);\n\n        if (this.injector == null) {\n            this.injector = Guice.createInjector(new MainModule());\n        }\n\n        if (applications != null &amp;&amp; applications.length != 0) {\n            for (SparkApplication application : applications) {\n                this.injector.injectMembers(application);\n            }\n        }\n\n        return applications;\n    }\n}\n</code></pre>\n\n<p>Then you need a <code>web.xml</code> and have to run your Spark application as a normal <code>war</code> application using Jetty or any other servlet container:</p>\n\n<pre><code>&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n         version=\"3.0\"&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;SparkGuiceFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.devng.spark.guice.SparkGuiceFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;applicationClass&lt;/param-name&gt;\n            &lt;param-value&gt;com.devng.spark.SparkApp&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;SparkGuiceFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>However, there are some limitations with this approach. You cannot use request based or session scopes with Guice. If you don't need this then you are good to go, otherwise you need to integrate Guice Servlet Extensions and add the <code>GuiceFilter</code> in your <code>web.xml</code> as described in <a href=\"https://github.com/google/guice/wiki/Servlets\" rel=\"noreferrer\">the official Guice documentation</a>. You also need to make sure that you use the same injector instance in the <code>GuiceFilter</code> and the <code>SparkGuiceFilter</code> to do that you need to define a <code>GuiceServletContextListener</code> in your <code>web.xml</code> as described <a href=\"https://github.com/google/guice/wiki/ServletModule\" rel=\"noreferrer\">here</a>.</p>\n\n<p>You can find a fully working example in my GitHub here <a href=\"https://github.com/devng/demo/tree/master/sparkjava-guice\" rel=\"noreferrer\">https://github.com/devng/demo/tree/master/sparkjava-guice</a></p>\n"},{"tags":[],"owner":{"account_id":1141709,"reputation":9344,"user_id":1125413,"accept_rate":62,"display_name":"pemistahl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502532278,"creation_date":1502532278,"answer_id":45648997,"question_id":32086458,"body_markdown":"I&#39;m actually experimenting with Spark and Guice and as far as I can see, using dependency injection using both is very simple, at least as of today (August 2017).\r\n\r\nAll you have to do is the following:\r\n\r\n    public class MySparkApplication {\r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            Injector injector = Guice.createInjector();\r\n            SomeClass someClass = injector.getInstance(SomeClass.class);\r\n\r\n            get(&quot;/hello&quot;, (req, res) -&gt; someClass.getSomeString());\r\n        }\r\n    }\r\n\r\nIt actually seems to be as easy as that. I just followed the [Guice Getting Started][1] guide and it works. When I run Spark and open `http://localhost:4567` in my browser, the string is displayed that is returned from my method.  \r\n\r\n\r\n  [1]: https://github.com/google/guice/wiki/GettingStarted","title":"Does Java Spark provide any support for dependency injection or IoC containers?","body":"<p>I'm actually experimenting with Spark and Guice and as far as I can see, using dependency injection using both is very simple, at least as of today (August 2017).</p>\n\n<p>All you have to do is the following:</p>\n\n<pre><code>public class MySparkApplication {\n\n    public static void main(String[] args) {\n\n        Injector injector = Guice.createInjector();\n        SomeClass someClass = injector.getInstance(SomeClass.class);\n\n        get(\"/hello\", (req, res) -&gt; someClass.getSomeString());\n    }\n}\n</code></pre>\n\n<p>It actually seems to be as easy as that. I just followed the <a href=\"https://github.com/google/guice/wiki/GettingStarted\" rel=\"nofollow noreferrer\">Guice Getting Started</a> guide and it works. When I run Spark and open <code>http://localhost:4567</code> in my browser, the string is displayed that is returned from my method.  </p>\n"},{"tags":[],"owner":{"account_id":10593773,"reputation":211,"user_id":8554524,"accept_rate":80,"display_name":"Romeortec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508922914,"creation_date":1508922914,"answer_id":46928470,"question_id":32086458,"body_markdown":"Working on my own `IoC with Guice`. It works find with not a lot of code ;)\r\n**Link:** https://github.com/Romain-P/SparkJava-JFast\r\n\r\nNo guice module required by default, auto-detect binding objects are detected.\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            /* give a class as argument for package scanning from its path recursively */\r\n            Injector injector = SparkApplication.init(Application.class);\r\n            injector.getInstance(Application.class).initialize();\r\n        }\r\n    }\r\n\r\n    @Binding\r\n    public class Application {\r\n        @Inject Service http;\r\n        @Inject HelloController helloController;\r\n    \r\n        public void initialize() {\r\n            http.port(8080);\r\n            http.get(&quot;/hello&quot;, (req, res) -&gt; helloController.hello());\r\n        }\r\n    }\r\n\r\n    @Binding\r\n    public class HelloController {\r\n        @Inject HelloService service;\r\n    \r\n        public Object hello() {\r\n            //business logic\r\n            return service.hello();\r\n        }\r\n    }\r\n\r\n    @Binding\r\n    @Slf4j\r\n    public class HelloService {\r\n        public Object hello() {\r\n            log.info(&quot;hello&quot;);\r\n            return new Object();\r\n        }\r\n    }","title":"Does Java Spark provide any support for dependency injection or IoC containers?","body":"<p>Working on my own <code>IoC with Guice</code>. It works find with not a lot of code ;)\n<strong>Link:</strong> <a href=\"https://github.com/Romain-P/SparkJava-JFast\" rel=\"nofollow noreferrer\">https://github.com/Romain-P/SparkJava-JFast</a></p>\n\n<p>No guice module required by default, auto-detect binding objects are detected.</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        /* give a class as argument for package scanning from its path recursively */\n        Injector injector = SparkApplication.init(Application.class);\n        injector.getInstance(Application.class).initialize();\n    }\n}\n\n@Binding\npublic class Application {\n    @Inject Service http;\n    @Inject HelloController helloController;\n\n    public void initialize() {\n        http.port(8080);\n        http.get(\"/hello\", (req, res) -&gt; helloController.hello());\n    }\n}\n\n@Binding\npublic class HelloController {\n    @Inject HelloService service;\n\n    public Object hello() {\n        //business logic\n        return service.hello();\n    }\n}\n\n@Binding\n@Slf4j\npublic class HelloService {\n    public Object hello() {\n        log.info(\"hello\");\n        return new Object();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2529799,"reputation":341,"user_id":5981256,"display_name":"Russell Bie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651936389,"creation_date":1651936389,"answer_id":72153798,"question_id":32086458,"body_markdown":"I think [the neutrino framework](https://github.com/disneystreaming/neutrino) fits your requirement.\r\n\r\nDisclaimer: I am the author of the neutrino framework.\r\n\r\n\r\n# What is the neutrino framework\r\nIt is a Guice-based dependency injection framework for apache spark and is designed to relieve the serialization work of development. \r\n\r\nUnlike old DI solution on spark which only apply DI at the driver, the neutrino provides the capabilities to use DI to generate objects at executors and even control their scope there.\r\n\r\nFor details, please refer to [the neutrino readme file](https://github.com/disneystreaming/neutrino).\r\n\r\n# Limitation\r\nSince this framework uses scala macro to generate some class, the guice modules and the logic of how to wire up these modules needs to be written with scala. Other classes can be java.\r\n","title":"Does Java Spark provide any support for dependency injection or IoC containers?","body":"<p>I think <a href=\"https://github.com/disneystreaming/neutrino\" rel=\"nofollow noreferrer\">the neutrino framework</a> fits your requirement.</p>\n<p>Disclaimer: I am the author of the neutrino framework.</p>\n<h1>What is the neutrino framework</h1>\n<p>It is a Guice-based dependency injection framework for apache spark and is designed to relieve the serialization work of development.</p>\n<p>Unlike old DI solution on spark which only apply DI at the driver, the neutrino provides the capabilities to use DI to generate objects at executors and even control their scope there.</p>\n<p>For details, please refer to <a href=\"https://github.com/disneystreaming/neutrino\" rel=\"nofollow noreferrer\">the neutrino readme file</a>.</p>\n<h1>Limitation</h1>\n<p>Since this framework uses scala macro to generate some class, the guice modules and the logic of how to wire up these modules needs to be written with scala. Other classes can be java.</p>\n"}],"owner":{"account_id":60325,"reputation":9034,"user_id":180253,"accept_rate":68,"display_name":"TheJediCowboy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8706,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":6,"score":10,"last_activity_date":1651936389,"creation_date":1439957663,"question_id":32086458,"body_markdown":"Having been in .NET, I am well versed in the support that micro web frameworks such as NancyFX and Web API have for IoC containers.\r\n\r\nIn similar frameworks in Ruby like Sinatra (NancyFX is based on Sinatra) it seems like you have the capability for dependency injection.\r\n\r\nFrom what I see, because Java spark applications run as the main method, it doesn&#39;t seem like you can pass in your dependencies or IoC containers.\r\n\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            get(&quot;/hello&quot;, (req, res) -&gt; &quot;Hello World&quot;);\r\n        }\r\n    }\r\n\r\nI have a hard time understanding how a framework like this could be useful without supporting this.\r\n\r\nIf this framework doesn&#39;t, is there another lightweight framework (Spring is not lightweight from what I remember, but maybe things have changed) that does support this?\r\n\r\n","title":"Does Java Spark provide any support for dependency injection or IoC containers?","body":"<p>Having been in .NET, I am well versed in the support that micro web frameworks such as NancyFX and Web API have for IoC containers.</p>\n\n<p>In similar frameworks in Ruby like Sinatra (NancyFX is based on Sinatra) it seems like you have the capability for dependency injection.</p>\n\n<p>From what I see, because Java spark applications run as the main method, it doesn't seem like you can pass in your dependencies or IoC containers.</p>\n\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        get(\"/hello\", (req, res) -&gt; \"Hello World\");\n    }\n}\n</code></pre>\n\n<p>I have a hard time understanding how a framework like this could be useful without supporting this.</p>\n\n<p>If this framework doesn't, is there another lightweight framework (Spring is not lightweight from what I remember, but maybe things have changed) that does support this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver"],"answers":[{"tags":[],"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423393454,"creation_date":1423393454,"answer_id":28393199,"question_id":28392931,"body_markdown":"I&#39;ve separated file upalod logic using **Robot**  into separate class, and made methods static. In method  `fileAttachmentUsingRobot`  to pass path to image you want to be uploaded, i.e full system path to image. \r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.datatransfer.StringSelection;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    /**\r\n     * Created by ypolshchykau on 30.01.2015.\r\n     */\r\n    public class FileAttacherRobotImplementation {\r\n        public final static Logger log = LoggerFactory.getLogger(FileAttacherRobotImplementation.class);\r\n    \r\n        /**\r\n         * this method implements file attachment using Robot mechanism\r\n         *\r\n         * @param filePathToImage\r\n         */\r\n    \r\n        public static void fileAttachmentUsingRobot(String filePathToImage) {\r\n            Robot robot = null;\r\n            try {\r\n                robot = new Robot();\r\n            } catch (AWTException e) {\r\n                e.printStackTrace();\r\n            }\r\n            setClipboardData(filePathToImage);\r\n            robot.delay(1000);\r\n    \r\n            robot.keyPress(KeyEvent.VK_CONTROL);\r\n            robot.keyPress(KeyEvent.VK_V);\r\n            robot.keyRelease(KeyEvent.VK_V);\r\n            robot.keyRelease(KeyEvent.VK_CONTROL);\r\n            robot.keyPress(KeyEvent.VK_ENTER);\r\n            robot.keyRelease(KeyEvent.VK_ENTER);\r\n        }\r\n    \r\n        /**\r\n         * method for copying file in order to attach file in File open window\r\n         *\r\n         * @param str\r\n         */\r\n        public static void setClipboardData(String str) {\r\n            StringSelection stringSelection = new StringSelection(str);\r\n            Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHope this helps you.","title":"Not able to upload file using robot class and Sendkeys","body":"<p>I've separated file upalod logic using <strong>Robot</strong>  into separate class, and made methods static. In method  <code>fileAttachmentUsingRobot</code>  to pass path to image you want to be uploaded, i.e full system path to image. </p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.awt.*;\nimport java.awt.datatransfer.StringSelection;\nimport java.awt.event.KeyEvent;\n\n/**\n * Created by ypolshchykau on 30.01.2015.\n */\npublic class FileAttacherRobotImplementation {\n    public final static Logger log = LoggerFactory.getLogger(FileAttacherRobotImplementation.class);\n\n    /**\n     * this method implements file attachment using Robot mechanism\n     *\n     * @param filePathToImage\n     */\n\n    public static void fileAttachmentUsingRobot(String filePathToImage) {\n        Robot robot = null;\n        try {\n            robot = new Robot();\n        } catch (AWTException e) {\n            e.printStackTrace();\n        }\n        setClipboardData(filePathToImage);\n        robot.delay(1000);\n\n        robot.keyPress(KeyEvent.VK_CONTROL);\n        robot.keyPress(KeyEvent.VK_V);\n        robot.keyRelease(KeyEvent.VK_V);\n        robot.keyRelease(KeyEvent.VK_CONTROL);\n        robot.keyPress(KeyEvent.VK_ENTER);\n        robot.keyRelease(KeyEvent.VK_ENTER);\n    }\n\n    /**\n     * method for copying file in order to attach file in File open window\n     *\n     * @param str\n     */\n    public static void setClipboardData(String str) {\n        StringSelection stringSelection = new StringSelection(str);\n        Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\n    }\n\n}\n</code></pre>\n\n<p>Hope this helps you.</p>\n"},{"tags":[],"owner":{"account_id":25226150,"reputation":1,"user_id":19061983,"display_name":"Roshan Ali _rehaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651936353,"creation_date":1651936353,"answer_id":72153790,"question_id":28392931,"body_markdown":"    String file = &quot;C:\\\\Users\\\\KT System\\\\Downloads\\\\sample1.xlsx&quot;;\r\n\t\t StringSelection stringselection = new StringSelection(file);\r\n        \r\n     Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringselection, null);\r\n\t\t \r\n\t\t Robot robot = new Robot();\r\n\t\t Thread.sleep(2000);\r\n\t\t robot.keyPress(KeyEvent.VK_CONTROL);\r\n\t\t Thread.sleep(2000);\r\n\t\t robot.keyPress(KeyEvent.VK_V);\r\n\t\t Thread.sleep(2000);\r\n\t\t robot.keyRelease(KeyEvent.VK_CONTROL);\r\n\t\t Thread.sleep(2000);\r\n\t\t robot.keyRelease(KeyEvent.VK_V);\r\n\t\t Thread.sleep(2000);\r\n\t\t robot.keyPress(KeyEvent.VK_ENTER);\r\n\t\t Thread.sleep(2000);\r\n\t\t robot.keyRelease(KeyEvent.VK_ENTER);","title":"Not able to upload file using robot class and Sendkeys","body":"<pre><code>String file = &quot;C:\\\\Users\\\\KT System\\\\Downloads\\\\sample1.xlsx&quot;;\n     StringSelection stringselection = new StringSelection(file);\n    \n Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringselection, null);\n     \n     Robot robot = new Robot();\n     Thread.sleep(2000);\n     robot.keyPress(KeyEvent.VK_CONTROL);\n     Thread.sleep(2000);\n     robot.keyPress(KeyEvent.VK_V);\n     Thread.sleep(2000);\n     robot.keyRelease(KeyEvent.VK_CONTROL);\n     Thread.sleep(2000);\n     robot.keyRelease(KeyEvent.VK_V);\n     Thread.sleep(2000);\n     robot.keyPress(KeyEvent.VK_ENTER);\n     Thread.sleep(2000);\n     robot.keyRelease(KeyEvent.VK_ENTER);\n</code></pre>\n"}],"owner":{"account_id":5100204,"reputation":11,"user_id":4090046,"accept_rate":60,"display_name":"Susheel Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651936353,"creation_date":1423391468,"question_id":28392931,"body_markdown":"I am not able to upload file using robot class and sendkeys.\r\n\nBelow is the code that I tried \r\n\r\n    package garbage;\r\n    \r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    import java.awt.event.KeyEvent;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    public class imageupload {\r\n    \r\n    \tstatic WebDriver driver;\r\n    \tstatic String baseURL=&quot;http://elance.wetwaresoft.com/account/register&quot;;\r\n    \t\r\n    \t\t\r\n    \tpublic static void main(String[] args) throws AWTException, InterruptedException, IOException \r\n    \t{\r\n    \t\tdriver=new FirefoxDriver();\r\n    \t\tdriver.get(baseURL);\r\n    \t\tWebElement btn=driver.findElement(By.xpath(&quot;//*[@class=&#39;fileupload-new&#39;]&quot;));\r\n    \t\tbtn.click();\r\n    \t\tSystem.out.println(&quot;Going in Robot class&quot;);\r\n    \t\tRuntime.getRuntime().exec(&quot;notepad&quot;);\r\n    \t\tRobot r=new Robot();\r\n    \t\tr.delay(1000);\r\n    \t\tr.keyPress(KeyEvent.VK_ENTER); \r\n    \t\tr.keyPress(KeyEvent.VK_D);\r\n    \t\tr.keyPress(KeyEvent.VK_SHIFT);\r\n    \t\tr.keyPress(KeyEvent.VK_SEMICOLON);\r\n    \t\tr.keyRelease(KeyEvent.VK_SHIFT);\r\n    \t\tr.keyPress(KeyEvent.VK_BACK_SLASH);\r\n    \t\tr.keyPress(KeyEvent.VK_A);\r\n    \t\tr.keyPress(KeyEvent.VK_DOWN);\r\n    \t\tr.keyPress(KeyEvent.VK_ENTER);\r\n    \t\tSystem.out.println(&quot;File uploaded&quot;);\r\n    \t}\r\n    }\r\n\r\n\t\r\n\r\nWhen I am executing my robot class code in notepad then it types the path but when I execute this in a window popup then it is not typing anything.\n\nHow can I upload file using robot and sendkeys?","title":"Not able to upload file using robot class and Sendkeys","body":"<p>I am not able to upload file using robot class and sendkeys.</p>\n\n<p>Below is the code that I tried </p>\n\n<pre><code>package garbage;\n\nimport java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.event.KeyEvent;\nimport java.io.IOException;\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class imageupload {\n\n    static WebDriver driver;\n    static String baseURL=\"http://elance.wetwaresoft.com/account/register\";\n\n\n    public static void main(String[] args) throws AWTException, InterruptedException, IOException \n    {\n        driver=new FirefoxDriver();\n        driver.get(baseURL);\n        WebElement btn=driver.findElement(By.xpath(\"//*[@class='fileupload-new']\"));\n        btn.click();\n        System.out.println(\"Going in Robot class\");\n        Runtime.getRuntime().exec(\"notepad\");\n        Robot r=new Robot();\n        r.delay(1000);\n        r.keyPress(KeyEvent.VK_ENTER); \n        r.keyPress(KeyEvent.VK_D);\n        r.keyPress(KeyEvent.VK_SHIFT);\n        r.keyPress(KeyEvent.VK_SEMICOLON);\n        r.keyRelease(KeyEvent.VK_SHIFT);\n        r.keyPress(KeyEvent.VK_BACK_SLASH);\n        r.keyPress(KeyEvent.VK_A);\n        r.keyPress(KeyEvent.VK_DOWN);\n        r.keyPress(KeyEvent.VK_ENTER);\n        System.out.println(\"File uploaded\");\n    }\n}\n</code></pre>\n\n<p>When I am executing my robot class code in notepad then it types the path but when I execute this in a window popup then it is not typing anything.</p>\n\n<p>How can I upload file using robot and sendkeys?</p>\n"},{"tags":["java","android","xml","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":20799860,"reputation":9,"user_id":15276138,"display_name":"HttpDefi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651865022,"creation_date":1651865022,"answer_id":72146466,"question_id":72128814,"body_markdown":"I fixed it!\r\n\r\nThe **problem is using a binding** in this case, so I replaced:\r\n\r\n    binding.multimediaInComment.setVisibility(View.VISIBLE)\r\n\r\nfor\r\n\r\n    Button multimediaInComment;\r\n    multimediaInComment = itemView.findViewById(R.id.multimediaInComment);\r\n    \r\n    multimediaInComment.setVisibility(View.VISIBLE)\r\n\r\nAnd now it&#39;s working :)","title":"How to make visible a element when the RecyclerView is loaded?","body":"<p>I fixed it!</p>\n<p>The <strong>problem is using a binding</strong> in this case, so I replaced:</p>\n<pre><code>binding.multimediaInComment.setVisibility(View.VISIBLE)\n</code></pre>\n<p>for</p>\n<pre><code>Button multimediaInComment;\nmultimediaInComment = itemView.findViewById(R.id.multimediaInComment);\n\nmultimediaInComment.setVisibility(View.VISIBLE)\n</code></pre>\n<p>And now it's working :)</p>\n"}],"owner":{"account_id":20799860,"reputation":9,"user_id":15276138,"display_name":"HttpDefi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651935958,"creation_date":1651760564,"question_id":72128814,"body_markdown":"I&#39;m making an social app and I want to implement a system where when you click on the comment button a Input dropdown...\r\n\r\nThe problem is that it doesn&#39;t matter what button you press, it always make visible the last &quot;Publication&quot; you did.\r\n\r\n**XML:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView\r\n        android:id=&quot;@+id/card&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;8dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;!-- Media --&gt;\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/multimediaInComment&quot;\r\n                android:background=&quot;@drawable/family&quot;\r\n                android:visibility=&quot;gone&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;194dp&quot;\r\n                android:contentDescription=&quot;Me gusta jesucristo&quot;\r\n                android:scaleType=&quot;centerCrop&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:padding=&quot;16dp&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                    &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                        android:id=&quot;@+id/imgProfileInPublication&quot;\r\n                        android:layout_width=&quot;50dp&quot;\r\n                        android:layout_height=&quot;50dp&quot;\r\n                        android:src=&quot;@drawable/defautprofilepic&quot;\r\n                        /&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/txtUsernameInPublication&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:textSize=&quot;20dp&quot;\r\n                        android:layout_marginTop=&quot;6dp&quot;\r\n                        android:layout_marginLeft=&quot;15dp&quot;\r\n                        android:gravity=&quot;center&quot;\r\n                        android:text=&quot;Username&quot;\r\n                        /&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/dateInPublication&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:layout_marginTop=&quot;8dp&quot;\r\n                        android:layout_gravity=&quot;end&quot;\r\n                        android:textAlignment=&quot;textEnd&quot;\r\n                        android:text=&quot;Fecha&quot;\r\n                        android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txtTextInPublication&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;16dp&quot;\r\n                    android:text=&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Elit sed vulputate mi sit amet. Tristique senectus et netus et malesuada fames. Turpis egestas integer eget aliquet nibh praesent. In nulla posuere sollicitudin aliquam ultrices sagittis.&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;!-- Buttons --&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;com.google.android.material.button.MaterialButton\r\n                    android:id=&quot;@+id/btnlikeInPublication&quot;\r\n                    style=&quot;?attr/borderlessButtonStyle&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:icon=&quot;@drawable/ic_baseline_thumb_up_24&quot;\r\n                    android:layout_marginEnd=&quot;8dp&quot;\r\n                    android:text=&quot;Like&quot; /&gt;\r\n\r\n                &lt;com.google.android.material.button.MaterialButton\r\n                    android:id=&quot;@+id/btnCommentInPublication&quot;\r\n                    style=&quot;?attr/borderlessButtonStyle&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:icon=&quot;@drawable/ic_baseline_mode_comment_24&quot;\r\n                    android:text=&quot; 5 comentarios&quot;/&gt;\r\n\r\n                &lt;com.google.android.material.button.MaterialButton\r\n                    android:id=&quot;@+id/btnDeletePublication&quot;\r\n                    style=&quot;?attr/borderlessButtonStyle&quot;\r\n                    android:visibility=&quot;gone&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:iconTint=&quot;@color/red_btn_bg_color&quot;\r\n                    android:textColor=&quot;@color/red_btn_bg_color&quot;\r\n                    app:icon=&quot;@drawable/ic_baseline_delete_24&quot;/&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;com.google.android.material.textfield.TextInputLayout\r\n                    android:id=&quot;@+id/textInputLayoutCommentOnPublicationScroll&quot;\r\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n                    app:endIconMode=&quot;custom&quot;\r\n                    android:visibility=&quot;gone&quot;\r\n                    app:endIconDrawable=&quot;@drawable/ic_baseline_send_24&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputEditText\r\n                        android:id=&quot;@+id/txtCommentOnPublicationScroll&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:hint=&quot;Comment to username&quot; /&gt;\r\n\r\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n**RECYCLE VIEW ADAPTER:**\r\n\r\n    public class PublicationsRecView extends \r\n    RecyclerView.Adapter&lt;PublicationsRecView.ViewHolderDatos&gt; {\r\n    // DATOS\r\n    private ArrayList&lt;Publicacion&gt; listDatos;\r\n    private PublicationCardBinding binding;\r\n    private Persona persona;\r\n\r\n    // FIREBASE\r\n    private MyFirebaseHelper myFirebaseHelper;\r\n\r\n    public PublicationsRecView(Persona personaActual, ArrayList&lt;Publicacion&gt; listDatos) {\r\n\r\n        // INICIALIZO VARIABLES\r\n        myFirebaseHelper = new MyFirebaseHelper();\r\n\r\n        this.persona = personaActual;\r\n        this.listDatos = listDatos;\r\n    }\r\n\r\n    @Override\r\n    public PublicationsRecView.ViewHolderDatos onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.publication_card,null,false);\r\n\r\n        // BINDEAMOS LA VISTA\r\n\r\n        binding = PublicationCardBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        view = binding.getRoot();\r\n\r\n        return new PublicationsRecView.ViewHolderDatos(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(PublicationsRecView.ViewHolderDatos holder, int position) {\r\n\r\n        holder.asignarDatos(listDatos.get(position));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return listDatos.size();\r\n    }\r\n\r\n    public class ViewHolderDatos extends RecyclerView.ViewHolder {\r\n\r\n\r\n        public ViewHolderDatos(View itemView) {\r\n\r\n            // NO SE NECESITA, UTILIZO BINDING\r\n            super(itemView);\r\n        }\r\n\r\n        public void asignarDatos(Publicacion publicacion) {\r\n\r\n            binding.txtUsernameInPublication.setText(&quot;@&quot;+publicacion.getUsername_autor());\r\n            binding.txtTextInPublication.setText(publicacion.getTexto());\r\n            binding.dateInPublication.setText(&quot;22/05/2020&quot;);\r\n\r\n            // SI LA PUBLICACI&#211;N NO EST&#193; VAC&#205;A SE MUESTRA LA FOTO\r\n            if(publicacion.getMultimedia()!=null){\r\n\r\n                binding.multimediaInComment.setVisibility(View.VISIBLE);\r\n            }\r\n\r\n            // PARA BORRAR SOLO LAS PUBLICACIONES PROPIAS\r\n            if(persona.getId_persona().equals(publicacion.getId_persona())){\r\n\r\n                binding.btnDeletePublication.setVisibility(View.VISIBLE);\r\n                binding.btnDeletePublication.setOnClickListener(view -&gt; {\r\n\r\n                    myFirebaseHelper.eliminarPublicacion(publicacion.getId_publicacion()).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NotNull Task&lt;Void&gt; task) {\r\n\r\n                            if(task.isSuccessful()){\r\n\r\n                                new KAlertDialog(binding.btnDeletePublication.getContext(), KAlertDialog.CUSTOM_IMAGE_TYPE)\r\n                                        .setTitleText(&quot;Oookay!&quot;)\r\n                                        .setContentText(&quot;Publicacion eliminada&quot;)\r\n                                        .setCustomImage(R.drawable.ic_baseline_delete_24, binding.btnDeletePublication.getContext())\r\n                                        .show();\r\n                            }else{\r\n\r\n                                new KAlertDialog(binding.btnDeletePublication.getContext(), KAlertDialog.CUSTOM_IMAGE_TYPE)\r\n                                        .setTitleText(&quot;Ooops!&quot;)\r\n                                        .setContentText(&quot;Error al borrar la publicaci&#243;n&quot;)\r\n                                        .setCustomImage(R.drawable.ic_baseline_error_24, binding.btnDeletePublication.getContext())\r\n                                        .show();\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            // PARA EL DESPLEGABLE DE LOS COMENTARIOS\r\n\r\n            // SI EST&#193; DESPLEGADO LO CIERRA, SINO LO ABRE\r\n            binding.txtCommentOnPublicationScroll.setHint(&quot;Comment to &quot;+publicacion.getUsername_autor());\r\n            binding.btnCommentInPublication.setOnClickListener(view -&gt; {\r\n\r\n                System.out.println(&quot;--------&quot; + publicacion.toString());\r\n\r\n                if(binding.textInputLayoutCommentOnPublicationScroll.getVisibility() == View.GONE){\r\n\r\n                    binding.textInputLayoutCommentOnPublicationScroll.setVisibility(View.VISIBLE);\r\n                    binding.txtCommentOnPublicationScroll.requestFocus();\r\n                }else{\r\n\r\n                    binding.textInputLayoutCommentOnPublicationScroll.setVisibility(View.GONE);\r\n                }\r\n\r\n            });\r\n\r\n        }\r\n    }\r\n}\r\n\r\nThis is a photo where I clicked on the first comment button...\r\n[Emulator img][1]\r\n\r\nThank you in advance, I&#39;m new here.\r\n\r\n  [1]: https://i.stack.imgur.com/pqevD.png","title":"How to make visible a element when the RecyclerView is loaded?","body":"<p>I'm making an social app and I want to implement a system where when you click on the comment button a Input dropdown...</p>\n<p>The problem is that it doesn't matter what button you press, it always make visible the last &quot;Publication&quot; you did.</p>\n<p><strong>XML:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n&lt;com.google.android.material.card.MaterialCardView\n    android:id=&quot;@+id/card&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;8dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;!-- Media --&gt;\n        &lt;ImageView\n            android:id=&quot;@+id/multimediaInComment&quot;\n            android:background=&quot;@drawable/family&quot;\n            android:visibility=&quot;gone&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;194dp&quot;\n            android:contentDescription=&quot;Me gusta jesucristo&quot;\n            android:scaleType=&quot;centerCrop&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:padding=&quot;16dp&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;de.hdodenhof.circleimageview.CircleImageView\n                    android:id=&quot;@+id/imgProfileInPublication&quot;\n                    android:layout_width=&quot;50dp&quot;\n                    android:layout_height=&quot;50dp&quot;\n                    android:src=&quot;@drawable/defautprofilepic&quot;\n                    /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/txtUsernameInPublication&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:textSize=&quot;20dp&quot;\n                    android:layout_marginTop=&quot;6dp&quot;\n                    android:layout_marginLeft=&quot;15dp&quot;\n                    android:gravity=&quot;center&quot;\n                    android:text=&quot;Username&quot;\n                    /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/dateInPublication&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_gravity=&quot;end&quot;\n                    android:textAlignment=&quot;textEnd&quot;\n                    android:text=&quot;Fecha&quot;\n                    android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/txtTextInPublication&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:text=&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Elit sed vulputate mi sit amet. Tristique senectus et netus et malesuada fames. Turpis egestas integer eget aliquet nibh praesent. In nulla posuere sollicitudin aliquam ultrices sagittis.&quot;\n                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                android:textColor=&quot;?android:attr/textColorSecondary&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;!-- Buttons --&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;8dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:id=&quot;@+id/btnlikeInPublication&quot;\n                style=&quot;?attr/borderlessButtonStyle&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:icon=&quot;@drawable/ic_baseline_thumb_up_24&quot;\n                android:layout_marginEnd=&quot;8dp&quot;\n                android:text=&quot;Like&quot; /&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:id=&quot;@+id/btnCommentInPublication&quot;\n                style=&quot;?attr/borderlessButtonStyle&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:icon=&quot;@drawable/ic_baseline_mode_comment_24&quot;\n                android:text=&quot; 5 comentarios&quot;/&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:id=&quot;@+id/btnDeletePublication&quot;\n                style=&quot;?attr/borderlessButtonStyle&quot;\n                android:visibility=&quot;gone&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:iconTint=&quot;@color/red_btn_bg_color&quot;\n                android:textColor=&quot;@color/red_btn_bg_color&quot;\n                app:icon=&quot;@drawable/ic_baseline_delete_24&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;8dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputLayout\n                android:id=&quot;@+id/textInputLayoutCommentOnPublicationScroll&quot;\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n                app:endIconMode=&quot;custom&quot;\n                android:visibility=&quot;gone&quot;\n                app:endIconDrawable=&quot;@drawable/ic_baseline_send_24&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;com.google.android.material.textfield.TextInputEditText\n                    android:id=&quot;@+id/txtCommentOnPublicationScroll&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:hint=&quot;Comment to username&quot; /&gt;\n\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/com.google.android.material.card.MaterialCardView&gt;\n</code></pre>\n\n<p><strong>RECYCLE VIEW ADAPTER:</strong></p>\n<pre><code>public class PublicationsRecView extends \nRecyclerView.Adapter&lt;PublicationsRecView.ViewHolderDatos&gt; {\n// DATOS\nprivate ArrayList&lt;Publicacion&gt; listDatos;\nprivate PublicationCardBinding binding;\nprivate Persona persona;\n\n// FIREBASE\nprivate MyFirebaseHelper myFirebaseHelper;\n\npublic PublicationsRecView(Persona personaActual, ArrayList&lt;Publicacion&gt; listDatos) {\n\n    // INICIALIZO VARIABLES\n    myFirebaseHelper = new MyFirebaseHelper();\n\n    this.persona = personaActual;\n    this.listDatos = listDatos;\n}\n\n@Override\npublic PublicationsRecView.ViewHolderDatos onCreateViewHolder(ViewGroup parent, int viewType) {\n\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.publication_card,null,false);\n\n    // BINDEAMOS LA VISTA\n\n    binding = PublicationCardBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\n    view = binding.getRoot();\n\n    return new PublicationsRecView.ViewHolderDatos(view);\n}\n\n@Override\npublic void onBindViewHolder(PublicationsRecView.ViewHolderDatos holder, int position) {\n\n    holder.asignarDatos(listDatos.get(position));\n}\n\n@Override\npublic int getItemCount() {\n    return listDatos.size();\n}\n\npublic class ViewHolderDatos extends RecyclerView.ViewHolder {\n\n\n    public ViewHolderDatos(View itemView) {\n\n        // NO SE NECESITA, UTILIZO BINDING\n        super(itemView);\n    }\n\n    public void asignarDatos(Publicacion publicacion) {\n\n        binding.txtUsernameInPublication.setText(&quot;@&quot;+publicacion.getUsername_autor());\n        binding.txtTextInPublication.setText(publicacion.getTexto());\n        binding.dateInPublication.setText(&quot;22/05/2020&quot;);\n\n        // SI LA PUBLICACIÓN NO ESTÁ VACÍA SE MUESTRA LA FOTO\n        if(publicacion.getMultimedia()!=null){\n\n            binding.multimediaInComment.setVisibility(View.VISIBLE);\n        }\n\n        // PARA BORRAR SOLO LAS PUBLICACIONES PROPIAS\n        if(persona.getId_persona().equals(publicacion.getId_persona())){\n\n            binding.btnDeletePublication.setVisibility(View.VISIBLE);\n            binding.btnDeletePublication.setOnClickListener(view -&gt; {\n\n                myFirebaseHelper.eliminarPublicacion(publicacion.getId_publicacion()).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NotNull Task&lt;Void&gt; task) {\n\n                        if(task.isSuccessful()){\n\n                            new KAlertDialog(binding.btnDeletePublication.getContext(), KAlertDialog.CUSTOM_IMAGE_TYPE)\n                                    .setTitleText(&quot;Oookay!&quot;)\n                                    .setContentText(&quot;Publicacion eliminada&quot;)\n                                    .setCustomImage(R.drawable.ic_baseline_delete_24, binding.btnDeletePublication.getContext())\n                                    .show();\n                        }else{\n\n                            new KAlertDialog(binding.btnDeletePublication.getContext(), KAlertDialog.CUSTOM_IMAGE_TYPE)\n                                    .setTitleText(&quot;Ooops!&quot;)\n                                    .setContentText(&quot;Error al borrar la publicación&quot;)\n                                    .setCustomImage(R.drawable.ic_baseline_error_24, binding.btnDeletePublication.getContext())\n                                    .show();\n                        }\n                    }\n                });\n            });\n        }\n\n        // PARA EL DESPLEGABLE DE LOS COMENTARIOS\n\n        // SI ESTÁ DESPLEGADO LO CIERRA, SINO LO ABRE\n        binding.txtCommentOnPublicationScroll.setHint(&quot;Comment to &quot;+publicacion.getUsername_autor());\n        binding.btnCommentInPublication.setOnClickListener(view -&gt; {\n\n            System.out.println(&quot;--------&quot; + publicacion.toString());\n\n            if(binding.textInputLayoutCommentOnPublicationScroll.getVisibility() == View.GONE){\n\n                binding.textInputLayoutCommentOnPublicationScroll.setVisibility(View.VISIBLE);\n                binding.txtCommentOnPublicationScroll.requestFocus();\n            }else{\n\n                binding.textInputLayoutCommentOnPublicationScroll.setVisibility(View.GONE);\n            }\n\n        });\n\n    }\n}\n</code></pre>\n<p>}</p>\n<p>This is a photo where I clicked on the first comment button...\n<a href=\"https://i.stack.imgur.com/pqevD.png\" rel=\"nofollow noreferrer\">Emulator img</a></p>\n<p>Thank you in advance, I'm new here.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1651906028,"post_id":72150094,"comment_id":127480347,"body_markdown":"First, create a single instance of `ListClass` and pass it to each instance of `ThreadClass` (by the way, notice I&#39;m using `CamelCase`, as is conventional for class names in Java). Then make sure you synchronize on an object (could be `someList` or the instance of `ListClass` itself) so that the needed _happens-before_ relationships are created.","body":"First, create a single instance of <code>ListClass</code> and pass it to each instance of <code>ThreadClass</code> (by the way, notice I&#39;m using <code>CamelCase</code>, as is conventional for class names in Java). Then make sure you synchronize on an object (could be <code>someList</code> or the instance of <code>ListClass</code> itself) so that the needed <i>happens-before</i> relationships are created."},{"owner":{"account_id":19933890,"reputation":638,"user_id":14606987,"display_name":"yemy"},"score":0,"creation_date":1651907076,"post_id":72150094,"comment_id":127480475,"body_markdown":"What does it mean to have a single instance of `ListClass`? How do I do this? @Slaw","body":"What does it mean to have a single instance of <code>ListClass</code>? How do I do this? @Slaw"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1651907691,"post_id":72150094,"comment_id":127480564,"body_markdown":"In `ThreadClass` you have `ListClass listClassObject = new ListClass()`. That&#39;s creating an instance of `ListClass` at the same time as when an instance of `ThreadClass` is created. But you are creating **two** instances of `ThreadClass` (in the `main` method), which means ultimately this code results in **two** instances of `ListClass` being created. Don&#39;t do that. Create a single instance of `ListClass` and pass it to the constructor calls of `ThreadClass` (you&#39;ll have to add a parameter). See the first and second code blocks in [paolo&#39;s answer](https://stackoverflow.com/a/72150208/6395627).","body":"In <code>ThreadClass</code> you have <code>ListClass listClassObject = new ListClass()</code>. That&#39;s creating an instance of <code>ListClass</code> at the same time as when an instance of <code>ThreadClass</code> is created. But you are creating <b>two</b> instances of <code>ThreadClass</code> (in the <code>main</code> method), which means ultimately this code results in <b>two</b> instances of <code>ListClass</code> being created. Don&#39;t do that. Create a single instance of <code>ListClass</code> and pass it to the constructor calls of <code>ThreadClass</code> (you&#39;ll have to add a parameter). See the first and second code blocks in <a href=\"https://stackoverflow.com/a/72150208/6395627\">paolo&#39;s answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651906372,"creation_date":1651906372,"answer_id":72150163,"question_id":72150094,"body_markdown":"In modern Java, we rarely address the `Thread` class directly. Instead, use the Executors framework added to Java 5. This has been covered in many existing Questions and Answers, so search to learn more.\r\n\r\nDefine your tasks as a `Runnable` rather than a `Thread`.\r\n\r\nAs for sharing your list manager across threads, make one instance. Be sure your list manager is thread-safe. Your current implementation is not thread-safe. One solution would be marking both the add and delete methods as `synchronized`.\r\n\r\nPass the one instance of your list manager object to the constructor of your `Runnable` task objects. Each `Runnable` keeps a reference to that list manager as a private member field. All your runnables then share the same single list manager.\r\n\r\nSubmit all your `Runnable` objects to an `ExecutorService`. \r\n\r\nAgain, all this has been covered many times already. Search to learn more.\r\n\r\n","title":"How to let threads manipulate the same list Java","body":"<p>In modern Java, we rarely address the <code>Thread</code> class directly. Instead, use the Executors framework added to Java 5. This has been covered in many existing Questions and Answers, so search to learn more.</p>\n<p>Define your tasks as a <code>Runnable</code> rather than a <code>Thread</code>.</p>\n<p>As for sharing your list manager across threads, make one instance. Be sure your list manager is thread-safe. Your current implementation is not thread-safe. One solution would be marking both the add and delete methods as <code>synchronized</code>.</p>\n<p>Pass the one instance of your list manager object to the constructor of your <code>Runnable</code> task objects. Each <code>Runnable</code> keeps a reference to that list manager as a private member field. All your runnables then share the same single list manager.</p>\n<p>Submit all your <code>Runnable</code> objects to an <code>ExecutorService</code>.</p>\n<p>Again, all this has been covered many times already. Search to learn more.</p>\n"},{"tags":[],"owner":{"account_id":19466912,"reputation":101,"user_id":14240029,"display_name":"Paolo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651907392,"creation_date":1651906851,"answer_id":72150208,"question_id":72150094,"body_markdown":"I think that happens because you are instantiating a new listClass inside each threadClass object so when you modify the list, you are actually modifing in each thread their own &quot;local&quot; copy.\r\nTry to instantiate the list in your main function and then pass it to your threads, so you&#39;ll have a single instance of your list class manipulated by both your threads.\r\n\r\n    public static void main(String[] args){\r\n        listClass myList = new listClass();\r\n        threadClass threadForAddingMediaFiles = new threadClass(1, myList);\r\n        threadClass threadForDeletionMediaFiles = new threadClass(2, myList);\r\n        threadForAddingMediaFiles.start();\r\n        threadForDeletionMediaFiles.start();\r\n    \r\n    \r\nThen modify your thread implementation:\r\n\r\n    public class threadClass extends Thread{\r\n    private int threadNumber;\r\n    private listClass listToHandle;\r\n    public ThreadClass(int threadNumber, listClass listToHandle){\r\n        this.threadNumber = threadNumber;\r\n        this.listToHandle = listToHandle;\r\n    }\r\n\r\n    public void run(){\r\n        if(threadNumber == 1){\r\n            while(true){/*add*/}\r\n        }\r\n        else if(threadNumber ==2){\r\n                while(true){/*delete*/}\r\n        }\r\n    }\r\n    }\r\n\r\nFinally remember to to put both your add and delete method in your listclass as synchronized, or you&#39;ll have some problems regarding concurrent access.\r\n\r\n    public class listClass{\r\n    private List&lt;T&gt; someList = new ArrayList&lt;&gt;();\r\n\r\n    public synchronized void add(){\r\n        //adds to list\r\n    }\r\n\r\n    public synchronized void delete(){\r\n        //deletes from list\r\n    }\r\n    }\r\n\r\nYou may also give a look to [CopyOnWriteArrayList][1], which is a thread-safe implementation of ArrayList. However, as said in the docs, this is ordinarily a costly implementation and might be not a suitable solution for your problem.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html","title":"How to let threads manipulate the same list Java","body":"<p>I think that happens because you are instantiating a new listClass inside each threadClass object so when you modify the list, you are actually modifing in each thread their own &quot;local&quot; copy.\nTry to instantiate the list in your main function and then pass it to your threads, so you'll have a single instance of your list class manipulated by both your threads.</p>\n<pre><code>public static void main(String[] args){\n    listClass myList = new listClass();\n    threadClass threadForAddingMediaFiles = new threadClass(1, myList);\n    threadClass threadForDeletionMediaFiles = new threadClass(2, myList);\n    threadForAddingMediaFiles.start();\n    threadForDeletionMediaFiles.start();\n</code></pre>\n<p>Then modify your thread implementation:</p>\n<pre><code>public class threadClass extends Thread{\nprivate int threadNumber;\nprivate listClass listToHandle;\npublic ThreadClass(int threadNumber, listClass listToHandle){\n    this.threadNumber = threadNumber;\n    this.listToHandle = listToHandle;\n}\n\npublic void run(){\n    if(threadNumber == 1){\n        while(true){/*add*/}\n    }\n    else if(threadNumber ==2){\n            while(true){/*delete*/}\n    }\n}\n}\n</code></pre>\n<p>Finally remember to to put both your add and delete method in your listclass as synchronized, or you'll have some problems regarding concurrent access.</p>\n<pre><code>public class listClass{\nprivate List&lt;T&gt; someList = new ArrayList&lt;&gt;();\n\npublic synchronized void add(){\n    //adds to list\n}\n\npublic synchronized void delete(){\n    //deletes from list\n}\n}\n</code></pre>\n<p>You may also give a look to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow noreferrer\">CopyOnWriteArrayList</a>, which is a thread-safe implementation of ArrayList. However, as said in the docs, this is ordinarily a costly implementation and might be not a suitable solution for your problem.</p>\n"},{"tags":[],"owner":{"account_id":2140858,"reputation":53,"user_id":1899526,"display_name":"HienNg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651909426,"creation_date":1651909426,"answer_id":72150490,"question_id":72150094,"body_markdown":"You can use Collections.synchronizedList() then no need to add synchronous into add/delete method. Create an instance of the ListClass and then pass it to both constructors of 2 threads.\r\n\r\n    class listClass\r\n    {\r\n          private List&lt;T&gt; someList = Collections.synchronizedList(new ArrayList&lt;&gt;());    \r\n    }","title":"How to let threads manipulate the same list Java","body":"<p>You can use Collections.synchronizedList() then no need to add synchronous into add/delete method. Create an instance of the ListClass and then pass it to both constructors of 2 threads.</p>\n<pre><code>class listClass\n{\n      private List&lt;T&gt; someList = Collections.synchronizedList(new ArrayList&lt;&gt;());    \n}\n</code></pre>\n"}],"owner":{"account_id":19933890,"reputation":638,"user_id":14606987,"display_name":"yemy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72150208,"answer_count":3,"score":0,"last_activity_date":1651935814,"creation_date":1651905556,"question_id":72150094,"body_markdown":"I have an class where I define a list with an add and deletion method like here:\r\n```java\r\npublic class listClass{\r\n    private List&lt;T&gt; someList = new ArrayList&lt;&gt;();\r\n\r\n    public void add(){\r\n        //adds to list\r\n    }\r\n\r\n    public void delete(){\r\n        //deletes from list\r\n    }\r\n}\r\n```\r\n\r\nI have another class where I define two threads and a object from where I can access my list. One thread should use the add method to add continuously to the list and another thread should use the delete method to delete continuously from the list respective to there thread numbers:\r\n\r\n```java\r\npublic class threadClass extends Thread{\r\n    private int threadNumber;\r\n    public ThreadClass(int threadNumber){\r\n        this.threadNumber = threadNumber;\r\n    }\r\n\r\n    listClass listClassObject = new listClass();\r\n\r\n    public void run(){\r\n        if(threadNumber == 1){\r\n            while(true){/*add*/}\r\n        }\r\n        else if(threadNumber ==2){\r\n                while(true){/*delete*/}\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHow can I do that so that both threads manipulating one and the same list?\r\n\r\nMy current implementation has a different class with a main method where I call the threads like here:\r\n\r\n```java\r\npublic static void main(String[] args){\r\n        threadClass threadForAddingMediaFiles = new threadClass(1);\r\n        threadClass threadForDeletionMediaFiles = new threadClass(2);\r\n        threadForAddingMediaFiles.start();\r\n        threadForDeletionMediaFiles.start();\r\n```\r\n\r\nThe problem with the current implementation is that every thread creates his own instance of the list (which is clear to me because the list is in the same class) and so every thread does manipulate his own list and not one universal list.","title":"How to let threads manipulate the same list Java","body":"<p>I have an class where I define a list with an add and deletion method like here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class listClass{\n    private List&lt;T&gt; someList = new ArrayList&lt;&gt;();\n\n    public void add(){\n        //adds to list\n    }\n\n    public void delete(){\n        //deletes from list\n    }\n}\n</code></pre>\n<p>I have another class where I define two threads and a object from where I can access my list. One thread should use the add method to add continuously to the list and another thread should use the delete method to delete continuously from the list respective to there thread numbers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class threadClass extends Thread{\n    private int threadNumber;\n    public ThreadClass(int threadNumber){\n        this.threadNumber = threadNumber;\n    }\n\n    listClass listClassObject = new listClass();\n\n    public void run(){\n        if(threadNumber == 1){\n            while(true){/*add*/}\n        }\n        else if(threadNumber ==2){\n                while(true){/*delete*/}\n        }\n    }\n}\n</code></pre>\n<p>How can I do that so that both threads manipulating one and the same list?</p>\n<p>My current implementation has a different class with a main method where I call the threads like here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args){\n        threadClass threadForAddingMediaFiles = new threadClass(1);\n        threadClass threadForDeletionMediaFiles = new threadClass(2);\n        threadForAddingMediaFiles.start();\n        threadForDeletionMediaFiles.start();\n</code></pre>\n<p>The problem with the current implementation is that every thread creates his own instance of the list (which is clear to me because the list is in the same class) and so every thread does manipulate his own list and not one universal list.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8625,"page":1367,"page_size":100}
