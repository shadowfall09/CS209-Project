{"items":[{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1591205796,"post_id":62179148,"comment_id":109970450,"body_markdown":"it should be part of application.properties file check this answer https://stackoverflow.com/a/21083284/2704032","body":"it should be part of application.properties file check this answer <a href=\"https://stackoverflow.com/a/21083284/2704032\">stackoverflow.com/a/21083284/2704032</a>"},{"owner":{"account_id":10024896,"reputation":25,"user_id":7413320,"display_name":"Ravi shankar"},"score":0,"creation_date":1591205912,"post_id":62179148,"comment_id":109970517,"body_markdown":"but that port also not running and after sometime automatically shutting down.","body":"but that port also not running and after sometime automatically shutting down."},{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1591206273,"post_id":62179148,"comment_id":109970696,"body_markdown":"are you using docker? if yes, check the entrypoint","body":"are you using docker? if yes, check the entrypoint"},{"owner":{"account_id":10024896,"reputation":25,"user_id":7413320,"display_name":"Ravi shankar"},"score":0,"creation_date":1591206854,"post_id":62179148,"comment_id":109971016,"body_markdown":"NO. i am not using entrypoint","body":"NO. i am not using entrypoint"},{"owner":{"display_name":"user7999267"},"score":0,"creation_date":1591206957,"post_id":62179148,"comment_id":109971066,"body_markdown":"could you see in console and print the stacktrace here","body":"could you see in console and print the stacktrace here"},{"owner":{"account_id":10024896,"reputation":25,"user_id":7413320,"display_name":"Ravi shankar"},"score":0,"creation_date":1591207228,"post_id":62179148,"comment_id":109971200,"body_markdown":"now i added that console log also.","body":"now i added that console log also."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1591208380,"post_id":62179148,"comment_id":109971771,"body_markdown":"And it should keep running because? I suspect you set a property indicating it is a web based application to `false` either in your `main`  method or in your `application.properties`. Then there is nothing left and it will directly shutdown. Adding more dependencies won&#39;t help. Fix your config or bootstrap code.","body":"And it should keep running because? I suspect you set a property indicating it is a web based application to <code>false</code> either in your <code>main</code>  method or in your <code>application.properties</code>. Then there is nothing left and it will directly shutdown. Adding more dependencies won&#39;t help. Fix your config or bootstrap code."},{"owner":{"account_id":10024896,"reputation":25,"user_id":7413320,"display_name":"Ravi shankar"},"score":0,"creation_date":1591209492,"post_id":62179148,"comment_id":109972377,"body_markdown":"i added application.properties and main method also... could you please look on that code also..","body":"i added application.properties and main method also... could you please look on that code also.."},{"owner":{"account_id":15014315,"reputation":634,"user_id":10837776,"display_name":"Ibrahim AlTamimi"},"score":0,"creation_date":1591210404,"post_id":62179148,"comment_id":109972893,"body_markdown":"I think you miss `driverClassName` in application.properties, And the driver dependency (MySQL Connector)","body":"I think you miss <code>driverClassName</code> in application.properties, And the driver dependency (MySQL Connector)"}],"answers":[{"tags":[],"owner":{"account_id":10024896,"reputation":25,"user_id":7413320,"display_name":"Ravi shankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591250833,"creation_date":1591250833,"answer_id":62187891,"question_id":62179148,"body_markdown":"I changed parent version *2.3.0.RELEASE* to *2.2.1.RELEASE*. Now working fine.\r\n\r\n","title":"Spring Boot application shutting down immediately","body":"<p>I changed parent version <em>2.3.0.RELEASE</em> to <em>2.2.1.RELEASE</em>. Now working fine.</p>\n"},{"tags":[],"owner":{"account_id":7774938,"reputation":1,"user_id":5883340,"display_name":"Vignesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685696510,"creation_date":1685696510,"answer_id":76388671,"question_id":62179148,"body_markdown":"Try to remove the code `&lt;scope&gt;provided&lt;/scope&gt;` for the artifactId `spring-boot-starter-tomcat` and rerun the application","title":"Spring Boot application shutting down immediately","body":"<p>Try to remove the code <code>&lt;scope&gt;provided&lt;/scope&gt;</code> for the artifactId <code>spring-boot-starter-tomcat</code> and rerun the application</p>\n"},{"tags":[],"owner":{"account_id":18016088,"reputation":1,"user_id":13094571,"display_name":"Roberto Baggio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686115601,"creation_date":1686115601,"answer_id":76420104,"question_id":62179148,"body_markdown":"I have a same problem my application. how to fix this problems, ı will say to you.\r\n\r\nyou must change &quot;spring-starter-test&quot; in application.properties, then save with ctrl+s(You can use maven repository for this).\r\n\r\nOld version spring starter web have a vulnerabilitiy, therefore intellij shutting your application","title":"Spring Boot application shutting down immediately","body":"<p>I have a same problem my application. how to fix this problems, ı will say to you.</p>\n<p>you must change &quot;spring-starter-test&quot; in application.properties, then save with ctrl+s(You can use maven repository for this).</p>\n<p>Old version spring starter web have a vulnerabilitiy, therefore intellij shutting your application</p>\n"}],"owner":{"account_id":10024896,"reputation":25,"user_id":7413320,"display_name":"Ravi shankar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1478,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686115601,"creation_date":1591205714,"question_id":62179148,"body_markdown":"Why spring boot application is shutting down automatically.\r\n\r\nMessage that is showing in console.\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.3.0.RELEASE)\r\n\r\n2020-06-03 23:25:43.794  INFO 26936 --- [           main] c.e.d.DatajpaexampleApplication          : Starting DatajpaexampleApplication on HMECL002810A with PID 26936 (C:\\Users\\Ravishankar.kumar\\Desktop\\MyWorkspace\\SpringDataJpa\\datajpaexample\\target\\classes started by Ravishankar.kumar in C:\\Users\\Ravishankar.kumar\\Desktop\\MyWorkspace\\SpringDataJpa\\datajpaexample)\r\n2020-06-03 23:25:43.797  INFO 26936 --- [           main] c.e.d.DatajpaexampleApplication          : No active profile set, falling back to default profiles: default\r\n2020-06-03 23:25:44.467  INFO 26936 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.\r\n2020-06-03 23:25:44.515  INFO 26936 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27ms. Found 0 JPA repository interfaces.\r\n2020-06-03 23:25:45.148  INFO 26936 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n2020-06-03 23:25:45.161  INFO 26936 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2020-06-03 23:25:46.299  INFO 26936 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2020-06-03 23:25:46.358  INFO 26936 --- [         task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2020-06-03 23:25:46.495  INFO 26936 --- [         task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final\r\n2020-06-03 23:25:46.571  INFO 26936 --- [           main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…\r\n2020-06-03 23:25:46.571  INFO 26936 --- [           main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!\r\n2020-06-03 23:25:46.583  INFO 26936 --- [           main] c.e.d.DatajpaexampleApplication          : Started DatajpaexampleApplication in 3.261 seconds (JVM running for 3.692)\r\n2020-06-03 23:25:46.787  INFO 26936 --- [         task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n2020-06-03 23:25:47.041  INFO 26936 --- [         task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n2020-06-03 23:25:47.351  INFO 26936 --- [         task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2020-06-03 23:25:47.360  INFO 26936 --- [         task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2020-06-03 23:26:47.396  INFO 26936 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2020-06-03 23:26:47.410  INFO 26936 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n2020-06-03 23:26:47.411  INFO 26936 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2020-06-03 23:26:47.419  INFO 26936 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\n```\r\n\r\nPOM.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;datajpaexample&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;datajpaexample&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.datasource.url = jdbc:mysql://localhost:3306/test_datajpa\r\nspring.datasource.username = root\r\nspring.datasource.password = root\r\n\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\nserver.port = 8085\r\n\r\n```\r\n\r\nDatajpaexampleApplication.class\r\n\r\n```\r\npackage com.example.datajpaexample;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DatajpaexampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DatajpaexampleApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nI tried multiple things, but same problem.\r\n\r\n1. i deleted *C:\\Users\\classpath\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\8.5.32\\*\r\n\r\n2. Added these extra dependencies\r\n   ```\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t &lt;/dependency&gt;\r\n  ```\r\nCould anyone help me out.","title":"Spring Boot application shutting down immediately","body":"<p>Why spring boot application is shutting down automatically.</p>\n\n<p>Message that is showing in console.</p>\n\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.3.0.RELEASE)\n\n2020-06-03 23:25:43.794  INFO 26936 --- [           main] c.e.d.DatajpaexampleApplication          : Starting DatajpaexampleApplication on HMECL002810A with PID 26936 (C:\\Users\\Ravishankar.kumar\\Desktop\\MyWorkspace\\SpringDataJpa\\datajpaexample\\target\\classes started by Ravishankar.kumar in C:\\Users\\Ravishankar.kumar\\Desktop\\MyWorkspace\\SpringDataJpa\\datajpaexample)\n2020-06-03 23:25:43.797  INFO 26936 --- [           main] c.e.d.DatajpaexampleApplication          : No active profile set, falling back to default profiles: default\n2020-06-03 23:25:44.467  INFO 26936 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.\n2020-06-03 23:25:44.515  INFO 26936 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27ms. Found 0 JPA repository interfaces.\n2020-06-03 23:25:45.148  INFO 26936 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2020-06-03 23:25:45.161  INFO 26936 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2020-06-03 23:25:46.299  INFO 26936 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2020-06-03 23:25:46.358  INFO 26936 --- [         task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2020-06-03 23:25:46.495  INFO 26936 --- [         task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final\n2020-06-03 23:25:46.571  INFO 26936 --- [           main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…\n2020-06-03 23:25:46.571  INFO 26936 --- [           main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!\n2020-06-03 23:25:46.583  INFO 26936 --- [           main] c.e.d.DatajpaexampleApplication          : Started DatajpaexampleApplication in 3.261 seconds (JVM running for 3.692)\n2020-06-03 23:25:46.787  INFO 26936 --- [         task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2020-06-03 23:25:47.041  INFO 26936 --- [         task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n2020-06-03 23:25:47.351  INFO 26936 --- [         task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2020-06-03 23:25:47.360  INFO 26936 --- [         task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2020-06-03 23:26:47.396  INFO 26936 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2020-06-03 23:26:47.410  INFO 26936 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n2020-06-03 23:26:47.411  INFO 26936 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2020-06-03 23:26:47.419  INFO 26936 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\n</code></pre>\n\n<p>POM.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;datajpaexample&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;datajpaexample&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/test_datajpa\nspring.datasource.username = root\nspring.datasource.password = root\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\n\nserver.port = 8085\n\n</code></pre>\n\n<p>DatajpaexampleApplication.class</p>\n\n<pre><code>package com.example.datajpaexample;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DatajpaexampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DatajpaexampleApplication.class, args);\n    }\n\n}\n\n</code></pre>\n\n<p>I tried multiple things, but same problem.</p>\n\n<ol>\n<li><p>i deleted *C:\\Users\\classpath.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\8.5.32*</p></li>\n<li><p>Added these extra dependencies</p></li>\n</ol>\n\n<pre><code>   &lt;dependency&gt;\n     &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n     &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n     &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n     &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p>Could anyone help me out.</p>\n"},{"tags":["java","tomcat"],"owner":{"account_id":4717018,"reputation":465,"user_id":3815923,"display_name":"thomson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686115127,"creation_date":1686115127,"question_id":76420067,"body_markdown":"I am facing an issue in Linux server that webserver service is restarting automatically frequently. I tried to enable debug logs by changing the all logging properties in tomcat-8.5.79/conf/logging.proprties. But I see only INFO logs but no FINE or FINER or FINEST logs.\r\n\r\n**logging.properties**\r\n\r\n&lt;pre&gt;\r\n\r\n    1catalina.org.apache.juli.AsyncFileHandler.level = FINEST\r\n    1catalina.org.apache.juli.AsyncFileHandler.directory = ${catalina.base}/logs\r\n    1catalina.org.apache.juli.AsyncFileHandler.prefix = catalina.\r\n    1catalina.org.apache.juli.AsyncFileHandler.encoding = UTF-8\r\n\r\n    2localhost.org.apache.juli.AsyncFileHandler.level = FINEST\r\n    2localhost.org.apache.juli.AsyncFileHandler.directory = ${catalina.base}/logs\r\n    2localhost.org.apache.juli.AsyncFileHandler.prefix = localhost.\r\n    2localhost.org.apache.juli.AsyncFileHandler.encoding = UTF-8\r\n\r\n    3manager.org.apache.juli.AsyncFileHandler.level = FINEST\r\n    3manager.org.apache.juli.AsyncFileHandler.directory = ${catalina.base}/logs\r\n    3manager.org.apache.juli.AsyncFileHandler.prefix = manager.\r\n    3manager.org.apache.juli.AsyncFileHandler.encoding = UTF-8\r\n \r\n    4host-manager.org.apache.juli.AsyncFileHandler.level = FINEST\r\n    4host-manager.org.apache.juli.AsyncFileHandler.directory = ${catalina.base}/logs\r\n    4host-manager.org.apache.juli.AsyncFileHandler.prefix = host-manager.\r\n    4host-manager.org.apache.juli.AsyncFileHandler.encoding = UTF-8\r\n \r\n    java.util.logging.ConsoleHandler.level = FINE\r\n    java.util.logging.ConsoleHandler.formatter = org.apache.juli.OneLineFormatter\r\n    java.util.logging.ConsoleHandler.encoding = UTF-8\r\n \r\n    ############################################################\r\n    # Facility specific properties.\r\n    # Provides extra control for each logger.\r\n    ############################################################\r\n\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].level = FINEST\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].handlers = \r\n    2localhost.org.apache.juli.AsyncFileHandler\r\n\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].level = FINEST\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].handlers = \r\n    3manager.org.apache.juli.AsyncFileHandler\r\n\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].level = FINEST\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].handlers = \r\n    4host-manager.org.apache.juli.AsyncFileHandler\r\n\r\n&lt;/pre&gt;\r\n\r\n**catalina.out**\r\n\r\n&lt;pre&gt;\r\n\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x00007fe638000368, pid=54728, tid=0x00007fe625309700\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_333-b31) (build 1.8.0_333-b31)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.333-b31 mixed mode linux-amd64 compressed oops)\r\n    # Problematic frame:\r\n    # C  0x00007fe638000368\r\n    #\r\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # /tmp/hs_err_pid54728.log\r\n    [thread 140626492360448 also had an error]\r\n    [thread 140626582980352 also had an error][thread 140626573510400 also had an error][thread 140626420045568 also had an error][thread 140626442094336 also had an error]\r\n    \r\n    \r\n    \r\n    [thread 140626437883648 also had an error]\r\n    [thread 140626548127488 also had an error][thread 140626414782208 also had an error][thread 140626567083776 also had an error]\r\n    \r\n    \r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.java.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n    Jun 01, 2023 9:49:00 AM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n    WARNING: [SetPropertiesRule]{Server} Setting property &#39;command&#39; to &#39;SHUTDOWN&#39; did not find a matching property.\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.mbeans.AbcGlobalResourcesLifecycleListener \r\n    INFO: AbcUserDatabaseMbean descriptor loaded\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version name:   Apache Tomcat\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server built:          May 16 2022 15:36:23 UTC\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version number: 0.0.0.0\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Name:               Linux\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Version:            3.10.0-1160.80.1.el7.x86_64\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Architecture:          amd64\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Java Home:             /abc/sw/runtime/jdk1.8.0_333/jre\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Version:           1.8.0_333-b31\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Vendor:            Oracle Corporation\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_BASE:         /abc/sw/runtime/apache-tomcat-8.5.79\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_HOME:         /abc/sw/runtime/apache-tomcat-8.5.79\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Xmx512M\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -DHEAP_SIZE=512M\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dpname=WebServer\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.endorsed.dirs=\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.base=/abc/sw/runtime/tomcat\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.home=/abc/sw/runtime/tomcat\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.io.tmpdir=/abc/sw/runtime/tomcat/temp\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -DLOG_DIR=/abc/log/sw_log\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -DCONF_DIR=/abc/sw/conf\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -DRT_DIR=/abc/sw/runtime\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.rmi.server.codebase=file:///abc/sw/platform/common-R29H01_EC01b1486/dclib/common.jar file:///abc/sw/platform/engine-R32H01_EC05b3632/dclib/engine.jar file:///abc/sw/platform/licensing-R26G01b491/dclib/licensing.jar file:///abc/sw/platform/scheduler-R25H04b525/dclib/scheduler.jar file:///abc/sw/platform/symboliclinkcreator-R19H09_EC02b369/dclib/symboliclinkcreator.jar\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dlog4j2.configurationFile=file:/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui/conf/adminui.properties\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\r\n    Jun 01, 2023 9:49:00 AM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 678 ms\r\n    Jun 01, 2023 9:49:00 AM com.abcdef.catalina.users.AbcUserDatabaseFactory getObjectInstance\r\n    INFO: ABC UserDatabase successfully created.\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service [Catalina]\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet engine: [Apache Tomcat]\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/ROOT]\r\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/ROOT] has finished in [616] ms\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/host-manager]\r\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/host-manager] has finished in [53] ms\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/manager]\r\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/manager] has finished in [56] ms\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui]\r\n    Jun 01, 2023 9:49:02 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui] has finished in [1,244] ms\r\n    Jun 01, 2023 9:49:02 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/alarmcfg]\r\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/alarmcfg] has finished in [13,051] ms\r\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/universeupdateinstaller]\r\n    Jun 01, 2023 9:49:16 AM org.apache.jasper.servlet.TldScanner scanJars\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/universeupdateinstaller] has finished in [274] ms\r\n    Jun 01, 2023 9:49:16 AM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\r\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 15359 ms\r\n\r\n  \r\n&lt;/pre&gt;","title":"Tomcat webserver is not logging any DEBUG or FINEST logs in catalina.out even after enabling FINEST in logging.proprties file(tomcat-8.5.79/conf/)","body":"<p>I am facing an issue in Linux server that webserver service is restarting automatically frequently. I tried to enable debug logs by changing the all logging properties in tomcat-8.5.79/conf/logging.proprties. But I see only INFO logs but no FINE or FINER or FINEST logs.</p>\n<p><strong>logging.properties</strong></p>\n<pre>\n\n    1catalina.org.apache.juli.AsyncFileHandler.level = FINEST\n    1catalina.org.apache.juli.AsyncFileHandler.directory = ${catalina.base}/logs\n    1catalina.org.apache.juli.AsyncFileHandler.prefix = catalina.\n    1catalina.org.apache.juli.AsyncFileHandler.encoding = UTF-8\n\n    2localhost.org.apache.juli.AsyncFileHandler.level = FINEST\n    2localhost.org.apache.juli.AsyncFileHandler.directory = ${catalina.base}/logs\n    2localhost.org.apache.juli.AsyncFileHandler.prefix = localhost.\n    2localhost.org.apache.juli.AsyncFileHandler.encoding = UTF-8\n\n    3manager.org.apache.juli.AsyncFileHandler.level = FINEST\n    3manager.org.apache.juli.AsyncFileHandler.directory = ${catalina.base}/logs\n    3manager.org.apache.juli.AsyncFileHandler.prefix = manager.\n    3manager.org.apache.juli.AsyncFileHandler.encoding = UTF-8\n \n    4host-manager.org.apache.juli.AsyncFileHandler.level = FINEST\n    4host-manager.org.apache.juli.AsyncFileHandler.directory = ${catalina.base}/logs\n    4host-manager.org.apache.juli.AsyncFileHandler.prefix = host-manager.\n    4host-manager.org.apache.juli.AsyncFileHandler.encoding = UTF-8\n \n    java.util.logging.ConsoleHandler.level = FINE\n    java.util.logging.ConsoleHandler.formatter = org.apache.juli.OneLineFormatter\n    java.util.logging.ConsoleHandler.encoding = UTF-8\n \n    ############################################################\n    # Facility specific properties.\n    # Provides extra control for each logger.\n    ############################################################\n\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].level = FINEST\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].handlers = \n    2localhost.org.apache.juli.AsyncFileHandler\n\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].level = FINEST\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].handlers = \n    3manager.org.apache.juli.AsyncFileHandler\n\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].level = FINEST\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].handlers = \n    4host-manager.org.apache.juli.AsyncFileHandler\n\n</pre>\n<p><strong>catalina.out</strong></p>\n<pre>\n\n    # A fatal error has been detected by the Java Runtime Environment:\n    #\n    #  SIGSEGV (0xb) at pc=0x00007fe638000368, pid=54728, tid=0x00007fe625309700\n    #\n    # JRE version: Java(TM) SE Runtime Environment (8.0_333-b31) (build 1.8.0_333-b31)\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.333-b31 mixed mode linux-amd64 compressed oops)\n    # Problematic frame:\n    # C  0x00007fe638000368\n    #\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try \"ulimit -c unlimited\" before starting Java again\n    #\n    # An error report file with more information is saved as:\n    # /tmp/hs_err_pid54728.log\n    [thread 140626492360448 also had an error]\n    [thread 140626582980352 also had an error][thread 140626573510400 also had an error][thread 140626420045568 also had an error][thread 140626442094336 also had an error]\n    \n    \n    \n    [thread 140626437883648 also had an error]\n    [thread 140626548127488 also had an error][thread 140626414782208 also had an error][thread 140626567083776 also had an error]\n    \n    \n    #\n    # If you would like to submit a bug report, please visit:\n    #   http://bugreport.java.com/bugreport/crash.jsp\n    # The crash happened outside the Java Virtual Machine in native code.\n    # See problematic frame for where to report the bug.\n    #\n    Jun 01, 2023 9:49:00 AM org.apache.tomcat.util.digester.SetPropertiesRule begin\n    WARNING: [SetPropertiesRule]{Server} Setting property 'command' to 'SHUTDOWN' did not find a matching property.\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.mbeans.AbcGlobalResourcesLifecycleListener \n    INFO: AbcUserDatabaseMbean descriptor loaded\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Server version name:   Apache Tomcat\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Server built:          May 16 2022 15:36:23 UTC\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Server version number: 0.0.0.0\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: OS Name:               Linux\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: OS Version:            3.10.0-1160.80.1.el7.x86_64\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Architecture:          amd64\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Java Home:             /abc/sw/runtime/jdk1.8.0_333/jre\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: JVM Version:           1.8.0_333-b31\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: JVM Vendor:            Oracle Corporation\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: CATALINA_BASE:         /abc/sw/runtime/apache-tomcat-8.5.79\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: CATALINA_HOME:         /abc/sw/runtime/apache-tomcat-8.5.79\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Xmx512M\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -DHEAP_SIZE=512M\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Dpname=WebServer\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Djava.endorsed.dirs=\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Dcatalina.base=/abc/sw/runtime/tomcat\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Dcatalina.home=/abc/sw/runtime/tomcat\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Djava.io.tmpdir=/abc/sw/runtime/tomcat/temp\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -DLOG_DIR=/abc/log/sw_log\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -DCONF_DIR=/abc/sw/conf\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -DRT_DIR=/abc/sw/runtime\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Djava.rmi.server.codebase=file:///abc/sw/platform/common-R29H01_EC01b1486/dclib/common.jar file:///abc/sw/platform/engine-R32H01_EC05b3632/dclib/engine.jar file:///abc/sw/platform/licensing-R26G01b491/dclib/licensing.jar file:///abc/sw/platform/scheduler-R25H04b525/dclib/scheduler.jar file:///abc/sw/platform/symboliclinkcreator-R19H09_EC02b369/dclib/symboliclinkcreator.jar\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Dlog4j2.configurationFile=file:/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui/conf/adminui.properties\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\n    Jun 01, 2023 9:49:00 AM org.apache.coyote.AbstractProtocol init\n    INFO: Initializing ProtocolHandler [\"https-jsse-nio-8443\"]\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.Catalina load\n    INFO: Initialization processed in 678 ms\n    Jun 01, 2023 9:49:00 AM com.abcdef.catalina.users.AbcUserDatabaseFactory getObjectInstance\n    INFO: ABC UserDatabase successfully created.\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.StandardService startInternal\n    INFO: Starting service [Catalina]\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.StandardEngine startInternal\n    INFO: Starting Servlet engine: [Apache Tomcat]\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/ROOT]\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/ROOT] has finished in [616] ms\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/host-manager]\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/host-manager] has finished in [53] ms\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/manager]\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/manager] has finished in [56] ms\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui]\n    Jun 01, 2023 9:49:02 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui] has finished in [1,244] ms\n    Jun 01, 2023 9:49:02 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/alarmcfg]\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/alarmcfg] has finished in [13,051] ms\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/universeupdateinstaller]\n    Jun 01, 2023 9:49:16 AM org.apache.jasper.servlet.TldScanner scanJars\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/universeupdateinstaller] has finished in [274] ms\n    Jun 01, 2023 9:49:16 AM org.apache.coyote.AbstractProtocol start\n    INFO: Starting ProtocolHandler [\"https-jsse-nio-8443\"]\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.Catalina start\n    INFO: Server startup in 15359 ms\n\n  \n</pre>\n"},{"tags":["java","queue","stack"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1686114613,"post_id":76420037,"comment_id":134753012,"body_markdown":"Are you asking why the entries in `pacientes` are not showing in `empilha`?","body":"Are you asking why the entries in <code>pacientes</code> are not showing in <code>empilha</code>?"},{"owner":{"account_id":1486185,"reputation":78,"user_id":1399627,"display_name":"msl"},"score":0,"creation_date":1686115856,"post_id":76420037,"comment_id":134753117,"body_markdown":"Please share the Queue implementation you are using. It is not java.util.Queue.","body":"Please share the Queue implementation you are using. It is not java.util.Queue."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1686117518,"post_id":76420037,"comment_id":134753285,"body_markdown":"In the main method you create 10 `Patient`s  and add them to `pacientes` (which happens to be a local `StackUp` instance within the main method). Then you want to give treatments by calling `atender.atenderPacientes();` - but `atender.atenderPacientes();` reads the patients from `empilha` which is a different `StackUp` instance.","body":"In the main method you create 10 <code>Patient</code>s  and add them to <code>pacientes</code> (which happens to be a local <code>StackUp</code> instance within the main method). Then you want to give treatments by calling <code>atender.atenderPacientes();</code> - but <code>atender.atenderPacientes();</code> reads the patients from <code>empilha</code> which is a different <code>StackUp</code> instance."}],"owner":{"account_id":26473506,"reputation":1,"user_id":22033589,"display_name":"Deivid Oliveira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686114456,"creation_date":1686114456,"question_id":76420037,"body_markdown":"\r\nI tried a few different ways, but I always get the empty list problem. What I want is to be able to get the values ​​from the lists, stack them in a specific order and then remove them from the stack showing the name of each patient and the priority level one by one in the terminal.\r\n\r\n```\r\npublic class StackUp {\r\n    private Queue&lt;Patient&gt; listLeve = new Queue&lt;&gt;();\r\n    private Queue&lt;Patient&gt; listNormal = new Queue&lt;&gt;();\r\n    private Queue&lt;Patient&gt; listModerado = new Queue&lt;&gt;();\r\n    private Queue&lt;Patient&gt; listSevero = new Queue&lt;&gt;();\r\n\r\n    public void addPacientesFila(Patient x) throws Exception{\r\n        if (x.getPrioridade() == 0) {\r\n            listLeve.enqueue(x);\r\n        } \r\n        else if (x.getPrioridade() == 1) {\r\n            listNormal.enqueue(x);\r\n        } \r\n        else if (x.getPrioridade() == 2) {\r\n            listModerado.enqueue(x);\r\n        } \r\n        else if (x.getPrioridade() == 3) {\r\n            listSevero.enqueue(x);\r\n        } \r\n        else {\r\n            throw new Exception(&quot;N&#250;mero de prioridade errado&quot;); \r\n        }\r\n    }\r\n\r\n    public Stack&lt;Patient&gt; empilharPacientes() throws Exception {\r\n        Stack&lt;Patient&gt; pilha = new Stack&lt;&gt;();\r\n        \r\n        pilha.push(listNormal.dequeue());\r\n        pilha.push(listSevero.dequeue());\r\n        pilha.push(listModerado.dequeue());\r\n        pilha.push(listSevero.dequeue());\r\n        pilha.push(listLeve.dequeue());\r\n        pilha.push(listModerado.dequeue());\r\n        pilha.push(listSevero.dequeue());\r\n\r\n        return pilha;\r\n    }\r\n}\r\n```\r\nI don&#39;t know if this is a good way to do this.\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n\r\npublic class GestaoHospital {\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    private String nome;\r\n    private int cpf;\r\n    private int prioridade;\r\n    StackUp empilha = new StackUp();\r\n\r\n    public void registrarPaciente() throws Exception {\r\n        System.out.println(&quot;Informe o nome do paciente: &quot;);\r\n        nome = scanner.nextLine();\r\n\r\n        System.out.println(&quot;Digite o cpf do paciente: &quot;);\r\n        cpf = scanner.nextInt();\r\n\r\n        System.out.println(&quot;Informe o n&#237;vel de prioridade do paciente: &quot;);\r\n        prioridade = scanner.nextInt();\r\n\r\n        Patient pessoa = new Patient(nome, cpf, prioridade);\r\n\r\n        empilha.addPacientesFila(pessoa);\r\n    }\r\n\r\n    public void atenderPacientes() throws Exception {\r\n        Stack&lt;Patient&gt; pilha = new Stack&lt;&gt;();\r\n        List&lt;Patient&gt; lista = new ArrayList&lt;&gt;();\r\n\r\n        pilha = empilha.empilharPacientes();\r\n        lista = pilha.popAll();\r\n\r\n        for(Patient paciente : lista) {\r\n            System.out.println(&quot;O paciente &quot; + paciente.getNome() + &quot; de CPF &quot; + paciente.getCpf() +\r\n                    &quot; foi atendido com o n&#237;vel de prioridade &quot; + paciente.getPrioridade());\r\n\r\n            System.out.println(&quot;Pressione &lt;ENTER&gt; para atender o pr&#243;ximo paciente...&quot;);\r\n            scanner.nextLine();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport java.util.Random;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        Random random = new Random();\r\n        StackUp pacientes = new StackUp();\r\n        GestaoHospital atender = new GestaoHospital();\r\n\r\n        for(int i = 0; i &lt; 10; i++) {\r\n            int numeroAleatorio = random.nextInt(4);\r\n            Patient exemplo = new Patient(&quot;Z&#233;&quot;, i, numeroAleatorio);\r\n            \r\n            pacientes.addPacientesFila(exemplo);\r\n        }\r\n\r\n        atender.atenderPacientes();        \r\n    }\r\n}\r\n```\r\nThe Main method is just being used to test whether the program manages to create patients, line them up according to their priority level and if it manages to remove them from the stack with the atenderPacientes() method.","title":"why are the queues I created empty even after putting elements in them?","body":"<p>I tried a few different ways, but I always get the empty list problem. What I want is to be able to get the values ​​from the lists, stack them in a specific order and then remove them from the stack showing the name of each patient and the priority level one by one in the terminal.</p>\n<pre><code>public class StackUp {\n    private Queue&lt;Patient&gt; listLeve = new Queue&lt;&gt;();\n    private Queue&lt;Patient&gt; listNormal = new Queue&lt;&gt;();\n    private Queue&lt;Patient&gt; listModerado = new Queue&lt;&gt;();\n    private Queue&lt;Patient&gt; listSevero = new Queue&lt;&gt;();\n\n    public void addPacientesFila(Patient x) throws Exception{\n        if (x.getPrioridade() == 0) {\n            listLeve.enqueue(x);\n        } \n        else if (x.getPrioridade() == 1) {\n            listNormal.enqueue(x);\n        } \n        else if (x.getPrioridade() == 2) {\n            listModerado.enqueue(x);\n        } \n        else if (x.getPrioridade() == 3) {\n            listSevero.enqueue(x);\n        } \n        else {\n            throw new Exception(&quot;Número de prioridade errado&quot;); \n        }\n    }\n\n    public Stack&lt;Patient&gt; empilharPacientes() throws Exception {\n        Stack&lt;Patient&gt; pilha = new Stack&lt;&gt;();\n        \n        pilha.push(listNormal.dequeue());\n        pilha.push(listSevero.dequeue());\n        pilha.push(listModerado.dequeue());\n        pilha.push(listSevero.dequeue());\n        pilha.push(listLeve.dequeue());\n        pilha.push(listModerado.dequeue());\n        pilha.push(listSevero.dequeue());\n\n        return pilha;\n    }\n}\n</code></pre>\n<p>I don't know if this is a good way to do this.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class GestaoHospital {\n    Scanner scanner = new Scanner(System.in);\n\n    private String nome;\n    private int cpf;\n    private int prioridade;\n    StackUp empilha = new StackUp();\n\n    public void registrarPaciente() throws Exception {\n        System.out.println(&quot;Informe o nome do paciente: &quot;);\n        nome = scanner.nextLine();\n\n        System.out.println(&quot;Digite o cpf do paciente: &quot;);\n        cpf = scanner.nextInt();\n\n        System.out.println(&quot;Informe o nível de prioridade do paciente: &quot;);\n        prioridade = scanner.nextInt();\n\n        Patient pessoa = new Patient(nome, cpf, prioridade);\n\n        empilha.addPacientesFila(pessoa);\n    }\n\n    public void atenderPacientes() throws Exception {\n        Stack&lt;Patient&gt; pilha = new Stack&lt;&gt;();\n        List&lt;Patient&gt; lista = new ArrayList&lt;&gt;();\n\n        pilha = empilha.empilharPacientes();\n        lista = pilha.popAll();\n\n        for(Patient paciente : lista) {\n            System.out.println(&quot;O paciente &quot; + paciente.getNome() + &quot; de CPF &quot; + paciente.getCpf() +\n                    &quot; foi atendido com o nível de prioridade &quot; + paciente.getPrioridade());\n\n            System.out.println(&quot;Pressione &lt;ENTER&gt; para atender o próximo paciente...&quot;);\n            scanner.nextLine();\n        }\n    }\n}\n</code></pre>\n<pre><code>import java.util.Random;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        Random random = new Random();\n        StackUp pacientes = new StackUp();\n        GestaoHospital atender = new GestaoHospital();\n\n        for(int i = 0; i &lt; 10; i++) {\n            int numeroAleatorio = random.nextInt(4);\n            Patient exemplo = new Patient(&quot;Zé&quot;, i, numeroAleatorio);\n            \n            pacientes.addPacientesFila(exemplo);\n        }\n\n        atender.atenderPacientes();        \n    }\n}\n</code></pre>\n<p>The Main method is just being used to test whether the program manages to create patients, line them up according to their priority level and if it manages to remove them from the stack with the atenderPacientes() method.</p>\n"},{"tags":["java","google-app-engine","cloud","google-cloud-storage"],"comments":[{"owner":{"account_id":10201230,"reputation":508,"user_id":7531442,"accept_rate":100,"display_name":"pratikpncl"},"score":0,"creation_date":1489964717,"post_id":42893395,"comment_id":72887865,"body_markdown":"Have you looked at the google cloud SDK?","body":"Have you looked at the google cloud SDK?"},{"owner":{"account_id":7985221,"reputation":197,"user_id":7087118,"accept_rate":100,"display_name":"Alexander Jeitler-Stehr"},"score":0,"creation_date":1489965212,"post_id":42893395,"comment_id":72888019,"body_markdown":"Yes, but I didn&#39;t get how i could write an java-app","body":"Yes, but I didn&#39;t get how i could write an java-app"},{"owner":{"account_id":10201230,"reputation":508,"user_id":7531442,"accept_rate":100,"display_name":"pratikpncl"},"score":0,"creation_date":1489965388,"post_id":42893395,"comment_id":72888069,"body_markdown":"Are you familiar with rest api&#39;s? You can use that to upload images. Google cloud supports that","body":"Are you familiar with rest api&#39;s? You can use that to upload images. Google cloud supports that"},{"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"score":1,"creation_date":1489965835,"post_id":42893395,"comment_id":72888205,"body_markdown":"https://cloud.google.com/appengine/docs/standard/java/googlecloudstorageclient/read-write-to-cloud-storage","body":"<a href=\"https://cloud.google.com/appengine/docs/standard/java/googlecloudstorageclient/read-write-to-cloud-storage\" rel=\"nofollow noreferrer\">cloud.google.com/appengine/docs/standard/java/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":30002,"reputation":37409,"user_id":81491,"accept_rate":82,"display_name":"Brandon Yarbrough"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1489973352,"creation_date":1489973352,"answer_id":42894500,"question_id":42893395,"body_markdown":"There&#39;s a lovely Java API for using Google Cloud, including Storage:  http://googlecloudplatform.github.io/google-cloud-java/0.10.0/index.html\r\n\r\nHere&#39;s an example desktop application that uses this library to upload and download files: https://github.com/GoogleCloudPlatform/google-cloud-java/blob/master/google-cloud-examples/src/main/java/com/google/cloud/examples/storage/StorageExample.java\r\n\r\nGoogle Cloud Storage has quite a bit of documentation, guides, and tutorials. Here&#39;s the root of it all: https://cloud.google.com/storage/docs/","title":"Upload image to Google Cloud Storage (Java)","body":"<p>There's a lovely Java API for using Google Cloud, including Storage:  <a href=\"http://googlecloudplatform.github.io/google-cloud-java/0.10.0/index.html\" rel=\"noreferrer\">http://googlecloudplatform.github.io/google-cloud-java/0.10.0/index.html</a></p>\n\n<p>Here's an example desktop application that uses this library to upload and download files: <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-java/blob/master/google-cloud-examples/src/main/java/com/google/cloud/examples/storage/StorageExample.java\" rel=\"noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-java/blob/master/google-cloud-examples/src/main/java/com/google/cloud/examples/storage/StorageExample.java</a></p>\n\n<p>Google Cloud Storage has quite a bit of documentation, guides, and tutorials. Here's the root of it all: <a href=\"https://cloud.google.com/storage/docs/\" rel=\"noreferrer\">https://cloud.google.com/storage/docs/</a></p>\n"},{"tags":[],"owner":{"account_id":4929778,"reputation":614,"user_id":3969944,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557118289,"creation_date":1557118289,"answer_id":55998944,"question_id":42893395,"body_markdown":"      @Override\r\n      public String uploadImage(String fileName , String filePath,String fileType) throws IOException {\r\n        Bucket bucket = getBucket(&quot;sample-bucket&quot;);\r\n        InputStream inputStream = new FileInputStream(new File(filePath));\r\n        Blob blob = bucket.create(fileName, inputStream, fileType);\r\n        log.info(&quot;Blob Link:&quot;+blob.getMediaLink());\r\n        return blob.getMediaLink();\r\n      }\r\n    \r\n    \r\n      private Bucket getBucket(String bucketName) throws IOException {\r\n        GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(CREDENTIALS_PATH))\r\n            .createScoped(Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\r\n        Storage storage = StorageOptions.newBuilder().setCredentials(credentials).build().getService();\r\n        Bucket bucket = storage.get(bucketName);\r\n        if (bucket == null) {\r\n          throw new IOException(&quot;Bucket not found:&quot;+bucketName);\r\n        }\r\n        return bucket;\r\n      }\r\n\r\n\r\nCREDENTIALS_PATH , Download when setting the service account , make sure the the user have the permission to upload the image in the bucket .","title":"Upload image to Google Cloud Storage (Java)","body":"<pre><code>  @Override\n  public String uploadImage(String fileName , String filePath,String fileType) throws IOException {\n    Bucket bucket = getBucket(\"sample-bucket\");\n    InputStream inputStream = new FileInputStream(new File(filePath));\n    Blob blob = bucket.create(fileName, inputStream, fileType);\n    log.info(\"Blob Link:\"+blob.getMediaLink());\n    return blob.getMediaLink();\n  }\n\n\n  private Bucket getBucket(String bucketName) throws IOException {\n    GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(CREDENTIALS_PATH))\n        .createScoped(Lists.newArrayList(\"https://www.googleapis.com/auth/cloud-platform\"));\n    Storage storage = StorageOptions.newBuilder().setCredentials(credentials).build().getService();\n    Bucket bucket = storage.get(bucketName);\n    if (bucket == null) {\n      throw new IOException(\"Bucket not found:\"+bucketName);\n    }\n    return bucket;\n  }\n</code></pre>\n\n<p>CREDENTIALS_PATH , Download when setting the service account , make sure the the user have the permission to upload the image in the bucket .</p>\n"},{"tags":[],"owner":{"account_id":15968543,"reputation":58,"user_id":11523362,"display_name":"Hieren Lee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1559313679,"creation_date":1559313217,"answer_id":56397040,"question_id":42893395,"body_markdown":"You can public your file, and then the media link of the blob can access anywhere.\r\n\r\nhttps://cloud.google.com/storage/docs/access-control/making-data-public\r\n\r\nThis is my solution.\r\n\r\n\r\n```\r\ntry {\r\n\tFileInputStream serviceAccount =\r\n\t\t\tnew FileInputStream(&quot;firebaseKey/serviceAccountKey.json&quot;);\r\n\r\n\tFirebaseOptions options = new FirebaseOptions.Builder()\r\n\t\t\t.setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n\t\t\t.setDatabaseUrl(&quot;https://xxxxx.firebaseio.com&quot;)\r\n\t\t\t.build();\r\n\tFirebaseApp fireApp = FirebaseApp.initializeApp(options);\r\n\r\n\tStorageClient storageClient = StorageClient.getInstance(fireApp);\r\n\tInputStream testFile = new FileInputStream(file.getPath());\r\n\tString blobString = &quot;NEW_FOLDER/&quot; + &quot;FILE_NAME.jpg&quot;;\r\n\tBlob blob = storageClient.bucket(&quot;xxxxxx.appspot.com&quot;)\r\n\t\t\t\t\t.create(blobString, testFile , Bucket.BlobWriteOption.userProject(&quot;xxxxxxx&quot;));\r\n\tblob.getStorage().createAcl(blob.getBlobId(), Acl.of(Acl.User.ofAllUsers(), Acl.Role.READER));\r\n\tSystem.out.println(blob.getMediaLink());\r\n} catch (Exception e){\r\n\te.printStackTrace();\r\n}\r\n```","title":"Upload image to Google Cloud Storage (Java)","body":"<p>You can public your file, and then the media link of the blob can access anywhere.</p>\n\n<p><a href=\"https://cloud.google.com/storage/docs/access-control/making-data-public\" rel=\"nofollow noreferrer\">https://cloud.google.com/storage/docs/access-control/making-data-public</a></p>\n\n<p>This is my solution.</p>\n\n<pre><code>try {\n    FileInputStream serviceAccount =\n            new FileInputStream(\"firebaseKey/serviceAccountKey.json\");\n\n    FirebaseOptions options = new FirebaseOptions.Builder()\n            .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n            .setDatabaseUrl(\"https://xxxxx.firebaseio.com\")\n            .build();\n    FirebaseApp fireApp = FirebaseApp.initializeApp(options);\n\n    StorageClient storageClient = StorageClient.getInstance(fireApp);\n    InputStream testFile = new FileInputStream(file.getPath());\n    String blobString = \"NEW_FOLDER/\" + \"FILE_NAME.jpg\";\n    Blob blob = storageClient.bucket(\"xxxxxx.appspot.com\")\n                    .create(blobString, testFile , Bucket.BlobWriteOption.userProject(\"xxxxxxx\"));\n    blob.getStorage().createAcl(blob.getBlobId(), Acl.of(Acl.User.ofAllUsers(), Acl.Role.READER));\n    System.out.println(blob.getMediaLink());\n} catch (Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":7985221,"reputation":197,"user_id":7087118,"accept_rate":100,"display_name":"Alexander Jeitler-Stehr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9190,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56397040,"answer_count":3,"score":2,"last_activity_date":1686114049,"creation_date":1489964509,"question_id":42893395,"body_markdown":"I want to develop a java-application (for pc) which can upload any picture to Google Cloud Storage. Although I have spent my whole evening on searching for a solution, I don&#39;t have any clue how to start. Does anyone of you have experience with uploading images to Google Cloud Storage? Are there better alternatives to Google Cloud Storage?\r\n","title":"Upload image to Google Cloud Storage (Java)","body":"<p>I want to develop a java-application (for pc) which can upload any picture to Google Cloud Storage. Although I have spent my whole evening on searching for a solution, I don't have any clue how to start. Does anyone of you have experience with uploading images to Google Cloud Storage? Are there better alternatives to Google Cloud Storage?</p>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":4642964,"reputation":739,"user_id":3762222,"display_name":"Shoaeb"},"score":0,"creation_date":1656239786,"post_id":72760612,"comment_id":128518734,"body_markdown":"you should also add the jdk version that you are using...","body":"you should also add the jdk version that you are using..."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1656239884,"post_id":72760612,"comment_id":128518757,"body_markdown":"Thanks, should have thought of that. 11.0.","body":"Thanks, should have thought of that. 11.0."},{"owner":{"account_id":4642964,"reputation":739,"user_id":3762222,"display_name":"Shoaeb"},"score":0,"creation_date":1656240833,"post_id":72760612,"comment_id":128518920,"body_markdown":"though the jdk version has nothing to do with the solution, specifying it is a good practice while asking questions..","body":"though the jdk version has nothing to do with the solution, specifying it is a good practice while asking questions.."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656256828,"post_id":72760612,"comment_id":128522379,"body_markdown":"Why install an old version of Eclipse?","body":"Why install an old version of Eclipse?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1656260898,"post_id":72760612,"comment_id":128523306,"body_markdown":"Tomcat 10.0 was released a good 6 months after Eclipse 2020-06, which is now 2 years and 8 releases behind. You need a newer Eclipse release, like the current one: 2022-06. Whether you want to use Tomcat 9 or 10 is really up to you, and you haven&#39;t said why you should pick one over the other.","body":"Tomcat 10.0 was released a good 6 months after Eclipse 2020-06, which is now 2 years and 8 releases behind. You need a newer Eclipse release, like the current one: 2022-06. Whether you want to use Tomcat 9 or 10 is really up to you, and you haven&#39;t said why you should pick one over the other."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1656465710,"post_id":72760612,"comment_id":128577397,"body_markdown":"Sorry, all -- the version of eclipse was a typo -- 2022-06 is the actual version.","body":"Sorry, all -- the version of eclipse was a typo -- 2022-06 is the actual version."}],"answers":[{"tags":[],"owner":{"account_id":4642964,"reputation":739,"user_id":3762222,"display_name":"Shoaeb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686113891,"creation_date":1656240721,"answer_id":72760922,"question_id":72760612,"body_markdown":"So, you are assuming right...\r\nThere is a breaking change in package name for tomcat 9 to tomcat 10 from javax.* to jakarta.* respectively....\r\n\r\nTo make your project to work,\r\n\r\nOption 1 : You downgrade to tomcat Version that uses the package (javax).... For Eg. Tomcat 9\r\n\r\nOption 2 : You Make changes in your codebase and change the package name to use jakarta and keep using tomcat 10 or above...","title":"Which Eclipse version is compatible with Tomcat 10, or do I go back to Tomcat 9?","body":"<p>So, you are assuming right...\nThere is a breaking change in package name for tomcat 9 to tomcat 10 from javax.* to jakarta.* respectively....</p>\n<p>To make your project to work,</p>\n<p>Option 1 : You downgrade to tomcat Version that uses the package (javax).... For Eg. Tomcat 9</p>\n<p>Option 2 : You Make changes in your codebase and change the package name to use jakarta and keep using tomcat 10 or above...</p>\n"},{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656341332,"creation_date":1656341332,"answer_id":72774080,"question_id":72760612,"body_markdown":"Update to Eclipse 2022-06. It works with both versions, largely automatically.","title":"Which Eclipse version is compatible with Tomcat 10, or do I go back to Tomcat 9?","body":"<p>Update to Eclipse 2022-06. It works with both versions, largely automatically.</p>\n"}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1684159270,"accepted_answer_id":72760922,"answer_count":2,"score":2,"last_activity_date":1686113891,"creation_date":1656238079,"question_id":72760612,"body_markdown":"I&#39;m starting a web development project with a new install of Eclipse for Web developers; I installed Eclipse 2020-06 and Tomcat 10. But evidently those are not compatible; the first example JSP I entered has an error saying that HTTPServlet is not on the path.\r\n\r\nOn looking further, I discovered that the servlet library pathnames have changed; used to be javax... and are now jakarta... I&#39;m assuming that&#39;s the problem, though I don&#39;t have definite confirmation of that.\r\n\r\nShould I be using a newer version of eclipse, or an older version of Tomcat? Or is there something else I should be using?\r\n\r\nEDIT: also using Java 11.0\r\n\r\nEDIT: version of eclipse was a typo -- 2022-06 is the actual version.","title":"Which Eclipse version is compatible with Tomcat 10, or do I go back to Tomcat 9?","body":"<p>I'm starting a web development project with a new install of Eclipse for Web developers; I installed Eclipse 2020-06 and Tomcat 10. But evidently those are not compatible; the first example JSP I entered has an error saying that HTTPServlet is not on the path.</p>\n<p>On looking further, I discovered that the servlet library pathnames have changed; used to be javax... and are now jakarta... I'm assuming that's the problem, though I don't have definite confirmation of that.</p>\n<p>Should I be using a newer version of eclipse, or an older version of Tomcat? Or is there something else I should be using?</p>\n<p>EDIT: also using Java 11.0</p>\n<p>EDIT: version of eclipse was a typo -- 2022-06 is the actual version.</p>\n"},{"tags":["java","groovy","aws-cdk","amazon-ecr"],"comments":[{"owner":{"account_id":8295732,"reputation":2237,"user_id":6236042,"accept_rate":69,"display_name":"devklick"},"score":0,"creation_date":1624961596,"post_id":65240526,"comment_id":120494413,"body_markdown":"Did you ever find an alternative approach that allows you to specify the repo name?","body":"Did you ever find an alternative approach that allows you to specify the repo name?"},{"owner":{"account_id":3959908,"reputation":267,"user_id":3267276,"accept_rate":100,"display_name":"Eric Sant&#39;Anna"},"score":0,"creation_date":1624983165,"post_id":65240526,"comment_id":120503931,"body_markdown":"@Klicker No, I just accepted that it is not possible anymore and I am using the default repo from AWS.","body":"@Klicker No, I just accepted that it is not possible anymore and I am using the default repo from AWS."}],"answers":[{"tags":[],"owner":{"account_id":8295732,"reputation":2237,"user_id":6236042,"accept_rate":69,"display_name":"devklick"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1625057931,"creation_date":1625057931,"answer_id":68195260,"question_id":65240526,"body_markdown":"This isnt a direct answer to your question, as this solution uses NodeJS rather than Groovy, but it may help others that end up here.\r\n\r\nYou could check out the [cdk-ecr-deployment library in the cdklabs repository](https://github.com/cdklabs/cdk-ecr-deployment), which gives a construct allowing you to deploy docker images to ECR. \r\n\r\nThis is done in three steps:\r\n\r\n1. Create the repo\r\n```\r\nconst repo = new ecr.Repository(this, &#39;NginxRepo&#39;, {\r\n  repositoryName: &#39;nginx&#39;,\r\n  removalPolicy: RemovalPolicy.DESTROY,\r\n});\r\n```\r\n2. Create the image\r\n```\r\nconst image = new DockerImageAsset(this, &#39;CDKDockerImage&#39;, {\r\n  directory: path.join(__dirname, &#39;docker&#39;),\r\n});\r\n```\r\n3. Tag and deploy the image to the repo\r\n```\r\nnew ecrDeploy.ECRDeployment(this, &#39;DeployDockerImage&#39;, {\r\n  src: new ecrDeploy.DockerImageName(image.imageUri),\r\n  dest: new ecrDeploy.DockerImageName(`${repo.repositoryUri}:latest`),\r\n});\r\n```\r\n\r\n[See the example](https://github.com/cdklabs/cdk-ecr-deployment/blob/main/test/integ.ecr-deployment.ts) for more context on how this is used.","title":"CDK ECR: How to set repository name and tag","body":"<p>This isnt a direct answer to your question, as this solution uses NodeJS rather than Groovy, but it may help others that end up here.</p>\n<p>You could check out the <a href=\"https://github.com/cdklabs/cdk-ecr-deployment\" rel=\"noreferrer\">cdk-ecr-deployment library in the cdklabs repository</a>, which gives a construct allowing you to deploy docker images to ECR.</p>\n<p>This is done in three steps:</p>\n<ol>\n<li>Create the repo</li>\n</ol>\n<pre><code>const repo = new ecr.Repository(this, 'NginxRepo', {\n  repositoryName: 'nginx',\n  removalPolicy: RemovalPolicy.DESTROY,\n});\n</code></pre>\n<ol start=\"2\">\n<li>Create the image</li>\n</ol>\n<pre><code>const image = new DockerImageAsset(this, 'CDKDockerImage', {\n  directory: path.join(__dirname, 'docker'),\n});\n</code></pre>\n<ol start=\"3\">\n<li>Tag and deploy the image to the repo</li>\n</ol>\n<pre><code>new ecrDeploy.ECRDeployment(this, 'DeployDockerImage', {\n  src: new ecrDeploy.DockerImageName(image.imageUri),\n  dest: new ecrDeploy.DockerImageName(`${repo.repositoryUri}:latest`),\n});\n</code></pre>\n<p><a href=\"https://github.com/cdklabs/cdk-ecr-deployment/blob/main/test/integ.ecr-deployment.ts\" rel=\"noreferrer\">See the example</a> for more context on how this is used.</p>\n"},{"tags":[],"owner":{"account_id":1137891,"reputation":345,"user_id":1122559,"accept_rate":47,"display_name":"Mandar K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686112311,"creation_date":1686112311,"answer_id":76419907,"question_id":65240526,"body_markdown":"From CDK Docs :\r\n\r\n&gt; DockerImageAsset is designed for seamless build &amp; consumption of image assets by CDK code deployed to multiple environments through the CDK CLI or through CI/CD workflows. To that end, the ECR repository behind this construct is controlled by the AWS CDK. The mechanics of where these images are published and how are intentionally kept as an implementation detail, and the construct does not support customizations such as specifying the ECR repository name or tags.\r\n\r\n  ","title":"CDK ECR: How to set repository name and tag","body":"<p>From CDK Docs :</p>\n<blockquote>\n<p>DockerImageAsset is designed for seamless build &amp; consumption of image assets by CDK code deployed to multiple environments through the CDK CLI or through CI/CD workflows. To that end, the ECR repository behind this construct is controlled by the AWS CDK. The mechanics of where these images are published and how are intentionally kept as an implementation detail, and the construct does not support customizations such as specifying the ECR repository name or tags.</p>\n</blockquote>\n"}],"owner":{"account_id":3959908,"reputation":267,"user_id":3267276,"accept_rate":100,"display_name":"Eric Sant&#39;Anna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686112311,"creation_date":1607626138,"question_id":65240526,"body_markdown":"How to set repository name and tag on DockerImageAsset of CDK?\r\n\r\nThis is my code: (groovy)\r\n```\r\nprivate uploadImage(String name, File directory, File jarFile) {\r\n    def asset = DockerImageAsset.Builder.create(scope, cdkId(&quot;$name-image&quot;))\r\n            .directory(directory.toString())\r\n            .buildArgs([\r\n                    &quot;jarFile&quot;    : jarFile.name,\r\n                    &quot;environment&quot;: config.environment\r\n            ])\r\n            .build()\r\n    println &quot;ImageURL: $asset.imageUri&quot;\r\n}\r\n```\r\n\r\nThis is the image url printed:\r\n```\r\nImageURL: 9999999999999.dkr.ecr.us-west-2.${Token[AWS.URLSuffix.1]}/aws-cdk/assets:89ae89e0b3f7652a4ac70a4e18d6b2acec2abff96920e81e6487da58c8b820f3\r\n```\r\n\r\nI guess this is meant to be this way for CI/CD, where it doesn&#39;t matter the repository name/tag.\r\n\r\nBut if you need to use this image outside of CI/CD environment, it turns into a mess as we have many different projects and versions in the same repository (aws-cdk/assets).\r\n\r\nI see a method called &quot;repositoryName&quot; but it is deprecated and I couldn&#39;t find an alternative or an explanation of why it is deprecated.","title":"CDK ECR: How to set repository name and tag","body":"<p>How to set repository name and tag on DockerImageAsset of CDK?</p>\n<p>This is my code: (groovy)</p>\n<pre><code>private uploadImage(String name, File directory, File jarFile) {\n    def asset = DockerImageAsset.Builder.create(scope, cdkId(&quot;$name-image&quot;))\n            .directory(directory.toString())\n            .buildArgs([\n                    &quot;jarFile&quot;    : jarFile.name,\n                    &quot;environment&quot;: config.environment\n            ])\n            .build()\n    println &quot;ImageURL: $asset.imageUri&quot;\n}\n</code></pre>\n<p>This is the image url printed:</p>\n<pre><code>ImageURL: 9999999999999.dkr.ecr.us-west-2.${Token[AWS.URLSuffix.1]}/aws-cdk/assets:89ae89e0b3f7652a4ac70a4e18d6b2acec2abff96920e81e6487da58c8b820f3\n</code></pre>\n<p>I guess this is meant to be this way for CI/CD, where it doesn't matter the repository name/tag.</p>\n<p>But if you need to use this image outside of CI/CD environment, it turns into a mess as we have many different projects and versions in the same repository (aws-cdk/assets).</p>\n<p>I see a method called &quot;repositoryName&quot; but it is deprecated and I couldn't find an alternative or an explanation of why it is deprecated.</p>\n"},{"tags":["java","period","recurring"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686112007,"post_id":76419875,"comment_id":134752781,"body_markdown":"There are a few, but as described your requirements basically boil down to `now.getDayOfWeek() == recursEvery &amp;&amp; !now.toLocalTime().isBefore(startTime) &amp;&amp; now.toLocalTime().isBefore(endTime)`.","body":"There are a few, but as described your requirements basically boil down to <code>now.getDayOfWeek() == recursEvery &amp;&amp; !now.toLocalTime().isBefore(startTime) &amp;&amp; now.toLocalTime().isBefore(endTime)</code>."},{"owner":{"account_id":6735022,"reputation":23,"user_id":5251538,"display_name":"Jomy"},"score":0,"creation_date":1686112495,"post_id":76419875,"comment_id":134752811,"body_markdown":"Thanks shmosel, the examples I have given are just 2 scenarios, there can be other options it should support just like what we can do in outlook. So I would like to know if there any library available to handle this, as I don&#39;t have to build custom logic for the same.","body":"Thanks shmosel, the examples I have given are just 2 scenarios, there can be other options it should support just like what we can do in outlook. So I would like to know if there any library available to handle this, as I don&#39;t have to build custom logic for the same."}],"owner":{"account_id":6735022,"reputation":23,"user_id":5251538,"display_name":"Jomy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686111521,"creation_date":1686111521,"question_id":76419875,"body_markdown":"In java application i have to specify recurring periods just like we schedule recurring meetings in outlook.\r\n\r\nSome examples are\r\n\r\nRecurring every Monday from 10:30 to 12:00\r\n\r\nRecurring every Sunday from 23:00 to 05:00.\r\n\r\nIs there any library to specify such recurring periods in java, and get all possible periods(start date,end date). My intend is to check one Date and see whether it inside any of the recurring periods.\r\n\r\nI tried this with cron expression, but there we can&#39;t specify the hour and minutes together. Also I think it&#39;s primary intend is to define the execution start time, and concept of period is missing there.","title":"Recurring periods in java","body":"<p>In java application i have to specify recurring periods just like we schedule recurring meetings in outlook.</p>\n<p>Some examples are</p>\n<p>Recurring every Monday from 10:30 to 12:00</p>\n<p>Recurring every Sunday from 23:00 to 05:00.</p>\n<p>Is there any library to specify such recurring periods in java, and get all possible periods(start date,end date). My intend is to check one Date and see whether it inside any of the recurring periods.</p>\n<p>I tried this with cron expression, but there we can't specify the hour and minutes together. Also I think it's primary intend is to define the execution start time, and concept of period is missing there.</p>\n"},{"tags":["java","heap-dump","thread-dump"],"comments":[{"owner":{"account_id":8567397,"reputation":147,"user_id":6419484,"accept_rate":0,"display_name":"Pratha"},"score":0,"creation_date":1470381602,"post_id":38783251,"comment_id":64937377,"body_markdown":"Also whenever i execute on cmd Jmap command it shows jmap is not recognized as external or internal command.","body":"Also whenever i execute on cmd Jmap command it shows jmap is not recognized as external or internal command."},{"owner":{"account_id":8821468,"reputation":366,"user_id":6591178,"display_name":"garnulf"},"score":0,"creation_date":1470381680,"post_id":38783251,"comment_id":64937433,"body_markdown":"I do this with Jvisualvm usually","body":"I do this with Jvisualvm usually"},{"owner":{"account_id":8821468,"reputation":366,"user_id":6591178,"display_name":"garnulf"},"score":0,"creation_date":1470382098,"post_id":38783251,"comment_id":64937686,"body_markdown":"If you use eclipse there is also the eclipse memory analyzer","body":"If you use eclipse there is also the eclipse memory analyzer"},{"owner":{"account_id":8567397,"reputation":147,"user_id":6419484,"accept_rate":0,"display_name":"Pratha"},"score":0,"creation_date":1470382769,"post_id":38783251,"comment_id":64938063,"body_markdown":"Can i download jmap.exe and jhat.exe from any where?","body":"Can i download jmap.exe and jhat.exe from any where?"},{"owner":{"account_id":8567397,"reputation":147,"user_id":6419484,"accept_rate":0,"display_name":"Pratha"},"score":0,"creation_date":1470382970,"post_id":38783251,"comment_id":64938164,"body_markdown":"Hi while using eclipse memory analyzer , in acquire heap dump window i am not able to add pid , can you tel me how to proceed.","body":"Hi while using eclipse memory analyzer , in acquire heap dump window i am not able to add pid , can you tel me how to proceed."},{"owner":{"account_id":256973,"reputation":4330,"user_id":538047,"accept_rate":93,"display_name":"Aerus"},"score":0,"creation_date":1470390361,"post_id":38783251,"comment_id":64942613,"body_markdown":"jmap, jvisualvm, jconsole, etc. are all bundled with the JDK in the `bin` directory. On Windows, the path to this directory typically looks something like this: `C:\\Program Files\\Java\\jdk1.8.0_92\\bin`","body":"jmap, jvisualvm, jconsole, etc. are all bundled with the JDK in the <code>bin</code> directory. On Windows, the path to this directory typically looks something like this: <code>C:\\Program Files\\Java\\jdk1.8.0_92\\bin</code>"},{"owner":{"account_id":8567397,"reputation":147,"user_id":6419484,"accept_rate":0,"display_name":"Pratha"},"score":0,"creation_date":1470400242,"post_id":38783251,"comment_id":64948639,"body_markdown":"Thank You when i run jmap &lt; PID &gt;in cmd it shows three col one shows path. Can anyone  tell what are other two. is it thread name and memory","body":"Thank You when i run jmap &lt; PID &gt;in cmd it shows three col one shows path. Can anyone  tell what are other two. is it thread name and memory"},{"owner":{"account_id":3673238,"reputation":5567,"user_id":3059893,"accept_rate":45,"display_name":"JavaHopper"},"score":0,"creation_date":1470415578,"post_id":38783251,"comment_id":64958548,"body_markdown":"possible duplicate of http://stackoverflow.com/questions/407612/how-to-get-a-thread-and-heap-dump-of-a-java-process-on-windows-thats-not-runnin","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/407612/how-to-get-a-thread-and-heap-dump-of-a-java-process-on-windows-thats-not-runnin\" title=\"how to get a thread and heap dump of a java process on windows thats not runnin\">stackoverflow.com/questions/407612/&hellip;</a>"},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1644615630,"post_id":38783251,"comment_id":125662704,"body_markdown":"Does this answer your question? [How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console](https://stackoverflow.com/questions/407612/how-to-get-a-thread-and-heap-dump-of-a-java-process-on-windows-thats-not-runnin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/407612/how-to-get-a-thread-and-heap-dump-of-a-java-process-on-windows-thats-not-runnin\">How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console</a>"}],"answers":[{"tags":[],"owner":{"account_id":176297,"reputation":4545,"user_id":406896,"accept_rate":64,"display_name":"Arnab Biswas"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1472559988,"creation_date":1472559988,"answer_id":39227475,"question_id":38783251,"body_markdown":"Here is the command:\r\n\r\n    &lt;JDK_HOME&gt;/jmap -F -dump:live,format=b,file=&lt;file_name.hprof&gt; &lt;process_id&gt;\r\n\r\nYou can mention the file location here in this command.","title":"How to collect heap dumps of any java process","body":"<p>Here is the command:</p>\n\n<pre><code>&lt;JDK_HOME&gt;/jmap -F -dump:live,format=b,file=&lt;file_name.hprof&gt; &lt;process_id&gt;\n</code></pre>\n\n<p>You can mention the file location here in this command.</p>\n"}],"owner":{"account_id":8567397,"reputation":147,"user_id":6419484,"accept_rate":0,"display_name":"Pratha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19553,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1686111435,"creation_date":1470381003,"question_id":38783251,"body_markdown":"I am new to Heaps , can anyone suggest how can i take heap dump of any java process (like Jmeter). I read about jmap command , but i am not getting where and how  to execute / write it (in eclipse or cmd). It might be a very basic question but still suggestions are requested.Can i download jmap.exe and jhat.exe from any where?\r\nThank You","title":"How to collect heap dumps of any java process","body":"<p>I am new to Heaps , can anyone suggest how can i take heap dump of any java process (like Jmeter). I read about jmap command , but i am not getting where and how  to execute / write it (in eclipse or cmd). It might be a very basic question but still suggestions are requested.Can i download jmap.exe and jhat.exe from any where?\nThank You</p>\n"},{"tags":["java","jmap"],"comments":[{"owner":{"account_id":1230333,"reputation":1282,"user_id":1195072,"accept_rate":75,"display_name":"Felix Reckers"},"score":0,"creation_date":1366798469,"post_id":15130956,"comment_id":23144474,"body_markdown":"Have you tried `jmap -heap &lt;process-id&gt; &gt; DumpFile.txt`?","body":"Have you tried <code>jmap -heap &lt;process-id&gt; &gt; DumpFile.txt</code>?"},{"owner":{"account_id":483605,"reputation":4112,"user_id":898776,"display_name":"iTake"},"score":1,"creation_date":1397136009,"post_id":15130956,"comment_id":35108250,"body_markdown":"this file opens fine in Eclipse MAT, just give it .hprof extension","body":"this file opens fine in Eclipse MAT, just give it .hprof extension"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1427728575,"post_id":15130956,"comment_id":46885363,"body_markdown":"See also http://stackoverflow.com/questions/185893/how-do-i-analyze-a-hprof-file","body":"See also <a href=\"http://stackoverflow.com/questions/185893/how-do-i-analyze-a-hprof-file\" title=\"how do i analyze a hprof file\">stackoverflow.com/questions/185893/&hellip;</a>"},{"owner":{"account_id":7577263,"reputation":2260,"user_id":5749217,"display_name":"Collin Krawll"},"score":0,"creation_date":1697224517,"post_id":15130956,"comment_id":136258060,"body_markdown":"NetBeans can read these. Just go to File &gt; Open File... select and open it.","body":"NetBeans can read these. Just go to File &gt; Open File... select and open it."}],"answers":[{"tags":[],"owner":{"display_name":"user2030471"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1362044281,"creation_date":1362040886,"answer_id":15131003,"question_id":15130956,"body_markdown":"You can use [`jhat`][1] (Java Heap Analysis Tool) to read the generated file:\r\n\r\n    jhat [ options ] &lt;heap-dump-file&gt;\r\n\r\nThe jhat command parses a java heap dump file and launches a webserver. jhat enables you to browse heap dumps using your favorite webbrowser.\r\n\r\nNote that you should have a `hprof` binary format output to be able to parse it with `jhat`. You can use `format=b` option to generate the dump in this format.\r\n\r\n    -dump:format=b,file=&lt;filename&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/share/jhat.html","title":"How to analyse the heap dump using jmap in java","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/share/jhat.html\" rel=\"noreferrer\"><code>jhat</code></a> (Java Heap Analysis Tool) to read the generated file:</p>\n\n<pre><code>jhat [ options ] &lt;heap-dump-file&gt;\n</code></pre>\n\n<p>The jhat command parses a java heap dump file and launches a webserver. jhat enables you to browse heap dumps using your favorite webbrowser.</p>\n\n<p>Note that you should have a <code>hprof</code> binary format output to be able to parse it with <code>jhat</code>. You can use <code>format=b</code> option to generate the dump in this format.</p>\n\n<pre><code>-dump:format=b,file=&lt;filename&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":335827,"reputation":9535,"user_id":663130,"accept_rate":89,"display_name":"pushy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1362040962,"creation_date":1362040962,"answer_id":15131027,"question_id":15130956,"body_markdown":"If you use Eclipse as your IDE I would recommend the excellent eclipse plugin [memory analyzer][1] \r\n\r\nAnother option is to use JVisualVM, it can read (and create) heap dumps as well, and is shipped with every JDK. You can find it in the bin directory of your JDK.\r\n\r\n\r\n  [1]: http://www.eclipse.org/mat/","title":"How to analyse the heap dump using jmap in java","body":"<p>If you use Eclipse as your IDE I would recommend the excellent eclipse plugin <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">memory analyzer</a> </p>\n\n<p>Another option is to use JVisualVM, it can read (and create) heap dumps as well, and is shipped with every JDK. You can find it in the bin directory of your JDK.</p>\n"},{"tags":[],"owner":{"account_id":1301537,"reputation":95,"user_id":1251323,"accept_rate":75,"display_name":"user1251323"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1366308905,"creation_date":1366308905,"answer_id":16090307,"question_id":15130956,"body_markdown":"MAT, jprofiler,jhat are possible options. since jhat comes with jdk, you can easily launch it to do some basic analysis. [check this out][1]\r\n\r\n\r\n  [1]: http://ranjanrakesh.wordpress.com/2013/04/17/java-memory-analysis-just-using-jdk/","title":"How to analyse the heap dump using jmap in java","body":"<p>MAT, jprofiler,jhat are possible options. since jhat comes with jdk, you can easily launch it to do some basic analysis. <a href=\"http://ranjanrakesh.wordpress.com/2013/04/17/java-memory-analysis-just-using-jdk/\" rel=\"nofollow\">check this out</a></p>\n"},{"tags":[],"owner":{"account_id":1335764,"reputation":972,"user_id":1278562,"accept_rate":100,"display_name":"yves.beutler"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1371043435,"creation_date":1371043435,"answer_id":17066727,"question_id":15130956,"body_markdown":"You should use `jmap -heap:format=b &lt;process-id&gt;` without any paths. So it creates a *.bin file which you can open with `jvisualvm.exe` (same path as jmap). It&#39;s a great tool to open such dump files.","title":"How to analyse the heap dump using jmap in java","body":"<p>You should use <code>jmap -heap:format=b &lt;process-id&gt;</code> without any paths. So it creates a *.bin file which you can open with <code>jvisualvm.exe</code> (same path as jmap). It's a great tool to open such dump files.</p>\n"},{"tags":[],"owner":{"account_id":1998882,"reputation":523,"user_id":1790382,"display_name":"kanaparthikiran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1381879441,"creation_date":1381879441,"answer_id":19392760,"question_id":15130956,"body_markdown":"VisualVm does not come with Apple JDK. You can use VisualVM Mac Application bundle(dmg) as a separate application, to compensate for that.\r\n\r\n","title":"How to analyse the heap dump using jmap in java","body":"<p>VisualVm does not come with Apple JDK. You can use VisualVM Mac Application bundle(dmg) as a separate application, to compensate for that.</p>\n"},{"tags":[],"owner":{"account_id":5901520,"reputation":1319,"user_id":4644872,"display_name":"Ankit Mittal"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1586805018,"creation_date":1494691723,"answer_id":43955252,"question_id":15130956,"body_markdown":"Very late to answer this, but worth to take a quick look at. Just 2 minutes needed to understand in detail.\r\n\r\n\r\nFirst create this java program\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n     \r\n    public class GarbageCollectionAnalysisExample{\r\n        public static void main(String[] args) {\r\n               List&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\n               for (int i = 0; i &lt; 100000000; i++) {\r\n                      l = new ArrayList&lt;String&gt;(); //Memory leak\r\n                      System.out.println(l);\r\n               }\r\n               System.out.println(&quot;Done&quot;);\r\n        }\r\n    }\r\n\r\nUse **jps** to find the vmid (virtual machine id i.e. JVM id)\r\n\r\nGo to CMD and type below commands &gt;\r\n\r\n    C:\\&gt;jps\r\n    18588 Jps\r\n    17252 GarbageCollectionAnalysisExample\r\n    16048\r\n    2084 Main\r\n\r\n\r\n 17252 is the vmid which we need.\r\n\r\n\r\n**Now we will learn how to use jmap and jhat**\r\n\r\n Use jmap - to generate heap dump  \r\n\r\n **From java docs about jmap\r\n“jmap prints shared object memory maps or heap memory details of a given process or core file or a remote debug server”**\r\n\r\n\r\nUse following command to generate heap dump &gt;\r\n\r\n\r\n    C:\\&gt;jmap -dump:file=E:\\heapDump.jmap 17252\r\n    Dumping heap to E:\\heapDump.jmap ...\r\n    Heap dump file created\r\n\r\n Where 17252 is the vmid  (picked from above).\r\n\r\nHeap dump will be generated in `E:\\heapDump.jmap`\r\n\r\n\r\nNow use Jhat\r\n**Jhat** is used for analyzing the garbage collection dump in java - \r\n\r\n\r\n    C:\\&gt;jhat E:\\heapDump.jmap\r\n    Reading from E:\\heapDump.jmap...\r\n    Dump file created Mon Nov 07 23:59:19 IST 2016\r\n    Snapshot read, resolving...\r\n    Resolving 241865 objects...\r\n    Chasing references, expect 48 dots................................................\r\n    Eliminating duplicate references................................................\r\n    Snapshot resolved.\r\n    Started HTTP server on port 7000\r\n    Server is ready.\r\n\r\n\r\nBy default, it will start http server on port 7000.\r\nThen we will go to http://localhost:7000/\r\n\r\n\r\n\r\nCourtesy : [JMAP][1], [How to monitor and analyze the garbage collection in 10 ways][2] \r\n\r\n\r\n  [1]: http://www.javamadesoeasy.com/2016/11/how-to-use-jhat-to-analyze-heat-dump.html\r\n  [2]: http://www.javamadesoeasy.com/2016/12/how-to-monitor-and-analyze-garbage.html","title":"How to analyse the heap dump using jmap in java","body":"<p>Very late to answer this, but worth to take a quick look at. Just 2 minutes needed to understand in detail.</p>\n\n<p>First create this java program</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class GarbageCollectionAnalysisExample{\n    public static void main(String[] args) {\n           List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n           for (int i = 0; i &lt; 100000000; i++) {\n                  l = new ArrayList&lt;String&gt;(); //Memory leak\n                  System.out.println(l);\n           }\n           System.out.println(\"Done\");\n    }\n}\n</code></pre>\n\n<p>Use <strong>jps</strong> to find the vmid (virtual machine id i.e. JVM id)</p>\n\n<p>Go to CMD and type below commands ></p>\n\n<pre><code>C:\\&gt;jps\n18588 Jps\n17252 GarbageCollectionAnalysisExample\n16048\n2084 Main\n</code></pre>\n\n<p>17252 is the vmid which we need.</p>\n\n<p><strong>Now we will learn how to use jmap and jhat</strong></p>\n\n<p>Use jmap - to generate heap dump  </p>\n\n<p><strong>From java docs about jmap\n“jmap prints shared object memory maps or heap memory details of a given process or core file or a remote debug server”</strong></p>\n\n<p>Use following command to generate heap dump ></p>\n\n<pre><code>C:\\&gt;jmap -dump:file=E:\\heapDump.jmap 17252\nDumping heap to E:\\heapDump.jmap ...\nHeap dump file created\n</code></pre>\n\n<p>Where 17252 is the vmid  (picked from above).</p>\n\n<p>Heap dump will be generated in <code>E:\\heapDump.jmap</code></p>\n\n<p>Now use Jhat\n<strong>Jhat</strong> is used for analyzing the garbage collection dump in java - </p>\n\n<pre><code>C:\\&gt;jhat E:\\heapDump.jmap\nReading from E:\\heapDump.jmap...\nDump file created Mon Nov 07 23:59:19 IST 2016\nSnapshot read, resolving...\nResolving 241865 objects...\nChasing references, expect 48 dots................................................\nEliminating duplicate references................................................\nSnapshot resolved.\nStarted HTTP server on port 7000\nServer is ready.\n</code></pre>\n\n<p>By default, it will start http server on port 7000.\nThen we will go to <a href=\"http://localhost:7000/\" rel=\"noreferrer\">http://localhost:7000/</a></p>\n\n<p>Courtesy : <a href=\"http://www.javamadesoeasy.com/2016/11/how-to-use-jhat-to-analyze-heat-dump.html\" rel=\"noreferrer\">JMAP</a>, <a href=\"http://www.javamadesoeasy.com/2016/12/how-to-monitor-and-analyze-garbage.html\" rel=\"noreferrer\">How to monitor and analyze the garbage collection in 10 ways</a> </p>\n"},{"tags":[],"owner":{"account_id":8441139,"reputation":9,"user_id":6333591,"display_name":"Abhishek Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1605592887,"creation_date":1605592887,"answer_id":64870060,"question_id":15130956,"body_markdown":"If you just run jmap -histo:live or jmap -histo, it outputs the contents on the console!","title":"How to analyse the heap dump using jmap in java","body":"<p>If you just run jmap -histo:live or jmap -histo, it outputs the contents on the console!</p>\n"},{"tags":[],"owner":{"account_id":28724706,"reputation":1,"user_id":21997718,"display_name":"Hax4Tex"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686111404,"creation_date":1685704119,"answer_id":76389622,"question_id":15130956,"body_markdown":"As mentioned in most answers above you could take a Heap Dump easily with bellow command:\r\n\r\n    jmap -dump:live,format=b,file=/path/to/mydump.hprof &lt;pid&gt;\r\n\r\n&gt; \\&lt;pid&gt; - The Java Process ID\r\n\r\nIt would be easy to understand what you just got using a graphical heap dump analyzer such as `Eclipse MAT`.\r\n\r\nYou need `Eclipse IDE` and `Memory Analyzer plugin` to get started.\r\n\r\nMore details can be found in [this article][1].\r\n\r\n  [1]: https://reflectoring.io/create-analyze-heapdump/","title":"How to analyse the heap dump using jmap in java","body":"<p>As mentioned in most answers above you could take a Heap Dump easily with bellow command:</p>\n<pre><code>jmap -dump:live,format=b,file=/path/to/mydump.hprof &lt;pid&gt;\n</code></pre>\n<blockquote>\n<p>&lt;pid&gt; - The Java Process ID</p>\n</blockquote>\n<p>It would be easy to understand what you just got using a graphical heap dump analyzer such as <code>Eclipse MAT</code>.</p>\n<p>You need <code>Eclipse IDE</code> and <code>Memory Analyzer plugin</code> to get started.</p>\n<p>More details can be found in <a href=\"https://reflectoring.io/create-analyze-heapdump/\" rel=\"nofollow noreferrer\">this article</a>.</p>\n"}],"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233407,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"answer_count":8,"score":66,"last_activity_date":1686111404,"creation_date":1362040680,"question_id":15130956,"body_markdown":"I am creating heap dump using below command:\r\n\r\n    jmap -dump:file=DumpFile.txt &lt;process-id&gt;\r\n\r\nI have opened the generated file - `DumpFile.txt` but it is not in readable format.\r\nSo please let me know how to analyze the data in the generated file.","title":"How to analyse the heap dump using jmap in java","body":"<p>I am creating heap dump using below command:</p>\n\n<pre><code>jmap -dump:file=DumpFile.txt &lt;process-id&gt;\n</code></pre>\n\n<p>I have opened the generated file - <code>DumpFile.txt</code> but it is not in readable format.\nSo please let me know how to analyze the data in the generated file.</p>\n"},{"tags":["java","maven","testing","appium","junit5"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1641833893,"post_id":70655318,"comment_id":124904887,"body_markdown":"-Dtestsuite= AndroidAllTest**Suite** ?","body":"-Dtestsuite= AndroidAllTest<b>Suite</b> ?"},{"owner":{"account_id":23894275,"reputation":1,"user_id":17893492,"display_name":"Manuel"},"score":0,"creation_date":1641893079,"post_id":70655318,"comment_id":124920060,"body_markdown":"Yes, the name is correct in project. I edit my post. Thank you.","body":"Yes, the name is correct in project. I edit my post. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642063995,"creation_date":1642063995,"answer_id":70693750,"question_id":70655318,"body_markdown":"Try to declare surefire-plugin in this way:\r\n\r\n```\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n        &lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/plugin&gt;\r\n```\r\n\r\nor this:\r\n\r\n```\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/plugin&gt;\r\n```\r\n---\r\n**Some references**\r\n\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html\r\nhttps://mvnrepository.com/artifact/org.apache.maven.surefire/surefire-junit47\r\nhttps://mvnrepository.com/artifact/org.apache.maven.surefire/surefire-junit-platform","title":"Maven Surefire Plugin version 3.0.0-M5 ignored include test","body":"<p>Try to declare surefire-plugin in this way:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n        &lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>or this:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<hr />\n<p><strong>Some references</strong></p>\n<p><a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html</a>\n<a href=\"https://mvnrepository.com/artifact/org.apache.maven.surefire/surefire-junit47\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.maven.surefire/surefire-junit47</a>\n<a href=\"https://mvnrepository.com/artifact/org.apache.maven.surefire/surefire-junit-platform\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.maven.surefire/surefire-junit-platform</a></p>\n"},{"tags":[],"owner":{"account_id":23894275,"reputation":1,"user_id":17893492,"display_name":"Manuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642178875,"creation_date":1642178875,"answer_id":70713927,"question_id":70655318,"body_markdown":"Thank you, I could solve the problem.\r\nI had been used @BeforeClass (JUnit 4) and Jupiter (JUnit5).\r\nThat was my problem.","title":"Maven Surefire Plugin version 3.0.0-M5 ignored include test","body":"<p>Thank you, I could solve the problem.\nI had been used @BeforeClass (JUnit 4) and Jupiter (JUnit5).\nThat was my problem.</p>\n"},{"tags":[],"owner":{"account_id":1849999,"reputation":364,"user_id":1676726,"display_name":"fishautumn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686111193,"creation_date":1686111193,"answer_id":76419856,"question_id":70655318,"body_markdown":"I&#39;m using TestNG and met similar issue with 3.0.0-M5. It seems surefire begin to prefer Junit5 over TestNG since this version.\r\n\r\nsee https://github.com/apache/maven-surefire/commit/d5bbb3f9ae37ff5ad2bb7e8b3c11d1f24ea6f041#diff-38e379eb63d7dcd2deb45902b4a494517e4ce54c29913bcf74e7d9243ebb7011R1175\r\nAbstractSurefireMojo.java line 1175.\r\n\r\nI solved it by explicit add org.apache.maven.surefire:surefire-testng to surefire plugin dependency. ref: https://stackoverflow.com/a/55282597/1676726\r\n```xml\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n```","title":"Maven Surefire Plugin version 3.0.0-M5 ignored include test","body":"<p>I'm using TestNG and met similar issue with 3.0.0-M5. It seems surefire begin to prefer Junit5 over TestNG since this version.</p>\n<p>see <a href=\"https://github.com/apache/maven-surefire/commit/d5bbb3f9ae37ff5ad2bb7e8b3c11d1f24ea6f041#diff-38e379eb63d7dcd2deb45902b4a494517e4ce54c29913bcf74e7d9243ebb7011R1175\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-surefire/commit/d5bbb3f9ae37ff5ad2bb7e8b3c11d1f24ea6f041#diff-38e379eb63d7dcd2deb45902b4a494517e4ce54c29913bcf74e7d9243ebb7011R1175</a>\nAbstractSurefireMojo.java line 1175.</p>\n<p>I solved it by explicit add org.apache.maven.surefire:surefire-testng to surefire plugin dependency. ref: <a href=\"https://stackoverflow.com/a/55282597/1676726\">https://stackoverflow.com/a/55282597/1676726</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                    &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\n                    &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":23894275,"reputation":1,"user_id":17893492,"display_name":"Manuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70713927,"answer_count":3,"score":0,"last_activity_date":1686111193,"creation_date":1641830294,"question_id":70655318,"body_markdown":"I have configured a surefire plugin in pom.xml to run a Testsuite.\r\nWith version 3.0.0-M3 works all fine, but if I switch to version 3.0.0-M5 test will igore and run 0 tests.\r\n\r\nWhat can I do? What I am doing wrong?\r\n\r\nMaven Log with version M3:\r\n```\r\n16:35:00  [INFO] --- maven-surefire-plugin:3.0.0-M3:test (default-test) @ bitone-appium ---\r\n16:35:01  [INFO] \r\n16:35:01  [INFO] -------------------------------------------------------\r\n16:35:01  [INFO]  T E S T S\r\n16:35:01  [INFO] -------------------------------------------------------\r\n16:35:01  [INFO] Running Android All Tests Suite\r\n.\r\n.\r\n.\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 77.921 s - in Android All Tests Suite\r\n16:36:19  [INFO] \r\n16:36:19  [INFO] Results:\r\n16:36:19  [INFO] \r\n16:36:19  [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n16:36:19  [INFO] \r\n16:36:19  [INFO] \r\n```\r\n\r\nMaven Log with version M5:\r\n```\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] \r\n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ xxxx-appium ---\r\n[INFO] Building jar: /Users/xxxx/Projects/xxxx-testautomatisierung/xxxx-appium/target/xxxx-appium-1.0-SNAPSHOT.jar\r\n[INFO] \r\n[INFO] --- maven-install-plugin:2.4:install (default-install) @ xxxx-appium ---\r\n[INFO] Installing ...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  3.563 s\r\n[INFO] Finished at: 2022-01-10T15:26:33+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\npart of pom.xml:\r\n```\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;java.version&gt;8&lt;/java.version&gt;\r\n    &lt;maven.compiler.plugin.version&gt;3.8.1&lt;/maven.compiler.plugin.version&gt;\r\n    &lt;maven-clean.version&gt;2.5&lt;/maven-clean.version&gt;\r\n    &lt;maven.surefire.plugin.version&gt;3.0.0-M3&lt;/maven.surefire.plugin.version&gt;\r\n    &lt;maven-javadoc.version&gt;3.2.0&lt;/maven-javadoc.version&gt;\r\n    &lt;junit5.jupiter.version&gt;5.8.1&lt;/junit5.jupiter.version&gt;\r\n    &lt;junit5.jupiter.suite.version&gt;1.7.0&lt;/junit5.jupiter.suite.version&gt;\r\n    &lt;junit5.junit.platform.launcher&gt;1.8.1&lt;/junit5.junit.platform.launcher&gt;\r\n    &lt;junit5.junit.platform-runner&gt;1.8.1&lt;/junit5.junit.platform-runner&gt;\r\n    &lt;junit5.junit.platform-commons&gt;1.8.1&lt;/junit5.junit.platform-commons&gt;\r\n    &lt;junit5.junit.suite-engine&gt;1.8.1&lt;/junit5.junit.suite-engine&gt;\r\n    &lt;junit5.junit.platform-params&gt;5.8.1&lt;/junit5.junit.platform-params&gt;\r\n    &lt;appium-java-client.version&gt;7.5.1&lt;/appium-java-client.version&gt;\r\n    &lt;selenium-java.version&gt;3.141.59&lt;/selenium-java.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit5.jupiter.version}&lt;/version&gt;\r\n        &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit5.junit.platform.launcher}&lt;/version&gt;\r\n        &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit5.junit.platform-runner}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit5.junit.platform-commons}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit5.junit.platform-params}&lt;/version&gt;\r\n        &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit5.junit.suite-engine}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n        &lt;version&gt;${appium-java-client.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;${selenium-java.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n&lt;build&gt;\r\n    &lt;testResources&gt;\r\n        &lt;testResource&gt;\r\n            &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;/testResource&gt;\r\n    &lt;/testResources&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;${testsuite}.java&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\nMaven command:\r\n```\r\nmvn clean install -Dtestsuite=AndroidAllTestsSuite\r\n```\r\nAndroidAllTestSuite.java:\r\n```\r\nimport android.login.LoginTest;\r\nimport org.junit.platform.suite.api.SelectClasses;\r\nimport org.junit.platform.suite.api.Suite;\r\nimport org.junit.platform.suite.api.SuiteDisplayName;\r\n\r\n@Suite\r\n@SelectClasses({\r\n        LoginTest.class\r\n})\r\n@SuiteDisplayName(&quot;Android All Tests Suite&quot;)\r\npublic class AndroidAllTestsSuite {\r\n}\r\n```\r\n\r\nLoginTest.java:\r\n```\r\nimport org.junit.jupiter.api.*;\r\n\r\npublic class LoginTest {\r\n    @Test\r\n    public void loginTest() {\r\n        Assertions.assertTrue(true);\r\n    }\r\n}\r\n```","title":"Maven Surefire Plugin version 3.0.0-M5 ignored include test","body":"<p>I have configured a surefire plugin in pom.xml to run a Testsuite.\nWith version 3.0.0-M3 works all fine, but if I switch to version 3.0.0-M5 test will igore and run 0 tests.</p>\n<p>What can I do? What I am doing wrong?</p>\n<p>Maven Log with version M3:</p>\n<pre><code>16:35:00  [INFO] --- maven-surefire-plugin:3.0.0-M3:test (default-test) @ bitone-appium ---\n16:35:01  [INFO] \n16:35:01  [INFO] -------------------------------------------------------\n16:35:01  [INFO]  T E S T S\n16:35:01  [INFO] -------------------------------------------------------\n16:35:01  [INFO] Running Android All Tests Suite\n.\n.\n.\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 77.921 s - in Android All Tests Suite\n16:36:19  [INFO] \n16:36:19  [INFO] Results:\n16:36:19  [INFO] \n16:36:19  [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n16:36:19  [INFO] \n16:36:19  [INFO] \n</code></pre>\n<p>Maven Log with version M5:</p>\n<pre><code>[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] \n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ xxxx-appium ---\n[INFO] Building jar: /Users/xxxx/Projects/xxxx-testautomatisierung/xxxx-appium/target/xxxx-appium-1.0-SNAPSHOT.jar\n[INFO] \n[INFO] --- maven-install-plugin:2.4:install (default-install) @ xxxx-appium ---\n[INFO] Installing ...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.563 s\n[INFO] Finished at: 2022-01-10T15:26:33+01:00\n[INFO] ------------------------------------------------------------------------\n\nProcess finished with exit code 0\n</code></pre>\n<p>part of pom.xml:</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;8&lt;/java.version&gt;\n    &lt;maven.compiler.plugin.version&gt;3.8.1&lt;/maven.compiler.plugin.version&gt;\n    &lt;maven-clean.version&gt;2.5&lt;/maven-clean.version&gt;\n    &lt;maven.surefire.plugin.version&gt;3.0.0-M3&lt;/maven.surefire.plugin.version&gt;\n    &lt;maven-javadoc.version&gt;3.2.0&lt;/maven-javadoc.version&gt;\n    &lt;junit5.jupiter.version&gt;5.8.1&lt;/junit5.jupiter.version&gt;\n    &lt;junit5.jupiter.suite.version&gt;1.7.0&lt;/junit5.jupiter.suite.version&gt;\n    &lt;junit5.junit.platform.launcher&gt;1.8.1&lt;/junit5.junit.platform.launcher&gt;\n    &lt;junit5.junit.platform-runner&gt;1.8.1&lt;/junit5.junit.platform-runner&gt;\n    &lt;junit5.junit.platform-commons&gt;1.8.1&lt;/junit5.junit.platform-commons&gt;\n    &lt;junit5.junit.suite-engine&gt;1.8.1&lt;/junit5.junit.suite-engine&gt;\n    &lt;junit5.junit.platform-params&gt;5.8.1&lt;/junit5.junit.platform-params&gt;\n    &lt;appium-java-client.version&gt;7.5.1&lt;/appium-java-client.version&gt;\n    &lt;selenium-java.version&gt;3.141.59&lt;/selenium-java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit5.jupiter.version}&lt;/version&gt;\n        &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n        &lt;version&gt;${junit5.junit.platform.launcher}&lt;/version&gt;\n        &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n        &lt;version&gt;${junit5.junit.platform-runner}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\n        &lt;version&gt;${junit5.junit.platform-commons}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;${junit5.junit.platform-params}&lt;/version&gt;\n        &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit5.junit.suite-engine}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;${appium-java-client.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;${selenium-java.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;src/test/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;${testsuite}.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Maven command:</p>\n<pre><code>mvn clean install -Dtestsuite=AndroidAllTestsSuite\n</code></pre>\n<p>AndroidAllTestSuite.java:</p>\n<pre><code>import android.login.LoginTest;\nimport org.junit.platform.suite.api.SelectClasses;\nimport org.junit.platform.suite.api.Suite;\nimport org.junit.platform.suite.api.SuiteDisplayName;\n\n@Suite\n@SelectClasses({\n        LoginTest.class\n})\n@SuiteDisplayName(&quot;Android All Tests Suite&quot;)\npublic class AndroidAllTestsSuite {\n}\n</code></pre>\n<p>LoginTest.java:</p>\n<pre><code>import org.junit.jupiter.api.*;\n\npublic class LoginTest {\n    @Test\n    public void loginTest() {\n        Assertions.assertTrue(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","xsd","jaxb"],"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":1,"creation_date":1686089502,"post_id":76417680,"comment_id":134750940,"body_markdown":"How is this related to (the tagged) Maven?","body":"How is this related to (the tagged) Maven?"}],"answers":[{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686111017,"creation_date":1686111017,"answer_id":76419845,"question_id":76417680,"body_markdown":"[`unmarshaller.unmarshal(source)`][unm] returns an `Object` reference. The actual type of the referenced object apparently is [`javax.xml.bind.JAXBElement`][jaxbe]. `com.model.Securities` (where does this come from?) isn&#39;t in the inheritance hierarchy of [JAXBElement][jaxbe] (in fact, there&#39;s just `Object` as only superclass; and it is a [generic type][gen] in addition) so there&#39;s no other choice than to throw a [ClassCastException][cce]:\r\n\r\n&gt; Thrown to indicate that the code has attempted to cast an object to a subclass of which it is not an instance.\r\n\r\n[unm]: https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/Unmarshaller.html#unmarshal-javax.xml.transform.Source-\r\n[jaxbe]: https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/JAXBElement.html\r\n[gen]: https://docs.oracle.com/javase/tutorial/java/generics/types.html\r\n[cce]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ClassCastException.html ","title":"Class Cast Exception when trying to unmarshall xml JAVA","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/Unmarshaller.html#unmarshal-javax.xml.transform.Source-\" rel=\"nofollow noreferrer\"><code>unmarshaller.unmarshal(source)</code></a> returns an <code>Object</code> reference. The actual type of the referenced object apparently is <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/JAXBElement.html\" rel=\"nofollow noreferrer\"><code>javax.xml.bind.JAXBElement</code></a>. <code>com.model.Securities</code> (where does this come from?) isn't in the inheritance hierarchy of <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/JAXBElement.html\" rel=\"nofollow noreferrer\">JAXBElement</a> (in fact, there's just <code>Object</code> as only superclass; and it is a <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">generic type</a> in addition) so there's no other choice than to throw a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ClassCastException.html\" rel=\"nofollow noreferrer\">ClassCastException</a>:</p>\n<blockquote>\n<p>Thrown to indicate that the code has attempted to cast an object to a subclass of which it is not an instance.</p>\n</blockquote>\n"}],"owner":{"account_id":18177895,"reputation":53,"user_id":14342895,"display_name":"NoobCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686111017,"creation_date":1686078174,"question_id":76417680,"body_markdown":"Trying to get past a class cast here:\r\n\r\nCode:\r\n```\r\nfinal JAXBContext securityContext = JAXBContext.newInstance(Securities.class);\r\nfinal Securities securities = (Securities) securityContext.createUnmarshaller().unmarshal(new StreamSource(new StringReader(sourceMessage.getPayload())));\r\n```\r\n\r\nError:\r\n```\r\njavax.xml.bind.JAXBElement cannot be cast to com.model.Securities\r\n```\r\n\r\nNot sure what im doing incorrect, \r\nany suggestion would be great.\r\n\r\nthanks","title":"Class Cast Exception when trying to unmarshall xml JAVA","body":"<p>Trying to get past a class cast here:</p>\n<p>Code:</p>\n<pre><code>final JAXBContext securityContext = JAXBContext.newInstance(Securities.class);\nfinal Securities securities = (Securities) securityContext.createUnmarshaller().unmarshal(new StreamSource(new StringReader(sourceMessage.getPayload())));\n</code></pre>\n<p>Error:</p>\n<pre><code>javax.xml.bind.JAXBElement cannot be cast to com.model.Securities\n</code></pre>\n<p>Not sure what im doing incorrect,\nany suggestion would be great.</p>\n<p>thanks</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"comments":[{"owner":{"account_id":10343230,"reputation":961,"user_id":7628937,"display_name":"1sina1"},"score":0,"creation_date":1686117936,"post_id":76419761,"comment_id":134753336,"body_markdown":"https://stackoverflow.com/questions/29475118/mongoose-mongodb-throwing-duplicate-key-error-on-save?rq=2","body":"<a href=\"https://stackoverflow.com/questions/29475118/mongoose-mongodb-throwing-duplicate-key-error-on-save?rq=2\" title=\"mongoose mongodb throwing duplicate key error on save\">stackoverflow.com/questions/29475118/&hellip;</a>"},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1686139604,"post_id":76419761,"comment_id":134757662,"body_markdown":"I don&#39;t understand the objection in the second paragraph. You can use update modifiers in the update command to only modify the fields that you want to change rather than specifying all of them, that&#39;s best practice in fact","body":"I don&#39;t understand the objection in the second paragraph. You can use update modifiers in the update command to only modify the fields that you want to change rather than specifying all of them, that&#39;s best practice in fact"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150410,"post_id":76419761,"comment_id":134760366,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":23441401,"reputation":1,"user_id":17498859,"display_name":"dinnai"},"score":0,"creation_date":1686786742,"post_id":76419761,"comment_id":134848722,"body_markdown":"@user20042973 sure, agree with that. previously i just try and wondering is there sort way to just replace all field in my mongo document except the _ID use save() method.","body":"@user20042973 sure, agree with that. previously i just try and wondering is there sort way to just replace all field in my mongo document except the _ID use save() method."}],"owner":{"account_id":23441401,"reputation":1,"user_id":17498859,"display_name":"dinnai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686109285,"creation_date":1686109285,"question_id":76419761,"body_markdown":"I want to update my document using save() method by including the id but got an error `E11000 duplicate key error collection: db.document index: _id_ dup key: { _id: ObjectId`.\r\n\r\nI try to update my document using update() but it will take too much effort and much possible error because my document has a lot of fields that need to be handled.","title":"save() on MongoTemplate return duplicate key error when replace","body":"<p>I want to update my document using save() method by including the id but got an error <code>E11000 duplicate key error collection: db.document index: _id_ dup key: { _id: ObjectId</code>.</p>\n<p>I try to update my document using update() but it will take too much effort and much possible error because my document has a lot of fields that need to be handled.</p>\n"},{"tags":["java","list","arraylist","duplicates"],"comments":[{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":2,"creation_date":1357684960,"post_id":14225302,"comment_id":19732724,"body_markdown":"Do you want to save one &quot;test&quot; and &quot;tree&quot; (aka: remove duplicates) or do you want to remove every occurrence if it has duplicates?","body":"Do you want to save one &quot;test&quot; and &quot;tree&quot; (aka: remove duplicates) or do you want to remove every occurrence if it has duplicates?"},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":1,"creation_date":1357685165,"post_id":14225302,"comment_id":19732813,"body_markdown":"See also: http://stackoverflow.com/a/7414753/59087","body":"See also: <a href=\"http://stackoverflow.com/a/7414753/59087\">stackoverflow.com/a/7414753/59087</a>"},{"owner":{"account_id":4199,"reputation":12084,"user_id":6234,"display_name":"DocMax"},"score":0,"creation_date":1357691390,"post_id":14225302,"comment_id":19734758,"body_markdown":"possible duplicate of [Identify duplicates in a List](http://stackoverflow.com/questions/7414667/identify-duplicates-in-a-list)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7414667/identify-duplicates-in-a-list\">Identify duplicates in a List</a>"}],"answers":[{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1357685317,"creation_date":1357685063,"answer_id":14225338,"question_id":14225302,"body_markdown":"you can check the frequency of an element in the Collection and rule out the elements which have frequency higher than 1.\r\n\r\n       List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        list.add(&quot;test&quot;);       \r\n        list.add(&quot;test&quot;);                   \r\n        list.add(&quot;wow&quot;);    \r\n        list.add(&quot;quit&quot;);\r\n        list.add(&quot;tree&quot;);\r\n        list.add(&quot;tree&quot;);\r\n        for(String s: list){\r\n        \tif(Collections.frequency(list, s) == 1){\r\n        \t\tSystem.out.println(s);\r\n        \t}\r\n\r\n\r\nOutput:\r\n\r\n    wow\r\n    quit\r\n\r\n","title":"Want non duplicate elements from list","body":"<p>you can check the frequency of an element in the Collection and rule out the elements which have frequency higher than 1.</p>\n\n<pre><code>   List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    list.add(\"test\");       \n    list.add(\"test\");                   \n    list.add(\"wow\");    \n    list.add(\"quit\");\n    list.add(\"tree\");\n    list.add(\"tree\");\n    for(String s: list){\n        if(Collections.frequency(list, s) == 1){\n            System.out.println(s);\n        }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>wow\nquit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1576271,"reputation":13026,"user_id":1462604,"accept_rate":80,"display_name":"Wug"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1357685077,"creation_date":1357685077,"answer_id":14225340,"question_id":14225302,"body_markdown":"This snippet should leave you with a set (`output`) which contains only non-duplicated elements of your list.\r\n\r\n    HashSet&lt;String&gt; temp = new HashSet&lt;String&gt;();\r\n    HashSet&lt;String&gt; output = new HashSet&lt;String&gt;();\r\n    \r\n    for (String element : list)\r\n    {\r\n        if (temp.contains(element)) output.remove(element);\r\n        else\r\n        {\r\n            temp.insert(element);\r\n            output.insert(element);\r\n        }\r\n    }\r\n\r\nOperates in O(n*log(n)) time: one set of logarithmic operations (set lookups, inserts, etc) for each of the n elements in the list.","title":"Want non duplicate elements from list","body":"<p>This snippet should leave you with a set (<code>output</code>) which contains only non-duplicated elements of your list.</p>\n\n<pre><code>HashSet&lt;String&gt; temp = new HashSet&lt;String&gt;();\nHashSet&lt;String&gt; output = new HashSet&lt;String&gt;();\n\nfor (String element : list)\n{\n    if (temp.contains(element)) output.remove(element);\n    else\n    {\n        temp.insert(element);\n        output.insert(element);\n    }\n}\n</code></pre>\n\n<p>Operates in O(n*log(n)) time: one set of logarithmic operations (set lookups, inserts, etc) for each of the n elements in the list.</p>\n"},{"tags":[],"owner":{"account_id":1994592,"reputation":3290,"user_id":1787809,"accept_rate":78,"display_name":"Nabil A."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357685161,"creation_date":1357685161,"answer_id":14225359,"question_id":14225302,"body_markdown":"And a Third way\r\n\r\n    List result = new ArrayList();\r\n    for(Object o : list){\r\n       if(list.indexOf(o) == list.lastIndexOf(o))\r\n       result.add(o);\r\n    }","title":"Want non duplicate elements from list","body":"<p>And a Third way</p>\n\n<pre><code>List result = new ArrayList();\nfor(Object o : list){\n   if(list.indexOf(o) == list.lastIndexOf(o))\n   result.add(o);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1876444,"reputation":2828,"user_id":1697575,"accept_rate":100,"display_name":"user1697575"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1362702423,"creation_date":1357685576,"answer_id":14225442,"question_id":14225302,"body_markdown":"You can use HashMap impl to count occurences and select only onces that occur once.\r\n\r\ne.g.\r\n\r\n    void check(List&lt;String&gt; list)\r\n    {\r\n      Map&lt;String,Integer&gt; checker = new HashMap&lt;String,Integer&gt;();\r\n      List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n      for(String value: list)\r\n      {\r\n        Integer count = checker.get(value); \r\n        if (count==null)\r\n        {\r\n          count = 0;\r\n        }\r\n        checker.put(value, ++count);\r\n      }\r\n      // now select only values with count == 1\r\n      for(String value: checker.keySet())\r\n      {\r\n        if (checker.get(value) == 1)\r\n        {\r\n          result.add(value);\r\n        }\r\n      }\r\n      System.out.println(result); \r\n    }","title":"Want non duplicate elements from list","body":"<p>You can use HashMap impl to count occurences and select only onces that occur once.</p>\n\n<p>e.g.</p>\n\n<pre><code>void check(List&lt;String&gt; list)\n{\n  Map&lt;String,Integer&gt; checker = new HashMap&lt;String,Integer&gt;();\n  List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n  for(String value: list)\n  {\n    Integer count = checker.get(value); \n    if (count==null)\n    {\n      count = 0;\n    }\n    checker.put(value, ++count);\n  }\n  // now select only values with count == 1\n  for(String value: checker.keySet())\n  {\n    if (checker.get(value) == 1)\n    {\n      result.add(value);\n    }\n  }\n  System.out.println(result); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1478969078,"creation_date":1478969078,"answer_id":40565168,"question_id":14225302,"body_markdown":"**Java 8+**\r\n\r\n    list.stream()                                              // Stream\r\n        .filter(i -&gt; Collections.frequency(list, i) == 1)      // Stream\r\n        .collect(Collectors.toList())                          // List\r\n        .forEach(System.out::println);                         // void\r\n\r\nIt prints every element from that list that appears exactly once.\r\n\r\nDetails:\r\n\r\n* [lambda expressions][1]\r\n* [Stream][2] interface\r\n* [Collections][3] class\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html","title":"Want non duplicate elements from list","body":"<p><strong>Java 8+</strong></p>\n\n<pre><code>list.stream()                                              // Stream\n    .filter(i -&gt; Collections.frequency(list, i) == 1)      // Stream\n    .collect(Collectors.toList())                          // List\n    .forEach(System.out::println);                         // void\n</code></pre>\n\n<p>It prints every element from that list that appears exactly once.</p>\n\n<p>Details:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expressions</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">Stream</a> interface</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html\" rel=\"nofollow noreferrer\">Collections</a> class</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521752537,"creation_date":1521752537,"answer_id":49438409,"question_id":14225302,"body_markdown":"@ROMANIA_Engineer&#39;s solution should work just fine, but it does hide an O(n&lt;sup&gt;2&lt;/sup&gt;) complexity in it, since `Collections.frequency` is an O(n) operation. \r\n\r\nA more efficient solution that can still be squeezed in to a single statement could be to count how many times each item occurs and filter just items that appear once:\r\n\r\n    list.stream()\r\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n        .entrySet()\r\n        .stream()\r\n        .filter(e -&gt; e.getValue() == 1L)\r\n        .map(Map.Entry::getKey)\r\n        .forEach(System.out::println);","title":"Want non duplicate elements from list","body":"<p>@ROMANIA_Engineer's solution should work just fine, but it does hide an O(n<sup>2</sup>) complexity in it, since <code>Collections.frequency</code> is an O(n) operation. </p>\n\n<p>A more efficient solution that can still be squeezed in to a single statement could be to count how many times each item occurs and filter just items that appear once:</p>\n\n<pre><code>list.stream()\n    .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n    .entrySet()\n    .stream()\n    .filter(e -&gt; e.getValue() == 1L)\n    .map(Map.Entry::getKey)\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521754830,"creation_date":1521754830,"answer_id":49438947,"question_id":14225302,"body_markdown":"Here is a Java 8 way without streams:\r\n\r\n    Map&lt;String, Long&gt; counts = new HashMap&lt;&gt;();\r\n    list.forEach(word -&gt; counts.merge(word, 1L, Long::sum));\r\n\r\n    counts.values().removeIf(count -&gt; count &gt; 1);\r\n\r\nThis first iterates the list and stores the frequency of each word in the `counts` map. For this I&#39;m using the [`Map.merge`][1] method, which either associates the provided value (`1L` in this case) with the given key (`word` here) or uses the provided merge function (`Long::sum`) to combine an existent value with the given one.\r\n\r\nThen, words with a frequency greater than `1` are removed from the map via the [`Collection.removeIf`][2] method.\r\n\r\nThe whole process has `O(n)` time complexity.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-","title":"Want non duplicate elements from list","body":"<p>Here is a Java 8 way without streams:</p>\n\n<pre><code>Map&lt;String, Long&gt; counts = new HashMap&lt;&gt;();\nlist.forEach(word -&gt; counts.merge(word, 1L, Long::sum));\n\ncounts.values().removeIf(count -&gt; count &gt; 1);\n</code></pre>\n\n<p>This first iterates the list and stores the frequency of each word in the <code>counts</code> map. For this I'm using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\"><code>Map.merge</code></a> method, which either associates the provided value (<code>1L</code> in this case) with the given key (<code>word</code> here) or uses the provided merge function (<code>Long::sum</code>) to combine an existent value with the given one.</p>\n\n<p>Then, words with a frequency greater than <code>1</code> are removed from the map via the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>Collection.removeIf</code></a> method.</p>\n\n<p>The whole process has <code>O(n)</code> time complexity.</p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572241732,"creation_date":1572241732,"answer_id":58586263,"question_id":14225302,"body_markdown":"If you&#39;re open to using a third-party library, the following can be used with [Eclipse Collections][1]:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;test&quot;, &quot;test&quot;, &quot;wow&quot;, &quot;quit&quot;, &quot;tree&quot;, &quot;tree&quot;);\r\n\r\n    Set&lt;String&gt; set = Bags.mutable.withAll(list).selectUnique();\r\n\r\n    System.out.println(set);\r\n\r\nOutputs:\r\n\r\n    [wow, quit]\r\n\r\nYou can also construct a `Bag` directly instead of creating a `List` as follows:\r\n\r\n    MutableBag&lt;String&gt; bag = \r\n        Bags.mutable.with(&quot;test&quot;, &quot;test&quot;, &quot;wow&quot;, &quot;quit&quot;, &quot;tree&quot;, &quot;tree&quot;);\r\n\r\n    MutableSet&lt;String&gt; set = bag.selectUnique();\r\n\r\nNote: I am a committer for Eclipse Collections\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n","title":"Want non duplicate elements from list","body":"<p>If you're open to using a third-party library, the following can be used with <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a>:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"test\", \"test\", \"wow\", \"quit\", \"tree\", \"tree\");\n\nSet&lt;String&gt; set = Bags.mutable.withAll(list).selectUnique();\n\nSystem.out.println(set);\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>[wow, quit]\n</code></pre>\n\n<p>You can also construct a <code>Bag</code> directly instead of creating a <code>List</code> as follows:</p>\n\n<pre><code>MutableBag&lt;String&gt; bag = \n    Bags.mutable.with(\"test\", \"test\", \"wow\", \"quit\", \"tree\", \"tree\");\n\nMutableSet&lt;String&gt; set = bag.selectUnique();\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections</p>\n"},{"tags":[],"owner":{"account_id":5959662,"reputation":21,"user_id":4685203,"display_name":"sahil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600965611,"creation_date":1600965611,"answer_id":64050762,"question_id":14225302,"body_markdown":"  List&lt;String&gt; aList = Arrays.asList(&quot;test&quot;, &quot;test&quot;, \r\n                    &quot;wow&quot;, &quot;wow&quot;, &quot;wow&quot;); \r\n  \r\n       \r\nSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;(aList); \r\n        \r\nhashSet.addAll(aList); \r\n\r\nnow you can print HashSet all the duplicates values removed","title":"Want non duplicate elements from list","body":"<p>List aList = Arrays.asList(&quot;test&quot;, &quot;test&quot;,\n&quot;wow&quot;, &quot;wow&quot;, &quot;wow&quot;);</p>\n<p>Set hashSet = new HashSet(aList);</p>\n<p>hashSet.addAll(aList);</p>\n<p>now you can print HashSet all the duplicates values removed</p>\n"},{"tags":[],"owner":{"account_id":25651489,"reputation":47,"user_id":19418655,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659418992,"creation_date":1659418972,"answer_id":73202466,"question_id":14225302,"body_markdown":"Easily clean a list using a lambda:\r\n\r\n    list.removeIf(element -&gt; Collections.frequency(list, element) &gt; 1);","title":"Want non duplicate elements from list","body":"<p>Easily clean a list using a lambda:</p>\n<pre><code>list.removeIf(element -&gt; Collections.frequency(list, element) &gt; 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21155515,"reputation":21,"user_id":15554875,"display_name":"Rohit Tingare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685092819,"creation_date":1685092819,"answer_id":76339401,"question_id":14225302,"body_markdown":"You can use Java 8 Stream api feature to create different list with only unique elements from original list. Please see below code for reference.\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();                \r\n    list.add(&quot;test&quot;);       \r\n    list.add(&quot;test&quot;);                   \r\n    list.add(&quot;wow&quot;);    \r\n    list.add(&quot;quit&quot;);\r\n    list.add(&quot;tree&quot;);\r\n    list.add(&quot;tree&quot;);\r\n\r\n    List&lt;String&gt; uniqueElements = list.stream().filter(element- \r\n    &gt;Collections.frequency(list,element)==1).toList();\r\n\r\nAbove code will initialize &#39;uniqueElements&#39; list with unique elements from &#39;list&#39;.","title":"Want non duplicate elements from list","body":"<p>You can use Java 8 Stream api feature to create different list with only unique elements from original list. Please see below code for reference.</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();                \nlist.add(&quot;test&quot;);       \nlist.add(&quot;test&quot;);                   \nlist.add(&quot;wow&quot;);    \nlist.add(&quot;quit&quot;);\nlist.add(&quot;tree&quot;);\nlist.add(&quot;tree&quot;);\n\nList&lt;String&gt; uniqueElements = list.stream().filter(element- \n&gt;Collections.frequency(list,element)==1).toList();\n</code></pre>\n<p>Above code will initialize 'uniqueElements' list with unique elements from 'list'.</p>\n"}],"owner":{"account_id":2219860,"reputation":81,"user_id":1959531,"display_name":"user1959531"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8530,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":11,"score":6,"last_activity_date":1686108849,"creation_date":1357684871,"question_id":14225302,"body_markdown":"From following list I need only &#39;wow&#39; and &#39;quit&#39;.\r\n\r\n    List&lt;String&gt; list = new ArrayList();\t\t\t\t\r\n    list.add(&quot;test&quot;);       \r\n    list.add(&quot;test&quot;);                   \r\n    list.add(&quot;wow&quot;);    \r\n    list.add(&quot;quit&quot;);\r\n    list.add(&quot;tree&quot;);\r\n    list.add(&quot;tree&quot;);","title":"Want non duplicate elements from list","body":"<p>From following list I need only 'wow' and 'quit'.</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList();                \nlist.add(\"test\");       \nlist.add(\"test\");                   \nlist.add(\"wow\");    \nlist.add(\"quit\");\nlist.add(\"tree\");\nlist.add(\"tree\");\n</code></pre>\n"},{"tags":["java","spring-boot","websocket","spring-websocket"],"owner":{"account_id":28769094,"reputation":1,"user_id":22033263,"display_name":"JavaWeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686108781,"creation_date":1686107244,"question_id":76419655,"body_markdown":"[enter image description here](https://i.stack.imgur.com/R5vC7.png)\r\n\r\n\r\nI try to get map in：session.getAttributes() , but this.size is zero i dont see any method can do this in websocketsession\r\ncode:\r\n```\r\n    @Override\r\n    public void handleOpen(WebSocketSession session) {\r\n        sessions.add(session);\r\n        int count = connectionCount.incrementAndGet();\r\n        log.info(&quot;a new connection opened，current online count：{}&quot;, count);\r\n    }\r\n```\r\n","title":"How to obtain entity attributes in the WebSocketSession interface of org.springframework.websocket5.3.26 : &#39;User&#39;","body":"<p><a href=\"https://i.stack.imgur.com/R5vC7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I try to get map in：session.getAttributes() , but this.size is zero i dont see any method can do this in websocketsession\ncode:</p>\n<pre><code>    @Override\n    public void handleOpen(WebSocketSession session) {\n        sessions.add(session);\n        int count = connectionCount.incrementAndGet();\n        log.info(&quot;a new connection opened，current online count：{}&quot;, count);\n    }\n</code></pre>\n"},{"tags":["java","sql-server","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1608315398,"creation_date":1608315398,"answer_id":65362036,"question_id":65361711,"body_markdown":"Following the documentation you can create ```ConnectionFactory``` and ```Connection``` objects programmatically.\r\n\r\n```lang-java\r\n@Bean\r\n@Override\r\npublic ConnectionFactory connectionFactory() {\r\n\r\n    final ConnectionFactoryOptions options = builder()\r\n            .option(DRIVER, &quot;sqlserver&quot;)\r\n            .option(HOST, applicationDatabaseProperties.getHost())\r\n            .option(PORT, applicationDatabaseProperties.getPort())\r\n            .option(USER, applicationDatabaseProperties.getUsername())\r\n            .option(PASSWORD, applicationDatabaseProperties.getPassword())\r\n            .option(DATABASE, applicationDatabaseProperties.getDatabase())\r\n            .option(Option.valueOf(&quot;[ANOTHER_OPTION]&quot;,&quot;[ANOTHER_VALUE&quot;))\r\n            .build();\r\n\r\n    return ConnectionFactories.get(options);\r\n}\r\n```\r\nIn this case you can put any other parameret that you need like:\r\n```lang-java\r\n            .option(Option.valueOf(&quot;encrypt&quot;, Boolean.TRUE))\r\n```\r\n","title":"encrypt parameter in sql server and sprig data r2dbc","body":"<p>Following the documentation you can create <code>ConnectionFactory</code> and <code>Connection</code> objects programmatically.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Override\npublic ConnectionFactory connectionFactory() {\n\n    final ConnectionFactoryOptions options = builder()\n            .option(DRIVER, &quot;sqlserver&quot;)\n            .option(HOST, applicationDatabaseProperties.getHost())\n            .option(PORT, applicationDatabaseProperties.getPort())\n            .option(USER, applicationDatabaseProperties.getUsername())\n            .option(PASSWORD, applicationDatabaseProperties.getPassword())\n            .option(DATABASE, applicationDatabaseProperties.getDatabase())\n            .option(Option.valueOf(&quot;[ANOTHER_OPTION]&quot;,&quot;[ANOTHER_VALUE&quot;))\n            .build();\n\n    return ConnectionFactories.get(options);\n}\n</code></pre>\n<p>In this case you can put any other parameret that you need like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            .option(Option.valueOf(&quot;encrypt&quot;, Boolean.TRUE))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4141534,"reputation":13,"user_id":3396678,"display_name":"Devang Jayswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686108331,"creation_date":1686108331,"answer_id":76419714,"question_id":65361711,"body_markdown":"    private final ConnectionFactory connectionFactory;\r\n\r\n    @Autowired // inject default ConnectionFactory\r\n    public ReactivePostgresConfig(ConnectionFactory connectionFactory) {\r\n        this.connectionFactory = connectionFactory;\r\n    }\r\n\r\n    @Override\r\n    // modify (mutate) default ConnectionFactory and return\r\n    public @NotNull ConnectionFactory connectionFactory() {\r\n\r\n        // get the default connection factory configurations (options)\r\n        OptionsCapableConnectionFactory factory = OptionsCapableConnectionFactory.unwrapFrom(this.connectionFactory);\r\n        ConnectionFactoryOptions options = factory.getOptions();\r\n\r\n        // add encryption option\r\n        options.mutate().option(Option.valueOf(&quot;encrypt&quot;), Boolean.TRUE);\r\n\r\n        // return the mutated connection factory\r\n        return ConnectionFactories.get(options);\r\n    }","title":"encrypt parameter in sql server and sprig data r2dbc","body":"<pre><code>private final ConnectionFactory connectionFactory;\n\n@Autowired // inject default ConnectionFactory\npublic ReactivePostgresConfig(ConnectionFactory connectionFactory) {\n    this.connectionFactory = connectionFactory;\n}\n\n@Override\n// modify (mutate) default ConnectionFactory and return\npublic @NotNull ConnectionFactory connectionFactory() {\n\n    // get the default connection factory configurations (options)\n    OptionsCapableConnectionFactory factory = OptionsCapableConnectionFactory.unwrapFrom(this.connectionFactory);\n    ConnectionFactoryOptions options = factory.getOptions();\n\n    // add encryption option\n    options.mutate().option(Option.valueOf(&quot;encrypt&quot;), Boolean.TRUE);\n\n    // return the mutated connection factory\n    return ConnectionFactories.get(options);\n}\n</code></pre>\n"}],"owner":{"account_id":11652494,"reputation":182,"user_id":10508681,"display_name":"chavalife17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65362036,"answer_count":2,"score":0,"last_activity_date":1686108331,"creation_date":1608313952,"question_id":65361711,"body_markdown":"I&#39;m using Spring data R2DBC and I can connect in localhost my project with my database using this code:\r\n\r\n```lang-java\r\npublic class R2dbcConfig extends AbstractR2dbcConfiguration {\r\n\r\n\tprivate final ApplicationDatabaseProperties applicationDatabaseProperties;\r\n\r\n\t@Bean\r\n\t@Override\r\n\tpublic ConnectionFactory connectionFactory() {\r\n\t\treturn new MssqlConnectionFactory(\r\n\t\t\t\tMssqlConnectionConfiguration.builder()\r\n                        .host(applicationDatabaseProperties.getHost())\r\n\t\t\t\t\t\t.port(applicationDatabaseProperties.getPort())\r\n\t\t\t\t\t\t.username(applicationDatabaseProperties.getUsername())\r\n\t\t\t\t\t\t.password(applicationDatabaseProperties.getPassword())\r\n\t\t\t\t\t\t.database(applicationDatabaseProperties.getDatabase())\r\n\t\t\t\t\t\t.build());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DatabaseClient databaseClient(ConnectionFactory connectionFactory) {\r\n\t\treturn DatabaseClient.create(connectionFactory);\r\n\t}\r\n}\r\n```\r\nObvioulsy a applicationDatabaseProperties has parameters of database&#39;s connection, but in other enviroment I have a connection string like this:\r\n```jdbc:sqlserver://[myhost]:1433;database=[mydatabase];user=[myUser];password={your_password_here};encrypt=true;trustServerCertificate=false;hostNameInCertificate=[myhostNameInCertificate];loginTimeout=30;```\r\n\r\nI&#39;ve used MssqlConnectionFactory (mssql) and I could view host, port, database, user and password but I couldn&#39;t set encrypt parameter in true, is there a way to set this parameter using that class (MssqlConnectionFactory and MssqlConnectionConfiguration).\r\n\r\nThanks for your answers.","title":"encrypt parameter in sql server and sprig data r2dbc","body":"<p>I'm using Spring data R2DBC and I can connect in localhost my project with my database using this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class R2dbcConfig extends AbstractR2dbcConfiguration {\n\n    private final ApplicationDatabaseProperties applicationDatabaseProperties;\n\n    @Bean\n    @Override\n    public ConnectionFactory connectionFactory() {\n        return new MssqlConnectionFactory(\n                MssqlConnectionConfiguration.builder()\n                        .host(applicationDatabaseProperties.getHost())\n                        .port(applicationDatabaseProperties.getPort())\n                        .username(applicationDatabaseProperties.getUsername())\n                        .password(applicationDatabaseProperties.getPassword())\n                        .database(applicationDatabaseProperties.getDatabase())\n                        .build());\n    }\n\n    @Bean\n    public DatabaseClient databaseClient(ConnectionFactory connectionFactory) {\n        return DatabaseClient.create(connectionFactory);\n    }\n}\n</code></pre>\n<p>Obvioulsy a applicationDatabaseProperties has parameters of database's connection, but in other enviroment I have a connection string like this:\n<code>jdbc:sqlserver://[myhost]:1433;database=[mydatabase];user=[myUser];password={your_password_here};encrypt=true;trustServerCertificate=false;hostNameInCertificate=[myhostNameInCertificate];loginTimeout=30;</code></p>\n<p>I've used MssqlConnectionFactory (mssql) and I could view host, port, database, user and password but I couldn't set encrypt parameter in true, is there a way to set this parameter using that class (MssqlConnectionFactory and MssqlConnectionConfiguration).</p>\n<p>Thanks for your answers.</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686002978,"creation_date":1686002978,"answer_id":76410294,"question_id":76410142,"body_markdown":"There is no API for what you&#39;re trying to do.\r\n\r\nYour best bet is to simply not initialize Firebase at all until the time is right.  An uninitialized Firebase SDK will do absolutely nothing in any of its products.  You will have to instead do manual init and not the automated init that you get from a default integration.","title":"Temporarily disable all services of Firebase before user accepts consent","body":"<p>There is no API for what you're trying to do.</p>\n<p>Your best bet is to simply not initialize Firebase at all until the time is right.  An uninitialized Firebase SDK will do absolutely nothing in any of its products.  You will have to instead do manual init and not the automated init that you get from a default integration.</p>\n"},{"tags":[],"owner":{"account_id":7764001,"reputation":85,"user_id":5875755,"accept_rate":100,"display_name":"Nh&#226;n Trần"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686105339,"creation_date":1686105339,"answer_id":76419556,"question_id":76410142,"body_markdown":"**Update apparently working:**\r\n\r\nI have followed &quot;Take Control of Your Firebase Init on Android&quot; article:\r\n[https://firebase.blog/posts/2017/03/take-control-of-your-firebase-init-on/][1]\r\nWhat I have done:\r\n\r\nI have added to my root **AndroidManifest.xml** the following to disable automatic Provider merger as explained in the article:\r\n\r\n        &lt;application\r\n    &lt;provider\r\n        android:name=&quot;com.google.firebase.provider.FirebaseInitProvider&quot;\r\n        android:authorities=&quot;${applicationId}.firebaseinitprovider&quot;\r\n        tools:node=&quot;remove&quot;\r\n        /&gt;\r\n        &lt;/application&gt;\r\n\r\n\r\nAfter this I have manually initialized Firebase:\r\n\r\nIn OnCreate() method:\r\n\r\n    FirebaseOptions.Builder builder = new FirebaseOptions.Builder()\r\n        .setApplicationId(&quot;1:0123456789012:android:0123456789abcdef&quot;)\r\n        .setApiKey(&quot;your_api_key&quot;)\r\n        .setStorageBucket(&quot;your-app.appspot.com&quot;);\r\n    FirebaseApp.initializeApp(this, builder.build());\r\n\r\nNote: I have not used.setDatabaseUrl(&quot;https://your-app.firebaseio.com&quot;) as I not use Database Service.\r\n\r\nOkay, this was not working form me (services were not working due that the provider isn&#39;t merging now (this is totally expected), but initialization was not working and I din&#39;t know why)\r\n\r\n\r\nWhat I have done to make it work and don&#39;t know why adding the following is working:\r\n\r\nI have added `.setProjectId` to the builder and now is working as expected.\r\n\r\n\r\n  [1]: https://firebase.blog/posts/2017/03/take-control-of-your-firebase-init-on/","title":"Temporarily disable all services of Firebase before user accepts consent","body":"<p><strong>Update apparently working:</strong></p>\n<p>I have followed &quot;Take Control of Your Firebase Init on Android&quot; article:\n<a href=\"https://firebase.blog/posts/2017/03/take-control-of-your-firebase-init-on/\" rel=\"nofollow noreferrer\">https://firebase.blog/posts/2017/03/take-control-of-your-firebase-init-on/</a>\nWhat I have done:</p>\n<p>I have added to my root <strong>AndroidManifest.xml</strong> the following to disable automatic Provider merger as explained in the article:</p>\n<pre><code>    &lt;application\n&lt;provider\n    android:name=&quot;com.google.firebase.provider.FirebaseInitProvider&quot;\n    android:authorities=&quot;${applicationId}.firebaseinitprovider&quot;\n    tools:node=&quot;remove&quot;\n    /&gt;\n    &lt;/application&gt;\n</code></pre>\n<p>After this I have manually initialized Firebase:</p>\n<p>In OnCreate() method:</p>\n<pre><code>FirebaseOptions.Builder builder = new FirebaseOptions.Builder()\n    .setApplicationId(&quot;1:0123456789012:android:0123456789abcdef&quot;)\n    .setApiKey(&quot;your_api_key&quot;)\n    .setStorageBucket(&quot;your-app.appspot.com&quot;);\nFirebaseApp.initializeApp(this, builder.build());\n</code></pre>\n<p>Note: I have not used.setDatabaseUrl(&quot;https://your-app.firebaseio.com&quot;) as I not use Database Service.</p>\n<p>Okay, this was not working form me (services were not working due that the provider isn't merging now (this is totally expected), but initialization was not working and I din't know why)</p>\n<p>What I have done to make it work and don't know why adding the following is working:</p>\n<p>I have added <code>.setProjectId</code> to the builder and now is working as expected.</p>\n"}],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686105339,"creation_date":1686000879,"question_id":76410142,"body_markdown":"I have an app that has Firebase implemented. What I want is to disable everything related to Firebase before the user accepts the data collection consent. In android documentation I have seen that for example I can disable Firebase Analytics with:\r\n\r\n    setAnalyticsCollectionEnabled(false);\r\n\r\nOkay, but what if I am using more services of Firebase?\r\n\r\nIs there any way to disable everything related with Firebase so that any data is collected by any service of Firebase before the user has accepted the data collection consent?\r\n\r\n","title":"Temporarily disable all services of Firebase before user accepts consent","body":"<p>I have an app that has Firebase implemented. What I want is to disable everything related to Firebase before the user accepts the data collection consent. In android documentation I have seen that for example I can disable Firebase Analytics with:</p>\n<pre><code>setAnalyticsCollectionEnabled(false);\n</code></pre>\n<p>Okay, but what if I am using more services of Firebase?</p>\n<p>Is there any way to disable everything related with Firebase so that any data is collected by any service of Firebase before the user has accepted the data collection consent?</p>\n"},{"tags":["java","abstract-syntax-tree","annotation-processing","java-compiler-api"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1686115163,"post_id":76419381,"comment_id":134753062,"body_markdown":"I don&#39;t think this is possible. The AST is constructed from the java source file and in your case when compiling `BClass` the java compiler doesn&#39;t have access to the source file of `AClass`, it has only access to the (compiled) class file of `AClass`. It probably will work if both `AClass` and `BClass` are within the same project.","body":"I don&#39;t think this is possible. The AST is constructed from the java source file and in your case when compiling <code>BClass</code> the java compiler doesn&#39;t have access to the source file of <code>AClass</code>, it has only access to the (compiled) class file of <code>AClass</code>. It probably will work if both <code>AClass</code> and <code>BClass</code> are within the same project."},{"owner":{"account_id":28768293,"reputation":1,"user_id":22032682,"display_name":"zsz"},"score":0,"creation_date":1686132109,"post_id":76419381,"comment_id":134756052,"body_markdown":"Thank you. Yeah, I was afraid that&#39;s is the case, indeed. I can think of some very ugly hacks to get a path to the super&#39;s source file and make it used by the Java compiler API to get an AST.. and not only it&#39;d be an overkill but probably the tree construction would be a redundant step anyway (or the is the compiler API clever enough to not parse that class twice in such a situation? i doubt that..)..","body":"Thank you. Yeah, I was afraid that&#39;s is the case, indeed. I can think of some very ugly hacks to get a path to the super&#39;s source file and make it used by the Java compiler API to get an AST.. and not only it&#39;d be an overkill but probably the tree construction would be a redundant step anyway (or the is the compiler API clever enough to not parse that class twice in such a situation? i doubt that..).."}],"owner":{"account_id":28768293,"reputation":1,"user_id":22032682,"display_name":"zsz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686101967,"creation_date":1686101967,"question_id":76419381,"body_markdown":"Given the following class hierarchy\r\n\r\n```\r\npublic AClass {\r\n  \r\n  String getSomething() { ... }\r\n}\r\n```\r\n\r\n```\r\npublic BClass extends AClass {\r\n  @Override\r\n  @CustomAnnotation\r\n  String getSomething() { super.getSomething(); }\r\n}\r\n```\r\nIn a Gradle project with three sub-project as the following: \r\n- **A** (where AClass is defined) \r\n- **B** (where BClass is defined)\r\n- **processor** (where the annotation processor is defined).\r\n\r\nProject **B** has annotation processor dependency for project **processor**\r\n\r\n---\r\n\r\n\r\nI have an annotation processor to visit elements annotated with *@CustomAnnoatition* and I have a tree path scanner:\r\n```\r\nclass MyScanner extends TreePathScanner&lt;String, Trees&gt; {\r\n  String result;\r\n\r\n  ...\r\n\r\n  public String scan(TreePath treePath, Trees trees) {\r\n    super.scan(treePath, trees);\r\n    return result;\r\n  }\r\n\r\n  public String visitMethodInvocation(MethodInvocationTree node, Trees trees) {\r\n     // field result initialized here\r\n     return super.visitMethodInvocation(node, trees);\r\n  }\r\n}\r\n```\r\n\r\nwehere `TreePath` is constructed from the `ExecutableElement` that represents my annotated method, i.e `BClass.getSomething()`, and `Trees` is instantiated from my proceessor&#39;s init method: \r\n`Trees.instance(processingEnv);`.\r\n\r\nAs you can see the method body of *BClass.getSomething()* is just *super.getSomething()* and I would like to initiate an additional tree path scanning on that very method definition. Or with other words I would like to propagate the scanning to the super method element.\r\nHow can I do that?\r\n\r\nFrom `visitMethodInvocation` I have acquired the ExecutableElement for the super.getSomething() \r\nand use it get a new TreePath for the scanning, but unfortunately for that element I got back a `null` from the getPath: `trees.getPath(trees.getElement(this.getCurrentPath()))` so this approach does not seem to be working.\r\n\r\n---\r\nNote from debugger I have seen that the enclosing `TypeElement`s of the `ExecutablElement`s, that is, `AClass` and `BClass` of `AClass.getSomething()` and `BClass.getSomething()` respectively, are treated somewhat differently as the latter has an explicit source file with an absolute path while the former has only some &#39;class source&#39; without a real path.","title":"Scan a super method definition from TreeScanner.visitMethodInvocation","body":"<p>Given the following class hierarchy</p>\n<pre><code>public AClass {\n  \n  String getSomething() { ... }\n}\n</code></pre>\n<pre><code>public BClass extends AClass {\n  @Override\n  @CustomAnnotation\n  String getSomething() { super.getSomething(); }\n}\n</code></pre>\n<p>In a Gradle project with three sub-project as the following:</p>\n<ul>\n<li><strong>A</strong> (where AClass is defined)</li>\n<li><strong>B</strong> (where BClass is defined)</li>\n<li><strong>processor</strong> (where the annotation processor is defined).</li>\n</ul>\n<p>Project <strong>B</strong> has annotation processor dependency for project <strong>processor</strong></p>\n<hr />\n<p>I have an annotation processor to visit elements annotated with <em>@CustomAnnoatition</em> and I have a tree path scanner:</p>\n<pre><code>class MyScanner extends TreePathScanner&lt;String, Trees&gt; {\n  String result;\n\n  ...\n\n  public String scan(TreePath treePath, Trees trees) {\n    super.scan(treePath, trees);\n    return result;\n  }\n\n  public String visitMethodInvocation(MethodInvocationTree node, Trees trees) {\n     // field result initialized here\n     return super.visitMethodInvocation(node, trees);\n  }\n}\n</code></pre>\n<p>wehere <code>TreePath</code> is constructed from the <code>ExecutableElement</code> that represents my annotated method, i.e <code>BClass.getSomething()</code>, and <code>Trees</code> is instantiated from my proceessor's init method:\n<code>Trees.instance(processingEnv);</code>.</p>\n<p>As you can see the method body of <em>BClass.getSomething()</em> is just <em>super.getSomething()</em> and I would like to initiate an additional tree path scanning on that very method definition. Or with other words I would like to propagate the scanning to the super method element.\nHow can I do that?</p>\n<p>From <code>visitMethodInvocation</code> I have acquired the ExecutableElement for the super.getSomething()\nand use it get a new TreePath for the scanning, but unfortunately for that element I got back a <code>null</code> from the getPath: <code>trees.getPath(trees.getElement(this.getCurrentPath()))</code> so this approach does not seem to be working.</p>\n<hr />\n<p>Note from debugger I have seen that the enclosing <code>TypeElement</code>s of the <code>ExecutablElement</code>s, that is, <code>AClass</code> and <code>BClass</code> of <code>AClass.getSomething()</code> and <code>BClass.getSomething()</code> respectively, are treated somewhat differently as the latter has an explicit source file with an absolute path while the former has only some 'class source' without a real path.</p>\n"},{"tags":["java","oracle","spring-boot","jdbctemplate","batch-updates"],"comments":[{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1686078388,"post_id":76417259,"comment_id":134749266,"body_markdown":"Various Oracle host programming interfaces automatically define their datatypes based on your host language datatypes and its ability to map between them. Since there is a 4KB limit to a varchar2 field in Oracle, any host string greater than 4000 bytes (or 2000 depending on the database characterset) could potentially overflow a varchar2, so it automatically upconverts the datatype to a LONG. But LONGs are horridly restricted to the point of being nearly unusable. Hence the error. Either keep your host variables &lt; 4KB/2KB or explicitly work with CLOBs instead. Implementation varies by platform","body":"Various Oracle host programming interfaces automatically define their datatypes based on your host language datatypes and its ability to map between them. Since there is a 4KB limit to a varchar2 field in Oracle, any host string greater than 4000 bytes (or 2000 depending on the database characterset) could potentially overflow a varchar2, so it automatically upconverts the datatype to a LONG. But LONGs are horridly restricted to the point of being nearly unusable. Hence the error. Either keep your host variables &lt; 4KB/2KB or explicitly work with CLOBs instead. Implementation varies by platform"}],"answers":[{"tags":[],"owner":{"account_id":189647,"reputation":8530,"user_id":429100,"display_name":"Sayan Malakshinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686096193,"creation_date":1686096193,"answer_id":76419132,"question_id":76417259,"body_markdown":"You should use `ps.setSQLXML` for xmltype: https://docs.oracle.com/javase/tutorial/jdbc/basics/sqlxml.html\r\n\r\nBut don&#39;t forget to initialize it properly:\r\n```java\r\n\r\n SQLXML sqlxml = ps.getConnection().createSQLXML();\r\n try {\r\n  sqlxml.setString(argument.getXml());\r\n  ps.setSQLXML(4, sqlxml);\r\n } finally {\r\n  sqlxml.free();\r\n }\r\n}\r\n```","title":"oracle insert xml in xmltype column using jdbctemplate batchupdate results in ORA-01461: can bind a LONG value only for insert into a LONG column","body":"<p>You should use <code>ps.setSQLXML</code> for xmltype: <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/sqlxml.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/jdbc/basics/sqlxml.html</a></p>\n<p>But don't forget to initialize it properly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n SQLXML sqlxml = ps.getConnection().createSQLXML();\n try {\n  sqlxml.setString(argument.getXml());\n  ps.setSQLXML(4, sqlxml);\n } finally {\n  sqlxml.free();\n }\n}\n</code></pre>\n"}],"owner":{"account_id":427236,"reputation":2707,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76419132,"answer_count":1,"score":1,"last_activity_date":1686100696,"creation_date":1686074269,"question_id":76417259,"body_markdown":"I have a spring boot app that has a list of entity that I&#39;m passing to the below batch insert but results in `ORA-01461: can bind a LONG value only for insert into a LONG column`. Not very sure why this is happening:\r\n\r\n    (...)\r\n    batchInsert(books, 100);\r\n    (...)\r\n\r\n    public int[][] batchInsert(List&lt;Book&gt; books, int batchSize) {\r\n    \treturn jdbcTemplate.batchUpdate(\r\n    \t\t\t&quot;insert into books (bookId, name, price, xml) values(?,?,?,?)&quot;,\r\n    \t\t\tbooks,\r\n    \t\t\tbatchSize,\r\n    \t\t\tnew ParameterizedPreparedStatementSetter&lt;Book&gt;() {\r\n    \t\t\t\tpublic void setValues(PreparedStatement ps, Book argument) \r\n    \t\t\t\t\tthrows SQLException {\r\n    \t\t\t\t\tps.setString(1, argument.getBookId());\r\n    \t\t\t\t\tps.setString(2, argument.getName());\r\n    \t\t\t\t\tps.setBigDecimal(3, argument.getPrice());\r\n    \t\t\t\t\tps.setString(4, argument.getXml());\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    }\r\n\r\noracle datatype for the xml column in the table is: `XML SYS.XMLTYPE`\r\n\r\nand the model:\r\n\r\n    @Type(type=&quot;com.sample.util.HibernateXMLType&quot;)\r\n    @Column(name = &quot;XML&quot;, columnDefinition=&quot;XDB.XMLTYPE&quot;)\r\n    private String xml;\r\n\r\nThe error is only happening for some specific XMLs, not all of them. Probably because of the size of those specific XMLs, not very sure.\r\n\r\nI have tried below approaches but still getting the same error:\r\n\r\n    1.\r\n    SQLXML xmlObject = jdbcTemplate.getDataSource().getConnection().createSQLXML();\r\n    xmlObject.setString(argument.getXml());\r\n    ps.setSQLXML(4, xmlObject);\r\n    \r\n    2.\r\n    ps.setClob(4, new StringReader(argument.getXml()));\r\n\r\nNow, I&#39;ve also used JPA like below, which is working with the same data type, only thing is that it is very slow compared to jdbctemplate, perhaps by the fact that it has to do a select before the insert to check whether the entity is present or no:\r\n\r\n    bookRepo.saveAll(books);\r\n\r\n\r\n","title":"oracle insert xml in xmltype column using jdbctemplate batchupdate results in ORA-01461: can bind a LONG value only for insert into a LONG column","body":"<p>I have a spring boot app that has a list of entity that I'm passing to the below batch insert but results in <code>ORA-01461: can bind a LONG value only for insert into a LONG column</code>. Not very sure why this is happening:</p>\n<pre><code>(...)\nbatchInsert(books, 100);\n(...)\n\npublic int[][] batchInsert(List&lt;Book&gt; books, int batchSize) {\n    return jdbcTemplate.batchUpdate(\n            &quot;insert into books (bookId, name, price, xml) values(?,?,?,?)&quot;,\n            books,\n            batchSize,\n            new ParameterizedPreparedStatementSetter&lt;Book&gt;() {\n                public void setValues(PreparedStatement ps, Book argument) \n                    throws SQLException {\n                    ps.setString(1, argument.getBookId());\n                    ps.setString(2, argument.getName());\n                    ps.setBigDecimal(3, argument.getPrice());\n                    ps.setString(4, argument.getXml());\n                }\n            });\n}\n</code></pre>\n<p>oracle datatype for the xml column in the table is: <code>XML SYS.XMLTYPE</code></p>\n<p>and the model:</p>\n<pre><code>@Type(type=&quot;com.sample.util.HibernateXMLType&quot;)\n@Column(name = &quot;XML&quot;, columnDefinition=&quot;XDB.XMLTYPE&quot;)\nprivate String xml;\n</code></pre>\n<p>The error is only happening for some specific XMLs, not all of them. Probably because of the size of those specific XMLs, not very sure.</p>\n<p>I have tried below approaches but still getting the same error:</p>\n<pre><code>1.\nSQLXML xmlObject = jdbcTemplate.getDataSource().getConnection().createSQLXML();\nxmlObject.setString(argument.getXml());\nps.setSQLXML(4, xmlObject);\n\n2.\nps.setClob(4, new StringReader(argument.getXml()));\n</code></pre>\n<p>Now, I've also used JPA like below, which is working with the same data type, only thing is that it is very slow compared to jdbctemplate, perhaps by the fact that it has to do a select before the insert to check whether the entity is present or no:</p>\n<pre><code>bookRepo.saveAll(books);\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":27483623,"reputation":1,"user_id":20970245,"display_name":"guang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686099875,"creation_date":1686019254,"question_id":76411119,"body_markdown":"I I want to ask a question about there.\r\nWhen I use springboot service, I import an excel file and request a few ports in the background with the error &quot;The temporary upload location [/tmp/tomcat.8266510552085071302.****/work/Tomcat/ localhost/ROOT] is not valid&quot;, the query is because the linux temporary file does not exist (seems to be because linux will periodically clean up the temporary folder), how do I need to solve this problem? Restarting the service will solve it temporarily, but it will still appear later。I took the way to add &quot;spring.http.multipart.location=/opt/data/upload&quot; in application.properties, after restarting the service, this folder is not automatically created, I need to manually Do I need to create this folder manually? If this works, do I need to write a timed task to clean up the contents of &quot;/opt/data/upload&quot; periodically? Or is there a better way to do it? Looking forward to your reply!\r\n\r\nThe error message is as follows\r\n{\r\n    &quot;timestamp&quot;: 1686015218374,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;exception&quot;: &quot;org.springframework.web.multipart.MultipartException&quot;,\r\n    &quot;message&quot;: &quot;Could not parse multipart servlet request; nested exception is java.io.IOException: The temporary upload location [/tmp/tomcat.8266510552085071302.1114/work/Tomcat/localhost/ROOT] is not valid&quot;,\r\n    &quot;path&quot;: &quot;/importDevices&quot;\r\n}\r\n\r\n\r\nI tried the above method, restarted the service and found that there was no &quot;/opt/data/upload&quot; directory, so I created this directory manually, but when I requested the interface again, I found that the modification date of this temporary directory had not changed, and the /tmp directory that comes with the linux system had changed (it seems that the temporary files still exist in this directory that comes with the system, and guess After a period of time, it will still be automatically cleaned up by the system, and the previous problem will still occur if it is not used frequently), this method does not seem to work or need to change the place","title":"import an excel file and request a few ports in the background with the error &quot;The temporary upload location [/tmp/** is not valid&quot;","body":"<p>I I want to ask a question about there.\nWhen I use springboot service, I import an excel file and request a few ports in the background with the error &quot;The temporary upload location [/tmp/tomcat.8266510552085071302.****/work/Tomcat/ localhost/ROOT] is not valid&quot;, the query is because the linux temporary file does not exist (seems to be because linux will periodically clean up the temporary folder), how do I need to solve this problem? Restarting the service will solve it temporarily, but it will still appear later。I took the way to add &quot;spring.http.multipart.location=/opt/data/upload&quot; in application.properties, after restarting the service, this folder is not automatically created, I need to manually Do I need to create this folder manually? If this works, do I need to write a timed task to clean up the contents of &quot;/opt/data/upload&quot; periodically? Or is there a better way to do it? Looking forward to your reply!</p>\n<p>The error message is as follows\n{\n&quot;timestamp&quot;: 1686015218374,\n&quot;status&quot;: 500,\n&quot;error&quot;: &quot;Internal Server Error&quot;,\n&quot;exception&quot;: &quot;org.springframework.web.multipart.MultipartException&quot;,\n&quot;message&quot;: &quot;Could not parse multipart servlet request; nested exception is java.io.IOException: The temporary upload location [/tmp/tomcat.8266510552085071302.1114/work/Tomcat/localhost/ROOT] is not valid&quot;,\n&quot;path&quot;: &quot;/importDevices&quot;\n}</p>\n<p>I tried the above method, restarted the service and found that there was no &quot;/opt/data/upload&quot; directory, so I created this directory manually, but when I requested the interface again, I found that the modification date of this temporary directory had not changed, and the /tmp directory that comes with the linux system had changed (it seems that the temporary files still exist in this directory that comes with the system, and guess After a period of time, it will still be automatically cleaned up by the system, and the previous problem will still occur if it is not used frequently), this method does not seem to work or need to change the place</p>\n"},{"tags":["java","spring","rest","jpa","pagination"],"answers":[{"tags":[],"owner":{"account_id":5928209,"reputation":313,"user_id":4663507,"display_name":"Mateusz Jaszewski"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1550677459,"creation_date":1550676588,"answer_id":54789853,"question_id":54774350,"body_markdown":"Why don&#39;t you use *Pageable* in your controller ? \r\n\r\nPageable can handle many sort queries, each of them will be stored in orders list.\r\nMoreover, any of pageable parameters aren&#39;t required. When you don&#39;t pass them in url, pageable will contains default values (page = 0, size = 20). You can change default values by using @PageableDefault annotation. \r\n\r\nGET .../test?sort=name,desc&amp;sort=code,desc\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2rmer.png","title":"Multiple Sort Optional query - Spring REST Controller configuration with Pagination","body":"<p>Why don't you use <em>Pageable</em> in your controller ? </p>\n\n<p>Pageable can handle many sort queries, each of them will be stored in orders list.\nMoreover, any of pageable parameters aren't required. When you don't pass them in url, pageable will contains default values (page = 0, size = 20). You can change default values by using @PageableDefault annotation. </p>\n\n<p>GET .../test?sort=name,desc&amp;sort=code,desc\n<a href=\"https://i.stack.imgur.com/2rmer.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2rmer.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":13616740,"reputation":225,"user_id":9822454,"display_name":"Rinus van Heerden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9640,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":54789853,"answer_count":1,"score":12,"last_activity_date":1686097637,"creation_date":1550607766,"question_id":54774350,"body_markdown":"I want to build a spring controller that can handle multiple, optional sort queries. According to [spring.io][1] spec these queries should be formatted thus\r\n\r\n    &amp;sort=name,desc&amp;sort=code,desc\r\n\r\nAs discussed by [EduardoFernandes][2]\r\n\r\nI know this can be done with one instance of sort with value to be sorted and the direction give separately as per [Gregg][3] but that doesn&#39;t match the Spring spec or handle multiple sort values.\r\n\r\nI&#39;m not sure how to turn multiple queries in the spring spec format into a Sort that I can pass to my PageRequest and then on to my repository. Also I would like the ability to make these optional and if possible, it would be great if I could use @Anotation based config if defaults are necessary to achieve this as per  [Rasheed Amir][4] (@SortDefault)\r\n\r\nHere is the basics of what I&#39;m working with..\r\n\r\n**Domain**\r\n```java\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Subject {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private String code; \r\n    ...\r\n```\r\n**Repository**\r\n```java\r\n    public interface SubjectRepository extends JpaRepository&lt;Subject, Long&gt; {\r\n    }\r\n```\r\n**Service**\r\n```java\r\n    @Override\r\n    public Page&lt;SubjectDTO&gt; listSubjectsPageble(PageRequest pageableRequest) {\r\n        return subjectRepository.findAll(pageableRequest)\r\n                .map(subjectMapper::subjectToSubjectDTO);\r\n    }\r\n```\r\n**Controller**\r\n```java\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    @PreAuthorize(&quot;hasRole(&#39;LECTURER&#39;)&quot;)\r\n    public Page&lt;SubjectDTO&gt; getSubjects(\r\n            @RequestParam(&quot;page&quot;) int page,\r\n            @RequestParam(&quot;size&quot;) int size,\r\n            @RequestParam(&quot;sort&quot;) String sort\r\n    \r\n    ) {\r\n    \r\n        return subjectService.listSubjectsPageble(PageRequest.of(page, size, new Sort(sort)));\r\n    }\r\n```\r\nSo here in the controller I don&#39;t know how to deal with\\populate the Sort from the RequestParam at all, according to [Ralph][5] I should be able to use something like the below to get multiple values from one param, but I don&#39;t know how to then pass that to a Sort.\r\n \r\nI know a Sort can take more than one parameter but only one sort direction. And then of coarse I would like to make them optional.\r\n```java\r\n    @RequestParam MultiValueMap&lt;String, String&gt; params\r\n```\r\nPlease help, I&#39;m still quite a noob :)\r\nThanks\r\n\r\n\r\n**EDIT**\r\n\r\nI solved some of my issues thanks to a post by [Dullimeister][6] But the approach feels a little messy and still doesn&#39;t handle multiple sort parameters. Does anyone know of better approach or is this the way to go?\r\n\r\n```java\r\n    @GetMapping\r\n        @ResponseStatus(HttpStatus.OK)\r\n        @PreAuthorize(&quot;hasRole(&#39;LECTURER&#39;)&quot;)\r\n        public Page&lt;SubjectDTO&gt; getSubjects(\r\n                @RequestParam(value = &quot;page&quot;, defaultValue = &quot;0&quot;, required = false) int page,\r\n                @RequestParam(value = &quot;size&quot;, defaultValue = &quot;10&quot;, required = false) int size,\r\n                @RequestParam(value = &quot;sort&quot;, defaultValue = &quot;name,ASC&quot;, required = false) String sortBy\r\n    \r\n        ) {\r\n            String[] sort = sortBy.split(&quot;,&quot;);\r\n            String evalSort = sort[0];\r\n            String sortDirection = sort[1];\r\n            Sort.Direction evalDirection = replaceOrderStringThroughDirection(sortDirection);\r\n            Sort sortOrderIgnoreCase = Sort.by(new Sort.Order(evalDirection,evalSort).ignoreCase());\r\n    \r\n            return subjectService.listSubjectsPageble(PageRequest.of(page, size, sortOrderIgnoreCase));\r\n        }\r\n    \r\n        private Sort.Direction replaceOrderStringThroughDirection(String sortDirection) {\r\n            if (sortDirection.equalsIgnoreCase(&quot;DESC&quot;)){\r\n                return Sort.Direction.DESC;\r\n            } else {\r\n                return Sort.Direction.ASC;\r\n            }\r\n        }\r\n```\r\n\r\n**Final Solution**\r\nThanks everyone, this is what I ended up with. Not sure if its the perfect way but it works :) I had to replace the comma with a semi-colon in the end as the FormattingConversionService was automatically parsing a single sort param to a string instead of an Sting[]\r\n\r\n```java\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    @PreAuthorize(&quot;hasRole(&#39;LECTURER&#39;)&quot;)\r\n    public Page&lt;SubjectDTO&gt; getSubjects(\r\n            @RequestParam(value = &quot;page&quot;, defaultValue = &quot;0&quot;, required = false) int page,\r\n            @RequestParam(value = &quot;size&quot;, defaultValue = &quot;10&quot;, required = false) int size,\r\n            @RequestParam(value = &quot;sort&quot;, defaultValue = &quot;name;ASC&quot;, required = false) String[] sortBy) {\r\n        Sort allSorts = Sort.by(\r\n            Arrays.stream(sortBy)\r\n                    .map(sort -&gt; sort.split(&quot;;&quot;, 2))\r\n                    .map(array -&gt;\r\n                            new Sort.Order(replaceOrderStringThroughDirection(array[1]),array[0]).ignoreCase()\r\n                    ).collect(Collectors.toList())\r\n        );\r\n\r\n        return subjectService.listSubjectsPageble(PageRequest.of(page, size, allSorts));\r\n    }\r\n\r\n    private Sort.Direction replaceOrderStringThroughDirection(String sortDirection) {\r\n        if (sortDirection.equalsIgnoreCase(&quot;DESC&quot;)){\r\n            return Sort.Direction.DESC;\r\n        } else {\r\n            return Sort.Direction.ASC;\r\n        }\r\n    }\r\n```\r\n \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#paging-and-sorting.sorting\r\n  [2]: https://stackoverflow.com/a/24728298/9822454\r\n  [3]: https://stackoverflow.com/a/40620476/9822454\r\n  [4]: https://medium.com/@rasheedamir/java-spring-default-page-default-sort-cab2f410f8b0\r\n  [5]: https://stackoverflow.com/a/22399116\r\n  [6]: https://stackoverflow.com/questions/50816071/pagingandsortingrepository-how-to-sort-case-insensitive","title":"Multiple Sort Optional query - Spring REST Controller configuration with Pagination","body":"<p>I want to build a spring controller that can handle multiple, optional sort queries. According to <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#paging-and-sorting.sorting\" rel=\"nofollow noreferrer\">spring.io</a> spec these queries should be formatted thus</p>\n<pre><code>&amp;sort=name,desc&amp;sort=code,desc\n</code></pre>\n<p>As discussed by <a href=\"https://stackoverflow.com/a/24728298/9822454\">EduardoFernandes</a></p>\n<p>I know this can be done with one instance of sort with value to be sorted and the direction give separately as per <a href=\"https://stackoverflow.com/a/40620476/9822454\">Gregg</a> but that doesn't match the Spring spec or handle multiple sort values.</p>\n<p>I'm not sure how to turn multiple queries in the spring spec format into a Sort that I can pass to my PageRequest and then on to my repository. Also I would like the ability to make these optional and if possible, it would be great if I could use @Anotation based config if defaults are necessary to achieve this as per  <a href=\"https://medium.com/@rasheedamir/java-spring-default-page-default-sort-cab2f410f8b0\" rel=\"nofollow noreferrer\">Rasheed Amir</a> (@SortDefault)</p>\n<p>Here is the basics of what I'm working with..</p>\n<p><strong>Domain</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Getter\n    @Setter\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public class Subject {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n        private String name;\n        private String code; \n    ...\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public interface SubjectRepository extends JpaRepository&lt;Subject, Long&gt; {\n    }\n</code></pre>\n<p><strong>Service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Page&lt;SubjectDTO&gt; listSubjectsPageble(PageRequest pageableRequest) {\n        return subjectRepository.findAll(pageableRequest)\n                .map(subjectMapper::subjectToSubjectDTO);\n    }\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    @PreAuthorize(&quot;hasRole('LECTURER')&quot;)\n    public Page&lt;SubjectDTO&gt; getSubjects(\n            @RequestParam(&quot;page&quot;) int page,\n            @RequestParam(&quot;size&quot;) int size,\n            @RequestParam(&quot;sort&quot;) String sort\n    \n    ) {\n    \n        return subjectService.listSubjectsPageble(PageRequest.of(page, size, new Sort(sort)));\n    }\n</code></pre>\n<p>So here in the controller I don't know how to deal with\\populate the Sort from the RequestParam at all, according to <a href=\"https://stackoverflow.com/a/22399116\">Ralph</a> I should be able to use something like the below to get multiple values from one param, but I don't know how to then pass that to a Sort.</p>\n<p>I know a Sort can take more than one parameter but only one sort direction. And then of coarse I would like to make them optional.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RequestParam MultiValueMap&lt;String, String&gt; params\n</code></pre>\n<p>Please help, I'm still quite a noob :)\nThanks</p>\n<p><strong>EDIT</strong></p>\n<p>I solved some of my issues thanks to a post by <a href=\"https://stackoverflow.com/questions/50816071/pagingandsortingrepository-how-to-sort-case-insensitive\">Dullimeister</a> But the approach feels a little messy and still doesn't handle multiple sort parameters. Does anyone know of better approach or is this the way to go?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping\n        @ResponseStatus(HttpStatus.OK)\n        @PreAuthorize(&quot;hasRole('LECTURER')&quot;)\n        public Page&lt;SubjectDTO&gt; getSubjects(\n                @RequestParam(value = &quot;page&quot;, defaultValue = &quot;0&quot;, required = false) int page,\n                @RequestParam(value = &quot;size&quot;, defaultValue = &quot;10&quot;, required = false) int size,\n                @RequestParam(value = &quot;sort&quot;, defaultValue = &quot;name,ASC&quot;, required = false) String sortBy\n    \n        ) {\n            String[] sort = sortBy.split(&quot;,&quot;);\n            String evalSort = sort[0];\n            String sortDirection = sort[1];\n            Sort.Direction evalDirection = replaceOrderStringThroughDirection(sortDirection);\n            Sort sortOrderIgnoreCase = Sort.by(new Sort.Order(evalDirection,evalSort).ignoreCase());\n    \n            return subjectService.listSubjectsPageble(PageRequest.of(page, size, sortOrderIgnoreCase));\n        }\n    \n        private Sort.Direction replaceOrderStringThroughDirection(String sortDirection) {\n            if (sortDirection.equalsIgnoreCase(&quot;DESC&quot;)){\n                return Sort.Direction.DESC;\n            } else {\n                return Sort.Direction.ASC;\n            }\n        }\n</code></pre>\n<p><strong>Final Solution</strong>\nThanks everyone, this is what I ended up with. Not sure if its the perfect way but it works :) I had to replace the comma with a semi-colon in the end as the FormattingConversionService was automatically parsing a single sort param to a string instead of an Sting[]</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    @PreAuthorize(&quot;hasRole('LECTURER')&quot;)\n    public Page&lt;SubjectDTO&gt; getSubjects(\n            @RequestParam(value = &quot;page&quot;, defaultValue = &quot;0&quot;, required = false) int page,\n            @RequestParam(value = &quot;size&quot;, defaultValue = &quot;10&quot;, required = false) int size,\n            @RequestParam(value = &quot;sort&quot;, defaultValue = &quot;name;ASC&quot;, required = false) String[] sortBy) {\n        Sort allSorts = Sort.by(\n            Arrays.stream(sortBy)\n                    .map(sort -&gt; sort.split(&quot;;&quot;, 2))\n                    .map(array -&gt;\n                            new Sort.Order(replaceOrderStringThroughDirection(array[1]),array[0]).ignoreCase()\n                    ).collect(Collectors.toList())\n        );\n\n        return subjectService.listSubjectsPageble(PageRequest.of(page, size, allSorts));\n    }\n\n    private Sort.Direction replaceOrderStringThroughDirection(String sortDirection) {\n        if (sortDirection.equalsIgnoreCase(&quot;DESC&quot;)){\n            return Sort.Direction.DESC;\n        } else {\n            return Sort.Direction.ASC;\n        }\n    }\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686080396,"post_id":76417757,"comment_id":134749607,"body_markdown":"You haven&#39;t provided your `Point` or `LineSegment` classes, although the latter may be trivial, but the implementations of `Point::slopeOrder` and `Point::slopeTo` may be critical to understanding the issue. (I&#39;m not the downvoter.)","body":"You haven&#39;t provided your <code>Point</code> or <code>LineSegment</code> classes, although the latter may be trivial, but the implementations of <code>Point::slopeOrder</code> and <code>Point::slopeTo</code> may be critical to understanding the issue. (I&#39;m not the downvoter.)"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686082350,"post_id":76417757,"comment_id":134749939,"body_markdown":"In the output from the &quot;auto-grader&quot; you have shown, it always shows reference segments and missing entries with more than two points, but your segments in your results always contain two and only two points.","body":"In the output from the &quot;auto-grader&quot; you have shown, it always shows reference segments and missing entries with more than two points, but your segments in your results always contain two and only two points."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686085709,"post_id":76417757,"comment_id":134750500,"body_markdown":"Making assumptions about `Point`, I have a version of it where instead of looping over sub-arrays of points, I categorize them with `Arrays.stream(points).collect(Collectors.groupingBy(s -&gt; p.slopeTo(s)));`. This gives a map from slope to lists of points with that slope w.r.t. `p`. Any such group of size 3 or larger is a solution, along with p. You can put these solutions into a set to ensure you only identify each unique solution once, and sort them by their smallest point to output them in a canonical order.","body":"Making assumptions about <code>Point</code>, I have a version of it where instead of looping over sub-arrays of points, I categorize them with <code>Arrays.stream(points).collect(Collectors.groupingBy(s -&gt; p.slopeTo(s)));</code>. This gives a map from slope to lists of points with that slope w.r.t. <code>p</code>. Any such group of size 3 or larger is a solution, along with p. You can put these solutions into a set to ensure you only identify each unique solution once, and sort them by their smallest point to output them in a canonical order."},{"owner":{"account_id":26560981,"reputation":3,"user_id":20313875,"display_name":"DTJ"},"score":0,"creation_date":1686097427,"post_id":76417757,"comment_id":134751621,"body_markdown":"@DavidConrad I had added my version of my ```Point``` and ```LineSegment``` classes to my question so you view it now. It kinda different from your version, (I don&#39;t use hash map for handling the line segments). But thanks for your answer","body":"@DavidConrad I had added my version of my <code>Point</code> and <code>LineSegment</code> classes to my question so you view it now. It kinda different from your version, (I don&#39;t use hash map for handling the line segments). But thanks for your answer"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686111556,"post_id":76417757,"comment_id":134752730,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686331557,"post_id":76417757,"comment_id":134789238,"body_markdown":"I had a couple of other thoughts that might help you. You might want to try with a simple test case that you know will be collinear, like (0, 0), (1, 1), (2, 2), (3, 3), (4, 4). You might also want to run your program under a debugger or add print statements and verify at various points that the intermediate results are what you expect.","body":"I had a couple of other thoughts that might help you. You might want to try with a simple test case that you know will be collinear, like (0, 0), (1, 1), (2, 2), (3, 3), (4, 4). You might also want to run your program under a debugger or add print statements and verify at various points that the intermediate results are what you expect."},{"owner":{"account_id":26560981,"reputation":3,"user_id":20313875,"display_name":"DTJ"},"score":0,"creation_date":1686432630,"post_id":76417757,"comment_id":134798590,"body_markdown":"Yeah, thank for your suggestion, that helped me a lot !","body":"Yeah, thank for your suggestion, that helped me a lot !"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686087214,"creation_date":1686087214,"answer_id":76418608,"question_id":76417757,"body_markdown":"Given the following helper class:\r\n\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.stream.Stream;\r\n    import static java.util.stream.Collectors.joining;\r\n    \r\n    public class Points implements Comparable&lt;Points&gt; {\r\n        private List&lt;Point&gt; points;\r\n    \r\n        public Points(Collection&lt;Point&gt; points) {\r\n            this.points = points.stream().sorted().toList();\r\n        }\r\n    \r\n        public Points(Point p, Collection&lt;Point&gt; points) {\r\n            this.points = Stream.concat(Stream.of(p), points.stream()).sorted().toList();\r\n        }\r\n    \r\n        public List&lt;Point&gt; getPoints() {\r\n            return points.stream().toList();\r\n        }\r\n    \r\n        public int size() {\r\n            return points.size();\r\n        }\r\n    \r\n        @Override\r\n        public int compareTo(Points that) {\r\n            return this.points.get(0).compareTo(that.points.get(0));\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return points.stream().map(Object::toString).collect(joining(&quot; -&gt; &quot;));\r\n        }\r\n    }\r\n\r\nAnd these modifications to your class:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n    import static java.util.stream.Collectors.groupingBy;\r\n    \r\n    public class FastCollinearPoints {\r\n        public FastCollinearPoints(Point[] points) {\r\n            checkNull(points);\r\n            checkDuplicate(points);\r\n            Set&lt;Points&gt; results = new TreeSet&lt;&gt;();\r\n    \r\n            for (Point p : points) {\r\n                Map&lt;Double, List&lt;Point&gt;&gt; mapped = Arrays.stream(points)\r\n                    .collect(groupingBy(s -&gt; p.slopeTo(s)));\r\n    \r\n                for (List&lt;Point&gt; rest : mapped.values()) {\r\n                    Points ps = new Points(p, rest);\r\n                    if (ps.size() &gt;= 4) {\r\n                        results.add(ps);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            for (Points ps : results) {\r\n                System.out.println(ps);\r\n            }\r\n        }\r\n    \r\n        // et cetera\r\n    }\r\n\r\nAnd making reasonable assumptions about your `Point` class, I get the following results for your data sets:\r\n\r\n8-points:\r\n\r\n    (0, 10000) -&gt; (3000, 7000) -&gt; (7000, 3000) -&gt; (10000, 0)\r\n    (3000, 4000) -&gt; (6000, 7000) -&gt; (14000, 15000) -&gt; (20000, 21000)\r\n\r\n15-points:\r\n\r\n    (0, 10000) -&gt; (2000, 8000) -&gt; (8000, 2000) -&gt; (10000, 0)\r\n    (0, 30000) -&gt; (10000, 20000) -&gt; (20000, 10000) -&gt; (30000, 0)\r\n    (5000, 12000) -&gt; (9000, 6000) -&gt; (11000, 3000) -&gt; (13000, 0)\r\n    (10000, 0) -&gt; (13000, 0) -&gt; (20000, 0) -&gt; (30000, 0)\r\n\r\nDoes that help you?","title":"Uncertain and Incorrect returning result of FastCollinearPoints algorithm","body":"<p>Given the following helper class:</p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.stream.Stream;\nimport static java.util.stream.Collectors.joining;\n\npublic class Points implements Comparable&lt;Points&gt; {\n    private List&lt;Point&gt; points;\n\n    public Points(Collection&lt;Point&gt; points) {\n        this.points = points.stream().sorted().toList();\n    }\n\n    public Points(Point p, Collection&lt;Point&gt; points) {\n        this.points = Stream.concat(Stream.of(p), points.stream()).sorted().toList();\n    }\n\n    public List&lt;Point&gt; getPoints() {\n        return points.stream().toList();\n    }\n\n    public int size() {\n        return points.size();\n    }\n\n    @Override\n    public int compareTo(Points that) {\n        return this.points.get(0).compareTo(that.points.get(0));\n    }\n\n    @Override\n    public String toString() {\n        return points.stream().map(Object::toString).collect(joining(&quot; -&gt; &quot;));\n    }\n}\n</code></pre>\n<p>And these modifications to your class:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.TreeSet;\nimport static java.util.stream.Collectors.groupingBy;\n\npublic class FastCollinearPoints {\n    public FastCollinearPoints(Point[] points) {\n        checkNull(points);\n        checkDuplicate(points);\n        Set&lt;Points&gt; results = new TreeSet&lt;&gt;();\n\n        for (Point p : points) {\n            Map&lt;Double, List&lt;Point&gt;&gt; mapped = Arrays.stream(points)\n                .collect(groupingBy(s -&gt; p.slopeTo(s)));\n\n            for (List&lt;Point&gt; rest : mapped.values()) {\n                Points ps = new Points(p, rest);\n                if (ps.size() &gt;= 4) {\n                    results.add(ps);\n                }\n            }\n        }\n\n        for (Points ps : results) {\n            System.out.println(ps);\n        }\n    }\n\n    // et cetera\n}\n</code></pre>\n<p>And making reasonable assumptions about your <code>Point</code> class, I get the following results for your data sets:</p>\n<p>8-points:</p>\n<pre><code>(0, 10000) -&gt; (3000, 7000) -&gt; (7000, 3000) -&gt; (10000, 0)\n(3000, 4000) -&gt; (6000, 7000) -&gt; (14000, 15000) -&gt; (20000, 21000)\n</code></pre>\n<p>15-points:</p>\n<pre><code>(0, 10000) -&gt; (2000, 8000) -&gt; (8000, 2000) -&gt; (10000, 0)\n(0, 30000) -&gt; (10000, 20000) -&gt; (20000, 10000) -&gt; (30000, 0)\n(5000, 12000) -&gt; (9000, 6000) -&gt; (11000, 3000) -&gt; (13000, 0)\n(10000, 0) -&gt; (13000, 0) -&gt; (20000, 0) -&gt; (30000, 0)\n</code></pre>\n<p>Does that help you?</p>\n"}],"owner":{"account_id":26560981,"reputation":3,"user_id":20313875,"display_name":"DTJ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76418608,"answer_count":1,"score":-1,"last_activity_date":1686097513,"creation_date":1686078839,"question_id":76417757,"body_markdown":"I am working with fast find collinear points problem that use merge-sort for sorting the line segments. Basically, the algorithm works like this:\r\n\r\n```\r\nGiven a point p, the following method determines whether p participates in a set of 4 or more collinear points.\r\n\r\nThink of p as the origin. \r\n\r\nFor each other point q, determine the slope it makes with p.\r\n\r\nSort the points according to the slopes they makes with p. \r\n\r\nCheck if any 3 (or more) adjacent points in the sorted order have equal slopes with respect to p. \r\n\r\nIf so, these points, together with p, are collinear.\r\n\r\n```\r\n\r\nHere is my data-structure implements the algorithm:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport edu.princeton.cs.algs4.In;\r\nimport edu.princeton.cs.algs4.StdOut;\r\nimport edu.princeton.cs.algs4.StdDraw;\r\n\r\npublic class FastCollinearPoints {\r\n    private LineSegment[] segments;\r\n\r\n    public FastCollinearPoints(Point[] points) \r\n    {\r\n        \r\n      \r\n        checkNull(points);\r\n        checkDuplicate(points);\r\n\r\n        Point[] pointsCopy = Arrays.copyOf(points, points.length);\r\n        Arrays.sort(pointsCopy);\r\n\r\n        ArrayList&lt;LineSegment&gt; segmentList = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; pointsCopy.length - 3; i++) \r\n        {\r\n            Point p = pointsCopy[i];\r\n            Point[] sortedPoints = Arrays.copyOfRange(pointsCopy, i + 1, pointsCopy.length);\r\n            // Sort the remaining points based on their slopes to the reference point p\r\n            Arrays.sort(sortedPoints, p.slopeOrder());\r\n\r\n            int currentStartIndex = 0;\r\n            double currentSlope = p.slopeTo(sortedPoints[currentStartIndex]);\r\n\r\n            for (int j = i + 1; j &lt; sortedPoints.length; j++) \r\n            {\r\n                Point currentStartPoint = sortedPoints[currentStartIndex];\r\n\r\n                Point currentPoint = sortedPoints[j];\r\n\r\n\r\n                 if (currentPoint == null || currentStartPoint == null) \r\n                 {\r\n                    throw new IllegalArgumentException(&quot;Duplicate points found&quot;);\r\n               }\r\n\r\n\r\n                double slopeToP = p.slopeTo(currentPoint);\r\n                \r\n                if (Double.compare(slopeToP, currentSlope) != 0) \r\n                {\r\n                     // Check if the adjacent points form a line segment\r\n                    if (j - currentStartIndex &gt;= 3 &amp;&amp; currentStartPoint.compareTo(p) &gt;= 0) \r\n                    {   \r\n                        Point[] segmentPoints = Arrays.copyOfRange(sortedPoints, currentStartIndex, j);\r\n                        Arrays.sort(segmentPoints);\r\n                        segmentList.add(new LineSegment(p, segmentPoints[segmentPoints.length - 1]));\r\n                       \r\n                    }\r\n                    currentStartIndex = j;\r\n                    currentSlope = slopeToP;\r\n                }\r\n        }\r\n            \r\n             // Check if the last set of points forms a segment\r\n             if (sortedPoints.length - currentStartIndex &gt;= 3) \r\n             \r\n            {\r\n                Point[] segmentPoints = Arrays.copyOfRange(sortedPoints, currentStartIndex, sortedPoints.length);\r\n                Arrays.sort(segmentPoints);\r\n                segmentList.add(new LineSegment(p, segmentPoints[segmentPoints.length - 1]));\r\n            }\r\n             \r\n        }\r\n           \r\n          segments = segmentList.toArray(new LineSegment[0]);\r\n    }\r\n\r\n       \r\n   \r\n\r\n\r\n    public int numberOfSegments() {\r\n        return segments.length;\r\n    }\r\n\r\n    public LineSegment[] segments() {\r\n        return Arrays.copyOf(segments, segments.length);\r\n    }\r\n\r\n    private void checkNull(Point[] points) {\r\n        if (points == null) {\r\n            throw new IllegalArgumentException(&quot;points cannot be null&quot;);\r\n             }\r\n\r\n     for (Point p : points) {\r\n           if (p == null) {\r\n                     throw new IllegalArgumentException(&quot;points cannot contain null entries&quot;);\r\n                 }\r\n             }\r\n    }\r\n\r\n    private void checkDuplicate(Point[] points) {\r\n        Point[] pointsCopy = Arrays.copyOf(points, points.length);\r\n        Arrays.sort(pointsCopy);\r\n\r\n        Point currentPoint = pointsCopy[0];\r\n        for (int i = 1; i &lt; pointsCopy.length; i++) {\r\n            if (pointsCopy[i].compareTo(currentPoint) == 0) {\r\n                throw new IllegalArgumentException(&quot;Duplicate points found&quot;);\r\n            } else {\r\n                currentPoint = pointsCopy[i];\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // read the n points from a file\r\n        In in = new In(args[0]);\r\n        int n = in.readInt();\r\n        Point[] points = new Point[n];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int x = in.readInt();\r\n            int y = in.readInt();\r\n            points[i] = new Point(x, y);\r\n        }\r\n\r\n        // draw the points\r\n        StdDraw.enableDoubleBuffering();\r\n        StdDraw.setXscale(0, 32768);\r\n        StdDraw.setYscale(0, 32768);\r\n        for (Point p : points) {\r\n            p.draw();\r\n        }\r\n        StdDraw.show();\r\n\r\n        // print and draw the line segments\r\n        FastCollinearPoints collinear = new FastCollinearPoints(points);\r\n        for (LineSegment segment : collinear.segments()) {\r\n            StdOut.println(segment);\r\n            segment.draw();\r\n        }\r\n        StdDraw.show();\r\n    }\r\n}\r\n```\r\n\r\nBelow are some samples of the input that I fed the code :\r\n\r\n```\r\nequidistant.txt\r\n\r\n15\r\n10000 0\r\n8000 2000\r\n2000 8000\r\n0  10000\r\n\r\n20000 0\r\n18000 2000\r\n2000 18000\r\n\r\n10000 20000\r\n30000 0\r\n0 30000\r\n20000 10000\r\n\r\n13000 0\r\n11000 3000\r\n5000 12000\r\n9000 6000\r\n\r\nthe result I got :\r\n(10000, 0) -&gt; (0, 10000)\r\n(10000, 0) -&gt; (30000, 0)\r\n(13000, 0) -&gt; (5000, 12000)\r\n(30000, 0) -&gt; (0, 30000)\r\n```\r\n\r\n```\r\ninput8.txt\r\n\r\n8\r\n10000      0\r\n    0  10000\r\n 3000   7000\r\n 7000   3000\r\n20000  21000\r\n 3000   4000\r\n14000  15000\r\n 6000   7000\r\n\r\nthe result i got:\r\n\r\n(10000, 0) -&gt; (0, 10000)\r\n(3000, 4000) -&gt; (20000, 21000)\r\n\r\n```\r\n\r\nAnd when I give my code to the auto-grader which assert my code is incorrect, but the result is not enough for me to understand where the code wrong and how the full correct result should look like:\r\n\r\n```\r\n * filename = input8.txt\r\n    - segments() contains a subsegment of a segment in reference solution\r\n    - student   segment 3: (6000, 7000) -&gt; (20000, 21000)\r\n    - reference segment 1: (3000, 4000) -&gt; (6000, 7000) -&gt; (14000, 15000) -&gt; (20000, 21000)\r\n\r\n    - number of entries in student   solution: 4\r\n    - number of entries in reference solution: 2\r\n    - 4 extra entries in student solution, including:\r\n      &#39;(6000, 7000) -&gt; (20000, 21000)&#39;\r\n\r\n    - 2 missing entries in student solution, including:\r\n      &#39;(3000, 4000) -&gt; (6000, 7000) -&gt; (14000, 15000) -&gt; (20000, 21000)&#39;\r\n\r\n\r\n  * filename = equidistant.txt\r\n    - segments() contains a subsegment of a segment in reference solution\r\n    - student   segment 0: (10000, 0) -&gt; (13000, 0)\r\n    - reference segment 3: (10000, 0) -&gt; (13000, 0) -&gt; (20000, 0) -&gt; (30000, 0)\r\n\r\n    - number of entries in student   solution: 11\r\n    - number of entries in reference solution: 4\r\n    - 11 extra entries in student solution, including:\r\n      &#39;(20000, 10000) -&gt; (2000, 18000)&#39;\r\n\r\n    - 4 missing entries in student solution, including:\r\n      &#39;(30000, 0) -&gt; (20000, 10000) -&gt; (10000, 20000) -&gt; (0, 30000)&#39;\r\n\r\n```\r\n\r\n I wonder what part in my nested loop (belongs to the FastCollinearPoints method) caused the code failed the test, and how I should modify the data-structure to get the correct result ?\r\n\r\n```What I had tried: I have tried to modify the condition of the nested loop, but it still keep return the same result, i expected the line segment should contain vertical line segments (same x coordinate), which the code cannot handle correctly. ```\r\n\r\nThanks !\r\n\r\n``` Addition: For anyone want to know what is the Point class and LineSegment class should look like here it is```\r\n\r\n```\r\n\r\nimport java.util.Comparator;\r\nimport edu.princeton.cs.algs4.StdDraw;\r\n\r\npublic class Point implements Comparable&lt;Point&gt; {\r\n   private final int x; // x coordinate\r\n    private final int y; // y coordinate\r\n    \r\n\r\n    public Point(int x, int y) {\r\n     // constructs the point (x, y)\r\n      this.x = x;\r\n      this.y = y;\r\n    }           \r\n\r\n    public void draw()  {\r\n        StdDraw.point(x, y); // draws the point\r\n    }      \r\n    \r\n\r\n    public void drawTo(Point that) {\r\n        if (this.y == that.y) {\r\n            // Draw a vertical line\r\n            StdDraw.line(this.x, this.y, that.x, that.y + 1);\r\n        } else \r\n        StdDraw.line(this.x,this.y,that.x,that.y);   // draws the line segment from this point to that point\r\n    }                 \r\n    public String toString() {\r\n        return &quot;(&quot; + x + &quot;, &quot; + y + &quot;)&quot; ;  // string representation       \r\n    }                         \r\n \r\n    public  int compareTo(Point that)\r\n        // compare two points by y-coordinates, breaking ties by x-coordinates\r\n    {   \r\n        if (this.y &lt; that.y) return -1; // this.y &lt; that.y\r\n        else if (this.y &gt; that.y) return 1; // this.y &gt; that.y\r\n        else if (this.x &lt; that.x) return -1; //  this.x &lt; that.x\r\n        else if (this.x &gt; that.x) return 1; // this.x &gt; that.x\r\n       \r\n        else return 0;     \r\n    }\r\n    public double slopeTo(Point that) {\r\n        // the slope between this point and that point\r\n\r\n        if (that == null) {\r\n           throw new NullPointerException(&quot;The argument to the method is null&quot;);\r\n        }\r\n       \r\n        int deltaX = that.x - this.x ; \r\n        int deltaY = that.y - this.y;\r\n\r\n        if (this.x == that.x) {\r\n            if (this.y == that.y) {\r\n            return Double.NEGATIVE_INFINITY; // Degenerate line segment (between a point and itself)\r\n        } else  {\r\n            return Double.POSITIVE_INFINITY; // Vertical line segment\r\n        } \r\n\r\n    }\r\n        else if (this.y == that.y) { \r\n           return 0.0; // Horizontal line segment\r\n        }\r\n        return (double) deltaY / deltaX; // Calculate the slope   \r\n    }    \r\n\r\n    public Comparator&lt;Point&gt; slopeOrder()  {\r\n        return new SlopeOrder(this); // return a comparator object\r\n    }\r\n    private class SlopeOrder implements Comparator&lt;Point&gt; {\r\n        private Point referencePoint;\r\n\r\n        public SlopeOrder(Point r) {\r\n            this.referencePoint = r;\r\n        }\r\n\r\n        public int compare(Point p, Point q) {\r\n\r\n            if (p == null || q == null) {\r\n                throw new NullPointerException(&quot;Arguments cannot be null&quot;);\r\n            }\r\n            \r\n            double slope1 = referencePoint.slopeTo(p);\r\n            double slope2 = referencePoint.slopeTo(q);\r\n\r\n            if (Double.isInfinite(slope1) &amp;&amp; Double.isInfinite(slope2) &amp;&amp;((slope1 &gt; 0 &amp;&amp; slope2 &gt; 0)||(slope1 &lt; 0 &amp;&amp; slope2 &lt; 0))) {\r\n                return 0; // slopes are both infinity\r\n            }\r\n            if (Double.isInfinite(slope1) &amp;&amp; Double.isInfinite(slope2) &amp;&amp; slope1 &lt; 0 &amp;&amp; slope2 &gt; 0) {\r\n                return -1;  \r\n            } else if (Double.isInfinite(slope1) &amp;&amp; Double.isInfinite(slope2) &amp;&amp; slope1 &gt; 0 &amp;&amp; slope2 &lt; 0) {\r\n                return 1;\r\n            }\r\n\r\n            if (slope1 &lt; slope2) {\r\n                 return -1; // slopeToP is less than slopeToQ\r\n             } else if (slope1 &gt; slope2) {\r\n                return 1;  // slopeToP is greater than slopeToQ\r\n             } else {\r\n                return 0; //Points are collinear\r\n            }  // check for antisymetric and transitive comparision\r\n            \r\n            }\r\n         \r\n     }  \r\n    }      \r\n```\r\n\r\n```\r\n/*************************************************************************\r\n *  Compilation:  javac LineSegment.java\r\n *  Execution:    none\r\n *  Dependencies: Point.java\r\n *\r\n *  An immutable data type for Line segments in the plane.\r\n *  For use on Coursera, Algorithms Part I programming assignment.\r\n *\r\n *  DO NOT MODIFY THIS CODE.\r\n *\r\n *************************************************************************/\r\n\r\n public class LineSegment {\r\n    private final Point p;   // one endpoint of this line segment\r\n    private final Point q;   // the other endpoint of this line segment\r\n\r\n    /**\r\n     * Initializes a new line segment.\r\n     *\r\n     * @param  p one endpoint\r\n     * @param  q the other endpoint\r\n     * @throws NullPointerException if either &lt;tt&gt;p&lt;/tt&gt; or &lt;tt&gt;q&lt;/tt&gt;\r\n     *         is &lt;tt&gt;null&lt;/tt&gt;\r\n     */\r\n    public LineSegment(Point p, Point q) {\r\n        if (p == null || q == null) {\r\n            throw new IllegalArgumentException(&quot;argument to LineSegment constructor is null&quot;);\r\n        }\r\n        if (p.equals(q)) {\r\n            throw new IllegalArgumentException(&quot;both arguments to LineSegment constructor are the same point: &quot; + p);\r\n        }\r\n        this.p = p;\r\n        this.q = q;\r\n    }\r\n\r\n    \r\n    /**\r\n     * Draws this line segment to standard draw.\r\n     */\r\n    public void draw() {\r\n        p.drawTo(q);\r\n    }\r\n\r\n    /**\r\n     * Returns a string representation of this line segment\r\n     * This method is provide for debugging;\r\n     * your program should not rely on the format of the string representation.\r\n     *\r\n     * @return a string representation of this line segment\r\n     */\r\n    public String toString() {\r\n        return p + &quot; -&gt; &quot; + q;\r\n    }\r\n\r\n    /**\r\n     * Throws an exception if called. The hashCode() method is not supported because\r\n     * hashing has not yet been introduced in this course. Moreover, hashing does not\r\n     * typically lead to good *worst-case* performance guarantees, as required on this\r\n     * assignment.\r\n     *\r\n     * @throws UnsupportedOperationException if called\r\n     */\r\n    public int hashCode() {\r\n        throw new UnsupportedOperationException(&quot;hashCode() is not supported&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI haven&#39;t use the hash map to handle my line segment class, because the API I used will throw an exception if I work with it, but should the hash map be a better alteration to solve the problem ?\r\n\r\n      \r\n\r\n       \r\n    \r\n    \r\n\r\n\r\n","title":"Uncertain and Incorrect returning result of FastCollinearPoints algorithm","body":"<p>I am working with fast find collinear points problem that use merge-sort for sorting the line segments. Basically, the algorithm works like this:</p>\n<pre><code>Given a point p, the following method determines whether p participates in a set of 4 or more collinear points.\n\nThink of p as the origin. \n\nFor each other point q, determine the slope it makes with p.\n\nSort the points according to the slopes they makes with p. \n\nCheck if any 3 (or more) adjacent points in the sorted order have equal slopes with respect to p. \n\nIf so, these points, together with p, are collinear.\n\n</code></pre>\n<p>Here is my data-structure implements the algorithm:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport edu.princeton.cs.algs4.In;\nimport edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.StdDraw;\n\npublic class FastCollinearPoints {\n    private LineSegment[] segments;\n\n    public FastCollinearPoints(Point[] points) \n    {\n        \n      \n        checkNull(points);\n        checkDuplicate(points);\n\n        Point[] pointsCopy = Arrays.copyOf(points, points.length);\n        Arrays.sort(pointsCopy);\n\n        ArrayList&lt;LineSegment&gt; segmentList = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; pointsCopy.length - 3; i++) \n        {\n            Point p = pointsCopy[i];\n            Point[] sortedPoints = Arrays.copyOfRange(pointsCopy, i + 1, pointsCopy.length);\n            // Sort the remaining points based on their slopes to the reference point p\n            Arrays.sort(sortedPoints, p.slopeOrder());\n\n            int currentStartIndex = 0;\n            double currentSlope = p.slopeTo(sortedPoints[currentStartIndex]);\n\n            for (int j = i + 1; j &lt; sortedPoints.length; j++) \n            {\n                Point currentStartPoint = sortedPoints[currentStartIndex];\n\n                Point currentPoint = sortedPoints[j];\n\n\n                 if (currentPoint == null || currentStartPoint == null) \n                 {\n                    throw new IllegalArgumentException(&quot;Duplicate points found&quot;);\n               }\n\n\n                double slopeToP = p.slopeTo(currentPoint);\n                \n                if (Double.compare(slopeToP, currentSlope) != 0) \n                {\n                     // Check if the adjacent points form a line segment\n                    if (j - currentStartIndex &gt;= 3 &amp;&amp; currentStartPoint.compareTo(p) &gt;= 0) \n                    {   \n                        Point[] segmentPoints = Arrays.copyOfRange(sortedPoints, currentStartIndex, j);\n                        Arrays.sort(segmentPoints);\n                        segmentList.add(new LineSegment(p, segmentPoints[segmentPoints.length - 1]));\n                       \n                    }\n                    currentStartIndex = j;\n                    currentSlope = slopeToP;\n                }\n        }\n            \n             // Check if the last set of points forms a segment\n             if (sortedPoints.length - currentStartIndex &gt;= 3) \n             \n            {\n                Point[] segmentPoints = Arrays.copyOfRange(sortedPoints, currentStartIndex, sortedPoints.length);\n                Arrays.sort(segmentPoints);\n                segmentList.add(new LineSegment(p, segmentPoints[segmentPoints.length - 1]));\n            }\n             \n        }\n           \n          segments = segmentList.toArray(new LineSegment[0]);\n    }\n\n       \n   \n\n\n    public int numberOfSegments() {\n        return segments.length;\n    }\n\n    public LineSegment[] segments() {\n        return Arrays.copyOf(segments, segments.length);\n    }\n\n    private void checkNull(Point[] points) {\n        if (points == null) {\n            throw new IllegalArgumentException(&quot;points cannot be null&quot;);\n             }\n\n     for (Point p : points) {\n           if (p == null) {\n                     throw new IllegalArgumentException(&quot;points cannot contain null entries&quot;);\n                 }\n             }\n    }\n\n    private void checkDuplicate(Point[] points) {\n        Point[] pointsCopy = Arrays.copyOf(points, points.length);\n        Arrays.sort(pointsCopy);\n\n        Point currentPoint = pointsCopy[0];\n        for (int i = 1; i &lt; pointsCopy.length; i++) {\n            if (pointsCopy[i].compareTo(currentPoint) == 0) {\n                throw new IllegalArgumentException(&quot;Duplicate points found&quot;);\n            } else {\n                currentPoint = pointsCopy[i];\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        // read the n points from a file\n        In in = new In(args[0]);\n        int n = in.readInt();\n        Point[] points = new Point[n];\n        for (int i = 0; i &lt; n; i++) {\n            int x = in.readInt();\n            int y = in.readInt();\n            points[i] = new Point(x, y);\n        }\n\n        // draw the points\n        StdDraw.enableDoubleBuffering();\n        StdDraw.setXscale(0, 32768);\n        StdDraw.setYscale(0, 32768);\n        for (Point p : points) {\n            p.draw();\n        }\n        StdDraw.show();\n\n        // print and draw the line segments\n        FastCollinearPoints collinear = new FastCollinearPoints(points);\n        for (LineSegment segment : collinear.segments()) {\n            StdOut.println(segment);\n            segment.draw();\n        }\n        StdDraw.show();\n    }\n}\n</code></pre>\n<p>Below are some samples of the input that I fed the code :</p>\n<pre><code>equidistant.txt\n\n15\n10000 0\n8000 2000\n2000 8000\n0  10000\n\n20000 0\n18000 2000\n2000 18000\n\n10000 20000\n30000 0\n0 30000\n20000 10000\n\n13000 0\n11000 3000\n5000 12000\n9000 6000\n\nthe result I got :\n(10000, 0) -&gt; (0, 10000)\n(10000, 0) -&gt; (30000, 0)\n(13000, 0) -&gt; (5000, 12000)\n(30000, 0) -&gt; (0, 30000)\n</code></pre>\n<pre><code>input8.txt\n\n8\n10000      0\n    0  10000\n 3000   7000\n 7000   3000\n20000  21000\n 3000   4000\n14000  15000\n 6000   7000\n\nthe result i got:\n\n(10000, 0) -&gt; (0, 10000)\n(3000, 4000) -&gt; (20000, 21000)\n\n</code></pre>\n<p>And when I give my code to the auto-grader which assert my code is incorrect, but the result is not enough for me to understand where the code wrong and how the full correct result should look like:</p>\n<pre><code> * filename = input8.txt\n    - segments() contains a subsegment of a segment in reference solution\n    - student   segment 3: (6000, 7000) -&gt; (20000, 21000)\n    - reference segment 1: (3000, 4000) -&gt; (6000, 7000) -&gt; (14000, 15000) -&gt; (20000, 21000)\n\n    - number of entries in student   solution: 4\n    - number of entries in reference solution: 2\n    - 4 extra entries in student solution, including:\n      '(6000, 7000) -&gt; (20000, 21000)'\n\n    - 2 missing entries in student solution, including:\n      '(3000, 4000) -&gt; (6000, 7000) -&gt; (14000, 15000) -&gt; (20000, 21000)'\n\n\n  * filename = equidistant.txt\n    - segments() contains a subsegment of a segment in reference solution\n    - student   segment 0: (10000, 0) -&gt; (13000, 0)\n    - reference segment 3: (10000, 0) -&gt; (13000, 0) -&gt; (20000, 0) -&gt; (30000, 0)\n\n    - number of entries in student   solution: 11\n    - number of entries in reference solution: 4\n    - 11 extra entries in student solution, including:\n      '(20000, 10000) -&gt; (2000, 18000)'\n\n    - 4 missing entries in student solution, including:\n      '(30000, 0) -&gt; (20000, 10000) -&gt; (10000, 20000) -&gt; (0, 30000)'\n\n</code></pre>\n<p>I wonder what part in my nested loop (belongs to the FastCollinearPoints method) caused the code failed the test, and how I should modify the data-structure to get the correct result ?</p>\n<p><code>What I had tried: I have tried to modify the condition of the nested loop, but it still keep return the same result, i expected the line segment should contain vertical line segments (same x coordinate), which the code cannot handle correctly. </code></p>\n<p>Thanks !</p>\n<p><code> Addition: For anyone want to know what is the Point class and LineSegment class should look like here it is</code></p>\n<pre><code>\nimport java.util.Comparator;\nimport edu.princeton.cs.algs4.StdDraw;\n\npublic class Point implements Comparable&lt;Point&gt; {\n   private final int x; // x coordinate\n    private final int y; // y coordinate\n    \n\n    public Point(int x, int y) {\n     // constructs the point (x, y)\n      this.x = x;\n      this.y = y;\n    }           \n\n    public void draw()  {\n        StdDraw.point(x, y); // draws the point\n    }      \n    \n\n    public void drawTo(Point that) {\n        if (this.y == that.y) {\n            // Draw a vertical line\n            StdDraw.line(this.x, this.y, that.x, that.y + 1);\n        } else \n        StdDraw.line(this.x,this.y,that.x,that.y);   // draws the line segment from this point to that point\n    }                 \n    public String toString() {\n        return &quot;(&quot; + x + &quot;, &quot; + y + &quot;)&quot; ;  // string representation       \n    }                         \n \n    public  int compareTo(Point that)\n        // compare two points by y-coordinates, breaking ties by x-coordinates\n    {   \n        if (this.y &lt; that.y) return -1; // this.y &lt; that.y\n        else if (this.y &gt; that.y) return 1; // this.y &gt; that.y\n        else if (this.x &lt; that.x) return -1; //  this.x &lt; that.x\n        else if (this.x &gt; that.x) return 1; // this.x &gt; that.x\n       \n        else return 0;     \n    }\n    public double slopeTo(Point that) {\n        // the slope between this point and that point\n\n        if (that == null) {\n           throw new NullPointerException(&quot;The argument to the method is null&quot;);\n        }\n       \n        int deltaX = that.x - this.x ; \n        int deltaY = that.y - this.y;\n\n        if (this.x == that.x) {\n            if (this.y == that.y) {\n            return Double.NEGATIVE_INFINITY; // Degenerate line segment (between a point and itself)\n        } else  {\n            return Double.POSITIVE_INFINITY; // Vertical line segment\n        } \n\n    }\n        else if (this.y == that.y) { \n           return 0.0; // Horizontal line segment\n        }\n        return (double) deltaY / deltaX; // Calculate the slope   \n    }    \n\n    public Comparator&lt;Point&gt; slopeOrder()  {\n        return new SlopeOrder(this); // return a comparator object\n    }\n    private class SlopeOrder implements Comparator&lt;Point&gt; {\n        private Point referencePoint;\n\n        public SlopeOrder(Point r) {\n            this.referencePoint = r;\n        }\n\n        public int compare(Point p, Point q) {\n\n            if (p == null || q == null) {\n                throw new NullPointerException(&quot;Arguments cannot be null&quot;);\n            }\n            \n            double slope1 = referencePoint.slopeTo(p);\n            double slope2 = referencePoint.slopeTo(q);\n\n            if (Double.isInfinite(slope1) &amp;&amp; Double.isInfinite(slope2) &amp;&amp;((slope1 &gt; 0 &amp;&amp; slope2 &gt; 0)||(slope1 &lt; 0 &amp;&amp; slope2 &lt; 0))) {\n                return 0; // slopes are both infinity\n            }\n            if (Double.isInfinite(slope1) &amp;&amp; Double.isInfinite(slope2) &amp;&amp; slope1 &lt; 0 &amp;&amp; slope2 &gt; 0) {\n                return -1;  \n            } else if (Double.isInfinite(slope1) &amp;&amp; Double.isInfinite(slope2) &amp;&amp; slope1 &gt; 0 &amp;&amp; slope2 &lt; 0) {\n                return 1;\n            }\n\n            if (slope1 &lt; slope2) {\n                 return -1; // slopeToP is less than slopeToQ\n             } else if (slope1 &gt; slope2) {\n                return 1;  // slopeToP is greater than slopeToQ\n             } else {\n                return 0; //Points are collinear\n            }  // check for antisymetric and transitive comparision\n            \n            }\n         \n     }  \n    }      \n</code></pre>\n<pre><code>/*************************************************************************\n *  Compilation:  javac LineSegment.java\n *  Execution:    none\n *  Dependencies: Point.java\n *\n *  An immutable data type for Line segments in the plane.\n *  For use on Coursera, Algorithms Part I programming assignment.\n *\n *  DO NOT MODIFY THIS CODE.\n *\n *************************************************************************/\n\n public class LineSegment {\n    private final Point p;   // one endpoint of this line segment\n    private final Point q;   // the other endpoint of this line segment\n\n    /**\n     * Initializes a new line segment.\n     *\n     * @param  p one endpoint\n     * @param  q the other endpoint\n     * @throws NullPointerException if either &lt;tt&gt;p&lt;/tt&gt; or &lt;tt&gt;q&lt;/tt&gt;\n     *         is &lt;tt&gt;null&lt;/tt&gt;\n     */\n    public LineSegment(Point p, Point q) {\n        if (p == null || q == null) {\n            throw new IllegalArgumentException(&quot;argument to LineSegment constructor is null&quot;);\n        }\n        if (p.equals(q)) {\n            throw new IllegalArgumentException(&quot;both arguments to LineSegment constructor are the same point: &quot; + p);\n        }\n        this.p = p;\n        this.q = q;\n    }\n\n    \n    /**\n     * Draws this line segment to standard draw.\n     */\n    public void draw() {\n        p.drawTo(q);\n    }\n\n    /**\n     * Returns a string representation of this line segment\n     * This method is provide for debugging;\n     * your program should not rely on the format of the string representation.\n     *\n     * @return a string representation of this line segment\n     */\n    public String toString() {\n        return p + &quot; -&gt; &quot; + q;\n    }\n\n    /**\n     * Throws an exception if called. The hashCode() method is not supported because\n     * hashing has not yet been introduced in this course. Moreover, hashing does not\n     * typically lead to good *worst-case* performance guarantees, as required on this\n     * assignment.\n     *\n     * @throws UnsupportedOperationException if called\n     */\n    public int hashCode() {\n        throw new UnsupportedOperationException(&quot;hashCode() is not supported&quot;);\n    }\n}\n\n</code></pre>\n<p>I haven't use the hash map to handle my line segment class, because the API I used will throw an exception if I work with it, but should the hash map be a better alteration to solve the problem ?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1686076055,"post_id":76417143,"comment_id":134748844,"body_markdown":"Off-topic: It&#39;s good that you selected a blink rate of 1 per 1 second or 1 per 2 seconds.  A while back, it was noticed that flashing a few to several times per second could trigger an epilepsy like response in some people.","body":"Off-topic: It&#39;s good that you selected a blink rate of 1 per 1 second or 1 per 2 seconds.  A while back, it was noticed that flashing a few to several times per second could trigger an epilepsy like response in some people."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686078579,"post_id":76417143,"comment_id":134749295,"body_markdown":"1) Are you aware that the first word of a sentence should start with a capital letter? 2) What is the point of casting the Graphics object 4 times. This does not create a new instance of the object. 3) Custom painting is done by overriding `paintComponent(...)` , not paint().","body":"1) Are you aware that the first word of a sentence should start with a capital letter? 2) What is the point of casting the Graphics object 4 times. This does not create a new instance of the object. 3) Custom painting is done by overriding <code>paintComponent(...)</code> , not paint()."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686078861,"post_id":76417143,"comment_id":134749342,"body_markdown":"4) The job of the paintComponent() method is to paint the current state of the game. So if you want to toggle the state of some object, then you need to property that you can change between true/false. Then in your Timer logic you change the state and invoke repaint on the components. The painting logic then checks this property before painting the object. Create a simple [mre] to demonstrate this concept. Just create a panel that paints something based on a property and use the Timer to toggle the property. Then if you have a problem you have complete code to paint.","body":"4) The job of the paintComponent() method is to paint the current state of the game. So if you want to toggle the state of some object, then you need to property that you can change between true/false. Then in your Timer logic you change the state and invoke repaint on the components. The painting logic then checks this property before painting the object. Create a simple <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to demonstrate this concept. Just create a panel that paints something based on a property and use the Timer to toggle the property. Then if you have a problem you have complete code to paint."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686096973,"creation_date":1686096973,"answer_id":76419160,"question_id":76417143,"body_markdown":"# introduction\r\n\r\nI couldn&#39;t copy the posted code into my IDE, compile it, run it, and test it, so I created the following example GUI.\r\n\r\n[![Example][1]][1]\r\n\r\nHere&#39;s the GUi after 1.5 seconds.\r\n\r\n[![Horizotal][2]][2]\r\n\r\nHere&#39;s the GUi after 1.5 seconds.\r\n\r\n[![Vertical][3]][3]\r\n\r\nThe squares will keep alternating every 1.5 seconds.\r\n\r\n# Explanation\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.\r\n\r\nI created an application model consisting of 5 squares.  I created two plain Java getter/setter classes, `DrawingObject` and `BlinkingModel`\r\n\r\nThe `DrawingObject` class holds a `Rectangle`, a `Color`, and a `boolean` draw indicator.  This information is used by the drawing `JPanel` to draw the object.\r\n\r\nThe `BlinkingModel` class holds 5 `DrawingObject` instances and the `Dimension` of the drawing `JPanel`.\r\n\r\nI created a `JFrame` and a drawing `JPanel`.  The `paintComponent` method of the drawing `JPanel` is pretty simple.\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).\r\n\r\nThe Swing `Timer` executes the `actionPerformed` method of the `ActionListener` every 1.5 seconds.  The `actionPerformed` method turns certain `DrawingObject` instances on or off (true or false) and repaints the drawing `JPanel`.\r\n\r\n# Code\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    public class BlinkingExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new BlinkingExample());\r\n    \t}\r\n    \t\r\n    \tprivate final BlinkingModel model;\r\n    \t\r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \t\r\n    \tpublic BlinkingExample() {\r\n    \t\tthis.model = new BlinkingModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(model);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Blinking Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t\t\r\n    \t\tTimer timer = new Timer(1500, new ActionListener() {\r\n    \t\t\tprivate boolean horizontal = true;\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\tDrawingObject[] objects = model.getDrawingObjects();\r\n    \t\t\t\tif (horizontal) {\r\n    \t\t\t\t\tobjects[1].setDraw(false);\r\n    \t\t\t\t\tobjects[2].setDraw(false);\r\n    \t\t\t\t\tobjects[3].setDraw(true);\r\n    \t\t\t\t\tobjects[4].setDraw(true);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tobjects[1].setDraw(true);\r\n    \t\t\t\t\tobjects[2].setDraw(true);\r\n    \t\t\t\t\tobjects[3].setDraw(false);\r\n    \t\t\t\t\tobjects[4].setDraw(false);\r\n    \t\t\t\t}\r\n    \t\t\t\thorizontal = !horizontal;\r\n    \t\t\t\trepaint();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttimer.start();\r\n    \t}\r\n    \t\r\n    \tpublic void repaint() {\r\n    \t\tdrawingPanel.repaint();\r\n    \t}\r\n    \t\r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\t\r\n    \t\tprivate final BlinkingModel model;\r\n    \r\n    \t\tpublic DrawingPanel(BlinkingModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.setPreferredSize(model.getDrawingPanelSize());\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\t\r\n    \t\t\tfor (DrawingObject object : model.getDrawingObjects()) {\r\n    \t\t\t\tif (object.isDraw()) {\r\n    \t\t\t\t\tg.setColor(object.getColor());\r\n    \t\t\t\t\tRectangle r = object.getDrawingObject();\r\n    \t\t\t\t\tg.fillRect(r.x, r.y, r.width, r.height);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class BlinkingModel {\r\n    \t\t\r\n    \t\tprivate final Dimension drawingPanelSize;\r\n    \t\t\r\n    \t\tprivate final DrawingObject[] drawingObjects;\r\n    \t\t\r\n    \t\tpublic BlinkingModel() {\r\n    \t\t\tthis.drawingPanelSize = new Dimension(300, 180);\r\n    \t\t\tthis.drawingObjects = new DrawingObject[5];\r\n    \t\t\t\r\n    \t\t\tRectangle r = new Rectangle(140, 80, 20, 20);\r\n    \t\t\tdrawingObjects[0] = new DrawingObject(r, Color.BLUE);\r\n    \t\t\tr = new Rectangle(140, 40, 20, 20);\r\n    \t\t\tdrawingObjects[1] = new DrawingObject(r, Color.BLUE);\r\n    \t\t\tr = new Rectangle(140, 120, 20, 20);\r\n    \t\t\tdrawingObjects[2] = new DrawingObject(r, Color.BLUE);\r\n    \t\t\tr = new Rectangle(100, 80, 20, 20);\r\n    \t\t\tdrawingObjects[3] = new DrawingObject(r, Color.BLUE);\r\n    \t\t\tr = new Rectangle(180, 80, 20, 20);\r\n    \t\t\tdrawingObjects[4] = new DrawingObject(r, Color.BLUE);\r\n    \t\t}\r\n    \r\n    \t\tpublic Dimension getDrawingPanelSize() {\r\n    \t\t\treturn drawingPanelSize;\r\n    \t\t}\r\n    \r\n    \t\tpublic DrawingObject[] getDrawingObjects() {\r\n    \t\t\treturn drawingObjects;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class DrawingObject {\r\n    \t\t\r\n    \t\tprivate boolean draw;\r\n    \t\t\r\n    \t\tprivate final Color color;\r\n    \t\t\r\n    \t\tprivate final Rectangle drawingObject;\r\n    \r\n    \t\tpublic DrawingObject(Rectangle drawingObject, Color color) {\r\n    \t\t\tthis.drawingObject = drawingObject;\r\n    \t\t\tthis.color = color;\r\n    \t\t\tthis.draw = true;\r\n    \t\t}\r\n    \r\n    \t\tpublic boolean isDraw() {\r\n    \t\t\treturn draw;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setDraw(boolean draw) {\r\n    \t\t\tthis.draw = draw;\r\n    \t\t}\r\n    \r\n    \t\tpublic Color getColor() {\r\n    \t\t\treturn color;\r\n    \t\t}\r\n    \r\n    \t\tpublic Rectangle getDrawingObject() {\r\n    \t\t\treturn drawingObject;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BZiDe.png\r\n  [2]: https://i.stack.imgur.com/krhXs.png\r\n  [3]: https://i.stack.imgur.com/yrnmO.png","title":"Make flashing effect in Java paint","body":"<h1>introduction</h1>\n<p>I couldn't copy the posted code into my IDE, compile it, run it, and test it, so I created the following example GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/BZiDe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BZiDe.png\" alt=\"Example\" /></a></p>\n<p>Here's the GUi after 1.5 seconds.</p>\n<p><a href=\"https://i.stack.imgur.com/krhXs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/krhXs.png\" alt=\"Horizotal\" /></a></p>\n<p>Here's the GUi after 1.5 seconds.</p>\n<p><a href=\"https://i.stack.imgur.com/yrnmO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yrnmO.png\" alt=\"Vertical\" /></a></p>\n<p>The squares will keep alternating every 1.5 seconds.</p>\n<h1>Explanation</h1>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section.</p>\n<p>I created an application model consisting of 5 squares.  I created two plain Java getter/setter classes, <code>DrawingObject</code> and <code>BlinkingModel</code></p>\n<p>The <code>DrawingObject</code> class holds a <code>Rectangle</code>, a <code>Color</code>, and a <code>boolean</code> draw indicator.  This information is used by the drawing <code>JPanel</code> to draw the object.</p>\n<p>The <code>BlinkingModel</code> class holds 5 <code>DrawingObject</code> instances and the <code>Dimension</code> of the drawing <code>JPanel</code>.</p>\n<p>I created a <code>JFrame</code> and a drawing <code>JPanel</code>.  The <code>paintComponent</code> method of the drawing <code>JPanel</code> is pretty simple.</p>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>The Swing <code>Timer</code> executes the <code>actionPerformed</code> method of the <code>ActionListener</code> every 1.5 seconds.  The <code>actionPerformed</code> method turns certain <code>DrawingObject</code> instances on or off (true or false) and repaints the drawing <code>JPanel</code>.</p>\n<h1>Code</h1>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class BlinkingExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new BlinkingExample());\n    }\n    \n    private final BlinkingModel model;\n    \n    private final DrawingPanel drawingPanel;\n    \n    public BlinkingExample() {\n        this.model = new BlinkingModel();\n        this.drawingPanel = new DrawingPanel(model);\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Blinking Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(drawingPanel, BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n        \n        Timer timer = new Timer(1500, new ActionListener() {\n            private boolean horizontal = true;\n            @Override\n            public void actionPerformed(ActionEvent event) {\n                DrawingObject[] objects = model.getDrawingObjects();\n                if (horizontal) {\n                    objects[1].setDraw(false);\n                    objects[2].setDraw(false);\n                    objects[3].setDraw(true);\n                    objects[4].setDraw(true);\n                } else {\n                    objects[1].setDraw(true);\n                    objects[2].setDraw(true);\n                    objects[3].setDraw(false);\n                    objects[4].setDraw(false);\n                }\n                horizontal = !horizontal;\n                repaint();\n            }\n        });\n        timer.start();\n    }\n    \n    public void repaint() {\n        drawingPanel.repaint();\n    }\n    \n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n        \n        private final BlinkingModel model;\n\n        public DrawingPanel(BlinkingModel model) {\n            this.model = model;\n            this.setPreferredSize(model.getDrawingPanelSize());\n        }\n        \n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            \n            for (DrawingObject object : model.getDrawingObjects()) {\n                if (object.isDraw()) {\n                    g.setColor(object.getColor());\n                    Rectangle r = object.getDrawingObject();\n                    g.fillRect(r.x, r.y, r.width, r.height);\n                }\n            }\n        }\n        \n    }\n    \n    public class BlinkingModel {\n        \n        private final Dimension drawingPanelSize;\n        \n        private final DrawingObject[] drawingObjects;\n        \n        public BlinkingModel() {\n            this.drawingPanelSize = new Dimension(300, 180);\n            this.drawingObjects = new DrawingObject[5];\n            \n            Rectangle r = new Rectangle(140, 80, 20, 20);\n            drawingObjects[0] = new DrawingObject(r, Color.BLUE);\n            r = new Rectangle(140, 40, 20, 20);\n            drawingObjects[1] = new DrawingObject(r, Color.BLUE);\n            r = new Rectangle(140, 120, 20, 20);\n            drawingObjects[2] = new DrawingObject(r, Color.BLUE);\n            r = new Rectangle(100, 80, 20, 20);\n            drawingObjects[3] = new DrawingObject(r, Color.BLUE);\n            r = new Rectangle(180, 80, 20, 20);\n            drawingObjects[4] = new DrawingObject(r, Color.BLUE);\n        }\n\n        public Dimension getDrawingPanelSize() {\n            return drawingPanelSize;\n        }\n\n        public DrawingObject[] getDrawingObjects() {\n            return drawingObjects;\n        }\n        \n    }\n    \n    public class DrawingObject {\n        \n        private boolean draw;\n        \n        private final Color color;\n        \n        private final Rectangle drawingObject;\n\n        public DrawingObject(Rectangle drawingObject, Color color) {\n            this.drawingObject = drawingObject;\n            this.color = color;\n            this.draw = true;\n        }\n\n        public boolean isDraw() {\n            return draw;\n        }\n\n        public void setDraw(boolean draw) {\n            this.draw = draw;\n        }\n\n        public Color getColor() {\n            return color;\n        }\n\n        public Rectangle getDrawingObject() {\n            return drawingObject;\n        }\n        \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18750189,"reputation":57,"user_id":13671439,"display_name":"Tim Asher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76419160,"answer_count":1,"score":-1,"last_activity_date":1686096973,"creation_date":1686073203,"question_id":76417143,"body_markdown":"I&#39;m building snake game. \r\n\r\nI want to make the screen in the background flashing when the game is over.\r\n\r\nAny ideas how to make it ?\r\n\r\nThis is my code about the paint:\r\n\r\n    \r\n    public void paint(Graphics g){\r\n        paintComponent(g);\r\n        Graphics2D snakePaint = (Graphics2D) g;\r\n        Graphics2D applePaint = (Graphics2D) g;\r\n        Graphics2D scorePaint = (Graphics2D) g;\r\n        Graphics2D gameOverPaint = (Graphics2D) g;\r\n        paintSnake(snakePaint);\r\n        paintApple(applePaint);\r\n        paintScore(scorePaint);\r\n        if(gameOver){\r\n            paintGameOver(gameOverPaint);\r\n        }\r\n    }\r\n\r\n    private void paintScore(Graphics2D scorePaint){\r\n        scorePaint.setPaint(Color.darkGray);\r\n        scorePaint.setFont(new Font(&quot;Dubai Medium&quot;, Font.PLAIN, 25));\r\n        scorePaint.drawString(&quot;Score: &quot; + apple.getScore(), 25, 25);\r\n    }\r\n\r\n    private void paintApple(Graphics2D applePaint){\r\n        applePaint.setPaint(Color.red);\r\n        applePaint.fillOval(apple.getxPos(), apple.getyPos(), SNAKE_SIZE, SNAKE_SIZE);\r\n\r\n    }\r\n\r\n    private void paintSnake(Graphics2D snakePaint){\r\n        for(int i = 0; i&lt;snakeList.getCount(); i++){\r\n            snakePaint.setPaint(Color.BLACK);\r\n            snakePaint.fillRect(snakeList.getSnakeLinks()[i].getxPos(), snakeList.getSnakeLinks()[i].getyPos(),\r\n                    SNAKE_SIZE, SNAKE_SIZE);\r\n            snakePaint.setPaint((Color.gray));\r\n            snakePaint.drawRect(snakeList.getSnakeLinks()[i].getxPos(), snakeList.getSnakeLinks()[i].getyPos(),\r\n                    SNAKE_SIZE, SNAKE_SIZE);\r\n        }\r\n    }\r\n\r\n    private void paintGameOver(Graphics2D gameOverPaint){\r\n        gameOverPaint.setPaint(Color.red);\r\n        gameOverPaint.setFont(new Font(&quot;High Tower Text&quot;, Font.PLAIN, 50));\r\n        gameOverPaint.drawString(&quot;Game Over&quot; , (PANEL_SIZE/2)-(gameOverPaint.getFontMetrics().stringWidth(&quot;Game Over&quot;) / 2),\r\n                (PANEL_SIZE/2));\r\n\r\n    }\r\n\r\n\r\n also got timer and actionListener to make the repaint if you need the code ill edit.\r\n\r\ni want the gameover to stay regular but the snake, the score and the apple in the background to flash every sec or 2. \r\n\r\nthx for the help :)\r\n","title":"Make flashing effect in Java paint","body":"<p>I'm building snake game.</p>\n<p>I want to make the screen in the background flashing when the game is over.</p>\n<p>Any ideas how to make it ?</p>\n<p>This is my code about the paint:</p>\n<pre><code>public void paint(Graphics g){\n    paintComponent(g);\n    Graphics2D snakePaint = (Graphics2D) g;\n    Graphics2D applePaint = (Graphics2D) g;\n    Graphics2D scorePaint = (Graphics2D) g;\n    Graphics2D gameOverPaint = (Graphics2D) g;\n    paintSnake(snakePaint);\n    paintApple(applePaint);\n    paintScore(scorePaint);\n    if(gameOver){\n        paintGameOver(gameOverPaint);\n    }\n}\n\nprivate void paintScore(Graphics2D scorePaint){\n    scorePaint.setPaint(Color.darkGray);\n    scorePaint.setFont(new Font(&quot;Dubai Medium&quot;, Font.PLAIN, 25));\n    scorePaint.drawString(&quot;Score: &quot; + apple.getScore(), 25, 25);\n}\n\nprivate void paintApple(Graphics2D applePaint){\n    applePaint.setPaint(Color.red);\n    applePaint.fillOval(apple.getxPos(), apple.getyPos(), SNAKE_SIZE, SNAKE_SIZE);\n\n}\n\nprivate void paintSnake(Graphics2D snakePaint){\n    for(int i = 0; i&lt;snakeList.getCount(); i++){\n        snakePaint.setPaint(Color.BLACK);\n        snakePaint.fillRect(snakeList.getSnakeLinks()[i].getxPos(), snakeList.getSnakeLinks()[i].getyPos(),\n                SNAKE_SIZE, SNAKE_SIZE);\n        snakePaint.setPaint((Color.gray));\n        snakePaint.drawRect(snakeList.getSnakeLinks()[i].getxPos(), snakeList.getSnakeLinks()[i].getyPos(),\n                SNAKE_SIZE, SNAKE_SIZE);\n    }\n}\n\nprivate void paintGameOver(Graphics2D gameOverPaint){\n    gameOverPaint.setPaint(Color.red);\n    gameOverPaint.setFont(new Font(&quot;High Tower Text&quot;, Font.PLAIN, 50));\n    gameOverPaint.drawString(&quot;Game Over&quot; , (PANEL_SIZE/2)-(gameOverPaint.getFontMetrics().stringWidth(&quot;Game Over&quot;) / 2),\n            (PANEL_SIZE/2));\n\n}\n</code></pre>\n<p>also got timer and actionListener to make the repaint if you need the code ill edit.</p>\n<p>i want the gameover to stay regular but the snake, the score and the apple in the background to flash every sec or 2.</p>\n<p>thx for the help :)</p>\n"},{"tags":["java","httprequest","mockserver"],"answers":[{"tags":[],"owner":{"account_id":6813683,"reputation":441,"user_id":5243069,"display_name":"Ms. Zia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522308605,"creation_date":1522307390,"answer_id":49550005,"question_id":49549523,"body_markdown":"Query parameters can be passed in URL.\r\n\r\nIn Java:\r\n\r\n    urlEqualTo(&quot;/your/url?and=query&quot;)\r\n\r\nJson: \r\n\r\n    {\r\n      &quot;request&quot;: {\r\n        &quot;url&quot;: &quot;/your/url?and=query&quot;\r\n        ...\r\n      },\r\n      ...\r\n    }\r\n\r\nReference: http://wiremock.org/docs/request-matching/\r\n\r\nExample:\r\nTry any of the following:\r\n\r\n\tstubFor(any(urlEqualTo(&quot;/customers?customerId={your_customer_id}&amp;customerNo={your_customer_no}&quot;))\r\n\t\t\t  .willReturn(aResponse()));\r\n\r\n\t\r\n\tstubFor(any(urlPathEqualTo(&quot;/customers&quot;))\r\n\t\t\t  .withQueryParam(&quot;customerId&quot;, equalTo(&quot;your_customer_id&quot;))\r\n\t\t\t  .withQueryParam(&quot;customerNo&quot;, equalTo(&quot;your_customer_no&quot;))\r\n\t\t\t  .willReturn(aResponse()));\r\n\r\n","title":"How to match request parameters in wire-mock url?","body":"<p>Query parameters can be passed in URL.</p>\n\n<p>In Java:</p>\n\n<pre><code>urlEqualTo(\"/your/url?and=query\")\n</code></pre>\n\n<p>Json: </p>\n\n<pre><code>{\n  \"request\": {\n    \"url\": \"/your/url?and=query\"\n    ...\n  },\n  ...\n}\n</code></pre>\n\n<p>Reference: <a href=\"http://wiremock.org/docs/request-matching/\" rel=\"nofollow noreferrer\">http://wiremock.org/docs/request-matching/</a></p>\n\n<p>Example:\nTry any of the following:</p>\n\n<pre><code>stubFor(any(urlEqualTo(\"/customers?customerId={your_customer_id}&amp;customerNo={your_customer_no}\"))\n          .willReturn(aResponse()));\n\n\nstubFor(any(urlPathEqualTo(\"/customers\"))\n          .withQueryParam(\"customerId\", equalTo(\"your_customer_id\"))\n          .withQueryParam(\"customerNo\", equalTo(\"your_customer_no\"))\n          .willReturn(aResponse()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8297156,"reputation":4423,"user_id":6237026,"accept_rate":57,"display_name":"Dina Bogdan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1522312136,"creation_date":1522312136,"answer_id":49551324,"question_id":49549523,"body_markdown":"My problem was that the WireMock is hardcoded in UTF-8 format, so when firing requests from browser I didn&#39;t send the UTF-8 format to the endpoint. You can&#39;t change the WireMock to accept anything instead of UTF-8, but you can fire some UTF-8 requests.","title":"How to match request parameters in wire-mock url?","body":"<p>My problem was that the WireMock is hardcoded in UTF-8 format, so when firing requests from browser I didn't send the UTF-8 format to the endpoint. You can't change the WireMock to accept anything instead of UTF-8, but you can fire some UTF-8 requests.</p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686067878,"creation_date":1686066985,"answer_id":76416409,"question_id":49549523,"body_markdown":"Stubbing with Query Parameters\r\n\r\n    stubFor(post(urlPathMatching(&quot;url&quot;))\r\n    .withHeader(CONTENT_TYPE, matching(APPLICATION_JSON_VALUE))\r\n    .withQueryParams(queryParams)\r\n    .withRequestBody(equalToJson(&quot;request-json-goes-here&quot;))\r\n    .willReturn(aResponse().withStatus(200)\r\n    .withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\r\n    .withBody(&quot;response-json-goes-here&quot;)))\r\n    \r\nWhere query params is\r\n\r\n    Map&lt;String, StringValuePattern&gt; queryParams = new HashMap&lt;String, StringValuePattern&gt;();\r\n    queryParams.put(&quot;show_all&quot;, equalTo(&quot;true&quot;));\r\n\r\nVerification of the query parameter can be done using `withQueryParam`\r\n\r\n    verify(1, postRequestedFor(urlPathMatching(&quot;url&quot;))\r\n    .withQueryParam(&quot;show_all&quot;,equalTo(&quot;true&quot;)))\r\n\r\n","title":"How to match request parameters in wire-mock url?","body":"<p>Stubbing with Query Parameters</p>\n<pre><code>stubFor(post(urlPathMatching(&quot;url&quot;))\n.withHeader(CONTENT_TYPE, matching(APPLICATION_JSON_VALUE))\n.withQueryParams(queryParams)\n.withRequestBody(equalToJson(&quot;request-json-goes-here&quot;))\n.willReturn(aResponse().withStatus(200)\n.withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\n.withBody(&quot;response-json-goes-here&quot;)))\n</code></pre>\n<p>Where query params is</p>\n<pre><code>Map&lt;String, StringValuePattern&gt; queryParams = new HashMap&lt;String, StringValuePattern&gt;();\nqueryParams.put(&quot;show_all&quot;, equalTo(&quot;true&quot;));\n</code></pre>\n<p>Verification of the query parameter can be done using <code>withQueryParam</code></p>\n<pre><code>verify(1, postRequestedFor(urlPathMatching(&quot;url&quot;))\n.withQueryParam(&quot;show_all&quot;,equalTo(&quot;true&quot;)))\n</code></pre>\n"}],"owner":{"account_id":8297156,"reputation":4423,"user_id":6237026,"accept_rate":57,"display_name":"Dina Bogdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12464,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":49551324,"answer_count":3,"score":6,"last_activity_date":1686092510,"creation_date":1522305481,"question_id":49549523,"body_markdown":"I&#39;m trying to create a mock server using wire-mock and I&#39;m facing the following problem: I want to hit an URL like this `/customers?customerId={customerId}&amp;customerNo={customerNo}`. \r\n\r\nMy question is how can I match the request parameters `customerId` and `customerNo` from the stub of the mock server in Java code.\r\n\r\n**EDIT**\r\n\r\nAfter the first response, this is the result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MGFXb.jpg\r\n\r\n**EDIT 2**\r\n\r\nHere is my stub:\r\n\r\n```java\r\nWireMockServer mockServer = new WireMockServer(8079);\r\nmockServer.start();\r\nmockServer.stubFor(get(urlEqualTo(&quot;/api/loan/admin/contracts&quot;))\r\n                .withQueryParam(&quot;status&quot;, equalTo(&quot;ACTIVE&quot;))\r\n                .withQueryParam(&quot;cnp&quot;, equalTo(&quot;1950503410033&quot;))\r\n                .willReturn(aResponse().withBody(&quot;Welcome to Baeldung!&quot;)));\r\n```","title":"How to match request parameters in wire-mock url?","body":"<p>I'm trying to create a mock server using wire-mock and I'm facing the following problem: I want to hit an URL like this <code>/customers?customerId={customerId}&amp;customerNo={customerNo}</code>.</p>\n<p>My question is how can I match the request parameters <code>customerId</code> and <code>customerNo</code> from the stub of the mock server in Java code.</p>\n<p><strong>EDIT</strong></p>\n<p>After the first response, this is the result:</p>\n<p><a href=\"https://i.stack.imgur.com/MGFXb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MGFXb.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT 2</strong></p>\n<p>Here is my stub:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WireMockServer mockServer = new WireMockServer(8079);\nmockServer.start();\nmockServer.stubFor(get(urlEqualTo(&quot;/api/loan/admin/contracts&quot;))\n                .withQueryParam(&quot;status&quot;, equalTo(&quot;ACTIVE&quot;))\n                .withQueryParam(&quot;cnp&quot;, equalTo(&quot;1950503410033&quot;))\n                .willReturn(aResponse().withBody(&quot;Welcome to Baeldung!&quot;)));\n</code></pre>\n"},{"tags":["java","json","vert.x"],"answers":[{"tags":[],"owner":{"account_id":938736,"reputation":6591,"user_id":967203,"accept_rate":100,"display_name":"Will"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1520392807,"creation_date":1439975483,"answer_id":32091205,"question_id":32042938,"body_markdown":"Not sure if I&#39;ve understood you correctly, but it sounds like you&#39;re trying to find a simple way of converting POJOs to JsonObject?\r\n\r\nSo, we have lots of pojos that we send over the `EventBus` as `JsonObject`s\r\n\r\nI&#39;ve found the easiest way is to use the `vert.x` `Json` class which has loads of helper methods to convert to / from `Json` `Strings`\r\n\r\n    JsonObject jsonObject = new JsonObject(Json.encode(myPojo));\r\n\r\nSometimes you need to add some custom (de)serializers, but we always stick with `Jackson` - that is what `Vert.x` is using so they work out of the box. \r\n\r\nWhat we actually do, is provide an interface like the following:\r\n\r\n    public JsonObjectSerializable {\r\n        public JsonObject toJson();\r\n    }\r\n\r\nAnd all our pojos that need to be sent over the `EventBus` have to implement this interface. \r\n\r\nThen our `EventBus` sending code looks something like (simplified):\r\n\r\n    public &lt;T extends JsonObjectSerializable&gt; Response&lt;T&gt; dispatch(T eventPayload);\r\n\r\nAlso, as we generally don&#39;t unit test Pojos, adding this `interface` encourages the developers to unit test their conversion. \r\n\r\nHope this helps, \r\n\r\nWill\r\n\r\n\r\n\r\n","title":"Elegant mapping from POJOs to vertx.io&#39;s JsonObject?","body":"<p>Not sure if I've understood you correctly, but it sounds like you're trying to find a simple way of converting POJOs to JsonObject?</p>\n\n<p>So, we have lots of pojos that we send over the <code>EventBus</code> as <code>JsonObject</code>s</p>\n\n<p>I've found the easiest way is to use the <code>vert.x</code> <code>Json</code> class which has loads of helper methods to convert to / from <code>Json</code> <code>Strings</code></p>\n\n<pre><code>JsonObject jsonObject = new JsonObject(Json.encode(myPojo));\n</code></pre>\n\n<p>Sometimes you need to add some custom (de)serializers, but we always stick with <code>Jackson</code> - that is what <code>Vert.x</code> is using so they work out of the box. </p>\n\n<p>What we actually do, is provide an interface like the following:</p>\n\n<pre><code>public JsonObjectSerializable {\n    public JsonObject toJson();\n}\n</code></pre>\n\n<p>And all our pojos that need to be sent over the <code>EventBus</code> have to implement this interface. </p>\n\n<p>Then our <code>EventBus</code> sending code looks something like (simplified):</p>\n\n<pre><code>public &lt;T extends JsonObjectSerializable&gt; Response&lt;T&gt; dispatch(T eventPayload);\n</code></pre>\n\n<p>Also, as we generally don't unit test Pojos, adding this <code>interface</code> encourages the developers to unit test their conversion. </p>\n\n<p>Hope this helps, </p>\n\n<p>Will</p>\n"},{"tags":[],"owner":{"account_id":6971458,"reputation":81,"user_id":5347678,"display_name":"Tim Putnam"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1466040417,"creation_date":1466040417,"answer_id":37848427,"question_id":32042938,"body_markdown":"I believe Jackson&#39;s `ObjectMapper.convertValue(..)` functions don&#39;t convert via String, and Vert.x is using Jackson for managing JsonObject anyway. \r\n\r\n`JsonObject` just has an underlying map representing the values, accessible via `JsonObject.getMap()`, and a Jackson serializer/deserializer on the public `ObjectMapper` instance in io.vertx.core.json.Json.\r\n\r\nTo switch between `JsonObject` and a data model expressed in Pojos serializable with Jackson, you can  do:\r\n\r\n`JsonObject myVertxMsg = ...\r\nMyPojo pojo = Json.mapper.convertValue ( myVertxMsg.getMap(), MyPojo.class );\r\n`\r\n\r\nI would guess this is more efficient than going via a String (but its just a guess), and I hate the idea of altering the data class just to suit the environment, so it depends on the context - form vs performance.\r\n\r\nTo convert from Pojo to `JsonObject`, convert to a map with Jackson and then use the constructor on `JsonObject`:\r\n\r\n`JsonObject myobj = new JsonObject ( Json.mapper.convertValue ( pojo, Map.class ));\r\n`\r\n\r\n- If you have implied nested JsonObjects or JsonArray objects in your definition, they will get instantiated as Maps and Lists by default. JsonObject will internally re-wrap these when you access fields specifying those types (e.g. with getJsonArray(..).\r\n \r\n- Because JsonObject is freeform and you&#39;re converting to a static type, you may get some unwanted UnrecognizedPropertyException to deal with. It may be useful to create your own ObjectMapper, add the vertx JsonObjectSerializer and JsonArraySerializer, and then make configuration changes to suit (such as `DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES` in Jackson).","title":"Elegant mapping from POJOs to vertx.io&#39;s JsonObject?","body":"<p>I believe Jackson's <code>ObjectMapper.convertValue(..)</code> functions don't convert via String, and Vert.x is using Jackson for managing JsonObject anyway. </p>\n\n<p><code>JsonObject</code> just has an underlying map representing the values, accessible via <code>JsonObject.getMap()</code>, and a Jackson serializer/deserializer on the public <code>ObjectMapper</code> instance in io.vertx.core.json.Json.</p>\n\n<p>To switch between <code>JsonObject</code> and a data model expressed in Pojos serializable with Jackson, you can  do:</p>\n\n<p><code>JsonObject myVertxMsg = ...\nMyPojo pojo = Json.mapper.convertValue ( myVertxMsg.getMap(), MyPojo.class );\n</code></p>\n\n<p>I would guess this is more efficient than going via a String (but its just a guess), and I hate the idea of altering the data class just to suit the environment, so it depends on the context - form vs performance.</p>\n\n<p>To convert from Pojo to <code>JsonObject</code>, convert to a map with Jackson and then use the constructor on <code>JsonObject</code>:</p>\n\n<p><code>JsonObject myobj = new JsonObject ( Json.mapper.convertValue ( pojo, Map.class ));\n</code></p>\n\n<ul>\n<li><p>If you have implied nested JsonObjects or JsonArray objects in your definition, they will get instantiated as Maps and Lists by default. JsonObject will internally re-wrap these when you access fields specifying those types (e.g. with getJsonArray(..).</p></li>\n<li><p>Because JsonObject is freeform and you're converting to a static type, you may get some unwanted UnrecognizedPropertyException to deal with. It may be useful to create your own ObjectMapper, add the vertx JsonObjectSerializer and JsonArraySerializer, and then make configuration changes to suit (such as <code>DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES</code> in Jackson).</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3027512,"reputation":41,"user_id":2567176,"display_name":"fengbugou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483450829,"creation_date":1483443108,"answer_id":41442545,"question_id":32042938,"body_markdown":"Try this:\r\n\r\n    io.vertx.core.json.Json.mapper.convertValue(json.getMap(), cls)","title":"Elegant mapping from POJOs to vertx.io&#39;s JsonObject?","body":"<p>Try this:</p>\n\n<pre><code>io.vertx.core.json.Json.mapper.convertValue(json.getMap(), cls)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1487346946,"creation_date":1486043520,"answer_id":42003953,"question_id":32042938,"body_markdown":"I just submitted a patch to Vert.x that defines two new convenience functions for converting between JsonObject and Java object instances without the inefficiency of going through an intermediate JSON string representation. This will be in version 3.4.\r\n\r\n    // Create a JsonObject from the fields of a Java object.\r\n    // Faster than calling `new JsonObject(Json.encode(obj))`.\r\n    public static JsonObject mapFrom(Object obj)\r\n\r\n    // Instantiate a Java object from a JsonObject.\r\n    // Faster than calling `Json.decodeValue(Json.encode(jsonObject), type)`.\r\n    public &lt;T&gt; T mapTo(Class&lt;T&gt; type)\r\n\r\nInternally this uses `ObjectMapper#convertValue(...)`, see Tim Putnam&#39;s answer for caveats of this approach. The code is [here](https://github.com/eclipse/vert.x/blob/ca84f6cae7e789c833c61be8f2698cbfe29d1b58/src/main/java/io/vertx/core/json/JsonObject.java#L82).","title":"Elegant mapping from POJOs to vertx.io&#39;s JsonObject?","body":"<p>I just submitted a patch to Vert.x that defines two new convenience functions for converting between JsonObject and Java object instances without the inefficiency of going through an intermediate JSON string representation. This will be in version 3.4.</p>\n\n<pre><code>// Create a JsonObject from the fields of a Java object.\n// Faster than calling `new JsonObject(Json.encode(obj))`.\npublic static JsonObject mapFrom(Object obj)\n\n// Instantiate a Java object from a JsonObject.\n// Faster than calling `Json.decodeValue(Json.encode(jsonObject), type)`.\npublic &lt;T&gt; T mapTo(Class&lt;T&gt; type)\n</code></pre>\n\n<p>Internally this uses <code>ObjectMapper#convertValue(...)</code>, see Tim Putnam's answer for caveats of this approach. The code is <a href=\"https://github.com/eclipse/vert.x/blob/ca84f6cae7e789c833c61be8f2698cbfe29d1b58/src/main/java/io/vertx/core/json/JsonObject.java#L82\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":33287,"reputation":2179,"user_id":93074,"accept_rate":57,"display_name":"Daniel Gerson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510949827,"creation_date":1510949827,"answer_id":47358623,"question_id":32042938,"body_markdown":"I think that using Gson as you described is the best possible solution at the current time.\r\n\r\nWhile I agree that if a protocol layer was included in Vert.x it would indeed be first prize, using Gson keeps your server internals pretty organised and is unlikely to be the performance bottleneck.\r\n\r\nWhen and only when this strategy becomes the performance bottleneck have you reached the point to engineer a better solution. Anything before that is premature optimisation.\r\n\r\nMy two cents.","title":"Elegant mapping from POJOs to vertx.io&#39;s JsonObject?","body":"<p>I think that using Gson as you described is the best possible solution at the current time.</p>\n\n<p>While I agree that if a protocol layer was included in Vert.x it would indeed be first prize, using Gson keeps your server internals pretty organised and is unlikely to be the performance bottleneck.</p>\n\n<p>When and only when this strategy becomes the performance bottleneck have you reached the point to engineer a better solution. Anything before that is premature optimisation.</p>\n\n<p>My two cents.</p>\n"},{"tags":[],"owner":{"account_id":3882995,"reputation":1,"user_id":3215066,"display_name":"imaya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686092246,"creation_date":1575038937,"answer_id":59106911,"question_id":32042938,"body_markdown":"You can use the static function `mapFrom`:\r\n\r\n```java\r\nJsonObject.mapFrom(object)\r\n```","title":"Elegant mapping from POJOs to vertx.io&#39;s JsonObject?","body":"<p>You can use the static function <code>mapFrom</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonObject.mapFrom(object)\n</code></pre>\n"}],"owner":{"account_id":163120,"reputation":830,"user_id":385033,"display_name":"grdaneault"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35795,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":42003953,"answer_count":6,"score":29,"last_activity_date":1686092246,"creation_date":1439786695,"question_id":32042938,"body_markdown":"I am currently working on a [vertx.io][1] application and wanted to use the provide mongo api for data storage.  I currently have a rather clunky abstraction on top of the stock JsonObject classes where all `get` and `set` methods are  replaced with things like:\r\n\r\n    this.backingObject.get(KEY_FOR_THIS_PROPERTY);\r\n\r\nThis is all well and good for now, but it won&#39;t scale particularly well.  it also seems dirty, specifically when using nested arrays or objects.  For example, if I want to be able to fill fields only when actual data is known, I have to check if the array exists, and if it doesn&#39;t create it and store it in the object.  Then I can add an element to the list.  For example:\r\n\r\n    if (this.backingObject.getJsonArray(KEY_LIST) == null) {\r\n        this.backingObject.put(KEY_LIST, new JsonArray());\r\n    }\r\n    this.backingObject.getJsonArray(KEY_LIST).add(p.getBackingObject());\r\n\r\nI have thought about potential solutions but don&#39;t particularly like any of them.  Namely, I *could* use Gson or some similar library with annotation support to handle loading the object for the purposes of manipulating the data in my code, and then using the serialize and unserialize function of both Gson and Vertx to convert between the formats `(vertx to load data -&gt; json string -&gt; gson to parse json into pojos -&gt; make changes -&gt; serialize to json string -&gt; parse with vertx and save)` but that&#39;s a really gross and inefficient workflow.  I could also probably come up with some sort of abstract wrapper that extends/implements the vertx json library but passes all the functionality through to gson, but that also seems like a lot of work.\r\n\r\nIs there any good way to achieve more friendly and maintainable serialization using vertx?\r\n\r\n  [1]: http://vertx.io","title":"Elegant mapping from POJOs to vertx.io&#39;s JsonObject?","body":"<p>I am currently working on a <a href=\"http://vertx.io\">vertx.io</a> application and wanted to use the provide mongo api for data storage.  I currently have a rather clunky abstraction on top of the stock JsonObject classes where all <code>get</code> and <code>set</code> methods are  replaced with things like:</p>\n\n<pre><code>this.backingObject.get(KEY_FOR_THIS_PROPERTY);\n</code></pre>\n\n<p>This is all well and good for now, but it won't scale particularly well.  it also seems dirty, specifically when using nested arrays or objects.  For example, if I want to be able to fill fields only when actual data is known, I have to check if the array exists, and if it doesn't create it and store it in the object.  Then I can add an element to the list.  For example:</p>\n\n<pre><code>if (this.backingObject.getJsonArray(KEY_LIST) == null) {\n    this.backingObject.put(KEY_LIST, new JsonArray());\n}\nthis.backingObject.getJsonArray(KEY_LIST).add(p.getBackingObject());\n</code></pre>\n\n<p>I have thought about potential solutions but don't particularly like any of them.  Namely, I <em>could</em> use Gson or some similar library with annotation support to handle loading the object for the purposes of manipulating the data in my code, and then using the serialize and unserialize function of both Gson and Vertx to convert between the formats <code>(vertx to load data -&gt; json string -&gt; gson to parse json into pojos -&gt; make changes -&gt; serialize to json string -&gt; parse with vertx and save)</code> but that's a really gross and inefficient workflow.  I could also probably come up with some sort of abstract wrapper that extends/implements the vertx json library but passes all the functionality through to gson, but that also seems like a lot of work.</p>\n\n<p>Is there any good way to achieve more friendly and maintainable serialization using vertx?</p>\n"},{"tags":["java","junit","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686092244,"creation_date":1686092244,"answer_id":76418937,"question_id":76412661,"body_markdown":"You can use [kafka-junit][1] to spin up an embedded Kafka topic that&#39;s useful for testing. The dependency looks like:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.mguenther.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nYou&#39;ll want to set the version to something appropriate given your version of Flink.\r\n\r\nNote that you didn&#39;t mention your Flink version (which is always good info to include in a question), but `FlinkKafkaProducer` has been deprecated for a while. You should be using [KafkaSink][2].\r\n\r\n\r\n  [1]: https://github.com/mguenther/kafka-junit\r\n  [2]: https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kafka/#kafka-sink","title":"Is it possible to mock a kafka environment and run Flink junit locally for testing purposes?","body":"<p>You can use <a href=\"https://github.com/mguenther/kafka-junit\" rel=\"nofollow noreferrer\">kafka-junit</a> to spin up an embedded Kafka topic that's useful for testing. The dependency looks like:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;net.mguenther.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-junit&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>You'll want to set the version to something appropriate given your version of Flink.</p>\n<p>Note that you didn't mention your Flink version (which is always good info to include in a question), but <code>FlinkKafkaProducer</code> has been deprecated for a while. You should be using <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kafka/#kafka-sink\" rel=\"nofollow noreferrer\">KafkaSink</a>.</p>\n"}],"owner":{"account_id":28189748,"reputation":1,"user_id":21545314,"display_name":"Anand SL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686573872,"answer_count":1,"score":0,"last_activity_date":1686092244,"creation_date":1686039337,"question_id":76412661,"body_markdown":"Could we test the below flink job? If so how can we do it?\r\n\r\n    @Component\r\n    \r\n    public class RedisController {\r\n    \r\n        @Value(&quot;${flink.consumer.topic.name}&quot;)\r\n    \r\n        private String flinkConsumerTopic;\r\n    \r\n        /**\r\n    \r\n         * Method: run()\r\n    \r\n         * Description: Entry point for running Flink job that consumes messages from Kafka,\r\n    \r\n         * enriches them with patient details retrieved from Redis, and merges them together.\r\n    \r\n         *\r\n    \r\n         * @throws Exception if Flink job fails to execute\r\n    \r\n         */\r\n    \r\n        public void run() throws Exception {\r\n    \r\n            // Set up the execution environment\r\n    \r\n            StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n    \r\n            // Set the Kafka properties\r\n    \r\n            Properties properties = new Properties();\r\n    \r\n            properties.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n    \r\n            // Create a Kafka consumer\r\n    \r\n            FlinkKafkaConsumer&lt;ObjectNode&gt; consumer = new FlinkKafkaConsumer&lt;&gt;(flinkConsumerTopic, new JSONKeyValueDeserializationSchema(false), properties);\r\n    \r\n    // Create a data stream from the Kafka consumer\r\n    \r\n            DataStream&lt;ObjectNode&gt; stream = env.addSource(consumer);\r\n    \r\n    // Define the sliding window with a window size of 10 seconds and slide interval of 5 seconds\r\n    \r\n            DataStream&lt;String&gt; windowedStream = stream\r\n    \r\n                    .windowAll(SlidingProcessingTimeWindows.of(Time.seconds(10), Time.seconds(1)))\r\n    \r\n                    .apply(new RichAllWindowFunction&lt;ObjectNode, String, TimeWindow&gt;() {\r\n    \r\n                        private Socket socket;\r\n    \r\n                        private OutputStream outputStream;\r\n    \r\n                        private InputStream inputStream;\r\n    \r\n                        @Override\r\n    \r\n                        public void open(Configuration parameters) throws Exception {\r\n    \r\n                            String serverAddress = &quot;localhost&quot;;\r\n    \r\n                            int serverPort = 8888;\r\n    \r\n                            // Create a socket and connect to the server\r\n    \r\n                            socket = new Socket(serverAddress, serverPort);\r\n    \r\n                            outputStream = socket.getOutputStream();\r\n    \r\n                            inputStream = socket.getInputStream();\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n    \r\n                        public void apply(TimeWindow timeWindow, Iterable&lt;ObjectNode&gt; input, Collector&lt;String&gt; out) throws Exception {\r\n    \r\n                            // Serialize the input data to a JSON string\r\n    \r\n                            String inputJson = input.toString();\r\n    \r\n                            byte[] inputBytes = inputJson.getBytes();\r\n    \r\n                            // Send the input data to the server\r\n    \r\n                            outputStream.write(inputBytes);\r\n    \r\n                            outputStream.flush();\r\n    \r\n                            // Measure the start time\r\n    \r\n                            long startTime = System.currentTimeMillis();\r\n    \r\n                            // Read the response from the server\r\n    \r\n                            byte[] responseBytes = new byte[15034];\r\n    \r\n                            String response = &quot;&quot;;\r\n    \r\n                            int bytesRead = inputStream.read(responseBytes);\r\n    \r\n                            if (bytesRead != -1) {\r\n    \r\n                                response = response + new String(responseBytes, 0, bytesRead);\r\n    \r\n                                System.out.println(&quot;Response from server: &quot; + response);\r\n    \r\n                            }\r\n    \r\n                            // Measure the end time\r\n    \r\n                            long endTime = System.currentTimeMillis();\r\n    \r\n                            // Calculate the time taken for the response\r\n    \r\n                            long responseTime = endTime - startTime;\r\n    \r\n                            System.out.println(&quot;Response time: &quot; + responseTime + &quot; ms&quot;);\r\n    \r\n                            out.collect(response);\r\n    \r\n                        }\r\n    \r\n                    });\r\n    \r\n            // Create a Kafka producer\r\n    \r\n            FlinkKafkaProducer&lt;String&gt; kafkaProducer = new FlinkKafkaProducer&lt;&gt;(\r\n    \r\n                    &quot;output_topic&quot;, new SimpleStringSchema(), properties);\r\n    \r\n            // Send the windowed stream to the Kafka producer\r\n    \r\n            windowedStream.addSink(kafkaProducer);\r\n    \r\n            // Execute the job\r\n    \r\n            env.execute(&quot;Tumbling Window Example&quot;);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nI need to run the junit for this flink. The dependency versions are not working properly.","title":"Is it possible to mock a kafka environment and run Flink junit locally for testing purposes?","body":"<p>Could we test the below flink job? If so how can we do it?</p>\n<pre><code>@Component\n\npublic class RedisController {\n\n    @Value(&quot;${flink.consumer.topic.name}&quot;)\n\n    private String flinkConsumerTopic;\n\n    /**\n\n     * Method: run()\n\n     * Description: Entry point for running Flink job that consumes messages from Kafka,\n\n     * enriches them with patient details retrieved from Redis, and merges them together.\n\n     *\n\n     * @throws Exception if Flink job fails to execute\n\n     */\n\n    public void run() throws Exception {\n\n        // Set up the execution environment\n\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        // Set the Kafka properties\n\n        Properties properties = new Properties();\n\n        properties.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n\n        // Create a Kafka consumer\n\n        FlinkKafkaConsumer&lt;ObjectNode&gt; consumer = new FlinkKafkaConsumer&lt;&gt;(flinkConsumerTopic, new JSONKeyValueDeserializationSchema(false), properties);\n\n// Create a data stream from the Kafka consumer\n\n        DataStream&lt;ObjectNode&gt; stream = env.addSource(consumer);\n\n// Define the sliding window with a window size of 10 seconds and slide interval of 5 seconds\n\n        DataStream&lt;String&gt; windowedStream = stream\n\n                .windowAll(SlidingProcessingTimeWindows.of(Time.seconds(10), Time.seconds(1)))\n\n                .apply(new RichAllWindowFunction&lt;ObjectNode, String, TimeWindow&gt;() {\n\n                    private Socket socket;\n\n                    private OutputStream outputStream;\n\n                    private InputStream inputStream;\n\n                    @Override\n\n                    public void open(Configuration parameters) throws Exception {\n\n                        String serverAddress = &quot;localhost&quot;;\n\n                        int serverPort = 8888;\n\n                        // Create a socket and connect to the server\n\n                        socket = new Socket(serverAddress, serverPort);\n\n                        outputStream = socket.getOutputStream();\n\n                        inputStream = socket.getInputStream();\n\n                    }\n\n                    @Override\n\n                    public void apply(TimeWindow timeWindow, Iterable&lt;ObjectNode&gt; input, Collector&lt;String&gt; out) throws Exception {\n\n                        // Serialize the input data to a JSON string\n\n                        String inputJson = input.toString();\n\n                        byte[] inputBytes = inputJson.getBytes();\n\n                        // Send the input data to the server\n\n                        outputStream.write(inputBytes);\n\n                        outputStream.flush();\n\n                        // Measure the start time\n\n                        long startTime = System.currentTimeMillis();\n\n                        // Read the response from the server\n\n                        byte[] responseBytes = new byte[15034];\n\n                        String response = &quot;&quot;;\n\n                        int bytesRead = inputStream.read(responseBytes);\n\n                        if (bytesRead != -1) {\n\n                            response = response + new String(responseBytes, 0, bytesRead);\n\n                            System.out.println(&quot;Response from server: &quot; + response);\n\n                        }\n\n                        // Measure the end time\n\n                        long endTime = System.currentTimeMillis();\n\n                        // Calculate the time taken for the response\n\n                        long responseTime = endTime - startTime;\n\n                        System.out.println(&quot;Response time: &quot; + responseTime + &quot; ms&quot;);\n\n                        out.collect(response);\n\n                    }\n\n                });\n\n        // Create a Kafka producer\n\n        FlinkKafkaProducer&lt;String&gt; kafkaProducer = new FlinkKafkaProducer&lt;&gt;(\n\n                &quot;output_topic&quot;, new SimpleStringSchema(), properties);\n\n        // Send the windowed stream to the Kafka producer\n\n        windowedStream.addSink(kafkaProducer);\n\n        // Execute the job\n\n        env.execute(&quot;Tumbling Window Example&quot;);\n\n    }\n\n}\n</code></pre>\n<p>I need to run the junit for this flink. The dependency versions are not working properly.</p>\n"},{"tags":["java","stream","pipe"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685629318,"post_id":76382737,"comment_id":134689649,"body_markdown":"You close the input stream in `Zips.unzip` *and* then two lines after your `join()` call..?","body":"You close the input stream in <code>Zips.unzip</code> <i>and</i> then two lines after your <code>join()</code> call..?"},{"owner":{"account_id":15640303,"reputation":3,"user_id":11283853,"display_name":"arweed"},"score":0,"creation_date":1685631408,"post_id":76382737,"comment_id":134690267,"body_markdown":"Yes in this instance I do. When I don&#39;t close the stream in the unzip method I got another exception sometimes: IOException: Read end dead. So I think there is something fundamentally wrong with my code.","body":"Yes in this instance I do. When I don&#39;t close the stream in the unzip method I got another exception sometimes: IOException: Read end dead. So I think there is something fundamentally wrong with my code."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685631859,"post_id":76382737,"comment_id":134690386,"body_markdown":"Well, needless to say, you can&#39;t close it twice ;)","body":"Well, needless to say, you can&#39;t close it twice ;)"},{"owner":{"account_id":15640303,"reputation":3,"user_id":11283853,"display_name":"arweed"},"score":0,"creation_date":1685633120,"post_id":76382737,"comment_id":134690732,"body_markdown":"For sure, but the exception stacktrace indicates that the exception occurs earlier during the readBodyData and not at the end where the piped streams are closed.","body":"For sure, but the exception stacktrace indicates that the exception occurs earlier during the readBodyData and not at the end where the piped streams are closed."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685633350,"post_id":76382737,"comment_id":134690799,"body_markdown":"*but the exception stacktrace indicates that the exception occurs earlier during the readBodyData* Yes, but the same potential problem is present there too as the unzipThread could have already closed the stream. Maybe `readBodyData` needs to read the same stream - I don&#39;t know","body":"<i>but the exception stacktrace indicates that the exception occurs earlier during the readBodyData</i> Yes, but the same potential problem is present there too as the unzipThread could have already closed the stream. Maybe <code>readBodyData</code> needs to read the same stream - I don&#39;t know"},{"owner":{"account_id":14647990,"reputation":321,"user_id":11429968,"display_name":"iderkhangai"},"score":0,"creation_date":1686047057,"post_id":76382737,"comment_id":134742446,"body_markdown":"did you find a solution for that?\nin my case, I&#39;m zipping if result set is huge or writing it directly to the .csv file\nI&#39;m getting this error in the spring app, chrome fails to say disk full!","body":"did you find a solution for that? in my case, I&#39;m zipping if result set is huge or writing it directly to the .csv file I&#39;m getting this error in the spring app, chrome fails to say disk full!"}],"answers":[{"tags":[],"owner":{"account_id":15640303,"reputation":3,"user_id":11283853,"display_name":"arweed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686091992,"creation_date":1686032650,"answer_id":76411932,"question_id":76382737,"body_markdown":"The comments from g00se kept me going. The `readBodyData` method touches two streams, the stream from the http request and the `PipedOutputStream`. Both streams are not closed by this method, internally it uses \r\n``` public long transferTo(OutputStream out) throws IOException ```\r\nwhich doesn&#39;t close either stream.  \r\nAfter moving this part into another thread, i.e. out of the controlling thread which created the pipes and started the data shuffeling, my errors disappeared.\r\n\r\nThe solution consists now of three independent threads. The first one is the controlling thread which just creates the pipe now. The second thread handles the unzipping like before. The third thread is actually new and handles the copy of the data. The streams are closed inside of the threads. Please have a look at the following code for clarification.\r\n\r\n# Controlling thread\r\n~~~\r\nprivate void processPdfData(MultipartStream multipartStream) throws IOException, InterruptedException {\r\n    String headers = multipartStream.readHeaders();\r\n    if (!headers.contains(&quot;name=\\&quot;pdf\\&quot;&quot;)) {\r\n        logger.warn(&quot;{} - Header with name pdf not found&quot;, taskId);\r\n        throw new IllegalStateException();\r\n    }\r\n\r\n    final PipedInputStream pipedInputStream = new PipedInputStream();\r\n    final PipedOutputStream pipedOutputStream = new PipedOutputStream();\r\n    pipedInputStream.connect(pipedOutputStream);\r\n\r\n    UnzipThread unzipThread = new UnzipThread(pipedInputStream, targetPath);\r\n    unzipThread.setUncaughtExceptionHandler((thread, throwable) -&gt; {\r\n        logger.error(format(&quot;%s - Uncaught exception while unzipping&quot;, taskId), throwable);\r\n        server.stop(0);\r\n        stopServer.set(true);\r\n    });\r\n\r\n    ZipReaderThread zipReaderThread = new ZipReaderThread(multipartStream, pipedOutputStream);\r\n    zipReaderThread.setUncaughtExceptionHandler((thread, throwable) -&gt; {\r\n        logger.error(format(&quot;%s - Uncaught exception while transfering bytes to unzip thread&quot;, taskId), throwable);\r\n        server.stop(0);\r\n        stopServer.set(true);\r\n    });\r\n\r\n    unzipThread.start();\r\n    zipReaderThread.start();\r\n    unzipThread.join();\r\n}\r\n~~~\r\n\r\n#Unzip thread\r\n~~~\r\npackage com.example.dita;\r\n\r\nimport com.example.Zips;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.file.Path;\r\n\r\npublic class UnzipThread extends Thread {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(UnzipThread.class);\r\n\r\n    private final InputStream stream;\r\n\r\n    private final Path targetDirectory;\r\n\r\n    public UnzipThread(InputStream stream, Path targetDirectory) {\r\n        this.stream = stream;\r\n        this.targetDirectory = targetDirectory;\r\n        this.setName(&quot;UnzipThread&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            Zips.unzip(stream, targetDirectory, true);\r\n        } catch (IOException e) {\r\n            logger.error(&quot;Error during unzip&quot;, e);\r\n            throw new ZipException(e);\r\n        }\r\n    }\r\n\r\n}\r\n~~~\r\n\r\n#Data copy thread\r\n~~~\r\npackage com.example.dita;\r\n\r\nimport com.example.dita.upload.MultipartStream;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\n\r\npublic class ZipReaderThread extends Thread {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(ZipReaderThread.class);\r\n\r\n    private final MultipartStream multipartStream;\r\n    private final OutputStream stream;\r\n\r\n    public ZipReaderThread(MultipartStream multipartStream, OutputStream stream) {\r\n        this.multipartStream = multipartStream;\r\n        this.stream = stream;\r\n        this.setName(&quot;ZipReaderThread&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            multipartStream.readBodyData(stream);\r\n            stream.close();\r\n        } catch (IOException e) {\r\n            logger.error(&quot;Error during shuffling bytes into unzipper&quot;, e);\r\n            throw new ZipException(e);\r\n        }\r\n    }\r\n\r\n}\r\n~~~\r\n\r\nUnfortunatly I cannot expain why it doesn&#39;t work with just two threads. From what I understood from the Java docs it should have worked. Anyway it seems to work now and I hope this answer helps others too.","title":"Why is the piped input stream closed?","body":"<p>The comments from g00se kept me going. The <code>readBodyData</code> method touches two streams, the stream from the http request and the <code>PipedOutputStream</code>. Both streams are not closed by this method, internally it uses\n<code>public long transferTo(OutputStream out) throws IOException</code>\nwhich doesn't close either stream.<br />\nAfter moving this part into another thread, i.e. out of the controlling thread which created the pipes and started the data shuffeling, my errors disappeared.</p>\n<p>The solution consists now of three independent threads. The first one is the controlling thread which just creates the pipe now. The second thread handles the unzipping like before. The third thread is actually new and handles the copy of the data. The streams are closed inside of the threads. Please have a look at the following code for clarification.</p>\n<h1>Controlling thread</h1>\n<pre><code>private void processPdfData(MultipartStream multipartStream) throws IOException, InterruptedException {\n    String headers = multipartStream.readHeaders();\n    if (!headers.contains(&quot;name=\\&quot;pdf\\&quot;&quot;)) {\n        logger.warn(&quot;{} - Header with name pdf not found&quot;, taskId);\n        throw new IllegalStateException();\n    }\n\n    final PipedInputStream pipedInputStream = new PipedInputStream();\n    final PipedOutputStream pipedOutputStream = new PipedOutputStream();\n    pipedInputStream.connect(pipedOutputStream);\n\n    UnzipThread unzipThread = new UnzipThread(pipedInputStream, targetPath);\n    unzipThread.setUncaughtExceptionHandler((thread, throwable) -&gt; {\n        logger.error(format(&quot;%s - Uncaught exception while unzipping&quot;, taskId), throwable);\n        server.stop(0);\n        stopServer.set(true);\n    });\n\n    ZipReaderThread zipReaderThread = new ZipReaderThread(multipartStream, pipedOutputStream);\n    zipReaderThread.setUncaughtExceptionHandler((thread, throwable) -&gt; {\n        logger.error(format(&quot;%s - Uncaught exception while transfering bytes to unzip thread&quot;, taskId), throwable);\n        server.stop(0);\n        stopServer.set(true);\n    });\n\n    unzipThread.start();\n    zipReaderThread.start();\n    unzipThread.join();\n}\n</code></pre>\n<p>#Unzip thread</p>\n<pre><code>package com.example.dita;\n\nimport com.example.Zips;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Path;\n\npublic class UnzipThread extends Thread {\n\n    private static final Logger logger = LoggerFactory.getLogger(UnzipThread.class);\n\n    private final InputStream stream;\n\n    private final Path targetDirectory;\n\n    public UnzipThread(InputStream stream, Path targetDirectory) {\n        this.stream = stream;\n        this.targetDirectory = targetDirectory;\n        this.setName(&quot;UnzipThread&quot;);\n    }\n\n    @Override\n    public void run() {\n        try {\n            Zips.unzip(stream, targetDirectory, true);\n        } catch (IOException e) {\n            logger.error(&quot;Error during unzip&quot;, e);\n            throw new ZipException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>#Data copy thread</p>\n<pre><code>package com.example.dita;\n\nimport com.example.dita.upload.MultipartStream;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\n\npublic class ZipReaderThread extends Thread {\n\n    private static final Logger logger = LoggerFactory.getLogger(ZipReaderThread.class);\n\n    private final MultipartStream multipartStream;\n    private final OutputStream stream;\n\n    public ZipReaderThread(MultipartStream multipartStream, OutputStream stream) {\n        this.multipartStream = multipartStream;\n        this.stream = stream;\n        this.setName(&quot;ZipReaderThread&quot;);\n    }\n\n    @Override\n    public void run() {\n        try {\n            multipartStream.readBodyData(stream);\n            stream.close();\n        } catch (IOException e) {\n            logger.error(&quot;Error during shuffling bytes into unzipper&quot;, e);\n            throw new ZipException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>Unfortunatly I cannot expain why it doesn't work with just two threads. From what I understood from the Java docs it should have worked. Anyway it seems to work now and I hope this answer helps others too.</p>\n"}],"owner":{"account_id":15640303,"reputation":3,"user_id":11283853,"display_name":"arweed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76411932,"answer_count":1,"score":0,"last_activity_date":1686091992,"creation_date":1685628187,"question_id":76382737,"body_markdown":"I run a small Java 11 http server which processes multipart stream requests containing zipped data. The data is read and unzipped with piped streams. Sometimes `IOException: Pipe closed` occur, however the unzipped files are ok. I am not able to spot the flaw in my code. Every help is appreciated.\r\n\r\nThe exception stacktrace\r\n\r\n```\r\n[java] 27016 [HTTP-Dispatcher] ERROR c.example.AhFormatter - e9137279-7c15-41a3-9783-eb029a975767 - Error while processing finish request \r\n[java] java.io.IOException: Pipe closed\r\n[java] \tat java.base/java.io.PipedInputStream.checkStateForReceive(PipedInputStream.java:260)\r\n[java] \tat java.base/java.io.PipedInputStream.receive(PipedInputStream.java:226)\r\n[java] \tat java.base/java.io.PipedOutputStream.write(PipedOutputStream.java:149)\r\n[java] \tat java.base/java.io.InputStream.transferTo(InputStream.java:705)\r\n[java] \tat com.example.upload.MultipartStream.readBodyData(MultipartStream.java:469)\r\n[java] \tat com.example.AhFormatter.processPdfData(AhFormatter.java:291)\r\n```\r\n\r\n\r\nFollowing method processes the multipart stream:\r\n\r\n```\r\nprivate void processPdfData(MultipartStream multipartStream) throws IOException, InterruptedException {\r\n\tString headers = multipartStream.readHeaders();\r\n\tif (!headers.contains(&quot;name=\\&quot;pdf\\&quot;&quot;)) {\r\n\t\tlogger.warn(&quot;{} - Header with name pdf not found&quot;, taskId);\r\n\t\tthrow new IllegalStateException();\r\n\t}\r\n\r\n\tPipedInputStream pipedInputStream = new PipedInputStream();\r\n\tPipedOutputStream pipedOutputStream = new PipedOutputStream();\r\n\tpipedInputStream.connect(pipedOutputStream);\r\n\r\n\tThread unzipThread = new Thread(() -&gt; {\r\n\t\ttry {\r\n\t\t\tZips.unzip(pipedInputStream, targetPath, true);\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.error(format(&quot;%s - Error during unzip&quot;, taskId), e);\r\n\t\t\tthrow new ZipException(e);\r\n\t\t}\r\n\t}, &quot;PipedZipStream&quot;);\r\n\t\r\n\tunzipThread.setName(&quot;UnzipThread&quot;);\r\n\tunzipThread.setUncaughtExceptionHandler((thread, throwable) -&gt; {\r\n\t\tlogger.error(format(&quot;%s - Uncaught exception while unzipping&quot;, taskId), throwable);\r\n\t\tserver.stop(0);\r\n\t\tstopServer.set(true);\r\n\t});\r\n\t\r\n\tunzipThread.start();\r\n\tmultipartStream.readBodyData(pipedOutputStream);\r\n\tunzipThread.join();\r\n\r\n\tpipedOutputStream.close();\r\n\tpipedInputStream.close();\r\n}\r\n```\r\nAnd the unzip method:\r\n\r\n```\r\n    public static void unzip(InputStream zip, Path targetDirectory, boolean close) throws IOException {\r\n        ZipInputStream zipStream = new ZipInputStream(zip);\r\n        try {\r\n            ZipEntry zipEntry;\r\n            while ((zipEntry = zipStream.getNextEntry()) != null) {\r\n                File targetFile = guardAgainstZipSlip(targetDirectory, zipEntry);\r\n\r\n                if (zipEntry.isDirectory()) {\r\n                    if (!targetFile.isDirectory() &amp;&amp; !targetFile.mkdirs()) {\r\n                        throw new IOException(&quot;Failed to create directory &quot; + targetFile);\r\n                    }\r\n                    continue;\r\n                }\r\n\r\n                // fix for Windows-created archives\r\n                File parent = targetFile.getParentFile();\r\n                if (!parent.isDirectory() &amp;&amp; !parent.mkdirs()) {\r\n                    throw new IOException(&quot;Failed to create directory &quot; + parent);\r\n                }\r\n\r\n                copy(zipStream, targetFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n            }\r\n        } finally {\r\n            if (close) {\r\n                zipStream.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    private static File guardAgainstZipSlip(Path destinationDir, ZipEntry zipEntry) throws IOException {\r\n        File targetFile = new File(destinationDir.toFile(), zipEntry.getName());\r\n        if (!targetFile.getCanonicalPath().startsWith(destinationDir.toFile().getCanonicalPath() + File.separator)) {\r\n            throw new IOException(&quot;Entry is outside of the target dir: &quot; + zipEntry.getName());\r\n        }\r\n        return targetFile;\r\n    }\r\n```\r\n\r\nThe multipartstream class is from Apache. The class itself is included because I didn&#39;t want to pull in a whole library because of one class.\r\n\r\nMy understandig is that the unzip thread stays open until the ZipStream has no entries left. Then it will shutdown. This happens when the multipartstream wrote the last bytes of the zip into the piped output stream.\r\n\r\nWhen I don&#39;t close the streams explicitly I don&#39;t see this exception, at least all my tests so far are good. But what should be wrong with closing the exceptions?","title":"Why is the piped input stream closed?","body":"<p>I run a small Java 11 http server which processes multipart stream requests containing zipped data. The data is read and unzipped with piped streams. Sometimes <code>IOException: Pipe closed</code> occur, however the unzipped files are ok. I am not able to spot the flaw in my code. Every help is appreciated.</p>\n<p>The exception stacktrace</p>\n<pre><code>[java] 27016 [HTTP-Dispatcher] ERROR c.example.AhFormatter - e9137279-7c15-41a3-9783-eb029a975767 - Error while processing finish request \n[java] java.io.IOException: Pipe closed\n[java]  at java.base/java.io.PipedInputStream.checkStateForReceive(PipedInputStream.java:260)\n[java]  at java.base/java.io.PipedInputStream.receive(PipedInputStream.java:226)\n[java]  at java.base/java.io.PipedOutputStream.write(PipedOutputStream.java:149)\n[java]  at java.base/java.io.InputStream.transferTo(InputStream.java:705)\n[java]  at com.example.upload.MultipartStream.readBodyData(MultipartStream.java:469)\n[java]  at com.example.AhFormatter.processPdfData(AhFormatter.java:291)\n</code></pre>\n<p>Following method processes the multipart stream:</p>\n<pre><code>private void processPdfData(MultipartStream multipartStream) throws IOException, InterruptedException {\n    String headers = multipartStream.readHeaders();\n    if (!headers.contains(&quot;name=\\&quot;pdf\\&quot;&quot;)) {\n        logger.warn(&quot;{} - Header with name pdf not found&quot;, taskId);\n        throw new IllegalStateException();\n    }\n\n    PipedInputStream pipedInputStream = new PipedInputStream();\n    PipedOutputStream pipedOutputStream = new PipedOutputStream();\n    pipedInputStream.connect(pipedOutputStream);\n\n    Thread unzipThread = new Thread(() -&gt; {\n        try {\n            Zips.unzip(pipedInputStream, targetPath, true);\n        } catch (IOException e) {\n            logger.error(format(&quot;%s - Error during unzip&quot;, taskId), e);\n            throw new ZipException(e);\n        }\n    }, &quot;PipedZipStream&quot;);\n    \n    unzipThread.setName(&quot;UnzipThread&quot;);\n    unzipThread.setUncaughtExceptionHandler((thread, throwable) -&gt; {\n        logger.error(format(&quot;%s - Uncaught exception while unzipping&quot;, taskId), throwable);\n        server.stop(0);\n        stopServer.set(true);\n    });\n    \n    unzipThread.start();\n    multipartStream.readBodyData(pipedOutputStream);\n    unzipThread.join();\n\n    pipedOutputStream.close();\n    pipedInputStream.close();\n}\n</code></pre>\n<p>And the unzip method:</p>\n<pre><code>    public static void unzip(InputStream zip, Path targetDirectory, boolean close) throws IOException {\n        ZipInputStream zipStream = new ZipInputStream(zip);\n        try {\n            ZipEntry zipEntry;\n            while ((zipEntry = zipStream.getNextEntry()) != null) {\n                File targetFile = guardAgainstZipSlip(targetDirectory, zipEntry);\n\n                if (zipEntry.isDirectory()) {\n                    if (!targetFile.isDirectory() &amp;&amp; !targetFile.mkdirs()) {\n                        throw new IOException(&quot;Failed to create directory &quot; + targetFile);\n                    }\n                    continue;\n                }\n\n                // fix for Windows-created archives\n                File parent = targetFile.getParentFile();\n                if (!parent.isDirectory() &amp;&amp; !parent.mkdirs()) {\n                    throw new IOException(&quot;Failed to create directory &quot; + parent);\n                }\n\n                copy(zipStream, targetFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\n            }\n        } finally {\n            if (close) {\n                zipStream.close();\n            }\n        }\n    }\n\n    private static File guardAgainstZipSlip(Path destinationDir, ZipEntry zipEntry) throws IOException {\n        File targetFile = new File(destinationDir.toFile(), zipEntry.getName());\n        if (!targetFile.getCanonicalPath().startsWith(destinationDir.toFile().getCanonicalPath() + File.separator)) {\n            throw new IOException(&quot;Entry is outside of the target dir: &quot; + zipEntry.getName());\n        }\n        return targetFile;\n    }\n</code></pre>\n<p>The multipartstream class is from Apache. The class itself is included because I didn't want to pull in a whole library because of one class.</p>\n<p>My understandig is that the unzip thread stays open until the ZipStream has no entries left. Then it will shutdown. This happens when the multipartstream wrote the last bytes of the zip into the piped output stream.</p>\n<p>When I don't close the streams explicitly I don't see this exception, at least all my tests so far are good. But what should be wrong with closing the exceptions?</p>\n"},{"tags":["java","oop","user-interface"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1686092112,"post_id":76418912,"comment_id":134751193,"body_markdown":"You either need to return the value to the caller (possibly via a dialog) or use some kind of observer/delegate/listener pattern which can be used to notify interested parties that some value has been changed","body":"You either need to return the value to the caller (possibly via a dialog) or use some kind of observer/delegate/listener pattern which can be used to notify interested parties that some value has been changed"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1686104445,"post_id":76418912,"comment_id":134752169,"body_markdown":"It might help us understand the problem better if you include in your question a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"It might help us understand the problem better if you include in your question a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686134547,"post_id":76418912,"comment_id":134756529,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28752940,"reputation":1,"user_id":22020583,"display_name":"S3mi_Ko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686091708,"creation_date":1686091708,"question_id":76418912,"body_markdown":"I have a program where a user is supposed to enter in a subject, and whatever event they add within an Events table will also have that specific subject within one of its values. The subject is determined through a previous page that asks what type of subject the events are being made under. However, I cannot extend the class I want to use this variable in as it already extends to java.swing. How do I make it so that this variable can be used anywhere else in other classes without extending?\r\n\r\nI had a pretty bad comp sci teacher in my first year of comp sci so OOP fundamentals don&#39;t come easily to me, so sorry if this is a dumb question &gt;.&lt;!","title":"How to reference a variable from a jFrame textfield in multiple other classes without extending","body":"<p>I have a program where a user is supposed to enter in a subject, and whatever event they add within an Events table will also have that specific subject within one of its values. The subject is determined through a previous page that asks what type of subject the events are being made under. However, I cannot extend the class I want to use this variable in as it already extends to java.swing. How do I make it so that this variable can be used anywhere else in other classes without extending?</p>\n<p>I had a pretty bad comp sci teacher in my first year of comp sci so OOP fundamentals don't come easily to me, so sorry if this is a dumb question &gt;.&lt;!</p>\n"},{"tags":["java","cassandra"],"owner":{"account_id":24256934,"reputation":47,"user_id":18207142,"display_name":"Cris Manrique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686091569,"creation_date":1686091569,"question_id":76418901,"body_markdown":"I am currently extracting a large number of records from a table, filtering out those records based on a value that is not a key, and then writing the records out to a file.\r\n\r\nI need to be able to validate from within my code that the output file has all the extracted filtered out values. However, since the value used to filter out the records is not a key, I can&#39;t run a ```count(*)``` query and use that number for validation. That might not be the best way anyways, but I can&#39;t think of any other ways to do it.  ","title":"How to evaluate whether or not I&#39;ve extracted all relevant records from a table in cassandra?","body":"<p>I am currently extracting a large number of records from a table, filtering out those records based on a value that is not a key, and then writing the records out to a file.</p>\n<p>I need to be able to validate from within my code that the output file has all the extracted filtered out values. However, since the value used to filter out the records is not a key, I can't run a <code>count(*)</code> query and use that number for validation. That might not be the best way anyways, but I can't think of any other ways to do it.</p>\n"},{"tags":["java","ntlm","proxy-server","ntlm-authentication"],"owner":{"account_id":21344635,"reputation":87,"user_id":15714815,"display_name":"Koret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686091288,"creation_date":1686091288,"question_id":76418890,"body_markdown":"I want to know the parameter to use to connect to Webservice via internal proxy service which has NTLM Authentication.\r\nInitially I Was able to connect to external web service via internal proxy using java parameters like \r\n\r\n    -Dhttp.proxyPort= -DHttp.proxyUser= -Dhttp.proxyHost= -Dhttp.proxyPassword= -Djava.net.useSystemProxies=true\r\n\r\nBut now they enabled the NTLM Auth on internal Proxy server , so my request to external Web service via proxy is failing.\r\nI tried adding extra parameter like `-Dhttp.auth.ntlm.domain=` but its not working.\r\n\r\nIs there any other parameter I need to pass so that I Can connect to external webservice via NTLM proxy server ? or Any additional code I have to write in java ?\r\n\r\n\r\n","title":"Connecting to web service via Proxy server which has NTLM","body":"<p>I want to know the parameter to use to connect to Webservice via internal proxy service which has NTLM Authentication.\nInitially I Was able to connect to external web service via internal proxy using java parameters like</p>\n<pre><code>-Dhttp.proxyPort= -DHttp.proxyUser= -Dhttp.proxyHost= -Dhttp.proxyPassword= -Djava.net.useSystemProxies=true\n</code></pre>\n<p>But now they enabled the NTLM Auth on internal Proxy server , so my request to external Web service via proxy is failing.\nI tried adding extra parameter like <code>-Dhttp.auth.ntlm.domain=</code> but its not working.</p>\n<p>Is there any other parameter I need to pass so that I Can connect to external webservice via NTLM proxy server ? or Any additional code I have to write in java ?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1686091317,"post_id":76418868,"comment_id":134751116,"body_markdown":"please, could you give more details? what do you mean with install? are you running a jar from your local? running in a CI/CD pipeline through some tool like jenkins? deploying in a remote server to be executed with some frequency? add details about how the project is being built (such as using a build like maven), the commands used to execute the code, error messages returned, etc. If it is possible provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"please, could you give more details? what do you mean with install? are you running a jar from your local? running in a CI/CD pipeline through some tool like jenkins? deploying in a remote server to be executed with some frequency? add details about how the project is being built (such as using a build like maven), the commands used to execute the code, error messages returned, etc. If it is possible provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":28768209,"reputation":1,"user_id":22032617,"display_name":"Ziad Abdelalim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686090884,"creation_date":1686090884,"question_id":76418868,"body_markdown":"I tried updating my chrome driver and selenium but cant locate driver anymore\r\n\r\nI used to code on selenium webdriver however i didnt update it for about a year , when i tried to access the projects again the webdrivers and selenium were outdated. I did install the newest versions of chrome drivers (same as the chrome version im having) and installed the newest selenium webdriver jars. but everytime i tried to run it i kept getting this error msg \r\n&quot;&quot;Error: Unable to initialize main class test.test.nagwa\r\nCaused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver&quot;&quot;\r\nafter searching i figured its a problem with selenium not being able to locate the chrome driver , I am 100% sure that the path chromedriver.exe is correct and i reinstalled eclipse ide and still nth ","title":"Chrome web driver not found after clean installation","body":"<p>I tried updating my chrome driver and selenium but cant locate driver anymore</p>\n<p>I used to code on selenium webdriver however i didnt update it for about a year , when i tried to access the projects again the webdrivers and selenium were outdated. I did install the newest versions of chrome drivers (same as the chrome version im having) and installed the newest selenium webdriver jars. but everytime i tried to run it i kept getting this error msg\n&quot;&quot;Error: Unable to initialize main class test.test.nagwa\nCaused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver&quot;&quot;\nafter searching i figured its a problem with selenium not being able to locate the chrome driver , I am 100% sure that the path chromedriver.exe is correct and i reinstalled eclipse ide and still nth</p>\n"},{"tags":["java","mariadb"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1686084871,"post_id":76418354,"comment_id":134750353,"body_markdown":"Add a driver for mariadb.","body":"Add a driver for mariadb."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":1,"creation_date":1686085170,"post_id":76418354,"comment_id":134750412,"body_markdown":"did you add the driver for mariadb in your classpath? how are you building and running your project? manually? maven? gradle? something else? please, provide a [miniml reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"did you add the driver for mariadb in your classpath? how are you building and running your project? manually? maven? gradle? something else? please, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">miniml reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686086706,"creation_date":1686086706,"answer_id":76418573,"question_id":76418354,"body_markdown":"You should have a look to the documentation for MariaDB: [https://mariadb.com/kb/en/about-mariadb-connector-j/#getting-a-new-connection][1]\r\n\r\nIt says:\r\n\r\n&gt; **Getting a New Connection**\r\n&gt;\r\n&gt; There are two standard ways to get a connection:\r\n&gt; \r\n&gt; **Using DriverManager**\r\n&gt;\r\n&gt; The preferred way to get a connection with MariaDB Connector/J is to use the DriverManager class. When the DriverManager class is used to locate and load MariaDB Connector/J, the application needs no further configuration. The DriverManager class will automatically load MariaDB Connector/J and allow it to be used in the same way as any other JDBC driver.\r\n&gt; \r\n&gt; For example:\r\n&gt; \r\n&gt; ```Java\r\n&gt; Connection connection = DriverManager.getConnection(&quot;jdbc:mariadb://localhost:3306/DB?user=root&amp;password=myPassword&quot;);\r\n&gt; ```\r\n&gt;\r\n&gt; The legacy way of loading a JDBC driver also still works for MariaDB  Connector/J. e.g.: `Class.forName(&quot;org.mariadb.jdbc.Driver&quot;)`\r\n&gt; \r\n&gt; jdbc:mysql scheme compatibility MariaDB Connector/J 3.0 only accepts\r\n&gt; jdbc:mariadb: as the protocol in connection strings by default. When\r\n&gt; both MariaDB Connector/J and the MySQL drivers are found in the\r\n&gt; class-path, using jdbc:mariadb: as the protocol helps to ensure that\r\n&gt; Java chooses MariaDB Connector/J.\r\n\r\nBut this implies that you have installed the proper Jar file on your `CLASSPATH`; see [here][2] for the details.\r\n\r\nFrom your code and the reported error message, you do not have the MariaDB JDBC driver on your `CLASSPATH`, but that for MySQL.\r\n\r\n  [1]: https://mariadb.com/kb/en/about-mariadb-connector-j/#getting-a-new-connection\r\n  [2]: https://mariadb.com/kb/en/about-mariadb-connector-j/#installing-mariadb-connectorj","title":"I can&#39;t connect to MariaDB with Java (Driver not found)","body":"<p>You should have a look to the documentation for MariaDB: <a href=\"https://mariadb.com/kb/en/about-mariadb-connector-j/#getting-a-new-connection\" rel=\"nofollow noreferrer\">https://mariadb.com/kb/en/about-mariadb-connector-j/#getting-a-new-connection</a></p>\n<p>It says:</p>\n<blockquote>\n<p><strong>Getting a New Connection</strong></p>\n<p>There are two standard ways to get a connection:</p>\n<p><strong>Using DriverManager</strong></p>\n<p>The preferred way to get a connection with MariaDB Connector/J is to use the DriverManager class. When the DriverManager class is used to locate and load MariaDB Connector/J, the application needs no further configuration. The DriverManager class will automatically load MariaDB Connector/J and allow it to be used in the same way as any other JDBC driver.</p>\n<p>For example:</p>\n<pre><code>Connection connection = DriverManager.getConnection(&quot;jdbc:mariadb://localhost:3306/DB?user=root&amp;password=myPassword&quot;);\n</code></pre>\n<p>The legacy way of loading a JDBC driver also still works for MariaDB  Connector/J. e.g.: <code>Class.forName(&quot;org.mariadb.jdbc.Driver&quot;)</code></p>\n<p>jdbc:mysql scheme compatibility MariaDB Connector/J 3.0 only accepts\njdbc:mariadb: as the protocol in connection strings by default. When\nboth MariaDB Connector/J and the MySQL drivers are found in the\nclass-path, using jdbc:mariadb: as the protocol helps to ensure that\nJava chooses MariaDB Connector/J.</p>\n</blockquote>\n<p>But this implies that you have installed the proper Jar file on your <code>CLASSPATH</code>; see <a href=\"https://mariadb.com/kb/en/about-mariadb-connector-j/#installing-mariadb-connectorj\" rel=\"nofollow noreferrer\">here</a> for the details.</p>\n<p>From your code and the reported error message, you do not have the MariaDB JDBC driver on your <code>CLASSPATH</code>, but that for MySQL.</p>\n"}],"owner":{"account_id":28122092,"reputation":29,"user_id":21488164,"display_name":"Simone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76418573,"answer_count":1,"score":0,"last_activity_date":1686090407,"creation_date":1686084522,"question_id":76418354,"body_markdown":"I tried to connect to a MariaDB but it doesn&#39;t work\r\n\r\nHere is my Code:\r\n\r\n        String url = &quot;jdbc:mariadb://192.168.1.45:3306&quot;;\r\n        String username = &quot;...&quot;;\r\n        String password = &quot;...&quot;;\r\n\r\n\r\n        System.out.println(&quot;Connecting database...&quot;);\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n        try (Connection con = DriverManager.getConnection(url, username, password);) {\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Failed &quot; + e);\r\n        }\r\n\r\n\r\nI always get this error:\r\n\r\n    java.sql.SQLException: No suitable driver found for jdbc:mariadb://192.168.1.45:3306\r\n\r\n\r\nWhat can I do to fix it?","title":"I can&#39;t connect to MariaDB with Java (Driver not found)","body":"<p>I tried to connect to a MariaDB but it doesn't work</p>\n<p>Here is my Code:</p>\n<pre><code>    String url = &quot;jdbc:mariadb://192.168.1.45:3306&quot;;\n    String username = &quot;...&quot;;\n    String password = &quot;...&quot;;\n\n\n    System.out.println(&quot;Connecting database...&quot;);\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n    try (Connection con = DriverManager.getConnection(url, username, password);) {\n    } catch (Exception e) {\n        System.out.println(&quot;Failed &quot; + e);\n    }\n</code></pre>\n<p>I always get this error:</p>\n<pre><code>java.sql.SQLException: No suitable driver found for jdbc:mariadb://192.168.1.45:3306\n</code></pre>\n<p>What can I do to fix it?</p>\n"},{"tags":["java","maven","jakarta-ee","intellij-idea","dependencies"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1504638845,"post_id":46061822,"comment_id":79084239,"body_markdown":"Why do you care? If the dependencies need to be in a specific order, something is really wrong.","body":"Why do you care? If the dependencies need to be in a specific order, something is really wrong."},{"owner":{"account_id":11049616,"reputation":31,"user_id":8114527,"display_name":"chrispi"},"score":0,"creation_date":1504639827,"post_id":46061822,"comment_id":79084740,"body_markdown":"Two of my dependencies have the exact same class so i want to change the order so as to change the final classpath. Also see this:: https://stackoverflow.com/questions/2612734/maven-multiple-class-with-the-same-path-implemented-in-different-jar","body":"Two of my dependencies have the exact same class so i want to change the order so as to change the final classpath. Also see this:: <a href=\"https://stackoverflow.com/questions/2612734/maven-multiple-class-with-the-same-path-implemented-in-different-jar\" title=\"maven multiple class with the same path implemented in different jar\">stackoverflow.com/questions/2612734/&hellip;</a>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1504640024,"post_id":46061822,"comment_id":79084851,"body_markdown":"At least one of these dependencies should not be used then. Something is really wrong if two separate dependencies have the same class. I wouldn&#39;t trust a dependency doing something nasty like that. What are these dependencies.","body":"At least one of these dependencies should not be used then. Something is really wrong if two separate dependencies have the same class. I wouldn&#39;t trust a dependency doing something nasty like that. What are these dependencies."},{"owner":{"account_id":11049616,"reputation":31,"user_id":8114527,"display_name":"chrispi"},"score":0,"creation_date":1504640419,"post_id":46061822,"comment_id":79085083,"body_markdown":"Unfortunately that&#39;s not an option because my project depends on those two dependencies. Let&#39;s say i have to build a project which combines the functionality of both these apps used as dependencies. Anyway, the problem is how to exactly define the order of the dependencies import...","body":"Unfortunately that&#39;s not an option because my project depends on those two dependencies. Let&#39;s say i have to build a project which combines the functionality of both these apps used as dependencies. Anyway, the problem is how to exactly define the order of the dependencies import..."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1504640688,"post_id":46061822,"comment_id":79085230,"body_markdown":"@ChrisPi IntelliJ IDEA should use the same order of dependencies as Maven does in the command line.","body":"@ChrisPi IntelliJ IDEA should use the same order of dependencies as Maven does in the command line."},{"owner":{"account_id":872516,"reputation":5591,"user_id":923041,"accept_rate":75,"display_name":"eekboom"},"score":0,"creation_date":1504690590,"post_id":46061822,"comment_id":79104063,"body_markdown":"I just tried with a maven project generated by Spring Boot Initializr: Reorder dependencies in pom.xml, click on Refresh (&quot;Reimport all maven projects&quot;) in the toolbar of the maven toolwindow: =&gt; IDEA changed the ordering in project structure accordingly. Which IDEA version are you using?","body":"I just tried with a maven project generated by Spring Boot Initializr: Reorder dependencies in pom.xml, click on Refresh (&quot;Reimport all maven projects&quot;) in the toolbar of the maven toolwindow: =&gt; IDEA changed the ordering in project structure accordingly. Which IDEA version are you using?"},{"owner":{"account_id":11049616,"reputation":31,"user_id":8114527,"display_name":"chrispi"},"score":0,"creation_date":1504694200,"post_id":46061822,"comment_id":79106603,"body_markdown":"@StephenFriedrich your answer combined with File&gt;Invalidate Caches/Restart... did the trick, thanks! IDEA version 2017.2.3","body":"@StephenFriedrich your answer combined with File&gt;Invalidate Caches/Restart... did the trick, thanks! IDEA version 2017.2.3"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504640262,"creation_date":1504638901,"answer_id":46061882,"question_id":46061822,"body_markdown":"Most certainly *not* a bug in IntelliJ.  Perhaps an erroneous assumption in your thinking.\r\n\r\nHow does order affect anything?  \r\n\r\nYou can see the libraries in alphabetical order (artifact id and group id) in the left view under External Libraries.  \r\n\r\nYour problem will *not* be solved by ordering.  \r\n\r\nThe right way to solve it is to eliminate version conflicts between your app and Spring.  I would recommend upgrading your application dependencies to match those required by Spring.  I&#39;m assuming that you aren&#39;t too far behind and will only require minor code changes, if any.\r\n","title":"IntelliJ and Maven dependencies - Cannot reorder dependencies","body":"<p>Most certainly <em>not</em> a bug in IntelliJ.  Perhaps an erroneous assumption in your thinking.</p>\n\n<p>How does order affect anything?  </p>\n\n<p>You can see the libraries in alphabetical order (artifact id and group id) in the left view under External Libraries.  </p>\n\n<p>Your problem will <em>not</em> be solved by ordering.  </p>\n\n<p>The right way to solve it is to eliminate version conflicts between your app and Spring.  I would recommend upgrading your application dependencies to match those required by Spring.  I'm assuming that you aren't too far behind and will only require minor code changes, if any.</p>\n"},{"tags":[],"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686089499,"creation_date":1686089499,"answer_id":76418772,"question_id":46061822,"body_markdown":"Go to the bottom of this webpage, and look for &quot;Sort Dependencies&quot;. This link explains it.\r\n\r\nhttps://www.jetbrains.com/help/idea/working-with-module-dependencies.html\r\n\r\nI have a project where I include a jar file that contains versions of classes that are missing in a library, but that should come lower down than the library in the sort order so that the library&#39;s other classes arent overshadowed. I added the jar file, then use the arrows to move the jar to the desired position. Also, I found that you can highlight the jar file, and use alt + up/down keys, to move the jar file faster than with arrows. I cant find a way to move the jar file instantly to the end of the dependency list, although that would be handy.","title":"IntelliJ and Maven dependencies - Cannot reorder dependencies","body":"<p>Go to the bottom of this webpage, and look for &quot;Sort Dependencies&quot;. This link explains it.</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/working-with-module-dependencies.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/working-with-module-dependencies.html</a></p>\n<p>I have a project where I include a jar file that contains versions of classes that are missing in a library, but that should come lower down than the library in the sort order so that the library's other classes arent overshadowed. I added the jar file, then use the arrows to move the jar to the desired position. Also, I found that you can highlight the jar file, and use alt + up/down keys, to move the jar file faster than with arrows. I cant find a way to move the jar file instantly to the end of the dependency list, although that would be handy.</p>\n"}],"owner":{"account_id":11049616,"reputation":31,"user_id":8114527,"display_name":"chrispi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1686089499,"creation_date":1504638696,"question_id":46061822,"body_markdown":"I am using IntelliJ IDEA for a Maven project and i cannot re-arrange the order of the dependencies. Although i change the order in POM.xml and in *appname*.iml files, nothing happens.\r\nI also tried to change the order through the Project Structure menu but it didn&#39;t make any change either.\r\n\r\nDoes anyone know how to fix this or is this a bug of our beloved IDE?\r\nThanks!\r\n\r\n","title":"IntelliJ and Maven dependencies - Cannot reorder dependencies","body":"<p>I am using IntelliJ IDEA for a Maven project and i cannot re-arrange the order of the dependencies. Although i change the order in POM.xml and in <em>appname</em>.iml files, nothing happens.\nI also tried to change the order through the Project Structure menu but it didn't make any change either.</p>\n\n<p>Does anyone know how to fix this or is this a bug of our beloved IDE?\nThanks!</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685863924,"creation_date":1685863924,"answer_id":76399366,"question_id":76399031,"body_markdown":"Consider using JSON as column type. Some databases can access JSON attributes in a query. When database doesn&#39;t support it you can still store a string with serialized JSON and deserialize after reading.","title":"How can we dynamically add new attributes to JPA entity classes in Spring Boot?","body":"<p>Consider using JSON as column type. Some databases can access JSON attributes in a query. When database doesn't support it you can still store a string with serialized JSON and deserialize after reading.</p>\n"},{"tags":[],"owner":{"account_id":15253722,"reputation":11,"user_id":11006238,"display_name":"Majid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686088849,"creation_date":1686074733,"answer_id":76417307,"question_id":76399031,"body_markdown":"In JPA , entity classes represent the persistent data model of your application. By default, entity classes are defined with a fixed set of attributes that map to database columns. However, if you need to dynamically add new attributes to entity classes at runtime, you can follow a few approaches in Spring Boot.\r\n\r\nUsing a Map: One way to handle dynamic attributes is by using a Map field in your entity class. You can define a Map&lt;String, Object&gt; field to store the dynamic attributes, where the keys represent the attribute names and the values are the attribute values. This approach allows you to add new attributes without changing the entity class&#39;s structure. However, keep in mind that querying and indexing dynamic attributes can be more challenging with this approach.\r\nHere&#39;s an example of how you can use a Map for dynamic attributes in an entity class:\r\n\r\n    @Entity\r\n    public class DynamicEntity {\r\n    @Id\r\n    private Long id;\r\n\r\n    @ElementCollection\r\n      private Map&lt;String, Object&gt; \r\n      dynamicAttributes = new HashMap&lt;&gt;();\r\n\r\n      // getters and setters\r\n   }\r\n\r\nUsing JSON Serialization: Another approach is to store dynamic attributes as JSON data in a string field within the entity class. You can use libraries like Jackson to serialize and deserialize the dynamic attributes to JSON. This approach allows you to store the dynamic attributes in a structured format while still maintaining flexibility.\r\n\r\nHere&#39;s an example of using JSON serialization for dynamic attributes:\r\n\r\n```\r\n@Entity\r\npublic class DynamicEntity {\r\n    @Id\r\n    private Long id;\r\n\r\n    @Column(columnDefinition = &quot;TEXT&quot;)\r\n    private String dynamicAttributesJson;\r\n\r\n    // getters and setters\r\n\r\n    @Transient\r\n    public Map&lt;String, Object&gt; getDynamicAttributes() {\r\n        if (dynamicAttributesJson == null) {\r\n            return new HashMap&lt;&gt;();\r\n        }\r\n\r\n        try {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            return mapper.readValue(dynamicAttributesJson, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n        } catch (IOException e) {\r\n            // handle exception\r\n        }\r\n\r\n        return new HashMap&lt;&gt;();\r\n    }\r\n\r\n    @Transient\r\n    public void setDynamicAttributes(Map&lt;String, Object&gt; dynamicAttributes) {\r\n        try {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            this.dynamicAttributesJson = mapper.writeValueAsString(dynamicAttributes);\r\n        } catch (JsonProcessingException e) {\r\n            // handle exception\r\n        }\r\n    }\r\n}\r\n```\r\nWith this approach, you can use the `dynamicAttributes` field as a transient field, which means it will not be persisted in the database. Instead, it will use the dynamicAttributesJson field for persistence.\r\n\r\nThese are a couple of approaches to handle dynamic attributes in JPA entity classes in Spring Boot. Choose the one that best fits your requirements and consider the trade-offs between flexibility and queryability.\r\n\r\n\r\n","title":"How can we dynamically add new attributes to JPA entity classes in Spring Boot?","body":"<p>In JPA , entity classes represent the persistent data model of your application. By default, entity classes are defined with a fixed set of attributes that map to database columns. However, if you need to dynamically add new attributes to entity classes at runtime, you can follow a few approaches in Spring Boot.</p>\n<p>Using a Map: One way to handle dynamic attributes is by using a Map field in your entity class. You can define a Map&lt;String, Object&gt; field to store the dynamic attributes, where the keys represent the attribute names and the values are the attribute values. This approach allows you to add new attributes without changing the entity class's structure. However, keep in mind that querying and indexing dynamic attributes can be more challenging with this approach.\nHere's an example of how you can use a Map for dynamic attributes in an entity class:</p>\n<pre><code>@Entity\npublic class DynamicEntity {\n@Id\nprivate Long id;\n\n@ElementCollection\n  private Map&lt;String, Object&gt; \n  dynamicAttributes = new HashMap&lt;&gt;();\n\n  // getters and setters\n</code></pre>\n<p>}</p>\n<p>Using JSON Serialization: Another approach is to store dynamic attributes as JSON data in a string field within the entity class. You can use libraries like Jackson to serialize and deserialize the dynamic attributes to JSON. This approach allows you to store the dynamic attributes in a structured format while still maintaining flexibility.</p>\n<p>Here's an example of using JSON serialization for dynamic attributes:</p>\n<pre><code>@Entity\npublic class DynamicEntity {\n    @Id\n    private Long id;\n\n    @Column(columnDefinition = &quot;TEXT&quot;)\n    private String dynamicAttributesJson;\n\n    // getters and setters\n\n    @Transient\n    public Map&lt;String, Object&gt; getDynamicAttributes() {\n        if (dynamicAttributesJson == null) {\n            return new HashMap&lt;&gt;();\n        }\n\n        try {\n            ObjectMapper mapper = new ObjectMapper();\n            return mapper.readValue(dynamicAttributesJson, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n        } catch (IOException e) {\n            // handle exception\n        }\n\n        return new HashMap&lt;&gt;();\n    }\n\n    @Transient\n    public void setDynamicAttributes(Map&lt;String, Object&gt; dynamicAttributes) {\n        try {\n            ObjectMapper mapper = new ObjectMapper();\n            this.dynamicAttributesJson = mapper.writeValueAsString(dynamicAttributes);\n        } catch (JsonProcessingException e) {\n            // handle exception\n        }\n    }\n}\n</code></pre>\n<p>With this approach, you can use the <code>dynamicAttributes</code> field as a transient field, which means it will not be persisted in the database. Instead, it will use the dynamicAttributesJson field for persistence.</p>\n<p>These are a couple of approaches to handle dynamic attributes in JPA entity classes in Spring Boot. Choose the one that best fits your requirements and consider the trade-offs between flexibility and queryability.</p>\n"}],"owner":{"account_id":411025,"reputation":11,"user_id":3870990,"display_name":"anas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686088849,"creation_date":1685855930,"question_id":76399031,"body_markdown":"We are exploring the possibility of dynamically adding attributes to an entity class. The current development stack is Spring Boot using JPA and Hibernate. The idea is to allow feeding in data using web services. The web service would allow adding new attributes to an entity class. Ideally, the new attributes should enforce or support type information.\r\n\r\nOne possible approach is to embed a map in an entity class. However, the map would store keys and values as String objects. We need to support Integer, Float, Date, and String. \r\n\r\nWe also explored storing data in a list that has objects of a custom type DataElement (String key, String value, String type). This list will be persisted in the database. Then, we generate a DynaBean from this list to access the appropriate data elements with data types enforced.\r\n\r\nWe are open to consider any approach or framework that would support this functionality. We are also open to consider other JVM languages like Groovy, Kotlin or Scala.\r\n\r\n","title":"How can we dynamically add new attributes to JPA entity classes in Spring Boot?","body":"<p>We are exploring the possibility of dynamically adding attributes to an entity class. The current development stack is Spring Boot using JPA and Hibernate. The idea is to allow feeding in data using web services. The web service would allow adding new attributes to an entity class. Ideally, the new attributes should enforce or support type information.</p>\n<p>One possible approach is to embed a map in an entity class. However, the map would store keys and values as String objects. We need to support Integer, Float, Date, and String.</p>\n<p>We also explored storing data in a list that has objects of a custom type DataElement (String key, String value, String type). This list will be persisted in the database. Then, we generate a DynaBean from this list to access the appropriate data elements with data types enforced.</p>\n<p>We are open to consider any approach or framework that would support this functionality. We are also open to consider other JVM languages like Groovy, Kotlin or Scala.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":102191,"reputation":40009,"user_id":274466,"display_name":"ig0774"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1331338913,"creation_date":1331338913,"answer_id":9642734,"question_id":9642643,"body_markdown":"[`DataSourceUtils#getConnection()`][1] pretty clearly documents why you may want to use it: in particular, it uses the Spring JDBC exception hierarchy as opposed to raw SQL exceptions and it will participate in Spring&#39;s transaction management facility. If you don&#39;t need either of those two features, you can just use `DataSource#getConnection()` and get on with your code.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/jdbc/datasource/DataSourceUtils.html#getConnection%28javax.sql.DataSource%29","title":"DataSourceUtils.getConnection vs DataSource.getConnection","body":"<p><a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/jdbc/datasource/DataSourceUtils.html#getConnection%28javax.sql.DataSource%29\" rel=\"nofollow\"><code>DataSourceUtils#getConnection()</code></a> pretty clearly documents why you may want to use it: in particular, it uses the Spring JDBC exception hierarchy as opposed to raw SQL exceptions and it will participate in Spring's transaction management facility. If you don't need either of those two features, you can just use <code>DataSource#getConnection()</code> and get on with your code.</p>\n"},{"tags":[],"owner":{"account_id":35452,"reputation":12772,"user_id":100402,"accept_rate":100,"display_name":"mrembisz"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1331373303,"creation_date":1331373303,"answer_id":9645522,"question_id":9642643,"body_markdown":"There is one important difference: `dataSource.getConnection()` always returns a new connection obtained from the dataSource or connection pool. `DataSourceUtils.getConnection()` checks if there is an active transaction for the current thread. If there is one, it will return connection with this transaction. If there is none it will behave exactly the same way as `dataSource.getConnection()`.\r\n\r\nYou need to be careful when using `DataSourceUtils.getConnection()`. If it returns connection for the active transaction it means someone else will be closing it since it&#39;s the responsibility of whoever opened the transaction. On the other hand, if it returns a brand new connection from the dataSource it&#39;s you who should commit/rollback/close it.","title":"DataSourceUtils.getConnection vs DataSource.getConnection","body":"<p>There is one important difference: <code>dataSource.getConnection()</code> always returns a new connection obtained from the dataSource or connection pool. <code>DataSourceUtils.getConnection()</code> checks if there is an active transaction for the current thread. If there is one, it will return connection with this transaction. If there is none it will behave exactly the same way as <code>dataSource.getConnection()</code>.</p>\n\n<p>You need to be careful when using <code>DataSourceUtils.getConnection()</code>. If it returns connection for the active transaction it means someone else will be closing it since it's the responsibility of whoever opened the transaction. On the other hand, if it returns a brand new connection from the dataSource it's you who should commit/rollback/close it.</p>\n"}],"owner":{"account_id":216114,"reputation":14272,"user_id":471149,"accept_rate":64,"display_name":"michael nesterenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19910,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":9645522,"answer_count":2,"score":15,"last_activity_date":1686088298,"creation_date":1331338199,"question_id":9642643,"body_markdown":"I have datasource bean initialized in the spring context. I wonder what way should be used? Why I just can not write dataSource.getConnection()?","title":"DataSourceUtils.getConnection vs DataSource.getConnection","body":"<p>I have datasource bean initialized in the spring context. I wonder what way should be used? Why I just can not write dataSource.getConnection()?</p>\n"},{"tags":["java","docker","debugging","yaml","weblogic12c"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1588593219,"post_id":61467178,"comment_id":108948374,"body_markdown":"Is port 4002 exposed in the image and can you telnet to port 4002 on the host?","body":"Is port 4002 exposed in the image and can you telnet to port 4002 on the host?"},{"owner":{"account_id":2459173,"reputation":1210,"user_id":2149492,"display_name":"JohnPan"},"score":0,"creation_date":1588662712,"post_id":61467178,"comment_id":108976837,"body_markdown":"yes, both 4002 and 9002 are open","body":"yes, both 4002 and 9002 are open"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1588665780,"post_id":61467178,"comment_id":108978344,"body_markdown":"So you Can reach the debugger listening on the port from the host?","body":"So you Can reach the debugger listening on the port from the host?"},{"owner":{"account_id":2459173,"reputation":1210,"user_id":2149492,"display_name":"JohnPan"},"score":0,"creation_date":1588689390,"post_id":61467178,"comment_id":108991206,"body_markdown":"@Thorbj&#248;rnRavnAndersen yeap.. telnet and tcping responds fine","body":"@Thorbj&#248;rnRavnAndersen yeap.. telnet and tcping responds fine"},{"owner":{"account_id":3077431,"reputation":1329,"user_id":2606441,"accept_rate":77,"display_name":"Manuel Pap"},"score":0,"creation_date":1624361119,"post_id":61467178,"comment_id":120332527,"body_markdown":"Have you manage to solve this?","body":"Have you manage to solve this?"},{"owner":{"account_id":2459173,"reputation":1210,"user_id":2149492,"display_name":"JohnPan"},"score":0,"creation_date":1624370990,"post_id":61467178,"comment_id":120336975,"body_markdown":"@ManolisPap no, I stopped trying and found a different way to go","body":"@ManolisPap no, I stopped trying and found a different way to go"}],"answers":[{"tags":[],"owner":{"account_id":10899618,"reputation":724,"user_id":8012281,"display_name":"Akshay Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588231985,"creation_date":1588231985,"answer_id":61518127,"question_id":61467178,"body_markdown":"Try adding `address=*:4002` instead of `address=4002`","title":"Cannot set Debug to work for Java via Dockerized WebLogic, not with intelliJ nor Studio Code","body":"<p>Try adding <code>address=*:4002</code> instead of <code>address=4002</code></p>\n"},{"tags":[],"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588539235,"creation_date":1588539235,"answer_id":61581469,"question_id":61467178,"body_markdown":"Have you tried using the port number + 3 (4005) instead? That&#39;s a common practice to have a separate debug port for containerized applications","title":"Cannot set Debug to work for Java via Dockerized WebLogic, not with intelliJ nor Studio Code","body":"<p>Have you tried using the port number + 3 (4005) instead? That's a common practice to have a separate debug port for containerized applications</p>\n"},{"tags":[],"owner":{"account_id":1931246,"reputation":1297,"user_id":1740593,"accept_rate":95,"display_name":"Vargan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588692237,"creation_date":1588677723,"answer_id":61611947,"question_id":61467178,"body_markdown":"\r\n `JAVA_OPTS` is a Tomcat specific environment variable\r\n\r\nIn Java 8 the JDK supports a `JAVA_TOOL_OPTIONS` environment variable so to enable the debugger. Try replace `JAVA_OPTS` with `JAVA_TOOL_OPTIONS`\r\n\r\nYou also have to setup the address like this: `address=*:8000`, `address=localhost:4002` or `address=0.0.0.0:4002`\r\n","title":"Cannot set Debug to work for Java via Dockerized WebLogic, not with intelliJ nor Studio Code","body":"<p><code>JAVA_OPTS</code> is a Tomcat specific environment variable</p>\n\n<p>In Java 8 the JDK supports a <code>JAVA_TOOL_OPTIONS</code> environment variable so to enable the debugger. Try replace <code>JAVA_OPTS</code> with <code>JAVA_TOOL_OPTIONS</code></p>\n\n<p>You also have to setup the address like this: <code>address=*:8000</code>, <code>address=localhost:4002</code> or <code>address=0.0.0.0:4002</code></p>\n"},{"tags":[],"owner":{"account_id":1827978,"reputation":147,"user_id":1660200,"accept_rate":50,"display_name":"Lucky Luke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591951015,"creation_date":1591951015,"answer_id":62340578,"question_id":61467178,"body_markdown":"I had a similar issue with attaching a memory monitoring tool (JVisualVM). \r\nI could telnet to the server but that was not the whole story.\r\n\r\nFrom what I have understood what was blocking me was the RMI connection used under the hoods. What was missing was a &quot;tunnel&quot; between client (where your debugger runs) and host (where your application runs) machine.\r\n\r\nIn windows you would open a cmd and give:\r\n\r\n    putty.exe -ssh &lt;username&gt;@&lt;remote-host&gt; -L &lt;port&gt;:&lt;remote-host&gt;:&lt;same_port_again&gt;\r\n\r\nThis will open a putty window which should remain open after logging in for the tunnel to remain open.\r\n\r\nFor more information on this, you can check [here][1] on the 2nd step of the solution provided by @freedev.\r\n\r\nI am not sure if it works for you but I suspect it may be the same case as mine.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/151238/has-anyone-ever-got-a-remote-jmx-jconsole-to-work","title":"Cannot set Debug to work for Java via Dockerized WebLogic, not with intelliJ nor Studio Code","body":"<p>I had a similar issue with attaching a memory monitoring tool (JVisualVM). \nI could telnet to the server but that was not the whole story.</p>\n\n<p>From what I have understood what was blocking me was the RMI connection used under the hoods. What was missing was a \"tunnel\" between client (where your debugger runs) and host (where your application runs) machine.</p>\n\n<p>In windows you would open a cmd and give:</p>\n\n<pre><code>putty.exe -ssh &lt;username&gt;@&lt;remote-host&gt; -L &lt;port&gt;:&lt;remote-host&gt;:&lt;same_port_again&gt;\n</code></pre>\n\n<p>This will open a putty window which should remain open after logging in for the tunnel to remain open.</p>\n\n<p>For more information on this, you can check <a href=\"https://stackoverflow.com/questions/151238/has-anyone-ever-got-a-remote-jmx-jconsole-to-work\">here</a> on the 2nd step of the solution provided by @freedev.</p>\n\n<p>I am not sure if it works for you but I suspect it may be the same case as mine.</p>\n"},{"tags":[],"owner":{"account_id":20189096,"reputation":61,"user_id":14807748,"display_name":"bravo1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607691983,"creation_date":1607691983,"answer_id":65251932,"question_id":61467178,"body_markdown":"The problem is that the WebLogic server in the container is configured to run in production mode (the value of the PRODUCTION_MODE variable in the script setDomainEnv.sh is set to &quot;true&quot;).\r\n\r\nTo disable this You need open the file setDomainEnv.sh, find `PRODUCTION_MODE=&quot;true&quot;` and change it to `PRODUCTION_MODE=&quot;false&quot;`.\r\n\r\nYou also don&#39;t need to set JAVA_TOOL_OPTIONS variable, setDomainEnv.sh script already has the possibility to start in debug mode.\r\nTo enable the debug mode, the environment variable “debugFlag” needs to be set to true before executing the script.\r\n\r\nDocker command:\r\n```\r\ndocker run -d --name weblogic -p 7001:7001 -p 9002:9002 -p 55195:55195 \r\n-v c:/my-path:/u01/oracle/properties \r\n-e ADMINISTRATION_PORT_ENABLED=true -e DOMAIN_NAME=base_domain \r\n-e debugFlag=true -e DEBUG_PORT=55195 \r\nstore/oracle/weblogic:12.2.1.3\r\n```\r\nNote, I also change the debug port to 55195.","title":"Cannot set Debug to work for Java via Dockerized WebLogic, not with intelliJ nor Studio Code","body":"<p>The problem is that the WebLogic server in the container is configured to run in production mode (the value of the PRODUCTION_MODE variable in the script setDomainEnv.sh is set to &quot;true&quot;).</p>\n<p>To disable this You need open the file setDomainEnv.sh, find <code>PRODUCTION_MODE=&quot;true&quot;</code> and change it to <code>PRODUCTION_MODE=&quot;false&quot;</code>.</p>\n<p>You also don't need to set JAVA_TOOL_OPTIONS variable, setDomainEnv.sh script already has the possibility to start in debug mode.\nTo enable the debug mode, the environment variable “debugFlag” needs to be set to true before executing the script.</p>\n<p>Docker command:</p>\n<pre><code>docker run -d --name weblogic -p 7001:7001 -p 9002:9002 -p 55195:55195 \n-v c:/my-path:/u01/oracle/properties \n-e ADMINISTRATION_PORT_ENABLED=true -e DOMAIN_NAME=base_domain \n-e debugFlag=true -e DEBUG_PORT=55195 \nstore/oracle/weblogic:12.2.1.3\n</code></pre>\n<p>Note, I also change the debug port to 55195.</p>\n"},{"tags":[],"owner":{"account_id":2382408,"reputation":36,"user_id":2084163,"display_name":"Egon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686087991,"creation_date":1686087991,"answer_id":76418663,"question_id":61467178,"body_markdown":"use ```-Xrunjdwp:transport``` instead of ```-agentlib:jdwp=transport```\r\n\r\n```\r\n-Xdebug -Xrunjdwp:transport=dt_socket,address=*:8787,server=y,suspend=n\r\n```","title":"Cannot set Debug to work for Java via Dockerized WebLogic, not with intelliJ nor Studio Code","body":"<p>use <code>-Xrunjdwp:transport</code> instead of <code>-agentlib:jdwp=transport</code></p>\n<pre><code>-Xdebug -Xrunjdwp:transport=dt_socket,address=*:8787,server=y,suspend=n\n</code></pre>\n"}],"owner":{"account_id":2459173,"reputation":1210,"user_id":2149492,"display_name":"JohnPan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2315,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1686087991,"creation_date":1588016659,"question_id":61467178,"body_markdown":"I want to attach the Debugger to my deployed WARs in my dockerized WebLogic 12c.\r\nI use this official image of WebLogic (which is a Linux container)\r\nhttps://hub.docker.com/_/oracle-weblogic-server-12c\r\nand I start the container using docker command:\r\n\r\n    docker run -d -p 4002:4002 -p 9002:9002 \r\n    -v c:/my-path-to-shared-volume:/u01/oracle/properties \r\n    -e ADMINISTRATION_PORT_ENABLED=true -e DOMAIN_NAME=docker_domain \r\n    -e JAVA_TOOL_OPTIONS=\\&quot;-agentlib:jdwp=transport=dt_socket,address=4002,server=y,suspend=n\\&quot; \r\n    --name weblogic store/oracle/weblogic:12.2.1.3-dev-200109\r\n\r\nThe weblogic console comes alive at https://localhost:9002/console/ but when trying to run the debugger, my IDE says: \r\n\r\n&gt; Unable to open debugger port (localhost:4002): java.io.IOException\r\n&gt; &quot;handshake failed - connection prematurally closed&quot;\r\n\r\nMy OS is Windows10. I tried with **Visual Studio Code** ***and*** **IntelliJ**, and got the same output. The WARs run just fine and they respond when I use portman to hit some service endpoints.\r\n\r\nWhat seems to happen is that weblogic start scripts inside the container tries to apply the Java Options param twice! Please see the relative parts of container output below:\r\n\r\n&gt; Domain Home is:  /u01/oracle/user_projects/domains/docker_domain\r\n**Picked up JAVA_TOOL_OPTIONS**: &quot;-agentlib:jdwp=transport=dt_socket,address=localhost:4002,server=y,suspend=n&quot;\r\n*Listening for transport dt_socket at address: 4002*\r\nInitializing WebLogic Scripting Tool (WLST) ...\r\nWelcome to WebLogic Server Administration Scripting Shell\r\n\r\n[...]*(and further down in the logs I get: )*\r\n\r\n&gt; Starting WLS with line:\r\n/usr/java/jdk-8/bin/java -server   -Djava.security.egd=file:/dev/./urandom -cp /u01/oracle/wlserver/server/lib/weblogic-launcher.jar -Dlaunch.use.env.classpath=true -Dweblogic.Name=AdminServer -Djava.security.policy=/u01/oracle/wlserver/server/lib/weblogic.policy  -Djava.system.class.loader=com.oracle.classloader.weblogic.LaunchClassLoader  -javaagent:/u01/oracle/wlserver/server/lib/debugpatch-agent.jar -da -Dwls.home=/u01/oracle/wlserver/server -Dweblogic.home=/u01/oracle/wlserver/server      weblogic.Server\r\n**Picked up JAVA_TOOL_OPTIONS:** &quot;-agentlib:jdwp=transport=dt_socket,address=localhost:4002,server=y,suspend=n&quot;\r\nERROR: transport error 202: **bind failed: Address already in use**\r\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\r\nJDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [debugInit.c:750]\r\nStopping Derby server...\r\nDerby server stopped.\r\n\r\n\r\nI then tried to work with docker-compose, creating a .yaml file to add my environmental props there, trying to prevent these from running twice. I got the exact same behavior. Whichever port I use, it is found *Already in use*.\r\n\r\nThis is my .yaml file\r\n\r\n    version: &#39;2&#39;\r\n    services:\r\n      weblogic:\r\n        container_name: weblogic_yamled\r\n        image: store/oracle/weblogic:12.2.1.3-dev-200109\r\n        ports:\r\n            - &quot;7001:7001&quot;\r\n            - &quot;7002:7002&quot;\r\n            - &quot;4002:4002&quot;\r\n            - &quot;4003:4003&quot;\r\n            - &quot;9002:9002&quot; \r\n        volumes:\r\n            - c:/my-path-to-shared-volume:/u01/oracle/properties\r\n        environment:\r\n            - ADMINISTRATION_PORT_ENABLED=true\r\n            - DOMAIN_NAME=docker_domain\r\n            - JAVA_TOOL_OPTIONS=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=localhost:4002&quot;\r\n\r\nFinally, I tried `transport=dt_shmem` but then I got a different error: \r\n\r\n&gt; ERROR: transport library not found: dt_shmem\r\n\r\nDo not know what else I should try! \r\n\r\n","title":"Cannot set Debug to work for Java via Dockerized WebLogic, not with intelliJ nor Studio Code","body":"<p>I want to attach the Debugger to my deployed WARs in my dockerized WebLogic 12c.\nI use this official image of WebLogic (which is a Linux container)\n<a href=\"https://hub.docker.com/_/oracle-weblogic-server-12c\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/oracle-weblogic-server-12c</a>\nand I start the container using docker command:</p>\n\n<pre><code>docker run -d -p 4002:4002 -p 9002:9002 \n-v c:/my-path-to-shared-volume:/u01/oracle/properties \n-e ADMINISTRATION_PORT_ENABLED=true -e DOMAIN_NAME=docker_domain \n-e JAVA_TOOL_OPTIONS=\\\"-agentlib:jdwp=transport=dt_socket,address=4002,server=y,suspend=n\\\" \n--name weblogic store/oracle/weblogic:12.2.1.3-dev-200109\n</code></pre>\n\n<p>The weblogic console comes alive at <a href=\"https://localhost:9002/console/\" rel=\"nofollow noreferrer\">https://localhost:9002/console/</a> but when trying to run the debugger, my IDE says: </p>\n\n<blockquote>\n  <p>Unable to open debugger port (localhost:4002): java.io.IOException\n  \"handshake failed - connection prematurally closed\"</p>\n</blockquote>\n\n<p>My OS is Windows10. I tried with <strong>Visual Studio Code</strong> <strong><em>and</em></strong> <strong>IntelliJ</strong>, and got the same output. The WARs run just fine and they respond when I use portman to hit some service endpoints.</p>\n\n<p>What seems to happen is that weblogic start scripts inside the container tries to apply the Java Options param twice! Please see the relative parts of container output below:</p>\n\n<blockquote>\n  <p>Domain Home is:  /u01/oracle/user_projects/domains/docker_domain\n  <strong>Picked up JAVA_TOOL_OPTIONS</strong>: \"-agentlib:jdwp=transport=dt_socket,address=localhost:4002,server=y,suspend=n\"\n  <em>Listening for transport dt_socket at address: 4002</em>\n  Initializing WebLogic Scripting Tool (WLST) ...\n  Welcome to WebLogic Server Administration Scripting Shell</p>\n</blockquote>\n\n<p>[...]<em>(and further down in the logs I get: )</em></p>\n\n<blockquote>\n  <p>Starting WLS with line:\n  /usr/java/jdk-8/bin/java -server   -Djava.security.egd=file:/dev/./urandom -cp /u01/oracle/wlserver/server/lib/weblogic-launcher.jar -Dlaunch.use.env.classpath=true -Dweblogic.Name=AdminServer -Djava.security.policy=/u01/oracle/wlserver/server/lib/weblogic.policy  -Djava.system.class.loader=com.oracle.classloader.weblogic.LaunchClassLoader  -javaagent:/u01/oracle/wlserver/server/lib/debugpatch-agent.jar -da -Dwls.home=/u01/oracle/wlserver/server -Dweblogic.home=/u01/oracle/wlserver/server      weblogic.Server\n  <strong>Picked up JAVA_TOOL_OPTIONS:</strong> \"-agentlib:jdwp=transport=dt_socket,address=localhost:4002,server=y,suspend=n\"\n  ERROR: transport error 202: <strong>bind failed: Address already in use</strong>\n  ERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\n  JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [debugInit.c:750]\n  Stopping Derby server...\n  Derby server stopped.</p>\n</blockquote>\n\n<p>I then tried to work with docker-compose, creating a .yaml file to add my environmental props there, trying to prevent these from running twice. I got the exact same behavior. Whichever port I use, it is found <em>Already in use</em>.</p>\n\n<p>This is my .yaml file</p>\n\n<pre><code>version: '2'\nservices:\n  weblogic:\n    container_name: weblogic_yamled\n    image: store/oracle/weblogic:12.2.1.3-dev-200109\n    ports:\n        - \"7001:7001\"\n        - \"7002:7002\"\n        - \"4002:4002\"\n        - \"4003:4003\"\n        - \"9002:9002\" \n    volumes:\n        - c:/my-path-to-shared-volume:/u01/oracle/properties\n    environment:\n        - ADMINISTRATION_PORT_ENABLED=true\n        - DOMAIN_NAME=docker_domain\n        - JAVA_TOOL_OPTIONS=\"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=localhost:4002\"\n</code></pre>\n\n<p>Finally, I tried <code>transport=dt_shmem</code> but then I got a different error: </p>\n\n<blockquote>\n  <p>ERROR: transport library not found: dt_shmem</p>\n</blockquote>\n\n<p>Do not know what else I should try! </p>\n"},{"tags":["java","spring","hibernate","maven","path"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1503855315,"post_id":45907559,"comment_id":78773787,"body_markdown":"What is the problem? You want to upload the file relative to what?","body":"What is the problem? You want to upload the file relative to what?"},{"owner":{"account_id":6925113,"reputation":115,"user_id":5316414,"accept_rate":50,"display_name":"Pedro"},"score":0,"creation_date":1503855692,"post_id":45907559,"comment_id":78773911,"body_markdown":"The problem is that I want to save the new file in a directory inside my project (resources/imagenes/maquinas/fullsize) and I don&#180;t know why but it isn&#180;t uploading the file. I think it is a problem of the relative path.","body":"The problem is that I want to save the new file in a directory inside my project (resources/imagenes/maquinas/fullsize) and I don&#180;t know why but it isn&#180;t uploading the file. I think it is a problem of the relative path."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1503855924,"post_id":45907559,"comment_id":78773979,"body_markdown":"There is no project at runtime, you don&#39;t run source code. Hint: the problem isn&#39;t relative path, it&#39;s more basic.","body":"There is no project at runtime, you don&#39;t run source code. Hint: the problem isn&#39;t relative path, it&#39;s more basic."},{"owner":{"account_id":6925113,"reputation":115,"user_id":5316414,"accept_rate":50,"display_name":"Pedro"},"score":0,"creation_date":1503856155,"post_id":45907559,"comment_id":78774055,"body_markdown":"How can I solve this?I mean how can I upload a file in the resources folder inside my project?","body":"How can I solve this?I mean how can I upload a file in the resources folder inside my project?"}],"answers":[{"tags":[],"owner":{"account_id":3795830,"reputation":6437,"user_id":3150948,"accept_rate":70,"display_name":"Amer Qarabsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503856413,"creation_date":1503856413,"answer_id":45907789,"question_id":45907559,"body_markdown":"you can use ServletContext.getRealPath, check the document [link][1]\r\n\r\nALL you need is to autowire ServletContext bean\r\n\r\n    @Autowired\r\n\tprivate ServletContext servletContext;\r\n\r\nthen you can use servletContext.getRealPath to get the path of a directory under webapps appending to it the name of the new created file, so suppose you have folder under webapps named images \r\n\r\n    String pathStr= servletContext.getRealPath(&quot;/images&quot;)+&quot;new name&quot;;\r\n\r\nthen get the by stream of your multipart object\r\n\r\n    byte[] bytes = fichero.getBytes();\r\n\r\nThen use Files utility to write the file\r\n\r\n    Files.write(Paths.get(pathStr), bytes);\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html","title":"Java Spring web app file upload with relative path","body":"<p>you can use ServletContext.getRealPath, check the document <a href=\"http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>ALL you need is to autowire ServletContext bean</p>\n\n<pre><code>@Autowired\nprivate ServletContext servletContext;\n</code></pre>\n\n<p>then you can use servletContext.getRealPath to get the path of a directory under webapps appending to it the name of the new created file, so suppose you have folder under webapps named images </p>\n\n<pre><code>String pathStr= servletContext.getRealPath(\"/images\")+\"new name\";\n</code></pre>\n\n<p>then get the by stream of your multipart object</p>\n\n<pre><code>byte[] bytes = fichero.getBytes();\n</code></pre>\n\n<p>Then use Files utility to write the file</p>\n\n<pre><code>Files.write(Paths.get(pathStr), bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6925113,"reputation":115,"user_id":5316414,"accept_rate":50,"display_name":"Pedro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504111993,"creation_date":1504111993,"answer_id":45965896,"question_id":45907559,"body_markdown":"Finally the answer of Amed Qarabsa was right:\r\n\r\n    String pathStr= servletContext.getRealPath(&quot;/images&quot;)+&quot;new name&quot;;\r\n\r\nBut it only works in production, I mean an external server. On eclipse server doen&#180;t work. ","title":"Java Spring web app file upload with relative path","body":"<p>Finally the answer of Amed Qarabsa was right:</p>\n\n<pre><code>String pathStr= servletContext.getRealPath(\"/images\")+\"new name\";\n</code></pre>\n\n<p>But it only works in production, I mean an external server. On eclipse server doen´t work. </p>\n"}],"owner":{"account_id":6925113,"reputation":115,"user_id":5316414,"accept_rate":50,"display_name":"Pedro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686087927,"creation_date":1503855098,"question_id":45907559,"body_markdown":"I am working in a web app build with Java, Spring and Hibernate.\r\nI want to code a file upload so users can upload photos, but I can&#180;t solve an issue with relative paths.\r\nHere you can see the code of the spring controller:\r\n\r\n    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\r\n    public ModelAndView subidaFicheroUnico(@RequestParam(&quot;fichero&quot;) MultipartFile fichero, @ModelAttribute(&quot;maquinaSeleccionada&quot;)Maquina oMaquinaSeleccionada) throws IOException {\r\n\r\n    \t File imagenUpload = new ClassPathResource(&quot;imagenes/maquinas/fullsize&quot;).getFile(); \r\n    \t \r\n    \t \r\n    \t String CARPETA_IMAGENES = imagenUpload.toString();\r\n    \tModelAndView mv = new ModelAndView(&quot;subidaFicheros&quot;);\r\n    \t\r\n        if (fichero.isEmpty()) {           \r\n            mv.addObject(&quot;mensaje&quot;, &quot;Seleccione una imagen&quot;);\r\n        }\r\n\r\n        try {\r\n\r\n            /** Guardar el archivo en disco */\r\n            byte[] bytes = fichero.getBytes();\r\n            Path path = Paths.get(CARPETA_IMAGENES +&quot;/&quot;+ fichero.getOriginalFilename());\r\n            Path path2 = Paths.get(imagenUpload.toURI());\r\n            String routePath = this.getClass().getClassLoader().getResource(File.separator).getPath();\r\n            \r\n            Files.write(path, bytes);\r\n            \r\n            /** Guardar el archivo en BD */            \r\n            Imagen oNuevaImagen = new Imagen (\toMaquinaSeleccionada.getIdMaquina(),\r\n            \t\t\t\t\t\t\t\t\tfichero.getName());\r\n            servicioImagen.insertaImagen(oNuevaImagen);\r\n            \r\n            mv.addObject(&quot;mensaje&quot;, &quot;Ha subido correctamente la imagen &#39;&quot; + fichero.getOriginalFilename() + &quot;&#39;&quot;);\r\n            \r\n            logger.info(&quot;Fichero subido:&quot;+path.toString());\r\n            logger.info(&quot;Fichero subido:&quot;+path.toFile().toURL().getPath());\r\n            logger.info(&quot;Fichero subido:&quot;+path.toUri().getPath());\r\n            logger.info(&quot;Fichero subido:&quot;+path.toString());\r\n            logger.info(&quot;Fichero subido:&quot;+path.toString());\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }   \t \r\n        \r\n        return mv;     \r\n    }\r\n\r\nI have found a way to handle relative paths with ClassPathResource:\r\n\r\n    File imagenUpload = new ClassPathResource(&quot;imagenes/maquinas/fullsize&quot;).getFile(); \r\n\r\nHere you can see a working example of a file with the image directory path.\r\nThe problem is that you can&#39;t create a ClassPathResource with the path of a file which doesn&#39;t exist. I only can create one with the directory and when I add the file name, the file isn&#39;t uploaded to the directory.\r\n\r\nCan anyone help me?\r\n\r\nThanks.","title":"Java Spring web app file upload with relative path","body":"<p>I am working in a web app build with Java, Spring and Hibernate.\nI want to code a file upload so users can upload photos, but I can´t solve an issue with relative paths.\nHere you can see the code of the spring controller:</p>\n<pre><code>@RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\npublic ModelAndView subidaFicheroUnico(@RequestParam(&quot;fichero&quot;) MultipartFile fichero, @ModelAttribute(&quot;maquinaSeleccionada&quot;)Maquina oMaquinaSeleccionada) throws IOException {\n\n     File imagenUpload = new ClassPathResource(&quot;imagenes/maquinas/fullsize&quot;).getFile(); \n     \n     \n     String CARPETA_IMAGENES = imagenUpload.toString();\n    ModelAndView mv = new ModelAndView(&quot;subidaFicheros&quot;);\n    \n    if (fichero.isEmpty()) {           \n        mv.addObject(&quot;mensaje&quot;, &quot;Seleccione una imagen&quot;);\n    }\n\n    try {\n\n        /** Guardar el archivo en disco */\n        byte[] bytes = fichero.getBytes();\n        Path path = Paths.get(CARPETA_IMAGENES +&quot;/&quot;+ fichero.getOriginalFilename());\n        Path path2 = Paths.get(imagenUpload.toURI());\n        String routePath = this.getClass().getClassLoader().getResource(File.separator).getPath();\n        \n        Files.write(path, bytes);\n        \n        /** Guardar el archivo en BD */            \n        Imagen oNuevaImagen = new Imagen (  oMaquinaSeleccionada.getIdMaquina(),\n                                            fichero.getName());\n        servicioImagen.insertaImagen(oNuevaImagen);\n        \n        mv.addObject(&quot;mensaje&quot;, &quot;Ha subido correctamente la imagen '&quot; + fichero.getOriginalFilename() + &quot;'&quot;);\n        \n        logger.info(&quot;Fichero subido:&quot;+path.toString());\n        logger.info(&quot;Fichero subido:&quot;+path.toFile().toURL().getPath());\n        logger.info(&quot;Fichero subido:&quot;+path.toUri().getPath());\n        logger.info(&quot;Fichero subido:&quot;+path.toString());\n        logger.info(&quot;Fichero subido:&quot;+path.toString());\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }        \n    \n    return mv;     \n}\n</code></pre>\n<p>I have found a way to handle relative paths with ClassPathResource:</p>\n<pre><code>File imagenUpload = new ClassPathResource(&quot;imagenes/maquinas/fullsize&quot;).getFile(); \n</code></pre>\n<p>Here you can see a working example of a file with the image directory path.\nThe problem is that you can't create a ClassPathResource with the path of a file which doesn't exist. I only can create one with the directory and when I add the file name, the file isn't uploaded to the directory.</p>\n<p>Can anyone help me?</p>\n<p>Thanks.</p>\n"},{"tags":["java","java-8","jaxb"],"owner":{"account_id":7828031,"reputation":3,"user_id":5919078,"display_name":"TheOneAndOnlyMe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686087421,"creation_date":1686087421,"question_id":76418624,"body_markdown":"I am using Java 8&#39;s embedded JAXB to generate a catalogue/registry of Java objects from a xml configuration file. One attribute of the element representing the class of objects to import is a string that corresponds to the name of an enum constant on the java side (not an enum inside the xml). My intention was, that on import JAXB calls the corresponding setter, hands over the String as Partameter and the setter then picks the correct constant from the enum and assigns it to the Java Object&#39;s respective field.\r\n\r\nWhen I execute the code, the catalogue is read in, and all other data is set correctly, just the field that should contain the enum constant remains null. I tried to put a System.out inside that setter, and it seems it is not called. Please help me to understand what I am doing wrong and how to get the result I want.\r\n\r\nA small sample XML &quot;/PhaserType.xml&quot;:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;tns:PhaserTypes xmlns:tns=&quot;http://my.example.org/PhaserTypeSchema&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://my.example.org/PhaserTypeSchema PhaserTypeSchema.xsd &quot;&gt;\r\n  &lt;tns:PhaserType name=&quot;FH-3&quot;  range=&quot;20&quot; power=&quot;5&quot;  chart=&quot;A&quot; /&gt;\r\n  &lt;tns:PhaserType name=&quot;FH-10&quot; range=&quot;20&quot; power=&quot;7&quot;  chart=&quot;B&quot; /&gt;\r\n  &lt;tns:PhaserType name=&quot;FH-11&quot; range=&quot;24&quot; power=&quot;10&quot; chart=&quot;C&quot; /&gt;\r\n&lt;/tns:PhaserTypes&gt;\r\n```\r\nThe Java class file &quot;/org/example/my/PhaserType.java&quot; for the catalogue objects, the setter in question is `setChart(String chartName)`:\r\n\r\n```\r\npackage org.example.my;\r\n\r\nimport java.io.File;\r\nimport java.net.URISyntaxException;\r\nimport java.net.URL;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Optional;\r\n\r\nimport javax.xml.bind.JAXBContext;\r\nimport javax.xml.bind.JAXBException;\r\nimport javax.xml.bind.Unmarshaller;\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlAttribute;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\n@XmlRootElement(name = &quot;PhaserType&quot;)\r\n@XmlAccessorType(XmlAccessType.PROPERTY)\r\npublic class PhaserType\r\n{\r\n\tprivate static final Map&lt;String, PhaserType&gt; PHASER_TYPE_REGISTRY = new HashMap&lt;&gt;();\r\n\tprivate String name;\r\n\tprivate int range;\r\n\tprivate int power;\r\n\tprivate Chart chart;\r\n\r\n\t// init phaser type registry on class load\r\n\tstatic \r\n\t{\r\n\t\tFile configFile = getConfigFile();\r\n\t\tJAXBContext jaxbContext;\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t  jaxbContext = JAXBContext.newInstance(PhaserTypes.class);        \r\n\t\t \r\n\t\t  Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n\t\t \r\n\t\t  PhaserTypes phaserTypes = (PhaserTypes) jaxbUnmarshaller.unmarshal(configFile);\r\n\t\t  \r\n\t\t  for (PhaserType type : phaserTypes.getPhaserTypes())\r\n\t\t  {\r\n\t\t\t  PHASER_TYPE_REGISTRY.put(type.getName(), type);\r\n\t\t  }\r\n\t\t}\r\n\t\tcatch (JAXBException e)\r\n\t\t{\r\n\t\t\tthrow new RuntimeException(e.toString(), e);\r\n\t\t}\t\t\t\r\n\t}\r\n\r\n\tprivate static File getConfigFile()\r\n\t{\r\n\t\tClassLoader loader = ClassLoader.getSystemClassLoader();\r\n\t\tURL resource = loader.getResource(&quot;PhaserType.xml&quot;);\r\n\t\tif (resource == null)\r\n\t\t{\r\n\t\t\tthrow new RuntimeException(&quot;resource PhaserType.xml not found&quot;);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\treturn new File(resource.toURI());\r\n\t\t\t}\r\n\t\t\tcatch (URISyntaxException e)\r\n\t\t\t{\r\n\t\t\t\tthrow new RuntimeException(e.toString(), e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static Optional&lt;PhaserType&gt; get(String name)\r\n\t{\r\n\t\tOptional&lt;PhaserType&gt; result;\r\n\t\tif (PHASER_TYPE_REGISTRY.containsKey(name))\r\n\t\t{\r\n\t\t\tresult = Optional.of(PHASER_TYPE_REGISTRY.get(name));\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tresult = Optional.empty();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate PhaserType()\r\n\t{\r\n\t}\r\n\r\n\t/**\r\n\t * @return the name\r\n\t */\r\n\tpublic String getName()\r\n\t{\r\n\t\treturn name;\r\n\t}\r\n\r\n\t/**\r\n\t * @param name the name to set\r\n\t */\r\n\t@XmlAttribute(name=&quot;name&quot;)\r\n\tprivate void setName(String name)\r\n\t{\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the range\r\n\t */\r\n\tpublic int getRange()\r\n\t{\r\n\t\treturn range;\r\n\t}\r\n\r\n\t/**\r\n\t * @param range the range to set\r\n\t */\r\n\t@XmlAttribute(name=&quot;range&quot;)\r\n\tprivate void setRange(int range)\r\n\t{\r\n\t\tthis.range = range;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the power\r\n\t */\r\n\tpublic int getPower()\r\n\t{\r\n\t\treturn power;\r\n\t}\r\n\r\n\t/**\r\n\t * @param power the power to set\r\n\t */\r\n\t@XmlAttribute(name=&quot;power&quot;)\r\n\tprivate void setPower(int power)\r\n\t{\r\n\t\tthis.power = power;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the chart\r\n\t */\r\n\tpublic Chart getChart()\r\n\t{\r\n\t\treturn chart;\r\n\t}\r\n\r\n\t/**\r\n\t * @param chart the chart to set\r\n\t */\r\n\t@XmlAttribute(name=&quot;chart&quot;)\r\n\tprivate void setChart(String chartName)\r\n\t{\r\n\t\tthis.chart = Chart.valueOf(chartName);\r\n\t}\r\n\t\r\n\t@XmlRootElement(name = &quot;PhaserTypes&quot;)\r\n\t@XmlAccessorType (XmlAccessType.FIELD)\r\n\tprivate static class PhaserTypes \r\n\t{\r\n\t\t@XmlElement(name = &quot;PhaserType&quot;)\r\n\t\tprivate List&lt;PhaserType&gt; phaserTypes = null;\r\n\t \r\n\t\tpublic List&lt;PhaserType&gt; getPhaserTypes()\r\n\t\t{\r\n\t\t\treturn phaserTypes;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nAnd in case you need additional information or want to set up the project yourself, I wanted to append the xsd, the package-info.java, the enum and a small Main to try it out. But when I did this, stackoverflow tells me &quot;Your question appears to be spam&quot; and does not allow me to post.\r\n","title":"My xml contains a String with the name of the enum constant the setter should pick when using JAXB, but fails to do so. How is this done right?","body":"<p>I am using Java 8's embedded JAXB to generate a catalogue/registry of Java objects from a xml configuration file. One attribute of the element representing the class of objects to import is a string that corresponds to the name of an enum constant on the java side (not an enum inside the xml). My intention was, that on import JAXB calls the corresponding setter, hands over the String as Partameter and the setter then picks the correct constant from the enum and assigns it to the Java Object's respective field.</p>\n<p>When I execute the code, the catalogue is read in, and all other data is set correctly, just the field that should contain the enum constant remains null. I tried to put a System.out inside that setter, and it seems it is not called. Please help me to understand what I am doing wrong and how to get the result I want.</p>\n<p>A small sample XML &quot;/PhaserType.xml&quot;:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;tns:PhaserTypes xmlns:tns=&quot;http://my.example.org/PhaserTypeSchema&quot;\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                 xsi:schemaLocation=&quot;http://my.example.org/PhaserTypeSchema PhaserTypeSchema.xsd &quot;&gt;\n  &lt;tns:PhaserType name=&quot;FH-3&quot;  range=&quot;20&quot; power=&quot;5&quot;  chart=&quot;A&quot; /&gt;\n  &lt;tns:PhaserType name=&quot;FH-10&quot; range=&quot;20&quot; power=&quot;7&quot;  chart=&quot;B&quot; /&gt;\n  &lt;tns:PhaserType name=&quot;FH-11&quot; range=&quot;24&quot; power=&quot;10&quot; chart=&quot;C&quot; /&gt;\n&lt;/tns:PhaserTypes&gt;\n</code></pre>\n<p>The Java class file &quot;/org/example/my/PhaserType.java&quot; for the catalogue objects, the setter in question is <code>setChart(String chartName)</code>:</p>\n<pre><code>package org.example.my;\n\nimport java.io.File;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Optional;\n\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Unmarshaller;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n@XmlRootElement(name = &quot;PhaserType&quot;)\n@XmlAccessorType(XmlAccessType.PROPERTY)\npublic class PhaserType\n{\n    private static final Map&lt;String, PhaserType&gt; PHASER_TYPE_REGISTRY = new HashMap&lt;&gt;();\n    private String name;\n    private int range;\n    private int power;\n    private Chart chart;\n\n    // init phaser type registry on class load\n    static \n    {\n        File configFile = getConfigFile();\n        JAXBContext jaxbContext;\n\n        try\n        {\n          jaxbContext = JAXBContext.newInstance(PhaserTypes.class);        \n         \n          Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n         \n          PhaserTypes phaserTypes = (PhaserTypes) jaxbUnmarshaller.unmarshal(configFile);\n          \n          for (PhaserType type : phaserTypes.getPhaserTypes())\n          {\n              PHASER_TYPE_REGISTRY.put(type.getName(), type);\n          }\n        }\n        catch (JAXBException e)\n        {\n            throw new RuntimeException(e.toString(), e);\n        }           \n    }\n\n    private static File getConfigFile()\n    {\n        ClassLoader loader = ClassLoader.getSystemClassLoader();\n        URL resource = loader.getResource(&quot;PhaserType.xml&quot;);\n        if (resource == null)\n        {\n            throw new RuntimeException(&quot;resource PhaserType.xml not found&quot;);\n        }\n        else\n        {\n            try\n            {\n                return new File(resource.toURI());\n            }\n            catch (URISyntaxException e)\n            {\n                throw new RuntimeException(e.toString(), e);\n            }\n        }\n    }\n\n    public static Optional&lt;PhaserType&gt; get(String name)\n    {\n        Optional&lt;PhaserType&gt; result;\n        if (PHASER_TYPE_REGISTRY.containsKey(name))\n        {\n            result = Optional.of(PHASER_TYPE_REGISTRY.get(name));\n        }\n        else\n        {\n            result = Optional.empty();\n        }\n        return result;\n    }\n\n    private PhaserType()\n    {\n    }\n\n    /**\n     * @return the name\n     */\n    public String getName()\n    {\n        return name;\n    }\n\n    /**\n     * @param name the name to set\n     */\n    @XmlAttribute(name=&quot;name&quot;)\n    private void setName(String name)\n    {\n        this.name = name;\n    }\n\n    /**\n     * @return the range\n     */\n    public int getRange()\n    {\n        return range;\n    }\n\n    /**\n     * @param range the range to set\n     */\n    @XmlAttribute(name=&quot;range&quot;)\n    private void setRange(int range)\n    {\n        this.range = range;\n    }\n\n    /**\n     * @return the power\n     */\n    public int getPower()\n    {\n        return power;\n    }\n\n    /**\n     * @param power the power to set\n     */\n    @XmlAttribute(name=&quot;power&quot;)\n    private void setPower(int power)\n    {\n        this.power = power;\n    }\n\n    /**\n     * @return the chart\n     */\n    public Chart getChart()\n    {\n        return chart;\n    }\n\n    /**\n     * @param chart the chart to set\n     */\n    @XmlAttribute(name=&quot;chart&quot;)\n    private void setChart(String chartName)\n    {\n        this.chart = Chart.valueOf(chartName);\n    }\n    \n    @XmlRootElement(name = &quot;PhaserTypes&quot;)\n    @XmlAccessorType (XmlAccessType.FIELD)\n    private static class PhaserTypes \n    {\n        @XmlElement(name = &quot;PhaserType&quot;)\n        private List&lt;PhaserType&gt; phaserTypes = null;\n     \n        public List&lt;PhaserType&gt; getPhaserTypes()\n        {\n            return phaserTypes;\n        }\n    }\n}\n</code></pre>\n<p>And in case you need additional information or want to set up the project yourself, I wanted to append the xsd, the package-info.java, the enum and a small Main to try it out. But when I did this, stackoverflow tells me &quot;Your question appears to be spam&quot; and does not allow me to post.</p>\n"},{"tags":["java","generics","swagger"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1686083300,"post_id":76418153,"comment_id":134750076,"body_markdown":"No, it is not, and is not necessary. The generic parameter does not influence the `.class` object. Generics in Java are different from, e.g., template parameters in C++ where each parameterized instance generates a separate &quot;class&quot;.","body":"No, it is not, and is not necessary. The generic parameter does not influence the <code>.class</code> object. Generics in Java are different from, e.g., template parameters in C++ where each parameterized instance generates a separate &quot;class&quot;."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1686083768,"post_id":76418153,"comment_id":134750148,"body_markdown":"[`ideone.com` demo](https://ideone.com/aQ0jbM) for my claim.","body":"<a href=\"https://ideone.com/aQ0jbM\" rel=\"nofollow noreferrer\"><code>ideone.com</code> demo</a> for my claim."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1686084713,"post_id":76418153,"comment_id":134750319,"body_markdown":"Does this answer your question? [Get generic type of class at runtime](https://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime\">Get generic type of class at runtime</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1686085158,"post_id":76418153,"comment_id":134750409,"body_markdown":"You need something like [`TypeToken`](https://guava.dev/typetoken) to do anything like this.","body":"You need something like <a href=\"https://guava.dev/typetoken\" rel=\"nofollow noreferrer\"><code>TypeToken</code></a> to do anything like this."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150541,"post_id":76418153,"comment_id":134760413,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686087385,"creation_date":1686087385,"answer_id":76418619,"question_id":76418153,"body_markdown":"First, `ParameterizedClass&lt;MyClass&gt;.class` does not compile …\r\n\r\nBut let&#39;s assume it would …\r\n\r\nThen you would encounter the surprising fact that\r\n\r\n```ParameterizedClass&lt;MyClass&gt;.class.equals( ParameterizedClass&lt;String&gt;.class )``` \r\n\r\nis always true. In fact, even \r\n\r\n```ParameterizedClass&lt;MyClass&gt;.class == ParameterizedClass&lt;String&gt;.class``` \r\n\r\nwould be always true.\r\n\r\nThis means that you can just use `ParameterizedClass.class` to get the `Class`object for your class – and that compiles …\r\n\r\nThe reason for that the TypeParameter will be &#39;erased&#39; during/after compilation. It is not part of the code in the &#39;.class&#39; file.\r\n","title":"Java generics. Getting .class attribute","body":"<p>First, <code>ParameterizedClass&lt;MyClass&gt;.class</code> does not compile …</p>\n<p>But let's assume it would …</p>\n<p>Then you would encounter the surprising fact that</p>\n<p><code>ParameterizedClass&lt;MyClass&gt;.class.equals( ParameterizedClass&lt;String&gt;.class )</code></p>\n<p>is always true. In fact, even</p>\n<p><code>ParameterizedClass&lt;MyClass&gt;.class == ParameterizedClass&lt;String&gt;.class</code></p>\n<p>would be always true.</p>\n<p>This means that you can just use <code>ParameterizedClass.class</code> to get the <code>Class</code>object for your class – and that compiles …</p>\n<p>The reason for that the TypeParameter will be 'erased' during/after compilation. It is not part of the code in the '.class' file.</p>\n"}],"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686087385,"creation_date":1686082736,"question_id":76418153,"body_markdown":"I know that for get a class name from a java Class I can do `MyClass.class`, but I cannot do this on parametrized class. For example I want to do `ParametrizedClass&lt;MyClass&gt;.class`.\r\n\r\nAnyone knows if this is possible?\r\n\r\nI want to get class from parametrized class for generating Swagger documentation.","title":"Java generics. Getting .class attribute","body":"<p>I know that for get a class name from a java Class I can do <code>MyClass.class</code>, but I cannot do this on parametrized class. For example I want to do <code>ParametrizedClass&lt;MyClass&gt;.class</code>.</p>\n<p>Anyone knows if this is possible?</p>\n<p>I want to get class from parametrized class for generating Swagger documentation.</p>\n"},{"tags":["java","swing","jframe","jdialog","joptionpane"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1355387161,"post_id":13855526,"comment_id":19076250,"body_markdown":"See [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/a/9554657/418556)","body":"See <a href=\"http://stackoverflow.com/a/9554657/418556\">The Use of Multiple JFrames, Good/Bad Practice?</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686087198,"creation_date":1355387108,"answer_id":13855761,"question_id":13855526,"body_markdown":"You want to use a modal dialog of some kind.  Dialogs are designed to &quot;halt&quot; execution of the program at the point where they are displayed.\r\n\r\nCheck out [How to Make Dialogs](http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html).\r\n\r\nYou can also use a `JOptionPane` to make your life easier, as they can be configured with different buttons/options relatively easily.  Check out [JOptionPane Features](http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#features) for an overview\r\n\r\n**Updated with Example**\r\n\r\n![enter image description here][1]\r\n\r\n    public class TestOptionPane01 {\r\n\r\n        public static void main(String[] args) {\r\n            new TestOptionPane01();\r\n        }\r\n\r\n        public TestOptionPane01() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n                    \r\n                    FormPane formPane = new FormPane();\r\n                    int result = JOptionPane.showConfirmDialog(\r\n                                    null, \r\n                                    formPane, \r\n                                    &quot;Edit User&quot;, \r\n                                    JOptionPane.OK_CANCEL_OPTION, \r\n                                    -1);\r\n                    \r\n                    switch (result) {\r\n                        \r\n                        case JOptionPane.OK_OPTION:\r\n                            System.out.println(&quot;You selected okay&quot;);\r\n                            break;\r\n                        case JOptionPane.OK_CANCEL_OPTION:\r\n                            System.out.println(&quot;You selected cancel&quot;);\r\n                            break;\r\n                        \r\n                    }\r\n                    \r\n                }\r\n            });\r\n        }\r\n        \r\n        public class FormPane extends JPanel {\r\n        \r\n            public FormPane() {\r\n                \r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.insets = new Insets(2, 2, 2, 2);\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.weightx = 1;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.anchor = GridBagConstraints.WEST;\r\n                add(new JLabel(&quot;Edit User&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JSeparator(), gbc);\r\n                \r\n                gbc.gridwidth = 1;\r\n                gbc.weightx = 0;\r\n                gbc.fill = GridBagConstraints.NONE;\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Fill all fields to edit user tecord&quot;), gbc);\r\n\r\n                gbc.gridy++;\r\n                gbc.gridheight = 2;\r\n                add(new JLabel(&quot;Select Image Icon&quot;), gbc);\r\n                gbc.gridheight = 1;\r\n                gbc.gridy += 2;\r\n                add(new JLabel(&quot;First Name&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Last Name&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Password&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Confirm Password&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Email Address&quot;), gbc);\r\n                \r\n                gbc.gridx++;\r\n                gbc.gridy = 3;\r\n                gbc.anchor = GridBagConstraints.EAST;\r\n                add(new JLabel(&quot;Maximum Image Size 32x32&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JButton(&quot;Select&quot;), gbc);\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n\r\n                gbc.gridx++;\r\n                gbc.gridy = 3;\r\n                gbc.anchor = GridBagConstraints.CENTER;\r\n                gbc.gridheight = 3;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n                JPanel panel = new JPanel();\r\n                panel.setBorder(new BevelBorder(BevelBorder.RAISED));\r\n                add(panel, gbc);\r\n                gbc.gridy += 3;\r\n                gbc.gridheight = 1;\r\n                gbc.fill = GridBagConstraints.NONE;\r\n                add(new JButton(&quot;Clear Image&quot;), gbc);\r\n                \r\n            }\r\n            \r\n        }\r\n        \r\n        \r\n    }\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aostk.png","title":"One JFrame don&#39;t stop other frame&#39;s code","body":"<p>You want to use a modal dialog of some kind.  Dialogs are designed to &quot;halt&quot; execution of the program at the point where they are displayed.</p>\n<p>Check out <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a>.</p>\n<p>You can also use a <code>JOptionPane</code> to make your life easier, as they can be configured with different buttons/options relatively easily.  Check out <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#features\" rel=\"nofollow noreferrer\">JOptionPane Features</a> for an overview</p>\n<p><strong>Updated with Example</strong></p>\n<p><img src=\"https://i.stack.imgur.com/aostk.png\" alt=\"enter image description here\" /></p>\n<pre><code>public class TestOptionPane01 {\n\n    public static void main(String[] args) {\n        new TestOptionPane01();\n    }\n\n    public TestOptionPane01() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n                \n                FormPane formPane = new FormPane();\n                int result = JOptionPane.showConfirmDialog(\n                                null, \n                                formPane, \n                                &quot;Edit User&quot;, \n                                JOptionPane.OK_CANCEL_OPTION, \n                                -1);\n                \n                switch (result) {\n                    \n                    case JOptionPane.OK_OPTION:\n                        System.out.println(&quot;You selected okay&quot;);\n                        break;\n                    case JOptionPane.OK_CANCEL_OPTION:\n                        System.out.println(&quot;You selected cancel&quot;);\n                        break;\n                    \n                }\n                \n            }\n        });\n    }\n    \n    public class FormPane extends JPanel {\n    \n        public FormPane() {\n            \n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.insets = new Insets(2, 2, 2, 2);\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.weightx = 1;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.anchor = GridBagConstraints.WEST;\n            add(new JLabel(&quot;Edit User&quot;), gbc);\n            gbc.gridy++;\n            add(new JSeparator(), gbc);\n            \n            gbc.gridwidth = 1;\n            gbc.weightx = 0;\n            gbc.fill = GridBagConstraints.NONE;\n            gbc.gridy++;\n            add(new JLabel(&quot;Fill all fields to edit user tecord&quot;), gbc);\n\n            gbc.gridy++;\n            gbc.gridheight = 2;\n            add(new JLabel(&quot;Select Image Icon&quot;), gbc);\n            gbc.gridheight = 1;\n            gbc.gridy += 2;\n            add(new JLabel(&quot;First Name&quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Last Name&quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Password&quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Confirm Password&quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Email Address&quot;), gbc);\n            \n            gbc.gridx++;\n            gbc.gridy = 3;\n            gbc.anchor = GridBagConstraints.EAST;\n            add(new JLabel(&quot;Maximum Image Size 32x32&quot;), gbc);\n            gbc.gridy++;\n            add(new JButton(&quot;Select&quot;), gbc);\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n\n            gbc.gridx++;\n            gbc.gridy = 3;\n            gbc.anchor = GridBagConstraints.CENTER;\n            gbc.gridheight = 3;\n            gbc.fill = GridBagConstraints.BOTH;\n            JPanel panel = new JPanel();\n            panel.setBorder(new BevelBorder(BevelBorder.RAISED));\n            add(panel, gbc);\n            gbc.gridy += 3;\n            gbc.gridheight = 1;\n            gbc.fill = GridBagConstraints.NONE;\n            add(new JButton(&quot;Clear Image&quot;), gbc);\n            \n        }\n        \n    }\n    \n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2138148,"reputation":56,"user_id":1897422,"display_name":"Aworx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1355392763,"creation_date":1355392763,"answer_id":13857290,"question_id":13855526,"body_markdown":"you can use the \r\n\r\n    &#39;editUserFrame.addWindowListener(new WindowAdapter()\r\n    {\r\n        public void windowClosed(WindowEvent e){\r\n        //call your method from here\r\n            RefreshUserTable();\r\n        }\r\n    };&#39;\r\nhope this helps","title":"One JFrame don&#39;t stop other frame&#39;s code","body":"<p>you can use the </p>\n\n<pre><code>'editUserFrame.addWindowListener(new WindowAdapter()\n{\n    public void windowClosed(WindowEvent e){\n    //call your method from here\n        RefreshUserTable();\n    }\n};'\n</code></pre>\n\n<p>hope this helps</p>\n"}],"owner":{"account_id":1335541,"reputation":1181,"user_id":1278397,"accept_rate":55,"display_name":"Haseeb Wali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13857290,"answer_count":2,"score":0,"last_activity_date":1686087198,"creation_date":1355386076,"question_id":13855526,"body_markdown":"When the user clicks on the edit button a new frame is shown to them, and when the new frame is closed i want the refresh line to execute but problem is, the refresh line is executed before closing the new frame...I am using NetBeans for making UI.    \r\n    \r\n    //If user clicks on edit button new frame will be shown to him \r\n    EditUserFrame editUserFrame = new EditUserFrame();\r\n    Iterator itr = userList.iterator();\r\n    while(itr.hasNext()){\r\n        user = (Users)itr.next();\r\n        if((user.getF_name().equals(f_name) &amp;&amp; user.getL_name().equals(l_name))){\r\n            break;\r\n        }\r\n    }//End of While Loop\r\n    editUserFrame.setUserObj(user);\r\n    editUserFrame.getExistingValues();\r\n    editUserFrame.setVisible(true);\r\n    //I want this line to be executed when the editUserFrame is closed..\r\n    RefreshUserTable();\r\nI want new Frame like this is it possible to make form given in picture in JOPtionPane as suggested by you guys.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/POfc0.png","title":"One JFrame don&#39;t stop other frame&#39;s code","body":"<p>When the user clicks on the edit button a new frame is shown to them, and when the new frame is closed i want the refresh line to execute but problem is, the refresh line is executed before closing the new frame...I am using NetBeans for making UI.    </p>\n\n<pre><code>//If user clicks on edit button new frame will be shown to him \nEditUserFrame editUserFrame = new EditUserFrame();\nIterator itr = userList.iterator();\nwhile(itr.hasNext()){\n    user = (Users)itr.next();\n    if((user.getF_name().equals(f_name) &amp;&amp; user.getL_name().equals(l_name))){\n        break;\n    }\n}//End of While Loop\neditUserFrame.setUserObj(user);\neditUserFrame.getExistingValues();\neditUserFrame.setVisible(true);\n//I want this line to be executed when the editUserFrame is closed..\nRefreshUserTable();\n</code></pre>\n\n<p>I want new Frame like this is it possible to make form given in picture in JOPtionPane as suggested by you guys.</p>\n\n<p><img src=\"https://i.stack.imgur.com/POfc0.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","r","stanford-nlp"],"comments":[{"owner":{"account_id":25665501,"reputation":11,"user_id":19430550,"display_name":"Eva Bonning"},"score":0,"creation_date":1686092616,"post_id":76410398,"comment_id":134751241,"body_markdown":"It seems the version of java I had was incorrect, and I needed to download the right version for the M1 chip, which I did using the following resources:\n\nhttps://www.youtube.com/watch?v=mWWMnaFEETc&amp;ab_channel=CodeWithArjun\nhttps://www.oracle.com/nz/java/technologies/downloads/","body":"It seems the version of java I had was incorrect, and I needed to download the right version for the M1 chip, which I did using the following resources:  <a href=\"https://www.youtube.com/watch?v=mWWMnaFEETc&amp;ab_channel=CodeWithArjun\" rel=\"nofollow noreferrer\">youtube.com/watch?v=mWWMnaFEETc&amp;ab_channel=CodeWithArjun</a> <a href=\"https://www.oracle.com/nz/java/technologies/downloads/\" rel=\"nofollow noreferrer\">oracle.com/nz/java/technologies/downloads</a>"}],"owner":{"account_id":25665501,"reputation":11,"user_id":19430550,"display_name":"Eva Bonning"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686085869,"creation_date":1686004513,"question_id":76410398,"body_markdown":"I&#39;ve been trying to use the most recent update of CoreNLP on my mac and I keep getting the following error message when I run the code below. \r\n\r\n    library(coreNLP)\r\n\r\n    Error: package or namespace load failed for ‘coreNLP’:\r\n    .onLoad failed in loadNamespace() for &#39;rJava&#39;, details:\r\n     call: dyn.load(jli, FALSE)\r\n     error: unable to load shared object &#39;/Library/Internet Plug- \r\n    Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39;:\r\n     dlopen(/Library/Internet Plug- \r\n    Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib, \r\n    0x000A): tried: &#39;/Library/Internet Plug- \r\n    Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; \r\n     (mach-o file, but is an incompatible architecture (have \r\n    &#39;x86_64&#39;, need &#39;arm64&#39;)), \r\n    &#39;/System/Volumes/Preboot/Cryptexes/OS/Library/Internet Plug- \r\n    Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; \r\n    (no such file), &#39;/Library/Internet Plug- \r\n    Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; \r\n     (mach-o file, but is an incompatible architecture (have \r\n      &#39;x86_64&#39;, need &#39;arm64&#39;))\r\n\r\nI seem to be able to install the package no problem, but I can&#39;t initiate it. As I understand it, it seems to be some sort of incompatible architecture problem. That is, the error is saying the package is for use on Windows not for Mac. The whole issue seems unusual to me as I used the package before its update last year no problems. Java and R are both up to date on my computer.\r\n","title":"Can&#39;t Get CoreNLP October 2022 Update to run in R on Mac","body":"<p>I've been trying to use the most recent update of CoreNLP on my mac and I keep getting the following error message when I run the code below.</p>\n<pre><code>library(coreNLP)\n\nError: package or namespace load failed for ‘coreNLP’:\n.onLoad failed in loadNamespace() for 'rJava', details:\n call: dyn.load(jli, FALSE)\n error: unable to load shared object '/Library/Internet Plug- \nIns/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib':\n dlopen(/Library/Internet Plug- \nIns/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib, \n0x000A): tried: '/Library/Internet Plug- \nIns/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' \n (mach-o file, but is an incompatible architecture (have \n'x86_64', need 'arm64')), \n'/System/Volumes/Preboot/Cryptexes/OS/Library/Internet Plug- \nIns/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' \n(no such file), '/Library/Internet Plug- \nIns/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' \n (mach-o file, but is an incompatible architecture (have \n  'x86_64', need 'arm64'))\n</code></pre>\n<p>I seem to be able to install the package no problem, but I can't initiate it. As I understand it, it seems to be some sort of incompatible architecture problem. That is, the error is saying the package is for use on Windows not for Mac. The whole issue seems unusual to me as I used the package before its update last year no problems. Java and R are both up to date on my computer.</p>\n"},{"tags":["java","validation","three.js","gltf"],"answers":[{"tags":[],"owner":{"account_id":1381961,"reputation":11270,"user_id":1314762,"display_name":"Don McCurdy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686085673,"creation_date":1686061645,"answer_id":76415718,"question_id":76408872,"body_markdown":"You might be looking for [KhronosGroup/glTF-Validator](https://github.com/KhronosGroup/glTF-Validator). However, the official glTF validator is not written in Java. It can be compiled to WebAssembly, but may take some considerable effort to run in a Java Spring Boot backend. The glTF specification also includes JSON-LD [schema files](https://github.com/KhronosGroup/glTF/tree/main/specification/2.0/schema), and I expect you could find libraries for Java that validate arbitrary JSON data against JSON-LD schema files, although I am not able to recommend such a library myself.\r\n\r\nFurthermore, detecting that the file is a _valid_ glTF asset is not quite the same thing as detecting that it is _non-malicious_ (although it&#39;s certainly a good start). A glTF scene might be valid while also containing a maliciously-crafted JPEG or PNG texture, for example. \r\n\r\nIn my opinion, the only safe approach is to _sanitize_ the glTF asset and any binary resources (like images) it relies on. Essentially this means rebuilding files with a trusted I/O library, not just sniffing them for problems. [Existing Stack Overflow answers](https://security.stackexchange.com/q/17095/241730) describe how to do this for 2D images, although I&#39;m not aware of complete answers as related to 3D scenes.","title":"glTF file validation with Java Spring Boot","body":"<p>You might be looking for <a href=\"https://github.com/KhronosGroup/glTF-Validator\" rel=\"nofollow noreferrer\">KhronosGroup/glTF-Validator</a>. However, the official glTF validator is not written in Java. It can be compiled to WebAssembly, but may take some considerable effort to run in a Java Spring Boot backend. The glTF specification also includes JSON-LD <a href=\"https://github.com/KhronosGroup/glTF/tree/main/specification/2.0/schema\" rel=\"nofollow noreferrer\">schema files</a>, and I expect you could find libraries for Java that validate arbitrary JSON data against JSON-LD schema files, although I am not able to recommend such a library myself.</p>\n<p>Furthermore, detecting that the file is a <em>valid</em> glTF asset is not quite the same thing as detecting that it is <em>non-malicious</em> (although it's certainly a good start). A glTF scene might be valid while also containing a maliciously-crafted JPEG or PNG texture, for example.</p>\n<p>In my opinion, the only safe approach is to <em>sanitize</em> the glTF asset and any binary resources (like images) it relies on. Essentially this means rebuilding files with a trusted I/O library, not just sniffing them for problems. <a href=\"https://security.stackexchange.com/q/17095/241730\">Existing Stack Overflow answers</a> describe how to do this for 2D images, although I'm not aware of complete answers as related to 3D scenes.</p>\n"}],"owner":{"account_id":23310280,"reputation":63,"user_id":17389648,"display_name":"shadowsandlights"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76415718,"answer_count":1,"score":0,"last_activity_date":1686085673,"creation_date":1685987578,"question_id":76408872,"body_markdown":"I want to create an app with Three.js in the frontend and Java Spring Boot in the backend. Furthermore, the users shall be able to upload .glTF files which then shall be stored on the server. One concern I have is that I can&#39;t find a library or solution on how to check the validity or security of the .glTF, hence that it is not e.g. malicious, before storing it. Therefore I wanted to ask if anyone has an idea or solution to this problem. I found this repository https://github.com/javagl/JglTF which provides a gltf validator but it alarms that it is only for internal use and thus the other libraries. A glTF file has a JSON structure if that&#39;s relevant.\r\n\r\nThe options I considered:\r\n - checking for general keys of glTF\r\n - checking the mime type\r\n\r\n ","title":"glTF file validation with Java Spring Boot","body":"<p>I want to create an app with Three.js in the frontend and Java Spring Boot in the backend. Furthermore, the users shall be able to upload .glTF files which then shall be stored on the server. One concern I have is that I can't find a library or solution on how to check the validity or security of the .glTF, hence that it is not e.g. malicious, before storing it. Therefore I wanted to ask if anyone has an idea or solution to this problem. I found this repository <a href=\"https://github.com/javagl/JglTF\" rel=\"nofollow noreferrer\">https://github.com/javagl/JglTF</a> which provides a gltf validator but it alarms that it is only for internal use and thus the other libraries. A glTF file has a JSON structure if that's relevant.</p>\n<p>The options I considered:</p>\n<ul>\n<li>checking for general keys of glTF</li>\n<li>checking the mime type</li>\n</ul>\n"},{"tags":["javascript","java","html","css","node.js"],"comments":[{"owner":{"account_id":11470426,"reputation":469,"user_id":11351620,"display_name":"Vasya"},"score":0,"creation_date":1686074179,"post_id":76417147,"comment_id":134748501,"body_markdown":"At the very least, you need to include MathJax library src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full&quot;","body":"At the very least, you need to include MathJax library src=&quot;<a href=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full\" rel=\"nofollow noreferrer\">cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/&hellip;</a>&quot;"},{"owner":{"account_id":28766894,"reputation":1,"user_id":22031596,"display_name":"Kernier"},"score":0,"creation_date":1686076013,"post_id":76417147,"comment_id":134748840,"body_markdown":"I added     `&lt;script scr=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full&quot;&gt;&lt;/script&gt;` a tthe end of head but what next?","body":"I added     <code>&lt;script scr=&quot;https:&#47;&#47;cdnjs.cloudflare.com&#47;ajax&#47;libs&#47;mathjax&#47;2.7.5&#47;Ma&zwnj;&#8203;thJax.js?config=TeX-&zwnj;&#8203;AMS_HTML-full&quot;&gt;&lt;&#47;scr&zwnj;&#8203;ipt&gt;</code> a tthe end of head but what next?"}],"answers":[{"tags":[],"owner":{"account_id":18383506,"reputation":61,"user_id":13391106,"display_name":"PowerKuu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686085224,"creation_date":1686084125,"answer_id":76418307,"question_id":76417147,"body_markdown":"If youre current code does not work this is the solution:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;./node_modules/@stackoverflow/stacks/dist/css/stacks.css&quot; /&gt;\r\n        &lt;!-- include the bundled styles --&gt;\r\n        &lt;link\r\n            rel=&quot;stylesheet&quot;\r\n            href=&quot;./node_modules/@stackoverflow/stacks-editor/dist/styles.css&quot;\r\n        /&gt;\r\n        \r\n        &lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\r\n        &lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;!--include Stacks --&gt;\r\n        &lt;script src=&quot;/node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;!-- include the bundle --&gt;\r\n        &lt;script src=&quot;/node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n            \r\n        &lt;div id=&quot;editor-container&quot;&gt;&lt;/div&gt;\r\n        &lt;script&gt;\r\n            new stacksEditor.StacksEditor(\r\n                document.querySelector(&quot;#editor-container&quot;),\r\n                &quot;*Your* **markdown** here&quot;,\r\n                {}\r\n            );\r\n        &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nBut i did not find any way of using latex with the StackEditor. But i found a website that have a latex editor [https://stackedit.io/app][1].\r\n\r\nIf you are importing youre script as an external js file instead of using in the body as a &lt;script&gt;&lt;/script&gt; tag. Remember to use defer:\r\n\r\n    &lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\r\n    &lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot; defer&gt;&lt;/script&gt;\r\n    &lt;!--include Stacks --&gt;\r\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot; defer&gt;&lt;/script&gt;\r\n    &lt;!-- include the bundle --&gt;\r\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot; defer&gt;&lt;/script&gt;\r\n\r\n\r\n  [1]: https://stackedit.io/app","title":"Stack-overflow markdown editor math enhancement","body":"<p>If youre current code does not work this is the solution:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./node_modules/@stackoverflow/stacks/dist/css/stacks.css&quot; /&gt;\n    &lt;!-- include the bundled styles --&gt;\n    &lt;link\n        rel=&quot;stylesheet&quot;\n        href=&quot;./node_modules/@stackoverflow/stacks-editor/dist/styles.css&quot;\n    /&gt;\n    \n    &lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\n    &lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot;&gt;&lt;/script&gt;\n    &lt;!--include Stacks --&gt;\n    &lt;script src=&quot;/node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot;&gt;&lt;/script&gt;\n    &lt;!-- include the bundle --&gt;\n    &lt;script src=&quot;/node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n        \n    &lt;div id=&quot;editor-container&quot;&gt;&lt;/div&gt;\n    &lt;script&gt;\n        new stacksEditor.StacksEditor(\n            document.querySelector(&quot;#editor-container&quot;),\n            &quot;*Your* **markdown** here&quot;,\n            {}\n        );\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>But i did not find any way of using latex with the StackEditor. But i found a website that have a latex editor <a href=\"https://stackedit.io/app\" rel=\"nofollow noreferrer\">https://stackedit.io/app</a>.</p>\n<p>If you are importing youre script as an external js file instead of using in the body as a  tag. Remember to use defer:</p>\n<pre><code>&lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\n&lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot; defer&gt;&lt;/script&gt;\n&lt;!--include Stacks --&gt;\n&lt;script src=&quot;./node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot; defer&gt;&lt;/script&gt;\n&lt;!-- include the bundle --&gt;\n&lt;script src=&quot;./node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot; defer&gt;&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":28766894,"reputation":1,"user_id":22031596,"display_name":"Kernier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686085224,"creation_date":1686073217,"question_id":76417147,"body_markdown":"I used the markdown editor from here: https://github.com/StackExchange/Stacks-Editor/tree/main\r\n\r\nMy code look like this:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Markdown Editor&lt;/title&gt;\r\n  &lt;!--include Stacks --&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;./node_modules/@stackoverflow/stacks/dist/css/stacks.css&quot; /&gt;\r\n&lt;!-- include the bundled styles --&gt;\r\n&lt;link\r\n    rel=&quot;stylesheet&quot;\r\n    href=&quot;./node_modules/@stackoverflow/stacks-editor/dist/styles.css&quot;\r\n/&gt;\r\n\r\n    &lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\r\n    &lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;!--include Stacks --&gt;\r\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;!-- include the bundle --&gt;\r\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot;&gt;&lt;/script&gt;\r\n    \r\n\r\n&lt;/head&gt;\r\n\r\n\r\n&lt;body&gt;\r\n\r\n    &lt;div style=&quot;margin:20px; width: 800px;&quot;&gt;\r\n    &lt;div id=&quot;editor-container&quot;&gt;&lt;/div&gt;\r\n        &lt;!-- initialize the editor --&gt;\r\n    &lt;script&gt;\r\n        new window.stacksEditor.StacksEditor(\r\n            document.querySelector(&quot;#editor-container&quot;),\r\n            &quot;*Your* **markdown** here&quot;,\r\n            {}\r\n        );\r\n     &lt;/script&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nUnfortunately, it doesnt have one very important feature - Latex math support. I would like to write simply $\\frac{1}{2}$ and produce a fraction. How can I add it?\r\n\r\n","title":"Stack-overflow markdown editor math enhancement","body":"<p>I used the markdown editor from here: <a href=\"https://github.com/StackExchange/Stacks-Editor/tree/main\" rel=\"nofollow noreferrer\">https://github.com/StackExchange/Stacks-Editor/tree/main</a></p>\n<p>My code look like this:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;Markdown Editor&lt;/title&gt;\n  &lt;!--include Stacks --&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;./node_modules/@stackoverflow/stacks/dist/css/stacks.css&quot; /&gt;\n&lt;!-- include the bundled styles --&gt;\n&lt;link\n    rel=&quot;stylesheet&quot;\n    href=&quot;./node_modules/@stackoverflow/stacks-editor/dist/styles.css&quot;\n/&gt;\n\n    &lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\n    &lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot;&gt;&lt;/script&gt;\n    &lt;!--include Stacks --&gt;\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot;&gt;&lt;/script&gt;\n    &lt;!-- include the bundle --&gt;\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot;&gt;&lt;/script&gt;\n    \n\n&lt;/head&gt;\n\n\n&lt;body&gt;\n\n    &lt;div style=&quot;margin:20px; width: 800px;&quot;&gt;\n    &lt;div id=&quot;editor-container&quot;&gt;&lt;/div&gt;\n        &lt;!-- initialize the editor --&gt;\n    &lt;script&gt;\n        new window.stacksEditor.StacksEditor(\n            document.querySelector(&quot;#editor-container&quot;),\n            &quot;*Your* **markdown** here&quot;,\n            {}\n        );\n     &lt;/script&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Unfortunately, it doesnt have one very important feature - Latex math support. I would like to write simply $\\frac{1}{2}$ and produce a fraction. How can I add it?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1686081740,"post_id":76417732,"comment_id":134749843,"body_markdown":"I mean, if you say `&lt;skip&gt;true&lt;/skip&gt;`, it is just skipped...","body":"I mean, if you say <code>&lt;skip&gt;true&lt;&#47;skip&gt;</code>, it is just skipped..."},{"owner":{"account_id":5315079,"reputation":314,"user_id":5322269,"display_name":"Wesley"},"score":0,"creation_date":1686082665,"post_id":76417732,"comment_id":134749988,"body_markdown":"But that is the thing it is not skipping the enforcer. I also have tried a different config directly from maven and also adjusted it to exclude some snapshots wild a wild card for example but that was not honored either it would still throw the snapshot error\n\n`nuxeo-studio:xxx-xxx-dam:jar:lts2021-SNAPSHOT &lt;--- is not a release dependency` I will get this even when having added this:\n\n`&lt;requireReleaseDeps&gt;\n  &lt;message&gt;No Snapshots Allowed!!!!&lt;/message&gt;\n  &lt;excludes&gt;\n    &lt;exclude&gt;nuxeo-studio:*&lt;/exclude&gt;\n  &lt;/excludes&gt;\n&lt;/requireReleaseDeps&gt;`","body":"But that is the thing it is not skipping the enforcer. I also have tried a different config directly from maven and also adjusted it to exclude some snapshots wild a wild card for example but that was not honored either it would still throw the snapshot error  <code>nuxeo-studio:xxx-xxx-dam:jar:lts2021-SNAPSHOT &lt;--- is not a release dependency</code> I will get this even when having added this:  <code>&lt;requireReleaseDeps&gt;   &lt;message&gt;No Snapshots Allowed!!!!&lt;&#47;message&gt;   &lt;excludes&gt;     &lt;exclude&gt;nuxeo-studio:*&lt;&#47;exclude&gt;   &lt;&#47;excludes&gt; &lt;&#47;requireReleaseDeps&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5315079,"reputation":314,"user_id":5322269,"display_name":"Wesley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686084823,"creation_date":1686084823,"answer_id":76418385,"question_id":76417732,"body_markdown":"So I have found the solution to this problem due to working with Nuxeo packages the below property is not working\r\n`&lt;properties&gt;\r\n  &lt;enforcer.skip&gt;true&lt;/enforcer.skip&gt;\r\n&lt;/properties&gt;`\r\n\r\nBut this property is\r\n`&lt;properties&gt;\r\n  &lt;nuxeo.skip.enforcer&gt;true&lt;/nuxeo.skip.enforcer&gt;\r\n&lt;/properties&gt;`\r\n","title":"Maven maven-enforcer-plugin POM configuration not honored","body":"<p>So I have found the solution to this problem due to working with Nuxeo packages the below property is not working\n<code>&lt;properties&gt; &lt;enforcer.skip&gt;true&lt;/enforcer.skip&gt; &lt;/properties&gt;</code></p>\n<p>But this property is\n<code>&lt;properties&gt; &lt;nuxeo.skip.enforcer&gt;true&lt;/nuxeo.skip.enforcer&gt; &lt;/properties&gt;</code></p>\n"}],"owner":{"account_id":5315079,"reputation":314,"user_id":5322269,"display_name":"Wesley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76418385,"answer_count":1,"score":0,"last_activity_date":1686084823,"creation_date":1686078629,"question_id":76417732,"body_markdown":"I am having some issues with local non release builds. I am upgrading our Java repository from Java 8 to 11. Ever since I have been updating package dependencies to pass the build which all got resolved but for some reason for our dev package I am getting &quot;No Snapshots allowed&quot; I have been trying different POM configurations to bypass that error as it is a dev build and snapshots should be fine.\r\n\r\nMy latest configuration in the parent pom has the following\r\n```&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        \r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\nNevertheless I tried many variations by also trying out configurations from the maven site directly like https://maven.apache.org/enforcer/enforcer-rules/requireReleaseDeps.html and have been trying to apply not just to the parent but the child folders as well.\r\n\r\nThe reason I am saying is it is not being honored is when I try a different message for this block: `&lt;message&gt;No Snapshots Allowed!&lt;/message&gt;` I still get the default message and not my custom message. But if I change the version it seems to be honored.\r\n\r\nAny help would be appreciated","title":"Maven maven-enforcer-plugin POM configuration not honored","body":"<p>I am having some issues with local non release builds. I am upgrading our Java repository from Java 8 to 11. Ever since I have been updating package dependencies to pass the build which all got resolved but for some reason for our dev package I am getting &quot;No Snapshots allowed&quot; I have been trying different POM configurations to bypass that error as it is a dev build and snapshots should be fine.</p>\n<p>My latest configuration in the parent pom has the following</p>\n<pre><code>        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        \n    &lt;/build&gt;\n</code></pre>\n<p>Nevertheless I tried many variations by also trying out configurations from the maven site directly like <a href=\"https://maven.apache.org/enforcer/enforcer-rules/requireReleaseDeps.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/enforcer/enforcer-rules/requireReleaseDeps.html</a> and have been trying to apply not just to the parent but the child folders as well.</p>\n<p>The reason I am saying is it is not being honored is when I try a different message for this block: <code>&lt;message&gt;No Snapshots Allowed!&lt;/message&gt;</code> I still get the default message and not my custom message. But if I change the version it seems to be honored.</p>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","spring","spring-boot","mustache","spring-rest"],"answers":[{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686084211,"creation_date":1686084211,"answer_id":76418316,"question_id":76418202,"body_markdown":"You&#39;re using @RestController while you actually need @Controller. Read about server side rendering, vie resolvers in Spring.","title":"How to connect controller and mustache?","body":"<p>You're using @RestController while you actually need @Controller. Read about server side rendering, vie resolvers in Spring.</p>\n"}],"owner":{"account_id":27959269,"reputation":11,"user_id":21351444,"display_name":"Ira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686084211,"creation_date":1686083095,"question_id":76418202,"body_markdown":"Having problem with sending infprmation to localhost. Using http://localhost:8080 occurs an Whitelabel Error Page (This application has no explicit mapping for /error, so you are seeing this as a fallback.) insted of showing information from mustache file. How can I solve that? Is there something wrong with connection?\r\n\r\nController class: \r\n```\r\nimport com.work.Dormitory.domain.Information;\r\nimport com.work.Dormitory.repositories.InfoRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.Map;\r\n\r\n@RestController\r\npublic class GreetingController {\r\n@Autowired\r\nprivate InfoRepository infoRepository;\r\n    @GetMapping(&quot;/greeting&quot;)\r\n    public String greeting(@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\r\n      model.addAttribute(&quot;name&quot;, name);\r\n        return &quot;greeting&quot;;\r\n    }\r\n\r\n    @GetMapping\r\n    public String main(Map&lt;String,Object&gt; model){\r\n        Iterable&lt;Information&gt; information=infoRepository.findAll();\r\n        model.put(&quot;information&quot;,information);\r\n        return &quot;main&quot;;\r\n    }\r\n\r\n    @PostMapping\r\n    public String add(@RequestParam String numberDormitory, @RequestParam String room, Map&lt;String,Object&gt; model){\r\n        Information information=new Information(numberDormitory,room);\r\n       infoRepository.save(information);\r\n        Iterable&lt;Information&gt; info=infoRepository.findAll();\r\n        model.put(&quot;info&quot;,info);\r\n        return &quot;main&quot;;\r\n    }\r\n}\r\n```\r\n\r\nRepository class:\r\n\r\n```\r\n\r\nimport com.work.Dormitory.domain.Information;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface InfoRepository extends CrudRepository&lt;Information,Long&gt; {\r\n}\r\n\r\n```\r\nInformation class:\r\n\r\n\r\n```\r\npackage com.work.Dormitory.domain;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class Information {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n    private String room;\r\n    private String dormitoryNumber;\r\n\r\n    public Information(){}\r\n    public Information(String dormitoryNumber, String room) {\r\n        this.dormitoryNumber = dormitoryNumber;\r\n        this.room=room;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getRoom() {\r\n        return room;\r\n    }\r\n\r\n    public void setRoom(String room) {\r\n        this.room = room;\r\n    }\r\n\r\n    public String getDormitoryNumber() {\r\n        return dormitoryNumber;\r\n    }\r\n\r\n    public void setDormitoryNumber(String dormitoryNumber) {\r\n        this.dormitoryNumber = dormitoryNumber;\r\n    }\r\n}\r\n\r\n```\r\n\r\nmain.mustache:\r\n\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;http://localhost:8080&quot;&gt;\r\n&lt;body&gt;\r\n&lt;div&gt;\r\n    &lt;form method=&quot;post&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;numberDormitory&quot; placeholder=&quot;Write number of dormitory&quot; /&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;room&quot; placeholder=&quot;Number of room: &quot;&gt;\r\n        &lt;button type=&quot;submit&quot;&gt; Add &lt;/button&gt;\r\n    &lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;div&gt;list &lt;/div&gt;\r\n  {{#messages}}\r\n    &lt;div&gt;\r\n        &lt;b&gt;{{id}}&lt;/b&gt;\r\n        &lt;span&gt;{{room}}&lt;/span&gt;\r\n        &lt;i&gt;{{dormitoryNumber}}&lt;/i&gt;\r\n    &lt;/div&gt;\r\n  {{/messages}}\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.work&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Dormitory&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;Dormitory&lt;/name&gt;\r\n\t&lt;description&gt;Project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mustache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nUsing http://localhost:8080/greeting shows just a word &quot;greeting&quot; on a site insted of say &quot;hello world&quot; and http://localhost:8080/greeting?j showing also &quot;greeting&quot; instead of &quot;hello j&quot;. Using http://localhost:8080 occurs an Whitelabel Error Page, when the form user should fill out was expected. The main problem is how to solve this Whitelabel Error Page","title":"How to connect controller and mustache?","body":"<p>Having problem with sending infprmation to localhost. Using http://localhost:8080 occurs an Whitelabel Error Page (This application has no explicit mapping for /error, so you are seeing this as a fallback.) insted of showing information from mustache file. How can I solve that? Is there something wrong with connection?</p>\n<p>Controller class:</p>\n<pre><code>import com.work.Dormitory.domain.Information;\nimport com.work.Dormitory.repositories.InfoRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Map;\n\n@RestController\npublic class GreetingController {\n@Autowired\nprivate InfoRepository infoRepository;\n    @GetMapping(&quot;/greeting&quot;)\n    public String greeting(@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\n      model.addAttribute(&quot;name&quot;, name);\n        return &quot;greeting&quot;;\n    }\n\n    @GetMapping\n    public String main(Map&lt;String,Object&gt; model){\n        Iterable&lt;Information&gt; information=infoRepository.findAll();\n        model.put(&quot;information&quot;,information);\n        return &quot;main&quot;;\n    }\n\n    @PostMapping\n    public String add(@RequestParam String numberDormitory, @RequestParam String room, Map&lt;String,Object&gt; model){\n        Information information=new Information(numberDormitory,room);\n       infoRepository.save(information);\n        Iterable&lt;Information&gt; info=infoRepository.findAll();\n        model.put(&quot;info&quot;,info);\n        return &quot;main&quot;;\n    }\n}\n</code></pre>\n<p>Repository class:</p>\n<pre><code>\nimport com.work.Dormitory.domain.Information;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface InfoRepository extends CrudRepository&lt;Information,Long&gt; {\n}\n\n</code></pre>\n<p>Information class:</p>\n<pre><code>package com.work.Dormitory.domain;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Information {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n    private String room;\n    private String dormitoryNumber;\n\n    public Information(){}\n    public Information(String dormitoryNumber, String room) {\n        this.dormitoryNumber = dormitoryNumber;\n        this.room=room;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getRoom() {\n        return room;\n    }\n\n    public void setRoom(String room) {\n        this.room = room;\n    }\n\n    public String getDormitoryNumber() {\n        return dormitoryNumber;\n    }\n\n    public void setDormitoryNumber(String dormitoryNumber) {\n        this.dormitoryNumber = dormitoryNumber;\n    }\n}\n\n</code></pre>\n<p>main.mustache:</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://localhost:8080&quot;&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;form method=&quot;post&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;numberDormitory&quot; placeholder=&quot;Write number of dormitory&quot; /&gt;\n        &lt;input type=&quot;text&quot; name=&quot;room&quot; placeholder=&quot;Number of room: &quot;&gt;\n        &lt;button type=&quot;submit&quot;&gt; Add &lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;div&gt;list &lt;/div&gt;\n  {{#messages}}\n    &lt;div&gt;\n        &lt;b&gt;{{id}}&lt;/b&gt;\n        &lt;span&gt;{{room}}&lt;/span&gt;\n        &lt;i&gt;{{dormitoryNumber}}&lt;/i&gt;\n    &lt;/div&gt;\n  {{/messages}}\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.work&lt;/groupId&gt;\n    &lt;artifactId&gt;Dormitory&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Dormitory&lt;/name&gt;\n    &lt;description&gt;Project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mustache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Using http://localhost:8080/greeting shows just a word &quot;greeting&quot; on a site insted of say &quot;hello world&quot; and http://localhost:8080/greeting?j showing also &quot;greeting&quot; instead of &quot;hello j&quot;. Using http://localhost:8080 occurs an Whitelabel Error Page, when the form user should fill out was expected. The main problem is how to solve this Whitelabel Error Page</p>\n"},{"tags":["java","filereader"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1686078397,"post_id":76417659,"comment_id":134749268,"body_markdown":"Do not use `try-catch` to just catch the exception and do nothing. And specially don&#39;t continue you code like you didn&#39;t catch an exception, that doesn&#39;t make sense. At least look inside the error message of the exception to see what the problem is.","body":"Do not use <code>try-catch</code> to just catch the exception and do nothing. And specially don&#39;t continue you code like you didn&#39;t catch an exception, that doesn&#39;t make sense. At least look inside the error message of the exception to see what the problem is."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1686078529,"post_id":76417659,"comment_id":134749284,"body_markdown":"What operating system are you on? And, are you sure the file really exists in that path? The NPE is because you&#39;re getting a FileNotFoundException, but your `catch` block doesn&#39;t return early from the method or rethrow the exception; it just proceeds, even though the `new FileReader` failed.","body":"What operating system are you on? And, are you sure the file really exists in that path? The NPE is because you&#39;re getting a FileNotFoundException, but your <code>catch</code> block doesn&#39;t return early from the method or rethrow the exception; it just proceeds, even though the <code>new FileReader</code> failed."},{"owner":{"account_id":28295883,"reputation":1,"user_id":21635362,"display_name":"luluconcha"},"score":0,"creation_date":1686081270,"post_id":76417659,"comment_id":134749776,"body_markdown":"@Progman thank you for answering. So the try-catch blocks should be in different methods?","body":"@Progman thank you for answering. So the try-catch blocks should be in different methods?"}],"answers":[{"tags":[],"owner":{"account_id":28766474,"reputation":61,"user_id":22031268,"display_name":"Giorgos Athanasopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686078861,"creation_date":1686078861,"answer_id":76417764,"question_id":76417659,"body_markdown":"The code works just fine on my machine. The only way it failed (and got the nullpointerexception that you also get) is when the file doesnt exist. Make sure that the file exists in the location specified.(And early return/handle when catching the error so that the rest of the function doesnt continue while doc is still null)","title":"How to access a file correctly in Java?","body":"<p>The code works just fine on my machine. The only way it failed (and got the nullpointerexception that you also get) is when the file doesnt exist. Make sure that the file exists in the location specified.(And early return/handle when catching the error so that the rest of the function doesnt continue while doc is still null)</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686083996,"creation_date":1686083996,"answer_id":76418292,"question_id":76417659,"body_markdown":"If _doc_ is _null_ then the _FileNotFoundException_ is being thrown.\r\n\r\nYou should use a _[File](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html)_ object, and check if the file exists using _[File#exists](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html#exists())_.  \r\nAnd, rather than continuing, just exit the method using _return_.\r\n\r\nI&#39;m unsure of your requirements, so I attempted to adapt your code.\r\n\r\nYou can use a _[try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)_ statement, which will automatically close the _BufferedReader_, which will close _FileReader_, also.  \r\nNot doing so can sometimes create I/O issues.\r\n\r\nAdditionally, typically when an _IOException_ occurs during a _readLine_ call, you&#39;ll want to exit the loop.  \r\nAlthough, again, I am unsure of your requirements, so I left it in.\r\n\r\n```java\r\npublic String leeDoc() {\r\n    File file = new File(&quot;C:/Users/apple/Desktop/FRASES_FOR_HANGMAN.txt&quot;);\r\n    if (!file.exists()) {\r\n        System.out.println(&quot;No se encuentra el fichero&quot;);\r\n        return null;\r\n    }\r\n    String linea = &quot;&quot;;\r\n    try (BufferedReader buff = new BufferedReader(new FileReader(file))) {\r\n        while (linea != null) {\r\n            try {\r\n                linea = buff.readLine();\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;No hay frase&quot;);\r\n            }\r\n        }\r\n        return linea;\r\n    } catch (IOException exception) {\r\n        throw new RuntimeException(exception);\r\n    }\r\n}\r\n```\r\n\r\nIf your file has multiple lines, you can review the following example.\r\n\r\n```java\r\ntry (BufferedReader buff = new BufferedReader(new FileReader(file))) {\r\n    StringBuilder string = new StringBuilder();\r\n    String linea;\r\n    String newline = System.lineSeparator();\r\n    int count = 0;\r\n    while ((linea = buff.readLine()) != null) {\r\n        if (count++ != 0) string.append(newline);\r\n        string.append(linea);\r\n    }\r\n    return string.toString();\r\n}\r\n```\r\n\r\nAnd, if your file only has one line you won&#39;t need the loop.\r\n\r\n```java\r\ntry (BufferedReader buff = new BufferedReader(new FileReader(file))) {\r\n    return buff.readLine();\r\n}\r\n```","title":"How to access a file correctly in Java?","body":"<p>If <em>doc</em> is <em>null</em> then the <em>FileNotFoundException</em> is being thrown.</p>\n<p>You should use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html\" rel=\"nofollow noreferrer\">File</a></em> object, and check if the file exists using <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html#exists()\" rel=\"nofollow noreferrer\">File#exists</a></em>.<br />\nAnd, rather than continuing, just exit the method using <em>return</em>.</p>\n<p>I'm unsure of your requirements, so I attempted to adapt your code.</p>\n<p>You can use a <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a></em> statement, which will automatically close the <em>BufferedReader</em>, which will close <em>FileReader</em>, also.<br />\nNot doing so can sometimes create I/O issues.</p>\n<p>Additionally, typically when an <em>IOException</em> occurs during a <em>readLine</em> call, you'll want to exit the loop.<br />\nAlthough, again, I am unsure of your requirements, so I left it in.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String leeDoc() {\n    File file = new File(&quot;C:/Users/apple/Desktop/FRASES_FOR_HANGMAN.txt&quot;);\n    if (!file.exists()) {\n        System.out.println(&quot;No se encuentra el fichero&quot;);\n        return null;\n    }\n    String linea = &quot;&quot;;\n    try (BufferedReader buff = new BufferedReader(new FileReader(file))) {\n        while (linea != null) {\n            try {\n                linea = buff.readLine();\n            } catch (IOException e) {\n                System.out.println(&quot;No hay frase&quot;);\n            }\n        }\n        return linea;\n    } catch (IOException exception) {\n        throw new RuntimeException(exception);\n    }\n}\n</code></pre>\n<p>If your file has multiple lines, you can review the following example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader buff = new BufferedReader(new FileReader(file))) {\n    StringBuilder string = new StringBuilder();\n    String linea;\n    String newline = System.lineSeparator();\n    int count = 0;\n    while ((linea = buff.readLine()) != null) {\n        if (count++ != 0) string.append(newline);\n        string.append(linea);\n    }\n    return string.toString();\n}\n</code></pre>\n<p>And, if your file only has one line you won't need the loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader buff = new BufferedReader(new FileReader(file))) {\n    return buff.readLine();\n}\n</code></pre>\n"}],"owner":{"account_id":28295883,"reputation":1,"user_id":21635362,"display_name":"luluconcha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686083996,"creation_date":1686078058,"question_id":76417659,"body_markdown":"I am trying to get Java to access a file on my computer.\r\n\r\nCould anyone help? What&#39;s wrong with the following code?  \r\n&quot;Copy path&quot; copied without the C: but I saw various examples where the name of the hard disk was indicated as such and it didn&#39;t work without the C: either...\r\n\r\n```\r\npublic class GeneradorFrases {\r\n\r\npublic String leeDoc() {\r\n\tFileReader doc = null;\r\n\ttry {\r\n\t\tdoc = new FileReader(&quot;C:/Users/apple/Desktop/FRASES_FOR_HANGMAN.txt&quot;);\r\n\t} catch (FileNotFoundException e) {\r\n\t\tSystem.out.println(&quot;No se encuentra el fichero&quot;);\r\n\t}\r\n\t\r\n\t\r\n\tString linea = &quot;&quot;;\r\n\tBufferedReader buff = new BufferedReader(doc);\r\n\twhile (linea != null) {\r\n\t\ttry {\r\n\t\t\tlinea = buff.readLine();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;No hay frase&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn linea;\r\n\t\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n\r\n}\r\n```\r\n\r\nI have watched various videos, taken notes, somehow I am stuck here.\r\n\r\nDebugging tells me the variable &quot;doc&quot; is null, I get the NullPointerException.","title":"How to access a file correctly in Java?","body":"<p>I am trying to get Java to access a file on my computer.</p>\n<p>Could anyone help? What's wrong with the following code?<br />\n&quot;Copy path&quot; copied without the C: but I saw various examples where the name of the hard disk was indicated as such and it didn't work without the C: either...</p>\n<pre><code>public class GeneradorFrases {\n\npublic String leeDoc() {\n    FileReader doc = null;\n    try {\n        doc = new FileReader(&quot;C:/Users/apple/Desktop/FRASES_FOR_HANGMAN.txt&quot;);\n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;No se encuentra el fichero&quot;);\n    }\n    \n    \n    String linea = &quot;&quot;;\n    BufferedReader buff = new BufferedReader(doc);\n    while (linea != null) {\n        try {\n            linea = buff.readLine();\n        } catch (IOException e) {\n            System.out.println(&quot;No hay frase&quot;);\n        }\n    }\n    \n    return linea;\n    \n    \n    \n    \n}\n\n\n}\n</code></pre>\n<p>I have watched various videos, taken notes, somehow I am stuck here.</p>\n<p>Debugging tells me the variable &quot;doc&quot; is null, I get the NullPointerException.</p>\n"},{"tags":["java","android","proguard","deobfuscation"],"comments":[{"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"score":0,"creation_date":1686085113,"post_id":76418215,"comment_id":134750401,"body_markdown":"What `-keepattributes` are you using?","body":"What <code>-keepattributes</code> are you using?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686087668,"post_id":76418215,"comment_id":134750717,"body_markdown":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need. \nAs it&#39;s currently written, it’s hard to tell exactly what you&#39;re asking. See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to \nreproduce the issue. See: [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, it’s hard to tell exactly what you&#39;re asking. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150331,"post_id":76418215,"comment_id":134760346,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":5457973,"reputation":1,"user_id":4340848,"display_name":"NEHA NIGAM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686083185,"creation_date":1686083185,"question_id":76418215,"body_markdown":"i am using proguard-retrace 7.0.0 version in my java project but i am not able to obfuscate the line numbers class and method name are working fine, Also is there any way to deobfuscate the lambda menthds as well?\r\n\r\ni have tried different versions but facing similar issue.","title":"using proguard-retrace 7.0.0 not able to deobfuscate the line numbers","body":"<p>i am using proguard-retrace 7.0.0 version in my java project but i am not able to obfuscate the line numbers class and method name are working fine, Also is there any way to deobfuscate the lambda menthds as well?</p>\n<p>i have tried different versions but facing similar issue.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641738253,"post_id":70642136,"comment_id":124878973,"body_markdown":"&quot;*I am getting wrong output to some cases*&quot; - Which ones? What is the expected and what the observed output? Please [edit] the post and add those information.","body":"&quot;<i>I am getting wrong output to some cases</i>&quot; - Which ones? What is the expected and what the observed output? Please <a href=\"https://stackoverflow.com/posts/70642136/edit\">edit</a> the post and add those information."},{"owner":{"account_id":23860783,"reputation":33,"user_id":17863763,"display_name":"Suhas"},"score":0,"creation_date":1641738599,"post_id":70642136,"comment_id":124879048,"body_markdown":"@Turing85 For Input: JuliaZ007 , I should get Valid but getting Invalid.","body":"@Turing85 For Input: JuliaZ007 , I should get Valid but getting Invalid."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641738650,"post_id":70642136,"comment_id":124879056,"body_markdown":"The Hackerrank question expects a solution WITH regular expression.","body":"The Hackerrank question expects a solution WITH regular expression."},{"owner":{"account_id":23860783,"reputation":33,"user_id":17863763,"display_name":"Suhas"},"score":0,"creation_date":1641738831,"post_id":70642136,"comment_id":124879101,"body_markdown":"@hfontanez yeah, but i want to try without it . Can you help.","body":"@hfontanez yeah, but i want to try without it . Can you help."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1641739216,"post_id":70642136,"comment_id":124879199,"body_markdown":"It would be easier to think about if there was a function whose sole purpose was to validate a username amd that was the only code shown.","body":"It would be easier to think about if there was a function whose sole purpose was to validate a username amd that was the only code shown."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1641742894,"post_id":70642136,"comment_id":124880156,"body_markdown":"@Suhas The regex I came up with for HackerRank is the same that JavaMan used in his answer.","body":"@Suhas The regex I came up with for HackerRank is the same that JavaMan used in his answer."}],"answers":[{"tags":[],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641746513,"creation_date":1641738960,"answer_id":70642285,"question_id":70642136,"body_markdown":"## With Regex\r\n\r\nIn your case regular expression is most appropriate:\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        final String regex = &quot;^[a-zA-Z][\\\\w_]{7,29}$&quot;;\r\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            String userName = scan.nextLine();\r\n            if (pattern.matcher(userName).matches())\r\n                System.out.println(&quot;Valid&quot;);\r\n            else\r\n                System.out.println(&quot;InValid&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n__________\r\n## Without Regex\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            String userName = scan.nextLine();\r\n            if (isValid(userName))\r\n                System.out.println(&quot;Valid&quot;);\r\n            else\r\n                System.out.println(&quot;InValid&quot;);\r\n        }\r\n    }\r\n\r\n    public static boolean isValid(String userName) {\r\n        if (!Character.isAlphabetic(userName.charAt(0))\r\n                || userName.length() &lt; 8\r\n                || userName.length() &gt; 30)\r\n            return false;\r\n        for (char c : userName.toCharArray()) {\r\n            if (!Character.isLetterOrDigit(c) &amp;&amp; c != &#39;_&#39;)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n_____\r\n## Explain what causes the problem in the program\r\n\r\nYour problem is caused by the `flag`.\r\n\r\nBefore `JuliaZ007`, you have the name `Samantha?10_2A`, but this name sets the `flag` to `0`.\r\nAnd when you are in the `JuliaZ007`, the `flag` is always `0` and you get a `InValid`.\r\n\r\nTo correct this problem, you can reset `flag` to `1` on each new name.\r\nFor this, you can simply move the `int flag = 1` in the while.\r\n\r\n#### Example :\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            int flag = 1;\r\n            String userName = scan.nextLine();\r\n            char a[] = userName.toCharArray();\r\n            String specialCharactersString = &quot;!@#$%&amp;*()&#39;+,-./:;&lt;=&gt;?[]^`{|}&quot;;\r\n            for (int i = 0; i &lt; userName.length(); i++) {\r\n                char ch = userName.charAt(i);\r\n                if (specialCharactersString.contains(Character.toString(ch))\r\n                        &amp;&amp; Character.isLetterOrDigit(ch) == false) {\r\n                    flag = 0;\r\n                }\r\n            }\r\n            if (userName.length() &gt;= 8 &amp;&amp; userName.length() &lt;= 30 &amp;&amp; Character.isLetter(a[0]) == true &amp;&amp; flag == 1) {\r\n                System.out.println(&quot;Valid&quot;);\r\n            } else {\r\n                System.out.println(&quot;InValid&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Valid Username without Regex","body":"<h2>With Regex</h2>\n<p>In your case regular expression is most appropriate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.regex.Pattern;\n\npublic class Solution {\n    private static final Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        final String regex = &quot;^[a-zA-Z][\\\\w_]{7,29}$&quot;;\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n\n        int n = Integer.parseInt(scan.nextLine());\n        while (n-- != 0) {\n            String userName = scan.nextLine();\n            if (pattern.matcher(userName).matches())\n                System.out.println(&quot;Valid&quot;);\n            else\n                System.out.println(&quot;InValid&quot;);\n        }\n    }\n\n}\n</code></pre>\n<hr />\n<h2>Without Regex</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Solution {\n    private static final Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int n = Integer.parseInt(scan.nextLine());\n        while (n-- != 0) {\n            String userName = scan.nextLine();\n            if (isValid(userName))\n                System.out.println(&quot;Valid&quot;);\n            else\n                System.out.println(&quot;InValid&quot;);\n        }\n    }\n\n    public static boolean isValid(String userName) {\n        if (!Character.isAlphabetic(userName.charAt(0))\n                || userName.length() &lt; 8\n                || userName.length() &gt; 30)\n            return false;\n        for (char c : userName.toCharArray()) {\n            if (!Character.isLetterOrDigit(c) &amp;&amp; c != '_')\n                return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<hr />\n<h2>Explain what causes the problem in the program</h2>\n<p>Your problem is caused by the <code>flag</code>.</p>\n<p>Before <code>JuliaZ007</code>, you have the name <code>Samantha?10_2A</code>, but this name sets the <code>flag</code> to <code>0</code>.\nAnd when you are in the <code>JuliaZ007</code>, the <code>flag</code> is always <code>0</code> and you get a <code>InValid</code>.</p>\n<p>To correct this problem, you can reset <code>flag</code> to <code>1</code> on each new name.\nFor this, you can simply move the <code>int flag = 1</code> in the while.</p>\n<h4>Example :</h4>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\n\npublic class Solution {\n    private static final Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int n = Integer.parseInt(scan.nextLine());\n        while (n-- != 0) {\n            int flag = 1;\n            String userName = scan.nextLine();\n            char a[] = userName.toCharArray();\n            String specialCharactersString = &quot;!@#$%&amp;*()'+,-./:;&lt;=&gt;?[]^`{|}&quot;;\n            for (int i = 0; i &lt; userName.length(); i++) {\n                char ch = userName.charAt(i);\n                if (specialCharactersString.contains(Character.toString(ch))\n                        &amp;&amp; Character.isLetterOrDigit(ch) == false) {\n                    flag = 0;\n                }\n            }\n            if (userName.length() &gt;= 8 &amp;&amp; userName.length() &lt;= 30 &amp;&amp; Character.isLetter(a[0]) == true &amp;&amp; flag == 1) {\n                System.out.println(&quot;Valid&quot;);\n            } else {\n                System.out.println(&quot;InValid&quot;);\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641740929,"creation_date":1641739642,"answer_id":70642384,"question_id":70642136,"body_markdown":"&gt; The username consists of 8 to 30 characters inclusive. ***If the username consists of less than 8 or greater than 30 characters, then it is an invalid username***.\r\n\r\n    boolean valid = true;\r\n    if (userName.length() &lt; 8 || userName.length() &gt; 30) { \r\n        valid = false;\r\n    }\r\n\r\n&gt; The username can only contain alphanumeric characters and underscores\r\n\r\n    if (valid) {\r\n        for (int  i = 0; i &lt; userName.length(); i++) {\r\n            boolean temp = c\r\n            Character c = userName.charAt(i);\r\n            valid = Character.isLetterOrDigit(c);\r\n            // before invalidating, check to see if it is an underscore\r\n\t\t\tif (!valid) {\r\n\t\t\t\tvalid = c == &#39;_&#39;;\r\n\t\t\t\tif (!valid)\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n        }\r\n    }\r\n\r\n&gt; The first character of the username must be an alphabetic character\r\n\r\n    if (valid) {\r\n        valid = Character.isLetter(userName.charAt(0));\r\n    }\r\n\r\nOnce you execute all validation steps, simply `return valid;`. On a side note, you can check the rule of the first character while looping to check the validity of the remaining character. I just did separate checks for clarity and for separating all three requirements for validation.\r\n\r\nLASTLY, I want to point out this is most likely NOT the most optimal solution for non-regex. However, I broke it down in these steps because I feel strongly that as a beginner developer, you should attack problems in this manner: first break down the problem into individual, smaller problems. Then, come up to the solution of each independently, and lastly, integrate the smaller solutions into the final product.","title":"Valid Username without Regex","body":"<blockquote>\n<p>The username consists of 8 to 30 characters inclusive. <em><strong>If the username consists of less than 8 or greater than 30 characters, then it is an invalid username</strong></em>.</p>\n</blockquote>\n<pre><code>boolean valid = true;\nif (userName.length() &lt; 8 || userName.length() &gt; 30) { \n    valid = false;\n}\n</code></pre>\n<blockquote>\n<p>The username can only contain alphanumeric characters and underscores</p>\n</blockquote>\n<pre><code>if (valid) {\n    for (int  i = 0; i &lt; userName.length(); i++) {\n        boolean temp = c\n        Character c = userName.charAt(i);\n        valid = Character.isLetterOrDigit(c);\n        // before invalidating, check to see if it is an underscore\n        if (!valid) {\n            valid = c == '_';\n            if (!valid)\n                break;\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>The first character of the username must be an alphabetic character</p>\n</blockquote>\n<pre><code>if (valid) {\n    valid = Character.isLetter(userName.charAt(0));\n}\n</code></pre>\n<p>Once you execute all validation steps, simply <code>return valid;</code>. On a side note, you can check the rule of the first character while looping to check the validity of the remaining character. I just did separate checks for clarity and for separating all three requirements for validation.</p>\n<p>LASTLY, I want to point out this is most likely NOT the most optimal solution for non-regex. However, I broke it down in these steps because I feel strongly that as a beginner developer, you should attack problems in this manner: first break down the problem into individual, smaller problems. Then, come up to the solution of each independently, and lastly, integrate the smaller solutions into the final product.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641793699,"creation_date":1641740425,"answer_id":70642506,"question_id":70642136,"body_markdown":"Note that methods in class `java.lang.Character`, such as `isLetterOrDigit`, will check for characters (or digits) in **any** language.\r\n\r\nSince your question stipulates that the digits must be those commonly referred to as [arabic numerals][1] and the letters must be those in the [English alphabet][2], the below code uses the [unicode code points][3] of each character in the user-entered `userName`.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        String result;\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            result = &quot;invalid&quot;;\r\n            String userName = scan.nextLine();\r\n            int len = userName.length();\r\n            if (len &gt;= 8  &amp;&amp;  len &lt;= 30) {\r\n                char[] letters = userName.toCharArray();\r\n                if ((letters[0] &gt;= 65  &amp;&amp;  letters[0] &lt;= 90)  ||  (letters[0] &gt;= 97  &amp;&amp;  letters[0] &lt;= 122)) {\r\n                    int i = 1;\r\n                    for (; i &lt; len; i++) {\r\n                        if ((letters[i] &gt;= 48  &amp;&amp;  letters[i] &lt;= 57)  ||\r\n                            (letters[i] &gt;= 65  &amp;&amp;  letters[i] &lt;= 90)  ||\r\n                            (letters[i] &gt;= 97  &amp;&amp;  letters[0] &lt;= 122) ||\r\n                            (letters[i] == 95)) {\r\n                            continue;\r\n                        }\r\n                        break;\r\n                    }\r\n                    if (i == len) {\r\n                        result = &quot;valid&quot;;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(result);\r\n        }\r\n    }\r\n}\r\n```\r\nEdit\r\n----\r\nJust for the sake of it, here is a solution that uses the [stream API][4].\r\n``` lang-java\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        String result;\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            result = &quot;invalid&quot;;\r\n            String userName = scan.nextLine();\r\n            int len = userName.length();\r\n            if (len &gt;= 8  &amp;&amp;  len &lt;= 30) {\r\n                char letter = userName.charAt(0);\r\n                if ((letter &gt;= 65 &amp;&amp; letter &lt;= 90) || (letter &gt;= 97 &amp;&amp; letter &lt;= 122)) {\r\n                    if (userName.chars()\r\n                                .skip(1L)\r\n                                .allMatch(c -&gt; (c &gt;= 48  &amp;&amp;  c &lt;= 57)  || // c is a digit\r\n                                               (c &gt;= 65  &amp;&amp;  c &lt;= 90)  || // c is uppercase letter\r\n                                               (c &gt;= 97  &amp;&amp;  c &lt;= 122) || // c is lowercase letter\r\n                                               (c == 95))) { // c is underscore\r\n                        result = &quot;valid&quot;;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(result);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Arabic_numerals\r\n  [2]: https://en.wikipedia.org/wiki/English_alphabet\r\n  [3]: https://en.wikipedia.org/wiki/Unicode#Architecture_and_terminology\r\n  [4]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html","title":"Valid Username without Regex","body":"<p>Note that methods in class <code>java.lang.Character</code>, such as <code>isLetterOrDigit</code>, will check for characters (or digits) in <strong>any</strong> language.</p>\n<p>Since your question stipulates that the digits must be those commonly referred to as <a href=\"https://en.wikipedia.org/wiki/Arabic_numerals\" rel=\"nofollow noreferrer\">arabic numerals</a> and the letters must be those in the <a href=\"https://en.wikipedia.org/wiki/English_alphabet\" rel=\"nofollow noreferrer\">English alphabet</a>, the below code uses the <a href=\"https://en.wikipedia.org/wiki/Unicode#Architecture_and_terminology\" rel=\"nofollow noreferrer\">unicode code points</a> of each character in the user-entered <code>userName</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Solution {\n    private static final Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        String result;\n        int n = Integer.parseInt(scan.nextLine());\n        while (n-- != 0) {\n            result = &quot;invalid&quot;;\n            String userName = scan.nextLine();\n            int len = userName.length();\n            if (len &gt;= 8  &amp;&amp;  len &lt;= 30) {\n                char[] letters = userName.toCharArray();\n                if ((letters[0] &gt;= 65  &amp;&amp;  letters[0] &lt;= 90)  ||  (letters[0] &gt;= 97  &amp;&amp;  letters[0] &lt;= 122)) {\n                    int i = 1;\n                    for (; i &lt; len; i++) {\n                        if ((letters[i] &gt;= 48  &amp;&amp;  letters[i] &lt;= 57)  ||\n                            (letters[i] &gt;= 65  &amp;&amp;  letters[i] &lt;= 90)  ||\n                            (letters[i] &gt;= 97  &amp;&amp;  letters[0] &lt;= 122) ||\n                            (letters[i] == 95)) {\n                            continue;\n                        }\n                        break;\n                    }\n                    if (i == len) {\n                        result = &quot;valid&quot;;\n                    }\n                }\n            }\n            System.out.println(result);\n        }\n    }\n}\n</code></pre>\n<h2>Edit</h2>\n<p>Just for the sake of it, here is a solution that uses the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Solution {\n    private static final Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        String result;\n        int n = Integer.parseInt(scan.nextLine());\n        while (n-- != 0) {\n            result = &quot;invalid&quot;;\n            String userName = scan.nextLine();\n            int len = userName.length();\n            if (len &gt;= 8  &amp;&amp;  len &lt;= 30) {\n                char letter = userName.charAt(0);\n                if ((letter &gt;= 65 &amp;&amp; letter &lt;= 90) || (letter &gt;= 97 &amp;&amp; letter &lt;= 122)) {\n                    if (userName.chars()\n                                .skip(1L)\n                                .allMatch(c -&gt; (c &gt;= 48  &amp;&amp;  c &lt;= 57)  || // c is a digit\n                                               (c &gt;= 65  &amp;&amp;  c &lt;= 90)  || // c is uppercase letter\n                                               (c &gt;= 97  &amp;&amp;  c &lt;= 122) || // c is lowercase letter\n                                               (c == 95))) { // c is underscore\n                        result = &quot;valid&quot;;\n                    }\n                }\n            }\n            System.out.println(result);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9607071,"reputation":384,"user_id":7132774,"display_name":"Dave Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686083116,"creation_date":1686083116,"answer_id":76418205,"question_id":70642136,"body_markdown":"Not the best solution but you can simply update the range of number of characters. Here&#39;s an example of regex.\r\n```\r\n/^(?=.{6,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?&lt;![_.])$/\r\n```\r\n","title":"Valid Username without Regex","body":"<p>Not the best solution but you can simply update the range of number of characters. Here's an example of regex.</p>\n<pre><code>/^(?=.{6,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?&lt;![_.])$/\n</code></pre>\n"}],"owner":{"account_id":23860783,"reputation":33,"user_id":17863763,"display_name":"Suhas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1991,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1686083116,"creation_date":1641737819,"question_id":70642136,"body_markdown":"The Question is to check a valid username:\r\n\r\nConditions are:\r\n\r\n1.The username consists of 8 to 30 characters inclusive. If the username consists of less than 8 or greater than 30 characters, then it is an invalid username.\r\n\r\n2.The username can only contain alphanumeric characters and underscores (_). Alphanumeric characters describe the character set consisting of lowercase characters [a-z], uppercase characters [A-Z], and digits [0-9].\r\n\r\n3.The first character of the username must be an alphabetic character, i.e., either lowercase character [a-z] or uppercase character [A-Z].\r\n\r\nSample Input:\r\n\r\n8\r\n\r\nJulia\r\n\r\nSamantha\r\n\r\nSamantha_21\r\n\r\n1Samantha\r\n\r\nSamantha?10_2A\r\n\r\nJuliaZ007\r\n\r\nJulia@007\r\n\r\n_Julia007\r\n\r\nSample Output:\r\n\r\nInvalid\r\n\r\nValid\r\n\r\nValid\r\n\r\nInvalid\r\n\r\nInvalid\r\n\r\nValid\r\n\r\nInvalid\r\n\r\nInvalid\r\n\r\nI am getting wrong output to some cases.\r\n\r\nFor Input: JuliaZ007 , I should get Valid but getting Invalid. Remaining are correct.\r\n\r\nCan I know what&#39;s wrong in the code.\r\n\r\n\r\n\r\n&lt;https://www.hackerrank.com/challenges/valid-username-checker/problem?isFullScreen=false&gt;\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    public class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n    \r\n    public static void main(String[] args) {\r\n        int flag=1;\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            String userName = scan.nextLine();\r\n            char a[] = userName.toCharArray();\r\n            String specialCharactersString = &quot;!@#$%&amp;*()&#39;+,-./:;&lt;=&gt;?[]^`{|}&quot;;\r\n            for (int i=0;i&lt;userName.length();i++)\r\n            {\r\n            char ch = userName.charAt(i);\r\n            if(specialCharactersString.contains(Character.toString(ch)) &amp;&amp; Character.isLetterOrDigit(ch)==false) \r\n            {\r\n                flag=0;\r\n            }\r\n            }\r\n            if (userName.length()&gt;=8 &amp;&amp; userName.length()&lt;=30 &amp;&amp; Character.isLetter(a[0])==true &amp;&amp; flag==1)                   {\r\n                System.out.println(&quot;Valid&quot;);\r\n            } else {\r\n                System.out.println(&quot;InValid&quot;);\r\n            }           \r\n        }\r\n    }\r\n}\r\n","title":"Valid Username without Regex","body":"<p>The Question is to check a valid username:</p>\n<p>Conditions are:</p>\n<p>1.The username consists of 8 to 30 characters inclusive. If the username consists of less than 8 or greater than 30 characters, then it is an invalid username.</p>\n<p>2.The username can only contain alphanumeric characters and underscores (_). Alphanumeric characters describe the character set consisting of lowercase characters [a-z], uppercase characters [A-Z], and digits [0-9].</p>\n<p>3.The first character of the username must be an alphabetic character, i.e., either lowercase character [a-z] or uppercase character [A-Z].</p>\n<p>Sample Input:</p>\n<p>8</p>\n<p>Julia</p>\n<p>Samantha</p>\n<p>Samantha_21</p>\n<p>1Samantha</p>\n<p>Samantha?10_2A</p>\n<p>JuliaZ007</p>\n<p>Julia@007</p>\n<p>_Julia007</p>\n<p>Sample Output:</p>\n<p>Invalid</p>\n<p>Valid</p>\n<p>Valid</p>\n<p>Invalid</p>\n<p>Invalid</p>\n<p>Valid</p>\n<p>Invalid</p>\n<p>Invalid</p>\n<p>I am getting wrong output to some cases.</p>\n<p>For Input: JuliaZ007 , I should get Valid but getting Invalid. Remaining are correct.</p>\n<p>Can I know what's wrong in the code.</p>\n<p><a href=\"https://www.hackerrank.com/challenges/valid-username-checker/problem?isFullScreen=false\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/valid-username-checker/problem?isFullScreen=false</a></p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Solution {\nprivate static final Scanner scan = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    int flag=1;\n    int n = Integer.parseInt(scan.nextLine());\n    while (n-- != 0) {\n        String userName = scan.nextLine();\n        char a[] = userName.toCharArray();\n        String specialCharactersString = &quot;!@#$%&amp;*()'+,-./:;&lt;=&gt;?[]^`{|}&quot;;\n        for (int i=0;i&lt;userName.length();i++)\n        {\n        char ch = userName.charAt(i);\n        if(specialCharactersString.contains(Character.toString(ch)) &amp;&amp; Character.isLetterOrDigit(ch)==false) \n        {\n            flag=0;\n        }\n        }\n        if (userName.length()&gt;=8 &amp;&amp; userName.length()&lt;=30 &amp;&amp; Character.isLetter(a[0])==true &amp;&amp; flag==1)                   {\n            System.out.println(&quot;Valid&quot;);\n        } else {\n            System.out.println(&quot;InValid&quot;);\n        }           \n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","concurrency","atomicreference"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1686083767,"post_id":76418134,"comment_id":134750147,"body_markdown":"Do you want object to be updated exactly once - on the first failure?","body":"Do you want object to be updated exactly once - on the first failure?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686084094,"post_id":76418134,"comment_id":134750204,"body_markdown":"What&#39;s wrong with a simple `volatile` reference?","body":"What&#39;s wrong with a simple <code>volatile</code> reference?"},{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1686084879,"post_id":76418134,"comment_id":134750357,"body_markdown":"@G.Domozhirov that’s correct. I would like to have it updated only once and keep using it as is until next failure.","body":"@G.Domozhirov that’s correct. I would like to have it updated only once and keep using it as is until next failure."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686084996,"post_id":76418134,"comment_id":134750376,"body_markdown":"That&#39;s the opposite of what he said.","body":"That&#39;s the opposite of what he said."},{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1686085086,"post_id":76418134,"comment_id":134750395,"body_markdown":"@shmosel is this for me? Not sure if that’s opposite. Explain if so please.","body":"@shmosel is this for me? Not sure if that’s opposite. Explain if so please."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686085140,"post_id":76418134,"comment_id":134750405,"body_markdown":"@G.Domozhirov asked if you&#39;re updating it only on the first failure and the answer is, no, you&#39;re updating it on every failure.","body":"@G.Domozhirov asked if you&#39;re updating it only on the first failure and the answer is, no, you&#39;re updating it on every failure."},{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1686085313,"post_id":76418134,"comment_id":134750439,"body_markdown":"After a failure happens, in order to use it one has to update the value. I believe your argument is more of philosophical. The aim is pretty clear I suppose.","body":"After a failure happens, in order to use it one has to update the value. I believe your argument is more of philosophical. The aim is pretty clear I suppose."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1686085367,"post_id":76418134,"comment_id":134750445,"body_markdown":"Anyway, you could use both volatile and AtomicReference.","body":"Anyway, you could use both volatile and AtomicReference."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686107546,"post_id":76418134,"comment_id":134752419,"body_markdown":"@shmosel, technically it wouldn&#39;t be updated if it didn&#39;t fail.  They&#39;re saying that they are checking the value before updating it.","body":"@shmosel, technically it wouldn&#39;t be updated if it didn&#39;t fail.  They&#39;re saying that they are checking the value before updating it."}],"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686082953,"creation_date":1686082583,"question_id":76418134,"body_markdown":"I have a scenario where threads using single object and in case of a failure, update object once and other getters/threads uses the new updated object. \r\n\r\nI am planning to use AtomicReference but not sure if updateAndGet makes sure of achieving this.\r\n\r\nI am open to use guave etc too. \r\n\r\nCan you provide an example for this ?","title":"Java threadsafe single update","body":"<p>I have a scenario where threads using single object and in case of a failure, update object once and other getters/threads uses the new updated object.</p>\n<p>I am planning to use AtomicReference but not sure if updateAndGet makes sure of achieving this.</p>\n<p>I am open to use guave etc too.</p>\n<p>Can you provide an example for this ?</p>\n"},{"tags":["java","android","admob"],"comments":[{"owner":{"account_id":8423539,"reputation":3750,"user_id":6770343,"accept_rate":77,"display_name":"Suraj Bahadur"},"score":0,"creation_date":1556019886,"post_id":55810273,"comment_id":98287961,"body_markdown":"It takes time to load real ads on the device and the alternate way to test it to install it on other devices.","body":"It takes time to load real ads on the device and the alternate way to test it to install it on other devices."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1556021380,"post_id":55810273,"comment_id":98288767,"body_markdown":"`AdRequest` also provide a listener . Set a listener and Check Error Code .","body":"<code>AdRequest</code> also provide a listener . Set a listener and Check Error Code ."},{"owner":{"display_name":"user11359248"},"score":0,"creation_date":1556023875,"post_id":55810273,"comment_id":98290071,"body_markdown":"logcat: I/Ads: Use AdRequest.Builder.addTestDevice(&quot;3D3E1F542ADD0C690202584E49A7D658&quot;) to get test ads on this device.","body":"logcat: I/Ads: Use AdRequest.Builder.addTestDevice(&quot;3D3E1F542ADD0C690202584E49A&zwnj;&#8203;7D658&quot;) to get test ads on this device."},{"owner":{"account_id":1632054,"reputation":2618,"user_id":1506395,"display_name":"Rajesh"},"score":0,"creation_date":1556103119,"post_id":55810273,"comment_id":98321245,"body_markdown":"You need to setup payment method for real Ads","body":"You need to setup payment method for real Ads"},{"owner":{"display_name":"user11359248"},"score":0,"creation_date":1556123275,"post_id":55810273,"comment_id":98333807,"body_markdown":"Thank you all so much for help I find out the error and now it works!","body":"Thank you all so much for help I find out the error and now it works!"}],"answers":[{"tags":[],"owner":{"account_id":13820960,"reputation":390,"user_id":9976418,"display_name":"Mahendra Gohil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556022178,"creation_date":1556022178,"answer_id":55811150,"question_id":55810273,"body_markdown":"please try to add testDevice in adRequest, this works for me.\r\n\r\n    AdRequest adRequest = new AdRequest.Builder()\r\n                        .addTestDevice(AdRequest.DEVICE_ID_EMULATOR)\r\n                        .build();\r\n\r\nyou can also create adlistener to track your ads.\r\n\r\n    mAdView.setAdListener(new com.google.android.gms.ads.AdListener() {\r\n                    @Override\r\n                    public void onAdLoaded() {\r\n                        super.onAdLoaded();\r\n                        Log.e(&quot;onAdLoaded&quot;,&quot;AdLoaded&quot;);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(int errorCode) {\r\n                        super.onAdFailedToLoad(errorCode);\r\n                        Log.e(&quot;onAdFailedToLoad&quot;,&quot;&quot;+errorCode);\r\n                            \r\n                    }\r\n                });\r\n                mAdView.loadAd(adRequest);","title":"Admob banner not showing but with test id it shows","body":"<p>please try to add testDevice in adRequest, this works for me.</p>\n\n<pre><code>AdRequest adRequest = new AdRequest.Builder()\n                    .addTestDevice(AdRequest.DEVICE_ID_EMULATOR)\n                    .build();\n</code></pre>\n\n<p>you can also create adlistener to track your ads.</p>\n\n<pre><code>mAdView.setAdListener(new com.google.android.gms.ads.AdListener() {\n                @Override\n                public void onAdLoaded() {\n                    super.onAdLoaded();\n                    Log.e(\"onAdLoaded\",\"AdLoaded\");\n                }\n\n                @Override\n                public void onAdFailedToLoad(int errorCode) {\n                    super.onAdFailedToLoad(errorCode);\n                    Log.e(\"onAdFailedToLoad\",\"\"+errorCode);\n\n                }\n            });\n            mAdView.loadAd(adRequest);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6817376,"reputation":1524,"user_id":5245571,"display_name":"Marco Aurelio Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586647770,"creation_date":1586647770,"answer_id":61164974,"question_id":55810273,"body_markdown":"Did you add the meta-data inside the tag application \r\n\r\n`&lt;!-- Sample AdMob App ID: ca-app-pub-3940256099942544~3347511713 --&gt;\r\n&lt;application&gt;....\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot;/&gt;`","title":"Admob banner not showing but with test id it shows","body":"<p>Did you add the meta-data inside the tag application </p>\n\n<p><code>&lt;!-- Sample AdMob App ID: ca-app-pub-3940256099942544~3347511713 --&gt;\n&lt;application&gt;....\n        &lt;meta-data\n            android:name=\"com.google.android.gms.ads.APPLICATION_ID\"\n            android:value=\"ca-app-pub-3940256099942544~3347511713\"/&gt;</code></p>\n"}],"owner":{"display_name":"user11359248"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686082952,"creation_date":1556019184,"question_id":55810273,"body_markdown":"Hey guys I am pretty new in android studio but I have code an app which I have uploaded in google play store. My Problem is that I implemented a google admob banner and if I use a test id it show but when I put my real id in the code it not show. I also have wait 7 days and I tested it on 4 devices.\r\n\r\nHere is how I implemented the banner and the output of the logcat.\r\nonCreate method\r\n\r\n    MobileAds.initialize(this, &quot;ca-app-pub-2068566232482245~4672139653&quot;);\r\n            mAdView = findViewById(R.id.adView);\r\n            AdRequest adRequest = new AdRequest.Builder().build();\r\n            mAdView.loadAd(adRequest);\r\n\r\nxml layout code \r\n\r\n        &lt;com.google.android.gms.ads.AdView\r\n            android:id=&quot;@+id/adView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginLeft=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;648dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginRight=&quot;8dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            app:adSize=&quot;LARGE_BANNER&quot;\r\n            app:adUnitId=&quot;ca-app-pub-2068566232482245/9043517552&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.493&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\r\n\r\n build file\r\n\r\n      dependencies {\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        implementation &#39;com.android.support:appcompat-v7:27.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:17.2.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    \r\n    }\r\n\r\nlogcat\r\n\r\n     2019-04-19 22:13:38.962 12794-12887/de.androidnewcomer.quizallgemeinwissen D/libEGL: loaded /vendor/lib64/egl/libGLES_mali.so\r\n    2019-04-19 22:13:39.165 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\r\n    2019-04-19 22:13:39.284 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\r\n    2019-04-19 22:13:39.289 12794-12875/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\r\n    2019-04-19 22:13:39.289 12794-12875/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\r\n    2019-04-19 22:13:39.365 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\r\n    2019-04-19 22:13:39.379 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\r\n    2019-04-19 22:13:39.444 12794-12910/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\r\n    2019-04-19 22:13:39.452 12794-12910/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\r\n    2019-04-19 22:13:39.717 12794-12943/de.androidnewcomer.quizallgemeinwissen I/Ads: App measurement is starting up, version: 14711\r\n    2019-04-19 22:13:39.717 12794-12943/de.androidnewcomer.quizallgemeinwissen I/Ads: To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\r\n    2019-04-19 22:13:41.348 12794-12794/de.androidnewcomer.quizallgemeinwissen W/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@c6fa434\r\n    2019-04-19 22:13:41.374 12794-12910/de.androidnewcomer.quizallgemeinwissen W/Ads: Got on activity created\r\n    2019-04-19 22:13:41.459 12794-12794/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\r\n    2019-04-19 22:13:41.468 12794-12794/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\r\n    2019-04-19 22:13:41.531 12794-12794/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\r\n    2019-04-19 22:13:41.532 12794-12794/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\r\n    2019-04-19 22:13:41.536 12794-12794/de.androidnewcomer.quizallgemeinwissen D/DynamitePackage: Instantiating com.google.android.gms.ads.ChimeraMobileAdsSettingManagerCreatorImpl\r\n    2019-04-19 22:13:41.570 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Ads: Updating ad debug logging enablement.\r\n    2019-04-19 22:13:41.594 12794-12794/de.androidnewcomer.quizallgemeinwissen I/WebViewFactory: Loading com.android.chrome version 73.0.3683.90 (code 368309052)\r\n    2019-04-19 22:13:41.694 12794-12794/de.androidnewcomer.quizallgemeinwissen I/cr_LibraryLoader: Time to load native libraries: 4 ms (timestamps 6897-6901)\r\n    2019-04-19 22:13:41.725 12794-12794/de.androidnewcomer.quizallgemeinwissen I/chromium: [INFO:library_loader_hooks.cc(50)] Chromium logging enabled: level = 0, default verbosity = 0\r\n    2019-04-19 22:13:41.726 12794-12794/de.androidnewcomer.quizallgemeinwissen I/cr_LibraryLoader: Expected native library version number &quot;73.0.3683.90&quot;, actual native library version number &quot;73.0.3683.90&quot;\r\n    2019-04-19 22:13:42.025 12794-12794/de.androidnewcomer.quizallgemeinwissen D/DynamitePackage: Instantiating com.google.android.gms.ads.ChimeraAdManagerCreatorImpl\r\n    2019-04-19 22:13:42.044 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Ads: Use AdRequest.Builder.addTestDevice(&quot;3D3E1F542ADD0C690202584E49A7D658&quot;) to get test ads on this device.\r\n    2019-04-19 22:13:42.097 12794-13205/de.androidnewcomer.quizallgemeinwissen W/Ads: Invoke Firebase method getInstance error.\r\n    2019-04-19 22:13:42.097 12794-13205/de.androidnewcomer.quizallgemeinwissen W/Ads: The Google Mobile Ads SDK will not integrate with Firebase. Admob/Firebase integration requires the latest Firebase SDK jar, but Firebase SDK is either missing or out of date\r\n    2019-04-19 22:13:42.105 12794-13151/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\r\n    2019-04-19 22:13:42.112 12794-13206/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\r\n    2019-04-19 22:13:42.112 12794-13206/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\r\n    2019-04-19 22:13:42.254 12794-13153/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Accessing hidden field Ljava/nio/Buffer;-&gt;address:J (light greylist, reflection)\r\n    2019-04-19 22:13:42.273 12794-13151/de.androidnewcomer.quizallgemeinwissen W/Ads: Not retrying to fetch app settings\r\n    2019-04-19 22:13:42.360 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Choreographer: Skipped 59 frames!  The application may be doing too much work on its main thread.\r\n    2019-04-19 22:13:42.434 12794-13152/de.androidnewcomer.quizallgemeinwissen W/Ads: Update ad debug logging enablement as false\r\n    2019-04-19 22:13:42.884 12794-12794/de.androidnewcomer.quizallgemeinwissen D/ViewRootImpl@582a837[MainActivity]: Surface release. an\r\n\r\n","title":"Admob banner not showing but with test id it shows","body":"<p>Hey guys I am pretty new in android studio but I have code an app which I have uploaded in google play store. My Problem is that I implemented a google admob banner and if I use a test id it show but when I put my real id in the code it not show. I also have wait 7 days and I tested it on 4 devices.</p>\n\n<p>Here is how I implemented the banner and the output of the logcat.\nonCreate method</p>\n\n<pre><code>MobileAds.initialize(this, \"ca-app-pub-2068566232482245~4672139653\");\n        mAdView = findViewById(R.id.adView);\n        AdRequest adRequest = new AdRequest.Builder().build();\n        mAdView.loadAd(adRequest);\n</code></pre>\n\n<p>xml layout code </p>\n\n<pre><code>    &lt;com.google.android.gms.ads.AdView\n        android:id=\"@+id/adView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginTop=\"648dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginRight=\"8dp\"\n        android:layout_marginBottom=\"8dp\"\n        app:adSize=\"LARGE_BANNER\"\n        app:adUnitId=\"ca-app-pub-2068566232482245/9043517552\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.493\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"1.0\" /&gt;\n</code></pre>\n\n<p>build file</p>\n\n<pre><code>  dependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:appcompat-v7:27.0.0'\n    implementation 'com.google.android.gms:play-services-ads:17.2.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n}\n</code></pre>\n\n<p>logcat</p>\n\n<pre><code> 2019-04-19 22:13:38.962 12794-12887/de.androidnewcomer.quizallgemeinwissen D/libEGL: loaded /vendor/lib64/egl/libGLES_mali.so\n2019-04-19 22:13:39.165 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\n2019-04-19 22:13:39.284 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\n2019-04-19 22:13:39.289 12794-12875/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\n2019-04-19 22:13:39.289 12794-12875/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\n2019-04-19 22:13:39.365 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\n2019-04-19 22:13:39.379 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\n2019-04-19 22:13:39.444 12794-12910/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\n2019-04-19 22:13:39.452 12794-12910/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\n2019-04-19 22:13:39.717 12794-12943/de.androidnewcomer.quizallgemeinwissen I/Ads: App measurement is starting up, version: 14711\n2019-04-19 22:13:39.717 12794-12943/de.androidnewcomer.quizallgemeinwissen I/Ads: To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\n2019-04-19 22:13:41.348 12794-12794/de.androidnewcomer.quizallgemeinwissen W/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@c6fa434\n2019-04-19 22:13:41.374 12794-12910/de.androidnewcomer.quizallgemeinwissen W/Ads: Got on activity created\n2019-04-19 22:13:41.459 12794-12794/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\n2019-04-19 22:13:41.468 12794-12794/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\n2019-04-19 22:13:41.531 12794-12794/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\n2019-04-19 22:13:41.532 12794-12794/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\n2019-04-19 22:13:41.536 12794-12794/de.androidnewcomer.quizallgemeinwissen D/DynamitePackage: Instantiating com.google.android.gms.ads.ChimeraMobileAdsSettingManagerCreatorImpl\n2019-04-19 22:13:41.570 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Ads: Updating ad debug logging enablement.\n2019-04-19 22:13:41.594 12794-12794/de.androidnewcomer.quizallgemeinwissen I/WebViewFactory: Loading com.android.chrome version 73.0.3683.90 (code 368309052)\n2019-04-19 22:13:41.694 12794-12794/de.androidnewcomer.quizallgemeinwissen I/cr_LibraryLoader: Time to load native libraries: 4 ms (timestamps 6897-6901)\n2019-04-19 22:13:41.725 12794-12794/de.androidnewcomer.quizallgemeinwissen I/chromium: [INFO:library_loader_hooks.cc(50)] Chromium logging enabled: level = 0, default verbosity = 0\n2019-04-19 22:13:41.726 12794-12794/de.androidnewcomer.quizallgemeinwissen I/cr_LibraryLoader: Expected native library version number \"73.0.3683.90\", actual native library version number \"73.0.3683.90\"\n2019-04-19 22:13:42.025 12794-12794/de.androidnewcomer.quizallgemeinwissen D/DynamitePackage: Instantiating com.google.android.gms.ads.ChimeraAdManagerCreatorImpl\n2019-04-19 22:13:42.044 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Ads: Use AdRequest.Builder.addTestDevice(\"3D3E1F542ADD0C690202584E49A7D658\") to get test ads on this device.\n2019-04-19 22:13:42.097 12794-13205/de.androidnewcomer.quizallgemeinwissen W/Ads: Invoke Firebase method getInstance error.\n2019-04-19 22:13:42.097 12794-13205/de.androidnewcomer.quizallgemeinwissen W/Ads: The Google Mobile Ads SDK will not integrate with Firebase. Admob/Firebase integration requires the latest Firebase SDK jar, but Firebase SDK is either missing or out of date\n2019-04-19 22:13:42.105 12794-13151/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\n2019-04-19 22:13:42.112 12794-13206/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\n2019-04-19 22:13:42.112 12794-13206/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\n2019-04-19 22:13:42.254 12794-13153/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Accessing hidden field Ljava/nio/Buffer;-&gt;address:J (light greylist, reflection)\n2019-04-19 22:13:42.273 12794-13151/de.androidnewcomer.quizallgemeinwissen W/Ads: Not retrying to fetch app settings\n2019-04-19 22:13:42.360 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Choreographer: Skipped 59 frames!  The application may be doing too much work on its main thread.\n2019-04-19 22:13:42.434 12794-13152/de.androidnewcomer.quizallgemeinwissen W/Ads: Update ad debug logging enablement as false\n2019-04-19 22:13:42.884 12794-12794/de.androidnewcomer.quizallgemeinwissen D/ViewRootImpl@582a837[MainActivity]: Surface release. an\n</code></pre>\n"},{"tags":["java","apache-axis"],"comments":[{"owner":{"account_id":7814745,"reputation":417,"user_id":5909830,"display_name":"Purushothaman"},"score":0,"creation_date":1494331775,"post_id":9460864,"comment_id":74773924,"body_markdown":"Probably the best solution is given below. But if you are using maven project then you can remove the commons-logging by exclusion.\n&lt;dependency&gt;\n    &lt;groupId&gt;axis&lt;/groupId&gt;\n    &lt;artifactId&gt;axis&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n    \t&lt;exclusions&gt;\n\t        &lt;exclusion&gt; \n\t          \t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\n\t\t    \t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n     &lt;/exclusions&gt; \n&lt;/dependency&gt;","body":"Probably the best solution is given below. But if you are using maven project then you can remove the commons-logging by exclusion. &lt;dependency&gt;     &lt;groupId&gt;axis&lt;/groupId&gt;     &lt;artifactId&gt;axis&lt;/artifactId&gt;     &lt;version&gt;1.4&lt;/version&gt;     \t&lt;exclusions&gt; \t        &lt;exclusion&gt;  \t          \t&lt;groupId&gt;commons-logging&lt;/groupId&gt; \t\t    \t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;             &lt;/exclusion&gt;      &lt;/exclusions&gt;  &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":330601,"reputation":24990,"user_id":654801,"display_name":"sbridges"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1330324977,"creation_date":1330324977,"answer_id":9461037,"question_id":9460864,"body_markdown":"There is a pretty detailed explanation of what the issue may be and ways to debug it in the [commons logging documentation][1].  Your particular issue may be,\r\n\r\n&gt; There is also another more unusual way in which this cast can fail:\r\n&gt; even when the binary is compatible, the implementation class loaded at\r\n&gt; runtime may be linked to a different instance of the LogFactory class.\r\n&gt; For more information, see the [tech guide][2].\r\n\r\n\r\n  [1]: http://commons.apache.org/logging/troubleshooting.html#The%20Incompatible%20LogFactory%20Issue\r\n  [2]: http://commons.apache.org/logging/tech.html","title":"common logging jar conflict with apache axis soap client","body":"<p>There is a pretty detailed explanation of what the issue may be and ways to debug it in the <a href=\"http://commons.apache.org/logging/troubleshooting.html#The%20Incompatible%20LogFactory%20Issue\">commons logging documentation</a>.  Your particular issue may be,</p>\n\n<blockquote>\n  <p>There is also another more unusual way in which this cast can fail:\n  even when the binary is compatible, the implementation class loaded at\n  runtime may be linked to a different instance of the LogFactory class.\n  For more information, see the <a href=\"http://commons.apache.org/logging/tech.html\">tech guide</a>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4613849,"reputation":91,"user_id":3741067,"display_name":"oliolioli"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1453388976,"creation_date":1453388976,"answer_id":34927311,"question_id":9460864,"body_markdown":"The Link to the above mentioned [Documentation][1] to section &quot;Fixes&quot; suggests to include\r\n\r\n     -Dorg.apache.commons.logging.LogFactory=org.apache.commons.logging.impl.LogFactoryImpl\r\nin your setup.\r\nFor some people it might be easier to include this code instead:\r\n\r\n    static\r\n    {\r\n        System.setProperty(LogFactory.FACTORY_PROPERTY, LogFactory.FACTORY_DEFAULT);\r\n    }\r\n\r\n  [1]: http://commons.apache.org/proper/commons-logging/troubleshooting.html#Fixes","title":"common logging jar conflict with apache axis soap client","body":"<p>The Link to the above mentioned <a href=\"http://commons.apache.org/proper/commons-logging/troubleshooting.html#Fixes\" rel=\"noreferrer\">Documentation</a> to section \"Fixes\" suggests to include</p>\n\n<pre><code> -Dorg.apache.commons.logging.LogFactory=org.apache.commons.logging.impl.LogFactoryImpl\n</code></pre>\n\n<p>in your setup.\nFor some people it might be easier to include this code instead:</p>\n\n<pre><code>static\n{\n    System.setProperty(LogFactory.FACTORY_PROPERTY, LogFactory.FACTORY_DEFAULT);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6587492,"reputation":165,"user_id":5089850,"accept_rate":100,"display_name":"Kim Tiago Baptista"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1475698501,"creation_date":1475698501,"answer_id":39882916,"question_id":9460864,"body_markdown":"None of this solutions worked for me. I figure out my solution in SLF4J documentation\r\n\r\nhttp://slf4j.org/faq.html#excludingJCL\r\n\r\n&gt; alternative 2) provided scope Commons-logging can be rather simply and\r\n&gt; conveniently excluded as a dependency by declaring it in the provided\r\n&gt; scope within the pom.xml file of your project. The actual\r\n&gt; commons-logging classes would be provided by jcl-over-slf4j. This\r\n&gt; translates into the following pom file snippet: \r\n\r\n    &lt;dependency&gt;  \r\n       &lt;groupId&gt;commons-logging&lt;/groupId&gt;  \r\n       &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n       &lt;version&gt;1.1.1&lt;/version&gt;  \r\n       &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt; \r\n    \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;  \r\n       &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n       &lt;version&gt;1.7.21&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&gt; The first dependency declaration essentially states that\r\n&gt; commons-logging will be &quot;somehow&quot; provided by your environment. The\r\n&gt; second declaration includes jcl-over-slf4j into your project. As\r\n&gt; jcl-over-slf4j is a perfect binary-compatible replacement for\r\n&gt; commons-logging, the first assertion becomes true. Unfortunately,\r\n&gt; while declaring commons-logging in the provided scope gets the job\r\n&gt; done, your IDE, e.g. Eclipse, will still place commons-logging.jar on\r\n&gt; your project&#39;s class path as seen by your IDE. You would need to make\r\n&gt; sure that jcl-over-slf4j.jar is visible before commons-logging.jar by\r\n&gt; your IDE.\r\n\r\nSLF4J documentation gives more alternatives, this worked for me.","title":"common logging jar conflict with apache axis soap client","body":"<p>None of this solutions worked for me. I figure out my solution in SLF4J documentation</p>\n\n<p><a href=\"http://slf4j.org/faq.html#excludingJCL\" rel=\"noreferrer\">http://slf4j.org/faq.html#excludingJCL</a></p>\n\n<blockquote>\n  <p>alternative 2) provided scope Commons-logging can be rather simply and\n  conveniently excluded as a dependency by declaring it in the provided\n  scope within the pom.xml file of your project. The actual\n  commons-logging classes would be provided by jcl-over-slf4j. This\n  translates into the following pom file snippet: </p>\n</blockquote>\n\n<pre><code>&lt;dependency&gt;  \n   &lt;groupId&gt;commons-logging&lt;/groupId&gt;  \n   &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n   &lt;version&gt;1.1.1&lt;/version&gt;  \n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt; \n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;  \n   &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n   &lt;version&gt;1.7.21&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<blockquote>\n  <p>The first dependency declaration essentially states that\n  commons-logging will be \"somehow\" provided by your environment. The\n  second declaration includes jcl-over-slf4j into your project. As\n  jcl-over-slf4j is a perfect binary-compatible replacement for\n  commons-logging, the first assertion becomes true. Unfortunately,\n  while declaring commons-logging in the provided scope gets the job\n  done, your IDE, e.g. Eclipse, will still place commons-logging.jar on\n  your project's class path as seen by your IDE. You would need to make\n  sure that jcl-over-slf4j.jar is visible before commons-logging.jar by\n  your IDE.</p>\n</blockquote>\n\n<p>SLF4J documentation gives more alternatives, this worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3155402,"reputation":9,"user_id":2667922,"display_name":"basavaraj N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568797287,"creation_date":1568794140,"answer_id":57987970,"question_id":9460864,"body_markdown":"Replace jcl-over-slf4j jar with commons-logging jar\r\n","title":"common logging jar conflict with apache axis soap client","body":"<p>Replace jcl-over-slf4j jar with commons-logging jar</p>\n"},{"tags":[],"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584245208,"creation_date":1584245208,"answer_id":60689645,"question_id":9460864,"body_markdown":"Probably its too late :-) but for me following worked. I am using spring boot and added it as  first line in the main methods. More explanation as suggested above is [here][1].\r\n\r\n\r\n\t\tSystem.setProperty(&quot;org.apache.commons.logging.LogFactory&quot;, &quot;org.apache.commons.logging.impl.LogFactoryImpl&quot;);\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-logging/troubleshooting.html#The%20Incompatible%20LogFactory%20Issue\r\n\r\n","title":"common logging jar conflict with apache axis soap client","body":"<p>Probably its too late :-) but for me following worked. I am using spring boot and added it as  first line in the main methods. More explanation as suggested above is <a href=\"http://commons.apache.org/proper/commons-logging/troubleshooting.html#The%20Incompatible%20LogFactory%20Issue\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>    System.setProperty(\"org.apache.commons.logging.LogFactory\", \"org.apache.commons.logging.impl.LogFactoryImpl\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15215084,"reputation":302,"user_id":10978688,"display_name":"selllami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686082549,"creation_date":1686082549,"answer_id":76418131,"question_id":9460864,"body_markdown":"In some cases, the Eclipse IDE automatically adds additional dependencies from plugins when generating `Web Service Client` classes. To resolve this issue, you need to check the project build path and ensure that there are no other plugin dependencies included, such as Axis, Commons Discovery, JAX-RPC, and others.\r\n\r\nTo do this, follow these steps:\r\n\r\n- Right-click on your project in Eclipse and select `Properties -&gt; Java Build Path -&gt; Libraries TAB`.\r\n- Here, you will see a list of dependencies included in your project&#39;s build path.\r\n- Check for any unwanted plugin dependencies (e.g., `axis`, `commons-discovery`, `jaxrpc`) in the list.\r\n- If you find any unwanted dependencies, select them and click the `Remove` button to remove them from the build path.\r\n\r\nBy `removing these unwanted plugin dependencies` from the build path, you can ensure that they are not included during the compilation and execution of your project.\r\n\r\nPlease note that this solution is specific to resolving the issue of unwanted plugin dependencies in the Eclipse IDE when generating `Web Service Client` classes.","title":"common logging jar conflict with apache axis soap client","body":"<p>In some cases, the Eclipse IDE automatically adds additional dependencies from plugins when generating <code>Web Service Client</code> classes. To resolve this issue, you need to check the project build path and ensure that there are no other plugin dependencies included, such as Axis, Commons Discovery, JAX-RPC, and others.</p>\n<p>To do this, follow these steps:</p>\n<ul>\n<li>Right-click on your project in Eclipse and select <code>Properties -&gt; Java Build Path -&gt; Libraries TAB</code>.</li>\n<li>Here, you will see a list of dependencies included in your project's build path.</li>\n<li>Check for any unwanted plugin dependencies (e.g., <code>axis</code>, <code>commons-discovery</code>, <code>jaxrpc</code>) in the list.</li>\n<li>If you find any unwanted dependencies, select them and click the <code>Remove</code> button to remove them from the build path.</li>\n</ul>\n<p>By <code>removing these unwanted plugin dependencies</code> from the build path, you can ensure that they are not included during the compilation and execution of your project.</p>\n<p>Please note that this solution is specific to resolving the issue of unwanted plugin dependencies in the Eclipse IDE when generating <code>Web Service Client</code> classes.</p>\n"}],"owner":{"account_id":1220499,"reputation":1377,"user_id":1187233,"display_name":"Maneesh Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19219,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":9461037,"answer_count":6,"score":18,"last_activity_date":1686082549,"creation_date":1330323870,"question_id":9460864,"body_markdown":"I am getting this exception while trying to call SOAP webservice using axis. basically I have written a axis client.\r\n\r\n    org.apache.commons.discovery.DiscoveryException: Class org.apache.commons.logging.impl.SLF4JLogFactory does not implement org.apache.commons.logging.LogFactory.\r\n\r\n\r\nWhen I remove the all the common-logging jars, I would able to remove these errors but these jars are coming from other apis, i dont have control on them.\r\n\r\nIs there any way to overcome this problem?\r\n","title":"common logging jar conflict with apache axis soap client","body":"<p>I am getting this exception while trying to call SOAP webservice using axis. basically I have written a axis client.</p>\n\n<pre><code>org.apache.commons.discovery.DiscoveryException: Class org.apache.commons.logging.impl.SLF4JLogFactory does not implement org.apache.commons.logging.LogFactory.\n</code></pre>\n\n<p>When I remove the all the common-logging jars, I would able to remove these errors but these jars are coming from other apis, i dont have control on them.</p>\n\n<p>Is there any way to overcome this problem?</p>\n"},{"tags":["java","maven","environment-variables"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686033498,"post_id":76411967,"comment_id":134739749,"body_markdown":"Did you try `echo %JAVA_HOME%` from the same prompt you&#39;re running maven?","body":"Did you try <code>echo %JAVA_HOME%</code> from the same prompt you&#39;re running maven?"},{"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"score":0,"creation_date":1686035518,"post_id":76411967,"comment_id":134740100,"body_markdown":"@matt \n```C:\\Users\\67444&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk-19\n\nC:\\Users\\67444&gt;\n```\nin other words, yes","body":"@matt  <code>C:\\Users\\67444&gt;echo %JAVA_HOME% C:\\Program Files\\Java\\jdk-19  C:\\Users\\67444&gt; </code> in other words, yes"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686035702,"post_id":76411967,"comment_id":134740131,"body_markdown":"What about `%JAVA_HOME%/bin/java -version` ie is jkd-19 the correct root of your jdk?","body":"What about <code>%JAVA_HOME%&#47;bin&#47;java -version</code> ie is jkd-19 the correct root of your jdk?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686037943,"post_id":76411967,"comment_id":134740504,"body_markdown":"Also check `echo %PATH%` and make sure Maven and Java are right in that","body":"Also check <code>echo %PATH%</code> and make sure Maven and Java are right in that"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686038810,"post_id":76411967,"comment_id":134740674,"body_markdown":"After changing the environment have you ended the box and reopened it?","body":"After changing the environment have you ended the box and reopened it?"},{"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"score":0,"creation_date":1686039633,"post_id":76411967,"comment_id":134740838,"body_markdown":"@g00se i reedited original post, and yes, it&#39;s in path","body":"@g00se i reedited original post, and yes, it&#39;s in path"},{"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"score":0,"creation_date":1686039648,"post_id":76411967,"comment_id":134740842,"body_markdown":"@khmarbasie yes, i think. elaborate on what u mean","body":"@khmarbasie yes, i think. elaborate on what u mean"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686040117,"post_id":76411967,"comment_id":134740927,"body_markdown":"Can you post what you get at the command line? NB after edits to env vars, you will need a *new* instance of cmd.exe in otder to see your changes","body":"Can you post what you get at the command line? NB after edits to env vars, you will need a <i>new</i> instance of cmd.exe in otder to see your changes"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686040495,"post_id":76411967,"comment_id":134741003,"body_markdown":"1. check which exactly `mvn` you are running (in user home... (cmd: `where mvn`, in gitbash even better `which mvn`)) 2. clean your path from (jre) java 8 (first entry..all conflicting;)","body":"1. check which exactly <code>mvn</code> you are running (in user home... (cmd: <code>where mvn</code>, in gitbash even better <code>which mvn</code>)) 2. clean your path from (jre) java 8 (first entry..all conflicting;)"},{"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"score":0,"creation_date":1686044655,"post_id":76411967,"comment_id":134741926,"body_markdown":"@g00se exact same error after env var changes even in a new instance of cmd and restarting comp","body":"@g00se exact same error after env var changes even in a new instance of cmd and restarting comp"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686045065,"post_id":76411967,"comment_id":134742028,"body_markdown":"It&#39;s not clear what is happening right now. Does `mvn --version` run and give you a valid path? does `java --version` run and use the correct java? Note, you don&#39;t really need the correct java on your path as long as JAVA_HOME points to the correct JDK then you&#39;re fine. What error are you getting when you try using mvn to compile something?","body":"It&#39;s not clear what is happening right now. Does <code>mvn --version</code> run and give you a valid path? does <code>java --version</code> run and use the correct java? Note, you don&#39;t really need the correct java on your path as long as JAVA_HOME points to the correct JDK then you&#39;re fine. What error are you getting when you try using mvn to compile something?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686045176,"post_id":76411967,"comment_id":134742053,"body_markdown":"*Make sure that the 19 jdk is FIRST in PATH*. At the moment it seems to be Java 8. First entry should be `%JAVA_HOME%\\bin` Could we please see the output of the following (posted as formatted code): `C:\\Users\\67444&gt;echo %JAVA_HOME%;echo %PATH%;mvn -version`","body":"<i>Make sure that the 19 jdk is FIRST in PATH</i>. At the moment it seems to be Java 8. First entry should be <code>%JAVA_HOME%\\bin</code> Could we please see the output of the following (posted as formatted code): <code>C:\\Users\\67444&gt;echo %JAVA_HOME%;echo %PATH%;mvn -version</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686045332,"post_id":76411967,"comment_id":134742093,"body_markdown":"Probably the best way to test this is to use the [quickstart archetype](https://maven.apache.org/archetypes/maven-archetype-quickstart/) that way we don&#39;t have to worry about an error with your pom.xml","body":"Probably the best way to test this is to use the <a href=\"https://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"nofollow noreferrer\">quickstart archetype</a> that way we don&#39;t have to worry about an error with your pom.xml"},{"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"score":0,"creation_date":1686080344,"post_id":76411967,"comment_id":134749599,"body_markdown":"@matt running `mvn --version` yields the JAVA_HOME error. `java --version` says --version is unrecognized, but `java -version` is recognized. Also I am unable to execute this command `mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4` as anything following `mvn` will yield the JAVA_HOME ERROR","body":"@matt running <code>mvn --version</code> yields the JAVA_HOME error. <code>java --version</code> says --version is unrecognized, but <code>java -version</code> is recognized. Also I am unable to execute this command <code>mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4</code> as anything following <code>mvn</code> will yield the JAVA_HOME ERROR"}],"answers":[{"tags":[],"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686082493,"creation_date":1686082493,"answer_id":76418124,"question_id":76411967,"body_markdown":"Fix:\r\nDon&#39;t be an idiot like me, double check your JDK. Although I had a jdk-19 installing in my Program Files, it only had 1 folder, `lib`, which was **empty**\r\n\r\nWhat I did:\r\n\r\nI just removed that and installed latest JDK (jdk-20) although just reinstall JDK if you&#39;re an idiot like me","title":"JAVA_HOME env still not defined correctly windows 10","body":"<p>Fix:\nDon't be an idiot like me, double check your JDK. Although I had a jdk-19 installing in my Program Files, it only had 1 folder, <code>lib</code>, which was <strong>empty</strong></p>\n<p>What I did:</p>\n<p>I just removed that and installed latest JDK (jdk-20) although just reinstall JDK if you're an idiot like me</p>\n"}],"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76418124,"answer_count":1,"score":0,"last_activity_date":1686082493,"creation_date":1686033005,"question_id":76411967,"body_markdown":"So recently I&#39;ve been trying to set up a project using maven. After I installing the binary zip, I added it to my path by adding `M2_HOME` as a var name and `C:\\Program Files\\apache-maven-3.9.2` as the var value in my **System Environment Variables**. To confirm, this does exist:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen I added `JAVA_HOME` as a var name and `C:\\Program Files\\Java\\jdk-19` as the var value to my **System Env Variables** as well:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nNow, whenever I try running `mvn -version` or even `mvn` from terminal that is ran as admin and without admin permissions, I get:\r\n\r\n```\r\nC:\\Users\\67444&gt;mvn -verison\r\nThe JAVA_HOME environment variable is not defined correctly,\r\nthis environment variable is needed to run this program.\r\n\r\nC:\\Users\\67444&gt;\r\n```\r\n\r\nNote: Before I added JAVA_HOME, when I ran `mvn package` I got a compilation error saying that the compiler wasn&#39;t figured, meaning that marven was installed and working. So I decided to add JAVA_HOME and now it fully stopped working for some reason.\r\n\r\nOther Note:\r\nI have these two values in **System Path**:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI tried:\r\n\r\nRemoving both environment variables and re-adding them\r\nFully re-installing Maven and following the steps agains\r\n\r\nAny help would be appreciated :)\r\n\r\nEdit: My Path:\r\n[![enter image description here][4]][4]\r\n\r\nEdit: Request by g00se:\r\n\r\n    C:\\Users\\67444&gt;echo %JAVA_HOME%\r\n    C:\\Program Files\\Java\\jdk-19\\bin\r\n    \r\n    C:\\Users\\67444&gt;echo %PATH%\r\n    C:\\Program Files\\apache-maven-3.9.2\\bin;C:\\Program Files\\Java\\jdk-19\\bin;C:\\Program Files (x86)\\OpenJDK\\jre-8.0.292.10-hotspot\\bin;C:\\Program Files\\OpenJDK\\jdk-8.0.292.10-hotspot\\bin;C:\\Program Files (x86)\\OpenJDK\\jdk-8.0.362.09-hotspot\\bin;C:\\Program Files (x86)\\Razer\\ChromaBroadcast\\bin;C:\\Program Files\\Razer\\ChromaBroadcast\\bin;C:\\MinGW\\bin;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\WINDOWS\\system32;C:\\Users\\67444\\AppData\\Local\\Programs\\Python;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files\\Java\\jdk-19\\bin;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files\\Git\\cmd;C:\\Users\\67444\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\67444\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\67444\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\67444\\AppData\\Local\\atom\\bin;C:\\Users\\67444\\.dotnet\\tools;C:\\Users\\67444\\AppData\\Local\\Programs\\Fiddler;C:\\Users\\67444\\AppData\\Roaming\\npm;&quot;;C:\\Program Files\\nodejs\\&quot;;C:\\Users\\67444\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\67444\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\67444\\.dotnet\\tools;C:\\Program Files\\MongoDB\\Server\\6.0\\bin;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.1.2\\bin;;C:\\Program Files\\apache-maven-3.9.2\\bin;C:\\Program Files\\Java\\jdk-19\\bin;\r\n    \r\n    C:\\Users\\67444&gt;mvn -version\r\n    The JAVA_HOME environment variable is not defined correctly,\r\n    this environment variable is needed to run this program.\r\n    \r\n    C:\\Users\\67444&gt;\r\n\r\nUPDATE:\r\nRemoving `JAVA_HOME` from my environment vars in both system and user result in this screen:\r\n[![enter image description here][5]][5]\r\n\r\nBut adding JAVA_HOME breaks it. Why?\r\n\r\nAlso there&#39;s these following sequence of commands I tried:\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X8ss5.png\r\n  [2]: https://i.stack.imgur.com/Pbcwa.png\r\n  [3]: https://i.stack.imgur.com/xeb9Q.png\r\n  [4]: https://i.stack.imgur.com/Fr3YE.png\r\n  [5]: https://i.stack.imgur.com/rihh9.png\r\n  [6]: https://i.stack.imgur.com/1NhNc.png","title":"JAVA_HOME env still not defined correctly windows 10","body":"<p>So recently I've been trying to set up a project using maven. After I installing the binary zip, I added it to my path by adding <code>M2_HOME</code> as a var name and <code>C:\\Program Files\\apache-maven-3.9.2</code> as the var value in my <strong>System Environment Variables</strong>. To confirm, this does exist:</p>\n<p><a href=\"https://i.stack.imgur.com/X8ss5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X8ss5.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I added <code>JAVA_HOME</code> as a var name and <code>C:\\Program Files\\Java\\jdk-19</code> as the var value to my <strong>System Env Variables</strong> as well:</p>\n<p><a href=\"https://i.stack.imgur.com/Pbcwa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pbcwa.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, whenever I try running <code>mvn -version</code> or even <code>mvn</code> from terminal that is ran as admin and without admin permissions, I get:</p>\n<pre><code>C:\\Users\\67444&gt;mvn -verison\nThe JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n\nC:\\Users\\67444&gt;\n</code></pre>\n<p>Note: Before I added JAVA_HOME, when I ran <code>mvn package</code> I got a compilation error saying that the compiler wasn't figured, meaning that marven was installed and working. So I decided to add JAVA_HOME and now it fully stopped working for some reason.</p>\n<p>Other Note:\nI have these two values in <strong>System Path</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/xeb9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xeb9Q.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried:</p>\n<p>Removing both environment variables and re-adding them\nFully re-installing Maven and following the steps agains</p>\n<p>Any help would be appreciated :)</p>\n<p>Edit: My Path:\n<a href=\"https://i.stack.imgur.com/Fr3YE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fr3YE.png\" alt=\"enter image description here\" /></a></p>\n<p>Edit: Request by g00se:</p>\n<pre><code>C:\\Users\\67444&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk-19\\bin\n\nC:\\Users\\67444&gt;echo %PATH%\nC:\\Program Files\\apache-maven-3.9.2\\bin;C:\\Program Files\\Java\\jdk-19\\bin;C:\\Program Files (x86)\\OpenJDK\\jre-8.0.292.10-hotspot\\bin;C:\\Program Files\\OpenJDK\\jdk-8.0.292.10-hotspot\\bin;C:\\Program Files (x86)\\OpenJDK\\jdk-8.0.362.09-hotspot\\bin;C:\\Program Files (x86)\\Razer\\ChromaBroadcast\\bin;C:\\Program Files\\Razer\\ChromaBroadcast\\bin;C:\\MinGW\\bin;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\WINDOWS\\system32;C:\\Users\\67444\\AppData\\Local\\Programs\\Python;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files\\Java\\jdk-19\\bin;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files\\Git\\cmd;C:\\Users\\67444\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\67444\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\67444\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\67444\\AppData\\Local\\atom\\bin;C:\\Users\\67444\\.dotnet\\tools;C:\\Users\\67444\\AppData\\Local\\Programs\\Fiddler;C:\\Users\\67444\\AppData\\Roaming\\npm;&quot;;C:\\Program Files\\nodejs\\&quot;;C:\\Users\\67444\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\67444\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\67444\\.dotnet\\tools;C:\\Program Files\\MongoDB\\Server\\6.0\\bin;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.1.2\\bin;;C:\\Program Files\\apache-maven-3.9.2\\bin;C:\\Program Files\\Java\\jdk-19\\bin;\n\nC:\\Users\\67444&gt;mvn -version\nThe JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n\nC:\\Users\\67444&gt;\n</code></pre>\n<p>UPDATE:\nRemoving <code>JAVA_HOME</code> from my environment vars in both system and user result in this screen:\n<a href=\"https://i.stack.imgur.com/rihh9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rihh9.png\" alt=\"enter image description here\" /></a></p>\n<p>But adding JAVA_HOME breaks it. Why?</p>\n<p>Also there's these following sequence of commands I tried:\n<a href=\"https://i.stack.imgur.com/1NhNc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1NhNc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","interceptor"],"owner":{"account_id":1820313,"reputation":1528,"user_id":1654526,"accept_rate":36,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686082372,"creation_date":1686082372,"question_id":76418113,"body_markdown":"I&#39;m not able to make interceptors work in my spring boot application.\r\n\r\nWhat I&#39;ve done so far is a annotation for methods:\r\n\r\n    @Inerithed\r\n    @InterceptorBinding\r\n    @Target({METHOD})\r\n    @Retention(RUNTIME)\r\n    public @interface Log {}\r\n\r\nThe interceptor itself:\r\n\r\n    @Interceptor\r\n    @Log\r\n    public class LogInterceptor {\r\n        @AroundInvoke\r\n        public Object logInterceptor(InvocationContext ctx) throws Exception {\r\n            return ctx.proceed();\r\n        }\r\n    }\r\n\r\nThen in my class I&#39;m using:\r\n\r\n    @Interceptors({LogInterceptor.class})\r\n    @Service\r\n    public class MyService {\r\n        @Log\r\n        public void compute() {}\r\n    }\r\n    \r\nBut `LogInterceptor::logInterceptor()` method is never executed when I call `myService.compute()`.\r\nWhat am I doing wrong?","title":"Interceptors in a Spring Boot application","body":"<p>I'm not able to make interceptors work in my spring boot application.</p>\n<p>What I've done so far is a annotation for methods:</p>\n<pre><code>@Inerithed\n@InterceptorBinding\n@Target({METHOD})\n@Retention(RUNTIME)\npublic @interface Log {}\n</code></pre>\n<p>The interceptor itself:</p>\n<pre><code>@Interceptor\n@Log\npublic class LogInterceptor {\n    @AroundInvoke\n    public Object logInterceptor(InvocationContext ctx) throws Exception {\n        return ctx.proceed();\n    }\n}\n</code></pre>\n<p>Then in my class I'm using:</p>\n<pre><code>@Interceptors({LogInterceptor.class})\n@Service\npublic class MyService {\n    @Log\n    public void compute() {}\n}\n</code></pre>\n<p>But <code>LogInterceptor::logInterceptor()</code> method is never executed when I call <code>myService.compute()</code>.\nWhat am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686121016,"post_id":76418077,"comment_id":134753835,"body_markdown":"There is no difference in importing an internal or external dependency in the end it is one classpath. If it cannot be found the dependency isn&#39;t there, what is the scope of the dependency, how are you running/building this.","body":"There is no difference in importing an internal or external dependency in the end it is one classpath. If it cannot be found the dependency isn&#39;t there, what is the scope of the dependency, how are you running/building this."},{"owner":{"account_id":21439563,"reputation":1,"user_id":15794402,"display_name":"SteveWonderbelt"},"score":0,"creation_date":1686147103,"post_id":76418077,"comment_id":134759459,"body_markdown":"This dependency has system scope, since I had to manually add the jar to the project. The Pom entry looks like: \n\n`\t\t&lt;dependency&gt;\n\n\t\t\t&lt;groupId&gt;com.company.project&lt;/groupId&gt;\n\n\t\t\t&lt;artifactId&gt;postgres&lt;/artifactId&gt;\n\n\t\t\t&lt;version&gt;2.0.2-SNAPSHOT&lt;/version&gt;\n\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\n\n\t\t\t&lt;systemPath&gt;${basedir}/src/lib/postgres-2.0.2-SNAPSHOT.jar&lt;/systemPath&gt;\n\t\t&lt;/dependency&gt;`\nI&#39;m building the project&#39; with the normal `mvn package` command","body":"This dependency has system scope, since I had to manually add the jar to the project. The Pom entry looks like:   `\t\t&lt;dependency&gt;  \t\t\t&lt;groupId&gt;com.company.project&lt;/groupId&gt;  \t\t\t&lt;artifactId&gt;postgres&lt;/artifactId&gt;  \t\t\t&lt;version&gt;2.0.2-SNAPSHOT&lt;/version&gt;  \t\t\t&lt;scope&gt;system&lt;/scope&gt;  \t\t\t&lt;systemPath&gt;${basedir}/src/lib/postgres-2.0.2-SNAPSHOT.ja&zwnj;&#8203;r&lt;/systemPath&gt; \t\t&lt;/dependency&gt;` I&#39;m building the project&#39; with the normal <code>mvn package</code> command"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686147281,"post_id":76418077,"comment_id":134759518,"body_markdown":"system scoped dependency aren&#39;t included in  your project by default.","body":"system scoped dependency aren&#39;t included in  your project by default."},{"owner":{"account_id":21439563,"reputation":1,"user_id":15794402,"display_name":"SteveWonderbelt"},"score":0,"creation_date":1686151683,"post_id":76418077,"comment_id":134760685,"body_markdown":"Okay so I added the dependency through the `mvn install:install-file -Dfile=&lt;path-to-file&gt;` command, which installs the jar in the local repo, then I removed the scope and systempath tags so that Maven looks in the local repo by default. Started getting a different error about the dependency jar not being able to find its parent POM but I think I fixed that, so I think I&#39;m good now, no longer seeing the above error. Thank you so much @M.Deinum","body":"Okay so I added the dependency through the <code>mvn install:install-file -Dfile=&lt;path-to-file&gt;</code> command, which installs the jar in the local repo, then I removed the scope and systempath tags so that Maven looks in the local repo by default. Started getting a different error about the dependency jar not being able to find its parent POM but I think I fixed that, so I think I&#39;m good now, no longer seeing the above error. Thank you so much @M.Deinum"}],"owner":{"account_id":21439563,"reputation":1,"user_id":15794402,"display_name":"SteveWonderbelt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686082023,"creation_date":1686082023,"question_id":76418077,"body_markdown":"I&#39;m working on a Maven-based Spring Boot App that just connects to our databases and generates reports based on the data. The main method looks like this:\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.setProperty(&quot;spring.config.name&quot;,&quot;reports&quot;);\r\n\r\n\t\tSystem.out.println(System.getProperty(&quot;java.class.path&quot;));\r\n\t\tSystem.setProperty(&quot;spring.profiles.active&quot;,&quot;JTEST&quot;);\r\n\r\n\t\tnew SpringApplicationBuilder(ReportsRunner.class)\r\n\t\t\t\t.web(WebApplicationType.NONE)\r\n\t\t\t\t.bannerMode(Mode.OFF)\r\n\t\t\t\t.run(args);\r\n\t}\r\n```\r\nWhen it gets to the Run call, the following error(s) generate:\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class[com.company.dept.reports.ReportsRunner]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:178) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:398) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:747) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar!/:3.0.6]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar!/:3.0.6]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar!/:3.0.6]\r\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150) ~[spring-boot-3.0.6.jar!/:3.0.6]\r\n        at com.company.dept.reports.ReportsRunner.main(ReportsRunner.java:37) ~[classes!/:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[reports.jar:?]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[reports.jar:?]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[reports.jar:?]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[reports.jar:?]\r\nCaused by: java.lang.IllegalArgumentException: Could not find class [com.company.dept.postgres.PostGresAppConfig]\r\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:333) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:465) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:390) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:278) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:301) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:102) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:81) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:280) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:289) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        ... 19 more\r\nCaused by: java.lang.ClassNotFoundException: com.company.dept.postgres.PostGresAppConfig\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:432) ~[?:?]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:586) ~[?:?]\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[reports.jar:?]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[?:?]\r\n        at java.lang.Class.forName0(Native Method) ~[?:?]\r\n        at java.lang.Class.forName(Class.java:466) ~[?:?]\r\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:283) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:323) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:465) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:390) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:278) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:301) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:102) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:81) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:280) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:289) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        ... 19 more\r\n\r\n```\r\n\r\n\r\nA BeanDefinitionStoreException triggered by an IllegalArgumentException, triggered by a ClassNotFoundException. \r\n\r\n\r\n\r\nSo it seems like it&#39;s unable to find a class. PostGresAppConfig is from a separate jar/package that I&#39;ve added as a dependency to this project. It looks like this:\r\n\r\n```\r\n@Configuration\r\n@ComponentScan(basePackages = {&quot;com.company.dept.postgres.configuration&quot;})\r\npublic class PostGresAppConfig {\r\n\r\n    @Autowired\r\n    Environment env;\r\n    @Bean\r\n    public PostGresAppConfig postGresAppConfig(){\r\n        return new PostGresAppConfig();\r\n    }\r\n}\r\n```\r\nI believe it&#39;s some kind of issue with this file, because when I remove its import from the the config file, the error goes away:\r\n\r\n```\r\n//This throws no errors\r\n@Configuration\r\n@PropertySource(&quot;classpath:reports.properties&quot;)\r\n@Import({\r\n        BasicCoreConfiguration.class, //internal\r\n        ReportsConfigurationDev.class, //internal\r\n        ReportsConfigurationTest.class, //internal\r\n        ReportsConfigurationProd.class}) //internal\r\n@ComponentScan(basePackages = {&quot;com.company.dept.reports.runner&quot;,\r\n        &quot;com.company.dept.beans.utilities&quot;,\r\n        &quot;com.company.dept.beans.errorHandling&quot;,\r\n        &quot;com.company.dept.foundation.service&quot;,\r\n        &quot;com.company.dept.foundation.configuration.service&quot;,\r\n        &quot;com.company.dept.postgres.service&quot;})\r\npublic class ReportsCommonConfiguration {\r\n```\r\n```\r\n\r\n//This throws errors\r\n@Configuration\r\n@PropertySource(&quot;classpath:reports.properties&quot;)\r\n@Import({\r\n        PostGresAppConfig.class,//external\r\n        BasicCoreConfiguration.class, //internal\r\n        ReportsConfigurationDev.class, //internal\r\n        ReportsConfigurationTest.class, //internal\r\n        ReportsConfigurationProd.class}) //internal\r\n@ComponentScan(basePackages = {&quot;com.company.dept.reports.runner&quot;,\r\n        &quot;com.company.dept.beans.utilities&quot;,\r\n        &quot;com.company.dept.beans.errorHandling&quot;,\r\n        &quot;com.company.dept.foundation.service&quot;,\r\n        &quot;com.company.dept.foundation.configuration.service&quot;,\r\n        &quot;com.company.dept.postgres.service&quot;})\r\npublic class ReportsCommonConfiguration {\r\n```\r\nJust not sure what&#39;s causing this behavior. Maybe something to do with trying to import a configuration from an external jar/dependency? The other imported classes are from inside this project. \r\n\r\nI tried finding other questions related to this set of errors but didn&#39;t have much luck. Any help would be very appreciated. \r\n","title":"How to fix ClassNotFoundException thrown by configuration @Import in Spring Boot Application","body":"<p>I'm working on a Maven-based Spring Boot App that just connects to our databases and generates reports based on the data. The main method looks like this:</p>\n<pre><code>    public static void main(String[] args) {\n        System.setProperty(&quot;spring.config.name&quot;,&quot;reports&quot;);\n\n        System.out.println(System.getProperty(&quot;java.class.path&quot;));\n        System.setProperty(&quot;spring.profiles.active&quot;,&quot;JTEST&quot;);\n\n        new SpringApplicationBuilder(ReportsRunner.class)\n                .web(WebApplicationType.NONE)\n                .bannerMode(Mode.OFF)\n                .run(args);\n    }\n</code></pre>\n<p>When it gets to the Run call, the following error(s) generate:</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class[com.company.dept.reports.ReportsRunner]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:178) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:398) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:747) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar!/:3.0.6]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar!/:3.0.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar!/:3.0.6]\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150) ~[spring-boot-3.0.6.jar!/:3.0.6]\n        at com.company.dept.reports.ReportsRunner.main(ReportsRunner.java:37) ~[classes!/:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[reports.jar:?]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[reports.jar:?]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[reports.jar:?]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[reports.jar:?]\nCaused by: java.lang.IllegalArgumentException: Could not find class [com.company.dept.postgres.PostGresAppConfig]\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:333) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:465) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:390) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:278) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:301) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:102) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:81) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:280) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:289) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164) ~[spring-context-6.0.8.jar!/:6.0.8]\n        ... 19 more\nCaused by: java.lang.ClassNotFoundException: com.company.dept.postgres.PostGresAppConfig\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:432) ~[?:?]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:586) ~[?:?]\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[reports.jar:?]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[?:?]\n        at java.lang.Class.forName0(Native Method) ~[?:?]\n        at java.lang.Class.forName(Class.java:466) ~[?:?]\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:283) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:323) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:465) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:390) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:278) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:301) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:102) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:81) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:280) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:289) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164) ~[spring-context-6.0.8.jar!/:6.0.8]\n        ... 19 more\n\n</code></pre>\n<p>A BeanDefinitionStoreException triggered by an IllegalArgumentException, triggered by a ClassNotFoundException.</p>\n<p>So it seems like it's unable to find a class. PostGresAppConfig is from a separate jar/package that I've added as a dependency to this project. It looks like this:</p>\n<pre><code>@Configuration\n@ComponentScan(basePackages = {&quot;com.company.dept.postgres.configuration&quot;})\npublic class PostGresAppConfig {\n\n    @Autowired\n    Environment env;\n    @Bean\n    public PostGresAppConfig postGresAppConfig(){\n        return new PostGresAppConfig();\n    }\n}\n</code></pre>\n<p>I believe it's some kind of issue with this file, because when I remove its import from the the config file, the error goes away:</p>\n<pre><code>//This throws no errors\n@Configuration\n@PropertySource(&quot;classpath:reports.properties&quot;)\n@Import({\n        BasicCoreConfiguration.class, //internal\n        ReportsConfigurationDev.class, //internal\n        ReportsConfigurationTest.class, //internal\n        ReportsConfigurationProd.class}) //internal\n@ComponentScan(basePackages = {&quot;com.company.dept.reports.runner&quot;,\n        &quot;com.company.dept.beans.utilities&quot;,\n        &quot;com.company.dept.beans.errorHandling&quot;,\n        &quot;com.company.dept.foundation.service&quot;,\n        &quot;com.company.dept.foundation.configuration.service&quot;,\n        &quot;com.company.dept.postgres.service&quot;})\npublic class ReportsCommonConfiguration {\n</code></pre>\n<pre><code>\n//This throws errors\n@Configuration\n@PropertySource(&quot;classpath:reports.properties&quot;)\n@Import({\n        PostGresAppConfig.class,//external\n        BasicCoreConfiguration.class, //internal\n        ReportsConfigurationDev.class, //internal\n        ReportsConfigurationTest.class, //internal\n        ReportsConfigurationProd.class}) //internal\n@ComponentScan(basePackages = {&quot;com.company.dept.reports.runner&quot;,\n        &quot;com.company.dept.beans.utilities&quot;,\n        &quot;com.company.dept.beans.errorHandling&quot;,\n        &quot;com.company.dept.foundation.service&quot;,\n        &quot;com.company.dept.foundation.configuration.service&quot;,\n        &quot;com.company.dept.postgres.service&quot;})\npublic class ReportsCommonConfiguration {\n</code></pre>\n<p>Just not sure what's causing this behavior. Maybe something to do with trying to import a configuration from an external jar/dependency? The other imported classes are from inside this project.</p>\n<p>I tried finding other questions related to this set of errors but didn't have much luck. Any help would be very appreciated.</p>\n"},{"tags":["java","selenium-webdriver","testing","testng","testng.xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150390,"post_id":76418053,"comment_id":134760360,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28767565,"reputation":1,"user_id":22032095,"display_name":"Sandip Chopkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686081804,"creation_date":1686081804,"question_id":76418053,"body_markdown":"I want to run &#39;method A&#39; from class A ,then &#39;method B&#39; from class B, then again &#39;method A&#39; from class A. \r\n  Is it is possible in testng to repeat run, already run classes.\r\n  In my case testng not calculating already run classes at the next time in same xml file. Anybody from you can help me?\r\n\r\nI create two testng class Class A and Class B. In class A I wrote a method like method A And in class B I wrote another method like method B. And in testng.xml I call Class A method then I call class B method then I again call Class A method. But on first time class A is run after that Class B also run but then execution gets stop and my driver gets closed.and class A which is called at second time doesn&#39;t run and testng also not calculating it into the passed, failed or skipped test case. ","title":"How to run class A ,Class B and again Class A in testng.xml","body":"<p>I want to run 'method A' from class A ,then 'method B' from class B, then again 'method A' from class A.\nIs it is possible in testng to repeat run, already run classes.\nIn my case testng not calculating already run classes at the next time in same xml file. Anybody from you can help me?</p>\n<p>I create two testng class Class A and Class B. In class A I wrote a method like method A And in class B I wrote another method like method B. And in testng.xml I call Class A method then I call class B method then I again call Class A method. But on first time class A is run after that Class B also run but then execution gets stop and my driver gets closed.and class A which is called at second time doesn't run and testng also not calculating it into the passed, failed or skipped test case.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1685987777,"post_id":76408889,"comment_id":134734870,"body_markdown":"&quot;`i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1)`&quot; do you mean `i` rather than `j`? (Or `j` rather than `i`?)","body":"&quot;<code>i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1)</code>&quot; do you mean <code>i</code> rather than <code>j</code>? (Or <code>j</code> rather than <code>i</code>?)"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1685987830,"post_id":76408889,"comment_id":134734885,"body_markdown":"&quot;is not entering ... if it enters&quot;???","body":"&quot;is not entering ... if it enters&quot;???"},{"owner":{"account_id":27528457,"reputation":39,"user_id":21007380,"display_name":"Pratik"},"score":0,"creation_date":1685987973,"post_id":76408889,"comment_id":134734904,"body_markdown":"If it enters it is giving Index out of bounds at one point","body":"If it enters it is giving Index out of bounds at one point"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686081752,"creation_date":1685988571,"answer_id":76408970,"question_id":76408889,"body_markdown":"The following code will iterate on _fff_, and attempt to match a _start_date_ with a value in _holdings_.\r\n\r\nYou mention checking if the _holder_ names are the same, that I&#39;m not sure of, there only appears to be one _holder_name_ column.\r\n\r\nYou&#39;ll have to adapt your code.  \r\nI&#39;m using two _List\\&lt;List\\&lt;String\\&gt;\\&gt;_ objects, _fff_, and _holdings_.\r\n\r\n```java\r\nString fffStartDate, fffHoldings, fffEndDate;\r\nString holdingsStartDate, holdingsHolderName;\r\nboolean found;\r\nfor (List&lt;String&gt; fffRow : fff) {\r\n    fffStartDate = fffRow.get(0);\r\n    fffHoldings = fffRow.get(1);\r\n    fffEndDate = fffRow.get(2);\r\n    found = false;\r\n    for (List&lt;String&gt; holdingsRow : holdings) {\r\n        holdingsStartDate = holdingsRow.get(0);\r\n        holdingsHolderName = holdingsRow.get(1);\r\n        if (fffStartDate.equals(holdingsStartDate)) {\r\n\r\n            found = true;\r\n            break;\r\n        }\r\n    }\r\n    if (!found) {\r\n\r\n    }\r\n}\r\n```","title":"Java Index out of bounds or code not entering If condition","body":"<p>The following code will iterate on <em>fff</em>, and attempt to match a <em>start_date</em> with a value in <em>holdings</em>.</p>\n<p>You mention checking if the <em>holder</em> names are the same, that I'm not sure of, there only appears to be one <em>holder_name</em> column.</p>\n<p>You'll have to adapt your code.<br />\nI'm using two <em>List&lt;List&lt;String&gt;&gt;</em> objects, <em>fff</em>, and <em>holdings</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fffStartDate, fffHoldings, fffEndDate;\nString holdingsStartDate, holdingsHolderName;\nboolean found;\nfor (List&lt;String&gt; fffRow : fff) {\n    fffStartDate = fffRow.get(0);\n    fffHoldings = fffRow.get(1);\n    fffEndDate = fffRow.get(2);\n    found = false;\n    for (List&lt;String&gt; holdingsRow : holdings) {\n        holdingsStartDate = holdingsRow.get(0);\n        holdingsHolderName = holdingsRow.get(1);\n        if (fffStartDate.equals(holdingsStartDate)) {\n\n            found = true;\n            break;\n        }\n    }\n    if (!found) {\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27528457,"reputation":39,"user_id":21007380,"display_name":"Pratik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1686081752,"creation_date":1685987710,"question_id":76408889,"body_markdown":"I am writing a code for the following condition. Below are the two tables I am having. \r\n\r\n\r\n\r\n**fff** table\r\n    \r\n    start_date | holdings    |end_date  |\r\n    2022-09-09 | 1000        |08-08-2023|\r\n    2022-09-10 | 1000        |08-08-2023|\r\n    2022-09-12 | 1000        |08-08-2023|\r\n    2023-09-08 | 1000        |08-08-2023|\r\n    2022-09-09 | 1000        |08-08-2023|\r\n    2022-09-10 | 1000        |08-08-2023|\r\n    2022-09-12 | 1000        |08-08-2023|\r\n\r\n**holdings** table\r\n\r\n    start_date | holder_name |\r\n    2022-09-09 | Pratik      |\r\n    2022-09-10 | Pratik      |\r\n    2022-09-12 | Sarvesh     |\r\n\r\nI am trying to pass dates into a query wherein I am checking if the holder names are the same consecutively, some condition should be executed for the dates to be passed and if different, some condition should be executed. Following is the code I am writing.\r\n\r\n    for (int i = 0; i &lt; filteredEndDate.size(); i++) {\r\n    \t\t\t\ttry {\r\n    \r\n    \t\t\t\t\tBigDecimal sum = null;\r\n    \r\n    \t\t\t\t\tfor (int a = 0; a &lt; tosstartDateList.size(); a++) {\r\n    \t\t\t\t\t\tif (filteredStartDate.get(i).equals(tosstartDateList.get(a))) {\r\n    \t\t\t\t\t\t\tif (restrictedHoldings.size() == 0) {\r\n    \t\t\t\t\t\t\t\tsum = (BigDecimal) rdsSession\r\n    \t\t\t\t\t\t\t\t\t\t.createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;startDate&quot;, filteredStartDate.get(0), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.getSingleResult();\r\n    \t\t\t\t\t\t\t\trestrictedHoldings.add(sum.longValue());\r\n    \t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t//for (int k = 0; k &lt; restrictedHoldings.size(); k++) {\r\n    \t\t\t\t\t\t\t\t\trestrictedHoldings.add(restrictedHoldings.get(i - 1));\r\n    \t\t\t\t\t\t\t\t//}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tint count=0;\r\n    \t\t\t\t\tfor (int j = 0; j &lt; listOfNonConsolidatedHoldings.size(); j++) {\r\n    \t\t\t\t\t\tif (filteredStartDate.get(i).equals(listOfNonConsolidatedHoldings.get(j).getId().getStartDate())) {\r\n    \t\t\t\t\t\t\t//for (int b = 0; b &lt; holderNames.size(); b++) {\r\n    \t\t\t\t\t\t\tif (i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1).getHolderName().\r\n    \t\t\t\t\t\t\t\t\tequals(listOfNonConsolidatedHoldings.get(j).getHolderName()))\r\n    \t\t\t\t\t\t\t\tsum = (BigDecimal) rdsSession\r\n    \t\t\t\t\t\t\t\t\t\t.createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;startDate&quot;, filteredStartDate.get(i), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.getSingleResult();\r\n    \r\n    \t\t\t\t\t\t\telse {\r\n    \t\t\t\t\t\t\t\tsum = (BigDecimal) rdsSession\r\n    \t\t\t\t\t\t\t\t\t\t.createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;startDate&quot;, filteredStartDate.get(0), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.getSingleResult();\r\n    \r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\trestrictedHoldings.add(sum.longValue());\r\n    \t\t\t\t\t\t\tcount++;\r\n    \t\t\t\t\t\t\t//}\r\n    \r\n    \r\n    \r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\r\nThe code is not entering inside if condition after the line\r\n\r\n \r\n\r\n     if (filteredStartDate.get(i).equals(listOfNonConsolidatedHoldings.get(j).getId().getStartDate())) {\r\n\r\n\r\nAnd if it enters, it is giving Index out of bounds at line \r\n\r\n    if (i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1).getHolderName().\r\n                                        equals(listOfNonConsolidatedHoldings.get(j).getHolderName()))\r\n\r\nThe size of both the tables does not match. The listOfNonConsolidatedHoldings represents holdings table and the filteredStartDate and filteredEndDate represent the date I am passing from the fff table. \r\n","title":"Java Index out of bounds or code not entering If condition","body":"<p>I am writing a code for the following condition. Below are the two tables I am having.</p>\n<p><strong>fff</strong> table</p>\n<pre><code>start_date | holdings    |end_date  |\n2022-09-09 | 1000        |08-08-2023|\n2022-09-10 | 1000        |08-08-2023|\n2022-09-12 | 1000        |08-08-2023|\n2023-09-08 | 1000        |08-08-2023|\n2022-09-09 | 1000        |08-08-2023|\n2022-09-10 | 1000        |08-08-2023|\n2022-09-12 | 1000        |08-08-2023|\n</code></pre>\n<p><strong>holdings</strong> table</p>\n<pre><code>start_date | holder_name |\n2022-09-09 | Pratik      |\n2022-09-10 | Pratik      |\n2022-09-12 | Sarvesh     |\n</code></pre>\n<p>I am trying to pass dates into a query wherein I am checking if the holder names are the same consecutively, some condition should be executed for the dates to be passed and if different, some condition should be executed. Following is the code I am writing.</p>\n<pre><code>for (int i = 0; i &lt; filteredEndDate.size(); i++) {\n                try {\n\n                    BigDecimal sum = null;\n\n                    for (int a = 0; a &lt; tosstartDateList.size(); a++) {\n                        if (filteredStartDate.get(i).equals(tosstartDateList.get(a))) {\n                            if (restrictedHoldings.size() == 0) {\n                                sum = (BigDecimal) rdsSession\n                                        .createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\n                                        .setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\n                                        .setParameter(&quot;startDate&quot;, filteredStartDate.get(0), LocalDateType.INSTANCE)\n                                        .setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\n                                        .getSingleResult();\n                                restrictedHoldings.add(sum.longValue());\n                            } else {\n                                //for (int k = 0; k &lt; restrictedHoldings.size(); k++) {\n                                    restrictedHoldings.add(restrictedHoldings.get(i - 1));\n                                //}\n                            }\n                        }\n                        break;\n                    }\n                    int count=0;\n                    for (int j = 0; j &lt; listOfNonConsolidatedHoldings.size(); j++) {\n                        if (filteredStartDate.get(i).equals(listOfNonConsolidatedHoldings.get(j).getId().getStartDate())) {\n                            //for (int b = 0; b &lt; holderNames.size(); b++) {\n                            if (i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1).getHolderName().\n                                    equals(listOfNonConsolidatedHoldings.get(j).getHolderName()))\n                                sum = (BigDecimal) rdsSession\n                                        .createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\n                                        .setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\n                                        .setParameter(&quot;startDate&quot;, filteredStartDate.get(i), LocalDateType.INSTANCE)\n                                        .setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\n                                        .getSingleResult();\n\n                            else {\n                                sum = (BigDecimal) rdsSession\n                                        .createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\n                                        .setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\n                                        .setParameter(&quot;startDate&quot;, filteredStartDate.get(0), LocalDateType.INSTANCE)\n                                        .setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\n                                        .getSingleResult();\n\n                            }\n                            restrictedHoldings.add(sum.longValue());\n                            count++;\n                            //}\n\n\n\n                        }\n\n                        break;\n                    }\n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n</code></pre>\n<p>The code is not entering inside if condition after the line</p>\n<pre><code> if (filteredStartDate.get(i).equals(listOfNonConsolidatedHoldings.get(j).getId().getStartDate())) {\n</code></pre>\n<p>And if it enters, it is giving Index out of bounds at line</p>\n<pre><code>if (i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1).getHolderName().\n                                    equals(listOfNonConsolidatedHoldings.get(j).getHolderName()))\n</code></pre>\n<p>The size of both the tables does not match. The listOfNonConsolidatedHoldings represents holdings table and the filteredStartDate and filteredEndDate represent the date I am passing from the fff table.</p>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":11083003,"reputation":529,"user_id":8137669,"accept_rate":50,"display_name":"Snakienn"},"score":0,"creation_date":1562809722,"post_id":56980350,"comment_id":100496960,"body_markdown":"when you read the end of file, the stream is closed. What is the purpose to keep the job running? There is no new data coming in.","body":"when you read the end of file, the stream is closed. What is the purpose to keep the job running? There is no new data coming in."},{"owner":{"account_id":7826766,"reputation":11,"user_id":5918067,"display_name":"mathew"},"score":1,"creation_date":1562837635,"post_id":56980350,"comment_id":100506749,"body_markdown":"@Snakienn, the idea is for the stream to keep running that is why the input file keeps growing. Indeed there is new data coming in.","body":"@Snakienn, the idea is for the stream to keep running that is why the input file keeps growing. Indeed there is new data coming in."}],"owner":{"account_id":7826766,"reputation":11,"user_id":5918067,"display_name":"mathew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686081589,"creation_date":1562806684,"question_id":56980350,"body_markdown":"Hello I am new with Flink and currently trying to set-up a basic pipeline that:\r\n* receives data from a random string generator, \r\n* does a `wordCount` \r\n* and saves the output to a file.\r\n\r\nI am interested in ensuring the Flink programs keeps running until I decide to stop it manually, or when there are no input data anymore. However, the program starts and ends even while the input data is still being generated.\r\n\r\nI have tried using either of these 2 windowing line of code but no success:\r\n\r\n```\r\n.window(ProcessingTimeSessionWindows.withGap(Time.minutes(10)))\r\n.timeWindow(Time.of(2500, MILLISECONDS), Time.of(500, MILLISECONDS))\r\n```\r\n\r\nBelow is an example of the input file which runs continuously:\r\n```\r\nACBAB\r\nCEECC\r\nBCCAD\r\nEADAE\r\nBBCDA\r\nDCADD\r\n```\r\n\r\nThis is the code i am currently running:\r\n\r\n``` \r\npublic static void main(String[] args) throws Exception {\r\n\r\n        final ParameterTool params = ParameterTool.fromArgs(args);\r\n\r\n        // set up the execution environment\r\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n        // get input data\r\n        DataStream&lt;String&gt; text = null;\r\n        if (params.has(&quot;input&quot;)) {\r\n            // read the text file from given input path\r\n            text = env.readTextFile(params.get(&quot;input&quot;));\r\n        } else {\r\n            System.out.println(&quot;Executing WindowWordCount example with default input data set.&quot;);\r\n            System.out.println(&quot;Use --input to specify file input.&quot;);\r\n            // get default test text data\r\n            text = env.fromElements(&quot;input&quot;);\r\n        }\r\n\r\n        // make parameters available in the web interface\r\n        env.getConfig().setGlobalJobParameters(params);\r\n\r\n       \r\n        DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; stream = \r\n        \ttext.flatMap(new WindowWordCount.Tokenizer())\r\n\t\t\t.keyBy(0)\r\n\t\t\t.timeWindow(Time.of(2500, MILLISECONDS), Time.of(500, MILLISECONDS))\r\n\t\t\t.sum(1);\r\n\r\n        // emit result\r\n        if (params.has(&quot;output&quot;)) {\r\n        \tstream.writeAsText(params.get(&quot;output&quot;));\r\n        } else {\r\n            System.out.println(&quot;Printing result to stdout. Use --output to specify output path.&quot;);\r\n            stream.print();\r\n        }\r\n\r\n        // execute program\r\n        env.execute(&quot;WindowWordCount&quot;);\r\n    }\r\n    \r\n  \r\n    public static final class Tokenizer implements FlatMapFunction&lt;String, Tuple2&lt;String, Integer&gt;&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic void flatMap(String value, Collector&lt;Tuple2&lt;String, Integer&gt;&gt; out) {\r\n\t\t\t// normalize and split the line\r\n\t\t\tString[] tokens = value.toLowerCase().split(&quot;\\\\W+&quot;);\r\n\r\n\t\t\t// emit the pairs\r\n\t\t\tfor (String token : tokens) {\r\n\t\t\t\tif (token.length() &gt; 0) {\r\n\t\t\t\t\tout.collect(new Tuple2&lt;&gt;(token, 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe Programs runs fine and stops after a while with the following message:\r\n\r\n&gt;Starting execution of program\r\n&gt;Program execution finished\r\n&gt;Job with JobID 74a6f54d80af96f029a8e6c32d9bc8da has finished.\r\n&gt;Job Runtime: 176994 ms\r\n\r\nWhat I want is for the program to keep running because I am interested in analyzing the performance metrics of the Flink engine.","title":"My Flink Streaming job execution finishes while the data source still produces data?","body":"<p>Hello I am new with Flink and currently trying to set-up a basic pipeline that:</p>\n<ul>\n<li>receives data from a random string generator,</li>\n<li>does a <code>wordCount</code></li>\n<li>and saves the output to a file.</li>\n</ul>\n<p>I am interested in ensuring the Flink programs keeps running until I decide to stop it manually, or when there are no input data anymore. However, the program starts and ends even while the input data is still being generated.</p>\n<p>I have tried using either of these 2 windowing line of code but no success:</p>\n<pre><code>.window(ProcessingTimeSessionWindows.withGap(Time.minutes(10)))\n.timeWindow(Time.of(2500, MILLISECONDS), Time.of(500, MILLISECONDS))\n</code></pre>\n<p>Below is an example of the input file which runs continuously:</p>\n<pre><code>ACBAB\nCEECC\nBCCAD\nEADAE\nBBCDA\nDCADD\n</code></pre>\n<p>This is the code i am currently running:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n        final ParameterTool params = ParameterTool.fromArgs(args);\n\n        // set up the execution environment\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        // get input data\n        DataStream&lt;String&gt; text = null;\n        if (params.has(&quot;input&quot;)) {\n            // read the text file from given input path\n            text = env.readTextFile(params.get(&quot;input&quot;));\n        } else {\n            System.out.println(&quot;Executing WindowWordCount example with default input data set.&quot;);\n            System.out.println(&quot;Use --input to specify file input.&quot;);\n            // get default test text data\n            text = env.fromElements(&quot;input&quot;);\n        }\n\n        // make parameters available in the web interface\n        env.getConfig().setGlobalJobParameters(params);\n\n       \n        DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; stream = \n            text.flatMap(new WindowWordCount.Tokenizer())\n            .keyBy(0)\n            .timeWindow(Time.of(2500, MILLISECONDS), Time.of(500, MILLISECONDS))\n            .sum(1);\n\n        // emit result\n        if (params.has(&quot;output&quot;)) {\n            stream.writeAsText(params.get(&quot;output&quot;));\n        } else {\n            System.out.println(&quot;Printing result to stdout. Use --output to specify output path.&quot;);\n            stream.print();\n        }\n\n        // execute program\n        env.execute(&quot;WindowWordCount&quot;);\n    }\n    \n  \n    public static final class Tokenizer implements FlatMapFunction&lt;String, Tuple2&lt;String, Integer&gt;&gt; {\n\n        @Override\n        public void flatMap(String value, Collector&lt;Tuple2&lt;String, Integer&gt;&gt; out) {\n            // normalize and split the line\n            String[] tokens = value.toLowerCase().split(&quot;\\\\W+&quot;);\n\n            // emit the pairs\n            for (String token : tokens) {\n                if (token.length() &gt; 0) {\n                    out.collect(new Tuple2&lt;&gt;(token, 1));\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>The Programs runs fine and stops after a while with the following message:</p>\n<blockquote>\n<p>Starting execution of program\nProgram execution finished\nJob with JobID 74a6f54d80af96f029a8e6c32d9bc8da has finished.\nJob Runtime: 176994 ms</p>\n</blockquote>\n<p>What I want is for the program to keep running because I am interested in analyzing the performance metrics of the Flink engine.</p>\n"},{"tags":["java","spring-mvc","bean-validation","spring-restcontroller"],"comments":[{"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"score":0,"creation_date":1684843249,"post_id":76310236,"comment_id":134573545,"body_markdown":"See this answer  https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring the same problem is described there. Seems nothing changed since then and the spring controller still has this issue with collection validation.","body":"See this answer  <a href=\"https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring\" title=\"validation of a list of objects in spring\">stackoverflow.com/questions/28150405/&hellip;</a> the same problem is described there. Seems nothing changed since then and the spring controller still has this issue with collection validation."},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1684848441,"post_id":76310236,"comment_id":134574882,"body_markdown":"@mark_o it is different, on the question you mention, he is only applying one validation, instead, I need to apply different validations based on validation group, so a little bit more complex.","body":"@mark_o it is different, on the question you mention, he is only applying one validation, instead, I need to apply different validations based on validation group, so a little bit more complex."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686080649,"creation_date":1686080649,"answer_id":76417939,"question_id":76310236,"body_markdown":"I&#39;m still looking to find a solution using annotation but until then, I solved it in that way:\r\n\r\nI have created a ValidatorUtils\r\n\r\n\r\n    @NoArgsConstructor(access = AccessLevel.PRIVATE)\r\n    public class ValidatorUtils {\r\n    \r\n    \tpublic static &lt;TO_VALIDATE&gt; void validate(Collection&lt;TO_VALIDATE&gt; collectionToValidate) {\r\n    \t\tValidator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n    \t\tfor (TO_VALIDATE toValidate : collectionToValidate) {\r\n    \t\t\tSet&lt;ConstraintViolation&lt;TO_VALIDATE&gt;&gt; violations = validator.validate(toValidate);\r\n    \t\t\tif (!violations.isEmpty()) {\r\n    \t\t\t\tthrow new ConstraintViolationException(violations);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static &lt;TO_VALIDATE&gt; void validateGroups(Collection&lt;TO_VALIDATE&gt; collectionToValidate, Class&lt;?&gt;... groups) {\r\n    \t\tValidator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n    \t\tfor (TO_VALIDATE toValidate : collectionToValidate) {\r\n    \t\t\tSet&lt;ConstraintViolation&lt;TO_VALIDATE&gt;&gt; violations = validator.validate(toValidate, groups);\r\n    \t\t\tif (!violations.isEmpty()) {\r\n    \t\t\t\tthrow new ConstraintViolationException(violations);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nand then I&#39;m using it in the controller before calling the service:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/continent&quot;)\r\n    public class ContinentRestController {\r\n    \r\n        private final ContinentService service;\r\n    \r\n        @PostMapping(value = &quot;/save-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public @ResponseBody Integer save(\r\n               @Validated(ContinentDto.CreateValidation.class) \r\n               @RequestBody final ContinentDto dto) throws TechnicalException {\r\n    \r\n            return service.save(dto);\r\n    \r\n        }\r\n    \r\n        @PostMapping(value = &quot;/save-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public @ResponseBody Collection&lt;Integer&gt; saveAll(\r\n               @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws TechnicalException {\r\n    \r\n            ValidatorUtils.validateGroups(dtos, ContinentDto.CreateValidation.class);\r\n            return service.save(dtos);\r\n    \r\n        }\r\n    \r\n        @PutMapping(value = &quot;/update-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public @ResponseBody Integer update(\r\n               @Validated(ContinentDto.UpdateValidation.class) \r\n               @RequestBody final ContinentDto dto) throws FunctionalException, TechnicalException {\r\n        \r\n            return service.update(dto);\r\n    \r\n        }\r\n    \r\n        @PutMapping(value = &quot;/update-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public @ResponseBody Collection&lt;Integer&gt; updateAll(\r\n               @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws FunctionalException, TechnicalException {\r\n        \r\n            ValidatorUtils.validateGroups(dtos, ContinentDto.UpdateValidation.class);\r\n            return service.update(dtos);\r\n        \r\n        }\r\n    \r\n    }","title":"How to validate objects of collection on Controller with Validated?","body":"<p>I'm still looking to find a solution using annotation but until then, I solved it in that way:</p>\n<p>I have created a ValidatorUtils</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class ValidatorUtils {\n\n    public static &lt;TO_VALIDATE&gt; void validate(Collection&lt;TO_VALIDATE&gt; collectionToValidate) {\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        for (TO_VALIDATE toValidate : collectionToValidate) {\n            Set&lt;ConstraintViolation&lt;TO_VALIDATE&gt;&gt; violations = validator.validate(toValidate);\n            if (!violations.isEmpty()) {\n                throw new ConstraintViolationException(violations);\n            }\n        }\n    }\n\n    public static &lt;TO_VALIDATE&gt; void validateGroups(Collection&lt;TO_VALIDATE&gt; collectionToValidate, Class&lt;?&gt;... groups) {\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        for (TO_VALIDATE toValidate : collectionToValidate) {\n            Set&lt;ConstraintViolation&lt;TO_VALIDATE&gt;&gt; violations = validator.validate(toValidate, groups);\n            if (!violations.isEmpty()) {\n                throw new ConstraintViolationException(violations);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>and then I'm using it in the controller before calling the service:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/continent&quot;)\npublic class ContinentRestController {\n\n    private final ContinentService service;\n\n    @PostMapping(value = &quot;/save-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Integer save(\n           @Validated(ContinentDto.CreateValidation.class) \n           @RequestBody final ContinentDto dto) throws TechnicalException {\n\n        return service.save(dto);\n\n    }\n\n    @PostMapping(value = &quot;/save-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Collection&lt;Integer&gt; saveAll(\n           @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws TechnicalException {\n\n        ValidatorUtils.validateGroups(dtos, ContinentDto.CreateValidation.class);\n        return service.save(dtos);\n\n    }\n\n    @PutMapping(value = &quot;/update-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Integer update(\n           @Validated(ContinentDto.UpdateValidation.class) \n           @RequestBody final ContinentDto dto) throws FunctionalException, TechnicalException {\n    \n        return service.update(dto);\n\n    }\n\n    @PutMapping(value = &quot;/update-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Collection&lt;Integer&gt; updateAll(\n           @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws FunctionalException, TechnicalException {\n    \n        ValidatorUtils.validateGroups(dtos, ContinentDto.UpdateValidation.class);\n        return service.update(dtos);\n    \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76417939,"answer_count":1,"score":1,"last_activity_date":1686080649,"creation_date":1684794115,"question_id":76310236,"body_markdown":"I have the following DTO that I want to validate:\r\n\r\n    @Data\r\n    public class ContinentDto {\r\n    \r\n    \t@Null(groups = { CreateValidation.class }, message = &quot;ID must be null&quot;)\r\n    \t@NotNull(groups = { UpdateValidation.class }, message = &quot;ID must not be null&quot;)\r\n    \t@JsonProperty\r\n    \tprivate Integer id;\r\n    \r\n    \t@NotBlank(groups = { CreateValidation.class, UpdateValidation.class }, message = &quot;continentName must not be blank&quot;)\r\n    \t@JsonProperty\r\n    \tprivate String continentName;\r\n    \r\n    \tpublic interface CreateValidation {\r\n    \t\t// validation group marker interface\r\n    \t}\r\n    \r\n    \tpublic interface UpdateValidation {\r\n    \t\t// validation group marker interface\r\n    \t}\r\n    \r\n    }\r\n\r\nIt contains two `Validation Groups`: `CreateValidation` and `UpdateValidation` with different validations to be applied.\r\n\r\nI&#39;m perfectly able to validate the DTO when it is passed as a single argument, but for the API that has a collection of DTO as a request, the validation is not applied anymore.\r\n\r\nThis is my controller:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/continent&quot;)\r\n    public class ContinentRestController {\r\n    \r\n        private final ContinentService service;\r\n\r\n    \t@PostMapping(value = &quot;/save-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody Integer save(\r\n               @Validated(ContinentDto.CreateValidation.class) \r\n               @RequestBody final ContinentDto dto) throws TechnicalException {\r\n\r\n    \t\treturn service.save(dto);\r\n\r\n    \t}\r\n    \r\n    \t@PostMapping(value = &quot;/save-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody Collection&lt;Integer&gt; saveAll(\r\n               @Validated(ContinentDto.CreateValidation.class) \r\n               @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws TechnicalException {\r\n\r\n    \t\treturn service.save(dtos);\r\n\r\n    \t}\r\n\r\n\t    @PutMapping(value = &quot;/update-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\t    public @ResponseBody Integer update(\r\n               @Validated(ContinentDto.UpdateValidation.class) \r\n               @RequestBody final ContinentDto dto) throws FunctionalException, TechnicalException {\r\n\t\t\r\n            return service.update(dto);\r\n\r\n\t    }\r\n\r\n\t    @PutMapping(value = &quot;/update-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\t    public @ResponseBody Collection&lt;Integer&gt; updateAll(\r\n               @Validated(ContinentDto.UpdateValidation.class)\r\n               @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws FunctionalException, TechnicalException {\r\n\t\t\r\n            return service.update(dtos);\r\n\t    \r\n        }\r\n    \r\n    }\r\n\r\nI have also tried to add the `@Valid` annotation inside the diamond brackets of the collection but nothing changed.\r\n\r\nI see on other questions about list validation that the suggested answer was to apply the `@Validated` annotation at the class level, but in my case, I think it is not possible because I&#39;m using `Validation Groups`.","title":"How to validate objects of collection on Controller with Validated?","body":"<p>I have the following DTO that I want to validate:</p>\n<pre><code>@Data\npublic class ContinentDto {\n\n    @Null(groups = { CreateValidation.class }, message = &quot;ID must be null&quot;)\n    @NotNull(groups = { UpdateValidation.class }, message = &quot;ID must not be null&quot;)\n    @JsonProperty\n    private Integer id;\n\n    @NotBlank(groups = { CreateValidation.class, UpdateValidation.class }, message = &quot;continentName must not be blank&quot;)\n    @JsonProperty\n    private String continentName;\n\n    public interface CreateValidation {\n        // validation group marker interface\n    }\n\n    public interface UpdateValidation {\n        // validation group marker interface\n    }\n\n}\n</code></pre>\n<p>It contains two <code>Validation Groups</code>: <code>CreateValidation</code> and <code>UpdateValidation</code> with different validations to be applied.</p>\n<p>I'm perfectly able to validate the DTO when it is passed as a single argument, but for the API that has a collection of DTO as a request, the validation is not applied anymore.</p>\n<p>This is my controller:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/continent&quot;)\npublic class ContinentRestController {\n\n    private final ContinentService service;\n\n    @PostMapping(value = &quot;/save-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Integer save(\n           @Validated(ContinentDto.CreateValidation.class) \n           @RequestBody final ContinentDto dto) throws TechnicalException {\n\n        return service.save(dto);\n\n    }\n\n    @PostMapping(value = &quot;/save-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Collection&lt;Integer&gt; saveAll(\n           @Validated(ContinentDto.CreateValidation.class) \n           @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws TechnicalException {\n\n        return service.save(dtos);\n\n    }\n\n    @PutMapping(value = &quot;/update-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Integer update(\n           @Validated(ContinentDto.UpdateValidation.class) \n           @RequestBody final ContinentDto dto) throws FunctionalException, TechnicalException {\n    \n        return service.update(dto);\n\n    }\n\n    @PutMapping(value = &quot;/update-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Collection&lt;Integer&gt; updateAll(\n           @Validated(ContinentDto.UpdateValidation.class)\n           @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws FunctionalException, TechnicalException {\n    \n        return service.update(dtos);\n    \n    }\n\n}\n</code></pre>\n<p>I have also tried to add the <code>@Valid</code> annotation inside the diamond brackets of the collection but nothing changed.</p>\n<p>I see on other questions about list validation that the suggested answer was to apply the <code>@Validated</code> annotation at the class level, but in my case, I think it is not possible because I'm using <code>Validation Groups</code>.</p>\n"},{"tags":["java","android","payment-gateway"],"owner":{"account_id":11713270,"reputation":51,"user_id":8574568,"display_name":"Ahmed Rehman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686080107,"creation_date":1686080107,"question_id":76417888,"body_markdown":"I&#39;m facing trouble on login with vipps application, i simply want user sign-up with vipps app just like gmail, facebook etc....\r\n\r\nanyone have any solution please share with me !\r\n\r\nI tried to find solution but not succeeded yet!","title":"I want to Login through Vipps App, i tried many solution but not succeed","body":"<p>I'm facing trouble on login with vipps application, i simply want user sign-up with vipps app just like gmail, facebook etc....</p>\n<p>anyone have any solution please share with me !</p>\n<p>I tried to find solution but not succeeded yet!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-restcontroller"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677720379,"post_id":75610220,"comment_id":133395734,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1677725853,"post_id":75610220,"comment_id":133396436,"body_markdown":"What is your application configuration seems like? Did you add context? If yes, please call with context name","body":"What is your application configuration seems like? Did you add context? If yes, please call with context name"}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686079916,"creation_date":1677721859,"answer_id":75610660,"question_id":75610220,"body_markdown":"Downgrade/upgrade your spring to a different version, 3.0.3 has a bug with component scanning\r\nhttps://github.com/spring-projects/spring-boot/issues/34379","title":"Spring-Boot Endpoint/Controller Not Found 404","body":"<p>Downgrade/upgrade your spring to a different version, 3.0.3 has a bug with component scanning\n<a href=\"https://github.com/spring-projects/spring-boot/issues/34379\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/34379</a></p>\n"}],"owner":{"account_id":27913618,"reputation":3,"user_id":21315237,"display_name":"Timmy"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678196396,"accepted_answer_id":75610660,"answer_count":1,"score":0,"last_activity_date":1686079916,"creation_date":1677715577,"question_id":75610220,"body_markdown":"When I create a new spring-boot project and then add a simple controller and try to hit the endpoint, I get 404 (Not found). If I move the same code to the main spring boot application it works (I&#39;ve added the annotations @RestController.. as you can see)\r\nThe other strange thing is that if I get the &quot;not working code&quot; from another machine (create the project on another PC and clone/transfer it to my current machine), it works completely fine.\r\nWhat may be the issue?\r\nCurrent machine(Mac Air M1)\r\nSpring-Boot -v 3.0.3\r\nGradle 8.0.1\r\nInstalled using brew\r\n\r\nI tried other things from different sources. Nothing helped for now.\r\n\r\n[Main App](https://i.stack.imgur.com/5PTfS.png)\r\n[Controller](https://i.stack.imgur.com/nro5d.png)\r\n","title":"Spring-Boot Endpoint/Controller Not Found 404","body":"<p>When I create a new spring-boot project and then add a simple controller and try to hit the endpoint, I get 404 (Not found). If I move the same code to the main spring boot application it works (I've added the annotations @RestController.. as you can see)\nThe other strange thing is that if I get the &quot;not working code&quot; from another machine (create the project on another PC and clone/transfer it to my current machine), it works completely fine.\nWhat may be the issue?\nCurrent machine(Mac Air M1)\nSpring-Boot -v 3.0.3\nGradle 8.0.1\nInstalled using brew</p>\n<p>I tried other things from different sources. Nothing helped for now.</p>\n<p><a href=\"https://i.stack.imgur.com/5PTfS.png\" rel=\"nofollow noreferrer\">Main App</a>\n<a href=\"https://i.stack.imgur.com/nro5d.png\" rel=\"nofollow noreferrer\">Controller</a></p>\n"},{"tags":["python","java","python-3.x","subprocess","stdin"],"comments":[{"owner":{"account_id":5864219,"reputation":1087,"user_id":4720957,"display_name":"user47"},"score":0,"creation_date":1686085715,"post_id":76417710,"comment_id":134750504,"body_markdown":"Hi. Sorry if it sounds silly but did you wait for more than 10 seconds before realizing that Python script is unable to send input to your Java program? I tested your Java code with your Python code. They seem to work together fine on my end.","body":"Hi. Sorry if it sounds silly but did you wait for more than 10 seconds before realizing that Python script is unable to send input to your Java program? I tested your Java code with your Python code. They seem to work together fine on my end."}],"owner":{"account_id":12106935,"reputation":13,"user_id":8845408,"display_name":"user8845408"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686078457,"creation_date":1686078457,"question_id":76417710,"body_markdown":"I have a Java process that has the following logic:\r\n```\r\n      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n      while (true) {\r\n        String line;\r\n        LOGGER.info(&quot;Waiting to read data&quot;);\r\n        while ((line = in.readLine()) != null) {\r\n          LOGGER.info(&quot;Got a line!&quot;);\r\n          String[] words = line.split(&quot; &quot;);\r\n          for (String word : words) {\r\n              // do something with words\r\n```\r\nI can verify that `stdin` is read from successfully as I can run it via `java -jar myprogram.jar` and manually type in words where it is received once I hit &quot;enter&quot;. \r\n\r\nMy python process looks like so:\r\n```\r\n    from subprocess import Popen, PIPE, STDOUT\r\n    command = [&#39;java&#39;, &#39;-jar&#39;, &#39;myprogram.jar&#39;]\r\n    p = Popen(command, stdin=PIPE)\r\n    time.sleep(10)\r\n    print(&quot;Process opened and waiting input\\n\\n\\n&quot;)\r\n    for word in [&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;]:\r\n        try:\r\n            p.stdin.write(word.encode() + b&#39;\\n&#39; )\r\n        except Exception as e:\r\n            print(e)\r\n```\r\nFrom what I can tell, my Java program does not complete any of the `readLine` calls as I can see the &quot;Waiting to read data&quot; line but I never see a &quot;Got a line!&quot; line emitted. What is the proper way to wire up stdin between the Python process and Java? From what I can tell this is the correct way to wire these up.\r\n\r\nI was expecting the Java process to receive the input from stdin as supplied by the Python process.","title":"Pipeing input to a Java process from Python - Java process does not receive input","body":"<p>I have a Java process that has the following logic:</p>\n<pre><code>      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n      while (true) {\n        String line;\n        LOGGER.info(&quot;Waiting to read data&quot;);\n        while ((line = in.readLine()) != null) {\n          LOGGER.info(&quot;Got a line!&quot;);\n          String[] words = line.split(&quot; &quot;);\n          for (String word : words) {\n              // do something with words\n</code></pre>\n<p>I can verify that <code>stdin</code> is read from successfully as I can run it via <code>java -jar myprogram.jar</code> and manually type in words where it is received once I hit &quot;enter&quot;.</p>\n<p>My python process looks like so:</p>\n<pre><code>    from subprocess import Popen, PIPE, STDOUT\n    command = ['java', '-jar', 'myprogram.jar']\n    p = Popen(command, stdin=PIPE)\n    time.sleep(10)\n    print(&quot;Process opened and waiting input\\n\\n\\n&quot;)\n    for word in ['foo', 'bar', 'baz']:\n        try:\n            p.stdin.write(word.encode() + b'\\n' )\n        except Exception as e:\n            print(e)\n</code></pre>\n<p>From what I can tell, my Java program does not complete any of the <code>readLine</code> calls as I can see the &quot;Waiting to read data&quot; line but I never see a &quot;Got a line!&quot; line emitted. What is the proper way to wire up stdin between the Python process and Java? From what I can tell this is the correct way to wire these up.</p>\n<p>I was expecting the Java process to receive the input from stdin as supplied by the Python process.</p>\n"},{"tags":["java","android","storage","storage-access-framework"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686081760,"post_id":76417698,"comment_id":134749847,"body_markdown":"ACTION_OPEN_DOCUMENT does indeed not need any permission. And it has nothing to do \nwith media files as the user can select any type of file. From device storage, external drive and cloud. And you did not even tell which permission you have in mind.","body":"ACTION_OPEN_DOCUMENT does indeed not need any permission. And it has nothing to do  with media files as the user can select any type of file. From device storage, external drive and cloud. And you did not even tell which permission you have in mind."},{"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"score":0,"creation_date":1686132629,"post_id":76417698,"comment_id":134756157,"body_markdown":"Okay i searched a little bit further and now i see that its possible to use the MediaStore API or the Storage Access Framewrok SAF for reaching Data in the shared storage. The example above shows, that its possible to read a MediaFile with the SAF. So now i want to know what is the benefit of MediaStore API? When do i have to use it instead of SAF?","body":"Okay i searched a little bit further and now i see that its possible to use the MediaStore API or the Storage Access Framewrok SAF for reaching Data in the shared storage. The example above shows, that its possible to read a MediaFile with the SAF. So now i want to know what is the benefit of MediaStore API? When do i have to use it instead of SAF?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686134029,"post_id":76417698,"comment_id":134756434,"body_markdown":"You cann do what you want and you will know that a difference for instance is that with SAF you need user interaction. With media store not.","body":"You cann do what you want and you will know that a difference for instance is that with SAF you need user interaction. With media store not."},{"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"score":0,"creation_date":1686329127,"post_id":76417698,"comment_id":134788813,"body_markdown":"Ok thanks a lot","body":"Ok thanks a lot"}],"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686078363,"creation_date":1686078363,"question_id":76417698,"body_markdown":"im just wondering. Wasnt it declared by devs that to open media files in shared storage, who comes from another app, need to declare permission in Manifest?\r\n\r\nLike why is this code working without any permissions? I can open nearly every picture in shared storage i have on my phone and use it inside my owner app.\r\n\r\n    button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                \r\n                Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                intent.setType(&quot;image/*&quot;);\r\n                activityResultLauncher.launch(intent);\r\n            }\r\n        });\r\n\r\n\r\n    } \r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n        @Override\r\n        public void onActivityResult(ActivityResult result) {\r\n            Uri uri = result.getData().getData();\r\n            imageView.setImageURI(uri);\r\n        }\r\n    });","title":"Android Shared Storage Open Picture inside own App","body":"<p>im just wondering. Wasnt it declared by devs that to open media files in shared storage, who comes from another app, need to declare permission in Manifest?</p>\n<p>Like why is this code working without any permissions? I can open nearly every picture in shared storage i have on my phone and use it inside my owner app.</p>\n<pre><code>button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            \n            Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\n            intent.setType(&quot;image/*&quot;);\n            activityResultLauncher.launch(intent);\n        }\n    });\n\n\n} \n\nActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n    @Override\n    public void onActivityResult(ActivityResult result) {\n        Uri uri = result.getData().getData();\n        imageView.setImageURI(uri);\n    }\n});\n</code></pre>\n"},{"tags":["java","keylistener","2d-games"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686078438,"post_id":76417393,"comment_id":134749273,"body_markdown":"A KeyListener only responds to the component with focus. Your component doesn&#39;t have focus. Instead you should be using `Key Bindings`. Key Bindings can be configured to work even when the component doesn&#39;t have focus. Check out [Motion Using the Keyboard](https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/) for more information and examples.","body":"A KeyListener only responds to the component with focus. Your component doesn&#39;t have focus. Instead you should be using <code>Key Bindings</code>. Key Bindings can be configured to work even when the component doesn&#39;t have focus. Check out <a href=\"https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/\" rel=\"nofollow noreferrer\">Motion Using the Keyboard</a> for more information and examples."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686085640,"post_id":76417393,"comment_id":134750490,"body_markdown":"It worked fine here.","body":"It worked fine here."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686096075,"post_id":76417393,"comment_id":134751516,"body_markdown":"Also, don&#39;t use a Thread for the game loop. The state of Swing components should be updated on the Event Dispatch Thread (EDT). Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information. Instead you should be using a `Swing Timer`. The tutorial also has a section on the Swing Timer.","body":"Also, don&#39;t use a Thread for the game loop. The state of Swing components should be updated on the Event Dispatch Thread (EDT). Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information. Instead you should be using a <code>Swing Timer</code>. The tutorial also has a section on the Swing Timer."}],"owner":{"account_id":27796901,"reputation":1,"user_id":21222186,"display_name":"Suvile"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686078315,"creation_date":1686075452,"question_id":76417393,"body_markdown":"\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args){\r\n            var gameWindow = new GameWindow();\r\n            var gamePanel = new GamePanel();\r\n    \r\n            gamePanel.startGameThread();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    import javax.swing.*;\r\n    \r\n    public class GameWindow extends JFrame {\r\n    \r\n        GameWindow() {\r\n            var gamePanel = new GamePanel();\r\n    \r\n            this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            this.setResizable(false);\r\n            this.setTitle(&quot;Rycoon Alpha Version 0.1&quot;);\r\n            this.setLocationRelativeTo(null);\r\n            this.setVisible(true);\r\n    \r\n            this.add(gamePanel);\r\n            this.pack();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class GamePanel extends JPanel implements Runnable{\r\n    \r\n        final int originalTileSize = 16;\r\n        final int scale = 6;\r\n    \r\n        final int tileSize = originalTileSize * scale;\r\n        final int maxScreenCol = 10;\r\n        final int maxScreenRow = 6;\r\n        final int screenWidth = tileSize * maxScreenCol;\r\n        final int screenHeight = tileSize * maxScreenRow;\r\n    \r\n        KeyInput keyI = new KeyInput();\r\n        Thread gameThread;\r\n    \r\n        int playerX = 250;\r\n        int playerY = 480;\r\n        int playerSpeed = 4;\r\n    \r\n        public GamePanel(){\r\n            this.addKeyListener(keyI);\r\n            this.setPreferredSize(new Dimension(screenWidth,screenHeight));\r\n            this.setBackground(Color.CYAN);\r\n            this.setDoubleBuffered(true);\r\n            this.setFocusable(true);\r\n        }\r\n    \r\n        public void startGameThread(){\r\n    \r\n            gameThread = new Thread(this);\r\n            gameThread.start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n            while(gameThread != null){\r\n    \r\n                update();\r\n                repaint();\r\n            }\r\n        }\r\n    \r\n        public void update(){\r\n    \r\n            if(keyI.jumped == true){\r\n                playerY -= playerSpeed;\r\n                System.out.println(&quot;test&quot;);\r\n            }\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        public void paintComponent(Graphics g){\r\n    \r\n            super.paintComponent(g);\r\n            Graphics2D g2 = (Graphics2D)g;\r\n    \r\n            g2.setColor(Color.white);\r\n            g2.fillRect(playerX, playerY, tileSize, tileSize);\r\n            g2.dispose();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    \r\n    public class KeyInput implements KeyListener {\r\n    \r\n        public boolean jumped = false;\r\n    \r\n        @Override\r\n        public void keyTyped(KeyEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n    \r\n            int code = e.getKeyCode();\r\n    \r\n            if(code == KeyEvent.VK_W){\r\n                jumped = true;\r\n                System.out.println(&quot;hi&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void keyReleased(KeyEvent e) {\r\n        }\r\n    }\r\n\r\nI&#39;ve tried switching to different key inputs but I can&#39;t even get it to print anything\r\n\r\n\r\n\r\n\r\n","title":"key listener is not responding","body":"<pre><code>public class Main {\n\n    public static void main(String[] args){\n        var gameWindow = new GameWindow();\n        var gamePanel = new GamePanel();\n\n        gamePanel.startGameThread();\n    }\n}\n\n\n\nimport javax.swing.*;\n\npublic class GameWindow extends JFrame {\n\n    GameWindow() {\n        var gamePanel = new GamePanel();\n\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setResizable(false);\n        this.setTitle(&quot;Rycoon Alpha Version 0.1&quot;);\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n\n        this.add(gamePanel);\n        this.pack();\n    }\n}\n\n\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class GamePanel extends JPanel implements Runnable{\n\n    final int originalTileSize = 16;\n    final int scale = 6;\n\n    final int tileSize = originalTileSize * scale;\n    final int maxScreenCol = 10;\n    final int maxScreenRow = 6;\n    final int screenWidth = tileSize * maxScreenCol;\n    final int screenHeight = tileSize * maxScreenRow;\n\n    KeyInput keyI = new KeyInput();\n    Thread gameThread;\n\n    int playerX = 250;\n    int playerY = 480;\n    int playerSpeed = 4;\n\n    public GamePanel(){\n        this.addKeyListener(keyI);\n        this.setPreferredSize(new Dimension(screenWidth,screenHeight));\n        this.setBackground(Color.CYAN);\n        this.setDoubleBuffered(true);\n        this.setFocusable(true);\n    }\n\n    public void startGameThread(){\n\n        gameThread = new Thread(this);\n        gameThread.start();\n    }\n\n    @Override\n    public void run() {\n\n        while(gameThread != null){\n\n            update();\n            repaint();\n        }\n    }\n\n    public void update(){\n\n        if(keyI.jumped == true){\n            playerY -= playerSpeed;\n            System.out.println(&quot;test&quot;);\n        }\n\n\n\n    }\n\n    public void paintComponent(Graphics g){\n\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D)g;\n\n        g2.setColor(Color.white);\n        g2.fillRect(playerX, playerY, tileSize, tileSize);\n        g2.dispose();\n    }\n}\n\n\n\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class KeyInput implements KeyListener {\n\n    public boolean jumped = false;\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n\n        int code = e.getKeyCode();\n\n        if(code == KeyEvent.VK_W){\n            jumped = true;\n            System.out.println(&quot;hi&quot;);\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n}\n</code></pre>\n<p>I've tried switching to different key inputs but I can't even get it to print anything</p>\n"},{"tags":["java","caching","redisson"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686081396,"post_id":76417692,"comment_id":134749793,"body_markdown":"Heap memory usage? What is the CPU being used for?","body":"Heap memory usage? What is the CPU being used for?"},{"owner":{"account_id":2814933,"reputation":2695,"user_id":2420280,"accept_rate":54,"display_name":"Osama Jetawe"},"score":0,"creation_date":1686082042,"post_id":76417692,"comment_id":134749887,"body_markdown":"Sorry @aled, I&#39;m not getting your point , do you mean its a Heap memory issue ?","body":"Sorry @aled, I&#39;m not getting your point , do you mean its a Heap memory issue ?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686086872,"post_id":76417692,"comment_id":134750640,"body_markdown":"There are many possible causes for high CPU in Java applications. Static analysis of code is most of the time useless by itself. Information about the dynamic state of the running application is needed. What analysis have you realized so far?","body":"There are many possible causes for high CPU in Java applications. Static analysis of code is most of the time useless by itself. Information about the dynamic state of the running application is needed. What analysis have you realized so far?"}],"owner":{"account_id":2814933,"reputation":2695,"user_id":2420280,"accept_rate":54,"display_name":"Osama Jetawe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686078298,"creation_date":1686078298,"question_id":76417692,"body_markdown":"I&#39;m usign Java Redisson client version 3.16.0 and java version 1.8\r\n\r\nbelow is my cache config `ttl` \r\n\r\n    {\r\n      &quot;cache1&quot;: {\r\n        &quot;ttl&quot;: 12000000\r\n      },\r\n      &quot;cache2&quot;: {\r\n        &quot;ttl&quot;: 12000000\r\n      },\r\n      &quot;cache3&quot;: {\r\n        &quot;ttl&quot;: 12000000\r\n      }\r\n    }\r\n\r\nI can see that there many calls using `RedisExecutor` which causing **high CPU utilization** even the TTL is very high around 6 hours, however the `RedisExecutor` keep calling redis doing many commands to evict the cache and it runs every seconds even if there is no traffic on the application\r\n\r\n    1- RedisExecutor- connection released for command (EVAL) and params [if redis.call(&#39;setnx&#39;, KEYS[6]\r\n\r\n    2- RedisExecutor- acquired connection for command (EVAL) and params [if redis.call(&#39;setnx&#39;, KEYS[6], ARGV[4]) ==\r\n\r\nany recommendation to reduce number if these calls to maintain the CPU usage ? \r\n\r\n","title":"Redisson RedisExecutor too many calls causing high CPU load","body":"<p>I'm usign Java Redisson client version 3.16.0 and java version 1.8</p>\n<p>below is my cache config <code>ttl</code></p>\n<pre><code>{\n  &quot;cache1&quot;: {\n    &quot;ttl&quot;: 12000000\n  },\n  &quot;cache2&quot;: {\n    &quot;ttl&quot;: 12000000\n  },\n  &quot;cache3&quot;: {\n    &quot;ttl&quot;: 12000000\n  }\n}\n</code></pre>\n<p>I can see that there many calls using <code>RedisExecutor</code> which causing <strong>high CPU utilization</strong> even the TTL is very high around 6 hours, however the <code>RedisExecutor</code> keep calling redis doing many commands to evict the cache and it runs every seconds even if there is no traffic on the application</p>\n<pre><code>1- RedisExecutor- connection released for command (EVAL) and params [if redis.call('setnx', KEYS[6]\n\n2- RedisExecutor- acquired connection for command (EVAL) and params [if redis.call('setnx', KEYS[6], ARGV[4]) ==\n</code></pre>\n<p>any recommendation to reduce number if these calls to maintain the CPU usage ?</p>\n"},{"tags":["java","sql","mysql","jdbc"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":1,"creation_date":1686070509,"post_id":76416840,"comment_id":134747685,"body_markdown":"`Duplicate entry &#39;4&#39; for key &#39;employee` does that really not give you a big clue","body":"<code>Duplicate entry &#39;4&#39; for key &#39;employee</code> does that really not give you a big clue"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1686070628,"post_id":76416840,"comment_id":134747707,"body_markdown":"Try entering a number other than 4","body":"Try entering a number other than 4"}],"answers":[{"tags":[],"owner":{"account_id":12363836,"reputation":509,"user_id":9016872,"display_name":"Jainam Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686078044,"creation_date":1686078044,"answer_id":76417657,"question_id":76416840,"body_markdown":"Try querying the database, check against the database if there is a value 4 already in the column which is set as Primary Key in your db table. If yes, you need to use a different value as suggested in comments.\r\nI would suggest altering the table to use [AUTO_INCREMENT][1] for your ID Column. \r\n\r\n \r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/5.7/en/example-auto-increment.html","title":"Java JDBC Connection Integrity Constraint Violation","body":"<p>Try querying the database, check against the database if there is a value 4 already in the column which is set as Primary Key in your db table. If yes, you need to use a different value as suggested in comments.\nI would suggest altering the table to use <a href=\"https://dev.mysql.com/doc/refman/5.7/en/example-auto-increment.html\" rel=\"nofollow noreferrer\">AUTO_INCREMENT</a> for your ID Column.</p>\n"}],"owner":{"account_id":28187561,"reputation":1,"user_id":21543485,"display_name":"Siddhi Sattur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686078044,"creation_date":1686070431,"question_id":76416840,"body_markdown":"I created a switch case and created different classes to create Employee. \r\nwhen I create an employee an entry is added in the table but i get this error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;4&#39; for key &#39;employee.PRIMARY&#39;\r\n\tat com.siddhi.empapp.EmployeeDaoImpl.createEmployee(EmployeeDaoImpl.java:26)\r\n\tat com.siddhi.empapp.Main.main(Main.java:36)\r\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;4&#39; for key &#39;employee.PRIMARY&#39;\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\r\n\tat com.siddhi.empapp.EmployeeDaoImpl.createEmployee(EmployeeDaoImpl.java:22)\r\n\t... 1 more\r\n```\r\n\r\n\r\nThis is the main class switch case :\r\n```\r\ncase 1:\r\n                    Employee emp=new Employee();\r\n                    System.out.print(&quot;Enter ID: &quot;);\r\n                     id=sc.nextInt();\r\n                    System.out.print(&quot;Enter Name: &quot;);\r\n                     name=sc.next();\r\n                    System.out.print(&quot;Enter Salary: &quot;);\r\n                    double salary=sc.nextDouble();\r\n                    System.out.print(&quot;Enter Age: &quot;);\r\n                    int age=sc.nextInt();\r\n                    emp.setId(id);\r\n                    emp.setName(name);\r\n                    emp.setSalary(salary);\r\n                    emp.setAge(age);\r\n                    dao.createEmployee(emp);\r\n                    break;\r\n```\r\n\r\nThis is the implementation:\r\n\r\n```\r\n@Override\r\n    public void createEmployee(Employee emp) {\r\n        con=DBConnection.createDBConnetion();\r\n        String query=&quot;insert into employee values(?,?,?,?)&quot;;\r\n        try {\r\n            PreparedStatement pstm=con.prepareStatement(query);\r\n            pstm.setInt(1,emp.getId());\r\n            pstm.setString(2,emp.getName());\r\n            pstm.setDouble(3,emp.getSalary());\r\n            pstm.setInt(4,emp.getAge());\r\n            pstm.executeUpdate();\r\n\r\n            int cnt = pstm . executeUpdate();\r\n            if(cnt!=0)\r\n                System.out.println(&quot;Employee Inserted Successfully&quot;);\r\n        }catch (SQLException e){\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n```","title":"Java JDBC Connection Integrity Constraint Violation","body":"<p>I created a switch case and created different classes to create Employee.\nwhen I create an employee an entry is added in the table but i get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '4' for key 'employee.PRIMARY'\n    at com.siddhi.empapp.EmployeeDaoImpl.createEmployee(EmployeeDaoImpl.java:26)\n    at com.siddhi.empapp.Main.main(Main.java:36)\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '4' for key 'employee.PRIMARY'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\n    at com.siddhi.empapp.EmployeeDaoImpl.createEmployee(EmployeeDaoImpl.java:22)\n    ... 1 more\n</code></pre>\n<p>This is the main class switch case :</p>\n<pre><code>case 1:\n                    Employee emp=new Employee();\n                    System.out.print(&quot;Enter ID: &quot;);\n                     id=sc.nextInt();\n                    System.out.print(&quot;Enter Name: &quot;);\n                     name=sc.next();\n                    System.out.print(&quot;Enter Salary: &quot;);\n                    double salary=sc.nextDouble();\n                    System.out.print(&quot;Enter Age: &quot;);\n                    int age=sc.nextInt();\n                    emp.setId(id);\n                    emp.setName(name);\n                    emp.setSalary(salary);\n                    emp.setAge(age);\n                    dao.createEmployee(emp);\n                    break;\n</code></pre>\n<p>This is the implementation:</p>\n<pre><code>@Override\n    public void createEmployee(Employee emp) {\n        con=DBConnection.createDBConnetion();\n        String query=&quot;insert into employee values(?,?,?,?)&quot;;\n        try {\n            PreparedStatement pstm=con.prepareStatement(query);\n            pstm.setInt(1,emp.getId());\n            pstm.setString(2,emp.getName());\n            pstm.setDouble(3,emp.getSalary());\n            pstm.setInt(4,emp.getAge());\n            pstm.executeUpdate();\n\n            int cnt = pstm . executeUpdate();\n            if(cnt!=0)\n                System.out.println(&quot;Employee Inserted Successfully&quot;);\n        }catch (SQLException e){\n            throw new RuntimeException(e);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","azure","azureservicebus","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":7880151,"reputation":773,"user_id":5954452,"display_name":"BlackFox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685568462,"creation_date":1685498550,"answer_id":76369687,"question_id":76332172,"body_markdown":"so, it looks like you have concurrent messages? if a few fail at the same time, it can be hard to understand the issue and fix it.\r\n\r\nI&#39;m going to give this a try for you...but I hate java. \r\n\r\nQuestion 1. have you tried messageContent.abandon()? next, i would find a video breaking down concurrent flows. My limited understanding of the logic is it helps with speed and scale. It is weak at providing and order to the process for a human lol. I understand it like set() vs array in programing python (the language I know best).  concurrency will split the load across CPU&#39;s in an order that will increase the speed of processing the data over all. it does this by not repeating its self using a data structure like or better than the set() function in python. \r\n\r\n(here is a video i watch to research the problem: https://www.youtube.com/watch?v=0LQPNjjfolk)\r\n\r\nI speed up looping through data by using set() over arrays. This is because only unique values can go in set() and a true or false check is quicker than indexing the data. It also saves memory in some languages too. \r\n\r\nif you are processing many concurrent events, you would want to design an approach similar to set().\r\n\r\nmy understanding of service bus consumers, when you use auto-complete and its set to true if an exception is thrown the message is considered failed and is automatically abandon and requeued.\r\n\r\nthe system needs a broker acknowledgment. it may never get it during concurrent processing. Logging this kind of exception is a must in Networking for IT systems. as an ex-support engineer i remember many hard days analysis Unidirectional data flow with packet capture:(\r\n\r\n\r\n\r\nIf this is so, you should try **messageContent.abandon()**.  This will let you further process even with concurrent message processing.\r\n\r\nI would recommend reviewing best practice architecture for service bus: \r\n\r\n 1. https://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers\r\n    \r\n 2. https://learn.microsoft.com/en-us/azure/well-architected/services/messaging/service-bus/operational-excellence\r\n\r\nI would also recommend planning testing your system. by thinking about how you will test your system, you can better, plan, research and solve new issues in house:). I got to a solution by review best practices for java and service bus architecture (the video i shared), then i looked at the Microsoft documentation for service bus, then I thought of the logic in python (because i hate java :) \r\n\r\nI am in my first year at Microsoft as an Azure Cloud Architect. Thank you for choosing Microsoft and please let me know your feedback. I will update this post if you have any questions.\r\n\r\n**Update:**\r\n\r\nAs i contune to read through the documentation it looks like we may have a solution for your use case: **PeekLock**.\r\n\r\nhttps://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers\r\n\r\nPlease tell me if the above fit your use case.\r\n\r\n**Final update (I found you a solution in java :):**\r\n\r\naccording to the MS Java SDK documentation here is example code for using PeekLock in java:\r\n\r\n**docs:** https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/servicebus/azure-m\r\n\r\ncode: \r\n\r\n**send messages**\r\n\r\n    ServiceBusSenderClient sender = new ServiceBusClientBuilder()\r\n        .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\r\n        .sender()\r\n        .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\r\n        .buildClient();\r\n    List&lt;ServiceBusMessage&gt; messages = Arrays.asList(\r\n        new ServiceBusMessage(&quot;Hello world&quot;).setMessageId(&quot;1&quot;),\r\n        new ServiceBusMessage(&quot;Bonjour&quot;).setMessageId(&quot;2&quot;));\r\n    \r\n    sender.sendMessages(messages);\r\n    \r\n    // When you are done using the sender, dispose of it.\r\n    sender. Close();\r\n\r\n\r\n**Receive messages:**\r\n   \r\n\r\n     // Sample code that processes a single message which is received in PeekLock mode.\r\n    Consumer&lt;ServiceBusReceivedMessageContext&gt; processMessage = context -&gt; {\r\n        final ServiceBusReceivedMessage message = context.getMessage();\r\n        // Randomly complete or abandon each message. Ideally, in real-world scenarios, if the business logic\r\n        // handling message reaches desired state such that it doesn&#39;t require Service Bus to redeliver\r\n        // the same message, then context.complete() should be called otherwise context.abandon().\r\n        final boolean success = Math.random() &lt; 0.5;\r\n        if (success) {\r\n            try {\r\n                context.complete();\r\n            } catch (Exception completionError) {\r\n                System.out.printf(&quot;Completion of the message %s failed\\n&quot;, message.getMessageId());\r\n                completionError.printStackTrace();\r\n            }\r\n        } else {\r\n            try {\r\n                context.abandon();\r\n            } catch (Exception abandonError) {\r\n                System.out.printf(&quot;Abandoning of the message %s failed\\n&quot;, message.getMessageId());\r\n                abandonError.printStackTrace();\r\n            }\r\n        }\r\n    };\r\n    \r\n    // Sample code that gets called if there&#39;s an error\r\n    Consumer&lt;ServiceBusErrorContext&gt; processError = errorContext -&gt; {\r\n        System.err.println(&quot;Error occurred while receiving message: &quot; + errorContext.getException());\r\n    };\r\n    \r\n    // create the processor client via the builder and its sub-builder\r\n    ServiceBusProcessorClient processorClient = new ServiceBusClientBuilder()\r\n                                    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\r\n                                    .processor()\r\n                                    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\r\n                                    .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\r\n                                    .disableAutoComplete() // Make sure to explicitly opt in to manual settlement (e.g. complete, abandon).\r\n                                    .processMessage(processMessage)\r\n                                    .processError(processError)\r\n                                    .disableAutoComplete()\r\n                                    .buildProcessorClient();\r\n    \r\n    // Starts the processor in the background and returns immediately\r\n    processorClient.start();\r\n\r\nThe above is an example for the java SDK. Here is a questions in relation to Spring Java and PeekLock: \r\n\r\nhttps://stackoverflow.com/questions/63603152/for-the-azure-servicebus-jms-spring-boot-starter-is-there-a-properties-setting - see here about PeekLock with spring java","title":"Increasing concurrent calls undefined behaviour in Spring Cloud Stream Azure Service Bus","body":"<p>so, it looks like you have concurrent messages? if a few fail at the same time, it can be hard to understand the issue and fix it.</p>\n<p>I'm going to give this a try for you...but I hate java.</p>\n<p>Question 1. have you tried messageContent.abandon()? next, i would find a video breaking down concurrent flows. My limited understanding of the logic is it helps with speed and scale. It is weak at providing and order to the process for a human lol. I understand it like set() vs array in programing python (the language I know best).  concurrency will split the load across CPU's in an order that will increase the speed of processing the data over all. it does this by not repeating its self using a data structure like or better than the set() function in python.</p>\n<p>(here is a video i watch to research the problem: <a href=\"https://www.youtube.com/watch?v=0LQPNjjfolk\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=0LQPNjjfolk</a>)</p>\n<p>I speed up looping through data by using set() over arrays. This is because only unique values can go in set() and a true or false check is quicker than indexing the data. It also saves memory in some languages too.</p>\n<p>if you are processing many concurrent events, you would want to design an approach similar to set().</p>\n<p>my understanding of service bus consumers, when you use auto-complete and its set to true if an exception is thrown the message is considered failed and is automatically abandon and requeued.</p>\n<p>the system needs a broker acknowledgment. it may never get it during concurrent processing. Logging this kind of exception is a must in Networking for IT systems. as an ex-support engineer i remember many hard days analysis Unidirectional data flow with packet capture:(</p>\n<p>If this is so, you should try <strong>messageContent.abandon()</strong>.  This will let you further process even with concurrent message processing.</p>\n<p>I would recommend reviewing best practice architecture for service bus:</p>\n<ol>\n<li><p><a href=\"https://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers</a></p>\n</li>\n<li><p><a href=\"https://learn.microsoft.com/en-us/azure/well-architected/services/messaging/service-bus/operational-excellence\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/well-architected/services/messaging/service-bus/operational-excellence</a></p>\n</li>\n</ol>\n<p>I would also recommend planning testing your system. by thinking about how you will test your system, you can better, plan, research and solve new issues in house:). I got to a solution by review best practices for java and service bus architecture (the video i shared), then i looked at the Microsoft documentation for service bus, then I thought of the logic in python (because i hate java :)</p>\n<p>I am in my first year at Microsoft as an Azure Cloud Architect. Thank you for choosing Microsoft and please let me know your feedback. I will update this post if you have any questions.</p>\n<p><strong>Update:</strong></p>\n<p>As i contune to read through the documentation it looks like we may have a solution for your use case: <strong>PeekLock</strong>.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers</a></p>\n<p>Please tell me if the above fit your use case.</p>\n<p><strong>Final update (I found you a solution in java :):</strong></p>\n<p>according to the MS Java SDK documentation here is example code for using PeekLock in java:</p>\n<p><strong>docs:</strong> <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/servicebus/azure-m\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/servicebus/azure-m</a></p>\n<p>code:</p>\n<p><strong>send messages</strong></p>\n<pre><code>ServiceBusSenderClient sender = new ServiceBusClientBuilder()\n    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\n    .sender()\n    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\n    .buildClient();\nList&lt;ServiceBusMessage&gt; messages = Arrays.asList(\n    new ServiceBusMessage(&quot;Hello world&quot;).setMessageId(&quot;1&quot;),\n    new ServiceBusMessage(&quot;Bonjour&quot;).setMessageId(&quot;2&quot;));\n\nsender.sendMessages(messages);\n\n// When you are done using the sender, dispose of it.\nsender. Close();\n</code></pre>\n<p><strong>Receive messages:</strong></p>\n<pre><code> // Sample code that processes a single message which is received in PeekLock mode.\nConsumer&lt;ServiceBusReceivedMessageContext&gt; processMessage = context -&gt; {\n    final ServiceBusReceivedMessage message = context.getMessage();\n    // Randomly complete or abandon each message. Ideally, in real-world scenarios, if the business logic\n    // handling message reaches desired state such that it doesn't require Service Bus to redeliver\n    // the same message, then context.complete() should be called otherwise context.abandon().\n    final boolean success = Math.random() &lt; 0.5;\n    if (success) {\n        try {\n            context.complete();\n        } catch (Exception completionError) {\n            System.out.printf(&quot;Completion of the message %s failed\\n&quot;, message.getMessageId());\n            completionError.printStackTrace();\n        }\n    } else {\n        try {\n            context.abandon();\n        } catch (Exception abandonError) {\n            System.out.printf(&quot;Abandoning of the message %s failed\\n&quot;, message.getMessageId());\n            abandonError.printStackTrace();\n        }\n    }\n};\n\n// Sample code that gets called if there's an error\nConsumer&lt;ServiceBusErrorContext&gt; processError = errorContext -&gt; {\n    System.err.println(&quot;Error occurred while receiving message: &quot; + errorContext.getException());\n};\n\n// create the processor client via the builder and its sub-builder\nServiceBusProcessorClient processorClient = new ServiceBusClientBuilder()\n                                .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\n                                .processor()\n                                .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\n                                .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\n                                .disableAutoComplete() // Make sure to explicitly opt in to manual settlement (e.g. complete, abandon).\n                                .processMessage(processMessage)\n                                .processError(processError)\n                                .disableAutoComplete()\n                                .buildProcessorClient();\n\n// Starts the processor in the background and returns immediately\nprocessorClient.start();\n</code></pre>\n<p>The above is an example for the java SDK. Here is a questions in relation to Spring Java and PeekLock:</p>\n<p><a href=\"https://stackoverflow.com/questions/63603152/for-the-azure-servicebus-jms-spring-boot-starter-is-there-a-properties-setting\">For the Azure servicebus jms spring boot starter, is there a properties setting to requeue messages if the processing fails?</a> - see here about PeekLock with spring java</p>\n"},{"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686077688,"creation_date":1685741125,"answer_id":76393552,"question_id":76332172,"body_markdown":"**Probable solution**\r\n\r\nconsidering the example code on this page: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue\r\n\r\nand this interface : https://azuresdkdocs.blob.core.windows.net/$web/java/azure-spring-integration-core/2.0.0-beta.1/index.html?com/azure/spring/integration/core/api/Checkpointer.html\r\n\r\nI think you&#39;re supposed to do something like this :\r\n\r\n```java\r\npublic Consumer&lt;Message&lt;String&gt;&gt; consume() {\r\n        return message-&gt;{\r\n            Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\r\n            LOGGER.info(&quot;New message received: &#39;{}&#39;&quot;, message.getPayload());\r\n            checkpointer.success()\r\n                        .doOnSuccess(s-&gt;someProcessing(message))\r\n                        .doOnError(e-&gt; checkpointer.falure())\r\n                        .block();\r\n        };\r\n    }\r\n```\r\n\r\n--------------\r\n**Old answer**\r\n\r\nAccording to the Javadoc there : https://github.com/Azure/azure-sdk-for-java/blob/fd4ed4402038bf529d02642ed037a4669b396f1a/sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/models/ServiceBusReceiveMode.java#L50\r\n\r\nwhen you use the default &quot;ReceiveMode&quot;, you are supposed to let know the service what you want it to do with the message if you fail to process it.\r\n\r\nSo, I think @BlackFox is right even if the API he&#39;s using is not the same as yours. You cannot just throw an exception, you must tell to the azure bus what to do with the message. Until you tell it what to do, the message is locked.","title":"Increasing concurrent calls undefined behaviour in Spring Cloud Stream Azure Service Bus","body":"<p><strong>Probable solution</strong></p>\n<p>considering the example code on this page: <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue</a></p>\n<p>and this interface : <a href=\"https://azuresdkdocs.blob.core.windows.net/$web/java/azure-spring-integration-core/2.0.0-beta.1/index.html?com/azure/spring/integration/core/api/Checkpointer.html\" rel=\"nofollow noreferrer\">https://azuresdkdocs.blob.core.windows.net/$web/java/azure-spring-integration-core/2.0.0-beta.1/index.html?com/azure/spring/integration/core/api/Checkpointer.html</a></p>\n<p>I think you're supposed to do something like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Consumer&lt;Message&lt;String&gt;&gt; consume() {\n        return message-&gt;{\n            Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\n            LOGGER.info(&quot;New message received: '{}'&quot;, message.getPayload());\n            checkpointer.success()\n                        .doOnSuccess(s-&gt;someProcessing(message))\n                        .doOnError(e-&gt; checkpointer.falure())\n                        .block();\n        };\n    }\n</code></pre>\n<hr />\n<p><strong>Old answer</strong></p>\n<p>According to the Javadoc there : <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/fd4ed4402038bf529d02642ed037a4669b396f1a/sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/models/ServiceBusReceiveMode.java#L50\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-java/blob/fd4ed4402038bf529d02642ed037a4669b396f1a/sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/models/ServiceBusReceiveMode.java#L50</a></p>\n<p>when you use the default &quot;ReceiveMode&quot;, you are supposed to let know the service what you want it to do with the message if you fail to process it.</p>\n<p>So, I think @BlackFox is right even if the API he's using is not the same as yours. You cannot just throw an exception, you must tell to the azure bus what to do with the message. Until you tell it what to do, the message is locked.</p>\n"}],"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1686077688,"creation_date":1685016964,"question_id":76332172,"body_markdown":"I have a simple Spring Cloud Azure Service Bus consumer defined as simply as follows, following the [official documentation][1]:\r\n```\r\n    @Bean\r\n    public Consumer&lt;Message&lt;byte[]&gt;&gt; consume() {\r\n        return message -&gt; someProcessing(message);\r\n    }\r\n``` \r\nThe default policy, if the `spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.requeue-rejected` flag is `false`, is that messages that fail during consummation are requeued on the main queue for `MaxDeliveryCount` times, before going to the DLQ. I tested this behaviour and it consistently works - if, for example, I update the code to\r\n```\r\n    @Bean\r\n    public Consumer&lt;Message&lt;byte[]&gt;&gt; consume() {\r\n        return message -&gt; {\r\n           someProcessing(message);\r\n           throw new IllegalStateException();\r\n        }\r\n    }\r\n```\r\nthe message gets requeued as expected.\r\n\r\nIf I bump the number of consecutive calls, however, by setting `spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.max-concurrent-calls=2`, the behaviour becomes undefined. **Some times it abandons the messages altogether, other times it requeues them in the main queue.** I don&#39;t understand why the behaviour is not consistent, i.e., the messages are always requeued. Part of the stack trace is as following.\r\n```\r\n2023-05-26 12:03:47.955 ERROR 52176 --- [undedElastic-12] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@71c11ee9]; nested exception is java.lang.IllegalStateException, failedMessage=GenericMessage [payload=byte[1948], headers={azure_service_bus_expires_at=2023-06-11T11:29:47.566Z, OwnedBy=owner, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@780ad3f2, azure_service_bus_message_id=ede22e431e0642ee9d3be263b3989c77, azure_service_bus_enqueued_sequence_number=132449, azure_service_bus_enqueued_time=2023-05-12T11:29:47.566Z, azure_service_bus_lock_token=c2167e9a-b6f5-4aed-b390-0f9714caf2a9, azure_service_bus_sequence_number=6969, azure_service_bus_time_to_live=PT720H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=fd556d60-a851-e39c-bca0-59e90d83722d, contentType=application/json, azure_service_bus_locked_until=2023-05-26T09:04:47.840Z, timestamp=1685091827953}]\r\n\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:65)\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:216)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\r\n\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\r\n\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\r\n\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\r\n\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalStateException\r\n\tat com.subscriptions.Consumer.lambda$consume$0(Consumer.java:70)\r\n\tat com.helper.AnonymousAuthenticationRunner.runAnonymously(AnonymousAuthenticationRunner.java:24)\r\n\tat com.subscriptions.Consumer.lambda$consume$1(Consumer.java:50)\r\n\tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:1007)\r\n\tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:742)\r\n\tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:588)\r\n\tat org.springframework.cloud.stream.function.PartitionAwareFunctionWrapper.apply(PartitionAwareFunctionWrapper.java:84)\r\n\tat org.springframework.cloud.stream.function.FunctionConfiguration$FunctionWrapper.apply(FunctionConfiguration.java:791)\r\n\tat org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1.handleMessageInternal(FunctionConfiguration.java:623)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\r\n\t... 25 more\r\n\r\n2023-05-26 12:03:47.955 ERROR 52176 --- [undedElastic-12] .s.i.s.i.ServiceBusInboundChannelAdapter : Error in the operation USER_CALLBACK occurred on entity service/subscriptions/Subscription. Error: {}\r\n\r\ncom.azure.messaging.servicebus.ServiceBusException: failed to send Message to channel &#39;service.Subscription.errors&#39;; nested exception is com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker&#39;s ack; a new disposition request is not allowed.\r\n\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:387)\r\n\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\r\n\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\r\n\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.springframework.messaging.MessageDeliveryException: failed to send Message to channel &#39;service.Subscription.errors&#39;; nested exception is com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker&#39;s ack; a new disposition request is not allowed.\r\n\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInDeliveryExceptionIfNecessary(IntegrationUtils.java:166)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:339)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.endpoint.MessageProducerSupport.sendErrorMessageIfNecessary(MessageProducerSupport.java:262)\r\n\tat org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:219)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\r\n\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\r\n\t... 10 common frames omitted\r\nCaused by: com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker&#39;s ack; a new disposition request is not allowed.\r\n\tat com.azure.messaging.servicebus.ServiceBusReceiverAsyncClient.lambda$updateDisposition$52(ServiceBusReceiverAsyncClient.java:1480)\r\n\tat reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3733)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:278)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.onError(Operators.java:1863)\r\n\tat reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:340)\r\n\tat reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onError(MonoCacheTime.java:363)\r\n\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\r\n\tat com.azure.core.amqp.implementation.handler.ReceiverUnsettledDeliveries$DispositionWork.onComplete(ReceiverUnsettledDeliveries.java:736)\r\n\tat com.azure.core.amqp.implementation.handler.ReceiverUnsettledDeliveries.lambda$sendDispositionImpl$3(ReceiverUnsettledDeliveries.java:334)\r\n\tat com.azure.core.amqp.implementation.handler.DispatchHandler.onTimerTask(DispatchHandler.java:32)\r\n\tat com.azure.core.amqp.implementation.ReactorDispatcher$WorkScheduler.run(ReactorDispatcher.java:207)\r\n\tat org.apache.qpid.proton.reactor.impl.SelectableImpl.readable(SelectableImpl.java:118)\r\n\tat org.apache.qpid.proton.reactor.impl.IOHandler.handleQuiesced(IOHandler.java:61)\r\n\tat org.apache.qpid.proton.reactor.impl.IOHandler.onUnhandled(IOHandler.java:390)\r\n\tat org.apache.qpid.proton.engine.BaseHandler.onReactorQuiesced(BaseHandler.java:87)\r\n\tat org.apache.qpid.proton.engine.BaseHandler.handle(BaseHandler.java:206)\r\n\tat org.apache.qpid.proton.engine.impl.EventImpl.dispatch(EventImpl.java:108)\r\n\tat org.apache.qpid.proton.reactor.impl.ReactorImpl.dispatch(ReactorImpl.java:324)\r\n\tat org.apache.qpid.proton.reactor.impl.ReactorImpl.process(ReactorImpl.java:292)\r\n\tat com.azure.core.amqp.implementation.ReactorExecutor.run(ReactorExecutor.java:91)\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)\r\n\t... 5 common frames omitted\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1707)\r\n\t\tat com.azure.messaging.servicebus.ServiceBusReceivedMessageContext.abandon(ServiceBusReceivedMessageContext.java:65)\r\n\t\tat com.azure.spring.cloud.stream.binder.servicebus.ServiceBusMessageChannelBinder.abandon(ServiceBusMessageChannelBinder.java:230)\r\n\t\tat com.azure.spring.cloud.stream.binder.servicebus.ServiceBusMessageChannelBinder.lambda$getErrorMessageHandler$1(ServiceBusMessageChannelBinder.java:189)\r\n\t\tat org.springframework.integration.dispatcher.BroadcastingDispatcher.invokeHandler(BroadcastingDispatcher.java:222)\r\n\t\tat org.springframework.integration.dispatcher.BroadcastingDispatcher.dispatch(BroadcastingDispatcher.java:178)\r\n\t\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\t\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\r\n\t\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\r\n\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\t\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\t\tat org.springframework.integration.endpoint.MessageProducerSupport.sendErrorMessageIfNecessary(MessageProducerSupport.java:262)\r\n\t\tat org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:219)\r\n\t\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\r\n\t\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\r\n\t\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\r\n\t\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\r\n\t\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\r\n\t\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\r\n\t\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\r\n\t\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\t\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\t\t... 5 common frames omitted\r\nCaused by: com.azure.core.amqp.exception.AmqpException: A disposition requested earlier is waiting for the broker&#39;s ack; a new disposition request is not allowed.\r\n\t... 19 common frames omitted\r\n\r\n```\r\n\r\nI noticed that setting `spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.auto-complete=false` makes messages be delivered correctly, as I am checkpointing the messages manually. Could the issue be from somewhere around that?\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue","title":"Increasing concurrent calls undefined behaviour in Spring Cloud Stream Azure Service Bus","body":"<p>I have a simple Spring Cloud Azure Service Bus consumer defined as simply as follows, following the <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue\" rel=\"nofollow noreferrer\">official documentation</a>:</p>\n<pre><code>    @Bean\n    public Consumer&lt;Message&lt;byte[]&gt;&gt; consume() {\n        return message -&gt; someProcessing(message);\n    }\n</code></pre>\n<p>The default policy, if the <code>spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.requeue-rejected</code> flag is <code>false</code>, is that messages that fail during consummation are requeued on the main queue for <code>MaxDeliveryCount</code> times, before going to the DLQ. I tested this behaviour and it consistently works - if, for example, I update the code to</p>\n<pre><code>    @Bean\n    public Consumer&lt;Message&lt;byte[]&gt;&gt; consume() {\n        return message -&gt; {\n           someProcessing(message);\n           throw new IllegalStateException();\n        }\n    }\n</code></pre>\n<p>the message gets requeued as expected.</p>\n<p>If I bump the number of consecutive calls, however, by setting <code>spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.max-concurrent-calls=2</code>, the behaviour becomes undefined. <strong>Some times it abandons the messages altogether, other times it requeues them in the main queue.</strong> I don't understand why the behaviour is not consistent, i.e., the messages are always requeued. Part of the stack trace is as following.</p>\n<pre><code>2023-05-26 12:03:47.955 ERROR 52176 --- [undedElastic-12] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@71c11ee9]; nested exception is java.lang.IllegalStateException, failedMessage=GenericMessage [payload=byte[1948], headers={azure_service_bus_expires_at=2023-06-11T11:29:47.566Z, OwnedBy=owner, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@780ad3f2, azure_service_bus_message_id=ede22e431e0642ee9d3be263b3989c77, azure_service_bus_enqueued_sequence_number=132449, azure_service_bus_enqueued_time=2023-05-12T11:29:47.566Z, azure_service_bus_lock_token=c2167e9a-b6f5-4aed-b390-0f9714caf2a9, azure_service_bus_sequence_number=6969, azure_service_bus_time_to_live=PT720H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=fd556d60-a851-e39c-bca0-59e90d83722d, contentType=application/json, azure_service_bus_locked_until=2023-05-26T09:04:47.840Z, timestamp=1685091827953}]\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:65)\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:216)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalStateException\n    at com.subscriptions.Consumer.lambda$consume$0(Consumer.java:70)\n    at com.helper.AnonymousAuthenticationRunner.runAnonymously(AnonymousAuthenticationRunner.java:24)\n    at com.subscriptions.Consumer.lambda$consume$1(Consumer.java:50)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:1007)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:742)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:588)\n    at org.springframework.cloud.stream.function.PartitionAwareFunctionWrapper.apply(PartitionAwareFunctionWrapper.java:84)\n    at org.springframework.cloud.stream.function.FunctionConfiguration$FunctionWrapper.apply(FunctionConfiguration.java:791)\n    at org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1.handleMessageInternal(FunctionConfiguration.java:623)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\n    ... 25 more\n\n2023-05-26 12:03:47.955 ERROR 52176 --- [undedElastic-12] .s.i.s.i.ServiceBusInboundChannelAdapter : Error in the operation USER_CALLBACK occurred on entity service/subscriptions/Subscription. Error: {}\n\ncom.azure.messaging.servicebus.ServiceBusException: failed to send Message to channel 'service.Subscription.errors'; nested exception is com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker's ack; a new disposition request is not allowed.\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:387)\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.messaging.MessageDeliveryException: failed to send Message to channel 'service.Subscription.errors'; nested exception is com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker's ack; a new disposition request is not allowed.\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInDeliveryExceptionIfNecessary(IntegrationUtils.java:166)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:339)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendErrorMessageIfNecessary(MessageProducerSupport.java:262)\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:219)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\n    ... 10 common frames omitted\nCaused by: com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker's ack; a new disposition request is not allowed.\n    at com.azure.messaging.servicebus.ServiceBusReceiverAsyncClient.lambda$updateDisposition$52(ServiceBusReceiverAsyncClient.java:1480)\n    at reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3733)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:278)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\n    at reactor.core.publisher.Operators.error(Operators.java:198)\n    at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at reactor.core.publisher.Operators$MonoSubscriber.onError(Operators.java:1863)\n    at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:340)\n    at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onError(MonoCacheTime.java:363)\n    at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\n    at com.azure.core.amqp.implementation.handler.ReceiverUnsettledDeliveries$DispositionWork.onComplete(ReceiverUnsettledDeliveries.java:736)\n    at com.azure.core.amqp.implementation.handler.ReceiverUnsettledDeliveries.lambda$sendDispositionImpl$3(ReceiverUnsettledDeliveries.java:334)\n    at com.azure.core.amqp.implementation.handler.DispatchHandler.onTimerTask(DispatchHandler.java:32)\n    at com.azure.core.amqp.implementation.ReactorDispatcher$WorkScheduler.run(ReactorDispatcher.java:207)\n    at org.apache.qpid.proton.reactor.impl.SelectableImpl.readable(SelectableImpl.java:118)\n    at org.apache.qpid.proton.reactor.impl.IOHandler.handleQuiesced(IOHandler.java:61)\n    at org.apache.qpid.proton.reactor.impl.IOHandler.onUnhandled(IOHandler.java:390)\n    at org.apache.qpid.proton.engine.BaseHandler.onReactorQuiesced(BaseHandler.java:87)\n    at org.apache.qpid.proton.engine.BaseHandler.handle(BaseHandler.java:206)\n    at org.apache.qpid.proton.engine.impl.EventImpl.dispatch(EventImpl.java:108)\n    at org.apache.qpid.proton.reactor.impl.ReactorImpl.dispatch(ReactorImpl.java:324)\n    at org.apache.qpid.proton.reactor.impl.ReactorImpl.process(ReactorImpl.java:292)\n    at com.azure.core.amqp.implementation.ReactorExecutor.run(ReactorExecutor.java:91)\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)\n    ... 5 common frames omitted\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n        at reactor.core.publisher.Mono.block(Mono.java:1707)\n        at com.azure.messaging.servicebus.ServiceBusReceivedMessageContext.abandon(ServiceBusReceivedMessageContext.java:65)\n        at com.azure.spring.cloud.stream.binder.servicebus.ServiceBusMessageChannelBinder.abandon(ServiceBusMessageChannelBinder.java:230)\n        at com.azure.spring.cloud.stream.binder.servicebus.ServiceBusMessageChannelBinder.lambda$getErrorMessageHandler$1(ServiceBusMessageChannelBinder.java:189)\n        at org.springframework.integration.dispatcher.BroadcastingDispatcher.invokeHandler(BroadcastingDispatcher.java:222)\n        at org.springframework.integration.dispatcher.BroadcastingDispatcher.dispatch(BroadcastingDispatcher.java:178)\n        at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n        at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n        at org.springframework.integration.endpoint.MessageProducerSupport.sendErrorMessageIfNecessary(MessageProducerSupport.java:262)\n        at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:219)\n        at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\n        at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\n        at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\n        at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\n        at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\n        at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\n        at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\n        at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n        at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n        ... 5 common frames omitted\nCaused by: com.azure.core.amqp.exception.AmqpException: A disposition requested earlier is waiting for the broker's ack; a new disposition request is not allowed.\n    ... 19 common frames omitted\n\n</code></pre>\n<p>I noticed that setting <code>spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.auto-complete=false</code> makes messages be delivered correctly, as I am checkpointing the messages manually. Could the issue be from somewhere around that?</p>\n"},{"tags":["java","android","exception","android-asynctask","concurrentmodificationexception"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1686078520,"post_id":76417571,"comment_id":134749282,"body_markdown":"My first guess is that `newAdditionalItems` is being modified while the new `ArrayList` is being initialized. See if you can create a [mre] that exhibits the problem, pleas?","body":"My first guess is that <code>newAdditionalItems</code> is being modified while the new <code>ArrayList</code> is being initialized. See if you can create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that exhibits the problem, pleas?"}],"owner":{"account_id":9458732,"reputation":306,"user_id":7033181,"display_name":"Dash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686077329,"creation_date":1686077329,"question_id":76417571,"body_markdown":"I am encountering a `ConcurrentModificationException` for the following:\r\n\r\n```\r\n  @MainThread\r\n  private void notifyAdditionalItemsLoaded(\r\n      final @Nullable List&lt;RandomItem&gt; newAdditionalItems) {\r\n    if (newAdditionalItems != null) {\r\n      eventListener.onAdditionalItemsLoaded(\r\n          new ArrayList&lt;&gt;(newAdditionalItems));\r\n    }\r\n  }\r\n```\r\n\r\nThe stack trace for the exception is:\r\n```\r\njava.util.ConcurrentModificationException\r\n\tat java.util.ArrayList$SubList.size(ArrayList.java:1057)\r\n\tat java.util.AbstractCollection.toArray(AbstractCollection.java:139)\r\n\tat java.util.ArrayList.&lt;init&gt;(ArrayList.java:191)\r\n\tat com.dash.module.component.model.datasource.notifyAdditionalItemsLoaded(datasource.java:434)\r\n\tat com.dash.module.component.model.datasource.access$2300(datasource.java:42)\r\n\tat com.dash.module.component.model.datasource$LoadAdditionalRecordsTask.onPostExecute(datasource.java:599)\r\n\tat com.dash.module.component.model.datasource$LoadAdditionalRecordsTask.onPostExecute(datasource.java:540)\r\n\tat com.dash.util.BreadcrumbTask.onPostExecute(BreadcrumbTask.java:43)\r\n\tat android.os.AsyncTask.finish(AsyncTask.java:771)\r\n\tat android.os.AsyncTask.-$$Nest$mfinish(Unknown Source:0)\r\n\tat android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:788)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loopOnce(Looper.java:226)\r\n\tat android.os.Looper.loop(Looper.java:313)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8757)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\n```\r\n\r\nAs seen with the stack trace, `notifyAdditionalItemsLoaded()` is called from an async task&#39;s `onPostExecute()` method which simply sets the processing task to `null` and calls the `notify..` method:\r\n\r\n```\r\n    @Override\r\n    protected void onPostExecute(@Nullable List&lt;RandomItem&gt; items) {\r\n      loadAdditionalItemsTask = null; // reset\r\n      notifyAdditionalItemsLoaded(items);\r\n    }\r\n```\r\n\r\nAnd the `items` list is initialized within task, where new `RandomItem` objects are initialized and added to the list.\r\n\r\nBut, I am not sure why the CME is being thrown for shallow copying of objects to the list. And, this is not consistently reproducing.\r\n\r\nAny help here would be very much appreciated. TYIA!","title":"CME Thrown for new ArrayList Initialization","body":"<p>I am encountering a <code>ConcurrentModificationException</code> for the following:</p>\n<pre><code>  @MainThread\n  private void notifyAdditionalItemsLoaded(\n      final @Nullable List&lt;RandomItem&gt; newAdditionalItems) {\n    if (newAdditionalItems != null) {\n      eventListener.onAdditionalItemsLoaded(\n          new ArrayList&lt;&gt;(newAdditionalItems));\n    }\n  }\n</code></pre>\n<p>The stack trace for the exception is:</p>\n<pre><code>java.util.ConcurrentModificationException\n    at java.util.ArrayList$SubList.size(ArrayList.java:1057)\n    at java.util.AbstractCollection.toArray(AbstractCollection.java:139)\n    at java.util.ArrayList.&lt;init&gt;(ArrayList.java:191)\n    at com.dash.module.component.model.datasource.notifyAdditionalItemsLoaded(datasource.java:434)\n    at com.dash.module.component.model.datasource.access$2300(datasource.java:42)\n    at com.dash.module.component.model.datasource$LoadAdditionalRecordsTask.onPostExecute(datasource.java:599)\n    at com.dash.module.component.model.datasource$LoadAdditionalRecordsTask.onPostExecute(datasource.java:540)\n    at com.dash.util.BreadcrumbTask.onPostExecute(BreadcrumbTask.java:43)\n    at android.os.AsyncTask.finish(AsyncTask.java:771)\n    at android.os.AsyncTask.-$$Nest$mfinish(Unknown Source:0)\n    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:788)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.app.ActivityThread.main(ActivityThread.java:8757)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\n</code></pre>\n<p>As seen with the stack trace, <code>notifyAdditionalItemsLoaded()</code> is called from an async task's <code>onPostExecute()</code> method which simply sets the processing task to <code>null</code> and calls the <code>notify..</code> method:</p>\n<pre><code>    @Override\n    protected void onPostExecute(@Nullable List&lt;RandomItem&gt; items) {\n      loadAdditionalItemsTask = null; // reset\n      notifyAdditionalItemsLoaded(items);\n    }\n</code></pre>\n<p>And the <code>items</code> list is initialized within task, where new <code>RandomItem</code> objects are initialized and added to the list.</p>\n<p>But, I am not sure why the CME is being thrown for shallow copying of objects to the list. And, this is not consistently reproducing.</p>\n<p>Any help here would be very much appreciated. TYIA!</p>\n"},{"tags":["java","android","android-permissions","android-external-storage"],"owner":{"account_id":28190274,"reputation":11,"user_id":21545769,"display_name":"Sedat Kağan Aktaş"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686077067,"creation_date":1685586273,"question_id":76378305,"body_markdown":"```java\r\npublic class UploadActivity extends AppCompatActivity {\r\n\r\n\r\n    private FirebaseStorage firebaseStorage;\r\n    private StorageReference storageReference;\r\n    Uri imageData;\r\n    private FirebaseFirestore firebaseFirestore;\r\n    private FirebaseAuth firebaseAuth;\r\n    private ActivityUploadBinding binding;\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\r\n    ActivityResultLauncher&lt;String&gt; permissionLauncher;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityUploadBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n        setContentView(view);\r\n\r\n        registerLauncher();\r\n\r\n\r\n    }\r\n```\r\n| Column A | Column B |\r\n| -------- | -------- |\r\n| Cell 1   | Cell 2   |\r\n| Cell 3   | Cell 4   |\r\n\r\n\r\n  \r\n```java\r\n    public void selectImage(View view) {\r\n        if (ContextCompat.checkSelfPermission(this,Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.READ_EXTERNAL_STORAGE)) {\r\n\r\n                Snackbar.make(view,&quot;Permission needed for gallery&quot;, Snackbar.LENGTH_INDEFINITE).setAction(&quot;Give Permission&quot;, new View.OnClickListener() {\r\n                    @Override`your text`\r\n                    public void onClick(View v) {\r\n\r\n                        Toast.makeText(UploadActivity.this,&quot;1.&quot;,Toast.LENGTH_LONG).show();\r\n                        // permissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\r\n                    }\r\n                }).show();\r\n            } else {\r\n                Toast.makeText(UploadActivity.this,&quot;2.&quot;,Toast.LENGTH_LONG).show();\r\n                //permissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\r\n            }\r\n        } else {\r\n            Intent intentToGallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n            activityResultLauncher.launch(intentToGallery);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private void registerLauncher() {\r\n\r\n        activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(ActivityResult result) {\r\n                        if (result.getResultCode() == Activity.RESULT_OK) {\r\n                            Intent intentFromResult = result.getData();\r\n                            if (intentFromResult != null) {\r\n                                imageData = intentFromResult.getData();\r\n                                binding.imageView.setImageURI(imageData);\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n        permissionLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), new ActivityResultCallback&lt;Boolean&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(Boolean result) {\r\n                        if(result) {\r\n                            //permission granted\r\n                            Intent intentToGallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                            activityResultLauncher.launch(intentToGallery);\r\n\r\n                        } else {\r\n                            //permission denied\r\n                            Toast.makeText(UploadActivity.this,&quot;Permisson needed!&quot;,Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n\r\n                });\r\n    }\r\n}\r\n```\r\n\r\nı try take permission for gallery. When I run this code it did not worked. I cannot see any permission. I did not give any permission and app shows 2. toast message. My other apps it was worked but I cannot find difference between them. \r\n","title":"Why is my Android app not showing a permission request for external storage access?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class UploadActivity extends AppCompatActivity {\n\n\n    private FirebaseStorage firebaseStorage;\n    private StorageReference storageReference;\n    Uri imageData;\n    private FirebaseFirestore firebaseFirestore;\n    private FirebaseAuth firebaseAuth;\n    private ActivityUploadBinding binding;\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\n    ActivityResultLauncher&lt;String&gt; permissionLauncher;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityUploadBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n        setContentView(view);\n\n        registerLauncher();\n\n\n    }\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Column A</th>\n<th>Column B</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Cell 1</td>\n<td>Cell 2</td>\n</tr>\n<tr>\n<td>Cell 3</td>\n<td>Cell 4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre class=\"lang-java prettyprint-override\"><code>    public void selectImage(View view) {\n        if (ContextCompat.checkSelfPermission(this,Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n\n            if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.READ_EXTERNAL_STORAGE)) {\n\n                Snackbar.make(view,&quot;Permission needed for gallery&quot;, Snackbar.LENGTH_INDEFINITE).setAction(&quot;Give Permission&quot;, new View.OnClickListener() {\n                    @Override`your text`\n                    public void onClick(View v) {\n\n                        Toast.makeText(UploadActivity.this,&quot;1.&quot;,Toast.LENGTH_LONG).show();\n                        // permissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\n                    }\n                }).show();\n            } else {\n                Toast.makeText(UploadActivity.this,&quot;2.&quot;,Toast.LENGTH_LONG).show();\n                //permissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\n            }\n        } else {\n            Intent intentToGallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n            activityResultLauncher.launch(intentToGallery);\n\n        }\n\n    }\n\n    private void registerLauncher() {\n\n        activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n                    @Override\n                    public void onActivityResult(ActivityResult result) {\n                        if (result.getResultCode() == Activity.RESULT_OK) {\n                            Intent intentFromResult = result.getData();\n                            if (intentFromResult != null) {\n                                imageData = intentFromResult.getData();\n                                binding.imageView.setImageURI(imageData);\n                            }\n\n                        }\n                    }\n                });\n\n\n        permissionLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), new ActivityResultCallback&lt;Boolean&gt;() {\n                    @Override\n                    public void onActivityResult(Boolean result) {\n                        if(result) {\n                            //permission granted\n                            Intent intentToGallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                            activityResultLauncher.launch(intentToGallery);\n\n                        } else {\n                            //permission denied\n                            Toast.makeText(UploadActivity.this,&quot;Permisson needed!&quot;,Toast.LENGTH_LONG).show();\n                        }\n                    }\n\n                });\n    }\n}\n</code></pre>\n<p>ı try take permission for gallery. When I run this code it did not worked. I cannot see any permission. I did not give any permission and app shows 2. toast message. My other apps it was worked but I cannot find difference between them.</p>\n"},{"tags":["java","opencv","segmentation-fault","glibc","onnx"],"owner":{"account_id":16991047,"reputation":1,"user_id":12290647,"display_name":"Paulofski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686076936,"creation_date":1683204236,"question_id":76173337,"body_markdown":"Running a Java Rest API application with a ONNX machine learning model inside a container deployed on OpenShift. Day to day performance is fine for now, but for a new business case we want to increase the load.\r\n\r\nUnfortunately increasing the load of the performance test throws segmentation faults at &#39;random&#39; moments.\r\nSometimes the throughput is 150+ API calls per second before it breaks and sometimes &lt;20 API calls per second before the crash.\r\n\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007fcd018b4023, pid=516, tid=615\r\n#\r\n# JRE version: OpenJDK Runtime Environment (Red_Hat-11.0.19.0.7-1.el8_7) (11.0.19+7) (build 11.0.19+7-LTS)\r\n# Java VM: OpenJDK 64-Bit Server VM (Red_Hat-11.0.19.0.7-1.el8_7) (11.0.19+7-LTS, mixed mode, sharing, tiered, compressed oops, parallel gc, linux-amd64)\r\n# Problematic frame:\r\n# C  [libc.so.6+0xd0023]  __memmove_avx_unaligned_erms+0x53\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -Xlog:os=debug:file=os.txt:uptime,level,tags -XX:+UseParallelGC -XX:MaxRAMPercentage=85 app.jar\r\n\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x00007fcbdc003800):  JavaThread &quot;http-nio-8080-exec-12&quot; daemon [_thread_in_native, id=615, stack(0x00007fcc1f2f7000,0x00007fcc1f3f8000)]\r\n\r\nStack: [0x00007fcc1f2f7000,0x00007fcc1f3f8000],  sp=0x00007fcc1f3f3ea8,  free space=1011k\r\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  [libc.so.6+0xd0023]  __memmove_avx_unaligned_erms+0x53\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nJ 14698  org.opencv.core.Mat.nGetF(JIII[F)I (0 bytes) @ 0x00007fcce87f3d32 [0x00007fcce87f3cc0+0x0000000000000072]\r\n```\r\n\r\nThe complete core-dump is available, but i am a bit lost where to search for the solution. Any help or tips are welcome.\r\n\r\nIncreased the memory and cpu limits in OpenShift and set the requested equal to the limits, to claim a Guaranteed Quality of Service, but the faults occurs before hitting the limits.\r\n\r\nEdit:\r\nAfter tweaking the Onnx settings (intra_op_num_threads and execution mode) and resources the segmentation faults occur less. But still once a week in one of the pods.","title":"org.opencv.core.Mat.nGetF causes segmentation fault __memmove_avx_unaligned_erms","body":"<p>Running a Java Rest API application with a ONNX machine learning model inside a container deployed on OpenShift. Day to day performance is fine for now, but for a new business case we want to increase the load.</p>\n<p>Unfortunately increasing the load of the performance test throws segmentation faults at 'random' moments.\nSometimes the throughput is 150+ API calls per second before it breaks and sometimes &lt;20 API calls per second before the crash.</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007fcd018b4023, pid=516, tid=615\n#\n# JRE version: OpenJDK Runtime Environment (Red_Hat-11.0.19.0.7-1.el8_7) (11.0.19+7) (build 11.0.19+7-LTS)\n# Java VM: OpenJDK 64-Bit Server VM (Red_Hat-11.0.19.0.7-1.el8_7) (11.0.19+7-LTS, mixed mode, sharing, tiered, compressed oops, parallel gc, linux-amd64)\n# Problematic frame:\n# C  [libc.so.6+0xd0023]  __memmove_avx_unaligned_erms+0x53\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -Xlog:os=debug:file=os.txt:uptime,level,tags -XX:+UseParallelGC -XX:MaxRAMPercentage=85 app.jar\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x00007fcbdc003800):  JavaThread &quot;http-nio-8080-exec-12&quot; daemon [_thread_in_native, id=615, stack(0x00007fcc1f2f7000,0x00007fcc1f3f8000)]\n\nStack: [0x00007fcc1f2f7000,0x00007fcc1f3f8000],  sp=0x00007fcc1f3f3ea8,  free space=1011k\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [libc.so.6+0xd0023]  __memmove_avx_unaligned_erms+0x53\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nJ 14698  org.opencv.core.Mat.nGetF(JIII[F)I (0 bytes) @ 0x00007fcce87f3d32 [0x00007fcce87f3cc0+0x0000000000000072]\n</code></pre>\n<p>The complete core-dump is available, but i am a bit lost where to search for the solution. Any help or tips are welcome.</p>\n<p>Increased the memory and cpu limits in OpenShift and set the requested equal to the limits, to claim a Guaranteed Quality of Service, but the faults occurs before hitting the limits.</p>\n<p>Edit:\nAfter tweaking the Onnx settings (intra_op_num_threads and execution mode) and resources the segmentation faults occur less. But still once a week in one of the pods.</p>\n"},{"tags":["java","swing","miglayout"],"owner":{"account_id":25188076,"reputation":23,"user_id":19028647,"display_name":"GamingLegion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686076821,"creation_date":1686076777,"question_id":76417527,"body_markdown":"I&#39;m trying to have two checkboxes be next to each other, maybe with a slight gap, but it is doing [this][1]. I wanted to get some help to try and shift it over. Here is the MiGLayout parameters and the code for the checkboxes.\r\n```\r\nred.setLayout(new MigLayout(&quot;fillx, inset 0&quot;));\r\n```\r\n```\r\nJCustomCheckbox snorlax = new JCustomCheckbox(null, new Color(255, 255, 255), 1.5, &quot;Catch both Snorlax&quot;, 2);\r\nred.add(snorlax, &quot;newline, grow, pad 0 &quot; + sub2 + &quot; 0 0&quot;);\r\n\r\nJCustomCheckbox snorlax12 = new JCustomCheckbox(null, new Color(255, 255, 255), 1.25, &quot;Route 12&quot;, 3);\r\nred.add(snorlax12, &quot;newline, grow, pad 0 &quot; + sub3 + &quot; 0 0&quot;);\r\n\r\nJCustomCheckbox snorlax16 = new JCustomCheckbox(null, new Color(255, 255, 255), 1.25, &quot;Route 16&quot;, 3);\r\nred.add(snorlax16, &quot;grow&quot;);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9b7kZ.png","title":"How to align these items in MiGLayout","body":"<p>I'm trying to have two checkboxes be next to each other, maybe with a slight gap, but it is doing <a href=\"https://i.stack.imgur.com/9b7kZ.png\" rel=\"nofollow noreferrer\">this</a>. I wanted to get some help to try and shift it over. Here is the MiGLayout parameters and the code for the checkboxes.</p>\n<pre><code>red.setLayout(new MigLayout(&quot;fillx, inset 0&quot;));\n</code></pre>\n<pre><code>JCustomCheckbox snorlax = new JCustomCheckbox(null, new Color(255, 255, 255), 1.5, &quot;Catch both Snorlax&quot;, 2);\nred.add(snorlax, &quot;newline, grow, pad 0 &quot; + sub2 + &quot; 0 0&quot;);\n\nJCustomCheckbox snorlax12 = new JCustomCheckbox(null, new Color(255, 255, 255), 1.25, &quot;Route 12&quot;, 3);\nred.add(snorlax12, &quot;newline, grow, pad 0 &quot; + sub3 + &quot; 0 0&quot;);\n\nJCustomCheckbox snorlax16 = new JCustomCheckbox(null, new Color(255, 255, 255), 1.25, &quot;Route 16&quot;, 3);\nred.add(snorlax16, &quot;grow&quot;);\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1686062896,"post_id":76415864,"comment_id":134745982,"body_markdown":"Try `apply()` instead of `commit()`.","body":"Try <code>apply()</code> instead of <code>commit()</code>."},{"owner":{"account_id":5352889,"reputation":29,"user_id":21360841,"display_name":"Amorphous"},"score":0,"creation_date":1686063149,"post_id":76415864,"comment_id":134746046,"body_markdown":"Tried that, didnt work. These codes are in two different activity classes btw.","body":"Tried that, didnt work. These codes are in two different activity classes btw."},{"owner":{"account_id":5352889,"reputation":29,"user_id":21360841,"display_name":"Amorphous"},"score":0,"creation_date":1686063918,"post_id":76415864,"comment_id":134746232,"body_markdown":"It works if I stop the app or close it completely and then restart it. But it doesn&#39;t work otherwise.","body":"It works if I stop the app or close it completely and then restart it. But it doesn&#39;t work otherwise."}],"answers":[{"tags":[],"owner":{"account_id":22352554,"reputation":146,"user_id":16570381,"display_name":"Prem Chaudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686076007,"creation_date":1686076007,"answer_id":76417442,"question_id":76415864,"body_markdown":"Instead of using the `commit()` method, which immediately writes changes to the disk and may fail, you can use the `apply()` method for more reliable results. Unlike `commit()`, `apply()` writes changes asynchronously in the background without blocking the main thread. It returns immediately, without indicating whether the operation was successful or not.\r\n\r\nBy using `apply()`, you can ensure that changes to `SharedPreferences` are reliably saved, even if the app is not fully stopped or closed before restarting it.\r\n\r\nKeep in mind that changes made with `apply()` may not be immediately reflected when retrieving preferences in the same execution sequence. If you need to guarantee the immediate removal of the token before performing subsequent actions, you may need to implement additional logic or callbacks to handle the timing appropriately.","title":"Not able to clear or save in SharedPreferences in Android Project","body":"<p>Instead of using the <code>commit()</code> method, which immediately writes changes to the disk and may fail, you can use the <code>apply()</code> method for more reliable results. Unlike <code>commit()</code>, <code>apply()</code> writes changes asynchronously in the background without blocking the main thread. It returns immediately, without indicating whether the operation was successful or not.</p>\n<p>By using <code>apply()</code>, you can ensure that changes to <code>SharedPreferences</code> are reliably saved, even if the app is not fully stopped or closed before restarting it.</p>\n<p>Keep in mind that changes made with <code>apply()</code> may not be immediately reflected when retrieving preferences in the same execution sequence. If you need to guarantee the immediate removal of the token before performing subsequent actions, you may need to implement additional logic or callbacks to handle the timing appropriately.</p>\n"}],"owner":{"account_id":5352889,"reputation":29,"user_id":21360841,"display_name":"Amorphous"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686076007,"creation_date":1686062743,"question_id":76415864,"body_markdown":"Saving code in Login.java activity : \r\n\r\n     SharedPreferences preferences =getSharedPreferences(&quot;MyPrefs&quot;,Context.MODE_PRIVATE);\r\n     preferences.edit().putString(&quot;token&quot;, token).commit();\r\n\r\nDeleting code in MainActivity.java class : \r\n\r\n      SharedPreferences preferences =getSharedPreferences(&quot;MyPrefs&quot;,Context.MODE_PRIVATE);\r\n      preferences.edit().remove(&quot;token&quot;).commit();\r\n\r\nIt works if I stop the app or close it completely and then restart it. But it doesn&#39;t work otherwise. \r\n\r\nWhat am I doing wrong? Please help.","title":"Not able to clear or save in SharedPreferences in Android Project","body":"<p>Saving code in Login.java activity :</p>\n<pre><code> SharedPreferences preferences =getSharedPreferences(&quot;MyPrefs&quot;,Context.MODE_PRIVATE);\n preferences.edit().putString(&quot;token&quot;, token).commit();\n</code></pre>\n<p>Deleting code in MainActivity.java class :</p>\n<pre><code>  SharedPreferences preferences =getSharedPreferences(&quot;MyPrefs&quot;,Context.MODE_PRIVATE);\n  preferences.edit().remove(&quot;token&quot;).commit();\n</code></pre>\n<p>It works if I stop the app or close it completely and then restart it. But it doesn't work otherwise.</p>\n<p>What am I doing wrong? Please help.</p>\n"},{"tags":["java","android","kill-process","binders"],"owner":{"account_id":17725897,"reputation":1,"user_id":12869623,"display_name":"Justin Cornelius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686075696,"creation_date":1685981993,"question_id":76408293,"body_markdown":"So I am running into an issue where Android OS eventually kills my foreground process because of the amount of binders being sent to the system (&quot;Too many Binders sent to SYSTEM&quot;). My app, every second, checks to see what app is on screen and every 15 minutes checks some other system details like battery percentage and if the phone is plugged in. The amount of binders which can be sent is arbitrarily set to 2500. Here is the [source code](https://android.googlesource.com/platform/frameworks/native/+/master/libs/binder/BpBinder.cpp#116) for Android OS. Line 54 is the limit I am speaking of. The purpose of this value is to distinguish a bad and or behaving app and fails to distinguish an app which needs to do work over long periods of time.\r\n\r\nI have a question around this line of code on [187](https://android.googlesource.com/platform/frameworks/native/+/master/libs/binder/BpBinder.cpp#116) &quot;Throttling binder proxy created from uid %d in uid %d until binder proxy count drops below %d&quot;\r\n\r\nIs there a way for me to release binder proxies? If my count is approaching 2500, can I reduce this from within my code?\r\n\r\n\r\n\r\nMy main way to improve the amount of time my app can run before getting killed is removing calls to the underlining android server by way of getSystemService and registering to broadcast events where applicable, but eventually, the app is still killed due to the amount of binders sent to the system.","title":"Android applicaton getting killed by OS with message &quot;Too many Binders sent to SYSTEM&quot;","body":"<p>So I am running into an issue where Android OS eventually kills my foreground process because of the amount of binders being sent to the system (&quot;Too many Binders sent to SYSTEM&quot;). My app, every second, checks to see what app is on screen and every 15 minutes checks some other system details like battery percentage and if the phone is plugged in. The amount of binders which can be sent is arbitrarily set to 2500. Here is the <a href=\"https://android.googlesource.com/platform/frameworks/native/+/master/libs/binder/BpBinder.cpp#116\" rel=\"nofollow noreferrer\">source code</a> for Android OS. Line 54 is the limit I am speaking of. The purpose of this value is to distinguish a bad and or behaving app and fails to distinguish an app which needs to do work over long periods of time.</p>\n<p>I have a question around this line of code on <a href=\"https://android.googlesource.com/platform/frameworks/native/+/master/libs/binder/BpBinder.cpp#116\" rel=\"nofollow noreferrer\">187</a> &quot;Throttling binder proxy created from uid %d in uid %d until binder proxy count drops below %d&quot;</p>\n<p>Is there a way for me to release binder proxies? If my count is approaching 2500, can I reduce this from within my code?</p>\n<p>My main way to improve the amount of time my app can run before getting killed is removing calls to the underlining android server by way of getSystemService and registering to broadcast events where applicable, but eventually, the app is still killed due to the amount of binders sent to the system.</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1686076064,"post_id":76406715,"comment_id":134748848,"body_markdown":"The short answer is &quot;no&quot;. But you could instead return `String` from your controller and manipulate the json according to your desire.","body":"The short answer is &quot;no&quot;. But you could instead return <code>String</code> from your controller and manipulate the json according to your desire."}],"owner":{"account_id":20775240,"reputation":23,"user_id":15256895,"display_name":"usersman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686075653,"creation_date":1685970274,"question_id":76406715,"body_markdown":"I have a class:\r\n```\r\n@Data\r\npublic class Myclass {\r\n    private String myString;\r\n    private Int myint;\r\n}\r\n```\r\nand a controller \r\n\r\n    @GetMapping\r\n    @ServicesAuditLog\r\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)\r\n    public Mono&lt;ResponseEntity&lt;List&lt;MyClass&gt;&gt;&gt; getMyClass(@RequestParam(required = false, defaultValue = &quot;false&quot;) Boolean includeString) {\r\n        return service.getMyClass(includeString)\r\n            .collectList()\r\n            .map(response -&gt; new ResponseEntity&lt;&gt;(response, HttpStatus.OK));\r\n    }\r\n\r\nMy problem is that if `includeString` is `true` and `myString` is `null`, I still want the response to have `myString = null`, so I cannot use\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n\r\nIs there any way to dynamically add the `@JsonIgnore`?","title":"Ignore specific java class values based on controller input","body":"<p>I have a class:</p>\n<pre><code>@Data\npublic class Myclass {\n    private String myString;\n    private Int myint;\n}\n</code></pre>\n<p>and a controller</p>\n<pre><code>@GetMapping\n@ServicesAuditLog\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)\npublic Mono&lt;ResponseEntity&lt;List&lt;MyClass&gt;&gt;&gt; getMyClass(@RequestParam(required = false, defaultValue = &quot;false&quot;) Boolean includeString) {\n    return service.getMyClass(includeString)\n        .collectList()\n        .map(response -&gt; new ResponseEntity&lt;&gt;(response, HttpStatus.OK));\n}\n</code></pre>\n<p>My problem is that if <code>includeString</code> is <code>true</code> and <code>myString</code> is <code>null</code>, I still want the response to have <code>myString = null</code>, so I cannot use</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n</code></pre>\n<p>Is there any way to dynamically add the <code>@JsonIgnore</code>?</p>\n"},{"tags":["java","wildfly","war","objectsize"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1685113880,"post_id":76341989,"comment_id":134620906,"body_markdown":"Maybe JOL is expecting a &#39;flat&#39; classpath. In WildFly each module has its own loader and ensure a separation so maybe that is the issue you are encountering.","body":"Maybe JOL is expecting a &#39;flat&#39; classpath. In WildFly each module has its own loader and ensure a separation so maybe that is the issue you are encountering."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685113908,"post_id":76341989,"comment_id":134620920,"body_markdown":"Why are you trying to do this? Having more context could be useful to suggest alternatives.","body":"Why are you trying to do this? Having more context could be useful to suggest alternatives."},{"owner":{"account_id":432653,"reputation":6817,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1685430994,"post_id":76341989,"comment_id":134654613,"body_markdown":"@ehsavoie: Could be - any idea how to use it nevertheless or achieve it with another tool?","body":"@ehsavoie: Could be - any idea how to use it nevertheless or achieve it with another tool?"},{"owner":{"account_id":432653,"reputation":6817,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1685431078,"post_id":76341989,"comment_id":134654629,"body_markdown":"@aled: We saw by taking heap dumps that this one list may have a memory leak or at least is very large. So I wanted to log continuously its size to see when and how it raises in size.","body":"@aled: We saw by taking heap dumps that this one list may have a memory leak or at least is very large. So I wanted to log continuously its size to see when and how it raises in size."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685440889,"post_id":76341989,"comment_id":134656743,"body_markdown":"Use Eclipse MAT to analyze the heap dump.","body":"Use Eclipse MAT to analyze the heap dump."},{"owner":{"account_id":432653,"reputation":6817,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1685442527,"post_id":76341989,"comment_id":134657100,"body_markdown":"@aled That&#39;s what I did and how I came to the suspected data structure. By logging, I like to see how it behaves over time.","body":"@aled That&#39;s what I did and how I came to the suspected data structure. By logging, I like to see how it behaves over time."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1685616085,"post_id":76341989,"comment_id":134686374,"body_markdown":"Regarding the Classnotfound: The org.jboss.vfs.VirtualFile class is part of a JBoss module and not automatically part of your EAR classpath. You need to add it first. For that add a `jboss-deployment-structure.xml` in your META-INF folder and specify the module as a dependecy `&lt;module name=&quot;org.jboss.vfs&quot;/&gt;`","body":"Regarding the Classnotfound: The org.jboss.vfs.VirtualFile class is part of a JBoss module and not automatically part of your EAR classpath. You need to add it first. For that add a <code>jboss-deployment-structure.xml</code> in your META-INF folder and specify the module as a dependecy <code>&lt;module name=&quot;org.jboss.vfs&quot;&#47;&gt;</code>"},{"owner":{"account_id":432653,"reputation":6817,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1685625184,"post_id":76341989,"comment_id":134688504,"body_markdown":"@Lonzak If you could write that as an answer and provide a little bit more details where exactly to put that file in the ear deployment and how it looks like, I will try that out and if it works happily award the bounty.","body":"@Lonzak If you could write that as an answer and provide a little bit more details where exactly to put that file in the ear deployment and how it looks like, I will try that out and if it works happily award the bounty."}],"answers":[{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685628535,"creation_date":1685627733,"answer_id":76382663,"question_id":76341989,"body_markdown":"As mentioned in the comment I try to provide a bit more detail. (Disclaimer: I didn&#39;t try it out...)\r\n\r\nJBoss and Wildfly have the [possibility][1] to include a jboss deployment descriptor. It gives you control over the classloading in the deployment. So you can for example include or exclude dependencies or modules. We used this in the past to exclude libraries coming with the application server which (might) conflict with dependencies bundled in the deployment.\r\n\r\nIf your application does not have one, create a new file called `jboss-deployment-structure.xml` and add it to the project. This is an XML file with the root element `&lt;jboss-deployment-structure&gt;`. Yours would look something like this (others like [this][2]):\r\n\r\n    &lt;jboss-deployment-structure&gt;\r\n        &lt;deployment&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nFor a web application (WAR), add this file to the WEB-INF/ directory. For an EAR archive, add it to the META-INF/ directory.\r\nThis should make the ClassNotFoundException go away. If it doesn&#39;t try to use `&lt;module name=&quot;org.jboss.as.weld&quot;/&gt;`\r\n\r\nIf it doesn&#39;t then there might be other issues with the system classloader. Another approach might be to serialize the object and check the size of the object.This would also give you a rough estimate of the size. But this presumes that the object is serializable...\r\n\r\n\r\n  [1]: https://access.redhat.com/documentation/de-de/red_hat_jboss_enterprise_application_platform/7.1/html/development_guide/class_loading_and_modules#jboss_deployment_structure_xml\r\n  [2]: https://github.com/apache/syncope/blob/master/fit/core-reference/src/main/webapp/WEB-INF/jboss-deployment-structure.xml","title":"How to use OpenJDK JOL (or similar tool) in WAR on WildFly to measure object size?","body":"<p>As mentioned in the comment I try to provide a bit more detail. (Disclaimer: I didn't try it out...)</p>\n<p>JBoss and Wildfly have the <a href=\"https://access.redhat.com/documentation/de-de/red_hat_jboss_enterprise_application_platform/7.1/html/development_guide/class_loading_and_modules#jboss_deployment_structure_xml\" rel=\"nofollow noreferrer\">possibility</a> to include a jboss deployment descriptor. It gives you control over the classloading in the deployment. So you can for example include or exclude dependencies or modules. We used this in the past to exclude libraries coming with the application server which (might) conflict with dependencies bundled in the deployment.</p>\n<p>If your application does not have one, create a new file called <code>jboss-deployment-structure.xml</code> and add it to the project. This is an XML file with the root element <code>&lt;jboss-deployment-structure&gt;</code>. Yours would look something like this (others like <a href=\"https://github.com/apache/syncope/blob/master/fit/core-reference/src/main/webapp/WEB-INF/jboss-deployment-structure.xml\" rel=\"nofollow noreferrer\">this</a>):</p>\n<pre><code>&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;dependencies&gt;\n            &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\n        &lt;/dependencies&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>For a web application (WAR), add this file to the WEB-INF/ directory. For an EAR archive, add it to the META-INF/ directory.\nThis should make the ClassNotFoundException go away. If it doesn't try to use <code>&lt;module name=&quot;org.jboss.as.weld&quot;/&gt;</code></p>\n<p>If it doesn't then there might be other issues with the system classloader. Another approach might be to serialize the object and check the size of the object.This would also give you a rough estimate of the size. But this presumes that the object is serializable...</p>\n"},{"tags":[],"owner":{"account_id":7879809,"reputation":610,"user_id":5954248,"display_name":"Nilupul Heshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685693432,"creation_date":1685693432,"answer_id":76388325,"question_id":76341989,"body_markdown":"When using JOL to determine the size of HttpSession objects, the problem with the NoClassDefFoundError that you&#39;re encountering is caused by the absence of the class org.jboss.vfs.VirtualFile. The needed dependency is missing from your application&#39;s classpath, which leads to this error.\r\n\r\nInclude the relevant JAR file containing the org.jboss.vfs.VirtualFile class in your application&#39;s classpath as a potential workaround. You may find the JAR file containing this class and add it to your JSF application&#39;s WAR file&#39;s WEB-INF/lib directory. In this manner, when the application is deployed, it will be added to the classpath.\r\n\r\nAlternatively, if you are using Maven or another build tool, you can add the dependency to your project&#39;s configuration file (pom.xml for Maven) to automatically include the required JAR file during the build process. You&#39;ll need to find the appropriate Maven coordinates for the JAR containing org.jboss.vfs.VirtualFile and add them to your project&#39;s dependencies.\r\n\r\nHere&#39;s an example of how you can add a Maven dependency for the JBoss VFS module in your pom.xml file:\r\n\r\n    &lt;dependencies&gt;\r\n    &lt;!-- Other dependencies --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jboss-vfs&lt;/artifactId&gt;\r\n        &lt;version&gt;&lt;!-- Specify the appropriate version here --&gt;&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n","title":"How to use OpenJDK JOL (or similar tool) in WAR on WildFly to measure object size?","body":"<p>When using JOL to determine the size of HttpSession objects, the problem with the NoClassDefFoundError that you're encountering is caused by the absence of the class org.jboss.vfs.VirtualFile. The needed dependency is missing from your application's classpath, which leads to this error.</p>\n<p>Include the relevant JAR file containing the org.jboss.vfs.VirtualFile class in your application's classpath as a potential workaround. You may find the JAR file containing this class and add it to your JSF application's WAR file's WEB-INF/lib directory. In this manner, when the application is deployed, it will be added to the classpath.</p>\n<p>Alternatively, if you are using Maven or another build tool, you can add the dependency to your project's configuration file (pom.xml for Maven) to automatically include the required JAR file during the build process. You'll need to find the appropriate Maven coordinates for the JAR containing org.jboss.vfs.VirtualFile and add them to your project's dependencies.</p>\n<p>Here's an example of how you can add a Maven dependency for the JBoss VFS module in your pom.xml file:</p>\n<pre><code>&lt;dependencies&gt;\n&lt;!-- Other dependencies --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jboss&lt;/groupId&gt;\n    &lt;artifactId&gt;jboss-vfs&lt;/artifactId&gt;\n    &lt;version&gt;&lt;!-- Specify the appropriate version here --&gt;&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686075505,"creation_date":1685738963,"answer_id":76393397,"question_id":76341989,"body_markdown":"1. Your JOL problem\r\n\r\nAfter reading how JOL works, I understand that it tries to attach itself to the JVM as an agent.\r\n\r\nI had some similar issues with another java agent on wildfly, about loading some classes etc. It&#39;s probably a class loader issue. You webapp does not have access to some classes because your app has a &quot;isolated&quot; classloader. I think you need to say to Wildfly that JOL must have access to all modules in the JVM. I did not succeed to reproduce your error. so I&#39;m really not sure about my answer but it does not cost a lot to try. \r\n\r\nYou just need to configure a JVM system property. Try to make your JVM start with the following :\r\n\r\n`-Djboss.modules.system.pkgs=org.jboss.byteman,org.openjdk.jol`\r\n\r\nYour Wildfly probably already starts with `-Djboss.modules.system.pkgs=org.jboss.byteman&#39; already defined. Just add the JOL package to the property.\r\n\r\nIn a standalone wildfly instance, you can change this in the &quot;&lt;wildfly root&gt;/bin/standalone.conf&quot; file, defined like this :\r\n\r\n```bash\r\nif [ &quot;x$JBOSS_MODULES_SYSTEM_PKGS&quot; = &quot;x&quot; ]; then\r\n   JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.byteman&quot;\r\nfi\r\n```\r\n\r\nJust replace this piece of code with:\r\n\r\n```bash\r\nif [ &quot;x$JBOSS_MODULES_SYSTEM_PKGS&quot; = &quot;x&quot; ]; then\r\n   JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.byteman,org.openjdk.jol&quot;\r\nfi\r\n```\r\n\r\n**Edit:**\r\nPut the code doing this :\r\n`GraphLayout.parseInstance(sessions).totalSize());`\r\nin a dedicated class. Put this class in the package `org.openjdk.jol&#39; in your app.\r\n\r\nI think it will work.\r\n\r\n2. Does your suspected memory leak cause some OutOfMemoryError ? If it does, add this option to your JVM: -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath:&quot;folder where you want your heap dump to be stored&quot;\r\n\r\nIt&#39;s the best way to get an accurate heap dump. You will have the exact image of your heap when the OutOfMemoryError occurs. By inspecting the sessions, you will know what kind of objects occupy too much heap.","title":"How to use OpenJDK JOL (or similar tool) in WAR on WildFly to measure object size?","body":"<ol>\n<li>Your JOL problem</li>\n</ol>\n<p>After reading how JOL works, I understand that it tries to attach itself to the JVM as an agent.</p>\n<p>I had some similar issues with another java agent on wildfly, about loading some classes etc. It's probably a class loader issue. You webapp does not have access to some classes because your app has a &quot;isolated&quot; classloader. I think you need to say to Wildfly that JOL must have access to all modules in the JVM. I did not succeed to reproduce your error. so I'm really not sure about my answer but it does not cost a lot to try.</p>\n<p>You just need to configure a JVM system property. Try to make your JVM start with the following :</p>\n<p><code>-Djboss.modules.system.pkgs=org.jboss.byteman,org.openjdk.jol</code></p>\n<p>Your Wildfly probably already starts with `-Djboss.modules.system.pkgs=org.jboss.byteman' already defined. Just add the JOL package to the property.</p>\n<p>In a standalone wildfly instance, you can change this in the &quot;/bin/standalone.conf&quot; file, defined like this :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>if [ &quot;x$JBOSS_MODULES_SYSTEM_PKGS&quot; = &quot;x&quot; ]; then\n   JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.byteman&quot;\nfi\n</code></pre>\n<p>Just replace this piece of code with:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>if [ &quot;x$JBOSS_MODULES_SYSTEM_PKGS&quot; = &quot;x&quot; ]; then\n   JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.byteman,org.openjdk.jol&quot;\nfi\n</code></pre>\n<p><strong>Edit:</strong>\nPut the code doing this :\n<code>GraphLayout.parseInstance(sessions).totalSize());</code>\nin a dedicated class. Put this class in the package `org.openjdk.jol' in your app.</p>\n<p>I think it will work.</p>\n<ol start=\"2\">\n<li>Does your suspected memory leak cause some OutOfMemoryError ? If it does, add this option to your JVM: -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath:&quot;folder where you want your heap dump to be stored&quot;</li>\n</ol>\n<p>It's the best way to get an accurate heap dump. You will have the exact image of your heap when the OutOfMemoryError occurs. By inspecting the sessions, you will know what kind of objects occupy too much heap.</p>\n"}],"owner":{"account_id":432653,"reputation":6817,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1686075505,"creation_date":1685113105,"question_id":76341989,"body_markdown":"We have a Java EE application on WildFly 26 and OpenJDK 1.8, deployed as EAR and containing a JSF application in a WAR file.\r\n\r\nI like to measure the size of a list of HttpSession objects, so I need something to calculate deep object size.\r\n\r\nI tried different approaches and ended up with Java Object Layout (JOL, https://github.com/openjdk/jol) and its GraphLayout class:\r\n\r\n    GraphLayout.parseInstance(sessions).totalSize());\r\n\r\nWhen the application runs, I get \r\n\r\n    java.lang.NoClassDefFoundError: Lorg/jboss/vfs/VirtualFile;\r\n            at java.lang.Class.getDeclaredFields0(Native Method) [rt.jar:1.8.0_345]\r\n            at java.lang.Class.privateGetDeclaredFields(Class.java:2583) [rt.jar:1.8.0_345]\r\n            at java.lang.Class.getDeclaredFields(Class.java:1916) [rt.jar:1.8.0_345]\r\n            at org.openjdk.jol.info.GraphWalker.getAllReferences(GraphWalker.java:128)\r\n            at org.openjdk.jol.info.GraphWalker.walk(GraphWalker.java:96)\r\n            at org.openjdk.jol.info.GraphLayout.parseInstance(GraphLayout.java:63)\r\n            at &lt;myClass&gt; [..]\r\n    Caused by: java.lang.ClassNotFoundException: org.jboss.vfs.VirtualFile from [Module &quot;org.jboss.as.weld.ejb&quot; version 26.1.1.Final from local module loader [..]\r\nIt seems the dependency to the vfs module is missing somewhere, but I don&#39;t know how and where to configure that.\r\n\r\nCan anyone help me to make this work or propose a different approach, which works for an application as described above?\r\n\r\n**Edit 1**: I put org.jboss.vfs in org/jboss/as/weld/ejb module but this only lead to another class not found in infinispan. Besides JOL, I tested two other approaches, but they ended up in the same error. And I tried to use the approach via an agent as decribed [in this SO post][1], but couldn&#39;t make it work in combination with WildFly.\r\n\r\n**Edit 2**: I saw, that the described problem has to do with using reflection, since using an old approach from [Heinz Kabutz][2] led to the very same exception:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: Lorg/jboss/vfs/VirtualFile;\r\n            at java.lang.Class.getDeclaredFields0(Native Method [rt.jar:1.8.0_345]\r\n            at java.lang.Class.getDeclaredFields0(Native Method)    [rt.jar:1.8.0_345]\r\n            at java.lang.Class.privateGetDeclaredFields(Class.java:2583) [rt.jar:1.8.0_345]\r\n            at java.lang.Class.getDeclaredFields(Class.java:1916) [rt.jar:1.8.0_345]\r\n            at MemoryCounter._estimate( [..]\r\n\r\n  [1]: https://stackoverflow.com/questions/52353/how-to-determine-the-size-of-an-object-in-java\r\n  [2]: https://www.infoworld.com/article/2077408/sizeof-for-java.html\r\n","title":"How to use OpenJDK JOL (or similar tool) in WAR on WildFly to measure object size?","body":"<p>We have a Java EE application on WildFly 26 and OpenJDK 1.8, deployed as EAR and containing a JSF application in a WAR file.</p>\n<p>I like to measure the size of a list of HttpSession objects, so I need something to calculate deep object size.</p>\n<p>I tried different approaches and ended up with Java Object Layout (JOL, <a href=\"https://github.com/openjdk/jol\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jol</a>) and its GraphLayout class:</p>\n<pre><code>GraphLayout.parseInstance(sessions).totalSize());\n</code></pre>\n<p>When the application runs, I get</p>\n<pre><code>java.lang.NoClassDefFoundError: Lorg/jboss/vfs/VirtualFile;\n        at java.lang.Class.getDeclaredFields0(Native Method) [rt.jar:1.8.0_345]\n        at java.lang.Class.privateGetDeclaredFields(Class.java:2583) [rt.jar:1.8.0_345]\n        at java.lang.Class.getDeclaredFields(Class.java:1916) [rt.jar:1.8.0_345]\n        at org.openjdk.jol.info.GraphWalker.getAllReferences(GraphWalker.java:128)\n        at org.openjdk.jol.info.GraphWalker.walk(GraphWalker.java:96)\n        at org.openjdk.jol.info.GraphLayout.parseInstance(GraphLayout.java:63)\n        at &lt;myClass&gt; [..]\nCaused by: java.lang.ClassNotFoundException: org.jboss.vfs.VirtualFile from [Module &quot;org.jboss.as.weld.ejb&quot; version 26.1.1.Final from local module loader [..]\n</code></pre>\n<p>It seems the dependency to the vfs module is missing somewhere, but I don't know how and where to configure that.</p>\n<p>Can anyone help me to make this work or propose a different approach, which works for an application as described above?</p>\n<p><strong>Edit 1</strong>: I put org.jboss.vfs in org/jboss/as/weld/ejb module but this only lead to another class not found in infinispan. Besides JOL, I tested two other approaches, but they ended up in the same error. And I tried to use the approach via an agent as decribed <a href=\"https://stackoverflow.com/questions/52353/how-to-determine-the-size-of-an-object-in-java\">in this SO post</a>, but couldn't make it work in combination with WildFly.</p>\n<p><strong>Edit 2</strong>: I saw, that the described problem has to do with using reflection, since using an old approach from <a href=\"https://www.infoworld.com/article/2077408/sizeof-for-java.html\" rel=\"nofollow noreferrer\">Heinz Kabutz</a> led to the very same exception:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: Lorg/jboss/vfs/VirtualFile;\n        at java.lang.Class.getDeclaredFields0(Native Method [rt.jar:1.8.0_345]\n        at java.lang.Class.getDeclaredFields0(Native Method)    [rt.jar:1.8.0_345]\n        at java.lang.Class.privateGetDeclaredFields(Class.java:2583) [rt.jar:1.8.0_345]\n        at java.lang.Class.getDeclaredFields(Class.java:1916) [rt.jar:1.8.0_345]\n        at MemoryCounter._estimate( [..]\n</code></pre>\n"},{"tags":["java","arrays","binary-search"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1686075974,"post_id":76417376,"comment_id":134748831,"body_markdown":"When you find the number, you should stop the binary search. You should then somehow traverse the list to the left and right of the found index to find the first and last occurrences of the found variable because you don&#39;t know if the binary search has found the first, last, or any other occurrence of the number.","body":"When you find the number, you should stop the binary search. You should then somehow traverse the list to the left and right of the found index to find the first and last occurrences of the found variable because you don&#39;t know if the binary search has found the first, last, or any other occurrence of the number."}],"owner":{"account_id":27854525,"reputation":1,"user_id":21268308,"display_name":"KISHORE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686075303,"creation_date":1686075303,"question_id":76417376,"body_markdown":"Actually this is a leetcode problem no \\*\\*34. Find First and Last Position of Element in Sorted Array.\\*\\*In this I code solution in java in vscode.but I can&#39;t able to get expected answer.\r\n\r\n*MY Code:-*\r\n\r\n```\r\nclass OrdAgsBS{\r\n    public static void main(String[] args) {\r\n        int[] ans={-1,-1};\r\n        int[] nums={1,2,3,4,5,3,1};\r\n        int target=3;\r\n     ans[0]=search(nums,target,true);\r\n    ans[1]=search(nums,target,false);\r\n\r\n        for(int ch:ans)\r\n         System.out.print(ch+&quot; &quot;);\r\n\r\n    }\r\n       public static int search(int[] nums,int target,boolean startInd){\r\n             int start=0,end=nums.length-1,ans=-1;\r\n         while(start&lt;=end){\r\n          int mid=start+(end-start)/2;\r\n             if(target&lt;nums[mid])\r\n              end=mid-1;\r\n             else if(target&gt;nums[mid])\r\n              start=mid+1;\r\n             else{\r\n                 ans=mid;\r\n                 if(startInd)\r\n                       end=mid-1;\r\n                 else\r\n                   start=mid+1;\r\n         } \r\n       }\r\n       return ans;\r\n      }\r\n}\r\n```\r\n\r\nIn this above code I builded logic correctly according to my intutive approach.But I expect answer for this will be\r\n\r\n\\[2,5\\].The first index of 3 and last index value of 3.But If i compile above code I get answer \\[2,2\\].I don&#39;t know what is the problem.Can anyone help me to rectify it.","title":"Not getting expected answer on OrderAgnostic Binary Search.Leetcode problem no &quot;34. Find First and Last Position of Element in Sorted Array&quot;","body":"<p>Actually this is a leetcode problem no **34. Find First and Last Position of Element in Sorted Array.**In this I code solution in java in vscode.but I can't able to get expected answer.</p>\n<p><em>MY Code:-</em></p>\n<pre><code>class OrdAgsBS{\n    public static void main(String[] args) {\n        int[] ans={-1,-1};\n        int[] nums={1,2,3,4,5,3,1};\n        int target=3;\n     ans[0]=search(nums,target,true);\n    ans[1]=search(nums,target,false);\n\n        for(int ch:ans)\n         System.out.print(ch+&quot; &quot;);\n\n    }\n       public static int search(int[] nums,int target,boolean startInd){\n             int start=0,end=nums.length-1,ans=-1;\n         while(start&lt;=end){\n          int mid=start+(end-start)/2;\n             if(target&lt;nums[mid])\n              end=mid-1;\n             else if(target&gt;nums[mid])\n              start=mid+1;\n             else{\n                 ans=mid;\n                 if(startInd)\n                       end=mid-1;\n                 else\n                   start=mid+1;\n         } \n       }\n       return ans;\n      }\n}\n</code></pre>\n<p>In this above code I builded logic correctly according to my intutive approach.But I expect answer for this will be</p>\n<p>[2,5].The first index of 3 and last index value of 3.But If i compile above code I get answer [2,2].I don't know what is the problem.Can anyone help me to rectify it.</p>\n"},{"tags":["java","swing","user-interface","layout-manager"],"comments":[{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1363097961,"post_id":15363706,"comment_id":21707218,"body_markdown":"What is your problem exactly? Which space would you like to introduce and causes issues? You can always use `BorderFactory.createEmptyBorder(int, int, int, int)`","body":"What is your problem exactly? Which space would you like to introduce and causes issues? You can always use <code>BorderFactory.createEmptyBorder(int, int, int, int)</code>"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1363098330,"post_id":15363706,"comment_id":21707480,"body_markdown":"@Guillaume Polet not sure, please not attack, are you meaning, to use `EmptyBorder` to avoiding `setPreferredSize`, or to use `EmptyBorder` to avoiding `SpringLayout` with `GridBagLayout` in the `NestedLayout` form , `MigLayout` or ...","body":"@Guillaume Polet not sure, please not attack, are you meaning, to use <code>EmptyBorder</code> to avoiding <code>setPreferredSize</code>, or to use <code>EmptyBorder</code> to avoiding <code>SpringLayout</code> with <code>GridBagLayout</code> in the <code>NestedLayout</code> form , <code>MigLayout</code> or ..."},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1363098775,"post_id":15363706,"comment_id":21707785,"body_markdown":"@mKorbel Empty borders are a very easy (and sometime elegant) solution to properly position components in their container without having to switch to another LayoutManager. If the OP feels comfortable with those LayoutManager&#39;s, empty borders may be a good solution to his actual problems.","body":"@mKorbel Empty borders are a very easy (and sometime elegant) solution to properly position components in their container without having to switch to another LayoutManager. If the OP feels comfortable with those LayoutManager&#39;s, empty borders may be a good solution to his actual problems."}],"answers":[{"tags":[],"owner":{"account_id":2461139,"reputation":4729,"user_id":2145295,"display_name":"Jean Waghetti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363098756,"creation_date":1363098024,"answer_id":15363806,"question_id":15363706,"body_markdown":"The best way is to create a GUI is to code in a way you and others will understand . Take a look at this [Guide to Layout Managers][1]. You can use different layout managers for different components. This will help you setting correct spacing.\r\n\r\nIf your problem is just the spacing around the components, set its [Insets][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Insets.html","title":"How to program this GUI in Java Swing","body":"<p>The best way is to create a GUI is to code in a way you and others will understand . Take a look at this <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow\">Guide to Layout Managers</a>. You can use different layout managers for different components. This will help you setting correct spacing.</p>\n\n<p>If your problem is just the spacing around the components, set its <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Insets.html\" rel=\"nofollow\">Insets</a>.</p>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363098983,"creation_date":1363098983,"answer_id":15364176,"question_id":15363706,"body_markdown":"Here&#39;s how I would arrange your GUI.  This is just one way.  It&#39;s not the only way.\r\n\r\n- The `JTable` goes inside of a `JScrollPane`.\r\n\r\n- `Button2` and `Button3` go inside of a button `JPanel` with a `FlowLayout`.\r\n\r\n- `Label` and `Button1` go inside of a label `JPanel` with a `FlowLayout`.\r\n\r\n- File, Report, and Help are `JMenuItem`s on a `JMenuBar`.\r\n\r\n- The main `JPanel` has a `BoxLayout` with a Y_AXIS orientation.\r\n\r\n- Add the label `JPanel`, the `JScrollPane`, and the button `JPanel` to the main `JPanel`.","title":"How to program this GUI in Java Swing","body":"<p>Here's how I would arrange your GUI.  This is just one way.  It's not the only way.</p>\n\n<ul>\n<li><p>The <code>JTable</code> goes inside of a <code>JScrollPane</code>.</p></li>\n<li><p><code>Button2</code> and <code>Button3</code> go inside of a button <code>JPanel</code> with a <code>FlowLayout</code>.</p></li>\n<li><p><code>Label</code> and <code>Button1</code> go inside of a label <code>JPanel</code> with a <code>FlowLayout</code>.</p></li>\n<li><p>File, Report, and Help are <code>JMenuItem</code>s on a <code>JMenuBar</code>.</p></li>\n<li><p>The main <code>JPanel</code> has a <code>BoxLayout</code> with a Y_AXIS orientation.</p></li>\n<li><p>Add the label <code>JPanel</code>, the <code>JScrollPane</code>, and the button <code>JPanel</code> to the main <code>JPanel</code>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1363099000,"creation_date":1363099000,"answer_id":15364181,"question_id":15363706,"body_markdown":"2 things you can use to make this happen:\r\n\r\n1. Use `BorderFactory.createEmptyBorder(int, int, int, int)`\r\n2. Use the 4-args constructor of `GridLayout`\r\n\r\nThere are other LayoutManager&#39;s which can bring the same functionality (like `GridBagLayout`, or using nested `BorderLayout`), but if you feel comfortable with the current `LayoutManager`&#39;s, there is no imperious need to change to those. The way you did is also acceptable.\r\n\r\n![enter image description here][1]\r\n\r\nYou might consider wrapping the table in a `JScrollPane` to make it nicer, with headers and scrollbars if ever needed.\r\n\r\nSmall example code:\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSeparator;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class GUI extends JFrame {\r\n    \r\n    \tprivate JButton loadFileBtn = new JButton(&quot;Load File&quot;);\r\n    \tprivate JButton generateReportBtn = new JButton(&quot;Generate Report&quot;);\r\n    \tprivate JButton exitBtn = new JButton(&quot;Exit&quot;);\r\n    \tprivate JLabel fileNameLbl = new JLabel(&quot;File Name Here&quot;);\r\n    \tprivate JMenuBar menuBar = new JMenuBar();\r\n    \tprivate JMenu fileMI = new JMenu(&quot;File&quot;);\r\n    \tprivate JMenuItem openFileMenu = new JMenuItem(&quot;Open File&quot;);\r\n    \tprivate JSeparator separator = new JSeparator();\r\n    \tprivate JMenuItem exitMenu = new JMenuItem(&quot;Exit&quot;);\r\n    \tprivate JMenu reportMI = new JMenu(&quot;Report&quot;);\r\n    \tprivate JMenuItem generateReportMenu = new JMenuItem(&quot;Generate Report&quot;);\r\n    \tprivate JMenu helpMI = new JMenu(&quot;Help&quot;);\r\n    \tprivate JMenuItem aboutMenu = new JMenuItem(&quot;About&quot;);\r\n    \tprivate JTable table = new JTable(5, 2);\r\n    \tprivate JPanel mainPanel = new JPanel(new BorderLayout(10, 10));\r\n    \tprivate JPanel panel1 = new JPanel(new BorderLayout());\r\n    \tprivate JPanel panel2 = new JPanel(new GridLayout(1, 2, 10, 10));\r\n    \tprivate JPanel panel3 = new JPanel(new GridLayout(1, 2, 10, 10));\r\n    \r\n    \tpublic GUI() {\r\n    \r\n    \t\tsuper(&quot;Sample GUI&quot;);\r\n    \r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetSize(new Dimension(300, 300));\r\n    \t\tsetResizable(false);\r\n    \r\n    \t\tsetLayout(new BorderLayout(10, 10));\r\n    \r\n    \t\tfileMI.add(openFileMenu);\r\n    \t\tfileMI.add(separator);\r\n    \t\tfileMI.add(exitMenu);\r\n    \r\n    \t\treportMI.add(generateReportMenu);\r\n    \r\n    \t\thelpMI.add(aboutMenu);\r\n    \r\n    \t\tmenuBar.add(fileMI);\r\n    \t\tmenuBar.add(reportMI);\r\n    \t\tmenuBar.add(helpMI);\r\n    \r\n    \t\tsetJMenuBar(menuBar);\r\n    \r\n    \t\tpanel1.add(table, BorderLayout.CENTER);\r\n    \r\n    \t\tpanel2.add(fileNameLbl);\r\n    \t\tpanel2.add(loadFileBtn);\r\n    \r\n    \t\tpanel3.add(generateReportBtn);\r\n    \t\tpanel3.add(exitBtn);\r\n    \r\n    \t\tmainPanel.add(panel2, BorderLayout.NORTH);\r\n    \t\tmainPanel.add(panel1, BorderLayout.CENTER);\r\n    \t\tmainPanel.add(panel3, BorderLayout.SOUTH);\r\n    \t\tmainPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n    \t\tadd(mainPanel);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tGUI app = new GUI();\r\n    \t\t\t\tapp.setVisible(true);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/w2Ky3.png","title":"How to program this GUI in Java Swing","body":"<p>2 things you can use to make this happen:</p>\n\n<ol>\n<li>Use <code>BorderFactory.createEmptyBorder(int, int, int, int)</code></li>\n<li>Use the 4-args constructor of <code>GridLayout</code></li>\n</ol>\n\n<p>There are other LayoutManager's which can bring the same functionality (like <code>GridBagLayout</code>, or using nested <code>BorderLayout</code>), but if you feel comfortable with the current <code>LayoutManager</code>'s, there is no imperious need to change to those. The way you did is also acceptable.</p>\n\n<p><img src=\"https://i.stack.imgur.com/w2Ky3.png\" alt=\"enter image description here\"></p>\n\n<p>You might consider wrapping the table in a <code>JScrollPane</code> to make it nicer, with headers and scrollbars if ever needed.</p>\n\n<p>Small example code:</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JSeparator;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\n\npublic class GUI extends JFrame {\n\n    private JButton loadFileBtn = new JButton(\"Load File\");\n    private JButton generateReportBtn = new JButton(\"Generate Report\");\n    private JButton exitBtn = new JButton(\"Exit\");\n    private JLabel fileNameLbl = new JLabel(\"File Name Here\");\n    private JMenuBar menuBar = new JMenuBar();\n    private JMenu fileMI = new JMenu(\"File\");\n    private JMenuItem openFileMenu = new JMenuItem(\"Open File\");\n    private JSeparator separator = new JSeparator();\n    private JMenuItem exitMenu = new JMenuItem(\"Exit\");\n    private JMenu reportMI = new JMenu(\"Report\");\n    private JMenuItem generateReportMenu = new JMenuItem(\"Generate Report\");\n    private JMenu helpMI = new JMenu(\"Help\");\n    private JMenuItem aboutMenu = new JMenuItem(\"About\");\n    private JTable table = new JTable(5, 2);\n    private JPanel mainPanel = new JPanel(new BorderLayout(10, 10));\n    private JPanel panel1 = new JPanel(new BorderLayout());\n    private JPanel panel2 = new JPanel(new GridLayout(1, 2, 10, 10));\n    private JPanel panel3 = new JPanel(new GridLayout(1, 2, 10, 10));\n\n    public GUI() {\n\n        super(\"Sample GUI\");\n\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(new Dimension(300, 300));\n        setResizable(false);\n\n        setLayout(new BorderLayout(10, 10));\n\n        fileMI.add(openFileMenu);\n        fileMI.add(separator);\n        fileMI.add(exitMenu);\n\n        reportMI.add(generateReportMenu);\n\n        helpMI.add(aboutMenu);\n\n        menuBar.add(fileMI);\n        menuBar.add(reportMI);\n        menuBar.add(helpMI);\n\n        setJMenuBar(menuBar);\n\n        panel1.add(table, BorderLayout.CENTER);\n\n        panel2.add(fileNameLbl);\n        panel2.add(loadFileBtn);\n\n        panel3.add(generateReportBtn);\n        panel3.add(exitBtn);\n\n        mainPanel.add(panel2, BorderLayout.NORTH);\n        mainPanel.add(panel1, BorderLayout.CENTER);\n        mainPanel.add(panel3, BorderLayout.SOUTH);\n        mainPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        add(mainPanel);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                GUI app = new GUI();\n                app.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":909310,"reputation":189,"user_id":943528,"accept_rate":85,"display_name":"DaveQuinn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6957,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1691789764,"accepted_answer_id":15364181,"answer_count":3,"score":3,"last_activity_date":1686075267,"creation_date":1363097757,"question_id":15363706,"body_markdown":"I&#39;m currently developing a small utility with the following GUI:\r\n\r\n![Sample GUI][1]\r\n\r\nRight now i have a container (JPanel) with the BorderLayout layout that holds everything in place. The i have another 2 JPanels placed on BorderLayout.NORTH and BorderLayout.SOUTH respectively, each whith the GridLayout (2 columns by 1 row). The table is on the main container placed at the CENTER of it.\r\n\r\nDo you think this is the best approach? I&#39;m having a rough time dealing with spacing between the components and the borders of the frame.\r\n\r\nRight now i have this code:\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSeparator;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class GUI extends JFrame {\r\n    \r\n        private JButton loadFileBtn = new JButton(&quot;Load File&quot;);\r\n        private JButton generateReportBtn = new JButton(&quot;Generate Report&quot;);\r\n        private JButton exitBtn = new JButton(&quot;Exit&quot;);\r\n        private JLabel fileNameLbl = new JLabel(&quot;File Name Here&quot;);\r\n        private JMenuBar menuBar = new JMenuBar();\r\n        private JMenu fileMI = new JMenu(&quot;File&quot;);\r\n        private JMenuItem openFileMenu = new JMenuItem(&quot;Open File&quot;);\r\n        private JSeparator separator = new JSeparator();\r\n        private JMenuItem exitMenu = new JMenuItem(&quot;Exit&quot;);\r\n        private JMenu reportMI = new JMenu(&quot;Report&quot;);\r\n        private JMenuItem generateReportMenu = new JMenuItem(&quot;Generate Report&quot;);\r\n        private JMenu helpMI = new JMenu(&quot;Help&quot;);\r\n        private JMenuItem aboutMenu = new JMenuItem(&quot;About&quot;);\r\n        private JTable table = new JTable(5, 2);\r\n        private JPanel mainPanel = new JPanel(new BorderLayout(10, 10));\r\n        private JPanel panel1 = new JPanel(new BorderLayout());\r\n        private JPanel panel2 = new JPanel(new GridLayout(1, 2));\r\n        private JPanel panel3 = new JPanel(new GridLayout(1, 2));\r\n    \r\n        public GUI() {\r\n    \r\n            super(&quot;Sample GUI&quot;);\r\n    \r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setSize(new Dimension(300, 300));\r\n            setResizable(false);\r\n    \r\n            setLayout(new BorderLayout(10, 10));\r\n    \r\n            fileMI.add(openFileMenu);\r\n            fileMI.add(separator);\r\n            fileMI.add(exitMenu);\r\n    \r\n            reportMI.add(generateReportMenu);\r\n    \r\n            helpMI.add(aboutMenu);\r\n    \r\n            menuBar.add(fileMI);\r\n            menuBar.add(reportMI);\r\n            menuBar.add(helpMI);\r\n    \r\n            setJMenuBar(menuBar);\r\n    \r\n            panel1.add(table, BorderLayout.CENTER);\r\n    \r\n            panel2.add(fileNameLbl);\r\n            panel2.add(loadFileBtn);\r\n    \r\n            panel3.add(generateReportBtn);\r\n            panel3.add(exitBtn);\r\n    \r\n            mainPanel.add(panel2, BorderLayout.NORTH);\r\n            mainPanel.add(panel1, BorderLayout.CENTER);\r\n            mainPanel.add(panel3, BorderLayout.SOUTH);\r\n    \r\n            add(mainPanel);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    GUI app = new GUI();\r\n                    app.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nWhat do you think would be the best approach to do this?\r\n\r\nAny help would be appreciated. Thanks.\r\n\r\n&lt;br/&gt;\r\n**UPDATE:**\r\n\r\n\r\nRight now, i have the following GUI\r\n\r\n![enter image description here][2]\r\n\r\nI want the components to space away from the borders evenly, like in the mockup.\r\n \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Y7py2.png\r\n  [2]: http://i.stack.imgur.com/1mlJt.png","title":"How to program this GUI in Java Swing","body":"<p>I'm currently developing a small utility with the following GUI:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Y7py2.png\" alt=\"Sample GUI\"></p>\n\n<p>Right now i have a container (JPanel) with the BorderLayout layout that holds everything in place. The i have another 2 JPanels placed on BorderLayout.NORTH and BorderLayout.SOUTH respectively, each whith the GridLayout (2 columns by 1 row). The table is on the main container placed at the CENTER of it.</p>\n\n<p>Do you think this is the best approach? I'm having a rough time dealing with spacing between the components and the borders of the frame.</p>\n\n<p>Right now i have this code:</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JSeparator;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\n\npublic class GUI extends JFrame {\n\n    private JButton loadFileBtn = new JButton(\"Load File\");\n    private JButton generateReportBtn = new JButton(\"Generate Report\");\n    private JButton exitBtn = new JButton(\"Exit\");\n    private JLabel fileNameLbl = new JLabel(\"File Name Here\");\n    private JMenuBar menuBar = new JMenuBar();\n    private JMenu fileMI = new JMenu(\"File\");\n    private JMenuItem openFileMenu = new JMenuItem(\"Open File\");\n    private JSeparator separator = new JSeparator();\n    private JMenuItem exitMenu = new JMenuItem(\"Exit\");\n    private JMenu reportMI = new JMenu(\"Report\");\n    private JMenuItem generateReportMenu = new JMenuItem(\"Generate Report\");\n    private JMenu helpMI = new JMenu(\"Help\");\n    private JMenuItem aboutMenu = new JMenuItem(\"About\");\n    private JTable table = new JTable(5, 2);\n    private JPanel mainPanel = new JPanel(new BorderLayout(10, 10));\n    private JPanel panel1 = new JPanel(new BorderLayout());\n    private JPanel panel2 = new JPanel(new GridLayout(1, 2));\n    private JPanel panel3 = new JPanel(new GridLayout(1, 2));\n\n    public GUI() {\n\n        super(\"Sample GUI\");\n\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(new Dimension(300, 300));\n        setResizable(false);\n\n        setLayout(new BorderLayout(10, 10));\n\n        fileMI.add(openFileMenu);\n        fileMI.add(separator);\n        fileMI.add(exitMenu);\n\n        reportMI.add(generateReportMenu);\n\n        helpMI.add(aboutMenu);\n\n        menuBar.add(fileMI);\n        menuBar.add(reportMI);\n        menuBar.add(helpMI);\n\n        setJMenuBar(menuBar);\n\n        panel1.add(table, BorderLayout.CENTER);\n\n        panel2.add(fileNameLbl);\n        panel2.add(loadFileBtn);\n\n        panel3.add(generateReportBtn);\n        panel3.add(exitBtn);\n\n        mainPanel.add(panel2, BorderLayout.NORTH);\n        mainPanel.add(panel1, BorderLayout.CENTER);\n        mainPanel.add(panel3, BorderLayout.SOUTH);\n\n        add(mainPanel);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                GUI app = new GUI();\n                app.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>What do you think would be the best approach to do this?</p>\n\n<p>Any help would be appreciated. Thanks.</p>\n\n<p><br/>\n<strong>UPDATE:</strong></p>\n\n<p>Right now, i have the following GUI</p>\n\n<p><img src=\"https://i.stack.imgur.com/1mlJt.png\" alt=\"enter image description here\"></p>\n\n<p>I want the components to space away from the borders evenly, like in the mockup.</p>\n"},{"tags":["java","elasticsearch","opensearch","amazon-opensearch","resthighlevelclient"],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686075221,"creation_date":1686075221,"question_id":76417368,"body_markdown":"I am using the java high level rest client to construct and perform a search on my opensearch index. The query is a knn query with a few postfilter filters. I have built the query using XContentBuilder. I have converted the query to a string and run it on the opensearch dashboard and it works perfectly fine. I would like to know how do I use this XContentBuilder to perform a search programmatically? Is there a way to convert it to SearchSourceBuilder? Appreciate any help. Thanks!\r\n\r\nThis example on the opensearch website is similar to how my query looks like:\r\n\r\n```\r\n{\r\n  &quot;size&quot;: 2,\r\n  &quot;query&quot;: {\r\n    &quot;knn&quot;: {\r\n      &quot;my_vector2&quot;: {\r\n        &quot;vector&quot;: [2, 3, 5, 6],\r\n        &quot;k&quot;: 2\r\n      }\r\n    }\r\n  },\r\n  &quot;post_filter&quot;: {\r\n    &quot;range&quot;: {\r\n      &quot;price&quot;: {\r\n        &quot;gte&quot;: 5,\r\n        &quot;lte&quot;: 10\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"Construct search request from XContentBuilder (Elasticsearch/Opensearch)","body":"<p>I am using the java high level rest client to construct and perform a search on my opensearch index. The query is a knn query with a few postfilter filters. I have built the query using XContentBuilder. I have converted the query to a string and run it on the opensearch dashboard and it works perfectly fine. I would like to know how do I use this XContentBuilder to perform a search programmatically? Is there a way to convert it to SearchSourceBuilder? Appreciate any help. Thanks!</p>\n<p>This example on the opensearch website is similar to how my query looks like:</p>\n<pre><code>{\n  &quot;size&quot;: 2,\n  &quot;query&quot;: {\n    &quot;knn&quot;: {\n      &quot;my_vector2&quot;: {\n        &quot;vector&quot;: [2, 3, 5, 6],\n        &quot;k&quot;: 2\n      }\n    }\n  },\n  &quot;post_filter&quot;: {\n    &quot;range&quot;: {\n      &quot;price&quot;: {\n        &quot;gte&quot;: 5,\n        &quot;lte&quot;: 10\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","windows","winsw"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677504251,"post_id":75580185,"comment_id":133344653,"body_markdown":"Are you aware that on some platforms the java command has a flag -d32 or -d64 . Aside that, in Windows, there is a console on the start menu for running services. It may been installed but I don&#39;t see any command to start it. Type &quot;services&quot; into the start menu search bar.","body":"Are you aware that on some platforms the java command has a flag -d32 or -d64 . Aside that, in Windows, there is a console on the start menu for running services. It may been installed but I don&#39;t see any command to start it. Type &quot;services&quot; into the start menu search bar."},{"owner":{"account_id":13200526,"reputation":75,"user_id":9533915,"display_name":"Ganesh Shinde"},"score":0,"creation_date":1677513881,"post_id":75580185,"comment_id":133348066,"body_markdown":"I am running this in a nanoserver container, there is no UI. anyway I have found a workaround, can use %BASE% to get to jar file.","body":"I am running this in a nanoserver container, there is no UI. anyway I have found a workaround, can use %BASE% to get to jar file."}],"answers":[{"tags":[],"owner":{"account_id":28767005,"reputation":1,"user_id":22031680,"display_name":"Fiso Nleya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686075180,"creation_date":1686075180,"answer_id":76417360,"question_id":75580185,"body_markdown":"\r\n&lt;service&gt;\r\n\r\n  &lt;executable&gt;java&lt;/executable&gt;\r\n  &lt;arguments&gt;-jar myjar.jar &quot;.&quot;&lt;/arguments&gt;\r\n\r\n&lt;/service&gt;\r\n\r\n\r\n- Add &quot;.&quot; if the .properties file is in the same folder as WinSW-x64.exe or else specify the path of your config file in the quotation marks\r\n- Specify the command in the &quot;arguments&quot; tag","title":"How to use environment variable into winsw xml configuration?","body":"\n<p>java\n-jar myjar.jar &quot;.&quot;</p>\n\n<ul>\n<li>Add &quot;.&quot; if the .properties file is in the same folder as WinSW-x64.exe or else specify the path of your config file in the quotation marks</li>\n<li>Specify the command in the &quot;arguments&quot; tag</li>\n</ul>\n"}],"owner":{"account_id":13200526,"reputation":75,"user_id":9533915,"display_name":"Ganesh Shinde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686075180,"creation_date":1677499049,"question_id":75580185,"body_markdown":"I have exposed SGW_HOME variable on windows nanoserver and trying to use it in the xml file \r\n\r\n```\r\n&lt;service&gt;\r\n\r\n  &lt;!-- ID of the service. It should be unique across the Windows system--&gt;\r\n  &lt;id&gt;SGWJavaService&lt;/id&gt;\r\n  &lt;name&gt;SGWJavaService&lt;/name&gt;\r\n  &lt;description&gt;SGW Java service&lt;/description&gt;\r\n  &lt;env name=&quot;SGW_HOME&quot; value=&quot;%SGW_HOME%&quot;/&gt;\r\n  &lt;!-- Path to the executable, which should be started --&gt;\r\n  &lt;!-- CAUTION: Don&#39;t put arguments here. Use &lt;arguments&gt; instead. --&gt;\r\n  &lt;executable&gt;java&lt;/executable&gt;\r\n  &lt;arguments&gt;-jar %SGW_HOME%\\\\lib\\\\mgmt-node-1.0.0.jar&lt;/arguments&gt;\r\n&lt;/service&gt;\r\n```\r\nI can create service with command\r\n```\r\nWinSW-x64.exe install sgw.xml\r\n```\r\nbut service failed to start \r\n```\r\nC:\\program-files&gt;sc query SGWJavaService\r\n\r\nSERVICE_NAME: SGWJavaService\r\n        TYPE               : 10  WIN32_OWN_PROCESS\r\n        STATE              : 1  STOPPED\r\n        WIN32_EXIT_CODE    : 1067  (0x42b)\r\n        SERVICE_EXIT_CODE  : 0  (0x0)\r\n        CHECKPOINT         : 0x0\r\n        WAIT_HINT          : 0x0\r\n\r\nC:\\program-files&gt;\r\n```\r\nHow do I use env variable into xml file? ","title":"How to use environment variable into winsw xml configuration?","body":"<p>I have exposed SGW_HOME variable on windows nanoserver and trying to use it in the xml file</p>\n<pre><code>&lt;service&gt;\n\n  &lt;!-- ID of the service. It should be unique across the Windows system--&gt;\n  &lt;id&gt;SGWJavaService&lt;/id&gt;\n  &lt;name&gt;SGWJavaService&lt;/name&gt;\n  &lt;description&gt;SGW Java service&lt;/description&gt;\n  &lt;env name=&quot;SGW_HOME&quot; value=&quot;%SGW_HOME%&quot;/&gt;\n  &lt;!-- Path to the executable, which should be started --&gt;\n  &lt;!-- CAUTION: Don't put arguments here. Use &lt;arguments&gt; instead. --&gt;\n  &lt;executable&gt;java&lt;/executable&gt;\n  &lt;arguments&gt;-jar %SGW_HOME%\\\\lib\\\\mgmt-node-1.0.0.jar&lt;/arguments&gt;\n&lt;/service&gt;\n</code></pre>\n<p>I can create service with command</p>\n<pre><code>WinSW-x64.exe install sgw.xml\n</code></pre>\n<p>but service failed to start</p>\n<pre><code>C:\\program-files&gt;sc query SGWJavaService\n\nSERVICE_NAME: SGWJavaService\n        TYPE               : 10  WIN32_OWN_PROCESS\n        STATE              : 1  STOPPED\n        WIN32_EXIT_CODE    : 1067  (0x42b)\n        SERVICE_EXIT_CODE  : 0  (0x0)\n        CHECKPOINT         : 0x0\n        WAIT_HINT          : 0x0\n\nC:\\program-files&gt;\n</code></pre>\n<p>How do I use env variable into xml file?</p>\n"},{"tags":["java","maven","swagger"],"answers":[{"tags":[],"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686074401,"creation_date":1686074401,"answer_id":76417272,"question_id":76416833,"body_markdown":"This is because matrix parameters are URL path parameters, and path parameters [are always required](https://spec.openapis.org/oas/latest.html#parameterRequired) according to the OpenAPI Specification.\r\n\r\nTo have an optional path parameter, you&#39;ll have to [define 2 paths](https://stackoverflow.com/a/65335044/113116) - one with and one without that parameter.\r\n\r\n&lt;br/&gt;\r\n\r\nOther parameter types - query, header, cookie, and form parameters - can be either required and optional.","title":"Why are Matrix parameters always generated as required by Swagger / OpenAPI plugin?","body":"<p>This is because matrix parameters are URL path parameters, and path parameters <a href=\"https://spec.openapis.org/oas/latest.html#parameterRequired\" rel=\"nofollow noreferrer\">are always required</a> according to the OpenAPI Specification.</p>\n<p>To have an optional path parameter, you'll have to <a href=\"https://stackoverflow.com/a/65335044/113116\">define 2 paths</a> - one with and one without that parameter.</p>\n<br/>\n<p>Other parameter types - query, header, cookie, and form parameters - can be either required and optional.</p>\n"}],"owner":{"account_id":168550,"reputation":1164,"user_id":394071,"accept_rate":53,"display_name":"eerriicc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76417272,"answer_count":1,"score":1,"last_activity_date":1686074401,"creation_date":1686070388,"question_id":76416833,"body_markdown":"In our Java code, we annotate our REST endpoints with Swagger annotations to document them. However, regardless whethere a Matrix parameter is configured as required or not, it is generated in the `openapi.yaml` as `required`.\r\n\r\nHere&#39;s the parameter in Java:\r\n\r\n      @Parameter(required = false, allowEmptyValue = false)\r\n      @MatrixParam(&quot;fristId&quot;) final Integer fristId\r\n\r\nWe use the Maven plugin `io.openapitools.swagger:swagger-maven-plugin:2.1.6` which generates the following:\r\n\r\n          parameters:\r\n          - name: fristId\r\n            in: path\r\n            required: true\r\n            style: matrix\r\n            schema:\r\n              type: integer\r\n              format: int32\r\n\r\nAm I doing something wrong? Is this a bug in the plugin? Any help is greatly appreciated!","title":"Why are Matrix parameters always generated as required by Swagger / OpenAPI plugin?","body":"<p>In our Java code, we annotate our REST endpoints with Swagger annotations to document them. However, regardless whethere a Matrix parameter is configured as required or not, it is generated in the <code>openapi.yaml</code> as <code>required</code>.</p>\n<p>Here's the parameter in Java:</p>\n<pre><code>  @Parameter(required = false, allowEmptyValue = false)\n  @MatrixParam(&quot;fristId&quot;) final Integer fristId\n</code></pre>\n<p>We use the Maven plugin <code>io.openapitools.swagger:swagger-maven-plugin:2.1.6</code> which generates the following:</p>\n<pre><code>      parameters:\n      - name: fristId\n        in: path\n        required: true\n        style: matrix\n        schema:\n          type: integer\n          format: int32\n</code></pre>\n<p>Am I doing something wrong? Is this a bug in the plugin? Any help is greatly appreciated!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686073322,"creation_date":1686073322,"answer_id":76417158,"question_id":76416332,"body_markdown":"You already have a contract established with the other party in the interface:\r\n``` lang-java\r\n    void execute(Map&lt;String, ?&gt; someArgPairs);\r\n```\r\n`someArgPairs` is actually a map of variable names to values. Instead of magically injected variables use that map.\r\n","title":"what is the best practice to inject variables into a java class method","body":"<p>You already have a contract established with the other party in the interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    void execute(Map&lt;String, ?&gt; someArgPairs);\n</code></pre>\n<p><code>someArgPairs</code> is actually a map of variable names to values. Instead of magically injected variables use that map.</p>\n"}],"owner":{"account_id":28725993,"reputation":21,"user_id":21998803,"display_name":"谢良基"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686073322,"creation_date":1686066468,"question_id":76416332,"body_markdown":"i want to dynamic run some java source code which post from remoting.\r\nnow, my solution:\r\n1. compile the source code with `JavaCompiler`  \r\n2. load the class with `URLClassLoader`\r\n3. invoke the target _**method**_ (which is my pre-defined interface)\r\n\r\nthe following is my sample code.\r\n\r\n```java\r\npackage com.pkg;\r\n\r\n// Pre-defined interface\r\npublic interface Executor {\r\n    void execute(Map&lt;String, ?&gt; someArgPairs);\r\n}\r\n```\r\n```java\r\n// source code received from remoting\r\n\r\n// imports block\r\nimport com.pkg.Executor;\r\nimport ...;\r\n\r\npublic class WhateverExecutor implements Executor {\r\n    @Override\r\n    public void execute(Map&lt;String, ?&gt; someArgPairs) {\r\n        // do something with &lt;someArgParis&gt;\r\n    }\r\n\r\n}\r\n```\r\n```java\r\n// imports block\r\nimport ...;\r\n\r\n// main\r\npublic class SampleEntry {\r\n    public static void main(String... args) {\r\n        // 0. define map argument - the interface method need\r\n        var someArgPairs = new HashMap&lt;&gt;();\r\n\r\n        // 1. compile - compile the code, and generate a local .class file\r\n        JavaCompiler compiler = ...;\r\n        \r\n        // 2. load - load the class from the local .class file\r\n        URLClassLoader loader = ...;\r\n        Class&lt;?&gt; clazz = loader.load(className); // assume the class name correct.\r\n\r\n        // 3. call - invoke the interface&#39;s method\r\n        Method method = clazz.getMethod(&quot;execute&quot;, Map.class);\r\n        method.invoke(clazz.getDeclaredConstructor().newInstance(), someArgPairs);\r\n        \r\n        // more ...\r\n    }\r\n}\r\n```\r\n\r\nyou see, i need define the interface `Executor` firstly, then force remote guys implements it.\r\n\r\nnow, i wanna know that, is there some tech that can allow me to inject a variable into the method.\r\nwith this, the remote guy and i just reach an agreement that within the context of execution, he/she can use pre-named variables.\r\n\r\nlike:\r\n```java\r\n// source code from remote\r\npublic class FreedomClassName {\r\n    public void freedomMethod() {\r\n        System.out.println(namedVar);  // namedVar will be injected \r\n    }\r\n}\r\n```\r\nwith code above, i just need invoke the specified method with reflection, he/she be free.\r\n\r\nAny one can help?\r\n\r\n\r\n**the best practice to inject a `named variable` into method without parameter declaration** (like lombok generate a `log` for the annotated class)\r\n\r\n","title":"what is the best practice to inject variables into a java class method","body":"<p>i want to dynamic run some java source code which post from remoting.\nnow, my solution:</p>\n<ol>\n<li>compile the source code with <code>JavaCompiler</code></li>\n<li>load the class with <code>URLClassLoader</code></li>\n<li>invoke the target <em><strong>method</strong></em> (which is my pre-defined interface)</li>\n</ol>\n<p>the following is my sample code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.pkg;\n\n// Pre-defined interface\npublic interface Executor {\n    void execute(Map&lt;String, ?&gt; someArgPairs);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// source code received from remoting\n\n// imports block\nimport com.pkg.Executor;\nimport ...;\n\npublic class WhateverExecutor implements Executor {\n    @Override\n    public void execute(Map&lt;String, ?&gt; someArgPairs) {\n        // do something with &lt;someArgParis&gt;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// imports block\nimport ...;\n\n// main\npublic class SampleEntry {\n    public static void main(String... args) {\n        // 0. define map argument - the interface method need\n        var someArgPairs = new HashMap&lt;&gt;();\n\n        // 1. compile - compile the code, and generate a local .class file\n        JavaCompiler compiler = ...;\n        \n        // 2. load - load the class from the local .class file\n        URLClassLoader loader = ...;\n        Class&lt;?&gt; clazz = loader.load(className); // assume the class name correct.\n\n        // 3. call - invoke the interface's method\n        Method method = clazz.getMethod(&quot;execute&quot;, Map.class);\n        method.invoke(clazz.getDeclaredConstructor().newInstance(), someArgPairs);\n        \n        // more ...\n    }\n}\n</code></pre>\n<p>you see, i need define the interface <code>Executor</code> firstly, then force remote guys implements it.</p>\n<p>now, i wanna know that, is there some tech that can allow me to inject a variable into the method.\nwith this, the remote guy and i just reach an agreement that within the context of execution, he/she can use pre-named variables.</p>\n<p>like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// source code from remote\npublic class FreedomClassName {\n    public void freedomMethod() {\n        System.out.println(namedVar);  // namedVar will be injected \n    }\n}\n</code></pre>\n<p>with code above, i just need invoke the specified method with reflection, he/she be free.</p>\n<p>Any one can help?</p>\n<p><strong>the best practice to inject a <code>named variable</code> into method without parameter declaration</strong> (like lombok generate a <code>log</code> for the annotated class)</p>\n"},{"tags":["java","multithreading","thread-local"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1347630164,"creation_date":1347626864,"answer_id":12424895,"question_id":12424838,"body_markdown":"`set` always replaces the old value.\r\n\r\nThis is true for\r\n\r\n- Calendar.set() and Date.set()\r\n- BitSet.set()\r\n- List.set()\r\n- setters\r\n\r\n&gt; You mean without remove it will not be GCed?\r\n\r\nIt will not be removed until the thread dies.  It won&#39;t disappear on you without you calling  remove() \r\n\r\nWhether this is a memory leak or not depends on your program.  You would have to create lots of threads with large thread local objects which you didn&#39;t need for some reason for it to matter. e.g. 1000 threads with a 1 KB object could waste up to 1 MB, but this suggest a design issue if you are doing this sort of thing.\r\n\r\n---\r\n\r\nThe only place you might get a memory leak is.\r\n\r\n    for (int i = 0; ; i++) {\r\n        // don&#39;t subclass Thread.\r\n        new Thread() {\r\n            // this is somewhat pointless as you are defining a ThreadLocal per thread.\r\n            final ThreadLocal&lt;Object&gt; tlObject = new ThreadLocal&lt;Object&gt;() {\r\n            };\r\n\r\n            public void run() {\r\n                tlObject.set(new byte[8 * 1024 * 1024]);\r\n            }\r\n        }.start();\r\n        Thread.sleep(1);\r\n        if (i % 1000 == 0) {\r\n            System.gc();\r\n            System.out.println(i);\r\n        }\r\n    }\r\n\r\nwith `-verbosegc` prints.\r\n\r\n    [Full GC 213548K-&gt;49484K(3832192K), 0.0334194 secs]\r\n    39000\r\n    [GC 2786060K-&gt;82412K(3836864K), 0.0132035 secs]\r\n    [GC 2815569K-&gt;107052K(3836544K), 0.0212252 secs]\r\n    [GC 2836162K-&gt;131628K(3837824K), 0.0199268 secs]\r\n    [GC 2867613K-&gt;156204K(3837568K), 0.0209828 secs]\r\n    [GC 2886894K-&gt;180780K(3838272K), 0.0191244 secs]\r\n    [GC 2911942K-&gt;205356K(3838080K), 0.0187482 secs]\r\n    [GC 421535K-&gt;229932K(3838208K), 0.0192605 secs]\r\n    [Full GC 229932K-&gt;49484K(3838208K), 0.0344509 secs]\r\n    40000\r\n\r\nNote: the size after a full GC is the same `49484K`\r\n\r\nIn the above case you will have a ThreadLocal which refers to the Thread which refers to the ThreadLocal. However, as the Thread is dead it doesn&#39;t cause a memory leak becasue it becomes a regard object i.e. when A -&gt; B and B -&gt; A\r\n   \r\nI ran the above example in a loop for a couple of minutes and the GC levels moved around alot but the minimum size was still small.\r\n","title":"Threadlocal remove?","body":"<p><code>set</code> always replaces the old value.</p>\n\n<p>This is true for</p>\n\n<ul>\n<li>Calendar.set() and Date.set()</li>\n<li>BitSet.set()</li>\n<li>List.set()</li>\n<li>setters</li>\n</ul>\n\n<blockquote>\n  <p>You mean without remove it will not be GCed?</p>\n</blockquote>\n\n<p>It will not be removed until the thread dies.  It won't disappear on you without you calling  remove() </p>\n\n<p>Whether this is a memory leak or not depends on your program.  You would have to create lots of threads with large thread local objects which you didn't need for some reason for it to matter. e.g. 1000 threads with a 1 KB object could waste up to 1 MB, but this suggest a design issue if you are doing this sort of thing.</p>\n\n<hr>\n\n<p>The only place you might get a memory leak is.</p>\n\n<pre><code>for (int i = 0; ; i++) {\n    // don't subclass Thread.\n    new Thread() {\n        // this is somewhat pointless as you are defining a ThreadLocal per thread.\n        final ThreadLocal&lt;Object&gt; tlObject = new ThreadLocal&lt;Object&gt;() {\n        };\n\n        public void run() {\n            tlObject.set(new byte[8 * 1024 * 1024]);\n        }\n    }.start();\n    Thread.sleep(1);\n    if (i % 1000 == 0) {\n        System.gc();\n        System.out.println(i);\n    }\n}\n</code></pre>\n\n<p>with <code>-verbosegc</code> prints.</p>\n\n<pre><code>[Full GC 213548K-&gt;49484K(3832192K), 0.0334194 secs]\n39000\n[GC 2786060K-&gt;82412K(3836864K), 0.0132035 secs]\n[GC 2815569K-&gt;107052K(3836544K), 0.0212252 secs]\n[GC 2836162K-&gt;131628K(3837824K), 0.0199268 secs]\n[GC 2867613K-&gt;156204K(3837568K), 0.0209828 secs]\n[GC 2886894K-&gt;180780K(3838272K), 0.0191244 secs]\n[GC 2911942K-&gt;205356K(3838080K), 0.0187482 secs]\n[GC 421535K-&gt;229932K(3838208K), 0.0192605 secs]\n[Full GC 229932K-&gt;49484K(3838208K), 0.0344509 secs]\n40000\n</code></pre>\n\n<p>Note: the size after a full GC is the same <code>49484K</code></p>\n\n<p>In the above case you will have a ThreadLocal which refers to the Thread which refers to the ThreadLocal. However, as the Thread is dead it doesn't cause a memory leak becasue it becomes a regard object i.e. when A -> B and B -> A</p>\n\n<p>I ran the above example in a loop for a couple of minutes and the GC levels moved around alot but the minimum size was still small.</p>\n"},{"tags":[],"owner":{"account_id":58318,"reputation":62072,"user_id":174614,"accept_rate":80,"display_name":"Tony The Lion"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1347626921,"creation_date":1347626921,"answer_id":12424916,"question_id":12424838,"body_markdown":"`set`: Sets the current thread&#39;s copy of this thread-local variable to the specified value.\r\n\r\nMeaning whatever was in that memory location, will now be overwritten by what you passed through `set`","title":"Threadlocal remove?","body":"<p><code>set</code>: Sets the current thread's copy of this thread-local variable to the specified value.</p>\n\n<p>Meaning whatever was in that memory location, will now be overwritten by what you passed through <code>set</code></p>\n"},{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1347630206,"creation_date":1347626945,"answer_id":12424925,"question_id":12424838,"body_markdown":"Because `ThreadLocal` has `Map` of `currentThread` and `value`, Now if you don&#39;t remove the value in the thread which was using it then it will create a memory leak.\r\n\r\n&gt;You should always call **remove** because **ThreadLocal** class puts values  from the **Thread** Class defined by  **ThreadLocal.Values localValues;** This will also cause to hold reference of Thread and associated objects.\r\n\r\nFrom the source code of `ThreadLocal`\r\n&gt; **the value will be set to null and the underlying entry will still be present.**\r\n\r\n","title":"Threadlocal remove?","body":"<p>Because <code>ThreadLocal</code> has <code>Map</code> of <code>currentThread</code> and <code>value</code>, Now if you don't remove the value in the thread which was using it then it will create a memory leak.</p>\n\n<blockquote>\n  <p>You should always call <strong>remove</strong> because <strong>ThreadLocal</strong> class puts values  from the <strong>Thread</strong> Class defined by  <strong>ThreadLocal.Values localValues;</strong> This will also cause to hold reference of Thread and associated objects.</p>\n</blockquote>\n\n<p>From the source code of <code>ThreadLocal</code></p>\n\n<blockquote>\n  <p><strong>the value will be set to null and the underlying entry will still be present.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1347627948,"creation_date":1347627023,"answer_id":12424945,"question_id":12424838,"body_markdown":"If the variable you&#39;re trying to `remove` will be always `set` in next executions of the thread, I wouldn&#39;t worry about removing it. `set` will overwrite its value. \r\n\r\nBut if you&#39;re setting that variable only in some circusmtances (for instance, when treating only a specific kind of requests), removing it might be convenient so that it doesn&#39;t stay around when, for instance, the thread is put back into the pool.","title":"Threadlocal remove?","body":"<p>If the variable you're trying to <code>remove</code> will be always <code>set</code> in next executions of the thread, I wouldn't worry about removing it. <code>set</code> will overwrite its value. </p>\n\n<p>But if you're setting that variable only in some circusmtances (for instance, when treating only a specific kind of requests), removing it might be convenient so that it doesn't stay around when, for instance, the thread is put back into the pool.</p>\n"},{"tags":[],"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347628599,"creation_date":1347628599,"answer_id":12425383,"question_id":12424838,"body_markdown":"I will make it simple:\r\nIf you extend the ThreadLocal for any reason use `remove()`. On vanilla ThreadLocal use `set(null)`.\r\nBasically not using `ThreadLocal.remove()` on an *extended* ThreadLocal can lead to memory leaks (ClassLoader ones most likely)\r\n\r\nIf you need more details why, post a comment.","title":"Threadlocal remove?","body":"<p>I will make it simple:\nIf you extend the ThreadLocal for any reason use <code>remove()</code>. On vanilla ThreadLocal use <code>set(null)</code>.\nBasically not using <code>ThreadLocal.remove()</code> on an <em>extended</em> ThreadLocal can lead to memory leaks (ClassLoader ones most likely)</p>\n\n<p>If you need more details why, post a comment.</p>\n"},{"tags":[],"owner":{"account_id":7395051,"reputation":1919,"user_id":5627271,"display_name":"R&#233;mi Bantos"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1686073310,"creation_date":1537193803,"answer_id":52369827,"question_id":12424838,"body_markdown":"**No**, it is not required to call *remove()* everytime instead of *set()*\r\n\r\nIf you fear memory leaks, here is what the [javadoc][1] says\r\n\r\n&gt; Each thread holds an implicit reference to its copy of a thread-local variable as long as the thread is alive and the ThreadLocal instance is accessible; after a thread goes away, all of its copies of thread-local instances are subject to garbage collection (unless other references to these copies exist).\r\n\r\nThus not calling *remove()* will not prevent a thread-local instance to be properly garbage collected, and will not cause any memory leak by nature.\r\n\r\nYou can also take a look to ThreadLocal implementation, which use [WeakReferences][2] for this &quot;implicit reference&quot; mechanism\r\n\r\n**But** beware of consistency with thread pools\r\n\r\nUsing *set()* method only with a thread pool, you might prefer to *remove()* a ThreadLocal instance, instead of overriding it in another &quot;work unit&quot; using the same thread.\r\nBecause you might want to avoid the situation where, for some reason, the set method is not invoked, and your ThreadLocal remains attached to a context/treatment it does not belong.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/lang/ThreadLocal.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/ref/WeakReference.html","title":"Threadlocal remove?","body":"<p><strong>No</strong>, it is not required to call <em>remove()</em> everytime instead of <em>set()</em></p>\n<p>If you fear memory leaks, here is what the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\">javadoc</a> says</p>\n<blockquote>\n<p>Each thread holds an implicit reference to its copy of a thread-local variable as long as the thread is alive and the ThreadLocal instance is accessible; after a thread goes away, all of its copies of thread-local instances are subject to garbage collection (unless other references to these copies exist).</p>\n</blockquote>\n<p>Thus not calling <em>remove()</em> will not prevent a thread-local instance to be properly garbage collected, and will not cause any memory leak by nature.</p>\n<p>You can also take a look to ThreadLocal implementation, which use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ref/WeakReference.html\" rel=\"nofollow noreferrer\">WeakReferences</a> for this &quot;implicit reference&quot; mechanism</p>\n<p><strong>But</strong> beware of consistency with thread pools</p>\n<p>Using <em>set()</em> method only with a thread pool, you might prefer to <em>remove()</em> a ThreadLocal instance, instead of overriding it in another &quot;work unit&quot; using the same thread.\nBecause you might want to avoid the situation where, for some reason, the set method is not invoked, and your ThreadLocal remains attached to a context/treatment it does not belong.</p>\n"},{"tags":[],"owner":{"account_id":15181840,"reputation":1,"user_id":10954927,"display_name":"lupeng ge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548241142,"creation_date":1548237455,"answer_id":54324500,"question_id":12424838,"body_markdown":"If the thread is done the `threadLocalMap` will be done with the thread. You do not need to remove it. But if the thread is used recycling you need to remove the value of `threadLocalMap`.","title":"Threadlocal remove?","body":"<p>If the thread is done the <code>threadLocalMap</code> will be done with the thread. You do not need to remove it. But if the thread is used recycling you need to remove the value of <code>threadLocalMap</code>.</p>\n"}],"owner":{"account_id":1136549,"reputation":18926,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29566,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":7,"score":23,"last_activity_date":1686073310,"creation_date":1347626672,"question_id":12424838,"body_markdown":"When using a `ThreadLocal` should I always call `remove()` when I am done or when I do `set` the old value is replaced anyway so `remove` is redundant?","title":"Threadlocal remove?","body":"<p>When using a <code>ThreadLocal</code> should I always call <code>remove()</code> when I am done or when I do <code>set</code> the old value is replaced anyway so <code>remove</code> is redundant?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"score":1,"creation_date":1686071924,"post_id":76416923,"comment_id":134747996,"body_markdown":"Sir you should also add a check to see if iterator is less than the size of the string.  Also consider using Scanner.  Lastly, nice test data strings :)","body":"Sir you should also add a check to see if iterator is less than the size of the string.  Also consider using Scanner.  Lastly, nice test data strings :)"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686072467,"creation_date":1686072467,"answer_id":76417067,"question_id":76416923,"body_markdown":"I don&#39;t get, what you exactly want to achieve with your code, but you created an endless loop that only adds the first word of your input string to an `ArrayList`:\r\n\r\nYou initialize `iter = 0;`.\r\nWith your input string, the first `if` is not exiting the loop, because the input contains a space.\r\nThe condition of the second `if` is true, because `iter == 0` from the initialization. You add the first word to the list.\r\nBut then, you don&#39;t modify the value of `iter`, and so the loop goes on endless with `iter == 0`.\r\n\r\nThe whole body inside the loop will never work as intended, because your split into &quot;handle the first word&quot; and &quot;other words&quot; does not really work out properly.\r\n\r\nI would recommend this much simpler implementation that makes use of a very simple regular expression and a built in method of `String`:\r\n\r\n``` lang-java\r\npublic static List&lt;String&gt; keywordsFromString(String s) {\r\n    String[] resultArray = s.split(&quot; &quot;);\r\n    List&lt;String&gt; unmodifiableList = Arrays.asList(resultArray)\r\n    List&lt;String&gt; modifiableList = new ArrayList&lt;&gt;(unmodifiableList);\r\n    return modifiableList\r\n}\r\n```\r\n\r\nI artificially split it up to several lines to make it easier understandable.\r\nYou also should not return an `ArrayList` because it is very likely that you will not need to know that implementation detail outside your method.\r\n\r\n`String.split` splits the string into an array by a regular expression - in your case it is the same as if it were a plain delimiter, but for other expressions it could be trickier, so you have to take care a bit, especially when it comes to things like `.`, `(`, `[` and so on.\r\n\r\nIf you don&#39;t need to modify the resulting list later, you could simply return the result of `Arrays.asList` directly. The use of `List&lt;String&gt;` as return type instead of `ArrayList` makes this possible.","title":"Stripping String(Paragraphs) into words using Java","body":"<p>I don't get, what you exactly want to achieve with your code, but you created an endless loop that only adds the first word of your input string to an <code>ArrayList</code>:</p>\n<p>You initialize <code>iter = 0;</code>.\nWith your input string, the first <code>if</code> is not exiting the loop, because the input contains a space.\nThe condition of the second <code>if</code> is true, because <code>iter == 0</code> from the initialization. You add the first word to the list.\nBut then, you don't modify the value of <code>iter</code>, and so the loop goes on endless with <code>iter == 0</code>.</p>\n<p>The whole body inside the loop will never work as intended, because your split into &quot;handle the first word&quot; and &quot;other words&quot; does not really work out properly.</p>\n<p>I would recommend this much simpler implementation that makes use of a very simple regular expression and a built in method of <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; keywordsFromString(String s) {\n    String[] resultArray = s.split(&quot; &quot;);\n    List&lt;String&gt; unmodifiableList = Arrays.asList(resultArray)\n    List&lt;String&gt; modifiableList = new ArrayList&lt;&gt;(unmodifiableList);\n    return modifiableList\n}\n</code></pre>\n<p>I artificially split it up to several lines to make it easier understandable.\nYou also should not return an <code>ArrayList</code> because it is very likely that you will not need to know that implementation detail outside your method.</p>\n<p><code>String.split</code> splits the string into an array by a regular expression - in your case it is the same as if it were a plain delimiter, but for other expressions it could be trickier, so you have to take care a bit, especially when it comes to things like <code>.</code>, <code>(</code>, <code>[</code> and so on.</p>\n<p>If you don't need to modify the resulting list later, you could simply return the result of <code>Arrays.asList</code> directly. The use of <code>List&lt;String&gt;</code> as return type instead of <code>ArrayList</code> makes this possible.</p>\n"}],"owner":{"account_id":24963958,"reputation":35,"user_id":18827675,"display_name":"Dean Loyals"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1686072467,"creation_date":1686071163,"question_id":76416923,"body_markdown":"Tried using a while loop and str.subtring() but am getting a Heap Space error(assuming it is because the while loop isn&#39;t breaking?)\r\n\r\n``` lang-java\r\npackage pckg;\r\nimport java.util.ArrayList;\r\n\r\npublic class KeywordMatcher \r\n{\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tString s_0 = &quot;apple pie bitch cunt whore ass dick big nib crunch&quot;;\r\n\t\tString s_1 = &quot;john stewart ass loser bitch lee dick cook ally die&quot;;\r\n\t\t\r\n\t\tSystem.out.println(keywordsFromString(s_0));\r\n\t}\r\n\t\r\n\tpublic static ArrayList&lt;String&gt; keywordsFromString(String s)\r\n\t{\r\n\t\tArrayList&lt;String&gt; ans = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tint iter=0;\r\n\t\twhile(iter&lt;s.length()) \r\n\t\t{\r\n\t\t\tif(s.indexOf(&quot; &quot;) == -1)\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(iter == 0) \r\n\t\t\t{\r\n\t\t\t\tans.add(s.substring(0, s.indexOf(&quot; &quot;)));\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\ts = s.substring(iter+1,s.length());\r\n\t\t\t\tans.add(s.substring(iter+1,s.indexOf(&quot; &quot;)));\r\n\t\t\t\titer = s.indexOf(&quot; &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ans;\r\n\t}\r\n}\r\n```","title":"Stripping String(Paragraphs) into words using Java","body":"<p>Tried using a while loop and str.subtring() but am getting a Heap Space error(assuming it is because the while loop isn't breaking?)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pckg;\nimport java.util.ArrayList;\n\npublic class KeywordMatcher \n{\n    public static void main(String[] args) \n    {\n        String s_0 = &quot;apple pie bitch cunt whore ass dick big nib crunch&quot;;\n        String s_1 = &quot;john stewart ass loser bitch lee dick cook ally die&quot;;\n        \n        System.out.println(keywordsFromString(s_0));\n    }\n    \n    public static ArrayList&lt;String&gt; keywordsFromString(String s)\n    {\n        ArrayList&lt;String&gt; ans = new ArrayList&lt;String&gt;();\n        \n        int iter=0;\n        while(iter&lt;s.length()) \n        {\n            if(s.indexOf(&quot; &quot;) == -1)\n            {\n                break;\n            }\n            \n            if(iter == 0) \n            {\n                ans.add(s.substring(0, s.indexOf(&quot; &quot;)));\n            }\n            else \n            {\n                s = s.substring(iter+1,s.length());\n                ans.add(s.substring(iter+1,s.indexOf(&quot; &quot;)));\n                iter = s.indexOf(&quot; &quot;);\n            }\n        }\n        return ans;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","keystore"],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686071721,"creation_date":1686071721,"question_id":76416984,"body_markdown":"I&#39;m facing below issue for my Spring Boot project which is on Java8. \r\n\r\n***ISSUE***\r\n\r\nI/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\r\njava.lang.Exception: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\r\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset.\r\n\r\n***REST CONFIGURATION:***\r\n\r\n```\r\npublic class RestTemplateConfig {\r\npublic RestTemplate getRestTemplate()\r\nKeyStore identityKeyStore = KeyStore.getInstance(&quot;jks&quot;);\r\ntry (InputStream in = new FileInputStream(&quot;MY.jks&quot;)) {\r\n                identityKeyStore.load(in, &quot;test123&quot;.toCharArray());\r\n            }\r\n            SSLContext sslContext = new SSLContextBuilder()\r\n                    .loadKeyMaterial(identityKeyStore,\r\n                            &quot;test123&quot;.toCharArray()\r\n                    ).build();\r\n            HttpClientBuilder clientBuilder = HttpClientBuilder.create();\r\n            clientBuilder.useSystemProperties().setSSLContext(sslContext).\r\n                    setSSLHostnameVerifier(new NoopHostnameVerifier()).disableCookieManagement().disableAuthCaching();\r\n            CloseableHttpClient client = clientBuilder.build();\r\n            HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\r\n            factory.setHttpClient(client);\r\n            RestTemplate restTemplate = new RestTemplate(factory);\r\nreturn restTemplate;\r\n}\r\n```\r\n\r\n```\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n            HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(Translator.getApiRequest(1213), headers);\r\n            ResponseEntity&lt;String&gt; responseEntity = restTemplateConfig.getRestTemplate().exchange(apiurl, HttpMethod.POST, requestEntity, String.class);\r\n            return responseEntity.toString();\r\n```\r\nMy suspect is spring boot is doing some thing with HTTP basic configuration behind the picture or my rest template is  not configured properly. Can anyone assist me please here ?\r\n\r\nand I believe configuring my keystore to rest template is right ? please correct if something is incorrect. ","title":"Facing issue Connection reset; nested exception is java.net.SocketException: Connection reset","body":"<p>I'm facing below issue for my Spring Boot project which is on Java8.</p>\n<p><em><strong>ISSUE</strong></em></p>\n<p>I/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\njava.lang.Exception: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset.</p>\n<p><em><strong>REST CONFIGURATION:</strong></em></p>\n<pre><code>public class RestTemplateConfig {\npublic RestTemplate getRestTemplate()\nKeyStore identityKeyStore = KeyStore.getInstance(&quot;jks&quot;);\ntry (InputStream in = new FileInputStream(&quot;MY.jks&quot;)) {\n                identityKeyStore.load(in, &quot;test123&quot;.toCharArray());\n            }\n            SSLContext sslContext = new SSLContextBuilder()\n                    .loadKeyMaterial(identityKeyStore,\n                            &quot;test123&quot;.toCharArray()\n                    ).build();\n            HttpClientBuilder clientBuilder = HttpClientBuilder.create();\n            clientBuilder.useSystemProperties().setSSLContext(sslContext).\n                    setSSLHostnameVerifier(new NoopHostnameVerifier()).disableCookieManagement().disableAuthCaching();\n            CloseableHttpClient client = clientBuilder.build();\n            HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n            factory.setHttpClient(client);\n            RestTemplate restTemplate = new RestTemplate(factory);\nreturn restTemplate;\n}\n</code></pre>\n<pre><code>            HttpHeaders headers = new HttpHeaders();\n            headers.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n            HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(Translator.getApiRequest(1213), headers);\n            ResponseEntity&lt;String&gt; responseEntity = restTemplateConfig.getRestTemplate().exchange(apiurl, HttpMethod.POST, requestEntity, String.class);\n            return responseEntity.toString();\n</code></pre>\n<p>My suspect is spring boot is doing some thing with HTTP basic configuration behind the picture or my rest template is  not configured properly. Can anyone assist me please here ?</p>\n<p>and I believe configuring my keystore to rest template is right ? please correct if something is incorrect.</p>\n"},{"tags":["java","caching","console"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686072594,"post_id":76416924,"comment_id":134748141,"body_markdown":"I would try to `transerTo` a `ByteArrayOutputStream` and then create a string from it or write it to a file","body":"I would try to <code>transerTo</code> a <code>ByteArrayOutputStream</code> and then create a string from it or write it to a file"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686082622,"post_id":76416924,"comment_id":134749981,"body_markdown":"I would guess how the `InputStream` receives data is implementation dependent. You shouldn&#39;t worry about that too much. Instead, just use the `InputStream` based on how it&#39;s defined to work. Note the `InputStream` is giving you _bytes_, not characters. If you know you&#39;re getting text output, then you need to decode those bytes into characters. The easiest way to do that is to wrap the `InputStream` in a `Reader`. Note you&#39;ll need to choose an appropriate character encoding. Then just continually read characters from the `Reader` until there&#39;s no more to read.","body":"I would guess how the <code>InputStream</code> receives data is implementation dependent. You shouldn&#39;t worry about that too much. Instead, just use the <code>InputStream</code> based on how it&#39;s defined to work. Note the <code>InputStream</code> is giving you <i>bytes</i>, not characters. If you know you&#39;re getting text output, then you need to decode those bytes into characters. The easiest way to do that is to wrap the <code>InputStream</code> in a <code>Reader</code>. Note you&#39;ll need to choose an appropriate character encoding. Then just continually read characters from the <code>Reader</code> until there&#39;s no more to read."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686082955,"post_id":76416924,"comment_id":134750017,"body_markdown":"From there, I would try simply appending the characters to a `StringBuffer` / `StringBuilder`. See if that works well enough for you before you try to implement more complicated solutions. The `StringBuffer` / `StringBuilder` would function as your cache. When ready, have your UI register a listener (you&#39;ll have to write the code for listeners, or e.g., maybe use an existing reactive library) that is immediately notified of the cached data, then subsequently notified of any new data as it comes in.","body":"From there, I would try simply appending the characters to a <code>StringBuffer</code> / <code>StringBuilder</code>. See if that works well enough for you before you try to implement more complicated solutions. The <code>StringBuffer</code> / <code>StringBuilder</code> would function as your cache. When ready, have your UI register a listener (you&#39;ll have to write the code for listeners, or e.g., maybe use an existing reactive library) that is immediately notified of the cached data, then subsequently notified of any new data as it comes in."},{"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"score":0,"creation_date":1686167581,"post_id":76416924,"comment_id":134763745,"body_markdown":"@Slaw why not make this an answer (so I can upvote and accept it)? Btw, as I found out, `StringBuilder#toString()` can be called any number of times on the same instance, making it a suitable solution for attaching a GUI more than once and getting output from the start each time. Last remaining question: how do I know what character encoding the console uses? OS is Android, by the way.","body":"@Slaw why not make this an answer (so I can upvote and accept it)? Btw, as I found out, <code>StringBuilder#toString()</code> can be called any number of times on the same instance, making it a suitable solution for attaching a GUI more than once and getting output from the start each time. Last remaining question: how do I know what character encoding the console uses? OS is Android, by the way."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686176380,"post_id":76416924,"comment_id":134765152,"body_markdown":"A `StringBuilder` will use more memory than a `ByteArrayOutputStream` since you&#39;re appending not `byte`s but `char`s, which are twice as long. They will be on a par *at the end* (when the final `String` is created) but not leading to the end","body":"A <code>StringBuilder</code> will use more memory than a <code>ByteArrayOutputStream</code> since you&#39;re appending not <code>byte</code>s but <code>char</code>s, which are twice as long. They will be on a par <i>at the end</i> (when the final <code>String</code> is created) but not leading to the end"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686177842,"post_id":76416924,"comment_id":134765315,"body_markdown":"@g00se Depends on the implementation. `String` / `StringBuilder` / `StringBuffer` in modern versions of OpenJDK-based Java use a `byte[]` for storage, which will only use two bytes per char if needed. Not sure what Android does though.","body":"@g00se Depends on the implementation. <code>String</code> / <code>StringBuilder</code> / <code>StringBuffer</code> in modern versions of OpenJDK-based Java use a <code>byte[]</code> for storage, which will only use two bytes per char if needed. Not sure what Android does though."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686178027,"post_id":76416924,"comment_id":134765331,"body_markdown":"@user149408 If you notice a memory problem with `StringBuilder` then you can use `ByteArrayOutputStream` as suggested by g00se. To change it to a `String` you can simply do `new String(baos.toByteArray(), encoding)`. The reason I suggested a `StringBuilder` and `Reader` is I _think_ it&#39;d make it easier to work with characters. At least if you want to keep everything in memory. As for knowing which character encoding to use, not sure. Perhaps all Android devices use the same encoding and that&#39;s documented somewhere. Or maybe you can query the information somehow.","body":"@user149408 If you notice a memory problem with <code>StringBuilder</code> then you can use <code>ByteArrayOutputStream</code> as suggested by g00se. To change it to a <code>String</code> you can simply do <code>new String(baos.toByteArray(), encoding)</code>. The reason I suggested a <code>StringBuilder</code> and <code>Reader</code> is I <i>think</i> it&#39;d make it easier to work with characters. At least if you want to keep everything in memory. As for knowing which character encoding to use, not sure. Perhaps all Android devices use the same encoding and that&#39;s documented somewhere. Or maybe you can query the information somehow."}],"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686071167,"creation_date":1686071167,"question_id":76416924,"body_markdown":"I am calling a native console executable from Java code using `ProcessBuilder`. This requires me to get an `InputStream` from the child process (which will receive `stdout` and optionally `stderr`) and process its data, to prevent the process from blocking due to buffer exhaustion.\r\n\r\nThere is a GUI to display the output, but it may not get created/opened until the process has started running (or even finished). However, the user needs to see the entire output (UX similar to GitLab CI).\r\n\r\nSo my idea is to create a helper class that reads the input stream from the moment the child process is started, and caches the data so it can be displayed later.\r\n\r\nThe buffer is read in a loop like this:\r\n\r\n    int nRead;\r\n    byte[] buff = new byte[size];\r\n    while ((nRead = in.read(buff)) != -1)\r\n        // process the data\r\n\r\nWe are talking about console output, thus:\r\n\r\n* Data volume can be anything from below 1K to several megabytes of data. The true amount is unknown, thus pre-allocating a buffer would risk either wasting memory or running out at some point. A dynamically growing structure is preferred.\r\n* The data itself consists of human-readable strings.\r\n* Without knowing details of how Java delivers console output, I would expect most data to arrive one line at a time (usually below 80 characters), possibly multiple lines in one burst, sometimes just one character at a time (think primitive progress indicators).\r\n* The cache only needs to support appending data – altering something in the cache is not a use case. However, there is also no need to actively prevent alteration of data.\r\n* I need to be able to retrieve data any number of times (not just once), possibly adding data in between.\r\n\r\nStructures that came to mind are either some form of `List&lt;String&gt;`, with the data from each iteration converted into a string that is then appended to the list. Drawback is that storage overhead can get very large if data arrives in tiny chunks – for data arriving one character at a time, storage overhead would likely be a multiple of the payload. Also, what `List` subclass is the preferred one for an append-only use case – `ArrayList`, `LinkedList` or something else?\r\n\r\nAnother candidate would be `StringBuilder`, in conjunction with the `append()` method.\r\n\r\nQuestion: What is the most efficient approach?\r\n\r\n* How does the `InputStream` for a console application in Java receive data? Does one cycle of the receiving loop roughly correspond to a `print` operation by the child process, or does data get split and merged – and if so, does that happen in a somewhat predictable manner?\r\n* What are considerations for choosing `size`, i.e. the size of `buf`?\r\n* Which of the data structures is more efficient in terms of memory usage (performance is probably less of an issue)? Or is there a better alternative that I haven’t thought of?","title":"Caching console output in Java","body":"<p>I am calling a native console executable from Java code using <code>ProcessBuilder</code>. This requires me to get an <code>InputStream</code> from the child process (which will receive <code>stdout</code> and optionally <code>stderr</code>) and process its data, to prevent the process from blocking due to buffer exhaustion.</p>\n<p>There is a GUI to display the output, but it may not get created/opened until the process has started running (or even finished). However, the user needs to see the entire output (UX similar to GitLab CI).</p>\n<p>So my idea is to create a helper class that reads the input stream from the moment the child process is started, and caches the data so it can be displayed later.</p>\n<p>The buffer is read in a loop like this:</p>\n<pre><code>int nRead;\nbyte[] buff = new byte[size];\nwhile ((nRead = in.read(buff)) != -1)\n    // process the data\n</code></pre>\n<p>We are talking about console output, thus:</p>\n<ul>\n<li>Data volume can be anything from below 1K to several megabytes of data. The true amount is unknown, thus pre-allocating a buffer would risk either wasting memory or running out at some point. A dynamically growing structure is preferred.</li>\n<li>The data itself consists of human-readable strings.</li>\n<li>Without knowing details of how Java delivers console output, I would expect most data to arrive one line at a time (usually below 80 characters), possibly multiple lines in one burst, sometimes just one character at a time (think primitive progress indicators).</li>\n<li>The cache only needs to support appending data – altering something in the cache is not a use case. However, there is also no need to actively prevent alteration of data.</li>\n<li>I need to be able to retrieve data any number of times (not just once), possibly adding data in between.</li>\n</ul>\n<p>Structures that came to mind are either some form of <code>List&lt;String&gt;</code>, with the data from each iteration converted into a string that is then appended to the list. Drawback is that storage overhead can get very large if data arrives in tiny chunks – for data arriving one character at a time, storage overhead would likely be a multiple of the payload. Also, what <code>List</code> subclass is the preferred one for an append-only use case – <code>ArrayList</code>, <code>LinkedList</code> or something else?</p>\n<p>Another candidate would be <code>StringBuilder</code>, in conjunction with the <code>append()</code> method.</p>\n<p>Question: What is the most efficient approach?</p>\n<ul>\n<li>How does the <code>InputStream</code> for a console application in Java receive data? Does one cycle of the receiving loop roughly correspond to a <code>print</code> operation by the child process, or does data get split and merged – and if so, does that happen in a somewhat predictable manner?</li>\n<li>What are considerations for choosing <code>size</code>, i.e. the size of <code>buf</code>?</li>\n<li>Which of the data structures is more efficient in terms of memory usage (performance is probably less of an issue)? Or is there a better alternative that I haven’t thought of?</li>\n</ul>\n"},{"tags":["java","java-native-interface","graalvm","graalvm-native-image","reflections"],"owner":{"account_id":19710145,"reputation":118,"user_id":14430875,"display_name":"daysling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686070675,"creation_date":1685966948,"question_id":76406274,"body_markdown":"I am having difficulties in accessing java methods from a shared library built with GraalVM.\r\n\r\nImagine this code loading a GraalVM Shared library:\r\n```java\r\npublic class Main {\r\n    static native int onEnable(long isolateThread, int a);\r\n    static native long createIsolate();\r\n    public static void main(String[] args) throws Exception {\r\n        try {\r\n            System.loadLibrary(&quot;simplelib&quot;);\r\n        } catch (UnsatisfiedLinkError e) {\r\n            NativeHelper.loadFromJar(&quot;simplelib&quot;, Main.class);\r\n        }\r\n        System.out.println(&quot;Loaded simplelib&quot;);\r\n        System.out.println(\r\n            &quot;onEnable returned: &quot; + onEnable(createIsolate(), 1)\r\n        );\r\n    }\r\n\r\n    public static void printedFromGraal() {\r\n        System.out.println(&quot;Printed from GraalVM&quot;);\r\n    }\r\n}\r\n```\r\nThen, I can easily implement `onEnable()` with GraalVM as follows:\r\n```java\r\n    @CEntryPoint(name = &quot;Java_com_daysling_dllloader_Main_onEnable&quot;)\r\n    public static int onEnable(Pointer env, Pointer clazz, IsolateThread thread, int a) throws Exception {\r\n        return a + 10;\r\n    }\r\n\r\n    @CEntryPoint(name = &quot;Java_com_daysling_dllloader_Main_createIsolate&quot;, builtin=CEntryPoint.Builtin.CREATE_ISOLATE)\r\n    public static native IsolateThread createIsolate();\r\n```\r\n\r\nIt&#39;s not really a big deal, but the problem comes when trying to call the `printedFromGraal()` function from inside the GraalVM shared library. I&#39;ve read documentation, searched on slack and much more but I still haven&#39;t found anything useful or any kind of examples.\r\n\r\nThe most concerning thing to be me is, if I were to implement a `ReflectionHelper` in my main application in order to ease JNI (if this is even possible possible) from the GraalVM:\r\n```java\r\npackage com.daysling.simplelib.reflections;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.Method;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ReflectionHelper {\r\n    public static ReflectionPackage getPackage(String packageName) {\r\n        return new ReflectionPackage(packageName);\r\n    }\r\n\r\n    public static class ReflectionPackage {\r\n        private final String packageName;\r\n\r\n        private ReflectionPackage(String packageName) {\r\n            this.packageName = packageName;\r\n        }\r\n\r\n        public ReflectedClass getClass(String className) throws ClassNotFoundException {\r\n            String fullClassName = packageName + &quot;.&quot; + className;\r\n            Class&lt;?&gt; clazz = Class.forName(fullClassName);\r\n            return new ReflectedClass(clazz);\r\n        }\r\n\r\n        public List&lt;ReflectedClass&gt; findAllClasses() throws ClassNotFoundException {\r\n            List&lt;ReflectedClass&gt; classes = new ArrayList&lt;&gt;();\r\n            String packagePath = packageName.replace(&#39;.&#39;, &#39;/&#39;);\r\n            ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n            if (classLoader == null) {\r\n                classLoader = ReflectionHelper.class.getClassLoader();\r\n            }\r\n            java.net.URL resource = classLoader.getResource(packagePath);\r\n            if (resource != null) {\r\n                String filePath = resource.getFile();\r\n                if (filePath != null) {\r\n                    java.io.File folder = new java.io.File(filePath);\r\n                    java.io.File[] files = folder.listFiles();\r\n                    if (files != null) {\r\n                        for (java.io.File file : files) {\r\n                            if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.class&quot;)) {\r\n                                String className = file.getName().substring(0, file.getName().lastIndexOf(&#39;.&#39;));\r\n                                classes.add(getClass(className));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return classes;\r\n        }\r\n\r\n        public static class ReflectedClass {\r\n            private final Class&lt;?&gt; clazz;\r\n\r\n            private ReflectedClass(Class&lt;?&gt; clazz) {\r\n                this.clazz = clazz;\r\n            }\r\n\r\n            public String getName() {\r\n                return clazz.getName();\r\n            }\r\n\r\n            public ReflectedClass getSuperclass() {\r\n                Class&lt;?&gt; superclass = clazz.getSuperclass();\r\n                return (superclass != null) ? new ReflectedClass(superclass) : null;\r\n            }\r\n\r\n            public List&lt;ReflectedMethod&gt; findAllMethods() {\r\n                List&lt;ReflectedMethod&gt; methods = new ArrayList&lt;&gt;();\r\n                Method[] declaredMethods = clazz.getDeclaredMethods();\r\n                for (Method method : declaredMethods) {\r\n                    methods.add(new ReflectedMethod(method));\r\n                }\r\n                return methods;\r\n            }\r\n\r\n            public List&lt;ReflectedField&gt; findAllFields() {\r\n                List&lt;ReflectedField&gt; fields = new ArrayList&lt;&gt;();\r\n                Field[] declaredFields = clazz.getDeclaredFields();\r\n                for (Field field : declaredFields) {\r\n                    fields.add(new ReflectedField(field));\r\n                }\r\n                return fields;\r\n            }\r\n\r\n            public ReflectedMethod findMethod(String methodName, Class&lt;?&gt;... parameterTypes) throws NoSuchMethodException {\r\n                Method method = clazz.getDeclaredMethod(methodName, parameterTypes);\r\n                return new ReflectedMethod(method);\r\n            }\r\n\r\n            public ReflectedField findField(String fieldName) throws NoSuchFieldException {\r\n                Field field = clazz.getDeclaredField(fieldName);\r\n                return new ReflectedField(field);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class ReflectedMethod {\r\n        private final Method method;\r\n\r\n        private ReflectedMethod(Method method) {\r\n            this.method = method;\r\n        }\r\n\r\n        public String getName() {\r\n            return method.getName();\r\n        }\r\n\r\n        public Class&lt;?&gt; getReturnType() {\r\n            return method.getReturnType();\r\n        }\r\n\r\n        public Class&lt;?&gt;[] getParameterTypes() {\r\n            return method.getParameterTypes();\r\n        }\r\n\r\n        public ReflectedObject invoke(Object object, Object... args) throws Exception {\r\n            Object result = method.invoke(object, args);\r\n            return new ReflectedObject(result);\r\n        }\r\n\r\n    }\r\n    public static class ReflectedObject {\r\n        private final Object object;\r\n\r\n        public ReflectedObject(Object object) {\r\n            this.object = object;\r\n        }\r\n\r\n        public ReflectionPackage.ReflectedClass getJavaClass() {\r\n            return new ReflectionPackage.ReflectedClass(object.getClass());\r\n        }\r\n\r\n        public ReflectedObject callMethod(String methodName, Object... args) throws Exception {\r\n            Class&lt;?&gt;[] parameterTypes = new Class&lt;?&gt;[args.length];\r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                parameterTypes[i] = args[i].getClass();\r\n            }\r\n            Method method = object.getClass().getDeclaredMethod(methodName, parameterTypes);\r\n            Object result = method.invoke(object, args);\r\n            return new ReflectedObject(result);\r\n        }\r\n\r\n        public Object getObject() {\r\n            return object;\r\n        }\r\n\r\n        public static ReflectedObject getAsReflectedObject(Object object) {\r\n            return new ReflectedObject(object);\r\n        }\r\n    }\r\n\r\n    public static class ReflectedField {\r\n        private final Field field;\r\n\r\n        private ReflectedField(Field field) {\r\n            this.field = field;\r\n        }\r\n\r\n        public String getName() {\r\n            return field.getName();\r\n        }\r\n\r\n        public Class&lt;?&gt; getType() {\r\n            return field.getType();\r\n        }\r\n\r\n        public Object get(Object object) throws IllegalAccessException {\r\n            return field.get(object);\r\n        }\r\n\r\n        public void set(Object object, Object value) throws IllegalAccessException {\r\n            field.set(object, value);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t think I can replicate an wrapper exact to how it&#39;d looking in any java code.","title":"Access Java functions (JNI/JNA) from a GraalVM Native Image shared Library","body":"<p>I am having difficulties in accessing java methods from a shared library built with GraalVM.</p>\n<p>Imagine this code loading a GraalVM Shared library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static native int onEnable(long isolateThread, int a);\n    static native long createIsolate();\n    public static void main(String[] args) throws Exception {\n        try {\n            System.loadLibrary(&quot;simplelib&quot;);\n        } catch (UnsatisfiedLinkError e) {\n            NativeHelper.loadFromJar(&quot;simplelib&quot;, Main.class);\n        }\n        System.out.println(&quot;Loaded simplelib&quot;);\n        System.out.println(\n            &quot;onEnable returned: &quot; + onEnable(createIsolate(), 1)\n        );\n    }\n\n    public static void printedFromGraal() {\n        System.out.println(&quot;Printed from GraalVM&quot;);\n    }\n}\n</code></pre>\n<p>Then, I can easily implement <code>onEnable()</code> with GraalVM as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @CEntryPoint(name = &quot;Java_com_daysling_dllloader_Main_onEnable&quot;)\n    public static int onEnable(Pointer env, Pointer clazz, IsolateThread thread, int a) throws Exception {\n        return a + 10;\n    }\n\n    @CEntryPoint(name = &quot;Java_com_daysling_dllloader_Main_createIsolate&quot;, builtin=CEntryPoint.Builtin.CREATE_ISOLATE)\n    public static native IsolateThread createIsolate();\n</code></pre>\n<p>It's not really a big deal, but the problem comes when trying to call the <code>printedFromGraal()</code> function from inside the GraalVM shared library. I've read documentation, searched on slack and much more but I still haven't found anything useful or any kind of examples.</p>\n<p>The most concerning thing to be me is, if I were to implement a <code>ReflectionHelper</code> in my main application in order to ease JNI (if this is even possible possible) from the GraalVM:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.daysling.simplelib.reflections;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ReflectionHelper {\n    public static ReflectionPackage getPackage(String packageName) {\n        return new ReflectionPackage(packageName);\n    }\n\n    public static class ReflectionPackage {\n        private final String packageName;\n\n        private ReflectionPackage(String packageName) {\n            this.packageName = packageName;\n        }\n\n        public ReflectedClass getClass(String className) throws ClassNotFoundException {\n            String fullClassName = packageName + &quot;.&quot; + className;\n            Class&lt;?&gt; clazz = Class.forName(fullClassName);\n            return new ReflectedClass(clazz);\n        }\n\n        public List&lt;ReflectedClass&gt; findAllClasses() throws ClassNotFoundException {\n            List&lt;ReflectedClass&gt; classes = new ArrayList&lt;&gt;();\n            String packagePath = packageName.replace('.', '/');\n            ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n            if (classLoader == null) {\n                classLoader = ReflectionHelper.class.getClassLoader();\n            }\n            java.net.URL resource = classLoader.getResource(packagePath);\n            if (resource != null) {\n                String filePath = resource.getFile();\n                if (filePath != null) {\n                    java.io.File folder = new java.io.File(filePath);\n                    java.io.File[] files = folder.listFiles();\n                    if (files != null) {\n                        for (java.io.File file : files) {\n                            if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.class&quot;)) {\n                                String className = file.getName().substring(0, file.getName().lastIndexOf('.'));\n                                classes.add(getClass(className));\n                            }\n                        }\n                    }\n                }\n            }\n            return classes;\n        }\n\n        public static class ReflectedClass {\n            private final Class&lt;?&gt; clazz;\n\n            private ReflectedClass(Class&lt;?&gt; clazz) {\n                this.clazz = clazz;\n            }\n\n            public String getName() {\n                return clazz.getName();\n            }\n\n            public ReflectedClass getSuperclass() {\n                Class&lt;?&gt; superclass = clazz.getSuperclass();\n                return (superclass != null) ? new ReflectedClass(superclass) : null;\n            }\n\n            public List&lt;ReflectedMethod&gt; findAllMethods() {\n                List&lt;ReflectedMethod&gt; methods = new ArrayList&lt;&gt;();\n                Method[] declaredMethods = clazz.getDeclaredMethods();\n                for (Method method : declaredMethods) {\n                    methods.add(new ReflectedMethod(method));\n                }\n                return methods;\n            }\n\n            public List&lt;ReflectedField&gt; findAllFields() {\n                List&lt;ReflectedField&gt; fields = new ArrayList&lt;&gt;();\n                Field[] declaredFields = clazz.getDeclaredFields();\n                for (Field field : declaredFields) {\n                    fields.add(new ReflectedField(field));\n                }\n                return fields;\n            }\n\n            public ReflectedMethod findMethod(String methodName, Class&lt;?&gt;... parameterTypes) throws NoSuchMethodException {\n                Method method = clazz.getDeclaredMethod(methodName, parameterTypes);\n                return new ReflectedMethod(method);\n            }\n\n            public ReflectedField findField(String fieldName) throws NoSuchFieldException {\n                Field field = clazz.getDeclaredField(fieldName);\n                return new ReflectedField(field);\n            }\n        }\n    }\n\n    public static class ReflectedMethod {\n        private final Method method;\n\n        private ReflectedMethod(Method method) {\n            this.method = method;\n        }\n\n        public String getName() {\n            return method.getName();\n        }\n\n        public Class&lt;?&gt; getReturnType() {\n            return method.getReturnType();\n        }\n\n        public Class&lt;?&gt;[] getParameterTypes() {\n            return method.getParameterTypes();\n        }\n\n        public ReflectedObject invoke(Object object, Object... args) throws Exception {\n            Object result = method.invoke(object, args);\n            return new ReflectedObject(result);\n        }\n\n    }\n    public static class ReflectedObject {\n        private final Object object;\n\n        public ReflectedObject(Object object) {\n            this.object = object;\n        }\n\n        public ReflectionPackage.ReflectedClass getJavaClass() {\n            return new ReflectionPackage.ReflectedClass(object.getClass());\n        }\n\n        public ReflectedObject callMethod(String methodName, Object... args) throws Exception {\n            Class&lt;?&gt;[] parameterTypes = new Class&lt;?&gt;[args.length];\n            for (int i = 0; i &lt; args.length; i++) {\n                parameterTypes[i] = args[i].getClass();\n            }\n            Method method = object.getClass().getDeclaredMethod(methodName, parameterTypes);\n            Object result = method.invoke(object, args);\n            return new ReflectedObject(result);\n        }\n\n        public Object getObject() {\n            return object;\n        }\n\n        public static ReflectedObject getAsReflectedObject(Object object) {\n            return new ReflectedObject(object);\n        }\n    }\n\n    public static class ReflectedField {\n        private final Field field;\n\n        private ReflectedField(Field field) {\n            this.field = field;\n        }\n\n        public String getName() {\n            return field.getName();\n        }\n\n        public Class&lt;?&gt; getType() {\n            return field.getType();\n        }\n\n        public Object get(Object object) throws IllegalAccessException {\n            return field.get(object);\n        }\n\n        public void set(Object object, Object value) throws IllegalAccessException {\n            field.set(object, value);\n        }\n    }\n}\n</code></pre>\n<p>I don't think I can replicate an wrapper exact to how it'd looking in any java code.</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":15602203,"reputation":149,"user_id":11256018,"display_name":"IbrahimTG99"},"score":0,"creation_date":1686071235,"post_id":76416863,"comment_id":134747849,"body_markdown":"can you share your gradle files?","body":"can you share your gradle files?"},{"owner":{"account_id":15488032,"reputation":23,"user_id":11615829,"display_name":"SOULEYMANE TOURE"},"score":0,"creation_date":1686092333,"post_id":76416863,"comment_id":134751214,"body_markdown":"android/build.gradle  :  https://gist.github.com/toure5013/7ba7dfb6ecb1810a18f780d826672543\n\n/android/app/build.gradle  :  https://gist.github.com/toure5013/d42abf6ddf08f73f807fb2ec12eff872\n\n\n\n\n\nandroid/gradle/wrapper/gradle-wrapper.properties : \n\n\n#Fri Jun 23 08:50:38 CEST 2017\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip","body":"android/build.gradle  :  <a href=\"https://gist.github.com/toure5013/7ba7dfb6ecb1810a18f780d826672543\" rel=\"nofollow noreferrer\">gist.github.com/toure5013/7ba7dfb6ecb1810a18f780d826672543</a>  /android/app/build.gradle  :  <a href=\"https://gist.github.com/toure5013/d42abf6ddf08f73f807fb2ec12eff872\" rel=\"nofollow noreferrer\">gist.github.com/toure5013/d42abf6ddf08f73f807fb2ec12eff872</a>      android/gradle/wrapper/gradle-wrapper.properties :    #Fri Jun 23 08:50:38 CEST 2017 distributionBase=GRADLE_USER_HOME distributionPath=wrapper/dists zipStoreBase=GRADLE_USER_HOME zipStorePath=wrapper/dists distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-7.4-all.zip"}],"owner":{"account_id":15488032,"reputation":23,"user_id":11615829,"display_name":"SOULEYMANE TOURE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686070626,"creation_date":1686070626,"question_id":76416863,"body_markdown":"My local config : Flutter doctor\r\n\r\n Doctor summary (to see all details, run flutter doctor -v): \r\n\r\n\\[✓\\] Flutter (Channel stable, 3.10.3, on macOS 13.4 22F66 darwin-arm64, locale     fr-FR) \r\n\r\n\\[✓\\] Android toolchain - develop for Android devices (Android SDK version 33.0.2) \r\n\r\n\\[✓\\] Xcode - develop for iOS and macOS (Xcode 14.3.1) \r\n\r\n\\[✓\\] Chrome - develop for the web \r\n\r\n\\[✓\\] Android Studio (version 2022.1) \r\n\r\n\\[✓\\] VS Code (version 1.78.2) \r\n\r\n\\[✓\\] Connected device (3 available) \r\n\r\n\\[✓\\] Network resources  • No issues found!\r\n\r\n**When I try to launch my flutter app on android I got this error above.**\r\n\r\n```\r\nLaunching lib/main.dart on SM G973F in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class com.google.zxing.BarcodeFormat found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\r\n     Duplicate class com.google.zxing.Binarizer found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\r\n     Duplicate class com.google.zxing.qrcode.decoder.Version found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\r\n     Duplicate class com.google.zxing.qrcode.decoder.Version$ECB found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\r\n     Duplicate class com.google.zxing.qrcode.decoder.Version$ECBlocks found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\r\n\r\n     Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 2m 59s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\n\r\n**Why I Tried in order to resolve :** \r\n\r\n- Ideleted my cashes\r\n\r\n- I updated dependences &amp; repaired  cashes\r\n\r\n-   I deleted .gradle \r\n    cd \\~\r\n    rm -rf .gradle","title":"Can&#39;t build again my flutter app for android untile I install new android studio and update my configs [Duplicate class]","body":"<p>My local config : Flutter doctor</p>\n<p>Doctor summary (to see all details, run flutter doctor -v):</p>\n<p>[✓] Flutter (Channel stable, 3.10.3, on macOS 13.4 22F66 darwin-arm64, locale     fr-FR)</p>\n<p>[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.2)</p>\n<p>[✓] Xcode - develop for iOS and macOS (Xcode 14.3.1)</p>\n<p>[✓] Chrome - develop for the web</p>\n<p>[✓] Android Studio (version 2022.1)</p>\n<p>[✓] VS Code (version 1.78.2)</p>\n<p>[✓] Connected device (3 available)</p>\n<p>[✓] Network resources  • No issues found!</p>\n<p><strong>When I try to launch my flutter app on android I got this error above.</strong></p>\n<pre><code>Launching lib/main.dart on SM G973F in debug mode...\nRunning Gradle task 'assembleDebug'...\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:checkDebugDuplicateClasses'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\n   &gt; Duplicate class com.google.zxing.BarcodeFormat found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\n     Duplicate class com.google.zxing.Binarizer found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\n     Duplicate class com.google.zxing.qrcode.decoder.Version found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\n     Duplicate class com.google.zxing.qrcode.decoder.Version$ECB found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\n     Duplicate class com.google.zxing.qrcode.decoder.Version$ECBlocks found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\n\n     Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2m 59s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p><strong>Why I Tried in order to resolve :</strong></p>\n<ul>\n<li><p>Ideleted my cashes</p>\n</li>\n<li><p>I updated dependences &amp; repaired  cashes</p>\n</li>\n<li><p>I deleted .gradle\ncd ~\nrm -rf .gradle</p>\n</li>\n</ul>\n"},{"tags":["java","minecraft-fabric"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1681294946,"post_id":75994341,"comment_id":134032310,"body_markdown":"Is [this](https://docproject.github.io/fabricmc_fabric/net/fabricmc/fabric/api/command/v1/CommandRegistrationCallback.html) the class you&#39;re trying to use? Because you&#39;re not importing it.","body":"Is <a href=\"https://docproject.github.io/fabricmc_fabric/net/fabricmc/fabric/api/command/v1/CommandRegistrationCallback.html\" rel=\"nofollow noreferrer\">this</a> the class you&#39;re trying to use? Because you&#39;re not importing it."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1681297565,"post_id":75994341,"comment_id":134032897,"body_markdown":"Your question is *close to* well-written, but a very important part that you are missing is the exact error message that you get. You have paraphrased it, but next time please make sure to copy-and-paste it and to format it as code. The **specifics** of an error message can often help figure out the concrete problem (though I think Federico got it right: you are probably just missing the `import`  statement for that class).","body":"Your question is <i>close to</i> well-written, but a very important part that you are missing is the exact error message that you get. You have paraphrased it, but next time please make sure to copy-and-paste it and to format it as code. The <b>specifics</b> of an error message can often help figure out the concrete problem (though I think Federico got it right: you are probably just missing the <code>import</code>  statement for that class)."}],"answers":[{"tags":[],"owner":{"account_id":28736658,"reputation":1,"user_id":22007596,"display_name":"GowLi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686070584,"creation_date":1685709995,"answer_id":76390280,"question_id":75994341,"body_markdown":"It is necessary in&gt;=1.19.4 to register with &quot;CommandManager.literal(&quot;test&quot;)&quot; instead of &quot;literal(&quot;test&quot;)&quot;. when registering.\r\n\r\n```\r\n    CommandRegistrationCallback.EVENT.register((dispatcher, registryAccess, environment) -&gt; {\r\n        dispatcher.register(CommandManager.literal(&quot;test&quot;).executes(context -&gt; {\r\n            context.getSource().sendMessage(literal(&quot;working&quot;));\r\n            return 1;\r\n         }));\r\n    });\r\n```\r\n\r\n","title":"Having problems to run a Fabric Minecraft Mod","body":"<p>It is necessary in&gt;=1.19.4 to register with &quot;CommandManager.literal(&quot;test&quot;)&quot; instead of &quot;literal(&quot;test&quot;)&quot;. when registering.</p>\n<pre><code>    CommandRegistrationCallback.EVENT.register((dispatcher, registryAccess, environment) -&gt; {\n        dispatcher.register(CommandManager.literal(&quot;test&quot;).executes(context -&gt; {\n            context.getSource().sendMessage(literal(&quot;working&quot;));\n            return 1;\n         }));\n    });\n</code></pre>\n"}],"owner":{"account_id":25992864,"reputation":1,"user_id":19704720,"display_name":"Gabocota"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686070584,"creation_date":1681294778,"question_id":75994341,"body_markdown":"I have been fighting trying to get a fabric mod to work but to no avail. I have followed every tutorial known to man but I always get stuck in the same place. \r\n\r\n```\r\npackage net.example;\r\n\r\nimport net.fabricmc.api.ModInitializer;\r\n\r\nimport static net.minecraft.server.command.CommandManager.*;\r\n\r\n\r\npublic class ExampleMod implements ModInitializer {\r\n  @Override\r\n  public void onInitialize() {\r\n    CommandRegistrationCallback.EVENT.register((dispatcher, registryAccess, environment) -&gt; dispatcher.register(literal(&quot;foo&quot;)\r\n        .executes(context -&gt; {\r\n      // For versions below 1.19, replace &quot;Text.literal&quot; with &quot;new LiteralText&quot;.\r\n      context.getSource().sendMessage(LiteralText(&quot;Called /foo with no arguments&quot;));\r\n \r\n      return 1;\r\n    })));\r\n  }\r\n}\r\n```\r\n\r\nwith that code this thing tells me that &quot;CommandRegistrationCallback&quot; &quot;cannot be resolved&quot; this is literally the code provided in https://fabricmc.net/wiki/tutorial:commands so I don&#39;t know what I&#39;m doing wrong.\r\n\r\nHere&#39;s my other files:\r\n\r\nbuild.gradle:\r\n\r\n```\r\nplugins {\r\n\tid &#39;fabric-loom&#39; version &#39;1.1-SNAPSHOT&#39;\r\n\tid &#39;maven-publish&#39;\r\n}\r\n\r\nversion = project.mod_version\r\ngroup = project.maven_group\r\n\r\nrepositories {\r\n\t// Add repositories to retrieve artifacts from in here.\r\n\t// You should only use this when depending on other mods because\r\n\t// Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\r\n\t// See https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\t// for more information about repositories.\r\n}\r\n\r\ndependencies {\r\n\t// To change the versions see the gradle.properties file\r\n\tminecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\r\n\tmappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\r\n\tmodImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\r\n\r\n\t// Fabric API. This is technically optional, but you probably want it anyway.\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\r\n\r\n\t// Uncomment the following line to enable the deprecated Fabric API modules. \r\n\t// These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\r\n\r\n\t// modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\r\n}\r\n\r\nbase {\r\n\tarchivesName = project.archives_base_name\r\n}\r\n\r\nprocessResources {\r\n\tinputs.property &quot;version&quot;, project.version\r\n\r\n\tfilesMatching(&quot;fabric.mod.json&quot;) {\r\n\t\texpand &quot;version&quot;: project.version\r\n\t}\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n\t// Minecraft 1.18 (1.18-pre2) upwards uses Java 17.\r\n\tit.options.release = 17\r\n}\r\n\r\njava {\r\n\t// Loom will automatically attach sourcesJar to a RemapSourcesJar task and to the &quot;build&quot; task\r\n\t// if it is present.\r\n\t// If you remove this line, sources will not be generated.\r\n\twithSourcesJar()\r\n\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n\ttargetCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\njar {\r\n\tfrom(&quot;LICENSE&quot;) {\r\n\t\trename { &quot;${it}_${base.archivesName.get()}&quot;}\r\n\t}\r\n}\r\n\r\n// configure the maven publication\r\npublishing {\r\n\tpublications {\r\n\t\tmavenJava(MavenPublication) {\r\n\t\t\tfrom components.java\r\n\t\t}\r\n\t}\r\n\r\n\t// See https://docs.gradle.org/current/userguide/publishing_maven.html for information on how to set up publishing.\r\n\trepositories {\r\n\t\t// Add repositories to publish to here.\r\n\t\t// Notice: This block does NOT have the same function as the block in the top level.\r\n\t\t// The repositories here will be used for publishing your artifact, not for\r\n\t\t// retrieving dependencies.\r\n\t}\r\n}\r\n```\r\n\r\nfabric.mod.json:\r\n\r\n```\r\n{\r\n  &quot;schemaVersion&quot;: 1,\r\n  &quot;id&quot;: &quot;example&quot;,\r\n  &quot;version&quot;: &quot;${version}&quot;,\r\n\r\n  &quot;name&quot;: &quot;example&quot;,\r\n  &quot;description&quot;: &quot;idk&quot;,\r\n  &quot;authors&quot;: [\r\n    &quot;me&quot;\r\n  ],\r\n  &quot;contact&quot;: {\r\n  },\r\n\r\n  &quot;license&quot;: &quot;CC0-1.0&quot;,\r\n  &quot;icon&quot;: &quot;assets/example/icon.png&quot;,\r\n\r\n  &quot;environment&quot;: &quot;*&quot;,\r\n  &quot;entrypoints&quot;: {\r\n    &quot;main&quot;: [\r\n      &quot;net.example.ExampleMod&quot;\r\n    ]\r\n  },\r\n  &quot;mixins&quot;: [\r\n  ],\r\n\r\n  &quot;depends&quot;: {\r\n    &quot;fabricloader&quot;: &quot;&gt;=0.14.17&quot;,\r\n    &quot;fabric-api&quot;: &quot;*&quot;,\r\n    &quot;minecraft&quot;: &quot;~1.19.4&quot;,\r\n    &quot;java&quot;: &quot;&gt;=17&quot;\r\n  },\r\n  &quot;suggests&quot;: {\r\n    &quot;another-mod&quot;: &quot;*&quot;\r\n  }\r\n}\r\n\r\n```\r\n\r\ngradle.properties:\r\n\r\n\r\n```\r\n# Done to increase the memory available to gradle.\r\norg.gradle.jvmargs=-Xmx10G\r\norg.gradle.parallel=true\r\n\r\n# Fabric Properties\r\n\t# check these on https://fabricmc.net/develop\r\n\tminecraft_version=1.19.4\r\n\tyarn_mappings=1.19.4+build.2\r\n\tloader_version=0.14.19\r\n\r\n# Mod Properties\r\n\tmod_version = 1.0.0\r\n\tmaven_group = net.byescreen\r\n\tarchives_base_name = byescreen\r\n\r\n# Dependencies\r\n\tfabric_version=0.78.0+1.19.4\r\n\r\n```\r\n\r\nand here&#39;s my folder structure:\r\n[Folder Structure](https://i.stack.imgur.com/AIRDv.png)\r\n\r\nI am beyond myself, its 4am and I have achieved nothing. I need the internet&#39;s help for this one.\r\n\r\n\r\n\r\n\r\nAlready have all the latest versions of everything. Well java had version 20 and had to downgrade to the last 17 one. That&#39;s about it. \r\n\r\nAlready rebuilt with gradlew about 200 times, copied an pasted dozens of examples from the internet and nothing works. I always get to the problem that it doesn&#39;t find the &quot;CommandRegistrationCallback&quot; or any other class I need to just read the players commands. \r\n\r\n","title":"Having problems to run a Fabric Minecraft Mod","body":"<p>I have been fighting trying to get a fabric mod to work but to no avail. I have followed every tutorial known to man but I always get stuck in the same place.</p>\n<pre><code>package net.example;\n\nimport net.fabricmc.api.ModInitializer;\n\nimport static net.minecraft.server.command.CommandManager.*;\n\n\npublic class ExampleMod implements ModInitializer {\n  @Override\n  public void onInitialize() {\n    CommandRegistrationCallback.EVENT.register((dispatcher, registryAccess, environment) -&gt; dispatcher.register(literal(&quot;foo&quot;)\n        .executes(context -&gt; {\n      // For versions below 1.19, replace &quot;Text.literal&quot; with &quot;new LiteralText&quot;.\n      context.getSource().sendMessage(LiteralText(&quot;Called /foo with no arguments&quot;));\n \n      return 1;\n    })));\n  }\n}\n</code></pre>\n<p>with that code this thing tells me that &quot;CommandRegistrationCallback&quot; &quot;cannot be resolved&quot; this is literally the code provided in <a href=\"https://fabricmc.net/wiki/tutorial:commands\" rel=\"nofollow noreferrer\">https://fabricmc.net/wiki/tutorial:commands</a> so I don't know what I'm doing wrong.</p>\n<p>Here's my other files:</p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'fabric-loom' version '1.1-SNAPSHOT'\n    id 'maven-publish'\n}\n\nversion = project.mod_version\ngroup = project.maven_group\n\nrepositories {\n    // Add repositories to retrieve artifacts from in here.\n    // You should only use this when depending on other mods because\n    // Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\n    // See https://docs.gradle.org/current/userguide/declaring_repositories.html\n    // for more information about repositories.\n}\n\ndependencies {\n    // To change the versions see the gradle.properties file\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n\n    // Fabric API. This is technically optional, but you probably want it anyway.\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\n\n    // Uncomment the following line to enable the deprecated Fabric API modules. \n    // These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\n\n    // modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\n}\n\nbase {\n    archivesName = project.archives_base_name\n}\n\nprocessResources {\n    inputs.property &quot;version&quot;, project.version\n\n    filesMatching(&quot;fabric.mod.json&quot;) {\n        expand &quot;version&quot;: project.version\n    }\n}\n\ntasks.withType(JavaCompile).configureEach {\n    // Minecraft 1.18 (1.18-pre2) upwards uses Java 17.\n    it.options.release = 17\n}\n\njava {\n    // Loom will automatically attach sourcesJar to a RemapSourcesJar task and to the &quot;build&quot; task\n    // if it is present.\n    // If you remove this line, sources will not be generated.\n    withSourcesJar()\n\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\njar {\n    from(&quot;LICENSE&quot;) {\n        rename { &quot;${it}_${base.archivesName.get()}&quot;}\n    }\n}\n\n// configure the maven publication\npublishing {\n    publications {\n        mavenJava(MavenPublication) {\n            from components.java\n        }\n    }\n\n    // See https://docs.gradle.org/current/userguide/publishing_maven.html for information on how to set up publishing.\n    repositories {\n        // Add repositories to publish to here.\n        // Notice: This block does NOT have the same function as the block in the top level.\n        // The repositories here will be used for publishing your artifact, not for\n        // retrieving dependencies.\n    }\n}\n</code></pre>\n<p>fabric.mod.json:</p>\n<pre><code>{\n  &quot;schemaVersion&quot;: 1,\n  &quot;id&quot;: &quot;example&quot;,\n  &quot;version&quot;: &quot;${version}&quot;,\n\n  &quot;name&quot;: &quot;example&quot;,\n  &quot;description&quot;: &quot;idk&quot;,\n  &quot;authors&quot;: [\n    &quot;me&quot;\n  ],\n  &quot;contact&quot;: {\n  },\n\n  &quot;license&quot;: &quot;CC0-1.0&quot;,\n  &quot;icon&quot;: &quot;assets/example/icon.png&quot;,\n\n  &quot;environment&quot;: &quot;*&quot;,\n  &quot;entrypoints&quot;: {\n    &quot;main&quot;: [\n      &quot;net.example.ExampleMod&quot;\n    ]\n  },\n  &quot;mixins&quot;: [\n  ],\n\n  &quot;depends&quot;: {\n    &quot;fabricloader&quot;: &quot;&gt;=0.14.17&quot;,\n    &quot;fabric-api&quot;: &quot;*&quot;,\n    &quot;minecraft&quot;: &quot;~1.19.4&quot;,\n    &quot;java&quot;: &quot;&gt;=17&quot;\n  },\n  &quot;suggests&quot;: {\n    &quot;another-mod&quot;: &quot;*&quot;\n  }\n}\n\n</code></pre>\n<p>gradle.properties:</p>\n<pre><code># Done to increase the memory available to gradle.\norg.gradle.jvmargs=-Xmx10G\norg.gradle.parallel=true\n\n# Fabric Properties\n    # check these on https://fabricmc.net/develop\n    minecraft_version=1.19.4\n    yarn_mappings=1.19.4+build.2\n    loader_version=0.14.19\n\n# Mod Properties\n    mod_version = 1.0.0\n    maven_group = net.byescreen\n    archives_base_name = byescreen\n\n# Dependencies\n    fabric_version=0.78.0+1.19.4\n\n</code></pre>\n<p>and here's my folder structure:\n<a href=\"https://i.stack.imgur.com/AIRDv.png\" rel=\"nofollow noreferrer\">Folder Structure</a></p>\n<p>I am beyond myself, its 4am and I have achieved nothing. I need the internet's help for this one.</p>\n<p>Already have all the latest versions of everything. Well java had version 20 and had to downgrade to the last 17 one. That's about it.</p>\n<p>Already rebuilt with gradlew about 200 times, copied an pasted dozens of examples from the internet and nothing works. I always get to the problem that it doesn't find the &quot;CommandRegistrationCallback&quot; or any other class I need to just read the players commands.</p>\n"},{"tags":["java","exception","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"down_vote_count":1,"up_vote_count":251,"is_accepted":false,"score":250,"last_activity_date":1367003534,"creation_date":1367003534,"answer_id":16243626,"question_id":16243580,"body_markdown":"To answer your second question first. If you&#39;re using JUnit 4, you can annotate your test with \r\n\r\n    @Test(expected=MyException.class)\r\n\r\nto assert that an exception has occured. And to &quot;mock&quot; an exception with mockito, use\r\n\r\n    when(myMock.doSomething()).thenThrow(new MyException());","title":"Mockito How to mock and assert a thrown exception?","body":"<p>To answer your second question first. If you're using JUnit 4, you can annotate your test with </p>\n\n<pre><code>@Test(expected=MyException.class)\n</code></pre>\n\n<p>to assert that an exception has occured. And to \"mock\" an exception with mockito, use</p>\n\n<pre><code>when(myMock.doSomething()).thenThrow(new MyException());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1367004024,"creation_date":1367003552,"answer_id":16243628,"question_id":16243580,"body_markdown":"Make the exception happen like this:\r\n\r\n    when(obj.someMethod()).thenThrow(new AnException());\r\n\r\nVerify it has happened either by asserting that your test will throw such an exception:\r\n\r\n    @Test(expected = AnException.class)\r\n\r\nOr by normal mock verification:\r\n\r\n    verify(obj).someMethod();\r\n\r\nThe latter option is required if your test is designed to prove intermediate code handles the exception (i.e. the exception won&#39;t be thrown from your test method).","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Make the exception happen like this:</p>\n\n<pre><code>when(obj.someMethod()).thenThrow(new AnException());\n</code></pre>\n\n<p>Verify it has happened either by asserting that your test will throw such an exception:</p>\n\n<pre><code>@Test(expected = AnException.class)\n</code></pre>\n\n<p>Or by normal mock verification:</p>\n\n<pre><code>verify(obj).someMethod();\n</code></pre>\n\n<p>The latter option is required if your test is designed to prove intermediate code handles the exception (i.e. the exception won't be thrown from your test method).</p>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"down_vote_count":6,"up_vote_count":91,"is_accepted":true,"score":85,"last_activity_date":1554836242,"creation_date":1367003756,"answer_id":16243661,"question_id":16243580,"body_markdown":"[BDD](http://guide.agilealliance.org/guide/gwt.html) Style Solution (Updated to Java 8)\r\n==\r\n*Mockito* alone is not the best solution for handling exceptions, use *Mockito* with *Catch-Exception* \r\n    \r\nMockito + [Catch-Exception][1] + [AssertJ][2]\r\n========\r\n\r\n    given(otherServiceMock.bar()).willThrow(new MyException());\r\n \r\n    when(() -&gt; myService.foo());\r\n \r\n    then(caughtException()).isInstanceOf(MyException.class);\r\n\r\nSample code\r\n--\r\n - [Mockito + Catch-Exception + Assertj full sample](https://gist.github.com/mariuszs/7489190)\r\n\r\n\r\n  [1]: https://github.com/Codearte/catch-exception\r\n  [2]: https://github.com/joel-costigliola/assertj-core\r\n\r\nDependencies\r\n--\r\n\r\n - [eu.codearte.catch-exception:catch-exception:2.0](https://search.maven.org/artifact/eu.codearte.catch-exception/catch-exception/2.0/jar)\r\n - [org.assertj:assertj-core:3.12.2](https://search.maven.org/search?q=g:%22org.assertj%22%20AND%20a:%22assertj-core%22)\r\n\r\n\r\n\r\n","title":"Mockito How to mock and assert a thrown exception?","body":"<h1><a href=\"http://guide.agilealliance.org/guide/gwt.html\" rel=\"noreferrer\">BDD</a> Style Solution (Updated to Java 8)</h1>\n\n<p><em>Mockito</em> alone is not the best solution for handling exceptions, use <em>Mockito</em> with <em>Catch-Exception</em> </p>\n\n<h1>Mockito + <a href=\"https://github.com/Codearte/catch-exception\" rel=\"noreferrer\">Catch-Exception</a> + <a href=\"https://github.com/joel-costigliola/assertj-core\" rel=\"noreferrer\">AssertJ</a></h1>\n\n<pre><code>given(otherServiceMock.bar()).willThrow(new MyException());\n\nwhen(() -&gt; myService.foo());\n\nthen(caughtException()).isInstanceOf(MyException.class);\n</code></pre>\n\n<h2>Sample code</h2>\n\n<ul>\n<li><a href=\"https://gist.github.com/mariuszs/7489190\" rel=\"noreferrer\">Mockito + Catch-Exception + Assertj full sample</a></li>\n</ul>\n\n<h2>Dependencies</h2>\n\n<ul>\n<li><a href=\"https://search.maven.org/artifact/eu.codearte.catch-exception/catch-exception/2.0/jar\" rel=\"noreferrer\">eu.codearte.catch-exception:catch-exception:2.0</a></li>\n<li><a href=\"https://search.maven.org/search?q=g:%22org.assertj%22%20AND%20a:%22assertj-core%22\" rel=\"noreferrer\">org.assertj:assertj-core:3.12.2</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1033192,"reputation":3148,"user_id":1041083,"accept_rate":43,"display_name":"Selwyn"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1434691368,"creation_date":1434691368,"answer_id":30930478,"question_id":16243580,"body_markdown":"Updated answer for 06/19/2015 (if you&#39;re using java 8)\r\n\r\nJust use assertj\r\n\r\n**Using assertj-core-3.0.0    +   Java 8 Lambdas** \r\n\r\n    @Test\r\n    public void shouldThrowIllegalArgumentExceptionWhenPassingBadArg() {\r\n    assertThatThrownBy(() -&gt; myService.sumTingWong(&quot;badArg&quot;))\r\n    \t\t\t\t\t\t\t      .isInstanceOf(IllegalArgumentException.class);\r\n    }\r\n\r\nReference: http://blog.codeleak.pl/2015/04/junit-testing-exceptions-with-java-8.html","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Updated answer for 06/19/2015 (if you're using java 8)</p>\n\n<p>Just use assertj</p>\n\n<p><strong>Using assertj-core-3.0.0    +   Java 8 Lambdas</strong> </p>\n\n<pre><code>@Test\npublic void shouldThrowIllegalArgumentExceptionWhenPassingBadArg() {\nassertThatThrownBy(() -&gt; myService.sumTingWong(\"badArg\"))\n                                  .isInstanceOf(IllegalArgumentException.class);\n}\n</code></pre>\n\n<p>Reference: <a href=\"http://blog.codeleak.pl/2015/04/junit-testing-exceptions-with-java-8.html\" rel=\"noreferrer\">http://blog.codeleak.pl/2015/04/junit-testing-exceptions-with-java-8.html</a></p>\n"},{"tags":[],"owner":{"account_id":4371251,"reputation":311,"user_id":3909050,"display_name":"Prashant Kumar"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1477061377,"creation_date":1477055809,"answer_id":40177703,"question_id":16243580,"body_markdown":"If you&#39;re using JUnit 4, and Mockito 1.10.x\r\nAnnotate your test method with:\r\n\r\n    @Test(expected = AnyException.class)\r\n\r\nand to throw your desired exception use:\r\n\r\n    Mockito.doThrow(new AnyException()).when(obj).callAnyMethod();\r\n\r\n\r\n","title":"Mockito How to mock and assert a thrown exception?","body":"<p>If you're using JUnit 4, and Mockito 1.10.x\nAnnotate your test method with:</p>\n\n<pre><code>@Test(expected = AnyException.class)\n</code></pre>\n\n<p>and to throw your desired exception use:</p>\n\n<pre><code>Mockito.doThrow(new AnyException()).when(obj).callAnyMethod();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8712860,"reputation":1431,"user_id":6518514,"display_name":"Daniel Treiber"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1483041497,"creation_date":1483041497,"answer_id":41386406,"question_id":16243580,"body_markdown":"If you want to test the exception message as well you can use JUnit&#39;s ExpectedException with Mockito:\r\n\r\n    @Rule\r\n    public ExpectedException expectedException = ExpectedException.none();\r\n\r\n    @Test\r\n    public void testExceptionMessage() throws Exception {\r\n        expectedException.expect(AnyException.class);\r\n        expectedException.expectMessage(&quot;The expected message&quot;);\r\n\r\n        given(foo.bar()).willThrow(new AnyException(&quot;The expected message&quot;));\r\n    }","title":"Mockito How to mock and assert a thrown exception?","body":"<p>If you want to test the exception message as well you can use JUnit's ExpectedException with Mockito:</p>\n\n<pre><code>@Rule\npublic ExpectedException expectedException = ExpectedException.none();\n\n@Test\npublic void testExceptionMessage() throws Exception {\n    expectedException.expect(AnyException.class);\n    expectedException.expectMessage(\"The expected message\");\n\n    given(foo.bar()).willThrow(new AnyException(\"The expected message\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7320546,"reputation":1178,"user_id":5576721,"accept_rate":50,"display_name":"Anupama Boorlagadda"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1498587479,"creation_date":1498587479,"answer_id":44787242,"question_id":16243580,"body_markdown":"Using mockito, you can make the exception happen.\r\n\r\n`when(testingClassObj.testSomeMethod).thenThrow(new CustomException());`\r\n\r\nUsing Junit5, you can assert exception, asserts whether *that* exception is thrown when *testing method* is invoked.\r\n\r\n    @Test\r\n\t@DisplayName(&quot;Test assert exception&quot;)\r\n\tvoid testCustomException(TestInfo testInfo) {\r\n\t\tfinal ExpectCustomException expectEx = new ExpectCustomException();\r\n\t\t\r\n\t\t InvalidParameterCountException exception = assertThrows(InvalidParameterCountException.class, () -&gt; {\r\n\t\t        expectEx.constructErrorMessage(&quot;sample &quot;,&quot;error&quot;);\r\n\t\t    });\r\n\t\tassertEquals(&quot;Invalid parametercount: expected=3, passed=2&quot;, exception.getMessage());\r\n\t}\r\n\r\nFind a sample here: [assert exception junit][1]\r\n\r\n\r\n  [1]: https://github.com/anupama513/junit5-starter/blob/master/src/test/java/com/junit5/recipes/demoexception/ExpectCustomExceptionTest.java#L23","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Using mockito, you can make the exception happen.</p>\n\n<p><code>when(testingClassObj.testSomeMethod).thenThrow(new CustomException());</code></p>\n\n<p>Using Junit5, you can assert exception, asserts whether <em>that</em> exception is thrown when <em>testing method</em> is invoked.</p>\n\n<pre><code>@Test\n@DisplayName(\"Test assert exception\")\nvoid testCustomException(TestInfo testInfo) {\n    final ExpectCustomException expectEx = new ExpectCustomException();\n\n     InvalidParameterCountException exception = assertThrows(InvalidParameterCountException.class, () -&gt; {\n            expectEx.constructErrorMessage(\"sample \",\"error\");\n        });\n    assertEquals(\"Invalid parametercount: expected=3, passed=2\", exception.getMessage());\n}\n</code></pre>\n\n<p>Find a sample here: <a href=\"https://github.com/anupama513/junit5-starter/blob/master/src/test/java/com/junit5/recipes/demoexception/ExpectCustomExceptionTest.java#L23\" rel=\"noreferrer\">assert exception junit</a></p>\n"},{"tags":[],"owner":{"account_id":29800,"reputation":1196,"user_id":80772,"display_name":"eel ghEEz"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1511195207,"creation_date":1509359941,"answer_id":47013229,"question_id":16243580,"body_markdown":"Unrelated to mockito, one can catch the exception and assert its properties.  To verify that the exception did happen, assert a false condition within the try block after the statement that throws the exception.","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Unrelated to mockito, one can catch the exception and assert its properties.  To verify that the exception did happen, assert a false condition within the try block after the statement that throws the exception.</p>\n"},{"tags":[],"owner":{"account_id":2729575,"reputation":536,"user_id":2353652,"display_name":"Sam"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1528784917,"creation_date":1528784917,"answer_id":50810545,"question_id":16243580,"body_markdown":"Assert by exception message:\r\n\r\n        try {\r\n            MyAgent.getNameByNode(&quot;d&quot;);\r\n        } catch (Exception e) {\r\n            Assert.assertEquals(&quot;Failed to fetch data.&quot;, e.getMessage());\r\n        }\r\n","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Assert by exception message:</p>\n\n<pre><code>    try {\n        MyAgent.getNameByNode(\"d\");\n    } catch (Exception e) {\n        Assert.assertEquals(\"Failed to fetch data.\", e.getMessage());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7792408,"reputation":412,"user_id":5894853,"display_name":"JediCate"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531805110,"creation_date":1531805110,"answer_id":51373751,"question_id":16243580,"body_markdown":"Or if your exception is thrown from the constructor of a class: \r\n\r\n    @Rule\r\n    public ExpectedException exception = ExpectedException.none();\r\n\r\n    @Test\r\n    public void myTest() {    \r\n    \r\n        exception.expect(MyException.class);\r\n        CustomClass myClass= mock(CustomClass.class);\r\n        doThrow(new MyException(&quot;constructor failed&quot;)).when(myClass);  \r\n      \r\n    }\r\n\r\n","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Or if your exception is thrown from the constructor of a class: </p>\n\n<pre><code>@Rule\npublic ExpectedException exception = ExpectedException.none();\n\n@Test\npublic void myTest() {    \n\n    exception.expect(MyException.class);\n    CustomClass myClass= mock(CustomClass.class);\n    doThrow(new MyException(\"constructor failed\")).when(myClass);  \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":519017,"reputation":1472,"user_id":2468458,"accept_rate":85,"display_name":"Rodrigo Oliveira"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1548693865,"creation_date":1548693865,"answer_id":54406590,"question_id":16243580,"body_markdown":"Use [Mockito&#39;s doThrow][1] and then catch the desired exception to assert it was thrown later.\r\n\r\n    @Test\r\n    public void fooShouldThrowMyException() {\r\n        // given\r\n        val myClass = new MyClass();\r\n        val arg = mock(MyArgument.class);\r\n        doThrow(MyException.class).when(arg).argMethod(any());\r\n        Exception exception = null;\r\n\r\n        // when\r\n        try {\r\n            myClass.foo(arg);\r\n        } catch (MyException t) {\r\n            exception = t;\r\n        }\r\n        \r\n        // then\r\n        assertNotNull(exception);\r\n    }\r\n\r\n\r\n  [1]: https://static.javadoc.io/org.mockito/mockito-core/2.23.4/org/mockito/Mockito.html#12","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Use <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.23.4/org/mockito/Mockito.html#12\" rel=\"noreferrer\">Mockito's doThrow</a> and then catch the desired exception to assert it was thrown later.</p>\n\n<pre><code>@Test\npublic void fooShouldThrowMyException() {\n    // given\n    val myClass = new MyClass();\n    val arg = mock(MyArgument.class);\n    doThrow(MyException.class).when(arg).argMethod(any());\n    Exception exception = null;\n\n    // when\n    try {\n        myClass.foo(arg);\n    } catch (MyException t) {\n        exception = t;\n    }\n\n    // then\n    assertNotNull(exception);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19804202,"reputation":161,"user_id":14504459,"display_name":"Chetan Botre"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1677706574,"creation_date":1609753597,"answer_id":65560548,"question_id":16243580,"body_markdown":"I think this should do it for you.\r\n```\r\nassertThrows(someException.class,\r\n()-&gt; mockedServiceReference.someMethod(param1,parme2,..));\r\n```","title":"Mockito How to mock and assert a thrown exception?","body":"<p>I think this should do it for you.</p>\n<pre><code>assertThrows(someException.class,\n()-&gt; mockedServiceReference.someMethod(param1,parme2,..));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26833698,"reputation":61,"user_id":20421268,"display_name":"belal"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1667596703,"creation_date":1667596663,"answer_id":74323057,"question_id":16243580,"body_markdown":"An easy and short way that worked for me was:\r\n\r\n    assertThrows(YourException.class, () -&gt; yourLogic())","title":"Mockito How to mock and assert a thrown exception?","body":"<p>An easy and short way that worked for me was:</p>\n<pre><code>assertThrows(YourException.class, () -&gt; yourLogic())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686068052,"creation_date":1686063970,"answer_id":76416003,"question_id":16243580,"body_markdown":"Here is a way, how you can Mock and Assert the exception:\r\n\r\n 1. Java 8 or above\r\n 2. JUnit 5 -&gt; `org.junit.jupiter:5.X.X` &amp; `org.mockito:4.X.X`\r\n\r\n\r\n```\r\n// Mock an exception\r\nwhen(mapperService.convertRequest(any())).thenThrow(new RuntimeException());\r\n\r\n// Assert the exception\r\nRuntimeException thrown = Assertions.assertThrows(RuntimeException.class, () -&gt; {\r\n            addOfferService.processData(deltaDetails);\r\n        });\r\nAssertions.assertEquals(&quot;Exception occurred during create data&quot;, thrown.getMessage());\r\n```","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Here is a way, how you can Mock and Assert the exception:</p>\n<ol>\n<li>Java 8 or above</li>\n<li>JUnit 5 -&gt; <code>org.junit.jupiter:5.X.X</code> &amp; <code>org.mockito:4.X.X</code></li>\n</ol>\n<pre><code>// Mock an exception\nwhen(mapperService.convertRequest(any())).thenThrow(new RuntimeException());\n\n// Assert the exception\nRuntimeException thrown = Assertions.assertThrows(RuntimeException.class, () -&gt; {\n            addOfferService.processData(deltaDetails);\n        });\nAssertions.assertEquals(&quot;Exception occurred during create data&quot;, thrown.getMessage());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686070574,"creation_date":1686070574,"answer_id":76416855,"question_id":16243580,"body_markdown":"Mockito fully supports stubbing methods to throw an exception,\r\nAssertJ is not necessary.\r\n\r\nCode below.\r\nFirst the stuff that will be tested:\r\n```Java\r\n@Component\r\npublic class Blam\r\n{\r\n\tpublic void blamIt()\r\n\t{\r\n\t\tSystem.out.println(&quot;blam&quot;);\r\n\t}\r\n}\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class Kapow\r\n{\r\n\tprivate final Blam blam;\r\n\r\n\tpublic void aMethod()\r\n\t{\r\n\t\tblam.blamIt();\r\n\t}\r\n}\r\n```\r\n\r\nNow the actual unit test (using Mockito and Junit 5):\r\n```Java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class TestKapow\r\n{\r\n\tprivate Kapow classToTest;\r\n\r\n\t@Mock\r\n\tprivate Blam mockBlam;\r\n\r\n\t@Mock\r\n\tprivate RuntimeException mockRuntimeException;\r\n\r\n\t@BeforeEach\r\n\tvoid beforeEach()\r\n\t{\r\n\t\tclassToTest = new Kapow(mockBlam);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid aMethod_blamItThrowsRuntimeException_exceptionEscapes()\r\n\t{\r\n\t\tfinal RuntimeException actualException;\r\n\r\n\r\n\t\tdoThrow(mockRuntimeException).when(mockBlam).blamIt();\r\n\r\n\r\n\t\tactualException = assertThrows(RuntimeException.class, () -&gt; classToTest.aMethod());\r\n\r\n\t\tassertNotNull(actualException);\r\n\r\n\t\tassertSame(mockRuntimeException, actualException);\r\n\t}\r\n}\r\n```\r\n\r\nSome Notes:\r\n 1. I find it to be a good practice to instantiate mock objects via the `@Mock` annotation.\r\n 1. I prefer the `doThrow(xxx).when(mockXxx).method` form for throwing and exception during a unit test.\r\n 1. You can &quot;catch&quot; the thrown exception when using the `assertThrows` method.","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Mockito fully supports stubbing methods to throw an exception,\nAssertJ is not necessary.</p>\n<p>Code below.\nFirst the stuff that will be tested:</p>\n<pre><code>@Component\npublic class Blam\n{\n    public void blamIt()\n    {\n        System.out.println(&quot;blam&quot;);\n    }\n}\n\n@Component\n@RequiredArgsConstructor\npublic class Kapow\n{\n    private final Blam blam;\n\n    public void aMethod()\n    {\n        blam.blamIt();\n    }\n}\n</code></pre>\n<p>Now the actual unit test (using Mockito and Junit 5):</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class TestKapow\n{\n    private Kapow classToTest;\n\n    @Mock\n    private Blam mockBlam;\n\n    @Mock\n    private RuntimeException mockRuntimeException;\n\n    @BeforeEach\n    void beforeEach()\n    {\n        classToTest = new Kapow(mockBlam);\n    }\n\n    @Test\n    void aMethod_blamItThrowsRuntimeException_exceptionEscapes()\n    {\n        final RuntimeException actualException;\n\n\n        doThrow(mockRuntimeException).when(mockBlam).blamIt();\n\n\n        actualException = assertThrows(RuntimeException.class, () -&gt; classToTest.aMethod());\n\n        assertNotNull(actualException);\n\n        assertSame(mockRuntimeException, actualException);\n    }\n}\n</code></pre>\n<p>Some Notes:</p>\n<ol>\n<li>I find it to be a good practice to instantiate mock objects via the <code>@Mock</code> annotation.</li>\n<li>I prefer the <code>doThrow(xxx).when(mockXxx).method</code> form for throwing and exception during a unit test.</li>\n<li>You can &quot;catch&quot; the thrown exception when using the <code>assertThrows</code> method.</li>\n</ol>\n"}],"owner":{"account_id":387473,"reputation":18600,"user_id":745835,"accept_rate":80,"display_name":"stackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626803,"favorite_count":0,"down_vote_count":2,"up_vote_count":186,"accepted_answer_id":16243661,"answer_count":15,"score":184,"last_activity_date":1686070574,"creation_date":1367003333,"question_id":16243580,"body_markdown":"I&#39;m using mockito in a junit test. How do you make an exception happen and then assert that it has (generic pseudo-code)","title":"Mockito How to mock and assert a thrown exception?","body":"<p>I'm using mockito in a junit test. How do you make an exception happen and then assert that it has (generic pseudo-code)</p>\n"},{"tags":["java","exception","java.util.scanner"],"comments":[{"owner":{"account_id":27097249,"reputation":13,"user_id":20644326,"display_name":"Alexandru Vrincianu"},"score":0,"creation_date":1686070325,"post_id":76416718,"comment_id":134747639,"body_markdown":"Yes!! Thank you very much. It makes sense now why it wasn&#39;t working","body":"Yes!! Thank you very much. It makes sense now why it wasn&#39;t working"}],"owner":{"account_id":27097249,"reputation":13,"user_id":20644326,"display_name":"Alexandru Vrincianu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686070346,"answer_count":0,"score":0,"last_activity_date":1686070443,"creation_date":1686069314,"question_id":76416718,"body_markdown":"I have a problem with my scanner in the main method. I know that this topic has been addressed before, but everything I&#39;ve tried doesn&#39;t solve my problem. I hope you can help me.\r\n\r\n```\r\nimport java.utill.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner c = new Scanner(System.in);\r\n        Grades grade = new Grades(4, 2);\r\n\r\n\r\n        System.out.println(&quot;1 is finished&quot;);\r\n\r\n        System.out.println(&quot;2 is starting&quot;);\r\n\r\n        int n = c.nextInt();\r\n\r\n        System.out.println(&quot;2.1 is starting&quot;);\r\n\r\n        int gr;\r\n        for (int i = grade.getTotal(); i &lt; grade.getTotal() + n; i++) {\r\n            gr = c.nextInt();\r\n            grade.setGrades(gr, i, grade.getTotal() + n);\r\n        }\r\n\r\n        System.out.println(&quot;2 is finished&quot;);\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;3 is starting&quot;);\r\n\r\n        for (int i = 0; i &lt; grade.getTotal(); i++) {\r\n        System.out.println(grade.getGrade(i));\r\n        }\r\n\r\n        System.out.println(&quot;3 is finished&quot;);\r\n        System.out.println();\r\n\r\n        c.close();\r\n    }\r\n\r\n\r\n}\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Grades {\r\n\r\n    public Grades(int total, int totalCurriculum) {\r\n        Scanner sc = new Scanner(System.in);\r\n    \r\n        setTotalCurriculum(totalCurriculum);\r\n        setTotal(total);\r\n    \r\n        for (int i = 0; i &lt; total; i++) {\r\n            this.grades[i] = sc.nextInt();\r\n        }\r\n    \r\n        sc.close();\r\n    }\r\n    \r\n    public void setGrades(int grade, int index, int total) {\r\n        this.grades[index] = grade;\r\n        if (index &lt; total) {\r\n            setTotal(this.total + total);\r\n        }\r\n    }\r\n    \r\n    public int getGrade(int nr) {\r\n        return grades[nr];\r\n    }\r\n    \r\n    public int getLocalAverage(int nr) {\r\n        return localAverage[nr];\r\n    }\r\n    \r\n    public float globalAverageCalc(int[] localAverage) {\r\n        int sum = 0;\r\n    \r\n        for (int i = 0; i &lt; getTotal(); i++) {\r\n            sum = sum + getGrade(i);\r\n        }\r\n    \r\n        return (float) sum / getTotalCurriculum();\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen i try to input the int value for `int n` (under `System.out.println(&quot;2 is starting&quot;);`) the error appears and the program stops.\r\n\r\nThis is the console output:\r\n\r\n```\r\n5\r\n4\r\n7\r\n9\r\n1 is finished\r\n2 is starting\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:945)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1602)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2267)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2221)\r\n\tat Test.Main.main(Main.java:22)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nThank you for the help!","title":"I have a problem with the scanner in Java","body":"<p>I have a problem with my scanner in the main method. I know that this topic has been addressed before, but everything I've tried doesn't solve my problem. I hope you can help me.</p>\n<pre><code>import java.utill.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner c = new Scanner(System.in);\n        Grades grade = new Grades(4, 2);\n\n\n        System.out.println(&quot;1 is finished&quot;);\n\n        System.out.println(&quot;2 is starting&quot;);\n\n        int n = c.nextInt();\n\n        System.out.println(&quot;2.1 is starting&quot;);\n\n        int gr;\n        for (int i = grade.getTotal(); i &lt; grade.getTotal() + n; i++) {\n            gr = c.nextInt();\n            grade.setGrades(gr, i, grade.getTotal() + n);\n        }\n\n        System.out.println(&quot;2 is finished&quot;);\n        System.out.println();\n\n        System.out.println(&quot;3 is starting&quot;);\n\n        for (int i = 0; i &lt; grade.getTotal(); i++) {\n        System.out.println(grade.getGrade(i));\n        }\n\n        System.out.println(&quot;3 is finished&quot;);\n        System.out.println();\n\n        c.close();\n    }\n\n\n}\n\nimport java.util.Scanner;\n\npublic class Grades {\n\n    public Grades(int total, int totalCurriculum) {\n        Scanner sc = new Scanner(System.in);\n    \n        setTotalCurriculum(totalCurriculum);\n        setTotal(total);\n    \n        for (int i = 0; i &lt; total; i++) {\n            this.grades[i] = sc.nextInt();\n        }\n    \n        sc.close();\n    }\n    \n    public void setGrades(int grade, int index, int total) {\n        this.grades[index] = grade;\n        if (index &lt; total) {\n            setTotal(this.total + total);\n        }\n    }\n    \n    public int getGrade(int nr) {\n        return grades[nr];\n    }\n    \n    public int getLocalAverage(int nr) {\n        return localAverage[nr];\n    }\n    \n    public float globalAverageCalc(int[] localAverage) {\n        int sum = 0;\n    \n        for (int i = 0; i &lt; getTotal(); i++) {\n            sum = sum + getGrade(i);\n        }\n    \n        return (float) sum / getTotalCurriculum();\n    }\n\n}\n</code></pre>\n<p>When i try to input the int value for <code>int n</code> (under <code>System.out.println(&quot;2 is starting&quot;);</code>) the error appears and the program stops.</p>\n<p>This is the console output:</p>\n<pre><code>5\n4\n7\n9\n1 is finished\n2 is starting\nException in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:945)\n    at java.base/java.util.Scanner.next(Scanner.java:1602)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2267)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2221)\n    at Test.Main.main(Main.java:22)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Thank you for the help!</p>\n"},{"tags":["java","optimization","casting","numbers","boolean"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1685797776,"post_id":76396214,"comment_id":134713256,"body_markdown":"Why are you using `char`s in the first place? We could use a `boolean[][]`, `boolean[]` or - if we want to stay with the bit-juggling - an `int`.","body":"Why are you using <code>char</code>s in the first place? We could use a <code>boolean[][]</code>, <code>boolean[]</code> or - if we want to stay with the bit-juggling - an <code>int</code>."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1685798261,"post_id":76396214,"comment_id":134713309,"body_markdown":"Or a [`BitSet`](https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html).","body":"Or a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html\" rel=\"nofollow noreferrer\"><code>BitSet</code></a>."},{"owner":{"account_id":26223755,"reputation":1,"user_id":19900735,"display_name":"Shooper"},"score":0,"creation_date":1685800047,"post_id":76396214,"comment_id":134713467,"body_markdown":"@Turing85 i want to stay with the bit-juggling because I guess its faster to use bitmaps to determine if someone won. int is 32 bit but I only need 9 bits to represent the field state. and char is 16 bit so i have less always 0 bits in my memory\n\nBut yes, if booleans are stored with 1 bit in jvm, not with 1 byte as in C or on our physical machine, this would be a good optimization in memusage","body":"@Turing85 i want to stay with the bit-juggling because I guess its faster to use bitmaps to determine if someone won. int is 32 bit but I only need 9 bits to represent the field state. and char is 16 bit so i have less always 0 bits in my memory  But yes, if booleans are stored with 1 bit in jvm, not with 1 byte as in C or on our physical machine, this would be a good optimization in memusage"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1685802035,"post_id":76396214,"comment_id":134713676,"body_markdown":"You do know that, in bytecode, there is no code to load a `char` from local memory, right? Every datatype `&lt; int` (i..e `boolean`, `byte`, `short`, `char`) is handled through `iload`, `istore`, ... (array-types are the exception, there are codes to, e.g., load `boolean`s from an array).","body":"You do know that, in bytecode, there is no code to load a <code>char</code> from local memory, right? Every datatype <code>&lt; int</code> (i..e <code>boolean</code>, <code>byte</code>, <code>short</code>, <code>char</code>) is handled through <code>iload</code>, <code>istore</code>, ... (array-types are the exception, there are codes to, e.g., load <code>boolean</code>s from an array)."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1685802955,"post_id":76396214,"comment_id":134713761,"body_markdown":"Besides... if we really want to optimize, we could use a single `int` to encode both player&#39;s marks, as well as whose player&#39;s turn it is. We would use `19` out of `32` bits. But to be honest, I smell a case of premature optimization, and [&quot;*premature optimization is the root of all evil*&quot; -- Donald Ervin Knuth: *Computer Programming as an Art* (1974), p. 671](https://dl.acm.org/ft_gateway.cfm?id=361612&amp;ftid=289767)","body":"Besides... if we really want to optimize, we could use a single <code>int</code> to encode both player&#39;s marks, as well as whose player&#39;s turn it is. We would use <code>19</code> out of <code>32</code> bits. But to be honest, I smell a case of premature optimization, and <a href=\"https://dl.acm.org/ft_gateway.cfm?id=361612&amp;ftid=289767\" rel=\"nofollow noreferrer\">&quot;<i>premature optimization is the root of all evil</i>&quot; -- Donald Ervin Knuth: <i>Computer Programming as an Art</i> (1974), p. 671</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686057553,"post_id":76396214,"comment_id":134744658,"body_markdown":"@Shooper the HotSpot JVM uses a `byte` per `boolean` for arrays. If you want to use a single bit per `boolean` you have to use `BitSet` or stay with your `char`.","body":"@Shooper the HotSpot JVM uses a <code>byte</code> per <code>boolean</code> for arrays. If you want to use a single bit per <code>boolean</code> you have to use <code>BitSet</code> or stay with your <code>char</code>."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686070338,"creation_date":1686070338,"answer_id":76416827,"question_id":76396214,"body_markdown":"As long as your code lacks correctness, i.e. the condition of `while(evaluateWinner())` is wrong and there’s no check for a draw, you should not worry about performance.\r\n\r\nLetting aside that in this simple program, performance doesn’t matter at all, you are focusing on the wrong things. You are performing string concatenation in a loop and calling `print` nine times in a row. The form of the boolean expression is entirely irrelevant. Even performing modulo 3 is more expensive here (unless the JVM’s optimizer replaces it).\r\n\r\nIf you want to continue, as a fun exercise, consider the following points:\r\n\r\n - Reduce the number of I/O operations (i.e. one `print` instead of nine)\r\n - Prefer local variables\r\n - Use the smaller integer types (`byte`, `short`, `char`) only for arrays. For most operations, especially local variables and arithmetic, they may counter the intended effect: Java actually uses `int`, but has to perform additional truncation\r\n - If you need an immutable `char[]`, use `String`. The encapsulation has no noticeable performance penalty but enables lots of potential optimizations.\r\n - If your replace `player1 &amp; 1 &lt;&lt; i` with `player1 &gt;&gt; i &amp; 1` you get zero or one, then, instead of testing against zero and conditionally using `&#39;X&#39;` or `&#39;O&#39;`, you can use it as an index into `&quot;OX&quot;`, avoiding the conditional.\r\n\r\nE.g.\r\n\r\n```java\r\npublic class TicTacToe {\r\n    static final String WIN_CONDITIONS=&quot;\\u01c0\\070\\007\\u0124\\222\\111\\u0111\\124&quot;;\r\n\r\n    final Scanner scanner = new Scanner(System.in);\r\n    int player1 = 0b000_000_000, player2 = 0b000_000_000;\r\n\r\n    boolean evaluateWinner(int current) {\r\n        for(int ix = 0; ix &lt; WIN_CONDITIONS.length(); ix++) {\r\n            char condition = WIN_CONDITIONS.charAt(ix);\r\n            if((condition == (current &amp; condition))) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    int getInput() {\r\n        int field = player1 | player2;\r\n        for(;;) {\r\n            System.out.println(&quot;Give Input: 0 1 ... 8 &quot;);\r\n            int out = 1 &lt;&lt; scanner.nextInt();\r\n            if((out &amp; field) == 0) return out;\r\n            System.out.println(&quot;already occupied&quot;);\r\n        }\r\n    }\r\n\r\n    public void start() {\r\n      for(boolean swap = false; ; swap = !swap) {\r\n            draw();\r\n            int p = swap? player2: player1;\r\n            p |= getInput();\r\n            if(evaluateWinner(p)) {\r\n                System.out.println(swap? &quot;O wins&quot;: &quot;X wins&quot;);\r\n                break;\r\n            }\r\n            if(swap) player2 = p; else player1 = p;\r\n            if((player1 | player2) == 0x1FF) {\r\n                System.out.println(&quot;Draw&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    void draw() {\r\n        char[] chars = &quot;|0|1|2|\\n|3|4|5|\\n|6|7|8|\\n&quot;.toCharArray();\r\n        int p1 = player1, field = p1 | player2;\r\n        for(int i = 0, j = 1; i &lt; 9; j += 2)\r\n            for(int c = 0; c &lt; 3; c++, i++, j+=2)\r\n              if((field &amp; 1 &lt;&lt; i) != 0) chars[j] = &quot;OX&quot;.charAt(p1 &gt;&gt; i &amp; 1);\r\n        System.out.print(chars);\r\n    }\r\n}\r\n```\r\n\r\nAs said, you won’t notice actual performance differences with such a simple program, but it’s a fun exercise providing some ideas.","title":"How do I optimize casting number to boolean, the most efficient way, Optimizing Tic Tac Toe","body":"<p>As long as your code lacks correctness, i.e. the condition of <code>while(evaluateWinner())</code> is wrong and there’s no check for a draw, you should not worry about performance.</p>\n<p>Letting aside that in this simple program, performance doesn’t matter at all, you are focusing on the wrong things. You are performing string concatenation in a loop and calling <code>print</code> nine times in a row. The form of the boolean expression is entirely irrelevant. Even performing modulo 3 is more expensive here (unless the JVM’s optimizer replaces it).</p>\n<p>If you want to continue, as a fun exercise, consider the following points:</p>\n<ul>\n<li>Reduce the number of I/O operations (i.e. one <code>print</code> instead of nine)</li>\n<li>Prefer local variables</li>\n<li>Use the smaller integer types (<code>byte</code>, <code>short</code>, <code>char</code>) only for arrays. For most operations, especially local variables and arithmetic, they may counter the intended effect: Java actually uses <code>int</code>, but has to perform additional truncation</li>\n<li>If you need an immutable <code>char[]</code>, use <code>String</code>. The encapsulation has no noticeable performance penalty but enables lots of potential optimizations.</li>\n<li>If your replace <code>player1 &amp; 1 &lt;&lt; i</code> with <code>player1 &gt;&gt; i &amp; 1</code> you get zero or one, then, instead of testing against zero and conditionally using <code>'X'</code> or <code>'O'</code>, you can use it as an index into <code>&quot;OX&quot;</code>, avoiding the conditional.</li>\n</ul>\n<p>E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TicTacToe {\n    static final String WIN_CONDITIONS=&quot;\\u01c0\\070\\007\\u0124\\222\\111\\u0111\\124&quot;;\n\n    final Scanner scanner = new Scanner(System.in);\n    int player1 = 0b000_000_000, player2 = 0b000_000_000;\n\n    boolean evaluateWinner(int current) {\n        for(int ix = 0; ix &lt; WIN_CONDITIONS.length(); ix++) {\n            char condition = WIN_CONDITIONS.charAt(ix);\n            if((condition == (current &amp; condition))) return true;\n        }\n        return false;\n    }\n\n    int getInput() {\n        int field = player1 | player2;\n        for(;;) {\n            System.out.println(&quot;Give Input: 0 1 ... 8 &quot;);\n            int out = 1 &lt;&lt; scanner.nextInt();\n            if((out &amp; field) == 0) return out;\n            System.out.println(&quot;already occupied&quot;);\n        }\n    }\n\n    public void start() {\n      for(boolean swap = false; ; swap = !swap) {\n            draw();\n            int p = swap? player2: player1;\n            p |= getInput();\n            if(evaluateWinner(p)) {\n                System.out.println(swap? &quot;O wins&quot;: &quot;X wins&quot;);\n                break;\n            }\n            if(swap) player2 = p; else player1 = p;\n            if((player1 | player2) == 0x1FF) {\n                System.out.println(&quot;Draw&quot;);\n                break;\n            }\n        }\n    }\n\n    void draw() {\n        char[] chars = &quot;|0|1|2|\\n|3|4|5|\\n|6|7|8|\\n&quot;.toCharArray();\n        int p1 = player1, field = p1 | player2;\n        for(int i = 0, j = 1; i &lt; 9; j += 2)\n            for(int c = 0; c &lt; 3; c++, i++, j+=2)\n              if((field &amp; 1 &lt;&lt; i) != 0) chars[j] = &quot;OX&quot;.charAt(p1 &gt;&gt; i &amp; 1);\n        System.out.print(chars);\n    }\n}\n</code></pre>\n<p>As said, you won’t notice actual performance differences with such a simple program, but it’s a fun exercise providing some ideas.</p>\n"}],"owner":{"account_id":26223755,"reputation":1,"user_id":19900735,"display_name":"Shooper"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686070338,"creation_date":1685797163,"question_id":76396214,"body_markdown":"I am new to java and I am trying to optimize my code as far as possible.\r\n\r\nI want to know what is the most efficient way for the machine to convert a number, lets say int or char, to a boolean.\r\n\r\nI am implementing TicTacToe in java. I am using bitmaps to represent the state of the game.\r\nI am aware of the unreadability, but I don&#39;t want to optimize that. Code efficient \\&lt; machine efficient.\r\n\r\n```Java\r\nimport java.util.Scanner;\r\n\r\npublic class TicTacToe {\r\n    boolean swap = false;\r\n    char player1 = 0b000000000;\r\n    char player2 = 0b000000000;\r\n    static char[] winconditions = new char[]{0b111000000, 0b000111000, 0b000000111, 0b100100100, 0b010010010, 0b001001001, 0b100010001, 0b001010100};\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    boolean evaluateWinner() {\r\n        char current = swap ? player2 : player1;\r\n        for (char condition : winconditions)\r\n            if ((condition == (current &amp; condition))) return true;\r\n        return false;\r\n    }\r\n\r\n    int getInput() {\r\n        int field = player1 | player2;\r\n        while (true) {\r\n            System.out.println(&quot;Give Input: 0 1 ... 8 &quot;);\r\n            int out = 1 &lt;&lt; scanner.nextInt();\r\n            if ((out &amp; field) == 0) return out;\r\n        }\r\n    }\r\n\r\n    public void start() {\r\n        do {\r\n            draw();\r\n            if (swap) player2 |= getInput();\r\n            else player1 |= getInput();\r\n            swap = !swap;\r\n        } while (evaluateWinner());\r\n    }\r\n\r\n    void draw() {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            boolean isP1 = (player1 &amp; 1 &lt;&lt; i) != 0;\r\n            boolean isAny = (player2 &amp; 1 &lt;&lt; i) != 0 || isP1;\r\n            String out = isAny ? (is1 ? &quot;X&quot; : &quot;O&quot;) : String.valueOf(i);\r\n            if (i % 3 == 2) out += &quot;|\\n&quot;;\r\n            System.out.print(&quot;|&quot; + out);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCall `var game = new TicTacToe(); game.start();` to run the game.\r\n\r\nIn `TicTacToe.draw` I need to determine if a specific bit is set to 1 or 0. With a few bitwise operations I am getting a number. In C I wouldn&#39;t have to convert the number to boolean.\r\nBut in Java I have to. What is the most efficient way to do that?\r\n\r\n1. n != 0\r\n\r\n```\r\nboolean isP1 = (player1 &amp; 1 &lt;&lt; i) != 0;\r\nboolean isAny = (player2 &amp; 1 &lt;&lt; i) != 0 || isP1;\r\n```\r\n\r\n2. (boolean) n\r\n\r\n```\r\nboolean isP1 = (boolean) (player1 &amp; 1 &lt;&lt; i) ;\r\nboolean isAny = ((boolean)(player2 &amp; 1 &lt;&lt; i))|| isP1;\r\n```\r\n\r\nIs it the same or are there more efficient ways to do convert numbers to a boolean?\r\n\r\n------------------------------------------------\r\n\r\nIf you have more ideas how to optimize the code in cpu runtime and in memory usage. Let me know.\r\nI don&#39;t think there is much more I can do. But proof me wrong if you want.\r\n\r\nKind reagards\r\n: )\r\n\r\n--------------------","title":"How do I optimize casting number to boolean, the most efficient way, Optimizing Tic Tac Toe","body":"<p>I am new to java and I am trying to optimize my code as far as possible.</p>\n<p>I want to know what is the most efficient way for the machine to convert a number, lets say int or char, to a boolean.</p>\n<p>I am implementing TicTacToe in java. I am using bitmaps to represent the state of the game.\nI am aware of the unreadability, but I don't want to optimize that. Code efficient &lt; machine efficient.</p>\n<pre><code>import java.util.Scanner;\n\npublic class TicTacToe {\n    boolean swap = false;\n    char player1 = 0b000000000;\n    char player2 = 0b000000000;\n    static char[] winconditions = new char[]{0b111000000, 0b000111000, 0b000000111, 0b100100100, 0b010010010, 0b001001001, 0b100010001, 0b001010100};\n    Scanner scanner = new Scanner(System.in);\n\n    boolean evaluateWinner() {\n        char current = swap ? player2 : player1;\n        for (char condition : winconditions)\n            if ((condition == (current &amp; condition))) return true;\n        return false;\n    }\n\n    int getInput() {\n        int field = player1 | player2;\n        while (true) {\n            System.out.println(&quot;Give Input: 0 1 ... 8 &quot;);\n            int out = 1 &lt;&lt; scanner.nextInt();\n            if ((out &amp; field) == 0) return out;\n        }\n    }\n\n    public void start() {\n        do {\n            draw();\n            if (swap) player2 |= getInput();\n            else player1 |= getInput();\n            swap = !swap;\n        } while (evaluateWinner());\n    }\n\n    void draw() {\n        for (int i = 0; i &lt; 9; i++) {\n            boolean isP1 = (player1 &amp; 1 &lt;&lt; i) != 0;\n            boolean isAny = (player2 &amp; 1 &lt;&lt; i) != 0 || isP1;\n            String out = isAny ? (is1 ? &quot;X&quot; : &quot;O&quot;) : String.valueOf(i);\n            if (i % 3 == 2) out += &quot;|\\n&quot;;\n            System.out.print(&quot;|&quot; + out);\n        }\n    }\n}\n</code></pre>\n<p>Call <code>var game = new TicTacToe(); game.start();</code> to run the game.</p>\n<p>In <code>TicTacToe.draw</code> I need to determine if a specific bit is set to 1 or 0. With a few bitwise operations I am getting a number. In C I wouldn't have to convert the number to boolean.\nBut in Java I have to. What is the most efficient way to do that?</p>\n<ol>\n<li>n != 0</li>\n</ol>\n<pre><code>boolean isP1 = (player1 &amp; 1 &lt;&lt; i) != 0;\nboolean isAny = (player2 &amp; 1 &lt;&lt; i) != 0 || isP1;\n</code></pre>\n<ol start=\"2\">\n<li>(boolean) n</li>\n</ol>\n<pre><code>boolean isP1 = (boolean) (player1 &amp; 1 &lt;&lt; i) ;\nboolean isAny = ((boolean)(player2 &amp; 1 &lt;&lt; i))|| isP1;\n</code></pre>\n<p>Is it the same or are there more efficient ways to do convert numbers to a boolean?</p>\n<hr />\n<p>If you have more ideas how to optimize the code in cpu runtime and in memory usage. Let me know.\nI don't think there is much more I can do. But proof me wrong if you want.</p>\n<p>Kind reagards\n: )</p>\n<hr />\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1686048019,"post_id":76412065,"comment_id":134742618,"body_markdown":"`ThreadPoolExecutor` is not a thread. An instance of `ThreadPoolExecutor` is not a thread. The thread that calls `shutdownNow()` is the interrupting thread.","body":"<code>ThreadPoolExecutor</code> is not a thread. An instance of <code>ThreadPoolExecutor</code> is not a thread. The thread that calls <code>shutdownNow()</code> is the interrupting thread."}],"owner":{"account_id":28762452,"reputation":1,"user_id":22028051,"display_name":"Emma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686070282,"creation_date":1686033945,"question_id":76412065,"body_markdown":"I am reading Java Concurrency in practice.\r\n\r\nI have question about the content in 7.1.3: &quot;Responding to interruption&quot;.\r\n~~~\r\nCancellation can involve state other than the interruption status; interruption can be used to get the thread’s attention, and information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread. (Be sure to use synchronization when accessing that information.)\r\n\r\nFor example, when a worker thread owned by a ThreadPoolExecutor detects interruption, it checks whether the pool is being shut down. If so, it performs some pool cleanup before terminating; otherwise it may create a new thread to restore the thread pool to the desired size. \r\n~~~\r\n\r\nI cannot imagine a scenario about &quot;information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread.&quot;\r\n\r\nI think maybe `ThreadPoolExecutor` is the example, but the shutdown information is stored by `ThreadPoolExecutor` instead of the interrupting thread.\r\n\r\nCould someone provide an example of &quot;information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread&quot;?","title":"Example of &quot;information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread&quot; in JCIP","body":"<p>I am reading Java Concurrency in practice.</p>\n<p>I have question about the content in 7.1.3: &quot;Responding to interruption&quot;.</p>\n<pre><code>Cancellation can involve state other than the interruption status; interruption can be used to get the thread’s attention, and information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread. (Be sure to use synchronization when accessing that information.)\n\nFor example, when a worker thread owned by a ThreadPoolExecutor detects interruption, it checks whether the pool is being shut down. If so, it performs some pool cleanup before terminating; otherwise it may create a new thread to restore the thread pool to the desired size. \n</code></pre>\n<p>I cannot imagine a scenario about &quot;information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread.&quot;</p>\n<p>I think maybe <code>ThreadPoolExecutor</code> is the example, but the shutdown information is stored by <code>ThreadPoolExecutor</code> instead of the interrupting thread.</p>\n<p>Could someone provide an example of &quot;information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread&quot;?</p>\n"},{"tags":["java","spring-mvc","junit","mockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":1,"creation_date":1686075930,"post_id":76416819,"comment_id":134748825,"body_markdown":"Please, add the code of the tested class (especially the place where RestTemplate is declared, e.g. a field) and the complete code of your test (especially the tested class instance with annotations, any `before` methods etc.).","body":"Please, add the code of the tested class (especially the place where RestTemplate is declared, e.g. a field) and the complete code of your test (especially the tested class instance with annotations, any <code>before</code> methods etc.)."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686101456,"post_id":76416819,"comment_id":134751948,"body_markdown":"You haven&#39;t shown how your mock is getting injected into the class you are testing. Please look at https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test","body":"You haven&#39;t shown how your mock is getting injected into the class you are testing. Please look at <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\" title=\"why are my mocked methods not called when executing a unit test\">stackoverflow.com/questions/74027324/&hellip;</a>"}],"owner":{"account_id":28220747,"reputation":1,"user_id":21571516,"display_name":"Deepak Mandlik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686070236,"creation_date":1686070236,"question_id":76416819,"body_markdown":"I&#39;m trying write unit tests for the class which has a\r\n\r\nrestTemplate.getForObject(  Url, Response.class);\r\n\r\nI&#39;ve mocked the RestTemplate in the test class still when I run test case, request hit&#39;s server and I get error\r\n\r\nrestTemplate.getForObject(configDiyUrl, BaseResponse.class);\r\n\r\nerror:\r\n\r\nI/O error on GET request for &quot;http://localhost:8080/WMService/api/v1/BulkDataSync&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\r\n\r\nI&#39;ve mocked the RestTemplate like this,\r\n\r\n```\r\n@Mock\r\nRestTemplate restTemplate\r\n```\r\n\r\nthen I&#39;ve written the when/then mocking like this,\r\n\r\n```\r\nwhen(restTemplate.getForObject(anyString(), eq(Response.class))).thenReturn(br);\r\n```\r\n\r\nstill when I run test case I get above  mentioned error.\r\n\r\nAs per my understanding it should not hit the server when it is mocked.\r\n\r\nI&#39;m looking for some help about mocking RestTemplate so that it won&#39;t hit server.\r\n\r\nI&#39;ve gone throgh [this example](https://www.baeldung.com/spring-mock-rest-template) still I&#39;m getting error as it hit&#39;s server.","title":"how to mock RestTemplate to mock it&#39;s methods","body":"<p>I'm trying write unit tests for the class which has a</p>\n<p>restTemplate.getForObject(  Url, Response.class);</p>\n<p>I've mocked the RestTemplate in the test class still when I run test case, request hit's server and I get error</p>\n<p>restTemplate.getForObject(configDiyUrl, BaseResponse.class);</p>\n<p>error:</p>\n<p>I/O error on GET request for &quot;http://localhost:8080/WMService/api/v1/BulkDataSync&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect</p>\n<p>I've mocked the RestTemplate like this,</p>\n<pre><code>@Mock\nRestTemplate restTemplate\n</code></pre>\n<p>then I've written the when/then mocking like this,</p>\n<pre><code>when(restTemplate.getForObject(anyString(), eq(Response.class))).thenReturn(br);\n</code></pre>\n<p>still when I run test case I get above  mentioned error.</p>\n<p>As per my understanding it should not hit the server when it is mocked.</p>\n<p>I'm looking for some help about mocking RestTemplate so that it won't hit server.</p>\n<p>I've gone throgh <a href=\"https://www.baeldung.com/spring-mock-rest-template\" rel=\"nofollow noreferrer\">this example</a> still I'm getting error as it hit's server.</p>\n"},{"tags":["java","google-cloud-platform","google-bigquery","apache-beam"],"comments":[{"owner":{"account_id":14783924,"reputation":217599,"user_id":10676716,"display_name":"GMB"},"score":0,"creation_date":1684933317,"post_id":76323746,"comment_id":134589742,"body_markdown":"Just `mycol timestamp default current_timestamp`. https://cloud.google.com/bigquery/docs/default-values","body":"Just <code>mycol timestamp default current_timestamp</code>. <a href=\"https://cloud.google.com/bigquery/docs/default-values\" rel=\"nofollow noreferrer\">cloud.google.com/bigquery/docs/default-values</a>"}],"answers":[{"tags":[],"owner":{"account_id":25595958,"reputation":1,"user_id":19371728,"display_name":"Poala Astrid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686007966,"creation_date":1686007966,"answer_id":76410591,"question_id":76323746,"body_markdown":"According to @GMB, you can use this line of query:\r\n```\r\nmycol timestamp default current_timestamp\r\n```\r\n\r\nPosting this answer as a Community Wiki since this is a possible workaround and for the benefit of the community that might encounter this use case in the future.","title":"Automatically Adding Current Timestamp on Row Insertion in GCP BigQuery","body":"<p>According to @GMB, you can use this line of query:</p>\n<pre><code>mycol timestamp default current_timestamp\n</code></pre>\n<p>Posting this answer as a Community Wiki since this is a possible workaround and for the benefit of the community that might encounter this use case in the future.</p>\n"}],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686070193,"creation_date":1684932679,"question_id":76323746,"body_markdown":"I am seeking advice regarding the insertion of rows in a Google Cloud Platform (GCP) BigQuery table. Specifically, I am interested in understanding if it is possible for BigQuery to automatically add the current timestamp into a dedicated column each time a new row is inserted.\r\n\r\nI am aware that I can accomplish this by generating a timestamp from my Java code and including it in the data that I&#39;m sending to BigQuery. However, I am curious to know if there&#39;s a way for BigQuery itself to handle this functionality, similar to the DEFAULT CURRENT_TIMESTAMP feature available in some SQL-based relational databases.\r\n\r\nIs there a built-in feature or SQL command in BigQuery that would allow me to do this, or would this functionality always need to be handled at the application level (in my case, Java)?","title":"Automatically Adding Current Timestamp on Row Insertion in GCP BigQuery","body":"<p>I am seeking advice regarding the insertion of rows in a Google Cloud Platform (GCP) BigQuery table. Specifically, I am interested in understanding if it is possible for BigQuery to automatically add the current timestamp into a dedicated column each time a new row is inserted.</p>\n<p>I am aware that I can accomplish this by generating a timestamp from my Java code and including it in the data that I'm sending to BigQuery. However, I am curious to know if there's a way for BigQuery itself to handle this functionality, similar to the DEFAULT CURRENT_TIMESTAMP feature available in some SQL-based relational databases.</p>\n<p>Is there a built-in feature or SQL command in BigQuery that would allow me to do this, or would this functionality always need to be handled at the application level (in my case, Java)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"score":1,"creation_date":1519207331,"post_id":35752497,"comment_id":84811285,"body_markdown":"The answer is here: https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users","body":"The answer is here: <a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\" title=\"how to set java home in linux for all users\">stackoverflow.com/questions/24641536/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1456935395,"creation_date":1456935395,"answer_id":35752607,"question_id":35752497,"body_markdown":"`$JAVA_HOME` is a global variable that you typically must set yourself. \r\n\r\nIn certain (most?) platforms, installing Java will not set your `JAVA_HOME` variable. \r\n\r\nThe advantage here is that you can have multiple Java versions co-existing within one system. \r\n\r\nSince you&#39;re running on *nix system, you can do that in your own logon scripts, such as `~/.bashrc` or `~/.bash_profile`, etc. ","title":"echo $JAVA_HOME returns nothing","body":"<p><code>$JAVA_HOME</code> is a global variable that you typically must set yourself. </p>\n\n<p>In certain (most?) platforms, installing Java will not set your <code>JAVA_HOME</code> variable. </p>\n\n<p>The advantage here is that you can have multiple Java versions co-existing within one system. </p>\n\n<p>Since you're running on *nix system, you can do that in your own logon scripts, such as <code>~/.bashrc</code> or <code>~/.bash_profile</code>, etc. </p>\n"},{"tags":[],"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1457015895,"creation_date":1456935489,"answer_id":35752657,"question_id":35752497,"body_markdown":"set it first?\r\n\r\n    export JAVA_HOME=/usr/bin/java\r\n\r\nSee more here:\r\n\r\nhttps://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users","title":"echo $JAVA_HOME returns nothing","body":"<p>set it first?</p>\n\n<pre><code>export JAVA_HOME=/usr/bin/java\n</code></pre>\n\n<p>See more here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\">How to set JAVA_HOME in Linux for all users</a></p>\n"},{"tags":[],"owner":{"account_id":8387630,"reputation":488,"user_id":6297483,"display_name":"Sahil Khurana"},"down_vote_count":2,"up_vote_count":48,"is_accepted":false,"score":46,"last_activity_date":1523458066,"creation_date":1523458066,"answer_id":49778178,"question_id":35752497,"body_markdown":"You need to set the $JAVA_HOME variable\r\n\r\n**In my case while setting up Maven, I had to set it up to where JDK is installed.**\r\n\r\nFirst find out where JAVA is installed: \r\n\r\n    $ whereis java\r\n    java: /usr/bin/java /usr/share/java /usr/share/man/man1/java.1.gz\r\n\r\nNow dig deeper- \r\n\r\n    $ ls -l /usr/bin/java\r\n    lrwxrwxrwx 1 root root 46 Aug 25  2016 /etc/alternatives/java -&gt; /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\nDig deeper: \r\n\r\n    $ ls -l /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n    -rwxr-xr-x 1 root root 6464 Mar 14 18:28 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\nAs it is not being referenced to any other directory, we&#39;ll use this.\r\n\r\nOpen /etc/environment using nano\r\n\r\n`$ sudo nano /etc/environment`\r\n\r\nAppend the following lines\r\n\r\n    JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64\r\n    export JAVA_HOME\r\n\r\nReload PATH using `$ . /etc/environment`\r\n\r\nNow,\r\n`$ echo $JAVA_HOME`\r\n\r\nHere is your output:\r\n\r\n`/usr/lib/jvm/java-1.8.0-openjdk-amd64`\r\n\r\nSources I referred to:\r\n\r\nhttps://askubuntu.com/a/175519\r\n\r\nhttps://stackoverflow.com/a/23427862/6297483\r\n\r\n","title":"echo $JAVA_HOME returns nothing","body":"<p>You need to set the $JAVA_HOME variable</p>\n\n<p><strong>In my case while setting up Maven, I had to set it up to where JDK is installed.</strong></p>\n\n<p>First find out where JAVA is installed: </p>\n\n<pre><code>$ whereis java\njava: /usr/bin/java /usr/share/java /usr/share/man/man1/java.1.gz\n</code></pre>\n\n<p>Now dig deeper- </p>\n\n<pre><code>$ ls -l /usr/bin/java\nlrwxrwxrwx 1 root root 46 Aug 25  2016 /etc/alternatives/java -&gt; /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n</code></pre>\n\n<p>Dig deeper: </p>\n\n<pre><code>$ ls -l /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n-rwxr-xr-x 1 root root 6464 Mar 14 18:28 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n</code></pre>\n\n<p>As it is not being referenced to any other directory, we'll use this.</p>\n\n<p>Open /etc/environment using nano</p>\n\n<p><code>$ sudo nano /etc/environment</code></p>\n\n<p>Append the following lines</p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64\nexport JAVA_HOME\n</code></pre>\n\n<p>Reload PATH using <code>$ . /etc/environment</code></p>\n\n<p>Now,\n<code>$ echo $JAVA_HOME</code></p>\n\n<p>Here is your output:</p>\n\n<p><code>/usr/lib/jvm/java-1.8.0-openjdk-amd64</code></p>\n\n<p>Sources I referred to:</p>\n\n<p><a href=\"https://askubuntu.com/a/175519\">https://askubuntu.com/a/175519</a></p>\n\n<p><a href=\"https://stackoverflow.com/a/23427862/6297483\">https://stackoverflow.com/a/23427862/6297483</a></p>\n"},{"tags":[],"owner":{"account_id":10312554,"reputation":301,"user_id":7607873,"display_name":"Thiago Farias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571777382,"creation_date":1571777382,"answer_id":58512131,"question_id":35752497,"body_markdown":"1.\tOpen your terminal, and open your .bash_profile file by executing:\r\n\r\n    nano ~/.bash_profile\r\n\r\n(If it is the first time, it should be empty)\r\n2.\tAd an echo message just to see a greeting message by pasting \r\n\r\n    echo &quot;Hello, Your Bash Profile Is Running…&quot; \r\n\r\nType: ctrl + x  to exit from nano\r\nType:  Y           to save change and press enter \r\n\r\n3.\tIn order to get the message to appear every time we open a terminal execute:\r\n    source ~/.bash_profile\r\n4.\tIn the file ~/.bash_profile, set the $JAVA_HOME environment variable by adding the\r\nfollowing to the end of the file:\r\n\r\n    export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk13.jdk/Contents/Home&quot;\r\n    export PATH=&quot;$JAVA_HOME/bin:$PATH&quot;\r\n\r\nType: ctrl + x  to exit from nano\r\nType:  Y           to save change and press enter \r\n\r\n5.\tClose and reopen your terminal to update the environment variables.\r\n\r\n6.\tVerify JAVA_HOME by executing echo $JAVA_HOME.\r\n\r\nSource: https://www.youtube.com/watch?v=0gceUrMnjzo\r\n\r\n","title":"echo $JAVA_HOME returns nothing","body":"<ol>\n<li><p>Open your terminal, and open your .bash_profile file by executing:</p>\n\n<p>nano ~/.bash_profile</p></li>\n</ol>\n\n<p>(If it is the first time, it should be empty)\n2.  Ad an echo message just to see a greeting message by pasting </p>\n\n<pre><code>echo \"Hello, Your Bash Profile Is Running…\" \n</code></pre>\n\n<p>Type: ctrl + x  to exit from nano\nType:  Y           to save change and press enter </p>\n\n<ol start=\"3\">\n<li>In order to get the message to appear every time we open a terminal execute:\nsource ~/.bash_profile</li>\n<li><p>In the file ~/.bash_profile, set the $JAVA_HOME environment variable by adding the\nfollowing to the end of the file:</p>\n\n<p>export JAVA_HOME=\"/Library/Java/JavaVirtualMachines/jdk13.jdk/Contents/Home\"\nexport PATH=\"$JAVA_HOME/bin:$PATH\"</p></li>\n</ol>\n\n<p>Type: ctrl + x  to exit from nano\nType:  Y           to save change and press enter </p>\n\n<ol start=\"5\">\n<li><p>Close and reopen your terminal to update the environment variables.</p></li>\n<li><p>Verify JAVA_HOME by executing echo $JAVA_HOME.</p></li>\n</ol>\n\n<p>Source: <a href=\"https://www.youtube.com/watch?v=0gceUrMnjzo\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=0gceUrMnjzo</a></p>\n"},{"tags":[],"owner":{"account_id":6257966,"reputation":1846,"user_id":6585238,"accept_rate":100,"display_name":"nanquim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579872058,"creation_date":1579872058,"answer_id":59897294,"question_id":35752497,"body_markdown":"What solved to me, using Ubuntu 18, was removing java from /etc/profile\r\n\r\nSo, export JAVA_HOME=/usr/bin","title":"echo $JAVA_HOME returns nothing","body":"<p>What solved to me, using Ubuntu 18, was removing java from /etc/profile</p>\n\n<p>So, export JAVA_HOME=/usr/bin</p>\n"},{"tags":[],"owner":{"account_id":4919836,"reputation":237,"user_id":3962688,"accept_rate":25,"display_name":"Ilham Safeek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592852039,"creation_date":1592852039,"answer_id":62521542,"question_id":35752497,"body_markdown":"If you are using latest versions of OS, then you cannot use ~/.bash_profile to export your environment variable since bash shell is deprecated in the latest version of OS. \r\n\r\nThis answer may give you the exact solution:[https://stackoverflow.com/a/62192114/3962688][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62192114/3962688","title":"echo $JAVA_HOME returns nothing","body":"<p>If you are using latest versions of OS, then you cannot use ~/.bash_profile to export your environment variable since bash shell is deprecated in the latest version of OS.</p>\n<p>This answer may give you the exact solution:<a href=\"https://stackoverflow.com/a/62192114/3962688\">https://stackoverflow.com/a/62192114/3962688</a></p>\n"},{"tags":[],"owner":{"account_id":4722999,"reputation":593,"user_id":3820418,"display_name":"Jlearner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635329163,"creation_date":1635172030,"answer_id":69709809,"question_id":35752497,"body_markdown":"If the terminal is `zsh` and not `bash` then we need to set JAVA_HOME in either of these files `~/.zshenv` or `~/.zshrc` [more details about zsh terminal here][1]\r\n\r\nsteps:\r\n\r\n - run this command in the terminal `open ~/.zshrc`\r\n - in the zshrc file append java_home path (refer below two lines)\r\n- `export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk-x.x.x.jdk/Contents/Home&quot;`\r\n- `export PATH=&quot;$JAVA_HOME/bin:$PATH&quot;}`\r\n- re-launch zsh terminal\r\n- In the zsh terminal run this command `echo $JAVA_HOME`\r\n\r\n\r\n  [1]: https://sourabhbajaj.com/mac-setup/iTerm/zsh.html","title":"echo $JAVA_HOME returns nothing","body":"<p>If the terminal is <code>zsh</code> and not <code>bash</code> then we need to set JAVA_HOME in either of these files <code>~/.zshenv</code> or <code>~/.zshrc</code> <a href=\"https://sourabhbajaj.com/mac-setup/iTerm/zsh.html\" rel=\"nofollow noreferrer\">more details about zsh terminal here</a></p>\n<p>steps:</p>\n<ul>\n<li>run this command in the terminal <code>open ~/.zshrc</code></li>\n<li>in the zshrc file append java_home path (refer below two lines)</li>\n<li><code>export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk-x.x.x.jdk/Contents/Home&quot;</code></li>\n<li><code>export PATH=&quot;$JAVA_HOME/bin:$PATH&quot;}</code></li>\n<li>re-launch zsh terminal</li>\n<li>In the zsh terminal run this command <code>echo $JAVA_HOME</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3922559,"reputation":131,"user_id":3244248,"display_name":"kpgan8204"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686070139,"creation_date":1686070139,"answer_id":76416805,"question_id":35752497,"body_markdown":"after saving JAVA_HOME in enviroment file \r\n\r\n$ source /etc/environment \r\n$ echo  $JAVA_HOME\r\n\r\nthis worked for me\r\n","title":"echo $JAVA_HOME returns nothing","body":"<p>after saving JAVA_HOME in enviroment file</p>\n<p>$ source /etc/environment\n$ echo  $JAVA_HOME</p>\n<p>this worked for me</p>\n"}],"owner":{"account_id":267200,"reputation":27135,"user_id":555222,"accept_rate":76,"display_name":"clarkk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51304,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"answer_count":8,"score":25,"last_activity_date":1686070139,"creation_date":1456935149,"question_id":35752497,"body_markdown":"How to get the java home dir?\r\n\r\nWhen doing this\r\n\r\n    echo $JAVA_HOME\r\n\r\nNothing is returned\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/d3s66.png","title":"echo $JAVA_HOME returns nothing","body":"<p>How to get the java home dir?</p>\n\n<p>When doing this</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n\n<p>Nothing is returned</p>\n\n<p><a href=\"https://i.stack.imgur.com/d3s66.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/d3s66.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android-studio","kotlin"],"owner":{"account_id":28725324,"reputation":1,"user_id":21998236,"display_name":"Muhammad usman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686069754,"creation_date":1686069754,"question_id":76416766,"body_markdown":"whenever i try to build my android studio project it throw these errors\r\n\r\n**Error 1**\r\n```2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:gpuv2:compileReleaseJavaWithJavac&#39;.\r\n&gt; Failed to calculate the value of task &#39;:gpuv2:compileReleaseJavaWithJavac&#39; property &#39;options.generatedSourceOutputDirectory&#39;.\r\n   &gt; Querying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, G:\\1 New apps\\codecanyon-WMgBo0f2-video-maker-editor-photo-slideshow-allinone\\videomaker\\gpuv2\\build\\generated\\ap_generated_sources\\release\\out)) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFileTransformer@7b2f9d5) before task &#39;:gpuv2:compileReleaseJavaWithJavac&#39; has completed is not supported`\r\n```\r\n\r\n**Error 2**\r\n```java.lang.IllegalAccessError: class org.jetbrains.kotlin.com.intellij.util.io.FileChannelUtil (in unnamed module @0x5876a9af) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x5876a9af```\r\n\r\n***Error 3***\r\n```\r\nCreateProcess error=206, The filename or extension is too long\r\n```\r\n\r\n\r\ni searched on google but didn&#39;t find any solution","title":"What could be the cause of the error message &quot;Caused by: java.lang.IllegalAccessError: class org.jetbrains.kotlin.com.intellij.util.io.FileChannelUtil","body":"<p>whenever i try to build my android studio project it throw these errors</p>\n<p><strong>Error 1</strong></p>\n<pre><code>-----------\n* What went wrong:\nExecution failed for task ':gpuv2:compileReleaseJavaWithJavac'.\n&gt; Failed to calculate the value of task ':gpuv2:compileReleaseJavaWithJavac' property 'options.generatedSourceOutputDirectory'.\n   &gt; Querying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, G:\\1 New apps\\codecanyon-WMgBo0f2-video-maker-editor-photo-slideshow-allinone\\videomaker\\gpuv2\\build\\generated\\ap_generated_sources\\release\\out)) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFileTransformer@7b2f9d5) before task ':gpuv2:compileReleaseJavaWithJavac' has completed is not supported`\n</code></pre>\n<p><strong>Error 2</strong>\n<code>java.lang.IllegalAccessError: class org.jetbrains.kotlin.com.intellij.util.io.FileChannelUtil (in unnamed module @0x5876a9af) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x5876a9af</code></p>\n<p><em><strong>Error 3</strong></em></p>\n<pre><code>CreateProcess error=206, The filename or extension is too long\n</code></pre>\n<p>i searched on google but didn't find any solution</p>\n"},{"tags":["java","sorting","insertion-sort"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1685896154,"post_id":76401347,"comment_id":134721821,"body_markdown":"You&#39;re printing the same list (the same variable, even) twice. Why would you expect different results?","body":"You&#39;re printing the same list (the same variable, even) twice. Why would you expect different results?"},{"owner":{"account_id":21892257,"reputation":1,"user_id":16179072,"display_name":"williamj987"},"score":0,"creation_date":1686078711,"post_id":76401347,"comment_id":134749316,"body_markdown":"I got mixed up and had a tough time trying to print the list based on the compare interface.","body":"I got mixed up and had a tough time trying to print the list based on the compare interface."}],"answers":[{"tags":[],"owner":{"account_id":20955698,"reputation":684,"user_id":15396268,"display_name":"Wahlstrommm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686069624,"creation_date":1685896119,"answer_id":76401381,"question_id":76401347,"body_markdown":"The problem is that you are printing the **same** list object for both the `original` and `sorted lists`. \r\n\r\nSo when you modify the list during the sorting process the modifications are reflected in both the original and sorted list outputs.\r\n\r\nSo you can create a separate copy of the list before sorting it and then print the copy as the orignal list.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n\r\n    public class InsertionSort&lt;E extends Comparable&lt;E&gt;&gt; {\r\n\r\n        public void insertionSort(ArrayList&lt;E&gt; list) {\r\n            int n = list.size();\r\n            for (int i = 1; i &lt; n; i++) {\r\n                E key = list.get(i);\r\n                int j = i - 1;\r\n                while (j &gt;= 0 &amp;&amp; list.get(j).compareTo(key) &gt; 0) {\r\n                    list.set(j + 1, list.get(j));\r\n                    j--;\r\n                }\r\n                list.set(j + 1, key);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            int[] test1 = {3, 5, 2, 4, 1, 8, 7, 6, 9};\r\n            double[] test2 = {1.99, 2.05, 9.01, 6.49, 3.14, 5.55};\r\n            char[] test3 = &quot;algorithm&quot;.toCharArray();\r\n\r\n            ArrayList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\r\n            for (int num : test1) {\r\n                list1.add(num);\r\n            }\r\n            InsertionSort&lt;Integer&gt; integerSorter = new InsertionSort&lt;&gt;();\r\n            ArrayList&lt;Integer&gt; list1Copy = new ArrayList&lt;&gt;(list1); // Create a copy of the original list\r\n            integerSorter.insertionSort(list1);\r\n            System.out.println(&quot;Test Example 1&quot;);\r\n            System.out.println(&quot;Original List: &quot; + list1Copy);\r\n            System.out.println(&quot;Sorted List: &quot; + list1);\r\n\r\n            ArrayList&lt;Double&gt; list2 = new ArrayList&lt;&gt;();\r\n            for (double num : test2) {\r\n                list2.add(num);\r\n            }\r\n            InsertionSort&lt;Double&gt; doubleSorter = new InsertionSort&lt;&gt;();\r\n            ArrayList&lt;Double&gt; list2Copy = new ArrayList&lt;&gt;(list2); // Create a copy of the original list\r\n            doubleSorter.insertionSort(list2);\r\n            System.out.println(&quot;\\nTest Example 2&quot;);\r\n            System.out.println(&quot;Original List: &quot; + list2Copy);\r\n            System.out.println(&quot;Sorted List: &quot; + list2);\r\n\r\n            ArrayList&lt;Character&gt; list3 = new ArrayList&lt;&gt;();\r\n            for (char ch : test3) {\r\n                list3.add(ch);\r\n            }\r\n            InsertionSort&lt;Character&gt; charSorter = new InsertionSort&lt;&gt;();\r\n            ArrayList&lt;Character&gt; list3Copy = new ArrayList&lt;&gt;(list3); // Create a copy of the original list\r\n            charSorter.insertionSort(list3);\r\n            System.out.println(&quot;\\nTest Example 3&quot;);\r\n            System.out.println(&quot;Original List: &quot; + list3Copy);\r\n            System.out.println(&quot;Sorted List: &quot; + list3);\r\n        }\r\n    }\r\n\r\n\r\nSo by creating separate copies of the original lists (`list1Copy`, `list2Copy`, `list3Copy`).\r\n\r\nYou can print them as the original lists before sorting, while the original lists (`list1`, `list2`, `list3`) are modified during the sorting process.\r\n\r\n","title":"Original list to sorted list","body":"<p>The problem is that you are printing the <strong>same</strong> list object for both the <code>original</code> and <code>sorted lists</code>.</p>\n<p>So when you modify the list during the sorting process the modifications are reflected in both the original and sorted list outputs.</p>\n<p>So you can create a separate copy of the list before sorting it and then print the copy as the orignal list.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class InsertionSort&lt;E extends Comparable&lt;E&gt;&gt; {\n\n    public void insertionSort(ArrayList&lt;E&gt; list) {\n        int n = list.size();\n        for (int i = 1; i &lt; n; i++) {\n            E key = list.get(i);\n            int j = i - 1;\n            while (j &gt;= 0 &amp;&amp; list.get(j).compareTo(key) &gt; 0) {\n                list.set(j + 1, list.get(j));\n                j--;\n            }\n            list.set(j + 1, key);\n        }\n    }\n\n    public static void main(String[] args) {\n        int[] test1 = {3, 5, 2, 4, 1, 8, 7, 6, 9};\n        double[] test2 = {1.99, 2.05, 9.01, 6.49, 3.14, 5.55};\n        char[] test3 = &quot;algorithm&quot;.toCharArray();\n\n        ArrayList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\n        for (int num : test1) {\n            list1.add(num);\n        }\n        InsertionSort&lt;Integer&gt; integerSorter = new InsertionSort&lt;&gt;();\n        ArrayList&lt;Integer&gt; list1Copy = new ArrayList&lt;&gt;(list1); // Create a copy of the original list\n        integerSorter.insertionSort(list1);\n        System.out.println(&quot;Test Example 1&quot;);\n        System.out.println(&quot;Original List: &quot; + list1Copy);\n        System.out.println(&quot;Sorted List: &quot; + list1);\n\n        ArrayList&lt;Double&gt; list2 = new ArrayList&lt;&gt;();\n        for (double num : test2) {\n            list2.add(num);\n        }\n        InsertionSort&lt;Double&gt; doubleSorter = new InsertionSort&lt;&gt;();\n        ArrayList&lt;Double&gt; list2Copy = new ArrayList&lt;&gt;(list2); // Create a copy of the original list\n        doubleSorter.insertionSort(list2);\n        System.out.println(&quot;\\nTest Example 2&quot;);\n        System.out.println(&quot;Original List: &quot; + list2Copy);\n        System.out.println(&quot;Sorted List: &quot; + list2);\n\n        ArrayList&lt;Character&gt; list3 = new ArrayList&lt;&gt;();\n        for (char ch : test3) {\n            list3.add(ch);\n        }\n        InsertionSort&lt;Character&gt; charSorter = new InsertionSort&lt;&gt;();\n        ArrayList&lt;Character&gt; list3Copy = new ArrayList&lt;&gt;(list3); // Create a copy of the original list\n        charSorter.insertionSort(list3);\n        System.out.println(&quot;\\nTest Example 3&quot;);\n        System.out.println(&quot;Original List: &quot; + list3Copy);\n        System.out.println(&quot;Sorted List: &quot; + list3);\n    }\n}\n</code></pre>\n<p>So by creating separate copies of the original lists (<code>list1Copy</code>, <code>list2Copy</code>, <code>list3Copy</code>).</p>\n<p>You can print them as the original lists before sorting, while the original lists (<code>list1</code>, <code>list2</code>, <code>list3</code>) are modified during the sorting process.</p>\n"},{"tags":[],"owner":{"account_id":16876016,"reputation":21,"user_id":15387642,"display_name":"Vishal Kriplani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685896413,"creation_date":1685896413,"answer_id":76401399,"question_id":76401347,"body_markdown":"You are using same list to print the original list and sorted list.\r\nSo you created **list1** as original list.\r\nAfter that you sorted **list1**.\r\nNow **list1** contains the sorted items. It no longer contains the original order of items.\r\nNow you are printing the **list1** as original and sorted but they are the same in the end.\r\n\r\n```\r\nSystem.out.println(&quot;Original List: &quot; + list1);\r\nSystem.out.println(&quot;Sorted List: &quot; + list1);\r\n```\r\n\r\n","title":"Original list to sorted list","body":"<p>You are using same list to print the original list and sorted list.\nSo you created <strong>list1</strong> as original list.\nAfter that you sorted <strong>list1</strong>.\nNow <strong>list1</strong> contains the sorted items. It no longer contains the original order of items.\nNow you are printing the <strong>list1</strong> as original and sorted but they are the same in the end.</p>\n<pre><code>System.out.println(&quot;Original List: &quot; + list1);\nSystem.out.println(&quot;Sorted List: &quot; + list1);\n</code></pre>\n"}],"owner":{"account_id":21892257,"reputation":1,"user_id":16179072,"display_name":"williamj987"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76401381,"answer_count":2,"score":-1,"last_activity_date":1686069624,"creation_date":1685895545,"question_id":76401347,"body_markdown":"So I was trying to practice implementing the insertion sort algorithm using the integer, double, and character values, I was able to sort my list but my original list is displaying me the wrong result. Supposed to display the  data values from test1, test2, test3 in my code. Can anyone show me what am I missing because I have been stuck for quite sometime?\r\n```\r\nimport java.util.ArrayList;\r\npublic class InsertionSort&lt;E extends Comparable&lt;E&gt;&gt; {\r\n  \r\n    public void insertionSort(ArrayList&lt;E&gt; list) {\r\nint n = list.size();\r\n        for (int i = 1; i &lt; n; i++) {\r\n            E key = list.get(i);\r\n            int j = i - 1;\r\n            while (j &gt;= 0 &amp;&amp; list.get(j).compareTo(key) &gt; 0) {\r\n                list.set(j + 1, list.get(j));\r\n                j--;\r\n            }\r\n            list.set(j + 1, key);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] test1 = {3, 5, 2, 4, 1, 8, 7, 6, 9};\r\n        double[] test2 = {1.99, 2.05, 9.01, 6.49, 3.14, 5.55};\r\n        char[] test3 =  &quot;algorithm&quot;.toCharArray();\r\nArrayList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\r\n        for (int num : test1) {\r\n            list1.add(num);\r\n        }\r\n        InsertionSort&lt;Integer&gt; integerSorter = new InsertionSort&lt;&gt;();\r\n        integerSorter.insertionSort(list1);\r\n        System.out.println(&quot;Test Example 1&quot;);\r\n        System.out.println(&quot;Original List: &quot; + list1);\r\n        System.out.println(&quot;Sorted List: &quot; + list1);\r\n  \r\n    ArrayList&lt;Double&gt; list2 = new ArrayList&lt;&gt;();\r\n        for (double num : test2) {\r\n            list2.add(num);\r\n        }\r\n        InsertionSort&lt;Double&gt; doubleSorter = new InsertionSort&lt;&gt;();\r\n        doubleSorter.insertionSort(list2);\r\n        System.out.println(&quot;\\nTest Example 2&quot;);\r\n        System.out.println(&quot;Original List: &quot; + list2);\r\n        System.out.println(&quot;Sorted List: &quot; + list2);\r\n\r\n        ArrayList&lt;Character&gt; list3 = new ArrayList&lt;&gt;();\r\n        for (char ch : test3) {\r\n            list3.add(ch);\r\n        }\r\n        InsertionSort&lt;Character&gt; charSorter = new InsertionSort&lt;&gt;();\r\n        charSorter.insertionSort(list3);\r\n        System.out.println(&quot;\\nTest Example 3&quot;);\r\n        System.out.println(&quot;Original List: &quot; + list3);\r\n        System.out.println(&quot;Sorted List: &quot; + list3);\r\n \r\n    }\r\n}\r\n```","title":"Original list to sorted list","body":"<p>So I was trying to practice implementing the insertion sort algorithm using the integer, double, and character values, I was able to sort my list but my original list is displaying me the wrong result. Supposed to display the  data values from test1, test2, test3 in my code. Can anyone show me what am I missing because I have been stuck for quite sometime?</p>\n<pre><code>import java.util.ArrayList;\npublic class InsertionSort&lt;E extends Comparable&lt;E&gt;&gt; {\n  \n    public void insertionSort(ArrayList&lt;E&gt; list) {\nint n = list.size();\n        for (int i = 1; i &lt; n; i++) {\n            E key = list.get(i);\n            int j = i - 1;\n            while (j &gt;= 0 &amp;&amp; list.get(j).compareTo(key) &gt; 0) {\n                list.set(j + 1, list.get(j));\n                j--;\n            }\n            list.set(j + 1, key);\n        }\n    }\n\n    public static void main(String[] args) {\n        int[] test1 = {3, 5, 2, 4, 1, 8, 7, 6, 9};\n        double[] test2 = {1.99, 2.05, 9.01, 6.49, 3.14, 5.55};\n        char[] test3 =  &quot;algorithm&quot;.toCharArray();\nArrayList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\n        for (int num : test1) {\n            list1.add(num);\n        }\n        InsertionSort&lt;Integer&gt; integerSorter = new InsertionSort&lt;&gt;();\n        integerSorter.insertionSort(list1);\n        System.out.println(&quot;Test Example 1&quot;);\n        System.out.println(&quot;Original List: &quot; + list1);\n        System.out.println(&quot;Sorted List: &quot; + list1);\n  \n    ArrayList&lt;Double&gt; list2 = new ArrayList&lt;&gt;();\n        for (double num : test2) {\n            list2.add(num);\n        }\n        InsertionSort&lt;Double&gt; doubleSorter = new InsertionSort&lt;&gt;();\n        doubleSorter.insertionSort(list2);\n        System.out.println(&quot;\\nTest Example 2&quot;);\n        System.out.println(&quot;Original List: &quot; + list2);\n        System.out.println(&quot;Sorted List: &quot; + list2);\n\n        ArrayList&lt;Character&gt; list3 = new ArrayList&lt;&gt;();\n        for (char ch : test3) {\n            list3.add(ch);\n        }\n        InsertionSort&lt;Character&gt; charSorter = new InsertionSort&lt;&gt;();\n        charSorter.insertionSort(list3);\n        System.out.println(&quot;\\nTest Example 3&quot;);\n        System.out.println(&quot;Original List: &quot; + list3);\n        System.out.println(&quot;Sorted List: &quot; + list3);\n \n    }\n}\n</code></pre>\n"},{"tags":["java","debugging","jnlp","java-web-start"],"answers":[{"tags":[],"owner":{"account_id":21808,"reputation":10725,"user_id":2660952,"accept_rate":76,"display_name":"Kai Huppmann"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1432309931,"creation_date":1238079977,"answer_id":686181,"question_id":686061,"body_markdown":"It&#39;s quite the same like with any other Java process you want to debug remotely: You have to set up some arguments for the VM (&lt;code&gt;-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,server=n,suspend=y,address=12345\r\n&lt;/code&gt;) and then connect to the given port. In Java webstart 6.0 this can be done with the -J option, in earlier version via environment variable  JAVAWS_VM_ARGS. See details [here][1].\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/guide/javaws/developersguide/troubleshooting.03.06.html","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>It's quite the same like with any other Java process you want to debug remotely: You have to set up some arguments for the VM (<code>-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,server=n,suspend=y,address=12345\n</code>) and then connect to the given port. In Java webstart 6.0 this can be done with the -J option, in earlier version via environment variable  JAVAWS_VM_ARGS. See details <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/javaws/developersguide/troubleshooting.03.06.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1238080356,"creation_date":1238080356,"answer_id":686208,"question_id":686061,"body_markdown":"Have you tried printing a debug log? That is a useful thing to have at any rate, and might help in this case.\r\n\r\nIf you want real debugging, see e.g. here:\r\n[How can I debug under WebStart?][1]\r\n\r\n\r\n  [1]: http://lopica.sourceforge.net/faq.html#debug","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>Have you tried printing a debug log? That is a useful thing to have at any rate, and might help in this case.</p>\n\n<p>If you want real debugging, see e.g. here:\n<a href=\"http://lopica.sourceforge.net/faq.html#debug\" rel=\"nofollow noreferrer\">How can I debug under WebStart?</a></p>\n"},{"tags":[],"owner":{"account_id":15706,"reputation":4489,"user_id":33433,"display_name":"mkoeller"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1336728229,"creation_date":1238080548,"answer_id":686219,"question_id":686061,"body_markdown":"Start the JWS VM manually. This way you can provide the startup parameters to open the debug port. Here is a [description][1], it goes like this:\r\n\r\n    set JAVAWS_TRACE_NATIVE=1\r\n    set JAVAWS_VM_ARGS=&quot;-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=n&quot;\r\n    javaws http://server:port/descriptor.jnlp\r\n\r\n\r\n  [1]: http://icoloma.blogspot.com/2005/06/how-to-debug-jwsjnlp.html","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>Start the JWS VM manually. This way you can provide the startup parameters to open the debug port. Here is a <a href=\"http://icoloma.blogspot.com/2005/06/how-to-debug-jwsjnlp.html\" rel=\"noreferrer\">description</a>, it goes like this:</p>\n\n<pre><code>set JAVAWS_TRACE_NATIVE=1\nset JAVAWS_VM_ARGS=\"-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=n\"\njavaws http://server:port/descriptor.jnlp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":998774,"reputation":581,"user_id":1686533,"display_name":"Marco Montel"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1369124367,"creation_date":1369123867,"answer_id":16665121,"question_id":686061,"body_markdown":"You can also provide the debug parameter to the javaws executable using the -J option\r\n\r\nExample: \r\n\r\n    javaws.exe -J-Xdebug -J-Xnoagent -J-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000 http://server:port/descriptor.jnlp","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>You can also provide the debug parameter to the javaws executable using the -J option</p>\n\n<p>Example: </p>\n\n<pre><code>javaws.exe -J-Xdebug -J-Xnoagent -J-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000 http://server:port/descriptor.jnlp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":414996,"reputation":13220,"user_id":789544,"display_name":"Nicholas Sushkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371228590,"creation_date":1371228590,"answer_id":17113515,"question_id":686061,"body_markdown":"To debug a Web Start application in Linux, create a shell script ~/bin/javaws-debug.sh with the javaws invocation in debug mode as described above:\r\n\r\n~/bin/javaws-debug.sh:\r\n\r\n    #!/bin/sh\r\n    export JAVAWS_TRACE_NATIVE=1\r\n    export JAVAWS_VM_ARGS=&quot;-Xdebug -Xnoagent -Djava.compiler=NONE \r\n      -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=n&quot;\r\n    javaws &quot;$@&quot;\r\n\r\nThen, in your browser, choose that script as the application to invoke on jnlp files.\r\n\r\nFor example, in Firefox, go to Edit→Preferences→Applications, Content Type: Java Web Start, and choose &quot;Use Other&quot; in Action and pick the script from the &quot;Select Helper Application&quot; dialog. In Chrome, you need to alter Linux system settings. In KDE, go to System Settings→File Associations, Known Types: application:x-java-jnlp-file, add a new Application, pick ~/bin/javaws-debug.sh from the &quot;Choose Application for application/x-java-jnlp-file&quot; dialog.\r\n\r\nOnce your browser is configured, Java Web Start application will start using your wrapper, which will enable debugger to connect on port 8989.","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>To debug a Web Start application in Linux, create a shell script ~/bin/javaws-debug.sh with the javaws invocation in debug mode as described above:</p>\n\n<p>~/bin/javaws-debug.sh:</p>\n\n<pre><code>#!/bin/sh\nexport JAVAWS_TRACE_NATIVE=1\nexport JAVAWS_VM_ARGS=\"-Xdebug -Xnoagent -Djava.compiler=NONE \n  -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=n\"\njavaws \"$@\"\n</code></pre>\n\n<p>Then, in your browser, choose that script as the application to invoke on jnlp files.</p>\n\n<p>For example, in Firefox, go to Edit→Preferences→Applications, Content Type: Java Web Start, and choose \"Use Other\" in Action and pick the script from the \"Select Helper Application\" dialog. In Chrome, you need to alter Linux system settings. In KDE, go to System Settings→File Associations, Known Types: application:x-java-jnlp-file, add a new Application, pick ~/bin/javaws-debug.sh from the \"Choose Application for application/x-java-jnlp-file\" dialog.</p>\n\n<p>Once your browser is configured, Java Web Start application will start using your wrapper, which will enable debugger to connect on port 8989.</p>\n"},{"tags":[],"owner":{"account_id":5289932,"reputation":161,"user_id":4222820,"display_name":"Vojtěch Tůma"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1415277399,"creation_date":1415277399,"answer_id":26779670,"question_id":686061,"body_markdown":"As for newer versions of Java (Java 8u20+ and Java 7u70+) i experienced that parameters like -Xrunjdwp cannot be passed directly nor using JAVAWS_VM_ARGS. \r\nMessage \r\n`Rejecting attempt to specify insecure property: -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000` \r\nstarted to show up in console output.\r\n\r\nThe only solution that worked for me was to pass those arguments into JAVA_TOOL_OPTIONS system variable. \r\n","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>As for newer versions of Java (Java 8u20+ and Java 7u70+) i experienced that parameters like -Xrunjdwp cannot be passed directly nor using JAVAWS_VM_ARGS. \nMessage \n<code>Rejecting attempt to specify insecure property: -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000</code> \nstarted to show up in console output.</p>\n\n<p>The only solution that worked for me was to pass those arguments into JAVA_TOOL_OPTIONS system variable. </p>\n"},{"tags":[],"owner":{"account_id":936266,"reputation":16117,"user_id":965176,"accept_rate":33,"display_name":"qwertzguy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675463917,"creation_date":1499818374,"answer_id":45046336,"question_id":686061,"body_markdown":"With Java 8 and Windows 10, open command prompt (cmd.exe) and type this:\r\n\r\n    set JAVAWS_TRACE_NATIVE=1\r\n    set JAVA_TOOL_OPTIONS=-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000\r\n    javaws java-app.jnlp\r\n\r\nAfter that, in Eclipse (or another IDE) start the normal remote java application debugging set to the port used in the command above (in this case `8000`)","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>With Java 8 and Windows 10, open command prompt (cmd.exe) and type this:</p>\n<pre><code>set JAVAWS_TRACE_NATIVE=1\nset JAVA_TOOL_OPTIONS=-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000\njavaws java-app.jnlp\n</code></pre>\n<p>After that, in Eclipse (or another IDE) start the normal remote java application debugging set to the port used in the command above (in this case <code>8000</code>)</p>\n"},{"tags":[],"owner":{"account_id":3187759,"reputation":3112,"user_id":2692914,"accept_rate":93,"display_name":"lmiguelmh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502125991,"creation_date":1502125991,"answer_id":45552291,"question_id":686061,"body_markdown":"You will need to do the following:\r\n\r\n1. Enable the Java logs and tracing in the Java Control Panel &gt; Advanced.\r\n[![Java Control Panel: logs and tracing][1]][1]\r\n\r\n2. Enable parameters for debugging Java (optional but useful i.e. problems with tls/ssl handshake as close_notify or handshake_failure) &amp; launching the JNLP, there are two ways you can do it: \r\n\r\n 2.a. Download the JNLP file and execute it from command line (the `SET` command is not required in this particular case).\r\n\r\n        set JAVA_TOOL_OPTIONS=-Djavax.net.debug=all\r\n        javaws -wait jnlp.jnlp\r\n\r\n 2.b. Add arguments (i.e. `-Djavax.net.debug=all`) for the JVM in the Java Control Panel &gt; Java &gt; View (this is not required in this particular), and launch the JNLP file from browser:\r\n\r\n    [![Java Control Panel: jvm arguments][2]][2]\r\n\r\n3. The logs and traces are located in the `log` directory from the [Java Deployment Home][3] from where I paste these locations:\r\n\r\n a. Windows XP: `%HOME%\\Application Data\\Sun\\Java\\Deployment`\r\n\r\n b. Windows 7/Vista: `%APPDATA%\\..\\LocalLow\\Sun\\Java\\Deployment`\r\n\r\n c. Linux/Solaris: `%HOME%/.java/deployment`\r\n\r\nWith javax.net.debug=all you will see the handshake if the jar inside the jnlp is loaded from an https connection. This kind of problems are hard to debug.\r\n\r\n    ...\r\n    %% No cached client session\r\n    *** ClientHello, TLSv1.2\r\n    ...\r\n    ***\r\n    ... \r\n    Java Web Start Main Thread, received EOFException: error\r\n    Java Web Start Main Thread, handling exception: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake\r\n    Java Web Start Main Thread, SEND TLSv1.2 ALERT:  fatal, description = handshake_failure\r\n    Java Web Start Main Thread, WRITE: TLSv1.2 Alert, length = 2\r\n    Java Web Start Main Thread, called closeSocket()\r\n    #### Java Web Start Error:\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ISYDd.jpg\r\n  [2]: https://i.stack.imgur.com/B9stP.png\r\n  [3]: http://docs.oracle.com/javase/7/docs/webnotes/tsg/TSG-Desktop/html/plugin.html#gcexde\r\n","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>You will need to do the following:</p>\n\n<ol>\n<li><p>Enable the Java logs and tracing in the Java Control Panel > Advanced.\n<a href=\"https://i.stack.imgur.com/ISYDd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ISYDd.jpg\" alt=\"Java Control Panel: logs and tracing\"></a></p></li>\n<li><p>Enable parameters for debugging Java (optional but useful i.e. problems with tls/ssl handshake as close_notify or handshake_failure) &amp; launching the JNLP, there are two ways you can do it: </p>\n\n<p>2.a. Download the JNLP file and execute it from command line (the <code>SET</code> command is not required in this particular case).</p>\n\n<pre><code>set JAVA_TOOL_OPTIONS=-Djavax.net.debug=all\njavaws -wait jnlp.jnlp\n</code></pre>\n\n<p>2.b. Add arguments (i.e. <code>-Djavax.net.debug=all</code>) for the JVM in the Java Control Panel > Java > View (this is not required in this particular), and launch the JNLP file from browser:</p>\n\n<p><a href=\"https://i.stack.imgur.com/B9stP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B9stP.png\" alt=\"Java Control Panel: jvm arguments\"></a></p></li>\n<li><p>The logs and traces are located in the <code>log</code> directory from the <a href=\"http://docs.oracle.com/javase/7/docs/webnotes/tsg/TSG-Desktop/html/plugin.html#gcexde\" rel=\"nofollow noreferrer\">Java Deployment Home</a> from where I paste these locations:</p>\n\n<p>a. Windows XP: <code>%HOME%\\Application Data\\Sun\\Java\\Deployment</code></p>\n\n<p>b. Windows 7/Vista: <code>%APPDATA%\\..\\LocalLow\\Sun\\Java\\Deployment</code></p>\n\n<p>c. Linux/Solaris: <code>%HOME%/.java/deployment</code></p></li>\n</ol>\n\n<p>With javax.net.debug=all you will see the handshake if the jar inside the jnlp is loaded from an https connection. This kind of problems are hard to debug.</p>\n\n<pre><code>...\n%% No cached client session\n*** ClientHello, TLSv1.2\n...\n***\n... \nJava Web Start Main Thread, received EOFException: error\nJava Web Start Main Thread, handling exception: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake\nJava Web Start Main Thread, SEND TLSv1.2 ALERT:  fatal, description = handshake_failure\nJava Web Start Main Thread, WRITE: TLSv1.2 Alert, length = 2\nJava Web Start Main Thread, called closeSocket()\n#### Java Web Start Error:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5734730,"reputation":61,"user_id":4529258,"display_name":"Jorduino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567847536,"creation_date":1567847536,"answer_id":57832296,"question_id":686061,"body_markdown":"You can run your JNLP with debugging enabled:\r\n\r\n```\r\njavaws -Xnosplash -J-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5009 &lt;application&gt;.jnlp\r\n```\r\n\r\nOutput:\r\n**Listening for transport dt_socket at address: 5009**\r\n\r\nAttach to this with your favorite IDE, I use IntelliJ IDEA\r\n**Run&gt;Attach to process** ","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>You can run your JNLP with debugging enabled:</p>\n\n<pre><code>javaws -Xnosplash -J-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5009 &lt;application&gt;.jnlp\n</code></pre>\n\n<p>Output:\n<strong>Listening for transport dt_socket at address: 5009</strong></p>\n\n<p>Attach to this with your favorite IDE, I use IntelliJ IDEA\n<strong>Run>Attach to process</strong> </p>\n"},{"tags":[],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686069521,"creation_date":1686069521,"answer_id":76416738,"question_id":686061,"body_markdown":"This is what worked for me with [IcedTea-Web][1] :\r\n\r\n    set JAVAWS_TRACE_NATIVE=1\r\n    set JAVA_TOOL_OPTIONS=-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=y\r\n    javaws -Xnofork my_jnlp_file.jnlp\r\n\r\nOption `-Xnofork` was required or else the settings didn&#39;t apply to the forked jvm of the application.\r\n\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/IcedTea-Web","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>This is what worked for me with <a href=\"https://github.com/AdoptOpenJDK/IcedTea-Web\" rel=\"nofollow noreferrer\">IcedTea-Web</a> :</p>\n<pre><code>set JAVAWS_TRACE_NATIVE=1\nset JAVA_TOOL_OPTIONS=-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=y\njavaws -Xnofork my_jnlp_file.jnlp\n</code></pre>\n<p>Option <code>-Xnofork</code> was required or else the settings didn't apply to the forked jvm of the application.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65228,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":686181,"answer_count":10,"score":50,"last_activity_date":1686069521,"creation_date":1238078151,"question_id":686061,"body_markdown":"I know how I can debug a remote Java VM with Eclipse, but how can I do it with a Java Web Start program. I have a problem that only occurs in Java Web Start. It must be security related.\r\n\r\nI need a solution that will work with a current Java VM like 1.6.0_12.","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>I know how I can debug a remote Java VM with Eclipse, but how can I do it with a Java Web Start program. I have a problem that only occurs in Java Web Start. It must be security related.</p>\n\n<p>I need a solution that will work with a current Java VM like 1.6.0_12.</p>\n"},{"tags":["java","cxf"],"answers":[{"tags":[],"owner":{"account_id":24108985,"reputation":21,"user_id":18079802,"display_name":"franc.rovetto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686068862,"creation_date":1686068862,"answer_id":76416662,"question_id":74436469,"body_markdown":"You could change the approach a bit and try my example, which worked for me:\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n      &lt;groupId&gt;com.example.project&lt;/groupId&gt;\r\n      &lt;artifactId&gt;awi&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;name&gt;awi&lt;/name&gt;\r\n      &lt;description&gt;awi&lt;/description&gt;\r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n          &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;!-- those dependencies down here are relevant --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n          &lt;version&gt;4.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;exampleName&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;xjc&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;xjc&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\r\n                  &lt;sources&gt;\r\n                    &lt;source&gt;${project.basedir}/src/main/resources/wsdl&lt;/source&gt;\r\n                  &lt;/sources&gt;\r\n                  &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\r\n                  &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n                  &lt;packageName&gt;com.example.soap.objects&lt;/packageName&gt;\r\n                  &lt;noPackageLevelAnnotations&gt;true&lt;/noPackageLevelAnnotations&gt;\r\n                &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java","body":"<p>You could change the approach a bit and try my example, which worked for me:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.6&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;com.example.project&lt;/groupId&gt;\n  &lt;artifactId&gt;awi&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;name&gt;awi&lt;/name&gt;\n  &lt;description&gt;awi&lt;/description&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n      &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;!-- those dependencies down here are relevant --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n      &lt;version&gt;4.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;exampleName&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;xjc&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;xjc&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n            &lt;configuration&gt;\n              &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\n              &lt;sources&gt;\n                &lt;source&gt;${project.basedir}/src/main/resources/wsdl&lt;/source&gt;\n              &lt;/sources&gt;\n              &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\n              &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n              &lt;packageName&gt;com.example.soap.objects&lt;/packageName&gt;\n              &lt;noPackageLevelAnnotations&gt;true&lt;/noPackageLevelAnnotations&gt;\n            &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":2432712,"reputation":1113,"user_id":2123288,"accept_rate":22,"display_name":"user2123288"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686068862,"creation_date":1668451753,"question_id":74436469,"body_markdown":"I&#39;m trying to generate the code from WSDL file with CXF in Maven. Currently using Java 19 which I&#39;d like to keep.\r\n\r\nMy plugin is configured with:\r\n\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceRoot&gt;${project.build.directory}/generated/cxf&lt;/sourceRoot&gt;\r\n                            &lt;wsdlOptions&gt;\r\n                                &lt;wsdlOption&gt;\r\n                                    &lt;wsdl&gt;${basedir}/src/main/wsdl/sample.wsdl&lt;/wsdl&gt;\r\n                                &lt;/wsdlOption&gt;\r\n                            &lt;/wsdlOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;4.0.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n                        &lt;version&gt;4.0.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                    &lt;!--dependency&gt;\r\n                        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                        &lt;version&gt;4.0.1&lt;/version&gt;\r\n                    &lt;/dependency--&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nAnd always get error:\r\n\r\n[ERROR] Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java (default) on project customsx: Execution default of goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java failed: A required class was missing while executing org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java: **javax/xml/bind/annotation/adapters/HexBinaryAdapter**\r\n\r\n\r\nI&#39;m familiar with the bind-api removal in Java 11, and always was able to solve usual JAXB troubles using jakarta libs.\r\nIn this particular case the error seems to come from wsdl2java itself. If I do not set the jakarta dependencies the error is exclusively on javax.xml.bind.annotation as expected. If I add the dependency the error is now on HexBinaryAdapter, which I can&#39;t seem able to solve.\r\n\r\nAny ideas ?","title":"Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java","body":"<p>I'm trying to generate the code from WSDL file with CXF in Maven. Currently using Java 19 which I'd like to keep.</p>\n<p>My plugin is configured with:</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceRoot&gt;${project.build.directory}/generated/cxf&lt;/sourceRoot&gt;\n                            &lt;wsdlOptions&gt;\n                                &lt;wsdlOption&gt;\n                                    &lt;wsdl&gt;${basedir}/src/main/wsdl/sample.wsdl&lt;/wsdl&gt;\n                                &lt;/wsdlOption&gt;\n                            &lt;/wsdlOptions&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n                        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n                        &lt;version&gt;4.0.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n                        &lt;version&gt;4.0.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n\n                    &lt;!--dependency&gt;\n                        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n                        &lt;version&gt;4.0.1&lt;/version&gt;\n                    &lt;/dependency--&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>And always get error:</p>\n<p>[ERROR] Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java (default) on project customsx: Execution default of goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java failed: A required class was missing while executing org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java: <strong>javax/xml/bind/annotation/adapters/HexBinaryAdapter</strong></p>\n<p>I'm familiar with the bind-api removal in Java 11, and always was able to solve usual JAXB troubles using jakarta libs.\nIn this particular case the error seems to come from wsdl2java itself. If I do not set the jakarta dependencies the error is exclusively on javax.xml.bind.annotation as expected. If I add the dependency the error is now on HexBinaryAdapter, which I can't seem able to solve.</p>\n<p>Any ideas ?</p>\n"},{"tags":["java","hibernate","spring-data"],"comments":[{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":0,"creation_date":1642675466,"post_id":65980495,"comment_id":125136455,"body_markdown":"Didn&#39;t even work for findAll() for me, even after enabling the filter explicitly by `entityManager.unwrap(Session.class).enableFilter(&quot;myFilter&quot;).setFilterParam(&quot;myParam&quot;, &quot;myValue&quot;);` The code is accepted, the filter is enabled, I did it exactly like above. But it&#39;s just not working., the condition is not added to the query. Giving up on this. :(","body":"Didn&#39;t even work for findAll() for me, even after enabling the filter explicitly by <code>entityManager.unwrap(Session.class).enableFilter(&quot;myFilter&quot;)&zwnj;&#8203;.setFilterParam(&quot;myP&zwnj;&#8203;aram&quot;, &quot;myValue&quot;);</code> The code is accepted, the filter is enabled, I did it exactly like above. But it&#39;s just not working., the condition is not added to the query. Giving up on this. :("}],"answers":[{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1612105295,"creation_date":1612105295,"answer_id":65980582,"question_id":65980495,"body_markdown":"As it is stated in the hibernate [documentation](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-filter):\r\n\r\n&gt; Filters apply to entity queries, but not to direct fetching.\r\n\r\nBut under the hood `repository.findById(ID id)` method calls `EntityManager.find`.\r\nSo, this is expected behaviour.","title":"Hibernate @Filter does not work with Spring JpaRepository.findById method","body":"<p>As it is stated in the hibernate <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-filter\" rel=\"noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Filters apply to entity queries, but not to direct fetching.</p>\n</blockquote>\n<p>But under the hood <code>repository.findById(ID id)</code> method calls <code>EntityManager.find</code>.\nSo, this is expected behaviour.</p>\n"},{"tags":[],"owner":{"account_id":4321053,"reputation":31,"user_id":3529268,"display_name":"Saku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686068607,"creation_date":1686068607,"answer_id":76416621,"question_id":65980495,"body_markdown":"Hi there try this will apply any filter by bypass default springboot findById\r\n\r\n```java\r\n\r\n@Repository\r\npublic interface PharmacyRepository extends JpaRepository&lt;Pharmacy, Long&gt; {\r\n    \r\n\r\n   @Override\r\n    default Optional&lt;Pharmacy&gt; findById(Long id) {\r\n        return findOne(Example.of(Pharmacy.builder().id(id).build()));\r\n        // or with predicate\r\n    }\r\n}\r\n```\r\n\r\n","title":"Hibernate @Filter does not work with Spring JpaRepository.findById method","body":"<p>Hi there try this will apply any filter by bypass default springboot findById</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Repository\npublic interface PharmacyRepository extends JpaRepository&lt;Pharmacy, Long&gt; {\n    \n\n   @Override\n    default Optional&lt;Pharmacy&gt; findById(Long id) {\n        return findOne(Example.of(Pharmacy.builder().id(id).build()));\n        // or with predicate\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":459938,"reputation":4412,"user_id":860721,"accept_rate":69,"display_name":"Hossein Mobasher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3705,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":65980582,"answer_count":2,"score":8,"last_activity_date":1686068607,"creation_date":1612104761,"question_id":65980495,"body_markdown":"In order to create row-level authorization, I want to use `@Filter` and `@FilterDef` hibernate annotations in combination with `JpaRepository&lt;T, ID&gt;` interface of [spring-data][1]. Suppose that, we have a following entities:\r\n\r\n``` java\r\n@Entity\r\npublic class User {\r\n   @Id\r\n   private Long id;\r\n   private String name;\r\n    \r\n   @ManyToOne\r\n   private Pharmacy pharmacy;\r\n}\r\n    \r\n@Entity\r\npublic class Pharmacy {\r\n   @Id\r\n   private Long id;\r\n   private String name;\r\n}\r\n```\r\nI want to create authorization based on whom send requests to server. For this purpose, I&#39;ve added `@Filter` and `@FilterDef` annotations top of the `Pharmacy` entity. So, the pharmacy should be like below:\r\n\r\n``` java\r\n@Entity\r\n@FilterDef(name = &quot;pharmacyFilter&quot;, parameters = {@ParamDef(name = &quot;userId&quot;, type = &quot;long&quot;)})\r\n@Filters({\r\n   @Filter(name = &quot;pharmacyFilter&quot;, condition = &quot;id in (select user.pharmacy_id from user where user.id = :userId)&quot;)\r\n})\r\npublic class Pharmacy {\r\n   //...\r\n}\r\n```\r\nThe repository that I&#39;ve created to access database is one that seen below:\r\n\r\n``` java\r\n@Repository\r\npublic interface PharmacyRepository extends JpaRepository&lt;Pharmacy, Long&gt; {\r\n    \r\n}\r\n```\r\nWhen I make `pharmacyFilter` enabled, everything works fine and the filter applied on all queries. You can see the query generated for `repository.findAll()` as follows:\r\n\r\n``` sql\r\nselect pharmacy0_.id as id1_0_, pharmacy0_.name as name2_0_ from pharmacy pharmacy0_ where pharmacy0_.id in (select user.pharmacy_id from user where user.id = ?)\r\n```\r\nBut, the problem occurred when I want to try using `repository.findById(ID id)`. When I use the mentioned method, the filter won&#39;t applied to the final query and we will see the following sql in the terminal:\r\n\r\n``` sql\r\nselect pharmacy0_.id as id1_0_0_, pharmacy0_.name as name2_0_0_ from pharmacy pharmacy0_ where pharmacy0_.id=?\r\n```\r\nI guessed the problem is due to using id multiple times. One in `findById` and another in filter condition. But when I tried to create query using `session` object, this problem didn&#39;t occurred and output is desirable:\r\n\r\n``` sql\r\nselect pharmacy0_.id as id1_0_, pharmacy0_.name as name2_0_ from pharmacy pharmacy0_ where pharmacy0_.id in (select user.pharmacy_id from user where user.id = ?) and pharmacy0_.id=2\r\n```\r\nThe problem is resolved using the following approach, but what happens when we use the JpaRepository#findById default implementation?\r\n\r\n``` java\r\n@Query(value = &quot;from Pharmacy where id = :id&quot;)\r\nOptional&lt;Pharmacy&gt; findById(Long id);\r\n```\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\r\n\r\n","title":"Hibernate @Filter does not work with Spring JpaRepository.findById method","body":"<p>In order to create row-level authorization, I want to use <code>@Filter</code> and <code>@FilterDef</code> hibernate annotations in combination with <code>JpaRepository&lt;T, ID&gt;</code> interface of <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"noreferrer\">spring-data</a>. Suppose that, we have a following entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n   @Id\n   private Long id;\n   private String name;\n    \n   @ManyToOne\n   private Pharmacy pharmacy;\n}\n    \n@Entity\npublic class Pharmacy {\n   @Id\n   private Long id;\n   private String name;\n}\n</code></pre>\n<p>I want to create authorization based on whom send requests to server. For this purpose, I've added <code>@Filter</code> and <code>@FilterDef</code> annotations top of the <code>Pharmacy</code> entity. So, the pharmacy should be like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@FilterDef(name = &quot;pharmacyFilter&quot;, parameters = {@ParamDef(name = &quot;userId&quot;, type = &quot;long&quot;)})\n@Filters({\n   @Filter(name = &quot;pharmacyFilter&quot;, condition = &quot;id in (select user.pharmacy_id from user where user.id = :userId)&quot;)\n})\npublic class Pharmacy {\n   //...\n}\n</code></pre>\n<p>The repository that I've created to access database is one that seen below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface PharmacyRepository extends JpaRepository&lt;Pharmacy, Long&gt; {\n    \n}\n</code></pre>\n<p>When I make <code>pharmacyFilter</code> enabled, everything works fine and the filter applied on all queries. You can see the query generated for <code>repository.findAll()</code> as follows:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select pharmacy0_.id as id1_0_, pharmacy0_.name as name2_0_ from pharmacy pharmacy0_ where pharmacy0_.id in (select user.pharmacy_id from user where user.id = ?)\n</code></pre>\n<p>But, the problem occurred when I want to try using <code>repository.findById(ID id)</code>. When I use the mentioned method, the filter won't applied to the final query and we will see the following sql in the terminal:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select pharmacy0_.id as id1_0_0_, pharmacy0_.name as name2_0_0_ from pharmacy pharmacy0_ where pharmacy0_.id=?\n</code></pre>\n<p>I guessed the problem is due to using id multiple times. One in <code>findById</code> and another in filter condition. But when I tried to create query using <code>session</code> object, this problem didn't occurred and output is desirable:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select pharmacy0_.id as id1_0_, pharmacy0_.name as name2_0_ from pharmacy pharmacy0_ where pharmacy0_.id in (select user.pharmacy_id from user where user.id = ?) and pharmacy0_.id=2\n</code></pre>\n<p>The problem is resolved using the following approach, but what happens when we use the JpaRepository#findById default implementation?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;from Pharmacy where id = :id&quot;)\nOptional&lt;Pharmacy&gt; findById(Long id);\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","opencsv"],"answers":[{"tags":[],"owner":{"account_id":7258992,"reputation":2411,"user_id":5536516,"accept_rate":86,"display_name":"nyg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685751374,"creation_date":1685751374,"answer_id":76394097,"question_id":65882442,"body_markdown":"I really doubt for that to be possible. Looking at the code of `StatefulBeanToCsv`, nothing is written if the list is empty.\r\n\r\n    public void write(List&lt;T&gt; beans) throws CsvDataTypeMismatchException, CsvRequiredFieldEmptyException {\r\n        if (CollectionUtils.isNotEmpty(beans)) {\r\n            write(beans.iterator());\r\n        }\r\n    }","title":"OpenCSV doesn&#39;t write headers in case of empty bean list","body":"<p>I really doubt for that to be possible. Looking at the code of <code>StatefulBeanToCsv</code>, nothing is written if the list is empty.</p>\n<pre><code>public void write(List&lt;T&gt; beans) throws CsvDataTypeMismatchException, CsvRequiredFieldEmptyException {\n    if (CollectionUtils.isNotEmpty(beans)) {\n        write(beans.iterator());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686068350,"creation_date":1686068350,"answer_id":76416591,"question_id":65882442,"body_markdown":"## If you don&#39;t mind an extra empty line after the header\r\n\r\nWe can \r\n- add an empty bean to the when the list is empty \r\n- override [`HeaderColumnNameMappingStrategy#transmuteBean`][1], which return empty array(empty line in csv) when the input is the empty bean.\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport com.opencsv.CSVWriter;\r\nimport com.opencsv.bean.CsvBindByName;\r\nimport com.opencsv.bean.HeaderColumnNameMappingStrategy;\r\nimport com.opencsv.bean.StatefulBeanToCsv;\r\nimport com.opencsv.bean.StatefulBeanToCsvBuilder;\r\nimport com.opencsv.exceptions.CsvChainedException;\r\nimport com.opencsv.exceptions.CsvException;\r\nimport com.opencsv.exceptions.CsvFieldAssignmentException;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.StringWriter;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class EmptyListButWriteHeader {\r\n\r\n    @Test\r\n    public void testOpenCsvEmptyBeanList() throws CsvException {\r\n        StringWriter sw = new StringWriter();\r\n\r\n        HeaderColumnNameMappingStrategy&lt;Bean1&gt; mappingStrategy = new HeaderColumnNameMappingStrategy&lt;&gt;() {\r\n            @Override\r\n            public String[] transmuteBean(Bean1 bean) throws CsvFieldAssignmentException, CsvChainedException {\r\n                // compare by reference to avoid other bean matches\r\n                if (bean == Bean1.EMPTY_LINE_INSTANCE) {\r\n                    return new String[0];\r\n                }\r\n                return super.transmuteBean(bean);\r\n            }\r\n        };\r\n        mappingStrategy.setType(Bean1.class);\r\n        StatefulBeanToCsv&lt;Bean1&gt; sbc = new StatefulBeanToCsvBuilder&lt;Bean1&gt;(sw)\r\n                .withLineEnd(CSVWriter.DEFAULT_LINE_END)\r\n                .withApplyQuotesToAll(false)\r\n                .withMappingStrategy(mappingStrategy)\r\n                .build();\r\n\r\n        List&lt;Bean1&gt; bean1s = new ArrayList&lt;&gt;();\r\n        if (bean1s.isEmpty()) {\r\n            // add empty line bean when list is empty\r\n            bean1s.add(Bean1.EMPTY_LINE_INSTANCE);\r\n        }\r\n        sbc.write(bean1s);\r\n\r\n        assertEquals(&quot;COLUMN1&quot; + CSVWriter.DEFAULT_LINE_END.repeat(2), sw.toString());\r\n    }\r\n}\r\n\r\nclass Bean1 {\r\n    public static final Bean1 EMPTY_LINE_INSTANCE = new Bean1();\r\n    @CsvBindByName(column = &quot;column1&quot;)\r\n    private String col1;\r\n\r\n    public String getCol1() {\r\n        return col1;\r\n    }\r\n\r\n    public void setCol1(String col1) {\r\n        this.col1 = col1;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/MappingStrategy.html#transmuteBean-T-","title":"OpenCSV doesn&#39;t write headers in case of empty bean list","body":"<h2>If you don't mind an extra empty line after the header</h2>\n<p>We can</p>\n<ul>\n<li>add an empty bean to the when the list is empty</li>\n<li>override <a href=\"https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/MappingStrategy.html#transmuteBean-T-\" rel=\"nofollow noreferrer\"><code>HeaderColumnNameMappingStrategy#transmuteBean</code></a>, which return empty array(empty line in csv) when the input is the empty bean.</li>\n</ul>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\nimport com.opencsv.CSVWriter;\nimport com.opencsv.bean.CsvBindByName;\nimport com.opencsv.bean.HeaderColumnNameMappingStrategy;\nimport com.opencsv.bean.StatefulBeanToCsv;\nimport com.opencsv.bean.StatefulBeanToCsvBuilder;\nimport com.opencsv.exceptions.CsvChainedException;\nimport com.opencsv.exceptions.CsvException;\nimport com.opencsv.exceptions.CsvFieldAssignmentException;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.StringWriter;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class EmptyListButWriteHeader {\n\n    @Test\n    public void testOpenCsvEmptyBeanList() throws CsvException {\n        StringWriter sw = new StringWriter();\n\n        HeaderColumnNameMappingStrategy&lt;Bean1&gt; mappingStrategy = new HeaderColumnNameMappingStrategy&lt;&gt;() {\n            @Override\n            public String[] transmuteBean(Bean1 bean) throws CsvFieldAssignmentException, CsvChainedException {\n                // compare by reference to avoid other bean matches\n                if (bean == Bean1.EMPTY_LINE_INSTANCE) {\n                    return new String[0];\n                }\n                return super.transmuteBean(bean);\n            }\n        };\n        mappingStrategy.setType(Bean1.class);\n        StatefulBeanToCsv&lt;Bean1&gt; sbc = new StatefulBeanToCsvBuilder&lt;Bean1&gt;(sw)\n                .withLineEnd(CSVWriter.DEFAULT_LINE_END)\n                .withApplyQuotesToAll(false)\n                .withMappingStrategy(mappingStrategy)\n                .build();\n\n        List&lt;Bean1&gt; bean1s = new ArrayList&lt;&gt;();\n        if (bean1s.isEmpty()) {\n            // add empty line bean when list is empty\n            bean1s.add(Bean1.EMPTY_LINE_INSTANCE);\n        }\n        sbc.write(bean1s);\n\n        assertEquals(&quot;COLUMN1&quot; + CSVWriter.DEFAULT_LINE_END.repeat(2), sw.toString());\n    }\n}\n\nclass Bean1 {\n    public static final Bean1 EMPTY_LINE_INSTANCE = new Bean1();\n    @CsvBindByName(column = &quot;column1&quot;)\n    private String col1;\n\n    public String getCol1() {\n        return col1;\n    }\n\n    public void setCol1(String col1) {\n        this.col1 = col1;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14164770,"reputation":103,"user_id":10233010,"display_name":"Jey350"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1686068350,"creation_date":1611568551,"question_id":65882442,"body_markdown":"When using opencsv with annotation and StatefulBeanToCsv, headers are not written when bean list is empty.\r\nI would assume this test successful but it&#39;s not.\r\n\r\n    private class bean1 {\r\n        @CsvBindByName(column = &quot;column1&quot;)\r\n        private String col1;\r\n\r\n        public String getCol1() {\r\n            return col1;\r\n        }\r\n\r\n        public void setCol1(String col1) {\r\n            this.col1 = col1;\r\n        }\r\n    }\r\n    \r\n    @Test\r\n    public void testOpenCsvEmptyBeanList() throws CsvException {\r\n        StringWriter sw = new StringWriter();\r\n        \r\n        StatefulBeanToCsv&lt;bean1&gt; sbc = new StatefulBeanToCsvBuilder&lt;bean1&gt;(sw)\r\n                .withLineEnd(CSVWriter.DEFAULT_LINE_END)\r\n                .build();\r\n        \r\n        // empty bean list\r\n        sbc.write(new ArrayList&lt;&gt;());\r\n        \r\n        assertEquals(&quot;column1&quot; + CSVWriter.DEFAULT_LINE_END, sw.toString());\r\n    }\r\n\r\nAny idea to make this test works ?\r\n","title":"OpenCSV doesn&#39;t write headers in case of empty bean list","body":"<p>When using opencsv with annotation and StatefulBeanToCsv, headers are not written when bean list is empty.\nI would assume this test successful but it's not.</p>\n<pre><code>private class bean1 {\n    @CsvBindByName(column = &quot;column1&quot;)\n    private String col1;\n\n    public String getCol1() {\n        return col1;\n    }\n\n    public void setCol1(String col1) {\n        this.col1 = col1;\n    }\n}\n\n@Test\npublic void testOpenCsvEmptyBeanList() throws CsvException {\n    StringWriter sw = new StringWriter();\n    \n    StatefulBeanToCsv&lt;bean1&gt; sbc = new StatefulBeanToCsvBuilder&lt;bean1&gt;(sw)\n            .withLineEnd(CSVWriter.DEFAULT_LINE_END)\n            .build();\n    \n    // empty bean list\n    sbc.write(new ArrayList&lt;&gt;());\n    \n    assertEquals(&quot;column1&quot; + CSVWriter.DEFAULT_LINE_END, sw.toString());\n}\n</code></pre>\n<p>Any idea to make this test works ?</p>\n"},{"tags":["java","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686067830,"creation_date":1686067830,"answer_id":76416524,"question_id":76406661,"body_markdown":"`option java_generic_services = true` is not related to gRPC. That&#39;s why you are getting RpcChannel. You can remove it.\r\n\r\nThe gRPC code generation is separate from protoc, using a custom plugin named protoc-gen-grpc-java. To use it you need the `compile-custom` goal for `protobuf-maven-plugin`.\r\n\r\nFrom the [grpc-java README](https://github.com/grpc/grpc-java/blob/master/README.md#generated-code):\r\n\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;0.6.1&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;protocArtifact&gt;com.google.protobuf:protoc:3.21.7:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\r\n        &lt;!-- IMPORTANT: --&gt;\r\n        &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n        &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.54.1:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;goal&gt;compile-custom&lt;/goal&gt; &lt;!-- IMPORTANT --&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"RpcChannel instead of io.grpc.Channel","body":"<p><code>option java_generic_services = true</code> is not related to gRPC. That's why you are getting RpcChannel. You can remove it.</p>\n<p>The gRPC code generation is separate from protoc, using a custom plugin named protoc-gen-grpc-java. To use it you need the <code>compile-custom</code> goal for <code>protobuf-maven-plugin</code>.</p>\n<p>From the <a href=\"https://github.com/grpc/grpc-java/blob/master/README.md#generated-code\" rel=\"nofollow noreferrer\">grpc-java README</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;0.6.1&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;protocArtifact&gt;com.google.protobuf:protoc:3.21.7:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\n        &lt;!-- IMPORTANT: --&gt;\n        &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n        &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.54.1:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\n      &lt;/configuration&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;goal&gt;compile-custom&lt;/goal&gt; &lt;!-- IMPORTANT --&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":7409932,"reputation":187,"user_id":5637611,"display_name":"Jorge Dieguez Perez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686067830,"creation_date":1685969905,"question_id":76406661,"body_markdown":"I&#39;m having issues with gRPC Java protobuf code generation. When I use the protobuf-maven-plugin to generate Java classes from my .proto files, it creates deprecated classes that use RpcChannel instead of io.grpc.Channel. I&#39;m using protobuf-maven-plugin version 0.6.1, protoc version 3.23.2, and grpc-java version 1.55.1.\r\n\r\nHere are the versions I&#39;m using:\r\n\r\nApache Maven 3.9.2\r\ngrpc-netty-shaded 1.55.1\r\ngrpc-protobuf 1.55.1\r\ngrpc-stub 1.55.1\r\nprotobuf-java 3.23.2\r\nJDK 11.0.19\r\nmacOS 13.4 on Apple Silicon architecture\r\nMy .proto file looks like this:\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\npackage agent;\r\n\r\noption java_multiple_files = true;\r\noption java_generic_services = true;\r\noption java_package = &quot;grpc&quot;;\r\noption java_outer_classname = &quot;AgentServerProto&quot;;\r\noption objc_class_prefix = &quot;Utm&quot;;\r\n\r\n// Service and message definitions omitted for brevity...\r\n```\r\n\r\nDespite setting option java_generic_services = true;, the generated Java code does not contain any of the expected service implementation base classes, like PanelServiceImplBase for my service definition.\r\n\r\nEven after updating the protoc version and following the appropriate steps for installation, I&#39;m still encountering this issue.\r\n\r\nCould someone provide guidance on what could be causing this issue and how to resolve it? Thank you in advance.\r\n\r\n\r\nI initially encountered the problem when trying to generate gRPC Java classes using the protobuf-maven-plugin. My expectation was to have classes generated that are up-to-date, using io.grpc.Channel instead of the deprecated RpcChannel. I was also expecting to see the service implementation base classes generated based on my .proto file.\r\n\r\nI even tried different versions of the protobuf-maven-plugin, java SDK, generate the code from a windows laptop","title":"RpcChannel instead of io.grpc.Channel","body":"<p>I'm having issues with gRPC Java protobuf code generation. When I use the protobuf-maven-plugin to generate Java classes from my .proto files, it creates deprecated classes that use RpcChannel instead of io.grpc.Channel. I'm using protobuf-maven-plugin version 0.6.1, protoc version 3.23.2, and grpc-java version 1.55.1.</p>\n<p>Here are the versions I'm using:</p>\n<p>Apache Maven 3.9.2\ngrpc-netty-shaded 1.55.1\ngrpc-protobuf 1.55.1\ngrpc-stub 1.55.1\nprotobuf-java 3.23.2\nJDK 11.0.19\nmacOS 13.4 on Apple Silicon architecture\nMy .proto file looks like this:</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage agent;\n\noption java_multiple_files = true;\noption java_generic_services = true;\noption java_package = &quot;grpc&quot;;\noption java_outer_classname = &quot;AgentServerProto&quot;;\noption objc_class_prefix = &quot;Utm&quot;;\n\n// Service and message definitions omitted for brevity...\n</code></pre>\n<p>Despite setting option java_generic_services = true;, the generated Java code does not contain any of the expected service implementation base classes, like PanelServiceImplBase for my service definition.</p>\n<p>Even after updating the protoc version and following the appropriate steps for installation, I'm still encountering this issue.</p>\n<p>Could someone provide guidance on what could be causing this issue and how to resolve it? Thank you in advance.</p>\n<p>I initially encountered the problem when trying to generate gRPC Java classes using the protobuf-maven-plugin. My expectation was to have classes generated that are up-to-date, using io.grpc.Channel instead of the deprecated RpcChannel. I was also expecting to see the service implementation base classes generated based on my .proto file.</p>\n<p>I even tried different versions of the protobuf-maven-plugin, java SDK, generate the code from a windows laptop</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9606,"page":386,"page_size":100}
